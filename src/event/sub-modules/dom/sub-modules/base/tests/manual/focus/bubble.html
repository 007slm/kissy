<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
<div id="o" style="border: 1px solid green" onmousedown="return false">
    o
</div>
<div tabindex="0" id="t2" style="height: 500px;border: 1px solid red;">
    <input type="text" id="t"/>


</div>
<script src="/kissy/build/seed.js"></script>
<!--<script src="http://a.tbcdn.cn/s/kissy/1.3.0/seed.js"></script>-->
<script>
    KISSY.use('event,dom', function (S, Event, DOM) {
        Event.on('#t2', 'focusin', function () {
            S.log('window focusin: ' + (document.activeElement.nodeName));
        });
        Event.on('#t2', 'focus', function () {
            S.log('t2 focus: ' + (document.activeElement.nodeName));
        });
        // order is wrong
        Event.on('#t', 'focus', function () {
            S.log('t focus');
        });
        DOM.unselectable('#o');
        Event.on('#o', 'click', function () {
            Event.fire(S.get('#t'),'focus');
            S.log('second fire focus');
            // only trigger currentTarget's focus handler if already focused
            Event.fire(S.get('#t'),'focus');
        });
    });
</script>
</body>
</html>