<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Slide - 有啊滚动新闻条</title>


<script src="../../../build/kissy.js"></script>
<script src="../../../build/datalazyload.js"></script>

<script src="../base.js"></script>
<script src="../aria.js"></script>
<script src="../accordion/base.js"></script>
<script src="../accordion/aria.js"></script>
<script src="../autoplay.js"></script>
<script src="../autorender.js"></script>
<script src="../carousel/base.js"></script>
<script src="../carousel/aria.js"></script>
<script src="../effect.js"></script>
<script src="../circular.js"></script>
<script src="../countdown.js"></script>
<script src="../lazyload.js"></script>
<script src="../slide/base.js"></script>
<script src="../slide/aria.js"></script>
<script src="../tabs/base.js"></script>
<script src="../tabs/aria.js"></script>
<script src="../../switchable.js"></script>
<link rel="stylesheet" href="../../../build/cssreset/reset-min.css"/>
<style>
    body {
        padding: 20px 50px 50px;
    }

    h1 {
        margin: 30px 0 10px;
        font-size: 20px;
        font-weight: bold;
    }

    h2 {
        margin: 30px 0 10px;
        font-size: 17px;
        font-weight: bold;
    }

    .loading {
        background: #EBF5FA url(../assets/loading.gif) no-repeat 50% 50%;
    }

    p.code-switch {
        color: #09f;
        cursor: pointer;
        margin-top: 10px;
    }

    pre.code {
        color: #444;
        cursor: auto;
        border-left: 2px solid #7F96AA;
        margin-top: 5px;
        padding: 0 10px 20px 10px;
        font-size: 14px;
    }

    .list li {
        margin-left: 10px;
        margin-top: 5px;
        margin-bottom: 5px;
        list-style-type: circle;
    }

</style>
</head>
<body>
<h1>Carousel - 旋转木马</h1>
<style>
    .scrollable {
        position: relative;
        width: 820px;
    }

    .scrollable .prev, .scrollable .next {
        position: absolute;
        top: 50px;
        color: #666;
        cursor: pointer;
    }

    .scrollable .prev {
        left: 10px;
    }

    .scrollable .next {
        right: 10px;
    }

    .scrollable .disable {
        color: #ddd;
        cursor: default;
    }

    .scrollable .ks-switchable-nav {
        position: absolute;
        right: 30px;
        top: -10px;
    }

    .scrollable .ks-switchable-nav li {
        float: left;
        padding: 5px;
        font-size: 18px;
        cursor: pointer;
    }

    .scrollable .ks-switchable-nav li.ks-active {
        color: #C8282B;
    }

    .scroller {
        position: relative;
        width: 680px;
        height: 120px;
        border: 1px solid #ccc;
        background-color: #F9F9F9;
        margin: auto;
        overflow: hidden;
    }

    .scroller .ks-switchable-content img {
        float: left;
        width: 100px;
        height: 75px;
        padding: 2px;
        margin: 20px 15px;
        background-color: #fff;
        border: 1px solid #ccc;
        display: inline !important; /* fix ie6 双边距 bug */
    }
</style>
<h2>键盘快捷键</h2>

<ul class="list">
    <li><strong>当焦点在上一页 / 下一页时</strong>
        <ul>
            <li>
                enter/space 旋转到上一屏下一屏，并且焦点转移到当前屏的第一个面板
            </li>
        </ul>
    </li>

    <li>
        <strong> 当焦点在导航圆点时</strong>
        <ul>
            <li>
                上/左键：焦点转移到上一个导航圆点
            </li>
            <li>
                下/右键：焦点转移到下一个导航圆点
            </li>
            <li>
                enter/space: 旋转到当前导航圆点代表的滚动屏，并且焦点转移到当前屏的第一个面板
            </li>
        </ul>
    </li>


    <li>
        <strong>当焦点在底部滚动屏某个面板时</strong>
        <ul>
            <li>
                上/左键：焦点转移到上一个面板，必要时滚屏
            </li>
            <li>
                下/右键：焦点转移到下一个面板，必要时滚屏
            </li>
            <li>
                enter/space: 触发 itemSelect 事件，item 为当前面板
            </li>
        </ul>
    </li>
</ul>

<div id="demo4" class="section scrollable">
    <span id="scroller-prev" class="prev disable">&lsaquo; 上一页</span>
    <span id="scroller-next" class="next">下一页 &rsaquo;</span>
    <div class="scroller">
        <div class="ks-switchable-content">
            <!-- 1-5 -->
            <img alt="" src="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" src="http://img02.taobaocdn.com/tps/i2/T1.XGaXalnXXXXXXXX-110-135.png"/>
            <img alt="" src="http://img04.taobaocdn.com/tps/i4/T1oEmXXmVoXXXXXXXX-110-135.png"/>
            <img alt="" src="http://img04.taobaocdn.com/tps/i4/T1oEmXXmVoXXXXXXXX-110-135.png"/>
            <img alt="" src="http://img03.taobaocdn.com/tps/i3/T1Hm1XXipvXXXXXXXX-110-135.png"/>
            <!-- 5-10 -->
            <img id='carousel_lazy1' alt=""
                 data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <!-- 10-15 -->
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
            <img alt="" data-ks-lazyload-custom="http://img02.taobaocdn.com/tps/i2/T1l_yXXiFyXXXXXXXX-110-135.png"/>
        </div>
        <ul class="ks-switchable-nav">
            <li class="ks-active">&bull;</li>
            <li>&bull;</li>
            <li>&bull;</li>
        </ul>
    </div>
</div>
<script>
    KISSY.use("event,switchable", function(S, Event) {
        var Carousel = S.Carousel;

        S.ready(function(S) {
            var carousel = new Carousel('#demo4', {
                effect: 'scrollx',
                easing: 'easeOutStrong',
                steps: 5,
                viewSize: [680],
                circular: false,
                prevBtnCls: 'prev',
                nextBtnCls: 'next',
                disableBtnCls: 'disable',
                lazyDataType: 'img-src'
            });

            carousel.on('itemSelected', function(ev) {
                alert('I am selected. src = ' + ev.item.src);
            });

            window.carousel = carousel;
        });
    });
</script>
<p class="code-switch">显示源码</p>

<script>
    KISSY.use("ua,dom,event,node", function(S, UA, DOM, Event, Node) {
        var NodeList = Node.List,

                SHOW_CODE = '显示源码', HIDE_CODE = '隐藏源码';

        NodeList.all('p.code-switch').each(function(p) {
            p.on('click', function() {
                var showing = (p.text() === SHOW_CODE),
                        next = p.next(),
                        pre = next;

                if (next[0].nodeName !== 'PRE') {
                    pre = Node('<pre>');

                    pre.attr('class', 'code')
                            .html(p.prev().html());

                    if (UA['ie']) {
                        pre.html(pre.html() + '<br />// 请用非 ie 内核浏览器查看。');
                    }

                    DOM.insertAfter(pre[0], p[0]);
                }

                pre.css('display', showing ? 'block' : 'none');
                p.html(showing ? HIDE_CODE : SHOW_CODE);
            });
        });
    });
</script>
</body>
</html>