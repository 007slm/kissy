<textarea id='t' style='width:100px;height:100px;word-wrap:break-word;'>
</textarea>
<br/>
<!--
    不能加，会把 pre-wrap 的空格也断行
    word-break:break-all;
    -->
<div id='t2' style='overflow-x:hidden;overflow-y:auto;
    word-wrap:break-word;'>
</div>
<script src='../../../build/kissy.js'></script>
<script>
    var S = KISSY, DOM = S.DOM, UA = S.UA;

    var t = DOM.get("#t");
    var t2 = DOM.get("#t2");
    var b = DOM.get("#b");
    var m = DOM.get("#m");

    var styles = ['fontFamily', 'fontSize', 'fontWeight', 'fontVariant', 'fontStyle',
        'paddingLeft', 'paddingTop', 'paddingBottom', 'paddingRight',
        'marginLeft', 'marginTop', 'marginBottom', 'marginRight',
        'borderLeftColor', 'borderTopColor', 'borderBottomColor', 'borderRightColor',
        'borderLeftStyle', 'borderTopStyle', 'borderBottomStyle', 'borderRightStyle',
        'borderLeftWidth', 'borderTopWidth', 'borderBottomWidth', 'borderRightWidth',
        'line-height', 'outline', 'width', 'height'];

    S.each(styles, function (s) {
        DOM.css(t2, s, DOM.css(t, s));
    });

    //textarea 连续空格，firefox 自动换行，chrome 不自动换行
    // "&nbsp;" firefox 下问题：一二三四五， 六
    // &nbsp; chrome 自动换行
    // pre : firefox 不自动换行，chrome 自动换行
    // pre-wrap 问题：i think it issss to hard to understa nd to what yo
    var empty = '<span style="white-space:pre-wrap;"> </span>'; // 空格不换行

    t.onkeyup = function () {
        t2.innerHTML = t.value.replace(/\n/g, "<br/>").replace(/\s/g, empty);
    };

</script>