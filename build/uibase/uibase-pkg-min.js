/*
Copyright 2010, KISSY UI Library v1.1.6
MIT Licensed
build time: Nov 30 13:21
*/
KISSY.add("uibase",function(b){function d(h){for(var g=this.constructor,i=[],j,l;g;){e.__addAttrs(this,g[c]);l=[];if(j=g.__ks_exts)l=j.concat();if(j=g.prototype.initializer)l.push(j);l.length&&i.push.apply(i,l.reverse());if(h&&h[f]&&g.HTML_PARSER)if(h[f]=b.one(h[f])){l=h[f];j=g.HTML_PARSER;var o=void 0,m=void 0;for(o in j)if(j.hasOwnProperty(o)){m=j[o];if(b.isFunction(m))this.__set(o,m.call(this,l));else if(b.isString(m))this.__set(o,l.one(m));else b.isArray(m)&&m[0]&&this.__set(o,l.all(m[0]))}}g=
g.superclass&&g.superclass.constructor}e.__initAttrs(this,h);for(g=i.length-1;g>=0;g--)i[g]&&i[g].call(this,h);h&&h.autoRender&&this.render()}var f="srcNode",c="ATTRS",a=b.Attribute,e=b.Base,k=a.__capitalFirst,n=function(){};d.HTML_PARSER={};b.augment(d,a,{render:function(){this._renderUI();this.fire("renderUI");this.renderUI();this._bindUI();this.fire("bindUI");this.bindUI();this._syncUI();this.fire("syncUI");this.syncUI()},_renderUI:n,renderUI:n,_bindUI:function(){var h=this,g=h.__getDefAttrs(),
i,j;for(i in g)if(g.hasOwnProperty(i)){j="_uiSet"+k(i);h[j]&&function(l,o){h.on("after"+k(l)+"Change",function(m){h[o](m.newVal,m)})}(i,j)}},bindUI:n,_syncUI:function(){var h=this.__getDefAttrs(),g;for(g in h)if(h.hasOwnProperty(g)){var i="_uiSet"+k(g);this[i]&&this[i](this.get(g))}},syncUI:n,destroy:function(){for(var h=this.constructor,g,i,j;h;){(i=h.prototype.destructor)&&i.apply(this);if(g=h.__ks_exts)for(j=g.length-1;j>=0;j--)(i=g[j]&&g[j].prototype.__destructor)&&i.apply(this);h=h.superclass&&
h.superclass.constructor}this.fire("destroy");this.detach()}});d.create=function(h,g,i,j){function l(){d.apply(this,arguments)}if(b.isArray(h)){j=i;i=g;g=h;h=d}h=h||d;b.extend(l,h,i,j);if(g){l.__ks_exts=g;b.each(g,function(o){b.each([c,"HTML_PARSER"],function(m){if(o[m]){l[m]=l[m]||{};b.mix(l[m],o[m],false)}});b.augment(l,o,false)})}return l};b.UIBase=d});
KISSY.add("uibase-align",function(b){function d(){}function f(a,e){var k=e.charAt(0),n=e.charAt(1),h,g,i,j;if(a){a=b.one(a);h=a.offset();g=a[0].offsetWidth;i=a[0].offsetHeight}else{h={left:c.scrollLeft(),top:c.scrollTop()};g=c.viewportWidth();i=c.viewportHeight()}j=h.left;h=h.top;if(k==="c")h+=i/2;else if(k==="b")h+=i;if(n==="c")j+=g/2;else if(n==="r")j+=g;return{left:j,top:h}}var c=b.DOM;b.mix(d,{TL:"tl",TC:"tc",TR:"tr",CL:"cl",CC:"cc",CR:"cr",BL:"bl",BC:"bc",BR:"br"});d.ATTRS={align:{}};d.prototype=
{_uiSetAlign:function(a){b.isPlainObject(a)&&this.align(a.node,a.points,a.offset)},align:function(a,e,k){var n,h=this.get("el");k=k||[0,0];n=c.offset(h);a=f(a,e[0]);e=f(h,e[1]);e=[e.left-a.left,e.top-a.top];this.set("xy",[n.left-e[0]+ +k[0],n.top-e[1]+ +k[1]])},center:function(a){this.set("align",{node:a,points:[d.CC,d.CC],offset:[0,0]})}};b.UIBase.Align=d});
KISSY.add("uibase-box",function(b){function d(){this.on("renderUI",this._renderUIBox)}var f=document,c=b.Node;d.ATTRS={container:{setter:function(a){if(b.isString(a))return b.one(a)}},containerCls:{},containerStyle:{},width:{},height:{},html:{value:false}};d.HTML_PARSER={container:function(a){return a}};d.prototype={_renderUIBox:function(){var a=b.one(this.get("render")||f.body),e=this.get("container");if(!e){e=new c("<div>");a.prepend(e);this.set("container",e)}},_uiSetContainerCls:function(a){a&&
this.get("container").addClass(a)},_uiSetContainerStyle:function(a){a&&this.get("container").css(a)},_uiSetWidth:function(a){a&&this.get("container").width(a)},_uiSetHeight:function(a){a&&this.get("container").height(a)},_uiSetHtml:function(a){a!==false&&this.get("container").html(a)},__destructor:function(){var a=this.get("container");if(a){a.detach();a.remove()}}};b.UIBase.Box=d});
KISSY.add("ext-overlay-close",function(b){function d(){this.on("renderUI",this._rendUICloseExt,this);this.on("bindUI",this._bindUICloseExt,this);this.on("syncUI",this._syncUICloseExt,this)}b.namespace("Ext");var f=b.Node;d.ATTRS={closable:{value:true},closeBtn:{}};d.HTML_PARSER={closeBtn:".ks-ext-close"};d.prototype={_syncUICloseExt:function(){},_uiSetClosable:function(c){var a=this.get("closeBtn");if(a)c?a.show():a.hide()},_rendUICloseExt:function(){var c=this.get("closeBtn"),a=this.get("contentEl");
if(!c&&a){c=(new f("<a href='#' class='ks-ext-close'><span class='ks-ext-close-x'>X</span></a>")).appendTo(a);this.set("closeBtn",c)}},_bindUICloseExt:function(){var c=this,a=c.get("closeBtn");a&&a.on("click",function(e){c.hide();e.halt()})},__destructor:function(){var c=this.get("closeBtn");c&&c.detach()}};b.Ext.Close=d});
KISSY.add("ext-constrain",function(b){function d(){this.on("bindUI",this._bindUIConstrain,this);this.on("renderUI",this._renderUIConstrain,this);this.on("syncUI",this._syncUIConstrain,this)}function f(a){var e;if(!a)return e;var k=this.get("el");if(a!==true){a=b.one(a);e=a.offset();b.mix(e,{maxLeft:e.left+a[0].offsetWidth-k[0].offsetWidth,maxTop:e.top+a[0].offsetHeight-k[0].offsetHeight})}else{a=document.documentElement.clientWidth;e={left:c.scrollLeft(),top:c.scrollTop()};b.mix(e,{maxLeft:e.left+
a-k[0].offsetWidth,maxTop:e.top+c.viewportHeight()-k[0].offsetHeight})}return e}b.namespace("Ext");var c=b.DOM;d.ATTRS={constrain:{value:false}};d.prototype={_bindUIConstrain:function(){},_renderUIConstrain:function(){var a=this,e=a.getDefAttrs(),k=e.x;e=e.y;var n=k.setter,h=e.setter;k.setter=function(g){var i=n&&n(g);if(i===undefined)i=g;if(!a.get("constrain"))return i;g=f.call(a,a.get("constrain"));return Math.min(Math.max(i,g.left),g.maxLeft)};e.setter=function(g){var i=h&&h(g);if(i===undefined)i=
g;if(!a.get("constrain"))return i;g=f.call(a,a.get("constrain"));return Math.min(Math.max(i,g.top),g.maxTop)};a.addAttr("x",k);a.addAttr("y",e)},_syncUIConstrain:function(){},__destructor:function(){}};b.Ext.Constrain=d});
KISSY.add("ext-contentbox",function(b){function d(){this.on("renderUI",this._renderUIContentBox,this);this.on("syncUI",this._syncUIContentBox,this);this.on("bindUI",this._bindUIContentBox,this)}b.namespace("Ext");var f=b.Node;d.ATTRS={contentEl:{},content:{}};d.HTML_PARSER={contentEl:".ks-contentbox"};d.prototype={_syncUIContentBox:function(){},_bindUIContentBox:function(){},_renderUIContentBox:function(){var c=this.get("contentEl"),a=this.get("el");if(!c){c=(new f("<div class='ks-contentbox'>")).appendTo(a);
this.set("contentEl",c)}},_uiSetContent:function(c){c!==undefined&&this.get("contentEl").html(c)},__destructor:function(){}};b.Ext.ContentBox=d});
KISSY.add("ext-drag",function(b){function d(){this.on("bindUI",this._bindUIDragExt,this);this.on("renderUI",this._renderUIDragExt,this);this.on("syncUIUI",this._syncUIDragExt,this)}b.namespace("Ext");d.ATTRS={handlers:{value:[]},draggable:{value:true}};d.prototype={_uiSetHandlers:function(f){f&&f.length>0&&this.__drag.set("handlers",f)},_syncUIDragExt:function(){},_renderUIDragExt:function(){},_bindUIDragExt:function(){var f=this.get("el");this.__drag=new b.Draggable({node:f,handlers:this.get("handlers")})},
_uiSetDraggable:function(f){var c=this.__drag;if(f){c.detach("drag");c.on("drag",this._dragExtAction,this)}else c.detach("drag")},_dragExtAction:function(f){this.set("xy",[f.left,f.top])},__destructor:function(){var f=this.__drag;f&&f.destroy()}};b.Ext.Drag=d});
KISSY.add("ext-loading",function(b){function d(){}b.namespace("Ext");d.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new b.Node("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var f=this._loadingExtEl;f&&f.hide()}};b.Ext.Loading=d});
KISSY.add("ext-mask",function(b){function d(){this.on("bindUI",this._bindUIMask,this);this.on("renderUI",this._renderUIMask,this);this.on("syncUI",this._syncUIMask,this)}b.namespace("Ext");var f,c=b.UA,a=0;d.ATTRS={mask:{value:false}};d.prototype={_bindUIMask:function(){},_renderUIMask:function(){},_syncUIMask:function(){},_uiSetMask:function(e){if(e){this.on("show",this._maskExtShow,this);this.on("hide",this._maskExtHide,this)}else{this.detach("show",this._maskExtShow,this);this.detach("hide",this._maskExtHide,
this)}},_maskExtShow:function(){if(!f){f=(new b.Node("<div class='ks-ext-mask'>")).prependTo(document.body);f.css({position:"absolute",left:0,top:0,width:"100%",height:b.DOM.docHeight()});c.ie==6&&f.append("<iframe style='width:100%;height:expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'>")}f.css({"z-index":this.get("zIndex")-1});a++;f.show()},_maskExtHide:function(){a--;if(a<=0)a=0;a||f&&f.hide()},__destructor:function(){}};b.Ext.Mask=d});
KISSY.add("ext-position",function(b){function d(){this.on("bindUI",this._bindUIPosition,this);this.on("renderUI",this._renderUIPosition,this);this.on("syncUI",this._syncUIPosition,this)}b.namespace("Ext");var f=document,c=b.Event;d.ATTRS={x:{},y:{},xy:{setter:function(a){var e=b.makeArray(a);if(e.length){e[0]&&this.set("x",e[0]);e[1]&&this.set("y",e[1])}return a}},zIndex:{value:9999},visible:{value:undefined}};d.prototype={_syncUIPosition:function(){},_renderUIPosition:function(){this.get("el").addClass("ks-ext-position");
this.get("el").css("display","")},_bindUIPosition:function(){},_uiSetZIndex:function(a){a!==undefined&&this.get("el").css("z-index",a)},_uiSetX:function(a){a!==undefined&&this.get("el").offset({left:a})},_uiSetY:function(a){a!==undefined&&this.get("el").offset({top:a})},_uiSetVisible:function(a){if(a!==undefined){this.get("el").css("visibility",a?"visible":"hidden");this[a?"_bindKey":"_unbindKey"]();this.fire(a?"show":"hide")}},_bindKey:function(){c.on(f,"keydown",this._esc,this)},_unbindKey:function(){c.remove(f,
"keydown",this._esc,this)},_esc:function(a){a.keyCode===27&&this.hide()},move:function(a,e){if(b.isArray(a)){e=a[1];a=a[0]}this.set("xy",[a,e])},show:function(){this._firstShow()},_firstShow:function(){this.renderer();this._realShow();this._firstShow=this._realShow},_realShow:function(){this.set("visible",true)},hide:function(){this.set("visible",false)},__destructor:function(){}};b.Ext.Position=d});
KISSY.add("ext-shim",function(b){function d(){this.on("renderUI",this._renderUIShimExt,this);this.on("bindUI",this._bindUIShimExt,this);this.on("syncUI",this._syncUIShimExt,this)}b.namespace("Ext");var f=b.Node;d.prototype={_syncUIShimExt:function(){},_bindUIShimExt:function(){},_renderUIShimExt:function(){var c=this.get("el"),a=new f("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'>");
c.prepend(a)},__destructor:function(){}};b.Ext.Shim=d});
KISSY.add("ext-stdmod",function(b){function d(){this.on("renderUI",this._renderUIStdMod,this);this.on("syncUI",this._syncUIStdMod,this);this.on("bindUI",this._bindUIStdMod,this)}b.namespace("Ext");var f=b.Node;d.ATTRS={header:{},body:{},footer:{},bodyStyle:{},headerContent:{value:false},bodyContent:{value:false},footerContent:{value:false}};d.HTML_PARSER={header:".ks-stdmod-header",body:".ks-stdmod-body",footer:".ks-stdmod-footer"};d.prototype={_bindUIStdMod:function(){},_syncUIStdMod:function(){},
_setStdModContent:function(c,a){if(a!==false)if(b.isString(a))this.get(c).html(a);else{this.get(c).html("");this.get(c).append(a)}},_uiSetBodyStyle:function(c){c!==undefined&&this.get("body").css(c)},_uiSetBodyContent:function(c){this._setStdModContent("body",c)},_uiSetHeaderContent:function(c){this._setStdModContent("header",c)},_uiSetFooterContent:function(c){this._setStdModContent("footer",c)},_renderUIStdMod:function(){var c=this.get("contentEl"),a=this.get("header"),e=this.get("body"),k=this.get("footer");
this.get("headerContent");this.get("bodyContent");this.get("footerContent");if(!a){a=(new f("<div class='ks-stdmod-header'>")).appendTo(c);this.set("header",a)}if(!e){e=(new f("<div class='ks-stdmod-body'>")).appendTo(c);this.set("body",e)}if(!k){k=(new f("<div class='ks-stdmod-footer'>")).appendTo(c);this.set("footer",k)}},__destructor:function(){}};b.Ext.StdMod=d});
