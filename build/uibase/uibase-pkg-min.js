/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("uibase/align",function(c,h){function b(){}function e(d,a){var g=c.require("node/node"),k=a.charAt(0),l=a.charAt(1),f,i,j;if(d){d=g.one(d);f=d.offset();g=d[0].offsetWidth;i=d[0].offsetHeight}else{f={left:h.scrollLeft(),top:h.scrollTop()};g=h.viewportWidth();i=h.viewportHeight()}j=f.left;f=f.top;if(k==="c")f+=i/2;else if(k==="b")f+=i;if(l==="c")j+=g/2;else if(l==="r")j+=g;return{left:j,top:f}}c.mix(b,{TL:"tl",TC:"tc",TR:"tr",CL:"cl",CC:"cc",CR:"cr",BL:"bl",BC:"bc",BR:"br"});b.ATTRS={align:{}};
b.prototype={_uiSetAlign:function(d){c.isPlainObject(d)&&this.align(d.node,d.points,d.offset)},align:function(d,a,g){var k,l=(this.get("view")||this).get("el");g=g||[0,0];k=l.offset();d=e(d,a[0]);a=e(l,a[1]);a=[a.left-d.left,a.top-d.top];k=[k.left-a[0]+ +g[0],k.top-a[1]+ +g[1]];this.set("x",k[0]);this.set("y",k[1])},center:function(d){this.set("align",{node:d,points:[b.CC,b.CC],offset:[0,0]})}};return b},{requires:["dom"]});
KISSY.add("uibase/base",function(c,h){function b(f){h.apply(this,arguments);for(var i=this.constructor;i;){if(f&&f[a]&&i.HTML_PARSER)if(f[a]=g.one(f[a])){var j=f[a],m=i.HTML_PARSER,n=void 0,o=void 0;for(n in m)if(m.hasOwnProperty(n)){o=m[n];if(c.isFunction(o))this.__set(n,o.call(this,j));else if(c.isString(o))this.__set(n,j.one(o));else c.isArray(o)&&o[0]&&this.__set(n,j.all(o[0]))}}i=i.superclass&&i.superclass.constructor}e(this,"initializer","constructor");f&&f.autoRender&&this.render()}function e(f,
i,j){for(var m=f.constructor,n=[],o,p,s,r;m;){r=[];if(s=m.__ks_exts)for(var q=0;q<s.length;q++)if(o=s[q]){if(j!="constructor")o=o.prototype.hasOwnProperty(j)?o.prototype[j]:null;o&&r.push(o)}if(m.prototype.hasOwnProperty(i)&&(p=m.prototype[i]))r.push(p);r.length&&n.push.apply(n,r.reverse());m=m.superclass&&m.superclass.constructor}for(q=n.length-1;q>=0;q--)n[q]&&n[q].call(f)}function d(f,i){if(!i)return f;for(var j in i)if(c.isObject(i[j])&&c.isObject(f[j]))d(f[j],i[j]);else j in f||(f[j]=i[j])}var a=
"srcNode",g=c.require("node/node"),k=c.require("base/attribute").__capitalFirst,l=function(){};b.HTML_PARSER={};b.ATTRS={render:{valueFn:function(){return document.body},setter:function(f){if(c.isString(f))return g.one(f)}},rendered:{value:false}};c.extend(b,h,{render:function(){if(!this.get("rendered")){this._renderUI();this.fire("renderUI");e(this,"renderUI","__renderUI");this.fire("afterRenderUI");this._bindUI();this.fire("bindUI");e(this,"bindUI","__bindUI");this.fire("afterBindUI");this._syncUI();
this.fire("syncUI");e(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.set("rendered",true)}},_renderUI:l,renderUI:l,_bindUI:function(){var f=this,i=f.__attrs,j,m;for(j in i)if(i.hasOwnProperty(j)){m="_uiSet"+k(j);f[m]&&function(n,o){f.on("after"+k(n)+"Change",function(p){f[o](p.newVal,p)})}(j,m)}},bindUI:l,_syncUI:function(){var f=this.__getDefAttrs(),i;for(i in f)if(f.hasOwnProperty(i)){var j="_uiSet"+k(i);this[j]&&this.get(i)!==undefined&&this[j](this.get(i))}},syncUI:l,destroy:function(){for(var f=
this.constructor,i,j,m;f;){(j=f.prototype.destructor)&&j.apply(this);if(i=f.__ks_exts)for(m=i.length-1;m>=0;m--)(j=i[m]&&i[m].prototype.__destructor)&&j.apply(this);f=f.superclass&&f.superclass.constructor}this.fire("destroy");this.detach()}});b.create=function(f,i,j,m){function n(){b.apply(this,arguments)}if(c.isArray(f)){m=j;j=i;i=f;f=b}f=f||b;if(c.isObject(i)){m=j;j=i;i=[]}c.extend(n,f,j,m);if(i){n.__ks_exts=i;c.each(i,function(o){if(o){c.each(["ATTRS","HTML_PARSER"],function(p){if(o[p]){n[p]=
n[p]||{};d(n[p],o[p])}});c.augment(n,o,false)}})}return n};return b},{requires:["base","dom","node"]});KISSY.add("uibase/box",function(){function c(){}c.ATTRS={html:{view:true},width:{view:true},height:{view:true},elCls:{view:true},elStyle:{view:true},elAttrs:{view:true},elOrder:{},el:{getter:function(){return this.get("view")&&this.get("view").get("el")}}};c.prototype={};return c});
KISSY.add("uibase/boxrender",function(c,h){function b(){}function e(d,a,g,k,l,f){a=a||{};if(g)a.width=g;if(k)a.height=k;g="";for(var i in a)if(a.hasOwnProperty(i))g+=i+":"+a[i]+";";a="";for(var j in f)if(f.hasOwnProperty(j))a+=" "+j+"='"+f[j]+"' ";return"<"+l+(g?" style='"+g+"' ":"")+a+(d?" class='"+d+"' ":"")+">"}c.mix(b,{APPEND:1,INSERT:0});b.ATTRS={el:{setter:function(d){var a=c.require("node/node");if(c.isString(d))return a.one(d)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},
elAttrs:{},elOrder:{value:1},html:{}};b.construct=e;b.HTML_PARSER={el:function(d){return d}};b.prototype={__renderUI:function(){var d=this.get("render"),a=this.get("el");d=new h(d);if(!a){a=new h(e(this.get("elCls"),this.get("elStyle"),this.get("width"),this.get("height"),this.get("elTagName"),this.get("elAttrs")));this.get("elOrder")?d.append(a):d.prepend(a);this.set("el",a)}},_uiSetElAttrs:function(d){this.get("el").attr(d)},_uiSetElCls:function(d){this.get("el").addClass(d)},_uiSetElStyle:function(d){this.get("el").css(d)},
_uiSetWidth:function(d){this.get("el").width(d)},_uiSetHeight:function(d){this.get("el").height(d)},_uiSetHtml:function(d){this.get("el").html(d)},__destructor:function(){var d=this.get("el");if(d){d.detach();d.remove()}}};return b},{requires:["node"]});
KISSY.add("uibase/close",function(){function c(){}c.ATTRS={closable:{value:true,view:true},closeAction:{value:"hide"}};var h={hide:"hide",destroy:"destroy"};c.prototype={__bindUI:function(){var b=this,e=b.get("view").get("closeBtn");e&&e.on("click",function(d){b[h[b.get("closeAction")]||"hide"]();d.halt()})}};return c});
KISSY.add("uibase/closerender",function(c){function h(){}h.ATTRS={closable:{value:true},closeBtn:{}};h.HTML_PARSER={closeBtn:function(b){return b.one("."+this.get("prefixCls")+"ext-close")}};h.prototype={_uiSetClosable:function(b){var e=this.get("closeBtn");if(e)b?e.css("display",""):e.css("display","none")},__renderUI:function(){var b=c.require("node/node"),e=this.get("closeBtn"),d=this.get("contentEl");if(!e&&d){e=(new b("<a tabindex='0' role='button' class='"+this.get("prefixCls")+"ext-close'><span class='"+
this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(d);this.set("closeBtn",e)}},__destructor:function(){var b=this.get("closeBtn");b&&b.detach()}};return h});
KISSY.add("uibase/constrain",function(c,h){function b(){}function e(a){var g;if(!a)return g;var k=this.get("view").get("el");if(a!==true){a=d.one(a);g=a.offset();c.mix(g,{maxLeft:g.left+a[0].offsetWidth-k[0].offsetWidth,maxTop:g.top+a[0].offsetHeight-k[0].offsetHeight})}else{a=document.documentElement.clientWidth;g={left:h.scrollLeft(),top:h.scrollTop()};c.mix(g,{maxLeft:g.left+a-k[0].offsetWidth,maxTop:g.top+h.viewportHeight()-k[0].offsetHeight})}return g}var d=c.require("node/node");b.ATTRS={constrain:{value:false}};
b.prototype={__renderUI:function(){var a=this,g=a.__getDefAttrs(),k=g.x;g=g.y;var l=k.setter,f=g.setter;k.setter=function(i){var j=l&&l(i);if(j===undefined)j=i;if(!a.get("constrain"))return j;i=e.call(a,a.get("constrain"));return Math.min(Math.max(j,i.left),i.maxLeft)};g.setter=function(i){var j=f&&f(i);if(j===undefined)j=i;if(!a.get("constrain"))return j;i=e.call(a,a.get("constrain"));return Math.min(Math.max(j,i.top),i.maxTop)};a.addAttr("x",k);a.addAttr("y",g)}};return b},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function c(){}c.ATTRS={content:{view:true},contentEl:{getter:function(){return this.get("view")&&this.get("view").get("contentEl")}},contentElAttrs:{view:true},contentElStyle:{view:true},contentTagName:{view:true}};c.prototype={};return c});
KISSY.add("uibase/contentboxrender",function(c,h,b){function e(){}e.ATTRS={contentEl:{},contentElAttrs:{},contentElStyle:{},contentTagName:{value:"div"},content:{}};e.HTML_PARSER={contentEl:function(a){return a.one("."+this.get("prefixCls")+"contentbox")}};var d=b.construct;e.prototype={__renderUI:function(){var a=this.get("contentEl"),g=this.get("el");if(!a){var k=c.makeArray(g[0].childNodes);a=(new h(d(this.get("prefixCls")+"contentbox",this.get("contentElStyle"),undefined,undefined,this.get("contentTagName"),
this.get("contentElAttrs")))).appendTo(g);for(g=0;g<k.length;g++)a.append(k[g]);this.set("contentEl",a)}},_uiSetContentElAttrs:function(a){a&&this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){a&&this.get("contentEl").css(a)},_uiSetContent:function(a){if(c.isString(a))this.get("contentEl").html(a);else if(a!==undefined){this.get("contentEl").html("");this.get("contentEl").append(a)}}};return e},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(c){function h(){}h.ATTRS={handlers:{value:[]},draggable:{value:true}};h.prototype={_uiSetHandlers:function(b){b&&b.length>0&&this.__drag&&this.__drag.set("handlers",b)},__bindUI:function(){var b=c.require("dd/draggable"),e=this.get("view").get("el");if(this.get("draggable")&&b)this.__drag=new b({node:e,handlers:this.get("handlers")})},_uiSetDraggable:function(b){var e=this.__drag;if(e)if(b){e.detach("drag");e.on("drag",this._dragExtAction,this)}else e.detach("drag")},
_dragExtAction:function(b){this.set("xy",[b.left,b.top])},__destructor:function(){var b=this.__drag;b&&b.destroy()}};return h});KISSY.add("uibase/loading",function(){function c(){}c.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return c});
KISSY.add("uibase/loadingrender",function(c,h){function b(){}b.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new h("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var e=this._loadingExtEl;e&&e.hide()}};return b},{requires:["node"]});
KISSY.add("uibase/mask",function(){function c(){}c.ATTRS={mask:{value:false}};c.prototype={_uiSetMask:function(h){if(h){this.on("show",this.get("view")._maskExtShow,this.get("view"));this.on("hide",this.get("view")._maskExtHide,this.get("view"))}else{this.detach("show",this.get("view")._maskExtShow,this.get("view"));this.detach("hide",this.get("view")._maskExtHide,this.get("view"))}}};return c},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(c){function h(){var g=c.require("ua"),k=c.require("node/node"),l=c.require("dom");e=(new k("<div class='"+this.get("prefixCls")+"ext-mask'>")).prependTo(document.body);e.css({position:"absolute",left:0,top:0,width:g.ie==6?l.docWidth():"100%",height:l.docHeight()});if(g.ie==6)d=(new k("<iframe style='position:absolute;left:0;top:0;background:red;width:"+l.docWidth()+"px;height:"+l.docHeight()+"px;filter:alpha(opacity=0);z-index:-1;'>")).insertBefore(e);c.Event.on(window,
"resize",function(){var f={width:g.ie==6?l.docWidth():"100%",height:l.docHeight()};d&&d.css(f);e.css(f)});e.unselectable();e.on("mousedown click",function(f){f.halt()})}function b(){}var e,d,a=0;b.prototype={_maskExtShow:function(){e||h.call(this);var g=this.get("zIndex")-1;e.css("z-index",g);d&&d.css("z-index",g);a++;e.css("display","");d&&d.css("display","")},_maskExtHide:function(){a--;if(a<=0)a=0;if(!a){e&&e.css("display","none");d&&d.css("display","none")}},__destructor:function(){this._maskExtHide()}};
return b},{requires:["ua"]});
KISSY.add("uibase/position",function(c){function h(){}h.ATTRS={x:{view:true,valueFn:function(){return this.get("view")&&this.get("view").get("x")}},y:{view:true,valueFn:function(){return this.get("view")&&this.get("view").get("y")}},xy:{setter:function(b){var e=c.makeArray(b);if(e.length){e[0]&&this.set("x",e[0]);e[1]&&this.set("y",e[1])}return b},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:true},visible:{}};h.prototype={_uiSetVisible:function(b){this.get("view").set("visible",b);
this.fire(b?"show":"hide")},move:function(b,e){if(c.isArray(b)){e=b[1];b=b[0]}this.set("xy",[b,e])},show:function(){this.render();this.set("visible",true)},hide:function(){this.set("visible",false)}};return h});
KISSY.add("uibase/positionrender",function(){function c(){}c.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999},visible:{}};c.prototype={__renderUI:function(){var h=this.get("el");h.addClass(this.get("prefixCls")+"ext-position");h.css({visibility:"hidden",display:"",left:-9999,top:-9999,bottom:"",right:""})},_uiSetZIndex:function(h){this.get("el").css("z-index",h)},_uiSetX:function(h){this.get("el").offset({left:h})},
_uiSetY:function(h){this.get("el").offset({top:h})},_uiSetVisible:function(h){this.get("el").css("visibility",h?"visible":"hidden")},show:function(){this.render();this.set("visible",true)},hide:function(){this.set("visible",false)}};return c});
KISSY.add("uibase/resize",function(c){function h(){}h.ATTRS={resize:{value:{}}};h.prototype={__destructor:function(){self.resizer&&self.resizer.destroy()},_uiSetResize:function(b){var e=c.require("resizable");if(e){this.resizer&&this.resizer.destroy();b.node=this.get("view").get("el");b.autoRender=true;if(b.handlers)this.resizer=new e(b)}}};return h});
KISSY.add("uibase/shimrender",function(c){function h(){}h.ATTRS={shim:{value:true}};h.prototype={_uiSetShim:function(b){var e=c.require("node/node"),d=this.get("el");if(b&&!this.__shimEl){this.__shimEl=new e("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'>");d.prepend(this.__shimEl)}else if(!b&&this.__shimEl){this.__shimEl.remove();delete this.__shimEl}}};
return h});KISSY.add("uibase/stdmod",function(){function c(){}c.ATTRS={header:{getter:function(){return this.get("view")&&this.get("view").get("header")}},body:{getter:function(){return this.get("view")&&this.get("view").get("body")}},footer:{getter:function(){return this.get("view")&&this.get("view").get("footer")}},bodyStyle:{view:true},footerStyle:{view:true},headerStyle:{view:true},headerContent:{view:true},bodyContent:{view:true},footerContent:{view:true}};c.prototype={};return c});
KISSY.add("uibase/stdmodrender",function(c,h){function b(){}function e(a,g){var k=a.get("contentEl"),l=a.get(g);if(!l){l=(new h("<div class='"+a.get("prefixCls")+d+g+"'>")).appendTo(k);a.set(g,l)}}var d="stdmod-";b.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};b.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+d+"header")},body:function(a){return a.one("."+this.get("prefixCls")+d+"body")},footer:function(a){return a.one("."+
this.get("prefixCls")+d+"footer")}};b.prototype={_setStdModContent:function(a,g){if(c.isString(g))this.get(a).html(g);else{this.get(a).html("");this.get(a).append(g)}},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){this._setStdModContent("body",a)},_uiSetHeaderContent:function(a){this._setStdModContent("header",a)},_uiSetFooterContent:function(a){this._setStdModContent("footer",
a)},__renderUI:function(){e(this,"header");e(this,"body");e(this,"footer")}};return b},{requires:["node"]});
KISSY.add("uibase",function(c,h,b,e,d,a,g,k,l,f,i,j,m,n,o,p,s,r,q,t,u){a.Render=g;j.Render=m;n.Render=o;p.Render=s;t.Render=u;e.Render=d;l.Render=f;c.mix(h,{Align:b,Box:e,Close:a,Contrain:k,Contentbox:l,Drag:i,Loading:j,Mask:n,Position:p,Shim:{Render:r},Resize:q,StdMod:t});return c.UIBase=h},{requires:["uibase/base","uibase/align","uibase/box","uibase/boxrender","uibase/close","uibase/closerender","uibase/constrain","uibase/contentbox","uibase/contentboxrender","uibase/drag","uibase/loading","uibase/loadingrender",
"uibase/mask","uibase/maskrender","uibase/position","uibase/positionrender","uibase/shimrender","uibase/resize","uibase/stdmod","uibase/stdmodrender"]});
