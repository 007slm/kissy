/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("uibase",function(c){function e(g){l.apply(this,arguments);f(this,g);g&&g.autoRender&&this.render()}function f(g,i){for(var h=g.constructor;h;){if(i&&i[j]&&h.HTML_PARSER)if(i[j]=c.one(i[j]))d.call(g,i[j],h.HTML_PARSER);h=h.superclass&&h.superclass.constructor}b(g,"initializer","constructor")}function b(g,i,h){for(var k=g.constructor,m=[],p,q,t,s;k;){s=[];if(t=k.__ks_exts)for(var r=0;r<t.length;r++)if(p=t[r]){if(h!="constructor")p=p.prototype.hasOwnProperty(h)?p.prototype[h]:null;p&&s.push(p)}if(k.prototype.hasOwnProperty(i)&&
(q=k.prototype[i]))s.push(q);s.length&&m.push.apply(m,s.reverse());k=k.superclass&&k.superclass.constructor}for(r=m.length-1;r>=0;r--)m[r]&&m[r].call(g)}function a(g){for(var i=g.constructor,h,k,m;i;){(k=i.prototype.destructor)&&k.apply(g);if(h=i.__ks_exts)for(m=h.length-1;m>=0;m--)(k=h[m]&&h[m].prototype.__destructor)&&k.apply(g);i=i.superclass&&i.superclass.constructor}}function d(g,i){var h,k;for(h in i)if(i.hasOwnProperty(h)){k=i[h];if(c.isFunction(k))this.__set(h,k.call(this,g));else if(c.isString(k))this.__set(h,
g.one(k));else c.isArray(k)&&k[0]&&this.__set(h,g.all(k[0]))}}var j="srcNode",l=c.Base,o=c.Attribute.__capitalFirst,n=function(){};e.HTML_PARSER={};e.ATTRS={render:{valueFn:function(){return document.body}},rendered:{value:false}};c.extend(e,l,{render:function(){if(!this.get("rendered")){this._renderUI();this.fire("renderUI");b(this,"renderUI","__renderUI");this._bindUI();this.fire("bindUI");b(this,"bindUI","__bindUI");this._syncUI();this.fire("syncUI");b(this,"syncUI","__syncUI");this.set("rendered",
true)}},_renderUI:n,renderUI:n,_bindUI:function(){var g=this,i=g.__getDefAttrs(),h,k;for(h in i)if(i.hasOwnProperty(h)){k="_uiSet"+o(h);g[k]&&function(m,p){g.on("after"+o(m)+"Change",function(q){g[p](q.newVal,q)})}(h,k)}},bindUI:n,_syncUI:function(){var g=this.__getDefAttrs();for(var i in g)if(g.hasOwnProperty(i)){var h="_uiSet"+o(i);this[h]&&this.get(i)!==undefined&&this[h](this.get(i))}},syncUI:n,destroy:function(){a(this);this.fire("destroy");this.detach()}});e.create=function(g,i,h,k){function m(){e.apply(this,
arguments)}if(c.isArray(g)){k=h;h=i;i=g;g=e}g=g||e;c.extend(m,g,h,k);if(i){m.__ks_exts=i;c.each(i,function(p){if(p){c.each(["ATTRS","HTML_PARSER"],function(q){if(p[q]){m[q]=m[q]||{};c.mix(m[q],p[q],false)}});c.augment(m,p,false)}})}return m};c.UIBase=e},{requires:["core"]});
KISSY.add("uibase-align",function(c){function e(){}function f(a,d){var j=d.charAt(0);d=d.charAt(1);var l,o,n;if(a){a=c.one(a);l=a.offset();o=a[0].offsetWidth;a=a[0].offsetHeight}else{l={left:b.scrollLeft(),top:b.scrollTop()};o=b.viewportWidth();a=b.viewportHeight()}n=l.left;l=l.top;if(j==="c")l+=a/2;else if(j==="b")l+=a;if(d==="c")n+=o/2;else if(d==="r")n+=o;return{left:n,top:l}}var b=c.DOM;c.mix(e,{TL:"tl",TC:"tc",TR:"tr",CL:"cl",CC:"cc",CR:"cr",BL:"bl",BC:"bc",BR:"br"});e.ATTRS={align:{}};e.prototype=
{_uiSetAlign:function(a){c.isPlainObject(a)&&this.align(a.node,a.points,a.offset)},align:function(a,d,j){var l,o=this.get("el");j=j||[0,0];l=o.offset();a=f(a,d[0]);d=f(o,d[1]);d=[d.left-a.left,d.top-a.top];l=[l.left-d[0]+ +j[0],l.top-d[1]+ +j[1]];this.set("xy",l)},center:function(a){this.set("align",{node:a,points:[e.CC,e.CC],offset:[0,0]})}};c.UIBase.Align=e},{host:"uibase"});
KISSY.add("uibase-box",function(c){function e(){}c.namespace("UIBase");var f=c.Node;c.mix(e,{APPEND:1,INSERT:0});e.ATTRS={el:{setter:function(b){if(c.isString(b))return c.one(b)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},elOrder:{value:1},html:{value:false}};e.HTML_PARSER={el:function(b){return b}};e.prototype={__syncUI:function(){},__bindUI:function(){},__renderUI:function(){var b=this.get("render"),a=this.get("el");b=new f(b);if(!a){a=new f("<"+this.get("elTagName")+
">");this.get("elOrder")?b.append(a):b.prepend(a);this.set("el",a)}},_uiSetElAttrs:function(b){b&&this.get("el").attr(b)},_uiSetElCls:function(b){b&&this.get("el").addClass(b)},_uiSetElStyle:function(b){b&&this.get("el").css(b)},_uiSetWidth:function(b){b&&this.get("el").width(b)},_uiSetHeight:function(b){b&&this.get("el").height(b)},_uiSetHtml:function(b){b!==false&&this.get("el").html(b)},__destructor:function(){var b=this.get("el");if(b){b.detach();b.remove()}}};c.UIBase.Box=e},{host:"uibase"});
KISSY.add("uibase-close",function(c){function e(){}c.namespace("UIBase");var f=c.Node;e.ATTRS={closable:{value:true},closeBtn:{}};e.HTML_PARSER={closeBtn:".ks-ext-close"};e.prototype={__syncUI:function(){},_uiSetClosable:function(b){var a=this.get("closeBtn");if(a)b?a.show():a.hide()},__renderUI:function(){var b=this.get("closeBtn"),a=this.get("contentEl");if(!b&&a){b=(new f("<a href='#' class='ks-ext-close'><span class='ks-ext-close-x'>X</span></a>")).appendTo(a);this.set("closeBtn",b)}},__bindUI:function(){var b=
this,a=b.get("closeBtn");a&&a.on("click",function(d){b.hide();d.halt()})},__destructor:function(){var b=this.get("closeBtn");b&&b.detach()}};c.UIBase.Close=e},{host:"uibase"});
KISSY.add("uibase-constrain",function(c){function e(){}function f(a){var d;if(!a)return d;var j=this.get("el");if(a!==true){a=c.one(a);d=a.offset();c.mix(d,{maxLeft:d.left+a[0].offsetWidth-j[0].offsetWidth,maxTop:d.top+a[0].offsetHeight-j[0].offsetHeight})}else{a=document.documentElement.clientWidth;d={left:b.scrollLeft(),top:b.scrollTop()};c.mix(d,{maxLeft:d.left+a-j[0].offsetWidth,maxTop:d.top+b.viewportHeight()-j[0].offsetHeight})}return d}c.namespace("UIBase");var b=c.DOM;e.ATTRS={constrain:{value:false}};
e.prototype={__bindUI:function(){},__renderUI:function(){var a=this,d=a.__getDefAttrs(),j=d.x;d=d.y;var l=j.setter,o=d.setter;j.setter=function(n){var g=l&&l(n);if(g===undefined)g=n;if(!a.get("constrain"))return g;n=f.call(a,a.get("constrain"));return Math.min(Math.max(g,n.left),n.maxLeft)};d.setter=function(n){var g=o&&o(n);if(g===undefined)g=n;if(!a.get("constrain"))return g;n=f.call(a,a.get("constrain"));return Math.min(Math.max(g,n.top),n.maxTop)};a.addAttr("x",j);a.addAttr("y",d)},__syncUI:function(){},
__destructor:function(){}};c.UIBase.Constrain=e},{host:"uibase"});
KISSY.add("uibase-contentbox",function(c){function e(){}c.namespace("UIBase");var f=c.Node;e.ATTRS={contentEl:{},contentElAttrs:{},contentTagName:{value:"div"},content:{}};e.HTML_PARSER={contentEl:".ks-contentbox"};e.prototype={__syncUI:function(){},__bindUI:function(){},__renderUI:function(){var b=this.get("contentEl"),a=this.get("el");if(!b){var d=c.makeArray(a[0].childNodes);b=(new f("<"+this.get("contentTagName")+" class='ks-contentbox'>")).appendTo(a);for(a=0;a<d.length;a++)b.append(d[a]);this.set("contentEl",
b)}},_uiSetContentElAttrs:function(b){b&&this.get("contentEl").attr(b)},_uiSetContent:function(b){if(b!==undefined)if(c.isString(b))this.get("contentEl").html(b);else{this.get("contentEl").html("");this.get("contentEl").append(b)}},__destructor:function(){}};c.UIBase.ContentBox=e},{host:"uibase"});
KISSY.add("uibase-drag",function(c){function e(){}c.namespace("UIBase");e.ATTRS={handlers:{value:[]},draggable:{value:true}};e.prototype={_uiSetHandlers:function(f){f&&f.length>0&&this.__drag&&this.__drag.set("handlers",f)},__syncUI:function(){},__renderUI:function(){},__bindUI:function(){var f=this.get("el");if(this.get("draggable")&&c.Draggable)this.__drag=new c.Draggable({node:f,handlers:this.get("handlers")})},_uiSetDraggable:function(f){var b=this.__drag;if(b)if(f){b.detach("drag");b.on("drag",
this._dragExtAction,this)}else b.detach("drag")},_dragExtAction:function(f){this.set("xy",[f.left,f.top])},__destructor:function(){var f=this.__drag;f&&f.destroy()}};c.UIBase.Drag=e},{host:"uibase"});
KISSY.add("uibase-loading",function(c){function e(){}c.namespace("UIBase");e.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new c.Node("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var f=this._loadingExtEl;f&&f.hide()}};c.UIBase.Loading=e},{host:"uibase"});
KISSY.add("uibase-mask",function(c){function e(){b=(new c.Node("<div class='ks-ext-mask'>")).prependTo(document.body);b.css({position:"absolute",left:0,top:0,width:a.ie==6?c.DOM.docWidth():"100%",height:c.DOM.docHeight()});a.ie==6&&b.append("<iframe style='width:100%;height:expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'>")}function f(){}c.namespace("UIBase");var b,a=c.UA,d=0;f.ATTRS={mask:{value:false}};f.prototype={__bindUI:function(){},__renderUI:function(){},__syncUI:function(){},
_uiSetMask:function(j){if(j){this.on("show",this._maskExtShow);this.on("hide",this._maskExtHide)}else{this.detach("show",this._maskExtShow);this.detach("hide",this._maskExtHide)}},_maskExtShow:function(){b||e();b.css({"z-index":this.get("zIndex")-1});d++;b.show()},_maskExtHide:function(){d--;if(d<=0)d=0;d||b&&b.hide()},__destructor:function(){}};c.UIBase.Mask=f},{host:"uibase"});
KISSY.add("uibase-position",function(c){function e(){}c.namespace("UIBase");var f=document,b=c.Event;e.ATTRS={x:{},y:{},xy:{setter:function(a){var d=c.makeArray(a);if(d.length){d[0]&&this.set("x",d[0]);d[1]&&this.set("y",d[1])}return a}},zIndex:{value:9999},visible:{value:undefined}};e.prototype={__syncUI:function(){},__renderUI:function(){var a=this.get("el");a.addClass("ks-ext-position");a.css("display","")},__bindUI:function(){},_uiSetZIndex:function(a){a!==undefined&&this.get("el").css("z-index",
a)},_uiSetX:function(a){a!==undefined&&this.get("el").offset({left:a})},_uiSetY:function(a){a!==undefined&&this.get("el").offset({top:a})},_uiSetVisible:function(a){if(a!==undefined){this.get("el").css("visibility",a?"visible":"hidden");this[a?"_bindKey":"_unbindKey"]();this.fire(a?"show":"hide")}},_bindKey:function(){b.on(f,"keydown",this._esc,this)},_unbindKey:function(){b.remove(f,"keydown",this._esc,this)},_esc:function(a){a.keyCode===27&&this.hide()},move:function(a,d){if(c.isArray(a)){d=a[1];
a=a[0]}this.set("xy",[a,d])},show:function(){this._firstShow()},_firstShow:function(){this.render();this._realShow();this._firstShow=this._realShow},_realShow:function(){this.set("visible",true)},hide:function(){this.set("visible",false)},__destructor:function(){}};c.UIBase.Position=e},{host:"uibase"});
KISSY.add("uibase-shim",function(c){function e(){}c.namespace("UIBase");var f=c.Node;e.ATTRS={shim:{value:true}};e.prototype={__syncUI:function(){},__bindUI:function(){},_uiSetShim:function(b){var a=this.get("el");if(b&&!this.__shimEl){this.__shimEl=new f("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'>");a.prepend(this.__shimEl)}else if(!b&&
this.__shimEl){this.__shimEl.remove();delete this.__shimEl}},__renderUI:function(){},__destructor:function(){}};c.UIBase.Shim=e},{host:"uibase"});
KISSY.add("uibase-stdmod",function(c){function e(){}function f(d,j){var l=d.get("contentEl"),o=d.get(j);if(!o){o=(new a("<div class='"+b+j+"'>")).appendTo(l);d.set(j,o)}}c.namespace("UIBase");var b="ks-stdmod-",a=c.Node;e.ATTRS={header:{},body:{},footer:{},bodyStyle:{},headerContent:{value:false},bodyContent:{value:false},footerContent:{value:false}};e.HTML_PARSER={header:"."+b+"header",body:"."+b+"body",footer:"."+b+"footer"};e.prototype={__bindUI:function(){},__syncUI:function(){},_setStdModContent:function(d,
j){if(j!==false)if(c.isString(j))this.get(d).html(j);else{this.get(d).html("");this.get(d).append(j)}},_uiSetBodyStyle:function(d){d!==undefined&&this.get("body").css(d)},_uiSetBodyContent:function(d){this._setStdModContent("body",d)},_uiSetHeaderContent:function(d){this._setStdModContent("header",d)},_uiSetFooterContent:function(d){this._setStdModContent("footer",d)},__renderUI:function(){f(this,"header");f(this,"body");f(this,"footer")},__destructor:function(){}};c.UIBase.StdMod=e},{host:"uibase"});
