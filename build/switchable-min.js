/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Feb 8 18:02
*/
KISSY.add("switchable/accordion/aria",function(j,c,q,u,s){function v(e){var n;j.each(this.triggers,function(A){if(A==e||c.contains(A,e))n=A});return n}function g(e){var n;j.each(this.panels,function(A){if(A==e||c.contains(A,e))n=A});return n}function h(e){var n=v.call(this,e);if(!n){e=g.call(this,e);n=this.triggers[j.indexOf(e,this.panels)]}return n}function o(e){switch(e.keyCode){case w:case y:e.ctrlKey&&!e.altKey&&!e.shiftKey&&e.halt();break;case l:e.ctrlKey&&!e.altKey&&e.halt()}}function b(e){var n=
e.target,A=this.triggers,E=!e.ctrlKey&&!e.shiftKey&&!e.altKey,F=e.ctrlKey&&!e.shiftKey&&!e.altKey;switch(e.keyCode){case x:case t:if((n=v.call(this,n))&&E){this.switchTo(j.indexOf(n,this.triggers));e.halt()}break;case z:case m:if(n=v.call(this,n)){d.call(this,n);e.halt()}break;case B:case i:if(n=v.call(this,n)){k.call(this,n);e.halt()}break;case y:if(F){e.halt();n=h.call(this,n);k.call(this,n)}break;case w:if(F){e.halt();n=h.call(this,n);d.call(this,n)}break;case p:if(E){h.call(this,n);a.call(this,
0,true);e.halt()}break;case r:if(E){h.call(this,n);a.call(this,A.length-1,true);e.halt()}break;case l:if(e.ctrlKey&&!e.altKey){e.halt();n=h.call(this,n);e.shiftKey?d.call(this,n):k.call(this,n)}}}function a(e,n){var A=this.triggers,E=A[e];j.each(A,function(F){if(F!==E){C(F,"-1");c.removeClass(F,"ks-switchable-select");F.setAttribute("aria-selected","false")}});n&&E.focus();C(E,"0");c.addClass(E,"ks-switchable-select");E.setAttribute("aria-selected","true")}function d(e){var n=this.triggers;e=j.indexOf(e,
n);a.call(this,e==0?n.length-1:e-1,true)}function k(e){var n=this.triggers;e=j.indexOf(e,n);a.call(this,e==n.length-1?0:e+1,true)}function f(e){var n=!!(e.originalEvent.target||e.originalEvent.srcElement);e=e.currentIndex;var A=this.panels,E=this.triggers,F=E[e],G=A[e];if(!this.config.multiple){j.each(A,function(D){D!==G&&D.setAttribute("aria-hidden","true")});j.each(E,function(D){D!==F&&D.setAttribute("aria-hidden","true")})}A=G.getAttribute("aria-hidden");G.setAttribute("aria-hidden",A=="false"?
"true":"false");F.setAttribute("aria-expanded",A=="false"?"false":"true");a.call(this,e,n)}var w=33,y=34,r=35,p=36,z=37,m=38,B=39,i=40,l=9,t=32,x=13;j.mix(s.Config,{aria:true});s.Plugins.push({name:"aria",init:function(e){if(e.config.aria){var n=e.container,A=e.activeIndex;c.attr(n,"aria-multiselectable",e.config.multiple?"true":"false");e.nav&&c.attr(e.nav,"role","tablist");var E=e.triggers,F=e.panels,G=0;j.each(F,function(D){if(!D.id)D.id=j.guid("ks-accordion-tab-panel")});j.each(E,function(D){if(!D.id)D.id=
j.guid("ks-accordion-tab")});j.each(E,function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded",A==G?"true":"false");D.setAttribute("aria-selected",A==G?"true":"false");D.setAttribute("aria-controls",F[G].id);C(D,A==G?"0":"-1");G++});G=0;j.each(F,function(D){var H=E[G];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden",A==G?"false":"true");D.setAttribute("aria-labelledby",H.id);G++});e.on("switch",f,e);q.on(n,"keydown",b,e);q.on(n,"keypress",o,e)}}});var C=u.setTabIndex},
{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/accordion/base",function(j,c,q){function u(s,v){if(!(this instanceof u))return new u(s,v);u.superclass.constructor.apply(this,arguments)}j.extend(u,q,{_switchTrigger:function(s,v){var g=this.config;g.multiple?c.toggleClass(v,g.activeTriggerCls):u.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(s){return this.config.multiple||u.superclass._triggerIsValid.call(this,s)},_switchView:function(s,v,g,h,o,b){var a=v[0];if(this.config.multiple){c.toggle(a);this._fireOnSwitch(g,
o);b&&b.call(this)}else u.superclass._switchView.apply(this,arguments)}});u.Plugins=[];u.Config={markupType:1,triggerType:"click",multiple:false};return u},{requires:["dom","../base"]});
KISSY.add("switchable/aria",function(j,c,q,u){function s(){this.stop&&this.stop()}function v(){this.start&&this.start()}u.Plugins.push({name:"aria",init:function(h){if(h.config.aria){var o=h.container;q.on(o,"focusin",s,h);q.on(o,"focusout",v,h)}}});var g=["a","input","button","object"];return{setTabIndex:function(h,o){h.tabIndex=o;j.each(c.query("*",h),function(b){var a=b.nodeName.toLowerCase();if(j.inArray(a,g)){c.hasAttr(b,"oriTabIndex")||c.attr(b,"oriTabIndex",b.tabIndex);b.tabIndex=o!=-1?c.attr(b,
"oriTabIndex"):o}})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/autoplay",function(j,c,q,u,s){var v=function(g){var h=c.scrollTop(),o=c.viewportHeight(),b=c.offset(g);g=c.height(g);return b.top>h&&b.top+g<h+o};j.mix(u.Config,{pauseOnScroll:false,autoplay:false,interval:5,pauseOnHover:true});u.Plugins.push({name:"autoplay",init:function(g){function h(){a=j.later(function(){g.paused||g.switchTo(g.activeIndex<g.length-1?g.activeIndex+1:0,"forward")},b,true)}var o=g.config,b=o.interval*1E3,a;if(o.autoplay){if(o.pauseOnScroll){g.__scrollDetect=
j.buffer(function(){g[v(g.container)?"start":"stop"]()},200);q.on(window,"scroll",g.__scrollDetect)}h();g.stop=function(){if(a){a.cancel();a=s}g.paused=true};g.start=function(){if(a){a.cancel();a=s}g.paused=false;h()};if(o.pauseOnHover){q.on(g.container,"mouseenter",g.stop,g);q.on(g.container,"mouseleave",g.start,g)}}},destroy:function(g){g.__scrollDetect&&q.remove(window,"scroll",g.__scrollDetect)}});return u},{requires:["dom","event","./base"]});
KISSY.add("switchable/autorender",function(j,c,q,u){u.autoRender=function(s,v){s="."+(s||"KS_Widget");j.each(c.query(s,v),function(g){var h=g.getAttribute("data-widget-type"),o;if(h&&"Switchable Tabs Slide Carousel Accordion".indexOf(h)>-1)try{if(o=g.getAttribute("data-widget-config"))o=o.replace(/'/g,'"');new (h=="Switchable"?u:u[h])(g,q.parse(o))}catch(b){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/base",function(j,c,q,u){function s(b,a){a=a||{};if(!("markupType"in a))if(a.panelCls)a.markupType=1;else if(a.panels)a.markupType=2;for(var d=this.constructor;d;){a=j.merge(d.Config,a);d=d.superclass?d.superclass.constructor:null}this.container=c.get(b);this.config=a;this.activeIndex=this.completedIndex=a.activeIndex;if(!(this.activeIndex>-1))if(typeof a.switchTo!="number")this.completedIndex=this.activeIndex=0;this._init();this._initPlugins();this.fire(o);this.activeIndex>-1||
typeof a.switchTo=="number"&&this.switchTo(a.switchTo)}function v(b){var a={};a.type=b.originalEvent.type;a.target=b.originalEvent.target||b.originalEvent.srcElement;return{originalEvent:a}}var g=j.makeArray,h=q.Target,o="init";s.getDomEvent=v;s.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",
steps:1,viewSize:[]};s.Plugins=[];j.augment(s,h,{_initPlugins:function(){for(var b=this,a=b.constructor;a;){j.each(a.Plugins,function(d){d.init&&d.init(b)});a=a.superclass?a.superclass.constructor:null}},_init:function(){var b=this.config;this._parseMarkup();b.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var b=this.container,a=this.config,d,k,f=[],w=[];switch(a.markupType){case 0:if(d=c.get("."+a.navCls,b))f=c.children(d);k=c.get("."+a.contentCls,b);w=c.children(k);break;case 1:f=c.query("."+
a.triggerCls,b);w=c.query("."+a.panelCls,b);break;case 2:f=a.triggers;w=a.panels}b=w.length;this.length=Math.ceil(b/a.steps);if(a.hasTriggers&&b>0&&f.length===0)f=this._generateTriggersMarkup(this.length);this.triggers=g(f);this.panels=g(w);this.content=k||w[0].parentNode;this.nav=d||a.hasTriggers&&f[0].parentNode},_generateTriggersMarkup:function(b){var a=this.config,d=c.create("<ul>"),k,f;d.className=a.navCls;for(f=0;f<b;f++){k=c.create("<li>");if(f===this.activeIndex)k.className=a.activeTriggerCls;
k.innerHTML=f+1;d.appendChild(k)}this.container.appendChild(d);return c.children(d)},_bindTriggers:function(){var b=this,a=b.config,d=b.triggers,k,f,w=d.length;for(f=0;f<w;f++)(function(y){k=d[y];q.on(k,"click",function(r){b._onFocusTrigger(y,r)});if(a.triggerType==="mouse"){q.on(k,"mouseenter",function(r){b._onMouseEnterTrigger(y,r)});q.on(k,"mouseleave",function(){b._onMouseLeaveTrigger(y)})}})(f)},_onFocusTrigger:function(b,a){if(this._triggerIsValid(b)){this._cancelSwitchTimer();this.switchTo(b,
u,v(a))}},_onMouseEnterTrigger:function(b,a){var d=this;if(d._triggerIsValid(b)){var k=v(a);d.switchTimer=j.later(function(){d.switchTo(b,u,k)},d.config.delay*1E3)}},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(b){return this.activeIndex!==b},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=u}},switchTo:function(b,a,d,k){var f=this,w=f.config,y=f.triggers,r=f.panels,p=f.activeIndex,z=w.steps,m=p*z,B=b*z;if(!f._triggerIsValid(b))return f;
if(f.fire("beforeSwitch",{toIndex:b})===false)return f;if(w.hasTriggers)f._switchTrigger(p>-1?y[p]:null,y[b]);if(a===u)a=b>p?"forward":"backward";f._switchView(p>-1?r.slice(m,m+z):null,r.slice(B,B+z),b,a,d,function(){k&&k.call(f,b);f.completedIndex=b});f.activeIndex=b;return f},_switchTrigger:function(b,a){var d=this.config.activeTriggerCls;b&&c.removeClass(b,d);c.addClass(a,d)},_switchView:function(b,a,d,k,f,w){b&&c.css(b,"display","none");c.css(a,"display","block");this._fireOnSwitch(d,f);w&&w.call(this)},
_fireOnSwitch:function(b,a){this.fire("switch",j.mix(a||{},{currentIndex:b}))},prev:function(b){var a=this.activeIndex;this.switchTo(a>0?a-1:this.length-1,"backward",b)},next:function(b){var a=this.activeIndex;this.switchTo(a<this.length-1?a+1:0,"forward",b)},destroy:function(){for(var b=this,a=b.constructor;a;){j.each(a.Plugins,function(d){d.destroy&&d.destroy(b)});a=a.superclass?a.superclass.constructor:null}}});return s},{requires:["dom","event"]});
KISSY.add("switchable/carousel/aria",function(j,c,q,u,s){function v(i){var l=i.currentIndex,t=this.activeIndex,x=this.panels,C=x[l*this.config.steps],e=this.triggers;l=e[l];if((i=!!(i.originalEvent.target||i.originalEvent.srcElement))||t==-1){j.each(e,function(n){p(n,-1)});j.each(x,function(n){p(n,-1)});l&&p(l,0);p(C,0);i&&C.focus()}}function g(i){var l;j.each(this.triggers,function(t){if(t==i||c.contains(t,i)){l=t;return false}});return l}function h(i){var l=i.target;switch(i.keyCode){case w:case f:if(l=
g.call(this,l)){l=l;var t=c.next(l),x=this.triggers;t||(t=x[0]);p(l,-1);if(t){p(t,0);t.focus()}i.halt()}break;case k:case d:if(l=g.call(this,l)){l=l;t=c.prev(l);x=this.triggers;t||(t=x[x.length-1]);p(l,-1);if(t){p(t,0);t.focus()}i.halt()}break;case r:case y:if(l=g.call(this,l)){this.switchTo(j.indexOf(l,this.triggers),undefined,z);i.halt()}}}function o(i){var l;j.each(this.panels,function(t){if(t==i||c.contains(t,i)){l=t;return false}});return l}function b(i,l){var t=j.indexOf(i,this.panels),x=this.config.steps,
C=Math.floor(t/x);if(C==this.activeIndex)return 1;if(t%x==0||t%x==x-1){this.switchTo(C,l,z);return 0}return 1}function a(i){var l=i.target;switch(i.keyCode){case w:case f:if(l=o.call(this,l)){l=l;var t=c.next(l),x=this.panels;t||(t=x[0]);p(l,-1);p(t,0);b.call(this,t,m)&&t.focus();i.halt()}break;case k:case d:if(l=o.call(this,l)){l=l;t=c.prev(l);x=this.panels;t||(t=x[x.length-1]);p(l,-1);p(t,0);b.call(this,t,B)&&t.focus();i.halt()}break;case r:case y:if(l=o.call(this,l)){this.fire("itemSelected",{item:l});
i.halt()}}}var d=37,k=38,f=39,w=40,y=32,r=13,p=u.setTabIndex,z={originalEvent:{target:1}},m="forward",B="backward";j.mix(s.Config,{aria:false});s.Plugins.push({name:"aria",init:function(i){if(i.config.aria){var l=i.triggers,t=i.panels,x=i.content,C=i.activeIndex;if(!x.id)x.id=j.guid("ks-switchbale-content");x.setAttribute("role","listbox");var e=0;j.each(l,function(n){p(n,C==e?"0":"-1");n.setAttribute("role","button");n.setAttribute("aria-controls",x.id);e++});e=0;j.each(t,function(n){p(n,"-1");n.setAttribute("role",
"option");e++});i.on("switch",v,i);(l=i.nav)&&q.on(l,"keydown",h,i);q.on(x,"keydown",a,i);l=i.prevBtn;t=i.nextBtn;if(l){p(l,0);l.setAttribute("role","button");q.on(l,"keydown",function(n){if(n.keyCode==r||n.keyCode==y){i.prev(z);n.preventDefault()}})}if(t){p(t,0);t.setAttribute("role","button");q.on(t,"keydown",function(n){if(n.keyCode==r||n.keyCode==y){i.next(z);n.preventDefault()}})}}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/carousel/base",function(j,c,q,u,s){function v(h,o){if(!(this instanceof v))return new v(h,o);v.superclass.constructor.apply(this,arguments)}var g={originalEvent:{target:1}};v.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};v.Plugins=[];j.extend(v,u,{_init:function(){var h=this;v.superclass._init.call(h);var o=h.config,b=o.disableBtnCls;j.each(["prev","next"],function(a){var d=h[a+"Btn"]=
c.get("."+o[a+"BtnCls"],h.container);q.on(d,"mousedown",function(k){k.preventDefault();c.hasClass(d,b)||h[a](g)})});o.circular||h.on("switch",function(a){a=a.currentIndex;a=a===0?h.prevBtn:a===h.length-1?h.nextBtn:s;c.removeClass([h.prevBtn,h.nextBtn],b);a&&c.addClass(a,b)});q.on(h.panels,"click",function(){h.fire("itemSelected",{item:this})})}});return v},{requires:["dom","event","../base"]});
KISSY.add("switchable/circular",function(j,c,q,u){function s(r,p,z,m,B){var i=this;p=i.config;var l=i.length,t=i.activeIndex,x=p.scrollType===y,C=x?b:a,e=i.viewSize[x?0:1];x=-e*m;var n={},A,E=B===w;if(A=E&&t===0&&m===l-1||B===f&&t===l-1&&m===0)x=v.call(i,i.panels,m,E,C,e);n[C]=x+k;i.anim&&i.anim.stop();if(r)i.anim=(new q(i.content,n,p.duration,p.easing,function(){A&&g.call(i,i.panels,m,E,C,e);i.anim=undefined;z&&z()})).run();else{c.css(i.content,n);z&&z()}}function v(r,p,z,m,B){var i=this.config.steps;
p=this.length;var l=z?p-1:0;r=r.slice(l*i,(l+1)*i);c.css(r,h,o);c.css(r,m,(z?-1:1)*B*p);return z?B:-B*p}function g(r,p,z,m,B){var i=this.config.steps;p=this.length;var l=z?p-1:0;r=r.slice(l*i,(l+1)*i);c.css(r,h,d);c.css(r,m,d);c.css(this.content,m,z?-B*(p-1):d)}var h="position",o="relative",b="left",a="top",d="",k="px",f="forward",w="backward",y="scrollx";j.mix(u.Config,{circular:false});u.Plugins.push({name:"circular",init:function(r){r=r.config;if(r.circular&&(r.effect===y||r.effect==="scrolly")){r.scrollType=
r.effect;r.effect=s}}})},{requires:["dom","anim","./base","./effect"]});
KISSY.add("switchable/countdown",function(j,c,q,u,s,v){j.mix(s.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});s.Plugins.push({name:"countdown",init:function(g){function h(r){o();y=(new u(k[r],w,d-1)).run()}function o(){if(a){clearTimeout(a);a=null}if(y){y.stop();y=v}}var b=g.config,a,d=b.interval,k=[],f=b.countdownFromStyle,w=b.countdownToStyle,y;if(!(!b.autoplay||!b.hasTriggers||!b.countdown)){j.each(g.triggers,function(r,p){r.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
r.innerHTML+"</div>";k[p]=r.firstChild});if(b.pauseOnHover){q.on(g.container,"mouseenter",function(){o();var r=k[g.activeIndex];if(f)y=(new u(r,f,0.2,"easeOut")).run();else c.attr(r,"style","")});q.on(g.container,"mouseleave",function(){o();var r=g.activeIndex;c.attr(k[r],"style",f);a=setTimeout(function(){h(r)},200)})}g.on("beforeSwitch",function(){o();if(k[g.activeIndex])c.attr(k[g.activeIndex],"style",f||"")});g.on("switch",function(r){g.paused||h(r.currentIndex)});g.activeIndex>-1&&h(g.activeIndex)}}});
return s},{requires:["dom","event","anim","./base"]});
KISSY.add("switchable/effect",function(j,c,q,u,s,v){var g;j.mix(s.Config,{effect:"none",duration:0.5,easing:"easeNone"});s.Effects={none:function(h,o,b){h&&c.css(h,"display","none");c.css(o,"display","block");b&&b()},fade:function(h,o,b){var a=this,d=a.config,k=h?h[0]:null,f=o[0];if(a.anim){a.anim.stop();c.css(a.anim.fromEl,{zIndex:1,opacity:0});c.css(a.anim.toEl,"zIndex",9)}c.css(f,"opacity",1);if(k){a.anim=(new u(k,{opacity:0},d.duration,d.easing,function(){a.anim=v;c.css(f,"z-index",9);c.css(k,
"z-index",1);b&&b()})).run();a.anim.toEl=f;a.anim.fromEl=k}else{c.css(f,"z-index",9);b&&b()}},scroll:function(h,o,b,a){var d=this;o=d.config;var k=o.effect==="scrollx",f={};f[k?"left":"top"]=-(d.viewSize[k?0:1]*a)+"px";d.anim&&d.anim.stop();if(h)d.anim=(new u(d.content,f,o.duration,o.easing,function(){d.anim=v;b&&b()})).run();else{c.css(d.content,f);b&&b()}}};g=s.Effects;g.scrollx=g.scrolly=g.scroll;s.Plugins.push({name:"effect",init:function(h){var o=h.config,b=o.effect,a=h.panels,d=h.content,k=
o.steps,f=h.activeIndex,w=a.length;h.viewSize=[o.viewSize[0]||a[0].offsetWidth*k,o.viewSize[1]||a[0].offsetHeight*k];if(b!=="none"){c.css(a,"display","block");switch(b){case "scrollx":case "scrolly":c.css(d,"position","absolute");c.css(d.parentNode,"position")=="static"&&c.css(d.parentNode,"position","relative");if(b==="scrollx"){c.css(a,"float","left");c.width(d,h.viewSize[0]*(w/k))}break;case "fade":var y=f*k,r=y+k-1,p;j.each(a,function(z,m){p=m>=y&&m<=r;c.css(z,{opacity:p?1:0,position:"absolute",
zIndex:p?9:1})})}}}});j.augment(s,{_switchView:function(h,o,b,a,d,k){var f=this,w=f.config.effect;(j.isFunction(w)?w:g[w]).call(f,h,o,function(){f._fireOnSwitch(b,d);k&&k.call(f)},b,a)}});return s},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/lazyload",function(j,c,q){var u="beforeSwitch",s="img",v="textarea",g={};g[s]="data-ks-lazyload-custom";g[v]="ks-datalazyload-custom";j.mix(q.Config,{lazyDataType:v});q.Plugins.push({name:"lazyload",init:function(h){function o(f){var w=a.steps;f=f.toIndex*w;b.loadCustomLazyData(h.panels.slice(f,f+w),d);a:{if(f=(w=d===s)?"img":d===v?"textarea":""){f=c.query(f,h.container);for(var y=0,r=f.length;y<r;y++){var p=f[y];if(w?c.attr(p,k):c.hasClass(p,k)){w=false;break a}}}w=true}w&&
h.detach(u,o)}var b=j.require("datalazyload"),a=h.config,d,k;if(a.lazyDataType==="img-src")a.lazyDataType=s;if(a.lazyDataType==="area-data")a.lazyDataType=v;d=a.lazyDataType;k=g[d];!b||!d||!k||h.on(u,o)}});return q},{requires:["dom","./base"]});
KISSY.add("switchable/slide/aria",function(j,c,q,u,s){function v(k){switch(k.keyCode){case b:case o:this.next(a);k.halt();break;case h:case g:this.prev(a);k.halt()}}var g=37,h=38,o=39,b=40;j.mix(s.Config,{aria:false});var a={originalEvent:{target:1}},d=u.setTabIndex;s.Plugins.push({name:"aria",init:function(k){if(k.config.aria){var f=k.panels,w=0,y=k.activeIndex;j.each(k.triggers,function(p){d(p,"-1");w++});w=0;j.each(f,function(p){d(p,y==w?"0":"-1");c.attr(p,"role","option");w++});var r=k.content;
c.attr(r,"role","listbox");q.on(r,"keydown",v,k);d(f[0],0);k.on("switch",function(p){var z=p.currentIndex;p=!!(p.originalEvent.target||p.originalEvent.srcElement);var m=k.completedIndex;m>-1&&d(f[m],-1);d(f[z],0);p&&f[z].focus()})}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/slide/base",function(j,c){function q(u,s){if(!(this instanceof q))return new q(u,s);q.superclass.constructor.apply(this,arguments)}q.Config={autoplay:true,circular:true};q.Plugins=[];j.extend(q,c);return q},{requires:["../base"]});
KISSY.add("switchable",function(j,c,q,u,s,v,g,h,o,b,a,d,k,f,w,y){j.mix(c,{Accordion:u,Carousel:h,Slide:f,Tabs:y});return c},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base","switchable/tabs/aria"]});
KISSY.add("switchable/tabs/aria",function(j,c,q,u,s,v){function g(m){var B;j.each(this.triggers,function(i){if(i==m||c.contains(i,m))B=i});return B}function h(m){switch(m.keyCode){case a:case d:m.ctrlKey&&!m.altKey&&!m.shiftKey&&m.halt();break;case r:m.ctrlKey&&!m.altKey&&m.halt()}}function o(m){var B=m.target,i=m.ctrlKey&&!m.shiftKey&&!m.altKey;switch(m.keyCode){case k:case f:if(g.call(this,B)){this.prev(z(m));m.halt()}break;case w:case y:if(g.call(this,B)){this.next(z(m));m.halt()}break;case d:if(i){m.halt();
this.next(z(m))}break;case a:if(i){m.halt();this.prev(z(m))}break;case r:if(m.ctrlKey&&!m.altKey){m.halt();m.shiftKey?this.prev(z(m)):this.next(z(m))}}}function b(m){var B=!!(m.originalEvent.target||m.originalEvent.srcElement),i=this.completedIndex,l=m.currentIndex;if(i!=l){m=this.triggers[i];var t=this.triggers[l];i=this.panels[i];l=this.panels[l];m&&p(m,"-1");p(t,"0");B&&t.focus();i&&i.setAttribute("aria-hidden","true");l.setAttribute("aria-hidden","false")}}var a=33,d=34,k=37,f=38,w=39,y=40,r=
9;j.mix(v.Config,{aria:true});v.Plugins.push({name:"aria",init:function(m){if(m.config.aria){var B=m.triggers,i=m.activeIndex,l=m.panels,t=m.container;m.nav&&c.attr(m.nav,"role","tablist");var x=0;j.each(B,function(C){C.setAttribute("role","tab");p(C,i==x?"0":"-1");if(!C.id)C.id=j.guid("ks-switchable");x++});x=0;j.each(l,function(C){var e=B[x];C.setAttribute("role","tabpanel");C.setAttribute("aria-hidden",i==x?"false":"true");C.setAttribute("aria-labelledby",e.id);x++});m.on("switch",b,m);q.on(t,
"keydown",o,m);q.on(t,"keypress",h,m)}}});var p=s.setTabIndex,z=u.getDomEvent},{requires:["dom","event","../base","../aria","./base"]});KISSY.add("switchable/tabs/base",function(j,c){function q(u,s){if(!(this instanceof q))return new q(u,s);q.superclass.constructor.call(this,u,s);return 0}j.extend(q,c);q.Config={};q.Plugins=[];return q},{requires:["../base"]});
