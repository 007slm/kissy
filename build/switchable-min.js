/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("switchable/base",function(h,g,p,s){function n(b,c){c=c||{};if(!("markupType"in c))if(c.panelCls)c.markupType=1;else if(c.panels)c.markupType=2;for(var f=this.constructor;f;){c=h.merge(f.Config,c);f=f.superclass?f.superclass.constructor:null}this.container=g.get(b);this.config=c;this.ingIndex=this.activeIndex=c.activeIndex;this._init();this._initPlugins();this.fire(k);this.activeIndex>-1||h.isNumber(c.switchTo)&&this.switchTo(c.switchTo)}var v=p.Target,k="init",j={originalEvent:{target:1}};
n.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",switchTo:0,steps:1,viewSize:[]};n.Plugins=[];h.augment(n,v,{_initPlugins:function(){for(var b=this,c=b.constructor;c;){h.each(c.Plugins,function(f){f.init&&f.init(b)});c=c.superclass?c.superclass.constructor:null}},_init:function(){var b=
this.config;this._parseMarkup();b.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var b=this.container,c=this.config,f,q,i=[],r=[];switch(c.markupType){case 0:if(f=g.get("."+c.navCls,b))i=g.children(f);q=g.get("."+c.contentCls,b);r=g.children(q);break;case 1:i=g.query("."+c.triggerCls,b);r=g.query("."+c.panelCls,b);break;case 2:i=c.triggers;r=c.panels}b=r.length;this.length=b/c.steps;if(c.hasTriggers&&b>0&&i.length===0)i=this._generateTriggersMarkup(this.length);this.triggers=h.makeArray(i);
this.panels=h.makeArray(r);this.content=q||r[0].parentNode;this.nav=f||c.hasTriggers&&i[0].parentNode},_generateTriggersMarkup:function(b){var c=this.config,f=g.create("<ul>"),q,i;f.className=c.navCls;for(i=0;i<b;i++){q=g.create("<li>");if(i===this.activeIndex)q.className=c.activeTriggerCls;q.innerHTML=i+1;f.appendChild(q)}this.container.appendChild(f);return g.children(f)},_bindTriggers:function(){var b=this,c=b.config,f=b.triggers,q,i,r=f.length;for(i=0;i<r;i++)(function(x){q=f[x];p.on(q,"click",
function(){b._onFocusTrigger(x)});if(c.triggerType==="mouse"){p.on(q,"mouseenter",function(){b._onMouseEnterTrigger(x,j)});p.on(q,"mouseleave",function(){b._onMouseLeaveTrigger(x,j)})}})(i)},_onFocusTrigger:function(b){if(this._triggerIsValid(b)){this._cancelSwitchTimer();this.switchTo(b,s,j)}},_onMouseEnterTrigger:function(b){var c=this;if(c._triggerIsValid(b))c.switchTimer=h.later(function(){c.switchTo(b,s,j)},c.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(b){return this.ingIndex!==
b},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=s}},switchTo:function(b,c,f,q){var i=this,r=i.config,x=i.triggers,t=i.panels,l=i.ingIndex,o=r.steps,y=l*o,m=b*o;if(!i._triggerIsValid(b))return i;if(i.fire("beforeSwitch",{toIndex:b})===false)return i;if(r.hasTriggers)i._switchTrigger(l>-1?x[l]:null,x[b]);if(c===s)c=b>l?"forward":"backward";i.ingIndex=b;i._switchView(l>-1?t.slice(y,y+o):null,t.slice(m,m+o),b,c,f,function(){q&&q.call(i,b);i.activeIndex=
b});return i},_switchTrigger:function(b,c){var f=this.config.activeTriggerCls;b&&g.removeClass(b,f);g.addClass(c,f)},_switchView:function(b,c,f,q,i,r){b&&g.css(b,"display","none");g.css(c,"display","block");this._fireOnSwitch(f,i);r&&r.call(this)},_fireOnSwitch:function(b,c){this.fire("switch",h.mix(c||{},{currentIndex:b}))},prev:function(b){var c=this.activeIndex;this.switchTo(c>0?c-1:this.length-1,"backward",b)},next:function(b){var c=this.activeIndex;this.switchTo(c<this.length-1?c+1:0,"forward",
b)}});return n},{requires:["dom","event"]});
KISSY.add("switchable/aria",function(h,g,p,s){function n(){this.stop&&this.stop()}function v(){this.start&&this.start()}s.Plugins.push({name:"aria",init:function(j){if(j.config.aria){var b=j.container;p.on(b,"focusin",n,j);p.on(b,"focusout",v,j)}}});var k=["a","input","button","object"];return{setTabIndex:function(j,b){j.tabIndex=b;g.query("*",j).each(function(c){var f=c.nodeName.toLowerCase();if(h.inArray(f,k)){g.hasAttr(c,"oriTabIndex")||g.attr(c,"oriTabIndex",c.tabIndex);c.tabIndex=b!=-1?g.attr(c,
"oriTabIndex"):b}})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/accordion/base",function(h,g,p){function s(n,v){if(!(this instanceof s))return new s(n,v);s.superclass.constructor.apply(this,arguments);return 0}h.extend(s,p,{_switchTrigger:function(n,v){var k=this.config;k.multiple?g.toggleClass(v,k.activeTriggerCls):s.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(n){return s.superclass._triggerIsValid.call(this,n)||this.config.multiple},_switchView:function(n,v,k,j,b,c){var f=v[0];if(this.config.multiple){g.toggle(f);
this._fireOnSwitch(k,b);c.call(this)}else s.superclass._switchView.apply(this,arguments)}});s.Plugins=[];s.Config={markupType:1,triggerType:"click",multiple:false};return s},{requires:["dom","../base"]});
KISSY.add("switchable/accordion/aria",function(h,g,p){function s(d){var w;h.each(this.triggers,function(B){if(B==d||i.contains(B,d))w=B});return w}function n(d){switch(d.keyCode){case r:case x:d.ctrlKey&&!d.altKey&&!d.shiftKey&&d.halt();break;case e:d.ctrlKey&&!d.altKey&&d.halt()}}function v(d){var w=d.target,B=this.triggers,C=!d.ctrlKey&&!d.shiftKey&&!d.altKey,E=d.ctrlKey&&!d.shiftKey&&!d.altKey;switch(d.keyCode){case z:case u:if(s.call(this,w)&&C){this.switchTo(this.focusIndex);d.halt()}break;case o:case y:if(s.call(this,
w)){j.call(this);d.halt()}break;case m:case a:if(s.call(this,w)){b.call(this);d.halt()}break;case x:if(E){d.halt();b.call(this)}break;case r:if(E){d.halt();j.call(this)}break;case l:if(C){w=this.focusIndex;this.focusIndex=0;k.call(this,w,0,true);d.halt()}break;case t:if(C){w=B.length-1;B=this.focusIndex;this.focusIndex=w;k.call(this,B,w,true);d.halt()}break;case e:if(d.ctrlKey&&!d.altKey){d.halt();d.shiftKey?j.call(this):b.call(this)}}}function k(d,w,B){var C=this.triggers;if(h.isNumber(d))var E=
C[d];d=C[w];if(E){A(E,"-1");i.removeClass(E,f);E.setAttribute("aria-selected","false")}B&&d.focus();A(d,"0");i.addClass(d,f);d.setAttribute("aria-selected","true")}function j(){var d=this.triggers,w=this.focusIndex;d=this.focusIndex=w==0?d.length-1:w-1;k.call(this,w,d,true)}function b(){var d=this.focusIndex,w=this.focusIndex=d==this.triggers.length-1?0:d+1;k.call(this,d,w,true)}function c(d){var w=!!d.originalEvent.target,B=this.config.multiple,C=this.activeIndex;d=d.currentIndex;var E=this.triggers[d],
F=this.panels[d];if(C>-1){var D=this.triggers[C];C=this.panels[C];A(D,"-1");w&&E.focus();if(!B){C.setAttribute("aria-hidden","true");D.setAttribute("aria-expanded","false")}}A(E,"0");w=F.getAttribute("aria-hidden");F.setAttribute("aria-hidden",w=="false"?"true":"false");E.setAttribute("aria-expanded",w=="false"?"false":"true");k.call(this,this.focusIndex,d);this.focusIndex=d}var f="ks-switchable-select",q=h.Event,i=h.DOM,r=33,x=34,t=35,l=36,o=37,y=38,m=39,a=40,e=9,u=32,z=13;h.mix(p.Config,{aria:true});
p.Plugins.push({name:"aria",init:function(d){if(d.config.aria){var w=d.container,B=d.activeIndex;i.attr(w,"aria-multiselectable",d.config.multiple?"true":"false");i.attr(w,"role","tablist");var C=d.triggers,E=d.panels,F=0;h.each(E,function(D){if(!D.id)D.id=h.guid("ks-switchable-tab-panel")});h.each(C,function(D){if(!D.id)D.id=h.guid("ks-switchable-tab")});h.each(C,function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded",B==F?"true":"false");D.setAttribute("aria-selected",B==F?"true":
"false");D.setAttribute("aria-controls",E[F].id);A(D,B==F?"0":"-1");F++});F=0;h.each(E,function(D){var G=C[F];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden",B==F?"false":"true");D.setAttribute("aria-labelledby",G.id);F++});d.on("switch",c,d);if(B>-1)d.focusIndex=B;q.on(w,"keydown",v,d);q.on(w,"keypress",n,d)}}});var A=g.setTabIndex},{requires:["../aria","./base"]});
KISSY.add("switchable/autoplay",function(h,g,p,s){h.mix(p.Config,{autoplay:false,interval:5,pauseOnHover:true});p.Plugins.push({name:"autoplay",init:function(n){function v(){b=h.later(function(){n.paused||n.switchTo(n.activeIndex<n.length-1?n.activeIndex+1:0,"forward")},j,true)}var k=n.config,j=k.interval*1E3,b;if(k.autoplay){if(k.pauseOnHover){g.on(n.container,"mouseenter",function(){n.stop()});g.on(n.container,"mouseleave",function(){n.start()})}v();n.stop=function(){if(b){b.cancel();b=s}n.paused=
true};n.start=function(){if(b){b.cancel();b=s}n.paused=false;v()}}}});return p},{requires:["event","./base"]});KISSY.add("switchable/autorender",function(h,g,p,s){s.autoRender=function(n,v){n="."+(n||"KS_Widget");g.query(n,v).each(function(k){var j=k.getAttribute("data-widget-type"),b;if(j&&"Switchable Tabs Slide Carousel Accordion".indexOf(j)>-1)try{if(b=k.getAttribute("data-widget-config"))b=b.replace(/'/g,'"');new h[j](k,p.parse(b))}catch(c){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/carousel/base",function(h,g,p,s,n){function v(k,j){if(!(this instanceof v))return new v(k,j);v.superclass.constructor.apply(this,arguments);return 0}v.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};v.Plugins=[];h.extend(v,s,{_init:function(){var k=this;v.superclass._init.call(k);var j=k.config,b=j.disableBtnCls,c=false;h.each(["prev","next"],function(f){var q=k[f+"Btn"]=g.get("."+j[f+"BtnCls"],
k.container);p.on(q,"click",function(i){i.preventDefault();c||g.hasClass(q,b)||k[f]()})});if(!j.circular){k.on("beforeSwitch",function(){c=true});k.on("switch",function(f){f=f.currentIndex;f=f===0?k.prevBtn:f===k.length-1?k.nextBtn:n;g.removeClass([k.prevBtn,k.nextBtn],b);f&&g.addClass(f,b);c=false})}p.on(k.panels,"click",function(){k.fire("itemSelected",{item:this})})}});return v},{requires:["dom","event","../base"]});
KISSY.add("switchable/carousel/aria",function(h,g,p,s,n){function v(m){var a=m.currentIndex,e=this.activeIndex,u=this.panels,z=u[a*this.config.steps],A=this.triggers;a=A[a];if((m=!!m.originalEvent.target)||e==-1){h.each(A,function(d){o(d,-1)});h.each(u,function(d){o(d,-1)});a&&o(a,0);o(z,0);m&&z.focus()}}function k(m){var a;h.each(this.triggers,function(e){if(e==m||g.contains(e,m)){a=e;return false}});return a}function j(m){var a=m.target;switch(m.keyCode){case x:case r:if(a=k.call(this,a)){a=a;var e=
g.next(a),u=this.triggers;e||(e=u[0]);o(a,-1);if(e){o(e,0);e.focus()}m.halt()}break;case i:case q:if(a=k.call(this,a)){a=a;e=g.prev(a);u=this.triggers;e||(e=u[u.length-1]);o(a,-1);if(e){o(e,0);e.focus()}m.halt()}break;case l:case t:if(a=k.call(this,a)){this.switchTo(h.indexOf(a,this.triggers),undefined,y);m.halt()}}}function b(m){var a;h.each(this.panels,function(e){if(e==m||g.contains(e,m)){a=e;return false}});return a}function c(m){var a=h.indexOf(m,this.panels),e=this.config.steps,u=Math.floor(a/
e);if(u==this.activeIndex)return 1;if(a%e==0||a%e==e-1){this.switchTo(u,undefined,undefined,function(){m.focus()});return 0}return 1}function f(m){var a=m.target;switch(m.keyCode){case x:case r:if(a=b.call(this,a)){a=a;var e=g.next(a),u=this.panels;e||(e=u[0]);o(a,-1);o(e,0);c.call(this,e)&&e.focus();m.halt()}break;case i:case q:if(a=b.call(this,a)){a=a;e=g.prev(a);u=this.panels;e||(e=u[u.length-1]);o(a,-1);o(e,0);c.call(this,e)&&e.focus();m.halt()}break;case l:case t:if(a=b.call(this,a)){this.fire("itemSelected",
{item:a});m.halt()}}}var q=37,i=38,r=39,x=40,t=32,l=13,o=s.setTabIndex,y={originalEvent:{target:1}};h.mix(n.Config,{aria:true});n.Plugins.push({name:"aria",init:function(m){if(m.config.aria){var a=m.triggers,e=m.panels,u=m.content,z=m.activeIndex;if(!u.id)u.id=h.guid("ks-switchbale-content");u.setAttribute("role","listbox");var A=0;h.each(a,function(d){o(d,z==A?"0":"-1");d.setAttribute("role","button");d.setAttribute("aria-controls",u.id);A++});A=0;h.each(e,function(d){o(d,"-1");d.setAttribute("role",
"option");A++});m.on("switch",v,m);(a=m.nav)&&p.on(a,"keydown",j,m);p.on(u,"keydown",f,m);a=m.prevBtn;e=m.nextBtn;if(a){o(a,0);a.setAttribute("role","button");p.on(a,"keydown",function(d){if(d.keyCode==l||d.keyCode==t){m.prev(y);d.preventDefault()}})}if(e){o(e,0);e.setAttribute("role","button");p.on(e,"keydown",function(d){if(d.keyCode==l||d.keyCode==t){m.next(y);d.preventDefault()}})}}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/effect",function(h,g,p,s,n,v){var k;h.mix(n.Config,{effect:"none",duration:0.5,easing:"easeNone",nativeAnim:true});n.Effects={none:function(j,b,c){j&&g.css(j,"display","none");g.css(b,"display","block");c()},fade:function(j,b,c){j&&j.length!==1&&h.error("fade effect only supports steps == 1.");var f=this,q=f.config,i=j?j[0]:null,r=b[0];f.anim&&f.anim.stop();g.css(r,"opacity",1);if(i)f.anim=(new s(i,{opacity:0},q.duration,q.easing,function(){f.anim=v;g.css(r,"z-index",9);g.css(i,
"z-index",1);c&&c()},q.nativeAnim)).run();else{g.css(r,"z-index",9);c&&c()}},scroll:function(j,b,c,f){var q=this;j=q.config;b=j.effect==="scrollx";var i={};i[b?"left":"top"]=-(q.viewSize[b?0:1]*f)+"px";q.anim&&q.anim.stop();q.anim=(new s(q.content,i,j.duration,j.easing,function(){q.anim=v;c()},j.nativeAnim)).run()}};k=n.Effects;k.scrollx=k.scrolly=k.scroll;n.Plugins.push({name:"effect",init:function(j){var b=j.config,c=b.effect,f=j.panels,q=j.content,i=b.steps,r=j.activeIndex,x=f.length;j.viewSize=
[b.viewSize[0]||f[0].offsetWidth*i,b.viewSize[1]||f[0].offsetHeight*i];if(c!=="none"){h.each(f,function(y){g.css(y,"display","block")});switch(c){case "scrollx":case "scrolly":g.css(q,"position","absolute");g.css(q.parentNode,"position","relative");if(c==="scrollx"){g.css(f,"float","left");g.width(q,j.viewSize[0]*(x/i))}break;case "fade":var t=r*i,l=t+i-1,o;h.each(f,function(y,m){o=m>=t&&m<=l;g.css(y,{opacity:o?1:0,position:"absolute",zIndex:o?9:1})})}}}});h.augment(n,{_switchView:function(j,b,c,
f,q,i){var r=this,x=r.config.effect;(h.isFunction(x)?x:k[x]).call(r,j,b,function(){r._fireOnSwitch(c,q);i&&i.call(r)},c,f)}});return n},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/circular",function(h,g,p,s){function n(l,o,y,m,a){var e=this;l=e.config;o=e.length;var u=e.activeIndex,z=l.scrollType===t,A=z?c:f,d=e.viewSize[z?0:1];z=-d*m;var w={},B,C=a===x;if(B=C&&u===0&&m===o-1||a===r&&u===o-1&&m===0)z=v.call(e,e.panels,m,C,A,d);w[A]=z+i;e.anim&&e.anim.stop();e.anim=(new p(e.content,w,l.duration,l.easing,function(){B&&k.call(e,e.panels,m,C,A,d);e.anim=undefined;y()},l.nativeAnim)).run()}function v(l,o,y,m,a){var e=this.config.steps;o=this.length;var u=y?
o-1:0,z=(u+1)*e;for(e=u*e;e<z;e++){g.css(l[e],j,b);g.css(l[e],m,(y?-1:1)*a*o)}return y?a:-a*o}function k(l,o,y,m,a){var e=this.config.steps;o=this.length;var u=y?o-1:0,z=(u+1)*e;for(e=u*e;e<z;e++){g.css(l[e],j,q);g.css(l[e],m,q)}g.css(this.content,m,y?-a*(o-1):q)}var j="position",b="relative",c="left",f="top",q="",i="px",r="forward",x="backward",t="scrollx";h.mix(s.Config,{circular:false});s.Plugins.push({name:"circular",init:function(l){l=l.config;if(l.circular&&(l.effect===t||l.effect==="scrolly")){l.scrollType=
l.effect;l.effect=n}}})},{requires:["dom","anim","switchable/base","switchable/effect"]});
KISSY.add("switchable/countdown",function(h,g,p,s,n,v){h.mix(n.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});n.Plugins.push({name:"countdown",init:function(k){function j(l){b();t=(new s(i[l],x,q-1)).run()}function b(){if(f){clearTimeout(f);f=null}if(t){t.stop();t=v}}var c=k.config,f,q=c.interval,i=[],r=c.countdownFromStyle,x=c.countdownToStyle,t;if(!(!c.autoplay||!c.hasTriggers||!c.countdown)){h.each(k.triggers,function(l,o){l.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
l.innerHTML+"</div>";i[o]=l.firstChild});if(c.pauseOnHover){p.on(k.container,"mouseenter",function(){b();var l=i[k.ingIndex];if(r)t=(new s(l,r,0.2,"easeOut")).run();else g.removeAttr(l,"style")});p.on(k.container,"mouseleave",function(){b();var l=k.ingIndex;g.removeAttr(i[l],"style");f=setTimeout(function(){j(l)},200)})}k.on("beforeSwitch",function(){b();g.attr(i[k.activeIndex],"style",r||"")});k.on("switch",function(l){k.paused||j(l.currentIndex)})}}});return n},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/lazyload",function(h,g,p){var s="beforeSwitch",n="img-src",v="area-data",k={};k[n]="data-ks-lazyload-custom";k[v]="ks-datalazyload-custom";h.mix(p.Config,{lazyDataType:v});p.Plugins.push({name:"lazyload",init:function(j){function b(r){var x=f.steps;r=r.toIndex*x;c.loadCustomLazyData(j.panels.slice(r,r+x),q);a:{var t,l;if(r=(x=q===n)?"img":q===v?"textarea":""){r=g.query(r,j.container);t=0;for(l=r.length;t<l;t++)if(x?g.attr(r[t],i):g.hasClass(r[t],i)){x=false;break a}}x=true}x&&
j.detach(s,b)}var c=h.require("datalazyload"),f=j.config,q=f.lazyDataType,i=k[q];!c||!q||!i||j.on(s,b)}});return p},{requires:["dom","switchable/base"]});KISSY.add("switchable/slide/base",function(h,g){function p(s,n){if(!(this instanceof p))return new p(s,n);p.superclass.constructor.apply(this,arguments);return 0}p.Config={autoplay:true,circular:true};p.Plugins=[];h.extend(p,g);return p},{requires:["../base"]});
KISSY.add("switchable/slide/aria",function(h,g,p,s,n){function v(t){var l=this.panels,o=this.__slideIndex;switch(t.keyCode){case f:case c:o++;if(o==l.length)o=0;this.__slideIndex=o;this.switchTo(o,q,undefined,function(){l[o].focus()});t.halt();break;case b:case j:o--;if(o==-1)o=l.length-1;this.__slideIndex=o;this.switchTo(o,i,undefined,function(){l[o].focus()});t.halt()}}function k(t){var l=this;if(h.inArray(t.target,l.panels)){if(x){clearTimeout(x);x=undefined}switch(t.keyCode){case f:case b:case j:case c:t.halt()}x=
setTimeout(function(){v.call(l,t);x=undefined},200)}}var j=37,b=38,c=39,f=40,q="forward",i="backward";h.mix(n.Config,{aria:true});var r=s.setTabIndex;n.Plugins.push({name:"aria",init:function(t){if(t.config.aria){var l=t.panels,o=0,y=t.activeIndex;h.each(t.triggers,function(a){r(a,"-1");o++});o=0;h.each(l,function(a){r(a,y==o?"0":"-1");g.attr(a,"role","option");o++});var m=t.content;g.attr(m,"role","listbox");p.on(m,"keydown",k,t);r(l[0],0);if(y>-1)t.__slideIndex=y;t.on("switch",function(a){a=a.currentIndex;
var e=t.activeIndex;t.__slideIndex=a;e!=-1&&r(l[e],-1);r(l[a],0)})}}});var x},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/tabs/base",function(h,g){function p(s,n){if(!(this instanceof p))return new p(s,n);p.superclass.constructor.call(this,s,n);return 0}h.extend(p,g);p.Config={};p.Plugins=[];return p},{requires:["../base"]});
KISSY.add("switchable/tabs/aria",function(h,g,p){function s(a){var e;h.each(this.triggers,function(u){if(u==a||b.contains(u,a))e=u});return e}function n(a){switch(a.keyCode){case c:case f:a.ctrlKey&&!a.altKey&&!a.shiftKey&&a.halt();break;case o:a.ctrlKey&&!a.altKey&&a.halt()}}function v(a){var e=a.target,u=this.triggers,z=!a.ctrlKey&&!a.shiftKey&&!a.altKey,A=a.ctrlKey&&!a.shiftKey&&!a.altKey;switch(a.keyCode){case r:case x:if(s.call(this,e)){this.prev(y);a.halt()}break;case t:case l:if(s.call(this,
e)){this.next(y);a.halt()}break;case f:if(A){a.halt();this.next(y)}break;case c:if(A){a.halt();this.prev(y)}break;case i:if(z){this.switchTo(0,undefined,y);a.halt()}break;case q:if(z){this.switchTo(u.length-1,undefined,y);a.halt()}break;case o:if(a.ctrlKey&&!a.altKey){a.halt();a.shiftKey?this.prev(y):this.next(y)}}}function k(a){var e=!!a.originalEvent.target,u=this.activeIndex,z=a.currentIndex;if(u!=z){a=this.triggers[u];var A=this.triggers[z];u=this.panels[u];z=this.panels[z];a&&m(a,"-1");m(A,"0");
e&&A.focus();u&&u.setAttribute("aria-hidden","true");z.setAttribute("aria-hidden","false")}}var j=h.Event,b=h.DOM,c=33,f=34,q=35,i=36,r=37,x=38,t=39,l=40,o=9,y={originalEvent:{target:1}};h.mix(p.Config,{aria:true});p.Plugins.push({name:"aria",init:function(a){if(a.config.aria){var e=a.triggers,u=a.activeIndex,z=a.panels,A=a.container;b.attr(A,"role","tablist");var d=0;h.each(e,function(w){w.setAttribute("role","tab");m(w,u==d?"0":"-1");if(!w.id)w.id=h.guid("ks-switchable");d++});d=0;h.each(z,function(w){var B=
e[d];w.setAttribute("role","tabpanel");w.setAttribute("aria-hidden",u==d?"false":"true");w.setAttribute("aria-labelledby",B.id);d++});a.on("switch",k,a);j.on(A,"keydown",v,a);j.on(A,"keypress",n,a)}}});var m=g.setTabIndex},{requires:["../aria","./base"]});
KISSY.add("switchable",function(h,g,p,s,n,v,k,j,b,c,f,q,i,r,x,t){h.Switchable=g;p={Accordion:s,Carousel:j,Slide:r,Tabs:t};h.mix(h,p);h.mix(g,p);return g},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base",
"switchable/tabs/aria"]});
