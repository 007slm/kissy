/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Mar 6 16:04
*/
KISSY.add("switchable/accordion/aria",function(i,c,s,u,o){function w(f){var n;i.each(this.triggers,function(A){if(A==f||c.contains(A,f))n=A});return n}function m(f){var n;i.each(this.panels,function(A){if(A==f||c.contains(A,f))n=A});return n}function d(f){var n=w.call(this,f);if(!n){f=m.call(this,f);n=this.triggers[i.indexOf(f,this.panels)]}return n}function p(f){switch(f.keyCode){case v:case x:f.ctrlKey&&!f.altKey&&!f.shiftKey&&f.halt();break;case j:f.ctrlKey&&!f.altKey&&f.halt()}}function a(f){var n=
f.target,A=this.triggers,E=!f.ctrlKey&&!f.shiftKey&&!f.altKey,F=f.ctrlKey&&!f.shiftKey&&!f.altKey;switch(f.keyCode){case y:case t:if((n=w.call(this,n))&&E){this.switchTo(i.indexOf(n,this.triggers));f.halt()}break;case z:case k:if(n=w.call(this,n)){e.call(this,n);f.halt()}break;case B:case h:if(n=w.call(this,n)){l.call(this,n);f.halt()}break;case x:if(F){f.halt();n=d.call(this,n);l.call(this,n)}break;case v:if(F){f.halt();n=d.call(this,n);e.call(this,n)}break;case q:if(E){d.call(this,n);b.call(this,
0,true);f.halt()}break;case r:if(E){d.call(this,n);b.call(this,A.length-1,true);f.halt()}break;case j:if(f.ctrlKey&&!f.altKey){f.halt();n=d.call(this,n);f.shiftKey?e.call(this,n):l.call(this,n)}}}function b(f,n){var A=this.triggers,E=A[f];i.each(A,function(F){if(F!==E){C(F,"-1");c.removeClass(F,"ks-switchable-select");F.setAttribute("aria-selected","false")}});n&&E.focus();C(E,"0");c.addClass(E,"ks-switchable-select");E.setAttribute("aria-selected","true")}function e(f){var n=this.triggers;f=i.indexOf(f,
n);b.call(this,f==0?n.length-1:f-1,true)}function l(f){var n=this.triggers;f=i.indexOf(f,n);b.call(this,f==n.length-1?0:f+1,true)}function g(f){var n=!!(f.originalEvent.target||f.originalEvent.srcElement);f=f.currentIndex;var A=this.panels,E=this.triggers,F=E[f],G=A[f];if(!this.config.multiple){i.each(A,function(D){D!==G&&D.setAttribute("aria-hidden","true")});i.each(E,function(D){D!==F&&D.setAttribute("aria-hidden","true")})}A=G.getAttribute("aria-hidden");G.setAttribute("aria-hidden",A=="false"?
"true":"false");F.setAttribute("aria-expanded",A=="false"?"false":"true");b.call(this,f,n)}var v=33,x=34,r=35,q=36,z=37,k=38,B=39,h=40,j=9,t=32,y=13;i.mix(o.Config,{aria:true});o.Plugins.push({name:"aria",init:function(f){if(f.config.aria){var n=f.container,A=f.activeIndex;c.attr(n,"aria-multiselectable",f.config.multiple?"true":"false");f.nav&&c.attr(f.nav,"role","tablist");var E=f.triggers,F=f.panels,G=0;i.each(F,function(D){if(!D.id)D.id=i.guid("ks-accordion-tab-panel")});i.each(E,function(D){if(!D.id)D.id=
i.guid("ks-accordion-tab")});i.each(E,function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded",A==G?"true":"false");D.setAttribute("aria-selected",A==G?"true":"false");D.setAttribute("aria-controls",F[G].id);C(D,A==G?"0":"-1");G++});G=0;i.each(F,function(D){var H=E[G];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden",A==G?"false":"true");D.setAttribute("aria-labelledby",H.id);G++});f.on("switch",g,f);s.on(n,"keydown",a,f);s.on(n,"keypress",p,f)}}});var C=u.setTabIndex},
{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/accordion/base",function(i,c,s){function u(o,w){if(!(this instanceof u))return new u(o,w);u.superclass.constructor.apply(this,arguments)}i.extend(u,s,{_switchTrigger:function(o,w){var m=this.config;m.multiple?c.toggleClass(w,m.activeTriggerCls):u.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(o){return this.config.multiple||u.superclass._triggerIsValid.call(this,o)},_switchView:function(o,w,m,d,p,a){var b=w[0];if(this.config.multiple){c.toggle(b);this._fireOnSwitch(m,
p);a&&a.call(this)}else u.superclass._switchView.apply(this,arguments)}});u.Plugins=[];u.Config={markupType:1,triggerType:"click",multiple:false};return u},{requires:["dom","../base"]});
KISSY.add("switchable/aria",function(i,c,s,u){function o(){this.stop&&this.stop()}function w(){this.start&&this.start()}u.Plugins.push({name:"aria",init:function(d){if(d.config.aria){var p=d.container;s.on(p,"focusin",o,d);s.on(p,"focusout",w,d)}}});var m=["a","input","button","object"];return{setTabIndex:function(d,p){d.tabIndex=p;i.each(c.query("*",d),function(a){var b=a.nodeName.toLowerCase();if(i.inArray(b,m)){c.hasAttr(a,"oriTabIndex")||c.attr(a,"oriTabIndex",a.tabIndex);a.tabIndex=p!=-1?c.attr(a,
"oriTabIndex"):p}})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/autoplay",function(i,c,s,u,o){var w=i.Env.host,m=function(d){var p=c.scrollTop(),a=c.viewportHeight(),b=c.offset(d);d=c.height(d);return b.top>p&&b.top+d<p+a};i.mix(u.Config,{pauseOnScroll:false,autoplay:false,interval:5,pauseOnHover:true});u.Plugins.push({name:"autoplay",init:function(d){function p(){e=i.later(function(){d.paused||d.switchTo(d.activeIndex<d.length-1?d.activeIndex+1:0,"forward")},b,true)}var a=d.config,b=a.interval*1E3,e;if(a.autoplay){if(a.pauseOnScroll){d.__scrollDetect=
i.buffer(function(){d[m(d.container)?"start":"stop"]()},200);s.on(w,"scroll",d.__scrollDetect)}p();d.stop=function(){if(e){e.cancel();e=o}d.paused=true};d.start=function(){if(e){e.cancel();e=o}d.paused=false;p()};if(a.pauseOnHover){s.on(d.container,"mouseenter",d.stop,d);s.on(d.container,"mouseleave",d.start,d)}}},destroy:function(d){d.__scrollDetect&&s.remove(w,"scroll",d.__scrollDetect)}});return u},{requires:["dom","event","./base"]});
KISSY.add("switchable/autorender",function(i,c,s,u){u.autoRender=function(o,w){o="."+(o||"KS_Widget");i.each(c.query(o,w),function(m){var d=m.getAttribute("data-widget-type"),p;if(d&&"Switchable Tabs Slide Carousel Accordion".indexOf(d)>-1)try{if(p=m.getAttribute("data-widget-config"))p=p.replace(/'/g,'"');new (d=="Switchable"?u:u[d])(m,s.parse(p))}catch(a){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/base",function(i,c,s,u){function o(a,b){b=b||{};if(!("markupType"in b))if(b.panelCls)b.markupType=1;else if(b.panels)b.markupType=2;for(var e=this.constructor;e;){b=i.merge(e.Config,b);e=e.superclass?e.superclass.constructor:null}this.container=c.get(a);this.config=b;this.activeIndex=this.completedIndex=b.activeIndex;if(!(this.activeIndex>-1))if(typeof b.switchTo!="number")this.completedIndex=this.activeIndex=0;this._init();this._initPlugins();this.fire(p);this.activeIndex>-1||
typeof b.switchTo=="number"&&this.switchTo(b.switchTo)}function w(a){var b={};b.type=a.originalEvent.type;b.target=a.originalEvent.target||a.originalEvent.srcElement;return{originalEvent:b}}var m=i.makeArray,d=s.Target,p="init";o.getDomEvent=w;o.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",
steps:1,viewSize:[]};o.Plugins=[];i.augment(o,d,{_initPlugins:function(){for(var a=this,b=a.constructor;b;){i.each(b.Plugins,function(e){e.init&&e.init(a)});b=b.superclass?b.superclass.constructor:null}},_init:function(){var a=this.config;this._parseMarkup();a.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var a=this.container,b=this.config,e,l,g=[],v=[];switch(b.markupType){case 0:if(e=c.get("."+b.navCls,a))g=c.children(e);l=c.get("."+b.contentCls,a);v=c.children(l);break;case 1:g=c.query("."+
b.triggerCls,a);v=c.query("."+b.panelCls,a);break;case 2:g=b.triggers;v=b.panels}a=v.length;this.length=Math.ceil(a/b.steps);if(b.hasTriggers&&a>0&&g.length===0)g=this._generateTriggersMarkup(this.length);this.triggers=m(g);this.panels=m(v);this.content=l||v[0].parentNode;this.nav=e||b.hasTriggers&&g[0].parentNode},_generateTriggersMarkup:function(a){var b=this.config,e=c.create("<ul>"),l,g;e.className=b.navCls;for(g=0;g<a;g++){l=c.create("<li>");if(g===this.activeIndex)l.className=b.activeTriggerCls;
l.innerHTML=g+1;e.appendChild(l)}this.container.appendChild(e);return c.children(e)},_bindTriggers:function(){var a=this,b=a.config,e=a.triggers,l,g,v=e.length;for(g=0;g<v;g++)(function(x){l=e[x];s.on(l,"click",function(r){a._onFocusTrigger(x,r)});if(b.triggerType==="mouse"){s.on(l,"mouseenter",function(r){a._onMouseEnterTrigger(x,r)});s.on(l,"mouseleave",function(){a._onMouseLeaveTrigger(x)})}})(g)},_onFocusTrigger:function(a,b){if(this._triggerIsValid(a)){this._cancelSwitchTimer();this.switchTo(a,
u,w(b))}},_onMouseEnterTrigger:function(a,b){var e=this;if(e._triggerIsValid(a)){var l=w(b);e.switchTimer=i.later(function(){e.switchTo(a,u,l)},e.config.delay*1E3)}},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(a){return this.activeIndex!==a},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=u}},switchTo:function(a,b,e,l){var g=this,v=g.config,x=g.triggers,r=g.panels,q=g.activeIndex,z=v.steps,k=q*z,B=a*z;if(!g._triggerIsValid(a))return g;
if(g.fire("beforeSwitch",{toIndex:a})===false)return g;if(v.hasTriggers)g._switchTrigger(q>-1?x[q]:null,x[a]);if(b===u)b=a>q?"forward":"backward";g._switchView(q>-1?r.slice(k,k+z):null,r.slice(B,B+z),a,b,e,function(){l&&l.call(g,a);g.completedIndex=a});g.activeIndex=a;return g},_switchTrigger:function(a,b){var e=this.config.activeTriggerCls;a&&c.removeClass(a,e);c.addClass(b,e)},_switchView:function(a,b,e,l,g,v){a&&c.css(a,"display","none");c.css(b,"display","block");this._fireOnSwitch(e,g);v&&v.call(this)},
_fireOnSwitch:function(a,b){this.fire("switch",i.mix(b||{},{currentIndex:a}))},prev:function(a){var b=this.activeIndex;this.switchTo(b>0?b-1:this.length-1,"backward",a)},next:function(a){var b=this.activeIndex;this.switchTo(b<this.length-1?b+1:0,"forward",a)},destroy:function(){for(var a=this,b=a.constructor;b;){i.each(b.Plugins,function(e){e.destroy&&e.destroy(a)});b=b.superclass?b.superclass.constructor:null}}});return o},{requires:["dom","event"]});
KISSY.add("switchable/carousel/aria",function(i,c,s,u,o){function w(h){var j=h.currentIndex,t=this.activeIndex,y=this.panels,C=y[j*this.config.steps],f=this.triggers;j=f[j];if((h=!!(h.originalEvent.target||h.originalEvent.srcElement))||t==-1){i.each(f,function(n){q(n,-1)});i.each(y,function(n){q(n,-1)});j&&q(j,0);q(C,0);h&&C.focus()}}function m(h){var j;i.each(this.triggers,function(t){if(t==h||c.contains(t,h)){j=t;return false}});return j}function d(h){var j=h.target;switch(h.keyCode){case v:case g:if(j=
m.call(this,j)){j=j;var t=c.next(j),y=this.triggers;t||(t=y[0]);q(j,-1);if(t){q(t,0);t.focus()}h.halt()}break;case l:case e:if(j=m.call(this,j)){j=j;t=c.prev(j);y=this.triggers;t||(t=y[y.length-1]);q(j,-1);if(t){q(t,0);t.focus()}h.halt()}break;case r:case x:if(j=m.call(this,j)){this.switchTo(i.indexOf(j,this.triggers),undefined,z);h.halt()}}}function p(h){var j;i.each(this.panels,function(t){if(t==h||c.contains(t,h)){j=t;return false}});return j}function a(h,j){var t=i.indexOf(h,this.panels),y=this.config.steps,
C=Math.floor(t/y);if(C==this.activeIndex)return 1;if(t%y==0||t%y==y-1){this.switchTo(C,j,z);return 0}return 1}function b(h){var j=h.target;switch(h.keyCode){case v:case g:if(j=p.call(this,j)){j=j;var t=c.next(j),y=this.panels;t||(t=y[0]);q(j,-1);q(t,0);a.call(this,t,k)&&t.focus();h.halt()}break;case l:case e:if(j=p.call(this,j)){j=j;t=c.prev(j);y=this.panels;t||(t=y[y.length-1]);q(j,-1);q(t,0);a.call(this,t,B)&&t.focus();h.halt()}break;case r:case x:if(j=p.call(this,j)){this.fire("itemSelected",{item:j});
h.halt()}}}var e=37,l=38,g=39,v=40,x=32,r=13,q=u.setTabIndex,z={originalEvent:{target:1}},k="forward",B="backward";i.mix(o.Config,{aria:false});o.Plugins.push({name:"aria",init:function(h){if(h.config.aria){var j=h.triggers,t=h.panels,y=h.content,C=h.activeIndex;if(!y.id)y.id=i.guid("ks-switchbale-content");y.setAttribute("role","listbox");var f=0;i.each(j,function(n){q(n,C==f?"0":"-1");n.setAttribute("role","button");n.setAttribute("aria-controls",y.id);f++});f=0;i.each(t,function(n){q(n,"-1");n.setAttribute("role",
"option");f++});h.on("switch",w,h);(j=h.nav)&&s.on(j,"keydown",d,h);s.on(y,"keydown",b,h);j=h.prevBtn;t=h.nextBtn;if(j){q(j,0);j.setAttribute("role","button");s.on(j,"keydown",function(n){if(n.keyCode==r||n.keyCode==x){h.prev(z);n.preventDefault()}})}if(t){q(t,0);t.setAttribute("role","button");s.on(t,"keydown",function(n){if(n.keyCode==r||n.keyCode==x){h.next(z);n.preventDefault()}})}}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/carousel/base",function(i,c,s,u){function o(m,d){if(!(this instanceof o))return new o(m,d);o.superclass.constructor.apply(this,arguments)}var w={originalEvent:{target:1}};o.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};o.Plugins=[];i.extend(o,u,{_init:function(){var m=this;o.superclass._init.call(m);var d=m.config,p=d.disableBtnCls;i.each(["prev","next"],function(a){var b=m[a+"Btn"]=c.get("."+
d[a+"BtnCls"],m.container);s.on(b,"mousedown",function(e){e.preventDefault();c.hasClass(b,p)||m[a](w)})});d.circular||m.on("switch",function(a){a=a.currentIndex;c.removeClass([m.prevBtn,m.nextBtn],p);a==0&&c.addClass(m.prevBtn,p);a==m.length-1&&c.addClass(m.nextBtn,p)});s.on(m.panels,"click",function(){m.fire("itemSelected",{item:this})})}});return o},{requires:["dom","event","../base"]});
KISSY.add("switchable/circular",function(i,c,s,u){function o(r,q,z,k,B){var h=this;q=h.config;var j=h.length,t=h.activeIndex,y=q.scrollType===x,C=y?a:b,f=h.viewSize[y?0:1];y=-f*k;var n={},A,E=B===v;if(A=E&&t===0&&k===j-1||B===g&&t===j-1&&k===0)y=w.call(h,h.panels,k,E,C,f);n[C]=y+l;h.anim&&h.anim.stop();if(r)h.anim=(new s(h.content,n,q.duration,q.easing,function(){A&&m.call(h,h.panels,k,E,C,f);h.anim=undefined;z&&z()})).run();else{c.css(h.content,n);z&&z()}}function w(r,q,z,k,B){var h=this.config.steps;
q=this.length;var j=z?q-1:0;r=r.slice(j*h,(j+1)*h);c.css(r,d,p);c.css(r,k,(z?-1:1)*B*q);return z?B:-B*q}function m(r,q,z,k,B){var h=this.config.steps;q=this.length;var j=z?q-1:0;r=r.slice(j*h,(j+1)*h);c.css(r,d,e);c.css(r,k,e);c.css(this.content,k,z?-B*(q-1):e)}var d="position",p="relative",a="left",b="top",e="",l="px",g="forward",v="backward",x="scrollx";i.mix(u.Config,{circular:false});u.Plugins.push({name:"circular",init:function(r){r=r.config;if(r.circular&&(r.effect===x||r.effect==="scrolly")){r.scrollType=
r.effect;r.effect=o}}})},{requires:["dom","anim","./base","./effect"]});
KISSY.add("switchable/countdown",function(i,c,s,u,o,w){i.mix(o.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});o.Plugins.push({name:"countdown",init:function(m){function d(r){p();x=(new u(l[r],v,e-1)).run()}function p(){if(b){clearTimeout(b);b=null}if(x){x.stop();x=w}}var a=m.config,b,e=a.interval,l=[],g=a.countdownFromStyle,v=a.countdownToStyle,x;if(!(!a.autoplay||!a.hasTriggers||!a.countdown)){i.each(m.triggers,function(r,q){r.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
r.innerHTML+"</div>";l[q]=r.firstChild});if(a.pauseOnHover){s.on(m.container,"mouseenter",function(){p();var r=l[m.activeIndex];if(g)x=(new u(r,g,0.2,"easeOut")).run();else c.attr(r,"style","")});s.on(m.container,"mouseleave",function(){p();var r=m.activeIndex;c.attr(l[r],"style",g);b=setTimeout(function(){d(r)},200)})}m.on("beforeSwitch",function(){p();if(l[m.activeIndex])c.attr(l[m.activeIndex],"style",g||"")});m.on("switch",function(r){m.paused||d(r.currentIndex)});m.activeIndex>-1&&d(m.activeIndex)}}});
return o},{requires:["dom","event","anim","./base"]});
KISSY.add("switchable/effect",function(i,c,s,u,o,w){var m;i.mix(o.Config,{effect:"none",duration:0.5,easing:"easeNone"});o.Effects={none:function(d,p,a){d&&c.css(d,"display","none");c.css(p,"display","block");a&&a()},fade:function(d,p,a){var b=this,e=b.config,l=d?d[0]:null,g=p[0];if(b.anim){b.anim.stop();c.css(b.anim.fromEl,{zIndex:1,opacity:0});c.css(b.anim.toEl,"zIndex",9)}c.css(g,"opacity",1);if(l){b.anim=(new u(l,{opacity:0},e.duration,e.easing,function(){b.anim=w;c.css(g,"z-index",9);c.css(l,
"z-index",1);a&&a()})).run();b.anim.toEl=g;b.anim.fromEl=l}else{c.css(g,"z-index",9);a&&a()}},scroll:function(d,p,a,b){var e=this;p=e.config;var l=p.effect==="scrollx",g={};g[l?"left":"top"]=-(e.viewSize[l?0:1]*b)+"px";e.anim&&e.anim.stop();if(d)e.anim=(new u(e.content,g,p.duration,p.easing,function(){e.anim=w;a&&a()})).run();else{c.css(e.content,g);a&&a()}}};m=o.Effects;m.scrollx=m.scrolly=m.scroll;o.Plugins.push({name:"effect",init:function(d){var p=d.config,a=p.effect,b=d.panels,e=d.content,l=
p.steps,g=d.activeIndex,v=b.length;d.viewSize=[p.viewSize[0]||b[0].offsetWidth*l,p.viewSize[1]||b[0].offsetHeight*l];if(a!=="none"){c.css(b,"display","block");switch(a){case "scrollx":case "scrolly":c.css(e,"position","absolute");c.css(e.parentNode,"position")=="static"&&c.css(e.parentNode,"position","relative");if(a==="scrollx"){c.css(b,"float","left");c.width(e,d.viewSize[0]*(v/l))}break;case "fade":var x=g*l,r=x+l-1,q;i.each(b,function(z,k){q=k>=x&&k<=r;c.css(z,{opacity:q?1:0,position:"absolute",
zIndex:q?9:1})})}}}});i.augment(o,{_switchView:function(d,p,a,b,e,l){var g=this,v=g.config.effect;(i.isFunction(v)?v:m[v]).call(g,d,p,function(){g._fireOnSwitch(a,e);l&&l.call(g)},a,b)}});return o},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/lazyload",function(i,c,s){var u="beforeSwitch",o="img",w="textarea",m={};m[o]="lazyImgAttribute";m[w]="lazyTextareaClass";i.mix(s.Config,{lazyImgAttribute:"data-ks-lazyload-custom",lazyTextareaClass:"ks-datalazyload-custom",lazyDataType:w});s.Plugins.push({name:"lazyload",init:function(d){function p(g){var v=b.steps;g=g.toIndex*v;a.loadCustomLazyData(d.panels.slice(g,g+v),e,l);a:{var x,r,q;if(g=(v=e===o)?"img":e===w?"textarea":""){g=c.query(g,d.container);x=0;for(q=g.length;x<
q;x++){r=g[x];if(v?c.attr(r,l):c.hasClass(r,l)){v=false;break a}}}v=true}v&&d.detach(u,p)}var a=i.require("datalazyload"),b=d.config,e,l;if(b.lazyDataType==="img-src")b.lazyDataType=o;if(b.lazyDataType==="area-data")b.lazyDataType=w;e=b.lazyDataType;l=b[m[e]];!a||!e||!l||d.on(u,p)}});return s},{requires:["dom","./base"]});
KISSY.add("switchable/slide/aria",function(i,c,s,u,o){function w(l){switch(l.keyCode){case a:case p:this.next(b);l.halt();break;case d:case m:this.prev(b);l.halt()}}var m=37,d=38,p=39,a=40;i.mix(o.Config,{aria:false});var b={originalEvent:{target:1}},e=u.setTabIndex;o.Plugins.push({name:"aria",init:function(l){if(l.config.aria){var g=l.panels,v=0,x=l.activeIndex;i.each(l.triggers,function(q){e(q,"-1");v++});v=0;i.each(g,function(q){e(q,x==v?"0":"-1");c.attr(q,"role","option");v++});var r=l.content;
c.attr(r,"role","listbox");s.on(r,"keydown",w,l);e(g[0],0);l.on("switch",function(q){var z=q.currentIndex;q=!!(q.originalEvent.target||q.originalEvent.srcElement);var k=l.completedIndex;k>-1&&e(g[k],-1);e(g[z],0);q&&g[z].focus()})}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/slide/base",function(i,c){function s(u,o){if(!(this instanceof s))return new s(u,o);s.superclass.constructor.apply(this,arguments)}s.Config={autoplay:true,circular:true};s.Plugins=[];i.extend(s,c);return s},{requires:["../base"]});
KISSY.add("switchable",function(i,c,s,u,o,w,m,d,p,a,b,e,l,g,v,x){i.mix(c,{Accordion:u,Carousel:d,Slide:g,Tabs:x});return c},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base","switchable/tabs/aria"]});
KISSY.add("switchable/tabs/aria",function(i,c,s,u,o,w){function m(k){var B;i.each(this.triggers,function(h){if(h==k||c.contains(h,k))B=h});return B}function d(k){switch(k.keyCode){case b:case e:k.ctrlKey&&!k.altKey&&!k.shiftKey&&k.halt();break;case r:k.ctrlKey&&!k.altKey&&k.halt()}}function p(k){var B=k.target,h=k.ctrlKey&&!k.shiftKey&&!k.altKey;switch(k.keyCode){case l:case g:if(m.call(this,B)){this.prev(z(k));k.halt()}break;case v:case x:if(m.call(this,B)){this.next(z(k));k.halt()}break;case e:if(h){k.halt();
this.next(z(k))}break;case b:if(h){k.halt();this.prev(z(k))}break;case r:if(k.ctrlKey&&!k.altKey){k.halt();k.shiftKey?this.prev(z(k)):this.next(z(k))}}}function a(k){var B=!!(k.originalEvent.target||k.originalEvent.srcElement),h=this.completedIndex,j=k.currentIndex;if(h!=j){k=this.triggers[h];var t=this.triggers[j];h=this.panels[h];j=this.panels[j];k&&q(k,"-1");q(t,"0");B&&t.focus();h&&h.setAttribute("aria-hidden","true");j.setAttribute("aria-hidden","false")}}var b=33,e=34,l=37,g=38,v=39,x=40,r=
9;i.mix(w.Config,{aria:true});w.Plugins.push({name:"aria",init:function(k){if(k.config.aria){var B=k.triggers,h=k.activeIndex,j=k.panels,t=k.container;k.nav&&c.attr(k.nav,"role","tablist");var y=0;i.each(B,function(C){C.setAttribute("role","tab");q(C,h==y?"0":"-1");if(!C.id)C.id=i.guid("ks-switchable");y++});y=0;i.each(j,function(C){var f=B[y];C.setAttribute("role","tabpanel");C.setAttribute("aria-hidden",h==y?"false":"true");C.setAttribute("aria-labelledby",f.id);y++});k.on("switch",a,k);s.on(t,
"keydown",p,k);s.on(t,"keypress",d,k)}}});var q=o.setTabIndex,z=u.getDomEvent},{requires:["dom","event","../base","../aria","./base"]});KISSY.add("switchable/tabs/base",function(i,c){function s(u,o){if(!(this instanceof s))return new s(u,o);s.superclass.constructor.call(this,u,o);return 0}i.extend(s,c);s.Config={};s.Plugins=[];return s},{requires:["../base"]});
