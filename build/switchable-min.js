/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Mar 5 15:18
*/
KISSY.add("switchable/accordion/aria",function(i,d,s,u,p){function w(e){var n;i.each(this.triggers,function(A){if(A==e||d.contains(A,e))n=A});return n}function c(e){var n;i.each(this.panels,function(A){if(A==e||d.contains(A,e))n=A});return n}function m(e){var n=w.call(this,e);if(!n){e=c.call(this,e);n=this.triggers[i.indexOf(e,this.panels)]}return n}function o(e){switch(e.keyCode){case v:case x:e.ctrlKey&&!e.altKey&&!e.shiftKey&&e.halt();break;case j:e.ctrlKey&&!e.altKey&&e.halt()}}function b(e){var n=
e.target,A=this.triggers,E=!e.ctrlKey&&!e.shiftKey&&!e.altKey,F=e.ctrlKey&&!e.shiftKey&&!e.altKey;switch(e.keyCode){case y:case t:if((n=w.call(this,n))&&E){this.switchTo(i.indexOf(n,this.triggers));e.halt()}break;case z:case k:if(n=w.call(this,n)){f.call(this,n);e.halt()}break;case B:case h:if(n=w.call(this,n)){l.call(this,n);e.halt()}break;case x:if(F){e.halt();n=m.call(this,n);l.call(this,n)}break;case v:if(F){e.halt();n=m.call(this,n);f.call(this,n)}break;case q:if(E){m.call(this,n);a.call(this,
0,true);e.halt()}break;case r:if(E){m.call(this,n);a.call(this,A.length-1,true);e.halt()}break;case j:if(e.ctrlKey&&!e.altKey){e.halt();n=m.call(this,n);e.shiftKey?f.call(this,n):l.call(this,n)}}}function a(e,n){var A=this.triggers,E=A[e];i.each(A,function(F){if(F!==E){C(F,"-1");d.removeClass(F,"ks-switchable-select");F.setAttribute("aria-selected","false")}});n&&E.focus();C(E,"0");d.addClass(E,"ks-switchable-select");E.setAttribute("aria-selected","true")}function f(e){var n=this.triggers;e=i.indexOf(e,
n);a.call(this,e==0?n.length-1:e-1,true)}function l(e){var n=this.triggers;e=i.indexOf(e,n);a.call(this,e==n.length-1?0:e+1,true)}function g(e){var n=!!(e.originalEvent.target||e.originalEvent.srcElement);e=e.currentIndex;var A=this.panels,E=this.triggers,F=E[e],G=A[e];if(!this.config.multiple){i.each(A,function(D){D!==G&&D.setAttribute("aria-hidden","true")});i.each(E,function(D){D!==F&&D.setAttribute("aria-hidden","true")})}A=G.getAttribute("aria-hidden");G.setAttribute("aria-hidden",A=="false"?
"true":"false");F.setAttribute("aria-expanded",A=="false"?"false":"true");a.call(this,e,n)}var v=33,x=34,r=35,q=36,z=37,k=38,B=39,h=40,j=9,t=32,y=13;i.mix(p.Config,{aria:true});p.Plugins.push({name:"aria",init:function(e){if(e.config.aria){var n=e.container,A=e.activeIndex;d.attr(n,"aria-multiselectable",e.config.multiple?"true":"false");e.nav&&d.attr(e.nav,"role","tablist");var E=e.triggers,F=e.panels,G=0;i.each(F,function(D){if(!D.id)D.id=i.guid("ks-accordion-tab-panel")});i.each(E,function(D){if(!D.id)D.id=
i.guid("ks-accordion-tab")});i.each(E,function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded",A==G?"true":"false");D.setAttribute("aria-selected",A==G?"true":"false");D.setAttribute("aria-controls",F[G].id);C(D,A==G?"0":"-1");G++});G=0;i.each(F,function(D){var H=E[G];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden",A==G?"false":"true");D.setAttribute("aria-labelledby",H.id);G++});e.on("switch",g,e);s.on(n,"keydown",b,e);s.on(n,"keypress",o,e)}}});var C=u.setTabIndex},
{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/accordion/base",function(i,d,s){function u(p,w){if(!(this instanceof u))return new u(p,w);u.superclass.constructor.apply(this,arguments)}i.extend(u,s,{_switchTrigger:function(p,w){var c=this.config;c.multiple?d.toggleClass(w,c.activeTriggerCls):u.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(p){return this.config.multiple||u.superclass._triggerIsValid.call(this,p)},_switchView:function(p,w,c,m,o,b){var a=w[0];if(this.config.multiple){d.toggle(a);this._fireOnSwitch(c,
o);b&&b.call(this)}else u.superclass._switchView.apply(this,arguments)}});u.Plugins=[];u.Config={markupType:1,triggerType:"click",multiple:false};return u},{requires:["dom","../base"]});
KISSY.add("switchable/aria",function(i,d,s,u){function p(){this.stop&&this.stop()}function w(){this.start&&this.start()}u.Plugins.push({name:"aria",init:function(m){if(m.config.aria){var o=m.container;s.on(o,"focusin",p,m);s.on(o,"focusout",w,m)}}});var c=["a","input","button","object"];return{setTabIndex:function(m,o){m.tabIndex=o;i.each(d.query("*",m),function(b){var a=b.nodeName.toLowerCase();if(i.inArray(a,c)){d.hasAttr(b,"oriTabIndex")||d.attr(b,"oriTabIndex",b.tabIndex);b.tabIndex=o!=-1?d.attr(b,
"oriTabIndex"):o}})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/autoplay",function(i,d,s,u,p){var w=function(c){var m=d.scrollTop(),o=d.viewportHeight(),b=d.offset(c);c=d.height(c);return b.top>m&&b.top+c<m+o};i.mix(u.Config,{pauseOnScroll:false,autoplay:false,interval:5,pauseOnHover:true});u.Plugins.push({name:"autoplay",init:function(c){function m(){a=i.later(function(){c.paused||c.switchTo(c.activeIndex<c.length-1?c.activeIndex+1:0,"forward")},b,true)}var o=c.config,b=o.interval*1E3,a;if(o.autoplay){if(o.pauseOnScroll){c.__scrollDetect=
i.buffer(function(){c[w(c.container)?"start":"stop"]()},200);s.on(window,"scroll",c.__scrollDetect)}m();c.stop=function(){if(a){a.cancel();a=p}c.paused=true};c.start=function(){if(a){a.cancel();a=p}c.paused=false;m()};if(o.pauseOnHover){s.on(c.container,"mouseenter",c.stop,c);s.on(c.container,"mouseleave",c.start,c)}}},destroy:function(c){c.__scrollDetect&&s.remove(window,"scroll",c.__scrollDetect)}});return u},{requires:["dom","event","./base"]});
KISSY.add("switchable/autorender",function(i,d,s,u){u.autoRender=function(p,w){p="."+(p||"KS_Widget");i.each(d.query(p,w),function(c){var m=c.getAttribute("data-widget-type"),o;if(m&&"Switchable Tabs Slide Carousel Accordion".indexOf(m)>-1)try{if(o=c.getAttribute("data-widget-config"))o=o.replace(/'/g,'"');new (m=="Switchable"?u:u[m])(c,s.parse(o))}catch(b){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/base",function(i,d,s,u){function p(b,a){a=a||{};if(!("markupType"in a))if(a.panelCls)a.markupType=1;else if(a.panels)a.markupType=2;for(var f=this.constructor;f;){a=i.merge(f.Config,a);f=f.superclass?f.superclass.constructor:null}this.container=d.get(b);this.config=a;this.activeIndex=this.completedIndex=a.activeIndex;if(!(this.activeIndex>-1))if(typeof a.switchTo!="number")this.completedIndex=this.activeIndex=0;this._init();this._initPlugins();this.fire(o);this.activeIndex>-1||
typeof a.switchTo=="number"&&this.switchTo(a.switchTo)}function w(b){var a={};a.type=b.originalEvent.type;a.target=b.originalEvent.target||b.originalEvent.srcElement;return{originalEvent:a}}var c=i.makeArray,m=s.Target,o="init";p.getDomEvent=w;p.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",
steps:1,viewSize:[]};p.Plugins=[];i.augment(p,m,{_initPlugins:function(){for(var b=this,a=b.constructor;a;){i.each(a.Plugins,function(f){f.init&&f.init(b)});a=a.superclass?a.superclass.constructor:null}},_init:function(){var b=this.config;this._parseMarkup();b.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var b=this.container,a=this.config,f,l,g=[],v=[];switch(a.markupType){case 0:if(f=d.get("."+a.navCls,b))g=d.children(f);l=d.get("."+a.contentCls,b);v=d.children(l);break;case 1:g=d.query("."+
a.triggerCls,b);v=d.query("."+a.panelCls,b);break;case 2:g=a.triggers;v=a.panels}b=v.length;this.length=Math.ceil(b/a.steps);if(a.hasTriggers&&b>0&&g.length===0)g=this._generateTriggersMarkup(this.length);this.triggers=c(g);this.panels=c(v);this.content=l||v[0].parentNode;this.nav=f||a.hasTriggers&&g[0].parentNode},_generateTriggersMarkup:function(b){var a=this.config,f=d.create("<ul>"),l,g;f.className=a.navCls;for(g=0;g<b;g++){l=d.create("<li>");if(g===this.activeIndex)l.className=a.activeTriggerCls;
l.innerHTML=g+1;f.appendChild(l)}this.container.appendChild(f);return d.children(f)},_bindTriggers:function(){var b=this,a=b.config,f=b.triggers,l,g,v=f.length;for(g=0;g<v;g++)(function(x){l=f[x];s.on(l,"click",function(r){b._onFocusTrigger(x,r)});if(a.triggerType==="mouse"){s.on(l,"mouseenter",function(r){b._onMouseEnterTrigger(x,r)});s.on(l,"mouseleave",function(){b._onMouseLeaveTrigger(x)})}})(g)},_onFocusTrigger:function(b,a){if(this._triggerIsValid(b)){this._cancelSwitchTimer();this.switchTo(b,
u,w(a))}},_onMouseEnterTrigger:function(b,a){var f=this;if(f._triggerIsValid(b)){var l=w(a);f.switchTimer=i.later(function(){f.switchTo(b,u,l)},f.config.delay*1E3)}},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(b){return this.activeIndex!==b},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=u}},switchTo:function(b,a,f,l){var g=this,v=g.config,x=g.triggers,r=g.panels,q=g.activeIndex,z=v.steps,k=q*z,B=b*z;if(!g._triggerIsValid(b))return g;
if(g.fire("beforeSwitch",{toIndex:b})===false)return g;if(v.hasTriggers)g._switchTrigger(q>-1?x[q]:null,x[b]);if(a===u)a=b>q?"forward":"backward";g._switchView(q>-1?r.slice(k,k+z):null,r.slice(B,B+z),b,a,f,function(){l&&l.call(g,b);g.completedIndex=b});g.activeIndex=b;return g},_switchTrigger:function(b,a){var f=this.config.activeTriggerCls;b&&d.removeClass(b,f);d.addClass(a,f)},_switchView:function(b,a,f,l,g,v){b&&d.css(b,"display","none");d.css(a,"display","block");this._fireOnSwitch(f,g);v&&v.call(this)},
_fireOnSwitch:function(b,a){this.fire("switch",i.mix(a||{},{currentIndex:b}))},prev:function(b){var a=this.activeIndex;this.switchTo(a>0?a-1:this.length-1,"backward",b)},next:function(b){var a=this.activeIndex;this.switchTo(a<this.length-1?a+1:0,"forward",b)},destroy:function(){for(var b=this,a=b.constructor;a;){i.each(a.Plugins,function(f){f.destroy&&f.destroy(b)});a=a.superclass?a.superclass.constructor:null}}});return p},{requires:["dom","event"]});
KISSY.add("switchable/carousel/aria",function(i,d,s,u,p){function w(h){var j=h.currentIndex,t=this.activeIndex,y=this.panels,C=y[j*this.config.steps],e=this.triggers;j=e[j];if((h=!!(h.originalEvent.target||h.originalEvent.srcElement))||t==-1){i.each(e,function(n){q(n,-1)});i.each(y,function(n){q(n,-1)});j&&q(j,0);q(C,0);h&&C.focus()}}function c(h){var j;i.each(this.triggers,function(t){if(t==h||d.contains(t,h)){j=t;return false}});return j}function m(h){var j=h.target;switch(h.keyCode){case v:case g:if(j=
c.call(this,j)){j=j;var t=d.next(j),y=this.triggers;t||(t=y[0]);q(j,-1);if(t){q(t,0);t.focus()}h.halt()}break;case l:case f:if(j=c.call(this,j)){j=j;t=d.prev(j);y=this.triggers;t||(t=y[y.length-1]);q(j,-1);if(t){q(t,0);t.focus()}h.halt()}break;case r:case x:if(j=c.call(this,j)){this.switchTo(i.indexOf(j,this.triggers),undefined,z);h.halt()}}}function o(h){var j;i.each(this.panels,function(t){if(t==h||d.contains(t,h)){j=t;return false}});return j}function b(h,j){var t=i.indexOf(h,this.panels),y=this.config.steps,
C=Math.floor(t/y);if(C==this.activeIndex)return 1;if(t%y==0||t%y==y-1){this.switchTo(C,j,z);return 0}return 1}function a(h){var j=h.target;switch(h.keyCode){case v:case g:if(j=o.call(this,j)){j=j;var t=d.next(j),y=this.panels;t||(t=y[0]);q(j,-1);q(t,0);b.call(this,t,k)&&t.focus();h.halt()}break;case l:case f:if(j=o.call(this,j)){j=j;t=d.prev(j);y=this.panels;t||(t=y[y.length-1]);q(j,-1);q(t,0);b.call(this,t,B)&&t.focus();h.halt()}break;case r:case x:if(j=o.call(this,j)){this.fire("itemSelected",{item:j});
h.halt()}}}var f=37,l=38,g=39,v=40,x=32,r=13,q=u.setTabIndex,z={originalEvent:{target:1}},k="forward",B="backward";i.mix(p.Config,{aria:false});p.Plugins.push({name:"aria",init:function(h){if(h.config.aria){var j=h.triggers,t=h.panels,y=h.content,C=h.activeIndex;if(!y.id)y.id=i.guid("ks-switchbale-content");y.setAttribute("role","listbox");var e=0;i.each(j,function(n){q(n,C==e?"0":"-1");n.setAttribute("role","button");n.setAttribute("aria-controls",y.id);e++});e=0;i.each(t,function(n){q(n,"-1");n.setAttribute("role",
"option");e++});h.on("switch",w,h);(j=h.nav)&&s.on(j,"keydown",m,h);s.on(y,"keydown",a,h);j=h.prevBtn;t=h.nextBtn;if(j){q(j,0);j.setAttribute("role","button");s.on(j,"keydown",function(n){if(n.keyCode==r||n.keyCode==x){h.prev(z);n.preventDefault()}})}if(t){q(t,0);t.setAttribute("role","button");s.on(t,"keydown",function(n){if(n.keyCode==r||n.keyCode==x){h.next(z);n.preventDefault()}})}}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/carousel/base",function(i,d,s,u){function p(c,m){if(!(this instanceof p))return new p(c,m);p.superclass.constructor.apply(this,arguments)}var w={originalEvent:{target:1}};p.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};p.Plugins=[];i.extend(p,u,{_init:function(){var c=this;p.superclass._init.call(c);var m=c.config,o=m.disableBtnCls;i.each(["prev","next"],function(b){var a=c[b+"Btn"]=d.get("."+
m[b+"BtnCls"],c.container);s.on(a,"mousedown",function(f){f.preventDefault();d.hasClass(a,o)||c[b](w)})});m.circular||c.on("switch",function(b){b=b.currentIndex;d.removeClass([c.prevBtn,c.nextBtn],o);b==0&&d.addClass(c.prevBtn,o);b==c.length-1&&d.addClass(c.nextBtn,o)});s.on(c.panels,"click",function(){c.fire("itemSelected",{item:this})})}});return p},{requires:["dom","event","../base"]});
KISSY.add("switchable/circular",function(i,d,s,u){function p(r,q,z,k,B){var h=this;q=h.config;var j=h.length,t=h.activeIndex,y=q.scrollType===x,C=y?b:a,e=h.viewSize[y?0:1];y=-e*k;var n={},A,E=B===v;if(A=E&&t===0&&k===j-1||B===g&&t===j-1&&k===0)y=w.call(h,h.panels,k,E,C,e);n[C]=y+l;h.anim&&h.anim.stop();if(r)h.anim=(new s(h.content,n,q.duration,q.easing,function(){A&&c.call(h,h.panels,k,E,C,e);h.anim=undefined;z&&z()})).run();else{d.css(h.content,n);z&&z()}}function w(r,q,z,k,B){var h=this.config.steps;
q=this.length;var j=z?q-1:0;r=r.slice(j*h,(j+1)*h);d.css(r,m,o);d.css(r,k,(z?-1:1)*B*q);return z?B:-B*q}function c(r,q,z,k,B){var h=this.config.steps;q=this.length;var j=z?q-1:0;r=r.slice(j*h,(j+1)*h);d.css(r,m,f);d.css(r,k,f);d.css(this.content,k,z?-B*(q-1):f)}var m="position",o="relative",b="left",a="top",f="",l="px",g="forward",v="backward",x="scrollx";i.mix(u.Config,{circular:false});u.Plugins.push({name:"circular",init:function(r){r=r.config;if(r.circular&&(r.effect===x||r.effect==="scrolly")){r.scrollType=
r.effect;r.effect=p}}})},{requires:["dom","anim","./base","./effect"]});
KISSY.add("switchable/countdown",function(i,d,s,u,p,w){i.mix(p.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});p.Plugins.push({name:"countdown",init:function(c){function m(r){o();x=(new u(l[r],v,f-1)).run()}function o(){if(a){clearTimeout(a);a=null}if(x){x.stop();x=w}}var b=c.config,a,f=b.interval,l=[],g=b.countdownFromStyle,v=b.countdownToStyle,x;if(!(!b.autoplay||!b.hasTriggers||!b.countdown)){i.each(c.triggers,function(r,q){r.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
r.innerHTML+"</div>";l[q]=r.firstChild});if(b.pauseOnHover){s.on(c.container,"mouseenter",function(){o();var r=l[c.activeIndex];if(g)x=(new u(r,g,0.2,"easeOut")).run();else d.attr(r,"style","")});s.on(c.container,"mouseleave",function(){o();var r=c.activeIndex;d.attr(l[r],"style",g);a=setTimeout(function(){m(r)},200)})}c.on("beforeSwitch",function(){o();if(l[c.activeIndex])d.attr(l[c.activeIndex],"style",g||"")});c.on("switch",function(r){c.paused||m(r.currentIndex)});c.activeIndex>-1&&m(c.activeIndex)}}});
return p},{requires:["dom","event","anim","./base"]});
KISSY.add("switchable/effect",function(i,d,s,u,p,w){var c;i.mix(p.Config,{effect:"none",duration:0.5,easing:"easeNone"});p.Effects={none:function(m,o,b){m&&d.css(m,"display","none");d.css(o,"display","block");b&&b()},fade:function(m,o,b){var a=this,f=a.config,l=m?m[0]:null,g=o[0];if(a.anim){a.anim.stop();d.css(a.anim.fromEl,{zIndex:1,opacity:0});d.css(a.anim.toEl,"zIndex",9)}d.css(g,"opacity",1);if(l){a.anim=(new u(l,{opacity:0},f.duration,f.easing,function(){a.anim=w;d.css(g,"z-index",9);d.css(l,
"z-index",1);b&&b()})).run();a.anim.toEl=g;a.anim.fromEl=l}else{d.css(g,"z-index",9);b&&b()}},scroll:function(m,o,b,a){var f=this;o=f.config;var l=o.effect==="scrollx",g={};g[l?"left":"top"]=-(f.viewSize[l?0:1]*a)+"px";f.anim&&f.anim.stop();if(m)f.anim=(new u(f.content,g,o.duration,o.easing,function(){f.anim=w;b&&b()})).run();else{d.css(f.content,g);b&&b()}}};c=p.Effects;c.scrollx=c.scrolly=c.scroll;p.Plugins.push({name:"effect",init:function(m){var o=m.config,b=o.effect,a=m.panels,f=m.content,l=
o.steps,g=m.activeIndex,v=a.length;m.viewSize=[o.viewSize[0]||a[0].offsetWidth*l,o.viewSize[1]||a[0].offsetHeight*l];if(b!=="none"){d.css(a,"display","block");switch(b){case "scrollx":case "scrolly":d.css(f,"position","absolute");d.css(f.parentNode,"position")=="static"&&d.css(f.parentNode,"position","relative");if(b==="scrollx"){d.css(a,"float","left");d.width(f,m.viewSize[0]*(v/l))}break;case "fade":var x=g*l,r=x+l-1,q;i.each(a,function(z,k){q=k>=x&&k<=r;d.css(z,{opacity:q?1:0,position:"absolute",
zIndex:q?9:1})})}}}});i.augment(p,{_switchView:function(m,o,b,a,f,l){var g=this,v=g.config.effect;(i.isFunction(v)?v:c[v]).call(g,m,o,function(){g._fireOnSwitch(b,f);l&&l.call(g)},b,a)}});return p},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/lazyload",function(i,d,s){var u="beforeSwitch",p="img",w="textarea",c={};c[p]="lazyImgAttribute";c[w]="lazyTextareaClass";i.mix(s.Config,{lazyImgAttribute:"data-ks-lazyload-custom",lazyTextareaClass:"ks-datalazyload-custom",lazyDataType:w});s.Plugins.push({name:"lazyload",init:function(m){function o(g){var v=a.steps;g=g.toIndex*v;b.loadCustomLazyData(m.panels.slice(g,g+v),f,l);a:{var x,r,q;if(g=(v=f===p)?"img":f===w?"textarea":""){g=d.query(g,m.container);x=0;for(q=g.length;x<
q;x++){r=g[x];if(v?d.attr(r,l):d.hasClass(r,l)){v=false;break a}}}v=true}v&&m.detach(u,o)}var b=i.require("datalazyload"),a=m.config,f,l;if(a.lazyDataType==="img-src")a.lazyDataType=p;if(a.lazyDataType==="area-data")a.lazyDataType=w;f=a.lazyDataType;l=a[c[f]];!b||!f||!l||m.on(u,o)}});return s},{requires:["dom","./base"]});
KISSY.add("switchable/slide/aria",function(i,d,s,u,p){function w(l){switch(l.keyCode){case b:case o:this.next(a);l.halt();break;case m:case c:this.prev(a);l.halt()}}var c=37,m=38,o=39,b=40;i.mix(p.Config,{aria:false});var a={originalEvent:{target:1}},f=u.setTabIndex;p.Plugins.push({name:"aria",init:function(l){if(l.config.aria){var g=l.panels,v=0,x=l.activeIndex;i.each(l.triggers,function(q){f(q,"-1");v++});v=0;i.each(g,function(q){f(q,x==v?"0":"-1");d.attr(q,"role","option");v++});var r=l.content;
d.attr(r,"role","listbox");s.on(r,"keydown",w,l);f(g[0],0);l.on("switch",function(q){var z=q.currentIndex;q=!!(q.originalEvent.target||q.originalEvent.srcElement);var k=l.completedIndex;k>-1&&f(g[k],-1);f(g[z],0);q&&g[z].focus()})}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/slide/base",function(i,d){function s(u,p){if(!(this instanceof s))return new s(u,p);s.superclass.constructor.apply(this,arguments)}s.Config={autoplay:true,circular:true};s.Plugins=[];i.extend(s,d);return s},{requires:["../base"]});
KISSY.add("switchable",function(i,d,s,u,p,w,c,m,o,b,a,f,l,g,v,x){i.mix(d,{Accordion:u,Carousel:m,Slide:g,Tabs:x});return d},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base","switchable/tabs/aria"]});
KISSY.add("switchable/tabs/aria",function(i,d,s,u,p,w){function c(k){var B;i.each(this.triggers,function(h){if(h==k||d.contains(h,k))B=h});return B}function m(k){switch(k.keyCode){case a:case f:k.ctrlKey&&!k.altKey&&!k.shiftKey&&k.halt();break;case r:k.ctrlKey&&!k.altKey&&k.halt()}}function o(k){var B=k.target,h=k.ctrlKey&&!k.shiftKey&&!k.altKey;switch(k.keyCode){case l:case g:if(c.call(this,B)){this.prev(z(k));k.halt()}break;case v:case x:if(c.call(this,B)){this.next(z(k));k.halt()}break;case f:if(h){k.halt();
this.next(z(k))}break;case a:if(h){k.halt();this.prev(z(k))}break;case r:if(k.ctrlKey&&!k.altKey){k.halt();k.shiftKey?this.prev(z(k)):this.next(z(k))}}}function b(k){var B=!!(k.originalEvent.target||k.originalEvent.srcElement),h=this.completedIndex,j=k.currentIndex;if(h!=j){k=this.triggers[h];var t=this.triggers[j];h=this.panels[h];j=this.panels[j];k&&q(k,"-1");q(t,"0");B&&t.focus();h&&h.setAttribute("aria-hidden","true");j.setAttribute("aria-hidden","false")}}var a=33,f=34,l=37,g=38,v=39,x=40,r=
9;i.mix(w.Config,{aria:true});w.Plugins.push({name:"aria",init:function(k){if(k.config.aria){var B=k.triggers,h=k.activeIndex,j=k.panels,t=k.container;k.nav&&d.attr(k.nav,"role","tablist");var y=0;i.each(B,function(C){C.setAttribute("role","tab");q(C,h==y?"0":"-1");if(!C.id)C.id=i.guid("ks-switchable");y++});y=0;i.each(j,function(C){var e=B[y];C.setAttribute("role","tabpanel");C.setAttribute("aria-hidden",h==y?"false":"true");C.setAttribute("aria-labelledby",e.id);y++});k.on("switch",b,k);s.on(t,
"keydown",o,k);s.on(t,"keypress",m,k)}}});var q=p.setTabIndex,z=u.getDomEvent},{requires:["dom","event","../base","../aria","./base"]});KISSY.add("switchable/tabs/base",function(i,d){function s(u,p){if(!(this instanceof s))return new s(u,p);s.superclass.constructor.call(this,u,p);return 0}i.extend(s,d);s.Config={};s.Plugins=[];return s},{requires:["../base"]});
