/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var f=navigator.userAgent,b="",p="",e,g={},k=function(c){var h=0;return parseFloat(c.replace(/\./g,function(){return h++===0?".":""}))};if((e=f.match(/AppleWebKit\/([\d.]*)/))&&e[1]){g[b="webkit"]=k(e[1]);if((e=f.match(/Chrome\/([\d.]*)/))&&e[1])g[p="chrome"]=k(e[1]);else if((e=f.match(/\/([\d.]*) Safari/))&&e[1])g[p="safari"]=k(e[1]);if(/ Mobile\//.test(f))g.mobile="apple";else if(e=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))g.mobile=e[0].toLowerCase()}else if((e=
f.match(/Presto\/([\d.]*)/))&&e[1]){g[b="presto"]=k(e[1]);if((e=f.match(/Opera\/([\d.]*)/))&&e[1]){g[p="opera"]=k(e[1]);if((e=f.match(/Opera\/.* Version\/([\d.]*)/))&&e[1])g[p]=k(e[1]);if((e=f.match(/Opera Mini[^;]*/))&&e)g.mobile=e[0].toLowerCase();else if((e=f.match(/Opera Mobi[^;]*/))&&e)g.mobile=e[0]}}else if((e=f.match(/MSIE\s([^;]*)/))&&e[1]){g[b="trident"]=0.1;g[p="ie"]=k(e[1]);if((e=f.match(/Trident\/([\d.]*)/))&&e[1])g[b]=k(e[1])}else if(e=f.match(/Gecko/)){g[b="gecko"]=0.1;if((e=f.match(/rv:([\d.]*)/))&&
e[1])g[b]=k(e[1]);if((e=f.match(/Firefox\/([\d.]*)/))&&e[1])g[p="firefox"]=k(e[1])}g.core=b;g.shell=p;g._numberify=k;return g});
KISSY.add("ua/extra",function(f,b){var p=navigator.userAgent,e,g,k={},c=b._numberify;if(p.match(/360SE/))k[g="se360"]=3;else if(p.match(/Maxthon/)&&(e=window.external)){g="maxthon";try{k[g]=c(e.max_version)}catch(h){k[g]=0.1}}else if(e=p.match(/TencentTraveler\s([\d.]*)/))k[g="tt"]=e[1]?c(e[1]):0.1;else if(p.match(/TheWorld/))k[g="theworld"]=3;else if(e=p.match(/SE\s([\d.]*)/))k[g="sougou"]=e[1]?c(e[1]):0.1;g&&(k.shell=g);f.mix(b,k);return b},{requires:["ua/base"]});
KISSY.add("ua",function(f,b){return b},{requires:["ua/extra"]});KISSY.add("dom/base",function(f,b){function p(e,g){return e&&e.nodeType===g}return{_isElementNode:function(e){return p(e,1)},_getWin:function(e){return e&&"scrollTo"in e&&e.document?e:p(e,9)?e.defaultView||e.parentWindow:e==b?window:false},_nodeTypeIs:p,_isNodeList:function(e){return e&&!e.nodeType&&e.item&&!e.setTimeout}}});
KISSY.add("dom/attr",function(f,b,p,e){function g(i){if(f.isArray(i)){for(var a=0;a<i.length;a++)i[a]=g(i[a]);return i}else return i+n}var k=document.documentElement,c=!k.hasAttribute,h=k.textContent!==e?"textContent":"innerText",n="",u=b._isElementNode,q=/^(?:href|src|style)/,t=/^(?:href|src|colspan|rowspan)/,w=/\r/g,y=/^(?:radio|checkbox)/,m={readonly:"readOnly"},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};c&&f.mix(m,{"for":"htmlFor","class":"className"});var o={tabindex:{getter:function(i){return i.tabIndex},
setter:function(i,a){if(isNaN(parseInt(a))){i.removeAttribute("tabindex");i.removeAttribute("tabIndex")}else i.tabIndex=a}},style:{getter:function(i){return i.style.cssText},setter:function(i,a){i.style.cssText=a}},checked:{setter:function(i,a){i.checked=!!a}},disabled:{setter:function(i,a){i.disabled=!!a}}};f.mix(b,{attr:function(i,a,d,l){if(f.isPlainObject(a)){l=d;for(var j in a)b.attr(i,j,a[j],l)}else if(a=f.trim(a)){a=a.toLowerCase();if(l&&r[a])return b[a](i,d);a=m[a]||a;var s=o[a];if(d===e){i=
b.get(i);if(!u(i))return null;if(s&&s.getter)return s.getter(i);var x;q.test(a)||(x=i[a]);if(x===e)x=i.getAttribute(a);if(c)if(t.test(a))x=i.getAttribute(a,2);return x===e?null:x}else f.each(b.query(i),function(z){if(u(z))s&&s.setter?s.setter(z,d):z.setAttribute(a,n+d)})}},removeAttr:function(i,a){a=a.toLowerCase();f.each(b.query(i),function(d){if(u(d)){b.attr(d,a,n);d.removeAttribute(a)}})},hasAttr:c?function(i,a){a=a.toLowerCase();var d=b.get(i).getAttributeNode(a);return!!(d&&d.specified)}:function(i,
a){a=a.toLowerCase();return b.get(i).hasAttribute(a)},val:function(i,a){if(a===e){var d=b.get(i);if(!u(d))return null;if(d&&d.nodeName.toUpperCase()==="option".toUpperCase())return(d.attributes.value||{}).specified?d.value:d.text;if(d&&d.nodeName.toUpperCase()==="select".toUpperCase()){var l=d.selectedIndex,j=d.options;if(l<0)return null;else if(d.type==="select-one")return b.val(j[l]);d=[];for(var s=0,x=j.length;s<x;++s)j[s].selected&&d.push(b.val(j[s]));return d}if(p.webkit&&y.test(d.type))return d.getAttribute("value")===
null?"on":d.value;return(d.value||n).replace(w,n)}f.each(b.query(i),function(z){if(z&&z.nodeName.toUpperCase()==="select".toUpperCase()){a=g(a);var v=f.makeArray(a),B=z.options,A;s=0;for(x=B.length;s<x;++s){A=B[s];A.selected=f.inArray(b.val(A),v)}if(!v.length)z.selectedIndex=-1}else if(u(z))z.value=a})},text:function(i,a){if(a===e){var d=b.get(i);if(u(d))return d[h]||n;else if(b._nodeTypeIs(d,3))return d.nodeValue;return null}else f.each(b.query(i),function(l){if(u(l))l[h]=a;else if(b._nodeTypeIs(l,
3))l.nodeValue=a})}});return b},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(f,b,p){function e(c,h,n,u){if(!(h=f.trim(h)))return u?false:p;c=b.query(c);var q=0,t=c.length,w=h.split(g);for(h=[];q<w.length;q++){var y=f.trim(w[q]);y&&h.push(y)}for(q=0;q<t;q++){w=c[q];if(b._isElementNode(w)){w=n(w,h,h.length);if(w!==p)return w}}if(u)return false;return p}var g=/[\.\s]\s*\.?/,k=/[\n\t]/g;f.mix(b,{hasClass:function(c,h){return e(c,h,function(n,u,q){if(n=n.className){n=" "+n+" ";for(var t=0,w=true;t<q;t++)if(n.indexOf(" "+u[t]+" ")<0){w=false;break}if(w)return true}},
true)},addClass:function(c,h){e(c,h,function(n,u,q){var t=n.className;if(t){var w=" "+t+" ";t=t;for(var y=0;y<q;y++)if(w.indexOf(" "+u[y]+" ")<0)t+=" "+u[y];n.className=f.trim(t)}else n.className=h},p)},removeClass:function(c,h){e(c,h,function(n,u,q){var t=n.className;if(t)if(q){t=(" "+t+" ").replace(k," ");for(var w=0,y;w<q;w++)for(y=" "+u[w]+" ";t.indexOf(y)>=0;)t=t.replace(y," ");n.className=f.trim(t)}else n.className=""},p)},replaceClass:function(c,h,n){b.removeClass(c,h);b.addClass(c,n)},toggleClass:function(c,
h,n){var u=f.isBoolean(n),q;e(c,h,function(t,w,y){for(var m=0,r;m<y;m++){r=w[m];q=u?!n:b.hasClass(t,r);b[q?"removeClass":"addClass"](t,r)}},p)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,b,p,e){function g(j,s,x,z){if(x){var v=f.guid("ks-tmp-"),B=RegExp(w);s+='<span id="'+v+'"></span>';f.available(v,function(){var A=b.get("head"),C,D,F,G,E,I;for(B.lastIndex=0;C=B.exec(s);)if((F=(D=C[1])?D.match(m):false)&&F[2]){C=c.createElement("script");C.src=F[2];if((G=D.match(r))&&G[2])C.charset=G[2];C.async=true;A.appendChild(C)}else if((I=C[2])&&I.length>0)f.globalEval(I);(E=c.getElementById(v))&&b.remove(E);f.isFunction(z)&&z()});k(j,s)}else{k(j,s);f.isFunction(z)&&
z()}}function k(j,s){s=(s+"").replace(w,"");try{j.innerHTML=s}catch(x){for(;j.firstChild;)j.removeChild(j.firstChild);s&&j.appendChild(b.create(s))}}var c=document,h=p.ie,n=b._nodeTypeIs,u=b._isElementNode,q=c.createElement("div"),t=/<(\w+)/,w=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,y=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/\ssrc=(['"])(.*?)\1/i,r=/\scharset=(['"])(.*?)\1/i;f.mix(b,{create:function(j,s,x){if(n(j,1)||n(j,3)){s=j;x=s.cloneNode(true);if(p.ie<8)x.innerHTML=s.innerHTML;return x}if(!(j=
f.trim(j)))return null;var z=null;z=b._creators;var v,B="div",A;if(v=y.exec(j))z=(x||c).createElement(v[1]);else{if((v=t.exec(j))&&(A=v[1])&&f.isFunction(z[A=A.toLowerCase()]))B=A;j=z[B](j,x).childNodes;if(j.length===1)x=j[0].parentNode.removeChild(j[0]);else{j=j;A=x||c;x=null;if(j&&(j.push||j.item)&&j[0]){A=A||j[0].ownerDocument;x=A.createDocumentFragment();if(j.item)j=f.makeArray(j);A=0;for(z=j.length;A<z;A++)x.appendChild(j[A])}x=x}z=x}x=z;u(x)&&f.isPlainObject(s)&&b.attr(x,s,true);return x},_creators:{div:function(j,
s){var x=s?s.createElement("div"):q;x.innerHTML=j;return x}},html:function(j,s,x,z){if(s===e){j=b.get(j);if(u(j))return j.innerHTML;return null}else f.each(b.query(j),function(v){u(v)&&g(v,s,x,z)})},remove:function(j){f.each(b.query(j),function(s){s.parentNode&&s.parentNode.removeChild(s)})}});if(h||p.gecko||p.webkit){var o=b._creators,i=b.create,a=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,d={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},l;for(l in d)(function(j){o[l]=
function(s,x){return i("<"+j+">"+s+"</"+j+">",null,x)}})(d[l]);if(h){o.script=function(j,s){var x=s?s.createElement("div"):q;x.innerHTML="-"+j;x.removeChild(x.firstChild);return x};if(h<8)o.tbody=function(j,s){var x=i("<table>"+j+"</table>",null,s),z=x.children.tags("tbody")[0];x.children.length>1&&z&&!a.test(j)&&z.parentNode.removeChild(z);return x}}f.mix(o,{optgroup:o.option,th:o.td,thead:o.tbody,tfoot:o.tbody,caption:o.tbody,colgroup:o.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,b,p){var e=window,g="_ks_data_"+f.now(),k={},c={},h={};h.applet=1;h.object=1;h.embed=1;f.mix(b,{hasData:function(n,u){var q=b.get(n),t;if(!q||q.nodeName&&h[q.nodeName.toLowerCase()])return false;if(q==e)q=c;t=q&&q.nodeType;if(q=(t?k:q)[t?q[g]:g])if(u!==p){if(u in q)return true}else return true;return false},data:function(n,u,q){if(f.isPlainObject(u))for(var t in u)b.data(n,t,u[t]);else if(q===p){n=b.get(n);if(!n||n.nodeName&&h[n.nodeName.toLowerCase()])return null;
if(n==e)n=c;t=n&&n.nodeType;t=n=(t?k:n)[t?n[g]:g];if(f.isString(u)&&n)t=n[u];return t===p?null:t}else b.query(n).each(function(w){if(!(!w||w.nodeName&&h[w.nodeName.toLowerCase()])){if(w==e)w=c;var y=k,m;if(w&&w.nodeType){if(!(m=w[g]))m=w[g]=f.guid()}else{m=g;y=w}if(u&&q!==p){y[m]||(y[m]={});y[m][u]=q}}})},removeData:function(n,u){b.query(n).each(function(q){if(q){if(q==e)q=c;var t,w=k,y,m=q&&q.nodeType;if(m)t=q[g];else{w=q;t=g}if(t){y=w[t];if(u){if(y){delete y[u];f.isEmptyObject(y)&&b.removeData(q)}}else{if(m)q.removeAttribute&&
q.removeAttribute(g);else try{delete q[g]}catch(r){}m&&delete w[t]}}}})}});return b},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(f,b){f.mix(b,{insertBefore:function(p,e){p=b.query(p);if(e=b.get(e)&&e.parentNode)p.each(function(g){e.parentNode.insertBefore(g,e)})},insertAfter:function(p,e){p=b.query(p);if(e=b.get(e)&&e.parentNode)p.each(function(g){e.parentNode.insertBefore(g,e.nextSibling)})},append:function(p,e){p=b.query(p);if(e=b.get(e))e.appendChild&&p.each(function(g){e.appendChild(g)})},prepend:function(p,e){p=b.query(p);if(e=b.get(e))p.each(function(g){e.insertBefore(g,e.firstChild)})}});
b.prependTo=b.prepend;b.appendTo=b.append;return b},{requires:["dom/base"]});
KISSY.add("dom/offset",function(f,b,p,e){function g(a){var d=0,l=0,j=n(a[w]);if(a[i]){a=a[i]();d=a[y];l=a[m];if(p.mobile!=="apple"){d+=b[r](j);l+=b[o](j)}}return{left:d,top:l}}var k=window,c=b._isElementNode,h=b._nodeTypeIs,n=b._getWin,u=document.compatMode==="CSS1Compat",q=Math.max,t=parseInt,w="ownerDocument",y="left",m="top",r="scrollLeft",o="scrollTop",i="getBoundingClientRect";f.mix(b,{offset:function(a,d){if(!(a=b.get(a))||!a[w])return null;if(d===e)return g(a);var l=a;if(b.css(l,"position")===
"static")l.style.position="relative";var j=g(l),s={},x,z;for(z in d){x=t(b.css(l,z),10)||0;s[z]=x+d[z]-j[z]}b.css(l,s)},scrollIntoView:function(a,d,l,j){if((a=b.get(a))&&a[w]){j=j===e?true:!!j;l=l===e?true:!!l;if(!d||d===k)a.scrollIntoView(l);else{d=b.get(d);if(h(d,9))d=n(d);var s=!!n(d),x=b.offset(a),z=s?{left:b.scrollLeft(d),top:b.scrollTop(d)}:b.offset(d),v={left:x[y]-z[y],top:x[m]-z[m]};x=s?b.viewportHeight(d):d.clientHeight;s=s?b.viewportWidth(d):d.clientWidth;z=b[r](d);var B=b[o](d),A=z+s,C=
B+x,D=a.offsetHeight;a=a.offsetWidth;var F=v.left+z-(t(b.css(d,"borderLeftWidth"))||0);v=v.top+B-(t(b.css(d,"borderTopWidth"))||0);var G=F+a,E=v+D,I,L;if(D>x||v<B||l)I=v;else if(E>C)I=E-x;if(j)if(a>s||F<z||l)L=F;else if(G>A)L=G-s;b[o](d,I);b[r](d,L)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});f.each(["Left","Top"],function(a,d){var l="scroll"+a;b[l]=function(j,s){if(f.isNumber(j))arguments.callee(k,j);else{j=b.get(j);var x=0,z=n(j);if(z){if(s!==e){x=a=="Left"?s:b.scrollLeft(z);var v=
a=="Top"?s:b.scrollTop(z);z.scrollTo(x,v)}x=z.document;x=z[d?"pageYOffset":"pageXOffset"]||x.documentElement[l]||x.body[l]}else if(c(j=b.get(j)))x=s!==e?j[l]=s:j[l];return s===e?x:e}}});f.each(["Width","Height"],function(a){b["doc"+a]=function(d){d=b.get(d);d=n(d).document;return q(u?d.documentElement["scroll"+a]:d.body["scroll"+a],b["viewport"+a](d))};b["viewport"+a]=function(d){d=b.get(d);var l="inner"+a;d=n(d);var j=d.document;return l in d?d[l]:u?j.documentElement["client"+a]:j.body["client"+
a]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/style",function(f,b,p,e){function g(i,a){var d=b.get(i),l=a===n?d.offsetWidth:d.offsetHeight;f.each(a===n?["Left","Right"]:["Top","Bottom"],function(j){l-=parseFloat(b._getComputedStyle(d,"padding"+j))||0;l-=parseFloat(b._getComputedStyle(d,"border"+j+"Width"))||0});return l}function k(i,a,d){var l=d;if(d===u&&t.test(a)){l=0;if(f.inArray(b.css(i,"position"),["absolute","fixed"])){d=i[a==="left"?"offsetLeft":"offsetTop"];if(p.ie===8||p.opera)d-=q(b.css(i.offsetParent,"border-"+a+"-width"))||
0;l=d-(q(b.css(i,"margin-"+a))||0)}}return l}var c=document,h=c.documentElement,n="width",u="auto",q=parseInt,t=/^(?:left|top)/,w=/^(?:width|height|top|left|right|bottom|margin|padding)/i,y=/-([a-z])/ig,m=function(i,a){return a.toUpperCase()},r={},o={};f.mix(b,{_CUSTOM_STYLES:r,_getComputedStyle:function(i,a){var d="",l=i.ownerDocument;if(i.style)d=l.defaultView.getComputedStyle(i,null)[a];return d},css:function(i,a,d){if(f.isPlainObject(a))for(var l in a)b.css(i,l,a[l]);else{if(a.indexOf("-")>0)a=
a.replace(y,m);l=a;a=r[a]||a;if(d===e){i=b.get(i);var j="";if(i&&i.style){j=a.get?a.get(i,l):i.style[a];if(j===""&&!a.get)j=k(i,a,b._getComputedStyle(i,a))}return j===e?"":j}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&w.test(a))d+="px";(a===n||a==="height")&&parseFloat(d)<0||f.each(b.query(i),function(s){if(s&&s.style){a.set?a.set(s,d):s.style[a]=d;if(d==="")s.style.cssText||s.removeAttribute("style")}})}}},width:function(i,a){if(a===e)return g(i,n);else b.css(i,n,a)},height:function(i,
a){if(a===e)return g(i,"height");else b.css(i,"height",a)},show:function(i){b.query(i).each(function(a){if(a){a.style.display=b.data(a,"display")||"";if(b.css(a,"display")==="none"){var d=a.tagName,l=o[d],j;if(!l){j=c.createElement(d);c.body.appendChild(j);l=b.css(j,"display");b.remove(j);o[d]=l}b.data(a,"display",l);a.style.display=l}}})},hide:function(i){b.query(i).each(function(a){if(a){var d=a.style,l=d.display;if(l!=="none"){l&&b.data(a,"display",l);d.display="none"}}})},toggle:function(i){b.query(i).each(function(a){if(a)b.css(a,
"display")==="none"?b.show(a):b.hide(a)})},addStyleSheet:function(i,a,d){if(f.isString(i)){d=a;a=i;i=window}i=b._getWin(i).document;var l;if(d&&(d=d.replace("#","")))l=b.get("#"+d,i);if(!l){l=b.create("<style>",{id:d},i);b.get("head",i).appendChild(l);if(l.styleSheet)l.styleSheet.cssText=a;else l.appendChild(i.createTextNode(a))}},unselectable:function(i){b.query(i).each(function(a){if(a)if(p.gecko)a.style.MozUserSelect="none";else if(p.webkit)a.style.KhtmlUserSelect="none";else if(p.ie||p.opera){var d=
0,l=a.getElementsByTagName("*");for(a.setAttribute("unselectable","on");a=l[d++];)switch(a.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:a.setAttribute("unselectable","on")}}})}});if(h.style.cssFloat!==e)r["float"]="cssFloat";else if(h.style.styleFloat!==e)r["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(f,b,p){function e(m,r){var o,i,a=[],d;i=f.require("sizzle");r=g(r);if(f.isString(m))if(m.indexOf(",")!=-1){o=m.split(",");f.each(o,function(l){a.push.apply(a,f.makeArray(e(l,r)))})}else{m=f.trim(m);if(t.test(m)){if(i=k(m.slice(1),r))a=[i]}else if(o=w.exec(m)){i=o[1];d=o[2];o=o[3];if(r=i?k(i,r):r)if(o)if(!i||m.indexOf(q)!==-1)a=f.makeArray(y(o,d,r));else{if((i=k(i,r))&&b.hasClass(i,o))a=[i]}else if(d)a=c(d,r)}else if(i)a=i(m,r);else h(m)}else if(m&&(f.isArray(m)||
u(m)))a=f.makeArray(m);else if(m)a=[m];if(u(a))a=f.makeArray(a);a.each=function(l,j){return f.each(a,l,j)};return a}function g(m){if(m===p)m=n;else if(f.isString(m)&&t.test(m))m=k(m.slice(1),n);else if(m&&m.nodeType!==1&&m.nodeType!==9)m=null;return m}function k(m,r){if(r.nodeType!==9)r=r.ownerDocument;return r.getElementById(m)}function c(m,r){return r.getElementsByTagName(m)}function h(m){f.error("Unsupported selector: "+m)}var n=document,u=b._isNodeList,q=" ",t=/^#[\w-]+$/,w=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;
(function(){var m=n.createElement("div");m.appendChild(n.createComment(""));if(m.getElementsByTagName("*").length>0)c=function(r,o){var i=f.makeArray(o.getElementsByTagName(r));if(r==="*"){for(var a=[],d=0,l=0,j;j=i[d++];)if(j.nodeType===1)a[l++]=j;i=a}return i}})();var y=n.getElementsByClassName?function(m,r,o){o=m=f.makeArray(o.getElementsByClassName(m));var i=0,a=0,d=m.length,l;if(r&&r!=="*"){o=[];for(r=r.toUpperCase();i<d;++i){l=m[i];if(l.tagName===r)o[a++]=l}}return o}:n.querySelectorAll?function(m,
r,o){return o.querySelectorAll((r?r:"")+"."+m)}:function(m,r,o){r=o.getElementsByTagName(r||"*");o=[];var i=0,a=0,d=r.length,l,j;for(m=q+m+q;i<d;++i){l=r[i];if((j=l.className)&&(q+j+q).indexOf(m)>-1)o[a++]=l}return o};f.mix(b,{query:e,get:function(m,r){return e(m,r)[0]||null},filter:function(m,r,o){var i=e(m,o),a=f.require("sizzle"),d,l,j,s=[];if(f.isString(r)&&(d=w.exec(r))&&!d[1]){l=d[2];j=d[3];r=function(x){return!(l&&x.tagName!==l.toUpperCase()||j&&!b.hasClass(x,j))}}if(f.isFunction(r))s=f.filter(i,
r);else if(r&&a)s=a._filter(m,r,o);else h(r);return s},test:function(m,r,o){m=e(m,o);return m.length&&b.filter(m,r,o).length===m.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(f,b,p,e,g){if(!p.ie)return b;e=document;var k=e.documentElement,c=b._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,n=/^-?\d/,u=/^(?:width|height)$/;try{if(k.style.opacity==g&&k.filters)c.opacity={get:function(y){var m=100;try{m=y.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{m=y.filters("alpha").opacity}catch(o){if(y=((y.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))m=parseInt(f.trim(y[1]))}}return m/100+""},set:function(y,m){var r=y.style,
o=(y.currentStyle||0).filter||"";r.zoom=1;if(o)o=f.trim(o.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(o&&m!=1)o+=", ";r.filter=o+(m!=1?"alpha(opacity="+m*100+")":"")}}}catch(q){}p=p.ie==8;var t={},w={get:function(y,m){var r=y.currentStyle[m]+"";if(r.indexOf("px")<0)r=t[r]?t[r]:0;return r}};t.thin=p?"1px":"2px";t.medium=p?"3px":"4px";t.thick=p?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(y){c["border"+y+"Width"]=w});if(!(e.defaultView||{}).getComputedStyle&&k.currentStyle)b._getComputedStyle=
function(y,m){var r=y.style,o=y.currentStyle[m];if(u.test(m))o=b[m](y)+"px";else if(!h.test(o)&&n.test(o)){var i=r.left,a=y.runtimeStyle.left;y.runtimeStyle.left=y.currentStyle.left;r.left=m==="fontSize"?"1em":o||0;o=r.pixelLeft+"px";r.left=i;y.runtimeStyle.left=a}return o};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(f,b,p){function e(c,h,n,u){if(!(c=b.get(c)))return null;if(h===p)h=1;var q=null,t,w;if(f.isNumber(h)&&h>=0){if(h===0)return c;t=0;w=h;h=function(){return++t===w}}for(;c=c[n];)if(k(c)&&(!h||b.test(c,h))&&(!u||u(c))){q=c;break}return q}function g(c,h,n){var u=[];var q=c=b.get(c);if(c&&n)q=c.parentNode;if(q){n=0;for(q=q.firstChild;q;q=q.nextSibling)if(k(q)&&q!==c&&(!h||b.test(q,h)))u[n++]=q}return u}var k=b._isElementNode;f.mix(b,{parent:function(c,h){return e(c,h,
"parentNode",function(n){return n.nodeType!=11})},next:function(c,h){return e(c,h,"nextSibling",p)},prev:function(c,h){return e(c,h,"previousSibling",p)},siblings:function(c,h){return g(c,h,true)},children:function(c,h){return g(c,h,p)},contains:function(c,h){var n=false;if((c=b.get(c))&&(h=b.get(h)))if(c.contains){if(h.nodeType===3){h=h.parentNode;if(h===c)return true}if(h)return c.contains(h)}else if(c.compareDocumentPosition)return!!(c.compareDocumentPosition(h)&16);else for(;!n&&(h=h.parentNode);)n=
h==c;return n},equals:function(c,h){c=f.query(c);h=f.query(h);if(c.length!=h.length)return false;for(var n=c.length;n>=0;n--)if(c[n]!=h[n])return false;return true}});return b},{requires:["./base"]});KISSY.add("dom",function(f,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(f,b){function p(k,c,h){this.currentTarget=k;this.originalEvent=c||{};if(c){this.type=c.type;this._fix()}else{this.type=h;this.target=k}this.currentTarget=k;this.fixed=true}var e=document,g="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.augment(p,{_fix:function(){var k=this.originalEvent,c=g.length,h,n=this.currentTarget;for(n=n.nodeType===9?n:n.ownerDocument||e;c;){h=g[--c];this[h]=k[h]}if(!this.target)this.target=this.srcElement||e;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===b&&this.clientX!==b){k=n.documentElement;c=n.body;this.pageX=this.clientX+(k&&k.scrollLeft||c&&c.scrollLeft||
0)-(k&&k.clientLeft||c&&c.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||c&&c.scrollTop||0)-(k&&k.clientTop||c&&c.clientTop||0)}if(this.which===b)this.which=this.charCode!==b?this.charCode:this.keyCode;if(this.metaKey===b)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==b)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return p});
KISSY.add("event/base",function(f,b,p,e){function g(o,i,a,d,l){if(f.isString(i))i=b.query(i);if(f.isArray(i)||n(i)){f.each(i,function(j){r[o](j,a,d,l)});return true}if((a=f.trim(a))&&a.indexOf(w)>0){f.each(a.split(w),function(j){r[o](i,j,d,l)});return true}return e}function k(o){return o&&o.nodeType!==3&&o.nodeType!==8?b.data(o,t):-1}function c(o,i){o&&o.nodeType!==3&&o.nodeType!==8&&b.data(o,t,i)}var h=document,n=b._isNodeList,u=h.addEventListener?function(o,i,a,d){o.addEventListener&&o.addEventListener(i,
a,!!d)}:function(o,i,a){o.attachEvent&&o.attachEvent("on"+i,a)},q=h.removeEventListener?function(o,i,a,d){o.removeEventListener&&o.removeEventListener(i,a,!!d)}:function(o,i,a){o.detachEvent&&o.detachEvent("on"+i,a)},t="ksEventTargetId",w=" ",y=f.now(),m={},r={EVENT_GUID:t,special:{},add:function(o,i,a,d){if(!g("add",o,i,a,d)){var l=k(o),j,s,x,z,v;if(!(l===-1||!i||!f.isFunction(a))){if(!l){c(o,l=y++);m[l]={target:o,events:{}}}s=m[l].events;if(!s[i]){j=(l=!o.isCustomEventTarget)&&r.special[i]||{};
x=function(B,A){if(!B||!B.fixed)B=new p(o,B,i);if(f.isPlainObject(A)){var C=B.type;f.mix(B,A);B.type=C}j.setup&&j.setup(B);return(j.handle||r._handle)(o,B)};s[i]={handle:x,listeners:[]};z=j.fix||i;v=j.capture;j.init&&j.init.apply(null,f.makeArray(arguments));l&&j.fix!==false&&u(o,z,x,v)}s[i].listeners.push({fn:a,scope:d||o})}}},__getListeners:function(o,i){var a,d=[];if(a=(r.__getEvents(o)||{})[i])d=a.listeners;return d},__getEvents:function(o){var i=k(o),a;if(i!==-1)if(i&&(a=m[i]))if(a.target===
o)return a.events||{}},remove:function(o,i,a,d){if(!g("remove",o,i,a,d)){var l=r.__getEvents(o),j=k(o),s,x,z,v,B,A,C=!o.isCustomEventTarget&&r.special[i]||{};if(l!==e){d=d||o;if(s=l[i]){x=s.listeners;z=x.length;if(f.isFunction(a)&&z){B=v=0;for(A=[];v<z;++v)if(a!==x[v].fn||d!==x[v].scope)A[B++]=x[v];s.listeners=A;z=A.length}if(a===e||z===0){if(!o.isCustomEventTarget){C=r.special[i]||{};if(C.fix!==false)q(o,C.fix||i,s.handle)}delete l[i]}}C.destroy&&C.destroy.apply(null,f.makeArray(arguments));if(i===
e||f.isEmptyObject(l)){for(i in l)r.remove(o,i);delete m[j];b.removeData(o,t)}}}},_handle:function(o,i){var a=r.__getListeners(o,i.type);a=a.slice(0);for(var d,l,j=0,s=a.length;j<s;++j){d=a[j];d=d.fn.call(d.scope,i);if(l!==false)l=d;d!==e&&d===false&&i.halt();if(i.isImmediatePropagationStopped)break}return l},_getCache:function(o){return m[o]},__getID:k,_simpleAdd:u,_simpleRemove:q};r.on=r.add;r.detach=r.remove;return r},{requires:["dom","event/object"]});
KISSY.add("event/target",function(f,b,p,e){return{isCustomEventTarget:true,fire:function(g,k){var c=p.data(this,b.EVENT_GUID)||-1;if((c=((b._getCache(c)||{}).events||{})[g])&&f.isFunction(c.handle))return c.handle(e,k)},on:function(g,k,c){b.add(this,g,k,c);return this},detach:function(g,k,c){b.remove(this,g,k,c);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(f,b){document.addEventListener&&f.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(p){b.special[p.name]={fix:p.fix,capture:true,setup:function(e){e.type=p.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(f,b,p,e){e.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(g){b.special[g.name]={fix:g.fix,setup:function(k){k.type=g.name},handle:function(k,c){var h=c.relatedTarget;try{for(;h&&h!==k;)h=h.parentNode;h!==k&&b._handle(k,c)}catch(n){}}}})},{requires:["event/base","dom","ua"]});KISSY.add("event",function(f,b,p){b.Target=p;return b},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/base",function(f,b,p,e){function g(h,n,u){if(h)if(f.isString(h)){h=b.create(h,n,u);if(h.nodeType===11){k.push.apply(this,f.makeArray(h.childNodes));return e}}else if(h instanceof g)return h;else if(f.isArray(h)||c(h)){k.push.apply(this,f.makeArray(h));return e}else h=h;else return e;this[0]=h;this.length=1;return e}var k=Array.prototype,c=b._isNodeList;f.augment(g,p.Target,{isCustomEventTarget:false,fire:null,length:0,item:function(h){if(f.isNumber(h)){if(h>=this.length)return null;
return new g(this[h],e,e)}else return new g(h,e,e)},getDOMNodes:function(){return k.slice.call(this)},each:function(h,n){var u=this.length,q=0,t;for(t=new g(this[0],e,e);q<u&&h.call(n||t,t,q,this)!==false;t=new g(this[++q],e,e));return this},getDOMNode:function(){return this[0]},one:function(h){if(this.length>0)return g.one(h,this[0]);return null}});g.prototype.all=g.prototype.one;g.one=g.all=function(h,n){if(h.getDOMNodes)return h;var u=b.query(h,n);return u.length>0?new g(u,e,e):null};return g.List=
g},{requires:["dom","event"]});
KISSY.add("node/attach",function(f,b,p,e,g){var k=e.prototype,c=b._isNodeList;e.addMethod=function(n,u,q,t){k[n]=function(){var w=f.makeArray(arguments);w.unshift(this);w=u.apply(q||this,w);if(w===g)w=this;else if(w===null)w=null;else if(t&&(w.nodeType||c(w)||f.isArray(w)))w=new e(w);return w}};var h=["_isElementNode","_getWin","_getComputedStyle","_isNodeList","_nodeTypeIs","create","get","query","data"];f.each(b,function(n,u){b.hasOwnProperty(u)&&f.isFunction(n)&&!f.inArray(u,h)&&e.addMethod(u,
n,b,true)});e.addMethod("data",b.data,b)},{requires:["dom","event","./base"]});KISSY.add("node/override",function(f,b,p,e){f.each(["append","prepend"],function(g){e.addMethod(g,function(k,c){var h=c;if(f.isString(h))h=b.create(h);else if(h.getDOMNode)h=h.getDOMNode();for(var n=0;n<k.length;n++){var u=k[n];b[g](n>0?h.cloneNode(true):h,u)}},undefined,true)})},{requires:["dom","event","./base","./attach"]});KISSY.add("node",function(f,b){return b},{requires:["node/base","node/attach","node/override"]});
KISSY.add("json/json2",function(){function f(t){return t<10?"0"+t:t}function b(t){c.lastIndex=0;return c.test(t)?'"'+t.replace(c,function(w){var y=u[w];return typeof y==="string"?y:"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function p(t,w){var y,m,r,o,i=h,a,d=w[t];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(t);if(typeof q==="function")d=q.call(w,t,d);switch(typeof d){case "string":return b(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";h+=n;a=[];if(Object.prototype.toString.apply(d)==="[object Array]"){o=d.length;for(y=0;y<o;y+=1)a[y]=p(y,d)||"null";r=a.length===0?"[]":h?"[\n"+h+a.join(",\n"+h)+"\n"+i+"]":"["+a.join(",")+"]";h=i;return r}if(q&&typeof q==="object"){o=q.length;for(y=0;y<o;y+=1){m=q[y];if(typeof m==="string")if(r=p(m,d))a.push(b(m)+(h?": ":":")+r)}}else for(m in d)if(Object.hasOwnProperty.call(d,m))if(r=p(m,d))a.push(b(m)+(h?": ":":")+r);r=a.length===0?"{}":h?"{\n"+h+a.join(",\n"+h)+
"\n"+i+"}":"{"+a.join(",")+"}";h=i;return r}}var e=window,g=e.JSON;if(!g)g=e.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,n,u={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof g.stringify!=="function")g.stringify=function(t,w,y){var m;n=h="";if(typeof y==="number")for(m=0;m<y;m+=1)n+=" ";else if(typeof y==="string")n=y;if((q=w)&&typeof w!=="function"&&(typeof w!=="object"||typeof w.length!=="number"))throw Error("JSON.stringify");return p("",{"":t})};if(typeof g.parse!==
"function")g.parse=function(t,w){function y(r,o){var i,a,d=r[o];if(d&&typeof d==="object")for(i in d)if(Object.hasOwnProperty.call(d,i)){a=y(d,i);if(a!==undefined)d[i]=a;else delete d[i]}return w.call(r,o,d)}var m;t=String(t);k.lastIndex=0;if(k.test(t))t=t.replace(k,function(r){return"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){m=eval("("+t+")");return typeof w==="function"?y({"":m},""):m}throw new SyntaxError("JSON.parse");};return g});KISSY.add("json",function(f,b){return{parse:function(p){if(p==null||p==="")return null;return b.parse(p)},stringify:b.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(f,b,p,e){function g(v){v=f.merge(z,v);if(!v.url)return e;if(v.data&&!f.isString(v.data))v.data=f.param(v.data);v.context=v.context||v;var B,A=d,C,D=v.type.toUpperCase();if(v.dataType===y){B=v.jsonpCallback||f.guid(y);v.url=v.url+(v.url.indexOf("?")===-1?"?":"&")+(v.jsonp+"="+B);v.dataType=m;var F=h[B];h[B]=function(J){if(f.isFunction(F))F(J);else{h[B]=e;try{delete h[B]}catch(H){}}k([d,l],J,A,E,v)}}if(v.data&&D===u)v.url=v.url+(v.url.indexOf("?")===-1?"?":"&")+v.data;
if(v.dataType===m){c(o,v);D=f.getScript(v.url,B?null:function(){k([d,l],r,A,E,v)});c(i,v);return D}var G=false,E=v.xhr();c(o,v);E.open(D,v.url,v.async);try{if(v.data||v.contentType)E.setRequestHeader(t,v.contentType);E.setRequestHeader("Accept",v.dataType&&v.accepts[v.dataType]?v.accepts[v.dataType]+", */*; q=0.01":v.accepts._default)}catch(I){}E.onreadystatechange=function(J){if(!E||E.readyState===0||J==="abort"){G||k(l,null,j,E,v);G=true;if(E)E.onreadystatechange=n}else if(!G&&E&&(E.readyState===
4||J===s)){G=true;E.onreadystatechange=n;var H;if(J===s)H=s;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?d:j}A=H;try{H=E;var M=v.dataType,N=r,O,K=H;if(!f.isString(K)){N=H.getResponseHeader(t)||r;K=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&K.documentElement.nodeName===x)throw x;}if(f.isString(K))if(M===w||!M&&N.indexOf(w)>=0)K=p.parse(K);C=K}catch(Q){A=x}k([A===d?d:j,l],C,A,E,v);if(J===s){E.abort();c(a,v)}if(v.async)E=
null}};c(i,v);try{E.send(D===q?v.data:null)}catch(L){k([j,l],C,j,E,v)}v.async||c(l,v);return E}function k(v,B,A,C,D){if(f.isArray(v))f.each(v,function(F){k(F,B,A,C,D)});else{A===v&&D[v]&&D[v].call(D.context,B,A,C);c(v,D)}}function c(v,B){g.fire(v,{ajaxConfig:B})}var h=window,n=function(){},u="GET",q="POST",t="Content-Type",w="json",y=w+"p",m="script",r="",o="start",i="send",a="stop",d="success",l="complete",j="error",s="timeout",x="parsererror",z={type:u,url:r,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:h.ActiveXObject?function(){if(h.XmlHttpRequest)try{return new h.XMLHttpRequest}catch(v){}try{return new h.ActiveXObject("Microsoft.XMLHTTP")}catch(B){}}:function(){return new h.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};f.mix(g,b.Target);f.mix(g,{get:function(v,B,A,C,D){if(f.isFunction(B)){C=A;A=B}return g({type:D||
u,url:v,data:B,success:function(F,G,E){A&&A.call(this,F,G,E)},dataType:C})},post:function(v,B,A,C){if(f.isFunction(B)){C=A;A=B;B=e}return g.get(v,B,A,C,q)},jsonp:function(v,B,A){if(f.isFunction(B)){A=B;B=null}return g.get(v,B,A,y)}});return g},{requires:["event","json"]});KISSY.add("ajax",function(f,b){return b},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var f=Math,b=f.PI,p=f.pow,e=f.sin,g=1.70158,k={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(p(2,10*(c-=1))*e((c-0.075)*2*b/0.3))},elasticOut:function(c){if(c===
0||c===1)return c;return p(2,-10*c)*e((c-0.075)*2*b/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*p(2,10*(c-=1))*e((c-0.1125)*2*b/0.45);return p(2,-10*(c-=1))*e((c-0.1125)*2*b/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((g+1)*c-g)},backOut:function(c){return(c-=1)*c*((g+1)*c+g)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((g*=1.525)+1)*c-g);return 0.5*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)},bounceIn:function(c){return 1-k.bounceOut(1-c)},bounceOut:function(c){return c<
1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return k.bounceIn(c*2)*0.5;return k.bounceOut(c*2-1)*0.5+0.5}};k.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return k});
KISSY.add("anim/manager",function(f){function b(e){e[p]=e[p]||f.guid("anim-");return e[p]}var p=f.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(e){var g=b(e);if(!this.runnings[g]){this.runnings[g]=e;this.startTimer()}},stop:function(e){this.notRun(e)},notRun:function(e){delete this.runnings[b(e)];f.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(e){this.notRun(e)},resume:function(e){this.start(e)},startTimer:function(){var e=this;if(!e.timer)e.timer=setTimeout(function(){if(e.runFrames())e.stopTimer();
else{e.timer=null;e.startTimer()}},e.interval)},stopTimer:function(){var e=this.timer;if(e){clearTimeout(e);this.timer=null}},runFrames:function(){var e=true,g=this.runnings,k;for(k in g)if(g.hasOwnProperty(k)){e=false;g[k]._runFrame()}return e}}});
KISSY.add("anim/base",function(f,b,p,e,g,k,c){function h(a,d,l,j,s,x){if(a=b.get(a)){if(!(this instanceof h))return new h(a,d,l,j,s,x);var z=f.isPlainObject(l);d=d;this.domEl=a;if(f.isPlainObject(d))d=String(f.param(d,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var v=d,B=a;a={};var A=t.length,C=B.cloneNode(true);b.insertAfter(C,B);B=C.style;for(u(C,v);A--;){var D=t[A];if(B[D])a[D]=(o[D]||o["*"]).getter(C,D)}v=q(v);for(var F in v)a[F]=(o[F]||o["*"]).getter(C,
F);b.remove(C);this.props=a;this.targetStyle=d;if(z)z=f.merge(m,l);else{z=f.clone(m);if(l)z.duration=parseFloat(l)||1;if(f.isString(j)||f.isFunction(j))z.easing=j;if(f.isFunction(s))z.complete=s;if(x!==c)z.nativeSupport=x}if(!f.isEmptyObject(q(d)))z.nativeSupport=false;this.config=z;if(z.nativeSupport&&i()&&f.isString(j=z.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=e.NativeTimeFunction[j])){z.easing=j;this.transitionName=i()}if(f.isFunction(s))this.callback=s}}function n(a,d){return d}function u(a,
d){if(g.ie&&d.indexOf(y)>-1){var l=d.match(/opacity\s*:\s*([^;]+)(;|$)/);l&&b.css(a,y,parseFloat(l[1]))}a.style.cssText+=";"+d;l=q(d);for(var j in l)a[j]=l[j]}function q(a){for(var d={},l=0;l<w.length;l++){var j=w[l].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(j=a.match(RegExp(j+"\\s*:([^;]+)(;|$)")))d[w[l]]=f.trim(j[1])}return d}var t,w,y,m,r;p=p.Target;t="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
w=[];y="opacity";m={duration:1,easing:"easeNone",nativeSupport:true};h.PROPS=t;h.CUSTOM_ATTRS=w;h.PROP_OPS={"*":{getter:function(a,d){var l=b.css(a,d),j=parseFloat(l);l=(l+"").replace(/^[-\d.]+/,"");if(isNaN(j))return{v:l,u:"",f:n};return{v:j,u:l,f:this.interpolate}},setter:function(a,d,l){return b.css(a,d,l)},interpolate:function(a,d,l){return(a+(d-a)*l).toFixed(3)},eq:function(a,d){return a.v==d.v&&a.u==d.u}}};var o=h.PROP_OPS;f.augment(h,p,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var a=this.config,d=this.domEl,l,j=this.props,s={},x;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=l=a.duration*1E3;if(this.transitionName)this._nativeRun();else{for(x in j)s[x]=(o[x]||o["*"]).getter(d,x);this.source=s;d=f.now();l=d+l;a=a.easing;if(f.isString(a))a=e[a]||e.easeNone;this.start=d;this.finish=l;this.easing=a;k.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var a=
this.domEl,d=this.finish,l=this.start,j=this.duration,s=f.now(),x=this.source,z=this.easing,v=this.props,B;l=s-l;j=s>d?1:l/j;var A,C;this.elapsedTime=l;for(B in v){l=x[B];A=v[B];var D;D=A;var F=l,G=o[B];D=G&&G.eq?G.eq(D,F):o["*"].eq(D,F);if(!D){if(A.v==0)A.u=l.u;if(l.u!==A.u){l.v=0;l.u=A.u}D=A.f(l.v,A.v,z(j))+A.u;(o[B]||o["*"]).setter(a,B,D);if(A.f==n){l.v=A.v;l.u=A.u}}}if(this.fire("step")===false||(C=s>d)){this.stop();C&&this._complete()}},_nativeRun:function(){var a=this,d=a.domEl,l=a.duration,
j=a.config.easing,s=a.transitionName,x={};x[s+"Property"]="all";x[s+"Duration"]=l+"ms";x[s+"TimingFunction"]=j;b.css(d,x);f.later(function(){u(d,a.targetStyle)},0);f.later(function(){a.stop(true)},l)},stop:function(a){if(this.isRunning){if(this.transitionName)this._nativeStop(a);else{if(a){u(this.domEl,this.targetStyle);this._complete()}k.stop(this)}this.isRunning=false;return this}},_nativeStop:function(a){var d=this.domEl,l=this.transitionName,j=this.props,s;if(a){b.css(d,l+"Property","none");this._complete()}else{for(s in j)b.css(d,
s,b._getComputedStyle(d,s));b.css(d,l+"Property","none")}}});h.supportTransition=function(){if(r)return r;var a="transition",d,l=document.body;if(l.style[a]!==c)d=a;else f.each(["Webkit","Moz","O"],function(j){if(l.style[a=j+"Transition"]!==c){d=a;return false}});return r=d};var i=h.supportTransition;return h},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(f,b,p,e,g){function k(m,r,o,i,a,d,l){if(r==="toggle"){a=b.css(m,c)===h?1:0;r="show"}if(a)b.css(m,c,b.data(m,c)||"");var j={},s={};f.each(y[r],function(x){if(x===n){j[n]=b.css(m,n);b.css(m,n,u)}else if(x===q){j[q]=b.css(m,q);s.opacity=a?1:0;a&&b.css(m,q,0)}else if(x===t){j[t]=b.css(m,t);s.height=a?b.css(m,t)||m.naturalHeight:0;a&&b.css(m,t,0)}else if(x===w){j[w]=b.css(m,w);s.width=a?b.css(m,w)||m.naturalWidth:0;a&&b.css(m,w,0)}});return(new p(m,s,o,d||"easeOut",
function(){if(!a){var x=m.style,z=x[c];if(z!==h){z&&b.data(m,c,z);x[c]=h}j[t]&&b.css(m,{height:j[t]});j[w]&&b.css(m,{width:j[w]});j[q]&&b.css(m,{opacity:j[q]});j[n]&&b.css(m,{overflow:j[n]})}i&&f.isFunction(i)&&i()},l)).run()}var c="display",h="none",n="overflow",u="hidden",q="opacity",t="height",w="width",y={show:[n,q,t,w],fade:[q],slide:[n,t]};(function(m){m.animate=function(){var r=this,o=f.makeArray(arguments);r.__anims=r.__anims||[];f.each(this,function(i){r.__anims.push(p.apply(g,[i].concat(o)).run())});
return this};m.stopAnimate=function(r){f.each(this.__anims,function(o){o.stop(r)});this.__anims=[]};f.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(r,o){m[o]=function(i,a,d,l){var j=this;j.__anims=j.__anims||[];b[o]&&arguments.length===0?b[o](this):f.each(this,function(s){j.__anims.push(k(s,r[0],i,a,r[1],d,l))});return this}})})(e.List.prototype)},{requires:["dom","anim/base","node"]});
KISSY.add("anim/color",function(f,b,p){function e(u){u=u.toLowerCase();var q;if(q=u.match(k))return[parseInt(q[1]),parseInt(q[2]),parseInt(q[3])];else if(q=u.match(c)){for(u=1;u<q.length;u++)if(q[u].length<2)q[u]+=q[u];return[parseInt(q[1],16),parseInt(q[2],16),parseInt(q[3],16)]}if(g[u])return g[u];return[255,255,255]}var g={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},k=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,c=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,h="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),n=p.PROP_OPS;p=p.PROPS;p.push.apply(p,h);n.color={getter:function(u,q){return{v:e(b.css(u,q)),u:"",f:this.interpolate}},setter:n["*"].setter,interpolate:function(u,q,t){var w=
n["*"].interpolate;return"rgb("+[Math.floor(w(u[0],q[0],t)),Math.floor(w(u[1],q[1],t)),Math.floor(w(u[2],q[2],t))].join(", ")+")"},eq:function(u,q){return u.v+""==q.v+""}};f.each(h,function(u){n[u]=n.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(f,b,p){var e=p.PROP_OPS;p.CUSTOM_ATTRS.push("scrollLeft","scrollTop");e.scrollLeft=e.scrollTop={getter:function(g,k){return{v:g[k],u:"",f:e["*"].interpolate}},setter:function(g,k,c){g[k]=c}}},{requires:["dom","./base"]});
KISSY.add("anim",function(f,b,p){b.Easing=p;return b},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color","anim/scroll"]});
KISSY.add("base/attribute",function(f,b){function p(){this.__attrs={};this.__attrVals={}}function e(g){g+="";return g.charAt(0).toUpperCase()+g.substring(1)}f.augment(p,{__getDefAttrs:function(){return f.clone(this.__attrs)},addAttr:function(g,k,c){if(this.__attrs[g])f.mix(this.__attrs[g],k,c);else this.__attrs[g]=f.clone(k||{});return this},hasAttr:function(g){return g&&this.__attrs.hasOwnProperty(g)},removeAttr:function(g){if(this.hasAttr(g)){delete this.__attrs[g];delete this.__attrVals[g]}return this},
set:function(g,k){var c=this.get(g);if(c!==k)if(false!==this.__fireAttrChange("before",g,c,k)){this.__set(g,k);this.__fireAttrChange("after",g,c,this.__attrVals[g]);return this}},__fireAttrChange:function(g,k,c,h){return this.fire(g+e(k)+"Change",{attrName:k,prevVal:c,newVal:h})},__set:function(g,k){var c,h=this.__attrs[g];if(h=h&&h.setter)c=h.call(this,k);if(c!==b)k=c;this.__attrVals[g]=k},get:function(g){var k;k=(k=this.__attrs[g])&&k.getter;g=g in this.__attrVals?this.__attrVals[g]:this.__getDefAttrVal(g);
if(k)g=k.call(this,g);return g},__getDefAttrVal:function(g){g=this.__attrs[g];var k;if(g){if(k=g.valueFn){k=k.call(this);if(k!==b)g.value=k;delete g.valueFn}return g.value}},reset:function(g){if(this.hasAttr(g))return this.set(g,this.__getDefAttrVal(g));for(g in this.__attrs)this.hasAttr(g)&&this.reset(g);return this}});p.__capitalFirst=e;return p});
KISSY.add("base/base",function(f,b,p){function e(g){b.call(this);for(var k=this.constructor;k;){var c=k.ATTRS;if(c){var h=void 0;for(h in c)c.hasOwnProperty(h)&&this.addAttr(h,c[h],false)}k=k.superclass?k.superclass.constructor:null}if(g)for(var n in g)g.hasOwnProperty(n)&&this.__set(n,g[n])}f.augment(e,p.Target,b);return e},{requires:["./attribute","event"]});KISSY.add("base",function(f,b){return b},{requires:["base/base"]});
KISSY.add("cookie/base",function(f){var b=document,p=encodeURIComponent,e=decodeURIComponent;return{get:function(g){var k;if(f.isString(g)&&g!=="")if(g=String(b.cookie).match(RegExp("(?:^| )"+g+"(?:(?:=([^;]*))|;|$)")))k=g[1]?e(g[1]):"";return k},set:function(g,k,c,h,n,u){k=String(p(k));var q=c;if(typeof q==="number"){q=new Date;q.setTime(q.getTime()+c*864E5)}if(q instanceof Date)k+="; expires="+q.toUTCString();if(f.isString(h)&&h!=="")k+="; domain="+h;if(f.isString(n)&&n!=="")k+="; path="+n;if(u)k+=
"; secure";b.cookie=g+"="+k},remove:function(g,k,c,h){this.set(g,"",0,k,c,h)}}});KISSY.add("cookie",function(f,b){return b},{requires:["cookie/base"]});
KISSY.add("core",function(f,b,p,e,g,k,c,h,n,u){c.getScript=f.getScript;b={UA:b,DOM:p,Event:e,EventTarget:e.Target,Node:g,NodeList:g.List,JSON:k,Ajax:c,IO:c,ajax:c,io:c,jsonp:c.jsonp,Anim:h,Easing:h.Easing,Base:n,Cookie:u,one:g.one,all:g.List.all,get:p.get,query:p.query};f.mix(f,b);return b},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
