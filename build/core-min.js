/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Jul 27 14:08
*/
KISSY.add("ua/base",function(){var f=navigator.userAgent,a="",k="",c,e={},b=function(h){var d=0;return parseFloat(h.replace(/\./g,function(){return d++===0?".":""}))};if((c=f.match(/AppleWebKit\/([\d.]*)/))&&c[1]){e[a="webkit"]=b(c[1]);if((c=f.match(/Chrome\/([\d.]*)/))&&c[1])e[k="chrome"]=b(c[1]);else if((c=f.match(/\/([\d.]*) Safari/))&&c[1])e[k="safari"]=b(c[1]);if(/ Mobile\//.test(f))e.mobile="apple";else if(c=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=c[0].toLowerCase()}else if((c=
f.match(/Presto\/([\d.]*)/))&&c[1]){e[a="presto"]=b(c[1]);if((c=f.match(/Opera\/([\d.]*)/))&&c[1]){e[k="opera"]=b(c[1]);if((c=f.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])e[k]=b(c[1]);if((c=f.match(/Opera Mini[^;]*/))&&c)e.mobile=c[0].toLowerCase();else if((c=f.match(/Opera Mobi[^;]*/))&&c)e.mobile=c[0]}}else if((c=f.match(/MSIE\s([^;]*)/))&&c[1]){e[a="trident"]=0.1;e[k="ie"]=b(c[1]);if((c=f.match(/Trident\/([\d.]*)/))&&c[1])e[a]=b(c[1])}else if(c=f.match(/Gecko/)){e[a="gecko"]=0.1;if((c=f.match(/rv:([\d.]*)/))&&
c[1])e[a]=b(c[1]);if((c=f.match(/Firefox\/([\d.]*)/))&&c[1])e[k="firefox"]=b(c[1])}e.core=a;e.shell=k;e._numberify=b;return e});
KISSY.add("ua/extra",function(f,a){var k=navigator.userAgent,c,e,b={},h=a._numberify;if(k.match(/360SE/))b[e="se360"]=3;else if(k.match(/Maxthon/)&&(c=window.external)){e="maxthon";try{b[e]=h(c.max_version)}catch(d){b[e]=0.1}}else if(c=k.match(/TencentTraveler\s([\d.]*)/))b[e="tt"]=c[1]?h(c[1]):0.1;else if(k.match(/TheWorld/))b[e="theworld"]=3;else if(c=k.match(/SE\s([\d.]*)/))b[e="sougou"]=c[1]?h(c[1]):0.1;e&&(b.shell=e);f.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(f,a){return a},{requires:["ua/extra"]});KISSY.add("dom/base",function(f,a){function k(c,e){return c&&c.nodeType===e}return{_isElementNode:function(c){return k(c,1)},_getWin:function(c){return c&&"scrollTo"in c&&c.document?c:k(c,9)?c.defaultView||c.parentWindow:c==a?window:false},_nodeTypeIs:k,_isNodeList:function(c){return c&&!c.nodeType&&c.item&&!c.setTimeout}}});
KISSY.add("dom/attr",function(f,a,k,c){function e(i,l){l=r[l]||l;var s=j[l];if(!i)return c;return s&&s.get?s.get(i,l):i[l]}k=document.documentElement;var b=!k.hasAttribute,h=k.textContent!==c?"textContent":"innerText",d=a._isElementNode,g=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:button|input|object|select|textarea)$/i,x=/^a(?:rea)?$/i,v=/:|^on/,t=/\r/g,u={},n={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},q={tabindex:{get:function(i){var l=i.getAttributeNode("tabindex");return l&&l.specified?parseInt(l.value,10):p.test(i.nodeName)||x.test(i.nodeName)&&i.href?0:c}},style:{get:function(i){return i.style.cssText},set:function(i,l){i.style.cssText=l}}},r={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
w={get:function(i,l){return a.prop(i,l)?l.toLowerCase():c},set:function(i,l,s){if(l===false)a.removeAttr(i,s);else{l=r[s]||s;if(l in i)i[l]=true;i.setAttribute(s,s.toLowerCase())}return s}},j={},o={},m={option:{get:function(i){var l=i.attributes.value;return!l||l.specified?i.value:i.text}},select:{get:function(i){var l=i.selectedIndex,s=i.options;i=i.type==="select-one";if(l<0)return null;else if(i)return a.val(s[l]);l=[];i=0;for(var y=s.length;i<y;++i)s[i].selected&&l.push(a.val(s[i]));return l},
set:function(i,l){var s=f.makeArray(l);f.each(i.options,function(y){y.selected=f.inArray(a.val(y),s)});if(!s.length)i.selectedIndex=-1;return s}}};if(b){o={get:function(i,l){var s;return(s=i.getAttributeNode(l))&&s.nodeValue!==""?s.nodeValue:c},set:function(i,l,s){if(i=i.getAttributeNode(s))i.nodeValue=l}};u=r;q.tabIndex=q.tabindex;f.each(["href","src","width","height","colSpan","rowSpan"],function(i){q[i]={get:function(l){l=l.getAttribute(i,2);return l===null?c:l}}});m.button=q.value=o}f.each(["radio",
"checkbox"],function(i){m[i]={get:function(l){return l.getAttribute("value")===null?"on":l.value},set:function(l,s){if(f.isArray(s))return l.checked=f.inArray(a.val(l),s)}}});f.mix(a,{prop:function(i,l,s){if(f.isPlainObject(l))for(var y in l)a.prop(i,y,l[y]);else{i=a.query(i);l=r[l]||l;var z=j[l];if(s!==c)f.each(i,function(A){if(z&&z.set)z.set(A,s,l);else A[l]=s});else if(i=i[0])return e(i,l)}},hasProp:function(i,l){return e(i,l)!==c},removeProp:function(i,l){l=r[l]||l;a.query(i).each(function(s){try{s[l]=
c;delete s[l]}catch(y){}})},attr:function(i,l,s,y){if(f.isPlainObject(l)){y=s;for(var z in l)a.attr(i,z,l[z],y)}else if(l=f.trim(l)){l=l.toLowerCase();if(y&&n[l])return a[l](i,s);l=u[l]||l;var A;A=g.test(l)?w:v.test(l)?o:q[l];if(s===c){i=a.get(i);if(d(i)){if(i.nodeName.toLowerCase()=="form")A=o;if(A&&A.get)return A.get(i,l);i=i.getAttribute(l);return i===null?c:i}}else f.each(a.query(i),function(B){if(d(B))A&&A.set?A.set(B,s,l):B.setAttribute(l,""+s)})}},removeAttr:function(i,l){l=l.toLowerCase();
l=u[l]||l;f.each(a.query(i),function(s){if(d(s)){var y;s.removeAttribute(l);if(g.test(l)&&(y=r[l]||l)in s)s[y]=false}})},hasAttr:b?function(i,l){l=l.toLowerCase();var s=a.get(i).getAttributeNode(l);return!!(s&&s.specified)}:function(i,l){l=l.toLowerCase();return a.get(i).hasAttribute(l)},val:function(i,l){var s,y;if(l===c){var z=a.get(i);if(z){if((s=m[z.nodeName.toLowerCase()]||m[z.type])&&"get"in s&&(y=s.get(z,"value"))!==c)return y;y=z.value;return typeof y==="string"?y.replace(t,""):y==null?"":
y}}else a.query(i).each(function(A){if(A.nodeType===1){var B=l;if(B==null)B="";else if(typeof B==="number")B+="";else if(f.isArray(B))B=f.map(B,function(C){return C==null?"":C+""});s=m[A.nodeName.toLowerCase()]||m[A.type];if(!s||!("set"in s)||s.set(A,B,"value")===c)A.value=B}})},text:function(i,l){if(l===c){var s=a.get(i);if(d(s))return s[h]||"";else if(a._nodeTypeIs(s,3))return s.nodeValue;return c}else f.each(a.query(i),function(y){if(d(y))y[h]=l;else if(a._nodeTypeIs(y,3))y.nodeValue=l})}});return a},
{requires:["./base","ua"]});
KISSY.add("dom/class",function(f,a,k){function c(h,d,g,p){if(!(d=f.trim(d)))return p?false:k;h=a.query(h);var x=0,v=h.length,t=d.split(e);for(d=[];x<t.length;x++){var u=f.trim(t[x]);u&&d.push(u)}for(x=0;x<v;x++){t=h[x];if(a._isElementNode(t)){t=g(t,d,d.length);if(t!==k)return t}}if(p)return false;return k}var e=/[\.\s]\s*\.?/,b=/[\n\t]/g;f.mix(a,{hasClass:function(h,d){return c(h,d,function(g,p,x){if(g=g.className){g=(" "+g+" ").replace(b," ");for(var v=0,t=true;v<x;v++)if(g.indexOf(" "+p[v]+" ")<
0){t=false;break}if(t)return true}},true)},addClass:function(h,d){c(h,d,function(g,p,x){var v=g.className;if(v){var t=(" "+v+" ").replace(b," ");v=v;for(var u=0;u<x;u++)if(t.indexOf(" "+p[u]+" ")<0)v+=" "+p[u];g.className=f.trim(v)}else g.className=d},k)},removeClass:function(h,d){c(h,d,function(g,p,x){var v=g.className;if(v)if(x){v=(" "+v+" ").replace(b," ");for(var t=0,u;t<x;t++)for(u=" "+p[t]+" ";v.indexOf(u)>=0;)v=v.replace(u," ");g.className=f.trim(v)}else g.className=""},k)},replaceClass:function(h,
d,g){a.removeClass(h,d);a.addClass(h,g)},toggleClass:function(h,d,g){var p=f.isBoolean(g),x;c(h,d,function(v,t,u){for(var n=0,q;n<u;n++){q=t[n];x=p?!g:a.hasClass(v,q);a[x?"removeClass":"addClass"](v,q)}},k)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,k,c){function e(y,z){if(f.isPlainObject(z))if(v(y))a.attr(y,z,true);else y.nodeType==11&&f.each(y.childNodes,function(A){a.attr(A,z,true)});return y}function b(y,z){var A=null,B,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;A=z.createDocumentFragment();if(y.item)y=f.makeArray(y);B=0;for(C=y.length;B<C;B++)A.appendChild(y[B])}else f.log("Unable to convert "+y+" to fragment.");return A}function h(y,z,A,B){if(A){var C=f.guid("ks-tmp-"),D=RegExp(q);z+='<span id="'+
C+'"></span>';f.available(C,function(){var E=a.get("head"),F,G,I,H,K,J;for(D.lastIndex=0;F=D.exec(z);)if((I=(G=F[1])?G.match(w):false)&&I[2]){F=g.createElement("script");F.src=I[2];if((H=G.match(j))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)f.globalEval(J);(K=g.getElementById(C))&&a.remove(K);f.isFunction(B)&&B()});d(y,z)}else{d(y,z);f.isFunction(B)&&B()}}function d(y,z){z=(z+"").replace(q,"");try{y.innerHTML=z}catch(A){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(a.create(z))}}var g=document,p=k.ie,x=a._nodeTypeIs,v=a._isElementNode,t=g.createElement("div"),u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,n=/<(\w+)/,q=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,r=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,w=/\ssrc=(['"])(.*?)\1/i,j=/\scharset=(['"])(.*?)\1/i;f.mix(a,{create:function(y,z,A){if(x(y,1)||x(y,3)){z=y;A=z.cloneNode(true);if(k.ie<8)A.innerHTML=z.innerHTML;return A}if(!(y=f.trim(y)))return null;var B=
null;B=a._creators;var C,D="div",E;if(C=r.exec(y))B=(A||g).createElement(C[1]);else{y=y.replace(u,"<$1></$2>");if((C=n.exec(y))&&(E=C[1])&&f.isFunction(B[E=E.toLowerCase()]))D=E;y=B[D](y,A).childNodes;B=y.length===1?y[0].parentNode.removeChild(y[0]):b(y,A||g)}return e(B,z)},_creators:{div:function(y,z){var A=z?z.createElement("div"):t;A.innerHTML="w<div>"+y+"</div>";return A.lastChild}},html:function(y,z,A,B){if(z===c){y=a.get(y);if(v(y))return y.innerHTML}else f.each(a.query(y),function(C){v(C)&&
h(C,z,A,B)})},remove:function(y){f.each(a.query(y),function(z){z.parentNode&&z.parentNode.removeChild(z)})},_nl2frag:b});if(p||k.gecko||k.webkit){var o=a._creators,m=a.create,i=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,l={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},s;for(s in l)(function(y){o[s]=function(z,A){return m("<"+y+">"+z+"</"+y+">",null,A)}})(l[s]);if(p){o.script=function(y,z){var A=z?z.createElement("div"):t;A.innerHTML="-"+y;A.removeChild(A.firstChild);
return A};if(p<8)o.tbody=function(y,z){var A=m("<table>"+y+"</table>",null,z),B=A.children.tags("tbody")[0];A.children.length>1&&B&&!i.test(y)&&B.parentNode.removeChild(B);return A}}f.mix(o,{optgroup:o.option,th:o.td,thead:o.tbody,tfoot:o.tbody,caption:o.tbody,colgroup:o.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,k){var c=window,e="_ks_data_"+f.now(),b={},h={},d={};d.applet=1;d.object=1;d.embed=1;var g={hasData:function(v,t){if(v)if(t!==k){if(t in v)return true}else if(!f.isEmptyObject(v))return true;return false}},p={hasData:function(v,t){if(v==c)return p.hasData(h,t);return g.hasData(v[e],t)},data:function(v,t,u){if(v==c)return p.data(h,t,u);var n=v[e];if(u!==k){n=v[e]=v[e]||{};n[t]=u}else if(t!==k)return n&&n[t];else return n=v[e]=v[e]||{}},removeData:function(v,t){if(v==
c)return p.removeData(h,t);var u=v[e];if(u)if(t!==k){delete u[t];f.isEmptyObject(u)&&p.removeData(v,k)}else delete v[e]}},x={hasData:function(v,t){var u=v[e];if(!u)return false;return g.hasData(b[u],t)},data:function(v,t,u){if(!d[v.nodeName.toLowerCase()]){var n=v[e];n||(n=v[e]=f.guid());v=b[n];if(u!==k){v=b[n]=b[n]||{};v[t]=u}else if(t!==k)return v&&v[t];else return v=b[n]=b[n]||{}}},removeData:function(v,t){var u=v[e];if(u){var n=b[u];if(n)if(t!==k){delete n[t];f.isEmptyObject(n)&&x.removeData(v,
k)}else{delete b[u];try{delete v[e]}catch(q){}v.removeAttribute&&v.removeAttribute(e)}}}};f.mix(a,{hasData:function(v,t){var u=false;a.query(v).each(function(n){u=n&&n.nodeType?u||x.hasData(n,t):u||p.hasData(n,t)});return u},data:function(v,t,u){if(f.isPlainObject(t))for(var n in t)a.data(v,n,t[n]);else if(u===k)return(v=a.get(v))&&v.nodeType?x.data(v,t,u):p.data(v,t,u);else a.query(v).each(function(q){q&&q.nodeType?x.data(q,t,u):p.data(q,t,u)})},removeData:function(v,t){a.query(v).each(function(u){u&&
u.nodeType?x.removeData(u,t):p.removeData(u,t)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(f,a){function k(h,d,g){h=a.query(h);d=a.query(d);if(h=c(h)){var p;if(d.length>1)p=h.cloneNode(true);for(var x=0;x<d.length;x++){var v=d[x],t=x>0?p.cloneNode(true):h;g(t,v)}}}var c=a._nl2frag;f.mix(a,{insertBefore:function(h,d){k(h,d,function(g,p){p.parentNode&&p.parentNode.insertBefore(g,p)})},insertAfter:function(h,d){k(h,d,function(g,p){p.parentNode&&p.parentNode.insertBefore(g,p.nextSibling)})},appendTo:function(h,d){k(h,d,function(g,p){p.appendChild(g)})},prependTo:function(h,
d){k(h,d,function(g,p){p.insertBefore(g,p.firstChild)})}});var e={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},b;for(b in e)a[b]=a[e[b]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(f,a,k,c){function e(l){var s,y=0;s=0;var z=d.body,A=t(l[r]);if(l[i]){s=l[i]();y=s[w];s=s[j];l=g&&d.documentMode!=9&&(u?p.clientTop:z.clientTop)||0;y-=g&&d.documentMode!=9&&(u?p.clientLeft:z.clientLeft)||0;s-=l;if(k.mobile=="apple"){y-=a[o](A);s-=a[m](A)}}return{left:y,top:s}}function b(l,s){var y={left:0,top:0},z=t(l[r]),A=l;s=s||z;do{var B;if(z==s){var C=A;B=e(C);C=t(C[r]);B.left+=a[o](C);B.top+=a[m](C);B=B}else B=e(A);B=B;y.left+=B.left;y.top+=B.top}while(z&&z!=s&&
(A=z.frameElement)&&(z=z.parent));return y}var h=window,d=document,g=k.ie,p=d.documentElement,x=a._isElementNode,v=a._nodeTypeIs,t=a._getWin,u=d.compatMode==="CSS1Compat",n=Math.max,q=parseInt,r="ownerDocument",w="left",j="top",o="scrollLeft",m="scrollTop",i="getBoundingClientRect";f.mix(a,{offset:function(l,s,y){if((l=a.get(l))&&l[r]){if(s===c)return b(l,y);l=l;if(a.css(l,"position")==="static")l.style.position="relative";y=b(l);var z={},A,B;for(B in s){A=q(a.css(l,B),10)||0;z[B]=A+s[B]-y[B]}a.css(l,
z)}},scrollIntoView:function(l,s,y,z){if((l=a.get(l))&&l[r]){z=z===c?true:!!z;y=y===c?true:!!y;if(!s||(s=a.get(s))===h)l.scrollIntoView(y);else{if(v(s,9))s=t(s);var A=!!t(s),B=a.offset(l),C=A?{left:a.scrollLeft(s),top:a.scrollTop(s)}:a.offset(s),D={left:B[w]-C[w],top:B[j]-C[j]};B=A?a.viewportHeight(s):s.clientHeight;A=A?a.viewportWidth(s):s.clientWidth;C=a[o](s);var E=a[m](s),F=C+A,G=E+B,I=l.offsetHeight;l=l.offsetWidth;var H=D.left+C-(q(a.css(s,"borderLeftWidth"))||0);D=D.top+E-(q(a.css(s,"borderTopWidth"))||
0);var K=H+l,J=D+I,L,M;if(I>B||D<E||y)L=D;else if(J>G)L=J-B;if(z)if(l>A||H<C||y)M=H;else if(K>F)M=K-A;a[m](s,L);a[o](s,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});f.each(["Left","Top"],function(l,s){var y="scroll"+l;a[y]=function(z,A){if(f.isNumber(z))arguments.callee(h,z);else{z=a.get(z);var B=0,C=t(z);if(C){if(A!==c){B=l=="Left"?A:a.scrollLeft(C);var D=l=="Top"?A:a.scrollTop(C);C.scrollTo(B,D)}B=C.document;B=C[s?"pageYOffset":"pageXOffset"]||B.documentElement[y]||B.body[y]}else if(x(z=
a.get(z)))B=A!==c?z[y]=A:z[y];return A===c?B:c}}});f.each(["Width","Height"],function(l){a["doc"+l]=function(s){s=a.get(s);s=t(s).document;return n(s.documentElement["scroll"+l],s.body["scroll"+l],a["viewport"+l](s))};a["viewport"+l]=function(s){s=a.get(s);var y="inner"+l;s=t(s);var z=s.document;return y in s?s[y]:u?z.documentElement["client"+l]:z.body["client"+l]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(f,a,k,c){function e(j,o){var m=a.get(j);if(f.isWindow(m))return o==p?a.viewportWidth(m):a.viewportHeight(m);else if(m.nodeType==9)return o==p?a.docWidth(m):a.docHeight(m);var i=o===p?m.offsetWidth:m.offsetHeight;f.each(o===p?["Left","Right"]:["Top","Bottom"],function(l){i-=parseFloat(a._getComputedStyle(m,"padding"+l))||0;i-=parseFloat(a._getComputedStyle(m,"border"+l+"Width"))||0});return i}function b(j,o,m){var i=m;if(m===x&&t.test(o)){i=0;if(f.inArray(a.css(j,"position"),
["absolute","fixed"])){m=j[o==="left"?"offsetLeft":"offsetTop"];if(g&&document.documentMode!=9||k.opera)m-=j.offsetParent["client"+(o=="left"?"Left":"Top")]||0;i=m-(v(a.css(j,"margin-"+o))||0)}}return i}var h=document,d=h.documentElement,g=k.ie,p="width",x="auto",v=parseInt,t=/^(?:left|top)/,u=/^(?:width|height|top|left|right|bottom|margin|padding)/i,n=/-([a-z])/ig,q=function(j,o){return o.toUpperCase()},r={},w={};f.mix(a,{_CUSTOM_STYLES:r,_getComputedStyle:function(j,o){var m="",i=j.ownerDocument;
if(j.style)m=i.defaultView.getComputedStyle(j,null)[o];return m},css:function(j,o,m){if(f.isPlainObject(o))for(var i in o)a.css(j,i,o[i]);else{if(o.indexOf("-")>0)o=o.replace(n,q);i=o;o=r[o]||o;if(m===c){j=a.get(j);var l="";if(j&&j.style){l=o.get?o.get(j,i):j.style[o];if(l===""&&!o.get)l=b(j,o,a._getComputedStyle(j,o))}return l===c?"":l}else{if(m===null||m==="")m="";else if(!isNaN(new Number(m))&&u.test(o))m+="px";(o===p||o==="height")&&parseFloat(m)<0||f.each(a.query(j),function(s){if(s&&s.style){o.set?
o.set(s,m):s.style[o]=m;if(m==="")s.style.cssText||s.removeAttribute("style")}})}}},width:function(j,o){if(o===c)return e(j,p);else a.css(j,p,o)},height:function(j,o){if(o===c)return e(j,"height");else a.css(j,"height",o)},show:function(j){a.query(j).each(function(o){if(o){o.style.display=a.data(o,"display")||"";if(a.css(o,"display")==="none"){var m=o.tagName,i=w[m],l;if(!i){l=h.createElement(m);h.body.appendChild(l);i=a.css(l,"display");a.remove(l);w[m]=i}a.data(o,"display",i);o.style.display=i}}})},
hide:function(j){a.query(j).each(function(o){if(o){var m=o.style,i=m.display;if(i!=="none"){i&&a.data(o,"display",i);m.display="none"}}})},toggle:function(j){a.query(j).each(function(o){if(o)a.css(o,"display")==="none"?a.show(o):a.hide(o)})},addStyleSheet:function(j,o,m){if(f.isString(j)){m=o;o=j;j=window}j=a.get(j);j=a._getWin(j).document;var i;if(m&&(m=m.replace("#","")))i=a.get("#"+m,j);if(!i){i=a.create("<style>",{id:m},j);a.get("head",j).appendChild(i);if(i.styleSheet)i.styleSheet.cssText=o;
else i.appendChild(j.createTextNode(o))}},unselectable:function(j){a.query(j).each(function(o){if(o)if(k.gecko)o.style.MozUserSelect="none";else if(k.webkit)o.style.KhtmlUserSelect="none";else if(k.ie||k.opera){var m=0,i=o.getElementsByTagName("*");for(o.setAttribute("unselectable","on");o=i[m++];)switch(o.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:o.setAttribute("unselectable","on")}}})}});if(d.style.cssFloat!==c)r["float"]="cssFloat";else if(d.style.styleFloat!==
c)r["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(f,a,k){function c(n,q){var r,w,j=[],o;w=f.require("sizzle");q=e(q);if(f.isString(n))if(n.indexOf(",")!=-1){r=n.split(",");f.each(r,function(m){j.push.apply(j,f.makeArray(c(m,q)))})}else{n=f.trim(n);if(v.test(n)){if(w=b(n.slice(1),q))j=[w]}else if(r=t.exec(String(n))){w=r[1];o=r[2];r=r[3];if(q=w?b(w,q):q)if(r)if(!w||n.indexOf(x)!==-1)j=f.makeArray(u(r,o,q));else{if((w=b(w,q))&&a.hasClass(w,r))j=[w]}else if(o)j=h(o,q)}else if(w)j=w(n,q);else d(n)}else if(n&&(f.isArray(n)||
p(n)))j=n;else if(n)j=[n];if(p(j))j=f.makeArray(j);j.each=function(m,i){return f.each(j,m,i)};return j}function e(n){if(n===k)n=g;else if(f.isString(n)&&v.test(n))n=b(n.slice(1),g);else if(f.isArray(n)||p(n))n=n[0]||null;else if(n&&n.nodeType!==1&&n.nodeType!==9)n=null;return n}function b(n,q){if(!q)return null;if(q.nodeType!==9)q=q.ownerDocument;return q.getElementById(n)}function h(n,q){return q.getElementsByTagName(n)}function d(n){f.error("Unsupported selector: "+n)}var g=document,p=a._isNodeList,
x=" ",v=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var n=g.createElement("div");n.appendChild(g.createComment(""));if(n.getElementsByTagName("*").length>0)h=function(q,r){var w=f.makeArray(r.getElementsByTagName(q));if(q==="*"){for(var j=[],o=0,m=0,i;i=w[o++];)if(i.nodeType===1)j[m++]=i;w=j}return w}})();var u=g.getElementsByClassName?function(n,q,r){r=n=f.makeArray(r.getElementsByClassName(n));var w=0,j=0,o=n.length,m;if(q&&q!=="*"){r=[];for(q=q.toUpperCase();w<o;++w){m=
n[w];if(m.tagName===q)r[j++]=m}}return r}:g.querySelectorAll?function(n,q,r){return r.querySelectorAll((q?q:"")+"."+n)}:function(n,q,r){q=r.getElementsByTagName(q||"*");r=[];var w=0,j=0,o=q.length,m,i;for(n=x+n+x;w<o;++w){m=q[w];if((i=m.className)&&(x+i+x).indexOf(n)>-1)r[j++]=m}return r};f.mix(a,{query:c,get:function(n,q){return c(n,q)[0]||null},filter:function(n,q,r){var w=c(n,r),j=f.require("sizzle"),o,m,i,l=[];if(f.isString(q)&&(o=t.exec(q))&&!o[1]){m=o[2];i=o[3];q=function(s){return!(m&&s.tagName.toLowerCase()!==
m.toLowerCase()||i&&!a.hasClass(s,i))}}if(f.isFunction(q))l=f.filter(w,q);else if(q&&j)l=j._filter(n,q,r);else d(q);return l},test:function(n,q,r){n=c(n,r);return n.length&&a.filter(n,q,r).length===n.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(f,a,k,c,e){if(!k.ie)return a;c=document;var b=c.documentElement,h=a._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,g=/^-?\d/,p=/^(?:width|height)$/;try{if(b.style.opacity==e&&b.filters)h.opacity={get:function(u){var n=100;try{n=u.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{n=u.filters("alpha").opacity}catch(r){if(u=((u.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))n=parseInt(f.trim(u[1]))}}return n/100+""},set:function(u,n){var q=u.style,
r=(u.currentStyle||0).filter||"";q.zoom=1;if(r)r=f.trim(r.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(r&&n!=1)r+=", ";q.filter=r+(n!=1?"alpha(opacity="+n*100+")":"")}}}catch(x){f.log("IE filters ActiveX is disabled. ex = "+x)}k=k.ie==8;var v={},t={get:function(u,n){var q=u.currentStyle[n]+"";if(q.indexOf("px")<0)q=v[q]?v[q]:0;return q}};v.thin=k?"1px":"2px";v.medium=k?"3px":"4px";v.thick=k?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(u){h["border"+u+"Width"]=t});if(!(c.defaultView||
{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(u,n){var q=u.style,r=u.currentStyle[n];if(p.test(n))r=a[n](u)+"px";else if(!d.test(r)&&g.test(r)){var w=q.left,j=u.runtimeStyle.left;u.runtimeStyle.left=u.currentStyle.left;q.left=n==="fontSize"?"1em":r||0;r=q.pixelLeft+"px";q.left=w;u.runtimeStyle.left=j}return r};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(f,a,k){function c(d,g,p,x,v,t){if(!(d=a.get(d)))return null;if(g===0)return d;t||(d=d[p]);if(!d)return null;v=v&&a.get(v)||null;if(g===k)g=1;t=[];var u=f.isArray(g),n,q;if(f.isNumber(g)){n=0;q=g;g=function(){return++n===q}}do if(h(d)&&e(d,g)&&(!x||x(d))){t.push(d);if(!u)break}while(d!=v&&(d=d[p]));return u?t:t[0]||null}function e(d,g){if(!g)return true;if(f.isArray(g))for(var p=0;p<g.length;p++){if(a.test(d,g[p]))return true}else if(a.test(d,g))return true;return false}
function b(d,g,p){var x=[];var v=d=a.get(d);if(d&&p)v=d.parentNode;if(v){p=0;for(v=v.firstChild;v;v=v.nextSibling)if(h(v)&&v!==d&&(!g||a.test(v,g)))x[p++]=v}return x}var h=a._isElementNode;f.mix(a,{closest:function(d,g,p){return c(d,g,"parentNode",function(x){return x.nodeType!=11},p,true)},parent:function(d,g,p){return c(d,g,"parentNode",function(x){return x.nodeType!=11},p)},next:function(d,g){return c(d,g,"nextSibling",k)},prev:function(d,g){return c(d,g,"previousSibling",k)},siblings:function(d,
g){return b(d,g,true)},children:function(d,g){return b(d,g,k)},contains:document.documentElement.contains?function(d,g){d=a.get(d);g=a.get(g);if(d.nodeType==3)return false;var p;if(g.nodeType==3){g=g.parentNode;p=true}else if(g.nodeType==9)return false;else p=d!==g;return p&&(d.contains?d.contains(g):true)}:document.documentElement.compareDocumentPosition?function(d,g){d=a.get(d);g=a.get(g);return!!(d.compareDocumentPosition(g)&16)}:0,equals:function(d,g){d=a.query(d);g=a.query(g);if(d.length!=g.length)return false;
for(var p=d.length;p>=0;p--)if(d[p]!=g[p])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(f,a){function k(b,h,d){this.currentTarget=b;this.originalEvent=h||{};if(h){this.type=h.type;this._fix()}else{this.type=d;this.target=b}this.currentTarget=b;this.fixed=true}var c=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.augment(k,{_fix:function(){var b=this.originalEvent,h=e.length,d,g=this.currentTarget;for(g=g.nodeType===9?g:g.ownerDocument||c;h;){d=e[--h];this[d]=b[d]}if(!this.target)this.target=this.srcElement||c;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=g.documentElement;h=g.body;this.pageX=this.clientX+(b&&b.scrollLeft||h&&h.scrollLeft||
0)-(b&&b.clientLeft||h&&h.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||h&&h.scrollTop||0)-(b&&b.clientTop||h&&h.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var b=this.originalEvent;b.stopImmediatePropagation?b.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return k});
KISSY.add("event/base",function(f,a,k,c){function e(q,r,w){if((w=f.trim(w))&&w.indexOf(x)>0){var j=f.makeArray(arguments);f.each(w.split(x),function(o){var m=f.clone(j);m.splice(0,3,r,o);n[q].apply(n,m)});return true}return c}function b(q){return q&&q.nodeType!==3&&q.nodeType!==8}function h(q,r,w,j,o){var m=n.special[r]||{};if(!j.length&&(!m.setup||m.setup.call(q)===false))g(q,r,w);m.add&&m.add.call(q,o)}var d=document,g=d.addEventListener?function(q,r,w,j){q.addEventListener&&q.addEventListener(r,
w,!!j)}:function(q,r,w){q.attachEvent&&q.attachEvent("on"+r,w)},p=d.removeEventListener?function(q,r,w,j){q.removeEventListener&&q.removeEventListener(r,w,!!j)}:function(q,r,w){q.detachEvent&&q.detachEvent("on"+r,w)},x=" ",v="",t="trigger-none-"+f.now(),u="ksEventTargetId"+f.now(),n={_data:function(){var q=f.makeArray(arguments);q.splice(1,0,u);return a.data.apply(a,q)},_removeData:function(){var q=f.makeArray(arguments);q.splice(1,0,u);return a.removeData.apply(a,q)},special:{},add:function(q,r,
w,j,o){if(e("add",q,r,w,j,o))return q;a.query(q).each(function(m){var i=!m.isCustomEventTarget,l;if(!(!m||!r||!f.isFunction(w)||i&&!b(m))){(l=n._data(m))||n._data(m,l={});var s=l.events=l.events||{};s=s[r]=s[r]||[];var y={fn:w,scope:j||m,data:o},z=l.handler;if(!z){z=l.handler=function(A,B){if(!(A&&A.type==v)){var C=z.target;if(!A||!A.fixed)A=new k(C,A);f.isPlainObject(B)&&f.mix(A,B);return n._handle(C,A)}};z.target=m}if(i){h(m,r,z,s,y);m=null}s.push(y)}});return q},__getListeners:function(q,r){return(n.__getEvents(q)||
{})[r]||[]},__getEvents:function(q){return(q=n._data(q))&&q.events},remove:function(q,r,w,j,o){if(e("remove",q,r,w,j))return q;a.query(q).each(function(m){var i=n._data(m),l=i&&i.events,s,y,z,A,B,C=!m.isCustomEventTarget,D=C&&n.special[r]||{};if(!(!m||!C&&!b(m)||!l))if(r===c)for(r in l)n.remove.call(n,m,r);else{j=j||m;if(s=l[r]){y=s.length;if(w&&y){A=z=0;for(B=[];z<y;++z){var E=false,F=s[z];if(w!==F.fn||j!==F.scope){B[A++]=F;E=true}else if(o!==G){var G=F.data;if(!o&&G||G&&!o){B[A++]=F;E=true}else if(o&&
G)if(!o.equals||!G.equals)f.error("no equals in data");else if(!G.equals(o)){B[A++]=F;E=true}}!E&&D.remove&&D.remove.call(m,F)}l[r]=B;y=B.length}if(w===c||y===0){if(C&&(!D.tearDown||D.tearDown.call(m)===false))p(m,r,i.handler);delete l[r]}}if(f.isEmptyObject(l)){i.handler.target=null;delete i.handler;delete i.events;n._removeData(m)}}});return q},_handle:function(q,r){for(var w=n.__getListeners(q,r.type).slice(0),j,o,m=0,i=w.length;m<i;++m){j=w[m];j=j.fn.call(j.scope,r,j.data);if(j!==c){if(o!==false)o=
j;j===false&&r.halt()}if(r.isImmediatePropagationStopped)break}return o},fire:function(q,r,w,j){if(!e("fire",q,r,w)){var o;a.query(q).each(function(m){var i=!m.isCustomEventTarget;w=w||{};w.type=r;if(i){var l=w,s;if(b(m)){i=new k(m);f.mix(i,l);if(j){i.stopPropagation();i.preventDefault()}l=i.target=m;var y="on"+r;do{var z=(n._data(l)||{}).handler;i.currentTarget=l;z&&z.call(l,i);if(l[y]&&l[y].call(l)===false){s=false;i.preventDefault()}l=l.parentNode||l.ownerDocument||l===m.ownerDocument&&window}while(l&&
!i.isPropagationStopped);if(!i.isDefaultPrevented)if(!(r==="click"&&m.nodeName.toLowerCase()=="a")){var A;try{if(y&&m[r]){if(A=m[y])m[y]=null;v=r;m[r]()}}catch(B){}if(A)m[y]=A;v=t}}m=s;if(m!==c)o=m}else if((m=n._data(m))&&f.isFunction(m.handler))o=m.handler(c,w)});return o}},_batchForType:e,_simpleAdd:g,_simpleRemove:p};n.on=n.add;n.detach=n.remove;return n},{requires:["dom","event/object"]});
KISSY.add("event/target",function(f,a){return{isCustomEventTarget:true,fire:function(k,c){return a.fire(this,k,c)},on:function(k,c,e){a.add(this,k,c,e);return this},detach:function(k,c,e){a.remove(this,k,c,e);return this}}},{requires:["./base"]});
KISSY.add("event/focusin",function(f,a,k){a.ie||f.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function e(h){return k.fire(h.target,c.name)}var b=0;k.special[c.name]={setup:function(){b++===0&&document.addEventListener(c.fix,e,true)},tearDown:function(){--b===0&&document.removeEventListener(c.fix,e,true)}}});return k},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(f,a,k,c){c=b||c.ie;if(!("onhashchange"in window)||c<8){var e=window,b=document.documentMode,h=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},d,g=h(),p=function(){var q=h();if(q!==g){x(q);g=q}d=setTimeout(p,50)},x=c<8?function(q){q="<html><body>"+q+"</body></html>";var r=n.contentWindow.document;try{r.open();r.write(q);r.close();return true}catch(w){return false}}:function(q){v(q)},v=function(q){f.log("hash changed : "+q);a.fire(e,"hashchange")},
t=function(){d||p()},u=function(){d&&clearTimeout(d);d=null},n;if(c<8){t=function(){if(!n){n=k.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');k.prepend(n,document.documentElement);a.add(n,"load",function(){a.remove(n,"load");x(h());a.add(n,"load",q);p()});var q=function(){f.log("iframe start load..");var r=f.trim(n.contentWindow.document.body.innerHTML),w=h();if(r!=w)g=location.hash=r;v(r)}}};u=function(){d&&clearTimeout(d);d=null;a.detach(n);k.remove(n);
n=null}}a.special.hashchange={setup:function(){this===e&&t()},tearDown:function(){this===e&&u()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(f,a,k){function c(t){k.removeData(t,p);if(k.hasData(t,x)){var u=k.data(t,x);clearTimeout(u);k.removeData(t,x)}}function e(t){c(t.target)}function b(t){k.hasData(t,x)||k.data(t,x,setTimeout(function(){var u=t.value,n=k.data(t,p);if(u!==n){a.fire(t,g,{prevVal:n,newVal:u},true);k.data(t,p,u)}k.data(t,x,setTimeout(arguments.callee,v))},v))}function h(t){var u=t.target;t.type=="focus"&&k.data(u,p,u.value);b(u)}function d(t){c(t);a.remove(t,"blur",e);a.remove(t,"mousedown keyup keydown focus",
h)}var g="valuechange",p="event/valuechange/history",x="event/valuechange/poll",v=50;a.special[g]={setup:function(){var t=this.nodeName.toLowerCase();if("input"==t||"textarea"==t){d(this);a.on(this,"blur",e);a.on(this,"mousedown keyup keydown focus",h)}},tearDown:function(){d(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(f,a,k){function c(g){return g.fn===undefined&&g.selector===undefined?true:g.fn===undefined?this.selector==g.selector:this.fn==g.fn&&this.selector==g.selector&&this.scope==g.scope}function e(g,p){var x=a.closest(g.target,[p.selector],this),v;if(x)for(var t=0;t<x.length;t++){g.currentTarget=x[t];var u=p.fn.call(p.scope||this,g);if(u===false||g.isPropagationStopped||g.isImmediatePropagationStopped){if(u===false)v=u;if(g.isPropagationStopped||g.isImmediatePropagationStopped)break}}return v}
function b(g,p){var x=g.target,v=g.relatedTarget;g.type=p.preType;if(x=a.closest(x,p.selector,this))if(x!==v&&!a.contains(x,v))return p.fn.call(p.scope||this,g)}var h=k._batchForType,d={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};f.mix(k,{delegate:function(g,p,x,v,t){if(h("delegate",g,p,x,v,t))return g;a.query(g).each(function(u){if(!u.isCustomEventTarget){var n=p,q=e;if(d[p]){p=d[n].type;q=d[n].handler||q}k.on(u,p,
q,u,{fn:v,selector:x,preType:n,scope:t,equals:c})}});return g},undelegate:function(g,p,x,v,t){if(h("undelegate",g,p,x,v,t))return g;a.query(g).each(function(u){if(!u.isCustomEventTarget){var n=p,q=e;if(d[p]){p=d[n].type;q=d[n].handler||q}k.remove(u,p,q,u,{fn:v,selector:x,preType:n,scope:t,equals:c})}});return g}});return k},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(f,a,k,c){c.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(e){function b(h){var d=h.relatedTarget;h.type=e.name;try{d&&d!==document&&!d.parentNode||d!==this&&!k.contains(this,d)&&a._handle(this,h)}catch(g){f.log("withinElement :"+g)}}a.special[e.name]={setup:function(){a.add(this,e.fix,b)},tearDown:function(){a.remove(this,e.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(f,a,k,c){a.Target=k;a.Object=c;return a},{requires:["event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(f,a,k){function c(h,d,g){if(!(this instanceof c))return new c(h,d,g);if(h)if(f.isString(h)){h=a.create(h,d,g);if(h.nodeType===11){e.push.apply(this,f.makeArray(h.childNodes));return k}}else if(f.isArray(h)||b(h)){e.push.apply(this,f.makeArray(h));return k}else h=h;else return k;this[0]=h;this.length=1;return k}var e=Array.prototype,b=a._isNodeList;f.augment(c,{length:0,item:function(h){if(f.isNumber(h)){if(h>=this.length)return null;return new c(this[h],k,k)}else return new c(h,
k,k)},add:function(h,d,g){if(f.isNumber(d)){g=d;d=k}h=f.makeArray(c.all(h,d));d=new c(this,k,k);if(g===k)e.push.apply(d,h);else{g=[g,0];g.push.apply(g,h);e.splice.apply(d,g)}return d},slice:function(h,d){return new c(e.slice.call(this,h,d),k,k)},getDOMNodes:function(){return e.slice.call(this)},each:function(h,d){var g=this.length,p=0,x;for(x=new c(this[0],k,k);p<g&&h.call(d||x,x,p,this)!==false;x=new c(this[++p],k,k));return this},getDOMNode:function(){return this[0]},all:function(h){if(this.length>
0)return c.all(h,this[0]);return new c(k,k,k)}});c.prototype.one=function(h){h=this.all(h);return h.length?h.slice(0,1):null};c.all=function(h,d){if(f.isString(h)&&(h=f.trim(h))&&h.length>=3&&f.startsWith(h,"<")&&f.endsWith(h,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new c(h,k,d)}return new c(a.query(h,d),k,k)};c.one=function(h,d){var g=c.all(h,d);return g.length?g.slice(0,1):null};return c},{requires:["dom"]});
KISSY.add("node/attach",function(f,a,k,c,e){function b(d,g,p){p.unshift(g);d=a[d].apply(a,p);if(d===e)return g;return d}var h=c.prototype;f.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","toggle","scrollIntoView","remove","removeData","hasData","unselectable"],function(d){h[d]=function(){var g=
f.makeArray(arguments);return b(d,this,g)}});f.each(["filter","parent","closest","next","prev","siblings","children"],function(d){h[d]=function(){var g=f.makeArray(arguments);g.unshift(this);g=a[d].apply(a,g);g=g===e?this:g===null?null:new c(g);return g}});f.each({attr:1,text:0,css:1,val:0,prop:1,offset:0,html:0,data:1},function(d,g){h[g]=function(){var p=f.makeArray(arguments);if(p[d]===e&&!f.isObject(p[0])){p.unshift(this);p=a[g].apply(a,p)}else p=b(g,this,p);return p}});f.each(["on","detach","fire",
"delegate","undelegate"],function(d){h[d]=function(){var g=f.makeArray(arguments);g.unshift(this);return k[d].apply(k,g)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(f,a,k,c){f.each(["append","prepend","before","after"],function(e){c.prototype[e]=function(b){b=b;if(f.isString(b))b=a.create(b);a[e](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var f=Math.PI,a=Math.pow,k=Math.sin,c=1.70158,e={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(a(2,10*(b-=1))*k((b-0.075)*2*f/0.3))},
elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*k((b-0.075)*2*f/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*k((b-0.1125)*2*f/0.45);return a(2,-10*(b-=1))*k((b-0.1125)*2*f/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((c+1)*b-c)},backOut:function(b){return(b-=1)*b*((c+1)*b+c)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((c*=1.525)+1)*b-c);return 0.5*((b-=2)*b*(((c*=1.525)+1)*b+c)+2)},bounceIn:function(b){return 1-
e.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return e.bounceIn(b*2)*0.5;return e.bounceOut(b*2-1)*0.5+0.5}};e.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
return e});
KISSY.add("anim/manager",function(f){function a(c){c[k]=c[k]||f.guid("anim-");return c[k]}var k=f.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(c){var e=a(c);if(!this.runnings[e]){this.runnings[e]=c;this.startTimer()}},stop:function(c){this.notRun(c)},notRun:function(c){delete this.runnings[a(c)];f.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(c){this.notRun(c)},resume:function(c){this.start(c)},startTimer:function(){var c=this;if(!c.timer)c.timer=setTimeout(function(){if(c.runFrames())c.stopTimer();
else{c.timer=null;c.startTimer()}},c.interval)},stopTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},runFrames:function(){var c=true,e=this.runnings,b;for(b in e)if(e.hasOwnProperty(b)){c=false;e[b]._runFrame()}return c}}});
KISSY.add("anim/base",function(f,a,k,c,e,b,h){function d(j,o,m,i,l,s){if(j=a.get(j)){if(!(this instanceof d))return new d(j,o,m,i,l,s);var y=f.isPlainObject(m);o=o;this.domEl=j;if(f.isPlainObject(o))o=String(f.param(o,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var z=o,A=j;j={};var B=v.length,C=A.cloneNode(true);a.insertAfter(C,A);A=C.style;for(p(C,z);B--;){var D=v[B];if(A[D])j[D]=(r[D]||r["*"]).getter(C,D)}z=x(z);for(var E in z)j[E]=(r[E]||r["*"]).getter(C,
E);a.remove(C);this.props=j;this.targetStyle=o;if(y)y=f.merge(n,m);else{y=f.clone(n);if(m)y.duration=parseFloat(m)||1;if(f.isString(i)||f.isFunction(i))y.easing=i;if(f.isFunction(l))y.complete=l;if(s!==h)y.nativeSupport=s}if(!f.isEmptyObject(x(o)))y.nativeSupport=false;this.config=y;if(y.nativeSupport&&w()&&f.isString(i=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(i)||(i=c.NativeTimeFunction[i])){y.easing=i;this.transitionName=w()}if(f.isFunction(l))this.callback=l}}function g(j,o){return o}function p(j,
o){if(e.ie&&o.indexOf(u)>-1){var m=o.match(/opacity\s*:\s*([^;]+)(;|$)/);m&&a.css(j,u,parseFloat(m[1]))}j.style.cssText+=";"+o;m=x(o);for(var i in m)j[i]=m[i]}function x(j){for(var o={},m=0;m<t.length;m++){var i=t[m].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(i=j.match(RegExp(i+"\\s*:([^;]+)(;|$)")))o[t[m]]=f.trim(i[1])}return o}var v,t,u,n,q;k=k.Target;v="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
t=[];u="opacity";n={duration:1,easing:"easeNone",nativeSupport:true};d.PROPS=v;d.CUSTOM_ATTRS=t;d.PROP_OPS={"*":{getter:function(j,o){var m=a.css(j,o),i=parseFloat(m);m=(m+"").replace(/^[-\d.]+/,"");if(isNaN(i))return{v:m,u:"",f:g};return{v:i,u:m,f:this.interpolate}},setter:function(j,o,m){return a.css(j,o,m)},interpolate:function(j,o,m){return(j+(o-j)*m).toFixed(3)},eq:function(j,o){return j.v==o.v&&j.u==o.u}}};var r=d.PROP_OPS;f.augment(d,k,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var j=this,o=j.config,m=j.domEl,i,l=j.props,s={},y;if(j.fire("start")!==false){j.stop();i=o.duration*1E3;j.duration=i;if(j.transitionName)setTimeout(function(){j._nativeRun()},10);else{for(y in l)s[y]=(r[y]||r["*"]).getter(m,y);j.source=s;m=f.now();i=m+i;o=o.easing;if(f.isString(o))o=c[o]||c.easeNone;j.start=m;j.finish=i;j.easing=o;b.start(j)}j.isRunning=true;return j}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var j=this.domEl,
o=this.finish,m=this.start,i=this.duration,l=f.now(),s=this.source,y=this.easing,z=this.props,A;m=l-m;i=l>o?1:m/i;var B,C;this.elapsedTime=m;for(A in z){m=s[A];B=z[A];var D;D=B;var E=m,F=r[A];D=F&&F.eq?F.eq(D,E):r["*"].eq(D,E);if(!D){if(B.v==0)B.u=m.u;if(m.u!==B.u){m.v=0;m.u=B.u}D=B.f(m.v,B.v,y(i))+B.u;(r[A]||r["*"]).setter(j,A,D);if(B.f==g){m.v=B.v;m.u=B.u}}}if(this.fire("step")===false||(C=l>o)){this.stop();C&&this._complete()}},_nativeRun:function(){var j=this,o=j.domEl,m=j.duration,i=j.config.easing,
l=j.transitionName,s={};s[l+"Property"]="all";s[l+"Duration"]=m+"ms";s[l+"TimingFunction"]=i;a.css(o,s);setTimeout(function(){p(o,j.targetStyle)},0);f.later(function(){j.stop(true)},m)},stop:function(j){if(this.isRunning){if(this.transitionName)this._nativeStop(j);else{if(j){p(this.domEl,this.targetStyle);this._complete()}b.stop(this)}this.isRunning=false;return this}},_nativeStop:function(j){var o=this.domEl,m=this.props,i;if(j){this._clearNativeProperty();this._complete()}else{for(i in m)a.css(o,
i,a._getComputedStyle(o,i));this._clearNativeProperty()}},_clearNativeProperty:function(){var j={},o=this.domEl,m=this.transitionName;j[m+"Property"]="none";j[m+"Duration"]="";j[m+"TimingFunction"]="";a.css(o,j)}});d.supportTransition=function(){if(q)return q;var j="transition",o,m=document.documentElement;if(m.style[j]!==h)o=j;else f.each(["Webkit","Moz","O"],function(i){if(m.style[j=i+"Transition"]!==h){o=j;return false}});return q=o};var w=d.supportTransition;return d},{requires:["dom","event",
"./easing","ua","./manager"]});
KISSY.add("anim/color",function(f,a,k){function c(p){p=p.toLowerCase();var x;if(x=p.match(b))return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])];else if(x=p.match(h)){for(p=1;p<x.length;p++)if(x[p].length<2)x[p]+=x[p];return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}if(e[p])return e[p];f.log("only allow rgb or hex color string : "+p,"warn");return[255,255,255]}var e={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},b=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,h=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),g=k.PROP_OPS;k=k.PROPS;k.push.apply(k,d);g.color={getter:function(p,x){return{v:c(a.css(p,x)),u:"",f:this.interpolate}},
setter:g["*"].setter,interpolate:function(p,x,v){var t=g["*"].interpolate;return"rgb("+[Math.floor(t(p[0],x[0],v)),Math.floor(t(p[1],x[1],v)),Math.floor(t(p[2],x[2],v))].join(", ")+")"},eq:function(p,x){return p.v+""==x.v+""}};f.each(d,function(p){g[p]=g.color})},{requires:["dom","./base"]});
KISSY.add("anim/scroll",function(f,a,k){var c=k.PROP_OPS;k.CUSTOM_ATTRS.push("scrollLeft","scrollTop");c.scrollLeft=c.scrollTop={getter:function(e,b){return{v:e[b],u:"",f:c["*"].interpolate}},setter:function(e,b,h){e[b]=h}}},{requires:["dom","./base"]});KISSY.add("anim",function(f,a,k){a.Easing=k;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(f,a,k,c,e){function b(r,w,j,o,m,i,l){if(w==="toggle"){m=a.css(r,g)===p?1:0;w="show"}if(m)a.css(r,g,a.data(r,g)||"");var s={},y={};f.each(q[w],function(z){if(z===x){s[x]=a.css(r,x);a.css(r,x,v)}else if(z===t){s[t]=a.css(r,t);y.opacity=m?1:0;m&&a.css(r,t,0)}else if(z===u){s[u]=a.css(r,u);y.height=m?a.css(r,u)||r.naturalHeight:0;m&&a.css(r,u,0)}else if(z===n){s[n]=a.css(r,n);y.width=m?a.css(r,n)||r.naturalWidth:0;m&&a.css(r,n,0)}});return(new k(r,y,j,i||"easeOut",
function(){if(!m){var z=r.style,A=z[g];if(A!==p){A&&a.data(r,g,A);z[g]=p}s[u]&&a.css(r,{height:s[u]});s[n]&&a.css(r,{width:s[n]});s[t]&&a.css(r,{opacity:s[t]});s[x]&&a.css(r,{overflow:s[x]})}o&&f.isFunction(o)&&o()},l)).run()}var h=c.prototype,d="ksAnims"+f.now(),g="display",p="none",x="overflow",v="hidden",t="opacity",u="height",n="width",q={show:[x,t,u,n],fade:[t],slide:[x,u]};c.__ANIM_KEY=d;(function(r){function w(j,o){var m=a.data(j,d);m||a.data(j,d,m=[]);o.on("complete",function(){var i=a.data(j,
d);if(i){var l=f.indexOf(o,i);l>=0&&i.splice(l,1);i.length||a.removeData(j,d)}});m.push(o)}r.animate=function(){var j=f.makeArray(arguments);f.each(this,function(o){var m=k.apply(e,[o].concat(j)).run();w(o,m)});return this};r.stop=function(j){f.each(this,function(o){var m=a.data(o,d);if(m){f.each(m,function(i){i.stop(j)});a.removeData(o,d)}});return this};f.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(j,
o){r[o]=function(m,i,l,s){if(a[o]&&arguments.length===0)a[o](this);else{if(s===e)s=false;f.each(this,function(y){var z=b(y,j[0],m,i,j[1],l,s);w(y,z)})}return this}})})(h)},{requires:["dom","anim","./base"]});KISSY.add("node",function(f,a){return a},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(f,a){function k(u){return u<10?"0"+u:u}function c(u){g.lastIndex=0;return g.test(u)?'"'+u.replace(g,function(n){var q=v[n];return typeof q==="string"?q:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function e(u,n){var q,r,w,j,o=p,m,i=n[u];if(i&&typeof i==="object"&&typeof i.toJSON==="function")i=i.toJSON(u);if(typeof t==="function")i=t.call(n,u,i);switch(typeof i){case "string":return c(i);case "number":return isFinite(i)?String(i):"null";case "boolean":case "null":return String(i);
case "object":if(!i)return"null";p+=x;m=[];if(Object.prototype.toString.apply(i)==="[object Array]"){j=i.length;for(q=0;q<j;q+=1)m[q]=e(q,i)||"null";w=m.length===0?"[]":p?"[\n"+p+m.join(",\n"+p)+"\n"+o+"]":"["+m.join(",")+"]";p=o;return w}if(t&&typeof t==="object"){j=t.length;for(q=0;q<j;q+=1){r=t[q];if(typeof r==="string")if(w=e(r,i))m.push(c(r)+(p?": ":":")+w)}}else for(r in i)if(Object.hasOwnProperty.call(i,r))if(w=e(r,i))m.push(c(r)+(p?": ":":")+w);w=m.length===0?"{}":p?"{\n"+p+m.join(",\n"+p)+
"\n"+o+"}":"{"+m.join(",")+"}";p=o;return w}}var b=window,h=b.JSON;if(!h||a.ie<9)h=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,x,v={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof h.stringify!=="function")h.stringify=function(u,n,q){var r;x=p="";if(typeof q==="number")for(r=0;r<q;r+=1)x+=" ";else if(typeof q==="string")x=q;if((t=n)&&typeof n!=="function"&&(typeof n!=="object"||typeof n.length!=="number"))throw Error("JSON.stringify");return e("",{"":u})};if(typeof h.parse!==
"function")h.parse=function(u,n){function q(w,j){var o,m,i=w[j];if(i&&typeof i==="object")for(o in i)if(Object.hasOwnProperty.call(i,o)){m=q(i,o);if(m!==undefined)i[o]=m;else delete i[o]}return n.call(w,j,i)}var r;u=String(u);d.lastIndex=0;if(d.test(u))u=u.replace(d,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){r=eval("("+u+")");return typeof n==="function"?q({"":r},""):r}throw new SyntaxError("JSON.parse");};return h},{requires:["ua"]});KISSY.add("json",function(f,a){return{parse:function(k){if(k==null||k==="")return null;return a.parse(k)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(f,a){function k(b){var h=b.responseText,d=b.responseXML,g=b.config,p=g.converters,x=b.converters||{},v,t,u=g.contents,n=g.dataType;if(h||d){for(g=b.mimeType||b.getResponseHeader("Content-Type");n[0]=="*";)n.shift();if(!n.length)for(v in u)if(u[v].test(g)){n[0]!=v&&n.unshift(v);break}n[0]=n[0]||"text";if(n[0]=="text"&&h!=undefined)t=h;else if(n[0]=="xml"&&d!=undefined)t=d;else f.each(["text","xml"],function(r){var w=n[0];if(x[r]&&x[r][w]||p[r]&&p[r][w]){n.unshift(r);
t=r=="text"?h:d;return false}})}u=n[0];for(g=1;g<n.length;g++){v=n[g];var q=x[u]&&x[u][v]||p[u]&&p[u][v];if(!q)throw"no covert for "+u+" => "+v;t=q(t);u=v}b.responseData=t}function c(b){f.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var e=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;f.augment(c,a.Target,{setRequestHeader:function(b,h){this.requestHeaders[b]=
h;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var h;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};h=e.exec(this.responseHeadersString);)this.responseHeaders[h[1]]=h[2];h=this.responseHeaders[b]}return h===undefined?null:h},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,h){if(this.state!=2){this.state=2;this.readyState=4;var d;if(b>=200&&b<300||b==304)if(b==304){h="notmodified";d=true}else try{k(this);h="success";d=true}catch(g){h="parsererror : "+g}else if(b<0)b=0;this.status=b;this.statusText=h;d?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return c},{requires:["event"]});
KISSY.add("ajax/base",function(f,a,k,c){function e(w){w=f.mix(f.clone(r),w||{},undefined,undefined,true);if(w.crossDomain==null){var j=p.exec(w.url.toLowerCase());w.crossDomain=!!(j&&(j[1]!=u[1]||j[2]!=u[2]||(j[3]||(j[1]==="http:"?80:443))!=(u[3]||(u[1]==="http:"?80:443))))}if(w.processData&&w.data&&!f.isString(w.data))w.data=f.param(w.data,undefined,undefined,w.serializeArray);w.type=w.type.toUpperCase();w.hasContent=!v.test(w.type);if(!w.hasContent){if(w.data)w.url+=(/\?/.test(w.url)?"&":"?")+w.data;
if(w.cache===false)w.url+=(/\?/.test(w.url)?"&":"?")+"_ksTS="+(f.now()+"_"+f.guid())}w.dataType=f.trim(w.dataType||"*").split(g);w.context=w.context||w;return w}function b(w,j){d.fire(w,{ajaxConfig:j.config,xhr:j})}function h(w){var j=this.config;w=w.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);j[w]&&j[w].call(j.context,this.responseData,this.statusText,this);b(w,this)}function d(w){if(w.url){w=e(w);var j=new c(w);b("start",j);var o=new (q[w.dataType[0]]||q["*"])(j);j.transport=o;w.contentType&&
j.setRequestHeader("Content-Type",w.contentType);var m=w.dataType[0],i=w.accepts;j.setRequestHeader("Accept",m&&i[m]?i[m]+(m!=="*"?", */*; q=0.01":""):i["*"]);for(var l in w.headers)j.setRequestHeader(l,w.headers[l]);j.on("complete success error",h);j.readyState=1;b("send",j);if(w.async&&w.timeout>0)j.timeoutTimer=setTimeout(function(){j.abort("timeout")},w.timeout);try{j.state=1;o.send()}catch(s){j.status<2?j.callback(-1,s):f.error(s)}return j}}var g=/\s+/,p=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
x=function(w){return w},v=/^(?:GET|HEAD)$/,t,u;try{t=location.href}catch(n){t=document.createElement("a");t.href="";t=t.href}u=p.exec(t);t=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(u[1]);var q={},r={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,
html:x,text:x,xml:f.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};r.converters.html=r.converters.text;f.mix(d,k.Target);f.mix(d,{isLocal:t,setupConfig:function(w){f.mix(r,w,undefined,undefined,true)},setupTransport:function(w,j){q[w]=j},getTransport:function(w){return q[w]},getConfig:function(){return r}});return d},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(f,a){function k(){try{return new window.XMLHttpRequest}catch(b){}}a.xhr=window.ActiveXObject?function(){var b;if(!(b=!a.isLocal&&k()))a:{try{b=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(h){}b=void 0}return b}:k;var c=a.xhr(),e=false;if(c){if("withCredentials"in c)e=true;c=function(b){this.xhrObj=b};f.augment(c,{send:function(){var b=this,h=b.xhrObj,d=h.config;if(d.crossDomain&&!e)f.error("do not allow crossdomain xhr !");else{var g=a.xhr(),p,x;b.xhr=
g;d.username?g.open(d.type,d.url,d.async,d.username,d.password):g.open(d.type,d.url,d.async);if(p=d.xhrFields)for(x in p)g[x]=p[x];h.mimeType&&g.overrideMimeType&&g.overrideMimeType(h.mimeType);if(!d.crossDomain&&!h.requestHeaders["X-Requested-With"])h.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(x in h.requestHeaders)g.setRequestHeader(x,h.requestHeaders[x])}catch(v){}g.send(d.hasContent&&d.data||null);if(!d.async||g.readyState==4)b._callback();else g.onreadystatechange=function(){b._callback()}}},
abort:function(){this._callback(0,1)},_callback:function(b,h){try{var d=this.xhr,g=this.xhrObj,p=g.config;if(h||d.readyState==4){d.onreadystatechange=f.noop;if(h)d.readyState!==4&&d.abort();else{var x=d.status;g.responseHeadersString=d.getAllResponseHeaders();var v=d.responseXML;if(v&&v.documentElement)g.responseXML=v;g.responseText=d.responseText;try{var t=d.statusText}catch(u){t=""}if(!x&&a.isLocal&&!p.crossDomain)x=g.responseText?200:404;else if(x===1223)x=204;g.callback(x,t)}}}catch(n){d.onreadystatechange=
f.noop;h||g.callback(-1,n)}}});a.setupTransport("*",c);return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(f,a){function k(c){if(!c.config.crossDomain&&!c.config.forceScript)return new (a.getTransport("*"))(c);this.xhrObj=c;return 0}a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(c){f.globalEval(c);return c}}}});f.augment(k,{send:function(){var c=this,e,b=this.xhrObj.config,h=document.head||document.getElementsByTagName("head")[0]||
document.documentElement;c.head=h;e=document.createElement("script");c.script=e;e.async="async";if(b.scriptCharset)e.charset=b.scriptCharset;e.src=b.url;e.onerror=e.onload=e.onreadystatechange=function(d){d=d||window.event;c._callback((d.type||"error").toLowerCase())};h.insertBefore(e,h.firstChild)},_callback:function(c,e){var b=this.script,h=this.xhrObj,d=this.head;if(e||!b.readyState||/loaded|complete/.test(b.readyState)||c=="error"){b.onerror=b.onload=b.onreadystatechange=null;d&&b.parentNode&&
d.removeChild(b);this.head=this.script=undefined;if(!e&&c!="error")h.callback(200,"success");else c=="error"&&h.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",k);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(f,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return f.guid("jsonp")}});a.on("start",function(k){k=k.xhr;var c=k.config;if(c.dataType[0]=="jsonp"){var e,b=c.jsonpCallback,h=f.isFunction(b)?b():b,d=window[h];c.url+=(/\?/.test(c.url)?"&":"?")+c.jsonp+"="+h;window[h]=function(g){e=[g]};k.on("complete",function(){window[h]=d;if(d===undefined)try{delete window[h]}catch(g){}else e&&d(e[0])});k.converters=k.converters||{};k.converters.script=k.converters.script||
{};k.converters.script.json=function(){e||f.error(" not call jsonpCallback : "+h);return e[0]};c.dataType.length=2;c.dataType[0]="script";c.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(f,a){return{serialize:function(k){k=a.get(k);var c={};f.each(k.elements,function(e){e.disabled||(c[e.name]=a.val(e))});return f.param(c,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/form",function(f,a,k,c){a.on("start",function(e){e=e.xhr.config;if(e.form){var b=k.get(e.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=c.serialize(b))if(e.hasContent){e.data=e.data||"";if(e.data)e.data+="&";e.data+=b}else e.url+=(/\?/.test(e.url)?"&":"?")+b}else{b=e.dataType[0];if(b=="*")b="text";e.dataType.length=2;e.dataType[0]="iframe";e.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(f,a,k,c){function e(h){this.xhr=h}var b=document;c.setupConfig({converters:{iframe:c.getConfig().converters.text,text:{iframe:function(h){return h}}}});f.augment(e,{send:function(){var h=this.xhr,d=h.config,g,p=a.get(d.form);this.attrs={target:a.attr(p,"target")||"",action:a.attr(p,"action")||""};this.form=p;var x=f.guid("ajax-iframe");h.iframe=a.create("<iframe  id='"+x+"' name='"+x+"' style='position:absolute;left:-9999px;top:-9999px;'/>");h.iframeId=x;a.prepend(h.iframe,
b.body||b.documentElement);a.attr(p,{target:h.iframeId,action:d.url});if(d.data){g=d.data;d=d.serializeArray;g=f.unparam(g);x=[];for(var v in g)for(var t=f.makeArray(g[v]),u=0;u<t.length;u++){var n=b.createElement("input");n.type="hidden";n.name=v+(d?"[]":"");n.value=t[u];a.append(n,p);x.push(n)}g=x}this.fields=g;k.on(h.iframe,"load error",this._callback,this);p.submit()},_callback:function(h){var d=this.xhr;h=h.type;var g=d.iframe;a.attr(this.form,this.attrs);if(h=="load"){h=g.contentWindow.document;
d.responseXML=h;d.responseText=a.text(h.body);d.callback(200,"success")}else h=="error"&&d.callback(500,"error");a.remove(this.fields);k.detach(g);setTimeout(function(){a.remove(g)},30);d.iframe=null},abort:function(){this._callback(0,1)}});c.setupTransport("iframe",e);return c},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(f,a){f.mix(a,{get:function(k,c,e,b,h){if(f.isFunction(c)){b=e;e=c;c=undefined}return a({type:h||"get",url:k,data:c,success:e,dataType:b})},post:function(k,c,e,b){if(f.isFunction(c)){b=e;e=c;c=undefined}return a.get(k,c,e,b,"post")},jsonp:function(k,c,e){if(f.isFunction(c)){e=c;c=undefined}return a.get(k,c,e,"jsonp")},getScript:f.getScript,getJSON:function(k,c,e){if(f.isFunction(c)){e=c;c=undefined}return a.get(k,c,e,"json")},upload:function(k,c,e,b,h){if(f.isFunction(e)){h=
b;b=e;e=undefined}return a({url:k,type:"post",dataType:h,form:c,data:e,success:b})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(f,a){function k(){this.__attrs={};this.__attrVals={}}function c(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}f.augment(k,{__getDefAttrs:function(){return f.clone(this.__attrs)},addAttr:function(e,b,h){if(this.__attrs[e])f.mix(this.__attrs[e],b,h);else this.__attrs[e]=f.clone(b||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},
set:function(e,b){var h=this.get(e);if(h!==b)if(false!==this.__fireAttrChange("before",e,h,b)){this.__set(e,b);this.__fireAttrChange("after",e,h,this.__attrVals[e]);return this}},__fireAttrChange:function(e,b,h,d){return this.fire(e+c(b)+"Change",{attrName:b,prevVal:h,newVal:d})},__set:function(e,b){var h,d=(this.__attrs[e]=this.__attrs[e]||{}).setter;if(d)h=d.call(this,b);if(h!==a)b=h;this.__attrVals[e]=b},get:function(e){var b;b=(b=this.__attrs[e])&&b.getter;e=e in this.__attrVals?this.__attrVals[e]:
this.__getDefAttrVal(e);if(b)e=b.call(this,e);return e},__getDefAttrVal:function(e){e=this.__attrs[e];var b;if(e){if(b=e.valueFn){b=b.call(this);if(b!==a)e.value=b;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});k.__capitalFirst=c;return k});
KISSY.add("base/base",function(f,a,k){function c(e){a.call(this);for(var b=this.constructor;b;){var h=b.ATTRS;if(h){var d=void 0;for(d in h)h.hasOwnProperty(d)&&this.addAttr(d,h[d],false)}b=b.superclass?b.superclass.constructor:null}if(e)for(var g in e)e.hasOwnProperty(g)&&this.__set(g,e[g])}f.augment(c,k.Target,a);return c},{requires:["./attribute","event"]});KISSY.add("base",function(f,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(f){var a=document,k=encodeURIComponent,c=decodeURIComponent;return{get:function(e){var b;if(f.isString(e)&&e!=="")if(e=String(a.cookie).match(RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)")))b=e[1]?c(e[1]):"";return b},set:function(e,b,h,d,g,p){b=String(k(b));var x=h;if(typeof x==="number"){x=new Date;x.setTime(x.getTime()+h*864E5)}if(x instanceof Date)b+="; expires="+x.toUTCString();if(f.isString(d)&&d!=="")b+="; domain="+d;if(f.isString(g)&&g!=="")b+="; path="+g;if(p)b+=
"; secure";a.cookie=e+"="+b},remove:function(e,b,h,d){this.set(e,"",-1,b,h,d)}}});KISSY.add("cookie",function(f,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(f,a,k,c,e,b,h,d,g,p){h.getScript=f.getScript;a={UA:a,DOM:k,Event:c,EventTarget:c.Target,EventObject:c.Object,Node:e,NodeList:e,JSON:b,Ajax:h,IO:h,ajax:h,io:h,jsonp:h.jsonp,Anim:d,Easing:d.Easing,Base:g,Cookie:p,one:e.one,all:e.all,get:k.get,query:k.query};f.mix(f,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
