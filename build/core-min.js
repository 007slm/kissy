/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 9 22:50
*/
KISSY.add("ua/base",function(){var c=navigator.userAgent,a="",i="",h,o=[6,9],b=document.createElement("div"),k,e={},d=function(j){var q=0;return parseFloat(j.replace(/\./g,function(){return q++===0?".":""}))};b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}","");k=b.getElementsByTagName("s");if(k.length>0){i="ie";e[a="trident"]=0.1;if((h=c.match(/Trident\/([\d.]*)/))&&h[1])e[a]=d(h[1]);c=o[0];for(o=o[1];c<=o;c++){b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
c);if(k.length>0){e[i]=c;break}}}else if((h=c.match(/AppleWebKit\/([\d.]*)/))&&h[1]){e[a="webkit"]=d(h[1]);if((h=c.match(/Chrome\/([\d.]*)/))&&h[1])e[i="chrome"]=d(h[1]);else if((h=c.match(/\/([\d.]*) Safari/))&&h[1])e[i="safari"]=d(h[1]);if(/ Mobile\//.test(c))e.mobile="apple";else if(h=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=h[0].toLowerCase()}else if((h=c.match(/Presto\/([\d.]*)/))&&h[1]){e[a="presto"]=d(h[1]);if((h=c.match(/Opera\/([\d.]*)/))&&h[1]){e[i="opera"]=d(h[1]);
if((h=c.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])e[i]=d(h[1]);if((h=c.match(/Opera Mini[^;]*/))&&h)e.mobile=h[0].toLowerCase();else if((h=c.match(/Opera Mobi[^;]*/))&&h)e.mobile=h[0]}}else if((h=c.match(/MSIE\s([^;]*)/))&&h[1]){e[a="trident"]=0.1;e[i="ie"]=d(h[1]);if((h=c.match(/Trident\/([\d.]*)/))&&h[1])e[a]=d(h[1])}else if(h=c.match(/Gecko/)){e[a="gecko"]=0.1;if((h=c.match(/rv:([\d.]*)/))&&h[1])e[a]=d(h[1]);if((h=c.match(/Firefox\/([\d.]*)/))&&h[1])e[i="firefox"]=d(h[1])}e.core=a;e.shell=i;
e._numberify=d;return e});KISSY.add("ua/extra",function(c,a){var i=navigator.userAgent,h,o,b={},k=a._numberify;if(i.match(/360SE/))b[o="se360"]=3;else if(i.match(/Maxthon/)&&(h=window.external)){o="maxthon";try{b[o]=k(h.max_version)}catch(e){b[o]=0.1}}else if(h=i.match(/TencentTraveler\s([\d.]*)/))b[o="tt"]=h[1]?k(h[1]):0.1;else if(i.match(/TheWorld/))b[o="theworld"]=3;else if(h=i.match(/SE\s([\d.]*)/))b[o="sougou"]=h[1]?k(h[1]):0.1;o&&(b.shell=o);c.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(c,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(c,a,i){function h(k,e){return k&&k.nodeType===e}var o={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},b={_isCustomDomain:function(k){k=k||window;var e=k.document.domain;k=k.location.hostname;return e!=k&&e!="["+k+"]"},_genEmptyIframeSrc:function(k){k=k||window;if(a.ie&&b._isCustomDomain(k))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+k.document.domain+"';document.close();")+"}())"},_NODE_TYPE:o,_isElementNode:function(k){return h(k,b.ELEMENT_NODE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:h(k,b.DOCUMENT_NODE)?k.defaultView||k.parentWindow:k===i||k===null?window:false},_nodeTypeIs:h,_isNodeList:function(k){return k&&!k.nodeType&&k.item&&!k.setTimeout},_nodeName:function(k,e){return k&&k.nodeName.toLowerCase()===e.toLowerCase()}};c.mix(b,o);return b},{requires:["ua"]});
KISSY.add("dom/attr",function(c,a,i,h){function o(y,s){s=D[s]||s;var x=w[s];return x&&x.get?x.get(y,s):y[s]}i=document.documentElement;var b=!i.hasAttribute,k=i.textContent===h?"innerText":"textContent",e=a._nodeName,d=a._isElementNode,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,p=/^a(?:rea)?$/i,l=/:|^on/,f=/\r/g,g={},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},B={tabindex:{get:function(y){var s=y.getAttributeNode("tabindex");return s&&s.specified?parseInt(s.value,10):q.test(y.nodeName)||p.test(y.nodeName)&&y.href?0:h}},style:{get:function(y){return y.style.cssText},set:function(y,s){y.style.cssText=s}}},D={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},A={get:function(y,s){return a.prop(y,s)?s.toLowerCase():h},set:function(y,s,x){if(s===false)a.removeAttr(y,x);else{s=D[x]||x;if(s in y)y[s]=true;y.setAttribute(x,x.toLowerCase())}return x}},w={},z={},E={option:{get:function(y){var s=y.attributes.value;return!s||s.specified?y.value:y.text}},select:{get:function(y){var s=y.selectedIndex,x=y.options;y=y.type==="select-one";if(s<0)return null;else if(y)return a.val(x[s]);s=[];y=0;for(var m=x.length;y<m;++y)x[y].selected&&
s.push(a.val(x[y]));return s},set:function(y,s){var x=c.makeArray(s);c.each(y.options,function(m){m.selected=c.inArray(a.val(m),x)});if(!x.length)y.selectedIndex=-1;return x}}};if(b){z={get:function(y,s){var x;return(x=y.getAttributeNode(s))&&x.nodeValue!==""?x.nodeValue:h},set:function(y,s,x){var m=y.getAttributeNode(x);if(m)m.nodeValue=s;else try{var t=y.ownerDocument.createAttribute(x);t.value=s;y.setAttributeNode(t)}catch(v){return y.setAttribute(x,s,0)}}};g=D;B.tabIndex=B.tabindex;c.each(["href",
"src","width","height","colSpan","rowSpan"],function(y){B[y]={get:function(s){s=s.getAttribute(y,2);return s===null?h:s}}});E.button=B.value=z}c.each(["radio","checkbox"],function(y){E[y]={get:function(s){return s.getAttribute("value")===null?"on":s.value},set:function(s,x){if(c.isArray(x))return s.checked=c.inArray(a.val(s),x)}}});c.mix(a,{prop:function(y,s,x){if(c.isPlainObject(s))for(var m in s)a.prop(y,m,s[m]);else{y=a.query(y);s=D[s]||s;var t=w[s];if(x!==h)y.each(function(v){if(t&&t.set)t.set(v,
x,s);else v[s]=x});else if(y.length)return o(y[0],s)}},hasProp:function(y,s){for(var x=a.query(y),m=0;m<x.length;m++)if(o(x[m],s)!==h)return true;return false},removeProp:function(y,s){s=D[s]||s;a.query(y).each(function(x){try{x[s]=h;delete x[s]}catch(m){c.log("delete el property error : ");c.log(m)}})},attr:function(y,s,x,m){if(c.isPlainObject(s)){m=x;for(var t in s)a.attr(y,t,s[t],m)}else if(s=c.trim(s)){if(m&&r[s])return a[s](y,x);s=s.toLowerCase();if(m&&r[s])return a[s](y,x);s=g[s]||s;var v;v=
j.test(s)?A:l.test(s)?z:B[s];if(x===h){y=a.get(y);if(d(y)){if(e(y,"form"))v=z;if(v&&v.get)return v.get(y,s);y=y.getAttribute(s);return y===null?h:y}}else a.query(y).each(function(n){if(d(n)){var u=v;if(e(n,"form"))u=z;u&&u.set?u.set(n,x,s):n.setAttribute(s,""+x)}})}},removeAttr:function(y,s){s=s.toLowerCase();s=g[s]||s;a.query(y).each(function(x){if(d(x)){var m;x.removeAttribute(s);if(j.test(s)&&(m=D[s]||s)in x)x[m]=false}})},hasAttr:b?function(y,s){s=s.toLowerCase();for(var x=a.query(y),m=0;m<x.length;m++){var t=
x[m].getAttributeNode(s);if(t&&t.specified)return true}return false}:function(y,s){for(var x=a.query(y),m=0;m<x.length;m++)if(x[m].hasAttribute(s))return true;return false},val:function(y,s){var x,m;if(s===h){var t=a.get(y);if(t){if((x=E[t.nodeName.toLowerCase()]||E[t.type])&&"get"in x&&(m=x.get(t,"value"))!==h)return m;m=t.value;return typeof m==="string"?m.replace(f,""):c.isNullOrUndefined(m)?"":m}}else a.query(y).each(function(v){if(v.nodeType===1){var n=s;if(c.isNullOrUndefined(n))n="";else if(typeof n===
"number")n+="";else if(c.isArray(n))n=c.map(n,function(u){return c.isNullOrUndefined(n)?"":u+""});x=E[v.nodeName.toLowerCase()]||E[v.type];if(!x||!("set"in x)||x.set(v,n,"value")===h)v.value=n}})},text:function(y,s){if(s===h){var x=a.get(y);if(d(x))return x[k]||"";else if(a._nodeTypeIs(x,a.TEXT_NODE))return x.nodeValue;return h}else a.query(y).each(function(m){if(d(m))m[k]=s;else if(a._nodeTypeIs(m,a.TEXT_NODE))m.nodeValue=s})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(c,a,i){function h(d){return(b+d+b).replace(e,b)}function o(d,j,q,p){if(!(j=c.trim(j)))return p?false:i;d=a.query(d);var l=d.length,f=j.split(k);j=[];for(var g=0;g<f.length;g++){var r=c.trim(f[g]);r&&j.push(r)}for(g=0;g<l;g++){f=d[g];if(a._isElementNode(f)){f=q(f,j,j.length);if(f!==i)return f}}if(p)return false;return i}var b=" ",k=/[\.\s]\s*\.?/,e=/[\n\t]/g;c.mix(a,{__hasClass:function(d,j){var q=d.className;if(q){q=h(q);return q.indexOf(b+j+b)>-1}else return false},
hasClass:function(d,j){return o(d,j,function(q,p,l){if(q=q.className){q=h(q);for(var f=0,g=true;f<l;f++)if(q.indexOf(b+p[f]+b)<0){g=false;break}if(g)return true}},true)},addClass:function(d,j){o(d,j,function(q,p,l){var f=q.className;if(f){var g=h(f);f=f;for(var r=0;r<l;r++)if(g.indexOf(b+p[r]+b)<0)f+=b+p[r];q.className=c.trim(f)}else q.className=j},i)},removeClass:function(d,j){o(d,j,function(q,p,l){var f=q.className;if(f)if(l){f=h(f);for(var g=0,r;g<l;g++)for(r=b+p[g]+b;f.indexOf(r)>=0;)f=f.replace(r,
b);q.className=c.trim(f)}else q.className=""},i)},replaceClass:function(d,j,q){a.removeClass(d,j);a.addClass(d,q)},toggleClass:function(d,j,q){var p=c.isBoolean(q),l;o(d,j,function(f,g,r){for(var B=0,D;B<r;B++){D=g[B];l=p?!q:a.hasClass(f,D);a[l?"removeClass":"addClass"](f,D)}},i)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,a,i,h){function o(m){var t=c.require("event");t&&t.detach(m);a.removeData(m)}function b(m,t,v){if(q(t,a.DOCUMENT_FRAGMENT_NODE)){t=t.childNodes;v=v.childNodes;for(var n=0;t[n];){v[n]&&b(m,t[n],v[n]);n++}}else if(p(t)){t=t.getElementsByTagName("*");v=v.getElementsByTagName("*");for(n=0;t[n];){v[n]&&m(t[n],v[n]);n++}}}function k(m,t){var v=c.require("event");if(!(p(t)&&!a.hasData(m))){var n=a.data(m),u;for(u in n)a.data(t,u,n[u]);if(v){v._removeData(t);v._clone(m,t)}}}
function e(m,t){t.clearAttributes&&t.clearAttributes();t.mergeAttributes&&t.mergeAttributes(m);var v=t.nodeName.toLowerCase(),n=m.childNodes;if(v==="object"&&!t.childNodes.length)for(v=0;v<n.length;v++)t.appendChild(n[v].cloneNode(true));else if(v==="input"&&(m.type==="checkbox"||m.type==="radio")){if(m.checked)t.defaultChecked=t.checked=m.checked;if(t.value!==m.value)t.value=m.value}else if(v==="option")t.selected=m.defaultSelected;else if(v==="input"||v==="textarea")t.defaultValue=m.defaultValue;
t.removeAttribute(a.__EXPANDO)}function d(m,t){var v=null,n,u;if(m&&(m.push||m.item)&&m[0]){t=t||m[0].ownerDocument;v=t.createDocumentFragment();m=c.makeArray(m);n=0;for(u=m.length;n<u;n++)v.appendChild(m[n])}else c.log("Unable to convert "+m+" to fragment.");return v}var j=document;i=i.ie;var q=a._nodeTypeIs,p=a._isElementNode,l=c.isString,f=j.createElement("div"),g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,r=/<([\w:]+)/,B=/^\s+/,D=i&&i<9,A=/<|&#?\w+;/,w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
c.mix(a,{create:function(m,t,v,n){if(p(m)||q(m,a.TEXT_NODE))return a.clone(m);var u=null;if(!l(m))return u;if(n===h)n=true;if(n)m=c.trim(m);if(!m)return u;n=a._creators;var C,F;v=v||j;var G,H="div";if(A.test(m))if(G=w.exec(m))u=v.createElement(G[1]);else{m=m.replace(g,"<$1></$2>");if((G=r.exec(m))&&(C=G[1]))H=C.toLowerCase();C=(n[H]||n.div)(m,v);if(D&&(F=m.match(B)))C.insertBefore(v.createTextNode(F[0]),C.firstChild);F=C.childNodes;if(F.length===1)u=F[0].parentNode.removeChild(F[0]);else if(F.length)u=
d(F,v);else c.error(m+" : create node error")}else u=v.createTextNode(m);m=u;if(c.isPlainObject(t))if(p(m))a.attr(m,t,true);else q(m,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(m.childNodes,t,true);return m},_creators:{div:function(m,t){var v=t&&t!=j?t.createElement("div"):f;v.innerHTML="m<div>"+m+"</div>";return v.lastChild}},html:function(m,t,v,n){m=a.query(m);var u=m[0];if(u)if(t===h)return p(u)?u.innerHTML:null;else{var C=false;t+="";if(!t.match(/<(?:script|style)/i)&&(!D||!t.match(B))&&!s[(t.match(r)||
["",""])[1].toLowerCase()])try{m.each(function(G){if(p(G)){o(G.getElementsByTagName("*"));G.innerHTML=t}});C=true}catch(F){}if(!C){t=a.create(t,0,u.ownerDocument,false);m.each(function(G){if(p(G)){a.empty(G);a.append(t,G,v)}})}n&&n()}},remove:function(m,t){a.query(m).each(function(v){if(!t&&p(v)){var n=v.getElementsByTagName("*");o(n);o(v)}v.parentNode&&v.parentNode.removeChild(v)})},clone:function(m,t,v,n){m=a.get(m);if(!m)return null;var u=m.cloneNode(t);if(p(m)||q(m,a.DOCUMENT_FRAGMENT_NODE)){p(m)&&
e(m,u);t&&b(e,m,u)}if(v){k(m,u);t&&n&&b(k,m,u)}return u},empty:function(m){a.query(m).each(function(t){a.remove(t.childNodes)})},_nl2frag:d});var z=a._creators,E=a.create,y=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,s={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},x;for(x in s)(function(m){z[x]=function(t,v){return E("<"+m+">"+t+"</"+m+">",null,v)}})(s[x]);
if(i<8)z.tbody=function(m,t){var v=E("<table>"+m+"</table>",null,t),n=v.children.tags("tbody")[0];v.children.length>1&&n&&!y.test(m)&&n.parentNode.removeChild(n);return v};c.mix(z,{thead:z.tbody,tfoot:z.tbody,caption:z.tbody,colgroup:z.tbody});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(c,a,i){var h=window,o="_ks_data_"+c.now(),b={},k={},e={};e.applet=1;e.object=1;e.embed=1;var d={hasData:function(p,l){if(p)if(l!==i){if(l in p)return true}else if(!c.isEmptyObject(p))return true;return false}},j={hasData:function(p,l){if(p==h)return j.hasData(k,l);return d.hasData(p[o],l)},data:function(p,l,f){if(p==h)return j.data(k,l,f);var g=p[o];if(f!==i){g=p[o]=p[o]||{};g[l]=f}else if(l!==i)return g&&g[l];else return g=p[o]=p[o]||{}},removeData:function(p,l){if(p==
h)return j.removeData(k,l);var f=p[o];if(f)if(l!==i){delete f[l];c.isEmptyObject(f)&&j.removeData(p,i)}else try{delete p[o]}catch(g){p[o]=null}}},q={hasData:function(p,l){var f=p[o];if(!f)return false;return d.hasData(b[f],l)},data:function(p,l,f){if(!e[p.nodeName.toLowerCase()]){var g=p[o];g||(g=p[o]=c.guid());p=b[g];if(f!==i){p=b[g]=b[g]||{};p[l]=f}else if(l!==i)return p&&p[l];else return p=b[g]=b[g]||{}}},removeData:function(p,l){var f=p[o];if(f){var g=b[f];if(g)if(l!==i){delete g[l];c.isEmptyObject(g)&&
q.removeData(p,i)}else{delete b[f];try{delete p[o]}catch(r){}p.removeAttribute&&p.removeAttribute(o)}}}};c.mix(a,{__EXPANDO:o,hasData:function(p,l){for(var f=false,g=a.query(p),r=0;r<g.length;r++)if(f=(f=g[r])&&f.nodeType?q.hasData(f,l):j.hasData(f,l))break;return f},data:function(p,l,f){if(c.isPlainObject(l))for(var g in l)a.data(p,g,l[g]);else if(f===i)if((p=a.get(p))&&p.nodeType)return q.data(p,l,f);else{if(p)return j.data(p,l,f)}else a.query(p).each(function(r){r&&r.nodeType?q.data(r,l,f):j.data(r,
l,f)})},removeData:function(p,l){a.query(p).each(function(f){f&&f.nodeType?q.removeData(f,l):j.removeData(f,l)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(c,a,i){function h(g){for(var r=0;r<g.length;r++){var B=g[r];if(B.nodeType==i.DOCUMENT_FRAGMENT_NODE)h(B.childNodes);else if(d(B,"input")){if(B.type==="checkbox"||B.type==="radio")B.defaultChecked=B.checked}else if(q(B)){B=B.getElementsByTagName("input");for(var D=0;D<B.length;D++)h(B[D])}}}function o(g,r){for(var B=[],D=0;g[D];D++){var A=g[D],w=A.nodeName.toLowerCase();if(A.nodeType==i.DOCUMENT_FRAGMENT_NODE)B.push.apply(B,o(j(A.childNodes),r));else if(w==="script"&&
(!A.type||p.test(A.type))){if(r)r.push(A.parentNode?A.parentNode.removeChild(A):A)}else{if(q(A)&&!e.test(w)){w=[];for(var z=A.getElementsByTagName("script"),E=0;E<z.length;E++)(!z[E].type||p.test(z[E].type))&&w.push(z[E]);g.splice.apply(g,[D+1,0].concat(w))}B.push(A)}}return B}function b(g){if(g.src)c.getScript(g.src);else(g=c.trim(g.text||g.textContent||g.innerHTML||""))&&c.globalEval(g)}function k(g,r,B,D){g=i.query(g);if(D)D=[];g=o(g,D);a.ie<8&&h(g);r=i.query(r);var A=g.length,w=r.length;if(!(!A&&
(!D||!D.length)||!w)){g=i._nl2frag(g);var z;if(w>1)z=i.clone(g,true);for(var E=0;E<w;E++){var y=r[E];if(A){var s=E>0?i.clone(z,true):g;B(s,y)}D&&c.each(D,b)}}}var e=/^(?:button|input|object|select|textarea)$/i,d=i._nodeName,j=c.makeArray,q=i._isElementNode,p=/\/(java|ecma)script/i;c.mix(i,{insertBefore:function(g,r,B){k(g,r,function(D,A){A.parentNode&&A.parentNode.insertBefore(D,A)},B)},insertAfter:function(g,r,B){k(g,r,function(D,A){A.parentNode&&A.parentNode.insertBefore(D,A.nextSibling)},B)},appendTo:function(g,
r,B){k(g,r,function(D,A){A.appendChild(D)},B)},prependTo:function(g,r,B){k(g,r,function(D,A){A.insertBefore(D,A.firstChild)},B)}});var l={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},f;for(f in l)i[f]=i[l[f]];return i},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(c,a,i,h){function o(s){var x,m=0;x=0;var t=e.body,v=l(s[B]);if(s[y]){x=s[y]();m=x[D];x=x[A];s=d&&e.documentMode!=9&&(f?j.clientTop:t.clientTop)||0;m-=d&&e.documentMode!=9&&(f?j.clientLeft:t.clientLeft)||0;x-=s;if(i.mobile=="apple"){m-=a[z](v);x-=a[E](v)}}return{left:m,top:x}}function b(s,x){var m={left:0,top:0},t=l(s[B]),v=s;x=x||t;do{var n;if(t==x){var u=v;n=o(u);u=l(u[B]);n.left+=a[z](u);n.top+=a[E](u);n=n}else n=o(v);n=n;m.left+=n.left;m.top+=n.top}while(t&&t!=x&&
(v=t.frameElement)&&(t=t.parent));return m}var k=window,e=document,d=i.ie,j=e.documentElement,q=a._isElementNode,p=a._nodeTypeIs,l=a._getWin,f=e.compatMode==="CSS1Compat",g=Math.max,r=parseInt,B="ownerDocument",D="left",A="top",w=c.isNumber,z="scrollLeft",E="scrollTop",y="getBoundingClientRect";c.mix(a,{offset:function(s,x,m){if(x===h){s=a.get(s);var t;if(s)t=b(s,m);return t}a.query(s).each(function(v){if(a.css(v,"position")==="static")v.style.position="relative";var n=b(v),u={},C,F;for(F in x){C=
r(a.css(v,F),10)||0;u[F]=C+x[F]-n[F]}a.css(v,u)})},scrollIntoView:function(s,x,m,t,v){if(s=a.get(s)){if(x)x=a.get(x);if(!x)x=s.ownerDocument;if(v!==true){t=t===h?true:!!t;m=m===h?true:!!m}if(p(x,a.DOCUMENT_NODE))x=l(x);var n=!!l(x);v=a.offset(s);var u=a.outerHeight(s);s=a.outerWidth(s);var C,F,G,H;if(n){n=x;F=a.height(n);C=a.width(n);H={left:a.scrollLeft(n),top:a.scrollTop(n)};n={left:v[D]-H[D],top:v[A]-H[A]};v={left:v[D]+s-(H[D]+C),top:v[A]+u-(H[A]+F)};H=H}else{C=a.offset(x);F=x.clientHeight;G=x.clientWidth;
H={left:a.scrollLeft(x),top:a.scrollTop(x)};n={left:v[D]-C[D]-(r(a.css(x,"borderLeftWidth"))||0),top:v[A]-C[A]-(r(a.css(x,"borderTopWidth"))||0)};v={left:v[D]+s-(C[D]+G+(r(a.css(x,"borderRightWidth"))||0)),top:v[A]+u-(C[A]+F+(r(a.css(x,"borderBottomWidth"))||0))}}if(n.top<0||v.top>0)if(m===true)a.scrollTop(x,H.top+n.top);else if(m===false)a.scrollTop(x,H.top+v.top);else n.top<0?a.scrollTop(x,H.top+n.top):a.scrollTop(x,H.top+v.top);if(t)if(n.left<0||v.left>0)if(m===true)a.scrollLeft(x,H.left+n.left);
else if(m===false)a.scrollLeft(x,H.left+v.left);else n.left<0?a.scrollLeft(x,H.left+n.left):a.scrollLeft(x,H.left+v.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});c.each(["Left","Top"],function(s,x){var m="scroll"+s;a[m]=function(t,v){if(w(t))return arguments.callee(k,t);t=a.get(t);var n,u=l(t);if(u)if(v!==h){v=parseFloat(v);var C=s=="Left"?v:a.scrollLeft(u),F=s=="Top"?v:a.scrollTop(u);u.scrollTo(C,F)}else{n=u["page"+(x?"Y":"X")+"Offset"];if(!w(n)){u=u.document;n=u.documentElement[m];
w(n)||(n=u.body[m])}}else if(q(t))if(v!==h)t[m]=parseFloat(v);else n=t[m];return n}});c.each(["Width","Height"],function(s){a["doc"+s]=function(x){x=a.get(x);x=l(x).document;return g(x.documentElement["scroll"+s],x.body["scroll"+s],a["viewport"+s](x))};a["viewport"+s]=function(x){x=a.get(x);var m="client"+s;x=l(x).document;var t=x.body,v=x.documentElement[m];return x.compatMode==="CSS1Compat"&&v||t&&t[m]||v}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(c,a,i,h){function o(n){return n.replace(D,A)}function b(n,u,C){var F={},G;for(G in u){F[G]=n[p][G];n[p][G]=u[G]}C.call(n);for(G in u)n[p][G]=F[G]}function k(n,u,C){var F;if(n.nodeType===3||n.nodeType===8||!(F=n[p]))return h;u=o(u);var G,H=y[u];u=s[u]||u;if(C!==h){if(C===null||C===z)C=z;else if(!isNaN(Number(C))&&!B[u])C+=E;if(H&&H.set)C=H.set(n,C);if(C!==h)try{n[p][u]=C}catch(I){c.log("css set error :"+I)}return h}else{if(!(H&&"get"in H&&(G=H.get(n,false))!==h))G=F[u];
return G===h?"":G}}function e(n,u,C){if(c.isWindow(n))return u==l?a.viewportWidth(n):a.viewportHeight(n);else if(n.nodeType==9)return u==l?a.docWidth(n):a.docHeight(n);var F=u===l?["Left","Right"]:["Top","Bottom"],G=u===l?n.offsetWidth:n.offsetHeight;if(G>0){C!=="border"&&c.each(F,function(H){C||(G-=parseFloat(a.css(n,"padding"+H))||0);if(C==="margin")G+=parseFloat(a.css(n,C+H))||0;else G-=parseFloat(a.css(n,"border"+H+"Width"))||0});return G}G=a._getComputedStyle(n,u);if(G<0||c.isNullOrUndefined(G))G=
n.style[u]||0;G=parseFloat(G)||0;C&&c.each(F,function(H){G+=parseFloat(a.css(n,"padding"+H))||0;if(C!=="padding")G+=parseFloat(a.css(n,"border"+H+"Width"))||0;if(C==="margin")G+=parseFloat(a.css(n,C+H))||0});return G}var d=document,j=d.documentElement,q=i.ie,p="style",l="width",f="display"+c.now(),g=parseInt,r=/^-?\d+(?:px)?$/i,B={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},D=/-([a-z])/ig,A=function(n,u){return u.toUpperCase()},w=/([A-Z]|^ms)/g,z="",E="px",
y={},s={},x={};if(j[p].cssFloat!==h)s["float"]="cssFloat";else if(j[p].styleFloat!==h)s["float"]="styleFloat";var m,t;c.mix(a,{_camelCase:o,_cssNumber:B,_CUSTOM_STYLES:y,_cssProps:s,_getComputedStyle:function(n,u){var C="",F={},G=n.ownerDocument;u=u.replace(w,"-$1").toLowerCase();if(F=G.defaultView.getComputedStyle(n,null))C=F.getPropertyValue(u)||F[u];if(C==""&&!a.__contains(G.documentElement,n)){u=s[u]||u;C=n[p][u]}return C},style:function(n,u,C){if(c.isPlainObject(u))for(var F in u)a.style(n,F,
u[F]);else if(C===h){n=a.get(n);F="";if(n)F=k(n,u,C);return F}else a.query(n).each(function(G){k(G,u,C)})},css:function(n,u,C){if(c.isPlainObject(u))for(var F in u)a.css(n,F,u[F]);else{u=o(u);F=y[u];if(C===h){n=a.get(n);C="";if(n)if(!(F&&"get"in F&&(C=F.get(n,true))!==h))C=a._getComputedStyle(n,u);return C===h?"":C}else a.style(n,u,C)}},show:function(n){a.query(n).each(function(u){u[p].display=a.data(u,f)||z;if(a.css(u,"display")==="none"){var C;a:{C=u.tagName.toLowerCase();var F,G;if(!x[C]){F=d.body||
d.documentElement;G=d.createElement(C);a.prepend(G,F);var H=a.css(G,"display");F.removeChild(G);if(H==="none"||H===""){if(m)a.prepend(m,F);else{m=d.createElement("iframe");m.frameBorder=m.width=m.height=0;a.prepend(m,F);if(G=a._genEmptyIframeSrc())m.src=G}if(!t||!m.createElement)try{t=m.contentWindow.document;t.write((d.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(i.ie&&a._isCustomDomain()?"<script>document.domain = '"+d.domain+"';<\/script>":"")+"</head><body>");t.close()}catch(I){C=
"block";break a}G=t.createElement(C);t.body.appendChild(G);H=a.css(G,"display");F.removeChild(m)}x[C]=H}C=x[C]}a.data(u,f,C);u[p].display=C}})},hide:function(n){a.query(n).each(function(u){var C=u[p],F=C.display;if(F!=="none"){F&&a.data(u,f,F);C.display="none"}})},toggle:function(n){a.query(n).each(function(u){a.css(u,"display")==="none"?a.show(u):a.hide(u)})},addStyleSheet:function(n,u,C){if(c.isString(n)){C=u;u=n;n=window}n=a.get(n);n=a._getWin(n).document;var F;if(C&&(C=C.replace("#",z)))F=a.get("#"+
C,n);if(!F){F=a.create("<style>",{id:C},n);a.get("head",n).appendChild(F);if(F.styleSheet)F.styleSheet.cssText=u;else F.appendChild(n.createTextNode(u))}},unselectable:function(n){a.query(n).each(function(u){if(i.gecko)u[p].MozUserSelect="none";else if(i.webkit)u[p].KhtmlUserSelect="none";else if(i.ie||i.opera){var C=0,F=u.getElementsByTagName("*");for(u.setAttribute("unselectable","on");u=F[C++];)switch(u.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:u.setAttribute("unselectable",
"on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([l,"height"],function(n){a["inner"+(n.charAt(0).toUpperCase()+n.substring(1))]=function(u){return(u=a.get(u))?e(u,n,"padding"):null};a["outer"+(n.charAt(0).toUpperCase()+n.substring(1))]=function(u,C){var F=a.get(u);return F?e(F,n,C?"margin":"border"):null};a[n]=function(u,C){var F=a.css(u,n,C);if(F)F=parseFloat(F);return F}});var v={position:"absolute",visibility:"hidden",display:"block"};c.each(["height",
"width"],function(n){y[n]={get:function(u,C){var F;if(C){if(u.offsetWidth!==0)F=e(u,n);else b(u,v,function(){F=e(u,n)});return F+"px"}},set:function(u,C){if(r.test(C)){C=parseFloat(C);if(C>=0)return C+"px"}else return C}}});c.each(["left","top"],function(n){y[n]={get:function(u,C){if(C){var F=a._getComputedStyle(u,n);if(F==="auto"){F=0;if(c.inArray(a.css(u,"position"),["absolute","fixed"])){F=u[n==="left"?"offsetLeft":"offsetTop"];if(q&&document.documentMode!=9||i.opera)F-=u.offsetParent&&u.offsetParent["client"+
(n=="left"?"Left":"Top")]||0;F=F-(g(a.css(u,"margin-"+n))||0)}F+="px"}return F}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,a,i){function h(m,t){var v=[],n;n=t===i?[p]:h(t,i);f(n,function(u){A.apply(v,o(m,u))});if(c.isString(m)&&m.indexOf(",")>-1||n.length>1)s(v);v.each=c.bind(f,i,v);return v}function o(m,t){var v=[];c.require("sizzle");if(z(m))m=c.trim(m);if(z(m)&&m.indexOf(",")>-1)v=b(m,t);else{if(z(m)&&!y.exec(String(m))){v=m;var n=[],u=c.require("sizzle");u?u(v,t,n):q(v);v=n}else v=k(m,t);v=v}return v=v}function b(m,t){var v=[],n=m.split(",");f(n,function(u){A.apply(v,o(u,t))});
return v}function k(m,t){var v,n,u=[],C;if(z(m))if(E.test(m)){if(n=d(m.slice(1),t))u=[n]}else{if(v=y.exec(m)){n=v[1];C=v[2];v=v[3];if(t=n?d(n,t):t)if(v)if(!n||m.indexOf(w)!=-1)u=[].concat(x(v,C,t));else{if((n=d(n,t))&&a.__hasClass(n,v))u=[n]}else if(C)u=j(C,t)}}else if(m&&(g(m)||B(m)))u=l(m,function(F){return e(F,t)});else if(m)if(e(m,t))u=[m];return u}function e(m,t){if(!m)return false;if(t==p)return true;return a.__contains(t,m)}function d(m,t){if(!t)return null;var v=t;if(t.nodeType!==a.DOCUMENT_NODE)v=
t.ownerDocument;if((v=v.getElementById(m))&&v.parentNode)if(a.attr(v,"id")!==m)v=a.filter("*","#"+m,t)[0]||null;else e(v,t)||(v=null);else v=null;return v}function j(m,t){return t&&r(t.getElementsByTagName(m))||[]}function q(m){c.error("Unsupported selector: "+m)}var p=document,l=c.filter,f=c.each,g=c.isArray,r=c.makeArray,B=a._isNodeList,D=a._nodeName,A=Array.prototype.push,w=" ",z=c.isString,E=/^#[\w-]+$/,y=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,s;(function(){var m,t,v=true;[0,0].sort(function(){v=
false;return 0});s=function(n){if(m){t=v;n.sort(m);if(t)for(var u=1,C=n.length;u<C;)if(n[u]===n[u-1])n.splice(u,1);else u++}return n};m=p.documentElement.compareDocumentPosition?function(n,u){if(n==u){t=true;return 0}if(!n.compareDocumentPosition||!u.compareDocumentPosition)return n.compareDocumentPosition?-1:1;return n.compareDocumentPosition(u)&4?-1:1}:function(n,u){if(n==u){t=true;return 0}else if(n.sourceIndex&&u.sourceIndex)return n.sourceIndex-u.sourceIndex}})();(function(){var m=p.createElement("div");
m.appendChild(p.createComment(""));if(m.getElementsByTagName("*").length>0)j=function(t,v){var n=r(v.getElementsByTagName(t));if(t==="*"){for(var u=[],C=0,F;F=n[C++];)F.nodeType===1&&u.push(F);n=u}return n}})();var x=p.getElementsByClassName?function(m,t,v){if(!v)return[];m=v.getElementsByClassName(m);var n=0,u=m.length,C;if(t&&t!=="*")for(v=[];n<u;++n){C=m[n];D(C,t)&&v.push(C)}else v=r(m);return v}:p.querySelectorAll?function(m,t,v){return v&&r(v.querySelectorAll((t?t:"")+"."+m))||[]}:function(m,
t,v){if(!v)return[];t=v.getElementsByTagName(t||"*");v=[];for(var n=0,u=t.length,C;n<u;++n){C=t[n];a.__hasClass(C,m)&&v.push(C)}return v};c.mix(a,{query:h,get:function(m,t){return h(m,t)[0]||null},unique:s,filter:function(m,t,v){m=h(m,v);v=c.require("sizzle");var n,u,C,F,G=[];if(z(t)&&(t=c.trim(t))&&(n=y.exec(t))){C=n[1];u=n[2];F=n[3];if(C){if(C&&!u&&!F)t=function(H){return H.id===C}}else t=function(H){var I=true,K=true;if(u)I=D(H,u);if(F)K=a.__hasClass(H,F);return K&&I}}if(c.isFunction(t))G=c.filter(m,
t);else if(t&&v)G=v.matches(t,m);else q(t);return G},test:function(m,t,v){m=h(m,v);return m.length&&a.filter(m,t,v).length===m.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(c,a,i,h){if(!i.ie)return a;var o=document,b=o.documentElement,k=h._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,d=/^-?\d/,j=/opacity=([^)]*)/,q=/alpha\([^)]*\)/i;try{if(c.isNullOrUndefined(b.style.opacity))k.opacity={get:function(f,g){return j.test((g&&f.currentStyle?f.currentStyle.filter:f.style.filter)||"")?parseFloat(RegExp.$1)/100+"":g?"1":""},set:function(f,g){g=parseFloat(g);var r=f.style,B=f.currentStyle,D=isNaN(g)?"":"alpha(opacity="+g*100+")",A=c.trim(B&&B.filter||
r.filter||"");r.zoom=1;if(g>=1&&c.trim(A.replace(q,""))===""){r.removeAttribute("filter");if(B&&!B.filter)return}r.filter=q.test(A)?A.replace(q,D):A+(A?", ":"")+D}}}catch(p){c.log("IE filters ActiveX is disabled. ex = "+p)}i=i.ie==8;var l={};l.thin=i?"1px":"2px";l.medium=i?"3px":"4px";l.thick=i?"5px":"6px";c.each(["","Top","Left","Right","Bottom"],function(f){var g="border"+f+"Width",r="border"+f+"Style";k[g]={get:function(B,D){var A=D?B.currentStyle:0,w=A&&String(A[g])||undefined;if(w&&w.indexOf("px")<
0)w=l[w]&&A[r]!=="none"?l[w]:0;return w}}});if(!(o.defaultView||{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(f,g){g=a._cssProps[g]||g;var r=f.currentStyle&&f.currentStyle[g];if(!e.test(r)&&d.test(r)){var B=f.style,D=B.left,A=f.runtimeStyle&&f.runtimeStyle.left;if(A)f.runtimeStyle.left=f.currentStyle.left;B.left=g==="fontSize"?"1em":r||0;r=B.pixelLeft+"px";B.left=D;if(A)f.runtimeStyle.left=A}return r===""?"auto":r};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,a,i){function h(e,d,j,q,p,l){if(!(e=a.get(e)))return null;if(d===0)return e;l||(e=e[j]);if(!e)return null;p=p&&a.get(p)||null;if(d===i)d=1;l=[];var f=c.isArray(d),g,r;if(c.isNumber(d)){g=0;r=d;d=function(){return++g===r}}for(;e&&e!=p;){if(k(e)&&o(e,d)&&(!q||q(e))){l.push(e);if(!f)break}e=e[j]}return f?l:l[0]||null}function o(e,d){if(!d)return true;if(c.isArray(d))for(var j=0;j<d.length;j++){if(a.test(e,d[j]))return true}else if(a.test(e,d))return true;return false}
function b(e,d,j){var q=[];var p=e=a.get(e);if(e&&j)p=e.parentNode;if(p){j=0;for(p=p.firstChild;p;p=p.nextSibling)if(k(p)&&p!==e&&(!d||a.test(p,d)))q[j++]=p}return q}var k=a._isElementNode;c.mix(a,{closest:function(e,d,j){return h(e,d,"parentNode",function(q){return q.nodeType!=a.DOCUMENT_FRAGMENT_NODE},j,true)},parent:function(e,d,j){return h(e,d,"parentNode",function(q){return q.nodeType!=a.DOCUMENT_FRAGMENT_NODE},j)},first:function(e,d){var j=a.get(e);return h(j&&j.firstChild,d,"nextSibling",i,
i,true)},last:function(e,d){var j=a.get(e);return h(j&&j.lastChild,d,"previousSibling",i,i,true)},next:function(e,d){return h(e,d,"nextSibling",i)},prev:function(e,d){return h(e,d,"previousSibling",i)},siblings:function(e,d){return b(e,d,true)},children:function(e,d){return b(e,d,i)},__contains:document.documentElement.contains?function(e,d){if(e.nodeType==a.TEXT_NODE)return false;var j;if(d.nodeType==a.TEXT_NODE){d=d.parentNode;j=true}else if(d.nodeType==a.DOCUMENT_NODE)return false;else j=e!==d;
return j&&(e.contains?e.contains(d):true)}:document.documentElement.compareDocumentPosition?function(e,d){return!!(e.compareDocumentPosition(d)&16)}:0,contains:function(e,d){e=a.get(e);d=a.get(d);if(e&&d)return a.__contains(e,d)},equals:function(e,d){e=a.query(e);d=a.query(d);if(e.length!=d.length)return false;for(var j=e.length;j>=0;j--)if(e[j]!=d[j])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(c,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};c.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=c.F1&&a.keyCode<=c.F12)return false;switch(a.keyCode){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PHANTOM:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return false;
default:return true}};c.isCharacterKey=function(a){if(a>=c.ZERO&&a<=c.NINE)return true;if(a>=c.NUM_ZERO&&a<=c.NUM_MULTIPLY)return true;if(a>=c.A&&a<=c.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return c});
KISSY.add("event/object",function(c,a){function i(b,k,e){this.currentTarget=b;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=e;this.target=b}this.currentTarget=b;this.fixed=true}var h=document,o="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");c.augment(i,
{_fix:function(){var b=this.originalEvent,k=o.length,e,d=this.currentTarget;for(d=d.nodeType===9?d:d.ownerDocument||h;k;){e=o[--k];this[e]=b[e]}if(!this.target)this.target=this.srcElement||h;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=d.documentElement;k=d.body;this.pageX=this.clientX+(b&&b.scrollLeft||k&&k.scrollLeft||
0)-(b&&b.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||k&&k.scrollTop||0)-(b&&b.clientTop||k&&k.clientTop||0)}if(this.which===a)this.which=this.charCode===a?this.keyCode:this.charCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=true;this.stopPropagation()},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return i});
KISSY.add("event/base",function(c,a,i,h){function o(w,z,E){if((E=c.trim(E))&&E.indexOf(l)>0){var y=j(arguments);f(E.split(/\s+/),function(s){var x=[].concat(y);x.splice(0,3,z,s);A[w].apply(A,x)});return true}return 0}function b(w){return w&&w.nodeType!==3&&w.nodeType!==8}function k(w,z,E,y,s){var x=B[z]||{};if(!y.length&&(!x.setup||x.setup.call(w)===false))q(w,z,E);x.add&&x.add.call(w,s)}var e=document,d=a._nodeName,j=c.makeArray,q=e.addEventListener?function(w,z,E,y){w.addEventListener&&w.addEventListener(z,
E,!!y)}:function(w,z,E){w.attachEvent&&w.attachEvent("on"+z,E)},p=e.removeEventListener?function(w,z,E,y){w.removeEventListener&&w.removeEventListener(z,E,!!y)}:function(w,z,E){w.detachEvent&&w.detachEvent("on"+z,E)},l=" ",f=c.each,g="",r="trigger-none-"+c.now(),B={},D="ksEventTargetId"+c.now(),A={_clone:function(w,z){if(!(z.nodeType!==a.ELEMENT_NODE||!A._hasData(w))){var E=A._data(w).events;f(E,function(y,s){f(y,function(x){A.on(z,s,x.fn,x.scope,x.data)})})}},_hasData:function(w){return a.hasData(w,
D)},_data:function(){var w=j(arguments);w.splice(1,0,D);return a.data.apply(a,w)},_removeData:function(){var w=j(arguments);w.splice(1,0,D);return a.removeData.apply(a,w)},special:B,__add:function(w,z,E,y,s,x){var m;if(!(!z||!c.isFunction(y)||w&&!b(z))){(m=A._data(z))||A._data(z,m={});var t=m.events=m.events||{};t=t[E]=t[E]||[];y={fn:y,scope:s,data:x};var v=m.handler;if(!v){v=m.handler=function(n,u){if(!(n&&n.type==g)){var C=v.target;if(!n||!n.fixed)n=new i(C,n);var F=n.type;c.isPlainObject(u)&&c.mix(n,
u);if(F)n.type=F;return A._handle(C,n)}};v.target=z}if(w){k(z,E,v,t,y);z=null}t.push(y)}},add:function(w,z,E,y,s){if(o("add",w,z,E,y,s))return w;a.query(w).each(function(x){A.__add(true,x,z,E,y,s)});return w},__getListeners:function(w,z){return(A.__getEvents(w)||{})[z]||[]},__getEvents:function(w){return(w=A._data(w))&&w.events},__remove:function(w,z,E,y,s,x){if(!(!z||w&&!b(z))){var m=A._data(z),t=m&&m.events,v,n,u,C,F,G=w&&B[E]||{};if(t)if(E===h)for(E in t)A.remove.call(A,z,E);else{s=s||z;if(v=t[E]){n=
v.length;if(y&&n){C=u=0;for(F=[];u<n;++u){var H=false,I=v[u],K=I.scope||z;if(y!==I.fn||s!==K){F[C++]=I;H=true}else if(x!==J){var J=I.data;if(!x&&J||J&&!x){F[C++]=I;H=true}else if(x&&J)if(!x.equals||!J.equals)c.error("no equals in data");else if(!J.equals(x)){F[C++]=I;H=true}}!H&&G.remove&&G.remove.call(z,I)}t[E]=F;n=F.length}if(y===h||n===0){if(w&&(!G.tearDown||G.tearDown.call(z)===false))p(z,E,m.handler);delete t[E]}}if(c.isEmptyObject(t)){m.handler.target=null;delete m.handler;delete m.events;A._removeData(z)}}}},
remove:function(w,z,E,y,s){if(o("remove",w,z,E,y))return w;a.query(w).each(function(x){A.__remove(true,x,z,E,y,s)});return w},_handle:function(w,z){for(var E=A.__getListeners(w,z.type).slice(0),y,s,x=0,m=E.length;x<m;++x){y=E[x];y=y.fn.call(y.scope||w,z,y.data);if(y!==h){if(s!==false)s=y;y===false&&z.halt()}if(z.isImmediatePropagationStopped)break}return s},fire:function(w,z,E,y){if(!o("fire",w,z,E,y)){E=E||{};E.type=z;a.query(w).each(function(s){var x=E;if(b(s)){var m=new i(s,h,z);c.mix(m,x);m.type=
z;y&&m.halt();x=s;var t="on"+z;do{m.currentTarget=x;A._handle(x,m);x[t]&&x[t].call(x)===false&&m.preventDefault();x=x.parentNode||x.ownerDocument||x===s.ownerDocument&&window}while(x&&!m.isPropagationStopped);if(!m.isDefaultPrevented)if(!(z==="click"&&d(s,"a"))){var v;try{if(t&&s[z]){if(v=s[t])s[t]=null;g=z;s[z]()}}catch(n){c.log("trigger action error : ");c.log(n)}if(v)s[t]=v;g=r}}})}},__batchForType:o,__simpleAdd:q,__simpleRemove:p};A.on=A.add;A.detach=A.remove;return A},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,a,i){function h(j){j[k]=j[k]||{};return j[k]}function o(j){j[e]=j[e]||{};return j[e]}function b(j){return function(q,p,l){var f=this;c.each(c.trim(q).split(/\s+/),function(g){a["__"+j](false,f,g,p,l)});return f}}var k="__~ks_publish",e="__~ks_bubble_targets",d={fire:function(j,q){var p,l;if(q instanceof i){q.currentTarget=this;l=q}else{p=new i(this,undefined,j);c.isPlainObject(q)&&c.mix(p,q);p.type=j;l=p}p=a._handle(this,l);var f;if(f=!l.isPropagationStopped){f=
h(this);f=f[j]&&f[j].bubbles||f["*"]&&f["*"].bubbles}if(f){l=this.bubble(j,l);if(l===false)p=l}return p},publish:function(j,q){h(this)[j]=q},bubble:function(j,q){var p,l=o(this);c.each(l,function(f){f=f.fire(j,q);if(p!==false)p=f});return p},addTarget:function(j){o(this)[c.stamp(j)]=j},removeTarget:function(j){delete o(this)[c.stamp(j)]},on:b("add")};d.detach=b("remove");return d},{requires:["./base","./object"]});
KISSY.add("event/focusin",function(c,a,i){a.ie||c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(h){function o(k){return i.fire(k.target,h.name)}var b=0;i.special[h.name]={setup:function(){b++===0&&document.addEventListener(h.fix,o,true)},tearDown:function(){--b===0&&document.removeEventListener(h.fix,o,true)}}});return i},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(c,a,i,h){var o=document;h=o.documentMode||h.ie;if(!("onhashchange"in window)||h&&h<8){var b=window,k="<html><head><title>"+(o.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},d,j,q=function(){var r=e();if(r!==j){j=r;p(r)}d=setTimeout(q,50)},p=h&&h<8?function(r){r=c.substitute(k,{hash:r,head:i._isCustomDomain()?"<script>document.domain = '"+o.domain+"';<\/script>":""});var B=
g.contentWindow.document;try{B.open();B.write(r);B.close()}catch(D){}}:function(){a.fire(b,"hashchange")},l=function(){d||q()},f=function(){d&&clearTimeout(d);d=0},g;if(h<8){l=function(){if(!g){var r=i._genEmptyIframeSrc();g=i.create("<iframe "+(r?'src="'+r+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');i.prepend(g,o.documentElement);a.add(g,"load",function(){a.remove(g,"load");p(e());a.add(g,"load",B);q()});o.onpropertychange=function(){try{if(event.propertyName===
"title")g.contentWindow.document.title=o.title+" - "+e()}catch(D){}};var B=function(){var D=c.trim(g.contentWindow.document.body.innerText),A=e();if(D!=A){c.log("set loc hash :"+D);j=location.hash=D}a.fire(b,"hashchange")}}};f=function(){d&&clearTimeout(d);d=0;a.detach(g);i.remove(g);g=0}}a.special.hashchange={setup:function(){if(this===b){j=e();l()}},tearDown:function(){this===b&&f()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(c,a,i){function h(f){i.removeData(f,q);if(i.hasData(f,p)){var g=i.data(f,p);clearTimeout(g);i.removeData(f,p)}}function o(f){h(f.target)}function b(f){i.hasData(f,p)||i.data(f,p,setTimeout(function(){var g=f.value,r=i.data(f,q);if(g!==r){a.fire(f,d,{prevVal:r,newVal:g},true);i.data(f,q,g)}i.data(f,p,setTimeout(arguments.callee,l))},l))}function k(f){var g=f.target;f.type=="focus"&&i.data(g,q,g.value);b(g)}function e(f){h(f);a.remove(f,"blur",o);a.remove(f,"mousedown keyup keydown focus",
k)}var d="valuechange",j=i._nodeName,q="event/valuechange/history",p="event/valuechange/poll",l=50;a.special[d]={setup:function(){if(j(this,"input")||j(this,"textarea")){e(this);a.on(this,"blur",o);a.on(this,"mousedown keyup keydown focus",k)}},tearDown:function(){e(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(c,a,i){function h(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function o(d,j){var q=a.closest(d.target,[j.selector],this);if(q){for(var p=d.currentTarget,l=0;l<q.length;l++){d.currentTarget=q[l];j.fn.call(j.scope||this,d)===false&&d.halt();if(d.isPropagationStopped)break}d.currentTarget=p}}function b(d,j){var q,p=d.target,l=d.relatedTarget;d.type=
j.preType;if(p=a.closest(p,j.selector,this))if(p!==l&&(!l||!a.contains(p,l))){l=d.currentTarget;d.currentTarget=p;q=j.fn.call(j.scope||this,d);d.currentTarget=l}return q}var k=i.__batchForType,e={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};c.mix(i,{delegate:function(d,j,q,p,l){if(k("delegate",d,j,q,p,l))return d;a.query(d).each(function(f){var g=j,r=o;if(e[j]){j=e[g].type;r=e[g].handler||r}i.on(f,j,r,f,{fn:p,selector:q,
preType:g,scope:l,equals:h})});return d},undelegate:function(d,j,q,p,l){if(k("undelegate",d,j,q,p,l))return d;a.query(d).each(function(f){var g=j,r=o;if(e[j]){j=e[g].type;r=e[g].handler||r}i.remove(f,j,r,f,{fn:p,selector:q,preType:g,scope:l,equals:h})});return d}});return i},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(c,a,i,h){h.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(o){function b(k){var e=k.relatedTarget;k.type=o.name;try{if(!(e&&e!==document&&!e.parentNode))if(e!==this&&(!e||!i.contains(this,e)))a._handle(this,k)}catch(d){c.log("withinElement error : ","error");c.log(d,"error")}}a.special[o.name]={setup:function(){a.add(this,o.fix,b)},tearDown:function(){a.remove(this,o.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event/submit",function(c,a,i,h){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var o=h._nodeName;i.special.submit={setup:function(){if(o(this,"form"))return false;i.on(this,"click keypress",b)},tearDown:function(){if(o(this,"form"))return false;i.remove(this,"click keypress",b);h.query("form",this).each(function(e){if(e.__submit__fix){e.__submit__fix=0;i.remove(e,"submit",k)}})}};var b=function(e){e=e.target;if((e=o(e,"input")||o(e,"button")?e.form:null)&&!e.__submit__fix){e.__submit__fix=
1;i.on(e,"submit",k)}},k=function(e){this.parentNode&&i.fire(this.parentNode,"submit",e)}}},{requires:["ua","./base","dom"]});
KISSY.add("event/change",function(c,a,i,h){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var o=/^(?:textarea|input|select)$/i,b=function(q){q=q.type;return q=="checkbox"||q=="radio"};i.special.change={setup:function(){if(o.test(this.nodeName))if(b(this)){i.on(this,"propertychange",k);i.on(this,"click",e)}else return false;else i.on(this,"beforeactivate",d)},tearDown:function(){if(o.test(this.nodeName))if(b(this)){i.remove(this,"propertychange",k);i.remove(this,"click",e)}else return false;else{i.remove(this,
"beforeactivate",d);h.query("textarea,input,select",this).each(function(q){if(q.__changeHandler){q.__changeHandler=0;i.remove(q,"change",j)}})}}};var k=function(q){if(q.originalEvent.propertyName=="checked")this.__changed=1},e=function(q){if(this.__changed){this.__changed=0;i.fire(this,"change",q)}},d=function(q){q=q.target;if(o.test(q.nodeName)&&!q.__changeHandler){q.__changeHandler=1;i.on(q,"change",j)}},j=function(q){if(!b(this)){var p;if(p=this.parentNode)i.fire(p,"change",q)}}}},{requires:["ua",
"./base","dom"]});
KISSY.add("event/mousewheel",function(c,a,i){function h(b){var k=a._data(this).handler,e,d,j,q=b.detail;if(b.wheelDelta)j=b.wheelDelta/120;if(b.detail)j=-(q%3==0?q/3:q);if(b.axis!==undefined)if(b.axis===b.HORIZONTAL_AXIS){d=0;e=-1*j}else if(b.axis===b.VERTICAL_AXIS){e=0;d=j}if(b.wheelDeltaY!==undefined)d=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)e=-1*b.wheelDeltaX/120;if(!e&&!d)d=j;return k(b,{deltaY:d,delta:j,deltaX:e,type:"mousewheel"})}var o=i.gecko?"DOMMouseScroll":"mousewheel";a.special.mousewheel=
{setup:function(){var b;b=a._data(this)[b]=c.bind(h,this);a.__simpleAdd(this,o,b)},tearDown:function(){var b,k=a._data(this);b=k[b];a.__simpleRemove(this,o,b);delete k[b]}}},{requires:["./base","ua","./object"]});KISSY.add("event",function(c,a,i,h,o){i.KeyCodes=a;i.Target=h;i.Object=o;return i},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter","event/submit","event/change","event/mousewheel"]});
KISSY.add("node/base",function(c,a,i){function h(e,d,j){if(!(this instanceof h))return new h(e,d,j);if(e)if(c.isString(e)){e=a.create(e,d,j);if(e.nodeType===a.DOCUMENT_FRAGMENT_NODE){o.push.apply(this,b(e.childNodes));return i}}else if(c.isArray(e)||k(e)){o.push.apply(this,b(e));return i}else e=e;else return i;this[0]=e;this.length=1;return i}var o=Array.prototype,b=c.makeArray,k=a._isNodeList;c.augment(h,{length:0,item:function(e){return c.isNumber(e)?e>=this.length?null:new h(this[e]):new h(e)},
add:function(e,d,j){if(c.isNumber(d)){j=d;d=i}e=h.all(e,d).getDOMNodes();d=new h(this);if(j===i)o.push.apply(d,e);else{j=[j,0];j.push.apply(j,e);o.splice.apply(d,j)}return d},slice:function(e,d){return new h(o.slice.call(this,e,d))},getDOMNodes:function(){return o.slice.call(this)},each:function(e,d){var j=this;c.each(j,function(q,p){q=new h(q);return e.call(d||q,q,p,j)});return j},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(e){e=this.length>0?h.all(e,
this):new h;e.__parent=this;return e},one:function(e){e=this.all(e);if(e=e.length?e.slice(0,1):null)e.__parent=this;return e}});c.mix(h,{all:function(e,d){if(c.isString(e)&&(e=c.trim(e))&&e.length>=3&&c.startsWith(e,"<")&&c.endsWith(e,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new h(e,i,d)}return new h(a.query(e,d))},one:function(e,d){var j=h.all(e,d);return j.length?j.slice(0,1):null}});c.mix(h,a._NODE_TYPE);return h},{requires:["dom"]});
KISSY.add("node/attach",function(c,a,i,h,o){function b(d,j,q){q.unshift(j);d=a[d].apply(a,q);if(d===o)return j;return d}var k=h.prototype,e=c.makeArray;c.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(d){k[d]=function(){var j=e(arguments);return b(d,this,j)}});c.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(d){k[d]=function(){var j=e(arguments);j.unshift(this);j=a[d].apply(a,j);j=j===o?this:j===null?null:new h(j);return j}});c.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(d,j){k[j]=function(){var q=e(arguments);if(q[d]===o&&!c.isObject(q[0])){q.unshift(this);q=a[j].apply(a,q)}else q=
b(j,this,q);return q}});c.each(["on","detach","fire","delegate","undelegate"],function(d){k[d]=function(){var j=e(arguments);j.unshift(this);return i[d].apply(i,j)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(c,a,i,h){c.each(["append","prepend","before","after"],function(o){h.prototype[o]=function(b){b=b;if(c.isString(b))b=a.create(b);b&&a[o](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var c=Math.PI,a=Math.pow,i=Math.sin,h=1.70158,o={swing:function(b){return-Math.cos(b*c)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;
return-(a(2,10*(b-=1))*i((b-0.075)*2*c/0.3))},elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*i((b-0.075)*2*c/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*i((b-0.1125)*2*c/0.45);return a(2,-10*(b-=1))*i((b-0.1125)*2*c/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((h+1)*b-h)},backOut:function(b){return(b-=1)*b*((h+1)*b+h)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((h*=1.525)+1)*b-h);return 0.5*((b-=2)*b*
(((h*=1.525)+1)*b+h)+2)},bounceIn:function(b){return 1-o.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return o.bounceIn(b*2)*0.5;return o.bounceOut(b*2-1)*0.5+0.5}};o.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",
easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return o});
KISSY.add("anim/manager",function(c){var a=c.stamp;return{interval:15,runnings:{},timer:null,start:function(i){var h=a(i);if(!this.runnings[h]){this.runnings[h]=i;this.startTimer()}},stop:function(i){this.notRun(i)},notRun:function(i){delete this.runnings[a(i)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(i){this.notRun(i)},resume:function(i){this.start(i)},startTimer:function(){var i=this;if(!i.timer)i.timer=setTimeout(function(){if(i.runFrames())i.stopTimer();else{i.timer=0;
i.startTimer()}},i.interval)},stopTimer:function(){var i=this.timer;if(i){clearTimeout(i);this.timer=0}},runFrames:function(){var i=1,h=this.runnings,o;for(o in h)if(h.hasOwnProperty(o)){i=0;h[o]._frame()}return i}}});
KISSY.add("anim/fx",function(c,a,i){function h(b){this.load(b)}function o(b,k){if((!b.style||b.style[k]==null)&&a.attr(b,k,i,1)!=null)return 1;return 0}c.augment(h,{load:function(b){c.mix(this,b);this.startTime=c.now();this.pos=0;this.unit=this.unit||""},frame:function(b){var k=0,e=c.now();if(b||e>=this.duration+this.startTime)k=this.pos=1;else{b=e-this.startTime;this.pos=this.easing(b/this.duration)}this.update();return k},interpolate:function(b,k,e){return c.isNumber(b)&&c.isNumber(k)?(b+(k-b)*
e).toFixed(3):i},update:function(){var b=this.prop,k=this.elem,e=this.from,d=this.to,j=this.interpolate(e,d,this.pos);if(j===i){if(!this.finished){this.finished=1;a.css(k,b,d);c.log(this.prop+" update directly ! : "+j+" : "+e+" : "+d)}}else{j+=this.unit;o(k,b)?a.attr(k,b,j,1):a.css(k,b,j)}},cur:function(){var b=this.prop,k=this.elem;if(o(k,b))return a.attr(k,b,i,1);var e;b=a.css(k,b);return isNaN(e=parseFloat(b))?!b||b==="auto"?0:b:e}});h.Factories={};h.getFx=function(b){return new (h.Factories[b.prop]||
h)(b)};return h},{requires:["dom"]});
KISSY.add("anim/base",function(c,a,i,h,o,b,k){function e(f,g,r,B,D){if(f=a.get(f)){if(!(this instanceof e))return new e(f,g,r,B,D);if(c.isString(g))g=c.unparam(g,";",":");for(var A in g){var w=d(c.trim(A));if(A!=w){g[w]=g[A];delete g[A]}}r=c.isPlainObject(r)?r:{duration:parseFloat(r)||undefined,easing:B,complete:D};r=c.merge(p,r);r.duration*=1E3;this.config=r;this.elem=this.domEl=f;this.props=g;this._backupProps={};this._fxs={};r.complete&&this.on("complete",r.complete)}}var d=a._camelCase,j=a._isElementNode,
q={border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},p={duration:1,easing:"easeNone"},l=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;e.SHORT_HANDS=q;c.augment(e,i.Target,{isRunning:false,
run:function(){var f=this._backupProps,g=this.elem,r,B={},D=this._fxs,A=this.config,w=this.props;if(this.fire("start")!==false){c.each(w,function(v,n){if(w.hasOwnProperty(n)){var u;if(c.isArray(v)){u=B[n]=v[1];w[n]=v[0]}else u=B[n]=A.easing;if(c.isString(u))u=B[n]=h[u];B[n]=u||h.easeNone}});c.each(q,function(v,n){var u,C,F;if(F=w[n]){C={};c.each(v,function(G){C[G]=a.css(g,G);B[G]=B[n]});a.css(g,n,F);for(u in C){w[u]=a.css(g,u);a.css(g,u,C[u])}delete w[n]}});for(r in w)if(w.hasOwnProperty(r)){var z=
c.trim(w[r]),E={elem:g,prop:r,duration:A.duration,easing:B[r]},y=k.getFx(E),s=z,x="",m=y.cur(),t=z.match(l);if(t){s=parseFloat(t[2]);if((x=t[3])&&x!=="px"){a.css(g,r,z);m=s/y.cur()*m;a.css(g,r,m+x)}if(t[1])s=(t[1]==="-="?-1:1)*s+m}E.from=m;E.to=s;E.unit=x;y.load(E);D[r]=y}if(j(g)&&(w.width||w.height)){c.mix(f,{overflow:a.css(g,"overflow"),"overflow-x":a.css(g,"overflowX"),"overflow-y":a.css(g,"overflowY")});a.css(g,"overflow","hidden");if(a.css(g,"display")==="inline"&&a.css(g,"float")==="none")o.ie?
a.css(g,"zoom",1):a.css(g,"display","inline-block")}b.start(this);this.isRunning=true;return this}},_frame:function(){var f,g=1,r=this._fxs;for(f in r)if(r.hasOwnProperty(f))g&=r[f].frame();if(this.fire("step")===false||g)this.stop(g)},stop:function(f){var g,r,B=this._fxs,D=this.elem;if(this.isRunning){if(f){for(r in B)B.hasOwnProperty(r)&&B[r].frame(1);this.fire("complete")}c.isEmptyObject(g=this._backupProps)||a.css(D,g);this._backupProps={};this._fxs={};b.stop(this);this.isRunning=false;return this}}});
return e},{requires:["dom","event","./easing","ua","./manager","./fx"]});
KISSY.add("anim/color",function(c,a,i,h){function o(l){l+="";var f;if(f=l.match(j))return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])];else if(f=l.match(q))return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])];else if(f=l.match(p)){for(l=1;l<f.length;l++)if(f[l].length<2)f[l]+=f[l];return[parseInt(f[1],k),parseInt(f[2],k),parseInt(f[3],k)]}if(d[l=l.toLowerCase()])return d[l];c.log("only allow rgb or hex color string : "+l,"warn");return[255,255,255]}function b(){b.superclass.constructor.apply(this,
arguments)}var k=16,e=Math.floor,d={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},j=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,q=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,p=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;a=i.SHORT_HANDS;
a.background=["backgroundColor"];a.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];a.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");a.borderBottom.push("borderBottomColor");a.borderLeft.push("borderLeftColor");a.borderRight.push("borderRightColor");a.borderTop.push("borderTopColor");c.extend(b,h,{load:function(){b.superclass.load.apply(this,arguments);if(this.from)this.from=o(this.from);if(this.to)this.to=o(this.to)},
interpolate:function(l,f,g){var r=b.superclass.interpolate;if(l.length==3&&f.length==3)return"rgb("+[e(r(l[0],f[0],g)),e(r(l[1],f[1],g)),e(r(l[2],f[2],g))].join(", ")+")";else if(l.length==4||f.length==4)return"rgba("+[e(r(l[0],f[0],g)),e(r(l[1],f[1],g)),e(r(l[2],f[2],g)),e(r(l[3]||1,f[3]||1,g))].join(", ")+")";else c.log("anim/color unknown value : "+l)}});c.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(l){h.Factories[l]=
b});return b},{requires:["dom","./base","./fx"]});KISSY.add("anim",function(c,a,i){a.Easing=i;return a},{requires:["anim/base","anim/easing","anim/color"]});
KISSY.add("node/anim-plugin",function(c,a,i,h,o){function b(g,r,B,D,A,w,z){A&&a.show(g);var E={},y={};c.each(f[r],function(s){var x=g.style;if(s===d){E[d]=x[d];a.css(g,d,j)}else if(s===q){E[q]=a.style(g,q);y.opacity=A?1:0;A&&a.css(g,q,0)}else if(s===p){E[p]=x[p];y.height=A?a.height(g)||g.naturalHeight:0;A&&a.css(g,p,0)}else if(s===l){E[l]=x[l];y.width=A?a.width(g)||g.naturalWidth:0;A&&a.css(g,l,0)}});return(new i(g,y,B,w,function(){A||a.hide(g);a.css(g,{height:E[p],width:E[l],opacity:E[q],overflow:E[d]});
D&&D()},z)).run()}var k=h.prototype,e="ksAnims"+c.now(),d="overflow",j="hidden",q="opacity",p="height",l="width",f={show:[d,q,p,l],fade:[q],slide:[d,p]};h.__ANIM_KEY=e;(function(g){function r(B,D){var A=a.data(B,e);A||a.data(B,e,A=[]);D.on("complete",function(){var w=a.data(B,e);if(w){var z=c.indexOf(D,w);z>=0&&w.splice(z,1);w.length||a.removeData(B,e)}});A.push(D)}g.animate=function(){var B=c.makeArray(arguments);c.each(this,function(D){var A=i.apply(o,[D].concat(B)).run();r(D,A)});return this};
g.stop=function(B){c.each(this,function(D){var A=a.data(D,e);if(A){c.each(A,function(w){w.stop(B)});a.removeData(D,e)}});return this};c.each({show:["show",1],hide:["show",0],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(B,D){g[D]=function(A,w,z,E){a[D]&&!A?a[D](this):c.each(this,function(y){var s=b(y,B[0],A,w,B[1],z||"easeOut",E);r(y,s)});return this}});g.toggle=function(){g[this.css("display")==="none"?"show":"hide"].apply(this,arguments)}})(k)},{requires:["dom",
"anim","./base"]});KISSY.add("node",function(c,a,i){i.KeyCodes=a.KeyCodes;return i},{requires:["event","node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(c,a){function i(f){return f<10?"0"+f:f}function h(f){d.lastIndex=0;return d.test(f)?'"'+f.replace(d,function(g){var r=p[g];return typeof r==="string"?r:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function o(f,g){var r,B,D,A,w=j,z,E=g[f];if(E&&typeof E==="object"&&typeof E.toJSON==="function")E=E.toJSON(f);if(typeof l==="function")E=l.call(g,f,E);switch(typeof E){case "string":return h(E);case "number":return isFinite(E)?String(E):"null";case "boolean":case "null":return String(E);
case "object":if(!E)return"null";j+=q;z=[];if(Object.prototype.toString.apply(E)==="[object Array]"){A=E.length;for(r=0;r<A;r+=1)z[r]=o(r,E)||"null";D=z.length===0?"[]":j?"[\n"+j+z.join(",\n"+j)+"\n"+w+"]":"["+z.join(",")+"]";j=w;return D}if(l&&typeof l==="object"){A=l.length;for(r=0;r<A;r+=1){B=l[r];if(typeof B==="string")if(D=o(B,E))z.push(h(B)+(j?": ":":")+D)}}else for(B in E)if(Object.hasOwnProperty.call(E,B))if(D=o(B,E))z.push(h(B)+(j?": ":":")+D);D=z.length===0?"{}":j?"{\n"+j+z.join(",\n"+j)+
"\n"+w+"}":"{"+z.join(",")+"}";j=w;return D}}var b=window,k=b.JSON;if(!k||a.ie<9)k=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,q,p={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;if(typeof k.stringify!=="function")k.stringify=function(f,g,r){var B;q=j="";if(typeof r==="number")for(B=0;B<r;B+=1)q+=" ";else if(typeof r==="string")q=r;if((l=g)&&typeof g!=="function"&&(typeof g!=="object"||typeof g.length!=="number"))throw Error("JSON.stringify");return o("",{"":f})};if(typeof k.parse!==
"function")k.parse=function(f,g){function r(D,A){var w,z,E=D[A];if(E&&typeof E==="object")for(w in E)if(Object.hasOwnProperty.call(E,w)){z=r(E,w);if(z!==undefined)E[w]=z;else delete E[w]}return g.call(D,A,E)}var B;f=String(f);e.lastIndex=0;if(e.test(f))f=f.replace(e,function(D){return"\\u"+("0000"+D.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+f+")");return typeof g==="function"?r({"":B},""):B}throw new SyntaxError("JSON.parse");};return k},{requires:["ua"]});KISSY.add("json",function(c,a){return{parse:function(i){if(c.isNullOrUndefined(i)||i==="")return null;return a.parse(i)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/form-serializer",function(c,a){var i=/^(?:select|textarea)/i,h=/\r?\n/g,o=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return{serialize:function(b){var k=[],e={};a.query(b).each(function(d){d=d.elements?c.makeArray(d.elements):[d];k.push.apply(k,d)});k=c.filter(k,function(d){return d.name&&!d.disabled&&(d.checked||i.test(d.nodeName)||o.test(d.type))});c.each(k,function(d){var j=a.val(d);j=c.map(c.makeArray(j),function(q){return q.replace(h,
"\r\n")});d=e[d.name]=e[d.name]||[];d.push.apply(d,j)});return c.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/xhrobject",function(c,a){function i(b){var k=b.responseText,e=b.responseXML,d=b.config,j=d.converters,q=b.converters||{},p,l,f=d.contents,g=d.dataType;if(k||e){for(d=b.mimeType||b.getResponseHeader("Content-Type");g[0]=="*";)g.shift();if(!g.length)for(p in f)if(f[p].test(d)){g[0]!=p&&g.unshift(p);break}g[0]=g[0]||"text";if(g[0]=="text"&&k!==undefined)l=k;else if(g[0]=="xml"&&e!==undefined)l=e;else c.each(["text","xml"],function(B){var D=g[0];if(q[B]&&q[B][D]||j[B]&&j[B][D]){g.unshift(B);
l=B=="text"?k:e;return false}})}f=g[0];for(d=1;d<g.length;d++){p=g[d];var r=q[f]&&q[f][p]||j[f]&&j[f][p];if(!r)throw"no covert for "+f+" => "+p;l=r(l);f=p}b.responseData=l}function h(b){c.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var o=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;c.augment(h,a.Target,{setRequestHeader:function(b,k){this.requestHeaders[b]=
k;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var k;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};k=o.exec(this.responseHeadersString);)this.responseHeaders[k[1]]=k[2];k=this.responseHeaders[b]}return k===undefined?null:k},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,k){if(this.state!=2){this.state=2;this.readyState=4;var e;if(b>=200&&b<300||b==304)if(b==304){k="notmodified";e=true}else try{i(this);k="success";e=true}catch(d){k="parsererror : "+d}else if(b<0)b=0;this.status=b;this.statusText=k;e?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return h},{requires:["event"]});
KISSY.add("ajax/base",function(c,a,i,h){function o(w){w=c.mix(c.clone(A),w||{},undefined,undefined,true);if(!c.isBoolean(w.crossDomain)){var z=j.exec(w.url.toLowerCase());w.crossDomain=!!(z&&(z[1]!=r[1]||z[2]!=r[2]||(z[3]||(z[1]==="http:"?p:l))!=(r[3]||(r[1]==="http:"?p:l))))}if(w.processData&&w.data&&!c.isString(w.data))w.data=c.param(w.data,undefined,undefined,w.serializeArray);w.type=w.type.toUpperCase();w.hasContent=!f.test(w.type);if(!w.hasContent){if(w.data)w.url+=(/\?/.test(w.url)?"&":"?")+
w.data;if(w.cache===false)w.url+=(/\?/.test(w.url)?"&":"?")+"_ksTS="+(c.now()+"_"+c.guid())}w.dataType=c.trim(w.dataType||"*").split(d);w.context=w.context||w;return w}function b(w,z){e.fire(w,{ajaxConfig:z.config,xhr:z})}function k(w){var z=this.config;w=w.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);z[w]&&z[w].call(z.context,this.responseData,this.statusText,this);b(w,this)}function e(w){if(w.url){w=o(w);var z=new h(w);b("start",z);var E=new (D[w.dataType[0]]||D["*"])(z);z.transport=
E;w.contentType&&z.setRequestHeader("Content-Type",w.contentType);var y=w.dataType[0],s=w.accepts;z.setRequestHeader("Accept",y&&s[y]?s[y]+(y==="*"?"":", */*; q=0.01"):s["*"]);for(var x in w.headers)z.setRequestHeader(x,w.headers[x]);z.on("complete success error",k);z.readyState=1;b("send",z);if(w.async&&w.timeout>0)z.timeoutTimer=setTimeout(function(){z.abort("timeout")},w.timeout*1E3);try{z.state=1;E.send()}catch(m){z.status<2?z.callback(-1,m):c.error(m)}return z}}var d=/\s+/,j=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
q=function(w){return w},p=80,l=443,f=/^(?:GET|HEAD)$/,g,r;try{g=location.href}catch(B){c.log("ajax/base get curLocation error : ");c.log(B);g=document.createElement("a");g.href="";g=g.href}r=j.exec(g);g=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(r[1]);var D={},A={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:a.parse,html:q,text:q,xml:c.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};A.converters.html=A.converters.text;c.mix(e,i.Target);c.mix(e,{isLocal:g,setupConfig:function(w){c.mix(A,w,undefined,undefined,true)},setupTransport:function(w,z){D[w]=z},getTransport:function(w){return D[w]},getConfig:function(){return A}});return e},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhrbase",function(c,a){function i(k,e){try{return new (e||h).XMLHttpRequest}catch(d){}}var h=window,o=h.XDomainRequest,b={proto:{}};b.xhr=h.ActiveXObject?function(k,e){if(k&&o)return new o;var d;if(!(d=!a.isLocal&&i(k,e)))a:{try{d=new (e||h).ActiveXObject("Microsoft.XMLHTTP");break a}catch(j){c.log("createActiveXHR error")}d=void 0}return d}:i;c.mix(b.proto,{sendInternal:function(){var k=this,e=k.xhrObj,d=e.config,j=k.xhr,q,p;d.username?j.open(d.type,d.url,d.async,d.username,d.password):
j.open(d.type,d.url,d.async);if(q=d.xhrFields)for(p in q)j[p]=q[p];e.mimeType&&j.overrideMimeType&&j.overrideMimeType(e.mimeType);if(!d.crossDomain&&!e.requestHeaders["X-Requested-With"])e.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{if(!d.crossDomain)for(p in e.requestHeaders)j.setRequestHeader(p,e.requestHeaders[p])}catch(l){c.log("setRequestHeader in xhr error : ");c.log(l)}j.send(d.hasContent&&d.data||null);if(!d.async||j.readyState==4)k._callback();else if(o&&j instanceof o){j.onload=
function(){j.readyState=4;j.status=200;k._callback()};j.onerror=function(){j.readyState=4;j.status=500;k._callback()}}else j.onreadystatechange=function(){k._callback()}},abort:function(){this._callback(0,1)},_callback:function(k,e){try{var d=this.xhr,j=this.xhrObj,q=j.config;if(e||d.readyState==4){if(o&&d instanceof o){d.onerror=c.noop;d.onload=c.noop}else d.onreadystatechange=c.noop;if(e)d.readyState!==4&&d.abort();else{var p=d.status;if(!(o&&d instanceof o))j.responseHeadersString=d.getAllResponseHeaders();
var l=d.responseXML;if(l&&l.documentElement)j.responseXML=l;j.responseText=d.responseText;try{var f=d.statusText}catch(g){c.log("xhr statustext error : ");c.log(g);f=""}if(!p&&a.isLocal&&!q.crossDomain)p=j.responseText?200:404;else if(p===1223)p=204;j.callback(p,f)}}}catch(r){d.onreadystatechange=c.noop;e||j.callback(-1,r)}}});return b},{requires:["./base"]});
KISSY.add("ajax/subdomain",function(c,a,i,h){function o(d){var j=d.config;this.xhrObj=d;d=j.url.match(b);this.__hostname=d[2];this.__protocol=d[1];j.crossDomain=false}var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=document,e={};c.augment(o,a.proto,{send:function(){var d=this.xhrObj.config,j=this.__hostname,q=e[j],p="/sub_domain_proxy.html";if(d.xdr&&d.xdr.subDomain&&d.xdr.subDomain.proxy)p=d.xdr.subDomain.proxy;if(q&&q.ready)(this.xhr=a.xhr(0,q.iframe.contentWindow))?this.sendInternal():
c.error("document.domain not set correctly!");else{if(q)d=q.iframe;else{q=e[j]={};d=q.iframe=document.createElement("iframe");h.css(d,{position:"absolute",left:"-9999px",top:"-9999px"});h.prepend(d,k.body||k.documentElement);d.src=this.__protocol+"//"+j+p}i.on(d,"load",this._onLoad,this)}},_onLoad:function(){var d=e[this.__hostname];d.ready=1;i.detach(d.iframe,"load",this._onLoad,this);this.send()}});return o},{requires:["./xhrbase","event","dom"]});
KISSY.add("ajax/xdr",function(c,a,i){function h(q,p,l){if(!j){j=true;q='<object id="'+k+'" type="application/x-shockwave-flash" data="'+q+'" width="0" height="0"><param name="movie" value="'+q+'" /><param name="FlashVars" value="yid='+p+"&uid="+l+'&host=KISSY.io" /><param name="allowScriptAccess" value="always" /></object>';p=d.createElement("div");i.prepend(p,d.body||d.documentElement);p.innerHTML=q}}function o(q){c.log("use flash xdr");this.xhrObj=q}var b={},k="io_swf",e,d=document,j=false;c.augment(o,
{send:function(){var q=this,p=q.xhrObj.config;h((p.xdr||{}).src||c.Config.base+"ajax/io.swf",1,1);if(e){q._uid=c.guid();b[q._uid]=q;e.send(p.url,{id:q._uid,uid:q._uid,method:p.type,data:p.hasContent&&p.data||{}})}else setTimeout(function(){q.send()},200)},abort:function(){e.abort(this._uid)},_xdrResponse:function(q,p){var l,f=this.xhrObj;f.responseText=decodeURI(p.c.responseText);switch(q){case "success":l={status:200,statusText:"success"};delete b[p.id];break;case "abort":delete b[p.id];break;case "timeout":case "transport error":case "failure":delete b[p.id];
l={status:500,statusText:q}}l&&f.callback(l.status,l.statusText)}});a.applyTo=function(q,p,l){q=p.split(".");var f=c;c.each(q,function(g){f=f[g]});f.apply(null,l)};a.xdrReady=function(){e=d.getElementById(k)};a.xdrResponse=function(q,p,l){var f=b[p.uid];f&&f._xdrResponse(q,p,l)};c.io=a;return o},{requires:["./base","dom"]});
KISSY.add("ajax/xhr",function(c,a,i,h,o){var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=window.XDomainRequest,e=i.xhr();if(e){var d=function(q){q=q.split(".");return q.length<2?q.join("."):q.reverse().slice(0,2).reverse().join(".")},j=function(q){var p=q.config,l=p.xdr||{};if(p.crossDomain){p=p.url.match(b);if(d(location.hostname)==d(p[2]))return new h(q);if(!("withCredentials"in e)&&(String(l.use)==="flash"||!k))return new o(q)}this.xhrObj=q};c.augment(j,i.proto,{send:function(){this.xhr=
i.xhr(this.xhrObj.config.crossDomain);this.sendInternal()}});a.setupTransport("*",j)}return a},{requires:["./base","./xhrbase","./subdomain","./xdr"]});
KISSY.add("ajax/script",function(c,a){function i(o){if(!o.config.crossDomain&&!o.config.forceScript)return new (a.getTransport("*"))(o);this.xhrObj=o;return 0}var h=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(o){c.globalEval(o);return o}}}});c.augment(i,{send:function(){var o=this,b,k=this.xhrObj.config,e=h.head||h.getElementsByTagName("head")[0]||
h.documentElement;o.head=e;b=h.createElement("script");o.script=b;b.async="async";if(k.scriptCharset)b.charset=k.scriptCharset;b.src=k.url;b.onerror=b.onload=b.onreadystatechange=function(d){d=d||window.event;o._callback((d.type||"error").toLowerCase())};e.insertBefore(b,e.firstChild)},_callback:function(o,b){var k=this.script,e=this.xhrObj,d=this.head;if(k)if(b||!k.readyState||/loaded|complete/.test(k.readyState)||o=="error"){k.onerror=k.onload=k.onreadystatechange=null;d&&k.parentNode&&d.removeChild(k);
this.head=this.script=undefined;if(!b&&o!="error")e.callback(200,"success");else o=="error"&&e.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",i);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(c,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return c.guid("jsonp")}});a.on("start",function(i){i=i.xhr;var h=i.config;if(h.dataType[0]=="jsonp"){var o,b=h.jsonpCallback,k=c.isFunction(b)?b():b,e=window[k];h.url+=(/\?/.test(h.url)?"&":"?")+h.jsonp+"="+k;window[k]=function(d){if(arguments.length>1)d=c.makeArray(arguments);o=[d]};i.on("complete",function(){window[k]=e;if(e===undefined)try{delete window[k]}catch(d){}else o&&e(o[0])});i.converters=i.converters||
{};i.converters.script=i.converters.script||{};i.converters.script.json=function(){o||c.error(" not call jsonpCallback : "+k);return o[0]};h.dataType.length=2;h.dataType[0]="script";h.dataType[1]="json"}});return a},{requires:["./base"]});
KISSY.add("ajax/form",function(c,a,i,h){a.on("start",function(o){o=o.xhr.config;if(o.form){var b=i.get(o.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=h.serialize(b))if(o.hasContent){o.data=o.data||"";if(o.data)o.data+="&";o.data+=b}else o.url+=(/\?/.test(o.url)?"&":"?")+b}else{b=o.dataType[0];if(b=="*")b="text";o.dataType.length=2;o.dataType[0]="iframe";o.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(c,a,i,h){function o(k){this.xhr=k}var b=document;h.setupConfig({converters:{iframe:h.getConfig().converters.text,text:{iframe:function(k){return k}}}});c.augment(o,{send:function(){var k=this.xhr,e=k.config,d,j=a.get(e.form);this.attrs={target:a.attr(j,"target")||"",action:a.attr(j,"action")||""};this.form=j;var q=c.guid("ajax-iframe");k.iframe=a.create("<iframe  id='"+q+"' name='"+q+"' style='position:absolute;left:-9999px;top:-9999px;'/>");k.iframeId=q;a.prepend(k.iframe,
b.body||b.documentElement);a.attr(j,{target:k.iframeId,action:e.url});if(e.data){d=e.data;e=e.serializeArray;d=c.unparam(d);q=[];for(var p in d)for(var l=c.isArray(d[p]),f=c.makeArray(d[p]),g=0;g<f.length;g++){var r=b.createElement("input");r.type="hidden";r.name=p+(l&&e?"[]":"");r.value=f[g];a.append(r,j);q.push(r)}d=q}this.fields=d;i.on(k.iframe,"load error",this._callback,this);j.submit()},_callback:function(k){var e=this.xhr;k=k.type;var d=e.iframe;if(d){a.attr(this.form,this.attrs);if(k=="load"){k=
d.contentWindow.document;e.responseXML=k;e.responseText=a.text(k.body);e.callback(200,"success")}else k=="error"&&e.callback(500,"error");a.remove(this.fields);i.detach(d);setTimeout(function(){a.remove(d)},30);e.iframe=null}},abort:function(){this._callback(0,1)}});h.setupTransport("iframe",o);return h},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(c,a,i){c.mix(i,{serialize:a.serialize,get:function(h,o,b,k,e){if(c.isFunction(o)){k=b;b=o;o=undefined}return i({type:e||"get",url:h,data:o,success:b,dataType:k})},post:function(h,o,b,k){if(c.isFunction(o)){k=b;b=o;o=undefined}return i.get(h,o,b,k,"post")},jsonp:function(h,o,b){if(c.isFunction(o)){b=o;o=undefined}return i.get(h,o,b,"jsonp")},getScript:c.getScript,getJSON:function(h,o,b){if(c.isFunction(o)){b=o;o=undefined}return i.get(h,o,b,"json")},upload:function(h,o,b,
k,e){if(c.isFunction(b)){e=k;k=b;b=undefined}return i({url:h,type:"post",dataType:e,form:o,data:b,success:k})}});return i},{requires:["ajax/form-serializer","ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(c,a){function i(l,f){if(c.isString(f))return l[f];return f}function h(l,f,g,r,B,D,A){A=A||g;return l.fire(f+q(g)+"Change",{attrName:A,subAttrName:D,prevVal:r,newVal:B})}function o(l,f,g){var r=l[f]||{};if(g)l[f]=r;return r}function b(l){return o(l,"__attrs",true)}function k(l){return o(l,"__attrVals",true)}function e(l,f){for(var g=0,r=f.length;l!=a&&g<r;g++)l=l[f[g]];return l}function d(l,f,g,r,B){r=r||{};var D,A,w,z=f;if(f.indexOf(".")!==-1){D=f.split(".");f=
D.shift()}w=l.get(f);if(D)A=e(w,D);if(!(!D&&w===g))if(!(D&&A===g)){if(D){var E=A=c.clone(w),y=D.length-1;if(y>=0){for(var s=0;s<y;s++)E=E[D[s]];if(E!=a)E[D[s]]=g}g=A}if(!r.silent)if(false===h(l,"before",f,w,g,z))return false;g=l.__set(f,g);if(g===false)return g;if(!r.silent){g=k(l)[f];h(l,"after",f,w,g,z);B?B.push({prevVal:w,newVal:g,attrName:f,subAttrName:z}):h(l,"","*",[w],[g],[z],[f])}return l}}function j(){}function q(l){return l.charAt(0).toUpperCase()+l.substring(1)}j.INVALID={};var p=j.INVALID;
c.augment(j,{getAttrs:function(){return b(this)},getAttrVals:function(){var l={},f,g=b(this);for(f in g)l[f]=this.get(f);return l},addAttr:function(l,f,g){var r=b(this);f=c.clone(f);if(r[l])c.mix(r[l],f,g);else r[l]=f;return this},addAttrs:function(l,f){var g=this;c.each(l,function(r,B){g.addAttr(B,r)});f&&g.set(f);return g},hasAttr:function(l){return l&&b(this).hasOwnProperty(l)},removeAttr:function(l){if(this.hasAttr(l)){delete b(this)[l];delete k(this)[l]}return this},set:function(l,f,g){var r;
if(c.isPlainObject(l)){var B=l;l=0;r=true;g=f;f=[];for(l in B){r=d(this,l,B[l],g,f);if(r===false)break}var D=[],A=[],w=[],z=[];c.each(f,function(E){A.push(E.prevVal);w.push(E.newVal);D.push(E.attrName);z.push(E.subAttrName)});D.length&&h(this,"","*",A,w,z,D);return r}return d(this,l,f,g)},__set:function(l,f){var g,r=o(b(this),l,true),B=r.validator;r=r.setter;if(B=i(this,B))if(!B.call(this,f,l))return false;if(r=i(this,r))g=r.call(this,f,l);if(g===p)return false;if(g!==a)f=g;k(this)[l]=f},get:function(l){var f,
g,r;if(l.indexOf(".")!==-1){f=l.split(".");l=f.shift()}g=o(b(this),l).getter;r=l in k(this)?k(this)[l]:this.__getDefAttrVal(l);if(g=i(this,g))r=g.call(this,r,l);if(f)r=e(r,f);return r},__getDefAttrVal:function(l){var f=o(b(this),l),g;if(g=i(this,f.valueFn)){g=g.call(this);if(g!==a)f.value=g;delete f.valueFn;b(this)[l]=f}return f.value},reset:function(l,f){if(c.isString(l))return this.hasAttr(l)?this.set(l,this.__getDefAttrVal(l),f):this;f=l;var g=b(this),r={};for(l in g)r[l]=this.__getDefAttrVal(l);
this.set(r,f);return this}});j.__capitalFirst=q;return j});KISSY.add("base/base",function(c,a,i){function h(o){for(var b=this.constructor;b;){var k=b.ATTRS;if(k){var e=void 0;for(e in k)k.hasOwnProperty(e)&&this.addAttr(e,k[e],false)}b=b.superclass?b.superclass.constructor:null}if(o)for(var d in o)o.hasOwnProperty(d)&&this.__set(d,o[d])}c.augment(h,i.Target,a);return h},{requires:["./attribute","event"]});KISSY.add("base",function(c,a,i){a.Attribute=i;return a},{requires:["base/base","base/attribute"]});
KISSY.add("cookie/base",function(c){var a=document,i=encodeURIComponent,h=decodeURIComponent;return{get:function(o){var b;if(c.isString(o)&&o!=="")if(o=String(a.cookie).match(RegExp("(?:^| )"+o+"(?:(?:=([^;]*))|;|$)")))b=o[1]?h(o[1]):"";return b},set:function(o,b,k,e,d,j){b=String(i(b));var q=k;if(typeof q==="number"){q=new Date;q.setTime(q.getTime()+k*864E5)}if(q instanceof Date)b+="; expires="+q.toUTCString();if(c.isString(e)&&e!=="")b+="; domain="+e;if(c.isString(d)&&d!=="")b+="; path="+d;if(j)b+=
"; secure";a.cookie=o+"="+b},remove:function(o,b,k,e){this.set(o,"",-1,b,k,e)}}});KISSY.add("cookie",function(c,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(c,a,i,h,o,b,k,e,d,j){k.getScript=c.getScript;a={UA:a,DOM:i,Event:h,EventTarget:h.Target,EventObject:h.Object,Node:o,NodeList:o,JSON:b,Ajax:k,IO:k,ajax:k,io:k,jsonp:k.jsonp,Anim:e,Easing:e.Easing,Base:d,Cookie:j,one:o.one,all:o.all,get:i.get,query:i.query};c.mix(c,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
