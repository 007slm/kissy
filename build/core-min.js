/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var i=navigator.userAgent,a="",n="",c,f={},h=function(b){var d=0;return parseFloat(b.replace(/\./g,function(){return d++===0?".":""}))};if((c=i.match(/AppleWebKit\/([\d.]*)/))&&c[1]){f[a="webkit"]=h(c[1]);if((c=i.match(/Chrome\/([\d.]*)/))&&c[1])f[n="chrome"]=h(c[1]);else if((c=i.match(/\/([\d.]*) Safari/))&&c[1])f[n="safari"]=h(c[1]);if(/ Mobile\//.test(i))f.mobile="apple";else if(c=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))f.mobile=c[0].toLowerCase()}else if((c=
i.match(/Presto\/([\d.]*)/))&&c[1]){f[a="presto"]=h(c[1]);if((c=i.match(/Opera\/([\d.]*)/))&&c[1]){f[n="opera"]=h(c[1]);if((c=i.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])f[n]=h(c[1]);if((c=i.match(/Opera Mini[^;]*/))&&c)f.mobile=c[0].toLowerCase();else if((c=i.match(/Opera Mobi[^;]*/))&&c)f.mobile=c[0]}}else if((c=i.match(/MSIE\s([^;]*)/))&&c[1]){f[a="trident"]=0.1;f[n="ie"]=h(c[1]);if((c=i.match(/Trident\/([\d.]*)/))&&c[1])f[a]=h(c[1])}else if(c=i.match(/Gecko/)){f[a="gecko"]=0.1;if((c=i.match(/rv:([\d.]*)/))&&
c[1])f[a]=h(c[1]);if((c=i.match(/Firefox\/([\d.]*)/))&&c[1])f[n="firefox"]=h(c[1])}f.core=a;f.shell=n;f._numberify=h;return f});
KISSY.add("ua/extra",function(i,a){var n=navigator.userAgent,c,f,h={},b=a._numberify;if(n.match(/360SE/))h[f="se360"]=3;else if(n.match(/Maxthon/)&&(c=window.external)){f="maxthon";try{h[f]=b(c.max_version)}catch(d){h[f]=0.1}}else if(c=n.match(/TencentTraveler\s([\d.]*)/))h[f="tt"]=c[1]?b(c[1]):0.1;else if(n.match(/TheWorld/))h[f="theworld"]=3;else if(c=n.match(/SE\s([\d.]*)/))h[f="sougou"]=c[1]?b(c[1]):0.1;f&&(h.shell=f);i.mix(a,h);return a},{requires:["ua/base"]});
KISSY.add("ua",function(i,a){return a},{requires:["ua/extra"]});KISSY.add("dom/base",function(i,a){function n(c,f){return c&&c.nodeType===f}return{_isElementNode:function(c){return n(c,1)},_getWin:function(c){return c&&"scrollTo"in c&&c.document?c:n(c,9)?c.defaultView||c.parentWindow:c==a?window:false},_nodeTypeIs:n,_isNodeList:function(c){return c&&!c.nodeType&&c.item&&!c.setTimeout}}});
KISSY.add("dom/attr",function(i,a,n,c){function f(k,q){q=u[q]||q;var y=e[q];if(!k)return c;return y&&y.get?y.get(k,q):k[q]}n=document.documentElement;var h=!n.hasAttribute,b=n.textContent!==c?"textContent":"innerText",d=a._isElementNode,g=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,o=/^(?:button|input|object|select|textarea)$/i,w=/^a(?:rea)?$/i,s=/:|^on/,t=/\r/g,v={},p={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},l={tabindex:{get:function(k){var q=k.getAttributeNode("tabindex");return q&&q.specified?parseInt(q.value,10):o.test(k.nodeName)||w.test(k.nodeName)&&k.href?0:null}},style:{get:function(k){return k.style.cssText},set:function(k,q){k.style.cssText=q}}},u={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
r={get:function(k,q){return a.prop(k,q)?q.toLowerCase():null},set:function(k,q,y){if(q===false)a.removeAttr(k,y);else{q=u[y]||y;if(q in k)k[q]=true;k.setAttribute(y,y.toLowerCase())}return y}},e={},j={},m={option:{get:function(k){var q=k.attributes.value;return!q||q.specified?k.value:k.text}},select:{get:function(k){var q=k.selectedIndex,y=k.options;k=k.type==="select-one";if(q<0)return null;else if(k)return a.val(y[q]);q=[];k=0;for(var x=y.length;k<x;++k)y[k].selected&&q.push(a.val(y[k]));return q},
set:function(k,q){var y=i.makeArray(q);i.each(k.options,function(x){x.selected=i.inArray(a.val(x),y)});if(!y.length)k.selectedIndex=-1;return y}}};if(h){j={get:function(k,q){var y;return(y=k.getAttributeNode(q))&&y.nodeValue!==""?y.nodeValue:null},set:function(k,q,y){if(k=k.getAttributeNode(y))k.nodeValue=q}};v=u;l.tabIndex=l.tabindex;i.each(["href","src","width","height","colSpan","rowSpan"],function(k){l[k]={get:function(q){q=q.getAttribute(k,2);return q===c?null:q}}});m.button=l.value=j}i.each(["radio",
"checkbox"],function(k){m[k]={get:function(q){return q.getAttribute("value")===null?"on":q.value},set:function(q,y){if(i.isArray(y))return q.checked=i.inArray(a.val(q),y)}}});i.mix(a,{prop:function(k,q,y){if(i.isPlainObject(q))for(var x in q)a.prop(k,x,q[x]);else{k=a.query(k);q=u[q]||q;var z=e[q];if(y!==c)i.each(k,function(A){if(z&&z.set)z.set(A,y,q);else A[q]=y});else{k=k[0];if(!k)return null;k=f(k,q);return k===c?null:k}}},hasProp:function(k,q){var y=a.get(k);return f(y,q)!==c},removeProp:function(k,
q){q=u[q]||q;a.query(k).each(function(y){try{y[q]=c;delete y[q]}catch(x){}})},attr:function(k,q,y,x){if(i.isPlainObject(q)){x=y;for(var z in q)a.attr(k,z,q[z],x)}else if(q=i.trim(q)){q=q.toLowerCase();if(x&&p[q])return a[q](k,y);q=v[q]||q;var A;A=g.test(q)?r:s.test(q)?j:l[q];if(y===c){k=a.get(k);if(!d(k))return null;if(k.nodeName.toLowerCase()=="form")A=j;if(A&&A.get)return A.get(k,q);k=k.getAttribute(q);return k===c?null:k}else i.each(a.query(k),function(B){if(d(B))A&&A.set?A.set(B,y,q):B.setAttribute(q,
""+y)})}},removeAttr:function(k,q){q=q.toLowerCase();q=v[q]||q;i.each(a.query(k),function(y){if(d(y)){var x;y.removeAttribute(q);if(g.test(q)&&(x=u[q]||q)in y)y[x]=false}})},hasAttr:h?function(k,q){q=q.toLowerCase();var y=a.get(k).getAttributeNode(q);return!!(y&&y.specified)}:function(k,q){q=q.toLowerCase();return a.get(k).hasAttribute(q)},val:function(k,q){var y,x;if(q===c){var z=a.get(k);if(z){if((y=m[z.nodeName.toLowerCase()]||m[z.type])&&"get"in y&&(x=y.get(z,"value"))!==c)return x;x=z.value;
return typeof x==="string"?x.replace(t,""):x==null?"":x}return null}a.query(k).each(function(A){if(A.nodeType===1){var B=q;if(B==null)B="";else if(typeof B==="number")B+="";else if(i.isArray(B))B=i.map(B,function(C){return C==null?"":C+""});y=m[A.nodeName.toLowerCase()]||m[A.type];if(!y||!("set"in y)||y.set(A,B,"value")===c)A.value=B}})},text:function(k,q){if(q===c){var y=a.get(k);if(d(y))return y[b]||"";else if(a._nodeTypeIs(y,3))return y.nodeValue;return null}else i.each(a.query(k),function(x){if(d(x))x[b]=
q;else if(a._nodeTypeIs(x,3))x.nodeValue=q})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(i,a,n){function c(b,d,g,o){if(!(d=i.trim(d)))return o?false:n;b=a.query(b);var w=0,s=b.length,t=d.split(f);for(d=[];w<t.length;w++){var v=i.trim(t[w]);v&&d.push(v)}for(w=0;w<s;w++){t=b[w];if(a._isElementNode(t)){t=g(t,d,d.length);if(t!==n)return t}}if(o)return false;return n}var f=/[\.\s]\s*\.?/,h=/[\n\t]/g;i.mix(a,{hasClass:function(b,d){return c(b,d,function(g,o,w){if(g=g.className){g=(" "+g+" ").replace(h," ");for(var s=0,t=true;s<w;s++)if(g.indexOf(" "+o[s]+" ")<
0){t=false;break}if(t)return true}},true)},addClass:function(b,d){c(b,d,function(g,o,w){var s=g.className;if(s){var t=(" "+s+" ").replace(h," ");s=s;for(var v=0;v<w;v++)if(t.indexOf(" "+o[v]+" ")<0)s+=" "+o[v];g.className=i.trim(s)}else g.className=d},n)},removeClass:function(b,d){c(b,d,function(g,o,w){var s=g.className;if(s)if(w){s=(" "+s+" ").replace(h," ");for(var t=0,v;t<w;t++)for(v=" "+o[t]+" ";s.indexOf(v)>=0;)s=s.replace(v," ");g.className=i.trim(s)}else g.className=""},n)},replaceClass:function(b,
d,g){a.removeClass(b,d);a.addClass(b,g)},toggleClass:function(b,d,g){var o=i.isBoolean(g),w;c(b,d,function(s,t,v){for(var p=0,l;p<v;p++){l=t[p];w=o?!g:a.hasClass(s,l);a[w?"removeClass":"addClass"](s,l)}},n)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(i,a,n,c){function f(x,z){if(i.isPlainObject(z))if(s(x))a.attr(x,z,true);else x.nodeType==11&&i.each(x.childNodes,function(A){a.attr(A,z,true)});return x}function h(x,z){var A=null,B,C;if(x&&(x.push||x.item)&&x[0]){z=z||x[0].ownerDocument;A=z.createDocumentFragment();if(x.item)x=i.makeArray(x);B=0;for(C=x.length;B<C;B++)A.appendChild(x[B])}return A}function b(x,z,A,B){if(A){var C=i.guid("ks-tmp-"),D=RegExp(l);z+='<span id="'+C+'"></span>';i.available(C,function(){var F=
a.get("head"),E,G,H,I,K,J;for(D.lastIndex=0;E=D.exec(z);)if((H=(G=E[1])?G.match(r):false)&&H[2]){E=g.createElement("script");E.src=H[2];if((I=G.match(e))&&I[2])E.charset=I[2];E.async=true;F.appendChild(E)}else if((J=E[2])&&J.length>0)i.globalEval(J);(K=g.getElementById(C))&&a.remove(K);i.isFunction(B)&&B()});d(x,z)}else{d(x,z);i.isFunction(B)&&B()}}function d(x,z){z=(z+"").replace(l,"");try{x.innerHTML=z}catch(A){for(;x.firstChild;)x.removeChild(x.firstChild);z&&x.appendChild(a.create(z))}}var g=
document,o=n.ie,w=a._nodeTypeIs,s=a._isElementNode,t=g.createElement("div"),v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,p=/<(\w+)/,l=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,u=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,r=/\ssrc=(['"])(.*?)\1/i,e=/\scharset=(['"])(.*?)\1/i;i.mix(a,{create:function(x,z,A){if(w(x,1)||w(x,3)){z=x;A=z.cloneNode(true);if(n.ie<8)A.innerHTML=z.innerHTML;return A}if(!(x=i.trim(x)))return null;var B=null;B=a._creators;var C,D="div",F;
if(C=u.exec(x))B=(A||g).createElement(C[1]);else{x=x.replace(v,"<$1></$2>");if((C=p.exec(x))&&(F=C[1])&&i.isFunction(B[F=F.toLowerCase()]))D=F;x=B[D](x,A).childNodes;B=x.length===1?x[0].parentNode.removeChild(x[0]):h(x,A||g)}return f(B,z)},_creators:{div:function(x,z){var A=z?z.createElement("div"):t;A.innerHTML="w<div>"+x+"</div>";return A.lastChild}},html:function(x,z,A,B){if(z===c){x=a.get(x);if(s(x))return x.innerHTML;return null}else i.each(a.query(x),function(C){s(C)&&b(C,z,A,B)})},remove:function(x){i.each(a.query(x),
function(z){z.parentNode&&z.parentNode.removeChild(z)})},_nl2frag:h});if(o||n.gecko||n.webkit){var j=a._creators,m=a.create,k=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,q={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in q)(function(x){j[y]=function(z,A){return m("<"+x+">"+z+"</"+x+">",null,A)}})(q[y]);if(o){j.script=function(x,z){var A=z?z.createElement("div"):t;A.innerHTML="-"+x;A.removeChild(A.firstChild);return A};if(o<8)j.tbody=function(x,
z){var A=m("<table>"+x+"</table>",null,z),B=A.children.tags("tbody")[0];A.children.length>1&&B&&!k.test(x)&&B.parentNode.removeChild(B);return A}}i.mix(j,{optgroup:j.option,th:j.td,thead:j.tbody,tfoot:j.tbody,caption:j.tbody,colgroup:j.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(i,a,n){var c=window,f="_ks_data_"+i.now(),h={},b={},d={};d.applet=1;d.object=1;d.embed=1;var g={hasData:function(s,t){if(s)if(t!==n){if(t in s)return true}else if(!i.isEmptyObject(s))return true;return false}},o={hasData:function(s,t){if(s==c)return o.hasData(b,t);return g.hasData(s[f],t)},data:function(s,t,v){if(s==c)return o.data(b,t,v);s=s[f]=s[f]||{};if(v!==n)s[t]=v;else return t!==n?s[t]===n?null:s[t]:s},removeData:function(s,t){if(s==c)return o.removeData(b,t);
var v=s[f];if(v)if(t!==n){delete v[t];i.isEmptyObject(v)&&o.removeData(s,n)}else delete s[f]}},w={hasData:function(s,t){var v=s[f];if(!v)return false;return g.hasData(h[v],t)},data:function(s,t,v){if(!d[s.nodeName.toLowerCase()]){var p=s[f];p||(p=s[f]=i.guid());s=h[p]=h[p]||{};if(v!==n)s[t]=v;else return t!==n?s[t]===n?null:s[t]:s}},removeData:function(s,t){var v=s[f];if(v){var p=h[v];if(p)if(t!==n){delete p[t];i.isEmptyObject(p)&&w.removeData(s,n)}else{delete h[v];try{delete s[f]}catch(l){}s.removeAttribute&&
s.removeAttribute(f)}}}};i.mix(a,{hasData:function(s,t){var v=false;a.query(s).each(function(p){v=p&&p.nodeType?v||w.hasData(p,t):v||o.hasData(p,t)});return v},data:function(s,t,v){if(i.isPlainObject(t))for(var p in t)a.data(s,p,t[p]);else if(v===n)return(s=a.get(s))&&s.nodeType?w.data(s,t,v):o.data(s,t,v);else a.query(s).each(function(l){l&&l.nodeType?w.data(l,t,v):o.data(l,t,v)})},removeData:function(s,t){a.query(s).each(function(v){v&&v.nodeType?w.removeData(v,t):o.removeData(v,t)})}});return a},
{requires:["./base"]});
KISSY.add("dom/insertion",function(i,a){function n(b,d,g){b=a.query(b);d=a.query(d);if(b=c(b)){var o;if(d.length>1)o=b.cloneNode(true);for(var w=0;w<d.length;w++){var s=d[w],t=w>0?o.cloneNode(true):b;g(t,s)}}}var c=a._nl2frag;i.mix(a,{insertBefore:function(b,d){n(b,d,function(g,o){o.parentNode&&o.parentNode.insertBefore(g,o)})},insertAfter:function(b,d){n(b,d,function(g,o){o.parentNode&&o.parentNode.insertBefore(g,o.nextSibling)})},appendTo:function(b,d){n(b,d,function(g,o){o.appendChild(g)})},prependTo:function(b,
d){n(b,d,function(g,o){o.insertBefore(g,o.firstChild)})}});var f={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},h;for(h in f)a[h]=a[f[h]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(i,a,n,c){function f(e){var j=0,m=0,k=g(e[t]);if(e[r]){e=e[r]();j=e[v];m=e[p];if(n.mobile!=="apple"){j+=a[l](k);m+=a[u](k)}}return{left:j,top:m}}var h=window,b=a._isElementNode,d=a._nodeTypeIs,g=a._getWin,o=document.compatMode==="CSS1Compat",w=Math.max,s=parseInt,t="ownerDocument",v="left",p="top",l="scrollLeft",u="scrollTop",r="getBoundingClientRect";i.mix(a,{offset:function(e,j){if(!(e=a.get(e))||!e[t])return null;if(j===c)return f(e);var m=e;if(a.css(m,"position")===
"static")m.style.position="relative";var k=f(m),q={},y,x;for(x in j){y=s(a.css(m,x),10)||0;q[x]=y+j[x]-k[x]}a.css(m,q)},scrollIntoView:function(e,j,m,k){if((e=a.get(e))&&e[t]){k=k===c?true:!!k;m=m===c?true:!!m;if(!j||(j=a.get(j))===h)e.scrollIntoView(m);else{if(d(j,9))j=g(j);var q=!!g(j),y=a.offset(e),x=q?{left:a.scrollLeft(j),top:a.scrollTop(j)}:a.offset(j),z={left:y[v]-x[v],top:y[p]-x[p]};y=q?a.viewportHeight(j):j.clientHeight;q=q?a.viewportWidth(j):j.clientWidth;x=a[l](j);var A=a[u](j),B=x+q,C=
A+y,D=e.offsetHeight;e=e.offsetWidth;var F=z.left+x-(s(a.css(j,"borderLeftWidth"))||0);z=z.top+A-(s(a.css(j,"borderTopWidth"))||0);var E=F+e,G=z+D,H,I;if(D>y||z<A||m)H=z;else if(G>C)H=G-y;if(k)if(e>q||F<x||m)I=F;else if(E>B)I=E-q;a[u](j,H);a[l](j,I)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});i.each(["Left","Top"],function(e,j){var m="scroll"+e;a[m]=function(k,q){if(i.isNumber(k))arguments.callee(h,k);else{k=a.get(k);var y=0,x=g(k);if(x){if(q!==c){y=e=="Left"?q:a.scrollLeft(x);var z=
e=="Top"?q:a.scrollTop(x);x.scrollTo(y,z)}y=x.document;y=x[j?"pageYOffset":"pageXOffset"]||y.documentElement[m]||y.body[m]}else if(b(k=a.get(k)))y=q!==c?k[m]=q:k[m];return q===c?y:c}}});i.each(["Width","Height"],function(e){a["doc"+e]=function(j){j=a.get(j);j=g(j).document;return w(j.documentElement["scroll"+e],j.body["scroll"+e],a["viewport"+e](j))};a["viewport"+e]=function(j){j=a.get(j);var m="inner"+e;j=g(j);var k=j.document;return m in j?j[m]:o?k.documentElement["client"+e]:k.body["client"+e]}});
return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(i,a,n,c){function f(r,e){var j=a.get(r);if(i.isWindow(j))return e==g?a.viewportWidth(j):a.viewportHeight(j);else if(j.nodeType==9)return e==g?a.docWidth(j):a.docHeight(j);var m=e===g?j.offsetWidth:j.offsetHeight;i.each(e===g?["Left","Right"]:["Top","Bottom"],function(k){m-=parseFloat(a._getComputedStyle(j,"padding"+k))||0;m-=parseFloat(a._getComputedStyle(j,"border"+k+"Width"))||0});return m}function h(r,e,j){var m=j;if(j===o&&s.test(e)){m=0;if(i.inArray(a.css(r,"position"),
["absolute","fixed"])){j=r[e==="left"?"offsetLeft":"offsetTop"];if(n.ie===8||n.opera)j-=w(a.css(r.offsetParent,"border-"+e+"-width"))||0;m=j-(w(a.css(r,"margin-"+e))||0)}}return m}var b=document,d=b.documentElement,g="width",o="auto",w=parseInt,s=/^(?:left|top)/,t=/^(?:width|height|top|left|right|bottom|margin|padding)/i,v=/-([a-z])/ig,p=function(r,e){return e.toUpperCase()},l={},u={};i.mix(a,{_CUSTOM_STYLES:l,_getComputedStyle:function(r,e){var j="",m=r.ownerDocument;if(r.style)j=m.defaultView.getComputedStyle(r,
null)[e];return j},css:function(r,e,j){if(i.isPlainObject(e))for(var m in e)a.css(r,m,e[m]);else{if(e.indexOf("-")>0)e=e.replace(v,p);m=e;e=l[e]||e;if(j===c){r=a.get(r);var k="";if(r&&r.style){k=e.get?e.get(r,m):r.style[e];if(k===""&&!e.get)k=h(r,e,a._getComputedStyle(r,e))}return k===c?"":k}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&t.test(e))j+="px";(e===g||e==="height")&&parseFloat(j)<0||i.each(a.query(r),function(q){if(q&&q.style){e.set?e.set(q,j):q.style[e]=j;if(j==="")q.style.cssText||
q.removeAttribute("style")}})}}},width:function(r,e){if(e===c)return f(r,g);else a.css(r,g,e)},height:function(r,e){if(e===c)return f(r,"height");else a.css(r,"height",e)},show:function(r){a.query(r).each(function(e){if(e){e.style.display=a.data(e,"display")||"";if(a.css(e,"display")==="none"){var j=e.tagName,m=u[j],k;if(!m){k=b.createElement(j);b.body.appendChild(k);m=a.css(k,"display");a.remove(k);u[j]=m}a.data(e,"display",m);e.style.display=m}}})},hide:function(r){a.query(r).each(function(e){if(e){var j=
e.style,m=j.display;if(m!=="none"){m&&a.data(e,"display",m);j.display="none"}}})},toggle:function(r){a.query(r).each(function(e){if(e)a.css(e,"display")==="none"?a.show(e):a.hide(e)})},addStyleSheet:function(r,e,j){if(i.isString(r)){j=e;e=r;r=window}r=a.get(r);r=a._getWin(r).document;var m;if(j&&(j=j.replace("#","")))m=a.get("#"+j,r);if(!m){m=a.create("<style>",{id:j},r);a.get("head",r).appendChild(m);if(m.styleSheet)m.styleSheet.cssText=e;else m.appendChild(r.createTextNode(e))}},unselectable:function(r){a.query(r).each(function(e){if(e)if(n.gecko)e.style.MozUserSelect=
"none";else if(n.webkit)e.style.KhtmlUserSelect="none";else if(n.ie||n.opera){var j=0,m=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=m[j++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable","on")}}})}});if(d.style.cssFloat!==c)l["float"]="cssFloat";else if(d.style.styleFloat!==c)l["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(i,a,n){function c(p,l){var u,r,e=[],j;r=i.require("sizzle");l=f(l);if(i.isString(p))if(p.indexOf(",")!=-1){u=p.split(",");i.each(u,function(m){e.push.apply(e,i.makeArray(c(m,l)))})}else{p=i.trim(p);if(s.test(p)){if(r=h(p.slice(1),l))e=[r]}else if(u=t.exec(String(p))){r=u[1];j=u[2];u=u[3];if(l=r?h(r,l):l)if(u)if(!r||p.indexOf(w)!==-1)e=i.makeArray(v(u,j,l));else{if((r=h(r,l))&&a.hasClass(r,u))e=[r]}else if(j)e=b(j,l)}else if(r)e=r(p,l);else d(p)}else if(p&&(i.isArray(p)||
o(p)))e=p;else if(p)e=[p];if(o(e))e=i.makeArray(e);e.each=function(m,k){return i.each(e,m,k)};return e}function f(p){if(p===n)p=g;else if(i.isString(p)&&s.test(p))p=h(p.slice(1),g);else if(i.isArray(p)||o(p))p=p[0]||null;else if(p&&p.nodeType!==1&&p.nodeType!==9)p=null;return p}function h(p,l){if(!l)return null;if(l.nodeType!==9)l=l.ownerDocument;return l.getElementById(p)}function b(p,l){return l.getElementsByTagName(p)}function d(p){i.error("Unsupported selector: "+p)}var g=document,o=a._isNodeList,
w=" ",s=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var p=g.createElement("div");p.appendChild(g.createComment(""));if(p.getElementsByTagName("*").length>0)b=function(l,u){var r=i.makeArray(u.getElementsByTagName(l));if(l==="*"){for(var e=[],j=0,m=0,k;k=r[j++];)if(k.nodeType===1)e[m++]=k;r=e}return r}})();var v=g.getElementsByClassName?function(p,l,u){u=p=i.makeArray(u.getElementsByClassName(p));var r=0,e=0,j=p.length,m;if(l&&l!=="*"){u=[];for(l=l.toUpperCase();r<j;++r){m=
p[r];if(m.tagName===l)u[e++]=m}}return u}:g.querySelectorAll?function(p,l,u){return u.querySelectorAll((l?l:"")+"."+p)}:function(p,l,u){l=u.getElementsByTagName(l||"*");u=[];var r=0,e=0,j=l.length,m,k;for(p=w+p+w;r<j;++r){m=l[r];if((k=m.className)&&(w+k+w).indexOf(p)>-1)u[e++]=m}return u};i.mix(a,{query:c,get:function(p,l){return c(p,l)[0]||null},filter:function(p,l,u){var r=c(p,u),e=i.require("sizzle"),j,m,k,q=[];if(i.isString(l)&&(j=t.exec(l))&&!j[1]){m=j[2];k=j[3];l=function(y){return!(m&&y.tagName.toLowerCase()!==
m.toLowerCase()||k&&!a.hasClass(y,k))}}if(i.isFunction(l))q=i.filter(r,l);else if(l&&e)q=e._filter(p,l,u);else d(l);return q},test:function(p,l,u){p=c(p,u);return p.length&&a.filter(p,l,u).length===p.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(i,a,n,c,f){if(!n.ie)return a;c=document;var h=c.documentElement,b=a._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,g=/^-?\d/,o=/^(?:width|height)$/;try{if(h.style.opacity==f&&h.filters)b.opacity={get:function(v){var p=100;try{p=v.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(l){try{p=v.filters("alpha").opacity}catch(u){if(v=((v.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))p=parseInt(i.trim(v[1]))}}return p/100+""},set:function(v,p){var l=v.style,
u=(v.currentStyle||0).filter||"";l.zoom=1;if(u)u=i.trim(u.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(u&&p!=1)u+=", ";l.filter=u+(p!=1?"alpha(opacity="+p*100+")":"")}}}catch(w){}n=n.ie==8;var s={},t={get:function(v,p){var l=v.currentStyle[p]+"";if(l.indexOf("px")<0)l=s[l]?s[l]:0;return l}};s.thin=n?"1px":"2px";s.medium=n?"3px":"4px";s.thick=n?"5px":"6px";i.each(["","Top","Left","Right","Bottom"],function(v){b["border"+v+"Width"]=t});if(!(c.defaultView||{}).getComputedStyle&&h.currentStyle)a._getComputedStyle=
function(v,p){var l=v.style,u=v.currentStyle[p];if(o.test(p))u=a[p](v)+"px";else if(!d.test(u)&&g.test(u)){var r=l.left,e=v.runtimeStyle.left;v.runtimeStyle.left=v.currentStyle.left;l.left=p==="fontSize"?"1em":u||0;u=l.pixelLeft+"px";l.left=r;v.runtimeStyle.left=e}return u};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(i,a,n){function c(d,g,o,w,s,t){if(!(d=a.get(d)))return null;if(g===0)return d;t||(d=d[o]);if(!d)return null;s=s&&a.get(s)||null;if(g===n)g=1;t=[];var v=i.isArray(g),p,l;if(i.isNumber(g)){p=0;l=g;g=function(){return++p===l}}do if(b(d)&&f(d,g)&&(!w||w(d))){t.push(d);if(!v)break}while(d!=s&&(d=d[o]));return v?t:t[0]||null}function f(d,g){if(!g)return true;if(i.isArray(g))for(var o=0;o<g.length;o++){if(a.test(d,g[o]))return true}else if(a.test(d,g))return true;return false}
function h(d,g,o){var w=[];var s=d=a.get(d);if(d&&o)s=d.parentNode;if(s){o=0;for(s=s.firstChild;s;s=s.nextSibling)if(b(s)&&s!==d&&(!g||a.test(s,g)))w[o++]=s}return w}var b=a._isElementNode;i.mix(a,{closest:function(d,g,o){return c(d,g,"parentNode",function(w){return w.nodeType!=11},o,true)},parent:function(d,g,o){return c(d,g,"parentNode",function(w){return w.nodeType!=11},o)},next:function(d,g){return c(d,g,"nextSibling",n)},prev:function(d,g){return c(d,g,"previousSibling",n)},siblings:function(d,
g){return h(d,g,true)},children:function(d,g){return h(d,g,n)},contains:document.documentElement.contains?function(d,g){d=a.get(d);g=a.get(g);if(d.nodeType==3)return false;var o;if(g.nodeType==3){g=g.parentNode;o=true}else if(g.nodeType==9)return false;else o=d!==g;return o&&(d.contains?d.contains(g):true)}:document.documentElement.compareDocumentPosition?function(d,g){d=a.get(d);g=a.get(g);return!!(d.compareDocumentPosition(g)&16)}:0,equals:function(d,g){d=a.query(d);g=a.query(g);if(d.length!=g.length)return false;
for(var o=d.length;o>=0;o--)if(d[o]!=g[o])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(i,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(i,a){function n(h,b,d){this.currentTarget=h;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=d;this.target=h}this.currentTarget=h;this.fixed=true}var c=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
i.augment(n,{_fix:function(){var h=this.originalEvent,b=f.length,d,g=this.currentTarget;for(g=g.nodeType===9?g:g.ownerDocument||c;b;){d=f[--b];this[d]=h[d]}if(!this.target)this.target=this.srcElement||c;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){h=g.documentElement;b=g.body;this.pageX=this.clientX+(h&&h.scrollLeft||b&&b.scrollLeft||
0)-(h&&h.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(h&&h.scrollTop||b&&b.scrollTop||0)-(h&&h.clientTop||b&&b.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=
this.originalEvent;if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return n});
KISSY.add("event/base",function(i,a,n,c){function f(l,u,r){if((r=i.trim(r))&&r.indexOf(w)>0){var e=i.makeArray(arguments);i.each(r.split(w),function(j){var m=i.clone(e);m.splice(0,3,u,j);p[l].apply(p,m)});return true}return c}function h(l){return l&&l.nodeType!==3&&l.nodeType!==8}function b(l,u,r,e,j){var m=p.special[u]||{};if(!e.length&&(!m.setup||m.setup.call(l)===false))g(l,u,r);m.add&&m.add.call(l,j)}var d=document,g=d.addEventListener?function(l,u,r,e){l.addEventListener&&l.addEventListener(u,
r,!!e)}:function(l,u,r){l.attachEvent&&l.attachEvent("on"+u,r)},o=d.removeEventListener?function(l,u,r,e){l.removeEventListener&&l.removeEventListener(u,r,!!e)}:function(l,u,r){l.detachEvent&&l.detachEvent("on"+u,r)},w=" ",s="",t="trigger-none-"+i.now(),v="ksEventTargetId"+i.now(),p={_data:function(){var l=i.makeArray(arguments);l.splice(1,0,v);return a.data.apply(a,l)},_removeData:function(){var l=i.makeArray(arguments);l.splice(1,0,v);return a.removeData.apply(a,l)},special:{},add:function(l,u,
r,e,j){if(f("add",l,u,r,e,j))return l;a.query(l).each(function(m){var k=!m.isCustomEventTarget,q;if(!(!m||!u||!i.isFunction(r)||k&&!h(m))){(q=p._data(m))||p._data(m,q={});var y=q.events=q.events||{};y=y[u]=y[u]||[];var x={fn:r,scope:e||m,data:j},z=q.handler;if(!z){z=q.handler=function(A,B){if(!(A&&A.type==s)){var C=z.target;if(!A||!A.fixed)A=new n(C,A);i.isPlainObject(B)&&i.mix(A,B);return p._handle(C,A)}};z.target=m}if(k){b(m,u,z,y,x);m=null}y.push(x)}});return l},__getListeners:function(l,u){return(p.__getEvents(l)||
{})[u]||[]},__getEvents:function(l){return(l=p._data(l))&&l.events},remove:function(l,u,r,e,j){if(f("remove",l,u,r,e))return l;a.query(l).each(function(m){var k=p._data(m),q=k&&k.events,y,x,z,A,B,C=!m.isCustomEventTarget,D=C&&p.special[u]||{};if(!(!m||!C&&!h(m)||!q))if(u===c)for(u in q)p.remove(m,u);else{e=e||m;if(y=q[u]){x=y.length;if(i.isFunction(r)&&x){A=z=0;for(B=[];z<x;++z){var F=false,E=y[z];if(r!==E.fn||e!==E.scope){B[A++]=E;F=true}else if(j!==G){var G=E.data;if(!j&&G||G&&!j){B[A++]=E;F=true}else if(j&&
G)if(!j.equals||!G.equals)i.error("no equals in data");else if(!G.equals(j)){B[A++]=E;F=true}}!F&&D.remove&&D.remove.call(m,E)}q[u]=B;x=B.length}if(r===c||x===0){if(C&&(!D.tearDown||D.tearDown.call(m)===false))o(m,u,k.handler);delete q[u]}}if(i.isEmptyObject(q)){k.handler.target=null;delete k.handler;delete k.events;p._removeData(m)}}});return l},_handle:function(l,u){for(var r=p.__getListeners(l,u.type).slice(0),e,j,m=0,k=r.length;m<k;++m){e=r[m];e=e.fn.call(e.scope,u,e.data);if(e!==c){if(j!==false)j=
e;e===false&&u.halt()}if(u.isImmediatePropagationStopped)break}return j},fire:function(l,u,r){if(!f("fire",l,u,r)){var e;a.query(l).each(function(j){var m=!j.isCustomEventTarget;r=r||{};r.type=u;if(m){m=r;var k;if(h(j)){m=new n(j,m);var q=m.target=j,y="on"+u;do{var x=(p._data(q)||{}).handler;m.currentTarget=q;x&&x.call(q,m);if(q[y]&&q[y].call(q)===false){k=false;m.preventDefault()}q=q.parentNode||q.ownerDocument||q===j.ownerDocument&&window}while(q&&!m.isPropagationStopped);if(!m.isDefaultPrevented)if(!(u===
"click"&&j.nodeName.toLowerCase()=="a")){var z;try{if(y&&j[u]){if(z=j[y])j[y]=null;s=u;j[u]()}}catch(A){}if(z)j[y]=z;s=t}}j=k;if(j!==c)e=j}else if((j=p._data(j))&&i.isFunction(j.handler))e=j.handler(c,r)});return e}},_batchForType:f,_simpleAdd:g,_simpleRemove:o};p.on=p.add;p.detach=p.remove;return p},{requires:["dom","event/object"]});
KISSY.add("event/target",function(i,a){return{isCustomEventTarget:true,fire:function(n,c){return a.fire(this,n,c)},on:function(n,c,f){a.add(this,n,c,f);return this},detach:function(n,c,f){a.remove(this,n,c,f);return this}}},{requires:["./base","dom"]});
KISSY.add("event/focusin",function(i,a,n){a.ie||i.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function f(b){return n.fire(b.target,c.name)}var h=0;n.special[c.name]={setup:function(){h++===0&&document.addEventListener(c.fix,f,true)},tearDown:function(){--h===0&&document.removeEventListener(c.fix,f,true)}}});return n},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(i,a,n,c){c=document.documentMode||c.ie;if(!("onhashchange"in window)||c<8){var f,h=[],b=s();a.special.hashchange={setup:function(){-1===i.indexOf(this,h)&&h.push(this);f||d()},tearDown:function(){var t=i.indexOf(this,h);t>=0&&h.splice(t,1);if(h.length===0){f&&clearTimeout(f);f=null}}};var d=function(){g()},g=function(){var t=s();if(t!==b){o(t);b=t}f=setTimeout(g,50)},o=function(t){w(t)},w=function(){for(var t=0;t<h.length;t++)a._handle(h[t],{type:"hashchange"})},
s=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")};c<8&&function(){var t;d=function(){if(!t){t=n.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');n.prepend(t,document.documentElement);a.add(t,"load",function(){a.remove(t,"load");o(s());a.add(t,"load",v);g()});var v=function(){var p=i.trim(t.contentWindow.document.body.innerHTML),l=s();if(p!=l)b=location.hash=p;w(p)}}};o=function(v){v="<html><body>"+v+"</body></html>";var p=t.contentWindow.document;
try{p.open();p.write(v);p.close();return true}catch(l){return false}}}()}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(i,a,n){function c(p){var l=n.data(p,w);if(!l){l=+new Date;n.data(p,w,l)}return l}function f(p){p=c(p);delete s[p];if(t[p]){clearTimeout(t[p]);delete t[p]}}function h(p){f(p.target)}function b(p){var l=c(p);t[l]||(t[l]=setTimeout(function(){var u=p.value;if(u!==s[l]){a._handle(p,{type:o,prevVal:s[l],newVal:u});s[l]=u}t[l]=setTimeout(arguments.callee,v)},v))}function d(p){var l=p.target;if(p.type=="focus"){p=c(l);s[p]=l.value}b(l)}function g(p){f(p);a.remove(p,
"blur",h);a.remove(p,"mousedown keyup keydown focus",d);n.removeData(p,w)}var o="valueChange",w="event/valuechange",s={},t={},v=50;a.special[o]={fix:false,setup:function(){var p=this.nodeName.toLowerCase();if("input"==p||"textarea"==p){g(this);a.on(this,"blur",h);a.on(this,"mousedown keyup keydown focus",d)}},tearDown:function(){g(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(i,a,n){function c(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function f(d,g){var o,w=a.closest(d.target,[g.selector],this);if(w)for(var s=0;s<w.length;s++){d.currentTarget=w[s];var t=g.fn.call(g.scope||this,d);if(t===false||d.isPropagationStopped||d.isImmediatePropagationStopped){if(t===false)o=t;if(d.isPropagationStopped||d.isImmediatePropagationStopped)break}}return o}
var h=n._batchForType,b={focus:"focusin",blur:"focusout"};i.mix(n,{delegate:function(d,g,o,w,s){if(h("delegate",d,g,o,w,s))return d;a.query(d).each(function(t){if(!t.isCustomEventTarget){g=b[g]||g;n.on(t,g,f,t,{fn:w,selector:o,scope:s,equals:c})}});return d},undelegate:function(d,g,o,w,s){if(h("undelegate",d,g,o,w,s))return d;a.query(d).each(function(t){if(!t.isCustomEventTarget){g=b[g]||g;n.remove(t,g,f,t,{fn:w,selector:o,scope:s,equals:c})}})}});return n},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(i,a,n,c){c.ie||i.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(f){function h(b){var d=this,g=b.relatedTarget;b.type=f.name;try{if(!(g&&g!==document&&!g.parentNode)){g=n.closest(g,function(w){return w==d});g!==d&&a._handle(d,b)}}catch(o){}}a.special[f.name]={setup:function(){a.add(this,f.fix,h)},tearDown:function(){a.remove(this,f.fix,h)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(i,a,n,c){a.Target=n;a.Object=c;return a},{requires:["event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(i,a,n){function c(b,d,g){if(!(this instanceof c))return new c(b,d,g);if(b)if(i.isString(b)){b=a.create(b,d,g);if(b.nodeType===11){f.push.apply(this,i.makeArray(b.childNodes));return n}}else if(i.isArray(b)||h(b)){f.push.apply(this,i.makeArray(b));return n}else b=b;else return n;this[0]=b;this.length=1;return n}var f=Array.prototype,h=a._isNodeList;i.augment(c,{length:0,item:function(b){if(i.isNumber(b)){if(b>=this.length)return null;return new c(this[b],n,n)}else return new c(b,
n,n)},add:function(b,d,g){if(i.isNumber(d)){g=d;d=n}b=i.makeArray(c.all(b,d));d=new c(this,n,n);if(g===n)f.push.apply(d,b);else{g=[g,0];g.push.apply(g,b);f.splice.apply(d,g)}return d},slice:function(b,d){return new c(f.slice.call(this,b,d),n,n)},getDOMNodes:function(){return f.slice.call(this)},each:function(b,d){var g=this.length,o=0,w;for(w=new c(this[0],n,n);o<g&&b.call(d||w,w,o,this)!==false;w=new c(this[++o],n,n));return this},getDOMNode:function(){return this[0]},all:function(b){if(this.length>
0)return c.all(b,this[0]);return new c(n,n,n)}});c.prototype.one=function(b){b=this.all(b);return b.length?b:null};c.all=function(b,d){if(i.isString(b)&&(b=i.trim(b))&&b.length>=3&&i.startsWith(b,"<")&&i.endsWith(b,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new c(b,n,d)}return new c(a.query(b,d),n,n)};c.one=function(b,d){var g=c.all(b,d);return g.length?g:null};return c},{requires:["dom"]});
KISSY.add("node/attach",function(i,a,n,c,f){var h=c.prototype,b=a._isNodeList;c.addMethod=function(d,g,o,w){h[d]=function(){var s=i.makeArray(arguments);s.unshift(this);s=g.apply(o||this,s);if(s===f)s=this;else if(s===null)s=null;else if(w&&(s.nodeType||b(s)||i.isArray(s)))s=new c(s);return s}};i.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","append","appendTo","prepend","prependTo","insertBefore","before","after","insertAfter","filter","test","hasClass","addClass",
"removeClass","replaceClass","toggleClass","removeAttr","attr","hasAttr","prop","hasProp","val","text","css","toggle","offset","scrollIntoView","parent","closest","next","prev","siblings","children","html","remove","removeData","hasData","unselectable"],function(d){c.addMethod(d,a[d],a,true)});c.addMethod("data",a.data,a);i.each(["on","detach","fire","delegate","undelegate"],function(d){h[d]=function(){var g=i.makeArray(arguments);g.unshift(this);return n[d].apply(n,g)}})},{requires:["dom","event",
"./base"]});KISSY.add("node/override",function(i,a,n,c){i.each(["append","prepend","before","after"],function(f){c.addMethod(f,function(h,b){var d=b;if(i.isString(d))d=a.create(d);a[f](d,h)},undefined,true)})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var i=Math,a=i.PI,n=i.pow,c=i.sin,f=1.70158,h={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(n(2,10*(b-=1))*c((b-0.075)*2*a/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return n(2,-10*b)*c((b-0.075)*2*a/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*n(2,10*(b-=1))*c((b-0.1125)*2*a/0.45);return n(2,-10*(b-=1))*c((b-0.1125)*2*a/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((f+1)*b-f)},backOut:function(b){return(b-=1)*b*((f+1)*b+f)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((f*=1.525)+1)*b-f);return 0.5*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)},bounceIn:function(b){return 1-h.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return h.bounceIn(b*2)*0.5;return h.bounceOut(b*2-1)*0.5+0.5}};h.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return h});
KISSY.add("anim/manager",function(i){function a(c){c[n]=c[n]||i.guid("anim-");return c[n]}var n=i.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(c){var f=a(c);if(!this.runnings[f]){this.runnings[f]=c;this.startTimer()}},stop:function(c){this.notRun(c)},notRun:function(c){delete this.runnings[a(c)];i.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(c){this.notRun(c)},resume:function(c){this.start(c)},startTimer:function(){var c=this;if(!c.timer)c.timer=setTimeout(function(){if(c.runFrames())c.stopTimer();
else{c.timer=null;c.startTimer()}},c.interval)},stopTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},runFrames:function(){var c=true,f=this.runnings,h;for(h in f)if(f.hasOwnProperty(h)){c=false;f[h]._runFrame()}return c}}});
KISSY.add("anim/base",function(i,a,n,c,f,h,b){function d(e,j,m,k,q,y){if(e=a.get(e)){if(!(this instanceof d))return new d(e,j,m,k,q,y);var x=i.isPlainObject(m);j=j;this.domEl=e;if(i.isPlainObject(j))j=String(i.param(j,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var z=j,A=e;e={};var B=s.length,C=A.cloneNode(true);a.insertAfter(C,A);A=C.style;for(o(C,z);B--;){var D=s[B];if(A[D])e[D]=(u[D]||u["*"]).getter(C,D)}z=w(z);for(var F in z)e[F]=(u[F]||u["*"]).getter(C,
F);a.remove(C);this.props=e;this.targetStyle=j;if(x)x=i.merge(p,m);else{x=i.clone(p);if(m)x.duration=parseFloat(m)||1;if(i.isString(k)||i.isFunction(k))x.easing=k;if(i.isFunction(q))x.complete=q;if(y!==b)x.nativeSupport=y}if(!i.isEmptyObject(w(j)))x.nativeSupport=false;this.config=x;if(x.nativeSupport&&r()&&i.isString(k=x.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(k)||(k=c.NativeTimeFunction[k])){x.easing=k;this.transitionName=r()}if(i.isFunction(q))this.callback=q}}function g(e,j){return j}function o(e,
j){if(f.ie&&j.indexOf(v)>-1){var m=j.match(/opacity\s*:\s*([^;]+)(;|$)/);m&&a.css(e,v,parseFloat(m[1]))}e.style.cssText+=";"+j;m=w(j);for(var k in m)e[k]=m[k]}function w(e){for(var j={},m=0;m<t.length;m++){var k=t[m].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(k=e.match(RegExp(k+"\\s*:([^;]+)(;|$)")))j[t[m]]=i.trim(k[1])}return j}var s,t,v,p,l;n=n.Target;s="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
t=[];v="opacity";p={duration:1,easing:"easeNone",nativeSupport:true};d.PROPS=s;d.CUSTOM_ATTRS=t;d.PROP_OPS={"*":{getter:function(e,j){var m=a.css(e,j),k=parseFloat(m);m=(m+"").replace(/^[-\d.]+/,"");if(isNaN(k))return{v:m,u:"",f:g};return{v:k,u:m,f:this.interpolate}},setter:function(e,j,m){return a.css(e,j,m)},interpolate:function(e,j,m){return(e+(j-e)*m).toFixed(3)},eq:function(e,j){return e.v==j.v&&e.u==j.u}}};var u=d.PROP_OPS;i.augment(d,n,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var e=this.config,j=this.domEl,m,k=this.props,q={},y;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=m=e.duration*1E3;if(this.transitionName)this._nativeRun();else{for(y in k)q[y]=(u[y]||u["*"]).getter(j,y);this.source=q;j=i.now();m=j+m;e=e.easing;if(i.isString(e))e=c[e]||c.easeNone;this.start=j;this.finish=m;this.easing=e;h.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var e=
this.domEl,j=this.finish,m=this.start,k=this.duration,q=i.now(),y=this.source,x=this.easing,z=this.props,A;m=q-m;k=q>j?1:m/k;var B,C;this.elapsedTime=m;for(A in z){m=y[A];B=z[A];var D;D=B;var F=m,E=u[A];D=E&&E.eq?E.eq(D,F):u["*"].eq(D,F);if(!D){if(B.v==0)B.u=m.u;if(m.u!==B.u){m.v=0;m.u=B.u}D=B.f(m.v,B.v,x(k))+B.u;(u[A]||u["*"]).setter(e,A,D);if(B.f==g){m.v=B.v;m.u=B.u}}}if(this.fire("step")===false||(C=q>j)){this.stop();C&&this._complete()}},_nativeRun:function(){var e=this,j=e.domEl,m=e.duration,
k=e.config.easing,q=e.transitionName,y={};y[q+"Property"]="all";y[q+"Duration"]=m+"ms";y[q+"TimingFunction"]=k;a.css(j,y);i.later(function(){o(j,e.targetStyle)},0);i.later(function(){e.stop(true)},m)},stop:function(e){if(this.isRunning){if(this.transitionName)this._nativeStop(e);else{if(e){o(this.domEl,this.targetStyle);this._complete()}h.stop(this)}this.isRunning=false;return this}},_nativeStop:function(e){var j=this.domEl,m=this.transitionName,k=this.props,q;if(e){a.css(j,m+"Property","none");this._complete()}else{for(q in k)a.css(j,
q,a._getComputedStyle(j,q));a.css(j,m+"Property","none")}}});d.supportTransition=function(){if(l)return l;var e="transition",j,m=document.documentElement;if(m.style[e]!==b)j=e;else i.each(["Webkit","Moz","O"],function(k){if(m.style[e=k+"Transition"]!==b){j=e;return false}});return l=j};var r=d.supportTransition;return d},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/color",function(i,a,n){function c(o){o=o.toLowerCase();var w;if(w=o.match(h))return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])];else if(w=o.match(b)){for(o=1;o<w.length;o++)if(w[o].length<2)w[o]+=w[o];return[parseInt(w[1],16),parseInt(w[2],16),parseInt(w[3],16)]}if(f[o])return f[o];return[255,255,255]}var f={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},h=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),g=n.PROP_OPS;n=n.PROPS;n.push.apply(n,d);g.color={getter:function(o,w){return{v:c(a.css(o,w)),u:"",f:this.interpolate}},setter:g["*"].setter,interpolate:function(o,w,s){var t=
g["*"].interpolate;return"rgb("+[Math.floor(t(o[0],w[0],s)),Math.floor(t(o[1],w[1],s)),Math.floor(t(o[2],w[2],s))].join(", ")+")"},eq:function(o,w){return o.v+""==w.v+""}};i.each(d,function(o){g[o]=g.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(i,a,n){var c=n.PROP_OPS;n.CUSTOM_ATTRS.push("scrollLeft","scrollTop");c.scrollLeft=c.scrollTop={getter:function(f,h){return{v:f[h],u:"",f:c["*"].interpolate}},setter:function(f,h,b){f[h]=b}}},{requires:["dom","./base"]});
KISSY.add("anim",function(i,a,n){a.Easing=n;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(i,a,n,c,f){function h(l,u,r,e,j,m,k){if(u==="toggle"){j=a.css(l,d)===g?1:0;u="show"}if(j)a.css(l,d,a.data(l,d)||"");var q={},y={};i.each(p[u],function(x){if(x===o){q[o]=a.css(l,o);a.css(l,o,w)}else if(x===s){q[s]=a.css(l,s);y.opacity=j?1:0;j&&a.css(l,s,0)}else if(x===t){q[t]=a.css(l,t);y.height=j?a.css(l,t)||l.naturalHeight:0;j&&a.css(l,t,0)}else if(x===v){q[v]=a.css(l,v);y.width=j?a.css(l,v)||l.naturalWidth:0;j&&a.css(l,v,0)}});return(new n(l,y,r,m||"easeOut",
function(){if(!j){var x=l.style,z=x[d];if(z!==g){z&&a.data(l,d,z);x[d]=g}q[t]&&a.css(l,{height:q[t]});q[v]&&a.css(l,{width:q[v]});q[s]&&a.css(l,{opacity:q[s]});q[o]&&a.css(l,{overflow:q[o]})}e&&i.isFunction(e)&&e()},k)).run()}c=c.prototype;var b="ksAnims"+i.now(),d="display",g="none",o="overflow",w="hidden",s="opacity",t="height",v="width",p={show:[o,s,t,v],fade:[s],slide:[o,t]};(function(l){function u(r,e){var j=a.data(r,b);j||a.data(r,b,j=[]);e.on("complete",function(){var m=a.data(r,b);if(m){var k=
i.indexOf(e,m);k>=0&&m.splice(k,1);m.length||a.removeData(r,b)}});j.push(e)}l.animate=function(){var r=i.makeArray(arguments);i.each(this,function(e){var j=n.apply(f,[e].concat(r)).run();u(e,j)});return this};l.stop=function(r){i.each(this,function(e){var j=a.data(e,b);if(j){i.each(j,function(m){m.stop(r)});a.removeData(e,b)}})};i.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(r,e){l[e]=function(j,m,
k,q){a[e]&&arguments.length===0?a[e](this):i.each(this,function(y){var x=h(y,r[0],j,m,r[1],k,q);u(y,x)});return this}})})(c)},{requires:["dom","anim","./base"]});KISSY.add("node",function(i,a){return a},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(i,a){function n(v){return v<10?"0"+v:v}function c(v){g.lastIndex=0;return g.test(v)?'"'+v.replace(g,function(p){var l=s[p];return typeof l==="string"?l:"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function f(v,p){var l,u,r,e,j=o,m,k=p[v];if(k&&typeof k==="object"&&typeof k.toJSON==="function")k=k.toJSON(v);if(typeof t==="function")k=t.call(p,v,k);switch(typeof k){case "string":return c(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);
case "object":if(!k)return"null";o+=w;m=[];if(Object.prototype.toString.apply(k)==="[object Array]"){e=k.length;for(l=0;l<e;l+=1)m[l]=f(l,k)||"null";r=m.length===0?"[]":o?"[\n"+o+m.join(",\n"+o)+"\n"+j+"]":"["+m.join(",")+"]";o=j;return r}if(t&&typeof t==="object"){e=t.length;for(l=0;l<e;l+=1){u=t[l];if(typeof u==="string")if(r=f(u,k))m.push(c(u)+(o?": ":":")+r)}}else for(u in k)if(Object.hasOwnProperty.call(k,u))if(r=f(u,k))m.push(c(u)+(o?": ":":")+r);r=m.length===0?"{}":o?"{\n"+o+m.join(",\n"+o)+
"\n"+j+"}":"{"+m.join(",")+"}";o=j;return r}}var h=window,b=h.JSON;if(!b||a.ie<9)b=h.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,w,s={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof b.stringify!=="function")b.stringify=function(v,p,l){var u;w=o="";if(typeof l==="number")for(u=0;u<l;u+=1)w+=" ";else if(typeof l==="string")w=l;if((t=p)&&typeof p!=="function"&&(typeof p!=="object"||typeof p.length!=="number"))throw Error("JSON.stringify");return f("",{"":v})};if(typeof b.parse!==
"function")b.parse=function(v,p){function l(r,e){var j,m,k=r[e];if(k&&typeof k==="object")for(j in k)if(Object.hasOwnProperty.call(k,j)){m=l(k,j);if(m!==undefined)k[j]=m;else delete k[j]}return p.call(r,e,k)}var u;v=String(v);d.lastIndex=0;if(d.test(v))v=v.replace(d,function(r){return"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(v.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){u=eval("("+v+")");return typeof p==="function"?l({"":u},""):u}throw new SyntaxError("JSON.parse");};return b},{requires:["ua"]});KISSY.add("json",function(i,a){return{parse:function(n){if(n==null||n==="")return null;return a.parse(n)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(i,a){function n(h){var b=h.responseText,d=h.responseXML,g=h.config,o=g.converters,w=h.converters||{},s,t,v=g.contents,p=g.dataType;if(b||d){for(g=h.mimeType||h.getResponseHeader("Content-Type");p[0]=="*";)p.shift();if(!p.length)for(s in v)if(v[s].test(g)){p[0]!=s&&p.unshift(s);break}p[0]=p[0]||"text";if(p[0]=="text"&&b!=undefined)t=b;else if(p[0]=="xml"&&d!=undefined)t=d;else i.each(["text","xml"],function(u){var r=p[0];if(w[u]&&w[u][r]||o[u]&&o[u][r]){p.unshift(u);
t=u=="text"?b:d;return false}})}v=p[0];for(g=1;g<p.length;g++){s=p[g];var l=w[v]&&w[v][s]||o[v]&&o[v][s];if(!l)throw"no covert for "+v+" => "+s;t=l(t);v=s}h.responseData=t}function c(h){i.mix(this,{responseData:null,config:h||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var f=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;i.augment(c,a.Target,{setRequestHeader:function(h,b){this.requestHeaders[h]=
b;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(h){var b;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};b=f.exec(this.responseHeadersString);)this.responseHeaders[b[1]]=b[2];b=this.responseHeaders[h]}return b===undefined?null:b},overrideMimeType:function(h){if(!this.state)this.mimeType=h;return this},abort:function(h){h=h||"abort";this.transport&&this.transport.abort(h);this.callback(0,h);return this},
callback:function(h,b){if(this.state!=2){this.state=2;this.readyState=4;var d;if(h>=200&&h<300||h==304)if(h==304){b="notmodified";d=true}else try{n(this);b="success";d=true}catch(g){b="parsererror : "+g}else if(h<0)h=0;this.status=h;this.statusText=b;d?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return c},{requires:["event"]});
KISSY.add("ajax/base",function(i,a,n,c){function f(r){r=r||{};i.mix(r,u,false);if(r.crossDomain==null){var e=o.exec(r.url.toLowerCase());r.crossDomain=!!(e&&(e[1]!=v[1]||e[2]!=v[2]||(e[3]||(e[1]==="http:"?80:443))!=(v[3]||(v[1]==="http:"?80:443))))}if(r.data&&!i.isString(r.data))r.data=i.param(r.data);r.type=r.type.toUpperCase();r.hasContent=!s.test(r.type);if(!r.hasContent){if(r.data)r.url+=(/\?/.test(r.url)?"&":"?")+r.data;if(r.cache===false)r.url+=(/\?/.test(r.url)?"&":"?")+"_ksTS="+(i.now()+"_"+
i.guid())}r.dataType=i.trim(r.dataType||"*").split(g);r.context=r.context||r;return r}function h(r,e){d.fire(r,{ajaxConfig:e.config,xhr:e})}function b(r){var e=this.config;r=r.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);e[r]&&e[r].call(e.context,this.responseData,this.statusText,this);h(r,this)}function d(r){if(r.url){r=f(r);var e=new c(r);h("start",e);var j=new (l[r.dataType[0]]||l["*"])(e);e.transport=j;r.contentType&&e.setRequestHeader("Content-Type",r.contentType);var m=r.dataType[0],
k=r.accepts;e.setRequestHeader("Accept",m&&k[m]?k[m]+(m!=="*"?", */*; q=0.01":""):k["*"]);for(var q in r.headers)e.setRequestHeader(q,r.headers[q]);e.on("complete success error",b);e.readyState=1;h("send",e);if(r.async&&r.timeout>0)e.timeoutTimer=setTimeout(function(){e.abort("timeout")},r.timeout);try{e.state=1;j.send()}catch(y){e.status<2?e.callback(-1,y):i.error(y)}return e}}var g=/\s+/,o=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,w=function(r){return r},s=/^(?:GET|HEAD)$/,t,v;try{t=location.href}catch(p){t=
document.createElement("a");t.href="";t=t.href}v=o.exec(t);t=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(v[1]);var l={},u={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,html:w,text:w,xml:i.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};u.converters.html=u.converters.text;d.__transports=
l;d.__defaultConfig=u;i.mix(d,n.Target);d.isLocal=t;return d},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(i,a){function n(){try{return new window.XMLHttpRequest}catch(b){}}var c=a.__transports;a.xhr=window.ActiveXObject?function(b){var d;if(a.isLocal&&!b)a:{try{d=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(g){}d=void 0}return d||n()}:n;var f=a.xhr(),h=false;if(f){if("withCredentials"in f)h=true;f=function(b){this.xhrObj=b};i.augment(f,{send:function(){var b=this,d=b.xhrObj,g=d.config;if(g.crossDomain&&!h)i.error("do not allow crossdomain xhr !");else{var o=
a.xhr(),w,s;b.xhr=o;g.username?o.open(g.type,g.url,g.async,g.username,g.password):o.open(g.type,g.url,g.async);if(w=g.xhrFields)for(s in w)o[s]=w[s];d.mimeType&&o.overrideMimeType&&o.overrideMimeType(d.mimeType);if(!g.crossDomain&&!d.requestHeaders["X-Requested-With"])d.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(s in d.requestHeaders)o.setRequestHeader(s,d.requestHeaders[s])}catch(t){}o.send(g.hasContent&&g.data||null);if(!g.async||o.readyState==4)b._callback();else o.onreadystatechange=
function(){b._callback()}}},abort:function(){this._callback(0,1)},_callback:function(b,d){try{var g=this.xhr,o=this.xhrObj,w=o.config;if(d||g.readyState==4){g.onreadystatechange=i.noop;if(d)g.readyState!==4&&g.abort();else{var s=g.status;o.responseHeadersString=g.getAllResponseHeaders();var t=g.responseXML;if(t&&t.documentElement)o.responseXML=t;o.responseText=g.responseText;try{var v=g.statusText}catch(p){v=""}if(!s&&a.isLocal&&!w.crossDomain)s=o.responseText?200:404;else if(s===1223)s=204;o.callback(s,
v)}}}catch(l){g.onreadystatechange=i.noop;d||o.callback(-1,l)}}});c["*"]=f;return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(i,a){function n(h){if(!h.config.crossDomain&&!h.config.forceScript)return new c["*"](h);this.xhrObj=h;return 0}var c=a.__transports,f=a.__defaultConfig;f.accepts.script="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript";f.contents.script=/javascript|ecmascript/;f.converters.text.script=function(h){i.globalEval(h);return h};i.augment(n,{send:function(){var h=this,b,d=this.xhrObj.config,g=document.head||document.getElementsByTagName("head")[0]||
document.documentElement;h.head=g;b=document.createElement("script");h.script=b;b.async="async";if(d.scriptCharset)b.charset=d.scriptCharset;b.src=d.url;b.onerror=b.onload=b.onreadystatechange=function(o){o=o||window.event;h._callback((o.type||"error").toLowerCase())};g.insertBefore(b,g.firstChild)},_callback:function(h,b){var d=this.script,g=this.xhrObj,o=this.head;if(b||!d.readyState||/loaded|complete/.test(d.readyState)||h=="error"){d.onerror=d.onload=d.onreadystatechange=null;o&&d.parentNode&&
o.removeChild(d);this.head=this.script=undefined;if(!b&&h!="error")g.callback(200,"success");else h=="error"&&g.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});c.script=n;return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(i,a){var n=a.__defaultConfig;n.jsonp="callback";n.jsonpCallback=function(){return i.guid("jsonp")};a.on("start",function(c){c=c.xhr;var f=c.config;if(f.dataType[0]=="jsonp"){var h,b=f.jsonpCallback,d=i.isFunction(b)?b():b,g=window[d];f.url+=(/\?/.test(f.url)?"&":"?")+f.jsonp+"="+d;window[d]=function(o){h=[o]};c.on("complete",function(){window[d]=g;if(g===undefined)try{delete window[d]}catch(o){}else h&&g(h[0])});c.converters=c.converters||{};c.converters.script=c.converters.script||
{};c.converters.script.json=function(){h||i.error(" not call jsonpCallback : "+d);return h[0]};f.dataType.length=2;f.dataType[0]="script";f.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(i,a){var n=encodeURIComponent;return{serialize:function(c){c=a.get(c);var f=[];i.each(c.elements,function(h){h.disabled||f.push(n(h.name)+"="+n(a.val(h)))});return f.join("&")}}},{requires:["dom"]});
KISSY.add("ajax/form",function(i,a,n,c){a.on("start",function(f){f=f.xhr.config;if(f.form){var h=n.get(f.form);if((h.encoding||h.enctype).toLowerCase()!="multipart/form-data"){if(h=c.serialize(h))if(f.hasContent){f.data=f.data||"";if(f.data)f.data+="&";f.data+=h}else f.url+=(/\?/.test(f.url)?"&":"?")+h}else{h=f.dataType[0];if(h=="*")h="text";f.dataType.length=2;f.dataType[0]="iframe";f.dataType[1]=h}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(i,a,n,c){function f(g){this.xhr=g}var h=c.__transports,b=document,d=c.__defaultConfig;d.converters.text.iframe=function(g){return g};d.converters.iframe=d.converters.text;i.augment(f,{send:function(){var g=this.xhr,o=g.config,w,s=a.get(o.form);this.attrs={target:a.attr(s,"target")||"",action:a.attr(s,"action")||""};this.form=s;var t=i.guid("ajax-iframe");g.iframe=a.create("<iframe  id='"+t+"' name='"+t+"' style='position:absolute;left:-9999px;top:-9999px;'/>");
g.iframeId=t;a.prepend(g.iframe,b.body||b.documentElement);a.attr(s,{target:g.iframeId,action:o.url});if(o.data){o=o.data;o=i.unparam(o);w=[];for(var v in o){t=b.createElement("input");t.type="hidden";t.name=v;t.value=o[v];a.append(t,s);w.push(t)}w=w}this.fields=w;n.on(g.iframe,"load error",this._callback,this);s.submit()},_callback:function(g){var o=this.xhr,w=g.type;g=o.iframe;a.attr(this.form,this.attrs);if(w=="load"){w=g.contentWindow.document;o.responseXML=w;o.responseText=a.text(w.body);o.callback(200,
"success")}else w=="error"&&o.callback(500,"error");a.remove(this.fields);n.detach(g);a.remove(g);o.iframe=null},abort:function(){this._callback(0,1)}});h.iframe=f;return c},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(i,a){i.mix(a,{get:function(n,c,f,h,b){if(i.isFunction(c)){h=f;f=c}return a({type:b||"get",url:n,data:c,success:f,dataType:h})},post:function(n,c,f,h){if(i.isFunction(c)){h=f;f=c;c=undefined}return a.get(n,c,f,h,"post")},jsonp:function(n,c,f){if(i.isFunction(c)){f=c;c=null}return a.get(n,c,f,"jsonp")},getScript:i.getScript,getJSON:function(n,c,f){return a.get(n,c,f,"json")},upload:function(n,c,f,h,b){if(i.isFunction(f)){h=f;f=null}return a({url:n,type:"post",dataType:b,form:c,
data:f,success:h})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(i,a){function n(){this.__attrs={};this.__attrVals={}}function c(f){f+="";return f.charAt(0).toUpperCase()+f.substring(1)}i.augment(n,{__getDefAttrs:function(){return i.clone(this.__attrs)},addAttr:function(f,h,b){if(this.__attrs[f])i.mix(this.__attrs[f],h,b);else this.__attrs[f]=i.clone(h||{});return this},hasAttr:function(f){return f&&this.__attrs.hasOwnProperty(f)},removeAttr:function(f){if(this.hasAttr(f)){delete this.__attrs[f];delete this.__attrVals[f]}return this},
set:function(f,h){var b=this.get(f);if(b!==h)if(false!==this.__fireAttrChange("before",f,b,h)){this.__set(f,h);this.__fireAttrChange("after",f,b,this.__attrVals[f]);return this}},__fireAttrChange:function(f,h,b,d){return this.fire(f+c(h)+"Change",{attrName:h,prevVal:b,newVal:d})},__set:function(f,h){var b,d=this.__attrs[f];if(d=d&&d.setter)b=d.call(this,h);if(b!==a)h=b;this.__attrVals[f]=h},get:function(f){var h;h=(h=this.__attrs[f])&&h.getter;f=f in this.__attrVals?this.__attrVals[f]:this.__getDefAttrVal(f);
if(h)f=h.call(this,f);return f},__getDefAttrVal:function(f){f=this.__attrs[f];var h;if(f){if(h=f.valueFn){h=h.call(this);if(h!==a)f.value=h;delete f.valueFn}return f.value}},reset:function(f){if(this.hasAttr(f))return this.set(f,this.__getDefAttrVal(f));for(f in this.__attrs)this.hasAttr(f)&&this.reset(f);return this}});n.__capitalFirst=c;return n});
KISSY.add("base/base",function(i,a,n){function c(f){a.call(this);for(var h=this.constructor;h;){var b=h.ATTRS;if(b){var d=void 0;for(d in b)b.hasOwnProperty(d)&&this.addAttr(d,b[d],false)}h=h.superclass?h.superclass.constructor:null}if(f)for(var g in f)f.hasOwnProperty(g)&&this.__set(g,f[g])}i.augment(c,n.Target,a);return c},{requires:["./attribute","event"]});KISSY.add("base",function(i,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(i){var a=document,n=encodeURIComponent,c=decodeURIComponent;return{get:function(f){var h;if(i.isString(f)&&f!=="")if(f=String(a.cookie).match(RegExp("(?:^| )"+f+"(?:(?:=([^;]*))|;|$)")))h=f[1]?c(f[1]):"";return h},set:function(f,h,b,d,g,o){h=String(n(h));var w=b;if(typeof w==="number"){w=new Date;w.setTime(w.getTime()+b*864E5)}if(w instanceof Date)h+="; expires="+w.toUTCString();if(i.isString(d)&&d!=="")h+="; domain="+d;if(i.isString(g)&&g!=="")h+="; path="+g;if(o)h+=
"; secure";a.cookie=f+"="+h},remove:function(f,h,b,d){this.set(f,"",-1,h,b,d)}}});KISSY.add("cookie",function(i,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(i,a,n,c,f,h,b,d,g,o){b.getScript=i.getScript;a={UA:a,DOM:n,Event:c,EventTarget:c.Target,EventObject:c.Object,Node:f,NodeList:f,JSON:h,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:d,Easing:d.Easing,Base:g,Cookie:o,one:f.one,all:f.all,get:n.get,query:n.query};i.mix(i,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
