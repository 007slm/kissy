/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 11 15:12
*/
KISSY.add("ua/base",function(){var c=navigator.userAgent,a="",h="",j,l=[6,9],b=document.createElement("div"),k,e={},d=function(f){var p=0;return parseFloat(f.replace(/\./g,function(){return p++===0?".":""}))};b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}","");k=b.getElementsByTagName("s");if(k.length>0){h="ie";e[a="trident"]=0.1;if((j=c.match(/Trident\/([\d.]*)/))&&j[1])e[a]=d(j[1]);c=l[0];for(l=l[1];c<=l;c++){b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
c);if(k.length>0){e[h]=c;break}}}else if((j=c.match(/AppleWebKit\/([\d.]*)/))&&j[1]){e[a="webkit"]=d(j[1]);if((j=c.match(/Chrome\/([\d.]*)/))&&j[1])e[h="chrome"]=d(j[1]);else if((j=c.match(/\/([\d.]*) Safari/))&&j[1])e[h="safari"]=d(j[1]);if(/ Mobile\//.test(c))e.mobile="apple";else if(j=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=j[0].toLowerCase()}else if((j=c.match(/Presto\/([\d.]*)/))&&j[1]){e[a="presto"]=d(j[1]);if((j=c.match(/Opera\/([\d.]*)/))&&j[1]){e[h="opera"]=d(j[1]);
if((j=c.match(/Opera\/.* Version\/([\d.]*)/))&&j[1])e[h]=d(j[1]);if((j=c.match(/Opera Mini[^;]*/))&&j)e.mobile=j[0].toLowerCase();else if((j=c.match(/Opera Mobi[^;]*/))&&j)e.mobile=j[0]}}else if((j=c.match(/MSIE\s([^;]*)/))&&j[1]){e[a="trident"]=0.1;e[h="ie"]=d(j[1]);if((j=c.match(/Trident\/([\d.]*)/))&&j[1])e[a]=d(j[1])}else if(j=c.match(/Gecko/)){e[a="gecko"]=0.1;if((j=c.match(/rv:([\d.]*)/))&&j[1])e[a]=d(j[1]);if((j=c.match(/Firefox\/([\d.]*)/))&&j[1])e[h="firefox"]=d(j[1])}e.core=a;e.shell=h;
e._numberify=d;return e});KISSY.add("ua/extra",function(c,a){var h=navigator.userAgent,j,l,b={},k=a._numberify;if(h.match(/360SE/))b[l="se360"]=3;else if(h.match(/Maxthon/)&&(j=window.external)){l="maxthon";try{b[l]=k(j.max_version)}catch(e){b[l]=0.1}}else if(j=h.match(/TencentTraveler\s([\d.]*)/))b[l="tt"]=j[1]?k(j[1]):0.1;else if(h.match(/TheWorld/))b[l="theworld"]=3;else if(j=h.match(/SE\s([\d.]*)/))b[l="sougou"]=j[1]?k(j[1]):0.1;l&&(b.shell=l);c.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(c,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(c,a,h){function j(k,e){return k&&k.nodeType===e}var l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},b={_isCustomDomain:function(k){k=k||window;var e=k.document.domain;k=k.location.hostname;return e!=k&&e!="["+k+"]"},_genEmptyIframeSrc:function(k){k=k||window;if(a.ie&&b._isCustomDomain(k))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+k.document.domain+"';document.close();")+"}())"},_NODE_TYPE:l,_isElementNode:function(k){return j(k,b.ELEMENT_NODE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:j(k,b.DOCUMENT_NODE)?k.defaultView||k.parentWindow:k===h||k===null?window:false},_nodeTypeIs:j,_isNodeList:function(k){return k&&!k.nodeType&&k.item&&!k.setTimeout},_nodeName:function(k,e){return k&&k.nodeName.toLowerCase()===e.toLowerCase()}};c.mix(b,l);return b},{requires:["ua"]});
KISSY.add("dom/attr",function(c,a,h,j){function l(v,r){r=F[r]||r;var t=z[r];return t&&t.get?t.get(v,r):v[r]}h=document.documentElement;var b=!h.hasAttribute,k=h.textContent===j?"innerText":"textContent",e=a._nodeName,d=a._isElementNode,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:button|input|object|select|textarea)$/i,q=/^a(?:rea)?$/i,m=/:|^on/,g=/\r/g,o={},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},E={tabindex:{get:function(v){var r=v.getAttributeNode("tabindex");return r&&r.specified?parseInt(r.value,10):p.test(v.nodeName)||q.test(v.nodeName)&&v.href?0:j}},style:{get:function(v){return v.style.cssText},set:function(v,r){v.style.cssText=r}}},F={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},D={get:function(v,r){return a.prop(v,r)?r.toLowerCase():j},set:function(v,r,t){if(r===false)a.removeAttr(v,t);else{r=F[t]||t;if(r in v)v[r]=true;v.setAttribute(t,t.toLowerCase())}return t}},z={},y={},A={option:{get:function(v){var r=v.attributes.value;return!r||r.specified?v.value:v.text}},select:{get:function(v){var r=v.selectedIndex,t=v.options;v=v.type==="select-one";if(r<0)return null;else if(v)return a.val(t[r]);r=[];v=0;for(var i=t.length;v<i;++v)t[v].selected&&
r.push(a.val(t[v]));return r},set:function(v,r){var t=c.makeArray(r);c.each(v.options,function(i){i.selected=c.inArray(a.val(i),t)});if(!t.length)v.selectedIndex=-1;return t}}};if(b){y={get:function(v,r){var t;return(t=v.getAttributeNode(r))&&t.nodeValue!==""?t.nodeValue:j},set:function(v,r,t){var i=v.getAttributeNode(t);if(i)i.nodeValue=r;else try{var s=v.ownerDocument.createAttribute(t);s.value=r;v.setAttributeNode(s)}catch(w){return v.setAttribute(t,r,0)}}};o=F;E.tabIndex=E.tabindex;c.each(["href",
"src","width","height","colSpan","rowSpan"],function(v){E[v]={get:function(r){r=r.getAttribute(v,2);return r===null?j:r}}});A.button=E.value=y}c.each(["radio","checkbox"],function(v){A[v]={get:function(r){return r.getAttribute("value")===null?"on":r.value},set:function(r,t){if(c.isArray(t))return r.checked=c.inArray(a.val(r),t)}}});c.mix(a,{prop:function(v,r,t){if(c.isPlainObject(r))for(var i in r)a.prop(v,i,r[i]);else{v=a.query(v);r=F[r]||r;var s=z[r];if(t!==j)v.each(function(w){if(s&&s.set)s.set(w,
t,r);else w[r]=t});else if(v.length)return l(v[0],r)}},hasProp:function(v,r){for(var t=a.query(v),i=0;i<t.length;i++)if(l(t[i],r)!==j)return true;return false},removeProp:function(v,r){r=F[r]||r;a.query(v).each(function(t){try{t[r]=j;delete t[r]}catch(i){c.log("delete el property error : ");c.log(i)}})},attr:function(v,r,t,i){if(c.isPlainObject(r)){i=t;for(var s in r)a.attr(v,s,r[s],i)}else if(r=c.trim(r)){if(i&&x[r])return a[r](v,t);r=r.toLowerCase();if(i&&x[r])return a[r](v,t);r=o[r]||r;var w;w=
f.test(r)?D:m.test(r)?y:E[r];if(t===j){v=a.get(v);if(d(v)){if(e(v,"form"))w=y;if(w&&w.get)return w.get(v,r);v=v.getAttribute(r);return v===null?j:v}}else a.query(v).each(function(n){if(d(n)){var u=w;if(e(n,"form"))u=y;u&&u.set?u.set(n,t,r):n.setAttribute(r,""+t)}})}},removeAttr:function(v,r){r=r.toLowerCase();r=o[r]||r;a.query(v).each(function(t){if(d(t)){var i;t.removeAttribute(r);if(f.test(r)&&(i=F[r]||r)in t)t[i]=false}})},hasAttr:b?function(v,r){r=r.toLowerCase();for(var t=a.query(v),i=0;i<t.length;i++){var s=
t[i].getAttributeNode(r);if(s&&s.specified)return true}return false}:function(v,r){for(var t=a.query(v),i=0;i<t.length;i++)if(t[i].hasAttribute(r))return true;return false},val:function(v,r){var t,i;if(r===j){var s=a.get(v);if(s){if((t=A[s.nodeName.toLowerCase()]||A[s.type])&&"get"in t&&(i=t.get(s,"value"))!==j)return i;i=s.value;return typeof i==="string"?i.replace(g,""):c.isNullOrUndefined(i)?"":i}}else a.query(v).each(function(w){if(w.nodeType===1){var n=r;if(c.isNullOrUndefined(n))n="";else if(typeof n===
"number")n+="";else if(c.isArray(n))n=c.map(n,function(u){return c.isNullOrUndefined(n)?"":u+""});t=A[w.nodeName.toLowerCase()]||A[w.type];if(!t||!("set"in t)||t.set(w,n,"value")===j)w.value=n}})},text:function(v,r){if(r===j){var t=a.get(v);if(d(t))return t[k]||"";else if(a._nodeTypeIs(t,a.TEXT_NODE))return t.nodeValue;return j}else a.query(v).each(function(i){if(d(i))i[k]=r;else if(a._nodeTypeIs(i,a.TEXT_NODE))i.nodeValue=r})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(c,a,h){function j(d){return(b+d+b).replace(e,b)}function l(d,f,p,q){if(!(f=c.trim(f)))return q?false:h;d=a.query(d);var m=d.length,g=f.split(k);f=[];for(var o=0;o<g.length;o++){var x=c.trim(g[o]);x&&f.push(x)}for(o=0;o<m;o++){g=d[o];if(a._isElementNode(g)){g=p(g,f,f.length);if(g!==h)return g}}if(q)return false;return h}var b=" ",k=/[\.\s]\s*\.?/,e=/[\n\t]/g;c.mix(a,{__hasClass:function(d,f){var p=d.className;if(p){p=j(p);return p.indexOf(b+f+b)>-1}else return false},
hasClass:function(d,f){return l(d,f,function(p,q,m){if(p=p.className){p=j(p);for(var g=0,o=true;g<m;g++)if(p.indexOf(b+q[g]+b)<0){o=false;break}if(o)return true}},true)},addClass:function(d,f){l(d,f,function(p,q,m){var g=p.className;if(g){var o=j(g);g=g;for(var x=0;x<m;x++)if(o.indexOf(b+q[x]+b)<0)g+=b+q[x];p.className=c.trim(g)}else p.className=f},h)},removeClass:function(d,f){l(d,f,function(p,q,m){var g=p.className;if(g)if(m){g=j(g);for(var o=0,x;o<m;o++)for(x=b+q[o]+b;g.indexOf(x)>=0;)g=g.replace(x,
b);p.className=c.trim(g)}else p.className=""},h)},replaceClass:function(d,f,p){a.removeClass(d,f);a.addClass(d,p)},toggleClass:function(d,f,p){var q=c.isBoolean(p),m;l(d,f,function(g,o,x){for(var E=0,F;E<x;E++){F=o[E];m=q?!p:a.hasClass(g,F);a[m?"removeClass":"addClass"](g,F)}},h)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,a,h,j){function l(i){var s=c.require("event");s&&s.detach(i);a.removeData(i)}function b(i,s,w){if(p(s,a.DOCUMENT_FRAGMENT_NODE)){s=s.childNodes;w=w.childNodes;for(var n=0;s[n];){w[n]&&b(i,s[n],w[n]);n++}}else if(q(s)){s=s.getElementsByTagName("*");w=w.getElementsByTagName("*");for(n=0;s[n];){w[n]&&i(s[n],w[n]);n++}}}function k(i,s){var w=c.require("event");if(!(q(s)&&!a.hasData(i))){var n=a.data(i),u;for(u in n)a.data(s,u,n[u]);if(w){w._removeData(s);w._clone(i,s)}}}
function e(i,s){s.clearAttributes&&s.clearAttributes();s.mergeAttributes&&s.mergeAttributes(i);var w=s.nodeName.toLowerCase(),n=i.childNodes;if(w==="object"&&!s.childNodes.length)for(w=0;w<n.length;w++)s.appendChild(n[w].cloneNode(true));else if(w==="input"&&(i.type==="checkbox"||i.type==="radio")){if(i.checked)s.defaultChecked=s.checked=i.checked;if(s.value!==i.value)s.value=i.value}else if(w==="option")s.selected=i.defaultSelected;else if(w==="input"||w==="textarea")s.defaultValue=i.defaultValue;
s.removeAttribute(a.__EXPANDO)}function d(i,s){var w=null,n,u;if(i&&(i.push||i.item)&&i[0]){s=s||i[0].ownerDocument;w=s.createDocumentFragment();i=c.makeArray(i);n=0;for(u=i.length;n<u;n++)w.appendChild(i[n])}else c.log("Unable to convert "+i+" to fragment.");return w}var f=document;h=h.ie;var p=a._nodeTypeIs,q=a._isElementNode,m=c.isString,g=f.createElement("div"),o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,x=/<([\w:]+)/,E=/^\s+/,F=h&&h<9,D=/<|&#?\w+;/,z=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
c.mix(a,{create:function(i,s,w,n){if(q(i)||p(i,a.TEXT_NODE))return a.clone(i);var u=null;if(!m(i))return u;if(n===j)n=true;if(n)i=c.trim(i);if(!i)return u;n=a._creators;var B,C;w=w||f;var G,H="div";if(D.test(i))if(G=z.exec(i))u=w.createElement(G[1]);else{i=i.replace(o,"<$1></$2>");if((G=x.exec(i))&&(B=G[1]))H=B.toLowerCase();B=(n[H]||n.div)(i,w);if(F&&(C=i.match(E)))B.insertBefore(w.createTextNode(C[0]),B.firstChild);C=B.childNodes;if(C.length===1)u=C[0].parentNode.removeChild(C[0]);else if(C.length)u=
d(C,w);else c.error(i+" : create node error")}else u=w.createTextNode(i);i=u;if(c.isPlainObject(s))if(q(i))a.attr(i,s,true);else p(i,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(i.childNodes,s,true);return i},_creators:{div:function(i,s){var w=s&&s!=f?s.createElement("div"):g;w.innerHTML="m<div>"+i+"</div>";return w.lastChild}},html:function(i,s,w,n){i=a.query(i);var u=i[0];if(u)if(s===j)return q(u)?u.innerHTML:null;else{var B=false;s+="";if(!s.match(/<(?:script|style)/i)&&(!F||!s.match(E))&&!r[(s.match(x)||
["",""])[1].toLowerCase()])try{i.each(function(G){if(q(G)){l(G.getElementsByTagName("*"));G.innerHTML=s}});B=true}catch(C){}if(!B){s=a.create(s,0,u.ownerDocument,false);i.each(function(G){if(q(G)){a.empty(G);a.append(s,G,w)}})}n&&n()}},remove:function(i,s){a.query(i).each(function(w){if(!s&&q(w)){var n=w.getElementsByTagName("*");l(n);l(w)}w.parentNode&&w.parentNode.removeChild(w)})},clone:function(i,s,w,n){i=a.get(i);if(!i)return null;var u=i.cloneNode(s);if(q(i)||p(i,a.DOCUMENT_FRAGMENT_NODE)){q(i)&&
e(i,u);s&&b(e,i,u)}if(w){k(i,u);s&&n&&b(k,i,u)}return u},empty:function(i){a.query(i).each(function(s){a.remove(s.childNodes)})},_nl2frag:d});var y=a._creators,A=a.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},t;for(t in r)(function(i){y[t]=function(s,w){return A("<"+i+">"+s+"</"+i+">",null,w)}})(r[t]);
if(h<8)y.tbody=function(i,s){var w=A("<table>"+i+"</table>",null,s),n=w.children.tags("tbody")[0];w.children.length>1&&n&&!v.test(i)&&n.parentNode.removeChild(n);return w};c.mix(y,{thead:y.tbody,tfoot:y.tbody,caption:y.tbody,colgroup:y.tbody});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(c,a,h){var j=window,l="_ks_data_"+c.now(),b={},k={},e={};e.applet=1;e.object=1;e.embed=1;var d={hasData:function(q,m){if(q)if(m!==h){if(m in q)return true}else if(!c.isEmptyObject(q))return true;return false}},f={hasData:function(q,m){if(q==j)return f.hasData(k,m);return d.hasData(q[l],m)},data:function(q,m,g){if(q==j)return f.data(k,m,g);var o=q[l];if(g!==h){o=q[l]=q[l]||{};o[m]=g}else if(m!==h)return o&&o[m];else return o=q[l]=q[l]||{}},removeData:function(q,m){if(q==
j)return f.removeData(k,m);var g=q[l];if(g)if(m!==h){delete g[m];c.isEmptyObject(g)&&f.removeData(q,h)}else try{delete q[l]}catch(o){q[l]=null}}},p={hasData:function(q,m){var g=q[l];if(!g)return false;return d.hasData(b[g],m)},data:function(q,m,g){if(!e[q.nodeName.toLowerCase()]){var o=q[l];o||(o=q[l]=c.guid());q=b[o];if(g!==h){q=b[o]=b[o]||{};q[m]=g}else if(m!==h)return q&&q[m];else return q=b[o]=b[o]||{}}},removeData:function(q,m){var g=q[l];if(g){var o=b[g];if(o)if(m!==h){delete o[m];c.isEmptyObject(o)&&
p.removeData(q,h)}else{delete b[g];try{delete q[l]}catch(x){}q.removeAttribute&&q.removeAttribute(l)}}}};c.mix(a,{__EXPANDO:l,hasData:function(q,m){for(var g=false,o=a.query(q),x=0;x<o.length;x++)if(g=(g=o[x])&&g.nodeType?p.hasData(g,m):f.hasData(g,m))break;return g},data:function(q,m,g){if(c.isPlainObject(m))for(var o in m)a.data(q,o,m[o]);else if(g===h)if((q=a.get(q))&&q.nodeType)return p.data(q,m,g);else{if(q)return f.data(q,m,g)}else a.query(q).each(function(x){x&&x.nodeType?p.data(x,m,g):f.data(x,
m,g)})},removeData:function(q,m){a.query(q).each(function(g){g&&g.nodeType?p.removeData(g,m):f.removeData(g,m)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(c,a,h){function j(o){for(var x=0;x<o.length;x++){var E=o[x];if(E.nodeType==h.DOCUMENT_FRAGMENT_NODE)j(E.childNodes);else if(d(E,"input")){if(E.type==="checkbox"||E.type==="radio")E.defaultChecked=E.checked}else if(p(E)){E=E.getElementsByTagName("input");for(var F=0;F<E.length;F++)j(E[F])}}}function l(o,x){for(var E=[],F=0;o[F];F++){var D=o[F],z=D.nodeName.toLowerCase();if(D.nodeType==h.DOCUMENT_FRAGMENT_NODE)E.push.apply(E,l(f(D.childNodes),x));else if(z==="script"&&
(!D.type||q.test(D.type))){if(x)x.push(D.parentNode?D.parentNode.removeChild(D):D)}else{if(p(D)&&!e.test(z)){z=[];for(var y=D.getElementsByTagName("script"),A=0;A<y.length;A++)(!y[A].type||q.test(y[A].type))&&z.push(y[A]);o.splice.apply(o,[F+1,0].concat(z))}E.push(D)}}return E}function b(o){if(o.src)c.getScript(o.src);else(o=c.trim(o.text||o.textContent||o.innerHTML||""))&&c.globalEval(o)}function k(o,x,E,F){o=h.query(o);if(F)F=[];o=l(o,F);a.ie<8&&j(o);x=h.query(x);var D=o.length,z=x.length;if(!(!D&&
(!F||!F.length)||!z)){o=h._nl2frag(o);var y;if(z>1)y=h.clone(o,true);for(var A=0;A<z;A++){var v=x[A];if(D){var r=A>0?h.clone(y,true):o;E(r,v)}F&&c.each(F,b)}}}var e=/^(?:button|input|object|select|textarea)$/i,d=h._nodeName,f=c.makeArray,p=h._isElementNode,q=/\/(java|ecma)script/i;c.mix(h,{insertBefore:function(o,x,E){k(o,x,function(F,D){D.parentNode&&D.parentNode.insertBefore(F,D)},E)},insertAfter:function(o,x,E){k(o,x,function(F,D){D.parentNode&&D.parentNode.insertBefore(F,D.nextSibling)},E)},appendTo:function(o,
x,E){k(o,x,function(F,D){D.appendChild(F)},E)},prependTo:function(o,x,E){k(o,x,function(F,D){D.insertBefore(F,D.firstChild)},E)}});var m={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},g;for(g in m)h[g]=h[m[g]];return h},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(c,a,h,j){function l(r){var t,i=0;t=0;var s=e.body,w=m(r[E]);if(r[v]){t=r[v]();i=t[F];t=t[D];r=d&&e.documentMode!=9&&(g?f.clientTop:s.clientTop)||0;i-=d&&e.documentMode!=9&&(g?f.clientLeft:s.clientLeft)||0;t-=r;if(h.mobile=="apple"){i-=a[y](w);t-=a[A](w)}}return{left:i,top:t}}function b(r,t){var i={left:0,top:0},s=m(r[E]),w=r;t=t||s;do{var n;if(s==t){var u=w;n=l(u);u=m(u[E]);n.left+=a[y](u);n.top+=a[A](u);n=n}else n=l(w);n=n;i.left+=n.left;i.top+=n.top}while(s&&s!=t&&
(w=s.frameElement)&&(s=s.parent));return i}var k=window,e=document,d=h.ie,f=e.documentElement,p=a._isElementNode,q=a._nodeTypeIs,m=a._getWin,g=e.compatMode==="CSS1Compat",o=Math.max,x=parseInt,E="ownerDocument",F="left",D="top",z=c.isNumber,y="scrollLeft",A="scrollTop",v="getBoundingClientRect";c.mix(a,{offset:function(r,t,i){if(t===j){r=a.get(r);var s;if(r)s=b(r,i);return s}a.query(r).each(function(w){if(a.css(w,"position")==="static")w.style.position="relative";var n=b(w),u={},B,C;for(C in t){B=
x(a.css(w,C),10)||0;u[C]=B+t[C]-n[C]}a.css(w,u)})},scrollIntoView:function(r,t,i,s,w){if(r=a.get(r)){if(t)t=a.get(t);if(!t)t=r.ownerDocument;if(w!==true){s=s===j?true:!!s;i=i===j?true:!!i}if(q(t,a.DOCUMENT_NODE))t=m(t);var n=!!m(t);w=a.offset(r);var u=a.outerHeight(r);r=a.outerWidth(r);var B,C,G,H;if(n){n=t;C=a.height(n);B=a.width(n);H={left:a.scrollLeft(n),top:a.scrollTop(n)};n={left:w[F]-H[F],top:w[D]-H[D]};w={left:w[F]+r-(H[F]+B),top:w[D]+u-(H[D]+C)};H=H}else{B=a.offset(t);C=t.clientHeight;G=t.clientWidth;
H={left:a.scrollLeft(t),top:a.scrollTop(t)};n={left:w[F]-B[F]-(x(a.css(t,"borderLeftWidth"))||0),top:w[D]-B[D]-(x(a.css(t,"borderTopWidth"))||0)};w={left:w[F]+r-(B[F]+G+(x(a.css(t,"borderRightWidth"))||0)),top:w[D]+u-(B[D]+C+(x(a.css(t,"borderBottomWidth"))||0))}}if(n.top<0||w.top>0)if(i===true)a.scrollTop(t,H.top+n.top);else if(i===false)a.scrollTop(t,H.top+w.top);else n.top<0?a.scrollTop(t,H.top+n.top):a.scrollTop(t,H.top+w.top);if(s)if(n.left<0||w.left>0)if(i===true)a.scrollLeft(t,H.left+n.left);
else if(i===false)a.scrollLeft(t,H.left+w.left);else n.left<0?a.scrollLeft(t,H.left+n.left):a.scrollLeft(t,H.left+w.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});c.each(["Left","Top"],function(r,t){var i="scroll"+r;a[i]=function(s,w){if(z(s))return arguments.callee(k,s);s=a.get(s);var n,u=m(s);if(u)if(w!==j){w=parseFloat(w);var B=r=="Left"?w:a.scrollLeft(u),C=r=="Top"?w:a.scrollTop(u);u.scrollTo(B,C)}else{n=u["page"+(t?"Y":"X")+"Offset"];if(!z(n)){u=u.document;n=u.documentElement[i];
z(n)||(n=u.body[i])}}else if(p(s))if(w!==j)s[i]=parseFloat(w);else n=s[i];return n}});c.each(["Width","Height"],function(r){a["doc"+r]=function(t){t=a.get(t);t=m(t).document;return o(t.documentElement["scroll"+r],t.body["scroll"+r],a["viewport"+r](t))};a["viewport"+r]=function(t){t=a.get(t);var i="client"+r;t=m(t).document;var s=t.body,w=t.documentElement[i];return t.compatMode==="CSS1Compat"&&w||s&&s[i]||w}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(c,a,h,j){function l(n){return n.replace(F,D)}function b(n,u,B){var C={},G;for(G in u){C[G]=n[q][G];n[q][G]=u[G]}B.call(n);for(G in u)n[q][G]=C[G]}function k(n,u,B){var C;if(n.nodeType===3||n.nodeType===8||!(C=n[q]))return j;u=l(u);var G,H=v[u];u=r[u]||u;if(B!==j){if(B===null||B===y)B=y;else if(!isNaN(Number(B))&&!E[u])B+=A;if(H&&H.set)B=H.set(n,B);if(B!==j)try{n[q][u]=B}catch(I){c.log("css set error :"+I)}return j}else{if(!(H&&"get"in H&&(G=H.get(n,false))!==j))G=C[u];
return G===j?"":G}}function e(n,u,B){if(c.isWindow(n))return u==m?a.viewportWidth(n):a.viewportHeight(n);else if(n.nodeType==9)return u==m?a.docWidth(n):a.docHeight(n);var C=u===m?["Left","Right"]:["Top","Bottom"],G=u===m?n.offsetWidth:n.offsetHeight;if(G>0){B!=="border"&&c.each(C,function(H){B||(G-=parseFloat(a.css(n,"padding"+H))||0);if(B==="margin")G+=parseFloat(a.css(n,B+H))||0;else G-=parseFloat(a.css(n,"border"+H+"Width"))||0});return G}G=a._getComputedStyle(n,u);if(G<0||c.isNullOrUndefined(G))G=
n.style[u]||0;G=parseFloat(G)||0;B&&c.each(C,function(H){G+=parseFloat(a.css(n,"padding"+H))||0;if(B!=="padding")G+=parseFloat(a.css(n,"border"+H+"Width"))||0;if(B==="margin")G+=parseFloat(a.css(n,B+H))||0});return G}var d=document,f=d.documentElement,p=h.ie,q="style",m="width",g="display"+c.now(),o=parseInt,x=/^-?\d+(?:px)?$/i,E={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},F=/-([a-z])/ig,D=function(n,u){return u.toUpperCase()},z=/([A-Z]|^ms)/g,y="",A="px",
v={},r={},t={};if(f[q].cssFloat!==j)r["float"]="cssFloat";else if(f[q].styleFloat!==j)r["float"]="styleFloat";var i,s;c.mix(a,{_camelCase:l,_cssNumber:E,_CUSTOM_STYLES:v,_cssProps:r,_getComputedStyle:function(n,u){var B="",C={},G=n.ownerDocument;u=u.replace(z,"-$1").toLowerCase();if(C=G.defaultView.getComputedStyle(n,null))B=C.getPropertyValue(u)||C[u];if(B==""&&!a.__contains(G.documentElement,n)){u=r[u]||u;B=n[q][u]}return B},style:function(n,u,B){if(c.isPlainObject(u))for(var C in u)a.style(n,C,
u[C]);else if(B===j){n=a.get(n);C="";if(n)C=k(n,u,B);return C}else a.query(n).each(function(G){k(G,u,B)})},css:function(n,u,B){if(c.isPlainObject(u))for(var C in u)a.css(n,C,u[C]);else{u=l(u);C=v[u];if(B===j){n=a.get(n);B="";if(n)if(!(C&&"get"in C&&(B=C.get(n,true))!==j))B=a._getComputedStyle(n,u);return B===j?"":B}else a.style(n,u,B)}},show:function(n){a.query(n).each(function(u){u[q].display=a.data(u,g)||y;if(a.css(u,"display")==="none"){var B;a:{B=u.tagName.toLowerCase();var C,G;if(!t[B]){C=d.body||
d.documentElement;G=d.createElement(B);a.prepend(G,C);var H=a.css(G,"display");C.removeChild(G);if(H==="none"||H===""){if(i)a.prepend(i,C);else{i=d.createElement("iframe");i.frameBorder=i.width=i.height=0;a.prepend(i,C);if(G=a._genEmptyIframeSrc())i.src=G}if(!s||!i.createElement)try{s=i.contentWindow.document;s.write((d.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(h.ie&&a._isCustomDomain()?"<script>document.domain = '"+d.domain+"';<\/script>":"")+"</head><body>");s.close()}catch(I){B=
"block";break a}G=s.createElement(B);s.body.appendChild(G);H=a.css(G,"display");C.removeChild(i)}t[B]=H}B=t[B]}a.data(u,g,B);u[q].display=B}})},hide:function(n){a.query(n).each(function(u){var B=u[q],C=B.display;if(C!=="none"){C&&a.data(u,g,C);B.display="none"}})},toggle:function(n){a.query(n).each(function(u){a.css(u,"display")==="none"?a.show(u):a.hide(u)})},addStyleSheet:function(n,u,B){if(c.isString(n)){B=u;u=n;n=window}n=a.get(n);n=a._getWin(n).document;var C;if(B&&(B=B.replace("#",y)))C=a.get("#"+
B,n);if(!C){C=a.create("<style>",{id:B},n);a.get("head",n).appendChild(C);if(C.styleSheet)C.styleSheet.cssText=u;else C.appendChild(n.createTextNode(u))}},unselectable:function(n){a.query(n).each(function(u){if(h.gecko)u[q].MozUserSelect="none";else if(h.webkit)u[q].KhtmlUserSelect="none";else if(h.ie||h.opera){var B=0,C=u.getElementsByTagName("*");for(u.setAttribute("unselectable","on");u=C[B++];)switch(u.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:u.setAttribute("unselectable",
"on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([m,"height"],function(n){a["inner"+(n.charAt(0).toUpperCase()+n.substring(1))]=function(u){return(u=a.get(u))?e(u,n,"padding"):null};a["outer"+(n.charAt(0).toUpperCase()+n.substring(1))]=function(u,B){var C=a.get(u);return C?e(C,n,B?"margin":"border"):null};a[n]=function(u,B){var C=a.css(u,n,B);if(C)C=parseFloat(C);return C}});var w={position:"absolute",visibility:"hidden",display:"block"};c.each(["height",
"width"],function(n){v[n]={get:function(u,B){var C;if(B){if(u.offsetWidth!==0)C=e(u,n);else b(u,w,function(){C=e(u,n)});return C+"px"}},set:function(u,B){if(x.test(B)){B=parseFloat(B);if(B>=0)return B+"px"}else return B}}});c.each(["left","top"],function(n){v[n]={get:function(u,B){if(B){var C=a._getComputedStyle(u,n);if(C==="auto"){C=0;if(c.inArray(a.css(u,"position"),["absolute","fixed"])){C=u[n==="left"?"offsetLeft":"offsetTop"];if(p&&document.documentMode!=9||h.opera)C-=u.offsetParent&&u.offsetParent["client"+
(n=="left"?"Left":"Top")]||0;C=C-(o(a.css(u,"margin-"+n))||0)}C+="px"}return C}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,a,h){function j(i,s){var w=[],n;n=s===h?[q]:j(s,h);g(n,function(u){D.apply(w,l(i,u))});if(c.isString(i)&&i.indexOf(",")>-1||n.length>1)r(w);w.each=c.bind(g,h,w);return w}function l(i,s){var w=[];c.require("sizzle");if(y(i))i=c.trim(i);if(y(i)&&i.indexOf(",")>-1)w=b(i,s);else{if(y(i)&&!v.exec(String(i))){w=i;var n=[],u=c.require("sizzle");u?u(w,s,n):p(w);w=n}else w=k(i,s);w=w}return w=w}function b(i,s){var w=[],n=i.split(",");g(n,function(u){D.apply(w,l(u,s))});
return w}function k(i,s){var w,n,u=[],B;if(y(i))if(A.test(i)){if(n=d(i.slice(1),s))u=[n]}else{if(w=v.exec(i)){n=w[1];B=w[2];w=w[3];if(s=n?d(n,s):s)if(w)if(!n||i.indexOf(z)!=-1)u=[].concat(t(w,B,s));else{if((n=d(n,s))&&a.__hasClass(n,w))u=[n]}else if(B)u=f(B,s)}}else if(i&&(o(i)||E(i)))u=m(i,function(C){return e(C,s)});else if(i)if(e(i,s))u=[i];return u}function e(i,s){if(!i)return false;if(s==q)return true;return a.__contains(s,i)}function d(i,s){if(!s)return null;var w=s;if(s.nodeType!==a.DOCUMENT_NODE)w=
s.ownerDocument;if((w=w.getElementById(i))&&w.parentNode)if(a.attr(w,"id")!==i)w=a.filter("*","#"+i,s)[0]||null;else e(w,s)||(w=null);else w=null;return w}function f(i,s){return s&&x(s.getElementsByTagName(i))||[]}function p(i){c.error("Unsupported selector: "+i)}var q=document,m=c.filter,g=c.each,o=c.isArray,x=c.makeArray,E=a._isNodeList,F=a._nodeName,D=Array.prototype.push,z=" ",y=c.isString,A=/^#[\w-]+$/,v=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,r;(function(){var i,s,w=true;[0,0].sort(function(){w=
false;return 0});r=function(n){if(i){s=w;n.sort(i);if(s)for(var u=1,B=n.length;u<B;)if(n[u]===n[u-1])n.splice(u,1);else u++}return n};i=q.documentElement.compareDocumentPosition?function(n,u){if(n==u){s=true;return 0}if(!n.compareDocumentPosition||!u.compareDocumentPosition)return n.compareDocumentPosition?-1:1;return n.compareDocumentPosition(u)&4?-1:1}:function(n,u){if(n==u){s=true;return 0}else if(n.sourceIndex&&u.sourceIndex)return n.sourceIndex-u.sourceIndex}})();(function(){var i=q.createElement("div");
i.appendChild(q.createComment(""));if(i.getElementsByTagName("*").length>0)f=function(s,w){var n=x(w.getElementsByTagName(s));if(s==="*"){for(var u=[],B=0,C;C=n[B++];)C.nodeType===1&&u.push(C);n=u}return n}})();var t=q.getElementsByClassName?function(i,s,w){if(!w)return[];i=w.getElementsByClassName(i);var n=0,u=i.length,B;if(s&&s!=="*")for(w=[];n<u;++n){B=i[n];F(B,s)&&w.push(B)}else w=x(i);return w}:q.querySelectorAll?function(i,s,w){return w&&x(w.querySelectorAll((s?s:"")+"."+i))||[]}:function(i,
s,w){if(!w)return[];s=w.getElementsByTagName(s||"*");w=[];for(var n=0,u=s.length,B;n<u;++n){B=s[n];a.__hasClass(B,i)&&w.push(B)}return w};c.mix(a,{query:j,get:function(i,s){return j(i,s)[0]||null},unique:r,filter:function(i,s,w){i=j(i,w);w=c.require("sizzle");var n,u,B,C,G=[];if(y(s)&&(s=c.trim(s))&&(n=v.exec(s))){B=n[1];u=n[2];C=n[3];if(B){if(B&&!u&&!C)s=function(H){return H.id===B}}else s=function(H){var I=true,L=true;if(u)I=F(H,u);if(C)L=a.__hasClass(H,C);return L&&I}}if(c.isFunction(s))G=c.filter(i,
s);else if(s&&w)G=w.matches(s,i);else p(s);return G},test:function(i,s,w){i=j(i,w);return i.length&&a.filter(i,s,w).length===i.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(c,a,h,j){if(!h.ie)return a;var l=document,b=l.documentElement,k=j._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,d=/^-?\d/,f=/opacity=([^)]*)/,p=/alpha\([^)]*\)/i;try{if(c.isNullOrUndefined(b.style.opacity))k.opacity={get:function(g,o){return f.test((o&&g.currentStyle?g.currentStyle.filter:g.style.filter)||"")?parseFloat(RegExp.$1)/100+"":o?"1":""},set:function(g,o){o=parseFloat(o);var x=g.style,E=g.currentStyle,F=isNaN(o)?"":"alpha(opacity="+o*100+")",D=c.trim(E&&E.filter||
x.filter||"");x.zoom=1;if(o>=1&&c.trim(D.replace(p,""))===""){x.removeAttribute("filter");if(E&&!E.filter)return}x.filter=p.test(D)?D.replace(p,F):D+(D?", ":"")+F}}}catch(q){c.log("IE filters ActiveX is disabled. ex = "+q)}h=h.ie==8;var m={};m.thin=h?"1px":"2px";m.medium=h?"3px":"4px";m.thick=h?"5px":"6px";c.each(["","Top","Left","Right","Bottom"],function(g){var o="border"+g+"Width",x="border"+g+"Style";k[o]={get:function(E,F){var D=F?E.currentStyle:0,z=D&&String(D[o])||undefined;if(z&&z.indexOf("px")<
0)z=m[z]&&D[x]!=="none"?m[z]:0;return z}}});if(!(l.defaultView||{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(g,o){o=a._cssProps[o]||o;var x=g.currentStyle&&g.currentStyle[o];if(!e.test(x)&&d.test(x)){var E=g.style,F=E.left,D=g.runtimeStyle&&g.runtimeStyle.left;if(D)g.runtimeStyle.left=g.currentStyle.left;E.left=o==="fontSize"?"1em":x||0;x=E.pixelLeft+"px";E.left=F;if(D)g.runtimeStyle.left=D}return x===""?"auto":x};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,a,h){function j(e,d,f,p,q,m){if(!(e=a.get(e)))return null;if(d===0)return e;m||(e=e[f]);if(!e)return null;q=q&&a.get(q)||null;if(d===h)d=1;m=[];var g=c.isArray(d),o,x;if(c.isNumber(d)){o=0;x=d;d=function(){return++o===x}}for(;e&&e!=q;){if(k(e)&&l(e,d)&&(!p||p(e))){m.push(e);if(!g)break}e=e[f]}return g?m:m[0]||null}function l(e,d){if(!d)return true;if(c.isArray(d))for(var f=0;f<d.length;f++){if(a.test(e,d[f]))return true}else if(a.test(e,d))return true;return false}
function b(e,d,f){var p=[];var q=e=a.get(e);if(e&&f)q=e.parentNode;if(q){f=0;for(q=q.firstChild;q;q=q.nextSibling)if(k(q)&&q!==e&&(!d||a.test(q,d)))p[f++]=q}return p}var k=a._isElementNode;c.mix(a,{closest:function(e,d,f){return j(e,d,"parentNode",function(p){return p.nodeType!=a.DOCUMENT_FRAGMENT_NODE},f,true)},parent:function(e,d,f){return j(e,d,"parentNode",function(p){return p.nodeType!=a.DOCUMENT_FRAGMENT_NODE},f)},first:function(e,d){var f=a.get(e);return j(f&&f.firstChild,d,"nextSibling",h,
h,true)},last:function(e,d){var f=a.get(e);return j(f&&f.lastChild,d,"previousSibling",h,h,true)},next:function(e,d){return j(e,d,"nextSibling",h)},prev:function(e,d){return j(e,d,"previousSibling",h)},siblings:function(e,d){return b(e,d,true)},children:function(e,d){return b(e,d,h)},__contains:document.documentElement.contains?function(e,d){if(e.nodeType==a.TEXT_NODE)return false;var f;if(d.nodeType==a.TEXT_NODE){d=d.parentNode;f=true}else if(d.nodeType==a.DOCUMENT_NODE)return false;else f=e!==d;
return f&&(e.contains?e.contains(d):true)}:document.documentElement.compareDocumentPosition?function(e,d){return!!(e.compareDocumentPosition(d)&16)}:0,contains:function(e,d){e=a.get(e);d=a.get(d);if(e&&d)return a.__contains(e,d)},equals:function(e,d){e=a.query(e);d=a.query(d);if(e.length!=d.length)return false;for(var f=e.length;f>=0;f--)if(e[f]!=d[f])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(c,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};c.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=c.F1&&a.keyCode<=c.F12)return false;switch(a.keyCode){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PHANTOM:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return false;
default:return true}};c.isCharacterKey=function(a){if(a>=c.ZERO&&a<=c.NINE)return true;if(a>=c.NUM_ZERO&&a<=c.NUM_MULTIPLY)return true;if(a>=c.A&&a<=c.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return c});
KISSY.add("event/object",function(c,a){function h(b,k,e){this.currentTarget=b;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=e;this.target=b}this.currentTarget=b;this.fixed=true}var j=document,l="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");c.augment(h,
{_fix:function(){var b=this.originalEvent,k=l.length,e,d=this.currentTarget;for(d=d.nodeType===9?d:d.ownerDocument||j;k;){e=l[--k];this[e]=b[e]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=d.documentElement;k=d.body;this.pageX=this.clientX+(b&&b.scrollLeft||k&&k.scrollLeft||
0)-(b&&b.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||k&&k.scrollTop||0)-(b&&b.clientTop||k&&k.clientTop||0)}if(this.which===a)this.which=this.charCode===a?this.keyCode:this.charCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=true;this.stopPropagation()},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return h});
KISSY.add("event/base",function(c,a,h,j){function l(z,y,A){if((A=c.trim(A))&&A.indexOf(m)>0){var v=f(arguments);g(A.split(/\s+/),function(r){var t=[].concat(v);t.splice(0,3,y,r);D[z].apply(D,t)});return true}return 0}function b(z){return z&&z.nodeType!==3&&z.nodeType!==8}function k(z,y,A,v,r){var t=E[y]||{};if(!v.length&&(!t.setup||t.setup.call(z)===false))p(z,y,A);t.add&&t.add.call(z,r)}var e=document,d=a._nodeName,f=c.makeArray,p=e.addEventListener?function(z,y,A,v){z.addEventListener&&z.addEventListener(y,
A,!!v)}:function(z,y,A){z.attachEvent&&z.attachEvent("on"+y,A)},q=e.removeEventListener?function(z,y,A,v){z.removeEventListener&&z.removeEventListener(y,A,!!v)}:function(z,y,A){z.detachEvent&&z.detachEvent("on"+y,A)},m=" ",g=c.each,o="",x="trigger-none-"+c.now(),E={},F="ksEventTargetId"+c.now(),D={_clone:function(z,y){if(!(y.nodeType!==a.ELEMENT_NODE||!D._hasData(z))){var A=D._data(z).events;g(A,function(v,r){g(v,function(t){D.on(y,r,t.fn,t.scope,t.data)})})}},_hasData:function(z){return a.hasData(z,
F)},_data:function(){var z=f(arguments);z.splice(1,0,F);return a.data.apply(a,z)},_removeData:function(){var z=f(arguments);z.splice(1,0,F);return a.removeData.apply(a,z)},special:E,__add:function(z,y,A,v,r,t){var i;if(!(!y||!c.isFunction(v)||z&&!b(y))){(i=D._data(y))||D._data(y,i={});var s=i.events=i.events||{};s=s[A]=s[A]||[];v={fn:v,scope:r,data:t};var w=i.handler;if(!w){w=i.handler=function(n,u){if(!(n&&n.type==o)){var B=w.target;if(!n||!n.fixed)n=new h(B,n);var C=n.type;c.isPlainObject(u)&&c.mix(n,
u);if(C)n.type=C;return D._handle(B,n)}};w.target=y}if(z){k(y,A,w,s,v);y=null}s.push(v)}},add:function(z,y,A,v,r){if(l("add",z,y,A,v,r))return z;a.query(z).each(function(t){D.__add(true,t,y,A,v,r)});return z},__getListeners:function(z,y){return(D.__getEvents(z)||{})[y]||[]},__getEvents:function(z){return(z=D._data(z))&&z.events},__remove:function(z,y,A,v,r,t){if(!(!y||z&&!b(y))){var i=D._data(y),s=i&&i.events,w,n,u,B,C,G=z&&E[A]||{};if(s)if(A===j)for(A in s)D.remove.call(D,y,A);else{r=r||y;if(w=s[A]){n=
w.length;if(v&&n){B=u=0;for(C=[];u<n;++u){var H=false,I=w[u],L=I.scope||y;if(v!==I.fn||r!==L){C[B++]=I;H=true}else if(t!==J){var J=I.data;if(!t&&J||J&&!t){C[B++]=I;H=true}else if(t&&J)if(!t.equals||!J.equals)c.error("no equals in data");else if(!J.equals(t)){C[B++]=I;H=true}}!H&&G.remove&&G.remove.call(y,I)}s[A]=C;n=C.length}if(v===j||n===0){if(z&&(!G.tearDown||G.tearDown.call(y)===false))q(y,A,i.handler);delete s[A]}}if(c.isEmptyObject(s)){i.handler.target=null;delete i.handler;delete i.events;D._removeData(y)}}}},
remove:function(z,y,A,v,r){if(l("remove",z,y,A,v))return z;a.query(z).each(function(t){D.__remove(true,t,y,A,v,r)});return z},_handle:function(z,y){for(var A=D.__getListeners(z,y.type).slice(0),v,r,t=0,i=A.length;t<i;++t){v=A[t];v=v.fn.call(v.scope||z,y,v.data);if(v!==j){if(r!==false)r=v;v===false&&y.halt()}if(y.isImmediatePropagationStopped)break}return r},fire:function(z,y,A,v){if(!l("fire",z,y,A,v)){A=A||{};A.type=y;a.query(z).each(function(r){var t=A;if(b(r)){var i=new h(r,j,y);c.mix(i,t);i.type=
y;v&&i.halt();t=r;var s="on"+y;do{i.currentTarget=t;D._handle(t,i);t[s]&&t[s].call(t)===false&&i.preventDefault();t=t.parentNode||t.ownerDocument||t===r.ownerDocument&&window}while(t&&!i.isPropagationStopped);if(!i.isDefaultPrevented)if(!(y==="click"&&d(r,"a"))){var w;try{if(s&&r[y]){if(w=r[s])r[s]=null;o=y;r[y]()}}catch(n){c.log("trigger action error : ");c.log(n)}if(w)r[s]=w;o=x}}})}},__batchForType:l,__simpleAdd:p,__simpleRemove:q};D.on=D.add;D.detach=D.remove;return D},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,a,h){function j(f){f[k]=f[k]||{};return f[k]}function l(f){f[e]=f[e]||{};return f[e]}function b(f){return function(p,q,m){var g=this;c.each(c.trim(p).split(/\s+/),function(o){a["__"+f](false,g,o,q,m)});return g}}var k="__~ks_publish",e="__~ks_bubble_targets",d={fire:function(f,p){var q,m;if(p instanceof h){p.currentTarget=this;m=p}else{q=new h(this,undefined,f);c.isPlainObject(p)&&c.mix(q,p);q.type=f;m=q}q=a._handle(this,m);var g;if(g=!m.isPropagationStopped){g=
j(this);g=g[f]&&g[f].bubbles||g["*"]&&g["*"].bubbles}if(g){m=this.bubble(f,m);if(m===false)q=m}return q},publish:function(f,p){j(this)[f]=p},bubble:function(f,p){var q,m=l(this);c.each(m,function(g){g=g.fire(f,p);if(q!==false)q=g});return q},addTarget:function(f){l(this)[c.stamp(f)]=f},removeTarget:function(f){delete l(this)[c.stamp(f)]},on:b("add")};d.detach=b("remove");return d},{requires:["./base","./object"]});
KISSY.add("event/focusin",function(c,a,h){a.ie||c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(j){function l(k){return h.fire(k.target,j.name)}var b=0;h.special[j.name]={setup:function(){b++===0&&document.addEventListener(j.fix,l,true)},tearDown:function(){--b===0&&document.removeEventListener(j.fix,l,true)}}});return h},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(c,a,h,j){var l=document;j=l.documentMode||j.ie;if(!("onhashchange"in window)||j&&j<8){var b=window,k="<html><head><title>"+(l.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},d,f,p=function(){var x=e();if(x!==f){f=x;q(x)}d=setTimeout(p,50)},q=j&&j<8?function(x){x=c.substitute(k,{hash:x,head:h._isCustomDomain()?"<script>document.domain = '"+l.domain+"';<\/script>":""});var E=
o.contentWindow.document;try{E.open();E.write(x);E.close()}catch(F){}}:function(){a.fire(b,"hashchange")},m=function(){d||p()},g=function(){d&&clearTimeout(d);d=0},o;if(j<8){m=function(){if(!o){var x=h._genEmptyIframeSrc();o=h.create("<iframe "+(x?'src="'+x+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');h.prepend(o,l.documentElement);a.add(o,"load",function(){a.remove(o,"load");q(e());a.add(o,"load",E);p()});l.onpropertychange=function(){try{if(event.propertyName===
"title")o.contentWindow.document.title=l.title+" - "+e()}catch(F){}};var E=function(){var F=c.trim(o.contentWindow.document.body.innerText),D=e();if(F!=D){c.log("set loc hash :"+F);f=location.hash=F}a.fire(b,"hashchange")}}};g=function(){d&&clearTimeout(d);d=0;a.detach(o);h.remove(o);o=0}}a.special.hashchange={setup:function(){if(this===b){f=e();m()}},tearDown:function(){this===b&&g()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(c,a,h){function j(g){h.removeData(g,p);if(h.hasData(g,q)){var o=h.data(g,q);clearTimeout(o);h.removeData(g,q)}}function l(g){j(g.target)}function b(g){h.hasData(g,q)||h.data(g,q,setTimeout(function(){var o=g.value,x=h.data(g,p);if(o!==x){a.fire(g,d,{prevVal:x,newVal:o},true);h.data(g,p,o)}h.data(g,q,setTimeout(arguments.callee,m))},m))}function k(g){var o=g.target;g.type=="focus"&&h.data(o,p,o.value);b(o)}function e(g){j(g);a.remove(g,"blur",l);a.remove(g,"mousedown keyup keydown focus",
k)}var d="valuechange",f=h._nodeName,p="event/valuechange/history",q="event/valuechange/poll",m=50;a.special[d]={setup:function(){if(f(this,"input")||f(this,"textarea")){e(this);a.on(this,"blur",l);a.on(this,"mousedown keyup keydown focus",k)}},tearDown:function(){e(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(c,a,h){function j(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function l(d,f){var p=a.closest(d.target,[f.selector],this);if(p){for(var q=d.currentTarget,m=0;m<p.length;m++){d.currentTarget=p[m];f.fn.call(f.scope||this,d)===false&&d.halt();if(d.isPropagationStopped)break}d.currentTarget=q}}function b(d,f){var p,q=d.target,m=d.relatedTarget;d.type=
f.preType;if(q=a.closest(q,f.selector,this))if(q!==m&&(!m||!a.contains(q,m))){m=d.currentTarget;d.currentTarget=q;p=f.fn.call(f.scope||this,d);d.currentTarget=m}return p}var k=h.__batchForType,e={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};c.mix(h,{delegate:function(d,f,p,q,m){if(k("delegate",d,f,p,q,m))return d;a.query(d).each(function(g){var o=f,x=l;if(e[f]){f=e[o].type;x=e[o].handler||x}h.on(g,f,x,g,{fn:q,selector:p,
preType:o,scope:m,equals:j})});return d},undelegate:function(d,f,p,q,m){if(k("undelegate",d,f,p,q,m))return d;a.query(d).each(function(g){var o=f,x=l;if(e[f]){f=e[o].type;x=e[o].handler||x}h.remove(g,f,x,g,{fn:q,selector:p,preType:o,scope:m,equals:j})});return d}});return h},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(c,a,h,j){j.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(l){function b(k){var e=k.relatedTarget;k.type=l.name;try{if(!(e&&e!==document&&!e.parentNode))if(e!==this&&(!e||!h.contains(this,e)))a._handle(this,k)}catch(d){c.log("withinElement error : ","error");c.log(d,"error")}}a.special[l.name]={setup:function(){a.add(this,l.fix,b)},tearDown:function(){a.remove(this,l.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event/submit",function(c,a,h,j){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var l=j._nodeName;h.special.submit={setup:function(){if(l(this,"form"))return false;h.on(this,"click keypress",b)},tearDown:function(){if(l(this,"form"))return false;h.remove(this,"click keypress",b);j.query("form",this).each(function(e){if(e.__submit__fix){e.__submit__fix=0;h.remove(e,"submit",k)}})}};var b=function(e){e=e.target;if((e=l(e,"input")||l(e,"button")?e.form:null)&&!e.__submit__fix){e.__submit__fix=
1;h.on(e,"submit",k)}},k=function(e){this.parentNode&&h.fire(this.parentNode,"submit",e)}}},{requires:["ua","./base","dom"]});
KISSY.add("event/change",function(c,a,h,j){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var l=/^(?:textarea|input|select)$/i,b=function(p){p=p.type;return p=="checkbox"||p=="radio"};h.special.change={setup:function(){if(l.test(this.nodeName))if(b(this)){h.on(this,"propertychange",k);h.on(this,"click",e)}else return false;else h.on(this,"beforeactivate",d)},tearDown:function(){if(l.test(this.nodeName))if(b(this)){h.remove(this,"propertychange",k);h.remove(this,"click",e)}else return false;else{h.remove(this,
"beforeactivate",d);j.query("textarea,input,select",this).each(function(p){if(p.__changeHandler){p.__changeHandler=0;h.remove(p,"change",f)}})}}};var k=function(p){if(p.originalEvent.propertyName=="checked")this.__changed=1},e=function(p){if(this.__changed){this.__changed=0;h.fire(this,"change",p)}},d=function(p){p=p.target;if(l.test(p.nodeName)&&!p.__changeHandler){p.__changeHandler=1;h.on(p,"change",f)}},f=function(p){if(!b(this)){var q;if(q=this.parentNode)h.fire(q,"change",p)}}}},{requires:["ua",
"./base","dom"]});
KISSY.add("event/mousewheel",function(c,a,h){function j(b){var k=a._data(this).handler,e,d,f,p=b.detail;if(b.wheelDelta)f=b.wheelDelta/120;if(b.detail)f=-(p%3==0?p/3:p);if(b.axis!==undefined)if(b.axis===b.HORIZONTAL_AXIS){d=0;e=-1*f}else if(b.axis===b.VERTICAL_AXIS){e=0;d=f}if(b.wheelDeltaY!==undefined)d=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)e=-1*b.wheelDeltaX/120;if(!e&&!d)d=f;return k(b,{deltaY:d,delta:f,deltaX:e,type:"mousewheel"})}var l=h.gecko?"DOMMouseScroll":"mousewheel";a.special.mousewheel=
{setup:function(){var b;b=a._data(this)[b]=c.bind(j,this);a.__simpleAdd(this,l,b)},tearDown:function(){var b,k=a._data(this);b=k[b];a.__simpleRemove(this,l,b);delete k[b]}}},{requires:["./base","ua","./object"]});KISSY.add("event",function(c,a,h,j,l){h.KeyCodes=a;h.Target=j;h.Object=l;return h},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter","event/submit","event/change","event/mousewheel"]});
KISSY.add("node/base",function(c,a,h){function j(e,d,f){if(!(this instanceof j))return new j(e,d,f);if(e)if(c.isString(e)){e=a.create(e,d,f);if(e.nodeType===a.DOCUMENT_FRAGMENT_NODE){l.push.apply(this,b(e.childNodes));return h}}else if(c.isArray(e)||k(e)){l.push.apply(this,b(e));return h}else e=e;else return h;this[0]=e;this.length=1;return h}var l=Array.prototype,b=c.makeArray,k=a._isNodeList;c.augment(j,{length:0,item:function(e){return c.isNumber(e)?e>=this.length?null:new j(this[e]):new j(e)},
add:function(e,d,f){if(c.isNumber(d)){f=d;d=h}e=j.all(e,d).getDOMNodes();d=new j(this);if(f===h)l.push.apply(d,e);else{f=[f,0];f.push.apply(f,e);l.splice.apply(d,f)}return d},slice:function(e,d){return new j(l.slice.call(this,e,d))},getDOMNodes:function(){return l.slice.call(this)},each:function(e,d){var f=this;c.each(f,function(p,q){p=new j(p);return e.call(d||p,p,q,f)});return f},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(e){e=this.length>0?j.all(e,
this):new j;e.__parent=this;return e},one:function(e){e=this.all(e);if(e=e.length?e.slice(0,1):null)e.__parent=this;return e}});c.mix(j,{all:function(e,d){if(c.isString(e)&&(e=c.trim(e))&&e.length>=3&&c.startsWith(e,"<")&&c.endsWith(e,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new j(e,h,d)}return new j(a.query(e,d))},one:function(e,d){var f=j.all(e,d);return f.length?f.slice(0,1):null}});c.mix(j,a._NODE_TYPE);return j},{requires:["dom"]});
KISSY.add("node/attach",function(c,a,h,j,l){function b(d,f,p){p.unshift(f);d=a[d].apply(a,p);if(d===l)return f;return d}var k=j.prototype,e=c.makeArray;c.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(d){k[d]=function(){var f=e(arguments);return b(d,this,f)}});c.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(d){k[d]=function(){var f=e(arguments);f.unshift(this);f=a[d].apply(a,f);f=f===l?this:f===null?null:new j(f);return f}});c.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(d,f){k[f]=function(){var p=e(arguments);if(p[d]===l&&!c.isObject(p[0])){p.unshift(this);p=a[f].apply(a,p)}else p=
b(f,this,p);return p}});c.each(["on","detach","fire","delegate","undelegate"],function(d){k[d]=function(){var f=e(arguments);f.unshift(this);return h[d].apply(h,f)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(c,a,h,j){c.each(["append","prepend","before","after"],function(l){j.prototype[l]=function(b){b=b;if(c.isString(b))b=a.create(b);b&&a[l](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var c=Math.PI,a=Math.pow,h=Math.sin,j=1.70158,l={swing:function(b){return-Math.cos(b*c)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;
return-(a(2,10*(b-=1))*h((b-0.075)*2*c/0.3))},elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*h((b-0.075)*2*c/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*h((b-0.1125)*2*c/0.45);return a(2,-10*(b-=1))*h((b-0.1125)*2*c/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((j+1)*b-j)},backOut:function(b){return(b-=1)*b*((j+1)*b+j)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((j*=1.525)+1)*b-j);return 0.5*((b-=2)*b*
(((j*=1.525)+1)*b+j)+2)},bounceIn:function(b){return 1-l.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return l.bounceIn(b*2)*0.5;return l.bounceOut(b*2-1)*0.5+0.5}};l.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",
easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return l});
KISSY.add("anim/manager",function(c){var a=c.stamp;return{interval:15,runnings:{},timer:null,start:function(h){var j=a(h);if(!this.runnings[j]){this.runnings[j]=h;this.startTimer()}},stop:function(h){this.notRun(h)},notRun:function(h){delete this.runnings[a(h)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(h){this.notRun(h)},resume:function(h){this.start(h)},startTimer:function(){var h=this;if(!h.timer)h.timer=setTimeout(function(){if(h.runFrames())h.stopTimer();else{h.timer=0;
h.startTimer()}},h.interval)},stopTimer:function(){var h=this.timer;if(h){clearTimeout(h);this.timer=0}},runFrames:function(){var h=1,j=this.runnings,l;for(l in j)if(j.hasOwnProperty(l)){h=0;j[l]._frame()}return h}}});
KISSY.add("anim/fx",function(c,a,h){function j(b){this.load(b)}function l(b,k){if((!b.style||b.style[k]==null)&&a.attr(b,k,h,1)!=null)return 1;return 0}c.augment(j,{load:function(b){c.mix(this,b);this.startTime=c.now();this.pos=0;this.unit=this.unit||""},frame:function(b){var k=0,e=c.now();if(b||e>=this.duration+this.startTime)k=this.pos=1;else{b=e-this.startTime;this.pos=this.easing(b/this.duration)}this.update();return k},interpolate:function(b,k,e){return c.isNumber(b)&&c.isNumber(k)?(b+(k-b)*
e).toFixed(3):h},update:function(){var b=this.prop,k=this.elem,e=this.from,d=this.to,f=this.interpolate(e,d,this.pos);if(f===h){if(!this.finished){this.finished=1;a.css(k,b,d);c.log(this.prop+" update directly ! : "+f+" : "+e+" : "+d)}}else{f+=this.unit;l(k,b)?a.attr(k,b,f,1):a.css(k,b,f)}},cur:function(){var b=this.prop,k=this.elem;if(l(k,b))return a.attr(k,b,h,1);var e;b=a.css(k,b);return isNaN(e=parseFloat(b))?!b||b==="auto"?0:b:e}});j.Factories={};j.getFx=function(b){return new (j.Factories[b.prop]||
j)(b)};return j},{requires:["dom"]});
KISSY.add("anim/queue",function(c,a){function h(e,d,f){d=d||b;var p,q=a.data(e,l);if(!q&&!f)a.data(e,l,q={});if(q){p=q[d];if(!p&&!f)p=q[d]=[]}return p}function j(e,d){d=d||b;var f=a.data(e,l);f&&delete f[d];c.isEmptyObject(f)&&a.removeData(e,l)}var l=c.guid("ks-queue-"+c.now()+"-"),b=c.guid("ks-queue-"+c.now()+"-"),k={queueCollectionKey:l,queue:function(e){var d=h(e.elem,e.config.queue);d.push(e);d[0]!=="..."&&k.dequeue(e);return d},remove:function(e){var d=h(e.elem,e.config.queue,1);if(d){e=c.indexOf(e,
d);e>-1&&d.splice(e,1)}},removeQueues:function(e){a.removeData(e,l)},removeQueue:j,dequeue:function(e){var d=e.elem;e=e.config.queue;var f=h(d,e,1),p=f&&f.shift();if(p=="...")p=f.shift();if(p){f.unshift("...");p._runInternal()}else j(d,e)}};return k},{requires:["dom"]});
KISSY.add("anim/base",function(c,a,h,j,l,b,k,e){function d(y,A,v,r,t){if(y=a.get(y)){if(!(this instanceof d))return new d(y,A,v,r,t);A=c.isString(A)?c.unparam(A,";",":"):c.clone(A);for(var i in A){var s=g(c.trim(i));if(i!=s){A[s]=A[i];delete A[i]}}v=c.isPlainObject(v)?c.clone(v):{duration:parseFloat(v)||undefined,easing:r,complete:t};this.config=v=c.merge(F,v);v.duration*=1E3;this.elem=this.domEl=y;this.props=A;this._backupProps={};this._fxs={};this.on("complete",f)}}function f(y){var A=this._backupProps,
v=this.config;c.isEmptyObject(A=this._backupProps)||a.css(this.elem,A);v.complete&&v.complete.call(this,y)}function p(){var y=this.config,A=this._backupProps,v=this.elem,r,t,i,s=y.specialEasing||{},w=this._fxs,n=this.props;q(this);if(this.fire("start")===false)this.stop(0);else{if(o(v)){r=a.css(v,"display")=="none";for(i in n){t=n[i];if(t=="hide"&&r||t=="show"&&!r){this.stop(1);return}}}c.each(n,function(L,J){if(n.hasOwnProperty(J)){var K;if(c.isArray(L)){K=s[J]=L[1];n[J]=L[0]}else K=s[J]=s[J]||y.easing;
if(c.isString(K))K=s[J]=j[K];s[J]=K||j.easeNone}});c.each(E,function(L,J){var K,M,O;if(O=n[J]){M={};c.each(L,function(N){M[N]=a.css(v,N);s[N]=s[J]});a.css(v,J,O);for(K in M){n[K]=a.css(v,K);a.css(v,K,M[K])}delete n[J]}});for(i in n)if(n.hasOwnProperty(i)){t=c.trim(n[i]);var u,B,C={elem:v,prop:i,duration:y.duration,easing:s[i]},G=k.getFx(C);if(c.inArray(t,x)){A[i]=a.style(v,i);if(t=="toggle")t=r?"show":"hide";if(t=="hide"){u=0;B=G.cur();A.display="none"}else{a.show(v);B=0;u=G.cur()}t=u}else{u=t;B=
G.cur()}t+="";var H="",I=t.match(D);if(I){u=parseFloat(I[2]);if((H=I[3])&&H!=="px"){a.css(v,i,t);B=u/G.cur()*B;a.css(v,i,B+H)}if(I[1])u=(I[1]==="-="?-1:1)*u+B}C.from=B;C.to=u;C.unit=H;G.load(C);w[i]=G}if(o(v)&&(n.width||n.height)){c.mix(A,{overflow:a.css(v,"overflow"),"overflow-x":a.css(v,"overflowX"),"overflow-y":a.css(v,"overflowY")});a.css(v,"overflow","hidden");if(a.css(v,"display")==="inline"&&a.css(v,"float")==="none")l.ie?a.css(v,"zoom",1):a.css(v,"display","inline-block")}b.start(this)}}function q(y){var A=
y.elem,v=a.data(A,z);v||a.data(A,z,v={});v[c.stamp(y)]=y}function m(y,A,v,r){v&&r!==false&&e.removeQueue(y,r);y=a.data(y,z);y=c.merge(y);for(var t in y){v=y[t];v.config.queue==r&&v.stop(A)}}var g=a._camelCase,o=a._isElementNode,x=["hide","show","toggle"],E={border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom",
"marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},F={duration:1,easing:"easeNone"},D=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;d.SHORT_HANDS=E;c.augment(d,h.Target,{isRunning:function(){var y;y=(y=a.data(this.elem,z))?!!y[c.stamp(this)]:0;return y},_runInternal:p,run:function(){this.config.queue===false?p.call(this):e.queue(this);return this},_frame:function(){var y,A=1,v=this._fxs;for(y in v)if(v.hasOwnProperty(y))A&=v[y].frame();if(this.fire("step")===
false||A)this.stop(A)},stop:function(y){var A=this.config.queue,v,r=this._fxs;if(this.isRunning()){if(y){for(v in r)r.hasOwnProperty(v)&&r[v].frame(1);this.fire("complete")}b.stop(this);y=this.elem;if(v=a.data(y,z)){delete v[c.stamp(this)];c.isEmptyObject(v)&&a.removeData(y,z)}A!==false&&e.dequeue(this);return this}else A!==false&&e.remove(this)}});var z=c.guid("ks-anim-unqueued-"+c.now()+"-");d.stop=function(y,A,v,r){if(r===null||c.isString(r)||r===false)return m.apply(undefined,arguments);v&&e.removeQueues(y);
var t=a.data(y,z);t=c.merge(t);for(var i in t)t[i].stop(A)};d.isRunning=function(y){return(y=a.data(y,z))&&!c.isEmptyObject(y)};d.Q=e;return d},{requires:["dom","event","./easing","ua","./manager","./fx","./queue"]});
KISSY.add("anim/color",function(c,a,h,j){function l(m){m+="";var g;if(g=m.match(f))return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])];else if(g=m.match(p))return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),parseInt(g[4])];else if(g=m.match(q)){for(m=1;m<g.length;m++)if(g[m].length<2)g[m]+=g[m];return[parseInt(g[1],k),parseInt(g[2],k),parseInt(g[3],k)]}if(d[m=m.toLowerCase()])return d[m];c.log("only allow rgb or hex color string : "+m,"warn");return[255,255,255]}function b(){b.superclass.constructor.apply(this,
arguments)}var k=16,e=Math.floor,d={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},f=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,p=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,q=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;a=h.SHORT_HANDS;
a.background=["backgroundColor"];a.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];a.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");a.borderBottom.push("borderBottomColor");a.borderLeft.push("borderLeftColor");a.borderRight.push("borderRightColor");a.borderTop.push("borderTopColor");c.extend(b,j,{load:function(){b.superclass.load.apply(this,arguments);if(this.from)this.from=l(this.from);if(this.to)this.to=l(this.to)},
interpolate:function(m,g,o){var x=b.superclass.interpolate;if(m.length==3&&g.length==3)return"rgb("+[e(x(m[0],g[0],o)),e(x(m[1],g[1],o)),e(x(m[2],g[2],o))].join(", ")+")";else if(m.length==4||g.length==4)return"rgba("+[e(x(m[0],g[0],o)),e(x(m[1],g[1],o)),e(x(m[2],g[2],o)),e(x(m[3]||1,g[3]||1,o))].join(", ")+")";else c.log("anim/color unknown value : "+m)}});c.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(m){j.Factories[m]=
b});return b},{requires:["dom","./base","./fx"]});KISSY.add("anim",function(c,a,h){a.Easing=h;return a},{requires:["anim/base","anim/easing","anim/color"]});
KISSY.add("node/anim",function(c,a,h,j,l){function b(e,d,f){var p=[],q={};for(f=f||0;f<d;f++)p.push.apply(p,k[f]);for(f=0;f<p.length;f++)q[p[f]]=e;return q}var k=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.augment(j,{animate:function(){var e=c.makeArray(arguments);c.each(this,function(d){h.apply(l,[d].concat(e)).run()});return this},stop:function(e,d,f){c.each(this,function(p){h.stop(p,e,d,f)});
return this},isRunning:function(){for(var e=0;e<this.length;e++)if(h.isRunning(this[e]))return 1;return 0}});c.each({show:b("show",3),hide:b("hide",3),toggle:b("toggle",3),fadeIn:b("show",3,2),fadeOut:b("hide",3,2),fadeToggle:b("toggle",3,2),slideDown:b("show",1),slideUp:b("hide",1),slideToggle:b("toggle",1)},function(e,d){j.prototype[d]=function(f,p,q){a[d]&&!f?a[d](this):c.each(this,function(m){h(m,e,f,q||"easeOut",p).run()});return this}})},{requires:["dom","anim","./base"]});
KISSY.add("node",function(c,a,h){h.KeyCodes=a.KeyCodes;return h},{requires:["event","node/base","node/attach","node/override","node/anim"]});
KISSY.add("json/json2",function(c,a){function h(g){return g<10?"0"+g:g}function j(g){d.lastIndex=0;return d.test(g)?'"'+g.replace(d,function(o){var x=q[o];return typeof x==="string"?x:"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+g+'"'}function l(g,o){var x,E,F,D,z=f,y,A=o[g];if(A&&typeof A==="object"&&typeof A.toJSON==="function")A=A.toJSON(g);if(typeof m==="function")A=m.call(o,g,A);switch(typeof A){case "string":return j(A);case "number":return isFinite(A)?String(A):"null";case "boolean":case "null":return String(A);
case "object":if(!A)return"null";f+=p;y=[];if(Object.prototype.toString.apply(A)==="[object Array]"){D=A.length;for(x=0;x<D;x+=1)y[x]=l(x,A)||"null";F=y.length===0?"[]":f?"[\n"+f+y.join(",\n"+f)+"\n"+z+"]":"["+y.join(",")+"]";f=z;return F}if(m&&typeof m==="object"){D=m.length;for(x=0;x<D;x+=1){E=m[x];if(typeof E==="string")if(F=l(E,A))y.push(j(E)+(f?": ":":")+F)}}else for(E in A)if(Object.hasOwnProperty.call(A,E))if(F=l(E,A))y.push(j(E)+(f?": ":":")+F);F=y.length===0?"{}":f?"{\n"+f+y.join(",\n"+f)+
"\n"+z+"}":"{"+y.join(",")+"}";f=z;return F}}var b=window,k=b.JSON;if(!k||a.ie<9)k=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,p,q={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof k.stringify!=="function")k.stringify=function(g,o,x){var E;p=f="";if(typeof x==="number")for(E=0;E<x;E+=1)p+=" ";else if(typeof x==="string")p=x;if((m=o)&&typeof o!=="function"&&(typeof o!=="object"||typeof o.length!=="number"))throw Error("JSON.stringify");return l("",{"":g})};if(typeof k.parse!==
"function")k.parse=function(g,o){function x(F,D){var z,y,A=F[D];if(A&&typeof A==="object")for(z in A)if(Object.hasOwnProperty.call(A,z)){y=x(A,z);if(y!==undefined)A[z]=y;else delete A[z]}return o.call(F,D,A)}var E;g=String(g);e.lastIndex=0;if(e.test(g))g=g.replace(e,function(F){return"\\u"+("0000"+F.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(g.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){E=eval("("+g+")");return typeof o==="function"?x({"":E},""):E}throw new SyntaxError("JSON.parse");};return k},{requires:["ua"]});KISSY.add("json",function(c,a){return{parse:function(h){if(c.isNullOrUndefined(h)||h==="")return null;return a.parse(h)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/form-serializer",function(c,a){var h=/^(?:select|textarea)/i,j=/\r?\n/g,l=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return{serialize:function(b){var k=[],e={};a.query(b).each(function(d){d=d.elements?c.makeArray(d.elements):[d];k.push.apply(k,d)});k=c.filter(k,function(d){return d.name&&!d.disabled&&(d.checked||h.test(d.nodeName)||l.test(d.type))});c.each(k,function(d){var f=a.val(d);f=c.map(c.makeArray(f),function(p){return p.replace(j,
"\r\n")});d=e[d.name]=e[d.name]||[];d.push.apply(d,f)});return c.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/xhrobject",function(c,a){function h(b){var k=b.responseText,e=b.responseXML,d=b.config,f=d.converters,p=b.converters||{},q,m,g=d.contents,o=d.dataType;if(k||e){for(d=b.mimeType||b.getResponseHeader("Content-Type");o[0]=="*";)o.shift();if(!o.length)for(q in g)if(g[q].test(d)){o[0]!=q&&o.unshift(q);break}o[0]=o[0]||"text";if(o[0]=="text"&&k!==undefined)m=k;else if(o[0]=="xml"&&e!==undefined)m=e;else c.each(["text","xml"],function(E){var F=o[0];if(p[E]&&p[E][F]||f[E]&&f[E][F]){o.unshift(E);
m=E=="text"?k:e;return false}})}g=o[0];for(d=1;d<o.length;d++){q=o[d];var x=p[g]&&p[g][q]||f[g]&&f[g][q];if(!x)throw"no covert for "+g+" => "+q;m=x(m);g=q}b.responseData=m}function j(b){c.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var l=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;c.augment(j,a.Target,{setRequestHeader:function(b,k){this.requestHeaders[b]=
k;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var k;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};k=l.exec(this.responseHeadersString);)this.responseHeaders[k[1]]=k[2];k=this.responseHeaders[b]}return k===undefined?null:k},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,k){if(this.state!=2){this.state=2;this.readyState=4;var e;if(b>=200&&b<300||b==304)if(b==304){k="notmodified";e=true}else try{h(this);k="success";e=true}catch(d){k="parsererror : "+d}else if(b<0)b=0;this.status=b;this.statusText=k;e?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return j},{requires:["event"]});
KISSY.add("ajax/base",function(c,a,h,j){function l(z){z=c.mix(c.clone(D),z||{},undefined,undefined,true);if(!c.isBoolean(z.crossDomain)){var y=f.exec(z.url.toLowerCase());z.crossDomain=!!(y&&(y[1]!=x[1]||y[2]!=x[2]||(y[3]||(y[1]==="http:"?q:m))!=(x[3]||(x[1]==="http:"?q:m))))}if(z.processData&&z.data&&!c.isString(z.data))z.data=c.param(z.data,undefined,undefined,z.serializeArray);z.type=z.type.toUpperCase();z.hasContent=!g.test(z.type);if(!z.hasContent){if(z.data)z.url+=(/\?/.test(z.url)?"&":"?")+
z.data;if(z.cache===false)z.url+=(/\?/.test(z.url)?"&":"?")+"_ksTS="+(c.now()+"_"+c.guid())}z.dataType=c.trim(z.dataType||"*").split(d);z.context=z.context||z;return z}function b(z,y){e.fire(z,{ajaxConfig:y.config,xhr:y})}function k(z){var y=this.config;z=z.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);y[z]&&y[z].call(y.context,this.responseData,this.statusText,this);b(z,this)}function e(z){if(z.url){z=l(z);var y=new j(z);b("start",y);var A=new (F[z.dataType[0]]||F["*"])(y);y.transport=
A;z.contentType&&y.setRequestHeader("Content-Type",z.contentType);var v=z.dataType[0],r=z.accepts;y.setRequestHeader("Accept",v&&r[v]?r[v]+(v==="*"?"":", */*; q=0.01"):r["*"]);for(var t in z.headers)y.setRequestHeader(t,z.headers[t]);y.on("complete success error",k);y.readyState=1;b("send",y);if(z.async&&z.timeout>0)y.timeoutTimer=setTimeout(function(){y.abort("timeout")},z.timeout*1E3);try{y.state=1;A.send()}catch(i){y.status<2?y.callback(-1,i):c.error(i)}return y}}var d=/\s+/,f=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
p=function(z){return z},q=80,m=443,g=/^(?:GET|HEAD)$/,o,x;try{o=location.href}catch(E){c.log("ajax/base get curLocation error : ");c.log(E);o=document.createElement("a");o.href="";o=o.href}x=f.exec(o);o=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(x[1]);var F={},D={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:a.parse,html:p,text:p,xml:c.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};D.converters.html=D.converters.text;c.mix(e,h.Target);c.mix(e,{isLocal:o,setupConfig:function(z){c.mix(D,z,undefined,undefined,true)},setupTransport:function(z,y){F[z]=y},getTransport:function(z){return F[z]},getConfig:function(){return D}});return e},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhrbase",function(c,a){function h(k,e){try{return new (e||j).XMLHttpRequest}catch(d){}}var j=window,l=j.XDomainRequest,b={proto:{}};b.xhr=j.ActiveXObject?function(k,e){if(k&&l)return new l;var d;if(!(d=!a.isLocal&&h(k,e)))a:{try{d=new (e||j).ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){c.log("createActiveXHR error")}d=void 0}return d}:h;c.mix(b.proto,{sendInternal:function(){var k=this,e=k.xhrObj,d=e.config,f=k.xhr,p,q;d.username?f.open(d.type,d.url,d.async,d.username,d.password):
f.open(d.type,d.url,d.async);if(p=d.xhrFields)for(q in p)f[q]=p[q];e.mimeType&&f.overrideMimeType&&f.overrideMimeType(e.mimeType);if(!d.crossDomain&&!e.requestHeaders["X-Requested-With"])e.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{if(!d.crossDomain)for(q in e.requestHeaders)f.setRequestHeader(q,e.requestHeaders[q])}catch(m){c.log("setRequestHeader in xhr error : ");c.log(m)}f.send(d.hasContent&&d.data||null);if(!d.async||f.readyState==4)k._callback();else if(l&&f instanceof l){f.onload=
function(){f.readyState=4;f.status=200;k._callback()};f.onerror=function(){f.readyState=4;f.status=500;k._callback()}}else f.onreadystatechange=function(){k._callback()}},abort:function(){this._callback(0,1)},_callback:function(k,e){try{var d=this.xhr,f=this.xhrObj,p=f.config;if(e||d.readyState==4){if(l&&d instanceof l){d.onerror=c.noop;d.onload=c.noop}else d.onreadystatechange=c.noop;if(e)d.readyState!==4&&d.abort();else{var q=d.status;if(!(l&&d instanceof l))f.responseHeadersString=d.getAllResponseHeaders();
var m=d.responseXML;if(m&&m.documentElement)f.responseXML=m;f.responseText=d.responseText;try{var g=d.statusText}catch(o){c.log("xhr statustext error : ");c.log(o);g=""}if(!q&&a.isLocal&&!p.crossDomain)q=f.responseText?200:404;else if(q===1223)q=204;f.callback(q,g)}}}catch(x){d.onreadystatechange=c.noop;e||f.callback(-1,x)}}});return b},{requires:["./base"]});
KISSY.add("ajax/subdomain",function(c,a,h,j){function l(d){var f=d.config;this.xhrObj=d;d=f.url.match(b);this.__hostname=d[2];this.__protocol=d[1];f.crossDomain=false}var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=document,e={};c.augment(l,a.proto,{send:function(){var d=this.xhrObj.config,f=this.__hostname,p=e[f],q="/sub_domain_proxy.html";if(d.xdr&&d.xdr.subDomain&&d.xdr.subDomain.proxy)q=d.xdr.subDomain.proxy;if(p&&p.ready)(this.xhr=a.xhr(0,p.iframe.contentWindow))?this.sendInternal():
c.error("document.domain not set correctly!");else{if(p)d=p.iframe;else{p=e[f]={};d=p.iframe=document.createElement("iframe");j.css(d,{position:"absolute",left:"-9999px",top:"-9999px"});j.prepend(d,k.body||k.documentElement);d.src=this.__protocol+"//"+f+q}h.on(d,"load",this._onLoad,this)}},_onLoad:function(){var d=e[this.__hostname];d.ready=1;h.detach(d.iframe,"load",this._onLoad,this);this.send()}});return l},{requires:["./xhrbase","event","dom"]});
KISSY.add("ajax/xdr",function(c,a,h){function j(p,q,m){if(!f){f=true;p='<object id="'+k+'" type="application/x-shockwave-flash" data="'+p+'" width="0" height="0"><param name="movie" value="'+p+'" /><param name="FlashVars" value="yid='+q+"&uid="+m+'&host=KISSY.io" /><param name="allowScriptAccess" value="always" /></object>';q=d.createElement("div");h.prepend(q,d.body||d.documentElement);q.innerHTML=p}}function l(p){c.log("use flash xdr");this.xhrObj=p}var b={},k="io_swf",e,d=document,f=false;c.augment(l,
{send:function(){var p=this,q=p.xhrObj.config;j((q.xdr||{}).src||c.Config.base+"ajax/io.swf",1,1);if(e){p._uid=c.guid();b[p._uid]=p;e.send(q.url,{id:p._uid,uid:p._uid,method:q.type,data:q.hasContent&&q.data||{}})}else setTimeout(function(){p.send()},200)},abort:function(){e.abort(this._uid)},_xdrResponse:function(p,q){var m,g=this.xhrObj;g.responseText=decodeURI(q.c.responseText);switch(p){case "success":m={status:200,statusText:"success"};delete b[q.id];break;case "abort":delete b[q.id];break;case "timeout":case "transport error":case "failure":delete b[q.id];
m={status:500,statusText:p}}m&&g.callback(m.status,m.statusText)}});a.applyTo=function(p,q,m){p=q.split(".");var g=c;c.each(p,function(o){g=g[o]});g.apply(null,m)};a.xdrReady=function(){e=d.getElementById(k)};a.xdrResponse=function(p,q,m){var g=b[q.uid];g&&g._xdrResponse(p,q,m)};c.io=a;return l},{requires:["./base","dom"]});
KISSY.add("ajax/xhr",function(c,a,h,j,l){var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=window.XDomainRequest,e=h.xhr();if(e){var d=function(p){p=p.split(".");return p.length<2?p.join("."):p.reverse().slice(0,2).reverse().join(".")},f=function(p){var q=p.config,m=q.xdr||{};if(q.crossDomain){q=q.url.match(b);if(d(location.hostname)==d(q[2]))return new j(p);if(!("withCredentials"in e)&&(String(m.use)==="flash"||!k))return new l(p)}this.xhrObj=p};c.augment(f,h.proto,{send:function(){this.xhr=
h.xhr(this.xhrObj.config.crossDomain);this.sendInternal()}});a.setupTransport("*",f)}return a},{requires:["./base","./xhrbase","./subdomain","./xdr"]});
KISSY.add("ajax/script",function(c,a){function h(l){if(!l.config.crossDomain&&!l.config.forceScript)return new (a.getTransport("*"))(l);this.xhrObj=l;return 0}var j=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(l){c.globalEval(l);return l}}}});c.augment(h,{send:function(){var l=this,b,k=this.xhrObj.config,e=j.head||j.getElementsByTagName("head")[0]||
j.documentElement;l.head=e;b=j.createElement("script");l.script=b;b.async="async";if(k.scriptCharset)b.charset=k.scriptCharset;b.src=k.url;b.onerror=b.onload=b.onreadystatechange=function(d){d=d||window.event;l._callback((d.type||"error").toLowerCase())};e.insertBefore(b,e.firstChild)},_callback:function(l,b){var k=this.script,e=this.xhrObj,d=this.head;if(k)if(b||!k.readyState||/loaded|complete/.test(k.readyState)||l=="error"){k.onerror=k.onload=k.onreadystatechange=null;d&&k.parentNode&&d.removeChild(k);
this.head=this.script=undefined;if(!b&&l!="error")e.callback(200,"success");else l=="error"&&e.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",h);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(c,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return c.guid("jsonp")}});a.on("start",function(h){h=h.xhr;var j=h.config;if(j.dataType[0]=="jsonp"){var l,b=j.jsonpCallback,k=c.isFunction(b)?b():b,e=window[k];j.url+=(/\?/.test(j.url)?"&":"?")+j.jsonp+"="+k;window[k]=function(d){if(arguments.length>1)d=c.makeArray(arguments);l=[d]};h.on("complete",function(){window[k]=e;if(e===undefined)try{delete window[k]}catch(d){}else l&&e(l[0])});h.converters=h.converters||
{};h.converters.script=h.converters.script||{};h.converters.script.json=function(){l||c.error(" not call jsonpCallback : "+k);return l[0]};j.dataType.length=2;j.dataType[0]="script";j.dataType[1]="json"}});return a},{requires:["./base"]});
KISSY.add("ajax/form",function(c,a,h,j){a.on("start",function(l){l=l.xhr.config;if(l.form){var b=h.get(l.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=j.serialize(b))if(l.hasContent){l.data=l.data||"";if(l.data)l.data+="&";l.data+=b}else l.url+=(/\?/.test(l.url)?"&":"?")+b}else{b=l.dataType[0];if(b=="*")b="text";l.dataType.length=2;l.dataType[0]="iframe";l.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(c,a,h,j){function l(k){this.xhr=k}var b=document;j.setupConfig({converters:{iframe:j.getConfig().converters.text,text:{iframe:function(k){return k}}}});c.augment(l,{send:function(){var k=this.xhr,e=k.config,d,f=a.get(e.form);this.attrs={target:a.attr(f,"target")||"",action:a.attr(f,"action")||""};this.form=f;var p=c.guid("ajax-iframe");k.iframe=a.create("<iframe  id='"+p+"' name='"+p+"' style='position:absolute;left:-9999px;top:-9999px;'/>");k.iframeId=p;a.prepend(k.iframe,
b.body||b.documentElement);a.attr(f,{target:k.iframeId,action:e.url});if(e.data){d=e.data;e=e.serializeArray;d=c.unparam(d);p=[];for(var q in d)for(var m=c.isArray(d[q]),g=c.makeArray(d[q]),o=0;o<g.length;o++){var x=b.createElement("input");x.type="hidden";x.name=q+(m&&e?"[]":"");x.value=g[o];a.append(x,f);p.push(x)}d=p}this.fields=d;h.on(k.iframe,"load error",this._callback,this);f.submit()},_callback:function(k){var e=this.xhr;k=k.type;var d=e.iframe;if(d){a.attr(this.form,this.attrs);if(k=="load"){k=
d.contentWindow.document;e.responseXML=k;e.responseText=a.text(k.body);e.callback(200,"success")}else k=="error"&&e.callback(500,"error");a.remove(this.fields);h.detach(d);setTimeout(function(){a.remove(d)},30);e.iframe=null}},abort:function(){this._callback(0,1)}});j.setupTransport("iframe",l);return j},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(c,a,h){c.mix(h,{serialize:a.serialize,get:function(j,l,b,k,e){if(c.isFunction(l)){k=b;b=l;l=undefined}return h({type:e||"get",url:j,data:l,success:b,dataType:k})},post:function(j,l,b,k){if(c.isFunction(l)){k=b;b=l;l=undefined}return h.get(j,l,b,k,"post")},jsonp:function(j,l,b){if(c.isFunction(l)){b=l;l=undefined}return h.get(j,l,b,"jsonp")},getScript:c.getScript,getJSON:function(j,l,b){if(c.isFunction(l)){b=l;l=undefined}return h.get(j,l,b,"json")},upload:function(j,l,b,
k,e){if(c.isFunction(b)){e=k;k=b;b=undefined}return h({url:j,type:"post",dataType:e,form:l,data:b,success:k})}});return h},{requires:["ajax/form-serializer","ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(c,a){function h(m,g){if(c.isString(g))return m[g];return g}function j(m,g,o,x,E,F,D){D=D||o;return m.fire(g+p(o)+"Change",{attrName:D,subAttrName:F,prevVal:x,newVal:E})}function l(m,g,o){var x=m[g]||{};if(o)m[g]=x;return x}function b(m){return l(m,"__attrs",true)}function k(m){return l(m,"__attrVals",true)}function e(m,g){for(var o=0,x=g.length;m!=a&&o<x;o++)m=m[g[o]];return m}function d(m,g,o,x,E){x=x||{};var F,D,z,y=g;if(g.indexOf(".")!==-1){F=g.split(".");g=
F.shift()}z=m.get(g);if(F)D=e(z,F);if(!(!F&&z===o))if(!(F&&D===o)){if(F){var A=D=c.clone(z),v=F.length-1;if(v>=0){for(var r=0;r<v;r++)A=A[F[r]];if(A!=a)A[F[r]]=o}o=D}if(!x.silent)if(false===j(m,"before",g,z,o,y))return false;o=m.__set(g,o);if(o===false)return o;if(!x.silent){o=k(m)[g];j(m,"after",g,z,o,y);E?E.push({prevVal:z,newVal:o,attrName:g,subAttrName:y}):j(m,"","*",[z],[o],[y],[g])}return m}}function f(){}function p(m){return m.charAt(0).toUpperCase()+m.substring(1)}f.INVALID={};var q=f.INVALID;
c.augment(f,{getAttrs:function(){return b(this)},getAttrVals:function(){var m={},g,o=b(this);for(g in o)m[g]=this.get(g);return m},addAttr:function(m,g,o){var x=b(this);g=c.clone(g);if(x[m])c.mix(x[m],g,o);else x[m]=g;return this},addAttrs:function(m,g){var o=this;c.each(m,function(x,E){o.addAttr(E,x)});g&&o.set(g);return o},hasAttr:function(m){return m&&b(this).hasOwnProperty(m)},removeAttr:function(m){if(this.hasAttr(m)){delete b(this)[m];delete k(this)[m]}return this},set:function(m,g,o){var x;
if(c.isPlainObject(m)){var E=m;m=0;x=true;o=g;g=[];for(m in E){x=d(this,m,E[m],o,g);if(x===false)break}var F=[],D=[],z=[],y=[];c.each(g,function(A){D.push(A.prevVal);z.push(A.newVal);F.push(A.attrName);y.push(A.subAttrName)});F.length&&j(this,"","*",D,z,y,F);return x}return d(this,m,g,o)},__set:function(m,g){var o,x=l(b(this),m,true),E=x.validator;x=x.setter;if(E=h(this,E))if(!E.call(this,g,m))return false;if(x=h(this,x))o=x.call(this,g,m);if(o===q)return false;if(o!==a)g=o;k(this)[m]=g},get:function(m){var g,
o,x;if(m.indexOf(".")!==-1){g=m.split(".");m=g.shift()}o=l(b(this),m).getter;x=m in k(this)?k(this)[m]:this.__getDefAttrVal(m);if(o=h(this,o))x=o.call(this,x,m);if(g)x=e(x,g);return x},__getDefAttrVal:function(m){var g=l(b(this),m),o;if(o=h(this,g.valueFn)){o=o.call(this);if(o!==a)g.value=o;delete g.valueFn;b(this)[m]=g}return g.value},reset:function(m,g){if(c.isString(m))return this.hasAttr(m)?this.set(m,this.__getDefAttrVal(m),g):this;g=m;var o=b(this),x={};for(m in o)x[m]=this.__getDefAttrVal(m);
this.set(x,g);return this}});f.__capitalFirst=p;return f});KISSY.add("base/base",function(c,a,h){function j(l){for(var b=this.constructor;b;){var k=b.ATTRS;if(k){var e=void 0;for(e in k)k.hasOwnProperty(e)&&this.addAttr(e,k[e],false)}b=b.superclass?b.superclass.constructor:null}if(l)for(var d in l)l.hasOwnProperty(d)&&this.__set(d,l[d])}c.augment(j,h.Target,a);return j},{requires:["./attribute","event"]});KISSY.add("base",function(c,a,h){a.Attribute=h;return a},{requires:["base/base","base/attribute"]});
KISSY.add("cookie/base",function(c){var a=document,h=encodeURIComponent,j=decodeURIComponent;return{get:function(l){var b;if(c.isString(l)&&l!=="")if(l=String(a.cookie).match(RegExp("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)")))b=l[1]?j(l[1]):"";return b},set:function(l,b,k,e,d,f){b=String(h(b));var p=k;if(typeof p==="number"){p=new Date;p.setTime(p.getTime()+k*864E5)}if(p instanceof Date)b+="; expires="+p.toUTCString();if(c.isString(e)&&e!=="")b+="; domain="+e;if(c.isString(d)&&d!=="")b+="; path="+d;if(f)b+=
"; secure";a.cookie=l+"="+b},remove:function(l,b,k,e){this.set(l,"",-1,b,k,e)}}});KISSY.add("cookie",function(c,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(c,a,h,j,l,b,k,e,d,f){k.getScript=c.getScript;a={UA:a,DOM:h,Event:j,EventTarget:j.Target,EventObject:j.Object,Node:l,NodeList:l,JSON:b,Ajax:k,IO:k,ajax:k,io:k,jsonp:k.jsonp,Anim:e,Easing:e.Easing,Base:d,Cookie:f,one:l.one,all:l.all,get:h.get,query:h.query};c.mix(c,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
