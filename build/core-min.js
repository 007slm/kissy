/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 10 20:41
*/
KISSY.add("ua/base",function(){var d=navigator.userAgent,a="",h="",i,l=[6,9],b=document.createElement("div"),j,e={},c=function(f){var p=0;return parseFloat(f.replace(/\./g,function(){return p++===0?".":""}))};b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}","");j=b.getElementsByTagName("s");if(j.length>0){h="ie";e[a="trident"]=0.1;if((i=d.match(/Trident\/([\d.]*)/))&&i[1])e[a]=c(i[1]);d=l[0];for(l=l[1];d<=l;d++){b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
d);if(j.length>0){e[h]=d;break}}}else if((i=d.match(/AppleWebKit\/([\d.]*)/))&&i[1]){e[a="webkit"]=c(i[1]);if((i=d.match(/Chrome\/([\d.]*)/))&&i[1])e[h="chrome"]=c(i[1]);else if((i=d.match(/\/([\d.]*) Safari/))&&i[1])e[h="safari"]=c(i[1]);if(/ Mobile\//.test(d))e.mobile="apple";else if(i=d.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=i[0].toLowerCase()}else if((i=d.match(/Presto\/([\d.]*)/))&&i[1]){e[a="presto"]=c(i[1]);if((i=d.match(/Opera\/([\d.]*)/))&&i[1]){e[h="opera"]=c(i[1]);
if((i=d.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])e[h]=c(i[1]);if((i=d.match(/Opera Mini[^;]*/))&&i)e.mobile=i[0].toLowerCase();else if((i=d.match(/Opera Mobi[^;]*/))&&i)e.mobile=i[0]}}else if((i=d.match(/MSIE\s([^;]*)/))&&i[1]){e[a="trident"]=0.1;e[h="ie"]=c(i[1]);if((i=d.match(/Trident\/([\d.]*)/))&&i[1])e[a]=c(i[1])}else if(i=d.match(/Gecko/)){e[a="gecko"]=0.1;if((i=d.match(/rv:([\d.]*)/))&&i[1])e[a]=c(i[1]);if((i=d.match(/Firefox\/([\d.]*)/))&&i[1])e[h="firefox"]=c(i[1])}e.core=a;e.shell=h;
e._numberify=c;return e});KISSY.add("ua/extra",function(d,a){var h=navigator.userAgent,i,l,b={},j=a._numberify;if(h.match(/360SE/))b[l="se360"]=3;else if(h.match(/Maxthon/)&&(i=window.external)){l="maxthon";try{b[l]=j(i.max_version)}catch(e){b[l]=0.1}}else if(i=h.match(/TencentTraveler\s([\d.]*)/))b[l="tt"]=i[1]?j(i[1]):0.1;else if(h.match(/TheWorld/))b[l="theworld"]=3;else if(i=h.match(/SE\s([\d.]*)/))b[l="sougou"]=i[1]?j(i[1]):0.1;l&&(b.shell=l);d.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(d,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(d,a,h){function i(j,e){return j&&j.nodeType===e}var l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},b={_isCustomDomain:function(j){j=j||window;var e=j.document.domain;j=j.location.hostname;return e!=j&&e!="["+j+"]"},_genEmptyIframeSrc:function(j){j=j||window;if(a.ie&&b._isCustomDomain(j))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+j.document.domain+"';document.close();")+"}())"},_NODE_TYPE:l,_isElementNode:function(j){return i(j,b.ELEMENT_NODE)},_getWin:function(j){return j&&"scrollTo"in j&&j.document?j:i(j,b.DOCUMENT_NODE)?j.defaultView||j.parentWindow:j===h||j===null?window:false},_nodeTypeIs:i,_isNodeList:function(j){return j&&!j.nodeType&&j.item&&!j.setTimeout},_nodeName:function(j,e){return j&&j.nodeName.toLowerCase()===e.toLowerCase()}};d.mix(b,l);return b},{requires:["ua"]});
KISSY.add("dom/attr",function(d,a,h,i){function l(z,r){r=F[r]||r;var v=s[r];return v&&v.get?v.get(z,r):z[r]}h=document.documentElement;var b=!h.hasAttribute,j=h.textContent===i?"innerText":"textContent",e=a._nodeName,c=a._isElementNode,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:button|input|object|select|textarea)$/i,q=/^a(?:rea)?$/i,m=/:|^on/,g=/\r/g,o={},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},E={tabindex:{get:function(z){var r=z.getAttributeNode("tabindex");return r&&r.specified?parseInt(r.value,10):p.test(z.nodeName)||q.test(z.nodeName)&&z.href?0:i}},style:{get:function(z){return z.style.cssText},set:function(z,r){z.style.cssText=r}}},F={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},C={get:function(z,r){return a.prop(z,r)?r.toLowerCase():i},set:function(z,r,v){if(r===false)a.removeAttr(z,v);else{r=F[v]||v;if(r in z)z[r]=true;z.setAttribute(v,v.toLowerCase())}return v}},s={},y={},A={option:{get:function(z){var r=z.attributes.value;return!r||r.specified?z.value:z.text}},select:{get:function(z){var r=z.selectedIndex,v=z.options;z=z.type==="select-one";if(r<0)return null;else if(z)return a.val(v[r]);r=[];z=0;for(var k=v.length;z<k;++z)v[z].selected&&
r.push(a.val(v[z]));return r},set:function(z,r){var v=d.makeArray(r);d.each(z.options,function(k){k.selected=d.inArray(a.val(k),v)});if(!v.length)z.selectedIndex=-1;return v}}};if(b){y={get:function(z,r){var v;return(v=z.getAttributeNode(r))&&v.nodeValue!==""?v.nodeValue:i},set:function(z,r,v){var k=z.getAttributeNode(v);if(k)k.nodeValue=r;else try{var t=z.ownerDocument.createAttribute(v);t.value=r;z.setAttributeNode(t)}catch(u){return z.setAttribute(v,r,0)}}};o=F;E.tabIndex=E.tabindex;d.each(["href",
"src","width","height","colSpan","rowSpan"],function(z){E[z]={get:function(r){r=r.getAttribute(z,2);return r===null?i:r}}});A.button=E.value=y}d.each(["radio","checkbox"],function(z){A[z]={get:function(r){return r.getAttribute("value")===null?"on":r.value},set:function(r,v){if(d.isArray(v))return r.checked=d.inArray(a.val(r),v)}}});d.mix(a,{prop:function(z,r,v){if(d.isPlainObject(r))for(var k in r)a.prop(z,k,r[k]);else{z=a.query(z);r=F[r]||r;var t=s[r];if(v!==i)z.each(function(u){if(t&&t.set)t.set(u,
v,r);else u[r]=v});else if(z.length)return l(z[0],r)}},hasProp:function(z,r){for(var v=a.query(z),k=0;k<v.length;k++)if(l(v[k],r)!==i)return true;return false},removeProp:function(z,r){r=F[r]||r;a.query(z).each(function(v){try{v[r]=i;delete v[r]}catch(k){d.log("delete el property error : ");d.log(k)}})},attr:function(z,r,v,k){if(d.isPlainObject(r)){k=v;for(var t in r)a.attr(z,t,r[t],k)}else if(r=d.trim(r)){if(k&&x[r])return a[r](z,v);r=r.toLowerCase();if(k&&x[r])return a[r](z,v);r=o[r]||r;var u;u=
f.test(r)?C:m.test(r)?y:E[r];if(v===i){z=a.get(z);if(c(z)){if(e(z,"form"))u=y;if(u&&u.get)return u.get(z,r);z=z.getAttribute(r);return z===null?i:z}}else a.query(z).each(function(n){if(c(n)){var w=u;if(e(n,"form"))w=y;w&&w.set?w.set(n,v,r):n.setAttribute(r,""+v)}})}},removeAttr:function(z,r){r=r.toLowerCase();r=o[r]||r;a.query(z).each(function(v){if(c(v)){var k;v.removeAttribute(r);if(f.test(r)&&(k=F[r]||r)in v)v[k]=false}})},hasAttr:b?function(z,r){r=r.toLowerCase();for(var v=a.query(z),k=0;k<v.length;k++){var t=
v[k].getAttributeNode(r);if(t&&t.specified)return true}return false}:function(z,r){for(var v=a.query(z),k=0;k<v.length;k++)if(v[k].hasAttribute(r))return true;return false},val:function(z,r){var v,k;if(r===i){var t=a.get(z);if(t){if((v=A[t.nodeName.toLowerCase()]||A[t.type])&&"get"in v&&(k=v.get(t,"value"))!==i)return k;k=t.value;return typeof k==="string"?k.replace(g,""):d.isNullOrUndefined(k)?"":k}}else a.query(z).each(function(u){if(u.nodeType===1){var n=r;if(d.isNullOrUndefined(n))n="";else if(typeof n===
"number")n+="";else if(d.isArray(n))n=d.map(n,function(w){return d.isNullOrUndefined(n)?"":w+""});v=A[u.nodeName.toLowerCase()]||A[u.type];if(!v||!("set"in v)||v.set(u,n,"value")===i)u.value=n}})},text:function(z,r){if(r===i){var v=a.get(z);if(c(v))return v[j]||"";else if(a._nodeTypeIs(v,a.TEXT_NODE))return v.nodeValue;return i}else a.query(z).each(function(k){if(c(k))k[j]=r;else if(a._nodeTypeIs(k,a.TEXT_NODE))k.nodeValue=r})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(d,a,h){function i(c){return(b+c+b).replace(e,b)}function l(c,f,p,q){if(!(f=d.trim(f)))return q?false:h;c=a.query(c);var m=c.length,g=f.split(j);f=[];for(var o=0;o<g.length;o++){var x=d.trim(g[o]);x&&f.push(x)}for(o=0;o<m;o++){g=c[o];if(a._isElementNode(g)){g=p(g,f,f.length);if(g!==h)return g}}if(q)return false;return h}var b=" ",j=/[\.\s]\s*\.?/,e=/[\n\t]/g;d.mix(a,{__hasClass:function(c,f){var p=c.className;if(p){p=i(p);return p.indexOf(b+f+b)>-1}else return false},
hasClass:function(c,f){return l(c,f,function(p,q,m){if(p=p.className){p=i(p);for(var g=0,o=true;g<m;g++)if(p.indexOf(b+q[g]+b)<0){o=false;break}if(o)return true}},true)},addClass:function(c,f){l(c,f,function(p,q,m){var g=p.className;if(g){var o=i(g);g=g;for(var x=0;x<m;x++)if(o.indexOf(b+q[x]+b)<0)g+=b+q[x];p.className=d.trim(g)}else p.className=f},h)},removeClass:function(c,f){l(c,f,function(p,q,m){var g=p.className;if(g)if(m){g=i(g);for(var o=0,x;o<m;o++)for(x=b+q[o]+b;g.indexOf(x)>=0;)g=g.replace(x,
b);p.className=d.trim(g)}else p.className=""},h)},replaceClass:function(c,f,p){a.removeClass(c,f);a.addClass(c,p)},toggleClass:function(c,f,p){var q=d.isBoolean(p),m;l(c,f,function(g,o,x){for(var E=0,F;E<x;E++){F=o[E];m=q?!p:a.hasClass(g,F);a[m?"removeClass":"addClass"](g,F)}},h)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(d,a,h,i){function l(k){var t=d.require("event");t&&t.detach(k);a.removeData(k)}function b(k,t,u){if(p(t,a.DOCUMENT_FRAGMENT_NODE)){t=t.childNodes;u=u.childNodes;for(var n=0;t[n];){u[n]&&b(k,t[n],u[n]);n++}}else if(q(t)){t=t.getElementsByTagName("*");u=u.getElementsByTagName("*");for(n=0;t[n];){u[n]&&k(t[n],u[n]);n++}}}function j(k,t){var u=d.require("event");if(!(q(t)&&!a.hasData(k))){var n=a.data(k),w;for(w in n)a.data(t,w,n[w]);if(u){u._removeData(t);u._clone(k,t)}}}
function e(k,t){t.clearAttributes&&t.clearAttributes();t.mergeAttributes&&t.mergeAttributes(k);var u=t.nodeName.toLowerCase(),n=k.childNodes;if(u==="object"&&!t.childNodes.length)for(u=0;u<n.length;u++)t.appendChild(n[u].cloneNode(true));else if(u==="input"&&(k.type==="checkbox"||k.type==="radio")){if(k.checked)t.defaultChecked=t.checked=k.checked;if(t.value!==k.value)t.value=k.value}else if(u==="option")t.selected=k.defaultSelected;else if(u==="input"||u==="textarea")t.defaultValue=k.defaultValue;
t.removeAttribute(a.__EXPANDO)}function c(k,t){var u=null,n,w;if(k&&(k.push||k.item)&&k[0]){t=t||k[0].ownerDocument;u=t.createDocumentFragment();k=d.makeArray(k);n=0;for(w=k.length;n<w;n++)u.appendChild(k[n])}else d.log("Unable to convert "+k+" to fragment.");return u}var f=document;h=h.ie;var p=a._nodeTypeIs,q=a._isElementNode,m=d.isString,g=f.createElement("div"),o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,x=/<([\w:]+)/,E=/^\s+/,F=h&&h<9,C=/<|&#?\w+;/,s=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
d.mix(a,{create:function(k,t,u,n){if(q(k)||p(k,a.TEXT_NODE))return a.clone(k);var w=null;if(!m(k))return w;if(n===i)n=true;if(n)k=d.trim(k);if(!k)return w;n=a._creators;var B,D;u=u||f;var G,H="div";if(C.test(k))if(G=s.exec(k))w=u.createElement(G[1]);else{k=k.replace(o,"<$1></$2>");if((G=x.exec(k))&&(B=G[1]))H=B.toLowerCase();B=(n[H]||n.div)(k,u);if(F&&(D=k.match(E)))B.insertBefore(u.createTextNode(D[0]),B.firstChild);D=B.childNodes;if(D.length===1)w=D[0].parentNode.removeChild(D[0]);else if(D.length)w=
c(D,u);else d.error(k+" : create node error")}else w=u.createTextNode(k);k=w;if(d.isPlainObject(t))if(q(k))a.attr(k,t,true);else p(k,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(k.childNodes,t,true);return k},_creators:{div:function(k,t){var u=t&&t!=f?t.createElement("div"):g;u.innerHTML="m<div>"+k+"</div>";return u.lastChild}},html:function(k,t,u,n){k=a.query(k);var w=k[0];if(w)if(t===i)return q(w)?w.innerHTML:null;else{var B=false;t+="";if(!t.match(/<(?:script|style)/i)&&(!F||!t.match(E))&&!r[(t.match(x)||
["",""])[1].toLowerCase()])try{k.each(function(G){if(q(G)){l(G.getElementsByTagName("*"));G.innerHTML=t}});B=true}catch(D){}if(!B){t=a.create(t,0,w.ownerDocument,false);k.each(function(G){if(q(G)){a.empty(G);a.append(t,G,u)}})}n&&n()}},remove:function(k,t){a.query(k).each(function(u){if(!t&&q(u)){var n=u.getElementsByTagName("*");l(n);l(u)}u.parentNode&&u.parentNode.removeChild(u)})},clone:function(k,t,u,n){k=a.get(k);if(!k)return null;var w=k.cloneNode(t);if(q(k)||p(k,a.DOCUMENT_FRAGMENT_NODE)){q(k)&&
e(k,w);t&&b(e,k,w)}if(u){j(k,w);t&&n&&b(j,k,w)}return w},empty:function(k){a.query(k).each(function(t){a.remove(t.childNodes)})},_nl2frag:c});var y=a._creators,A=a.create,z=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},v;for(v in r)(function(k){y[v]=function(t,u){return A("<"+k+">"+t+"</"+k+">",null,u)}})(r[v]);
if(h<8)y.tbody=function(k,t){var u=A("<table>"+k+"</table>",null,t),n=u.children.tags("tbody")[0];u.children.length>1&&n&&!z.test(k)&&n.parentNode.removeChild(n);return u};d.mix(y,{thead:y.tbody,tfoot:y.tbody,caption:y.tbody,colgroup:y.tbody});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(d,a,h){var i=window,l="_ks_data_"+d.now(),b={},j={},e={};e.applet=1;e.object=1;e.embed=1;var c={hasData:function(q,m){if(q)if(m!==h){if(m in q)return true}else if(!d.isEmptyObject(q))return true;return false}},f={hasData:function(q,m){if(q==i)return f.hasData(j,m);return c.hasData(q[l],m)},data:function(q,m,g){if(q==i)return f.data(j,m,g);var o=q[l];if(g!==h){o=q[l]=q[l]||{};o[m]=g}else if(m!==h)return o&&o[m];else return o=q[l]=q[l]||{}},removeData:function(q,m){if(q==
i)return f.removeData(j,m);var g=q[l];if(g)if(m!==h){delete g[m];d.isEmptyObject(g)&&f.removeData(q,h)}else try{delete q[l]}catch(o){q[l]=null}}},p={hasData:function(q,m){var g=q[l];if(!g)return false;return c.hasData(b[g],m)},data:function(q,m,g){if(!e[q.nodeName.toLowerCase()]){var o=q[l];o||(o=q[l]=d.guid());q=b[o];if(g!==h){q=b[o]=b[o]||{};q[m]=g}else if(m!==h)return q&&q[m];else return q=b[o]=b[o]||{}}},removeData:function(q,m){var g=q[l];if(g){var o=b[g];if(o)if(m!==h){delete o[m];d.isEmptyObject(o)&&
p.removeData(q,h)}else{delete b[g];try{delete q[l]}catch(x){}q.removeAttribute&&q.removeAttribute(l)}}}};d.mix(a,{__EXPANDO:l,hasData:function(q,m){for(var g=false,o=a.query(q),x=0;x<o.length;x++)if(g=(g=o[x])&&g.nodeType?p.hasData(g,m):f.hasData(g,m))break;return g},data:function(q,m,g){if(d.isPlainObject(m))for(var o in m)a.data(q,o,m[o]);else if(g===h)if((q=a.get(q))&&q.nodeType)return p.data(q,m,g);else{if(q)return f.data(q,m,g)}else a.query(q).each(function(x){x&&x.nodeType?p.data(x,m,g):f.data(x,
m,g)})},removeData:function(q,m){a.query(q).each(function(g){g&&g.nodeType?p.removeData(g,m):f.removeData(g,m)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(d,a,h){function i(o){for(var x=0;x<o.length;x++){var E=o[x];if(E.nodeType==h.DOCUMENT_FRAGMENT_NODE)i(E.childNodes);else if(c(E,"input")){if(E.type==="checkbox"||E.type==="radio")E.defaultChecked=E.checked}else if(p(E)){E=E.getElementsByTagName("input");for(var F=0;F<E.length;F++)i(E[F])}}}function l(o,x){for(var E=[],F=0;o[F];F++){var C=o[F],s=C.nodeName.toLowerCase();if(C.nodeType==h.DOCUMENT_FRAGMENT_NODE)E.push.apply(E,l(f(C.childNodes),x));else if(s==="script"&&
(!C.type||q.test(C.type))){if(x)x.push(C.parentNode?C.parentNode.removeChild(C):C)}else{if(p(C)&&!e.test(s)){s=[];for(var y=C.getElementsByTagName("script"),A=0;A<y.length;A++)(!y[A].type||q.test(y[A].type))&&s.push(y[A]);o.splice.apply(o,[F+1,0].concat(s))}E.push(C)}}return E}function b(o){if(o.src)d.getScript(o.src);else(o=d.trim(o.text||o.textContent||o.innerHTML||""))&&d.globalEval(o)}function j(o,x,E,F){o=h.query(o);if(F)F=[];o=l(o,F);a.ie<8&&i(o);x=h.query(x);var C=o.length,s=x.length;if(!(!C&&
(!F||!F.length)||!s)){o=h._nl2frag(o);var y;if(s>1)y=h.clone(o,true);for(var A=0;A<s;A++){var z=x[A];if(C){var r=A>0?h.clone(y,true):o;E(r,z)}F&&d.each(F,b)}}}var e=/^(?:button|input|object|select|textarea)$/i,c=h._nodeName,f=d.makeArray,p=h._isElementNode,q=/\/(java|ecma)script/i;d.mix(h,{insertBefore:function(o,x,E){j(o,x,function(F,C){C.parentNode&&C.parentNode.insertBefore(F,C)},E)},insertAfter:function(o,x,E){j(o,x,function(F,C){C.parentNode&&C.parentNode.insertBefore(F,C.nextSibling)},E)},appendTo:function(o,
x,E){j(o,x,function(F,C){C.appendChild(F)},E)},prependTo:function(o,x,E){j(o,x,function(F,C){C.insertBefore(F,C.firstChild)},E)}});var m={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},g;for(g in m)h[g]=h[m[g]];return h},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(d,a,h,i){function l(r){var v,k=0;v=0;var t=e.body,u=m(r[E]);if(r[z]){v=r[z]();k=v[F];v=v[C];r=c&&e.documentMode!=9&&(g?f.clientTop:t.clientTop)||0;k-=c&&e.documentMode!=9&&(g?f.clientLeft:t.clientLeft)||0;v-=r;if(h.mobile=="apple"){k-=a[y](u);v-=a[A](u)}}return{left:k,top:v}}function b(r,v){var k={left:0,top:0},t=m(r[E]),u=r;v=v||t;do{var n;if(t==v){var w=u;n=l(w);w=m(w[E]);n.left+=a[y](w);n.top+=a[A](w);n=n}else n=l(u);n=n;k.left+=n.left;k.top+=n.top}while(t&&t!=v&&
(u=t.frameElement)&&(t=t.parent));return k}var j=window,e=document,c=h.ie,f=e.documentElement,p=a._isElementNode,q=a._nodeTypeIs,m=a._getWin,g=e.compatMode==="CSS1Compat",o=Math.max,x=parseInt,E="ownerDocument",F="left",C="top",s=d.isNumber,y="scrollLeft",A="scrollTop",z="getBoundingClientRect";d.mix(a,{offset:function(r,v,k){if(v===i){r=a.get(r);var t;if(r)t=b(r,k);return t}a.query(r).each(function(u){if(a.css(u,"position")==="static")u.style.position="relative";var n=b(u),w={},B,D;for(D in v){B=
x(a.css(u,D),10)||0;w[D]=B+v[D]-n[D]}a.css(u,w)})},scrollIntoView:function(r,v,k,t,u){if(r=a.get(r)){if(v)v=a.get(v);if(!v)v=r.ownerDocument;if(u!==true){t=t===i?true:!!t;k=k===i?true:!!k}if(q(v,a.DOCUMENT_NODE))v=m(v);var n=!!m(v);u=a.offset(r);var w=a.outerHeight(r);r=a.outerWidth(r);var B,D,G,H;if(n){n=v;D=a.height(n);B=a.width(n);H={left:a.scrollLeft(n),top:a.scrollTop(n)};n={left:u[F]-H[F],top:u[C]-H[C]};u={left:u[F]+r-(H[F]+B),top:u[C]+w-(H[C]+D)};H=H}else{B=a.offset(v);D=v.clientHeight;G=v.clientWidth;
H={left:a.scrollLeft(v),top:a.scrollTop(v)};n={left:u[F]-B[F]-(x(a.css(v,"borderLeftWidth"))||0),top:u[C]-B[C]-(x(a.css(v,"borderTopWidth"))||0)};u={left:u[F]+r-(B[F]+G+(x(a.css(v,"borderRightWidth"))||0)),top:u[C]+w-(B[C]+D+(x(a.css(v,"borderBottomWidth"))||0))}}if(n.top<0||u.top>0)if(k===true)a.scrollTop(v,H.top+n.top);else if(k===false)a.scrollTop(v,H.top+u.top);else n.top<0?a.scrollTop(v,H.top+n.top):a.scrollTop(v,H.top+u.top);if(t)if(n.left<0||u.left>0)if(k===true)a.scrollLeft(v,H.left+n.left);
else if(k===false)a.scrollLeft(v,H.left+u.left);else n.left<0?a.scrollLeft(v,H.left+n.left):a.scrollLeft(v,H.left+u.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});d.each(["Left","Top"],function(r,v){var k="scroll"+r;a[k]=function(t,u){if(s(t))return arguments.callee(j,t);t=a.get(t);var n,w=m(t);if(w)if(u!==i){u=parseFloat(u);var B=r=="Left"?u:a.scrollLeft(w),D=r=="Top"?u:a.scrollTop(w);w.scrollTo(B,D)}else{n=w["page"+(v?"Y":"X")+"Offset"];if(!s(n)){w=w.document;n=w.documentElement[k];
s(n)||(n=w.body[k])}}else if(p(t))if(u!==i)t[k]=parseFloat(u);else n=t[k];return n}});d.each(["Width","Height"],function(r){a["doc"+r]=function(v){v=a.get(v);v=m(v).document;return o(v.documentElement["scroll"+r],v.body["scroll"+r],a["viewport"+r](v))};a["viewport"+r]=function(v){v=a.get(v);var k="client"+r;v=m(v).document;var t=v.body,u=v.documentElement[k];return v.compatMode==="CSS1Compat"&&u||t&&t[k]||u}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(d,a,h,i){function l(n){return n.replace(F,C)}function b(n,w,B){var D={},G;for(G in w){D[G]=n[q][G];n[q][G]=w[G]}B.call(n);for(G in w)n[q][G]=D[G]}function j(n,w,B){var D;if(n.nodeType===3||n.nodeType===8||!(D=n[q]))return i;w=l(w);var G,H=z[w];w=r[w]||w;if(B!==i){if(B===null||B===y)B=y;else if(!isNaN(Number(B))&&!E[w])B+=A;if(H&&H.set)B=H.set(n,B);if(B!==i)try{n[q][w]=B}catch(I){d.log("css set error :"+I)}return i}else{if(!(H&&"get"in H&&(G=H.get(n,false))!==i))G=D[w];
return G===i?"":G}}function e(n,w,B){if(d.isWindow(n))return w==m?a.viewportWidth(n):a.viewportHeight(n);else if(n.nodeType==9)return w==m?a.docWidth(n):a.docHeight(n);var D=w===m?["Left","Right"]:["Top","Bottom"],G=w===m?n.offsetWidth:n.offsetHeight;if(G>0){B!=="border"&&d.each(D,function(H){B||(G-=parseFloat(a.css(n,"padding"+H))||0);if(B==="margin")G+=parseFloat(a.css(n,B+H))||0;else G-=parseFloat(a.css(n,"border"+H+"Width"))||0});return G}G=a._getComputedStyle(n,w);if(G<0||d.isNullOrUndefined(G))G=
n.style[w]||0;G=parseFloat(G)||0;B&&d.each(D,function(H){G+=parseFloat(a.css(n,"padding"+H))||0;if(B!=="padding")G+=parseFloat(a.css(n,"border"+H+"Width"))||0;if(B==="margin")G+=parseFloat(a.css(n,B+H))||0});return G}var c=document,f=c.documentElement,p=h.ie,q="style",m="width",g="display"+d.now(),o=parseInt,x=/^-?\d+(?:px)?$/i,E={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},F=/-([a-z])/ig,C=function(n,w){return w.toUpperCase()},s=/([A-Z]|^ms)/g,y="",A="px",
z={},r={},v={};if(f[q].cssFloat!==i)r["float"]="cssFloat";else if(f[q].styleFloat!==i)r["float"]="styleFloat";var k,t;d.mix(a,{_camelCase:l,_cssNumber:E,_CUSTOM_STYLES:z,_cssProps:r,_getComputedStyle:function(n,w){var B="",D={},G=n.ownerDocument;w=w.replace(s,"-$1").toLowerCase();if(D=G.defaultView.getComputedStyle(n,null))B=D.getPropertyValue(w)||D[w];if(B==""&&!a.__contains(G.documentElement,n)){w=r[w]||w;B=n[q][w]}return B},style:function(n,w,B){if(d.isPlainObject(w))for(var D in w)a.style(n,D,
w[D]);else if(B===i){n=a.get(n);D="";if(n)D=j(n,w,B);return D}else a.query(n).each(function(G){j(G,w,B)})},css:function(n,w,B){if(d.isPlainObject(w))for(var D in w)a.css(n,D,w[D]);else{w=l(w);D=z[w];if(B===i){n=a.get(n);B="";if(n)if(!(D&&"get"in D&&(B=D.get(n,true))!==i))B=a._getComputedStyle(n,w);return B===i?"":B}else a.style(n,w,B)}},show:function(n){a.query(n).each(function(w){w[q].display=a.data(w,g)||y;if(a.css(w,"display")==="none"){var B;a:{B=w.tagName.toLowerCase();var D,G;if(!v[B]){D=c.body||
c.documentElement;G=c.createElement(B);a.prepend(G,D);var H=a.css(G,"display");D.removeChild(G);if(H==="none"||H===""){if(k)a.prepend(k,D);else{k=c.createElement("iframe");k.frameBorder=k.width=k.height=0;a.prepend(k,D);if(G=a._genEmptyIframeSrc())k.src=G}if(!t||!k.createElement)try{t=k.contentWindow.document;t.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(h.ie&&a._isCustomDomain()?"<script>document.domain = '"+c.domain+"';<\/script>":"")+"</head><body>");t.close()}catch(I){B=
"block";break a}G=t.createElement(B);t.body.appendChild(G);H=a.css(G,"display");D.removeChild(k)}v[B]=H}B=v[B]}a.data(w,g,B);w[q].display=B}})},hide:function(n){a.query(n).each(function(w){var B=w[q],D=B.display;if(D!=="none"){D&&a.data(w,g,D);B.display="none"}})},toggle:function(n){a.query(n).each(function(w){a.css(w,"display")==="none"?a.show(w):a.hide(w)})},addStyleSheet:function(n,w,B){if(d.isString(n)){B=w;w=n;n=window}n=a.get(n);n=a._getWin(n).document;var D;if(B&&(B=B.replace("#",y)))D=a.get("#"+
B,n);if(!D){D=a.create("<style>",{id:B},n);a.get("head",n).appendChild(D);if(D.styleSheet)D.styleSheet.cssText=w;else D.appendChild(n.createTextNode(w))}},unselectable:function(n){a.query(n).each(function(w){if(h.gecko)w[q].MozUserSelect="none";else if(h.webkit)w[q].KhtmlUserSelect="none";else if(h.ie||h.opera){var B=0,D=w.getElementsByTagName("*");for(w.setAttribute("unselectable","on");w=D[B++];)switch(w.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:w.setAttribute("unselectable",
"on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([m,"height"],function(n){a["inner"+(n.charAt(0).toUpperCase()+n.substring(1))]=function(w){return(w=a.get(w))?e(w,n,"padding"):null};a["outer"+(n.charAt(0).toUpperCase()+n.substring(1))]=function(w,B){var D=a.get(w);return D?e(D,n,B?"margin":"border"):null};a[n]=function(w,B){var D=a.css(w,n,B);if(D)D=parseFloat(D);return D}});var u={position:"absolute",visibility:"hidden",display:"block"};d.each(["height",
"width"],function(n){z[n]={get:function(w,B){var D;if(B){if(w.offsetWidth!==0)D=e(w,n);else b(w,u,function(){D=e(w,n)});return D+"px"}},set:function(w,B){if(x.test(B)){B=parseFloat(B);if(B>=0)return B+"px"}else return B}}});d.each(["left","top"],function(n){z[n]={get:function(w,B){if(B){var D=a._getComputedStyle(w,n);if(D==="auto"){D=0;if(d.inArray(a.css(w,"position"),["absolute","fixed"])){D=w[n==="left"?"offsetLeft":"offsetTop"];if(p&&document.documentMode!=9||h.opera)D-=w.offsetParent&&w.offsetParent["client"+
(n=="left"?"Left":"Top")]||0;D=D-(o(a.css(w,"margin-"+n))||0)}D+="px"}return D}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(d,a,h){function i(k,t){var u=[],n;n=t===h?[q]:i(t,h);g(n,function(w){C.apply(u,l(k,w))});if(d.isString(k)&&k.indexOf(",")>-1||n.length>1)r(u);u.each=d.bind(g,h,u);return u}function l(k,t){var u=[];d.require("sizzle");if(y(k))k=d.trim(k);if(y(k)&&k.indexOf(",")>-1)u=b(k,t);else{if(y(k)&&!z.exec(String(k))){u=k;var n=[],w=d.require("sizzle");w?w(u,t,n):p(u);u=n}else u=j(k,t);u=u}return u=u}function b(k,t){var u=[],n=k.split(",");g(n,function(w){C.apply(u,l(w,t))});
return u}function j(k,t){var u,n,w=[],B;if(y(k))if(A.test(k)){if(n=c(k.slice(1),t))w=[n]}else{if(u=z.exec(k)){n=u[1];B=u[2];u=u[3];if(t=n?c(n,t):t)if(u)if(!n||k.indexOf(s)!=-1)w=[].concat(v(u,B,t));else{if((n=c(n,t))&&a.__hasClass(n,u))w=[n]}else if(B)w=f(B,t)}}else if(k&&(o(k)||E(k)))w=m(k,function(D){return e(D,t)});else if(k)if(e(k,t))w=[k];return w}function e(k,t){if(!k)return false;if(t==q)return true;return a.__contains(t,k)}function c(k,t){if(!t)return null;var u=t;if(t.nodeType!==a.DOCUMENT_NODE)u=
t.ownerDocument;if((u=u.getElementById(k))&&u.parentNode)if(a.attr(u,"id")!==k)u=a.filter("*","#"+k,t)[0]||null;else e(u,t)||(u=null);else u=null;return u}function f(k,t){return t&&x(t.getElementsByTagName(k))||[]}function p(k){d.error("Unsupported selector: "+k)}var q=document,m=d.filter,g=d.each,o=d.isArray,x=d.makeArray,E=a._isNodeList,F=a._nodeName,C=Array.prototype.push,s=" ",y=d.isString,A=/^#[\w-]+$/,z=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,r;(function(){var k,t,u=true;[0,0].sort(function(){u=
false;return 0});r=function(n){if(k){t=u;n.sort(k);if(t)for(var w=1,B=n.length;w<B;)if(n[w]===n[w-1])n.splice(w,1);else w++}return n};k=q.documentElement.compareDocumentPosition?function(n,w){if(n==w){t=true;return 0}if(!n.compareDocumentPosition||!w.compareDocumentPosition)return n.compareDocumentPosition?-1:1;return n.compareDocumentPosition(w)&4?-1:1}:function(n,w){if(n==w){t=true;return 0}else if(n.sourceIndex&&w.sourceIndex)return n.sourceIndex-w.sourceIndex}})();(function(){var k=q.createElement("div");
k.appendChild(q.createComment(""));if(k.getElementsByTagName("*").length>0)f=function(t,u){var n=x(u.getElementsByTagName(t));if(t==="*"){for(var w=[],B=0,D;D=n[B++];)D.nodeType===1&&w.push(D);n=w}return n}})();var v=q.getElementsByClassName?function(k,t,u){if(!u)return[];k=u.getElementsByClassName(k);var n=0,w=k.length,B;if(t&&t!=="*")for(u=[];n<w;++n){B=k[n];F(B,t)&&u.push(B)}else u=x(k);return u}:q.querySelectorAll?function(k,t,u){return u&&x(u.querySelectorAll((t?t:"")+"."+k))||[]}:function(k,
t,u){if(!u)return[];t=u.getElementsByTagName(t||"*");u=[];for(var n=0,w=t.length,B;n<w;++n){B=t[n];a.__hasClass(B,k)&&u.push(B)}return u};d.mix(a,{query:i,get:function(k,t){return i(k,t)[0]||null},unique:r,filter:function(k,t,u){k=i(k,u);u=d.require("sizzle");var n,w,B,D,G=[];if(y(t)&&(t=d.trim(t))&&(n=z.exec(t))){B=n[1];w=n[2];D=n[3];if(B){if(B&&!w&&!D)t=function(H){return H.id===B}}else t=function(H){var I=true,K=true;if(w)I=F(H,w);if(D)K=a.__hasClass(H,D);return K&&I}}if(d.isFunction(t))G=d.filter(k,
t);else if(t&&u)G=u.matches(t,k);else p(t);return G},test:function(k,t,u){k=i(k,u);return k.length&&a.filter(k,t,u).length===k.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(d,a,h,i){if(!h.ie)return a;var l=document,b=l.documentElement,j=i._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,c=/^-?\d/,f=/opacity=([^)]*)/,p=/alpha\([^)]*\)/i;try{if(d.isNullOrUndefined(b.style.opacity))j.opacity={get:function(g,o){return f.test((o&&g.currentStyle?g.currentStyle.filter:g.style.filter)||"")?parseFloat(RegExp.$1)/100+"":o?"1":""},set:function(g,o){o=parseFloat(o);var x=g.style,E=g.currentStyle,F=isNaN(o)?"":"alpha(opacity="+o*100+")",C=d.trim(E&&E.filter||
x.filter||"");x.zoom=1;if(o>=1&&d.trim(C.replace(p,""))===""){x.removeAttribute("filter");if(E&&!E.filter)return}x.filter=p.test(C)?C.replace(p,F):C+(C?", ":"")+F}}}catch(q){d.log("IE filters ActiveX is disabled. ex = "+q)}h=h.ie==8;var m={};m.thin=h?"1px":"2px";m.medium=h?"3px":"4px";m.thick=h?"5px":"6px";d.each(["","Top","Left","Right","Bottom"],function(g){var o="border"+g+"Width",x="border"+g+"Style";j[o]={get:function(E,F){var C=F?E.currentStyle:0,s=C&&String(C[o])||undefined;if(s&&s.indexOf("px")<
0)s=m[s]&&C[x]!=="none"?m[s]:0;return s}}});if(!(l.defaultView||{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(g,o){o=a._cssProps[o]||o;var x=g.currentStyle&&g.currentStyle[o];if(!e.test(x)&&c.test(x)){var E=g.style,F=E.left,C=g.runtimeStyle&&g.runtimeStyle.left;if(C)g.runtimeStyle.left=g.currentStyle.left;E.left=o==="fontSize"?"1em":x||0;x=E.pixelLeft+"px";E.left=F;if(C)g.runtimeStyle.left=C}return x===""?"auto":x};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(d,a,h){function i(e,c,f,p,q,m){if(!(e=a.get(e)))return null;if(c===0)return e;m||(e=e[f]);if(!e)return null;q=q&&a.get(q)||null;if(c===h)c=1;m=[];var g=d.isArray(c),o,x;if(d.isNumber(c)){o=0;x=c;c=function(){return++o===x}}for(;e&&e!=q;){if(j(e)&&l(e,c)&&(!p||p(e))){m.push(e);if(!g)break}e=e[f]}return g?m:m[0]||null}function l(e,c){if(!c)return true;if(d.isArray(c))for(var f=0;f<c.length;f++){if(a.test(e,c[f]))return true}else if(a.test(e,c))return true;return false}
function b(e,c,f){var p=[];var q=e=a.get(e);if(e&&f)q=e.parentNode;if(q){f=0;for(q=q.firstChild;q;q=q.nextSibling)if(j(q)&&q!==e&&(!c||a.test(q,c)))p[f++]=q}return p}var j=a._isElementNode;d.mix(a,{closest:function(e,c,f){return i(e,c,"parentNode",function(p){return p.nodeType!=a.DOCUMENT_FRAGMENT_NODE},f,true)},parent:function(e,c,f){return i(e,c,"parentNode",function(p){return p.nodeType!=a.DOCUMENT_FRAGMENT_NODE},f)},first:function(e,c){var f=a.get(e);return i(f&&f.firstChild,c,"nextSibling",h,
h,true)},last:function(e,c){var f=a.get(e);return i(f&&f.lastChild,c,"previousSibling",h,h,true)},next:function(e,c){return i(e,c,"nextSibling",h)},prev:function(e,c){return i(e,c,"previousSibling",h)},siblings:function(e,c){return b(e,c,true)},children:function(e,c){return b(e,c,h)},__contains:document.documentElement.contains?function(e,c){if(e.nodeType==a.TEXT_NODE)return false;var f;if(c.nodeType==a.TEXT_NODE){c=c.parentNode;f=true}else if(c.nodeType==a.DOCUMENT_NODE)return false;else f=e!==c;
return f&&(e.contains?e.contains(c):true)}:document.documentElement.compareDocumentPosition?function(e,c){return!!(e.compareDocumentPosition(c)&16)}:0,contains:function(e,c){e=a.get(e);c=a.get(c);if(e&&c)return a.__contains(e,c)},equals:function(e,c){e=a.query(e);c=a.query(c);if(e.length!=c.length)return false;for(var f=e.length;f>=0;f--)if(e[f]!=c[f])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(d,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var d={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};d.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=d.F1&&a.keyCode<=d.F12)return false;switch(a.keyCode){case d.ALT:case d.CAPS_LOCK:case d.CONTEXT_MENU:case d.CTRL:case d.DOWN:case d.END:case d.ESC:case d.HOME:case d.INSERT:case d.LEFT:case d.MAC_FF_META:case d.META:case d.NUMLOCK:case d.NUM_CENTER:case d.PAGE_DOWN:case d.PAGE_UP:case d.PAUSE:case d.PHANTOM:case d.PRINT_SCREEN:case d.RIGHT:case d.SHIFT:case d.UP:case d.WIN_KEY:case d.WIN_KEY_RIGHT:return false;
default:return true}};d.isCharacterKey=function(a){if(a>=d.ZERO&&a<=d.NINE)return true;if(a>=d.NUM_ZERO&&a<=d.NUM_MULTIPLY)return true;if(a>=d.A&&a<=d.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case d.SPACE:case d.QUESTION_MARK:case d.NUM_PLUS:case d.NUM_MINUS:case d.NUM_PERIOD:case d.NUM_DIVISION:case d.SEMICOLON:case d.DASH:case d.EQUALS:case d.COMMA:case d.PERIOD:case d.SLASH:case d.APOSTROPHE:case d.SINGLE_QUOTE:case d.OPEN_SQUARE_BRACKET:case d.BACKSLASH:case d.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return d});
KISSY.add("event/object",function(d,a){function h(b,j,e){this.currentTarget=b;this.originalEvent=j||{};if(j){this.type=j.type;this._fix()}else{this.type=e;this.target=b}this.currentTarget=b;this.fixed=true}var i=document,l="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");d.augment(h,
{_fix:function(){var b=this.originalEvent,j=l.length,e,c=this.currentTarget;for(c=c.nodeType===9?c:c.ownerDocument||i;j;){e=l[--j];this[e]=b[e]}if(!this.target)this.target=this.srcElement||i;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=c.documentElement;j=c.body;this.pageX=this.clientX+(b&&b.scrollLeft||j&&j.scrollLeft||
0)-(b&&b.clientLeft||j&&j.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||j&&j.scrollTop||0)-(b&&b.clientTop||j&&j.clientTop||0)}if(this.which===a)this.which=this.charCode===a?this.keyCode:this.charCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=true;this.stopPropagation()},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return h});
KISSY.add("event/base",function(d,a,h,i){function l(s,y,A){if((A=d.trim(A))&&A.indexOf(m)>0){var z=f(arguments);g(A.split(/\s+/),function(r){var v=[].concat(z);v.splice(0,3,y,r);C[s].apply(C,v)});return true}return 0}function b(s){return s&&s.nodeType!==3&&s.nodeType!==8}function j(s,y,A,z,r){var v=E[y]||{};if(!z.length&&(!v.setup||v.setup.call(s)===false))p(s,y,A);v.add&&v.add.call(s,r)}var e=document,c=a._nodeName,f=d.makeArray,p=e.addEventListener?function(s,y,A,z){s.addEventListener&&s.addEventListener(y,
A,!!z)}:function(s,y,A){s.attachEvent&&s.attachEvent("on"+y,A)},q=e.removeEventListener?function(s,y,A,z){s.removeEventListener&&s.removeEventListener(y,A,!!z)}:function(s,y,A){s.detachEvent&&s.detachEvent("on"+y,A)},m=" ",g=d.each,o="",x="trigger-none-"+d.now(),E={},F="ksEventTargetId"+d.now(),C={_clone:function(s,y){if(!(y.nodeType!==a.ELEMENT_NODE||!C._hasData(s))){var A=C._data(s).events;g(A,function(z,r){g(z,function(v){C.on(y,r,v.fn,v.scope,v.data)})})}},_hasData:function(s){return a.hasData(s,
F)},_data:function(){var s=f(arguments);s.splice(1,0,F);return a.data.apply(a,s)},_removeData:function(){var s=f(arguments);s.splice(1,0,F);return a.removeData.apply(a,s)},special:E,__add:function(s,y,A,z,r,v){var k;if(!(!y||!d.isFunction(z)||s&&!b(y))){(k=C._data(y))||C._data(y,k={});var t=k.events=k.events||{};t=t[A]=t[A]||[];z={fn:z,scope:r,data:v};var u=k.handler;if(!u){u=k.handler=function(n,w){if(!(n&&n.type==o)){var B=u.target;if(!n||!n.fixed)n=new h(B,n);var D=n.type;d.isPlainObject(w)&&d.mix(n,
w);if(D)n.type=D;return C._handle(B,n)}};u.target=y}if(s){j(y,A,u,t,z);y=null}t.push(z)}},add:function(s,y,A,z,r){if(l("add",s,y,A,z,r))return s;a.query(s).each(function(v){C.__add(true,v,y,A,z,r)});return s},__getListeners:function(s,y){return(C.__getEvents(s)||{})[y]||[]},__getEvents:function(s){return(s=C._data(s))&&s.events},__remove:function(s,y,A,z,r,v){if(!(!y||s&&!b(y))){var k=C._data(y),t=k&&k.events,u,n,w,B,D,G=s&&E[A]||{};if(t)if(A===i)for(A in t)C.remove.call(C,y,A);else{r=r||y;if(u=t[A]){n=
u.length;if(z&&n){B=w=0;for(D=[];w<n;++w){var H=false,I=u[w],K=I.scope||y;if(z!==I.fn||r!==K){D[B++]=I;H=true}else if(v!==J){var J=I.data;if(!v&&J||J&&!v){D[B++]=I;H=true}else if(v&&J)if(!v.equals||!J.equals)d.error("no equals in data");else if(!J.equals(v)){D[B++]=I;H=true}}!H&&G.remove&&G.remove.call(y,I)}t[A]=D;n=D.length}if(z===i||n===0){if(s&&(!G.tearDown||G.tearDown.call(y)===false))q(y,A,k.handler);delete t[A]}}if(d.isEmptyObject(t)){k.handler.target=null;delete k.handler;delete k.events;C._removeData(y)}}}},
remove:function(s,y,A,z,r){if(l("remove",s,y,A,z))return s;a.query(s).each(function(v){C.__remove(true,v,y,A,z,r)});return s},_handle:function(s,y){for(var A=C.__getListeners(s,y.type).slice(0),z,r,v=0,k=A.length;v<k;++v){z=A[v];z=z.fn.call(z.scope||s,y,z.data);if(z!==i){if(r!==false)r=z;z===false&&y.halt()}if(y.isImmediatePropagationStopped)break}return r},fire:function(s,y,A,z){if(!l("fire",s,y,A,z)){A=A||{};A.type=y;a.query(s).each(function(r){var v=A;if(b(r)){var k=new h(r,i,y);d.mix(k,v);k.type=
y;z&&k.halt();v=r;var t="on"+y;do{k.currentTarget=v;C._handle(v,k);v[t]&&v[t].call(v)===false&&k.preventDefault();v=v.parentNode||v.ownerDocument||v===r.ownerDocument&&window}while(v&&!k.isPropagationStopped);if(!k.isDefaultPrevented)if(!(y==="click"&&c(r,"a"))){var u;try{if(t&&r[y]){if(u=r[t])r[t]=null;o=y;r[y]()}}catch(n){d.log("trigger action error : ");d.log(n)}if(u)r[t]=u;o=x}}})}},__batchForType:l,__simpleAdd:p,__simpleRemove:q};C.on=C.add;C.detach=C.remove;return C},{requires:["dom","event/object"]});
KISSY.add("event/target",function(d,a,h){function i(f){f[j]=f[j]||{};return f[j]}function l(f){f[e]=f[e]||{};return f[e]}function b(f){return function(p,q,m){var g=this;d.each(d.trim(p).split(/\s+/),function(o){a["__"+f](false,g,o,q,m)});return g}}var j="__~ks_publish",e="__~ks_bubble_targets",c={fire:function(f,p){var q,m;if(p instanceof h){p.currentTarget=this;m=p}else{q=new h(this,undefined,f);d.isPlainObject(p)&&d.mix(q,p);q.type=f;m=q}q=a._handle(this,m);var g;if(g=!m.isPropagationStopped){g=
i(this);g=g[f]&&g[f].bubbles||g["*"]&&g["*"].bubbles}if(g){m=this.bubble(f,m);if(m===false)q=m}return q},publish:function(f,p){i(this)[f]=p},bubble:function(f,p){var q,m=l(this);d.each(m,function(g){g=g.fire(f,p);if(q!==false)q=g});return q},addTarget:function(f){l(this)[d.stamp(f)]=f},removeTarget:function(f){delete l(this)[d.stamp(f)]},on:b("add")};c.detach=b("remove");return c},{requires:["./base","./object"]});
KISSY.add("event/focusin",function(d,a,h){a.ie||d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(i){function l(j){return h.fire(j.target,i.name)}var b=0;h.special[i.name]={setup:function(){b++===0&&document.addEventListener(i.fix,l,true)},tearDown:function(){--b===0&&document.removeEventListener(i.fix,l,true)}}});return h},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(d,a,h,i){var l=document;i=l.documentMode||i.ie;if(!("onhashchange"in window)||i&&i<8){var b=window,j="<html><head><title>"+(l.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},c,f,p=function(){var x=e();if(x!==f){f=x;q(x)}c=setTimeout(p,50)},q=i&&i<8?function(x){x=d.substitute(j,{hash:x,head:h._isCustomDomain()?"<script>document.domain = '"+l.domain+"';<\/script>":""});var E=
o.contentWindow.document;try{E.open();E.write(x);E.close()}catch(F){}}:function(){a.fire(b,"hashchange")},m=function(){c||p()},g=function(){c&&clearTimeout(c);c=0},o;if(i<8){m=function(){if(!o){var x=h._genEmptyIframeSrc();o=h.create("<iframe "+(x?'src="'+x+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');h.prepend(o,l.documentElement);a.add(o,"load",function(){a.remove(o,"load");q(e());a.add(o,"load",E);p()});l.onpropertychange=function(){try{if(event.propertyName===
"title")o.contentWindow.document.title=l.title+" - "+e()}catch(F){}};var E=function(){var F=d.trim(o.contentWindow.document.body.innerText),C=e();if(F!=C){d.log("set loc hash :"+F);f=location.hash=F}a.fire(b,"hashchange")}}};g=function(){c&&clearTimeout(c);c=0;a.detach(o);h.remove(o);o=0}}a.special.hashchange={setup:function(){if(this===b){f=e();m()}},tearDown:function(){this===b&&g()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(d,a,h){function i(g){h.removeData(g,p);if(h.hasData(g,q)){var o=h.data(g,q);clearTimeout(o);h.removeData(g,q)}}function l(g){i(g.target)}function b(g){h.hasData(g,q)||h.data(g,q,setTimeout(function(){var o=g.value,x=h.data(g,p);if(o!==x){a.fire(g,c,{prevVal:x,newVal:o},true);h.data(g,p,o)}h.data(g,q,setTimeout(arguments.callee,m))},m))}function j(g){var o=g.target;g.type=="focus"&&h.data(o,p,o.value);b(o)}function e(g){i(g);a.remove(g,"blur",l);a.remove(g,"mousedown keyup keydown focus",
j)}var c="valuechange",f=h._nodeName,p="event/valuechange/history",q="event/valuechange/poll",m=50;a.special[c]={setup:function(){if(f(this,"input")||f(this,"textarea")){e(this);a.on(this,"blur",l);a.on(this,"mousedown keyup keydown focus",j)}},tearDown:function(){e(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(d,a,h){function i(c){return c.fn===undefined&&c.selector===undefined?true:c.fn===undefined?this.selector==c.selector:this.fn==c.fn&&this.selector==c.selector&&this.scope==c.scope}function l(c,f){var p=a.closest(c.target,[f.selector],this);if(p){for(var q=c.currentTarget,m=0;m<p.length;m++){c.currentTarget=p[m];f.fn.call(f.scope||this,c)===false&&c.halt();if(c.isPropagationStopped)break}c.currentTarget=q}}function b(c,f){var p,q=c.target,m=c.relatedTarget;c.type=
f.preType;if(q=a.closest(q,f.selector,this))if(q!==m&&(!m||!a.contains(q,m))){m=c.currentTarget;c.currentTarget=q;p=f.fn.call(f.scope||this,c);c.currentTarget=m}return p}var j=h.__batchForType,e={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};d.mix(h,{delegate:function(c,f,p,q,m){if(j("delegate",c,f,p,q,m))return c;a.query(c).each(function(g){var o=f,x=l;if(e[f]){f=e[o].type;x=e[o].handler||x}h.on(g,f,x,g,{fn:q,selector:p,
preType:o,scope:m,equals:i})});return c},undelegate:function(c,f,p,q,m){if(j("undelegate",c,f,p,q,m))return c;a.query(c).each(function(g){var o=f,x=l;if(e[f]){f=e[o].type;x=e[o].handler||x}h.remove(g,f,x,g,{fn:q,selector:p,preType:o,scope:m,equals:i})});return c}});return h},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(d,a,h,i){i.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(l){function b(j){var e=j.relatedTarget;j.type=l.name;try{if(!(e&&e!==document&&!e.parentNode))if(e!==this&&(!e||!h.contains(this,e)))a._handle(this,j)}catch(c){d.log("withinElement error : ","error");d.log(c,"error")}}a.special[l.name]={setup:function(){a.add(this,l.fix,b)},tearDown:function(){a.remove(this,l.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event/submit",function(d,a,h,i){d=document.documentMode;if(a.ie&&(a.ie<9||d&&d<9)){var l=i._nodeName;h.special.submit={setup:function(){if(l(this,"form"))return false;h.on(this,"click keypress",b)},tearDown:function(){if(l(this,"form"))return false;h.remove(this,"click keypress",b);i.query("form",this).each(function(e){if(e.__submit__fix){e.__submit__fix=0;h.remove(e,"submit",j)}})}};var b=function(e){e=e.target;if((e=l(e,"input")||l(e,"button")?e.form:null)&&!e.__submit__fix){e.__submit__fix=
1;h.on(e,"submit",j)}},j=function(e){this.parentNode&&h.fire(this.parentNode,"submit",e)}}},{requires:["ua","./base","dom"]});
KISSY.add("event/change",function(d,a,h,i){d=document.documentMode;if(a.ie&&(a.ie<9||d&&d<9)){var l=/^(?:textarea|input|select)$/i,b=function(p){p=p.type;return p=="checkbox"||p=="radio"};h.special.change={setup:function(){if(l.test(this.nodeName))if(b(this)){h.on(this,"propertychange",j);h.on(this,"click",e)}else return false;else h.on(this,"beforeactivate",c)},tearDown:function(){if(l.test(this.nodeName))if(b(this)){h.remove(this,"propertychange",j);h.remove(this,"click",e)}else return false;else{h.remove(this,
"beforeactivate",c);i.query("textarea,input,select",this).each(function(p){if(p.__changeHandler){p.__changeHandler=0;h.remove(p,"change",f)}})}}};var j=function(p){if(p.originalEvent.propertyName=="checked")this.__changed=1},e=function(p){if(this.__changed){this.__changed=0;h.fire(this,"change",p)}},c=function(p){p=p.target;if(l.test(p.nodeName)&&!p.__changeHandler){p.__changeHandler=1;h.on(p,"change",f)}},f=function(p){if(!b(this)){var q;if(q=this.parentNode)h.fire(q,"change",p)}}}},{requires:["ua",
"./base","dom"]});
KISSY.add("event/mousewheel",function(d,a,h){function i(b){var j=a._data(this).handler,e,c,f,p=b.detail;if(b.wheelDelta)f=b.wheelDelta/120;if(b.detail)f=-(p%3==0?p/3:p);if(b.axis!==undefined)if(b.axis===b.HORIZONTAL_AXIS){c=0;e=-1*f}else if(b.axis===b.VERTICAL_AXIS){e=0;c=f}if(b.wheelDeltaY!==undefined)c=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)e=-1*b.wheelDeltaX/120;if(!e&&!c)c=f;return j(b,{deltaY:c,delta:f,deltaX:e,type:"mousewheel"})}var l=h.gecko?"DOMMouseScroll":"mousewheel";a.special.mousewheel=
{setup:function(){var b;b=a._data(this)[b]=d.bind(i,this);a.__simpleAdd(this,l,b)},tearDown:function(){var b,j=a._data(this);b=j[b];a.__simpleRemove(this,l,b);delete j[b]}}},{requires:["./base","ua","./object"]});KISSY.add("event",function(d,a,h,i,l){h.KeyCodes=a;h.Target=i;h.Object=l;return h},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter","event/submit","event/change","event/mousewheel"]});
KISSY.add("node/base",function(d,a,h){function i(e,c,f){if(!(this instanceof i))return new i(e,c,f);if(e)if(d.isString(e)){e=a.create(e,c,f);if(e.nodeType===a.DOCUMENT_FRAGMENT_NODE){l.push.apply(this,b(e.childNodes));return h}}else if(d.isArray(e)||j(e)){l.push.apply(this,b(e));return h}else e=e;else return h;this[0]=e;this.length=1;return h}var l=Array.prototype,b=d.makeArray,j=a._isNodeList;d.augment(i,{length:0,item:function(e){return d.isNumber(e)?e>=this.length?null:new i(this[e]):new i(e)},
add:function(e,c,f){if(d.isNumber(c)){f=c;c=h}e=i.all(e,c).getDOMNodes();c=new i(this);if(f===h)l.push.apply(c,e);else{f=[f,0];f.push.apply(f,e);l.splice.apply(c,f)}return c},slice:function(e,c){return new i(l.slice.call(this,e,c))},getDOMNodes:function(){return l.slice.call(this)},each:function(e,c){var f=this;d.each(f,function(p,q){p=new i(p);return e.call(c||p,p,q,f)});return f},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(e){e=this.length>0?i.all(e,
this):new i;e.__parent=this;return e},one:function(e){e=this.all(e);if(e=e.length?e.slice(0,1):null)e.__parent=this;return e}});d.mix(i,{all:function(e,c){if(d.isString(e)&&(e=d.trim(e))&&e.length>=3&&d.startsWith(e,"<")&&d.endsWith(e,">")){if(c){if(c.getDOMNode)c=c.getDOMNode();if(c.ownerDocument)c=c.ownerDocument}return new i(e,h,c)}return new i(a.query(e,c))},one:function(e,c){var f=i.all(e,c);return f.length?f.slice(0,1):null}});d.mix(i,a._NODE_TYPE);return i},{requires:["dom"]});
KISSY.add("node/attach",function(d,a,h,i,l){function b(c,f,p){p.unshift(f);c=a[c].apply(a,p);if(c===l)return f;return c}var j=i.prototype,e=d.makeArray;d.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(c){j[c]=function(){var f=e(arguments);return b(c,this,f)}});d.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(c){j[c]=function(){var f=e(arguments);f.unshift(this);f=a[c].apply(a,f);f=f===l?this:f===null?null:new i(f);return f}});d.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(c,f){j[f]=function(){var p=e(arguments);if(p[c]===l&&!d.isObject(p[0])){p.unshift(this);p=a[f].apply(a,p)}else p=
b(f,this,p);return p}});d.each(["on","detach","fire","delegate","undelegate"],function(c){j[c]=function(){var f=e(arguments);f.unshift(this);return h[c].apply(h,f)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(d,a,h,i){d.each(["append","prepend","before","after"],function(l){i.prototype[l]=function(b){b=b;if(d.isString(b))b=a.create(b);b&&a[l](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var d=Math.PI,a=Math.pow,h=Math.sin,i=1.70158,l={swing:function(b){return-Math.cos(b*d)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;
return-(a(2,10*(b-=1))*h((b-0.075)*2*d/0.3))},elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*h((b-0.075)*2*d/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*h((b-0.1125)*2*d/0.45);return a(2,-10*(b-=1))*h((b-0.1125)*2*d/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((i+1)*b-i)},backOut:function(b){return(b-=1)*b*((i+1)*b+i)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((i*=1.525)+1)*b-i);return 0.5*((b-=2)*b*
(((i*=1.525)+1)*b+i)+2)},bounceIn:function(b){return 1-l.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return l.bounceIn(b*2)*0.5;return l.bounceOut(b*2-1)*0.5+0.5}};l.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",
easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return l});
KISSY.add("anim/manager",function(d){var a=d.stamp;return{interval:15,runnings:{},timer:null,start:function(h){var i=a(h);if(!this.runnings[i]){this.runnings[i]=h;this.startTimer()}},stop:function(h){this.notRun(h)},notRun:function(h){delete this.runnings[a(h)];d.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(h){this.notRun(h)},resume:function(h){this.start(h)},startTimer:function(){var h=this;if(!h.timer)h.timer=setTimeout(function(){if(h.runFrames())h.stopTimer();else{h.timer=0;
h.startTimer()}},h.interval)},stopTimer:function(){var h=this.timer;if(h){clearTimeout(h);this.timer=0}},runFrames:function(){var h=1,i=this.runnings,l;for(l in i)if(i.hasOwnProperty(l)){h=0;i[l]._frame()}return h}}});
KISSY.add("anim/fx",function(d,a,h){function i(b){this.load(b)}function l(b,j){if((!b.style||b.style[j]==null)&&a.attr(b,j,h,1)!=null)return 1;return 0}d.augment(i,{load:function(b){d.mix(this,b);this.startTime=d.now();this.pos=0;this.unit=this.unit||""},frame:function(b){var j=0,e=d.now();if(b||e>=this.duration+this.startTime)j=this.pos=1;else{b=e-this.startTime;this.pos=this.easing(b/this.duration)}this.update();return j},interpolate:function(b,j,e){return d.isNumber(b)&&d.isNumber(j)?(b+(j-b)*
e).toFixed(3):h},update:function(){var b=this.prop,j=this.elem,e=this.from,c=this.to,f=this.interpolate(e,c,this.pos);if(f===h){if(!this.finished){this.finished=1;a.css(j,b,c);d.log(this.prop+" update directly ! : "+f+" : "+e+" : "+c)}}else{f+=this.unit;l(j,b)?a.attr(j,b,f,1):a.css(j,b,f)}},cur:function(){var b=this.prop,j=this.elem;if(l(j,b))return a.attr(j,b,h,1);var e;b=a.css(j,b);return isNaN(e=parseFloat(b))?!b||b==="auto"?0:b:e}});i.Factories={};i.getFx=function(b){return new (i.Factories[b.prop]||
i)(b)};return i},{requires:["dom"]});
KISSY.add("anim/queue",function(d,a){function h(e,c,f){c=c||b;var p,q=a.data(e,l);if(!q&&!f)a.data(e,l,q={});if(q){p=q[c];if(!p&&!f)p=q[c]=[]}return p}function i(e,c){c=c||b;var f=a.data(e,l);f&&delete f[c];d.isEmptyObject(f)&&a.removeData(e,l)}var l=d.guid("ks-queue-"+d.now()+"-"),b=d.guid("ks-queue-"+d.now()+"-"),j={queueCollectionKey:l,queue:function(e){var c=h(e.elem,e.config.queue);c.push(e);c[0]!=="..."&&j.dequeue(e);return c},remove:function(e){var c=h(e.elem,e.config.queue,1);if(c){e=d.indexOf(e,
c);e>-1&&c.splice(e,1)}},removeQueues:function(e){a.removeData(e,l)},removeQueue:i,dequeue:function(e){var c=e.elem;e=e.config.queue;var f=h(c,e,1),p=f&&f.shift();if(p=="...")p=f.shift();if(p){f.unshift("...");p._runInternal()}else i(c,e)}};return j},{requires:["dom"]});
KISSY.add("anim/base",function(d,a,h,i,l,b,j,e){function c(s,y,A,z,r){if(s=a.get(s)){if(!(this instanceof c))return new c(s,y,A,z,r);y=d.isString(y)?d.unparam(y,";",":"):d.clone(y);for(var v in y){var k=m(d.trim(v));if(v!=k){y[k]=y[v];delete y[v]}}A=d.isPlainObject(A)?d.clone(A):{duration:parseFloat(A)||undefined,easing:z,complete:r};this.config=A=d.merge(E,A);A.duration*=1E3;this.elem=this.domEl=s;this.props=y;this._backupProps={};this._fxs={};this.on("complete",f)}}function f(){var s=this._backupProps,
y=this.config;d.isEmptyObject(s=this._backupProps)||a.css(this.elem,s);y.complete&&y.complete.call(this)}function p(){var s=this.config,y=this._backupProps,A=this.elem,z,r,v,k=s.specialEasing||{},t=this._fxs,u=this.props;if(this.fire("start")!==false){if(g(A)){z=a.css(A,"display")=="none";for(v in u){r=u[v];if(r=="hide"&&z||r=="show"&&!z){this.stop(1);return}}}q(this);d.each(u,function(I,K){if(u.hasOwnProperty(K)){var J;if(d.isArray(I)){J=k[K]=I[1];u[K]=I[0]}else J=k[K]=k[K]||s.easing;if(d.isString(J))J=
k[K]=i[J];k[K]=J||i.easeNone}});d.each(x,function(I,K){var J,L,N;if(N=u[K]){L={};d.each(I,function(M){L[M]=a.css(A,M);k[M]=k[K]});a.css(A,K,N);for(J in L){u[J]=a.css(A,J);a.css(A,J,L[J])}delete u[K]}});for(v in u)if(u.hasOwnProperty(v)){r=d.trim(u[v]);var n,w,B={elem:A,prop:v,duration:s.duration,easing:k[v]},D=j.getFx(B);if(d.inArray(r,o)){y[v]=a.style(A,v);if(r=="toggle")r=z?"show":"hide";if(r=="hide"){n=0;w=D.cur();y.display="none"}else{a.show(A);w=0;n=D.cur()}r=n}else{n=r;w=D.cur()}r+="";var G=
"",H=r.match(F);if(H){n=parseFloat(H[2]);if((G=H[3])&&G!=="px"){a.css(A,v,r);w=n/D.cur()*w;a.css(A,v,w+G)}if(H[1])n=(H[1]==="-="?-1:1)*n+w}B.from=w;B.to=n;B.unit=G;D.load(B);t[v]=D}if(g(A)&&(u.width||u.height)){d.mix(y,{overflow:a.css(A,"overflow"),"overflow-x":a.css(A,"overflowX"),"overflow-y":a.css(A,"overflowY")});a.css(A,"overflow","hidden");if(a.css(A,"display")==="inline"&&a.css(A,"float")==="none")l.ie?a.css(A,"zoom",1):a.css(A,"display","inline-block")}b.start(this)}}function q(s){var y=s.elem,
A=a.data(y,C);A||a.data(y,C,A={});A[d.stamp(s)]=s}var m=a._camelCase,g=a._isElementNode,o=["hide","show","toggle"],x={border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},E={duration:1,
easing:"easeNone"},F=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;c.SHORT_HANDS=x;d.augment(c,h.Target,{isRunning:function(){var s;s=(s=a.data(this.elem,C))?!!s[d.stamp(this)]:0;return s},_runInternal:p,run:function(){this.config.queue===false?p.call(this):e.queue(this);return this},_frame:function(){var s,y=1,A=this._fxs;for(s in A)if(A.hasOwnProperty(s))y&=A[s].frame();if(this.fire("step")===false||y)this.stop(y)},stop:function(s){var y=this.config.queue,A,z=this._fxs;if(this.isRunning()){if(s){for(A in z)z.hasOwnProperty(A)&&
z[A].frame(1);this.fire("complete")}b.stop(this);s=this.elem;if(A=a.data(s,C)){delete A[d.stamp(this)];d.isEmptyObject(A)&&a.removeData(s,C)}y!==false&&e.dequeue(this);return this}else y!==false&&e.remove(this)}});var C=d.guid("ks-anim-unqueued-"+d.now()+"-");c.stop=function(s,y,A){A&&e.removeQueues(s);A=a.data(s,C);s=[];for(var z in A)s.push(A[z]);for(z=0;z<s.length;z++)s[z].stop(y)};c.stopQueue=function(s,y,A,z){z&&y!==false&&e.removeQueue(s,y);z=a.data(s,C);s=[];for(var r in z){var v=z[r];v.config.queue==
y&&s.push(v)}for(y=0;y<s.length;y++)s[y].stop(A)};c.isRunning=function(s){return(s=a.data(s,C))&&!d.isEmptyObject(s)};c.Q=e;return c},{requires:["dom","event","./easing","ua","./manager","./fx","./queue"]});
KISSY.add("anim/color",function(d,a,h,i){function l(m){m+="";var g;if(g=m.match(f))return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])];else if(g=m.match(p))return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),parseInt(g[4])];else if(g=m.match(q)){for(m=1;m<g.length;m++)if(g[m].length<2)g[m]+=g[m];return[parseInt(g[1],j),parseInt(g[2],j),parseInt(g[3],j)]}if(c[m=m.toLowerCase()])return c[m];d.log("only allow rgb or hex color string : "+m,"warn");return[255,255,255]}function b(){b.superclass.constructor.apply(this,
arguments)}var j=16,e=Math.floor,c={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},f=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,p=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,q=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;a=h.SHORT_HANDS;
a.background=["backgroundColor"];a.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];a.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");a.borderBottom.push("borderBottomColor");a.borderLeft.push("borderLeftColor");a.borderRight.push("borderRightColor");a.borderTop.push("borderTopColor");d.extend(b,i,{load:function(){b.superclass.load.apply(this,arguments);if(this.from)this.from=l(this.from);if(this.to)this.to=l(this.to)},
interpolate:function(m,g,o){var x=b.superclass.interpolate;if(m.length==3&&g.length==3)return"rgb("+[e(x(m[0],g[0],o)),e(x(m[1],g[1],o)),e(x(m[2],g[2],o))].join(", ")+")";else if(m.length==4||g.length==4)return"rgba("+[e(x(m[0],g[0],o)),e(x(m[1],g[1],o)),e(x(m[2],g[2],o)),e(x(m[3]||1,g[3]||1,o))].join(", ")+")";else d.log("anim/color unknown value : "+m)}});d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(m){i.Factories[m]=
b});return b},{requires:["dom","./base","./fx"]});KISSY.add("anim",function(d,a,h){a.Easing=h;return a},{requires:["anim/base","anim/easing","anim/color"]});
KISSY.add("node/anim",function(d,a,h,i,l){function b(e,c,f){var p=[],q={};for(f=f||0;f<c;f++)p.push.apply(p,j[f]);for(f=0;f<p.length;f++)q[p[f]]=e;return q}var j=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];d.augment(i,{animate:function(){var e=d.makeArray(arguments);d.each(this,function(c){h.apply(l,[c].concat(e)).run()});return this},stop:function(e,c){d.each(this,function(f){h.stop(f,e,c)});return this},
stopQueue:function(e,c,f){d.each(this,function(p){h.stopQueue(p,e,c,f)});return this},isRunning:function(){for(var e=0;e<this.length;e++)if(h.isRunning(this[e]))return 1;return 0}});d.each({show:b("show",3),hide:b("hide",3),toggle:b("toggle",3),fadeIn:b("show",3,2),fadeOut:b("hide",3,2),fadeToggle:b("toggle",3,2),slideDown:b("show",1),slideUp:b("hide",1),slideToggle:b("toggle",1)},function(e,c){i.prototype[c]=function(f,p,q){a[c]&&!f?a[c](this):d.each(this,function(m){h(m,e,f,q||"easeOut",p).run()});
return this}})},{requires:["dom","anim","./base"]});KISSY.add("node",function(d,a,h){h.KeyCodes=a.KeyCodes;return h},{requires:["event","node/base","node/attach","node/override","node/anim"]});
KISSY.add("json/json2",function(d,a){function h(g){return g<10?"0"+g:g}function i(g){c.lastIndex=0;return c.test(g)?'"'+g.replace(c,function(o){var x=q[o];return typeof x==="string"?x:"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+g+'"'}function l(g,o){var x,E,F,C,s=f,y,A=o[g];if(A&&typeof A==="object"&&typeof A.toJSON==="function")A=A.toJSON(g);if(typeof m==="function")A=m.call(o,g,A);switch(typeof A){case "string":return i(A);case "number":return isFinite(A)?String(A):"null";case "boolean":case "null":return String(A);
case "object":if(!A)return"null";f+=p;y=[];if(Object.prototype.toString.apply(A)==="[object Array]"){C=A.length;for(x=0;x<C;x+=1)y[x]=l(x,A)||"null";F=y.length===0?"[]":f?"[\n"+f+y.join(",\n"+f)+"\n"+s+"]":"["+y.join(",")+"]";f=s;return F}if(m&&typeof m==="object"){C=m.length;for(x=0;x<C;x+=1){E=m[x];if(typeof E==="string")if(F=l(E,A))y.push(i(E)+(f?": ":":")+F)}}else for(E in A)if(Object.hasOwnProperty.call(A,E))if(F=l(E,A))y.push(i(E)+(f?": ":":")+F);F=y.length===0?"{}":f?"{\n"+f+y.join(",\n"+f)+
"\n"+s+"}":"{"+y.join(",")+"}";f=s;return F}}var b=window,j=b.JSON;if(!j||a.ie<9)j=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,p,q={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof j.stringify!=="function")j.stringify=function(g,o,x){var E;p=f="";if(typeof x==="number")for(E=0;E<x;E+=1)p+=" ";else if(typeof x==="string")p=x;if((m=o)&&typeof o!=="function"&&(typeof o!=="object"||typeof o.length!=="number"))throw Error("JSON.stringify");return l("",{"":g})};if(typeof j.parse!==
"function")j.parse=function(g,o){function x(F,C){var s,y,A=F[C];if(A&&typeof A==="object")for(s in A)if(Object.hasOwnProperty.call(A,s)){y=x(A,s);if(y!==undefined)A[s]=y;else delete A[s]}return o.call(F,C,A)}var E;g=String(g);e.lastIndex=0;if(e.test(g))g=g.replace(e,function(F){return"\\u"+("0000"+F.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(g.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){E=eval("("+g+")");return typeof o==="function"?x({"":E},""):E}throw new SyntaxError("JSON.parse");};return j},{requires:["ua"]});KISSY.add("json",function(d,a){return{parse:function(h){if(d.isNullOrUndefined(h)||h==="")return null;return a.parse(h)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/form-serializer",function(d,a){var h=/^(?:select|textarea)/i,i=/\r?\n/g,l=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return{serialize:function(b){var j=[],e={};a.query(b).each(function(c){c=c.elements?d.makeArray(c.elements):[c];j.push.apply(j,c)});j=d.filter(j,function(c){return c.name&&!c.disabled&&(c.checked||h.test(c.nodeName)||l.test(c.type))});d.each(j,function(c){var f=a.val(c);f=d.map(d.makeArray(f),function(p){return p.replace(i,
"\r\n")});c=e[c.name]=e[c.name]||[];c.push.apply(c,f)});return d.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/xhrobject",function(d,a){function h(b){var j=b.responseText,e=b.responseXML,c=b.config,f=c.converters,p=b.converters||{},q,m,g=c.contents,o=c.dataType;if(j||e){for(c=b.mimeType||b.getResponseHeader("Content-Type");o[0]=="*";)o.shift();if(!o.length)for(q in g)if(g[q].test(c)){o[0]!=q&&o.unshift(q);break}o[0]=o[0]||"text";if(o[0]=="text"&&j!==undefined)m=j;else if(o[0]=="xml"&&e!==undefined)m=e;else d.each(["text","xml"],function(E){var F=o[0];if(p[E]&&p[E][F]||f[E]&&f[E][F]){o.unshift(E);
m=E=="text"?j:e;return false}})}g=o[0];for(c=1;c<o.length;c++){q=o[c];var x=p[g]&&p[g][q]||f[g]&&f[g][q];if(!x)throw"no covert for "+g+" => "+q;m=x(m);g=q}b.responseData=m}function i(b){d.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var l=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;d.augment(i,a.Target,{setRequestHeader:function(b,j){this.requestHeaders[b]=
j;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var j;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};j=l.exec(this.responseHeadersString);)this.responseHeaders[j[1]]=j[2];j=this.responseHeaders[b]}return j===undefined?null:j},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,j){if(this.state!=2){this.state=2;this.readyState=4;var e;if(b>=200&&b<300||b==304)if(b==304){j="notmodified";e=true}else try{h(this);j="success";e=true}catch(c){j="parsererror : "+c}else if(b<0)b=0;this.status=b;this.statusText=j;e?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return i},{requires:["event"]});
KISSY.add("ajax/base",function(d,a,h,i){function l(s){s=d.mix(d.clone(C),s||{},undefined,undefined,true);if(!d.isBoolean(s.crossDomain)){var y=f.exec(s.url.toLowerCase());s.crossDomain=!!(y&&(y[1]!=x[1]||y[2]!=x[2]||(y[3]||(y[1]==="http:"?q:m))!=(x[3]||(x[1]==="http:"?q:m))))}if(s.processData&&s.data&&!d.isString(s.data))s.data=d.param(s.data,undefined,undefined,s.serializeArray);s.type=s.type.toUpperCase();s.hasContent=!g.test(s.type);if(!s.hasContent){if(s.data)s.url+=(/\?/.test(s.url)?"&":"?")+
s.data;if(s.cache===false)s.url+=(/\?/.test(s.url)?"&":"?")+"_ksTS="+(d.now()+"_"+d.guid())}s.dataType=d.trim(s.dataType||"*").split(c);s.context=s.context||s;return s}function b(s,y){e.fire(s,{ajaxConfig:y.config,xhr:y})}function j(s){var y=this.config;s=s.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);y[s]&&y[s].call(y.context,this.responseData,this.statusText,this);b(s,this)}function e(s){if(s.url){s=l(s);var y=new i(s);b("start",y);var A=new (F[s.dataType[0]]||F["*"])(y);y.transport=
A;s.contentType&&y.setRequestHeader("Content-Type",s.contentType);var z=s.dataType[0],r=s.accepts;y.setRequestHeader("Accept",z&&r[z]?r[z]+(z==="*"?"":", */*; q=0.01"):r["*"]);for(var v in s.headers)y.setRequestHeader(v,s.headers[v]);y.on("complete success error",j);y.readyState=1;b("send",y);if(s.async&&s.timeout>0)y.timeoutTimer=setTimeout(function(){y.abort("timeout")},s.timeout*1E3);try{y.state=1;A.send()}catch(k){y.status<2?y.callback(-1,k):d.error(k)}return y}}var c=/\s+/,f=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
p=function(s){return s},q=80,m=443,g=/^(?:GET|HEAD)$/,o,x;try{o=location.href}catch(E){d.log("ajax/base get curLocation error : ");d.log(E);o=document.createElement("a");o.href="";o=o.href}x=f.exec(o);o=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(x[1]);var F={},C={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:a.parse,html:p,text:p,xml:d.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};C.converters.html=C.converters.text;d.mix(e,h.Target);d.mix(e,{isLocal:o,setupConfig:function(s){d.mix(C,s,undefined,undefined,true)},setupTransport:function(s,y){F[s]=y},getTransport:function(s){return F[s]},getConfig:function(){return C}});return e},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhrbase",function(d,a){function h(j,e){try{return new (e||i).XMLHttpRequest}catch(c){}}var i=window,l=i.XDomainRequest,b={proto:{}};b.xhr=i.ActiveXObject?function(j,e){if(j&&l)return new l;var c;if(!(c=!a.isLocal&&h(j,e)))a:{try{c=new (e||i).ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){d.log("createActiveXHR error")}c=void 0}return c}:h;d.mix(b.proto,{sendInternal:function(){var j=this,e=j.xhrObj,c=e.config,f=j.xhr,p,q;c.username?f.open(c.type,c.url,c.async,c.username,c.password):
f.open(c.type,c.url,c.async);if(p=c.xhrFields)for(q in p)f[q]=p[q];e.mimeType&&f.overrideMimeType&&f.overrideMimeType(e.mimeType);if(!c.crossDomain&&!e.requestHeaders["X-Requested-With"])e.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{if(!c.crossDomain)for(q in e.requestHeaders)f.setRequestHeader(q,e.requestHeaders[q])}catch(m){d.log("setRequestHeader in xhr error : ");d.log(m)}f.send(c.hasContent&&c.data||null);if(!c.async||f.readyState==4)j._callback();else if(l&&f instanceof l){f.onload=
function(){f.readyState=4;f.status=200;j._callback()};f.onerror=function(){f.readyState=4;f.status=500;j._callback()}}else f.onreadystatechange=function(){j._callback()}},abort:function(){this._callback(0,1)},_callback:function(j,e){try{var c=this.xhr,f=this.xhrObj,p=f.config;if(e||c.readyState==4){if(l&&c instanceof l){c.onerror=d.noop;c.onload=d.noop}else c.onreadystatechange=d.noop;if(e)c.readyState!==4&&c.abort();else{var q=c.status;if(!(l&&c instanceof l))f.responseHeadersString=c.getAllResponseHeaders();
var m=c.responseXML;if(m&&m.documentElement)f.responseXML=m;f.responseText=c.responseText;try{var g=c.statusText}catch(o){d.log("xhr statustext error : ");d.log(o);g=""}if(!q&&a.isLocal&&!p.crossDomain)q=f.responseText?200:404;else if(q===1223)q=204;f.callback(q,g)}}}catch(x){c.onreadystatechange=d.noop;e||f.callback(-1,x)}}});return b},{requires:["./base"]});
KISSY.add("ajax/subdomain",function(d,a,h,i){function l(c){var f=c.config;this.xhrObj=c;c=f.url.match(b);this.__hostname=c[2];this.__protocol=c[1];f.crossDomain=false}var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,j=document,e={};d.augment(l,a.proto,{send:function(){var c=this.xhrObj.config,f=this.__hostname,p=e[f],q="/sub_domain_proxy.html";if(c.xdr&&c.xdr.subDomain&&c.xdr.subDomain.proxy)q=c.xdr.subDomain.proxy;if(p&&p.ready)(this.xhr=a.xhr(0,p.iframe.contentWindow))?this.sendInternal():
d.error("document.domain not set correctly!");else{if(p)c=p.iframe;else{p=e[f]={};c=p.iframe=document.createElement("iframe");i.css(c,{position:"absolute",left:"-9999px",top:"-9999px"});i.prepend(c,j.body||j.documentElement);c.src=this.__protocol+"//"+f+q}h.on(c,"load",this._onLoad,this)}},_onLoad:function(){var c=e[this.__hostname];c.ready=1;h.detach(c.iframe,"load",this._onLoad,this);this.send()}});return l},{requires:["./xhrbase","event","dom"]});
KISSY.add("ajax/xdr",function(d,a,h){function i(p,q,m){if(!f){f=true;p='<object id="'+j+'" type="application/x-shockwave-flash" data="'+p+'" width="0" height="0"><param name="movie" value="'+p+'" /><param name="FlashVars" value="yid='+q+"&uid="+m+'&host=KISSY.io" /><param name="allowScriptAccess" value="always" /></object>';q=c.createElement("div");h.prepend(q,c.body||c.documentElement);q.innerHTML=p}}function l(p){d.log("use flash xdr");this.xhrObj=p}var b={},j="io_swf",e,c=document,f=false;d.augment(l,
{send:function(){var p=this,q=p.xhrObj.config;i((q.xdr||{}).src||d.Config.base+"ajax/io.swf",1,1);if(e){p._uid=d.guid();b[p._uid]=p;e.send(q.url,{id:p._uid,uid:p._uid,method:q.type,data:q.hasContent&&q.data||{}})}else setTimeout(function(){p.send()},200)},abort:function(){e.abort(this._uid)},_xdrResponse:function(p,q){var m,g=this.xhrObj;g.responseText=decodeURI(q.c.responseText);switch(p){case "success":m={status:200,statusText:"success"};delete b[q.id];break;case "abort":delete b[q.id];break;case "timeout":case "transport error":case "failure":delete b[q.id];
m={status:500,statusText:p}}m&&g.callback(m.status,m.statusText)}});a.applyTo=function(p,q,m){p=q.split(".");var g=d;d.each(p,function(o){g=g[o]});g.apply(null,m)};a.xdrReady=function(){e=c.getElementById(j)};a.xdrResponse=function(p,q,m){var g=b[q.uid];g&&g._xdrResponse(p,q,m)};d.io=a;return l},{requires:["./base","dom"]});
KISSY.add("ajax/xhr",function(d,a,h,i,l){var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,j=window.XDomainRequest,e=h.xhr();if(e){var c=function(p){p=p.split(".");return p.length<2?p.join("."):p.reverse().slice(0,2).reverse().join(".")},f=function(p){var q=p.config,m=q.xdr||{};if(q.crossDomain){q=q.url.match(b);if(c(location.hostname)==c(q[2]))return new i(p);if(!("withCredentials"in e)&&(String(m.use)==="flash"||!j))return new l(p)}this.xhrObj=p};d.augment(f,h.proto,{send:function(){this.xhr=
h.xhr(this.xhrObj.config.crossDomain);this.sendInternal()}});a.setupTransport("*",f)}return a},{requires:["./base","./xhrbase","./subdomain","./xdr"]});
KISSY.add("ajax/script",function(d,a){function h(l){if(!l.config.crossDomain&&!l.config.forceScript)return new (a.getTransport("*"))(l);this.xhrObj=l;return 0}var i=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(l){d.globalEval(l);return l}}}});d.augment(h,{send:function(){var l=this,b,j=this.xhrObj.config,e=i.head||i.getElementsByTagName("head")[0]||
i.documentElement;l.head=e;b=i.createElement("script");l.script=b;b.async="async";if(j.scriptCharset)b.charset=j.scriptCharset;b.src=j.url;b.onerror=b.onload=b.onreadystatechange=function(c){c=c||window.event;l._callback((c.type||"error").toLowerCase())};e.insertBefore(b,e.firstChild)},_callback:function(l,b){var j=this.script,e=this.xhrObj,c=this.head;if(j)if(b||!j.readyState||/loaded|complete/.test(j.readyState)||l=="error"){j.onerror=j.onload=j.onreadystatechange=null;c&&j.parentNode&&c.removeChild(j);
this.head=this.script=undefined;if(!b&&l!="error")e.callback(200,"success");else l=="error"&&e.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",h);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(d,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return d.guid("jsonp")}});a.on("start",function(h){h=h.xhr;var i=h.config;if(i.dataType[0]=="jsonp"){var l,b=i.jsonpCallback,j=d.isFunction(b)?b():b,e=window[j];i.url+=(/\?/.test(i.url)?"&":"?")+i.jsonp+"="+j;window[j]=function(c){if(arguments.length>1)c=d.makeArray(arguments);l=[c]};h.on("complete",function(){window[j]=e;if(e===undefined)try{delete window[j]}catch(c){}else l&&e(l[0])});h.converters=h.converters||
{};h.converters.script=h.converters.script||{};h.converters.script.json=function(){l||d.error(" not call jsonpCallback : "+j);return l[0]};i.dataType.length=2;i.dataType[0]="script";i.dataType[1]="json"}});return a},{requires:["./base"]});
KISSY.add("ajax/form",function(d,a,h,i){a.on("start",function(l){l=l.xhr.config;if(l.form){var b=h.get(l.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=i.serialize(b))if(l.hasContent){l.data=l.data||"";if(l.data)l.data+="&";l.data+=b}else l.url+=(/\?/.test(l.url)?"&":"?")+b}else{b=l.dataType[0];if(b=="*")b="text";l.dataType.length=2;l.dataType[0]="iframe";l.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(d,a,h,i){function l(j){this.xhr=j}var b=document;i.setupConfig({converters:{iframe:i.getConfig().converters.text,text:{iframe:function(j){return j}}}});d.augment(l,{send:function(){var j=this.xhr,e=j.config,c,f=a.get(e.form);this.attrs={target:a.attr(f,"target")||"",action:a.attr(f,"action")||""};this.form=f;var p=d.guid("ajax-iframe");j.iframe=a.create("<iframe  id='"+p+"' name='"+p+"' style='position:absolute;left:-9999px;top:-9999px;'/>");j.iframeId=p;a.prepend(j.iframe,
b.body||b.documentElement);a.attr(f,{target:j.iframeId,action:e.url});if(e.data){c=e.data;e=e.serializeArray;c=d.unparam(c);p=[];for(var q in c)for(var m=d.isArray(c[q]),g=d.makeArray(c[q]),o=0;o<g.length;o++){var x=b.createElement("input");x.type="hidden";x.name=q+(m&&e?"[]":"");x.value=g[o];a.append(x,f);p.push(x)}c=p}this.fields=c;h.on(j.iframe,"load error",this._callback,this);f.submit()},_callback:function(j){var e=this.xhr;j=j.type;var c=e.iframe;if(c){a.attr(this.form,this.attrs);if(j=="load"){j=
c.contentWindow.document;e.responseXML=j;e.responseText=a.text(j.body);e.callback(200,"success")}else j=="error"&&e.callback(500,"error");a.remove(this.fields);h.detach(c);setTimeout(function(){a.remove(c)},30);e.iframe=null}},abort:function(){this._callback(0,1)}});i.setupTransport("iframe",l);return i},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(d,a,h){d.mix(h,{serialize:a.serialize,get:function(i,l,b,j,e){if(d.isFunction(l)){j=b;b=l;l=undefined}return h({type:e||"get",url:i,data:l,success:b,dataType:j})},post:function(i,l,b,j){if(d.isFunction(l)){j=b;b=l;l=undefined}return h.get(i,l,b,j,"post")},jsonp:function(i,l,b){if(d.isFunction(l)){b=l;l=undefined}return h.get(i,l,b,"jsonp")},getScript:d.getScript,getJSON:function(i,l,b){if(d.isFunction(l)){b=l;l=undefined}return h.get(i,l,b,"json")},upload:function(i,l,b,
j,e){if(d.isFunction(b)){e=j;j=b;b=undefined}return h({url:i,type:"post",dataType:e,form:l,data:b,success:j})}});return h},{requires:["ajax/form-serializer","ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(d,a){function h(m,g){if(d.isString(g))return m[g];return g}function i(m,g,o,x,E,F,C){C=C||o;return m.fire(g+p(o)+"Change",{attrName:C,subAttrName:F,prevVal:x,newVal:E})}function l(m,g,o){var x=m[g]||{};if(o)m[g]=x;return x}function b(m){return l(m,"__attrs",true)}function j(m){return l(m,"__attrVals",true)}function e(m,g){for(var o=0,x=g.length;m!=a&&o<x;o++)m=m[g[o]];return m}function c(m,g,o,x,E){x=x||{};var F,C,s,y=g;if(g.indexOf(".")!==-1){F=g.split(".");g=
F.shift()}s=m.get(g);if(F)C=e(s,F);if(!(!F&&s===o))if(!(F&&C===o)){if(F){var A=C=d.clone(s),z=F.length-1;if(z>=0){for(var r=0;r<z;r++)A=A[F[r]];if(A!=a)A[F[r]]=o}o=C}if(!x.silent)if(false===i(m,"before",g,s,o,y))return false;o=m.__set(g,o);if(o===false)return o;if(!x.silent){o=j(m)[g];i(m,"after",g,s,o,y);E?E.push({prevVal:s,newVal:o,attrName:g,subAttrName:y}):i(m,"","*",[s],[o],[y],[g])}return m}}function f(){}function p(m){return m.charAt(0).toUpperCase()+m.substring(1)}f.INVALID={};var q=f.INVALID;
d.augment(f,{getAttrs:function(){return b(this)},getAttrVals:function(){var m={},g,o=b(this);for(g in o)m[g]=this.get(g);return m},addAttr:function(m,g,o){var x=b(this);g=d.clone(g);if(x[m])d.mix(x[m],g,o);else x[m]=g;return this},addAttrs:function(m,g){var o=this;d.each(m,function(x,E){o.addAttr(E,x)});g&&o.set(g);return o},hasAttr:function(m){return m&&b(this).hasOwnProperty(m)},removeAttr:function(m){if(this.hasAttr(m)){delete b(this)[m];delete j(this)[m]}return this},set:function(m,g,o){var x;
if(d.isPlainObject(m)){var E=m;m=0;x=true;o=g;g=[];for(m in E){x=c(this,m,E[m],o,g);if(x===false)break}var F=[],C=[],s=[],y=[];d.each(g,function(A){C.push(A.prevVal);s.push(A.newVal);F.push(A.attrName);y.push(A.subAttrName)});F.length&&i(this,"","*",C,s,y,F);return x}return c(this,m,g,o)},__set:function(m,g){var o,x=l(b(this),m,true),E=x.validator;x=x.setter;if(E=h(this,E))if(!E.call(this,g,m))return false;if(x=h(this,x))o=x.call(this,g,m);if(o===q)return false;if(o!==a)g=o;j(this)[m]=g},get:function(m){var g,
o,x;if(m.indexOf(".")!==-1){g=m.split(".");m=g.shift()}o=l(b(this),m).getter;x=m in j(this)?j(this)[m]:this.__getDefAttrVal(m);if(o=h(this,o))x=o.call(this,x,m);if(g)x=e(x,g);return x},__getDefAttrVal:function(m){var g=l(b(this),m),o;if(o=h(this,g.valueFn)){o=o.call(this);if(o!==a)g.value=o;delete g.valueFn;b(this)[m]=g}return g.value},reset:function(m,g){if(d.isString(m))return this.hasAttr(m)?this.set(m,this.__getDefAttrVal(m),g):this;g=m;var o=b(this),x={};for(m in o)x[m]=this.__getDefAttrVal(m);
this.set(x,g);return this}});f.__capitalFirst=p;return f});KISSY.add("base/base",function(d,a,h){function i(l){for(var b=this.constructor;b;){var j=b.ATTRS;if(j){var e=void 0;for(e in j)j.hasOwnProperty(e)&&this.addAttr(e,j[e],false)}b=b.superclass?b.superclass.constructor:null}if(l)for(var c in l)l.hasOwnProperty(c)&&this.__set(c,l[c])}d.augment(i,h.Target,a);return i},{requires:["./attribute","event"]});KISSY.add("base",function(d,a,h){a.Attribute=h;return a},{requires:["base/base","base/attribute"]});
KISSY.add("cookie/base",function(d){var a=document,h=encodeURIComponent,i=decodeURIComponent;return{get:function(l){var b;if(d.isString(l)&&l!=="")if(l=String(a.cookie).match(RegExp("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)")))b=l[1]?i(l[1]):"";return b},set:function(l,b,j,e,c,f){b=String(h(b));var p=j;if(typeof p==="number"){p=new Date;p.setTime(p.getTime()+j*864E5)}if(p instanceof Date)b+="; expires="+p.toUTCString();if(d.isString(e)&&e!=="")b+="; domain="+e;if(d.isString(c)&&c!=="")b+="; path="+c;if(f)b+=
"; secure";a.cookie=l+"="+b},remove:function(l,b,j,e){this.set(l,"",-1,b,j,e)}}});KISSY.add("cookie",function(d,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(d,a,h,i,l,b,j,e,c,f){j.getScript=d.getScript;a={UA:a,DOM:h,Event:i,EventTarget:i.Target,EventObject:i.Object,Node:l,NodeList:l,JSON:b,Ajax:j,IO:j,ajax:j,io:j,jsonp:j.jsonp,Anim:e,Easing:e.Easing,Base:c,Cookie:f,one:l.one,all:l.all,get:h.get,query:h.query};d.mix(d,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
