/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 9 19:54
*/
KISSY.add("ua/base",function(){var c=navigator.userAgent,a="",n="",g,h=[6,9],b=document.createElement("div"),l,e={},d=function(j){var q=0;return parseFloat(j.replace(/\./g,function(){return q++===0?".":""}))};b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}","");l=b.getElementsByTagName("s");if(l.length>0){n="ie";e[a="trident"]=0.1;if((g=c.match(/Trident\/([\d.]*)/))&&g[1])e[a]=d(g[1]);c=h[0];for(h=h[1];c<=h;c++){b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
c);if(l.length>0){e[n]=c;break}}}else if((g=c.match(/AppleWebKit\/([\d.]*)/))&&g[1]){e[a="webkit"]=d(g[1]);if((g=c.match(/Chrome\/([\d.]*)/))&&g[1])e[n="chrome"]=d(g[1]);else if((g=c.match(/\/([\d.]*) Safari/))&&g[1])e[n="safari"]=d(g[1]);if(/ Mobile\//.test(c))e.mobile="apple";else if(g=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=g[0].toLowerCase()}else if((g=c.match(/Presto\/([\d.]*)/))&&g[1]){e[a="presto"]=d(g[1]);if((g=c.match(/Opera\/([\d.]*)/))&&g[1]){e[n="opera"]=d(g[1]);
if((g=c.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])e[n]=d(g[1]);if((g=c.match(/Opera Mini[^;]*/))&&g)e.mobile=g[0].toLowerCase();else if((g=c.match(/Opera Mobi[^;]*/))&&g)e.mobile=g[0]}}else if((g=c.match(/MSIE\s([^;]*)/))&&g[1]){e[a="trident"]=0.1;e[n="ie"]=d(g[1]);if((g=c.match(/Trident\/([\d.]*)/))&&g[1])e[a]=d(g[1])}else if(g=c.match(/Gecko/)){e[a="gecko"]=0.1;if((g=c.match(/rv:([\d.]*)/))&&g[1])e[a]=d(g[1]);if((g=c.match(/Firefox\/([\d.]*)/))&&g[1])e[n="firefox"]=d(g[1])}e.core=a;e.shell=n;
e._numberify=d;return e});KISSY.add("ua/extra",function(c,a){var n=navigator.userAgent,g,h,b={},l=a._numberify;if(n.match(/360SE/))b[h="se360"]=3;else if(n.match(/Maxthon/)&&(g=window.external)){h="maxthon";try{b[h]=l(g.max_version)}catch(e){b[h]=0.1}}else if(g=n.match(/TencentTraveler\s([\d.]*)/))b[h="tt"]=g[1]?l(g[1]):0.1;else if(n.match(/TheWorld/))b[h="theworld"]=3;else if(g=n.match(/SE\s([\d.]*)/))b[h="sougou"]=g[1]?l(g[1]):0.1;h&&(b.shell=h);c.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(c,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(c,a,n){function g(l,e){return l&&l.nodeType===e}var h={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},b={_isCustomDomain:function(l){l=l||window;var e=l.document.domain;l=l.location.hostname;return e!=l&&e!="["+l+"]"},_genEmptyIframeSrc:function(l){l=l||window;if(a.ie&&b._isCustomDomain(l))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+l.document.domain+"';document.close();")+"}())"},_NODE_TYPE:h,_isElementNode:function(l){return g(l,b.ELEMENT_NODE)},_getWin:function(l){return l&&"scrollTo"in l&&l.document?l:g(l,b.DOCUMENT_NODE)?l.defaultView||l.parentWindow:l===n||l===null?window:false},_nodeTypeIs:g,_isNodeList:function(l){return l&&!l.nodeType&&l.item&&!l.setTimeout},_nodeName:function(l,e){return l&&l.nodeName.toLowerCase()===e.toLowerCase()}};c.mix(b,h);return b},{requires:["ua"]});
KISSY.add("dom/attr",function(c,a,n,g){function h(z,s){s=D[s]||s;var x=w[s];return x&&x.get?x.get(z,s):z[s]}n=document.documentElement;var b=!n.hasAttribute,l=n.textContent===g?"innerText":"textContent",e=a._nodeName,d=a._isElementNode,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,p=/^a(?:rea)?$/i,m=/:|^on/,i=/\r/g,f={},t={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},B={tabindex:{get:function(z){var s=z.getAttributeNode("tabindex");return s&&s.specified?parseInt(s.value,10):q.test(z.nodeName)||p.test(z.nodeName)&&z.href?0:g}},style:{get:function(z){return z.style.cssText},set:function(z,s){z.style.cssText=s}}},D={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},A={get:function(z,s){return a.prop(z,s)?s.toLowerCase():g},set:function(z,s,x){if(s===false)a.removeAttr(z,x);else{s=D[x]||x;if(s in z)z[s]=true;z.setAttribute(x,x.toLowerCase())}return x}},w={},y={},E={option:{get:function(z){var s=z.attributes.value;return!s||s.specified?z.value:z.text}},select:{get:function(z){var s=z.selectedIndex,x=z.options;z=z.type==="select-one";if(s<0)return null;else if(z)return a.val(x[s]);s=[];z=0;for(var k=x.length;z<k;++z)x[z].selected&&
s.push(a.val(x[z]));return s},set:function(z,s){var x=c.makeArray(s);c.each(z.options,function(k){k.selected=c.inArray(a.val(k),x)});if(!x.length)z.selectedIndex=-1;return x}}};if(b){y={get:function(z,s){var x;return(x=z.getAttributeNode(s))&&x.nodeValue!==""?x.nodeValue:g},set:function(z,s,x){var k=z.getAttributeNode(x);if(k)k.nodeValue=s;else try{var r=z.ownerDocument.createAttribute(x);r.value=s;z.setAttributeNode(r)}catch(u){return z.setAttribute(x,s,0)}}};f=D;B.tabIndex=B.tabindex;c.each(["href",
"src","width","height","colSpan","rowSpan"],function(z){B[z]={get:function(s){s=s.getAttribute(z,2);return s===null?g:s}}});E.button=B.value=y}c.each(["radio","checkbox"],function(z){E[z]={get:function(s){return s.getAttribute("value")===null?"on":s.value},set:function(s,x){if(c.isArray(x))return s.checked=c.inArray(a.val(s),x)}}});c.mix(a,{prop:function(z,s,x){if(c.isPlainObject(s))for(var k in s)a.prop(z,k,s[k]);else{z=a.query(z);s=D[s]||s;var r=w[s];if(x!==g)z.each(function(u){if(r&&r.set)r.set(u,
x,s);else u[s]=x});else if(z.length)return h(z[0],s)}},hasProp:function(z,s){for(var x=a.query(z),k=0;k<x.length;k++)if(h(x[k],s)!==g)return true;return false},removeProp:function(z,s){s=D[s]||s;a.query(z).each(function(x){try{x[s]=g;delete x[s]}catch(k){c.log("delete el property error : ");c.log(k)}})},attr:function(z,s,x,k){if(c.isPlainObject(s)){k=x;for(var r in s)a.attr(z,r,s[r],k)}else if(s=c.trim(s)){s=s.toLowerCase();if(k&&t[s])return a[s](z,x);s=f[s]||s;var u;u=j.test(s)?A:m.test(s)?y:B[s];
if(x===g){z=a.get(z);if(d(z)){if(e(z,"form"))u=y;if(u&&u.get)return u.get(z,s);z=z.getAttribute(s);return z===null?g:z}}else a.query(z).each(function(o){if(d(o)){var v=u;if(e(o,"form"))v=y;v&&v.set?v.set(o,x,s):o.setAttribute(s,""+x)}})}},removeAttr:function(z,s){s=s.toLowerCase();s=f[s]||s;a.query(z).each(function(x){if(d(x)){var k;x.removeAttribute(s);if(j.test(s)&&(k=D[s]||s)in x)x[k]=false}})},hasAttr:b?function(z,s){s=s.toLowerCase();for(var x=a.query(z),k=0;k<x.length;k++){var r=x[k].getAttributeNode(s);
if(r&&r.specified)return true}return false}:function(z,s){for(var x=a.query(z),k=0;k<x.length;k++)if(x[k].hasAttribute(s))return true;return false},val:function(z,s){var x,k;if(s===g){var r=a.get(z);if(r){if((x=E[r.nodeName.toLowerCase()]||E[r.type])&&"get"in x&&(k=x.get(r,"value"))!==g)return k;k=r.value;return typeof k==="string"?k.replace(i,""):c.isNullOrUndefined(k)?"":k}}else a.query(z).each(function(u){if(u.nodeType===1){var o=s;if(c.isNullOrUndefined(o))o="";else if(typeof o==="number")o+=
"";else if(c.isArray(o))o=c.map(o,function(v){return c.isNullOrUndefined(o)?"":v+""});x=E[u.nodeName.toLowerCase()]||E[u.type];if(!x||!("set"in x)||x.set(u,o,"value")===g)u.value=o}})},text:function(z,s){if(s===g){var x=a.get(z);if(d(x))return x[l]||"";else if(a._nodeTypeIs(x,a.TEXT_NODE))return x.nodeValue;return g}else a.query(z).each(function(k){if(d(k))k[l]=s;else if(a._nodeTypeIs(k,a.TEXT_NODE))k.nodeValue=s})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(c,a,n){function g(d){return(b+d+b).replace(e,b)}function h(d,j,q,p){if(!(j=c.trim(j)))return p?false:n;d=a.query(d);var m=d.length,i=j.split(l);j=[];for(var f=0;f<i.length;f++){var t=c.trim(i[f]);t&&j.push(t)}for(f=0;f<m;f++){i=d[f];if(a._isElementNode(i)){i=q(i,j,j.length);if(i!==n)return i}}if(p)return false;return n}var b=" ",l=/[\.\s]\s*\.?/,e=/[\n\t]/g;c.mix(a,{__hasClass:function(d,j){var q=d.className;if(q){q=g(q);return q.indexOf(b+j+b)>-1}else return false},
hasClass:function(d,j){return h(d,j,function(q,p,m){if(q=q.className){q=g(q);for(var i=0,f=true;i<m;i++)if(q.indexOf(b+p[i]+b)<0){f=false;break}if(f)return true}},true)},addClass:function(d,j){h(d,j,function(q,p,m){var i=q.className;if(i){var f=g(i);i=i;for(var t=0;t<m;t++)if(f.indexOf(b+p[t]+b)<0)i+=b+p[t];q.className=c.trim(i)}else q.className=j},n)},removeClass:function(d,j){h(d,j,function(q,p,m){var i=q.className;if(i)if(m){i=g(i);for(var f=0,t;f<m;f++)for(t=b+p[f]+b;i.indexOf(t)>=0;)i=i.replace(t,
b);q.className=c.trim(i)}else q.className=""},n)},replaceClass:function(d,j,q){a.removeClass(d,j);a.addClass(d,q)},toggleClass:function(d,j,q){var p=c.isBoolean(q),m;h(d,j,function(i,f,t){for(var B=0,D;B<t;B++){D=f[B];m=p?!q:a.hasClass(i,D);a[m?"removeClass":"addClass"](i,D)}},n)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,a,n,g){function h(k){var r=c.require("event");r&&r.detach(k);a.removeData(k)}function b(k,r,u){if(q(r,a.DOCUMENT_FRAGMENT_NODE)){r=r.childNodes;u=u.childNodes;for(var o=0;r[o];){u[o]&&b(k,r[o],u[o]);o++}}else if(p(r)){r=r.getElementsByTagName("*");u=u.getElementsByTagName("*");for(o=0;r[o];){u[o]&&k(r[o],u[o]);o++}}}function l(k,r){var u=c.require("event");if(!(p(r)&&!a.hasData(k))){var o=a.data(k),v;for(v in o)a.data(r,v,o[v]);if(u){u._removeData(r);u._clone(k,r)}}}
function e(k,r){r.clearAttributes&&r.clearAttributes();r.mergeAttributes&&r.mergeAttributes(k);var u=r.nodeName.toLowerCase(),o=k.childNodes;if(u==="object"&&!r.childNodes.length)for(u=0;u<o.length;u++)r.appendChild(o[u].cloneNode(true));else if(u==="input"&&(k.type==="checkbox"||k.type==="radio")){if(k.checked)r.defaultChecked=r.checked=k.checked;if(r.value!==k.value)r.value=k.value}else if(u==="option")r.selected=k.defaultSelected;else if(u==="input"||u==="textarea")r.defaultValue=k.defaultValue;
r.removeAttribute(a.__EXPANDO)}function d(k,r){var u=null,o,v;if(k&&(k.push||k.item)&&k[0]){r=r||k[0].ownerDocument;u=r.createDocumentFragment();k=c.makeArray(k);o=0;for(v=k.length;o<v;o++)u.appendChild(k[o])}else c.log("Unable to convert "+k+" to fragment.");return u}var j=document;n=n.ie;var q=a._nodeTypeIs,p=a._isElementNode,m=c.isString,i=j.createElement("div"),f=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,B=/^\s+/,D=n&&n<9,A=/<|&#?\w+;/,w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
c.mix(a,{create:function(k,r,u,o){if(p(k)||q(k,a.TEXT_NODE))return a.clone(k);var v=null;if(!m(k))return v;if(o===g)o=true;if(o)k=c.trim(k);if(!k)return v;o=a._creators;var C,F;u=u||j;var G,H="div";if(A.test(k))if(G=w.exec(k))v=u.createElement(G[1]);else{k=k.replace(f,"<$1></$2>");if((G=t.exec(k))&&(C=G[1]))H=C.toLowerCase();C=(o[H]||o.div)(k,u);if(D&&(F=k.match(B)))C.insertBefore(u.createTextNode(F[0]),C.firstChild);F=C.childNodes;if(F.length===1)v=F[0].parentNode.removeChild(F[0]);else if(F.length)v=
d(F,u);else c.error(k+" : create node error")}else v=u.createTextNode(k);k=v;if(c.isPlainObject(r))if(p(k))a.attr(k,r,true);else q(k,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(k.childNodes,r,true);return k},_creators:{div:function(k,r){var u=r&&r!=j?r.createElement("div"):i;u.innerHTML="m<div>"+k+"</div>";return u.lastChild}},html:function(k,r,u,o){k=a.query(k);var v=k[0];if(v)if(r===g)return p(v)?v.innerHTML:null;else{var C=false;r+="";if(!r.match(/<(?:script|style)/i)&&(!D||!r.match(B))&&!s[(r.match(t)||
["",""])[1].toLowerCase()])try{k.each(function(G){if(p(G)){h(G.getElementsByTagName("*"));G.innerHTML=r}});C=true}catch(F){}if(!C){r=a.create(r,0,v.ownerDocument,false);k.each(function(G){if(p(G)){a.empty(G);a.append(r,G,u)}})}o&&o()}},remove:function(k,r){a.query(k).each(function(u){if(!r&&p(u)){var o=u.getElementsByTagName("*");h(o);h(u)}u.parentNode&&u.parentNode.removeChild(u)})},clone:function(k,r,u,o){k=a.get(k);if(!k)return null;var v=k.cloneNode(r);if(p(k)||q(k,a.DOCUMENT_FRAGMENT_NODE)){p(k)&&
e(k,v);r&&b(e,k,v)}if(u){l(k,v);r&&o&&b(l,k,v)}return v},empty:function(k){a.query(k).each(function(r){a.remove(r.childNodes)})},_nl2frag:d});var y=a._creators,E=a.create,z=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,s={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},x;for(x in s)(function(k){y[x]=function(r,u){return E("<"+k+">"+r+"</"+k+">",null,u)}})(s[x]);
if(n<8)y.tbody=function(k,r){var u=E("<table>"+k+"</table>",null,r),o=u.children.tags("tbody")[0];u.children.length>1&&o&&!z.test(k)&&o.parentNode.removeChild(o);return u};c.mix(y,{thead:y.tbody,tfoot:y.tbody,caption:y.tbody,colgroup:y.tbody});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(c,a,n){var g=window,h="_ks_data_"+c.now(),b={},l={},e={};e.applet=1;e.object=1;e.embed=1;var d={hasData:function(p,m){if(p)if(m!==n){if(m in p)return true}else if(!c.isEmptyObject(p))return true;return false}},j={hasData:function(p,m){if(p==g)return j.hasData(l,m);return d.hasData(p[h],m)},data:function(p,m,i){if(p==g)return j.data(l,m,i);var f=p[h];if(i!==n){f=p[h]=p[h]||{};f[m]=i}else if(m!==n)return f&&f[m];else return f=p[h]=p[h]||{}},removeData:function(p,m){if(p==
g)return j.removeData(l,m);var i=p[h];if(i)if(m!==n){delete i[m];c.isEmptyObject(i)&&j.removeData(p,n)}else try{delete p[h]}catch(f){p[h]=null}}},q={hasData:function(p,m){var i=p[h];if(!i)return false;return d.hasData(b[i],m)},data:function(p,m,i){if(!e[p.nodeName.toLowerCase()]){var f=p[h];f||(f=p[h]=c.guid());p=b[f];if(i!==n){p=b[f]=b[f]||{};p[m]=i}else if(m!==n)return p&&p[m];else return p=b[f]=b[f]||{}}},removeData:function(p,m){var i=p[h];if(i){var f=b[i];if(f)if(m!==n){delete f[m];c.isEmptyObject(f)&&
q.removeData(p,n)}else{delete b[i];try{delete p[h]}catch(t){}p.removeAttribute&&p.removeAttribute(h)}}}};c.mix(a,{__EXPANDO:h,hasData:function(p,m){for(var i=false,f=a.query(p),t=0;t<f.length;t++)if(i=(i=f[t])&&i.nodeType?q.hasData(i,m):j.hasData(i,m))break;return i},data:function(p,m,i){if(c.isPlainObject(m))for(var f in m)a.data(p,f,m[f]);else if(i===n)if((p=a.get(p))&&p.nodeType)return q.data(p,m,i);else{if(p)return j.data(p,m,i)}else a.query(p).each(function(t){t&&t.nodeType?q.data(t,m,i):j.data(t,
m,i)})},removeData:function(p,m){a.query(p).each(function(i){i&&i.nodeType?q.removeData(i,m):j.removeData(i,m)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(c,a,n){function g(f){for(var t=0;t<f.length;t++){var B=f[t];if(B.nodeType==n.DOCUMENT_FRAGMENT_NODE)g(B.childNodes);else if(d(B,"input")){if(B.type==="checkbox"||B.type==="radio")B.defaultChecked=B.checked}else if(q(B)){B=B.getElementsByTagName("input");for(var D=0;D<B.length;D++)g(B[D])}}}function h(f,t){for(var B=[],D=0;f[D];D++){var A=f[D],w=A.nodeName.toLowerCase();if(A.nodeType==n.DOCUMENT_FRAGMENT_NODE)B.push.apply(B,h(j(A.childNodes),t));else if(w==="script"&&
(!A.type||p.test(A.type))){if(t)t.push(A.parentNode?A.parentNode.removeChild(A):A)}else{if(q(A)&&!e.test(w)){w=[];for(var y=A.getElementsByTagName("script"),E=0;E<y.length;E++)(!y[E].type||p.test(y[E].type))&&w.push(y[E]);f.splice.apply(f,[D+1,0].concat(w))}B.push(A)}}return B}function b(f){if(f.src)c.getScript(f.src);else(f=c.trim(f.text||f.textContent||f.innerHTML||""))&&c.globalEval(f)}function l(f,t,B,D){f=n.query(f);if(D)D=[];f=h(f,D);a.ie<8&&g(f);t=n.query(t);var A=f.length,w=t.length;if(!(!A&&
(!D||!D.length)||!w)){f=n._nl2frag(f);var y;if(w>1)y=n.clone(f,true);for(var E=0;E<w;E++){var z=t[E];if(A){var s=E>0?n.clone(y,true):f;B(s,z)}D&&c.each(D,b)}}}var e=/^(?:button|input|object|select|textarea)$/i,d=n._nodeName,j=c.makeArray,q=n._isElementNode,p=/\/(java|ecma)script/i;c.mix(n,{insertBefore:function(f,t,B){l(f,t,function(D,A){A.parentNode&&A.parentNode.insertBefore(D,A)},B)},insertAfter:function(f,t,B){l(f,t,function(D,A){A.parentNode&&A.parentNode.insertBefore(D,A.nextSibling)},B)},appendTo:function(f,
t,B){l(f,t,function(D,A){A.appendChild(D)},B)},prependTo:function(f,t,B){l(f,t,function(D,A){A.insertBefore(D,A.firstChild)},B)}});var m={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},i;for(i in m)n[i]=n[m[i]];return n},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(c,a,n,g){function h(s){var x,k=0;x=0;var r=e.body,u=m(s[B]);if(s[z]){x=s[z]();k=x[D];x=x[A];s=d&&e.documentMode!=9&&(i?j.clientTop:r.clientTop)||0;k-=d&&e.documentMode!=9&&(i?j.clientLeft:r.clientLeft)||0;x-=s;if(n.mobile=="apple"){k-=a[y](u);x-=a[E](u)}}return{left:k,top:x}}function b(s,x){var k={left:0,top:0},r=m(s[B]),u=s;x=x||r;do{var o;if(r==x){var v=u;o=h(v);v=m(v[B]);o.left+=a[y](v);o.top+=a[E](v);o=o}else o=h(u);o=o;k.left+=o.left;k.top+=o.top}while(r&&r!=x&&
(u=r.frameElement)&&(r=r.parent));return k}var l=window,e=document,d=n.ie,j=e.documentElement,q=a._isElementNode,p=a._nodeTypeIs,m=a._getWin,i=e.compatMode==="CSS1Compat",f=Math.max,t=parseInt,B="ownerDocument",D="left",A="top",w=c.isNumber,y="scrollLeft",E="scrollTop",z="getBoundingClientRect";c.mix(a,{offset:function(s,x,k){if(x===g){s=a.get(s);var r;if(s)r=b(s,k);return r}a.query(s).each(function(u){if(a.css(u,"position")==="static")u.style.position="relative";var o=b(u),v={},C,F;for(F in x){C=
t(a.css(u,F),10)||0;v[F]=C+x[F]-o[F]}a.css(u,v)})},scrollIntoView:function(s,x,k,r,u){if(s=a.get(s)){if(x)x=a.get(x);if(!x)x=s.ownerDocument;if(u!==true){r=r===g?true:!!r;k=k===g?true:!!k}if(p(x,a.DOCUMENT_NODE))x=m(x);var o=!!m(x);u=a.offset(s);var v=a.outerHeight(s);s=a.outerWidth(s);var C,F,G,H;if(o){o=x;F=a.height(o);C=a.width(o);H={left:a.scrollLeft(o),top:a.scrollTop(o)};o={left:u[D]-H[D],top:u[A]-H[A]};u={left:u[D]+s-(H[D]+C),top:u[A]+v-(H[A]+F)};H=H}else{C=a.offset(x);F=x.clientHeight;G=x.clientWidth;
H={left:a.scrollLeft(x),top:a.scrollTop(x)};o={left:u[D]-C[D]-(t(a.css(x,"borderLeftWidth"))||0),top:u[A]-C[A]-(t(a.css(x,"borderTopWidth"))||0)};u={left:u[D]+s-(C[D]+G+(t(a.css(x,"borderRightWidth"))||0)),top:u[A]+v-(C[A]+F+(t(a.css(x,"borderBottomWidth"))||0))}}if(o.top<0||u.top>0)if(k===true)a.scrollTop(x,H.top+o.top);else if(k===false)a.scrollTop(x,H.top+u.top);else o.top<0?a.scrollTop(x,H.top+o.top):a.scrollTop(x,H.top+u.top);if(r)if(o.left<0||u.left>0)if(k===true)a.scrollLeft(x,H.left+o.left);
else if(k===false)a.scrollLeft(x,H.left+u.left);else o.left<0?a.scrollLeft(x,H.left+o.left):a.scrollLeft(x,H.left+u.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});c.each(["Left","Top"],function(s,x){var k="scroll"+s;a[k]=function(r,u){if(w(r))return arguments.callee(l,r);r=a.get(r);var o,v=m(r);if(v)if(u!==g){u=parseFloat(u);var C=s=="Left"?u:a.scrollLeft(v),F=s=="Top"?u:a.scrollTop(v);v.scrollTo(C,F)}else{o=v["page"+(x?"Y":"X")+"Offset"];if(!w(o)){v=v.document;o=v.documentElement[k];
w(o)||(o=v.body[k])}}else if(q(r))if(u!==g)r[k]=parseFloat(u);else o=r[k];return o}});c.each(["Width","Height"],function(s){a["doc"+s]=function(x){x=a.get(x);x=m(x).document;return f(x.documentElement["scroll"+s],x.body["scroll"+s],a["viewport"+s](x))};a["viewport"+s]=function(x){x=a.get(x);var k="client"+s;x=m(x).document;var r=x.body,u=x.documentElement[k];return x.compatMode==="CSS1Compat"&&u||r&&r[k]||u}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(c,a,n,g){function h(o){return o.replace(D,A)}function b(o,v,C){var F={},G;for(G in v){F[G]=o[p][G];o[p][G]=v[G]}C.call(o);for(G in v)o[p][G]=F[G]}function l(o,v,C){var F;if(o.nodeType===3||o.nodeType===8||!(F=o[p]))return g;v=h(v);var G,H=z[v];v=s[v]||v;if(C!==g){if(C===null||C===y)C=y;else if(!isNaN(Number(C))&&!B[v])C+=E;if(H&&H.set)C=H.set(o,C);if(C!==g)try{o[p][v]=C}catch(I){c.log("css set error :"+I)}return g}else{if(!(H&&"get"in H&&(G=H.get(o,false))!==g))G=F[v];
return G===g?"":G}}function e(o,v,C){if(c.isWindow(o))return v==m?a.viewportWidth(o):a.viewportHeight(o);else if(o.nodeType==9)return v==m?a.docWidth(o):a.docHeight(o);var F=v===m?["Left","Right"]:["Top","Bottom"],G=v===m?o.offsetWidth:o.offsetHeight;if(G>0){C!=="border"&&c.each(F,function(H){C||(G-=parseFloat(a.css(o,"padding"+H))||0);if(C==="margin")G+=parseFloat(a.css(o,C+H))||0;else G-=parseFloat(a.css(o,"border"+H+"Width"))||0});return G}G=a._getComputedStyle(o,v);if(G<0||c.isNullOrUndefined(G))G=
o.style[v]||0;G=parseFloat(G)||0;C&&c.each(F,function(H){G+=parseFloat(a.css(o,"padding"+H))||0;if(C!=="padding")G+=parseFloat(a.css(o,"border"+H+"Width"))||0;if(C==="margin")G+=parseFloat(a.css(o,C+H))||0});return G}var d=document,j=d.documentElement,q=n.ie,p="style",m="width",i="display"+c.now(),f=parseInt,t=/^-?\d+(?:px)?$/i,B={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},D=/-([a-z])/ig,A=function(o,v){return v.toUpperCase()},w=/([A-Z]|^ms)/g,y="",E="px",
z={},s={},x={};if(j[p].cssFloat!==g)s["float"]="cssFloat";else if(j[p].styleFloat!==g)s["float"]="styleFloat";var k,r;c.mix(a,{_camelCase:h,_cssNumber:B,_CUSTOM_STYLES:z,_cssProps:s,_getComputedStyle:function(o,v){var C="",F={},G=o.ownerDocument;v=v.replace(w,"-$1").toLowerCase();if(F=G.defaultView.getComputedStyle(o,null))C=F.getPropertyValue(v)||F[v];if(C==""&&!a.__contains(G.documentElement,o)){v=s[v]||v;C=o[p][v]}return C},style:function(o,v,C){if(c.isPlainObject(v))for(var F in v)a.style(o,F,
v[F]);else if(C===g){o=a.get(o);F="";if(o)F=l(o,v,C);return F}else a.query(o).each(function(G){l(G,v,C)})},css:function(o,v,C){if(c.isPlainObject(v))for(var F in v)a.css(o,F,v[F]);else{v=h(v);F=z[v];if(C===g){o=a.get(o);C="";if(o)if(!(F&&"get"in F&&(C=F.get(o,true))!==g))C=a._getComputedStyle(o,v);return C===g?"":C}else a.style(o,v,C)}},show:function(o){a.query(o).each(function(v){v[p].display=a.data(v,i)||y;if(a.css(v,"display")==="none"){var C;a:{C=v.tagName.toLowerCase();var F,G;if(!x[C]){F=d.body||
d.documentElement;G=d.createElement(C);a.prepend(G,F);var H=a.css(G,"display");F.removeChild(G);if(H==="none"||H===""){if(k)a.prepend(k,F);else{k=d.createElement("iframe");k.frameBorder=k.width=k.height=0;a.prepend(k,F);if(G=a._genEmptyIframeSrc())k.src=G}if(!r||!k.createElement)try{r=k.contentWindow.document;r.write((d.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(n.ie&&a._isCustomDomain()?"<script>document.domain = '"+d.domain+"';<\/script>":"")+"</head><body>");r.close()}catch(I){C=
"block";break a}G=r.createElement(C);r.body.appendChild(G);H=a.css(G,"display");F.removeChild(k)}x[C]=H}C=x[C]}a.data(v,i,C);v[p].display=C}})},hide:function(o){a.query(o).each(function(v){var C=v[p],F=C.display;if(F!=="none"){F&&a.data(v,i,F);C.display="none"}})},toggle:function(o){a.query(o).each(function(v){a.css(v,"display")==="none"?a.show(v):a.hide(v)})},addStyleSheet:function(o,v,C){if(c.isString(o)){C=v;v=o;o=window}o=a.get(o);o=a._getWin(o).document;var F;if(C&&(C=C.replace("#",y)))F=a.get("#"+
C,o);if(!F){F=a.create("<style>",{id:C},o);a.get("head",o).appendChild(F);if(F.styleSheet)F.styleSheet.cssText=v;else F.appendChild(o.createTextNode(v))}},unselectable:function(o){a.query(o).each(function(v){if(n.gecko)v[p].MozUserSelect="none";else if(n.webkit)v[p].KhtmlUserSelect="none";else if(n.ie||n.opera){var C=0,F=v.getElementsByTagName("*");for(v.setAttribute("unselectable","on");v=F[C++];)switch(v.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:v.setAttribute("unselectable",
"on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([m,"height"],function(o){a["inner"+(o.charAt(0).toUpperCase()+o.substring(1))]=function(v){return(v=a.get(v))?e(v,o,"padding"):null};a["outer"+(o.charAt(0).toUpperCase()+o.substring(1))]=function(v,C){var F=a.get(v);return F?e(F,o,C?"margin":"border"):null};a[o]=function(v,C){var F=a.css(v,o,C);if(F)F=parseFloat(F);return F}});var u={position:"absolute",visibility:"hidden",display:"block"};c.each(["height",
"width"],function(o){z[o]={get:function(v,C){var F;if(C){if(v.offsetWidth!==0)F=e(v,o);else b(v,u,function(){F=e(v,o)});return F+"px"}},set:function(v,C){if(t.test(C)){C=parseFloat(C);if(C>=0)return C+"px"}else return C}}});c.each(["left","top"],function(o){z[o]={get:function(v,C){if(C){var F=a._getComputedStyle(v,o);if(F==="auto"){F=0;if(c.inArray(a.css(v,"position"),["absolute","fixed"])){F=v[o==="left"?"offsetLeft":"offsetTop"];if(q&&document.documentMode!=9||n.opera)F-=v.offsetParent&&v.offsetParent["client"+
(o=="left"?"Left":"Top")]||0;F=F-(f(a.css(v,"margin-"+o))||0)}F+="px"}return F}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,a,n){function g(k,r){var u=[],o;o=r===n?[p]:g(r,n);i(o,function(v){A.apply(u,h(k,v))});if(c.isString(k)&&k.indexOf(",")>-1||o.length>1)s(u);u.each=c.bind(i,n,u);return u}function h(k,r){var u=[];c.require("sizzle");if(y(k))k=c.trim(k);if(y(k)&&k.indexOf(",")>-1)u=b(k,r);else{if(y(k)&&!z.exec(String(k))){u=k;var o=[],v=c.require("sizzle");v?v(u,r,o):q(u);u=o}else u=l(k,r);u=u}return u=u}function b(k,r){var u=[],o=k.split(",");i(o,function(v){A.apply(u,h(v,r))});
return u}function l(k,r){var u,o,v=[],C;if(y(k))if(E.test(k)){if(o=d(k.slice(1),r))v=[o]}else{if(u=z.exec(k)){o=u[1];C=u[2];u=u[3];if(r=o?d(o,r):r)if(u)if(!o||k.indexOf(w)!=-1)v=[].concat(x(u,C,r));else{if((o=d(o,r))&&a.__hasClass(o,u))v=[o]}else if(C)v=j(C,r)}}else if(k&&(f(k)||B(k)))v=m(k,function(F){return e(F,r)});else if(k)if(e(k,r))v=[k];return v}function e(k,r){if(!k)return false;if(r==p)return true;return a.__contains(r,k)}function d(k,r){if(!r)return null;var u=r;if(r.nodeType!==a.DOCUMENT_NODE)u=
r.ownerDocument;if((u=u.getElementById(k))&&u.parentNode)if(a.attr(u,"id")!==k)u=a.filter("*","#"+k,r)[0]||null;else e(u,r)||(u=null);else u=null;return u}function j(k,r){return r&&t(r.getElementsByTagName(k))||[]}function q(k){c.error("Unsupported selector: "+k)}var p=document,m=c.filter,i=c.each,f=c.isArray,t=c.makeArray,B=a._isNodeList,D=a._nodeName,A=Array.prototype.push,w=" ",y=c.isString,E=/^#[\w-]+$/,z=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,s;(function(){var k,r,u=true;[0,0].sort(function(){u=
false;return 0});s=function(o){if(k){r=u;o.sort(k);if(r)for(var v=1,C=o.length;v<C;)if(o[v]===o[v-1])o.splice(v,1);else v++}return o};k=p.documentElement.compareDocumentPosition?function(o,v){if(o==v){r=true;return 0}if(!o.compareDocumentPosition||!v.compareDocumentPosition)return o.compareDocumentPosition?-1:1;return o.compareDocumentPosition(v)&4?-1:1}:function(o,v){if(o==v){r=true;return 0}else if(o.sourceIndex&&v.sourceIndex)return o.sourceIndex-v.sourceIndex}})();(function(){var k=p.createElement("div");
k.appendChild(p.createComment(""));if(k.getElementsByTagName("*").length>0)j=function(r,u){var o=t(u.getElementsByTagName(r));if(r==="*"){for(var v=[],C=0,F;F=o[C++];)F.nodeType===1&&v.push(F);o=v}return o}})();var x=p.getElementsByClassName?function(k,r,u){if(!u)return[];k=u.getElementsByClassName(k);var o=0,v=k.length,C;if(r&&r!=="*")for(u=[];o<v;++o){C=k[o];D(C,r)&&u.push(C)}else u=t(k);return u}:p.querySelectorAll?function(k,r,u){return u&&t(u.querySelectorAll((r?r:"")+"."+k))||[]}:function(k,
r,u){if(!u)return[];r=u.getElementsByTagName(r||"*");u=[];for(var o=0,v=r.length,C;o<v;++o){C=r[o];a.__hasClass(C,k)&&u.push(C)}return u};c.mix(a,{query:g,get:function(k,r){return g(k,r)[0]||null},unique:s,filter:function(k,r,u){k=g(k,u);u=c.require("sizzle");var o,v,C,F,G=[];if(y(r)&&(r=c.trim(r))&&(o=z.exec(r))){C=o[1];v=o[2];F=o[3];if(C){if(C&&!v&&!F)r=function(H){return H.id===C}}else r=function(H){var I=true,K=true;if(v)I=D(H,v);if(F)K=a.__hasClass(H,F);return K&&I}}if(c.isFunction(r))G=c.filter(k,
r);else if(r&&u)G=u.matches(r,k);else q(r);return G},test:function(k,r,u){k=g(k,u);return k.length&&a.filter(k,r,u).length===k.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(c,a,n,g){if(!n.ie)return a;var h=document,b=h.documentElement,l=g._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,d=/^-?\d/,j=/opacity=([^)]*)/,q=/alpha\([^)]*\)/i;try{if(c.isNullOrUndefined(b.style.opacity))l.opacity={get:function(i,f){return j.test((f&&i.currentStyle?i.currentStyle.filter:i.style.filter)||"")?parseFloat(RegExp.$1)/100+"":f?"1":""},set:function(i,f){f=parseFloat(f);var t=i.style,B=i.currentStyle,D=isNaN(f)?"":"alpha(opacity="+f*100+")",A=c.trim(B&&B.filter||
t.filter||"");t.zoom=1;if(f>=1&&c.trim(A.replace(q,""))===""){t.removeAttribute("filter");if(B&&!B.filter)return}t.filter=q.test(A)?A.replace(q,D):A+(A?", ":"")+D}}}catch(p){c.log("IE filters ActiveX is disabled. ex = "+p)}n=n.ie==8;var m={};m.thin=n?"1px":"2px";m.medium=n?"3px":"4px";m.thick=n?"5px":"6px";c.each(["","Top","Left","Right","Bottom"],function(i){var f="border"+i+"Width",t="border"+i+"Style";l[f]={get:function(B,D){var A=D?B.currentStyle:0,w=A&&String(A[f])||undefined;if(w&&w.indexOf("px")<
0)w=m[w]&&A[t]!=="none"?m[w]:0;return w}}});if(!(h.defaultView||{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(i,f){f=a._cssProps[f]||f;var t=i.currentStyle&&i.currentStyle[f];if(!e.test(t)&&d.test(t)){var B=i.style,D=B.left,A=i.runtimeStyle&&i.runtimeStyle.left;if(A)i.runtimeStyle.left=i.currentStyle.left;B.left=f==="fontSize"?"1em":t||0;t=B.pixelLeft+"px";B.left=D;if(A)i.runtimeStyle.left=A}return t===""?"auto":t};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,a,n){function g(e,d,j,q,p,m){if(!(e=a.get(e)))return null;if(d===0)return e;m||(e=e[j]);if(!e)return null;p=p&&a.get(p)||null;if(d===n)d=1;m=[];var i=c.isArray(d),f,t;if(c.isNumber(d)){f=0;t=d;d=function(){return++f===t}}for(;e&&e!=p;){if(l(e)&&h(e,d)&&(!q||q(e))){m.push(e);if(!i)break}e=e[j]}return i?m:m[0]||null}function h(e,d){if(!d)return true;if(c.isArray(d))for(var j=0;j<d.length;j++){if(a.test(e,d[j]))return true}else if(a.test(e,d))return true;return false}
function b(e,d,j){var q=[];var p=e=a.get(e);if(e&&j)p=e.parentNode;if(p){j=0;for(p=p.firstChild;p;p=p.nextSibling)if(l(p)&&p!==e&&(!d||a.test(p,d)))q[j++]=p}return q}var l=a._isElementNode;c.mix(a,{closest:function(e,d,j){return g(e,d,"parentNode",function(q){return q.nodeType!=a.DOCUMENT_FRAGMENT_NODE},j,true)},parent:function(e,d,j){return g(e,d,"parentNode",function(q){return q.nodeType!=a.DOCUMENT_FRAGMENT_NODE},j)},first:function(e,d){var j=a.get(e);return g(j&&j.firstChild,d,"nextSibling",n,
n,true)},last:function(e,d){var j=a.get(e);return g(j&&j.lastChild,d,"previousSibling",n,n,true)},next:function(e,d){return g(e,d,"nextSibling",n)},prev:function(e,d){return g(e,d,"previousSibling",n)},siblings:function(e,d){return b(e,d,true)},children:function(e,d){return b(e,d,n)},__contains:document.documentElement.contains?function(e,d){if(e.nodeType==a.TEXT_NODE)return false;var j;if(d.nodeType==a.TEXT_NODE){d=d.parentNode;j=true}else if(d.nodeType==a.DOCUMENT_NODE)return false;else j=e!==d;
return j&&(e.contains?e.contains(d):true)}:document.documentElement.compareDocumentPosition?function(e,d){return!!(e.compareDocumentPosition(d)&16)}:0,contains:function(e,d){e=a.get(e);d=a.get(d);if(e&&d)return a.__contains(e,d)},equals:function(e,d){e=a.query(e);d=a.query(d);if(e.length!=d.length)return false;for(var j=e.length;j>=0;j--)if(e[j]!=d[j])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(c,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};c.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=c.F1&&a.keyCode<=c.F12)return false;switch(a.keyCode){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PHANTOM:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return false;
default:return true}};c.isCharacterKey=function(a){if(a>=c.ZERO&&a<=c.NINE)return true;if(a>=c.NUM_ZERO&&a<=c.NUM_MULTIPLY)return true;if(a>=c.A&&a<=c.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return c});
KISSY.add("event/object",function(c,a){function n(b,l,e){this.currentTarget=b;this.originalEvent=l||{};if(l){this.type=l.type;this._fix()}else{this.type=e;this.target=b}this.currentTarget=b;this.fixed=true}var g=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");c.augment(n,
{_fix:function(){var b=this.originalEvent,l=h.length,e,d=this.currentTarget;for(d=d.nodeType===9?d:d.ownerDocument||g;l;){e=h[--l];this[e]=b[e]}if(!this.target)this.target=this.srcElement||g;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=d.documentElement;l=d.body;this.pageX=this.clientX+(b&&b.scrollLeft||l&&l.scrollLeft||
0)-(b&&b.clientLeft||l&&l.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||l&&l.scrollTop||0)-(b&&b.clientTop||l&&l.clientTop||0)}if(this.which===a)this.which=this.charCode===a?this.keyCode:this.charCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=true;this.stopPropagation()},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return n});
KISSY.add("event/base",function(c,a,n,g){function h(w,y,E){if((E=c.trim(E))&&E.indexOf(m)>0){var z=j(arguments);i(E.split(/\s+/),function(s){var x=[].concat(z);x.splice(0,3,y,s);A[w].apply(A,x)});return true}return 0}function b(w){return w&&w.nodeType!==3&&w.nodeType!==8}function l(w,y,E,z,s){var x=B[y]||{};if(!z.length&&(!x.setup||x.setup.call(w)===false))q(w,y,E);x.add&&x.add.call(w,s)}var e=document,d=a._nodeName,j=c.makeArray,q=e.addEventListener?function(w,y,E,z){w.addEventListener&&w.addEventListener(y,
E,!!z)}:function(w,y,E){w.attachEvent&&w.attachEvent("on"+y,E)},p=e.removeEventListener?function(w,y,E,z){w.removeEventListener&&w.removeEventListener(y,E,!!z)}:function(w,y,E){w.detachEvent&&w.detachEvent("on"+y,E)},m=" ",i=c.each,f="",t="trigger-none-"+c.now(),B={},D="ksEventTargetId"+c.now(),A={_clone:function(w,y){if(!(y.nodeType!==a.ELEMENT_NODE||!A._hasData(w))){var E=A._data(w).events;i(E,function(z,s){i(z,function(x){A.on(y,s,x.fn,x.scope,x.data)})})}},_hasData:function(w){return a.hasData(w,
D)},_data:function(){var w=j(arguments);w.splice(1,0,D);return a.data.apply(a,w)},_removeData:function(){var w=j(arguments);w.splice(1,0,D);return a.removeData.apply(a,w)},special:B,__add:function(w,y,E,z,s,x){var k;if(!(!y||!c.isFunction(z)||w&&!b(y))){(k=A._data(y))||A._data(y,k={});var r=k.events=k.events||{};r=r[E]=r[E]||[];z={fn:z,scope:s,data:x};var u=k.handler;if(!u){u=k.handler=function(o,v){if(!(o&&o.type==f)){var C=u.target;if(!o||!o.fixed)o=new n(C,o);var F=o.type;c.isPlainObject(v)&&c.mix(o,
v);if(F)o.type=F;return A._handle(C,o)}};u.target=y}if(w){l(y,E,u,r,z);y=null}r.push(z)}},add:function(w,y,E,z,s){if(h("add",w,y,E,z,s))return w;a.query(w).each(function(x){A.__add(true,x,y,E,z,s)});return w},__getListeners:function(w,y){return(A.__getEvents(w)||{})[y]||[]},__getEvents:function(w){return(w=A._data(w))&&w.events},__remove:function(w,y,E,z,s,x){if(!(!y||w&&!b(y))){var k=A._data(y),r=k&&k.events,u,o,v,C,F,G=w&&B[E]||{};if(r)if(E===g)for(E in r)A.remove.call(A,y,E);else{s=s||y;if(u=r[E]){o=
u.length;if(z&&o){C=v=0;for(F=[];v<o;++v){var H=false,I=u[v],K=I.scope||y;if(z!==I.fn||s!==K){F[C++]=I;H=true}else if(x!==J){var J=I.data;if(!x&&J||J&&!x){F[C++]=I;H=true}else if(x&&J)if(!x.equals||!J.equals)c.error("no equals in data");else if(!J.equals(x)){F[C++]=I;H=true}}!H&&G.remove&&G.remove.call(y,I)}r[E]=F;o=F.length}if(z===g||o===0){if(w&&(!G.tearDown||G.tearDown.call(y)===false))p(y,E,k.handler);delete r[E]}}if(c.isEmptyObject(r)){k.handler.target=null;delete k.handler;delete k.events;A._removeData(y)}}}},
remove:function(w,y,E,z,s){if(h("remove",w,y,E,z))return w;a.query(w).each(function(x){A.__remove(true,x,y,E,z,s)});return w},_handle:function(w,y){for(var E=A.__getListeners(w,y.type).slice(0),z,s,x=0,k=E.length;x<k;++x){z=E[x];z=z.fn.call(z.scope||w,y,z.data);if(z!==g){if(s!==false)s=z;z===false&&y.halt()}if(y.isImmediatePropagationStopped)break}return s},fire:function(w,y,E,z){if(!h("fire",w,y,E,z)){E=E||{};E.type=y;a.query(w).each(function(s){var x=E;if(b(s)){var k=new n(s,g,y);c.mix(k,x);k.type=
y;z&&k.halt();x=s;var r="on"+y;do{k.currentTarget=x;A._handle(x,k);x[r]&&x[r].call(x)===false&&k.preventDefault();x=x.parentNode||x.ownerDocument||x===s.ownerDocument&&window}while(x&&!k.isPropagationStopped);if(!k.isDefaultPrevented)if(!(y==="click"&&d(s,"a"))){var u;try{if(r&&s[y]){if(u=s[r])s[r]=null;f=y;s[y]()}}catch(o){c.log("trigger action error : ");c.log(o)}if(u)s[r]=u;f=t}}})}},__batchForType:h,__simpleAdd:q,__simpleRemove:p};A.on=A.add;A.detach=A.remove;return A},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,a,n){function g(j){j[l]=j[l]||{};return j[l]}function h(j){j[e]=j[e]||{};return j[e]}function b(j){return function(q,p,m){var i=this;c.each(c.trim(q).split(/\s+/),function(f){a["__"+j](false,i,f,p,m)});return i}}var l="__~ks_publish",e="__~ks_bubble_targets",d={fire:function(j,q){var p,m;if(q instanceof n){q.currentTarget=this;m=q}else{p=new n(this,undefined,j);c.isPlainObject(q)&&c.mix(p,q);p.type=j;m=p}p=a._handle(this,m);var i;if(i=!m.isPropagationStopped){i=
g(this);i=i[j]&&i[j].bubbles||i["*"]&&i["*"].bubbles}if(i){m=this.bubble(j,m);if(m===false)p=m}return p},publish:function(j,q){g(this)[j]=q},bubble:function(j,q){var p,m=h(this);c.each(m,function(i){i=i.fire(j,q);if(p!==false)p=i});return p},addTarget:function(j){h(this)[c.stamp(j)]=j},removeTarget:function(j){delete h(this)[c.stamp(j)]},on:b("add")};d.detach=b("remove");return d},{requires:["./base","./object"]});
KISSY.add("event/focusin",function(c,a,n){a.ie||c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(g){function h(l){return n.fire(l.target,g.name)}var b=0;n.special[g.name]={setup:function(){b++===0&&document.addEventListener(g.fix,h,true)},tearDown:function(){--b===0&&document.removeEventListener(g.fix,h,true)}}});return n},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(c,a,n,g){var h=document;g=h.documentMode||g.ie;if(!("onhashchange"in window)||g&&g<8){var b=window,l="<html><head><title>"+(h.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},d,j,q=function(){var t=e();if(t!==j){j=t;p(t)}d=setTimeout(q,50)},p=g&&g<8?function(t){t=c.substitute(l,{hash:t,head:n._isCustomDomain()?"<script>document.domain = '"+h.domain+"';<\/script>":""});var B=
f.contentWindow.document;try{B.open();B.write(t);B.close()}catch(D){}}:function(){a.fire(b,"hashchange")},m=function(){d||q()},i=function(){d&&clearTimeout(d);d=0},f;if(g<8){m=function(){if(!f){var t=n._genEmptyIframeSrc();f=n.create("<iframe "+(t?'src="'+t+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');n.prepend(f,h.documentElement);a.add(f,"load",function(){a.remove(f,"load");p(e());a.add(f,"load",B);q()});h.onpropertychange=function(){try{if(event.propertyName===
"title")f.contentWindow.document.title=h.title+" - "+e()}catch(D){}};var B=function(){var D=c.trim(f.contentWindow.document.body.innerText),A=e();if(D!=A){c.log("set loc hash :"+D);j=location.hash=D}a.fire(b,"hashchange")}}};i=function(){d&&clearTimeout(d);d=0;a.detach(f);n.remove(f);f=0}}a.special.hashchange={setup:function(){if(this===b){j=e();m()}},tearDown:function(){this===b&&i()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(c,a,n){function g(i){n.removeData(i,q);if(n.hasData(i,p)){var f=n.data(i,p);clearTimeout(f);n.removeData(i,p)}}function h(i){g(i.target)}function b(i){n.hasData(i,p)||n.data(i,p,setTimeout(function(){var f=i.value,t=n.data(i,q);if(f!==t){a.fire(i,d,{prevVal:t,newVal:f},true);n.data(i,q,f)}n.data(i,p,setTimeout(arguments.callee,m))},m))}function l(i){var f=i.target;i.type=="focus"&&n.data(f,q,f.value);b(f)}function e(i){g(i);a.remove(i,"blur",h);a.remove(i,"mousedown keyup keydown focus",
l)}var d="valuechange",j=n._nodeName,q="event/valuechange/history",p="event/valuechange/poll",m=50;a.special[d]={setup:function(){if(j(this,"input")||j(this,"textarea")){e(this);a.on(this,"blur",h);a.on(this,"mousedown keyup keydown focus",l)}},tearDown:function(){e(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(c,a,n){function g(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function h(d,j){var q=a.closest(d.target,[j.selector],this);if(q){for(var p=d.currentTarget,m=0;m<q.length;m++){d.currentTarget=q[m];j.fn.call(j.scope||this,d)===false&&d.halt();if(d.isPropagationStopped)break}d.currentTarget=p}}function b(d,j){var q,p=d.target,m=d.relatedTarget;d.type=
j.preType;if(p=a.closest(p,j.selector,this))if(p!==m&&(!m||!a.contains(p,m))){m=d.currentTarget;d.currentTarget=p;q=j.fn.call(j.scope||this,d);d.currentTarget=m}return q}var l=n.__batchForType,e={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};c.mix(n,{delegate:function(d,j,q,p,m){if(l("delegate",d,j,q,p,m))return d;a.query(d).each(function(i){var f=j,t=h;if(e[j]){j=e[f].type;t=e[f].handler||t}n.on(i,j,t,i,{fn:p,selector:q,
preType:f,scope:m,equals:g})});return d},undelegate:function(d,j,q,p,m){if(l("undelegate",d,j,q,p,m))return d;a.query(d).each(function(i){var f=j,t=h;if(e[j]){j=e[f].type;t=e[f].handler||t}n.remove(i,j,t,i,{fn:p,selector:q,preType:f,scope:m,equals:g})});return d}});return n},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(c,a,n,g){g.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(h){function b(l){var e=l.relatedTarget;l.type=h.name;try{if(!(e&&e!==document&&!e.parentNode))if(e!==this&&(!e||!n.contains(this,e)))a._handle(this,l)}catch(d){c.log("withinElement error : ","error");c.log(d,"error")}}a.special[h.name]={setup:function(){a.add(this,h.fix,b)},tearDown:function(){a.remove(this,h.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event/submit",function(c,a,n,g){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var h=g._nodeName;n.special.submit={setup:function(){if(h(this,"form"))return false;n.on(this,"click keypress",b)},tearDown:function(){if(h(this,"form"))return false;n.remove(this,"click keypress",b);g.query("form",this).each(function(e){if(e.__submit__fix){e.__submit__fix=0;n.remove(e,"submit",l)}})}};var b=function(e){e=e.target;if((e=h(e,"input")||h(e,"button")?e.form:null)&&!e.__submit__fix){e.__submit__fix=
1;n.on(e,"submit",l)}},l=function(e){this.parentNode&&n.fire(this.parentNode,"submit",e)}}},{requires:["ua","./base","dom"]});
KISSY.add("event/change",function(c,a,n,g){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var h=/^(?:textarea|input|select)$/i,b=function(q){q=q.type;return q=="checkbox"||q=="radio"};n.special.change={setup:function(){if(h.test(this.nodeName))if(b(this)){n.on(this,"propertychange",l);n.on(this,"click",e)}else return false;else n.on(this,"beforeactivate",d)},tearDown:function(){if(h.test(this.nodeName))if(b(this)){n.remove(this,"propertychange",l);n.remove(this,"click",e)}else return false;else{n.remove(this,
"beforeactivate",d);g.query("textarea,input,select",this).each(function(q){if(q.__changeHandler){q.__changeHandler=0;n.remove(q,"change",j)}})}}};var l=function(q){if(q.originalEvent.propertyName=="checked")this.__changed=1},e=function(q){if(this.__changed){this.__changed=0;n.fire(this,"change",q)}},d=function(q){q=q.target;if(h.test(q.nodeName)&&!q.__changeHandler){q.__changeHandler=1;n.on(q,"change",j)}},j=function(q){if(!b(this)){var p;if(p=this.parentNode)n.fire(p,"change",q)}}}},{requires:["ua",
"./base","dom"]});
KISSY.add("event/mousewheel",function(c,a,n){function g(b){var l=a._data(this).handler,e,d,j,q=b.detail;if(b.wheelDelta)j=b.wheelDelta/120;if(b.detail)j=-(q%3==0?q/3:q);if(b.axis!==undefined)if(b.axis===b.HORIZONTAL_AXIS){d=0;e=-1*j}else if(b.axis===b.VERTICAL_AXIS){e=0;d=j}if(b.wheelDeltaY!==undefined)d=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)e=-1*b.wheelDeltaX/120;if(!e&&!d)d=j;return l(b,{deltaY:d,delta:j,deltaX:e,type:"mousewheel"})}var h=n.gecko?"DOMMouseScroll":"mousewheel";a.special.mousewheel=
{setup:function(){var b;b=a._data(this)[b]=c.bind(g,this);a.__simpleAdd(this,h,b)},tearDown:function(){var b,l=a._data(this);b=l[b];a.__simpleRemove(this,h,b);delete l[b]}}},{requires:["./base","ua","./object"]});KISSY.add("event",function(c,a,n,g,h){n.KeyCodes=a;n.Target=g;n.Object=h;return n},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter","event/submit","event/change","event/mousewheel"]});
KISSY.add("node/base",function(c,a,n){function g(e,d,j){if(!(this instanceof g))return new g(e,d,j);if(e)if(c.isString(e)){e=a.create(e,d,j);if(e.nodeType===a.DOCUMENT_FRAGMENT_NODE){h.push.apply(this,b(e.childNodes));return n}}else if(c.isArray(e)||l(e)){h.push.apply(this,b(e));return n}else e=e;else return n;this[0]=e;this.length=1;return n}var h=Array.prototype,b=c.makeArray,l=a._isNodeList;c.augment(g,{length:0,item:function(e){return c.isNumber(e)?e>=this.length?null:new g(this[e]):new g(e)},
add:function(e,d,j){if(c.isNumber(d)){j=d;d=n}e=g.all(e,d).getDOMNodes();d=new g(this);if(j===n)h.push.apply(d,e);else{j=[j,0];j.push.apply(j,e);h.splice.apply(d,j)}return d},slice:function(e,d){return new g(h.slice.call(this,e,d))},getDOMNodes:function(){return h.slice.call(this)},each:function(e,d){var j=this;c.each(j,function(q,p){q=new g(q);return e.call(d||q,q,p,j)});return j},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(e){e=this.length>0?g.all(e,
this):new g;e.__parent=this;return e},one:function(e){e=this.all(e);if(e=e.length?e.slice(0,1):null)e.__parent=this;return e}});c.mix(g,{all:function(e,d){if(c.isString(e)&&(e=c.trim(e))&&e.length>=3&&c.startsWith(e,"<")&&c.endsWith(e,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new g(e,n,d)}return new g(a.query(e,d))},one:function(e,d){var j=g.all(e,d);return j.length?j.slice(0,1):null}});c.mix(g,a._NODE_TYPE);return g},{requires:["dom"]});
KISSY.add("node/attach",function(c,a,n,g,h){function b(d,j,q){q.unshift(j);d=a[d].apply(a,q);if(d===h)return j;return d}var l=g.prototype,e=c.makeArray;c.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(d){l[d]=function(){var j=e(arguments);return b(d,this,j)}});c.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(d){l[d]=function(){var j=e(arguments);j.unshift(this);j=a[d].apply(a,j);j=j===h?this:j===null?null:new g(j);return j}});c.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(d,j){l[j]=function(){var q=e(arguments);if(q[d]===h&&!c.isObject(q[0])){q.unshift(this);q=a[j].apply(a,q)}else q=
b(j,this,q);return q}});c.each(["on","detach","fire","delegate","undelegate"],function(d){l[d]=function(){var j=e(arguments);j.unshift(this);return n[d].apply(n,j)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(c,a,n,g){c.each(["append","prepend","before","after"],function(h){g.prototype[h]=function(b){b=b;if(c.isString(b))b=a.create(b);b&&a[h](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var c=Math.PI,a=Math.pow,n=Math.sin,g=1.70158,h={swing:function(b){return-Math.cos(b*c)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;
return-(a(2,10*(b-=1))*n((b-0.075)*2*c/0.3))},elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*n((b-0.075)*2*c/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*n((b-0.1125)*2*c/0.45);return a(2,-10*(b-=1))*n((b-0.1125)*2*c/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((g+1)*b-g)},backOut:function(b){return(b-=1)*b*((g+1)*b+g)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((g*=1.525)+1)*b-g);return 0.5*((b-=2)*b*
(((g*=1.525)+1)*b+g)+2)},bounceIn:function(b){return 1-h.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return h.bounceIn(b*2)*0.5;return h.bounceOut(b*2-1)*0.5+0.5}};h.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",
easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return h});
KISSY.add("anim/manager",function(c){function a(g){g[n]=g[n]||c.guid("anim-");return g[n]}var n=c.guid("anim-");return{interval:15,runnings:{},timer:null,start:function(g){var h=a(g);if(!this.runnings[h]){this.runnings[h]=g;this.startTimer()}},stop:function(g){this.notRun(g)},notRun:function(g){delete this.runnings[a(g)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(g){this.notRun(g)},resume:function(g){this.start(g)},startTimer:function(){var g=this;if(!g.timer)g.timer=setTimeout(function(){if(g.runFrames())g.stopTimer();
else{g.timer=null;g.startTimer()}},g.interval)},stopTimer:function(){var g=this.timer;if(g){clearTimeout(g);this.timer=null}},runFrames:function(){var g=true,h=this.runnings,b;for(b in h)if(h.hasOwnProperty(b)){g=false;h[b]._frame()}return g}}});
KISSY.add("anim/fx",function(c,a){function n(h){this.load(h)}function g(h,b){if(a.attr(h,b)!=null&&(!h.style||h.style[b]==null))return 1;return 0}c.augment(n,{load:function(h){c.mix(void 0,h);(void 0).startTime=c.now()},frame:function(h){var b=0,l=c.now();if(h||l>=this.duration+this.startTime)b=this.pos=1;else{h=l-this.startTime;this.pos=this.easing(h/this.duration)}this.update();return b},interpolate:function(h,b,l){return(h+(b-h)*l).toFixed(3)},update:function(){var h=this.prop,b=this.elem,l=this.interpolate(this.from,
this.to,this.pos)+this.unit;g(b,h)?a.attr(b,h,l):a.css(this.elem,this.prop,l)},cur:function(){var h=this.prop,b=this.elem;if(g(b,h))return a.attr(b,h);var l;h=a.css(b,h);return isNaN(l=parseFloat(h))?!h||h==="auto"?0:h:l}});n.Factories={};n.getFx=function(h){return new (n.Factories[h.prop]||n)(h)};return n},{requires:["dom"]});
KISSY.add("anim/base",function(c,a,n,g,h,b,l){function e(i,f,t,B,D){if(i=a.get(i)){if(!(this instanceof e))return new e(i,f,t,B,D);if(c.isString(f))f=c.unparam(f,";",":");for(var A in f){var w=d(A.toLowerCase());if(A!=w){f[w]=f[A];delete f[A]}}c.isPlainObject(t)||(t={duration:parseFloat(y.duration)||undefined,easing:B,complete:D});var y=c.merge(p,t);y.duration*=1E3;this.config=y;this.elem=i;this.props=this.props;y.complete&&this.on("complete",y.complete)}}var d=a._camelCase,j=a._isElementNode,q={border:["borderBottomWidth",
"borderLeftWidth","borderRightWidth","borderSpacing","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},p={duration:1,easing:"easeNone"},m=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;e.SHORT_HANDS=q;c.augment(e,n.Target,{_backupProps:{},_fxs:{},isRunning:false,run:function(){var i=this._backupProps,
f=this.elem,t,B={},D=this._fxs,A=this.config,w=this.props;if(this.fire("start")!==false){c.each(w,function(u,o){if(c.isArray(u)){B[o]=u[1];w[o]=u[0]}else B[o]=A.easing});c.each(q,function(u,o){var v,C,F;if(F=w[o]){C={};c.each(u,function(G){C[G]=a.css(f,G);B[G]=B[t]});a.css(f,o,F);for(v in C){w[v]=a.css(f,v);a.css(f,v,C[v])}}});for(t in w){var y=w[t],E={elem:f,prop:t,easing:g[B[t]]||g.easeNone},z=l.getFx(E),s=y,x,k=z.cur(),r=y.match(m);if(r){s=parseFloat(r[2]);if((x=r[3])&&x!=="px"){a.css(f,t,y);k=
s/z.cur()*k;a.css(f,t,k+x)}if(r[1])s=(r[1]==="-="?-1:1)*s+k}E.from=k;E.to=s;E.unit=x;z.load(E);D[t]=z}if(j(f)&&(w.width||w.height)){c.mix(i,{overflow:a.css(f,"overflow"),"overflow-x":a.css(f,"overflowX"),"overflow-y":a.css(f,"overflowY")});a.css(f,"overflow","hidden");if(a.css(f,"display")==="inline"&&a.css(f,"float")==="none")h.ie?a.css(f,"zoom",1):a.css(f,"display","inline-block")}b.start(this);this.isRunning=true;return this}},_frame:function(){var i,f=0,t=this._fxs;for(i in t)t[i].frame()&&delete t[i];
if(this.fire("step")===false||(f=c.isEmptyObject(t)))this.stop(f)},stop:function(i){var f,t,B=this._fxs,D=this.elem;if(this.isRunning){if(i){for(t in B)B[t].frame(1);this.fire("complete")}c.isEmptyObject(f=this._backupProps)||a.css(D,f);this._backupProps={};this._fxs={};b.stop(this);this.isRunning=false;return this}}});return e},{requires:["dom","event","./easing","ua","./manager","./fx"]});
KISSY.add("anim/color",function(c,a,n,g){function h(p){p=p.toLowerCase();var m;if(m=p.match(j))return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3])];else if(m=p.match(q)){for(p=1;p<m.length;p++)if(m[p].length<2)m[p]+=m[p];return[parseInt(m[1],l),parseInt(m[2],l),parseInt(m[3],l)]}if(d[p])return d[p];c.log("only allow rgb or hex color string : "+p,"warn");return[255,255,255]}function b(){b.superclass.constructor.apply(this,arguments)}var l=16,e=Math.floor,d={black:[0,0,0],silver:[192,192,192],gray:[128,
128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},j=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,q=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;a=n.SHORT_HANDS;a.background=["backgroundColor"];a.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");a.borderBottom.push("borderBottomColor");
a.borderLeft.push("borderLeftColor");a.borderRight.push("borderRightColor");a.borderTop.push("borderTopColor");c.extend(b,g,{load:function(){b.superclass.load.apply(this,arguments);this.from=h(this.from);this.to=h(this.to)},interpolate:function(p,m,i){var f=b.superclass.interpolate;return"rgb("+[e(f(p[0],m[0],i)),e(f(p[1],m[1],i)),e(f(p[2],m[2],i))].join(", ")+")"}});c.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(p){g.Factories[p]=
b});return b},{requires:["dom","./base","./fx"]});KISSY.add("anim",function(c,a,n){a.Easing=n;return a},{requires:["anim/base","anim/easing","anim/color"]});
KISSY.add("node/anim-plugin",function(c,a,n,g,h){function b(f,t,B,D,A,w,y){A&&a.show(f);var E={},z={};c.each(i[t],function(s){var x=f.style;if(s===d){E[d]=x[d];a.css(f,d,j)}else if(s===q){E[q]=a.style(f,q);z.opacity=A?1:0;A&&a.css(f,q,0)}else if(s===p){E[p]=x[p];z.height=A?a.height(f)||f.naturalHeight:0;A&&a.css(f,p,0)}else if(s===m){E[m]=x[m];z.width=A?a.width(f)||f.naturalWidth:0;A&&a.css(f,m,0)}});return(new n(f,z,B,w,function(){A||a.hide(f);a.css(f,{height:E[p],width:E[m],opacity:E[q],overflow:E[d]});
D&&D()},y)).run()}var l=g.prototype,e="ksAnims"+c.now(),d="overflow",j="hidden",q="opacity",p="height",m="width",i={show:[d,q,p,m],fade:[q],slide:[d,p]};g.__ANIM_KEY=e;(function(f){function t(B,D){var A=a.data(B,e);A||a.data(B,e,A=[]);D.on("complete",function(){var w=a.data(B,e);if(w){var y=c.indexOf(D,w);y>=0&&w.splice(y,1);w.length||a.removeData(B,e)}});A.push(D)}f.animate=function(){var B=c.makeArray(arguments);c.each(this,function(D){var A=n.apply(h,[D].concat(B)).run();t(D,A)});return this};
f.stop=function(B){c.each(this,function(D){var A=a.data(D,e);if(A){c.each(A,function(w){w.stop(B)});a.removeData(D,e)}});return this};c.each({show:["show",1],hide:["show",0],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(B,D){f[D]=function(A,w,y,E){a[D]&&!A?a[D](this):c.each(this,function(z){var s=b(z,B[0],A,w,B[1],y||"easeOut",E);t(z,s)});return this}});f.toggle=function(){f[this.css("display")==="none"?"show":"hide"].apply(this,arguments)}})(l)},{requires:["dom",
"anim","./base"]});KISSY.add("node",function(c,a,n){n.KeyCodes=a.KeyCodes;return n},{requires:["event","node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(c,a){function n(i){return i<10?"0"+i:i}function g(i){d.lastIndex=0;return d.test(i)?'"'+i.replace(d,function(f){var t=p[f];return typeof t==="string"?t:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'}function h(i,f){var t,B,D,A,w=j,y,E=f[i];if(E&&typeof E==="object"&&typeof E.toJSON==="function")E=E.toJSON(i);if(typeof m==="function")E=m.call(f,i,E);switch(typeof E){case "string":return g(E);case "number":return isFinite(E)?String(E):"null";case "boolean":case "null":return String(E);
case "object":if(!E)return"null";j+=q;y=[];if(Object.prototype.toString.apply(E)==="[object Array]"){A=E.length;for(t=0;t<A;t+=1)y[t]=h(t,E)||"null";D=y.length===0?"[]":j?"[\n"+j+y.join(",\n"+j)+"\n"+w+"]":"["+y.join(",")+"]";j=w;return D}if(m&&typeof m==="object"){A=m.length;for(t=0;t<A;t+=1){B=m[t];if(typeof B==="string")if(D=h(B,E))y.push(g(B)+(j?": ":":")+D)}}else for(B in E)if(Object.hasOwnProperty.call(E,B))if(D=h(B,E))y.push(g(B)+(j?": ":":")+D);D=y.length===0?"{}":j?"{\n"+j+y.join(",\n"+j)+
"\n"+w+"}":"{"+y.join(",")+"}";j=w;return D}}var b=window,l=b.JSON;if(!l||a.ie<9)l=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,q,p={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof l.stringify!=="function")l.stringify=function(i,f,t){var B;q=j="";if(typeof t==="number")for(B=0;B<t;B+=1)q+=" ";else if(typeof t==="string")q=t;if((m=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw Error("JSON.stringify");return h("",{"":i})};if(typeof l.parse!==
"function")l.parse=function(i,f){function t(D,A){var w,y,E=D[A];if(E&&typeof E==="object")for(w in E)if(Object.hasOwnProperty.call(E,w)){y=t(E,w);if(y!==undefined)E[w]=y;else delete E[w]}return f.call(D,A,E)}var B;i=String(i);e.lastIndex=0;if(e.test(i))i=i.replace(e,function(D){return"\\u"+("0000"+D.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(i.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+i+")");return typeof f==="function"?t({"":B},""):B}throw new SyntaxError("JSON.parse");};return l},{requires:["ua"]});KISSY.add("json",function(c,a){return{parse:function(n){if(c.isNullOrUndefined(n)||n==="")return null;return a.parse(n)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/form-serializer",function(c,a){var n=/^(?:select|textarea)/i,g=/\r?\n/g,h=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return{serialize:function(b){var l=[],e={};a.query(b).each(function(d){d=d.elements?c.makeArray(d.elements):[d];l.push.apply(l,d)});l=c.filter(l,function(d){return d.name&&!d.disabled&&(d.checked||n.test(d.nodeName)||h.test(d.type))});c.each(l,function(d){var j=a.val(d);j=c.map(c.makeArray(j),function(q){return q.replace(g,
"\r\n")});d=e[d.name]=e[d.name]||[];d.push.apply(d,j)});return c.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/xhrobject",function(c,a){function n(b){var l=b.responseText,e=b.responseXML,d=b.config,j=d.converters,q=b.converters||{},p,m,i=d.contents,f=d.dataType;if(l||e){for(d=b.mimeType||b.getResponseHeader("Content-Type");f[0]=="*";)f.shift();if(!f.length)for(p in i)if(i[p].test(d)){f[0]!=p&&f.unshift(p);break}f[0]=f[0]||"text";if(f[0]=="text"&&l!==undefined)m=l;else if(f[0]=="xml"&&e!==undefined)m=e;else c.each(["text","xml"],function(B){var D=f[0];if(q[B]&&q[B][D]||j[B]&&j[B][D]){f.unshift(B);
m=B=="text"?l:e;return false}})}i=f[0];for(d=1;d<f.length;d++){p=f[d];var t=q[i]&&q[i][p]||j[i]&&j[i][p];if(!t)throw"no covert for "+i+" => "+p;m=t(m);i=p}b.responseData=m}function g(b){c.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var h=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;c.augment(g,a.Target,{setRequestHeader:function(b,l){this.requestHeaders[b]=
l;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var l;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};l=h.exec(this.responseHeadersString);)this.responseHeaders[l[1]]=l[2];l=this.responseHeaders[b]}return l===undefined?null:l},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,l){if(this.state!=2){this.state=2;this.readyState=4;var e;if(b>=200&&b<300||b==304)if(b==304){l="notmodified";e=true}else try{n(this);l="success";e=true}catch(d){l="parsererror : "+d}else if(b<0)b=0;this.status=b;this.statusText=l;e?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return g},{requires:["event"]});
KISSY.add("ajax/base",function(c,a,n,g){function h(w){w=c.mix(c.clone(A),w||{},undefined,undefined,true);if(!c.isBoolean(w.crossDomain)){var y=j.exec(w.url.toLowerCase());w.crossDomain=!!(y&&(y[1]!=t[1]||y[2]!=t[2]||(y[3]||(y[1]==="http:"?p:m))!=(t[3]||(t[1]==="http:"?p:m))))}if(w.processData&&w.data&&!c.isString(w.data))w.data=c.param(w.data,undefined,undefined,w.serializeArray);w.type=w.type.toUpperCase();w.hasContent=!i.test(w.type);if(!w.hasContent){if(w.data)w.url+=(/\?/.test(w.url)?"&":"?")+
w.data;if(w.cache===false)w.url+=(/\?/.test(w.url)?"&":"?")+"_ksTS="+(c.now()+"_"+c.guid())}w.dataType=c.trim(w.dataType||"*").split(d);w.context=w.context||w;return w}function b(w,y){e.fire(w,{ajaxConfig:y.config,xhr:y})}function l(w){var y=this.config;w=w.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);y[w]&&y[w].call(y.context,this.responseData,this.statusText,this);b(w,this)}function e(w){if(w.url){w=h(w);var y=new g(w);b("start",y);var E=new (D[w.dataType[0]]||D["*"])(y);y.transport=
E;w.contentType&&y.setRequestHeader("Content-Type",w.contentType);var z=w.dataType[0],s=w.accepts;y.setRequestHeader("Accept",z&&s[z]?s[z]+(z==="*"?"":", */*; q=0.01"):s["*"]);for(var x in w.headers)y.setRequestHeader(x,w.headers[x]);y.on("complete success error",l);y.readyState=1;b("send",y);if(w.async&&w.timeout>0)y.timeoutTimer=setTimeout(function(){y.abort("timeout")},w.timeout*1E3);try{y.state=1;E.send()}catch(k){y.status<2?y.callback(-1,k):c.error(k)}return y}}var d=/\s+/,j=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
q=function(w){return w},p=80,m=443,i=/^(?:GET|HEAD)$/,f,t;try{f=location.href}catch(B){c.log("ajax/base get curLocation error : ");c.log(B);f=document.createElement("a");f.href="";f=f.href}t=j.exec(f);f=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(t[1]);var D={},A={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:a.parse,html:q,text:q,xml:c.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};A.converters.html=A.converters.text;c.mix(e,n.Target);c.mix(e,{isLocal:f,setupConfig:function(w){c.mix(A,w,undefined,undefined,true)},setupTransport:function(w,y){D[w]=y},getTransport:function(w){return D[w]},getConfig:function(){return A}});return e},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhrbase",function(c,a){function n(l,e){try{return new (e||g).XMLHttpRequest}catch(d){}}var g=window,h=g.XDomainRequest,b={proto:{}};b.xhr=g.ActiveXObject?function(l,e){if(l&&h)return new h;var d;if(!(d=!a.isLocal&&n(l,e)))a:{try{d=new (e||g).ActiveXObject("Microsoft.XMLHTTP");break a}catch(j){c.log("createActiveXHR error")}d=void 0}return d}:n;c.mix(b.proto,{sendInternal:function(){var l=this,e=l.xhrObj,d=e.config,j=l.xhr,q,p;d.username?j.open(d.type,d.url,d.async,d.username,d.password):
j.open(d.type,d.url,d.async);if(q=d.xhrFields)for(p in q)j[p]=q[p];e.mimeType&&j.overrideMimeType&&j.overrideMimeType(e.mimeType);if(!d.crossDomain&&!e.requestHeaders["X-Requested-With"])e.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{if(!d.crossDomain)for(p in e.requestHeaders)j.setRequestHeader(p,e.requestHeaders[p])}catch(m){c.log("setRequestHeader in xhr error : ");c.log(m)}j.send(d.hasContent&&d.data||null);if(!d.async||j.readyState==4)l._callback();else if(h&&j instanceof h){j.onload=
function(){j.readyState=4;j.status=200;l._callback()};j.onerror=function(){j.readyState=4;j.status=500;l._callback()}}else j.onreadystatechange=function(){l._callback()}},abort:function(){this._callback(0,1)},_callback:function(l,e){try{var d=this.xhr,j=this.xhrObj,q=j.config;if(e||d.readyState==4){if(h&&d instanceof h){d.onerror=c.noop;d.onload=c.noop}else d.onreadystatechange=c.noop;if(e)d.readyState!==4&&d.abort();else{var p=d.status;if(!(h&&d instanceof h))j.responseHeadersString=d.getAllResponseHeaders();
var m=d.responseXML;if(m&&m.documentElement)j.responseXML=m;j.responseText=d.responseText;try{var i=d.statusText}catch(f){c.log("xhr statustext error : ");c.log(f);i=""}if(!p&&a.isLocal&&!q.crossDomain)p=j.responseText?200:404;else if(p===1223)p=204;j.callback(p,i)}}}catch(t){d.onreadystatechange=c.noop;e||j.callback(-1,t)}}});return b},{requires:["./base"]});
KISSY.add("ajax/subdomain",function(c,a,n,g){function h(d){var j=d.config;this.xhrObj=d;d=j.url.match(b);this.__hostname=d[2];this.__protocol=d[1];j.crossDomain=false}var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,l=document,e={};c.augment(h,a.proto,{send:function(){var d=this.xhrObj.config,j=this.__hostname,q=e[j],p="/sub_domain_proxy.html";if(d.xdr&&d.xdr.subDomain&&d.xdr.subDomain.proxy)p=d.xdr.subDomain.proxy;if(q&&q.ready)(this.xhr=a.xhr(0,q.iframe.contentWindow))?this.sendInternal():
c.error("document.domain not set correctly!");else{if(q)d=q.iframe;else{q=e[j]={};d=q.iframe=document.createElement("iframe");g.css(d,{position:"absolute",left:"-9999px",top:"-9999px"});g.prepend(d,l.body||l.documentElement);d.src=this.__protocol+"//"+j+p}n.on(d,"load",this._onLoad,this)}},_onLoad:function(){var d=e[this.__hostname];d.ready=1;n.detach(d.iframe,"load",this._onLoad,this);this.send()}});return h},{requires:["./xhrbase","event","dom"]});
KISSY.add("ajax/xdr",function(c,a,n){function g(q,p,m){if(!j){j=true;q='<object id="'+l+'" type="application/x-shockwave-flash" data="'+q+'" width="0" height="0"><param name="movie" value="'+q+'" /><param name="FlashVars" value="yid='+p+"&uid="+m+'&host=KISSY.io" /><param name="allowScriptAccess" value="always" /></object>';p=d.createElement("div");n.prepend(p,d.body||d.documentElement);p.innerHTML=q}}function h(q){c.log("use flash xdr");this.xhrObj=q}var b={},l="io_swf",e,d=document,j=false;c.augment(h,
{send:function(){var q=this,p=q.xhrObj.config;g((p.xdr||{}).src||c.Config.base+"ajax/io.swf",1,1);if(e){q._uid=c.guid();b[q._uid]=q;e.send(p.url,{id:q._uid,uid:q._uid,method:p.type,data:p.hasContent&&p.data||{}})}else setTimeout(function(){q.send()},200)},abort:function(){e.abort(this._uid)},_xdrResponse:function(q,p){var m,i=this.xhrObj;i.responseText=decodeURI(p.c.responseText);switch(q){case "success":m={status:200,statusText:"success"};delete b[p.id];break;case "abort":delete b[p.id];break;case "timeout":case "transport error":case "failure":delete b[p.id];
m={status:500,statusText:q}}m&&i.callback(m.status,m.statusText)}});a.applyTo=function(q,p,m){q=p.split(".");var i=c;c.each(q,function(f){i=i[f]});i.apply(null,m)};a.xdrReady=function(){e=d.getElementById(l)};a.xdrResponse=function(q,p,m){var i=b[p.uid];i&&i._xdrResponse(q,p,m)};c.io=a;return h},{requires:["./base","dom"]});
KISSY.add("ajax/xhr",function(c,a,n,g,h){var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,l=window.XDomainRequest,e=n.xhr();if(e){var d=function(q){q=q.split(".");return q.length<2?q.join("."):q.reverse().slice(0,2).reverse().join(".")},j=function(q){var p=q.config,m=p.xdr||{};if(p.crossDomain){p=p.url.match(b);if(d(location.hostname)==d(p[2]))return new g(q);if(!("withCredentials"in e)&&(String(m.use)==="flash"||!l))return new h(q)}this.xhrObj=q};c.augment(j,n.proto,{send:function(){this.xhr=
n.xhr(this.xhrObj.config.crossDomain);this.sendInternal()}});a.setupTransport("*",j)}return a},{requires:["./base","./xhrbase","./subdomain","./xdr"]});
KISSY.add("ajax/script",function(c,a){function n(h){if(!h.config.crossDomain&&!h.config.forceScript)return new (a.getTransport("*"))(h);this.xhrObj=h;return 0}var g=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(h){c.globalEval(h);return h}}}});c.augment(n,{send:function(){var h=this,b,l=this.xhrObj.config,e=g.head||g.getElementsByTagName("head")[0]||
g.documentElement;h.head=e;b=g.createElement("script");h.script=b;b.async="async";if(l.scriptCharset)b.charset=l.scriptCharset;b.src=l.url;b.onerror=b.onload=b.onreadystatechange=function(d){d=d||window.event;h._callback((d.type||"error").toLowerCase())};e.insertBefore(b,e.firstChild)},_callback:function(h,b){var l=this.script,e=this.xhrObj,d=this.head;if(l)if(b||!l.readyState||/loaded|complete/.test(l.readyState)||h=="error"){l.onerror=l.onload=l.onreadystatechange=null;d&&l.parentNode&&d.removeChild(l);
this.head=this.script=undefined;if(!b&&h!="error")e.callback(200,"success");else h=="error"&&e.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",n);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(c,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return c.guid("jsonp")}});a.on("start",function(n){n=n.xhr;var g=n.config;if(g.dataType[0]=="jsonp"){var h,b=g.jsonpCallback,l=c.isFunction(b)?b():b,e=window[l];g.url+=(/\?/.test(g.url)?"&":"?")+g.jsonp+"="+l;window[l]=function(d){if(arguments.length>1)d=c.makeArray(arguments);h=[d]};n.on("complete",function(){window[l]=e;if(e===undefined)try{delete window[l]}catch(d){}else h&&e(h[0])});n.converters=n.converters||
{};n.converters.script=n.converters.script||{};n.converters.script.json=function(){h||c.error(" not call jsonpCallback : "+l);return h[0]};g.dataType.length=2;g.dataType[0]="script";g.dataType[1]="json"}});return a},{requires:["./base"]});
KISSY.add("ajax/form",function(c,a,n,g){a.on("start",function(h){h=h.xhr.config;if(h.form){var b=n.get(h.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=g.serialize(b))if(h.hasContent){h.data=h.data||"";if(h.data)h.data+="&";h.data+=b}else h.url+=(/\?/.test(h.url)?"&":"?")+b}else{b=h.dataType[0];if(b=="*")b="text";h.dataType.length=2;h.dataType[0]="iframe";h.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(c,a,n,g){function h(l){this.xhr=l}var b=document;g.setupConfig({converters:{iframe:g.getConfig().converters.text,text:{iframe:function(l){return l}}}});c.augment(h,{send:function(){var l=this.xhr,e=l.config,d,j=a.get(e.form);this.attrs={target:a.attr(j,"target")||"",action:a.attr(j,"action")||""};this.form=j;var q=c.guid("ajax-iframe");l.iframe=a.create("<iframe  id='"+q+"' name='"+q+"' style='position:absolute;left:-9999px;top:-9999px;'/>");l.iframeId=q;a.prepend(l.iframe,
b.body||b.documentElement);a.attr(j,{target:l.iframeId,action:e.url});if(e.data){d=e.data;e=e.serializeArray;d=c.unparam(d);q=[];for(var p in d)for(var m=c.isArray(d[p]),i=c.makeArray(d[p]),f=0;f<i.length;f++){var t=b.createElement("input");t.type="hidden";t.name=p+(m&&e?"[]":"");t.value=i[f];a.append(t,j);q.push(t)}d=q}this.fields=d;n.on(l.iframe,"load error",this._callback,this);j.submit()},_callback:function(l){var e=this.xhr;l=l.type;var d=e.iframe;if(d){a.attr(this.form,this.attrs);if(l=="load"){l=
d.contentWindow.document;e.responseXML=l;e.responseText=a.text(l.body);e.callback(200,"success")}else l=="error"&&e.callback(500,"error");a.remove(this.fields);n.detach(d);setTimeout(function(){a.remove(d)},30);e.iframe=null}},abort:function(){this._callback(0,1)}});g.setupTransport("iframe",h);return g},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(c,a,n){c.mix(n,{serialize:a.serialize,get:function(g,h,b,l,e){if(c.isFunction(h)){l=b;b=h;h=undefined}return n({type:e||"get",url:g,data:h,success:b,dataType:l})},post:function(g,h,b,l){if(c.isFunction(h)){l=b;b=h;h=undefined}return n.get(g,h,b,l,"post")},jsonp:function(g,h,b){if(c.isFunction(h)){b=h;h=undefined}return n.get(g,h,b,"jsonp")},getScript:c.getScript,getJSON:function(g,h,b){if(c.isFunction(h)){b=h;h=undefined}return n.get(g,h,b,"json")},upload:function(g,h,b,
l,e){if(c.isFunction(b)){e=l;l=b;b=undefined}return n({url:g,type:"post",dataType:e,form:h,data:b,success:l})}});return n},{requires:["ajax/form-serializer","ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(c,a){function n(m,i){if(c.isString(i))return m[i];return i}function g(m,i,f,t,B,D,A){A=A||f;return m.fire(i+q(f)+"Change",{attrName:A,subAttrName:D,prevVal:t,newVal:B})}function h(m,i,f){var t=m[i]||{};if(f)m[i]=t;return t}function b(m){return h(m,"__attrs",true)}function l(m){return h(m,"__attrVals",true)}function e(m,i){for(var f=0,t=i.length;m!=a&&f<t;f++)m=m[i[f]];return m}function d(m,i,f,t,B){t=t||{};var D,A,w,y=i;if(i.indexOf(".")!==-1){D=i.split(".");i=
D.shift()}w=m.get(i);if(D)A=e(w,D);if(!(!D&&w===f))if(!(D&&A===f)){if(D){var E=A=c.clone(w),z=D.length-1;if(z>=0){for(var s=0;s<z;s++)E=E[D[s]];if(E!=a)E[D[s]]=f}f=A}if(!t.silent)if(false===g(m,"before",i,w,f,y))return false;f=m.__set(i,f);if(f===false)return f;if(!t.silent){f=l(m)[i];g(m,"after",i,w,f,y);B?B.push({prevVal:w,newVal:f,attrName:i,subAttrName:y}):g(m,"","*",[w],[f],[y],[i])}return m}}function j(){}function q(m){return m.charAt(0).toUpperCase()+m.substring(1)}j.INVALID={};var p=j.INVALID;
c.augment(j,{getAttrs:function(){return b(this)},getAttrVals:function(){var m={},i,f=b(this);for(i in f)m[i]=this.get(i);return m},addAttr:function(m,i,f){var t=b(this);i=c.clone(i);if(t[m])c.mix(t[m],i,f);else t[m]=i;return this},addAttrs:function(m,i){var f=this;c.each(m,function(t,B){f.addAttr(B,t)});i&&f.set(i);return f},hasAttr:function(m){return m&&b(this).hasOwnProperty(m)},removeAttr:function(m){if(this.hasAttr(m)){delete b(this)[m];delete l(this)[m]}return this},set:function(m,i,f){var t;
if(c.isPlainObject(m)){var B=m;m=0;t=true;f=i;i=[];for(m in B){t=d(this,m,B[m],f,i);if(t===false)break}var D=[],A=[],w=[],y=[];c.each(i,function(E){A.push(E.prevVal);w.push(E.newVal);D.push(E.attrName);y.push(E.subAttrName)});D.length&&g(this,"","*",A,w,y,D);return t}return d(this,m,i,f)},__set:function(m,i){var f,t=h(b(this),m,true),B=t.validator;t=t.setter;if(B=n(this,B))if(!B.call(this,i,m))return false;if(t=n(this,t))f=t.call(this,i,m);if(f===p)return false;if(f!==a)i=f;l(this)[m]=i},get:function(m){var i,
f,t;if(m.indexOf(".")!==-1){i=m.split(".");m=i.shift()}f=h(b(this),m).getter;t=m in l(this)?l(this)[m]:this.__getDefAttrVal(m);if(f=n(this,f))t=f.call(this,t,m);if(i)t=e(t,i);return t},__getDefAttrVal:function(m){var i=h(b(this),m),f;if(f=n(this,i.valueFn)){f=f.call(this);if(f!==a)i.value=f;delete i.valueFn;b(this)[m]=i}return i.value},reset:function(m,i){if(c.isString(m))return this.hasAttr(m)?this.set(m,this.__getDefAttrVal(m),i):this;i=m;var f=b(this),t={};for(m in f)t[m]=this.__getDefAttrVal(m);
this.set(t,i);return this}});j.__capitalFirst=q;return j});KISSY.add("base/base",function(c,a,n){function g(h){for(var b=this.constructor;b;){var l=b.ATTRS;if(l){var e=void 0;for(e in l)l.hasOwnProperty(e)&&this.addAttr(e,l[e],false)}b=b.superclass?b.superclass.constructor:null}if(h)for(var d in h)h.hasOwnProperty(d)&&this.__set(d,h[d])}c.augment(g,n.Target,a);return g},{requires:["./attribute","event"]});KISSY.add("base",function(c,a,n){a.Attribute=n;return a},{requires:["base/base","base/attribute"]});
KISSY.add("cookie/base",function(c){var a=document,n=encodeURIComponent,g=decodeURIComponent;return{get:function(h){var b;if(c.isString(h)&&h!=="")if(h=String(a.cookie).match(RegExp("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)")))b=h[1]?g(h[1]):"";return b},set:function(h,b,l,e,d,j){b=String(n(b));var q=l;if(typeof q==="number"){q=new Date;q.setTime(q.getTime()+l*864E5)}if(q instanceof Date)b+="; expires="+q.toUTCString();if(c.isString(e)&&e!=="")b+="; domain="+e;if(c.isString(d)&&d!=="")b+="; path="+d;if(j)b+=
"; secure";a.cookie=h+"="+b},remove:function(h,b,l,e){this.set(h,"",-1,b,l,e)}}});KISSY.add("cookie",function(c,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(c,a,n,g,h,b,l,e,d,j){l.getScript=c.getScript;a={UA:a,DOM:n,Event:g,EventTarget:g.Target,EventObject:g.Object,Node:h,NodeList:h,JSON:b,Ajax:l,IO:l,ajax:l,io:l,jsonp:l.jsonp,Anim:e,Easing:e.Easing,Base:d,Cookie:j,one:h.one,all:h.all,get:n.get,query:n.query};c.mix(c,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
