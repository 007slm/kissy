/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 8 17:44
*/
KISSY.add("ua/base",function(){var c=navigator.userAgent,a="",o="",g,p=[6,9],b=document.createElement("div"),n,e={},d=function(i){var s=0;return parseFloat(i.replace(/\./g,function(){return s++===0?".":""}))};b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}","");n=b.getElementsByTagName("s");if(n.length>0){o="ie";e[a="trident"]=0.1;if((g=c.match(/Trident\/([\d.]*)/))&&g[1])e[a]=d(g[1]);c=p[0];for(p=p[1];c<=p;c++){b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
c);if(n.length>0){e[o]=c;break}}}else if((g=c.match(/AppleWebKit\/([\d.]*)/))&&g[1]){e[a="webkit"]=d(g[1]);if((g=c.match(/Chrome\/([\d.]*)/))&&g[1])e[o="chrome"]=d(g[1]);else if((g=c.match(/\/([\d.]*) Safari/))&&g[1])e[o="safari"]=d(g[1]);if(/ Mobile\//.test(c))e.mobile="apple";else if(g=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=g[0].toLowerCase()}else if((g=c.match(/Presto\/([\d.]*)/))&&g[1]){e[a="presto"]=d(g[1]);if((g=c.match(/Opera\/([\d.]*)/))&&g[1]){e[o="opera"]=d(g[1]);
if((g=c.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])e[o]=d(g[1]);if((g=c.match(/Opera Mini[^;]*/))&&g)e.mobile=g[0].toLowerCase();else if((g=c.match(/Opera Mobi[^;]*/))&&g)e.mobile=g[0]}}else if((g=c.match(/MSIE\s([^;]*)/))&&g[1]){e[a="trident"]=0.1;e[o="ie"]=d(g[1]);if((g=c.match(/Trident\/([\d.]*)/))&&g[1])e[a]=d(g[1])}else if(g=c.match(/Gecko/)){e[a="gecko"]=0.1;if((g=c.match(/rv:([\d.]*)/))&&g[1])e[a]=d(g[1]);if((g=c.match(/Firefox\/([\d.]*)/))&&g[1])e[o="firefox"]=d(g[1])}e.core=a;e.shell=o;
e._numberify=d;return e});KISSY.add("ua/extra",function(c,a){var o=navigator.userAgent,g,p,b={},n=a._numberify;if(o.match(/360SE/))b[p="se360"]=3;else if(o.match(/Maxthon/)&&(g=window.external)){p="maxthon";try{b[p]=n(g.max_version)}catch(e){b[p]=0.1}}else if(g=o.match(/TencentTraveler\s([\d.]*)/))b[p="tt"]=g[1]?n(g[1]):0.1;else if(o.match(/TheWorld/))b[p="theworld"]=3;else if(g=o.match(/SE\s([\d.]*)/))b[p="sougou"]=g[1]?n(g[1]):0.1;p&&(b.shell=p);c.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(c,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(c,a,o){function g(n,e){return n&&n.nodeType===e}var p={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},b={_isCustomDomain:function(n){n=n||window;var e=n.document.domain;n=n.location.hostname;return e!=n&&e!="["+n+"]"},_genEmptyIframeSrc:function(n){n=n||window;if(a.ie&&b._isCustomDomain(n))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+n.document.domain+"';document.close();")+"}())"},_NODE_TYPE:p,_isElementNode:function(n){return g(n,b.ELEMENT_NODE)},_getWin:function(n){return n&&"scrollTo"in n&&n.document?n:g(n,b.DOCUMENT_NODE)?n.defaultView||n.parentWindow:n===o||n===null?window:false},_nodeTypeIs:g,_isNodeList:function(n){return n&&!n.nodeType&&n.item&&!n.setTimeout},_nodeName:function(n,e){return n&&n.nodeName.toLowerCase()===e.toLowerCase()}};c.mix(b,p);return b},{requires:["ua"]});
KISSY.add("dom/attr",function(c,a,o,g){function p(v,q){q=D[q]||q;var t=x[q];return t&&t.get?t.get(v,q):v[q]}o=document.documentElement;var b=!o.hasAttribute,n=o.textContent===g?"innerText":"textContent",e=a._nodeName,d=a._isElementNode,i=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,s=/^(?:button|input|object|select|textarea)$/i,r=/^a(?:rea)?$/i,m=/:|^on/,j=/\r/g,k={},y={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},E={tabindex:{get:function(v){var q=v.getAttributeNode("tabindex");return q&&q.specified?parseInt(q.value,10):s.test(v.nodeName)||r.test(v.nodeName)&&v.href?0:g}},style:{get:function(v){return v.style.cssText},set:function(v,q){v.style.cssText=q}}},D={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
B={get:function(v,q){return a.prop(v,q)?q.toLowerCase():g},set:function(v,q,t){if(q===false)a.removeAttr(v,t);else{q=D[t]||t;if(q in v)v[q]=true;v.setAttribute(t,t.toLowerCase())}return t}},x={},A={},w={option:{get:function(v){var q=v.attributes.value;return!q||q.specified?v.value:v.text}},select:{get:function(v){var q=v.selectedIndex,t=v.options;v=v.type==="select-one";if(q<0)return null;else if(v)return a.val(t[q]);q=[];v=0;for(var h=t.length;v<h;++v)t[v].selected&&q.push(a.val(t[v]));return q},
set:function(v,q){var t=c.makeArray(q);c.each(v.options,function(h){h.selected=c.inArray(a.val(h),t)});if(!t.length)v.selectedIndex=-1;return t}}};if(b){A={get:function(v,q){var t;return(t=v.getAttributeNode(q))&&t.nodeValue!==""?t.nodeValue:g},set:function(v,q,t){var h=v.getAttributeNode(t);if(h)h.nodeValue=q;else try{var u=v.ownerDocument.createAttribute(t);u.value=q;v.setAttributeNode(u)}catch(f){return v.setAttribute(t,q,0)}}};k=D;E.tabIndex=E.tabindex;c.each(["href","src","width","height","colSpan",
"rowSpan"],function(v){E[v]={get:function(q){q=q.getAttribute(v,2);return q===null?g:q}}});w.button=E.value=A}c.each(["radio","checkbox"],function(v){w[v]={get:function(q){return q.getAttribute("value")===null?"on":q.value},set:function(q,t){if(c.isArray(t))return q.checked=c.inArray(a.val(q),t)}}});c.mix(a,{prop:function(v,q,t){if(c.isPlainObject(q))for(var h in q)a.prop(v,h,q[h]);else{v=a.query(v);q=D[q]||q;var u=x[q];if(t!==g)v.each(function(f){if(u&&u.set)u.set(f,t,q);else f[q]=t});else if(v.length)return p(v[0],
q)}},hasProp:function(v,q){for(var t=a.query(v),h=0;h<t.length;h++)if(p(t[h],q)!==g)return true;return false},removeProp:function(v,q){q=D[q]||q;a.query(v).each(function(t){try{t[q]=g;delete t[q]}catch(h){c.log("delete el property error : ");c.log(h)}})},attr:function(v,q,t,h){if(c.isPlainObject(q)){h=t;for(var u in q)a.attr(v,u,q[u],h)}else if(q=c.trim(q)){q=q.toLowerCase();if(h&&y[q])return a[q](v,t);q=k[q]||q;var f;f=i.test(q)?B:m.test(q)?A:E[q];if(t===g){v=a.get(v);if(d(v)){if(e(v,"form"))f=A;
if(f&&f.get)return f.get(v,q);v=v.getAttribute(q);return v===null?g:v}}else a.query(v).each(function(l){if(d(l)){var z=f;if(e(l,"form"))z=A;z&&z.set?z.set(l,t,q):l.setAttribute(q,""+t)}})}},removeAttr:function(v,q){q=q.toLowerCase();q=k[q]||q;a.query(v).each(function(t){if(d(t)){var h;t.removeAttribute(q);if(i.test(q)&&(h=D[q]||q)in t)t[h]=false}})},hasAttr:b?function(v,q){q=q.toLowerCase();for(var t=a.query(v),h=0;h<t.length;h++){var u=t[h].getAttributeNode(q);if(u&&u.specified)return true}return false}:
function(v,q){for(var t=a.query(v),h=0;h<t.length;h++)if(t[h].hasAttribute(q))return true;return false},val:function(v,q){var t,h;if(q===g){var u=a.get(v);if(u){if((t=w[u.nodeName.toLowerCase()]||w[u.type])&&"get"in t&&(h=t.get(u,"value"))!==g)return h;h=u.value;return typeof h==="string"?h.replace(j,""):c.isNullOrUndefined(h)?"":h}}else a.query(v).each(function(f){if(f.nodeType===1){var l=q;if(c.isNullOrUndefined(l))l="";else if(typeof l==="number")l+="";else if(c.isArray(l))l=c.map(l,function(z){return c.isNullOrUndefined(l)?
"":z+""});t=w[f.nodeName.toLowerCase()]||w[f.type];if(!t||!("set"in t)||t.set(f,l,"value")===g)f.value=l}})},text:function(v,q){if(q===g){var t=a.get(v);if(d(t))return t[n]||"";else if(a._nodeTypeIs(t,a.TEXT_NODE))return t.nodeValue;return g}else a.query(v).each(function(h){if(d(h))h[n]=q;else if(a._nodeTypeIs(h,a.TEXT_NODE))h.nodeValue=q})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(c,a,o){function g(d){return(b+d+b).replace(e,b)}function p(d,i,s,r){if(!(i=c.trim(i)))return r?false:o;d=a.query(d);var m=d.length,j=i.split(n);i=[];for(var k=0;k<j.length;k++){var y=c.trim(j[k]);y&&i.push(y)}for(k=0;k<m;k++){j=d[k];if(a._isElementNode(j)){j=s(j,i,i.length);if(j!==o)return j}}if(r)return false;return o}var b=" ",n=/[\.\s]\s*\.?/,e=/[\n\t]/g;c.mix(a,{__hasClass:function(d,i){var s=d.className;if(s){s=g(s);return s.indexOf(b+i+b)>-1}else return false},
hasClass:function(d,i){return p(d,i,function(s,r,m){if(s=s.className){s=g(s);for(var j=0,k=true;j<m;j++)if(s.indexOf(b+r[j]+b)<0){k=false;break}if(k)return true}},true)},addClass:function(d,i){p(d,i,function(s,r,m){var j=s.className;if(j){var k=g(j);j=j;for(var y=0;y<m;y++)if(k.indexOf(b+r[y]+b)<0)j+=b+r[y];s.className=c.trim(j)}else s.className=i},o)},removeClass:function(d,i){p(d,i,function(s,r,m){var j=s.className;if(j)if(m){j=g(j);for(var k=0,y;k<m;k++)for(y=b+r[k]+b;j.indexOf(y)>=0;)j=j.replace(y,
b);s.className=c.trim(j)}else s.className=""},o)},replaceClass:function(d,i,s){a.removeClass(d,i);a.addClass(d,s)},toggleClass:function(d,i,s){var r=c.isBoolean(s),m;p(d,i,function(j,k,y){for(var E=0,D;E<y;E++){D=k[E];m=r?!s:a.hasClass(j,D);a[m?"removeClass":"addClass"](j,D)}},o)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,a,o,g){function p(h){var u=c.require("event");u&&u.detach(h);a.removeData(h)}function b(h,u,f){if(s(u,a.DOCUMENT_FRAGMENT_NODE)){u=u.childNodes;f=f.childNodes;for(var l=0;u[l];){f[l]&&b(h,u[l],f[l]);l++}}else if(r(u)){u=u.getElementsByTagName("*");f=f.getElementsByTagName("*");for(l=0;u[l];){f[l]&&h(u[l],f[l]);l++}}}function n(h,u){var f=c.require("event");if(!(r(u)&&!a.hasData(h))){var l=a.data(h),z;for(z in l)a.data(u,z,l[z]);if(f){f._removeData(u);f._clone(h,u)}}}
function e(h,u){u.clearAttributes&&u.clearAttributes();u.mergeAttributes&&u.mergeAttributes(h);var f=u.nodeName.toLowerCase(),l=h.childNodes;if(f==="object"&&!u.childNodes.length)for(f=0;f<l.length;f++)u.appendChild(l[f].cloneNode(true));else if(f==="input"&&(h.type==="checkbox"||h.type==="radio")){if(h.checked)u.defaultChecked=u.checked=h.checked;if(u.value!==h.value)u.value=h.value}else if(f==="option")u.selected=h.defaultSelected;else if(f==="input"||f==="textarea")u.defaultValue=h.defaultValue;
u.removeAttribute(a.__EXPANDO)}function d(h,u){var f=null,l,z;if(h&&(h.push||h.item)&&h[0]){u=u||h[0].ownerDocument;f=u.createDocumentFragment();h=c.makeArray(h);l=0;for(z=h.length;l<z;l++)f.appendChild(h[l])}else c.log("Unable to convert "+h+" to fragment.");return f}var i=document;o=o.ie;var s=a._nodeTypeIs,r=a._isElementNode,m=c.isString,j=i.createElement("div"),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,y=/<([\w:]+)/,E=/^\s+/,D=o&&o<9,B=/<|&#?\w+;/,x=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
c.mix(a,{create:function(h,u,f,l){if(r(h)||s(h,a.TEXT_NODE))return a.clone(h);var z=null;if(!m(h))return z;if(l===g)l=true;if(l)h=c.trim(h);if(!h)return z;l=a._creators;var C,F;f=f||i;var G,H="div";if(B.test(h))if(G=x.exec(h))z=f.createElement(G[1]);else{h=h.replace(k,"<$1></$2>");if((G=y.exec(h))&&(C=G[1]))H=C.toLowerCase();C=(l[H]||l.div)(h,f);if(D&&(F=h.match(E)))C.insertBefore(f.createTextNode(F[0]),C.firstChild);F=C.childNodes;if(F.length===1)z=F[0].parentNode.removeChild(F[0]);else if(F.length)z=
d(F,f);else c.error(h+" : create node error")}else z=f.createTextNode(h);h=z;if(c.isPlainObject(u))if(r(h))a.attr(h,u,true);else s(h,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(h.childNodes,u,true);return h},_creators:{div:function(h,u){var f=u&&u!=i?u.createElement("div"):j;f.innerHTML="m<div>"+h+"</div>";return f.lastChild}},html:function(h,u,f,l){h=a.query(h);var z=h[0];if(z)if(u===g)return r(z)?z.innerHTML:null;else{var C=false;u+="";if(!u.match(/<(?:script|style)/i)&&(!D||!u.match(E))&&!q[(u.match(y)||
["",""])[1].toLowerCase()])try{h.each(function(G){if(r(G)){p(G.getElementsByTagName("*"));G.innerHTML=u}});C=true}catch(F){}if(!C){u=a.create(u,0,z.ownerDocument,false);h.each(function(G){if(r(G)){a.empty(G);a.append(u,G,f)}})}l&&l()}},remove:function(h,u){a.query(h).each(function(f){if(!u&&r(f)){var l=f.getElementsByTagName("*");p(l);p(f)}f.parentNode&&f.parentNode.removeChild(f)})},clone:function(h,u,f,l){h=a.get(h);if(!h)return null;var z=h.cloneNode(u);if(r(h)||s(h,a.DOCUMENT_FRAGMENT_NODE)){r(h)&&
e(h,z);u&&b(e,h,z)}if(f){n(h,z);u&&l&&b(n,h,z)}return z},empty:function(h){a.query(h).each(function(u){a.remove(u.childNodes)})},_nl2frag:d});var A=a._creators,w=a.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,q={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},t;for(t in q)(function(h){A[t]=function(u,f){return w("<"+h+">"+u+"</"+h+">",null,f)}})(q[t]);
if(o<8)A.tbody=function(h,u){var f=w("<table>"+h+"</table>",null,u),l=f.children.tags("tbody")[0];f.children.length>1&&l&&!v.test(h)&&l.parentNode.removeChild(l);return f};c.mix(A,{thead:A.tbody,tfoot:A.tbody,caption:A.tbody,colgroup:A.tbody});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(c,a,o){var g=window,p="_ks_data_"+c.now(),b={},n={},e={};e.applet=1;e.object=1;e.embed=1;var d={hasData:function(r,m){if(r)if(m!==o){if(m in r)return true}else if(!c.isEmptyObject(r))return true;return false}},i={hasData:function(r,m){if(r==g)return i.hasData(n,m);return d.hasData(r[p],m)},data:function(r,m,j){if(r==g)return i.data(n,m,j);var k=r[p];if(j!==o){k=r[p]=r[p]||{};k[m]=j}else if(m!==o)return k&&k[m];else return k=r[p]=r[p]||{}},removeData:function(r,m){if(r==
g)return i.removeData(n,m);var j=r[p];if(j)if(m!==o){delete j[m];c.isEmptyObject(j)&&i.removeData(r,o)}else try{delete r[p]}catch(k){r[p]=null}}},s={hasData:function(r,m){var j=r[p];if(!j)return false;return d.hasData(b[j],m)},data:function(r,m,j){if(!e[r.nodeName.toLowerCase()]){var k=r[p];k||(k=r[p]=c.guid());r=b[k];if(j!==o){r=b[k]=b[k]||{};r[m]=j}else if(m!==o)return r&&r[m];else return r=b[k]=b[k]||{}}},removeData:function(r,m){var j=r[p];if(j){var k=b[j];if(k)if(m!==o){delete k[m];c.isEmptyObject(k)&&
s.removeData(r,o)}else{delete b[j];try{delete r[p]}catch(y){}r.removeAttribute&&r.removeAttribute(p)}}}};c.mix(a,{__EXPANDO:p,hasData:function(r,m){for(var j=false,k=a.query(r),y=0;y<k.length;y++)if(j=(j=k[y])&&j.nodeType?s.hasData(j,m):i.hasData(j,m))break;return j},data:function(r,m,j){if(c.isPlainObject(m))for(var k in m)a.data(r,k,m[k]);else if(j===o)if((r=a.get(r))&&r.nodeType)return s.data(r,m,j);else{if(r)return i.data(r,m,j)}else a.query(r).each(function(y){y&&y.nodeType?s.data(y,m,j):i.data(y,
m,j)})},removeData:function(r,m){a.query(r).each(function(j){j&&j.nodeType?s.removeData(j,m):i.removeData(j,m)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(c,a,o){function g(k){for(var y=0;y<k.length;y++){var E=k[y];if(E.nodeType==o.DOCUMENT_FRAGMENT_NODE)g(E.childNodes);else if(d(E,"input")){if(E.type==="checkbox"||E.type==="radio")E.defaultChecked=E.checked}else if(s(E)){E=E.getElementsByTagName("input");for(var D=0;D<E.length;D++)g(E[D])}}}function p(k,y){for(var E=[],D=0;k[D];D++){var B=k[D],x=B.nodeName.toLowerCase();if(B.nodeType==o.DOCUMENT_FRAGMENT_NODE)E.push.apply(E,p(i(B.childNodes),y));else if(x==="script"&&
(!B.type||r.test(B.type))){if(y)y.push(B.parentNode?B.parentNode.removeChild(B):B)}else{if(s(B)&&!e.test(x)){x=[];for(var A=B.getElementsByTagName("script"),w=0;w<A.length;w++)(!A[w].type||r.test(A[w].type))&&x.push(A[w]);k.splice.apply(k,[D+1,0].concat(x))}E.push(B)}}return E}function b(k){if(k.src)c.getScript(k.src);else(k=c.trim(k.text||k.textContent||k.innerHTML||""))&&c.globalEval(k)}function n(k,y,E,D){k=o.query(k);if(D)D=[];k=p(k,D);a.ie<8&&g(k);y=o.query(y);var B=k.length,x=y.length;if(!(!B&&
(!D||!D.length)||!x)){k=o._nl2frag(k);var A;if(x>1)A=o.clone(k,true);for(var w=0;w<x;w++){var v=y[w];if(B){var q=w>0?o.clone(A,true):k;E(q,v)}D&&c.each(D,b)}}}var e=/^(?:button|input|object|select|textarea)$/i,d=o._nodeName,i=c.makeArray,s=o._isElementNode,r=/\/(java|ecma)script/i;c.mix(o,{insertBefore:function(k,y,E){n(k,y,function(D,B){B.parentNode&&B.parentNode.insertBefore(D,B)},E)},insertAfter:function(k,y,E){n(k,y,function(D,B){B.parentNode&&B.parentNode.insertBefore(D,B.nextSibling)},E)},appendTo:function(k,
y,E){n(k,y,function(D,B){B.appendChild(D)},E)},prependTo:function(k,y,E){n(k,y,function(D,B){B.insertBefore(D,B.firstChild)},E)}});var m={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},j;for(j in m)o[j]=o[m[j]];return o},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(c,a,o,g){function p(q){var t,h=0;t=0;var u=e.body,f=m(q[E]);if(q[v]){t=q[v]();h=t[D];t=t[B];q=d&&e.documentMode!=9&&(j?i.clientTop:u.clientTop)||0;h-=d&&e.documentMode!=9&&(j?i.clientLeft:u.clientLeft)||0;t-=q;if(o.mobile=="apple"){h-=a[A](f);t-=a[w](f)}}return{left:h,top:t}}function b(q,t){var h={left:0,top:0},u=m(q[E]),f=q;t=t||u;do{var l;if(u==t){var z=f;l=p(z);z=m(z[E]);l.left+=a[A](z);l.top+=a[w](z);l=l}else l=p(f);l=l;h.left+=l.left;h.top+=l.top}while(u&&u!=t&&
(f=u.frameElement)&&(u=u.parent));return h}var n=window,e=document,d=o.ie,i=e.documentElement,s=a._isElementNode,r=a._nodeTypeIs,m=a._getWin,j=e.compatMode==="CSS1Compat",k=Math.max,y=parseInt,E="ownerDocument",D="left",B="top",x=c.isNumber,A="scrollLeft",w="scrollTop",v="getBoundingClientRect";c.mix(a,{offset:function(q,t,h){if(t===g){q=a.get(q);var u;if(q)u=b(q,h);return u}a.query(q).each(function(f){if(a.css(f,"position")==="static")f.style.position="relative";var l=b(f),z={},C,F;for(F in t){C=
y(a.css(f,F),10)||0;z[F]=C+t[F]-l[F]}a.css(f,z)})},scrollIntoView:function(q,t,h,u,f){if(q=a.get(q)){if(t)t=a.get(t);if(!t)t=q.ownerDocument;if(f!==true){u=u===g?true:!!u;h=h===g?true:!!h}if(r(t,a.DOCUMENT_NODE))t=m(t);var l=!!m(t);f=a.offset(q);var z=a.outerHeight(q);q=a.outerWidth(q);var C,F,G,H;if(l){l=t;F=a.height(l);C=a.width(l);H={left:a.scrollLeft(l),top:a.scrollTop(l)};l={left:f[D]-H[D],top:f[B]-H[B]};f={left:f[D]+q-(H[D]+C),top:f[B]+z-(H[B]+F)};H=H}else{C=a.offset(t);F=t.clientHeight;G=t.clientWidth;
H={left:a.scrollLeft(t),top:a.scrollTop(t)};l={left:f[D]-C[D]-(y(a.css(t,"borderLeftWidth"))||0),top:f[B]-C[B]-(y(a.css(t,"borderTopWidth"))||0)};f={left:f[D]+q-(C[D]+G+(y(a.css(t,"borderRightWidth"))||0)),top:f[B]+z-(C[B]+F+(y(a.css(t,"borderBottomWidth"))||0))}}if(l.top<0||f.top>0)if(h===true)a.scrollTop(t,H.top+l.top);else if(h===false)a.scrollTop(t,H.top+f.top);else l.top<0?a.scrollTop(t,H.top+l.top):a.scrollTop(t,H.top+f.top);if(u)if(l.left<0||f.left>0)if(h===true)a.scrollLeft(t,H.left+l.left);
else if(h===false)a.scrollLeft(t,H.left+f.left);else l.left<0?a.scrollLeft(t,H.left+l.left):a.scrollLeft(t,H.left+f.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});c.each(["Left","Top"],function(q,t){var h="scroll"+q;a[h]=function(u,f){if(x(u))return arguments.callee(n,u);u=a.get(u);var l,z=m(u);if(z)if(f!==g){var C=q=="Left"?f:a.scrollLeft(z),F=q=="Top"?f:a.scrollTop(z);z.scrollTo(C,F)}else{l=z["page"+(t?"Y":"X")+"Offset"];if(!x(l)){z=z.document;l=z.documentElement[h];x(l)||(l=
z.body[h])}}else if(s(u))if(f!==g)u[h]=f;else l=u[h];return l}});c.each(["Width","Height"],function(q){a["doc"+q]=function(t){t=a.get(t);t=m(t).document;return k(t.documentElement["scroll"+q],t.body["scroll"+q],a["viewport"+q](t))};a["viewport"+q]=function(t){t=a.get(t);var h="client"+q;t=m(t).document;var u=t.body,f=t.documentElement[h];return t.compatMode==="CSS1Compat"&&f||u&&u[h]||f}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(c,a,o,g){function p(f,l,z){var C={},F;for(F in l){C[F]=f[s][F];f[s][F]=l[F]}z.call(f);for(F in l)f[s][F]=C[F]}function b(f,l,z){var C;if(f.nodeType===3||f.nodeType===8||!(C=f[s]))return g;l=l.replace(E,D);var F,G=w[l];l=v[l]||l;if(z!==g){if(z===null||z===x)z=x;else if(!isNaN(Number(z))&&!y[l])z+=A;if(G&&G.set)z=G.set(f,z);if(z!==g)try{f[s][l]=z}catch(H){c.log("css set error :"+H)}return g}else{if(!(G&&"get"in G&&(F=G.get(f,false))!==g))F=C[l];return F===g?"":F}}function n(f,
l,z){if(c.isWindow(f))return l==r?a.viewportWidth(f):a.viewportHeight(f);else if(f.nodeType==9)return l==r?a.docWidth(f):a.docHeight(f);var C=l===r?["Left","Right"]:["Top","Bottom"],F=l===r?f.offsetWidth:f.offsetHeight;if(F>0){z!=="border"&&c.each(C,function(G){z||(F-=parseFloat(a.css(f,"padding"+G))||0);if(z==="margin")F+=parseFloat(a.css(f,z+G))||0;else F-=parseFloat(a.css(f,"border"+G+"Width"))||0});return F}F=a._getComputedStyle(f,l);if(F<0||c.isNullOrUndefined(F))F=f.style[l]||0;F=parseFloat(F)||
0;z&&c.each(C,function(G){F+=parseFloat(a.css(f,"padding"+G))||0;if(z!=="padding")F+=parseFloat(a.css(f,"border"+G+"Width"))||0;if(z==="margin")F+=parseFloat(a.css(f,z+G))||0});return F}var e=document,d=e.documentElement,i=o.ie,s="style",r="width",m="display"+c.now(),j=parseInt,k=/^-?\d+(?:px)?$/i,y={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},E=/-([a-z])/ig,D=function(f,l){return l.toUpperCase()},B=/([A-Z]|^ms)/g,x="",A="px",w={},v={},q={};if(d[s].cssFloat!==
g)v["float"]="cssFloat";else if(d[s].styleFloat!==g)v["float"]="styleFloat";var t,h;c.mix(a,{_CUSTOM_STYLES:w,_cssProps:v,_getComputedStyle:function(f,l){var z="",C={},F=f.ownerDocument;l=l.replace(B,"-$1").toLowerCase();if(C=F.defaultView.getComputedStyle(f,null))z=C.getPropertyValue(l)||C[l];if(z==""&&!a.__contains(F.documentElement,f)){l=v[l]||l;z=f[s][l]}return z},style:function(f,l,z){if(c.isPlainObject(l))for(var C in l)a.style(f,C,l[C]);else if(z===g){f=a.get(f);C="";if(f)C=b(f,l,z);return C}else a.query(f).each(function(F){b(F,
l,z)})},css:function(f,l,z){if(c.isPlainObject(l))for(var C in l)a.css(f,C,l[C]);else{l=l.replace(E,D);C=w[l];if(z===g){f=a.get(f);z="";if(f)if(!(C&&"get"in C&&(z=C.get(f,true))!==g))z=a._getComputedStyle(f,l);return z===g?"":z}else a.style(f,l,z)}},show:function(f){a.query(f).each(function(l){l[s].display=a.data(l,m)||x;if(a.css(l,"display")==="none"){var z;a:{z=l.tagName.toLowerCase();var C,F;if(!q[z]){C=e.body||e.documentElement;F=e.createElement(z);a.prepend(F,C);var G=a.css(F,"display");C.removeChild(F);
if(G==="none"||G===""){if(t)a.prepend(t,C);else{t=e.createElement("iframe");t.frameBorder=t.width=t.height=0;a.prepend(t,C);if(F=a._genEmptyIframeSrc())t.src=F}if(!h||!t.createElement)try{h=t.contentWindow.document;h.write((e.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(o.ie&&a._isCustomDomain()?"<script>document.domain = '"+e.domain+"';<\/script>":"")+"</head><body>");h.close()}catch(H){z="block";break a}F=h.createElement(z);h.body.appendChild(F);G=a.css(F,"display");C.removeChild(t)}q[z]=
G}z=q[z]}a.data(l,m,z);l[s].display=z}})},hide:function(f){a.query(f).each(function(l){var z=l[s],C=z.display;if(C!=="none"){C&&a.data(l,m,C);z.display="none"}})},toggle:function(f){a.query(f).each(function(l){a.css(l,"display")==="none"?a.show(l):a.hide(l)})},addStyleSheet:function(f,l,z){if(c.isString(f)){z=l;l=f;f=window}f=a.get(f);f=a._getWin(f).document;var C;if(z&&(z=z.replace("#",x)))C=a.get("#"+z,f);if(!C){C=a.create("<style>",{id:z},f);a.get("head",f).appendChild(C);if(C.styleSheet)C.styleSheet.cssText=
l;else C.appendChild(f.createTextNode(l))}},unselectable:function(f){a.query(f).each(function(l){if(o.gecko)l[s].MozUserSelect="none";else if(o.webkit)l[s].KhtmlUserSelect="none";else if(o.ie||o.opera){var z=0,C=l.getElementsByTagName("*");for(l.setAttribute("unselectable","on");l=C[z++];)switch(l.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:l.setAttribute("unselectable","on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
c.each([r,"height"],function(f){a["inner"+(f.charAt(0).toUpperCase()+f.substring(1))]=function(l){return(l=a.get(l))?n(l,f,"padding"):null};a["outer"+(f.charAt(0).toUpperCase()+f.substring(1))]=function(l,z){var C=a.get(l);return C?n(C,f,z?"margin":"border"):null};a[f]=function(l,z){var C=a.css(l,f,z);if(C)C=parseFloat(C);return C}});var u={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(f){w[f]={get:function(l,z){var C;if(z){if(l.offsetWidth!==0)C=n(l,
f);else p(l,u,function(){C=n(l,f)});return C+"px"}},set:function(l,z){if(k.test(z)){z=parseFloat(z);if(z>=0)return z+"px"}else return z}}});c.each(["left","top"],function(f){w[f]={get:function(l,z){if(z){var C=a._getComputedStyle(l,f);if(C==="auto"){C=0;if(c.inArray(a.css(l,"position"),["absolute","fixed"])){C=l[f==="left"?"offsetLeft":"offsetTop"];if(i&&document.documentMode!=9||o.opera)C-=l.offsetParent&&l.offsetParent["client"+(f=="left"?"Left":"Top")]||0;C=C-(j(a.css(l,"margin-"+f))||0)}C+="px"}return C}}}});
return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,a,o){function g(h,u){var f=[],l;l=u===o?[r]:g(u,o);j(l,function(z){B.apply(f,p(h,z))});if(c.isString(h)&&h.indexOf(",")>-1||l.length>1)q(f);f.each=c.bind(j,o,f);return f}function p(h,u){var f=[];c.require("sizzle");if(A(h))h=c.trim(h);if(A(h)&&h.indexOf(",")>-1)f=b(h,u);else{if(A(h)&&!v.exec(String(h))){f=h;var l=[],z=c.require("sizzle");z?z(f,u,l):s(f);f=l}else f=n(h,u);f=f}return f=f}function b(h,u){var f=[],l=h.split(",");j(l,function(z){B.apply(f,p(z,u))});
return f}function n(h,u){var f,l,z=[],C;if(A(h))if(w.test(h)){if(l=d(h.slice(1),u))z=[l]}else{if(f=v.exec(h)){l=f[1];C=f[2];f=f[3];if(u=l?d(l,u):u)if(f)if(!l||h.indexOf(x)!=-1)z=[].concat(t(f,C,u));else{if((l=d(l,u))&&a.__hasClass(l,f))z=[l]}else if(C)z=i(C,u)}}else if(h&&(k(h)||E(h)))z=m(h,function(F){return e(F,u)});else if(h)if(e(h,u))z=[h];return z}function e(h,u){if(!h)return false;if(u==r)return true;return a.__contains(u,h)}function d(h,u){if(!u)return null;var f=u;if(u.nodeType!==a.DOCUMENT_NODE)f=
u.ownerDocument;if((f=f.getElementById(h))&&f.parentNode)if(a.attr(f,"id")!==h)f=a.filter("*","#"+h,u)[0]||null;else e(f,u)||(f=null);else f=null;return f}function i(h,u){return u&&y(u.getElementsByTagName(h))||[]}function s(h){c.error("Unsupported selector: "+h)}var r=document,m=c.filter,j=c.each,k=c.isArray,y=c.makeArray,E=a._isNodeList,D=a._nodeName,B=Array.prototype.push,x=" ",A=c.isString,w=/^#[\w-]+$/,v=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,q;(function(){var h,u,f=true;[0,0].sort(function(){f=
false;return 0});q=function(l){if(h){u=f;l.sort(h);if(u)for(var z=1,C=l.length;z<C;)if(l[z]===l[z-1])l.splice(z,1);else z++}return l};h=r.documentElement.compareDocumentPosition?function(l,z){if(l==z){u=true;return 0}if(!l.compareDocumentPosition||!z.compareDocumentPosition)return l.compareDocumentPosition?-1:1;return l.compareDocumentPosition(z)&4?-1:1}:function(l,z){if(l==z){u=true;return 0}else if(l.sourceIndex&&z.sourceIndex)return l.sourceIndex-z.sourceIndex}})();(function(){var h=r.createElement("div");
h.appendChild(r.createComment(""));if(h.getElementsByTagName("*").length>0)i=function(u,f){var l=y(f.getElementsByTagName(u));if(u==="*"){for(var z=[],C=0,F;F=l[C++];)F.nodeType===1&&z.push(F);l=z}return l}})();var t=r.getElementsByClassName?function(h,u,f){if(!f)return[];h=f.getElementsByClassName(h);var l=0,z=h.length,C;if(u&&u!=="*")for(f=[];l<z;++l){C=h[l];D(C,u)&&f.push(C)}else f=y(h);return f}:r.querySelectorAll?function(h,u,f){return f&&y(f.querySelectorAll((u?u:"")+"."+h))||[]}:function(h,
u,f){if(!f)return[];u=f.getElementsByTagName(u||"*");f=[];for(var l=0,z=u.length,C;l<z;++l){C=u[l];a.__hasClass(C,h)&&f.push(C)}return f};c.mix(a,{query:g,get:function(h,u){return g(h,u)[0]||null},unique:q,filter:function(h,u,f){h=g(h,f);f=c.require("sizzle");var l,z,C,F,G=[];if(A(u)&&(u=c.trim(u))&&(l=v.exec(u))){C=l[1];z=l[2];F=l[3];if(C){if(C&&!z&&!F)u=function(H){return H.id===C}}else u=function(H){var I=true,K=true;if(z)I=D(H,z);if(F)K=a.__hasClass(H,F);return K&&I}}if(c.isFunction(u))G=c.filter(h,
u);else if(u&&f)G=f.matches(u,h);else s(u);return G},test:function(h,u,f){h=g(h,f);return h.length&&a.filter(h,u,f).length===h.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(c,a,o,g){if(!o.ie)return a;var p=document,b=p.documentElement,n=g._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,d=/^-?\d/,i=/opacity=([^)]*)/,s=/alpha\([^)]*\)/i;try{if(c.isNullOrUndefined(b.style.opacity))n.opacity={get:function(j,k){return i.test((k&&j.currentStyle?j.currentStyle.filter:j.style.filter)||"")?parseFloat(RegExp.$1)/100+"":k?"1":""},set:function(j,k){k=parseFloat(k);var y=j.style,E=j.currentStyle,D=isNaN(k)?"":"alpha(opacity="+k*100+")",B=c.trim(E&&E.filter||
y.filter||"");y.zoom=1;if(k>=1&&c.trim(B.replace(s,""))===""){y.removeAttribute("filter");if(E&&!E.filter)return}y.filter=s.test(B)?B.replace(s,D):B+(B?", ":"")+D}}}catch(r){c.log("IE filters ActiveX is disabled. ex = "+r)}o=o.ie==8;var m={};m.thin=o?"1px":"2px";m.medium=o?"3px":"4px";m.thick=o?"5px":"6px";c.each(["","Top","Left","Right","Bottom"],function(j){var k="border"+j+"Width",y="border"+j+"Style";n[k]={get:function(E,D){var B=D?E.currentStyle:0,x=B&&String(B[k])||undefined;if(x&&x.indexOf("px")<
0)x=m[x]&&B[y]!=="none"?m[x]:0;return x}}});if(!(p.defaultView||{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(j,k){k=a._cssProps[k]||k;var y=j.currentStyle&&j.currentStyle[k];if(!e.test(y)&&d.test(y)){var E=j.style,D=E.left,B=j.runtimeStyle&&j.runtimeStyle.left;if(B)j.runtimeStyle.left=j.currentStyle.left;E.left=k==="fontSize"?"1em":y||0;y=E.pixelLeft+"px";E.left=D;if(B)j.runtimeStyle.left=B}return y===""?"auto":y};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,a,o){function g(e,d,i,s,r,m){if(!(e=a.get(e)))return null;if(d===0)return e;m||(e=e[i]);if(!e)return null;r=r&&a.get(r)||null;if(d===o)d=1;m=[];var j=c.isArray(d),k,y;if(c.isNumber(d)){k=0;y=d;d=function(){return++k===y}}for(;e&&e!=r;){if(n(e)&&p(e,d)&&(!s||s(e))){m.push(e);if(!j)break}e=e[i]}return j?m:m[0]||null}function p(e,d){if(!d)return true;if(c.isArray(d))for(var i=0;i<d.length;i++){if(a.test(e,d[i]))return true}else if(a.test(e,d))return true;return false}
function b(e,d,i){var s=[];var r=e=a.get(e);if(e&&i)r=e.parentNode;if(r){i=0;for(r=r.firstChild;r;r=r.nextSibling)if(n(r)&&r!==e&&(!d||a.test(r,d)))s[i++]=r}return s}var n=a._isElementNode;c.mix(a,{closest:function(e,d,i){return g(e,d,"parentNode",function(s){return s.nodeType!=a.DOCUMENT_FRAGMENT_NODE},i,true)},parent:function(e,d,i){return g(e,d,"parentNode",function(s){return s.nodeType!=a.DOCUMENT_FRAGMENT_NODE},i)},first:function(e,d){var i=a.get(e);return g(i&&i.firstChild,d,"nextSibling",o,
o,true)},last:function(e,d){var i=a.get(e);return g(i&&i.lastChild,d,"previousSibling",o,o,true)},next:function(e,d){return g(e,d,"nextSibling",o)},prev:function(e,d){return g(e,d,"previousSibling",o)},siblings:function(e,d){return b(e,d,true)},children:function(e,d){return b(e,d,o)},__contains:document.documentElement.contains?function(e,d){if(e.nodeType==a.TEXT_NODE)return false;var i;if(d.nodeType==a.TEXT_NODE){d=d.parentNode;i=true}else if(d.nodeType==a.DOCUMENT_NODE)return false;else i=e!==d;
return i&&(e.contains?e.contains(d):true)}:document.documentElement.compareDocumentPosition?function(e,d){return!!(e.compareDocumentPosition(d)&16)}:0,contains:function(e,d){e=a.get(e);d=a.get(d);if(e&&d)return a.__contains(e,d)},equals:function(e,d){e=a.query(e);d=a.query(d);if(e.length!=d.length)return false;for(var i=e.length;i>=0;i--)if(e[i]!=d[i])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(c,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};c.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=c.F1&&a.keyCode<=c.F12)return false;switch(a.keyCode){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PHANTOM:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return false;
default:return true}};c.isCharacterKey=function(a){if(a>=c.ZERO&&a<=c.NINE)return true;if(a>=c.NUM_ZERO&&a<=c.NUM_MULTIPLY)return true;if(a>=c.A&&a<=c.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return c});
KISSY.add("event/object",function(c,a){function o(b,n,e){this.currentTarget=b;this.originalEvent=n||{};if(n){this.type=n.type;this._fix()}else{this.type=e;this.target=b}this.currentTarget=b;this.fixed=true}var g=document,p="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");c.augment(o,
{_fix:function(){var b=this.originalEvent,n=p.length,e,d=this.currentTarget;for(d=d.nodeType===9?d:d.ownerDocument||g;n;){e=p[--n];this[e]=b[e]}if(!this.target)this.target=this.srcElement||g;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=d.documentElement;n=d.body;this.pageX=this.clientX+(b&&b.scrollLeft||n&&n.scrollLeft||
0)-(b&&b.clientLeft||n&&n.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||n&&n.scrollTop||0)-(b&&b.clientTop||n&&n.clientTop||0)}if(this.which===a)this.which=this.charCode===a?this.keyCode:this.charCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=true;this.stopPropagation()},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return o});
KISSY.add("event/base",function(c,a,o,g){function p(x,A,w){if((w=c.trim(w))&&w.indexOf(m)>0){var v=i(arguments);j(w.split(/\s+/),function(q){var t=[].concat(v);t.splice(0,3,A,q);B[x].apply(B,t)});return true}return 0}function b(x){return x&&x.nodeType!==3&&x.nodeType!==8}function n(x,A,w,v,q){var t=E[A]||{};if(!v.length&&(!t.setup||t.setup.call(x)===false))s(x,A,w);t.add&&t.add.call(x,q)}var e=document,d=a._nodeName,i=c.makeArray,s=e.addEventListener?function(x,A,w,v){x.addEventListener&&x.addEventListener(A,
w,!!v)}:function(x,A,w){x.attachEvent&&x.attachEvent("on"+A,w)},r=e.removeEventListener?function(x,A,w,v){x.removeEventListener&&x.removeEventListener(A,w,!!v)}:function(x,A,w){x.detachEvent&&x.detachEvent("on"+A,w)},m=" ",j=c.each,k="",y="trigger-none-"+c.now(),E={},D="ksEventTargetId"+c.now(),B={_clone:function(x,A){if(!(A.nodeType!==a.ELEMENT_NODE||!B._hasData(x))){var w=B._data(x).events;j(w,function(v,q){j(v,function(t){B.on(A,q,t.fn,t.scope,t.data)})})}},_hasData:function(x){return a.hasData(x,
D)},_data:function(){var x=i(arguments);x.splice(1,0,D);return a.data.apply(a,x)},_removeData:function(){var x=i(arguments);x.splice(1,0,D);return a.removeData.apply(a,x)},special:E,__add:function(x,A,w,v,q,t){var h;if(!(!A||!c.isFunction(v)||x&&!b(A))){(h=B._data(A))||B._data(A,h={});var u=h.events=h.events||{};u=u[w]=u[w]||[];v={fn:v,scope:q,data:t};var f=h.handler;if(!f){f=h.handler=function(l,z){if(!(l&&l.type==k)){var C=f.target;if(!l||!l.fixed)l=new o(C,l);var F=l.type;c.isPlainObject(z)&&c.mix(l,
z);if(F)l.type=F;return B._handle(C,l)}};f.target=A}if(x){n(A,w,f,u,v);A=null}u.push(v)}},add:function(x,A,w,v,q){if(p("add",x,A,w,v,q))return x;a.query(x).each(function(t){B.__add(true,t,A,w,v,q)});return x},__getListeners:function(x,A){return(B.__getEvents(x)||{})[A]||[]},__getEvents:function(x){return(x=B._data(x))&&x.events},__remove:function(x,A,w,v,q,t){if(!(!A||x&&!b(A))){var h=B._data(A),u=h&&h.events,f,l,z,C,F,G=x&&E[w]||{};if(u)if(w===g)for(w in u)B.remove.call(B,A,w);else{q=q||A;if(f=u[w]){l=
f.length;if(v&&l){C=z=0;for(F=[];z<l;++z){var H=false,I=f[z],K=I.scope||A;if(v!==I.fn||q!==K){F[C++]=I;H=true}else if(t!==J){var J=I.data;if(!t&&J||J&&!t){F[C++]=I;H=true}else if(t&&J)if(!t.equals||!J.equals)c.error("no equals in data");else if(!J.equals(t)){F[C++]=I;H=true}}!H&&G.remove&&G.remove.call(A,I)}u[w]=F;l=F.length}if(v===g||l===0){if(x&&(!G.tearDown||G.tearDown.call(A)===false))r(A,w,h.handler);delete u[w]}}if(c.isEmptyObject(u)){h.handler.target=null;delete h.handler;delete h.events;B._removeData(A)}}}},
remove:function(x,A,w,v,q){if(p("remove",x,A,w,v))return x;a.query(x).each(function(t){B.__remove(true,t,A,w,v,q)});return x},_handle:function(x,A){for(var w=B.__getListeners(x,A.type).slice(0),v,q,t=0,h=w.length;t<h;++t){v=w[t];v=v.fn.call(v.scope||x,A,v.data);if(v!==g){if(q!==false)q=v;v===false&&A.halt()}if(A.isImmediatePropagationStopped)break}return q},fire:function(x,A,w,v){if(!p("fire",x,A,w,v)){w=w||{};w.type=A;a.query(x).each(function(q){var t=w;if(b(q)){var h=new o(q,g,A);c.mix(h,t);h.type=
A;v&&h.halt();t=q;var u="on"+A;do{h.currentTarget=t;B._handle(t,h);t[u]&&t[u].call(t)===false&&h.preventDefault();t=t.parentNode||t.ownerDocument||t===q.ownerDocument&&window}while(t&&!h.isPropagationStopped);if(!h.isDefaultPrevented)if(!(A==="click"&&d(q,"a"))){var f;try{if(u&&q[A]){if(f=q[u])q[u]=null;k=A;q[A]()}}catch(l){c.log("trigger action error : ");c.log(l)}if(f)q[u]=f;k=y}}})}},__batchForType:p,__simpleAdd:s,__simpleRemove:r};B.on=B.add;B.detach=B.remove;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,a,o){function g(i){i[n]=i[n]||{};return i[n]}function p(i){i[e]=i[e]||{};return i[e]}function b(i){return function(s,r,m){var j=this;c.each(c.trim(s).split(/\s+/),function(k){a["__"+i](false,j,k,r,m)});return j}}var n="__~ks_publish",e="__~ks_bubble_targets",d={fire:function(i,s){var r,m;if(s instanceof o){s.currentTarget=this;m=s}else{r=new o(this,undefined,i);c.isPlainObject(s)&&c.mix(r,s);r.type=i;m=r}r=a._handle(this,m);var j;if(j=!m.isPropagationStopped){j=
g(this);j=j[i]&&j[i].bubbles||j["*"]&&j["*"].bubbles}if(j){m=this.bubble(i,m);if(m===false)r=m}return r},publish:function(i,s){g(this)[i]=s},bubble:function(i,s){var r,m=p(this);c.each(m,function(j){j=j.fire(i,s);if(r!==false)r=j});return r},addTarget:function(i){p(this)[c.stamp(i)]=i},removeTarget:function(i){delete p(this)[c.stamp(i)]},on:b("add")};d.detach=b("remove");return d},{requires:["./base","./object"]});
KISSY.add("event/focusin",function(c,a,o){a.ie||c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(g){function p(n){return o.fire(n.target,g.name)}var b=0;o.special[g.name]={setup:function(){b++===0&&document.addEventListener(g.fix,p,true)},tearDown:function(){--b===0&&document.removeEventListener(g.fix,p,true)}}});return o},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(c,a,o,g){var p=document;g=p.documentMode||g.ie;if(!("onhashchange"in window)||g&&g<8){var b=window,n="<html><head><title>"+(p.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},d,i,s=function(){var y=e();if(y!==i){i=y;r(y)}d=setTimeout(s,50)},r=g&&g<8?function(y){y=c.substitute(n,{hash:y,head:o._isCustomDomain()?"<script>document.domain = '"+p.domain+"';<\/script>":""});var E=
k.contentWindow.document;try{E.open();E.write(y);E.close()}catch(D){}}:function(){a.fire(b,"hashchange")},m=function(){d||s()},j=function(){d&&clearTimeout(d);d=0},k;if(g<8){m=function(){if(!k){var y=o._genEmptyIframeSrc();k=o.create("<iframe "+(y?'src="'+y+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');o.prepend(k,p.documentElement);a.add(k,"load",function(){a.remove(k,"load");r(e());a.add(k,"load",E);s()});p.onpropertychange=function(){try{if(event.propertyName===
"title")k.contentWindow.document.title=p.title+" - "+e()}catch(D){}};var E=function(){var D=c.trim(k.contentWindow.document.body.innerText),B=e();if(D!=B){c.log("set loc hash :"+D);i=location.hash=D}a.fire(b,"hashchange")}}};j=function(){d&&clearTimeout(d);d=0;a.detach(k);o.remove(k);k=0}}a.special.hashchange={setup:function(){if(this===b){i=e();m()}},tearDown:function(){this===b&&j()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(c,a,o){function g(j){o.removeData(j,s);if(o.hasData(j,r)){var k=o.data(j,r);clearTimeout(k);o.removeData(j,r)}}function p(j){g(j.target)}function b(j){o.hasData(j,r)||o.data(j,r,setTimeout(function(){var k=j.value,y=o.data(j,s);if(k!==y){a.fire(j,d,{prevVal:y,newVal:k},true);o.data(j,s,k)}o.data(j,r,setTimeout(arguments.callee,m))},m))}function n(j){var k=j.target;j.type=="focus"&&o.data(k,s,k.value);b(k)}function e(j){g(j);a.remove(j,"blur",p);a.remove(j,"mousedown keyup keydown focus",
n)}var d="valuechange",i=o._nodeName,s="event/valuechange/history",r="event/valuechange/poll",m=50;a.special[d]={setup:function(){if(i(this,"input")||i(this,"textarea")){e(this);a.on(this,"blur",p);a.on(this,"mousedown keyup keydown focus",n)}},tearDown:function(){e(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(c,a,o){function g(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function p(d,i){var s=a.closest(d.target,[i.selector],this);if(s){for(var r=d.currentTarget,m=0;m<s.length;m++){d.currentTarget=s[m];i.fn.call(i.scope||this,d)===false&&d.halt();if(d.isPropagationStopped)break}d.currentTarget=r}}function b(d,i){var s,r=d.target,m=d.relatedTarget;d.type=
i.preType;if(r=a.closest(r,i.selector,this))if(r!==m&&(!m||!a.contains(r,m))){m=d.currentTarget;d.currentTarget=r;s=i.fn.call(i.scope||this,d);d.currentTarget=m}return s}var n=o.__batchForType,e={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};c.mix(o,{delegate:function(d,i,s,r,m){if(n("delegate",d,i,s,r,m))return d;a.query(d).each(function(j){var k=i,y=p;if(e[i]){i=e[k].type;y=e[k].handler||y}o.on(j,i,y,j,{fn:r,selector:s,
preType:k,scope:m,equals:g})});return d},undelegate:function(d,i,s,r,m){if(n("undelegate",d,i,s,r,m))return d;a.query(d).each(function(j){var k=i,y=p;if(e[i]){i=e[k].type;y=e[k].handler||y}o.remove(j,i,y,j,{fn:r,selector:s,preType:k,scope:m,equals:g})});return d}});return o},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(c,a,o,g){g.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(p){function b(n){var e=n.relatedTarget;n.type=p.name;try{if(!(e&&e!==document&&!e.parentNode))if(e!==this&&(!e||!o.contains(this,e)))a._handle(this,n)}catch(d){c.log("withinElement error : ","error");c.log(d,"error")}}a.special[p.name]={setup:function(){a.add(this,p.fix,b)},tearDown:function(){a.remove(this,p.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event/submit",function(c,a,o,g){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var p=g._nodeName;o.special.submit={setup:function(){if(p(this,"form"))return false;o.on(this,"click keypress",b)},tearDown:function(){if(p(this,"form"))return false;o.remove(this,"click keypress",b);g.query("form",this).each(function(e){if(e.__submit__fix){e.__submit__fix=0;o.remove(e,"submit",n)}})}};var b=function(e){e=e.target;if((e=p(e,"input")||p(e,"button")?e.form:null)&&!e.__submit__fix){e.__submit__fix=
1;o.on(e,"submit",n)}},n=function(e){this.parentNode&&o.fire(this.parentNode,"submit",e)}}},{requires:["ua","./base","dom"]});
KISSY.add("event/change",function(c,a,o,g){c=document.documentMode;if(a.ie&&(a.ie<9||c&&c<9)){var p=/^(?:textarea|input|select)$/i,b=function(s){s=s.type;return s=="checkbox"||s=="radio"};o.special.change={setup:function(){if(p.test(this.nodeName))if(b(this)){o.on(this,"propertychange",n);o.on(this,"click",e)}else return false;else o.on(this,"beforeactivate",d)},tearDown:function(){if(p.test(this.nodeName))if(b(this)){o.remove(this,"propertychange",n);o.remove(this,"click",e)}else return false;else{o.remove(this,
"beforeactivate",d);g.query("textarea,input,select",this).each(function(s){if(s.__changeHandler){s.__changeHandler=0;o.remove(s,"change",i)}})}}};var n=function(s){if(s.originalEvent.propertyName=="checked")this.__changed=1},e=function(s){if(this.__changed){this.__changed=0;o.fire(this,"change",s)}},d=function(s){s=s.target;if(p.test(s.nodeName)&&!s.__changeHandler){s.__changeHandler=1;o.on(s,"change",i)}},i=function(s){if(!b(this)){var r;if(r=this.parentNode)o.fire(r,"change",s)}}}},{requires:["ua",
"./base","dom"]});
KISSY.add("event/mousewheel",function(c,a,o){function g(b){var n=a._data(this).handler,e,d,i,s=b.detail;if(b.wheelDelta)i=b.wheelDelta/120;if(b.detail)i=-(s%3==0?s/3:s);if(b.axis!==undefined)if(b.axis===b.HORIZONTAL_AXIS){d=0;e=-1*i}else if(b.axis===b.VERTICAL_AXIS){e=0;d=i}if(b.wheelDeltaY!==undefined)d=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)e=-1*b.wheelDeltaX/120;if(!e&&!d)d=i;return n(b,{deltaY:d,delta:i,deltaX:e,type:"mousewheel"})}var p=o.gecko?"DOMMouseScroll":"mousewheel";a.special.mousewheel=
{setup:function(){var b;b=a._data(this)[b]=c.bind(g,this);a.__simpleAdd(this,p,b)},tearDown:function(){var b,n=a._data(this);b=n[b];a.__simpleRemove(this,p,b);delete n[b]}}},{requires:["./base","ua","./object"]});KISSY.add("event",function(c,a,o,g,p){o.KeyCodes=a;o.Target=g;o.Object=p;return o},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter","event/submit","event/change","event/mousewheel"]});
KISSY.add("node/base",function(c,a,o){function g(e,d,i){if(!(this instanceof g))return new g(e,d,i);if(e)if(c.isString(e)){e=a.create(e,d,i);if(e.nodeType===a.DOCUMENT_FRAGMENT_NODE){p.push.apply(this,b(e.childNodes));return o}}else if(c.isArray(e)||n(e)){p.push.apply(this,b(e));return o}else e=e;else return o;this[0]=e;this.length=1;return o}var p=Array.prototype,b=c.makeArray,n=a._isNodeList;c.augment(g,{length:0,item:function(e){return c.isNumber(e)?e>=this.length?null:new g(this[e]):new g(e)},
add:function(e,d,i){if(c.isNumber(d)){i=d;d=o}e=g.all(e,d).getDOMNodes();d=new g(this);if(i===o)p.push.apply(d,e);else{i=[i,0];i.push.apply(i,e);p.splice.apply(d,i)}return d},slice:function(e,d){return new g(p.slice.call(this,e,d))},getDOMNodes:function(){return p.slice.call(this)},each:function(e,d){var i=this;c.each(i,function(s,r){s=new g(s);return e.call(d||s,s,r,i)});return i},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(e){e=this.length>0?g.all(e,
this):new g;e.__parent=this;return e},one:function(e){e=this.all(e);if(e=e.length?e.slice(0,1):null)e.__parent=this;return e}});c.mix(g,{all:function(e,d){if(c.isString(e)&&(e=c.trim(e))&&e.length>=3&&c.startsWith(e,"<")&&c.endsWith(e,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new g(e,o,d)}return new g(a.query(e,d))},one:function(e,d){var i=g.all(e,d);return i.length?i.slice(0,1):null}});c.mix(g,a._NODE_TYPE);return g},{requires:["dom"]});
KISSY.add("node/attach",function(c,a,o,g,p){function b(d,i,s){s.unshift(i);d=a[d].apply(a,s);if(d===p)return i;return d}var n=g.prototype,e=c.makeArray;c.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(d){n[d]=function(){var i=e(arguments);return b(d,this,i)}});c.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(d){n[d]=function(){var i=e(arguments);i.unshift(this);i=a[d].apply(a,i);i=i===p?this:i===null?null:new g(i);return i}});c.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(d,i){n[i]=function(){var s=e(arguments);if(s[d]===p&&!c.isObject(s[0])){s.unshift(this);s=a[i].apply(a,s)}else s=
b(i,this,s);return s}});c.each(["on","detach","fire","delegate","undelegate"],function(d){n[d]=function(){var i=e(arguments);i.unshift(this);return o[d].apply(o,i)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(c,a,o,g){c.each(["append","prepend","before","after"],function(p){g.prototype[p]=function(b){b=b;if(c.isString(b))b=a.create(b);b&&a[p](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var c=Math.PI,a=Math.pow,o=Math.sin,g=1.70158,p={swing:function(b){return-Math.cos(b*c)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;
return-(a(2,10*(b-=1))*o((b-0.075)*2*c/0.3))},elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*o((b-0.075)*2*c/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*o((b-0.1125)*2*c/0.45);return a(2,-10*(b-=1))*o((b-0.1125)*2*c/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((g+1)*b-g)},backOut:function(b){return(b-=1)*b*((g+1)*b+g)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((g*=1.525)+1)*b-g);return 0.5*((b-=2)*b*
(((g*=1.525)+1)*b+g)+2)},bounceIn:function(b){return 1-p.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return p.bounceIn(b*2)*0.5;return p.bounceOut(b*2-1)*0.5+0.5}};p.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",
easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return p});
KISSY.add("anim/manager",function(c){function a(g){g[o]=g[o]||c.guid("anim-");return g[o]}var o=c.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(g){var p=a(g);if(!this.runnings[p]){this.runnings[p]=g;this.startTimer()}},stop:function(g){this.notRun(g)},notRun:function(g){delete this.runnings[a(g)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(g){this.notRun(g)},resume:function(g){this.start(g)},startTimer:function(){var g=this;if(!g.timer)g.timer=setTimeout(function(){if(g.runFrames())g.stopTimer();
else{g.timer=null;g.startTimer()}},g.interval)},stopTimer:function(){var g=this.timer;if(g){clearTimeout(g);this.timer=null}},runFrames:function(){var g=true,p=this.runnings,b;for(b in p)if(p.hasOwnProperty(b)){g=false;p[b]._runFrame()}return g}}});
KISSY.add("anim/base",function(c,a,o,g,p,b,n){function e(w,v,q,t,h,u){if(w=a.get(w)){if(!(this instanceof e))return new e(w,v,q,t,h,u);if(u===n)u=false;var f=c.isPlainObject(q);v=v;this.domEl=w;if(c.isPlainObject(v))v=String(c.param(v,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var l=v;w=w;var z,C={},F=k.length,G;if(j(w)){G=a.clone(w,true);a.insertAfter(G,w);z=G.style;for(r(G,l);F--;){var H=k[F];if(z[H])C[H]=(x[H]||x["*"]).getter(G,H)}}else G=w;l=m(l);
for(var I in l)C[I]=G!==w?(x[I]||x["*"]).getter(G,I):s(l[I]);G!==w&&a.remove(G);this.props=C;this.targetStyle=v;if(f)f=c.merge(D,q);else{f=c.clone(D);if(q!=null)f.duration=parseFloat(q)||1;if(c.isString(t)||c.isFunction(t))f.easing=t;if(c.isFunction(h))f.complete=h;f.nativeSupport=u}if(f.nativeSupport&&!c.isEmptyObject(m(v)))f.nativeSupport=false;this.config=f;if(f.nativeSupport&&A()&&c.isString(t=f.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(t)||(t=g.NativeTimeFunction[t])){f.easing=t;this.transitionName=
A()}if(c.isFunction(h))this.callback=h}}function d(w,v,q){return(w+(v-w)*q).toFixed(3)}function i(w,v){return v}function s(w){var v=parseFloat(w);w=(w+"").replace(/^[-\d.]+/,"");if(isNaN(v))return{v:w,u:"",f:i};return{v:v,u:w,f:d}}function r(w,v){if(p.ie&&v.indexOf(E)>-1){var q=v.match(/opacity\s*:\s*([^;]+)(;|$)/);q&&a.css(w,E,parseFloat(q[1]))}if(j(w))w.style.cssText+=";"+v;q=m(v);for(var t in q)(x[t]||x["*"]).setter(w,t,q[t])}function m(w){for(var v={},q=0;q<y.length;q++){var t=y[q].replace(/([a-z])([A-Z])/g,
"$1-$2").toLowerCase();if(t=w.match(RegExp(t+"\\s*:([^;]+)(;|$)")))v[y[q]]=c.trim(t[1])}return v}o=o.Target;var j=a._isElementNode,k,y,E,D,B;k="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
y=[];E="opacity";D={duration:1,easing:"easeNone",nativeSupport:true};e.PROPS=k;e.CUSTOM_ATTRS=y;e.PROP_OPS={"*":{getter:function(w,v){return s(a.css(w,v))},setter:function(w,v,q){return a.css(w,v,q)},interpolate:d,eq:function(w,v){return w.v==v.v&&w.u==v.u}}};var x=e.PROP_OPS;c.augment(e,o,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,run:function(){var w=this,v=w.config,q=w.domEl,t,h=w.props,u={},f;if(w.fire("start")!==false){w.stop();t=v.duration*1E3;w.duration=t;if(w.transitionName)setTimeout(function(){w._nativeRun()},
10);else{for(f in h)u[f]=(x[f]||x["*"]).getter(q,f);w.source=u;q=c.now();t=q+t;v=v.easing;if(c.isString(v))v=g[v]||g.easeNone;w.start=q;w.finish=t;w.easing=v;b.start(w)}w.isRunning=true;return w}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var w=this.domEl,v=this.finish,q=this.start,t=this.duration,h=c.now(),u=this.source,f=this.easing,l=this.props,z;q=h-q;t=h>v?1:q/t;var C,F;this.elapsedTime=q;for(z in l){q=u[z];C=l[z];var G;G=C;var H=q,I=x[z];
G=I&&I.eq?I.eq(G,H):x["*"].eq(G,H);if(!G){if(C.v===0)C.u=q.u;if(q.u!==C.u){q.v=0;q.u=C.u}G=C.f(q.v,C.v,f(t))+C.u;(x[z]||x["*"]).setter(w,z,G);if(C.f==i){q.v=C.v;q.u=C.u}}}if(this.fire("step")===false||(F=h>v))this.stop(F)},_nativeRun:function(){var w=this,v=w.domEl,q=w.duration,t=w.config.easing,h=w.transitionName,u={};u[h+"Property"]="all";u[h+"Duration"]=q+"ms";u[h+"TimingFunction"]=t;a.css(v,u);setTimeout(function(){r(v,w.targetStyle)},0);c.later(function(){w.stop(true)},q)},stop:function(w){if(this.isRunning){if(this.transitionName)this._nativeStop(w);
else{if(w){r(this.domEl,this.targetStyle);this._complete()}b.stop(this)}this.isRunning=false;return this}},_nativeStop:function(w){var v=this.domEl,q=this.props,t;if(w){this._clearNativeProperty();this._complete()}else{for(t in q)a.css(v,t,a._getComputedStyle(v,t));this._clearNativeProperty()}},_clearNativeProperty:function(){var w={},v=this.domEl,q=this.transitionName;w[q+"Property"]="none";w[q+"Duration"]="";w[q+"TimingFunction"]="";a.css(v,w)}});e.supportTransition=function(){if(B)return B;var w=
"transition",v,q=document.documentElement;if(q.style[w]!==n)v=w;else c.each(["Webkit","Moz","O"],function(t){if(q.style[w=t+"Transition"]!==n){v=w;return false}});return B=v};var A=e.supportTransition;return e},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/color",function(c,a,o){function g(r){r=r.toLowerCase();var m;if(m=r.match(e))return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3])];else if(m=r.match(d)){for(r=1;r<m.length;r++)if(m[r].length<2)m[r]+=m[r];return[parseInt(m[1],b),parseInt(m[2],b),parseInt(m[3],b)]}if(n[r])return n[r];c.log("only allow rgb or hex color string : "+r,"warn");return[255,255,255]}function p(r,m,j){var k=s["*"].interpolate;return"rgb("+[Math.floor(k(r[0],m[0],j)),Math.floor(k(r[1],m[1],j)),Math.floor(k(r[2],
m[2],j))].join(", ")+")"}var b=16,n={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},e=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,d=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),
s=o.PROP_OPS;o=o.PROPS;o.push.apply(o,i);s.color={getter:function(r,m){return{v:g(a.css(r,m)),u:"",f:p}},setter:s["*"].setter,eq:function(r,m){return r.v+""==m.v+""}};c.each(i,function(r){s[r]=s.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(c,a,o){var g=o.PROP_OPS;o.CUSTOM_ATTRS.push("scrollLeft","scrollTop");g.scrollLeft=g.scrollTop={getter:function(p,b){return{v:a[b](p),u:"",f:g["*"].interpolate}},setter:function(p,b,n){a[b](p,n)}}},{requires:["dom","./base"]});
KISSY.add("anim",function(c,a,o){a.Easing=o;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(c,a,o,g,p){function b(k,y,E,D,B,x,A){B&&a.show(k);var w={},v={};c.each(j[y],function(q){var t=k.style;if(q===d){w[d]=t[d];a.css(k,d,i)}else if(q===s){w[s]=a.style(k,s);v.opacity=B?1:0;B&&a.css(k,s,0)}else if(q===r){w[r]=t[r];v.height=(B?a.height(k)||k.naturalHeight:0)+"px";B&&a.css(k,r,0)}else if(q===m){w[m]=t[m];v.width=(B?a.width(k)||k.naturalWidth:0)+"px";B&&a.css(k,m,0)}});return(new o(k,v,E,x,function(){B||a.hide(k);a.css(k,{height:w[r],width:w[m],opacity:w[s],
overflow:w[d]});D&&D()},A)).run()}var n=g.prototype,e="ksAnims"+c.now(),d="overflow",i="hidden",s="opacity",r="height",m="width",j={show:[d,s,r,m],fade:[s],slide:[d,r]};g.__ANIM_KEY=e;(function(k){function y(E,D){var B=a.data(E,e);B||a.data(E,e,B=[]);D.on("complete",function(){var x=a.data(E,e);if(x){var A=c.indexOf(D,x);A>=0&&x.splice(A,1);x.length||a.removeData(E,e)}});B.push(D)}k.animate=function(){var E=c.makeArray(arguments);c.each(this,function(D){var B=o.apply(p,[D].concat(E)).run();y(D,B)});
return this};k.stop=function(E){c.each(this,function(D){var B=a.data(D,e);if(B){c.each(B,function(x){x.stop(E)});a.removeData(D,e)}});return this};c.each({show:["show",1],hide:["show",0],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(E,D){k[D]=function(B,x,A,w){a[D]&&!B?a[D](this):c.each(this,function(v){var q=b(v,E[0],B,x,E[1],A||"easeOut",w);y(v,q)});return this}});k.toggle=function(){k[this.css("display")==="none"?"show":"hide"].apply(this,arguments)}})(n)},
{requires:["dom","anim","./base"]});KISSY.add("node",function(c,a,o){o.KeyCodes=a.KeyCodes;return o},{requires:["event","node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(c,a){function o(j){return j<10?"0"+j:j}function g(j){d.lastIndex=0;return d.test(j)?'"'+j.replace(d,function(k){var y=r[k];return typeof y==="string"?y:"\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+j+'"'}function p(j,k){var y,E,D,B,x=i,A,w=k[j];if(w&&typeof w==="object"&&typeof w.toJSON==="function")w=w.toJSON(j);if(typeof m==="function")w=m.call(k,j,w);switch(typeof w){case "string":return g(w);case "number":return isFinite(w)?String(w):"null";case "boolean":case "null":return String(w);
case "object":if(!w)return"null";i+=s;A=[];if(Object.prototype.toString.apply(w)==="[object Array]"){B=w.length;for(y=0;y<B;y+=1)A[y]=p(y,w)||"null";D=A.length===0?"[]":i?"[\n"+i+A.join(",\n"+i)+"\n"+x+"]":"["+A.join(",")+"]";i=x;return D}if(m&&typeof m==="object"){B=m.length;for(y=0;y<B;y+=1){E=m[y];if(typeof E==="string")if(D=p(E,w))A.push(g(E)+(i?": ":":")+D)}}else for(E in w)if(Object.hasOwnProperty.call(w,E))if(D=p(E,w))A.push(g(E)+(i?": ":":")+D);D=A.length===0?"{}":i?"{\n"+i+A.join(",\n"+i)+
"\n"+x+"}":"{"+A.join(",")+"}";i=x;return D}}var b=window,n=b.JSON;if(!n||a.ie<9)n=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,s,r={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof n.stringify!=="function")n.stringify=function(j,k,y){var E;s=i="";if(typeof y==="number")for(E=0;E<y;E+=1)s+=" ";else if(typeof y==="string")s=y;if((m=k)&&typeof k!=="function"&&(typeof k!=="object"||typeof k.length!=="number"))throw Error("JSON.stringify");return p("",{"":j})};if(typeof n.parse!==
"function")n.parse=function(j,k){function y(D,B){var x,A,w=D[B];if(w&&typeof w==="object")for(x in w)if(Object.hasOwnProperty.call(w,x)){A=y(w,x);if(A!==undefined)w[x]=A;else delete w[x]}return k.call(D,B,w)}var E;j=String(j);e.lastIndex=0;if(e.test(j))j=j.replace(e,function(D){return"\\u"+("0000"+D.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(j.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){E=eval("("+j+")");return typeof k==="function"?y({"":E},""):E}throw new SyntaxError("JSON.parse");};return n},{requires:["ua"]});KISSY.add("json",function(c,a){return{parse:function(o){if(c.isNullOrUndefined(o)||o==="")return null;return a.parse(o)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/form-serializer",function(c,a){var o=/^(?:select|textarea)/i,g=/\r?\n/g,p=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return{serialize:function(b){var n=[],e={};a.query(b).each(function(d){d=d.elements?c.makeArray(d.elements):[d];n.push.apply(n,d)});n=c.filter(n,function(d){return d.name&&!d.disabled&&(d.checked||o.test(d.nodeName)||p.test(d.type))});c.each(n,function(d){var i=a.val(d);i=c.map(c.makeArray(i),function(s){return s.replace(g,
"\r\n")});d=e[d.name]=e[d.name]||[];d.push.apply(d,i)});return c.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/xhrobject",function(c,a){function o(b){var n=b.responseText,e=b.responseXML,d=b.config,i=d.converters,s=b.converters||{},r,m,j=d.contents,k=d.dataType;if(n||e){for(d=b.mimeType||b.getResponseHeader("Content-Type");k[0]=="*";)k.shift();if(!k.length)for(r in j)if(j[r].test(d)){k[0]!=r&&k.unshift(r);break}k[0]=k[0]||"text";if(k[0]=="text"&&n!==undefined)m=n;else if(k[0]=="xml"&&e!==undefined)m=e;else c.each(["text","xml"],function(E){var D=k[0];if(s[E]&&s[E][D]||i[E]&&i[E][D]){k.unshift(E);
m=E=="text"?n:e;return false}})}j=k[0];for(d=1;d<k.length;d++){r=k[d];var y=s[j]&&s[j][r]||i[j]&&i[j][r];if(!y)throw"no covert for "+j+" => "+r;m=y(m);j=r}b.responseData=m}function g(b){c.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var p=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;c.augment(g,a.Target,{setRequestHeader:function(b,n){this.requestHeaders[b]=
n;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var n;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};n=p.exec(this.responseHeadersString);)this.responseHeaders[n[1]]=n[2];n=this.responseHeaders[b]}return n===undefined?null:n},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,n){if(this.state!=2){this.state=2;this.readyState=4;var e;if(b>=200&&b<300||b==304)if(b==304){n="notmodified";e=true}else try{o(this);n="success";e=true}catch(d){n="parsererror : "+d}else if(b<0)b=0;this.status=b;this.statusText=n;e?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return g},{requires:["event"]});
KISSY.add("ajax/base",function(c,a,o,g){function p(x){x=c.mix(c.clone(B),x||{},undefined,undefined,true);if(!c.isBoolean(x.crossDomain)){var A=i.exec(x.url.toLowerCase());x.crossDomain=!!(A&&(A[1]!=y[1]||A[2]!=y[2]||(A[3]||(A[1]==="http:"?r:m))!=(y[3]||(y[1]==="http:"?r:m))))}if(x.processData&&x.data&&!c.isString(x.data))x.data=c.param(x.data,undefined,undefined,x.serializeArray);x.type=x.type.toUpperCase();x.hasContent=!j.test(x.type);if(!x.hasContent){if(x.data)x.url+=(/\?/.test(x.url)?"&":"?")+
x.data;if(x.cache===false)x.url+=(/\?/.test(x.url)?"&":"?")+"_ksTS="+(c.now()+"_"+c.guid())}x.dataType=c.trim(x.dataType||"*").split(d);x.context=x.context||x;return x}function b(x,A){e.fire(x,{ajaxConfig:A.config,xhr:A})}function n(x){var A=this.config;x=x.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);A[x]&&A[x].call(A.context,this.responseData,this.statusText,this);b(x,this)}function e(x){if(x.url){x=p(x);var A=new g(x);b("start",A);var w=new (D[x.dataType[0]]||D["*"])(A);A.transport=
w;x.contentType&&A.setRequestHeader("Content-Type",x.contentType);var v=x.dataType[0],q=x.accepts;A.setRequestHeader("Accept",v&&q[v]?q[v]+(v==="*"?"":", */*; q=0.01"):q["*"]);for(var t in x.headers)A.setRequestHeader(t,x.headers[t]);A.on("complete success error",n);A.readyState=1;b("send",A);if(x.async&&x.timeout>0)A.timeoutTimer=setTimeout(function(){A.abort("timeout")},x.timeout*1E3);try{A.state=1;w.send()}catch(h){A.status<2?A.callback(-1,h):c.error(h)}return A}}var d=/\s+/,i=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
s=function(x){return x},r=80,m=443,j=/^(?:GET|HEAD)$/,k,y;try{k=location.href}catch(E){c.log("ajax/base get curLocation error : ");c.log(E);k=document.createElement("a");k.href="";k=k.href}y=i.exec(k);k=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(y[1]);var D={},B={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:a.parse,html:s,text:s,xml:c.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};B.converters.html=B.converters.text;c.mix(e,o.Target);c.mix(e,{isLocal:k,setupConfig:function(x){c.mix(B,x,undefined,undefined,true)},setupTransport:function(x,A){D[x]=A},getTransport:function(x){return D[x]},getConfig:function(){return B}});return e},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhrbase",function(c,a){function o(n,e){try{return new (e||g).XMLHttpRequest}catch(d){}}var g=window,p=g.XDomainRequest,b={proto:{}};b.xhr=g.ActiveXObject?function(n,e){if(n&&p)return new p;var d;if(!(d=!a.isLocal&&o(n,e)))a:{try{d=new (e||g).ActiveXObject("Microsoft.XMLHTTP");break a}catch(i){c.log("createActiveXHR error")}d=void 0}return d}:o;c.mix(b.proto,{sendInternal:function(){var n=this,e=n.xhrObj,d=e.config,i=n.xhr,s,r;d.username?i.open(d.type,d.url,d.async,d.username,d.password):
i.open(d.type,d.url,d.async);if(s=d.xhrFields)for(r in s)i[r]=s[r];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType);if(!d.crossDomain&&!e.requestHeaders["X-Requested-With"])e.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{if(!d.crossDomain)for(r in e.requestHeaders)i.setRequestHeader(r,e.requestHeaders[r])}catch(m){c.log("setRequestHeader in xhr error : ");c.log(m)}i.send(d.hasContent&&d.data||null);if(!d.async||i.readyState==4)n._callback();else if(p&&i instanceof p){i.onload=
function(){i.readyState=4;i.status=200;n._callback()};i.onerror=function(){i.readyState=4;i.status=500;n._callback()}}else i.onreadystatechange=function(){n._callback()}},abort:function(){this._callback(0,1)},_callback:function(n,e){try{var d=this.xhr,i=this.xhrObj,s=i.config;if(e||d.readyState==4){if(p&&d instanceof p){d.onerror=c.noop;d.onload=c.noop}else d.onreadystatechange=c.noop;if(e)d.readyState!==4&&d.abort();else{var r=d.status;if(!(p&&d instanceof p))i.responseHeadersString=d.getAllResponseHeaders();
var m=d.responseXML;if(m&&m.documentElement)i.responseXML=m;i.responseText=d.responseText;try{var j=d.statusText}catch(k){c.log("xhr statustext error : ");c.log(k);j=""}if(!r&&a.isLocal&&!s.crossDomain)r=i.responseText?200:404;else if(r===1223)r=204;i.callback(r,j)}}}catch(y){d.onreadystatechange=c.noop;e||i.callback(-1,y)}}});return b},{requires:["./base"]});
KISSY.add("ajax/subdomain",function(c,a,o,g){function p(d){var i=d.config;this.xhrObj=d;d=i.url.match(b);this.__hostname=d[2];this.__protocol=d[1];i.crossDomain=false}var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,n=document,e={};c.augment(p,a.proto,{send:function(){var d=this.xhrObj.config,i=this.__hostname,s=e[i],r="/sub_domain_proxy.html";if(d.xdr&&d.xdr.subDomain&&d.xdr.subDomain.proxy)r=d.xdr.subDomain.proxy;if(s&&s.ready)(this.xhr=a.xhr(0,s.iframe.contentWindow))?this.sendInternal():
c.error("document.domain not set correctly!");else{if(s)d=s.iframe;else{s=e[i]={};d=s.iframe=document.createElement("iframe");g.css(d,{position:"absolute",left:"-9999px",top:"-9999px"});g.prepend(d,n.body||n.documentElement);d.src=this.__protocol+"//"+i+r}o.on(d,"load",this._onLoad,this)}},_onLoad:function(){var d=e[this.__hostname];d.ready=1;o.detach(d.iframe,"load",this._onLoad,this);this.send()}});return p},{requires:["./xhrbase","event","dom"]});
KISSY.add("ajax/xdr",function(c,a,o){function g(s,r,m){if(!i){i=true;s='<object id="'+n+'" type="application/x-shockwave-flash" data="'+s+'" width="0" height="0"><param name="movie" value="'+s+'" /><param name="FlashVars" value="yid='+r+"&uid="+m+'&host=KISSY.io" /><param name="allowScriptAccess" value="always" /></object>';r=d.createElement("div");o.prepend(r,d.body||d.documentElement);r.innerHTML=s}}function p(s){c.log("use flash xdr");this.xhrObj=s}var b={},n="io_swf",e,d=document,i=false;c.augment(p,
{send:function(){var s=this,r=s.xhrObj.config;g((r.xdr||{}).src||c.Config.base+"ajax/io.swf",1,1);if(e){s._uid=c.guid();b[s._uid]=s;e.send(r.url,{id:s._uid,uid:s._uid,method:r.type,data:r.hasContent&&r.data||{}})}else setTimeout(function(){s.send()},200)},abort:function(){e.abort(this._uid)},_xdrResponse:function(s,r){var m,j=this.xhrObj;j.responseText=decodeURI(r.c.responseText);switch(s){case "success":m={status:200,statusText:"success"};delete b[r.id];break;case "abort":delete b[r.id];break;case "timeout":case "transport error":case "failure":delete b[r.id];
m={status:500,statusText:s}}m&&j.callback(m.status,m.statusText)}});a.applyTo=function(s,r,m){s=r.split(".");var j=c;c.each(s,function(k){j=j[k]});j.apply(null,m)};a.xdrReady=function(){e=d.getElementById(n)};a.xdrResponse=function(s,r,m){var j=b[r.uid];j&&j._xdrResponse(s,r,m)};c.io=a;return p},{requires:["./base","dom"]});
KISSY.add("ajax/xhr",function(c,a,o,g,p){var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,n=window.XDomainRequest,e=o.xhr();if(e){var d=function(s){s=s.split(".");return s.length<2?s.join("."):s.reverse().slice(0,2).reverse().join(".")},i=function(s){var r=s.config,m=r.xdr||{};if(r.crossDomain){r=r.url.match(b);if(d(location.hostname)==d(r[2]))return new g(s);if(!("withCredentials"in e)&&(String(m.use)==="flash"||!n))return new p(s)}this.xhrObj=s};c.augment(i,o.proto,{send:function(){this.xhr=
o.xhr(this.xhrObj.config.crossDomain);this.sendInternal()}});a.setupTransport("*",i)}return a},{requires:["./base","./xhrbase","./subdomain","./xdr"]});
KISSY.add("ajax/script",function(c,a){function o(p){if(!p.config.crossDomain&&!p.config.forceScript)return new (a.getTransport("*"))(p);this.xhrObj=p;return 0}var g=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(p){c.globalEval(p);return p}}}});c.augment(o,{send:function(){var p=this,b,n=this.xhrObj.config,e=g.head||g.getElementsByTagName("head")[0]||
g.documentElement;p.head=e;b=g.createElement("script");p.script=b;b.async="async";if(n.scriptCharset)b.charset=n.scriptCharset;b.src=n.url;b.onerror=b.onload=b.onreadystatechange=function(d){d=d||window.event;p._callback((d.type||"error").toLowerCase())};e.insertBefore(b,e.firstChild)},_callback:function(p,b){var n=this.script,e=this.xhrObj,d=this.head;if(n)if(b||!n.readyState||/loaded|complete/.test(n.readyState)||p=="error"){n.onerror=n.onload=n.onreadystatechange=null;d&&n.parentNode&&d.removeChild(n);
this.head=this.script=undefined;if(!b&&p!="error")e.callback(200,"success");else p=="error"&&e.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",o);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(c,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return c.guid("jsonp")}});a.on("start",function(o){o=o.xhr;var g=o.config;if(g.dataType[0]=="jsonp"){var p,b=g.jsonpCallback,n=c.isFunction(b)?b():b,e=window[n];g.url+=(/\?/.test(g.url)?"&":"?")+g.jsonp+"="+n;window[n]=function(d){if(arguments.length>1)d=c.makeArray(arguments);p=[d]};o.on("complete",function(){window[n]=e;if(e===undefined)try{delete window[n]}catch(d){}else p&&e(p[0])});o.converters=o.converters||
{};o.converters.script=o.converters.script||{};o.converters.script.json=function(){p||c.error(" not call jsonpCallback : "+n);return p[0]};g.dataType.length=2;g.dataType[0]="script";g.dataType[1]="json"}});return a},{requires:["./base"]});
KISSY.add("ajax/form",function(c,a,o,g){a.on("start",function(p){p=p.xhr.config;if(p.form){var b=o.get(p.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=g.serialize(b))if(p.hasContent){p.data=p.data||"";if(p.data)p.data+="&";p.data+=b}else p.url+=(/\?/.test(p.url)?"&":"?")+b}else{b=p.dataType[0];if(b=="*")b="text";p.dataType.length=2;p.dataType[0]="iframe";p.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(c,a,o,g){function p(n){this.xhr=n}var b=document;g.setupConfig({converters:{iframe:g.getConfig().converters.text,text:{iframe:function(n){return n}}}});c.augment(p,{send:function(){var n=this.xhr,e=n.config,d,i=a.get(e.form);this.attrs={target:a.attr(i,"target")||"",action:a.attr(i,"action")||""};this.form=i;var s=c.guid("ajax-iframe");n.iframe=a.create("<iframe  id='"+s+"' name='"+s+"' style='position:absolute;left:-9999px;top:-9999px;'/>");n.iframeId=s;a.prepend(n.iframe,
b.body||b.documentElement);a.attr(i,{target:n.iframeId,action:e.url});if(e.data){d=e.data;e=e.serializeArray;d=c.unparam(d);s=[];for(var r in d)for(var m=c.isArray(d[r]),j=c.makeArray(d[r]),k=0;k<j.length;k++){var y=b.createElement("input");y.type="hidden";y.name=r+(m&&e?"[]":"");y.value=j[k];a.append(y,i);s.push(y)}d=s}this.fields=d;o.on(n.iframe,"load error",this._callback,this);i.submit()},_callback:function(n){var e=this.xhr;n=n.type;var d=e.iframe;if(d){a.attr(this.form,this.attrs);if(n=="load"){n=
d.contentWindow.document;e.responseXML=n;e.responseText=a.text(n.body);e.callback(200,"success")}else n=="error"&&e.callback(500,"error");a.remove(this.fields);o.detach(d);setTimeout(function(){a.remove(d)},30);e.iframe=null}},abort:function(){this._callback(0,1)}});g.setupTransport("iframe",p);return g},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(c,a,o){c.mix(o,{serialize:a.serialize,get:function(g,p,b,n,e){if(c.isFunction(p)){n=b;b=p;p=undefined}return o({type:e||"get",url:g,data:p,success:b,dataType:n})},post:function(g,p,b,n){if(c.isFunction(p)){n=b;b=p;p=undefined}return o.get(g,p,b,n,"post")},jsonp:function(g,p,b){if(c.isFunction(p)){b=p;p=undefined}return o.get(g,p,b,"jsonp")},getScript:c.getScript,getJSON:function(g,p,b){if(c.isFunction(p)){b=p;p=undefined}return o.get(g,p,b,"json")},upload:function(g,p,b,
n,e){if(c.isFunction(b)){e=n;n=b;b=undefined}return o({url:g,type:"post",dataType:e,form:p,data:b,success:n})}});return o},{requires:["ajax/form-serializer","ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(c,a){function o(m,j){if(c.isString(j))return m[j];return j}function g(m,j,k,y,E,D,B){B=B||k;return m.fire(j+s(k)+"Change",{attrName:B,subAttrName:D,prevVal:y,newVal:E})}function p(m,j,k){var y=m[j]||{};if(k)m[j]=y;return y}function b(m){return p(m,"__attrs",true)}function n(m){return p(m,"__attrVals",true)}function e(m,j){for(var k=0,y=j.length;m!=a&&k<y;k++)m=m[j[k]];return m}function d(m,j,k,y,E){y=y||{};var D,B,x,A=j;if(j.indexOf(".")!==-1){D=j.split(".");j=
D.shift()}x=m.get(j);if(D)B=e(x,D);if(!(!D&&x===k))if(!(D&&B===k)){if(D){var w=B=c.clone(x),v=D.length-1;if(v>=0){for(var q=0;q<v;q++)w=w[D[q]];if(w!=a)w[D[q]]=k}k=B}if(!y.silent)if(false===g(m,"before",j,x,k,A))return false;k=m.__set(j,k);if(k===false)return k;if(!y.silent){k=n(m)[j];g(m,"after",j,x,k,A);E?E.push({prevVal:x,newVal:k,attrName:j,subAttrName:A}):g(m,"","*",[x],[k],[A],[j])}return m}}function i(){}function s(m){return m.charAt(0).toUpperCase()+m.substring(1)}i.INVALID={};var r=i.INVALID;
c.augment(i,{getAttrs:function(){return b(this)},getAttrVals:function(){var m={},j,k=b(this);for(j in k)m[j]=this.get(j);return m},addAttr:function(m,j,k){var y=b(this);j=c.clone(j);if(y[m])c.mix(y[m],j,k);else y[m]=j;return this},addAttrs:function(m,j){var k=this;c.each(m,function(y,E){k.addAttr(E,y)});j&&k.set(j);return k},hasAttr:function(m){return m&&b(this).hasOwnProperty(m)},removeAttr:function(m){if(this.hasAttr(m)){delete b(this)[m];delete n(this)[m]}return this},set:function(m,j,k){var y;
if(c.isPlainObject(m)){var E=m;m=0;y=true;k=j;j=[];for(m in E){y=d(this,m,E[m],k,j);if(y===false)break}var D=[],B=[],x=[],A=[];c.each(j,function(w){B.push(w.prevVal);x.push(w.newVal);D.push(w.attrName);A.push(w.subAttrName)});D.length&&g(this,"","*",B,x,A,D);return y}return d(this,m,j,k)},__set:function(m,j){var k,y=p(b(this),m,true),E=y.validator;y=y.setter;if(E=o(this,E))if(!E.call(this,j,m))return false;if(y=o(this,y))k=y.call(this,j,m);if(k===r)return false;if(k!==a)j=k;n(this)[m]=j},get:function(m){var j,
k,y;if(m.indexOf(".")!==-1){j=m.split(".");m=j.shift()}k=p(b(this),m).getter;y=m in n(this)?n(this)[m]:this.__getDefAttrVal(m);if(k=o(this,k))y=k.call(this,y,m);if(j)y=e(y,j);return y},__getDefAttrVal:function(m){var j=p(b(this),m),k;if(k=o(this,j.valueFn)){k=k.call(this);if(k!==a)j.value=k;delete j.valueFn;b(this)[m]=j}return j.value},reset:function(m,j){if(c.isString(m))return this.hasAttr(m)?this.set(m,this.__getDefAttrVal(m),j):this;j=m;var k=b(this),y={};for(m in k)y[m]=this.__getDefAttrVal(m);
this.set(y,j);return this}});i.__capitalFirst=s;return i});KISSY.add("base/base",function(c,a,o){function g(p){for(var b=this.constructor;b;){var n=b.ATTRS;if(n){var e=void 0;for(e in n)n.hasOwnProperty(e)&&this.addAttr(e,n[e],false)}b=b.superclass?b.superclass.constructor:null}if(p)for(var d in p)p.hasOwnProperty(d)&&this.__set(d,p[d])}c.augment(g,o.Target,a);return g},{requires:["./attribute","event"]});KISSY.add("base",function(c,a,o){a.Attribute=o;return a},{requires:["base/base","base/attribute"]});
KISSY.add("cookie/base",function(c){var a=document,o=encodeURIComponent,g=decodeURIComponent;return{get:function(p){var b;if(c.isString(p)&&p!=="")if(p=String(a.cookie).match(RegExp("(?:^| )"+p+"(?:(?:=([^;]*))|;|$)")))b=p[1]?g(p[1]):"";return b},set:function(p,b,n,e,d,i){b=String(o(b));var s=n;if(typeof s==="number"){s=new Date;s.setTime(s.getTime()+n*864E5)}if(s instanceof Date)b+="; expires="+s.toUTCString();if(c.isString(e)&&e!=="")b+="; domain="+e;if(c.isString(d)&&d!=="")b+="; path="+d;if(i)b+=
"; secure";a.cookie=p+"="+b},remove:function(p,b,n,e){this.set(p,"",-1,b,n,e)}}});KISSY.add("cookie",function(c,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(c,a,o,g,p,b,n,e,d,i){n.getScript=c.getScript;a={UA:a,DOM:o,Event:g,EventTarget:g.Target,EventObject:g.Object,Node:p,NodeList:p,JSON:b,Ajax:n,IO:n,ajax:n,io:n,jsonp:n.jsonp,Anim:e,Easing:e.Easing,Base:d,Cookie:i,one:p.one,all:p.all,get:o.get,query:o.query};c.mix(c,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
