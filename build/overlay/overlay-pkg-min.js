/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("overlay",function(a){a.Overlay=a.UIBase.create([a.UIBase.Box,a.UIBase.ContentBox,a.UIBase.Position,a.UIBase.Loading,a.UA.ie==6?a.UIBase.Shim:null,a.UIBase.Align,a.UIBase.Mask,a.__OverlayEffect],{initializer:function(){},renderUI:function(){this.get("el").addClass("ks-overlay")},syncUI:function(){},bindUI:function(){},destructor:function(){}},{ATTRS:{elOrder:0}})},{requires:["uibase"]});
KISSY.add("dialog",function(a){a.Dialog=a.UIBase.create(a.Overlay,[a.UIBase.StdMod,a.UIBase.Close,a.UIBase.Drag,a.UIBase.Constrain],{initializer:function(){},renderUI:function(){this.get("el").addClass("ks-dialog");this.set("handlers",[this.get("header")])},bindUI:function(){},syncUI:function(){},destructor:function(){}})},{host:"overlay"});
KISSY.add("overlay/popup",function(a,f){function d(b,c){if(!(this instanceof d))return new d(b,c);if(a.isUndefined(c))c=b;else c.srcNode=b;c=c||{};this.config=c=a.merge(g,c);this.trigger=a.one(c.trigger);d.superclass.constructor.call(this,c);this._init()}var g={trigger:null,triggerType:"click"};a.extend(d,a.Overlay);a.Popup=d;a.augment(d,a.EventTarget,{_init:function(){var b=this;if(b.trigger)if(b.config.triggerType==="mouse"){b._bindTriggerMouse();b.on("bindUI",function(){b._bindContainerMouse()})}else b._bindTriggerClick()},
_bindTriggerMouse:function(){var b=this,c=b.trigger,e;c.on("mouseenter",function(){b._clearHiddenTimer();e=a.later(function(){b.show();e=f},100)});c.on("mouseleave",function(){if(e){e.cancel();e=f}b._setHiddenTimer()})},_bindContainerMouse:function(){var b=this;b.get("el").on("mouseleave",function(){b._setHiddenTimer()}).on("mouseenter",function(){b._clearHiddenTimer()})},_setHiddenTimer:function(){var b=this;b._hiddenTimer=a.later(function(){b.hide()},120)},_clearHiddenTimer:function(){if(this._hiddenTimer){this._hiddenTimer.cancel();
this._hiddenTimer=f}},_bindTriggerClick:function(){var b=this;b.trigger.on("click",function(c){c.halt();b.show()})}})},{host:"overlay"});
