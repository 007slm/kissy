/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Dec 14 17:33
*/
KISSY.add("swf",function(h,e,r,s,j,p){function k(a){k.superclass.constructor.apply(this,arguments);var b=this.get("expressInstall"),l,d,g=this.get("htmlMode");d=this.get("params");var f=this.get("attrs"),q=this.get("document"),i=e.create("<span>",p,q),o=this.get("elBefore"),m=this.get("src"),j=this.get("version");l=f.id=f.id||h.guid("ks-swf-");if(z()){if(j&&!A(j)&&(this.set("status",k.STATUS.TOO_LOW),b)){m=b;if(!("width"in f)||!/%$/.test(f.width)&&310>parseInt(f.width,10))f.width="310";if(!("height"in
f)||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";b=d.flashVars=d.flashVars||{};h.mix(b,{MMredirectURL:location.toString,MMplayerType:n.ie?"ActiveX":"PlugIn",MMdoctitle:q.title.slice(0,47)+" - Flash Player Installation"})}"full"==g?(n.ie?(b=c(m,f,d,1),delete f.id,delete f.style,j=c(m,f,d,0)):(j=c(m,f,d,0),delete f.id,delete f.style,b=c(m,f,d,1)),d=b+j+t+"/"+u+v+t+"/"+u+v):d=c(m,f,d,n.ie)+t+"/"+u+v;this.set("html",d);o?e.insertBefore(i,o):e.append(i,this.get("render"));"outerHTML"in
i?i.outerHTML=d:i.parentNode.replaceChild(i,e.create(d));l=e.get("#"+l,q);this.set("swfObject",l);"full"==g&&(n.ie?this.set("swfObject",l):this.set("swfObject",l.parentNode));this.set("el",l);this.get("status")||this.set("status",k.STATUS.SUCCESS)}else this.set("status",k.STATUS.NOT_INSTALLED)}function y(a){var b=g;h.each(a,function(a,d){d=d.toLowerCase();d in B?b+=o(d,a):d==C&&(b+=o(d,q(a)))});return b}function c(a,b,l,d){var c=g,f=g;d==p&&(d=n.ie);h.each(b,function(a,b){c=c+(w+b+x+i+a+i)});d?(c+=
w+"classid"+x+i+D+i,f+=o("movie",a)):(c+=w+"data"+x+i+a+i,c+=w+"type"+x+i+E+i);f+=y(l);return t+u+c+v+f}function q(a){var b=[];h.each(a,function(a,d){"string"!=typeof a&&(a=r.stringify(a));a&&b.push(d+"="+F(a))});return b.join("&")}function o(a,b){return'<param name="'+a+'" value="'+b+'"></param>'}var n=h.UA,E="application/x-shockwave-flash",D="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",C="flashvars",g="",w=" ",x="=",i='"',t="<",v=">",G=h.Env.host.document,z=j.fpv,A=j.fpvGEQ,u="object",F=encodeURIComponent,
B={wmode:g,allowscriptaccess:g,allownetworking:g,allowfullscreen:g,play:"false",loop:g,menu:g,quality:g,scale:g,salign:g,bgcolor:g,devicefont:g,hasPriority:g,base:g,swliveconnect:g,seamlesstabbing:g};h.extend(k,s,{callSWF:function(a,b){var c=this.get("el"),d,b=b||[];try{c[a]&&(d=c[a].apply(c,b))}catch(g){d="",0!==b.length&&(d="'"+b.join("', '")+"'"),d=(new Function("swf","return swf."+a+"("+d+");"))(c)}return d},destroy:function(){this.detach();var a=this.get("swfObject");n.ie?(a.style.display="none",
function(){if(4==a.readyState){for(var b in a)"function"==typeof a[b]&&(a[b]=null);a.parentNode.removeChild(a)}else setTimeout(arguments.callee,10)}()):a.parentNode.removeChild(a)}},{ATTRS:{expressInstall:{value:h.config("base")+"swf/assets/expressInstall.swf"},src:{},version:{value:"9"},params:{value:{}},attrs:{value:{}},render:{setter:function(a){"string"==typeof a&&(a=e.get(a,this.get("document")));return a},valueFn:function(){return document.body}},elBefore:{setter:function(a){"string"==typeof a&&
(a=e.get(a,this.get("document")));return a}},document:{value:G},status:{},el:{},swfObject:{},html:{},htmlMode:{}},fpv:z,fpvGEQ:A});k.getSrc=function(a){var b=a=e.get(a),c="",d,a=[],c=e.nodeName(b);if("object"==c){(c=e.attr(b,"data"))&&a.push(b);b=b.childNodes;for(c=0;c<b.length;c++)d=b[c],1==d.nodeType&&("movie"==(e.attr(d,"name")||"").toLowerCase()?a.push(d):"embed"==e.nodeName(d)?a.push(d):"object"==e.nodeName(b[c])&&a.push(d))}else"embed"==c&&a.push(b);b=(a=a[0])&&e.nodeName(a);return"embed"==
b?e.attr(a,"src"):"object"==b?e.attr(a,"data"):"param"==b?e.attr(a,"value"):null};k.STATUS={TOO_LOW:"flash version is too low",NOT_INSTALLED:"flash is not installed",SUCCESS:"success"};return k},{requires:["dom","json","base","swf/ua"]});
KISSY.add("swf/ua",function(h,e){function r(c){var e="string"==typeof c?c.match(/\d+/g).splice(0,3):c;h.isArray(e)&&(c=parseFloat(e[0]+"."+s(e[1],3)+s(e[2],5)));return c||0}function s(c,e){var c=(c||0)+"",h=e+1-c.length;return Array(0<h?h:0).join("0")+c}function j(c){if(c||k){k=!1;var h;if(navigator.plugins&&navigator.mimeTypes.length)h=(navigator.plugins["Shockwave Flash"]||0).description;else if(y.ActiveXObject)try{h=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(j){}p=
!h?e:h.match(/\d+/g).splice(0,3)}return p}var p,k=!0,y=h.Env.host;return{fpv:j,fpvGEQ:function(c,e){return r(j(e))>=r(c)}}});
