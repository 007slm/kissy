/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Nov 10 18:54
*/
KISSY.add("base",function(f){function h(a){for(var b=this.constructor,d,c,e=[];b;){if(c=b.ATTRS)for(d in c)c.hasOwnProperty(d)&&!this.hasAttr(d)&&this.addAttr(d,c[d]);(c=(c=b._kissycreate)&&c._exts)&&e.push.apply(e,c.concat().reverse());if(a&&a[l]&&b.HTML_PARSER){c=a[l];var j=b.HTML_PARSER,g=void 0;for(g in j)if(j.hasOwnProperty(g)){var i=j[g];if(f.isFunction(i))this.set(g,i.call(this,c));else if(f.isString(i))this.set(g,c.one(i));else f.isArray(i)&&i[0]&&this.set(g,c.all(i[0]))}}b=b.superclass?b.superclass.constructor:
null}for(b=e.length-1;b>=0;b--)e[b]&&e[b].call(this,a);if(a)for(d in a)a.hasOwnProperty(d)&&this.__set(d,a[d]);this.init&&this.init();a&&a.autoRender&&this.renderer()}var l="srcNode",k=f.Attribute.capitalFirst;h.HTML_PARSER={};h.ATTRS={rendered:{value:false},render:{setter:function(a){if(f.isString(a))return f.one(a)}}};f.augment(h,f.EventTarget,f.Attribute,{renderer:function(){var a=this.get("render");if(!this.get("rendered")){this.renderUI(a);this.bindUI();this.syncUI();this.set("rendered",true)}},
renderUI:function(){this.fire("renderUI")},bindUI:function(){var a=this,b=a.getDefAttrs(),d;for(d in b)if(b.hasOwnProperty(d)){var c="_uiSet"+k(d);a[c]&&function(e,j){a.on("after"+k(e)+"Change",function(g){a[j](g.newVal)})}(d,c)}a.fire("bindUI")},syncUI:function(){var a=this.getDefAttrs(),b;for(b in a)if(a.hasOwnProperty(b)){var d="_uiSet"+k(b);this[d]&&this[d](this.get(b))}this.fire("syncUI")},destroy:function(){this.detach();this.fire("destroy")}});h.create=function(a,b,d,c){function e(){e.superclass.constructor.apply(this,
arguments)}if(f.isArray(a)){c=d;d=b;b=a;a=h}a=a||h;f.extend(e,a,d,c);if(b){e._kissycreate=e._kissycreate||{};e._kissycreate._exts=b;for(a=0;a<b.length;a++){d=(c=b[a])&&c.ATTRS;c=c&&c.HTML_PARSER;if(d){e.ATTRS=e.ATTRS||{};f.mix(e.ATTRS,d,false)}if(c){e.HTML_PARSER=e.HTML_PARSER||{};f.mix(e.HTML_PARSER,c,false)}f.augment(e,b[a])}}return e};f.Base=h});
