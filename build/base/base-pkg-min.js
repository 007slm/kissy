/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Nov 11 12:36
*/
KISSY.add("base",function(f){function i(a){for(var b=this.constructor,d,c,e=[];b;){if(c=b.ATTRS)for(d in c)c.hasOwnProperty(d)&&!this.hasAttr(d)&&this.addAttr(d,c[d]);var g=b._kissycreate;g=g&&g._exts;c=[];if(g)c=g.concat();(g=b.prototype.init)&&c.push(g);c.length&&e.push.apply(e,c.reverse());if(a&&a[l]&&b.HTML_PARSER){c=a[l];g=b.HTML_PARSER;var h=void 0;for(h in g)if(g.hasOwnProperty(h)){var j=g[h];if(f.isFunction(j))this.__set(h,j.call(this,c));else if(f.isString(j))this.__set(h,c.one(j));else f.isArray(j)&&
j[0]&&this.__set(h,c.all(j[0]))}}b=b.superclass?b.superclass.constructor:null}if(a)for(d in a)a.hasOwnProperty(d)&&this.__set(d,a[d]);for(b=e.length-1;b>=0;b--)e[b]&&e[b].call(this,a);a&&a.autoRender&&this.renderer()}var l="srcNode",k=f.Attribute.capitalFirst;i.HTML_PARSER={};i.ATTRS={rendered:{value:false},render:{setter:function(a){if(f.isString(a))return f.one(a)}}};f.augment(i,f.EventTarget,f.Attribute,{renderer:function(){var a=this.get("render");if(!this.get("rendered")){this.renderUI(a);this.bindUI();
this.syncUI();this.set("rendered",true)}},renderUI:function(){this.fire("renderUI")},bindUI:function(){var a=this,b=a.getDefAttrs(),d;for(d in b)if(b.hasOwnProperty(d)){var c="_uiSet"+k(d);a[c]&&function(e,g){a.on("after"+k(e)+"Change",function(h){a[g](h.newVal)})}(d,c)}a.fire("bindUI")},syncUI:function(){var a=this.getDefAttrs(),b;for(b in a)if(a.hasOwnProperty(b)){var d="_uiSet"+k(b);this[d]&&this[d](this.get(b))}this.fire("syncUI")},destroy:function(){for(var a=this.constructor;a;){var b=a._kissycreate;
if(b=b&&b._exts){for(var d=b.length-1;d>=0;d--){var c=b[d].prototype.__destructor;c&&c.apply(this)}(c=a.prototype.destructor)&&c.apply(this)}a=a.superclass?a.superclass.constructor:null}this.fire("destroy");this.detach()}});i.create=function(a,b,d,c){function e(){e.superclass.constructor.apply(this,arguments)}if(f.isArray(a)){c=d;d=b;b=a;a=i}a=a||i;f.extend(e,a,d,c);if(b){e._kissycreate=e._kissycreate||{};e._kissycreate._exts=b;for(a=0;a<b.length;a++){d=(c=b[a])&&c.ATTRS;c=c&&c.HTML_PARSER;if(d){e.ATTRS=
e.ATTRS||{};f.mix(e.ATTRS,d,false)}if(c){e.HTML_PARSER=e.HTML_PARSER||{};f.mix(e.HTML_PARSER,c,false)}f.augment(e,b[a])}}return e};f.Base=i});
