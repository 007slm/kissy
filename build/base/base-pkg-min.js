/*
Copyright 2010, KISSY UI Library v1.1.6
MIT Licensed
build time: Nov 24 14:17
*/
KISSY.add("base",function(f){function i(a){for(var b=this.constructor,c,d,e=[];b;){if(d=b.ATTRS)for(c in d)d.hasOwnProperty(c)&&!this.hasAttr(c)&&this.addAttr(c,d[c]);var g=b._kissycreate;g=g&&g._exts;d=[];if(g)d=g.concat();(g=b.prototype.init)&&d.push(g);d.length&&e.push.apply(e,d.reverse());if(a&&a[k]&&b.HTML_PARSER)if(a[k]=f.one(a[k])){d=a[k];g=b.HTML_PARSER;var h=void 0;for(h in g)if(g.hasOwnProperty(h)){var j=g[h];if(f.isFunction(j))this.__set(h,j.call(this,d));else if(f.isString(j))this.__set(h,
d.one(j));else f.isArray(j)&&j[0]&&this.__set(h,d.all(j[0]))}}b=b.superclass?b.superclass.constructor:null}if(a)for(c in a)a.hasOwnProperty(c)&&this.__set(c,a[c]);for(b=e.length-1;b>=0;b--)e[b]&&e[b].call(this,a);a&&a.autoRender&&this.renderer()}var k="srcNode",l=f.Attribute.capitalFirst;i.HTML_PARSER={};i.ATTRS={rendered:{value:false},render:{setter:function(a){if(f.isString(a))return f.one(a)}}};f.augment(i,f.EventTarget,f.Attribute,{renderer:function(a){var b=this.get("rendered");a=a||this.get("render");
if(!b){this.renderUI(a);this.bindUI();this.syncUI();this.set("rendered",true)}},renderUI:function(){this.fire("renderUI")},bindUI:function(){var a=this,b=a.getDefAttrs(),c;for(c in b)if(b.hasOwnProperty(c)){var d="_uiSet"+l(c);a[d]&&function(e,g){a.on("after"+l(e)+"Change",function(h){a[g](h.newVal,h)})}(c,d)}a.fire("bindUI")},syncUI:function(){var a=this.getDefAttrs(),b;for(b in a)if(a.hasOwnProperty(b)){var c="_uiSet"+l(b);this[c]&&this[c](this.get(b))}this.fire("syncUI")},destroy:function(){for(var a=
this.constructor;a;){var b=a._kissycreate;b=b&&b._exts;var c=a.prototype.destructor;c&&c.apply(this);if(b)for(var d=b.length-1;d>=0;d--)(c=b[d]&&b[d].prototype.__destructor)&&c.apply(this);a=a.superclass?a.superclass.constructor:null}this.fire("destroy");this.detach()}});i.create=function(a,b,c,d){function e(){i.apply(this,arguments)}if(f.isArray(a)){d=c;c=b;b=a;a=i}a=a||i;f.extend(e,a,c,d);if(b){e._kissycreate=e._kissycreate||{};e._kissycreate._exts=b;for(a=0;a<b.length;a++){d=(c=b[a])&&c.ATTRS;
var g=c&&c.HTML_PARSER;if(d){e.ATTRS=e.ATTRS||{};f.mix(e.ATTRS,d,false)}if(g){e.HTML_PARSER=e.HTML_PARSER||{};f.mix(e.HTML_PARSER,g,false)}c&&f.augment(e,c)}}return e};f.Base=i});
