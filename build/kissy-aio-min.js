/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(g,c,m){var o={mix:function(e,b,j,n){if(!b||!e)return e;if(j===m)j=true;var a,l,v;if(n&&(v=n.length))for(a=0;a<v;a++){l=n[a];if(l in b)if(j||!(l in e))e[l]=b[l]}else for(l in b)if(j||!(l in e))e[l]=b[l];return e}},q=g&&g[c]||{},r=0;g=q.__HOST||(q.__HOST=g||{});c=g[c]=o.mix(q,o,false);c.mix(c,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",merge:function(){var e={},b,j=arguments.length;for(b=0;b<j;b++)c.mix(e,arguments[b]);return e},augment:function(){var e=arguments,
b=e.length-2,j=e[0],n=e[b],a=e[b+1],l=1;if(!c.isArray(a)){n=a;a=m;b++}if(!c.isBoolean(n)){n=m;b++}for(;l<b;l++)c.mix(j.prototype,e[l].prototype||e[l],n,a);return j},extend:function(e,b,j,n){if(!b||!e)return e;var a=Object.create?function(x,z){return Object.create(x,{constructor:{value:z}})}:function(x,z){function p(){}p.prototype=x;var t=new p;t.constructor=z;return t},l=b.prototype,v;v=a(l,e);e.prototype=c.mix(v,e.prototype);e.superclass=a(l,b);j&&c.mix(v,j);n&&c.mix(e,n);return e},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var e=arguments,b=e.length,j=null,n,a,l,v=e[b-1]===true&&b--;for(n=0;n<b;n++){l=(""+e[n]).split(".");j=v?g:this;for(a=g[l[0]]===j?1:0;a<l.length;++a)j=j[l[a]]=j[l[a]]||{}}return j},app:function(e,b){var j=c.isString(e),n=j?g[e]||{}:e,a=0,l=c.__APP_INIT_METHODS.length;for(c.mix(n,this,true,c.__APP_MEMBERS);a<l;a++)c[c.__APP_INIT_METHODS[a]].call(n);c.mix(n,c.isFunction(b)?b():b);j&&(g[e]=n);return n},config:function(e){for(var b in e)this["_"+
b]&&this["_"+b](e[b])},log:function(e,b,j){if(c.Config.debug){if(j)e=j+": "+e;if(g.console!==m&&console.log)console[b&&console[b]?b:"log"](e)}},error:function(e){if(c.Config.debug)throw e;},guid:function(e){return(e||"")+r++}});c.__init();return c})(this,"KISSY");
(function(g,c){var m=g.__HOST,o=Object.prototype.toString,q=Array.prototype.indexOf,r=Array.prototype.lastIndexOf,e=Array.prototype.filter,b=String.prototype.trim,j=/^\s+|\s+$/g,n={};g.mix(g,{type:function(a){return a==null?String(a):n[o.call(a)]||"object"},isNull:function(a){return a===null},isUndefined:function(a){return a===c},isEmptyObject:function(a){for(var l in a)return false;return true},isPlainObject:function(a){return a&&o.call(a)==="[object Object]"&&"isPrototypeOf"in a},clone:function(a,
l,v){var x=a,z,p,t=v||{};if(a&&((z=g.isArray(a))||g.isPlainObject(a))){if(a["__~ks_cloned"])return t[a["__~ks_cloned"]];a["__~ks_cloned"]=x=g.guid();t[x]=a;if(z)x=l?g.filter(a,l):a.concat();else{x={};for(p in a)if(p!=="__~ks_cloned"&&a.hasOwnProperty(p)&&(!l||l.call(a,a[p],p,a)!==false))x[p]=g.clone(a[p],l,t)}}if(!v){g.each(t,function(d){if(d["__~ks_cloned"])try{delete d["__~ks_cloned"]}catch(i){d["__~ks_cloned"]=c}});t=c}return x},trim:b?function(a){return a==c?"":b.call(a)}:function(a){return a==
c?"":a.toString().replace(j,"")},substitute:function(a,l,v){if(!g.isString(a)||!g.isPlainObject(l))return a;return a.replace(v||/\\?\{([^{}]+)\}/g,function(x,z){if(x.charAt(0)==="\\")return x.slice(1);return l[z]!==c?l[z]:""})},each:function(a,l,v){var x,z=0,p=a.length,t=p===c||g.type(a)==="function";v=v||m;if(t)for(x in a){if(l.call(v,a[x],x,a)===false)break}else for(x=a[0];z<p&&l.call(v,x,z,a)!==false;x=a[++z]);return a},indexOf:q?function(a,l){return q.call(l,a)}:function(a,l){for(var v=0,x=l.length;v<
x;++v)if(l[v]===a)return v;return-1},lastIndexOf:r?function(a,l){return r.call(l,a)}:function(a,l){for(var v=l.length-1;v>=0;v--)if(l[v]===a)break;return v},unique:function(a,l){l&&a.reverse();for(var v=a.slice(),x=0,z,p;x<v.length;){for(p=v[x];(z=g.lastIndexOf(p,v))!==x;)v.splice(z,1);x+=1}l&&v.reverse();return v},inArray:function(a,l){return g.indexOf(a,l)>-1},filter:e?function(a,l,v){return e.call(a,l,v||this)}:function(a,l,v){var x=[];g.each(a,function(z,p,t){if(l.call(v||this,z,p,t))x.push(z)});
return x},now:function(){return(new Date).getTime()}});g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,l){n["[object "+a+"]"]=l=a.toLowerCase();g["is"+a]=function(v){return g.type(v)==l}})})(KISSY);
(function(g,c){function m(h){h=h.split("/");for(var s=[],u=0;u<h.length;u++){var w=h[u];if(w!=".")w==".."?s.pop():s.push(w)}return s.join("/")}function o(h,s){if(!s)return s;if(g.isArray(s)){for(var u=0;u<s.length;u++)s[u]=o(h,s[u]);return s}if(s.lastIndexOf("../",0)==0||s.lastIndexOf("./",0)==0){u=v;var w;if((w=h.lastIndexOf("/"))!=-1)u=h.substring(0,w+1);return m(u+s)}else return s.indexOf("./")!=-1||s.indexOf("../")!=-1?m(s):s}function q(h){return h.replace(/(-min)?\.js[^/]*$/i,v)}function r(h){if(h.charAt(h.length-
1)!="/")h+="/";h=g.trim(h);if(!h.match(/^(http(s)?)|(file):/i)&&h.lastIndexOf("/",0)!=0)h=i+h;return m(h)}function e(h){return h.replace(/\?.*$/,"")}function b(h){for(var s=0;s<h.length;s++)if(h[s].match(/\/$/))h[s]+="index";return h}if(!g.use){var j=g.__HOST,n=!j.getSelection&&j.ActiveXObject,a=j.document,l=a.getElementsByTagName("head")[0]||a.documentElement,v="",x=2,z=3,p=4,t=g.mix,d=a.createElement("script").readyState?function(h,s){var u=h.onreadystatechange;h.onreadystatechange=function(){var w=
h.readyState;if(w==="loaded"||w==="complete"){h.onreadystatechange=null;u&&u();s.call(this)}}}:function(h,s){h.addEventListener("load",s,false)},i=location.href.replace(/[^/]*$/i,v);j={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(h,s,u){var w=this.Env.mods,y;if(g.isString(h)&&!u&&g.isPlainObject(s)){y={};y[h]=s;h=y}if(g.isPlainObject(h)){g.each(h,function(B,C){B.name=C;w[C]&&t(B,w[C],false)});t(w,h);return this}if(g.isString(h)){var A;if(u&&(A=u.host)){h=w[A];if(!h){g.error("module "+
A+" can not be found !");return this}if(this.__isAttached(A))s.apply(this);else{h.fns=h.fns||[];h.fns.push(s)}return this}this.__registerModule(h,s,u);if(u&&u.attach===false)return this;s=w[h];h=o(h,s.requires);if(this.__isAttached(h))this.__attachMod(s);else for(h=(s=g.makeArray(h)).length-1;h>=0;h--)e(s[h]);return this}if(g.isFunction(h)){u=s;s=h;if(n){if(+new Date-this.__startLoadTime<15)(h=this.__startLoadModuleName)?this.__registerModule(h,s,u):g.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{h=this.__findModuleNameByInteractive();
this.__registerModule(h,s,u)}this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:s,config:u};return this}g.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var h=document.getElementsByTagName("script"),s,u=0;u<h.length;u++){var w=h[u];if(w.readyState=="interactive"){s=w;break}}s||g.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");h=s.src;if(h.lastIndexOf(this.Config.base,0)==0)return q(h.substring(this.Config.base.length));s=this.__packages;
for(var y in s)if(s.hasOwnProperty(y))if(h.lastIndexOf(s[y].path,0)==0)return q(h.substring(s[y].path.length));g.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+h)},__registerModule:function(h,s,u){u=u||{};var w=this.Env.mods,y=w[h]||{};t(y,{name:h,status:x});y.fns=y.fns||[];y.fns.push(s);t(w[h]=y,u)},_packages:function(h){var s;s=this.__packages=this.__packages||{};for(var u=0;u<h.length;u++){var w=h[u];s[w.name]=w;if(w.path)w.path=r(w.path)}},_combine:function(h,s){var u=this,w;if(g.isObject(h))g.each(h,
function(y,A){g.each(y,function(B){u._combine(B,A)})});else{w=u.__combines=u.__combines||{};if(s)w[h]=s;else return w[h]||h}},__mixMods:function(h){var s=this.Env.mods,u=h.Env.mods,w;for(w in u)this.__mixMod(s,u,w,h)},__mixMod:function(h,s,u,w){var y=h[u]||{},A=y.status;g.mix(y,g.clone(s[u]));if(A)y.status=A;w&&this.__buildPath(y,w.Config.base);h[u]=y},use:function(h,s,u){h=h.replace(/\s+/g,v).split(",");b(h);u=u||{};var w=this,y,A,B=h.length,C;u.global&&w.__mixMods(u.global);if(w.__isAttached(h)){u=
w.__getModules(h);s&&s.apply(w,u)}else{for(A=0;A<B&&(y=h[A]);A++)w.__attachModByName(y,function(){if(!C&&w.__isAttached(h)){C=true;var D=w.__getModules(h);s&&s.apply(w,D)}},u);return w}},__getModules:function(h){var s=[this];h=h||[];for(var u=0;u<h.length;u++)s.push(this.require(h[u]));return s},require:function(h){h=this.Env.mods[e(h)];var s=this.onRequire&&this.onRequire(h);if(s!==undefined)return s;return h&&h.value},__getPackagePath:function(h){var s=this._combine(h.name),u=this.__packages||{},
w="",y;for(y in u)if(u.hasOwnProperty(y))if(s.lastIndexOf(y,0)==0)if(y.length>w)w=y;u=(s=u[w])&&s.path||this.Config.base;if(s&&s.charset)h.charset=s.charset;return u},__attachModByName:function(h,s,u){var w=this.Env.mods;/^([^?]+)(\?.*)?$/.test(h);h=RegExp.$1;var y=RegExp.$2,A=w[h];if(!A){A=this.Config.componentJsName||function(B,C){return B+"-min.js"+(C?C:"")};A={path:g.isFunction(A)?A(this._combine(h),y):A,charset:"utf-8"};w[h]=A}A.name=h;A&&A.status===p||this.__attach(A,s,u)},__attach:function(h,
s,u){function w(){if(!G&&y.__isAttached(h.requires)){h.status===x&&y.__attachMod(h);if(h.status===p){G=true;s()}}}var y=this,A=y.Env.mods,B=(h.requires||[]).concat(),C=0,D=B.length;for(h.requires=B;C<D;C++){B[C]=o(h.name,B[C]);var F=A[e(B[C])];F&&F.status===p||y.__attachModByName(B[C],w,u)}y.__buildPath(h,y.__getPackagePath(h));y.__load(h,function(){if(y.__currentModule){y.__registerModule(h.name,y.__currentModule.def,y.__currentModule.config);y.__currentModule=null}var E=h.requires||[],K=[];h.requires=
E;for(var J=E.length-1;J>=0;J--){E[J]=o(h.name,E[J]);var I=E[J],H=A[e(I)],N=g.inArray(I,B);H&&H.status===p||N||y.__attachModByName(I,w,u);if(!N&&(!H||H.status<x))K.push(I)}K.length!=0&&K.unshift(h.name);w()},u);var G=false},__attachMod:function(h){var s=this,u=h.fns;u&&g.each(u,function(w){w=g.isFunction(w)?w.apply(s,s.__getModules(h.requires)):w;h.value=h.value||w});h.status=p},__isAttached:function(h){for(var s=this.Env.mods,u,w=(h=g.makeArray(h)).length-1;w>=0;w--){u=e(h[w]);u=s[u]||{};if(u.status!==
p)return false}return true},__load:function(h,s,u){function w(){B[A]=x;if(h.status!==z){u.global&&y.__mixMod(y.Env.mods,u.global.Env.mods,h.name,u.global);if(h.status!==p)h.status=x;s()}}var y=this,A=h.fullpath,B=g.Env._loadQueue,C=B[A];h.status=h.status||0;if(h.status<1&&C)h.status=C.nodeName?1:x;if(h.status<1&&A){h.status=1;if(n){y.__startLoadModuleName=h.name;y.__startLoadTime=Number(+new Date)}C=y.getScript(A,{success:function(){w()},error:function(){h.status=z;B[A]=x},charset:h.charset});B[A]=
C}else h.status===1?d(C,w):s()},__buildPath:function(h,s){var u=this.Config;if(!h.fullpath&&h.path)h.fullpath=(s||u.base)+h.path;if(h.fullpath&&u.debug)h.fullpath=h.fullpath.replace(/-min/ig,v)},getScript:function(h,s,u){var w=/\.css(?:\?|$)/i.test(h),y=a.createElement(w?"link":"script"),A=s,B,C,D;if(g.isPlainObject(A)){s=A.success;B=A.error;C=A.timeout;u=A.charset}if(w){y.href=h;y.rel="stylesheet"}else{y.src=h;y.async=true}if(u)y.charset=u;if(w)g.isFunction(s)&&s.call(y);else d(y,function(){if(D){D.cancel();
D=c}g.isFunction(s)&&s.call(y)});if(g.isFunction(B))D=g.later(function(){D=c;B()},(C||this.Config.timeout)*1E3);l.insertBefore(y,l.firstChild);return y}};t(g,j);var f=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,k=/(seed|kissy)(-min)?\.js/i;g.__initLoader=function(){var h=a.getElementsByTagName("script");h=h[h.length-1];var s=h.src,u=h.getAttribute("data-combo-prefix")||"??";h=h.getAttribute("data-combo-sep")||",";h=s.split(h);var w=h[0];u=w.indexOf(u);if(u==-1)s=s.replace(f,"$1");else{s=w.substring(0,u);
u=w.substring(u+2,w.length);if(u.match(k))s+=u.replace(f,"$1");else for(u=1;u<h.length;u++){w=h[u];if(w.match(k)){s+=w.replace(f,"$1");break}}}if(!s.match(/^(http(s)?)|(file):/i)&&s.lastIndexOf("/",0)!=0)s=i+s;h=s;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=r(h);if(!this.Config.timeout)this.Config.timeout=10};g.__initLoader();g.each(j,function(h,s){g.__APP_MEMBERS.push(s)});g.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(g,c){function m(p){var t=typeof p;return p===null||t!=="object"&&t!=="function"}function o(p){return Array.prototype.slice.call(p)}var q=g.__HOST,r=q.document,e=r.documentElement,b=encodeURIComponent("[]"),j=false,n=[],a=false,l=/^#?([\w-]+)$/,v=/^(\w+)\[\]$/,x=/\S/;g.mix(g,{isWindow:function(p){return g.type(p)==="object"&&"setInterval"in p},makeArray:function(p){if(p===null||p===c)return[];if(g.isArray(p))return p;if(typeof p.length!=="number"||g.isString(p)||g.isFunction(p))return[p];
return o(p)},param:function(p,t){if(!g.isPlainObject(p))return"";t=t||"&";var d=[],i,f;for(i in p){f=p[i];i=encodeURIComponent(i);if(m(f))d.push(i,"=",encodeURIComponent(f+""),t);else if(g.isArray(f)&&f.length)for(var k=0,h=f.length;k<h;++k)m(f[k])&&d.push(i,b+"=",encodeURIComponent(f[k]+""),t)}d.pop();return d.join("")},unparam:function(p,t){if(typeof p!=="string"||(p=g.trim(p)).length===0)return{};for(var d={},i=p.split(t||"&"),f,k,h,s,u=0,w=i.length;u<w;++u){f=i[u].split("=");k=decodeURIComponent(f[0]);
try{h=decodeURIComponent(f[1]||"")}catch(y){h=f[1]||""}if((s=k.match(v))&&s[1]){d[s[1]]=d[s[1]]||[];d[s[1]].push(h)}else d[k]=h}return d},globalEval:function(p){if(p&&x.test(p)){var t=r.getElementsByTagName("head")[0]||e,d=r.createElement("script");d.text=p;t.insertBefore(d,t.firstChild);t.removeChild(d)}},later:function(p,t,d,i,f){t=t||0;i=i||{};var k=p,h=g.makeArray(f),s;if(g.isString(p))k=i[p];k||g.error("method undefined");p=function(){k.apply(i,h)};s=d?setInterval(p,t):setTimeout(p,t);return{id:s,
interval:d,cancel:function(){this.interval?clearInterval(s):clearTimeout(s)}}},ready:function(p){a||this._bindReady();j?p.call(q,this):n.push(p);return this},_bindReady:function(){var p=this,t=r.documentElement.doScroll,d=t?"onreadystatechange":"DOMContentLoaded",i=function(){p._fireReady()};a=true;if(r.readyState==="complete")return i();if(r.addEventListener){var f=function(){r.removeEventListener(d,f,false);i()};r.addEventListener(d,f,false);q.addEventListener("load",i,false)}else{var k=function(){if(r.readyState===
"complete"){r.detachEvent(d,k);i()}};r.attachEvent(d,k);q.attachEvent("onload",i);var h=false;try{h=q.frameElement==null}catch(s){}if(t&&h){var u=function(){try{t("left");i()}catch(w){setTimeout(u,1)}};u()}}},_fireReady:function(){if(!j){j=true;if(n){for(var p,t=0;p=n[t++];)p.call(q,this);n=null}}},available:function(p,t){if((p=(p+"").match(l)[1])&&g.isFunction(t))var d=1,i=g.later(function(){if(r.getElementById(p)&&(t()||1)||++d>500)i.cancel()},40,true)}});try{o(e.childNodes)}catch(z){o=function(p){for(var t=
[],d=p.length-1;d>=0;d--)t[d]=p[d];return t}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)g.Config.debug=true})(KISSY);(function(g){g.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var g=navigator.userAgent,c="",m="",o,q={},r=function(e){var b=0;return parseFloat(e.replace(/\./g,function(){return b++===0?".":""}))};if((o=g.match(/AppleWebKit\/([\d.]*)/))&&o[1]){q[c="webkit"]=r(o[1]);if((o=g.match(/Chrome\/([\d.]*)/))&&o[1])q[m="chrome"]=r(o[1]);else if((o=g.match(/\/([\d.]*) Safari/))&&o[1])q[m="safari"]=r(o[1]);if(/ Mobile\//.test(g))q.mobile="apple";else if(o=g.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))q.mobile=o[0].toLowerCase()}else if((o=
g.match(/Presto\/([\d.]*)/))&&o[1]){q[c="presto"]=r(o[1]);if((o=g.match(/Opera\/([\d.]*)/))&&o[1]){q[m="opera"]=r(o[1]);if((o=g.match(/Opera\/.* Version\/([\d.]*)/))&&o[1])q[m]=r(o[1]);if((o=g.match(/Opera Mini[^;]*/))&&o)q.mobile=o[0].toLowerCase();else if((o=g.match(/Opera Mobi[^;]*/))&&o)q.mobile=o[0]}}else if((o=g.match(/MSIE\s([^;]*)/))&&o[1]){q[c="trident"]=0.1;q[m="ie"]=r(o[1]);if((o=g.match(/Trident\/([\d.]*)/))&&o[1])q[c]=r(o[1])}else if(o=g.match(/Gecko/)){q[c="gecko"]=0.1;if((o=g.match(/rv:([\d.]*)/))&&
o[1])q[c]=r(o[1]);if((o=g.match(/Firefox\/([\d.]*)/))&&o[1])q[m="firefox"]=r(o[1])}q.core=c;q.shell=m;q._numberify=r;return q});
KISSY.add("ua/extra",function(g,c){var m=navigator.userAgent,o,q,r={},e=c._numberify;if(m.match(/360SE/))r[q="se360"]=3;else if(m.match(/Maxthon/)&&(o=window.external)){q="maxthon";try{r[q]=e(o.max_version)}catch(b){r[q]=0.1}}else if(o=m.match(/TencentTraveler\s([\d.]*)/))r[q="tt"]=o[1]?e(o[1]):0.1;else if(m.match(/TheWorld/))r[q="theworld"]=3;else if(o=m.match(/SE\s([\d.]*)/))r[q="sougou"]=o[1]?e(o[1]):0.1;q&&(r.shell=q);g.mix(c,r);return c},{requires:["ua/base"]});
KISSY.add("ua",function(g,c){return c},{requires:["ua/extra"]});KISSY.add("dom/base",function(g,c){function m(o,q){return o&&o.nodeType===q}return{_isElementNode:function(o){return m(o,1)},_isKSNode:function(o){var q=g.require("node/node");return q&&m(o,q.TYPE)},_getWin:function(o){return o&&"scrollTo"in o&&o.document?o:m(o,9)?o.defaultView||o.parentWindow:o===c?window:false},_nodeTypeIs:m}});
KISSY.add("dom/attr",function(g,c,m,o){var q=document.documentElement,r=!q.hasAttribute,e=q.textContent!==o?"textContent":"innerText",b=c._isElementNode,j=/^(?:href|src|style)/,n=/^(?:href|src|colspan|rowspan)/,a=/\r/g,l=/^(?:radio|checkbox)/,v={readonly:"readOnly"},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};r&&g.mix(v,{"for":"htmlFor","class":"className"});var z={tabindex:{getter:function(p){return p.tabIndex},setter:function(p,t){if(isNaN(parseInt(t))){p.removeAttribute("tabindex");
p.removeAttribute("tabIndex")}else p.tabIndex=t}},style:{getter:function(p){return p.style.cssText},setter:function(p,t){p.style.cssText=t}},checked:{setter:function(p,t){p.checked=!!t}},disabled:{setter:function(p,t){p.disabled=!!t}}};g.mix(c,{attr:function(p,t,d,i){if(g.isPlainObject(t)){i=d;for(var f in t)c.attr(p,f,t[f],i)}else if(t=g.trim(t)){t=t.toLowerCase();if(i&&x[t])return c[t](p,d);t=v[t]||t;var k=z[t];if(d===o){p=c.get(p);if(!b(p))return o;if(k&&k.getter)return k.getter(p);var h;j.test(t)||
(h=p[t]);if(h===o)h=p.getAttribute(t);if(r)if(n.test(t))h=p.getAttribute(t,2);return h===null?o:h}g.each(c.query(p),function(s){if(b(s))k&&k.setter?k.setter(s,d):s.setAttribute(t,""+d)})}},removeAttr:function(p,t){t=t.toLowerCase();g.each(c.query(p),function(d){if(b(d)){c.attr(d,t,"");d.removeAttribute(t)}})},hasAttr:r?function(p,t){t=t.toLowerCase();var d=c.get(p).getAttributeNode(t);return!!(d&&d.specified)}:function(p,t){t=t.toLowerCase();return c.get(p).hasAttribute(t)},val:function(p,t){if(t===
o){var d=c.get(p);if(!b(d))return o;if(d&&d.nodeName.toUpperCase()==="option".toUpperCase())return(d.attributes.value||{}).specified?d.value:d.text;if(d&&d.nodeName.toUpperCase()==="select".toUpperCase()){var i=d.selectedIndex,f=d.options;if(i<0)return null;else if(d.type==="select-one")return c.val(f[i]);d=[];for(var k=0,h=f.length;k<h;++k)f[k].selected&&d.push(c.val(f[k]));return d}if(m.webkit&&l.test(d.type))return d.getAttribute("value")===null?"on":d.value;return(d.value||"").replace(a,"")}g.each(c.query(p),
function(s){if(s&&s.nodeName.toUpperCase()==="select".toUpperCase()){if(g.isNumber(t))t+="";var u=g.makeArray(t),w=s.options,y;k=0;for(h=w.length;k<h;++k){y=w[k];y.selected=g.inArray(c.val(y),u)}if(!u.length)s.selectedIndex=-1}else if(b(s))s.value=t})},text:function(p,t){if(t===o){var d=c.get(p);if(b(d))return d[e]||"";else if(c._nodeTypeIs(d,3))return d.nodeValue}else g.each(c.query(p),function(i){if(b(i))i[e]=t;else if(c._nodeTypeIs(i,3))i.nodeValue=t})}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(g,c,m){function o(e,b,j,n){if(!(b=g.trim(b)))return n?false:m;e=c.query(e);var a=0,l=e.length;b=b.split(q);for(var v;a<l;a++){v=e[a];if(c._isElementNode(v)){v=j(v,b,b.length);if(v!==m)return v}}if(n)return false;return m}var q=/[\.\s]\s*\.?/,r=/[\n\t]/g;g.mix(c,{hasClass:function(e,b){return o(e,b,function(j,n,a){if(j=j.className){j=" "+j+" ";for(var l=0,v=true;l<a;l++)if(j.indexOf(" "+n[l]+" ")<0){v=false;break}if(v)return true}},true)},addClass:function(e,b){o(e,b,
function(j,n,a){var l=j.className;if(l){var v=" "+l+" ";l=l;for(var x=0;x<a;x++)if(v.indexOf(" "+n[x]+" ")<0)l+=" "+n[x];j.className=g.trim(l)}else j.className=b},m)},removeClass:function(e,b){o(e,b,function(j,n,a){var l=j.className;if(l)if(a){l=(" "+l+" ").replace(r," ");for(var v=0,x;v<a;v++)for(x=" "+n[v]+" ";l.indexOf(x)>=0;)l=l.replace(x," ");j.className=g.trim(l)}else j.className=""},m)},replaceClass:function(e,b,j){c.removeClass(e,b);c.addClass(e,j)},toggleClass:function(e,b,j){var n=g.isBoolean(j),
a;o(e,b,function(l,v,x){for(var z=0,p;z<x;z++){p=v[z];a=n?!j:c.hasClass(l,p);c[a?"removeClass":"addClass"](l,p)}},m)}});return c},{requires:["dom/base"]});
KISSY.add("dom/create",function(g,c,m,o){function q(u){var w=u.cloneNode(true);if(m.ie<8)w.innerHTML=u.innerHTML;return w}function r(u,w,y,A){if(y){var B=g.guid("ks-tmp-"),C=RegExp(z);w+='<span id="'+B+'"></span>';g.available(B,function(){var D=c.get("head"),F,G,E,K,J,I;for(C.lastIndex=0;F=C.exec(w);)if((E=(G=F[1])?G.match(t):false)&&E[2]){F=b.createElement("script");F.src=E[2];if((K=G.match(d))&&K[2])F.charset=K[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)g.globalEval(I);(J=b.getElementById(B))&&
c.remove(J);g.isFunction(A)&&A()});e(u,w)}else{e(u,w);g.isFunction(A)&&A()}}function e(u,w){w=(w+"").replace(z,"");try{u.innerHTML=w}catch(y){for(;u.firstChild;)u.removeChild(u.firstChild);w&&u.appendChild(c.create(w))}}var b=document,j=m.ie,n=c._nodeTypeIs,a=c._isElementNode,l=c._isKSNode,v=b.createElement("div"),x=/<(\w+)/,z=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,t=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;g.mix(c,{create:function(u,
w,y){if(n(u,1)||n(u,3))return q(u);if(l(u))return q(u[0]);if(!(u=g.trim(u)))return null;var A=null;A=c._creators;var B,C="div",D;if(B=p.exec(u))A=(y||b).createElement(B[1]);else{if((B=x.exec(u))&&(D=B[1])&&g.isFunction(A[D=D.toLowerCase()]))C=D;u=A[C](u,y).childNodes;if(u.length===1)y=u[0].parentNode.removeChild(u[0]);else{u=u;D=y||b;y=null;if(u&&(u.push||u.item)&&u[0]){D=D||u[0].ownerDocument;y=D.createDocumentFragment();if(u.item)u=g.makeArray(u);D=0;for(A=u.length;D<A;D++)y.appendChild(u[D])}y=
y}A=y}y=A;a(y)&&g.isPlainObject(w)&&c.attr(y,w,true);return y},_creators:{div:function(u,w){var y=w?w.createElement("div"):v;y.innerHTML=u;return y}},html:function(u,w,y,A){if(w===o){u=c.get(u);if(a(u))return u.innerHTML}else g.each(c.query(u),function(B){a(B)&&r(B,w,y,A)})},remove:function(u){g.each(c.query(u),function(w){a(w)&&w.parentNode&&w.parentNode.removeChild(w)})}});if(j||m.gecko||m.webkit){var i=c._creators,f=c.create,k=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,h={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},s;for(s in h)(function(u){i[s]=function(w,y){return f("<"+u+">"+w+"</"+u+">",null,y)}})(h[s]);if(j){i.script=function(u,w){var y=w?w.createElement("div"):v;y.innerHTML="-"+u;y.removeChild(y.firstChild);return y};if(j<8)i.tbody=function(u,w){var y=f("<table>"+u+"</table>",null,w),A=y.children.tags("tbody")[0];y.children.length>1&&A&&!k.test(u)&&A.parentNode.removeChild(A);return y}}g.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,
caption:i.tbody,colgroup:i.tbody})}return c},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(g,c,m){var o=window,q="_ks_data_"+g.now(),r={},e={},b={EMBED:1,OBJECT:1,APPLET:1};g.mix(c,{data:function(j,n,a){if(g.isPlainObject(n))for(var l in n)c.data(j,l,n[l]);else if(a===m){j=c.get(j);var v;if(!(!j||b[j.nodeName])){if(j==o)j=e;v=(l=j&&j.nodeType)?r:j;j=v[l?j[q]:q];if(g.isString(n)&&j)return j[n];return j}}else c.query(j).each(function(x){if(!(!x||b[x.nodeName])){if(x==o)x=e;var z=r,p;if(x&&x.nodeType){if(!(p=x[q]))p=x[q]=g.guid()}else{p=q;z=x}if(n&&a!==m){z[p]||
(z[p]={});z[p][n]=a}}})},removeData:function(j,n){c.query(j).each(function(a){if(a){if(a==o)a=e;var l,v=r,x,z=a&&a.nodeType;if(z)l=a[q];else{v=a;l=q}if(l){x=v[l];if(n){if(x){delete x[n];g.isEmptyObject(x)&&c.removeData(a)}}else{if(z)a.removeAttribute&&a.removeAttribute(q);else try{delete a[q]}catch(p){}z&&delete v[l]}}}})}});return c},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(g,c){g.mix(c,{insertBefore:function(m,o){if((m=c.get(m))&&(o=c.get(o))&&o.parentNode)o.parentNode.insertBefore(m,o);return m},insertAfter:function(m,o){if((m=c.get(m))&&(o=c.get(o))&&o.parentNode)o.nextSibling?o.parentNode.insertBefore(m,o.nextSibling):o.parentNode.appendChild(m);return m},append:function(m,o){if((m=c.get(m))&&(o=c.get(o)))o.appendChild&&o.appendChild(m)},prepend:function(m,o){if((m=c.get(m))&&(o=c.get(o)))o.firstChild?c.insertBefore(m,o.firstChild):
o.appendChild(m)}});return c},{requires:["dom/base"]});
KISSY.add("dom/offset",function(g,c,m,o){function q(f){var k=0,h=0,s=n(f[x]);if(f[i]){f=f[i]();k=f[z];h=f[p];if(m.mobile!=="apple"){k+=c[t](s);h+=c[d](s)}}return{left:k,top:h}}var r=window,e=document,b=c._isElementNode,j=c._nodeTypeIs,n=c._getWin,a=e.compatMode==="CSS1Compat",l=Math.max,v=parseInt,x="ownerDocument",z="left",p="top",t="scrollLeft",d="scrollTop",i="getBoundingClientRect";g.mix(c,{offset:function(f,k){if(!(f=c.get(f))||!f[x])return null;if(k===o)return q(f);var h=f;if(c.css(h,"position")===
"static")h.style.position="relative";var s=q(h),u={},w,y;for(y in k){w=v(c.css(h,y),10)||0;u[y]=w+k[y]-s[y]}c.css(h,u)},scrollIntoView:function(f,k,h,s){if((f=c.get(f))&&f[x]){s=s===o?true:!!s;h=h===o?true:!!h;if(!k||k===r)return f.scrollIntoView(h);k=c.get(k);if(j(k,9))k=n(k);var u=k&&"scrollTo"in k&&k.document,w=c.offset(f),y=u?{left:c.scrollLeft(k),top:c.scrollTop(k)}:c.offset(k),A={left:w[z]-y[z],top:w[p]-y[p]};w=u?c.viewportHeight(k):k.clientHeight;y=u?c.viewportWidth(k):k.clientWidth;var B=
c[t](k),C=c[d](k),D=B+y,F=C+w,G=f.offsetHeight;f=f.offsetWidth;var E=A.left+B-(v(c.css(k,"borderLeftWidth"))||0);A=A.top+C-(v(c.css(k,"borderTopWidth"))||0);var K=E+f,J=A+G,I,H;if(G>w||A<C||h)I=A;else if(J>F)I=J-w;if(s)if(f>y||E<B||h)H=E;else if(K>D)H=K-y;if(u){if(I!==o||H!==o)k.scrollTo(H,I)}else{if(I!==o)k[d]=I;if(H!==o)k[t]=H}}}});g.each(["Left","Top"],function(f,k){var h="scroll"+f;c[h]=function(s){var u=0,w=n(s),y;if(w&&(y=w.document))u=w[k?"pageYOffset":"pageXOffset"]||y.documentElement[h]||
y.body[h];else if(b(s=c.get(s)))u=s[h];return u}});g.each(["Width","Height"],function(f){c["doc"+f]=function(k){k=k||e;return l(a?k.documentElement["scroll"+f]:k.body["scroll"+f],c["viewport"+f](k))};c["viewport"+f]=function(k){var h="inner"+f;k=n(k);var s=k.document;return h in k?k[h]:a?s.documentElement["client"+f]:s.body["client"+f]}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(g,c,m,o){function q(d,i){var f=c.get(d),k=i===j?f.offsetWidth:f.offsetHeight;g.each(i===j?["Left","Right"]:["Top","Bottom"],function(h){k-=parseFloat(c._getComputedStyle(f,"padding"+h))||0;k-=parseFloat(c._getComputedStyle(f,"border"+h+"Width"))||0});return k}function r(d,i,f){var k=f;if(f===n&&l.test(i)){k=0;if(g.inArray(c.css(d,"position"),["absolute","fixed"])){f=d[i==="left"?"offsetLeft":"offsetTop"];if(m.ie===8||m.opera)f-=a(c.css(d.offsetParent,"border-"+i+"-width"))||
0;k=f-(a(c.css(d,"margin-"+i))||0)}}return k}var e=document,b=e.documentElement,j="width",n="auto",a=parseInt,l=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,x=/-([a-z])/ig,z=function(d,i){return i.toUpperCase()},p={},t={};g.mix(c,{_CUSTOM_STYLES:p,_getComputedStyle:function(d,i){var f="",k=d.ownerDocument;if(d.style)f=k.defaultView.getComputedStyle(d,null)[i];return f},css:function(d,i,f){if(g.isPlainObject(i))for(var k in i)c.css(d,k,i[k]);else{if(i.indexOf("-")>0)i=
i.replace(x,z);i=p[i]||i;if(f===o){d=c.get(d);k="";if(d&&d.style){k=i.get?i.get(d):d.style[i];if(k===""&&!i.get)k=r(d,i,c._getComputedStyle(d,i))}return k===o?"":k}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&v.test(i))f+="px";(i===j||i==="height")&&parseFloat(f)<0||g.each(c.query(d),function(h){if(h&&h.style){i.set?i.set(h,f):h.style[i]=f;if(f==="")h.style.cssText||h.removeAttribute("style")}})}}},width:function(d,i){if(i===o)return q(d,j);else c.css(d,j,i)},height:function(d,i){if(i===
o)return q(d,"height");else c.css(d,"height",i)},show:function(d){c.query(d).each(function(i){if(i){i.style.display=c.data(i,"display")||"";if(c.css(i,"display")==="none"){var f=i.tagName,k=t[f],h;if(!k){h=e.createElement(f);e.body.appendChild(h);k=c.css(h,"display");c.remove(h);t[f]=k}c.data(i,"display",k);i.style.display=k}}})},hide:function(d){c.query(d).each(function(i){if(i){var f=i.style,k=f.display;if(k!=="none"){k&&c.data(i,"display",k);f.display="none"}}})},toggle:function(d){c.query(d).each(function(i){if(i)i.style.display===
"none"?c.show(i):c.hide(i)})},addStyleSheet:function(d,i){var f;if(i&&(i=i.replace("#","")))f=c.get("#"+i);if(!f){f=c.create("<style>",{id:i});c.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=d;else f.appendChild(e.createTextNode(d))}},unselectable:function(d){c.query(d).each(function(i){if(i)if(m.gecko)i.style.MozUserSelect="none";else if(m.webkit)i.style.KhtmlUserSelect="none";else if(m.ie||m.opera){var f=0,k=i.getElementsByTagName("*");for(i.setAttribute("unselectable","on");i=
k[f++];)switch(i.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:i.setAttribute("unselectable","on")}}})}});if(b.style.cssFloat!==o)p["float"]="cssFloat";else if(b.style.styleFloat!==o)p["float"]="styleFloat";return c},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(g,c,m){function o(t,d){var i,f,k=[],h;f=g.require("sizzle");d=q(d);if(g.isString(t)){t=g.trim(t);if(z.test(t)){if(f=r(t.slice(1),d))k=[f]}else if(i=p.exec(t)){f=i[1];h=i[2];i=i[3];if(d=f?r(f,d):d)if(i)if(!f||t.indexOf(a)!==-1)k=b(i,h,d);else{if((f=r(f,d))&&c.hasClass(f,i))k=[f]}else if(h)k=e(h,d)}else if(f)k=f(t,d);else j(t)}else if(t&&(t[v]||t[x]))k=t[v]?[t[v]()]:t[x]();else if(t&&(g.isArray(t)||t&&!t.nodeType&&t.item&&!t.setTimeout))k=t;else if(t)k=[t];if(k&&!k.nodeType&&
k.item&&!k.setTimeout)k=g.makeArray(k);k.each=function(s,u){return g.each(k,s,u)};return k}function q(t){if(t===m)t=n;else if(g.isString(t)&&z.test(t))t=r(t.slice(1),n);else if(t&&t.nodeType!==1&&t.nodeType!==9)t=null;return t}function r(t,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(t)}function e(t,d){return d.getElementsByTagName(t)}function b(t,d,i){i=t=i.getElementsByClassName(t);var f=0,k=0,h=t.length,s;if(d&&d!==l){i=[];for(d=d.toUpperCase();f<h;++f){s=t[f];if(s.tagName===
d)i[k++]=s}}return i}function j(t){g.error("Unsupported selector: "+t)}var n=document,a=" ",l="*",v="getDOMNode",x=v+"s",z=/^#[\w-]+$/,p=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var t=n.createElement("div");t.appendChild(n.createComment(""));if(t.getElementsByTagName(l).length>0)e=function(d,i){var f=i.getElementsByTagName(d);if(d===l){for(var k=[],h=0,s=0,u;u=f[h++];)if(u.nodeType===1)k[s++]=u;f=k}return f}})();n.getElementsByClassName||(b=n.querySelectorAll?function(t,d,i){return i.querySelectorAll((d?
d:"")+"."+t)}:function(t,d,i){d=i.getElementsByTagName(d||l);i=[];var f=0,k=0,h=d.length,s,u;for(t=a+t+a;f<h;++f){s=d[f];if((u=s.className)&&(a+u+a).indexOf(t)>-1)i[k++]=s}return i});g.mix(c,{query:o,get:function(t,d){return o(t,d)[0]||null},filter:function(t,d,i){i=o(t,i);var f=g.require("sizzle"),k,h,s,u=[];if(g.isString(d)&&(k=p.exec(d))&&!k[1]){h=k[2];s=k[3];d=function(w){return!(h&&w.tagName!==h.toUpperCase()||s&&!c.hasClass(w,s))}}if(g.isFunction(d))u=g.filter(i,d);else if(d&&f)u=f._filter(t,
d+"");else j(d);return u},test:function(t,d,i){t=o(t,i);return t.length&&c.filter(t,d,i).length===t.length}});return c},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(g,c,m,o){if(!m.ie)return c;g=document;m=g.documentElement;var q=c._CUSTOM_STYLES,r=/^-?\d+(?:px)?$/i,e=/^-?\d/,b=/^(?:width|height)$/;try{if(m.style.opacity===o&&m.filters)q.opacity={get:function(n){var a=100;try{a=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(l){try{a=n.filters("alpha").opacity}catch(v){}}return a/100+""},set:function(n,a){var l=n.style,v=(n.currentStyle||0).filter||"";l.zoom=1;if(v)if(v=v.replace(/alpha\(opacity=.+\)/ig,""))v+=", ";
l.filter=v+"alpha(opacity="+a*100+")"}}}catch(j){}if(!(g.defaultView||{}).getComputedStyle&&m.currentStyle)c._getComputedStyle=function(n,a){var l=n.style,v=n.currentStyle[a];if(b.test(a))v=c[a](n)+"px";else if(!r.test(v)&&e.test(v)){var x=l.left,z=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;l.left=a==="fontSize"?"1em":v||0;v=l.pixelLeft+"px";l.left=x;n.runtimeStyle.left=z}return v};return c},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(g,c,m){function o(e,b,j,n){if(!(e=c.get(e)))return null;if(b===m)b=1;var a=null,l,v;if(g.isNumber(b)&&b>=0){if(b===0)return e;l=0;v=b;b=function(){return++l===v}}for(;e=e[j];)if(r(e)&&(!b||c.test(e,b))&&(!n||n(e))){a=e;break}return a}function q(e,b,j){var n=[];var a=e=c.get(e);if(e&&j)a=e.parentNode;if(a){j=0;for(a=a.firstChild;a;a=a.nextSibling)if(r(a)&&a!==e&&(!b||c.test(a,b)))n[j++]=a}return n}var r=c._isElementNode;g.mix(c,{parent:function(e,b){return o(e,b,
"parentNode",function(j){return j.nodeType!=11})},next:function(e,b){return o(e,b,"nextSibling",m)},prev:function(e,b){return o(e,b,"previousSibling",m)},siblings:function(e,b){return q(e,b,true)},children:function(e,b){return q(e,b,m)},contains:function(e,b){var j=false;if((e=c.get(e))&&(b=c.get(b)))if(e.contains){if(b.nodeType===3){b=b.parentNode;if(b===e)return true}if(b)return e.contains(b)}else if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(b)&16);else for(;!j&&(b=b.parentNode);)j=
b==e;return j}});return c},{requires:["dom/base"]});KISSY.add("dom",function(g,c){return c},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(g,c){function m(r,e,b){this.currentTarget=r;this.originalEvent=e||{};if(e){this.type=e.type;this._fix()}else{this.type=b;this.target=r}this.currentTarget=r;this.fixed=true}var o=document,q="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");g.augment(m,
{_fix:function(){var r=this.originalEvent,e=q.length,b,j=this.currentTarget;for(j=j.nodeType===9?j:j.ownerDocument||o;e;){b=q[--e];this[b]=r[b]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===c&&this.clientX!==c){r=j.documentElement;e=j.body;this.pageX=this.clientX+(r&&r.scrollLeft||e&&e.scrollLeft||
0)-(r&&r.clientLeft||e&&e.clientLeft||0);this.pageY=this.clientY+(r&&r.scrollTop||e&&e.scrollTop||0)-(r&&r.clientTop||e&&e.clientTop||0)}if(this.which===c)this.which=this.charCode!==c?this.charCode:this.keyCode;if(this.metaKey===c)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==c)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var r=this.originalEvent;if(r.preventDefault)r.preventDefault();else r.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var r=
this.originalEvent;if(r.stopPropagation)r.stopPropagation();else r.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var r=this.originalEvent;r.stopImmediatePropagation?r.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(r){r?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return m});
KISSY.add("event/base",function(g,c,m,o){function q(p,t,d,i,f){if(g.isString(t))t=c.query(t);if(g.isArray(t)){g.each(t,function(k){z[p](k,d,i,f)});return true}if((d=g.trim(d))&&d.indexOf(l)>0){g.each(d.split(l),function(k){z[p](t,k,i,f)});return true}return o}function r(p){return p&&p.nodeType!==3&&p.nodeType!==8?c.data(p,a):-1}function e(p,t){p&&p.nodeType!==3&&p.nodeType!==8&&c.data(p,a,t)}var b=document,j=b.addEventListener?function(p,t,d,i){p.addEventListener&&p.addEventListener(t,d,!!i)}:function(p,
t,d){p.attachEvent&&p.attachEvent("on"+t,d)},n=b.removeEventListener?function(p,t,d,i){p.removeEventListener&&p.removeEventListener(t,d,!!i)}:function(p,t,d){p.detachEvent&&p.detachEvent("on"+t,d)},a="ksEventTargetId",l=" ",v=g.now(),x={},z={EVENT_GUID:a,special:{},add:function(p,t,d,i){if(!q("add",p,t,d,i)){var f=r(p),k,h,s,u,w;if(!(f===-1||!t||!g.isFunction(d))){if(!f){e(p,f=v++);x[f]={target:p,events:{}}}h=x[f].events;if(!h[t]){k=((f=!p.isCustomEventTarget)||p._supportSpecialEvent)&&z.special[t]||
{};s=function(y,A){if(!y||!y.fixed)y=new m(p,y,t);if(g.isPlainObject(A)){var B=y.type;g.mix(y,A);y.type=B}k.setup&&k.setup(y);return(k.handle||z._handle)(p,y)};h[t]={handle:s,listeners:[]};u=k.fix||t;w=k.capture;k.init&&k.init.apply(null,g.makeArray(arguments));f&&k.fix!==false&&j(p,u,s,w)}h[t].listeners.push({fn:d,scope:i||p})}}},__getListeners:function(p,t){var d,i=[];if(d=(z.__getEvents(p)||{})[t])i=d.listeners;return i},__getEvents:function(p){var t=r(p),d;if(t!==-1)if(t&&(d=x[t]))if(d.target===
p)return d.events||{}},remove:function(p,t,d,i){if(!q("remove",p,t,d,i)){var f=z.__getEvents(p),k=r(p),h,s,u,w,y,A,B=(!p.isCustomEventTarget||p._supportSpecialEvent)&&z.special[t]||{};if(f!==o){i=i||p;if(h=f[t]){s=h.listeners;u=s.length;if(g.isFunction(d)&&u){y=w=0;for(A=[];w<u;++w)if(d!==s[w].fn||i!==s[w].scope)A[y++]=s[w];h.listeners=A;u=A.length}if(d===o||u===0){if(!p.isCustomEventTarget){B=z.special[t]||{};if(B.fix!==false)n(p,B.fix||t,h.handle)}delete f[t]}}B.destroy&&B.destroy.apply(null,g.makeArray(arguments));
if(t===o||g.isEmptyObject(f)){for(t in f)z.remove(p,t);delete x[k];c.removeData(p,a)}}}},_handle:function(p,t){var d=z.__getListeners(p,t.type);d=d.slice(0);for(var i,f=0,k=d.length;f<k;++f){i=d[f];i=i.fn.call(i.scope,t);if(i!==o){t.result=i;i===false&&t.halt()}if(t.isImmediatePropagationStopped)break}return i},_getCache:function(p){return x[p]},__getID:r,_simpleAdd:j,_simpleRemove:n};z.on=z.add;return z},{requires:["dom","event/object"]});
KISSY.add("event/target",function(g,c,m,o){return{isCustomEventTarget:true,fire:function(q,r){var e=m.data(this,c.EVENT_GUID)||-1;if((e=((c._getCache(e)||{}).events||{})[q])&&g.isFunction(e.handle))return e.handle(o,r)},on:function(q,r,e){c.add(this,q,r,e);return this},detach:function(q,r,e){c.remove(this,q,r,e);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(g,c){document.addEventListener&&g.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(m){c.special[m.name]={fix:m.fix,capture:true,setup:function(o){o.type=m.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(g,c,m,o){o.ie||g.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){c.special[q.name]={fix:q.fix,setup:function(r){r.type=q.name},handle:function(r,e){if(m._isKSNode(r))r=r[0];var b=e.relatedTarget;try{for(;b&&b!==r;)b=b.parentNode;b!==r&&c._handle(r,e)}catch(j){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(g,c,m){c.Target=m;return c},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(g,c,m){function o(q,r,e){if(!(this instanceof o))return new o(q,r,e);if(!q){this.length=0;return m}if(g.isString(q)){q=c.create(q,r,e);if(q.nodeType===11)return new (g.require("node/nodelist"))(q.childNodes)}else if(q instanceof o)return q;else q=q;this[0]=q;return m}o.TYPE="-ks-Node";g.augment(o,{length:1,getDOMNode:function(){return this[0]},nodeType:o.TYPE});o.one=function(q,r){var e=c.get(q,r);return e?new o(e,m,m):null};return o},{requires:["dom"]});
KISSY.add("node/nodelist",function(g,c,m,o){function q(b){if(!(this instanceof q))return new q(b);r.push.apply(this,g.makeArray(b)||[]);return o}var r=Array.prototype,e=c._isElementNode;g.mix(q.prototype,{length:0,item:function(b){var j=null,n,a;if(e(b)){n=0;for(a=this.length;n<a;n++)if(b===this[n]){b=n;break}}if(e(this[b]))j=new m(this[b]);return j},getDOMNodes:function(){return r.slice.call(this)},each:function(b,j){var n=this.length,a=0,l;for(l=new m(this[0]);a<n&&b.call(j||l,l,a,this)!==false;l=
new m(this[++a]));return this}});q.all=function(b,j){return new q(c.query(b,j,true))};return q},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(g,c,m,o,q,r){function e(h,s,u,w){h=[this[h?d:t]()].concat(g.makeArray(s));if(s[u]===r&&(u!=1||g.isString(s[0])))return w.apply(c,h);w.apply(c,h);return this}function b(h,s){g.each(h,function(u){g.each([z,p],function(w,y){w[u]=function(A){switch(s){case i:return function(){return e.call(this,y,arguments,1,A)};case f:return function(){return e.call(this,y,arguments,0,A)};case k:return function(){var B=this[y?d:t]();return(B=A.apply(c,[B].concat(g.makeArray(arguments))))?
new (g.isArray(B)?q:o)(B):null};default:return function(){var B=this[y?d:t]();B=A.apply(c,[B].concat(g.makeArray(arguments)));return B===r?this:B}}}(c[u])})})}function j(h,s,u){h&&g.each(this,function(w){var y;if(s||g.isString(h))y=c.create(h);else{if(l(h,1)||l(h,3))y=h;if(v(h))y=h[0]}c[u](y,w)});return this}function n(h,s){if((h=c.get(h))&&h.appendChild)g.each(this,function(u){c[s](u,h)});return this}function a(h,s){h.__wrap=h.__wrap||[];h.__wrap.push(s)}var l=c._nodeTypeIs,v=c._isKSNode,x=g.require("event/target"),
z=o.prototype,p=q.prototype,t="getDOMNode",d=t+"s",i=1,f=2,k=4;g.mix(z,{one:function(h){return o.one(h,this[0])},all:function(h){return q.all(h,this[0])}});b(["data","removeData"],i);b(["hasClass","addClass","removeClass","replaceClass","toggleClass"],r);b(["attr","removeAttr"],i);b(["val","text"],f);b(["css"],i);b(["width","height"],f);b(["offset"],f);b(["scrollIntoView"],r);b(["parent","next","prev","siblings","children"],k);b(["contains"],r);b(["html","unselectable"],f);b(["remove"],r);g.each(["insertBefore",
"insertAfter"],function(h){z[h]=function(s){c[h].call(c,this[0],s);return this}});g.each([z,p],function(h,s){g.each(["append","prepend"],function(u){h[u]=function(w){return j.call(this,w,s,u)};h[u+"To"]=function(w){return n.call(this,w,u)}})});g.augment(o,x,{fire:null,on:function(h,s,u){function w(A){var B=g.makeArray(arguments);B.shift();A.target=new o(A.target);if(A.relatedTarget)A.relatedTarget=new o(A.relatedTarget);B.unshift(A);return s.apply(u||y,B)}var y=this;m.add(this[0],h,w,u);a(s,w);return this},
detach:function(h,s,u){if(g.isFunction(s)){s=s.__wrap||[];for(var w=0;w<s.length;w++)m.remove(this[0],h,s[w],u)}else m.remove(this[0],h,s,u);return this}});g.augment(q,x,{fire:null});z._supportSpecialEvent=true;g.each({on:"add",detach:"remove"},function(h,s){p[s]=function(u,w,y){for(var A=0;A<this.length;A++)this.item(A).on(u,w,y)}})},{requires:["dom","event","node/node","node/nodelist"]});KISSY.add("node",function(g,c,m){c.List=m;return c},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function g(l){return l<10?"0"+l:l}function c(l){e.lastIndex=0;return e.test(l)?'"'+l.replace(e,function(v){var x=n[v];return typeof x==="string"?x:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'}function m(l,v){var x,z,p,t,d=b,i,f=v[l];if(f&&typeof f==="object"&&typeof f.toJSON==="function")f=f.toJSON(l);if(typeof a==="function")f=a.call(v,l,f);switch(typeof f){case "string":return c(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);
case "object":if(!f)return"null";b+=j;i=[];if(Object.prototype.toString.apply(f)==="[object Array]"){t=f.length;for(x=0;x<t;x+=1)i[x]=m(x,f)||"null";p=i.length===0?"[]":b?"[\n"+b+i.join(",\n"+b)+"\n"+d+"]":"["+i.join(",")+"]";b=d;return p}if(a&&typeof a==="object"){t=a.length;for(x=0;x<t;x+=1){z=a[x];if(typeof z==="string")if(p=m(z,f))i.push(c(z)+(b?": ":":")+p)}}else for(z in f)if(Object.hasOwnProperty.call(f,z))if(p=m(z,f))i.push(c(z)+(b?": ":":")+p);p=i.length===0?"{}":b?"{\n"+b+i.join(",\n"+b)+
"\n"+d+"}":"{"+i.join(",")+"}";b=d;return p}}var o=window,q=o.JSON;if(!q)q=o.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+g(this.getUTCMonth()+1)+"-"+g(this.getUTCDate())+"T"+g(this.getUTCHours())+":"+g(this.getUTCMinutes())+":"+g(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,j,n={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;if(typeof q.stringify!=="function")q.stringify=function(l,v,x){var z;j=b="";if(typeof x==="number")for(z=0;z<x;z+=1)j+=" ";else if(typeof x==="string")j=x;if((a=v)&&typeof v!=="function"&&(typeof v!=="object"||typeof v.length!=="number"))throw Error("JSON.stringify");return m("",{"":l})};if(typeof q.parse!==
"function")q.parse=function(l,v){function x(p,t){var d,i,f=p[t];if(f&&typeof f==="object")for(d in f)if(Object.hasOwnProperty.call(f,d)){i=x(f,d);if(i!==undefined)f[d]=i;else delete f[d]}return v.call(p,t,f)}var z;l=String(l);r.lastIndex=0;if(r.test(l))l=l.replace(r,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(l.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){z=eval("("+l+")");return typeof v==="function"?x({"":z},""):z}throw new SyntaxError("JSON.parse");};return q});KISSY.add("json",function(g,c){return{parse:function(m){if(m==null||m==="")return null;return c.parse(m)},stringify:c.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(g,c,m,o){function q(y){y=g.merge(w,y);if(!y.url)return o;if(y.data&&!g.isString(y.data))y.data=g.param(y.data);y.context=y.context||y;var A,B=f,C,D=y.type.toUpperCase();if(y.dataType===x){A=y.jsonpCallback||x+g.now();y.url=y.url+(y.url.indexOf("?")===-1?"?":"&")+(y.jsonp+"="+A);y.dataType=z;var F=b[A];b[A]=function(I){if(g.isFunction(F))F(I);else{b[A]=o;try{delete b[A]}catch(H){}}r([f,k],I,B,E,y)}}if(y.data&&D===n)y.url=y.url+(y.url.indexOf("?")===-1?"?":"&")+y.data;
if(y.dataType===z){e(t,y);D=g.getScript(y.url,A?null:function(){r([f,k],p,B,E,y)});e(d,y);return D}var G=false,E=y.xhr();e(t,y);E.open(D,y.url,y.async);try{if(y.data||y.contentType)E.setRequestHeader(l,y.contentType);E.setRequestHeader("Accept",y.dataType&&y.accepts[y.dataType]?y.accepts[y.dataType]+", */*; q=0.01":y.accepts._default)}catch(K){}E.onreadystatechange=function(I){if(!E||E.readyState===0||I==="abort"){G||r(k,null,h,E,y);G=true;if(E)E.onreadystatechange=j}else if(!G&&E&&(E.readyState===
4||I===s)){G=true;E.onreadystatechange=j;var H;if(I===s)H=s;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(N){}H=false}H=H?f:h}B=H;try{H=E;var M=y.dataType,O=p,P,L=H;if(!g.isString(L)){O=H.getResponseHeader(l)||p;L=(P=M==="xml"||!M&&O.indexOf("xml")>=0)?H.responseXML:H.responseText;if(P&&L.documentElement.nodeName===u)throw u;}if(g.isString(L))if(M===v||!M&&O.indexOf(v)>=0)L=m.parse(L);C=L}catch(Q){B=u}r([B===f?f:h,k],C,B,E,y);if(I===s){E.abort();e(i,y)}if(y.async)E=
null}};e(d,y);try{E.send(D===a?y.data:null)}catch(J){r([h,k],C,h,E,y)}y.async||e(k,y);return E}function r(y,A,B,C,D){if(g.isArray(y))g.each(y,function(F){r(F,A,B,C,D)});else{B===y&&D[y]&&D[y].call(D.context,A,B,C);e(y,D)}}function e(y,A){q.fire(y,{ajaxConfig:A})}var b=window,j=function(){},n="GET",a="POST",l="Content-Type",v="json",x=v+"p",z="script",p="",t="start",d="send",i="stop",f="success",k="complete",h="error",s="timeout",u="parsererror",w={type:n,url:p,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:b.ActiveXObject?function(){if(b.XmlHttpRequest)try{return new b.XMLHttpRequest}catch(y){}try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(A){}}:function(){return new b.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};g.mix(q,c.Target);g.mix(q,{get:function(y,A,B,C,D){if(g.isFunction(A)){C=B;B=A}return q({type:D||
n,url:y,data:A,success:function(F,G,E){B&&B.call(this,F,G,E)},dataType:C})},post:function(y,A,B,C){if(g.isFunction(A)){C=B;B=A;A=o}return q.get(y,A,B,C,a)},jsonp:function(y,A,B){if(g.isFunction(A)){B=A;A=null}return q.get(y,A,B,x)}});return q},{requires:["event","json"]});KISSY.add("ajax",function(g,c){return c},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var g=Math,c=g.PI,m=g.pow,o=g.sin,q=1.70158,r={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(m(2,10*(e-=1))*o((e-0.075)*2*c/0.3))},elasticOut:function(e){if(e===
0||e===1)return e;return m(2,-10*e)*o((e-0.075)*2*c/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*m(2,10*(e-=1))*o((e-0.1125)*2*c/0.45);return m(2,-10*(e-=1))*o((e-0.1125)*2*c/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((q+1)*e-q)},backOut:function(e){return(e-=1)*e*((q+1)*e+q)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((q*=1.525)+1)*e-q);return 0.5*((e-=2)*e*(((q*=1.525)+1)*e+q)+2)},bounceIn:function(e){return 1-r.bounceOut(1-e)},bounceOut:function(e){return e<
1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return r.bounceIn(e*2)*0.5;return r.bounceOut(e*2-1)*0.5+0.5}};r.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return r});
KISSY.add("anim/base",function(g,c,m,o,q,r){function e(i,f,k,h,s,u){if(!(i=c.get(i)))return r;if(!(this instanceof e))return new e(i,f,k,h,s,u);var w=g.isPlainObject(k);f=f;this.domEl=i;if(g.isPlainObject(f))f=String(g.param(f,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var y={},A=z.length,B;x.innerHTML='<div style="'+f+'"></div>';for(i=x.firstChild.style;A--;)if(B=i[z[A]])y[z[A]]=n(B);this.props=y;this.targetStyle=f;if(w)w=g.merge(d,k);else{w=g.clone(d);
if(k)w.duration=v(k)||1;if(g.isString(h)||g.isFunction(h))w.easing=h;if(g.isFunction(s))w.complete=s;if(u!==r)w.nativeSupport=u}this.config=w;if(w.nativeSupport&&b()&&g.isString(h=w.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(h)||(h=o.NativeTimeFunction[h])){w.easing=h;this.transitionName=b()}g.isFunction(s)&&this.on(t,s);return r}function b(){var i="transition",f;if(x.style[i]!==r)f=i;else g.each(["Webkit","Moz","O"],function(k){if(x.style[i=k+"Transition"]!==r){f=i;return false}});b=function(){return f};
return f}function j(i,f,k){q.ie&&k.indexOf(p)>-1&&c.css(i,p,f[p].v);i.style.cssText+=";"+k}function n(i){var f=v(i);i=(i+"").replace(/^[-\d.]+/,"");return isNaN(f)?{v:i,u:"",f:l}:{v:f,u:i,f:a}}function a(i,f,k){return(i+(f-i)*k).toFixed(3)}function l(i,f,k){for(var h=2,s,u,w=[],y=[];s=3,u=arguments[h-1],h--;)if(u.substr(0,4)==="rgb(")for(u=u.match(/\d+/g);s--;)w.push(~~u[s]);else if(u.substr(0,r||1)==="#"){if(u.length===4)u="#"+u.substr(1,r||1)+u.substr(1,r||1)+u.substr(2,r||1)+u.substr(2,r||1)+u.substr(3,
r||1)+u.substr(3,r||1);for(;s--;)w.push(parseInt(u.substr(1+s*2,2),16))}else return f;for(;s--;){h=~~(w[s+3]+(w[s]-w[s+3])*k);y.push(h<0?0:h>255?255:h)}return"rgb("+y.join(",")+")"}var v=parseFloat;m=g.require("event/target");var x=c.create("<div>"),z="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
p="opacity",t="complete",d={duration:1,easing:"easeNone",nativeSupport:true};g.augment(e,m,{run:function(){var i=this,f=i.config,k=i.domEl,h,s,u,w,y=i.props,A={},B;for(B in y)A[B]=n(c.css(k,B));if(i.fire("start")!==false){i.stop();if(i.transitionName)i._nativeRun();else{h=f.duration*1E3;u=g.now();w=u+h;s=f.easing;if(g.isString(s))s=o[s]||o.easeNone;i.timer=g.later(f=function(){var C=g.now(),D=C>w?1:(C-u)/h,F,G,E;for(B in y){F=A[B];G=y[B];if(G.v==0)G.u=F.u;if(F.u!==G.u)F.v=0;c.css(k,B,G.f(F.v,G.v,
s(D))+G.u)}if(i.fire("step")===false||(E=C>w)){i.stop();E&&i.fire(t)}},13,true);f()}return i}},_nativeRun:function(){var i=this,f=i.config,k=i.domEl,h=i.props,s=f.duration*1E3;f=f.easing;var u=i.transitionName,w={};w[u+"Property"]="all";w[u+"Duration"]=s+"ms";w[u+"TimingFunction"]=f;c.css(k,w);g.later(function(){j(k,h,i.targetStyle)},0);g.later(function(){i.stop(true)},s)},stop:function(i){if(this.transitionName)this._nativeStop(i);else{if(this.timer){this.timer.cancel();this.timer=r}if(i){j(this.domEl,
this.props,this.targetStyle);this.fire(t)}}return this},_nativeStop:function(i){var f=this.domEl,k=this.transitionName,h=this.props,s;if(i){c.css(f,k+"Property","none");this.fire(t)}else{for(s in h)c.css(f,s,c._getComputedStyle(f,s));c.css(f,k+"Property","none")}}});e.supportTransition=function(){return!!b()};return e},{requires:["dom","event","anim/easing","ua"]});
KISSY.add("anim/node-plugin",function(g,c,m,o,q){function r(p,t,d,i,f){if(t==="toggle"){f=c.css(p,b)===j?1:0;t="show"}if(f)c.css(p,b,c.data(p,b)||"");var k={},h={};g.each(z[t],function(s){if(s===n){k[n]=c.css(p,n);c.css(p,n,a)}else if(s===l){k[l]=c.css(p,l);h.opacity=f?1:0;f&&c.css(p,l,0)}else if(s===v){k[v]=c.css(p,v);h.height=f?c.css(p,v)||p.naturalHeight:0;f&&c.css(p,v,0)}else if(s===x){k[x]=c.css(p,x);h.width=f?c.css(p,x)||p.naturalWidth:0;f&&c.css(p,x,0)}});(new m(p,h,d,"easeOut",function(){if(!f){var s=
p.style,u=s[b];if(u!==j){u&&c.data(p,b,u);s[b]=j}k[v]&&c.css(p,{height:k[v]});k[x]&&c.css(p,{height:k[x]});k[l]&&c.css(p,{height:k[l]});k[n]&&c.css(p,{height:k[n]})}i&&g.isFunction(i)&&i()})).run()}o=g.require("node/node").prototype;var e=g.require("node/nodelist").prototype,b="display",j="none",n="overflow",a="hidden",l="opacity",v="height",x="width",z={show:[n,l,v,x],fade:[l],slide:[n,v]};g.each([o,e],function(p){p.animate=function(){var t=g.makeArray(arguments);g.each(this,function(d){m.apply(q,
[d].concat(t)).run()});return this};g.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(t,d){p[d]=function(i,f){c[d]&&arguments.length===0?c[d](this):g.each(this,function(k){r(k,t[0],i,f,t[1])});return this}})})},{requires:["dom","anim/base","node"]});KISSY.add("anim",function(g,c,m){c.Easing=m;return c},{requires:["anim/base","anim/easing","anim/node-plugin"]});
KISSY.add("base/attribute",function(g,c){function m(){this.__attrs={};this.__attrVals={}}function o(q){q+="";return q.charAt(0).toUpperCase()+q.substring(1)}g.augment(m,{__getDefAttrs:function(){return g.clone(this.__attrs)},addAttr:function(q,r){this.__attrs[q]=g.clone(r||{});return this},hasAttr:function(q){return q&&this.__attrs.hasOwnProperty(q)},removeAttr:function(q){if(this.hasAttr(q)){delete this.__attrs[q];delete this.__attrVals[q]}return this},set:function(q,r){var e=this.get(q);if(e!==
r)if(false!==this.__fireAttrChange("before",q,e,r)){this.__set(q,r);this.__fireAttrChange("after",q,e,this.__attrVals[q]);return this}},__fireAttrChange:function(q,r,e,b){return this.fire(q+o(r)+"Change",{attrName:r,prevVal:e,newVal:b})},__set:function(q,r){var e,b=this.__attrs[q];if(b=b&&b.setter)e=b.call(this,r);if(e!==c)r=e;this.__attrVals[q]=r},get:function(q){var r;r=(r=this.__attrs[q])&&r.getter;q=q in this.__attrVals?this.__attrVals[q]:this.__getDefAttrVal(q);if(r)q=r.call(this,q);return q},
__getDefAttrVal:function(q){q=this.__attrs[q];var r;if(q){if(r=q.valueFn){r=r.call(this);if(r!==c)q.value=r;delete q.valueFn}return q.value}},reset:function(q){if(this.hasAttr(q))return this.set(q,this.__getDefAttrVal(q));for(q in this.__attrs)this.hasAttr(q)&&this.reset(q);return this}});m.__capitalFirst=o;return m});
KISSY.add("base/base",function(g,c){function m(o){c.call(this);for(var q=this.constructor;q;){var r=q.ATTRS;if(r){var e=void 0;for(e in r)r.hasOwnProperty(e)&&!this.hasAttr(e)&&this.addAttr(e,r[e])}q=q.superclass?q.superclass.constructor:null}if(o)for(var b in o)o.hasOwnProperty(b)&&this.__set(b,o[b])}g.augment(m,g.require("event/target"),c);return m},{requires:["base/attribute","event"]});KISSY.add("base",function(g,c){return c},{requires:["base/base"]});
KISSY.add("cookie/base",function(g){function c(r){return g.isString(r)&&r!==""}var m=document,o=encodeURIComponent,q=decodeURIComponent;return{get:function(r){var e;if(c(r))if(r=String(m.cookie).match(RegExp("(?:^| )"+r+"(?:(?:=([^;]*))|;|$)")))e=r[1]?q(r[1]):"";return e},set:function(r,e,b,j,n,a){e=String(o(e));var l=b;if(typeof l==="number"){l=new Date;l.setTime(l.getTime()+b*864E5)}if(l instanceof Date)e+="; expires="+l.toUTCString();if(c(j))e+="; domain="+j;if(c(n))e+="; path="+n;if(a)e+="; secure";
m.cookie=r+"="+e},remove:function(r,e,b,j){this.set(r,"",0,e,b,j)}}});KISSY.add("cookie",function(g,c){return c},{requires:["cookie/base"]});KISSY.add("core",function(g,c,m,o,q,r,e,b,j,n){c={UA:c,DOM:m,Event:o,EventTarget:o.Target,Node:q,JSON:r,Ajax:e,IO:e,ajax:e,io:e,jsonp:e.jsonp,Anim:b,Easing:b.Easing,Base:j,Cookie:n,one:q.one,all:q.List.all,get:m.get,query:m.query};g.mix(g,c);return c},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
KISSY.add("sizzle/impl",function(g){function c(d,i,f,k,h,s){h=0;for(var u=k.length;h<u;h++){var w=k[h];if(w){w=w[d];for(var y=false;w;){if(w.sizcache===f){y=k[w.sizset];break}if(w.nodeType===1&&!s){w.sizcache=f;w.sizset=h}if(w.nodeName.toLowerCase()===i){y=w;break}w=w[d]}k[h]=y}}}function m(d,i,f,k,h,s){h=0;for(var u=k.length;h<u;h++){var w=k[h];if(w){w=w[d];for(var y=false;w;){if(w.sizcache===f){y=k[w.sizset];break}if(w.nodeType===1){if(!s){w.sizcache=f;w.sizset=h}if(typeof i!=="string"){if(w===
i){y=true;break}}else if(j.filter(i,[w]).length>0){y=w;break}}w=w[d]}k[h]=y}}}var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,q=0,r=Object.prototype.toString,e=false,b=true;[0,0].sort(function(){b=false;return 0});var j=function(d,i,f,k){f=f||[];var h=i=i||document;if(i.nodeType!==1&&i.nodeType!==9)return[];if(!d||typeof d!=="string")return f;var s=[],u,w,y,A,B=true,C=j.isXML(i),D=d,F;do{o.exec("");if(u=o.exec(D)){D=
u[3];s.push(u[1]);if(u[2]){A=u[3];break}}}while(u);if(s.length>1&&a.exec(d))if(s.length===2&&n.relative[s[0]])w=t(s[0]+s[1],i);else for(w=n.relative[s[0]]?[i]:j(s.shift(),i);s.length;){d=s.shift();if(n.relative[d])d+=s.shift();w=t(d,w)}else{if(!k&&s.length>1&&i.nodeType===9&&!C&&n.match.ID.test(s[0])&&!n.match.ID.test(s[s.length-1])){u=j.find(s.shift(),i,C);i=u.expr?j.filter(u.expr,u.set)[0]:u.set[0]}if(i){u=k?{expr:s.pop(),set:x(k)}:j.find(s.pop(),s.length===1&&(s[0]==="~"||s[0]==="+")&&i.parentNode?
i.parentNode:i,C);w=u.expr?j.filter(u.expr,u.set):u.set;if(s.length>0)y=x(w);else B=false;for(;s.length;){u=F=s.pop();if(n.relative[F])u=s.pop();else F="";if(u==null)u=i;n.relative[F](y,u,C)}}else y=[]}y||(y=w);y||j.error(F||d);if(r.call(y)==="[object Array]")if(B)if(i&&i.nodeType===1)for(d=0;y[d]!=null;d++){if(y[d]&&(y[d]===true||y[d].nodeType===1&&j.contains(i,y[d])))f.push(w[d])}else for(d=0;y[d]!=null;d++)y[d]&&y[d].nodeType===1&&f.push(w[d]);else f.push.apply(f,y);else x(y,f);if(A){j(A,h,f,k);
j.uniqueSort(f)}return f};j.uniqueSort=function(d){if(p){e=b;d.sort(p);if(e)for(var i=1;i<d.length;i++)d[i]===d[i-1]&&d.splice(i--,1)}return d};j.matches=function(d,i){return j(d,null,null,i)};j.find=function(d,i,f){var k;if(!d)return[];for(var h=0,s=n.order.length;h<s;h++){var u=n.order[h],w;if(w=n.leftMatch[u].exec(d)){var y=w[1];w.splice(1,1);if(y.substr(y.length-1)!=="\\"){w[1]=(w[1]||"").replace(/\\/g,"");k=n.find[u](w,i,f);if(k!=null){d=d.replace(n.match[u],"");break}}}}k||(k=i.getElementsByTagName("*"));
return{set:k,expr:d}};j.filter=function(d,i,f,k){for(var h=d,s=[],u=i,w,y,A=i&&i[0]&&j.isXML(i[0]);d&&i.length;){for(var B in n.filter)if((w=n.leftMatch[B].exec(d))!=null&&w[2]){var C=n.filter[B],D,F;F=w[1];y=false;w.splice(1,1);if(F.substr(F.length-1)!=="\\"){if(u===s)s=[];if(n.preFilter[B])if(w=n.preFilter[B](w,u,f,s,k,A)){if(w===true)continue}else y=D=true;if(w)for(var G=0;(F=u[G])!=null;G++)if(F){D=C(F,w,G,u);var E=k^!!D;if(f&&D!=null)if(E)y=true;else u[G]=false;else if(E){s.push(F);y=true}}if(D!==
undefined){f||(u=s);d=d.replace(n.match[B],"");if(!y)return[];break}}}if(d===h)if(y==null)j.error(d);else break;h=d}return u};j.error=function(d){throw"Syntax error, unrecognized expression: "+d;};var n=j.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(d){return d.getAttribute("href")}},relative:{"+":function(d,i){var f=typeof i==="string",k=f&&!/\W/.test(i);f=f&&!k;if(k)i=i.toLowerCase();k=0;for(var h=d.length,s;k<h;k++)if(s=d[k]){for(;(s=s.previousSibling)&&
s.nodeType!==1;);d[k]=f||s&&s.nodeName.toLowerCase()===i?s||false:s===i}f&&j.filter(i,d,true)},">":function(d,i){var f=typeof i==="string",k,h=0,s=d.length;if(f&&!/\W/.test(i))for(i=i.toLowerCase();h<s;h++){if(k=d[h]){f=k.parentNode;d[h]=f.nodeName.toLowerCase()===i?f:false}}else{for(;h<s;h++)if(k=d[h])d[h]=f?k.parentNode:k.parentNode===i;f&&j.filter(i,d,true)}},"":function(d,i,f){var k=q++,h=m,s;if(typeof i==="string"&&!/\W/.test(i)){s=i=i.toLowerCase();h=c}h("parentNode",i,k,d,s,f)},"~":function(d,
i,f){var k=q++,h=m,s;if(typeof i==="string"&&!/\W/.test(i)){s=i=i.toLowerCase();h=c}h("previousSibling",i,k,d,s,f)}},find:{ID:function(d,i,f){if(typeof i.getElementById!=="undefined"&&!f)return(d=i.getElementById(d[1]))?[d]:[]},NAME:function(d,i){if(typeof i.getElementsByName!=="undefined"){for(var f=[],k=i.getElementsByName(d[1]),h=0,s=k.length;h<s;h++)k[h].getAttribute("name")===d[1]&&f.push(k[h]);return f.length===0?null:f}},TAG:function(d,i){return i.getElementsByTagName(d[1])}},preFilter:{CLASS:function(d,
i,f,k,h,s){d=" "+d[1].replace(/\\/g,"")+" ";if(s)return d;s=0;for(var u;(u=i[s])!=null;s++)if(u)if(h^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(d)>=0))f||k.push(u);else if(f)i[s]=false;return false},ID:function(d){return d[1].replace(/\\/g,"")},TAG:function(d){return d[1].toLowerCase()},CHILD:function(d){if(d[1]==="nth"){var i=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(d[2]==="even"&&"2n"||d[2]==="odd"&&"2n+1"||!/\D/.test(d[2])&&"0n+"+d[2]||d[2]);d[2]=i[1]+(i[2]||1)-0;d[3]=i[3]-0}d[0]=
q++;return d},ATTR:function(d,i,f,k,h,s){i=d[1].replace(/\\/g,"");if(!s&&n.attrMap[i])d[1]=n.attrMap[i];if(d[2]==="~=")d[4]=" "+d[4]+" ";return d},PSEUDO:function(d,i,f,k,h){if(d[1]==="not")if((o.exec(d[3])||"").length>1||/^\w/.test(d[3]))d[3]=j(d[3],null,null,i);else{d=j.filter(d[3],i,f,true^h);f||k.push.apply(k,d);return false}else if(n.match.POS.test(d[0])||n.match.CHILD.test(d[0]))return true;return d},POS:function(d){d.unshift(true);return d}},filters:{enabled:function(d){return d.disabled===
false&&d.type!=="hidden"},disabled:function(d){return d.disabled===true},checked:function(d){return d.checked===true},selected:function(d){return d.selected===true},parent:function(d){return!!d.firstChild},empty:function(d){return!d.firstChild},has:function(d,i,f){return!!j(f[3],d).length},header:function(d){return/h\d/i.test(d.nodeName)},text:function(d){return"text"===d.type},radio:function(d){return"radio"===d.type},checkbox:function(d){return"checkbox"===d.type},file:function(d){return"file"===
d.type},password:function(d){return"password"===d.type},submit:function(d){return"submit"===d.type},image:function(d){return"image"===d.type},reset:function(d){return"reset"===d.type},button:function(d){return"button"===d.type||d.nodeName.toLowerCase()==="button"},input:function(d){return/input|select|textarea|button/i.test(d.nodeName)}},setFilters:{first:function(d,i){return i===0},last:function(d,i,f,k){return i===k.length-1},even:function(d,i){return i%2===0},odd:function(d,i){return i%2===1},
lt:function(d,i,f){return i<f[3]-0},gt:function(d,i,f){return i>f[3]-0},nth:function(d,i,f){return f[3]-0===i},eq:function(d,i,f){return f[3]-0===i}},filter:{PSEUDO:function(d,i,f,k){var h=i[1],s=n.filters[h];if(s)return s(d,f,i,k);else if(h==="contains")return(d.textContent||d.innerText||j.getText([d])||"").indexOf(i[3])>=0;else if(h==="not"){i=i[3];f=0;for(k=i.length;f<k;f++)if(i[f]===d)return false;return true}else j.error("Syntax error, unrecognized expression: "+h)},CHILD:function(d,i){var f=
i[1],k=d;switch(f){case "only":case "first":for(;k=k.previousSibling;)if(k.nodeType===1)return false;if(f==="first")return true;k=d;case "last":for(;k=k.nextSibling;)if(k.nodeType===1)return false;return true;case "nth":f=i[2];var h=i[3];if(f===1&&h===0)return true;var s=i[0],u=d.parentNode;if(u&&(u.sizcache!==s||!d.nodeIndex)){var w=0;for(k=u.firstChild;k;k=k.nextSibling)if(k.nodeType===1)k.nodeIndex=++w;u.sizcache=s}k=d.nodeIndex-h;return f===0?k===0:k%f===0&&k/f>=0}},ID:function(d,i){return d.nodeType===
1&&d.getAttribute("id")===i},TAG:function(d,i){return i==="*"&&d.nodeType===1||d.nodeName.toLowerCase()===i},CLASS:function(d,i){return(" "+(d.className||d.getAttribute("class"))+" ").indexOf(i)>-1},ATTR:function(d,i){var f=i[1];f=n.attrHandle[f]?n.attrHandle[f](d):d[f]!=null?d[f]:d.getAttribute(f);var k=f+"",h=i[2],s=i[4];return f==null?h==="!=":h==="="?k===s:h==="*="?k.indexOf(s)>=0:h==="~="?(" "+k+" ").indexOf(s)>=0:!s?k&&f!==false:h==="!="?k!==s:h==="^="?k.indexOf(s)===0:h==="$="?k.substr(k.length-
s.length)===s:h==="|="?k===s||k.substr(0,s.length+1)===s+"-":false},POS:function(d,i,f,k){var h=n.setFilters[i[2]];if(h)return h(d,f,i,k)}}},a=n.match.POS,l=function(d,i){return"\\"+(i-0+1)},v;for(v in n.match){n.match[v]=RegExp(n.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source);n.leftMatch[v]=RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[v].source.replace(/\\(\d+)/g,l))}var x=function(d,i){d=Array.prototype.slice.call(d,0);if(i){i.push.apply(i,d);return i}return d};try{Array.prototype.slice.call(document.documentElement.childNodes,
0)}catch(z){x=function(d,i){var f=i||[],k=0;if(r.call(d)==="[object Array]")Array.prototype.push.apply(f,d);else if(typeof d.length==="number")for(var h=d.length;k<h;k++)f.push(d[k]);else for(;d[k];k++)f.push(d[k]);return f}}var p;if(document.documentElement.compareDocumentPosition)p=function(d,i){if(!d.compareDocumentPosition||!i.compareDocumentPosition){if(d==i)e=true;return d.compareDocumentPosition?-1:1}var f=d.compareDocumentPosition(i)&4?-1:d===i?0:1;if(f===0)e=true;return f};else if("sourceIndex"in
document.documentElement)p=function(d,i){if(!d.sourceIndex||!i.sourceIndex){if(d==i)e=true;return d.sourceIndex?-1:1}var f=d.sourceIndex-i.sourceIndex;if(f===0)e=true;return f};else if(document.createRange)p=function(d,i){if(!d.ownerDocument||!i.ownerDocument){if(d==i)e=true;return d.ownerDocument?-1:1}var f=d.ownerDocument.createRange(),k=i.ownerDocument.createRange();f.setStart(d,0);f.setEnd(d,0);k.setStart(i,0);k.setEnd(i,0);f=f.compareBoundaryPoints(Range.START_TO_END,k);if(f===0)e=true;return f};
j.getText=function(d){for(var i="",f,k=0;d[k];k++){f=d[k];if(f.nodeType===3||f.nodeType===4)i+=f.nodeValue;else if(f.nodeType!==8)i+=j.getText(f.childNodes)}return i};(function(){var d=document.createElement("div"),i="script"+(new Date).getTime();d.innerHTML="<a name='"+i+"'/>";var f=document.documentElement;f.insertBefore(d,f.firstChild);if(document.getElementById(i)){n.find.ID=function(k,h,s){if(typeof h.getElementById!=="undefined"&&!s)return(h=h.getElementById(k[1]))?h.id===k[1]||typeof h.getAttributeNode!==
"undefined"&&h.getAttributeNode("id").nodeValue===k[1]?[h]:undefined:[]};n.filter.ID=function(k,h){var s=typeof k.getAttributeNode!=="undefined"&&k.getAttributeNode("id");return k.nodeType===1&&s&&s.nodeValue===h}}f.removeChild(d);f=d=null})();(function(){var d=document.createElement("div");d.appendChild(document.createComment(""));if(d.getElementsByTagName("*").length>0)n.find.TAG=function(i,f){var k=f.getElementsByTagName(i[1]);if(i[1]==="*"){for(var h=[],s=0;k[s];s++)k[s].nodeType===1&&h.push(k[s]);
k=h}return k};d.innerHTML="<a href='#'></a>";if(d.firstChild&&typeof d.firstChild.getAttribute!=="undefined"&&d.firstChild.getAttribute("href")!=="#")n.attrHandle.href=function(i){return i.getAttribute("href",2)};d=null})();document.querySelectorAll&&function(){var d=j,i=document.createElement("div");i.innerHTML="<p class='TEST'></p>";if(!(i.querySelectorAll&&i.querySelectorAll(".TEST").length===0)){j=function(k,h,s,u){h=h||document;if(!u&&h.nodeType===9&&!j.isXML(h))try{return x(h.querySelectorAll(k),
s)}catch(w){}return d(k,h,s,u)};for(var f in d)j[f]=d[f];i=null}}();(function(){var d=document.createElement("div");d.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!d.getElementsByClassName||d.getElementsByClassName("e").length===0)){d.lastChild.className="e";if(d.getElementsByClassName("e").length!==1){n.order.splice(1,0,"CLASS");n.find.CLASS=function(i,f,k){if(typeof f.getElementsByClassName!=="undefined"&&!k)return f.getElementsByClassName(i[1])};d=null}}})();j.contains=document.compareDocumentPosition?
function(d,i){return!!(d.compareDocumentPosition(i)&16)}:function(d,i){return d!==i&&(d.contains?d.contains(i):true)};j.isXML=function(d){return(d=(d?d.ownerDocument||d:0).documentElement)?d.nodeName!=="HTML":false};var t=function(d,i){for(var f=[],k="",h,s=i.nodeType?[i]:i;h=n.match.PSEUDO.exec(d);){k+=h[0];d=d.replace(n.match.PSEUDO,"")}d=n.relative[d]?d+"*":d;h=0;for(var u=s.length;h<u;h++)j(d,s[h],f);return j.filter(k,f)};j._filter=function(d,i){return j.matches(i,g.require("dom/selector").query(d))};
return j});KISSY.add("sizzle",function(g,c){return c},{requires:["sizzle/impl"]});
KISSY.add("datalazyload/impl",function(g,c,m,o){function q(a,l){if(!(this instanceof q))return new q(a,l);if(l===o){l=a;a=[e]}g.isArray(a)||(a=[c.get(a)||e]);this.containers=a;this.config=g.merge(n,l);this.callbacks={els:[],fns:[]};this._init();return o}var r=window,e=document,b="scroll",j="resize",n={mod:"manual",diff:"default",placeholder:"none",execScript:true};g.augment(q,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var a=
this.containers,l,v,x,z=[],p=[];l=0;for(v=a.length;l<v;++l){x=c.query("img",a[l]);z=z.concat(g.filter(x,this._filterImg,this));x=c.query("textarea",a[l]);p=p.concat(g.filter(x,this._filterArea,this))}this.images=z;this.areaes=p},_filterImg:function(a){var l=a.getAttribute("data-ks-lazyload"),v=this.threshold,x=this.config.placeholder;if(this.config.mod==="manual"){if(l){if(x!=="none")a.src=x;return true}}else if(c.offset(a).top>v&&!l){c.attr(a,"data-ks-lazyload",a.src);if(x!=="none")a.src=x;else a.removeAttribute("src");
return true}},_filterArea:function(a){return c.hasClass(a,"ks-datalazyload")},_initLoadEvent:function(){function a(){v||(v=g.later(function(){l();v=null},100))}function l(){x._loadItems();if(x._getItemsLength()===0){m.remove(r,b,a);m.remove(r,j,z)}}var v,x=this,z;m.on(r,b,a);m.on(r,j,z=function(){x.threshold=x._getThreshold();a()});x._getItemsLength()&&g.ready(function(){l()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=g.filter(this.images,
this._loadImg,this)},_loadImg:function(a){var l=this.threshold+c.scrollTop();if(c.offset(a).top<=l)this._loadImgSrc(a);else return true},_loadImgSrc:function(a,l){l=l||"data-ks-lazyload";var v=a.getAttribute(l);if(v&&a.src!=v){a.src=v;a.removeAttribute(l)}},_loadAreas:function(){this.areaes=g.filter(this.areaes,this._loadArea,this)},_loadArea:function(a){var l=c.css(a,"display")==="none";if(c.offset(l?a.parentNode:a).top<=this.threshold+c.scrollTop())this._loadAreaData(a.parentNode,a,this.config.execScript);
else return true},_loadAreaData:function(a,l,v){l.style.display="none";l.className="";var x=c.create("<div>");a.insertBefore(x,l);c.html(x,l.value,v===o?true:v)},_fireCallbacks:function(){var a=this.callbacks,l=a.els,v=a.fns,x=this.threshold+c.scrollTop(),z,p,t,d=[],i=[];for(z=0;(p=l[z])&&(t=v[z++]);)if(c.offset(p).top<=x)t.call(p);else{d.push(p);i.push(t)}a.els=d;a.fns=i},addCallback:function(a,l){var v=this.callbacks;if((a=c.get(a))&&g.isFunction(l)){v.els.push(a);v.fns.push(l)}},_getThreshold:function(){var a=
this.config.diff,l=c.viewportHeight();return a==="default"?2*l:l+ +a},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(a,l){var v=this,x,z;g.isArray(a)||(a=[c.get(a)]);g.each(a,function(p){switch(l){case "img-src":z=p.nodeName==="IMG"?[p]:c.query("img",p);g.each(z,function(t){v._loadImgSrc(t,"data-ks-lazyload-custom")});break;default:(x=c.get("textarea",p))&&c.hasClass(x,"ks-datalazyload-custom")&&v._loadAreaData(p,x)}})}});
g.mix(q,q.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);return q},{requires:["dom","event"]});KISSY.add("datalazyload",function(g,c){return g.DataLazyload=c},{requires:["datalazyload/impl"]});KISSY.add("flash/base",function(){return{swfs:{},length:0,version:"1.3"}});
KISSY.add("flash/ua",function(g,c){function m(b){var j=g.isString(b)?b.match(/(\d)+/g).splice(0,3):b;b=b;if(g.isArray(j))b=parseFloat(j[0]+"."+o(j[1],3)+o(j[2],5));return b||0}function o(b,j){for(var n=(b+"").length;n++<j;)b="0"+b;return b}var q,r,e=true;c.fpv=function(b){if(b||e){e=false;var j;if(navigator.plugins&&navigator.mimeTypes.length)j=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{j=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(n){}q=
j?j.match(/(\d)+/g).splice(0,3):void 0;r=m(q)}return q};c.fpvGEQ=function(b,j){e&&c.fpv(j);return!!r&&r>=m(b)}},{requires:["ua"]});
KISSY.add("flash/embed",function(g,c,m,o,q){function r(p,t){return j+p+n+a+t+a}function e(p,t){return'<param name="'+p+'" value="'+t+'" />'}var b=/^(?:object|embed)/i,j=" ",n="=",a='"',l=Object.prototype,v=encodeURIComponent,x={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},z={params:{},attrs:{width:215,height:138},version:9};g.mix(o,{fpv:c.fpv,fpvGEQ:c.fpvGEQ,
add:function(p,t,d){var i,f,k,h;t=o._normalize(t);t=g.merge(z,t);t.attrs=g.merge(z.attrs,t.attrs);f=p.replace("#","");if(!(p=m.get(p))){p=m.create("<div id="+f+">");document.body.appendChild(p)}h=p.nodeName.toLowerCase();k=!b.test(h);if(!p.id)p.id=g.guid("ks-flash-container-");f=p.id;if(!t.id)t.id=g.guid("ks-flash-");t.attrs.id=t.id;if(c.fpv()){if(!c.fpvGEQ(t.version)){o._callback(d,0,f,p,k);if(!((i=t.xi)&&g.isString(i)))return;t.src=i}if(k)t.src?o._embed(p,t,d):o._callback(d,-3,f,p,k);else{if(h==
"object")if(c.gecko||c.opera||c.chrome>7)p=m.query("object",p)[0]||p;t.attrs.id=f;o._register(p,t,d,k)}}else o._callback(d,-1,f,p,k)},get:function(p){return o.swfs[p]},remove:function(p){if(p=o.get(p)){m.remove(p);delete o.swfs[p.id];o.length-=1}},contains:function(p){var t=o.swfs,d,i=false;if(g.isString(p))i=p in t;else for(d in t)if(t[d]===p){i=true;break}return i},_register:function(p,t,d,i){t=t.attrs.id;o._addSWF(t,p);o._callback(d,1,t,p,i)},_embed:function(p,t,d){p.innerHTML=o._stringSWF(t);
p=m.get("#"+t.id);o._register(p,t,d,true)},_callback:function(p,t,d,i,f){t&&g.isFunction(p)&&p({status:t,id:d,swf:i,dynamic:!!f})},_addSWF:function(p,t){if(p&&t){o.swfs[p]=t;o.length+=1}},_stringSWF:function(p){var t;var d=t="",i=p.src,f=p.attrs;p=p.params;var k,h;if(c.ie){h="object";for(k in f)if(f[k]!=l[k])if(k!="classid"&&k!="data")t+=r(k,f[k]);t+=r("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");for(k in p)if(k in x)d+=e(k,p[k]);d+=e("movie",i);if(p.flashvars)d+=e("flashvars",o.toFlashVars(p.flashvars));
t="<"+h+t+">"+d+"</"+h+">"}else{h="embed";t+=r("src",i);for(k in f)if(f[k]!=l[k])if(k!="classid"&&k!="data")t+=r(k,f[k]);t+=r("type","application/x-shockwave-flash");for(k in p)if(k in x)d+=r(k,p[k]);if(p.flashvars)d+=r("flashvars",o.toFlashVars(p.flashvars));t="<"+h+t+d+"/>"}return t},_normalize:function(p){var t,d,i,f=p||{};if(g.isPlainObject(p)){f={};for(i in p){t=i.toLowerCase();d=p[i];if(t!=="flashvars")d=o._normalize(d);f[t]=d}}return f},toFlashVars:function(p){if(!g.isPlainObject(p))return"";
var t,d,i=[];for(t in p){d=p[t];if(g.isString(d))d=v(d);else{d=q.stringify(d);if(!d)continue;d=d.replace(/:"([^"]+)/g,function(f,k){return':"'+v(k)})}i.push(t+"="+d)}return i.join("&").replace(/"/g,"'")}});return o},{requires:["ua","dom","flash/base","json","flash/ua"]});KISSY.add("flash",function(g,c){return g.Flash=c},{requires:["flash/base","flash/embed"]});
KISSY.add("dd/ddm",function(g,c,m,o,q){function r(){r.superclass.constructor.apply(this,arguments);this._init()}function e(n,a,l){l=l||150;if(l===-1)return function(){n.apply(a,arguments)};var v=g.now();return function(){var x=g.now();if(x-v>l){v=x;n.apply(a,arguments)}}}var b=document,j=g.require("node/node");r.ATTRS={bufferTime:{value:200},activeDrag:{}};g.extend(r,q,{_init:function(){this._showShimMove=e(this._move,this,30)},_move:function(n){var a=this.get("activeDrag");if(a){n.preventDefault();
a._move(n)}},_start:function(n){var a=this,l=a.get("bufferTime")||0;a._registerEvent();if(l)a._bufferTimer=setTimeout(function(){a._bufferStart(n)},l);else a._bufferStart(n)},_bufferStart:function(n){this.set("activeDrag",n);n.get("shim")&&this._activeShim();n._start()},_end:function(n){var a=this.get("activeDrag");this._unregisterEvent();if(this._bufferTimer){clearTimeout(this._bufferTimer);this._bufferTimer=null}this._shim&&this._shim.css({display:"none"});if(a){a._end(n);this.set("activeDrag",
null)}},_activeShim:function(){var n=document;this._shim=(new j("<div style='background-color:red;position:absolute;left:0;width:100%;top:0;z-index:999999;'></div>")).appendTo(n.body);this._shim.css("opacity",0);this._activeShim=this._showShim;this._showShim()},_showShim:function(){this._shim.css({display:"",height:c.docHeight()})},_registerEvent:function(){m.on(b,"mouseup",this._end,this);m.on(b,"mousemove",this._showShimMove,this)},_unregisterEvent:function(){m.remove(b,"mousemove",this._showShimMove,
this);m.remove(b,"mouseup",this._end,this)}});return new r},{requires:["dom","event","node","base"]});
KISSY.add("dd/draggable",function(g,c,m,o,q){function r(){r.superclass.constructor.apply(this,arguments);this._init()}var e=g.require("node/node");r.ATTRS={node:{setter:function(b){return e.one(b)}},shim:{value:true},handlers:{value:[],setter:function(b){if(b)for(var j=0;j<b.length;j++){b[j]=e.one(b[j]);b[j].unselectable()}}}};g.extend(r,o,{_init:function(){var b=this.get("node"),j=this.get("handlers");if(j.length==0)j[0]=b;for(var n=0;n<j.length;n++){var a=j[n],l=a.css("cursor");if(a[0]!=b[0])if(!l||
l==="auto")a.css("cursor","move")}b.on("mousedown",this._handleMouseDown,this)},destroy:function(){for(var b=this.get("node"),j=this.get("handlers"),n=0;n<j.length;n++){var a=j[n];a.css("cursor")=="move"&&a.css("cursor","auto")}b.detach("mousedown",this._handleMouseDown,this);this.detach()},_check:function(b){for(var j=this.get("handlers"),n=0;n<j.length;n++){var a=j[n];if(a.contains(b)||a[0]==b[0])return true}return false},_handleMouseDown:function(b){if(this._check(new e(b.target))){b.preventDefault();
q._start(this);var j=this.get("node"),n=b.pageX;b=b.pageY;j=j.offset();this.startMousePos={left:n,top:b};this.startNodePos=j;this._diff={left:n-j.left,top:b-j.top};this.set("diff",this._diff)}},_move:function(b){var j=this.get("diff");this.fire("drag",{left:b.pageX-j.left,top:b.pageY-j.top})},_end:function(){this.fire("dragend")},_start:function(){this.fire("dragstart")}});return r},{requires:["ua","node","base","dd/ddm"]});KISSY.add("dd",function(g,c){var m={Draggable:c};g.mix(g,m);return m},{requires:["dd/draggable"]});
KISSY.add("resizable/base",function(g,c,m,o){var q=g.require("dd/draggable"),r=g.require("node/node"),e={t:function(j,n,a,l,v,x,z,p,t){j=Math.min(Math.max(a,p-t),l);return[0,j,v+p-j,0]},b:function(j,n,a,l,v,x,z,p,t){return[0,Math.min(Math.max(a,p+t),l),0,0]},r:function(j,n,a,l,v,x,z,p,t,d){return[Math.min(Math.max(j,z+d),n),0,0,0]},l:function(j,n,a,l,v,x,z,p,t,d){j=Math.min(Math.max(j,z-d),n);return[j,0,0,x+z-j]}};g=["l","r"];c=["t","b"];for(m=0;m<g.length;m++)for(var b=0;b<c.length;b++)(function(j,
n){e[j+n]=e[n+j]=function(){for(var a=e[j].apply(this,arguments),l=e[n].apply(this,arguments),v=[],x=0;x<a.length;x++)v[x]=a[x]||l[x];return v}})(g[m],c[b]);return o.create([],{renderUI:function(){var j=this.get("node");this.dds={};j.css("position")=="static"&&j.css("position","relative")},_uiSetHandlers:function(j){var n=this.dds,a=this.get("node");this.destructor();for(var l=0;l<j.length;l++){var v=j[l],x=(new r("<div class='ke-resizehandler ke-resizehandler-"+v+"'>")).prependTo(a);v=n[v]=new q({node:x});
v.on("drag",this._drag,this);v.on("dragstart",this._dragStart,this)}},_dragStart:function(){var j=this.get("node");this._width=j.width();this._top=parseInt(j.css("top"));this._left=parseInt(j.css("left"));this._height=j.height()},_drag:function(j){var n=this.get("node"),a=j.currentTarget||j.target,l=this._getHanderC(a),v=this._width,x=this._height,z=this.get("minWidth"),p=this.get("maxWidth"),t=this.get("minHeight"),d=this.get("maxHeight");j=e[l](z,p,t,d,this._top,this._left,v,x,j.top-a.startNodePos.top,
j.left-a.startNodePos.left);a=["width","height","top","left"];for(l=0;l<a.length;l++)j[l]&&n.css(a[l],j[l])},_getHanderC:function(j){var n=this.dds,a;for(a in n){if(!n.hasOwnProperty(a))break;if(n[a]==j)return a}},destructor:function(){var j=this.dds,n;for(n in j){if(!j.hasOwnProperty(n))break;j[n].destroy();j[n].get("node").remove();delete j[n]}}},{ATTRS:{node:{setter:function(j){return r.one(j)}},minWidth:{value:0},minHeight:{value:0},maxWidth:{value:Number.MAX_VALUE},maxHeight:{value:Number.MAX_VALUE},
handlers:{value:[]}}})},{requires:["node","dd","uibase"]});KISSY.add("resizable",function(g,c){return g.Resizable=c},{requires:["resizable/base"]});
KISSY.add("uibase/align",function(g,c){function m(){}function o(q,r){var e=g.require("node/node"),b=r.charAt(0),j=r.charAt(1),n,a,l;if(q){q=e.one(q);n=q.offset();e=q[0].offsetWidth;a=q[0].offsetHeight}else{n={left:c.scrollLeft(),top:c.scrollTop()};e=c.viewportWidth();a=c.viewportHeight()}l=n.left;n=n.top;if(b==="c")n+=a/2;else if(b==="b")n+=a;if(j==="c")l+=e/2;else if(j==="r")l+=e;return{left:l,top:n}}g.mix(m,{TL:"tl",TC:"tc",TR:"tr",CL:"cl",CC:"cc",CR:"cr",BL:"bl",BC:"bc",BR:"br"});m.ATTRS={align:{}};
m.prototype={_uiSetAlign:function(q){g.isPlainObject(q)&&this.align(q.node,q.points,q.offset)},align:function(q,r,e){var b,j=(this.get("view")||this).get("el");e=e||[0,0];b=j.offset();q=o(q,r[0]);r=o(j,r[1]);r=[r.left-q.left,r.top-q.top];b=[b.left-r[0]+ +e[0],b.top-r[1]+ +e[1]];this.set("x",b[0]);this.set("y",b[1])},center:function(q){this.set("align",{node:q,points:[m.CC,m.CC],offset:[0,0]})}};return m},{requires:["dom"]});
KISSY.add("uibase/base",function(g,c){function m(n){c.apply(this,arguments);for(var a=this.constructor;a;){if(n&&n[r]&&a.HTML_PARSER)if(n[r]=e.one(n[r])){var l=n[r],v=a.HTML_PARSER,x=void 0,z=void 0;for(x in v)if(v.hasOwnProperty(x)){z=v[x];if(g.isFunction(z))this.__set(x,z.call(this,l));else if(g.isString(z))this.__set(x,l.one(z));else g.isArray(z)&&z[0]&&this.__set(x,l.all(z[0]))}}a=a.superclass&&a.superclass.constructor}o(this,"initializer","constructor");n&&n.autoRender&&this.render()}function o(n,
a,l){for(var v=n.constructor,x=[],z,p,t,d;v;){d=[];if(t=v.__ks_exts)for(var i=0;i<t.length;i++)if(z=t[i]){if(l!="constructor")z=z.prototype.hasOwnProperty(l)?z.prototype[l]:null;z&&d.push(z)}if(v.prototype.hasOwnProperty(a)&&(p=v.prototype[a]))d.push(p);d.length&&x.push.apply(x,d.reverse());v=v.superclass&&v.superclass.constructor}for(i=x.length-1;i>=0;i--)x[i]&&x[i].call(n)}function q(n,a){if(!a)return n;for(var l in a)if(g.isObject(a[l])&&g.isObject(n[l]))q(n[l],a[l]);else l in n||(n[l]=a[l])}var r=
"srcNode",e=g.require("node/node"),b=g.require("base/attribute").__capitalFirst,j=function(){};m.HTML_PARSER={};m.ATTRS={render:{valueFn:function(){return document.body},setter:function(n){if(g.isString(n))return e.one(n)}},rendered:{value:false}};g.extend(m,c,{render:function(){if(!this.get("rendered")){this._renderUI();this.fire("renderUI");o(this,"renderUI","__renderUI");this.fire("afterRenderUI");this._bindUI();this.fire("bindUI");o(this,"bindUI","__bindUI");this.fire("afterBindUI");this._syncUI();
this.fire("syncUI");o(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.set("rendered",true)}},_renderUI:j,renderUI:j,_bindUI:function(){var n=this,a=n.__getDefAttrs(),l,v;for(l in a)if(a.hasOwnProperty(l)){v="_uiSet"+b(l);n[v]&&function(x,z){n.on("after"+b(x)+"Change",function(p){n[z](p.newVal,p)})}(l,v)}},bindUI:j,_syncUI:function(){var n=this.__getDefAttrs(),a;for(a in n)if(n.hasOwnProperty(a)){var l="_uiSet"+b(a);this[l]&&this.get(a)!==undefined&&this[l](this.get(a))}},syncUI:j,destroy:function(){for(var n=
this.constructor,a,l,v;n;){(l=n.prototype.destructor)&&l.apply(this);if(a=n.__ks_exts)for(v=a.length-1;v>=0;v--)(l=a[v]&&a[v].prototype.__destructor)&&l.apply(this);n=n.superclass&&n.superclass.constructor}this.fire("destroy");this.detach()}});m.create=function(n,a,l,v){function x(){m.apply(this,arguments)}if(g.isArray(n)){v=l;l=a;a=n;n=m}n=n||m;if(g.isObject(a)){v=l;l=a;a=[]}g.extend(x,n,l,v);if(a){x.__ks_exts=a;g.each(a,function(z){if(z){g.each(["ATTRS","HTML_PARSER"],function(p){if(z[p]){x[p]=
x[p]||{};q(x[p],z[p])}});g.augment(x,z,false)}})}return x};return m},{requires:["base","dom","node"]});
KISSY.add("uibase/box",function(){function g(){}g.ATTRS={html:{},width:{},height:{},elCls:{},elStyle:{},el:{getter:function(){return this.get("view").get("el")}}};g.prototype={_uiSetElStyle:function(c){this._forwordStateToView("elStyle",c)},_uiSetHtml:function(c){this._forwordStateToView("html",c)},_uiSetWidth:function(c){this._forwordStateToView("width",c)},_uiSetHeight:function(c){this._forwordStateToView("height",c)},_uiSetElCls:function(c){this._forwordStateToView("elCls",c)}};return g});
KISSY.add("uibase/boxrender",function(g){function c(){}g.mix(c,{APPEND:1,INSERT:0});c.ATTRS={el:{setter:function(m){var o=g.require("node/node");if(g.isString(m))return o.one(m)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},elOrder:{value:1},html:{}};c.HTML_PARSER={el:function(m){return m}};c.prototype={__renderUI:function(){var m=g.require("node/node"),o=this.get("render"),q=this.get("el");o=new m(o);if(!q){q=new m("<"+this.get("elTagName")+">");this.get("elOrder")?
o.append(q):o.prepend(q);this.set("el",q)}},_uiSetElAttrs:function(m){this.get("el").attr(m)},_uiSetElCls:function(m){this.get("el").addClass(m)},_uiSetElStyle:function(m){this.get("el").css(m)},_uiSetWidth:function(m){this.get("el").width(m)},_uiSetHeight:function(m){this.get("el").height(m)},_uiSetHtml:function(m){this.get("el").html(m)},__destructor:function(){var m=this.get("el");if(m){m.detach();m.remove()}}};return c});
KISSY.add("uibase/close",function(){function g(){}g.ATTRS={closable:{value:true}};g.prototype={_uiSetClosable:function(c){this._forwordStateToView("closable",c)},__bindUI:function(){var c=this,m=c.get("view").get("closeBtn");m&&m.on("click",function(o){c.hide();o.halt()})}};return g});
KISSY.add("uibase/closerender",function(g){function c(){}c.ATTRS={closable:{value:true},closeBtn:{}};c.HTML_PARSER={closeBtn:function(m){return m.one("."+this.get("prefixCls")+"ext-close")}};c.prototype={_uiSetClosable:function(m){var o=this.get("closeBtn");if(o)m?o.css("display",""):o.css("display","none")},__renderUI:function(){var m=g.require("node/node"),o=this.get("closeBtn"),q=this.get("contentEl");if(!o&&q){o=(new m("<a href='#' class='"+this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+
"ext-close-x'>X</span></a>")).appendTo(q);this.set("closeBtn",o)}},__destructor:function(){var m=this.get("closeBtn");m&&m.detach()}};return c});
KISSY.add("uibase/constrain",function(g,c){function m(){}function o(r){var e;if(!r)return e;var b=this.get("view").get("el");if(r!==true){r=q.one(r);e=r.offset();g.mix(e,{maxLeft:e.left+r[0].offsetWidth-b[0].offsetWidth,maxTop:e.top+r[0].offsetHeight-b[0].offsetHeight})}else{r=document.documentElement.clientWidth;e={left:c.scrollLeft(),top:c.scrollTop()};g.mix(e,{maxLeft:e.left+r-b[0].offsetWidth,maxTop:e.top+c.viewportHeight()-b[0].offsetHeight})}return e}var q=g.require("node/node");m.ATTRS={constrain:{value:false}};
m.prototype={__renderUI:function(){var r=this,e=r.__getDefAttrs(),b=e.x;e=e.y;var j=b.setter,n=e.setter;b.setter=function(a){var l=j&&j(a);if(l===undefined)l=a;if(!r.get("constrain"))return l;a=o.call(r,r.get("constrain"));return Math.min(Math.max(l,a.left),a.maxLeft)};e.setter=function(a){var l=n&&n(a);if(l===undefined)l=a;if(!r.get("constrain"))return l;a=o.call(r,r.get("constrain"));return Math.min(Math.max(l,a.top),a.maxTop)};r.addAttr("x",b);r.addAttr("y",e)}};return m},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function g(){}g.ATTRS={content:{},contentEl:{getter:function(){return this.get("view").get("contentEl")}}};g.prototype={_uiSetContent:function(c){this._forwordStateToView("content",c)}};return g});
KISSY.add("uibase/contentboxrender",function(g,c){function m(){}m.ATTRS={contentEl:{},contentElAttrs:{},contentElStyle:{},contentTagName:{value:"div"},content:{}};m.HTML_PARSER={contentEl:function(o){return o.one("."+this.get("prefixCls")+"contentbox")}};m.prototype={__renderUI:function(){var o=this.get("contentEl"),q=this.get("el");if(!o){var r=g.makeArray(q[0].childNodes);o=(new c("<"+this.get("contentTagName")+" class='"+this.get("prefixCls")+"contentbox'>")).appendTo(q);for(q=0;q<r.length;q++)o.append(r[q]);
this.set("contentEl",o)}},_uiSetContentElAttrs:function(o){o&&this.get("contentEl").attr(o)},_uiSetContentElStyle:function(o){o&&this.get("contentEl").css(o)},_uiSetContent:function(o){if(g.isString(o))this.get("contentEl").html(o);else if(o!==undefined){this.get("contentEl").html("");this.get("contentEl").append(o)}}};return m},{requires:["node"]});
KISSY.add("uibase/drag",function(g){function c(){}c.ATTRS={handlers:{value:[]},draggable:{value:true}};c.prototype={_uiSetHandlers:function(m){m&&m.length>0&&this.__drag&&this.__drag.set("handlers",m)},__bindUI:function(){var m=g.require("dd/draggable"),o=this.get("view").get("el");if(this.get("draggable")&&m)this.__drag=new m({node:o,handlers:this.get("handlers")})},_uiSetDraggable:function(m){var o=this.__drag;if(o)if(m){o.detach("drag");o.on("drag",this._dragExtAction,this)}else o.detach("drag")},
_dragExtAction:function(m){this.set("xy",[m.left,m.top])},__destructor:function(){var m=this.__drag;m&&m.destroy()}};return c});KISSY.add("uibase/loading",function(){function g(){}g.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return g});
KISSY.add("uibase/loadingrender",function(g){function c(){}c.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new (g.require("node/node"))("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var m=this._loadingExtEl;m&&m.hide()}};return c});
KISSY.add("uibase/mask",function(){function g(){}g.ATTRS={mask:{value:false}};g.prototype={_uiSetMask:function(c){if(c){this.on("show",this.get("view")._maskExtShow);this.on("hide",this.get("view")._maskExtHide)}else{this.detach("show",this.get("view")._maskExtShow);this.detach("hide",this.get("view")._maskExtHide)}}};return g},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(g){function c(){}var m,o=0;c.prototype={_maskExtShow:function(){if(!m){var q=g.require("ua"),r=g.require("node/node"),e=g.require("dom");m=(new r("<div class='ks-ext-mask'>")).prependTo(document.body);m.css({position:"absolute",left:0,top:0,width:q.ie==6?e.docWidth():"100%",height:e.docHeight()});q.ie==6&&m.append("<iframe style='width:100%;height:expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'>")}m.css({"z-index":this.get("zIndex")-
1});o++;m.css("display","")},_maskExtHide:function(){o--;if(o<=0)o=0;o||m&&m.css("display","none")}};return c},{requires:["ua"]});
KISSY.add("uibase/position",function(g,c,m){function o(){}var q=document;o.ATTRS={x:{},y:{},xy:{setter:function(r){var e=g.makeArray(r);if(e.length){e[0]&&this.set("x",e[0]);e[1]&&this.set("y",e[1])}return r}},zIndex:{value:9999},visible:{value:undefined}};o.prototype={_uiSetZIndex:function(r){this._forwordStateToView("zIndex",r)},_uiSetX:function(r){this._forwordStateToView("x",r)},_uiSetY:function(r){this._forwordStateToView("y",r)},_uiSetVisible:function(r){this._forwordStateToView("visible",r);
this[r?"_bindKey":"_unbindKey"]();this.fire(r?"show":"hide")},_bindKey:function(){m.on(q,"keydown",this._esc,this)},_unbindKey:function(){m.remove(q,"keydown",this._esc,this)},_esc:function(r){r.keyCode===27&&this.hide()},move:function(r,e){if(g.isArray(r)){e=r[1];r=r[0]}this.set("xy",[r,e])},show:function(){this.render();this.set("visible",true);this.fire("show")},hide:function(){this.set("visible",false);this.fire("hide")}};return o},{requires:["dom","event"]});
KISSY.add("uibase/positionrender",function(){function g(){}g.ATTRS={x:{},y:{},zIndex:{value:9999},visible:{}};g.prototype={__renderUI:function(){var c=this.get("el");c.addClass("ks-ext-position");c.css("display","")},_uiSetZIndex:function(c){this.get("el").css("z-index",c)},_uiSetX:function(c){this.get("el").offset({left:c})},_uiSetY:function(c){this.get("el").offset({top:c})},_uiSetVisible:function(c){this.get("el").css("visibility",c?"visible":"hidden")},show:function(){this.render();this.set("visible",
true)},hide:function(){this.set("visible",false)}};return g});KISSY.add("uibase/resize",function(g){function c(){}c.ATTRS={resize:{value:{}}};c.prototype={__destructor:function(){self.resizer&&self.resizer.destroy()},_uiSetResize:function(m){var o=g.require("resizable");if(o){this.resizer&&this.resizer.destroy();m.node=this.get("view").get("el");m.autoRender=true;if(m.handlers)this.resizer=new o(m)}}};return c});
KISSY.add("uibase/shimrender",function(g){function c(){}c.ATTRS={shim:{value:true}};c.prototype={_uiSetShim:function(m){var o=g.require("node/node"),q=this.get("el");if(m&&!this.__shimEl){this.__shimEl=new o("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'>");q.prepend(this.__shimEl)}else if(!m&&this.__shimEl){this.__shimEl.remove();delete this.__shimEl}}};
return c});
KISSY.add("uibase/stdmod",function(){function g(){}g.ATTRS={header:{getter:function(){return this.get("view").get("header")}},body:{getter:function(){return this.get("view").get("body")}},footer:{getter:function(){return this.get("view").get("footer")}},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};g.prototype={_uiSetBodyStyle:function(c){this._forwordStateToView("bodyStyle",c)},_uiSetHeaderStyle:function(c){this._forwordStateToView("headerStyle",c)},
_uiSetFooterStyle:function(c){this._forwordStateToView("footerStyle",c)},_uiSetBodyContent:function(c){this._forwordStateToView("bodyContent",c)},_uiSetHeaderContent:function(c){this._forwordStateToView("headerContent",c)},_uiSetFooterContent:function(c){this._forwordStateToView("footerContent",c)}};return g});
KISSY.add("uibase/stdmodrender",function(g,c){function m(){}function o(r,e){var b=r.get("contentEl"),j=r.get(e);if(!j){j=(new c("<div class='"+r.get("prefixCls")+q+e+"'>")).appendTo(b);r.set(e,j)}}var q="stdmod-";m.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};m.HTML_PARSER={header:function(r){return r.one("."+this.get("prefixCls")+q+"header")},body:function(r){return r.one("."+this.get("prefixCls")+q+"body")},footer:function(r){return r.one("."+
this.get("prefixCls")+q+"footer")}};m.prototype={_setStdModContent:function(r,e){if(g.isString(e))this.get(r).html(e);else{this.get(r).html("");this.get(r).append(e)}},_uiSetBodyStyle:function(r){this.get("body").css(r)},_uiSetHeaderStyle:function(r){this.get("header").css(r)},_uiSetFooterStyle:function(r){this.get("footer").css(r)},_uiSetBodyContent:function(r){this._setStdModContent("body",r)},_uiSetHeaderContent:function(r){this._setStdModContent("header",r)},_uiSetFooterContent:function(r){this._setStdModContent("footer",
r)},__renderUI:function(){o(this,"header");o(this,"body");o(this,"footer")}};return m},{requires:["node"]});
KISSY.add("uibase",function(g,c,m,o,q,r,e,b,j,n,a,l,v,x,z,p,t,d,i,f,k){r.Render=e;l.Render=v;x.Render=z;p.Render=t;f.Render=k;o.Render=q;j.Render=n;g.mix(c,{Align:m,Box:o,Close:r,Contrain:b,Contentbox:j,Drag:a,Loading:l,Mask:x,Position:p,Shim:{Render:d},Resize:i,StdMod:f});return g.UIBase=c},{requires:["uibase/base","uibase/align","uibase/box","uibase/boxrender","uibase/close","uibase/closerender","uibase/constrain","uibase/contentbox","uibase/contentboxrender","uibase/drag","uibase/loading","uibase/loadingrender",
"uibase/mask","uibase/maskrender","uibase/position","uibase/positionrender","uibase/shimrender","uibase/resize","uibase/stdmod","uibase/stdmodrender"]});
KISSY.add("component/modelcontrol",function(g,c){return c.create([c.Box],{renderUI:function(){var m=this.get("view");if(this.get("parent")){var o=this.get("parent").get("view");m.set("render",o.get("contentEl")||o.get("el"))}m.render();m=this.get("children");g.each(m,function(q){q.render()})},addChild:function(m,o){var q=this.get("children");o?q.splice(o,0,m):q.push(m);m.set("parent",this)},removeChild:function(m){var o=this.get("children"),q=g.indexOf(m,o);q!=-1&&o.splice(q,1);m.destroy()},bindUI:function(){var m=
this.get("view").get("el");m.on("mouseenter",this._handleMouseEnter,this);m.on("mouseleave",this._handleMouseLeave,this);m.on("mousedown",this._handleMouseDown,this);m.on("mouseup",this._handleMouseUp,this);m.on("focus",this._handleFocus,this);m.on("blur",this._handleBlur,this);m.on("keydown",this._handleKeydown,this);m.on("click",this._handleClick,this)},_forwordToView:function(m,o){var q=this.get("view");q[m]&&q[m](o)},_forwordStateToView:function(m,o){this.get("view").set(m,o)},_handleMouseEnter:function(m){if(this.get("disabled"))return false;
this._forwordToView("_handleMouseEnter",m)},_handleMouseLeave:function(m){if(this.get("disabled"))return false;this._forwordToView("_handleMouseLeave",m)},_handleMouseDown:function(m){if(this.get("disabled"))return false;this._forwordToView("_handleMouseDown",m)},_handleMouseUp:function(m){if(this.get("disabled"))return false;this._forwordToView("_handleMouseUp",m)},_handleFocus:function(m){if(this.get("disabled"))return false;this._forwordToView("_handleFocus",m)},_handleBlur:function(m){if(this.get("disabled"))return false;
this._forwordToView("_handleBlur",m)},_handleKeydown:function(m){if(this.get("disabled"))return false;var o=this.get("view");if(o._handleKeydown)if(m.keyCode==13||m.keyCode==32){this._handleClick();m.preventDefault()}else return o._handleKeydown(m)},_handleClick:function(){if(this.get("disabled"))return false;this._forwordToView("_handleClick");this.fire("click")},_uiSetDisabled:function(m){this.get("view").set("disabled",m)},destructor:function(){var m=this.get("children");g.each(m,function(o){o.destroy()});
m=this.get("view");m.get("el").detach();m.destroy()}},{ATTRS:{children:{value:[],setter:function(m){var o=this;g.each(m,function(q){q.set("parent",o)})}},srcNode:{},parent:{},view:{valueFn:function(){for(var m=this.constructor,o;m&&!o;){o=m.DefaultRender;m=m.superclass&&m.superclass.constructor}if(o)return new o({srcNode:this.get("srcNode"),render:this.get("render")})}},disabled:{value:false}}})},{requires:["uibase"]});
KISSY.add("component/render",function(g,c){return c.create([c.Box.Render],{},{ATTRS:{srcNode:{},prefixCls:{value:""},disabled:{value:false}}})},{requires:["uibase"]});KISSY.add("component",function(g,c,m){return{ModelControl:c,Render:m}},{requires:["component/modelcontrol","component/render"]});
KISSY.add("switchable/base",function(g,c,m,o){function q(e,b){b=b||{};if(!("markupType"in b))if(b.panelCls)b.markupType=1;else if(b.panels)b.markupType=2;b=g.merge(q.Config,b);this.container=c.get(e);this.config=b;this.activeIndex=b.activeIndex;this._init()}var r=g.require("event/target");q.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,
activeIndex:0,activeTriggerCls:"ks-active",steps:1,viewSize:[]};q.Plugins=[];g.augment(q,r,{_init:function(){var e=this,b=e.config;e._parseMarkup();b.switchTo&&e.switchTo(b.switchTo);b.hasTriggers&&e._bindTriggers();g.each(q.Plugins,function(j){j.init&&j.init(e)});e.fire("init")},_parseMarkup:function(){var e=this.container,b=this.config,j,n=[],a=[];switch(b.markupType){case 0:if(j=c.get("."+b.navCls,e))n=c.children(j);j=c.get("."+b.contentCls,e);a=c.children(j);break;case 1:n=c.query("."+b.triggerCls,
e);a=c.query("."+b.panelCls,e);break;case 2:n=b.triggers;a=b.panels}e=a.length;this.length=e/b.steps;if(b.hasTriggers&&e>0&&n.length===0)n=this._generateTriggersMarkup(this.length);this.triggers=g.makeArray(n);this.panels=g.makeArray(a);this.content=j||a[0].parentNode},_generateTriggersMarkup:function(e){var b=this.config,j=c.create("<ul>"),n,a;j.className=b.navCls;for(a=0;a<e;a++){n=c.create("<li>");if(a===this.activeIndex)n.className=b.activeTriggerCls;n.innerHTML=a+1;j.appendChild(n)}this.container.appendChild(j);
return c.children(j)},_bindTriggers:function(){var e=this,b=e.config,j=e.triggers,n,a,l=j.length;for(a=0;a<l;a++)(function(v){n=j[v];m.on(n,"click",function(){e._onFocusTrigger(v)});if(b.triggerType==="mouse"){m.on(n,"mouseenter",function(){e._onMouseEnterTrigger(v)});m.on(n,"mouseleave",function(){e._onMouseLeaveTrigger(v)})}})(a)},_onFocusTrigger:function(e){if(this._triggerIsValid(e)){this._cancelSwitchTimer();this.switchTo(e)}},_onMouseEnterTrigger:function(e){var b=this;if(b._triggerIsValid(e))b.switchTimer=
g.later(function(){b.switchTo(e)},b.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(e){return this.activeIndex!==e},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=o}},switchTo:function(e,b){var j=this.config,n=this.triggers,a=this.panels,l=this.activeIndex,v=j.steps,x=l*v,z=e*v;if(!this._triggerIsValid(e))return this;if(this.fire("beforeSwitch",{toIndex:e})===false)return this;if(j.hasTriggers)this._switchTrigger(l>
-1?n[l]:null,n[e]);if(b===o)b=e>l?"forward":"backward";this._switchView(a.slice(x,x+v),a.slice(z,z+v),e,b);this.activeIndex=e;return this},_switchTrigger:function(e,b){var j=this.config.activeTriggerCls;e&&c.removeClass(e,j);c.addClass(b,j)},_switchView:function(e,b,j){c.css(e,"display","none");c.css(b,"display","block");this._fireOnSwitch(j)},_fireOnSwitch:function(e){this.fire("switch",{currentIndex:e})},prev:function(){var e=this.activeIndex;this.switchTo(e>0?e-1:this.length-1,"backward")},next:function(){var e=
this.activeIndex;this.switchTo(e<this.length-1?e+1:0,"forward")}});return q},{requires:["dom","event"]});
KISSY.add("switchable/accordion",function(g,c,m){function o(r,e){if(!(this instanceof o))return new o(r,e);o.superclass.constructor.call(this,r,g.merge(q,e));if(this.config.multiple)this._switchTrigger=function(){};return 0}var q={markupType:1,triggerType:"click",multiple:false};g.extend(o,m);g.augment(o,{_triggerIsValid:function(r){return this.activeIndex!==r||this.config.multiple},_switchView:function(r,e,b){var j=this.config,n=e[0];if(j.multiple){c.toggleClass(this.triggers[b],j.activeTriggerCls);
c.css(n,"display",n.style.display=="none"?"block":"none");this._fireOnSwitch(b)}else o.superclass._switchView.call(this,r,e,b)}});return o},{requires:["dom","switchable/base"]});
KISSY.add("switchable/autoplay",function(g,c,m,o){g.mix(m.Config,{autoplay:false,interval:5,pauseOnHover:true});m.Plugins.push({name:"autoplay",init:function(q){function r(){j=g.later(function(){q.paused||q.switchTo(q.activeIndex<q.length-1?q.activeIndex+1:0,"forward")},b,true)}var e=q.config,b=e.interval*1E3,j;if(e.autoplay){if(e.pauseOnHover){c.on(q.container,"mouseenter",function(){q.stop();q.paused=true});c.on(q.container,"mouseleave",function(){q.paused=false;r()})}r();q.stop=function(){if(j){j.cancel();
j=o}}}}});return m},{requires:["event","switchable/base"]});KISSY.add("switchable/autorender",function(g,c,m,o){o.autoRender=function(q,r){q="."+(q||"KS_Widget");c.query(q,r).each(function(e){var b=e.getAttribute("data-widget-type"),j;if(b&&"Switchable Tabs Slide Carousel Accordion".indexOf(b)>-1)try{if(j=e.getAttribute("data-widget-config"))j=j.replace(/'/g,'"');new g[b](e,m.parse(j))}catch(n){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/carousel",function(g,c,m,o,q){function r(l,v){var x=this;if(!(x instanceof r))return new r(l,v);x.on("init",function(){e(x)});r.superclass.constructor.call(x,l,g.merge(a,v));return 0}function e(l){var v=l.config,x=v.disableBtnCls,z=false;g.each(["prev","next"],function(p){var t=l[p+"Btn"]=c.get(b+v[p+"BtnCls"],l.container);m.on(t,"click",function(d){d.preventDefault();z||c.hasClass(t,x)||l[p]()})});if(!v.circular){l.on("beforeSwitch",function(){z=true});l.on("switch",function(p){p=
p.currentIndex;p=p===0?l[j]:p===l.length-1?l[n]:q;c.removeClass([l[j],l[n]],x);p&&c.addClass(p,x);z=false})}m.on(l.panels,"click focus",function(){l.fire("itemSelected",{item:this})})}var b=".",j="prevBtn",n="nextBtn",a={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};g.extend(r,o);return r},{requires:["dom","event","switchable/base"]});
KISSY.add("switchable/effect",function(g,c,m,o,q,r){var e;g.mix(q.Config,{effect:"none",duration:0.5,easing:"easeNone",nativeAnim:true});q.Effects={none:function(b,j,n){c.css(b,"display","none");c.css(j,"display","block");n()},fade:function(b,j,n){b.length!==1&&g.error("fade effect only supports steps == 1.");var a=this,l=a.config,v=b[0],x=j[0];a.anim&&a.anim.stop(true);c.css(x,"opacity",1);a.anim=(new o(v,{opacity:0},l.duration,l.easing,function(){a.anim=r;c.css(x,"z-index",9);c.css(v,"z-index",
1);n()},l.nativeAnim)).run()},scroll:function(b,j,n,a){var l=this;b=l.config;j=b.effect==="scrollx";var v={};v[j?"left":"top"]=-(l.viewSize[j?0:1]*a)+"px";l.anim&&l.anim.stop();l.anim=(new o(l.content,v,b.duration,b.easing,function(){l.anim=r;n()},b.nativeAnim)).run()}};e=q.Effects;e.scrollx=e.scrolly=e.scroll;q.Plugins.push({name:"effect",init:function(b){var j=b.config,n=j.effect,a=b.panels,l=b.content,v=j.steps,x=b.activeIndex,z=a.length;b.viewSize=[j.viewSize[0]||a[0].offsetWidth*v,j.viewSize[1]||
a[0].offsetHeight*v];if(n!=="none"){g.each(a,function(i){c.css(i,"display","block")});switch(n){case "scrollx":case "scrolly":c.css(l,"position","absolute");c.css(l.parentNode,"position","relative");if(n==="scrollx"){c.css(a,"float","left");c.width(l,b.viewSize[0]*(z/v))}break;case "fade":var p=x*v,t=p+v-1,d;g.each(a,function(i,f){d=f>=p&&f<=t;c.css(i,{opacity:d?1:0,position:"absolute",zIndex:d?9:1})})}}}});g.augment(q,{_switchView:function(b,j,n,a){var l=this,v=l.config.effect;(g.isFunction(v)?v:
e[v]).call(l,b,j,function(){l._fireOnSwitch(n)},n,a)}});return q},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/circular",function(g,c,m,o){function q(t,d,i,f,k){var h=this;t=h.config;d=h.length;var s=h.activeIndex,u=t.scrollType===p,w=u?n:a,y=h.viewSize[u?0:1];u=-y*f;var A={},B,C=k===z;if(B=C&&s===0&&f===d-1||k===x&&s===d-1&&f===0)u=r.call(h,h.panels,f,C,w,y);A[w]=u+v;h.anim&&h.anim.stop();h.anim=(new m(h.content,A,t.duration,t.easing,function(){B&&e.call(h,h.panels,f,C,w,y);h.anim=undefined;i()},t.nativeAnim)).run()}function r(t,d,i,f,k){var h=this.config.steps;d=this.length;var s=i?
d-1:0,u=(s+1)*h;for(h=s*h;h<u;h++){c.css(t[h],b,j);c.css(t[h],f,(i?-1:1)*k*d)}return i?k:-k*d}function e(t,d,i,f,k){var h=this.config.steps;d=this.length;var s=i?d-1:0,u=(s+1)*h;for(h=s*h;h<u;h++){c.css(t[h],b,l);c.css(t[h],f,l)}c.css(this.content,f,i?-k*(d-1):l)}var b="position",j="relative",n="left",a="top",l="",v="px",x="forward",z="backward",p="scrollx";g.mix(o.Config,{circular:false});o.Plugins.push({name:"circular",init:function(t){t=t.config;if(t.circular&&(t.effect===p||t.effect==="scrolly")){t.scrollType=
t.effect;t.effect=q}}})},{requires:["dom","anim","switchable/base","switchable/effect"]});
KISSY.add("switchable/countdown",function(g,c,m,o,q,r){g.mix(q.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});q.Plugins.push({name:"countdown",init:function(e){function b(){j();z=(new o(l[e.activeIndex],x,a-1)).run()}function j(){if(z){z.stop();z=r}}var n=e.config,a=n.interval,l=[],v=n.countdownFromStyle,x=n.countdownToStyle,z;if(!(!n.autoplay||!n.hasTriggers||!n.countdown)){g.each(e.triggers,function(p,t){p.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
p.innerHTML+"</div>";l[t]=p.firstChild});if(n.pauseOnHover){m.on(e.container,"mouseenter",function(){j();var p=l[e.activeIndex];if(v)z=(new o(p,v,0.2,"easeOut")).run();else c.removeAttr(p,"style")});m.on(e.container,"mouseleave",function(){j();c.removeAttr(l[e.activeIndex],"style");g.later(b,200)})}e.on("beforeSwitch",function(){j();c.removeAttr(l[e.activeIndex],"style")});e.on("switch",function(){e.paused||b()});b(e.activeIndex)}}});return q},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/lazyload",function(g,c,m){var o="beforeSwitch",q="img-src",r="area-data",e={};e[q]="data-ks-lazyload-custom";e[r]="ks-datalazyload-custom";g.mix(m.Config,{lazyDataType:r});m.Plugins.push({name:"lazyload",init:function(b){function j(x){var z=a.steps;x=x.toIndex*z;n.loadCustomLazyData(b.panels.slice(x,x+z),l);a:{var p,t;if(x=(z=l===q)?"img":l===r?"textarea":""){x=c.query(x,b.container);p=0;for(t=x.length;p<t;p++)if(z?c.attr(x[p],v):c.hasClass(x[p],v)){z=false;break a}}z=true}z&&
b.detach(o,j)}var n=g.require("datalazyload"),a=b.config,l=a.lazyDataType,v=e[l];!n||!l||!v||b.on(o,j)}});return m},{requires:["dom","switchable/base"]});KISSY.add("switchable/slide",function(g,c){function m(q,r){if(!(this instanceof m))return new m(q,r);m.superclass.constructor.call(this,q,g.merge(o,r));return 0}var o={autoplay:true,circular:true};g.extend(m,c);return m},{requires:["switchable/base"]});
KISSY.add("switchable/tabs",function(g,c){function m(o,q){if(!(this instanceof m))return new m(o,q);m.superclass.constructor.call(this,o,q);return 0}g.extend(m,c);return m},{requires:["switchable/base"]});
KISSY.add("switchable",function(g,c,m,o,q,r,e,b,j,n,a,l){g.Switchable=c;m={Accordion:m,Carousel:r,Slide:a,Tabs:l};g.mix(g,m);g.mix(c,m);return c},{requires:["switchable/base","switchable/accordion","switchable/autoplay","switchable/autorender","switchable/carousel","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide","switchable/tabs"]});
KISSY.add("overlay/overlayrender",function(g,c,m,o){function q(r){return g.require("uibase/"+r)}return m.create(o.Render,[q("contentboxrender"),q("positionrender"),q("loadingrender"),c.ie==6?q("shimrender"):null,q("maskrender")],{renderUI:function(){this.get("el").addClass(this.get("prefixCls")+"overlay")}},{ATTRS:{prefixCls:{value:"ks-"},elOrder:0}})},{requires:["ua","uibase","component"]});
KISSY.add("overlay/overlay",function(g,c,m,o){function q(r){return g.require("uibase/"+r)}c=c.create(m.ModelControl,[q("contentbox"),q("position"),q("loading"),q("align"),q("resize"),q("mask")]);c.DefaultRender=o;return c},{requires:["uibase","component","./overlayrender"]});KISSY.add("overlay/dialogrender",function(g,c,m){return c.create(m,[g.require("uibase/stdmodrender"),g.require("uibase/closerender")])},{requires:["uibase","./overlayrender"]});
KISSY.add("overlay/dialog",function(g,c,m,o){function q(r){return g.require("uibase/"+r)}c=m.create(c,[q("stdmod"),q("close"),q("drag"),q("constrain")],{renderUI:function(){this.get("view").get("el").addClass("ks-dialog");this.set("handlers",[this.get("view").get("header")])}});c.DefaultRender=o;return c},{requires:["overlay/overlay","uibase","overlay/dialogrender"]});
KISSY.add("overlay",function(g,c,m,o,q){c.Render=m;o.Render=q;c.Dialog=o;g.Overlay=c;g.Dialog=o;return c},{requires:["overlay/overlay","overlay/overlayrender","overlay/dialog","overlay/dialogrender"]});KISSY.add("suggest",function(g,c){return g.Suggest=c},{requires:["suggest/base"]});
KISSY.add("suggest/base",function(g,c,m,o,q){function r(f,k,h){if(!(this instanceof r))return new r(f,k,h);this.textInput=c.get(f);this.config=h=g.merge(i,h);k+=k.indexOf("?")===-1?"?":"&";this.dataSource=k+h.callbackName+"="+(f=h.callbackFn);if(f!==z){h=f;f=h.split(".");k=f.length;if(k>1){h=h.replace(/^(.*)\..+$/,"$1");h=g.namespace(h,true);h[f[k-1]]=b}else j[h]=b}this.queryParams=this.query=p;this._dataCache={};this._init();return 0}function e(f,k){if(k.nodeType===1){c.html(f,p);f.appendChild(k)}else c.html(f,
k)}function b(f){r.focusInstance&&g.later(function(){r.focusInstance._handleResponse(f)},0)}var j=window,n=g.require("event/target"),a=document,l,v=c.get("head"),x=o.ie,z="KISSY.Suggest.callback",p="",t=parseInt,d=/^(?:input|button|a)$/i,i={containerCls:p,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:x===6,submitOnSelect:true,offset:-1,charset:"utf-8",callbackName:"callback",callbackFn:z,queryName:"q"};g.augment(r,n,{_init:function(){l=a.body;this._initTextInput();this._initContainer();this.config.shim&&
this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var f=this,k=f.textInput,h=false,s=0;c.attr(k,"autocomplete","off");f.config.autoFocus&&k.focus();m.on(k,"keydown",function(u){var w=u.keyCode;if(w===27){f.hide();k.value=f.query}else if(w>32&&w<41)if(k.value){if(w===40||w===38){if(s++===0){f._isRunning&&f.stop();h=true;f._selectItem(w===40)}else if(s==3)s=0;u.preventDefault()}}else k.blur();else if(w===13){k.blur();if(h)if(k.value==f._getSelectedItemKey())if(f.fire("itemSelect")===
false)return;f._submitForm()}else{f._isRunning||f.start();h=false}});m.on(k,"keyup",function(){s=0});m.on(k,"blur",function(){f.stop();g.later(function(){f._focusing||f.hide()},0)})},_initContainer:function(){var f=this.config.containerCls;f=c.create("<div>",{"class":"ks-suggest-container"+(f?" "+f:p),style:"position:absolute;visibility:hidden"});var k=c.create("<div>",{"class":"ks-suggest-content"}),h=c.create("<div>",{"class":"ks-suggest-footer"});f.appendChild(k);f.appendChild(h);l.insertBefore(f,
l.firstChild);this.container=f;this.content=k;this.footer=h;this._initContainerEvent()},_setContainerRegion:function(){var f=this.config,k=this.textInput,h=c.offset(k),s=this.container;c.offset(s,{left:h.left,top:h.top+k.offsetHeight+f.offset});c.width(s,f.containerWidth||k.offsetWidth-2)},_initContainerEvent:function(){var f=this,k=f.textInput,h=f.container,s=f.content,u=f.footer,w,y;m.on(s,"mousemove",function(A){A=A.target;if(A.nodeName!=="LI")A=c.parent(A,"li");if(c.contains(s,A))if(A!==f.selectedItem){f._removeSelectedItem();
f._setSelectedItem(A)}});m.on(s,"mousedown",function(A){A=A.target;if(A.nodeName!=="LI")A=c.parent(A,"li");w=A});m.on(h,"mousedown",function(A){if(!d.test(A.target.nodeName)){k.onbeforedeactivate=function(){j.event.returnValue=false;k.onbeforedeactivate=null};A.preventDefault()}});m.on(s,"mouseup",function(A){var B=A.target;if(!(A.which>2)){if(B.nodeName!=="LI")B=c.parent(B,"li");if(B==w)if(c.contains(s,B)){f._updateInputFromSelectItem(B);if(f.fire("itemSelect")!==false){k.blur();f._submitForm()}}}});
m.on(u,"focusin",function(){f._focusing=true;f._removeSelectedItem();y=false});m.on(u,"focusout",function(){f._focusing=false;g.later(function(){if(y)f.hide();else f._focusing||f.textInput.focus()},0)});m.on(f.container,"mouseleave",function(){y=true});m.on(u,"click",function(A){c.hasClass(A.target,"ks-suggest-closebtn")&&f.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var f=this.textInput.form;if(f)if(this.fire("beforeSubmit",{form:f})!==false){if(a.createEvent){var k=a.createEvent("MouseEvents");
k.initEvent("submit",true,false);f.dispatchEvent(k)}else a.createEventObject&&f.fireEvent("onsubmit");f.submit()}}},_initShim:function(){var f=c.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});this.container.shim=f;l.insertBefore(f,l.firstChild)},_setShimRegion:function(){var f=this.container,k=f.style,h=f.shim;h&&c.css(h,{left:t(k.left)-2,top:k.top,width:t(k.width)+2,height:c.height(f)-2})},_initStyle:function(){c.get("#ks-suggest-style")||
c.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var f=this;m.on(j,"resize",function(){f._setContainerRegion();f._setShimRegion()})},start:function(){var f=this;if(f.fire("beforeStart")!==false){r.focusInstance=f;f._timer=g.later(function(){f._updateContent();f._timer=g.later(arguments.callee,200)},200);f._isRunning=true}},stop:function(){r.focusInstance=q;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var f=this.container,k=f.shim;this._setContainerRegion();
f.style.visibility=p;if(k){this._setShimRegion();k.style.visibility=p}}},hide:function(){if(this.isVisible()){var f=this.container,k=f.shim;if(k)k.style.visibility="hidden";f.style.visibility="hidden"}},isVisible:function(){return this.container.style.visibility!="hidden"},_updateContent:function(){var f=this.textInput;if(f.value!=this.query){f=this.query=f.value;if(g.trim(f))if(this._dataCache[f]!==q){this._fillContainer(this._dataCache[f]);this._displayContainer()}else this._requestData();else{this._fillContainer();
this.hide()}}},_requestData:function(){var f=this,k=f.config,h;if(!x)f.dataScript=q;if(!f.dataScript){h=a.createElement("script");h.charset=k.charset;h.async=true;v.insertBefore(h,v.firstChild);f.dataScript=h;if(!x){var s=g.now();f._latestScriptTime=s;c.attr(h,"data-time",s);m.on(h,"load",function(){f._scriptDataIsOut=c.attr(h,"data-time")!=f._latestScriptTime})}}f.queryParams=k.queryName+"="+encodeURIComponent(f.query);if(f.fire("beforeDataRequest")!==false)f.dataScript.src=f.dataSource+"&"+f.queryParams},
_handleResponse:function(f){var k=p,h,s,u,w;if(!this._scriptDataIsOut){this.returnedData=f;if(this.fire("dataReturn",{data:f})!==false){f=this._formatData(this.returnedData);if((h=f.length)>0){s=c.create("<ol>");for(k=0;k<h;++k){u=f[k];u=this._formatItem(w=u.key,u.result);c.attr(u,"key",w);c.addClass(u,k%2?"ks-even":"ks-odd");s.appendChild(u)}k=s}this._fillContainer(k);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=c.html(this.content);this._displayContainer()}}}},_formatData:function(f){var k=
[],h,s,u,w=0;if(!f)return k;if(g.isArray(f.result))f=f.result;if(!(h=f.length))return k;for(u=0;u<h;++u){s=f[u];if(g.isString(s))k[w++]={key:s};else if(g.isArray(s)&&s.length>1)k[w++]={key:s[0],result:s[1]}}return k},_formatItem:function(f,k){var h=c.create("<li>"),s;h.appendChild(c.create("<span>",{"class":"ks-suggest-key",html:f}));if(k){s=this.config.resultFormat.replace("%result%",k);g.trim(s)&&h.appendChild(c.create("<span>",{"class":"ks-suggest-result",html:s}))}return h},_fillContainer:function(f,
k){this._fillContent(f||p);this._fillFooter(k||p)},_fillContent:function(f){e(this.content,f);this.selectedItem=q},_fillFooter:function(f){var k=this.config,h=this.footer;e(h,f);k.closeBtn&&h.appendChild(c.create("<a>",{"class":"ks-suggest-closebtn",text:k.closeBtnText,href:"javascript: void(0)",target:"_self"}));this.fire("updateFooter",{footer:h,query:this.query});c.css(h,"display",c.text(h)?p:"none")},_displayContainer:function(){g.trim(c.text(this.container))?this.show():this.hide()},_selectItem:function(f){var k=
c.query("li",this.container);if(k.length!==0)if(this.isVisible()){if(this.selectedItem){f=c[f?"next":"prev"](this.selectedItem);if(!f)this.textInput.value=this.query}else f=k[f?0:k.length-1];this._removeSelectedItem();if(f){this._setSelectedItem(f);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){c.removeClass(this.selectedItem,"ks-selected");this.selectedItem=q},_setSelectedItem:function(f){c.addClass(f,"ks-selected");this.selectedItem=f;this.textInput.focus()},
_getSelectedItemKey:function(){if(!this.selectedItem)return p;return c.attr(this.selectedItem,"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});r.version=1.1;r.callback=b;return g.Suggest=r},{requires:["dom","event","ua"]});
KISSY.add("imagezoom/zoomer",function(g,c,m){function o(){var a;if((a=this.get("bigImageSrc"))&&this.get("preload"))(new Image).src=a;this._isInner=this.get("type")===e}function q(a,l){var v=a[0];v&&v.complete&&v.clientWidth?l():a.on("load",l)}var r=new c(document.body),e="inner",b=/^.+\.(?:jpg|png|gif)$/i,j=Math.round,n=Math.min;o.ATTRS={width:{valueFn:function(){return this.get("imageWidth")}},height:{valueFn:function(){return this.get("imageHeight")}},elCls:{value:"ks-imagezoom-viewer"},elStyle:{value:{overflow:"hidden",
position:"absolute"}},type:{value:"standard"},preload:{value:true},bigImageSrc:{setter:function(a){if(a&&b.test(a))return a;return this.get("bigImageSrc")},valueFn:function(){var a=this.get("imageNode");if(a)if((a=a.attr("data-ks-imagezoom"))&&b.test(a))return a;return m}},bigImageWidth:{valueFn:function(){var a=this.bigImage;return(a=a&&a.width())||800}},bigImageHeight:{valueFn:function(){var a=this.bigImage;return(a=a&&a.height())||800}},currentMouse:{value:m},lensClass:{value:"ks-imagezoom-lens"},
lensHeight:{value:m},lensWidth:{value:m},lensTop:{value:m},lensLeft:{value:m}};o.HTML_PARSER={};g.augment(o,{__renderUI:function(){var a=this,l;a.viewer=a.get("contentEl");l=a.bigImage=(new c('<img src="'+a.get("bigImageSrc")+'" />')).css("position","absolute").appendTo(a.viewer);a._setLensSize();a._setLensOffset();if(a._isInner){a.set("align",{node:a.image,points:["cc","cc"]});a._bigImageCopy=(new c('<img src="'+a.image.attr("src")+'"  />')).css("position","absolute").width(a.get("bigImageWidth")).height(a.get("bigImageHeight")).prependTo(a.viewer)}else a.lens=
(new c('<div class="'+a.get("lensClass")+'"></div>')).css("position","absolute").appendTo(r).hide();a.viewer.appendTo(a.get("el"));a.loading();q(l,function(){a.unloading();a._setLensSize();a.set("bigImageWidth",l.width());a.set("bigImageHeight",l.height())})},__bindUI:function(){var a=this;a.on("afterVisibleChange",function(l){if(l.newVal){a._isInner&&a._anim(0.4,42);r.on("mousemove",a._mouseMove,a)}else{(l=a.lens)&&l.hide();r.detach("mousemove",a._mouseMove,a)}})},__syncUI:function(){},__destructor:function(){this.viewer.remove();
this.lens.remove()},_setLensSize:function(){var a=this.get("imageWidth"),l=this.get("imageHeight"),v=this.get("bigImageWidth"),x=this.get("bigImageHeight"),z=this.get("width"),p=this.get("height");this.set("lensWidth",n(j(z*a/v),a));this.set("lensHeight",n(j(p*l/x),l))},_setLensOffset:function(a){a=a||this.get("currentMouse");var l=this.get("imageLeft"),v=this.get("imageTop"),x=this.get("imageWidth"),z=this.get("imageHeight");this.get("width");this.get("height");var p=this.get("lensWidth"),t=this.get("lensHeight"),
d=a.pageX-p/2;a=a.pageY-t/2;if(d<=l)d=l;else if(d>=x+l-p)d=x+l-p;if(a<=v)a=v;else if(a>=z+v-t)a=z+v-t;this.set("lensLeft",d);this.set("lensTop",a)},_mouseMove:function(a){var l=this.get("imageLeft"),v=this.get("imageTop"),x=this.get("imageWidth"),z=this.get("imageHeight");a.pageX>l&&a.pageX<l+x&&a.pageY>v&&a.pageY<v+z?this.set("currentMouse",a):this.hide()},_anim:function(a,l){var v=this,x,z=1;x=v.get("imageLeft");var p=v.get("imageTop"),t=v.get("imageWidth"),d=v.get("imageHeight"),i=v.get("bigImageWidth"),
f=v.get("bigImageHeight"),k=-j((v.get("lensLeft")-x)*i/t),h=-j((v.get("lensTop")-p)*f/d),s,u,w;v._animTimer&&v._animTimer.cancel();v.bigImage.width(t).height(d);v._bigImageCopy.width(t).height(d);v._animTimer=g.later(x=function(){s=t+(i-t)/l*z;u=d+(f-d)/l*z;w={left:k/l*z,top:h/l*z};v.bigImage.width(s).height(u).css(w);v._bigImageCopy.width(s).height(u).css(w);if(++z>l){v._animTimer.cancel();v._animTimer=m}},a*1E3/l,true);x()},_uiSetCurrentMouse:function(a){if(!(!this.bigImage||this._animTimer)){var l=
this.lens;l&&l.show();this._setLensOffset(a);a={left:-j((this.get("lensLeft")-this.get("imageLeft"))*this.get("bigImageWidth")/this.get("imageWidth")),top:-j((this.get("lensTop")-this.get("imageTop"))*this.get("bigImageHeight")/this.get("imageHeight"))};this._bigImageCopy&&this._bigImageCopy.css(a);this.bigImage.css(a)}},_uiSetLensWidth:function(a){this.lens&&this.lens.width(a)},_uiSetLensHeight:function(a){this.lens&&this.lens.height(a)},_uiSetLensTop:function(a){this.lens&&this.lens.offset({top:a})},
_uiSetLensLeft:function(a){this.lens&&this.lens.offset({left:a})},_uiSetBigImageWidth:function(a){a&&this.bigImage&&this.bigImage.width(a);a&&this._bigImageCopy&&this._bigImageCopy.width(a)},_uiSetBigImageHeight:function(a){a&&this.bigImage&&this.bigImage.height(a);a&&this._bigImageCopy&&this._bigImageCopy.height(a)},_uiSetBigImageSrc:function(a){a&&this.bigImage&&this.bigImage.attr("src",a);a&&this._bigImageCopy&&this._bigImageCopy.attr("src",a)}});o.__imgOnLoad=q;return o},{requires:["node"]});
KISSY.add("imagezoom/base",function(g,c,m,o,q,r,e,b,j){function n(a){return g.require("uibase/"+a)}return r.create([n("boxrender"),n("contentboxrender"),n("positionrender"),n("loadingrender"),o.ie==6?n("shimrender"):null,n("align"),n("maskrender"),b],{initializer:function(){var a=this,l;(l=a.image=a.get("imageNode"))&&b.__imgOnLoad(l,function(){if(!a.imageWrap){a._render();a._bind()}})},renderUI:function(){},syncUI:function(){},bindUI:function(){},destructor:function(){this.image.detach()},_render:function(){var a=
this.image;(this.imageWrap=(new e(g.substitute("<div class='{wrapClass}'></div>",{wrapClass:this.get("wrapClass")}))).insertBefore(a)).prepend(a);if(this.get("showIcon")){this.icon=new e(g.substitute("<span class='{iconClass}'></span>",{iconClass:this.get("iconClass")}));this.imageWrap.append(this.icon)}},_bind:function(){var a=this,l;a.image.on("mouseenter",function(v){if(a.get("hasZoom"))l=g.later(function(){a.set("currentMouse",v);a.show();l=j},50)}).on("mouseleave",function(){if(l){l.cancel();
l=j}});a.on("afterVisibleChange",function(v){if(v.newVal)(v=a.icon)&&v.hide();else(v=a.icon)&&v.show()})},_uiSetHasZoom:function(a){if(a)(a=this.icon)&&a.show();else(a=this.icon)&&a.hide()}},{ATTRS:{imageNode:{setter:function(a){return e.one(a)}},wrapClass:{value:"ks-imagezoom-wrap"},imageWidth:{valueFn:function(){var a=this.get("imageNode");return(a=a&&a.width())||400}},imageHeight:{valueFn:function(){var a=this.get("imageNode");return(a=a&&a.height())||400}},imageLeft:{valueFn:function(){var a=
this.get("imageNode");return(a=a&&a.offset().left)||400}},imageTop:{valueFn:function(){var a=this.get("imageNode");return(a=a&&a.offset().top)||400}},hasZoom:{value:true,setter:function(a){return!!a}},showIcon:{value:true},iconClass:{value:"ks-imagezoom-icon"}}})},{requires:["dom","event","ua","anim","uibase","node","imagezoom/zoomer"]});
KISSY.add("imagezoom/autorender",function(g,c,m,o){o.autoRender=function(q,r){q="."+(q||"KS_Widget");c.query(q,r).each(function(e){var b;if(e.getAttribute("data-widget-type")==="ImageZoom")try{if(b=e.getAttribute("data-widget-config"))b=b.replace(/'/g,'"');new o(e,m.parse(b))}catch(j){}})}},{requires:["dom","json","imagezoom/base"]});KISSY.add("imagezoom",function(g,c){return g.ImageZoom=c},{requires:["imagezoom/base","imagezoom/autorender"]});
KISSY.add("calendar/base",function(g,c,m,o){function q(b,j){this._init(b,j)}var r=g.require("node/node"),e=g.require("event/target");g.augment(q,{_init:function(b,j){var n=r.one(b);this.id=this.C_Id=this._stamp(n);this._buildParam(j);if(this.popup){this.trigger=n;this.con=new r("<div>");r.one("body").append(this.con);this.C_Id=this._stamp(this.con);this.con.css({top:"0px",position:"absolute",background:"white",visibility:"hidden"})}else this.con=n;n=function(){};g.augment(n,e);n=new n;g.mix(this,
n);this.render();this._buildEvent();return this},render:function(b){var j=0,n,a;b=b||{};this._parseParam(b);this.ca=[];this.con.addClass("ks-cal-call ks-clearfix multi-"+this.pages);this.con.html("");j=0;for(a=[this.year,this.month];j<this.pages;j++){if(j===0)b=true;else{b=false;a=this._computeNextMonth(a)}n=j==this.pages-1;this.ca.push(new this.Page({year:a[0],month:a[1],prevArrow:b,nextArrow:n,showTime:this.showTime},this));this.ca[j].render()}return this},_stamp:function(b){if(b.attr("id")===o||
b.attr("id")==="")b.attr("id","K_"+g.now());return b.attr("id")},_showdate:function(b,j){var n=new Date(j-0+b*864E5);n=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate();return new Date(n)},_buildEvent:function(){var b=this;if(!b.popup)return this;for(var j=0;j<b.EV.length;j++)b.EV[j]!==o&&b.EV[j].detach();b.EV[0]=r.one("body").on("click",function(n){if(n.target.attr("id")!==b.C_Id)if(!((n.target.hasClass("ks-next")||n.target.hasClass("ks-prev"))&&n.target[0].tagName==="A"))if(n.target.attr("id")!=
b.id)if(b.con.css("visibility")!="hidden")(function(a,l){return a[0]>l[0].x&&a[0]<l[1].x&&a[1]>l[0].y&&a[1]<l[1].y})([n.pageX,n.pageY],[{x:b.con.offset().left,y:b.con.offset().top},{x:b.con.offset().left+b.con.width(),y:b.con.offset().top+b.con.height()}])||b.hide()});for(j=0;j<b.triggerType.length;j++)b.EV[1]=r.one("#"+b.id).on(b.triggerType[j],function(n){n.target=r(n.target);n.preventDefault();var a=b.triggerType;if(g.inArray("click",a)&&g.inArray("focus",a))n.type=="focus"&&b.toggle();else if(g.inArray("click",
a)&&!g.inArray("focus",a))n.type=="click"&&b.toggle();else!g.inArray("click",a)&&g.inArray("focus",a)?setTimeout(function(){b.toggle()},170):b.toggle()});return this},toggle:function(){this.con.css("visibility")=="hidden"?this.show():this.hide()},show:function(){this.con.css("visibility","");var b=this.trigger.offset().left,j=this.trigger[0].offsetHeight||this.trigger.height();j=this.trigger.offset().top+j;this.con.css("left",b.toString()+"px");this.con.css("top",j.toString()+"px");return this},hide:function(){this.con.css("visibility",
"hidden");return this},_buildParam:function(b){function j(v,x){var z=b[x];n[x]=z===o||z===null?v:z}var n=this;if(b===o||b===null)b={};g.each({date:new Date,startDay:0,pages:1,closable:false,rangeSelect:false,minDate:false,maxDate:false,multiSelect:false,navigator:true,popup:false,showTime:false,triggerType:["click"]},j);if(typeof b.triggerType==="string")b.triggerType=[b.triggerType];j(n.date,"selected");if(b.startDay)n.startDay=(7-b.startDay)%7;if(b.range!==o&&b.range!==null){var a=n._showdate(1,
new Date(b.range.start.getFullYear()+"/"+(b.range.start.getMonth()+1)+"/"+b.range.start.getDate())),l=n._showdate(1,new Date(b.range.end.getFullYear()+"/"+(b.range.end.getMonth()+1)+"/"+b.range.end.getDate()));n.range={start:a,end:l}}else n.range={start:null,end:null};n.EV=[];return this},_parseParam:function(b){var j;if(b===o||b===null)b={};for(j in b)this[j]=b[j];this._handleDate();return this},_templetShow:function(b,j){var n,a,l,v;if(j instanceof Array){n="";for(a=0;a<j.length;a++)n+=arguments.callee(b,
j[a]);b=n}else{n=b.match(/{\$(.*?)}/g);if(j!==o&&n!==null){a=0;for(l=n.length;a<l;a++){v=n[a].replace(/({\$)|}/g,"");v=j[v]!==o?j[v]:"";b=b.replace(n[a],v)}}}return b},_handleDate:function(){var b=this.date;this.weekday=b.getDay()+1;this.day=b.getDate();this.month=b.getMonth();this.year=b.getFullYear();return this},_getHeadStr:function(b,j){return b.toString()+"\u5e74"+(Number(j)+1).toString()+"\u6708"},_monthAdd:function(){if(this.month==11){this.year++;this.month=0}else this.month++;this.date=new Date(this.year.toString()+
"/"+(this.month+1).toString()+"/"+this.day.toString());return this},_monthMinus:function(){if(this.month===0){this.year--;this.month=11}else this.month--;this.date=new Date(this.year.toString()+"/"+(this.month+1).toString()+"/"+this.day.toString());return this},_computeNextMonth:function(b){var j=b[0];b=b[1];if(b==11){j++;b=0}else b++;return[j,b]},_handleOffset:function(){var b=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],j=this.startDay,n="";n=[];for(var a=0;a<7;a++)n[a]={day:b[(a-j+7)%7]};n=this._templetShow("<span>{$day}</span>",
n);return{day_html:n}},_handleRange:function(b){if(this.range.start===null&&this.range.end===null||this.range.start!==null&&this.range.end!==null){this.range.start=b;this.range.end=null;this.render()}else if(this.range.start!==null&&this.range.end===null){this.range.end=b;if(this.range.start.getTime()>this.range.end.getTime()){b=this.range.start;this.range.start=this.range.end;this.range.end=b}this.fire("rangeSelect",this.range);this.render()}return this}});return q},{requires:["node","event"]});
KISSY.add("calendar/date",function(){var g=function(){var c=/w{1}|d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,m=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,o=/[^-+\dA-Z]/g,q=function(b,j){b=String(b);for(j=j||2;b.length<j;)b="0"+b;return b},r={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",longTime:"h:MM:ss TT Z",
isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUTCDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",localShortDate:"yy\u5e74mm\u6708dd\u65e5",localShortDateTime:"yy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localLongDate:"yyyy\u5e74mm\u6708dd\u65e5",localLongDateTime:"yyyy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localFullDate:"yyyy\u5e74mm\u6708dd\u65e5 w",localFullDateTime:"yyyy\u5e74mm\u6708dd\u65e5 w hh:MM:ss TT"},e={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94",
"\u661f\u671f\u516d"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};return function(b,j,n){if(arguments.length==1&&Object.prototype.toString.call(b)=="[object String]"&&!/\d/.test(b)){j=b;b=undefined}b=b?new Date(b):new Date;if(isNaN(b))throw SyntaxError("invalid date");j=String(r[j]||j||r["default"]);if(j.slice(0,4)=="UTC:"){j=j.slice(4);n=true}var a=n?"getUTC":"get",
l=b[a+"Date"](),v=b[a+"Day"](),x=b[a+"Month"](),z=b[a+"FullYear"](),p=b[a+"Hours"](),t=b[a+"Minutes"](),d=b[a+"Seconds"]();a=b[a+"Milliseconds"]();var i=n?0:b.getTimezoneOffset(),f={d:l,dd:q(l,undefined),ddd:e.dayNames[v],dddd:e.dayNames[v+7],w:e.dayNames[v+14],m:x+1,mm:q(x+1,undefined),mmm:e.monthNames[x],mmmm:e.monthNames[x+12],yy:String(z).slice(2),yyyy:z,h:p%12||12,hh:q(p%12||12,undefined),H:p,HH:q(p,undefined),M:t,MM:q(t,undefined),s:d,ss:q(d,undefined),l:q(a,3),L:q(a>99?Math.round(a/10):a,undefined),
t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:n?"UTC":(String(b).match(m)||[""]).pop().replace(o,""),o:(i>0?"-":"+")+q(Math.floor(Math.abs(i)/60)*100+Math.abs(i)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return j.replace(c,function(k){return k in f?f[k]:k.slice(1,k.length-1)})}}();return{format:function(c,m,o){return g(c,m,o)},parse:function(c){var m=null;if(m instanceof Date)c=m;else{m=new Date(c);c=m instanceof Date&&m!="Invalid Date"&&!isNaN(m)?m:null}return c}}});
KISSY.add("calendar/page",function(g,c,m,o){var q=g.require("node/node");g.augment(o,{Page:function(r,e){this.father=e;this.month=Number(r.month);this.year=Number(r.year);this.prevArrow=r.prevArrow;this.nextArrow=r.nextArrow;this.timmer=this.node=null;this.id="";this.EV=[];this.html=['<div class="ks-cal-box" id="{$id}"><div class="ks-cal-hd"><a href="javascript:void(0);" class="ks-prev {$prev}"><</a><a href="javascript:void(0);" class="ks-title">{$title}</a><a href="javascript:void(0);" class="ks-next {$next}">></a></div><div class="ks-cal-bd"><div class="ks-whd">',
e._handleOffset().day_html,'</div><div class="ks-dbd ks-clearfix">{$ds}</div></div><div class="ks-setime hidden"></div><div class="ks-cal-ft {$showtime}"><div class="ks-cal-time">\u65f6\u95f4\uff1a00:00 &hearts;</div></div><div class="ks-selectime hidden"></div></div><!--#ks-cal-box--\>'].join("");this.nav_html='<p>\u6708<select value="{$the_month}"><option class="m1" value="1">01</option><option class="m2" value="2">02</option><option class="m3" value="3">03</option><option class="m4" value="4">04</option><option class="m5" value="5">05</option><option class="m6" value="6">06</option><option class="m7" value="7">07</option><option class="m8" value="8">08</option><option class="m9" value="9">09</option><option class="m10" value="10">10</option><option class="m11" value="11">11</option><option class="m12" value="12">12</option></select></p><p>\u5e74<input type="text" value="{$the_year}" onfocus="this.select()"/></p><p><button class="ok">\u786e\u5b9a</button><button class="cancel">\u53d6\u6d88</button></p>';
this.Verify=function(){return{isDay:function(b){if(!/^\d+$/i.test(b))return false;b=Number(b);return!(b<1||b>31)},isYear:function(b){if(!/^\d+$/i.test(b))return false;b=Number(b);return!(b<100||b>1E4)},isMonth:function(b){if(!/^\d+$/i.test(b))return false;b=Number(b);return!(b<1||b>12)}}};this._renderUI=function(){var b={};this.HTML="";b.prev="";b.next="";b.title="";b.ds="";if(!this.prevArrow)b.prev="hidden";if(!this.nextArrow)b.next="hidden";if(!this.father.showtime)b.showtime="hidden";b.id=this.id=
"ks-cal-"+Math.random().toString().replace(/.\./i,"");b.title=this.father._getHeadStr(this.year,this.month);this.createDS();b.ds=this.ds;this.father.con.append(this.father._templetShow(this.html,b));this.node=q.one("#"+this.id);if(this.father.showTime){b=this.node.one(".ks-cal-ft");b.removeClass("hidden");this.timmer=new this.father.TimeSelector(b,this.father)}return this};this._buildEvent=function(){var b=this,j,n=q.one("#"+b.id);for(j=0;j<b.EV.length;j++)typeof b.EV[j]!="undefined"&&b.EV[j].detach();
b.EV[0]=n.one("div.ks-dbd").on("click",function(a){a.target=q(a.target);if(!a.target.hasClass("ks-null"))if(!a.target.hasClass("ks-disabled")){a=Number(a.target.html());var l=new Date("2010/01/01");l.setDate(a);l.setYear(b.year);l.setMonth(b.month);b.father.dt_date=l;b.father.fire("select",{date:l});b.father.popup&&b.father.closable&&b.father.hide();b.father.rangeSelect&&b.father._handleRange(l);b.father.render({selected:l})}});b.EV[1]=n.one("a.ks-prev").on("click",function(a){a.preventDefault();
b.father._monthMinus().render();b.father.fire("monthChange",{date:new Date(b.father.year+"/"+(b.father.month+1)+"/01")})});b.EV[2]=n.one("a.ks-next").on("click",function(a){a.preventDefault();b.father._monthAdd().render();b.father.fire("monthChange",{date:new Date(b.father.year+"/"+(b.father.month+1)+"/01")})});if(b.father.navigator){b.EV[3]=n.one("a.ks-title").on("click",function(a){try{b.timmer.hidePopup();a.preventDefault()}catch(l){}a.target=q(a.target);a=n.one(".ks-setime");a.html("");var v=
b.father._templetShow(b.nav_html,{the_month:b.month+1,the_year:b.year});a.html(v);a.removeClass("hidden");n.one("input").on("keydown",function(x){x.target=q(x.target);if(x.keyCode==38){x.target.val(Number(x.target.val())+1);x.target[0].select()}if(x.keyCode==40){x.target.val(Number(x.target.val())-1);x.target[0].select()}if(x.keyCode==13){x=n.one(".ks-setime").one("select").val();var z=n.one(".ks-setime").one("input").val();n.one(".ks-setime").addClass("hidden");if(b.Verify().isYear(z))if(b.Verify().isMonth(x)){b.father.render({date:new Date(z+
"/"+x+"/01")});b.father.fire("monthChange",{date:new Date(z+"/"+x+"/01")})}}})});b.EV[4]=n.one(".ks-setime").on("click",function(a){a.preventDefault();a.target=q(a.target);if(a.target.hasClass("ok")){a=n.one(".ks-setime").one("select").val();var l=n.one(".ks-setime").one("input").val();n.one(".ks-setime").addClass("hidden");if(b.Verify().isYear(l))if(b.Verify().isMonth(a)){b.father.render({date:new Date(l+"/"+a+"/01")});b.father.fire("monthChange",{date:new Date(l+"/"+a+"/01")})}}else a.target.hasClass("cancel")&&
n.one(".ks-setime").addClass("hidden")})}return this};this._getNode=function(){return this.node};this._getNumOfDays=function(b,j){return 32-(new Date(b,j-1,32)).getDate()};this.createDS=function(){var b="",j=((new Date(this.year+"/"+(this.month+1)+"/01")).getDay()+this.father.startDay+7)%7,n=this._getNumOfDays(this.year,this.month+1)+j,a,l;for(a=0;a<n;a++){l=/532/.test(c.webkit)?new Date(this.year+"/"+Number(this.month+1)+"/"+(a+1-j).toString()):new Date(this.year+"/"+Number(this.month+1)+"/"+(a+
2-j).toString());var v=new Date(this.year+"/"+Number(this.month+1)+"/"+(a+1-j).toString());b+=a<j?'<a href="javascript:void(0);" class="ks-null">0</a>':this.father.minDate instanceof Date&&(new Date(this.year+"/"+(this.month+1)+"/"+(a+2-j))).getTime()<this.father.minDate.getTime()+1?'<a href="javascript:void(0);" class="ks-disabled">'+(a-j+1)+"</a>":this.father.maxDate instanceof Date&&(new Date(this.year+"/"+(this.month+1)+"/"+(a+1-j))).getTime()>this.father.maxDate.getTime()?'<a href="javascript:void(0);" class="ks-disabled">'+
(a-j+1)+"</a>":this.father.range.start!==null&&this.father.range.end!==null&&l.getTime()>=this.father._showdate(1,this.father.range.start).getTime()&&v.getTime()<this.father._showdate(1,this.father.range.end).getTime()?a==j+(new Date).getDate()-1&&(new Date).getFullYear()==this.year&&(new Date).getMonth()==this.month?'<a href="javascript:void(0);" class="ks-range ks-today">'+(a-j+1)+"</a>":'<a href="javascript:void(0);" class="ks-range">'+(a-j+1)+"</a>":a==j+(new Date).getDate()-1&&(new Date).getFullYear()==
this.year&&(new Date).getMonth()==this.month?'<a href="javascript:void(0);" class="ks-today">'+(a-j+1)+"</a>":a==j+this.father.selected.getDate()-1&&this.month==this.father.selected.getMonth()&&this.year==this.father.selected.getFullYear()?'<a href="javascript:void(0);" class="ks-selected">'+(a-j+1)+"</a>":'<a href="javascript:void(0);">'+(a-j+1)+"</a>"}if(n%7!==0)for(a=0;a<7-n%7;a++)b+='<a href="javascript:void(0);" class="ks-null">0</a>';this.ds=b;return this};this.render=function(){this._renderUI();
this._buildEvent();return this}}});return o},{requires:["ua","node","calendar/base"]});
KISSY.add("calendar/time",function(g,c,m){var o=g.require("node/node");g.augment(m,{TimeSelector:function(q,r){this.father=r;this.fcon=q.parent(".ks-cal-box");this.popupannel=this.fcon.one(".ks-selectime");if(typeof r._time=="undefined")r._time=new Date;this.time=r._time;this.status="s";this.ctime=o('<div class="ks-cal-time">\u65f6\u95f4\uff1a<span class="h">h</span>:<span class="m">m</span>:<span class="s">s</span><!--{{arrow--\><div class="cta"><button class="u"></button><button class="d"></button></div><!--arrow}}--\></div>');this.button=
o('<button class="ct-ok">\u786e\u5b9a</button>');this.h_a=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"];this.m_a=["00","10","20","30","40","50"];this.s_a=["00","10","20","30","40","50"];this.parseSubHtml=function(e){for(var b="",j=0;j<e.length;j++)b+='<a href="javascript:void(0);" class="item">'+e[j]+"</a>";b+='<a href="javascript:void(0);" class="x">x</a>';return b};this.showPopup=function(e){this.popupannel.html(e);this.popupannel.removeClass("hidden");
e=this.status;this.ctime.all("span").removeClass("on");switch(e){case "h":this.ctime.all(".h").addClass("on");break;case "m":this.ctime.all(".m").addClass("on");break;case "s":this.ctime.all(".s").addClass("on")}};this.hidePopup=function(){this.popupannel.addClass("hidden")};this.render=function(){var e=this.get("h"),b=this.get("m"),j=this.get("s");this.father._time=this.time;this.ctime.all(".h").html(e);this.ctime.all(".m").html(b);this.ctime.all(".s").html(j);return this};this.set=function(e,b){b=
Number(b);switch(e){case "h":this.time.setHours(b);break;case "m":this.time.setMinutes(b);break;case "s":this.time.setSeconds(b)}this.render()};this.get=function(e){var b=this.time;switch(e){case "h":return b.getHours();case "m":return b.getMinutes();case "s":return b.getSeconds()}};this.add=function(){var e=this.status,b=this.get(e);b++;this.set(e,b)};this.minus=function(){var e=this.status,b=this.get(e);b--;this.set(e,b)};this._init=function(){var e=this;q.html("").append(e.ctime);q.append(e.button);
e.render();e.popupannel.on("click",function(b){b=o(b.target);if(b.hasClass("x"))e.hidePopup();else if(b.hasClass("item")){b=Number(b.html());e.set(e.status,b);e.hidePopup()}});e.button.on("click",function(){var b=typeof e.father.dt_date=="undefined"?e.father.date:e.father.dt_date;b.setHours(e.get("h"));b.setMinutes(e.get("m"));b.setSeconds(e.get("s"));e.father.fire("timeSelect",{date:b});e.father.popup&&e.father.closable&&e.father.hide()});e.ctime.on("keyup",function(b){if(b.keyCode==38||b.keyCode==
37){b.preventDefault();e.add()}if(b.keyCode==40||b.keyCode==39){b.preventDefault();e.minus()}});e.ctime.one(".u").on("click",function(){e.hidePopup();e.add()});e.ctime.one(".d").on("click",function(){e.hidePopup();e.minus()});e.ctime.one(".h").on("click",function(){var b=e.parseSubHtml(e.h_a);e.status="h";e.showPopup(b)});e.ctime.one(".m").on("click",function(){var b=e.parseSubHtml(e.m_a);e.status="m";e.showPopup(b)});e.ctime.one(".s").on("click",function(){var b=e.parseSubHtml(e.s_a);e.status="s";
e.showPopup(b)})};this._init()}});return m},{requires:["node","calendar/base"]});KISSY.add("calendar",function(g,c,m,o,q){g.Calendar=c;g.Date=q;return c},{requires:["calendar/base","calendar/page","calendar/time","calendar/date"]});
