/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(e,q,C){var A={mix:function(k,m,n,c){if(!m||!k)return k;if(n===C)n=true;var i,j,o;if(c&&(o=c.length))for(i=0;i<o;i++){j=c[i];j in m&&z(j,k,m,n)}else for(j in m)z(j,k,m,n);return k}},z=function(k,m,n,c){if(c||!(k in m))m[k]=n[k]},u=e&&e[q]||{},G=0;e=u.__HOST||(u.__HOST=e||{});q=e[q]=A.mix(u,A,false);q.mix(q,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"@TIMESTAMP@",merge:function(){var k={},m,n=arguments.length;for(m=0;m<n;m++)q.mix(k,arguments[m]);
return k},augment:function(){var k=arguments,m=k.length-2,n=k[0],c=k[m],i=k[m+1],j=1;if(!q.isArray(i)){c=i;i=C;m++}if(!q.isBoolean(c)){c=C;m++}for(;j<m;j++)q.mix(n.prototype,k[j].prototype||k[j],c,i);return n},extend:function(k,m,n,c){if(!m||!k)return k;var i=Object.create?function(s,h){return Object.create(s,{constructor:{value:h}})}:function(s,h){function l(){}l.prototype=s;s=new l;s.constructor=h;return s},j=m.prototype,o;o=i(j,k);k.prototype=q.mix(o,k.prototype);k.superclass=i(j,m);n&&q.mix(o,
n);c&&q.mix(k,c);return k},__init:function(){this.Config=this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var k=arguments,m=k.length,n=null,c,i,j,o=k[m-1]===true&&m--;for(c=0;c<m;c++){j=(""+k[c]).split(".");n=o?e:this;for(i=e[j[0]]===n?1:0;i<j.length;++i)n=n[j[i]]=n[j[i]]||{}}return n},app:function(k,m){var n=q.isString(k),c=n?e[k]||{}:k,i=0,j=q.__APP_INIT_METHODS.length;for(q.mix(c,this,true,q.__APP_MEMBERS);i<j;i++)q[q.__APP_INIT_METHODS[i]].call(c);q.mix(c,
q.isFunction(m)?m():m);n&&(e[k]=c);return c},config:function(k){for(var m in k)this["_"+m]&&this["_"+m](k[m])},log:function(k,m,n){if(q.Config.debug){if(n)k=n+": "+k;if(e.console!==C&&console.log)console[m&&console[m]?m:"log"](k)}},error:function(k){if(q.Config.debug)throw k;},guid:function(k){return(k||"")+G++}});q.__init();return q})(this,"KISSY");
(function(e,q){var C=e.__HOST,A=Object.prototype.toString,z=Array.prototype.indexOf,u=Array.prototype.lastIndexOf,G=Array.prototype.filter,k=String.prototype.trim,m=/^\s+|\s+$/g,n={};e.mix(e,{type:function(c){return c==null?String(c):n[A.call(c)]||"object"},isNull:function(c){return c===null},isUndefined:function(c){return c===q},isEmptyObject:function(c){for(var i in c)return false;return true},isPlainObject:function(c){return c&&A.call(c)==="[object Object]"&&"isPrototypeOf"in c},clone:function(c,
i,j){var o=c,s,h,l=j||{};if(c&&((s=e.isArray(c))||e.isPlainObject(c))){if(c["__~ks_cloned"])return l[c["__~ks_cloned"]];c["__~ks_cloned"]=o=e.guid();l[o]=c;if(s)o=i?e.filter(c,i):c.concat();else{o={};for(h in c)if(h!=="__~ks_cloned"&&c.hasOwnProperty(h)&&(!i||i.call(c,c[h],h,c)!==false))o[h]=e.clone(c[h],i,l)}}if(!j){e.each(l,function(p){if(p["__~ks_cloned"])try{delete p["__~ks_cloned"]}catch(t){p["__~ks_cloned"]=q}});l=q}return o},trim:k?function(c){return c==q?"":k.call(c)}:function(c){return c==
q?"":c.toString().replace(m,"")},substitute:function(c,i,j){if(!e.isString(c)||!e.isPlainObject(i))return c;return c.replace(j||/\\?\{([^{}]+)\}/g,function(o,s){if(o.charAt(0)==="\\")return o.slice(1);return i[s]!==q?i[s]:""})},each:function(c,i,j){var o,s=0,h=c&&c.length,l=h===q||e.type(c)==="function";j=j||C;if(l)for(o in c){if(i.call(j,c[o],o,c)===false)break}else for(o=c[0];s<h&&i.call(j,o,s,c)!==false;o=c[++s]);return c},indexOf:z?function(c,i){return z.call(i,c)}:function(c,i){for(var j=0,o=
i.length;j<o;++j)if(i[j]===c)return j;return-1},lastIndexOf:u?function(c,i){return u.call(i,c)}:function(c,i){for(var j=i.length-1;j>=0;j--)if(i[j]===c)break;return j},unique:function(c,i){i&&c.reverse();c=c.slice();for(var j=0,o,s;j<c.length;){for(s=c[j];(o=e.lastIndexOf(s,c))!==j;)c.splice(o,1);j+=1}i&&c.reverse();return c},inArray:function(c,i){return e.indexOf(c,i)>-1},filter:G?function(c,i,j){return G.call(c,i,j||this)}:function(c,i,j){var o=[];e.each(c,function(s,h,l){if(i.call(j||this,s,h,
l))o.push(s)});return o},now:function(){return(new Date).getTime()}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,i){n["[object "+c+"]"]=i=c.toLowerCase();e["is"+c]=function(j){return e.type(j)==i}})})(KISSY);
(function(e,q){function C(a){a=a.split("/");for(var b=[],d,f=0;f<a.length;f++){d=a[f];if(d!=".")d==".."?b.pop():b.push(d)}return b.join("/")}function A(a,b){if(!b)return b;if(e.isArray(b)){for(var d=0;d<b.length;d++)b[d]=A(a,b[d]);return b}if(m(b,"../")||m(b,"./")){d=o;var f;if((f=a.lastIndexOf("/"))!=-1)d=a.substring(0,f+1);return C(d+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?C(b):b}function z(a){return a.replace(/(-min)?\.js[^/]*$/i,o)}function u(a){if(a.charAt(a.length-1)!="/")a+=
"/";a=e.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&!m(a,"/"))a=D+a;return C(a)}function G(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}function k(a){var b=a.src,d=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var f,g=a[0];d=g.indexOf(d);if(d==-1)f=b.replace(E,"$1");else{f=g.substring(0,d);b=g.substring(d+2,g.length);if(b.match(I))f+=b.replace(E,"$1");else e.each(a,function(r){if(r.match(I)){f+=r.replace(E,"$1");return false}})}if(!f.match(/^(http(s)?)|(file):/i)&&
!m(f,"/"))f=D+f;return f}function m(a,b){return a.lastIndexOf(b,0)==0}if(!e.use){var n=e.__HOST,c=!n.getSelection&&n.ActiveXObject,i=n.document,j=i.getElementsByTagName("head")[0]||i.documentElement,o="",s=2,h=3,l=4,p=e.mix,t=i.createElement("script").readyState?function(a,b){var d=a.onreadystatechange;a.onreadystatechange=function(){var f=a.readyState;if(f==="loaded"||f==="complete"){a.onreadystatechange=null;d&&d();b.call(this)}}}:function(a,b){a.addEventListener("load",b,false)},w=/\.css(?:\?|$)/i,
y=encodeURIComponent(e.buildTime),D=function(){return location.href.replace(/[^/]*$/i,o)}();n={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,d){var f=this.Env.mods,g;if(e.isString(a)&&!d&&e.isPlainObject(b)){g={};g[a]=b;a=g}if(e.isPlainObject(a)){e.each(a,function(v,B){v.name=B;f[B]&&p(v,f[B],false)});p(f,a);return this}if(e.isString(a)){var r;if(d&&(r=d.host)){a=f[r];if(!a){e.error("module "+r+" can not be found !");return this}if(this.__isAttached(r))b.call(this,
this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,b,d);if(d&&d.attach===false)return this;b=f[a];a=A(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else if(this.Config.debug&&!b)for(a=e.makeArray(a).length-1;a>=0;a--);return this}if(e.isFunction(a)){d=b;b=a;if(c){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,d):e.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");
else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,d)}this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:b,config:d};return this}e.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,d,f=0;f<a.length;f++){d=a[f];if(d.readyState=="interactive"){b=d;break}}b||e.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,
0)==0)return z(a.substring(this.Config.base.length));b=this.__packages;for(var g in b){d=b[g].path;if(b.hasOwnProperty(g))if(a.lastIndexOf(d,0)==0)return z(a.substring(d.length))}e.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,d){d=d||{};var f=this.Env.mods,g=f[a]||{};p(g,{name:a,status:s});g.fns=g.fns||[];g.fns.push(b);p(f[a]=g,d)},_packages:function(a){var b;b=this.__packages=this.__packages||{};e.each(a,function(d){b[d.name]=
d;if(d.path)d.path=u(d.path);if(d.tag)d.tag=encodeURIComponent(d.tag)})},_combine:function(a,b){var d=this,f;if(e.isObject(a))e.each(a,function(g,r){e.each(g,function(v){d._combine(v,r)})});else{f=d.__combines=d.__combines||{};if(b)f[a]=b;else return f[a]||a}},__mixMods:function(a){var b=this.Env.mods,d=a.Env.mods,f;for(f in d)this.__mixMod(b,d,f,a)},__mixMod:function(a,b,d,f){var g=a[d]||{},r=g.status;e.mix(g,e.clone(b[d]));if(r)g.status=r;f&&this.__buildPath(g,f.Config.base);a[d]=g},use:function(a,
b,d){a=a.replace(/\s+/g,o).split(",");G(a);d=d||{};var f=this,g;d.global&&f.__mixMods(d.global);if(f.__isAttached(a)){var r=f.__getModules(a);b&&b.apply(f,r)}else{e.each(a,function(v){f.__attachModByName(v,function(){if(!g&&f.__isAttached(a)){g=true;var B=f.__getModules(a);b&&b.apply(f,B)}},d)});return f}},__getModules:function(a){var b=this,d=[b];e.each(a,function(f){d.push(b.require(f))});return d},require:function(a){a=this.Env.mods[a];var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;
return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var b=this._combine(a.name),d=this.__packages||{},f="";for(var g in d)if(d.hasOwnProperty(g))if(m(b,g))if(g.length>f)f=g;d=(b=d[f])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;a.tag=b?b.tag:y;return a.packagepath=d},__attachModByName:function(a,b,d){var f=this.Env.mods,g=f[a];if(!g){g=this.Config.componentJsName||function(r){return r+"-min.js"};g={path:e.isFunction(g)?g(this._combine(a)):g,charset:"utf-8"};
f[a]=g}g.name=a;g&&g.status===l||this.__attach(g,b,d)},__attach:function(a,b,d){function f(){if(!B&&g.__isAttached(a.requires)){a.status===s&&g.__attachMod(a);if(a.status===l){B=true;b()}}}var g=this,r=g.Env.mods,v=(a.requires||[]).concat();a.requires=v;e.each(v,function(x,F,H){x=H[F]=A(a.name,x);(F=r[x])&&F.status===l||g.__attachModByName(x,f,d)});g.__buildPath(a,g.__getPackagePath(a));g.__load(a,function(){if(g.__currentModule){g.__registerModule(a.name,g.__currentModule.def,g.__currentModule.config);
g.__currentModule=null}a.requires=a.requires||[];var x=[];e.each(a.requires,function(F,H,J){F=J[H]=A(a.name,F);H=r[F];J=e.inArray(F,v);H&&H.status===l||J||g.__attachModByName(F,f,d);if(!J&&(!H||H.status<s))x.push(F)});x.length!=0&&x.unshift(a.name);if(e.isString(a.csspath)||e.isString(a.cssfullpath)){g.__buildPath(a,g.__getPackagePath(a));e.getScript(a.cssfullpath)}f()},d);var B=false},__attachMod:function(a){var b=this,d=a.fns;d&&e.each(d,function(f){f=e.isFunction(f)?f.apply(b,b.__getModules(a.requires)):
f;a.value=a.value||f});a.status=l},__isAttached:function(a){var b=this.Env.mods,d=true;e.each(a,function(f){f=b[f];if(!f||f.status!==l)return d=false});return d},__load:function(a,b,d){function f(){g();if(a.status!==h){d.global&&r.__mixMod(r.Env.mods,d.global.Env.mods,a.name,d.global);if(a.status!==l)a.status=s;b()}}function g(){B[v]=s}var r=this,v=a.fullpath,B=e.Env._loadQueue,x=B[v];a.status=a.status||0;if(a.status<1&&x)a.status=x.nodeName?1:s;if(e.isString(a.cssfullpath)){r.getScript(a.cssfullpath);
a.cssfullpath=a.csspath=s}if(a.status<1&&v){a.status=1;if(c){r.__startLoadModuleName=a.name;r.__startLoadTime=Number(+new Date)}x=r.getScript(v,{success:function(){f()},error:function(){a.status=h;g()},charset:a.charset});w.test(v)||(B[v]=x)}else a.status===1?t(x,f):b()},__buildPath:function(a,b){function d(g,r){if(!a[g]&&a[r]){a[r]=A(a.name,a[r]);a[g]=(b||f.base)+a[r]}if(a[g]&&f.debug)a[g]=a[g].replace(/-min/ig,o);if(a[g]&&!a[g].match(/\?t=/)&&a.tag)a[g]+="?t="+a.tag}var f=this.Config;d("fullpath",
"path");d("cssfullpath","csspath")},getScript:function(a,b,d){var f=/\.css(?:\?|$)/i.test(a),g=i.createElement(f?"link":"script"),r=b,v,B,x;if(e.isPlainObject(r)){b=r.success;v=r.error;B=r.timeout;d=r.charset}if(f){g.href=a;g.rel="stylesheet"}else{g.src=a;g.async=true}if(d)g.charset=d;if(f)e.isFunction(b)&&b.call(g);else t(g,function(){if(x){x.cancel();x=q}e.isFunction(b)&&b.call(g)});if(e.isFunction(v))x=e.later(function(){x=q;v()},(B||this.Config.timeout)*1E3);j.insertBefore(g,j.firstChild);return g}};
p(e,n);var E=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,I=/(seed|kissy)(-min)?\.js/i;e.__initLoader=function(){var a=i.getElementsByTagName("script");a=k(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=u(a);if(!this.Config.timeout)this.Config.timeout=10};e.__initLoader();e.each(n,function(a,b){e.__APP_MEMBERS.push(b)});e.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(e,q){function C(h){var l=typeof h;return h===null||l!=="object"&&l!=="function"}function A(h){return Array.prototype.slice.call(h)}var z=e.__HOST,u=z.document,G=u.documentElement,k=encodeURIComponent("[]"),m=false,n=[],c=false,i=/^#?([\w-]+)$/,j=/^(\w+)\[\]$/,o=/\S/;e.mix(e,{isWindow:function(h){return e.type(h)==="object"&&"setInterval"in h},makeArray:function(h){if(h===null||h===q)return[];if(e.isArray(h))return h;if(typeof h.length!=="number"||e.isString(h)||e.isFunction(h))return[h];
return A(h)},param:function(h,l){if(!e.isPlainObject(h))return"";l=l||"&";var p=[],t,w;for(t in h){w=h[t];t=encodeURIComponent(t);if(C(w))p.push(t,"=",encodeURIComponent(w+""),l);else if(e.isArray(w)&&w.length)for(var y=0,D=w.length;y<D;++y)C(w[y])&&p.push(t,k+"=",encodeURIComponent(w[y]+""),l)}p.pop();return p.join("")},unparam:function(h,l){if(typeof h!=="string"||(h=e.trim(h)).length===0)return{};var p={};h=h.split(l||"&");for(var t,w,y,D=0,E=h.length;D<E;++D){l=h[D].split("=");t=decodeURIComponent(l[0]);
try{w=decodeURIComponent(l[1]||"")}catch(I){w=l[1]||""}if((y=t.match(j))&&y[1]){p[y[1]]=p[y[1]]||[];p[y[1]].push(w)}else p[t]=w}return p},globalEval:function(h){if(h&&o.test(h)){var l=u.getElementsByTagName("head")[0]||G,p=u.createElement("script");p.text=h;l.insertBefore(p,l.firstChild);l.removeChild(p)}},later:function(h,l,p,t,w){l=l||0;t=t||{};var y=h,D=e.makeArray(w),E;if(e.isString(h))y=t[h];y||e.error("method undefined");h=function(){y.apply(t,D)};E=p?setInterval(h,l):setTimeout(h,l);return{id:E,
interval:p,cancel:function(){this.interval?clearInterval(E):clearTimeout(E)}}},ready:function(h){c||this._bindReady();m?h.call(z,this):n.push(h);return this},_bindReady:function(){var h=this,l=u.documentElement.doScroll,p=l?"onreadystatechange":"DOMContentLoaded",t=function(){h._fireReady()};c=true;if(u.readyState==="complete")return t();if(u.addEventListener){var w=function(){u.removeEventListener(p,w,false);t()};u.addEventListener(p,w,false);z.addEventListener("load",t,false)}else{var y=function(){if(u.readyState===
"complete"){u.detachEvent(p,y);t()}};u.attachEvent(p,y);z.attachEvent("onload",t);var D=false;try{D=z.frameElement==null}catch(E){}if(l&&D){var I=function(){try{l("left");t()}catch(a){setTimeout(I,1)}};I()}}},_fireReady:function(){if(!m){m=true;if(n){for(var h,l=0;h=n[l++];)h.call(z,this);n=null}}},available:function(h,l){if((h=(h+"").match(i)[1])&&e.isFunction(l))var p=1,t=e.later(function(){if(u.getElementById(h)&&(l()||1)||++p>500)t.cancel()},40,true)}});try{A(G.childNodes)}catch(s){A=function(h){for(var l=
[],p=h.length-1;p>=0;p--)l[p]=h[p];return l}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)e.Config.debug=true})(KISSY);(function(e){e.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
