/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(e,o,F){var C={mix:function(j,m,p,s){if(!m||!j)return j;if(p===F)p=true;var c,i,k;if(s&&(k=s.length))for(c=0;c<k;c++){i=s[c];if(i in m)if(p||!(i in j))j[i]=m[i]}else for(i in m)if(p||!(i in j))j[i]=m[i];return j}},B=e&&e[o]||{},v=0;e=B.__HOST||(B.__HOST=e||{});o=e[o]=C.mix(B,C,false);o.mix(o,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"@TIMESTAMP@",merge:function(){var j={},m,p=arguments.length;for(m=0;m<p;m++)o.mix(j,arguments[m]);return j},augment:function(){var j=
arguments,m=j.length-2,p=j[0],s=j[m],c=j[m+1],i=1;if(!o.isArray(c)){s=c;c=F;m++}if(!o.isBoolean(s)){s=F;m++}for(;i<m;i++)o.mix(p.prototype,j[i].prototype||j[i],s,c);return p},extend:function(j,m,p,s){if(!m||!j)return j;var c=Object.create?function(n,u){return Object.create(n,{constructor:{value:u}})}:function(n,u){function h(){}h.prototype=n;var l=new h;l.constructor=u;return l},i=m.prototype,k;k=c(i,j);j.prototype=o.mix(k,j.prototype);j.superclass=c(i,m);p&&o.mix(k,p);s&&o.mix(j,s);return j},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var j=arguments,m=j.length,p=null,s,c,i,k=j[m-1]===true&&m--;for(s=0;s<m;s++){i=(""+j[s]).split(".");p=k?e:this;for(c=e[i[0]]===p?1:0;c<i.length;++c)p=p[i[c]]=p[i[c]]||{}}return p},app:function(j,m){var p=o.isString(j),s=p?e[j]||{}:j,c=0,i=o.__APP_INIT_METHODS.length;for(o.mix(s,this,true,o.__APP_MEMBERS);c<i;c++)o[o.__APP_INIT_METHODS[c]].call(s);o.mix(s,o.isFunction(m)?m():m);p&&(e[j]=s);return s},config:function(j){for(var m in j)this["_"+
m]&&this["_"+m](j[m])},log:function(j,m,p){if(o.Config.debug){if(p)j=p+": "+j;if(e.console!==F&&console.log)console[m&&console[m]?m:"log"](j)}},error:function(j){if(o.Config.debug)throw j;},guid:function(j){return(j||"")+v++}});o.__init();return o})(this,"KISSY");
(function(e,o){var F=e.__HOST,C=Object.prototype.toString,B=Array.prototype.indexOf,v=Array.prototype.lastIndexOf,j=Array.prototype.filter,m=String.prototype.trim,p=/^\s+|\s+$/g,s={};e.mix(e,{type:function(c){return c==null?String(c):s[C.call(c)]||"object"},isNull:function(c){return c===null},isUndefined:function(c){return c===o},isEmptyObject:function(c){for(var i in c)return false;return true},isPlainObject:function(c){return c&&C.call(c)==="[object Object]"&&"isPrototypeOf"in c},clone:function(c,
i,k){var n=c,u,h,l=k||{};if(c&&((u=e.isArray(c))||e.isPlainObject(c))){if(c["__~ks_cloned"])return l[c["__~ks_cloned"]];c["__~ks_cloned"]=n=e.guid();l[n]=c;if(u)n=i?e.filter(c,i):c.concat();else{n={};for(h in c)if(h!=="__~ks_cloned"&&c.hasOwnProperty(h)&&(!i||i.call(c,c[h],h,c)!==false))n[h]=e.clone(c[h],i,l)}}if(!k){e.each(l,function(r){if(r["__~ks_cloned"])try{delete r["__~ks_cloned"]}catch(t){r["__~ks_cloned"]=o}});l=o}return n},trim:m?function(c){return c==o?"":m.call(c)}:function(c){return c==
o?"":c.toString().replace(p,"")},substitute:function(c,i,k){if(!e.isString(c)||!e.isPlainObject(i))return c;return c.replace(k||/\\?\{([^{}]+)\}/g,function(n,u){if(n.charAt(0)==="\\")return n.slice(1);return i[u]!==o?i[u]:""})},each:function(c,i,k){var n,u=0,h=c&&c.length,l=h===o||e.type(c)==="function";k=k||F;if(l)for(n in c){if(i.call(k,c[n],n,c)===false)break}else for(n=c[0];u<h&&i.call(k,n,u,c)!==false;n=c[++u]);return c},indexOf:B?function(c,i){return B.call(i,c)}:function(c,i){for(var k=0,n=
i.length;k<n;++k)if(i[k]===c)return k;return-1},lastIndexOf:v?function(c,i){return v.call(i,c)}:function(c,i){for(var k=i.length-1;k>=0;k--)if(i[k]===c)break;return k},unique:function(c,i){i&&c.reverse();for(var k=c.slice(),n=0,u,h;n<k.length;){for(h=k[n];(u=e.lastIndexOf(h,k))!==n;)k.splice(u,1);n+=1}i&&k.reverse();return k},inArray:function(c,i){return e.indexOf(c,i)>-1},filter:j?function(c,i,k){return j.call(c,i,k||this)}:function(c,i,k){var n=[];e.each(c,function(u,h,l){if(i.call(k||this,u,h,
l))n.push(u)});return n},now:function(){return(new Date).getTime()}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,i){s["[object "+c+"]"]=i=c.toLowerCase();e["is"+c]=function(k){return e.type(k)==i}})})(KISSY);
(function(e,o){function F(a){a=a.split("/");for(var b=[],d,g=0;g<a.length;g++){d=a[g];if(d!=".")d==".."?b.pop():b.push(d)}return b.join("/")}function C(a,b){if(!b)return b;if(e.isArray(b)){for(var d=0;d<b.length;d++)b[d]=C(a,b[d]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){d=k;var g;if((g=a.lastIndexOf("/"))!=-1)d=a.substring(0,g+1);return F(d+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?F(b):b}function B(a){return a.replace(/(-min)?\.js[^/]*$/i,k)}function v(a){if(a.charAt(a.length-
1)!="/")a+="/";a=e.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=y+a;return F(a)}function j(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}function m(a){var b=a.src,d=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var g,f=a[0];d=f.indexOf(d);if(d==-1)g=b.replace(D,"$1");else{g=f.substring(0,d);b=f.substring(d+2,f.length);if(b.match(E))g+=b.replace(D,"$1");else e.each(a,function(q){if(q.match(E)){g+=
q.replace(D,"$1");return false}})}if(!g.match(/^(http(s)?)|(file):/i)&&g.lastIndexOf("/",0)!=0)g=y+g;return g}if(!e.use){var p=e.__HOST,s=!p.getSelection&&p.ActiveXObject,c=p.document,i=c.getElementsByTagName("head")[0]||c.documentElement,k="",n=2,u=3,h=4,l=e.mix,r=c.addEventListener?function(a,b){a.addEventListener("load",b,false)}:function(a,b){var d=a.onreadystatechange;a.onreadystatechange=function(){var g=a.readyState;if(g==="loaded"||g==="complete"){a.onreadystatechange=null;d&&d();b.call(this)}}},
t=/\.css(?:\?|$)/i,w=encodeURIComponent(e.buildTime),y=location.href.replace(/[^/]*$/i,k);p={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,d){var g=this.Env.mods,f;if(e.isString(a)&&!d&&e.isPlainObject(b)){f={};f[a]=b;a=f}if(e.isPlainObject(a)){e.each(a,function(x,z){x.name=z;g[z]&&l(x,g[z],false)});l(g,a);return this}if(e.isString(a)){var q;if(d&&(q=d.host)){a=g[q];if(!a){e.error("module "+q+" can not be found !");return this}if(this.__isAttached(q))b.call(this,
this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,b,d);if(d&&d.attach===false)return this;b=g[a];a=C(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else if(this.Config.debug&&!b)for(a=e.makeArray(a).length-1;a>=0;a--);return this}if(e.isFunction(a)){d=b;b=a;if(s){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,d):e.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,d)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:b,config:d};return this}e.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,d,g=0;g<a.length;g++){d=a[g];if(d.readyState=="interactive"){b=d;break}}b||e.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return B(a.substring(this.Config.base.length));b=this.__packages;for(var f in b){d=b[f].path;if(b.hasOwnProperty(f)&&
a.lastIndexOf(d,0)==0)return B(a.substring(d.length))}e.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,d){d=d||{};var g=this.Env.mods,f=g[a]||{};l(f,{name:a,status:n});f.fns=f.fns||[];f.fns.push(b);l(g[a]=f,d)},_packages:function(a){var b;b=this.__packages=this.__packages||{};e.each(a,function(d){b[d.name]=d;if(d.path)d.path=v(d.path);if(d.tag)d.tag=encodeURIComponent(d.tag)})},_combine:function(a,b){var d=this,g;if(e.isObject(a))e.each(a,function(f,q){e.each(f,function(x){d._combine(x,
q)})});else{g=d.__combines=d.__combines||{};if(b)g[a]=b;else return g[a]||a}},__mixMods:function(a){var b=this.Env.mods,d=a.Env.mods,g;for(g in d)this.__mixMod(b,d,g,a)},__mixMod:function(a,b,d,g){var f=a[d]||{},q=f.status;e.mix(f,e.clone(b[d]));if(q)f.status=q;g&&this.__buildPath(f,g.Config.base);a[d]=f},use:function(a,b,d){a=a.replace(/\s+/g,k).split(",");j(a);d=d||{};var g=this,f;d.global&&g.__mixMods(d.global);if(g.__isAttached(a)){var q=g.__getModules(a);b&&b.apply(g,q)}else{e.each(a,function(x){g.__attachModByName(x,
function(){if(!f&&g.__isAttached(a)){f=true;var z=g.__getModules(a);b&&b.apply(g,z)}},d)});return g}},__getModules:function(a){var b=this,d=[b];e.each(a,function(g){d.push(b.require(g))});return d},require:function(a){a=this.Env.mods[a];var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var b=this._combine(a.name),d=this.__packages||{},g="",f;for(f in d)if(d.hasOwnProperty(f)&&b.lastIndexOf(f,0)==
0&&f.length>g)g=f;d=(b=d[g])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;a.tag=b?b.tag:w;return a.packagepath=d},__attachModByName:function(a,b,d){var g=this.Env.mods,f=g[a];if(!f){f=this.Config.componentJsName||function(q){return q+"-min.js"};f={path:e.isFunction(f)?f(this._combine(a)):f,charset:"utf-8"};g[a]=f}f.name=a;f&&f.status===h||this.__attach(f,b,d)},__attach:function(a,b,d){function g(){if(!z&&f.__isAttached(a.requires)){a.status===n&&f.__attachMod(a);if(a.status===h){z=
true;b()}}}var f=this,q=f.Env.mods,x=(a.requires||[]).concat();a.requires=x;e.each(x,function(A,G,H){A=H[G]=C(a.name,A);(G=q[A])&&G.status===h||f.__attachModByName(A,g,d)});f.__buildPath(a,f.__getPackagePath(a));f.__load(a,function(){if(f.__currentModule){f.__registerModule(a.name,f.__currentModule.def,f.__currentModule.config);f.__currentModule=null}a.requires=a.requires||[];var A=[];e.each(a.requires,function(G,H,I){G=I[H]=C(a.name,G);H=q[G];I=e.inArray(G,x);H&&H.status===h||I||f.__attachModByName(G,
g,d);if(!I&&(!H||H.status<n))A.push(G)});A.length!=0&&A.unshift(a.name);if(e.isString(a.csspath)||e.isString(a.cssfullpath)){f.__buildPath(a,f.__getPackagePath(a));e.getScript(a.cssfullpath)}g()},d);var z=false},__attachMod:function(a){var b=this,d=a.fns;d&&e.each(d,function(g){g=e.isFunction(g)?g.apply(b,b.__getModules(a.requires)):g;a.value=a.value||g});a.status=h},__isAttached:function(a){var b=this.Env.mods,d=true;e.each(a,function(g){g=b[g];if(!g||g.status!==h)return d=false});return d},__load:function(a,
b,d){function g(){x[q]=n;if(a.status!==u){d.global&&f.__mixMod(f.Env.mods,d.global.Env.mods,a.name,d.global);if(a.status!==h)a.status=n;b()}}var f=this,q=a.fullpath,x=e.Env._loadQueue,z=x[q];a.status=a.status||0;if(a.status<1&&z)a.status=z.nodeName?1:n;if(e.isString(a.cssfullpath)){e.getScript(a.cssfullpath);a.cssfullpath=a.csspath=n}if(a.status<1&&q){a.status=1;if(s){f.__startLoadModuleName=a.name;f.__startLoadTime=Number(+new Date)}z=e.getScript(q,{success:function(){if(!(a.fns&&a.fns.length>0))a.status=
u;g()},error:function(){a.status=u;g()},charset:a.charset});t.test(q)||(x[q]=z)}else a.status===1?r(z,g):b()},__buildPath:function(a,b){function d(f,q){if(!a[f]&&a[q]){a[q]=C(a.name,a[q]);a[f]=(b||g.base)+a[q]}if(a[f]&&g.debug)a[f]=a[f].replace(/-min/ig,k);if(a[f]&&!a[f].match(/\?t=/)&&a.tag)a[f]+="?t="+a.tag}var g=this.Config;d("fullpath","path");d("cssfullpath","csspath")},getScript:function(a,b,d){var g=/\.css(?:\?|$)/i.test(a),f=c.createElement(g?"link":"script"),q=b,x,z,A;if(e.isPlainObject(q)){b=
q.success;x=q.error;z=q.timeout;d=q.charset}if(g){f.href=a;f.rel="stylesheet"}else{f.src=a;f.async=true}if(d)f.charset=d;if(g)e.isFunction(b)&&b.call(f);else r(f,function(){if(A){A.cancel();A=o}e.isFunction(b)&&b.call(f)});if(e.isFunction(x)){c.addEventListener&&f.addEventListener("error",function(){if(A){A.cancel();A=o}x.call(f)},false);A=e.later(function(){A=o;x()},(z||this.Config.timeout)*1E3)}i.insertBefore(f,i.firstChild);return f}};l(e,p);var D=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,E=/(seed|kissy)(-min)?\.js/i;
e.__initLoader=function(){var a=c.getElementsByTagName("script");a=m(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=v(a);if(!this.Config.timeout)this.Config.timeout=10};e.__initLoader();e.each(p,function(a,b){e.__APP_MEMBERS.push(b)});e.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(e,o){function F(h){var l=typeof h;return h===null||l!=="object"&&l!=="function"}function C(h){return Array.prototype.slice.call(h)}var B=e.__HOST,v=B.document,j=v.documentElement,m=encodeURIComponent("[]"),p=false,s=[],c=false,i=/^#?([\w-]+)$/,k=/^(\w+)\[\]$/,n=/\S/;e.mix(e,{isWindow:function(h){return e.type(h)==="object"&&"setInterval"in h},makeArray:function(h){if(h===null||h===o)return[];if(e.isArray(h))return h;if(typeof h.length!=="number"||e.isString(h)||e.isFunction(h))return[h];
return C(h)},param:function(h,l){if(!e.isPlainObject(h))return"";l=l||"&";var r=[],t,w;for(t in h){w=h[t];t=encodeURIComponent(t);if(F(w))r.push(t,"=",encodeURIComponent(w+""),l);else if(e.isArray(w)&&w.length)for(var y=0,D=w.length;y<D;++y)F(w[y])&&r.push(t,m+"=",encodeURIComponent(w[y]+""),l)}r.pop();return r.join("")},unparam:function(h,l){if(typeof h!=="string"||(h=e.trim(h)).length===0)return{};for(var r={},t=h.split(l||"&"),w,y,D,E,a=0,b=t.length;a<b;++a){w=t[a].split("=");y=decodeURIComponent(w[0]);
try{D=decodeURIComponent(w[1]||"")}catch(d){D=w[1]||""}if((E=y.match(k))&&E[1]){r[E[1]]=r[E[1]]||[];r[E[1]].push(D)}else r[y]=D}return r},globalEval:function(h){if(h&&n.test(h)){var l=v.getElementsByTagName("head")[0]||j,r=v.createElement("script");r.text=h;l.insertBefore(r,l.firstChild);l.removeChild(r)}},later:function(h,l,r,t,w){l=l||0;t=t||{};var y=h,D=e.makeArray(w),E;if(e.isString(h))y=t[h];y||e.error("method undefined");h=function(){y.apply(t,D)};E=r?setInterval(h,l):setTimeout(h,l);return{id:E,
interval:r,cancel:function(){this.interval?clearInterval(E):clearTimeout(E)}}},ready:function(h){c||this._bindReady();p?h.call(B,this):s.push(h);return this},_bindReady:function(){var h=this,l=v.documentElement.doScroll,r=l?"onreadystatechange":"DOMContentLoaded",t=function(){h._fireReady()};c=true;if(v.readyState==="complete")return t();if(v.addEventListener){var w=function(){v.removeEventListener(r,w,false);t()};v.addEventListener(r,w,false);B.addEventListener("load",t,false)}else{var y=function(){if(v.readyState===
"complete"){v.detachEvent(r,y);t()}};v.attachEvent(r,y);B.attachEvent("onload",t);var D=false;try{D=B.frameElement==null}catch(E){}if(l&&D){var a=function(){try{l("left");t()}catch(b){setTimeout(a,1)}};a()}}},_fireReady:function(){if(!p){p=true;if(s){for(var h,l=0;h=s[l++];)h.call(B,this);s=null}}},available:function(h,l){if((h=(h+"").match(i)[1])&&e.isFunction(l))var r=1,t=e.later(function(){if(v.getElementById(h)&&(l()||1)||++r>500)t.cancel()},40,true)}});try{C(j.childNodes)}catch(u){C=function(h){for(var l=
[],r=h.length-1;r>=0;r--)l[r]=h[r];return l}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)e.Config.debug=true})(KISSY);(function(e){e.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
