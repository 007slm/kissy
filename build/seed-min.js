/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(e,p,z){var y={mix:function(j,k,q,r){if(!k||!j)return j;if(q===z)q=true;var d,i,l;if(r&&(l=r.length))for(d=0;d<l;d++){i=r[d];if(i in k)if(q||!(i in j))j[i]=k[i]}else for(i in k)if(q||!(i in j))j[i]=k[i];return j}},A=e&&e[p]||{},B=0;e=A.__HOST||(A.__HOST=e||{});p=e[p]=y.mix(A,y,false);p.mix(p,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"@TIMESTAMP@",merge:function(){var j={},k,q=arguments.length;for(k=0;k<q;k++)p.mix(j,arguments[k]);return j},augment:function(){var j=
arguments,k=j.length-2,q=j[0],r=j[k],d=j[k+1],i=1;if(!p.isArray(d)){r=d;d=z;k++}if(!p.isBoolean(r)){r=z;k++}for(;i<k;i++)p.mix(q.prototype,j[i].prototype||j[i],r,d);return q},extend:function(j,k,q,r){if(!k||!j)return j;var d=Object.create?function(o,u){return Object.create(o,{constructor:{value:u}})}:function(o,u){function t(){}t.prototype=o;var w=new t;w.constructor=u;return w},i=k.prototype,l;l=d(i,j);j.prototype=p.mix(l,j.prototype);j.superclass=d(i,k);q&&p.mix(l,q);r&&p.mix(j,r);return j},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var j=arguments,k=j.length,q=null,r,d,i,l=j[k-1]===true&&k--;for(r=0;r<k;r++){i=(""+j[r]).split(".");q=l?e:this;for(d=e[i[0]]===q?1:0;d<i.length;++d)q=q[i[d]]=q[i[d]]||{}}return q},app:function(j,k){var q=p.isString(j),r=q?e[j]||{}:j,d=0,i=p.__APP_INIT_METHODS.length;for(p.mix(r,this,true,p.__APP_MEMBERS);d<i;d++)p[p.__APP_INIT_METHODS[d]].call(r);p.mix(r,p.isFunction(k)?k():k);q&&(e[j]=r);return r},config:function(j){for(var k in j)this["_"+
k]&&this["_"+k](j[k])},log:function(j,k,q){if(p.Config.debug){if(q)j=q+": "+j;if(e.console!==z&&console.log)console[k&&console[k]?k:"log"](j)}},error:function(j){if(p.Config.debug)throw j;},guid:function(j){return(j||"")+B++}});p.__init();return p})(this,"KISSY");
(function(e,p){var z=e.__HOST,y=Object.prototype.toString,A=Array.prototype.indexOf,B=Array.prototype.lastIndexOf,j=Array.prototype.filter,k=String.prototype.trim,q=/^\s+|\s+$/g,r={};e.mix(e,{type:function(d){return d==null?String(d):r[y.call(d)]||"object"},isNull:function(d){return d===null},isUndefined:function(d){return d===p},isEmptyObject:function(d){for(var i in d)return false;return true},isPlainObject:function(d){return d&&y.call(d)==="[object Object]"&&"isPrototypeOf"in d},clone:function(d,
i,l){var o=d,u,t,w=l||{};if(d&&((u=e.isArray(d))||e.isPlainObject(d))){if(d["__~ks_cloned"])return w[d["__~ks_cloned"]];d["__~ks_cloned"]=o=e.guid();w[o]=d;if(u)o=i?e.filter(d,i):d.concat();else{o={};for(t in d)if(t!=="__~ks_cloned"&&d.hasOwnProperty(t)&&(!i||i.call(d,d[t],t,d)!==false))o[t]=e.clone(d[t],i,w)}}if(!l){e.each(w,function(C){if(C["__~ks_cloned"])try{delete C["__~ks_cloned"]}catch(F){C["__~ks_cloned"]=p}});w=p}return o},trim:k?function(d){return d==p?"":k.call(d)}:function(d){return d==
p?"":d.toString().replace(q,"")},substitute:function(d,i,l){if(!e.isString(d)||!e.isPlainObject(i))return d;return d.replace(l||/\\?\{([^{}]+)\}/g,function(o,u){if(o.charAt(0)==="\\")return o.slice(1);return i[u]!==p?i[u]:""})},each:function(d,i,l){var o,u=0,t=d&&d.length,w=t===p||e.type(d)==="function";l=l||z;if(w)for(o in d){if(i.call(l,d[o],o,d)===false)break}else for(o=d[0];u<t&&i.call(l,o,u,d)!==false;o=d[++u]);return d},indexOf:A?function(d,i){return A.call(i,d)}:function(d,i){for(var l=0,o=
i.length;l<o;++l)if(i[l]===d)return l;return-1},lastIndexOf:B?function(d,i){return B.call(i,d)}:function(d,i){for(var l=i.length-1;l>=0;l--)if(i[l]===d)break;return l},unique:function(d,i){i&&d.reverse();for(var l=d.slice(),o=0,u,t;o<l.length;){for(t=l[o];(u=e.lastIndexOf(t,l))!==o;)l.splice(u,1);o+=1}i&&l.reverse();return l},inArray:function(d,i){return e.indexOf(d,i)>-1},filter:j?function(d,i,l){return j.call(d,i,l||this)}:function(d,i,l){var o=[];e.each(d,function(u,t,w){if(i.call(l||this,u,t,
w))o.push(u)});return o},now:function(){return(new Date).getTime()},fromUnicode:function(d){return d.replace(/\\u([a-f\d]{4})/ig,function(i,l){return String.fromCharCode(parseInt(l,16))})}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(d,i){r["[object "+d+"]"]=i=d.toLowerCase();e["is"+d]=function(l){return e.type(l)==i}})})(KISSY);
(function(e,p){function z(a){a=a.split("/");for(var b=[],c,f=0;f<a.length;f++){c=a[f];if(c!=".")c==".."?b.pop():b.push(c)}return b.join("/")}function y(a,b){if(!b)return b;if(e.isArray(b)){for(var c=0;c<b.length;c++)b[c]=y(a,b[c]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){c=l;var f;if((f=a.lastIndexOf("/"))!=-1)c=a.substring(0,f+1);return z(c+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?z(b):b}function A(a){return a.replace(/(-min)?\.js[^/]*$/i,l)}function B(a){if(a.charAt(a.length-
1)!="/")a+="/";a=e.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=I+a;return z(a)}function j(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}function k(a){var b=a.src,c=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var f,g=a[0];c=g.indexOf(c);if(c==-1)f=b.replace(h,"$1");else{f=g.substring(0,c);b=g.substring(c+2,g.length);if(b.match(n))f+=b.replace(h,"$1");else e.each(a,function(m){if(m.match(n)){f+=
m.replace(h,"$1");return false}})}if(!f.match(/^(http(s)?)|(file):/i)&&f.lastIndexOf("/",0)!=0)f=I+f;return f}if(!e.use){var q=e.__HOST,r=!q.getSelection&&q.ActiveXObject,d=q.document,i=d.getElementsByTagName("head")[0]||d.documentElement,l="",o=2,u=3,t=4,w=e.mix,C=d.addEventListener?function(a,b){a.addEventListener("load",b,false)}:function(a,b){var c=a.onreadystatechange;a.onreadystatechange=function(){var f=a.readyState;if(f==="loaded"||f==="complete"){a.onreadystatechange=null;c&&c();b.call(this)}}},
F=/\.css(?:\?|$)/i,G=encodeURIComponent(e.buildTime),I=location.href.replace(/[^/]*$/i,l);q={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,c){var f=this.Env.mods,g;if(e.isString(a)&&!c&&e.isPlainObject(b)){g={};g[a]=b;a=g}if(e.isPlainObject(a)){e.each(a,function(s,x){s.name=x;f[x]&&w(s,f[x],false)});w(f,a);return this}if(e.isString(a)){var m;if(c&&(m=c.host)){a=f[m];if(!a){e.error("module "+m+" can not be found !");return this}if(this.__isAttached(m))b.call(this,
this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,b,c);if(c&&c.attach===false)return this;b=f[a];a=y(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else if(this.Config.debug&&!b)for(a=e.makeArray(a).length-1;a>=0;a--);return this}if(e.isFunction(a)){c=b;b=a;if(r){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,c):e.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,c)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:b,config:c};return this}e.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,c,f=0;f<a.length;f++){c=a[f];if(c.readyState=="interactive"){b=c;break}}b||e.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return A(a.substring(this.Config.base.length));b=this.__packages;for(var g in b){c=b[g].path;if(b.hasOwnProperty(g)&&
a.lastIndexOf(c,0)==0)return A(a.substring(c.length))}e.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,c){c=c||{};var f=this.Env.mods,g=f[a]||{};w(g,{name:a,status:o});g.fns=g.fns||[];g.fns.push(b);w(f[a]=g,c)},_packages:function(a){var b;b=this.__packages=this.__packages||{};e.each(a,function(c){b[c.name]=c;if(c.path)c.path=B(c.path);if(c.tag)c.tag=encodeURIComponent(c.tag)})},_combine:function(a,b){var c=this,f;if(e.isObject(a))e.each(a,function(g,m){e.each(g,function(s){c._combine(s,
m)})});else{f=c.__combines=c.__combines||{};if(b)f[a]=b;else return f[a]||a}},__mixMods:function(a){var b=this.Env.mods,c=a.Env.mods,f;for(f in c)this.__mixMod(b,c,f,a)},__mixMod:function(a,b,c,f){var g=a[c]||{},m=g.status;e.mix(g,e.clone(b[c]));if(m)g.status=m;f&&this.__buildPath(g,f.Config.base);a[c]=g},use:function(a,b,c){a=a.replace(/\s+/g,l).split(",");j(a);c=c||{};var f=this,g;c.global&&f.__mixMods(c.global);if(f.__isAttached(a)){var m=f.__getModules(a);b&&b.apply(f,m)}else{e.each(a,function(s){f.__attachModByName(s,
function(){if(!g&&f.__isAttached(a)){g=true;var x=f.__getModules(a);b&&b.apply(f,x)}},c)});return f}},__getModules:function(a){var b=this,c=[b];e.each(a,function(f){c.push(b.require(f))});return c},require:function(a){a=this.Env.mods[a];var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var b=this._combine(a.name),c=this.__packages||{},f="",g;for(g in c)if(c.hasOwnProperty(g)&&b.lastIndexOf(g,0)==
0&&g.length>f)f=g;c=(b=c[f])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;a.tag=b?b.tag:G;return a.packagepath=c},__attachModByName:function(a,b,c){var f=this.Env.mods,g=f[a];if(!g){g=this.Config.componentJsName||function(m){return m+"-min.js"};g={path:e.isFunction(g)?g(this._combine(a)):g,charset:"utf-8"};f[a]=g}g.name=a;g&&g.status===t||this.__attach(g,b,c)},__attach:function(a,b,c){function f(){if(!x&&g.__isAttached(a.requires)){a.status===o&&g.__attachMod(a);if(a.status===t){x=
true;b()}}}var g=this,m=g.Env.mods,s=(a.requires||[]).concat();a.requires=s;e.each(s,function(v,D,E){v=E[D]=y(a.name,v);(D=m[v])&&D.status===t||g.__attachModByName(v,f,c)});g.__buildPath(a,g.__getPackagePath(a));g.__load(a,function(){if(g.__currentModule){g.__registerModule(a.name,g.__currentModule.def,g.__currentModule.config);g.__currentModule=null}a.requires=a.requires||[];var v=[];e.each(a.requires,function(D,E,H){D=H[E]=y(a.name,D);E=m[D];H=e.inArray(D,s);E&&E.status===t||H||g.__attachModByName(D,
f,c);if(!H&&(!E||E.status<o))v.push(D)});v.length!=0&&v.unshift(a.name);if(e.isString(a.csspath)||e.isString(a.cssfullpath)){g.__buildPath(a,g.__getPackagePath(a));e.getScript(a.cssfullpath)}f()},c);var x=false},__attachMod:function(a){var b=this,c=a.fns;c&&e.each(c,function(f){f=e.isFunction(f)?f.apply(b,b.__getModules(a.requires)):f;a.value=a.value||f});a.status=t},__isAttached:function(a){var b=this.Env.mods,c=true;e.each(a,function(f){f=b[f];if(!f||f.status!==t)return c=false});return c},__load:function(a,
b,c){function f(){c.global&&m.__mixMod(m.Env.mods,c.global.Env.mods,a.name,c.global)}function g(){x[s]=o;if(a.status!==u){f();if(a.status!==t)a.status=o;b()}}var m=this,s=a.fullpath,x=e.Env._loadQueue,v=x[s];a.status=a.status||0;if(a.status<1&&v)a.status=v.nodeName?1:o;if(e.isString(a.cssfullpath)){e.getScript(a.cssfullpath);a.cssfullpath=a.csspath=o}if(a.status<1&&s){a.status=1;if(r){m.__startLoadModuleName=a.name;m.__startLoadTime=Number(+new Date)}v=e.getScript(s,{success:function(){f();if(!(a.fns&&
a.fns.length>0))a.status=u;g()},error:function(){a.status=u;g()},charset:a.charset});F.test(s)||(x[s]=v)}else a.status===1?C(v,g):b()},__buildPath:function(a,b){function c(g,m){if(!a[g]&&a[m]){a[m]=y(a.name,a[m]);a[g]=(b||f.base)+a[m]}if(a[g]&&f.debug)a[g]=a[g].replace(/-min/ig,l);if(a[g]&&!a[g].match(/\?t=/)&&a.tag)a[g]+="?t="+a.tag}var f=this.Config;c("fullpath","path");c("cssfullpath","csspath")},getScript:function(a,b,c){var f=/\.css(?:\?|$)/i.test(a),g=d.createElement(f?"link":"script"),m=b,
s,x,v;if(e.isPlainObject(m)){b=m.success;s=m.error;x=m.timeout;c=m.charset}if(f){g.href=a;g.rel="stylesheet"}else{g.src=a;g.async=true}if(c)g.charset=c;if(f)e.isFunction(b)&&b.call(g);else C(g,function(){if(v){v.cancel();v=p}e.isFunction(b)&&b.call(g)});if(e.isFunction(s)){d.addEventListener&&g.addEventListener("error",function(){if(v){v.cancel();v=p}s.call(g)},false);v=e.later(function(){v=p;s()},(x||this.Config.timeout)*1E3)}i.insertBefore(g,i.firstChild);return g}};w(e,q);var h=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,
n=/(seed|kissy)(-min)?\.js/i;e.__initLoader=function(){var a=d.getElementsByTagName("script");a=k(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=B(a);if(!this.Config.timeout)this.Config.timeout=10};e.__initLoader();e.each(q,function(a,b){e.__APP_MEMBERS.push(b)});e.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(e,p){function z(){if(F)return F;var h="";e.each(w,function(n){h+=n+"|"});h=h.slice(0,-1);return F=RegExp(h,"g")}function y(){if(G)return G;var h="";e.each(C,function(n){h+=n+"|"});h+="&#(\\d{1,5});";return G=RegExp(h,"g")}function A(h){var n=typeof h;return h===null||n!=="object"&&n!=="function"}function B(h){return Array.prototype.slice.call(h)}var j=e.__HOST,k=j.document,q=k.documentElement,r=encodeURIComponent("[]"),d=false,i=[],l=false,o=/^#?([\w-]+)$/,u=/^(\w+)\[\]$/,t=/\S/,w={"&amp;":"&",
"&gt;":">","&lt;":"<","&quot;":'"'},C={},F,G;e.each(w,function(h,n){C[h]=n});e.mix(e,{escapeHTML:function(h){return h.replace(z(),function(n){return C[n]})},unEscapeHTML:function(h){return h.replace(y(),function(n,a){return w[n]||String.fromCharCode(+a)})},isWindow:function(h){return e.type(h)==="object"&&"setInterval"in h},makeArray:function(h){if(h===null||h===p)return[];if(e.isArray(h))return h;if(typeof h.length!=="number"||e.isString(h)||e.isFunction(h))return[h];return B(h)},param:function(h,
n){if(!e.isPlainObject(h))return"";n=n||"&";var a=[],b,c;for(b in h){c=h[b];b=encodeURIComponent(b);if(A(c))a.push(b,"=",encodeURIComponent(c+""),n);else if(e.isArray(c)&&c.length)for(var f=0,g=c.length;f<g;++f)A(c[f])&&a.push(b,r+"=",encodeURIComponent(c[f]+""),n)}a.pop();return a.join("")},unparam:function(h,n){if(typeof h!=="string"||(h=e.trim(h)).length===0)return{};for(var a={},b=h.split(n||"&"),c,f,g,m,s=0,x=b.length;s<x;++s){c=b[s].split("=");f=decodeURIComponent(c[0]);try{g=decodeURIComponent(c[1]||
"")}catch(v){g=c[1]||""}if((m=f.match(u))&&m[1]){a[m[1]]=a[m[1]]||[];a[m[1]].push(g)}else a[f]=g}return a},globalEval:function(h){if(h&&t.test(h)){var n=k.getElementsByTagName("head")[0]||q,a=k.createElement("script");a.text=h;n.insertBefore(a,n.firstChild);n.removeChild(a)}},later:function(h,n,a,b,c){n=n||0;b=b||{};var f=h,g=e.makeArray(c),m;if(e.isString(h))f=b[h];f||e.error("method undefined");h=function(){f.apply(b,g)};m=a?setInterval(h,n):setTimeout(h,n);return{id:m,interval:a,cancel:function(){this.interval?
clearInterval(m):clearTimeout(m)}}},ready:function(h){l||this._bindReady();d?h.call(j,this):i.push(h);return this},_bindReady:function(){var h=this,n=k.documentElement.doScroll,a=n?"onreadystatechange":"DOMContentLoaded",b=function(){h._fireReady()};l=true;if(k.readyState==="complete")return b();if(k.addEventListener){var c=function(){k.removeEventListener(a,c,false);b()};k.addEventListener(a,c,false);j.addEventListener("load",b,false)}else{var f=function(){if(k.readyState==="complete"){k.detachEvent(a,
f);b()}};k.attachEvent(a,f);j.attachEvent("onload",b);var g=false;try{g=j.frameElement==null}catch(m){}if(n&&g){var s=function(){try{n("left");b()}catch(x){setTimeout(s,1)}};s()}}},_fireReady:function(){if(!d){d=true;if(i){for(var h,n=0;h=i[n++];)h.call(j,this);i=null}}},available:function(h,n){if((h=(h+"").match(o)[1])&&e.isFunction(n))var a=1,b=e.later(function(){if(k.getElementById(h)&&(n()||1)||++a>500)b.cancel()},40,true)}});try{B(q.childNodes)}catch(I){B=function(h){for(var n=[],a=h.length-
1;a>=0;a--)n[a]=h[a];return n}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)e.Config.debug=true})(KISSY);(function(e){e.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
