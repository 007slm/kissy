/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(e,q,C){var B={mix:function(j,m,p,s){if(!m||!j)return j;if(p===C)p=true;var d,h,k;if(s&&(k=s.length))for(d=0;d<k;d++){h=s[d];if(h in m)if(p||!(h in j))j[h]=m[h]}else for(h in m)if(p||!(h in j))j[h]=m[h];return j}},A=e&&e[q]||{},y=0;e=A.__HOST||(A.__HOST=e||{});q=e[q]=B.mix(A,B,false);q.mix(q,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",merge:function(){var j={},m,p=arguments.length;for(m=0;m<p;m++)q.mix(j,arguments[m]);return j},augment:function(){var j=
arguments,m=j.length-2,p=j[0],s=j[m],d=j[m+1],h=1;if(!q.isArray(d)){s=d;d=C;m++}if(!q.isBoolean(s)){s=C;m++}for(;h<m;h++)q.mix(p.prototype,j[h].prototype||j[h],s,d);return p},extend:function(j,m,p,s){if(!m||!j)return j;var d=Object.create?function(o,w){return Object.create(o,{constructor:{value:w}})}:function(o,w){function g(){}g.prototype=o;var l=new g;l.constructor=w;return l},h=m.prototype,k;k=d(h,j);j.prototype=q.mix(k,j.prototype);j.superclass=d(h,m);p&&q.mix(k,p);s&&q.mix(j,s);return j},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var j=arguments,m=j.length,p=null,s,d,h,k=j[m-1]===true&&m--;for(s=0;s<m;s++){h=(""+j[s]).split(".");p=k?e:this;for(d=e[h[0]]===p?1:0;d<h.length;++d)p=p[h[d]]=p[h[d]]||{}}return p},app:function(j,m){var p=q.isString(j),s=p?e[j]||{}:j,d=0,h=q.__APP_INIT_METHODS.length;for(q.mix(s,this,true,q.__APP_MEMBERS);d<h;d++)q[q.__APP_INIT_METHODS[d]].call(s);q.mix(s,q.isFunction(m)?m():m);p&&(e[j]=s);return s},config:function(j){for(var m in j)this["_"+
m]&&this["_"+m](j[m])},log:function(j,m,p){if(q.Config.debug){if(p)j=p+": "+j;if(e.console!==C&&console.log)console[m&&console[m]?m:"log"](j)}},error:function(j){if(q.Config.debug)throw j;},guid:function(j){return(j||"")+y++}});q.__init();return q})(this,"KISSY");
(function(e,q){var C=e.__HOST,B=Object.prototype.toString,A=Array.prototype.indexOf,y=Array.prototype.lastIndexOf,j=Array.prototype.filter,m=String.prototype.trim,p=/^\s+|\s+$/g,s={};e.mix(e,{type:function(d){return d==null?String(d):s[B.call(d)]||"object"},isNull:function(d){return d===null},isUndefined:function(d){return d===q},isEmptyObject:function(d){for(var h in d)return false;return true},isPlainObject:function(d){return d&&B.call(d)==="[object Object]"&&"isPrototypeOf"in d},clone:function(d,
h,k){var o=d,w,g,l=k||{};if(d&&((w=e.isArray(d))||e.isPlainObject(d))){if(d["__~ks_cloned"])return l[d["__~ks_cloned"]];d["__~ks_cloned"]=o=e.guid();l[o]=d;if(w)o=h?e.filter(d,h):d.concat();else{o={};for(g in d)if(g!=="__~ks_cloned"&&d.hasOwnProperty(g)&&(!h||h.call(d,d[g],g,d)!==false))o[g]=e.clone(d[g],h,l)}}if(!k){e.each(l,function(r){if(r["__~ks_cloned"])try{delete r["__~ks_cloned"]}catch(t){r["__~ks_cloned"]=q}});l=q}return o},trim:m?function(d){return d==q?"":m.call(d)}:function(d){return d==
q?"":d.toString().replace(p,"")},substitute:function(d,h,k){if(!e.isString(d)||!e.isPlainObject(h))return d;return d.replace(k||/\\?\{([^{}]+)\}/g,function(o,w){if(o.charAt(0)==="\\")return o.slice(1);return h[w]!==q?h[w]:""})},each:function(d,h,k){var o,w=0,g=d.length,l=g===q||e.type(d)==="function";k=k||C;if(l)for(o in d){if(h.call(k,d[o],o,d)===false)break}else for(o=d[0];w<g&&h.call(k,o,w,d)!==false;o=d[++w]);return d},indexOf:A?function(d,h){return A.call(h,d)}:function(d,h){for(var k=0,o=h.length;k<
o;++k)if(h[k]===d)return k;return-1},lastIndexOf:y?function(d,h){return y.call(h,d)}:function(d,h){for(var k=h.length-1;k>=0;k--)if(h[k]===d)break;return k},unique:function(d,h){h&&d.reverse();for(var k=d.slice(),o=0,w,g;o<k.length;){for(g=k[o];(w=e.lastIndexOf(g,k))!==o;)k.splice(w,1);o+=1}h&&k.reverse();return k},inArray:function(d,h){return e.indexOf(d,h)>-1},filter:j?function(d,h,k){return j.call(d,h,k||this)}:function(d,h,k){var o=[];e.each(d,function(w,g,l){if(h.call(k||this,w,g,l))o.push(w)});
return o},now:function(){return(new Date).getTime()}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(d,h){s["[object "+d+"]"]=h=d.toLowerCase();e["is"+d]=function(k){return e.type(k)==h}})})(KISSY);
(function(e,q){function C(a){a=a.split("/");for(var b=[],c=0;c<a.length;c++){var f=a[c];if(f!=".")f==".."?b.pop():b.push(f)}return b.join("/")}function B(a,b){if(!b)return b;if(e.isArray(b)){for(var c=0;c<b.length;c++)b[c]=B(a,b[c]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){c=k;var f;if((f=a.lastIndexOf("/"))!=-1)c=a.substring(0,f+1);return C(c+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?C(b):b}function A(a){return a.replace(/(-min)?\.js[^/]*$/i,k)}function y(a){if(a.charAt(a.length-
1)!="/")a+="/";a=e.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=t+a;return C(a)}function j(a){return a.replace(/\?.*$/,"")}function m(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}if(!e.use){var p=e.__HOST,s=!p.getSelection&&p.ActiveXObject,d=p.document,h=d.getElementsByTagName("head")[0]||d.documentElement,k="",o=2,w=3,g=4,l=e.mix,r=d.createElement("script").readyState?function(a,b){var c=a.onreadystatechange;a.onreadystatechange=function(){var f=
a.readyState;if(f==="loaded"||f==="complete"){a.onreadystatechange=null;c&&c();b.call(this)}}}:function(a,b){a.addEventListener("load",b,false)},t=location.href.replace(/[^/]*$/i,k);p={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,c){var f=this.Env.mods,i;if(e.isString(a)&&!c&&e.isPlainObject(b)){i={};i[a]=b;a=i}if(e.isPlainObject(a)){e.each(a,function(u,v){u.name=v;f[v]&&l(u,f[v],false)});l(f,a);return this}if(e.isString(a)){var n;if(c&&(n=c.host)){a=f[n];if(!a){e.error("module "+
n+" can not be found !");return this}if(this.__isAttached(n))b.apply(this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,b,c);if(c&&c.attach===false)return this;b=f[a];a=B(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else for(a=(b=e.makeArray(a)).length-1;a>=0;a--)j(b[a]);return this}if(e.isFunction(a)){c=b;b=a;if(s){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,c):e.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();
this.__registerModule(a,b,c)}this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:b,config:c};return this}e.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,c=0;c<a.length;c++){var f=a[c];if(f.readyState=="interactive"){b=f;break}}b||e.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return A(a.substring(this.Config.base.length));b=this.__packages;
for(var i in b)if(b.hasOwnProperty(i))if(a.lastIndexOf(b[i].path,0)==0)return A(a.substring(b[i].path.length));e.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,c){c=c||{};var f=this.Env.mods,i=f[a]||{};l(i,{name:a,status:o});i.fns=i.fns||[];i.fns.push(b);l(f[a]=i,c)},_packages:function(a){var b;b=this.__packages=this.__packages||{};for(var c=0;c<a.length;c++){var f=a[c];b[f.name]=f;if(f.path)f.path=y(f.path)}},_combine:function(a,b){var c=this,f;if(e.isObject(a))e.each(a,
function(i,n){e.each(i,function(u){c._combine(u,n)})});else{f=c.__combines=c.__combines||{};if(b)f[a]=b;else return f[a]||a}},__mixMods:function(a){var b=this.Env.mods,c=a.Env.mods,f;for(f in c)this.__mixMod(b,c,f,a)},__mixMod:function(a,b,c,f){var i=a[c]||{},n=i.status;e.mix(i,e.clone(b[c]));if(n)i.status=n;f&&this.__buildPath(i,f.Config.base);a[c]=i},use:function(a,b,c){a=a.replace(/\s+/g,k).split(",");m(a);c=c||{};var f=this,i,n,u=a.length,v;c.global&&f.__mixMods(c.global);if(f.__isAttached(a)){c=
f.__getModules(a);b&&b.apply(f,c)}else{for(n=0;n<u&&(i=a[n]);n++)f.__attachModByName(i,function(){if(!v&&f.__isAttached(a)){v=true;var D=f.__getModules(a);b&&b.apply(f,D)}},c);return f}},__getModules:function(a){var b=[this];a=a||[];for(var c=0;c<a.length;c++)b.push(this.require(a[c]));return b},require:function(a){a=this.Env.mods[j(a)];var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;return a&&a.value},__getPackagePath:function(a){var b=this._combine(a.name),c=this.__packages||{},
f="",i;for(i in c)if(c.hasOwnProperty(i))if(b.lastIndexOf(i,0)==0)if(i.length>f)f=i;c=(b=c[f])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;return c},__attachModByName:function(a,b,c){var f=this.Env.mods;/^([^?]+)(\?.*)?$/.test(a);a=RegExp.$1;var i=RegExp.$2,n=f[a];if(!n){n=this.Config.componentJsName||function(u,v){return u+"-min.js"+(v?v:"")};n={path:e.isFunction(n)?n(this._combine(a),i):n,charset:"utf-8"};f[a]=n}n.name=a;n&&n.status===g||this.__attach(n,b,c)},__attach:function(a,
b,c){function f(){if(!J&&i.__isAttached(a.requires)){a.status===o&&i.__attachMod(a);if(a.status===g){J=true;b()}}}var i=this,n=i.Env.mods,u=(a.requires||[]).concat(),v=0,D=u.length;for(a.requires=u;v<D;v++){u[v]=B(a.name,u[v]);var K=n[j(u[v])];K&&K.status===g||i.__attachModByName(u[v],f,c)}i.__buildPath(a,i.__getPackagePath(a));i.__load(a,function(){if(i.__currentModule){i.__registerModule(a.name,i.__currentModule.def,i.__currentModule.config);i.__currentModule=null}var E=a.requires||[],I=[];a.requires=
E;for(var F=E.length-1;F>=0;F--){E[F]=B(a.name,E[F]);var G=E[F],H=n[j(G)],L=e.inArray(G,u);H&&H.status===g||L||i.__attachModByName(G,f,c);if(!L&&(!H||H.status<o))I.push(G)}I.length!=0&&I.unshift(a.name);f()},c);var J=false},__attachMod:function(a){var b=this,c=a.fns;c&&e.each(c,function(f){f=e.isFunction(f)?f.apply(b,b.__getModules(a.requires)):f;a.value=a.value||f});a.status=g},__isAttached:function(a){for(var b=this.Env.mods,c,f=(a=e.makeArray(a)).length-1;f>=0;f--){c=j(a[f]);c=b[c]||{};if(c.status!==
g)return false}return true},__load:function(a,b,c){function f(){u[n]=o;if(a.status!==w){c.global&&i.__mixMod(i.Env.mods,c.global.Env.mods,a.name,c.global);if(a.status!==g)a.status=o;b()}}var i=this,n=a.fullpath,u=e.Env._loadQueue,v=u[n];a.status=a.status||0;if(a.status<1&&v)a.status=v.nodeName?1:o;if(a.status<1&&n){a.status=1;if(s){i.__startLoadModuleName=a.name;i.__startLoadTime=Number(+new Date)}v=i.getScript(n,{success:function(){f()},error:function(){a.status=w;u[n]=o},charset:a.charset});u[n]=
v}else a.status===1?r(v,f):b()},__buildPath:function(a,b){var c=this.Config;if(!a.fullpath&&a.path)a.fullpath=(b||c.base)+a.path;if(a.fullpath&&c.debug)a.fullpath=a.fullpath.replace(/-min/ig,k)},getScript:function(a,b,c){var f=/\.css(?:\?|$)/i.test(a),i=d.createElement(f?"link":"script"),n=b,u,v,D;if(e.isPlainObject(n)){b=n.success;u=n.error;v=n.timeout;c=n.charset}if(f){i.href=a;i.rel="stylesheet"}else{i.src=a;i.async=true}if(c)i.charset=c;if(f)e.isFunction(b)&&b.call(i);else r(i,function(){if(D){D.cancel();
D=q}e.isFunction(b)&&b.call(i)});if(e.isFunction(u))D=e.later(function(){D=q;u()},(v||this.Config.timeout)*1E3);h.insertBefore(i,h.firstChild);return i}};l(e,p);var x=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,z=/(seed|kissy)(-min)?\.js/i;e.__initLoader=function(){var a=d.getElementsByTagName("script");a=a[a.length-1];var b=a.src,c=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var f=a[0];c=f.indexOf(c);if(c==-1)b=b.replace(x,"$1");else{b=f.substring(0,c);
c=f.substring(c+2,f.length);if(c.match(z))b+=c.replace(x,"$1");else for(c=1;c<a.length;c++){f=a[c];if(f.match(z)){b+=f.replace(x,"$1");break}}}if(!b.match(/^(http(s)?)|(file):/i)&&b.lastIndexOf("/",0)!=0)b=t+b;a=b;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=y(a);if(!this.Config.timeout)this.Config.timeout=10};e.__initLoader();e.each(p,function(a,b){e.__APP_MEMBERS.push(b)});e.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(e,q){function C(g){var l=typeof g;return g===null||l!=="object"&&l!=="function"}function B(g){return Array.prototype.slice.call(g)}var A=e.__HOST,y=A.document,j=y.documentElement,m=encodeURIComponent("[]"),p=false,s=[],d=false,h=/^#?([\w-]+)$/,k=/^(\w+)\[\]$/,o=/\S/;e.mix(e,{isWindow:function(g){return e.type(g)==="object"&&"setInterval"in g},makeArray:function(g){if(g===null||g===q)return[];if(e.isArray(g))return g;if(typeof g.length!=="number"||e.isString(g)||e.isFunction(g))return[g];
return B(g)},param:function(g,l){if(!e.isPlainObject(g))return"";l=l||"&";var r=[],t,x;for(t in g){x=g[t];t=encodeURIComponent(t);if(C(x))r.push(t,"=",encodeURIComponent(x+""),l);else if(e.isArray(x)&&x.length)for(var z=0,a=x.length;z<a;++z)C(x[z])&&r.push(t,m+"=",encodeURIComponent(x[z]+""),l)}r.pop();return r.join("")},unparam:function(g,l){if(typeof g!=="string"||(g=e.trim(g)).length===0)return{};for(var r={},t=g.split(l||"&"),x,z,a,b,c=0,f=t.length;c<f;++c){x=t[c].split("=");z=decodeURIComponent(x[0]);
try{a=decodeURIComponent(x[1]||"")}catch(i){a=x[1]||""}if((b=z.match(k))&&b[1]){r[b[1]]=r[b[1]]||[];r[b[1]].push(a)}else r[z]=a}return r},globalEval:function(g){if(g&&o.test(g)){var l=y.getElementsByTagName("head")[0]||j,r=y.createElement("script");r.text=g;l.insertBefore(r,l.firstChild);l.removeChild(r)}},later:function(g,l,r,t,x){l=l||0;t=t||{};var z=g,a=e.makeArray(x),b;if(e.isString(g))z=t[g];z||e.error("method undefined");g=function(){z.apply(t,a)};b=r?setInterval(g,l):setTimeout(g,l);return{id:b,
interval:r,cancel:function(){this.interval?clearInterval(b):clearTimeout(b)}}},ready:function(g){d||this._bindReady();p?g.call(A,this):s.push(g);return this},_bindReady:function(){var g=this,l=y.documentElement.doScroll,r=l?"onreadystatechange":"DOMContentLoaded",t=function(){g._fireReady()};d=true;if(y.readyState==="complete")return t();if(y.addEventListener){var x=function(){y.removeEventListener(r,x,false);t()};y.addEventListener(r,x,false);A.addEventListener("load",t,false)}else{var z=function(){if(y.readyState===
"complete"){y.detachEvent(r,z);t()}};y.attachEvent(r,z);A.attachEvent("onload",t);var a=false;try{a=A.frameElement==null}catch(b){}if(l&&a){var c=function(){try{l("left");t()}catch(f){setTimeout(c,1)}};c()}}},_fireReady:function(){if(!p){p=true;if(s){for(var g,l=0;g=s[l++];)g.call(A,this);s=null}}},available:function(g,l){if((g=(g+"").match(h)[1])&&e.isFunction(l))var r=1,t=e.later(function(){if(y.getElementById(g)&&(l()||1)||++r>500)t.cancel()},40,true)}});try{B(j.childNodes)}catch(w){B=function(g){for(var l=
[],r=g.length-1;r>=0;r--)l[r]=g[r];return l}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)e.Config.debug=true})(KISSY);(function(e){e.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
