/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Oct 15 14:04
*/
KISSY.add("json",function(o,l){return o.JSON={parse:function(c){return null==c||""===c?null:l.parse(c)},stringify:l.stringify}},{requires:["json/json2"]});
KISSY.add("json/json2",function(o,l){function c(a){return 10>a?"0"+a:a}function p(a){q.lastIndex=0;return q.test(a)?'"'+a.replace(q,function(a){var d=t[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function m(a,h){var d,e,i,c,n=f,g,b=h[a];b&&"object"===typeof b&&"function"===typeof b.toJSON&&(b=b.toJSON(a));"function"===typeof j&&(b=j.call(h,a,b));switch(typeof b){case "string":return p(b);case "number":return isFinite(b)?""+b:"null";case "boolean":case "null":return""+
b;case "object":if(!b)return"null";f+=k;g=[];if("[object Array]"===Object.prototype.toString.apply(b)){c=b.length;for(d=0;d<c;d+=1)g[d]=m(d,b)||"null";i=0===g.length?"[]":f?"[\n"+f+g.join(",\n"+f)+"\n"+n+"]":"["+g.join(",")+"]";f=n;return i}if(j&&"object"===typeof j){c=j.length;for(d=0;d<c;d+=1)e=j[d],"string"===typeof e&&(i=m(e,b))&&g.push(p(e)+(f?": ":":")+i)}else for(e in b)Object.hasOwnProperty.call(b,e)&&(i=m(e,b))&&g.push(p(e)+(f?": ":":")+i);i=0===g.length?"{}":f?"{\n"+f+g.join(",\n"+f)+"\n"+
n+"}":"{"+g.join(",")+"}";f=n;return i}}var h=o.Env,s=h.host||{},h=(h.nodejs&&"object"===typeof global?global:s).JSON;if(!h||9>l.ie)h=s.JSON={};"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});
var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,k,t={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;"function"!==typeof h.stringify&&(h.stringify=function(a,c,d){var e;k=f="";if(typeof d==="number")for(e=0;e<d;e=e+1)k=k+" ";else typeof d==="string"&&(k=d);if((j=c)&&typeof c!=="function"&&
(typeof c!=="object"||typeof c.length!=="number"))throw Error("JSON.stringify");return m("",{"":a})});"function"!==typeof h.parse&&(h.parse=function(a,c){function d(a,e){var f,g,b=a[e];if(b&&typeof b==="object")for(f in b)if(Object.hasOwnProperty.call(b,f)){g=d(b,f);g!==void 0?b[f]=g:delete b[f]}return c.call(a,e,b)}var e,a=""+a;r.lastIndex=0;r.test(a)&&(a=a.replace(r,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e=eval("("+a+")");return typeof c==="function"?d({"":e},""):e}throw new SyntaxError("JSON.parse");});return h},{requires:["ua"]});
