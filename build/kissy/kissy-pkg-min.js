/*
Copyright 2010, KISSY UI Library v1.1.2dev
MIT Licensed
build time: ${build.time}
*/
(function(g,j,i){if(g[j]===i)g[j]={};j=g[j];var l=g.document,p=function(b,c,h,k){if(!c||!b)return b;if(h===i)h=true;var o,n,r;if(k&&(r=k.length))for(o=0;o<r;o++){n=k[o];if(n in c)if(h||!(n in b))b[n]=c[n]}else for(n in c)if(h||!(n in b))b[n]=c[n];return b},u=false,t=[],w=false,x=/^#?([\w-]+)$/;p(j,{version:"1.1.2dev",_init:function(){this.Env={mods:{},guid:0}},add:function(b,c){this.Env.mods[b]={name:b,fn:c};c(this);return this},ready:function(b){w||this._bindReady();u?b.call(g,this):t.push(b);return this},
_bindReady:function(){var b=this,c=l.documentElement.doScroll,h=c?"onreadystatechange":"DOMContentLoaded",k=function(){b._fireReady()};w=true;if(l.readyState==="complete")return k();if(l.addEventListener){var o=function(){l.removeEventListener(h,o,false);k()};l.addEventListener(h,o,false);g.addEventListener("load",k,false)}else{var n=function(){if(l.readyState==="complete"){l.detachEvent(h,n);k()}};l.attachEvent(h,n);g.attachEvent("onload",k);if(g==g.top){var r=function(){try{c("left");k()}catch(a){setTimeout(r,
1)}};r()}}},_fireReady:function(){if(!u){u=true;if(t){for(var b,c=0;b=t[c++];)b.call(g,this);t=null}}},available:function(b,c){if((b=(b+"").match(x)[1])&&j.isFunction(c))var h=1,k=j.later(function(){if(l.getElementById(b)&&(c()||1)||++h>500)k.cancel()},40,true)},mix:p,merge:function(){var b={},c,h=arguments.length;for(c=0;c<h;++c)p(b,arguments[c]);return b},augment:function(){var b=arguments,c=b.length-2,h=b[0],k=b[c],o=b[c+1],n=1;if(!j.isArray(o)){k=o;o=i;c++}if(!j.isBoolean(k)){k=i;c++}for(;n<c;n++)p(h.prototype,
b[n].prototype||b[n],k,o);return h},extend:function(b,c,h,k){if(!c||!b)return b;var o=Object.prototype,n=c.prototype,r=function(a){function d(){}d.prototype=a;return new d}(n);b.prototype=r;r.constructor=b;b.superclass=n;if(c!==Object&&n.constructor===o.constructor)n.constructor=c;h&&p(r,h);k&&p(b,k);return b},namespace:function(){var b=arguments.length,c=null,h,k,o;for(h=0;h<b;++h){o=(""+arguments[h]).split(".");c=this;for(k=g[o[0]]===c?1:0;k<o.length;++k)c=c[o[k]]=c[o[k]]||{}}return c},app:function(b,
c){var h=g[b]||{};p(h,this,true,["_init","add","namespace"]);h._init();return p(g[b]=h,typeof c==="function"?c():c)},log:function(b,c,h){if(this.Config.debug){if(h)b=h+": "+b;if(g.console!==i&&console.log)console[c&&console[c]?c:"log"](b)}return this},error:function(b){if(this.Config.debug)throw b;},guid:function(b){var c=this.Env.guid++ +"";return b?b+c:c}});j._init();j.Config={debug:""}})(window,"KISSY");
KISSY.add("lang",function(g,j){function i(a){var d=typeof a;return a===null||d!=="object"&&d!=="function"}var l=window,p=document,u=location,t=Array.prototype,w=t.indexOf,x=t.filter,b=String.prototype.trim,c=Object.prototype.toString,h=encodeURIComponent,k=decodeURIComponent,o=/^\s+|\s+$/g,n=/^(\w+)\[\]$/,r=/\S/;g.mix(g,{isUndefined:function(a){return a===j},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&
isFinite(a)},isPlainObject:function(a){return a&&c.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var d in a)return false;return true},isFunction:function(a){return c.call(a)==="[object Function]"},isArray:function(a){return c.call(a)==="[object Array]"},trim:b?function(a){return a==j?"":b.call(a)}:function(a){return a==j?"":a.toString().replace(o,"")},substitute:function(a,d,e){if(!g.isString(a)||!g.isPlainObject(d))return a;return a.replace(e||/\\?\{([^{}]+)\}/g,
function(f,m){if(f.charAt(0)==="\\")return f.slice(1);return d[m]!==j?d[m]:""})},each:function(a,d,e){var f,m=0,q=a.length,s=q===j||g.isFunction(a);e=e||l;if(s)for(f in a){if(d.call(e,a[f],f,a)===false)break}else for(f=a[0];m<q&&d.call(e,f,m,a)!==false;f=a[++m]);return a},indexOf:w?function(a,d){return w.call(d,a)}:function(a,d){for(var e=0,f=d.length;e<f;++e)if(d[e]===a)return e;return-1},inArray:function(a,d){return g.indexOf(a,d)>-1},makeArray:function(a){if(a===null||a===j)return[];if(g.isArray(a))return a;
if(typeof a.length!=="number"||typeof a==="string"||g.isFunction(a))return[a];if(a.item&&g.UA.ie){for(var d=[],e=0,f=a.length;e<f;++e)d[e]=a[e];return d}return t.slice.call(a)},filter:x?function(a,d,e){return x.call(a,d,e)}:function(a,d,e){var f=[];g.each(a,function(m,q,s){d.call(e,m,q,s)&&f.push(m)});return f},param:function(a,d){if(!g.isPlainObject(a))return"";d=d||"&";var e=[],f,m;for(f in a){m=a[f];f=h(f);if(i(m))e.push(f,"=",h(m+""),d);else if(g.isArray(m)&&m.length)for(var q=0,s=m.length;q<
s;++q)i(m[q])&&e.push(f,"[]=",h(m[q]+""),d)}e.pop();return e.join("")},unparam:function(a,d){if(typeof a!=="string"||(a=g.trim(a)).length===0)return{};var e={};a=a.split(d||"&");for(var f,m,q,s=0,v=a.length;s<v;++s){d=a[s].split("=");f=k(d[0]);try{m=k(d[1]||"")}catch(y){m=d[1]||""}if((q=f.match(n))&&q[1]){e[q[1]]=e[q[1]]||[];e[q[1]].push(m)}else e[f]=m}return e},later:function(a,d,e,f,m){d=d||0;f=f||{};var q=a,s=g.makeArray(m),v;if(typeof a==="string")q=f[a];q||g.error("method undefined");a=function(){q.apply(f,
s)};v=e?setInterval(a,d):setTimeout(a,d);return{id:v,interval:e,cancel:function(){this.interval?clearInterval(v):clearTimeout(v)}}},clone:function(a){var d=a,e,f;if(a&&((e=g.isArray(a))||g.isPlainObject(a))){d=e?[]:{};for(f in a)if(a.hasOwnProperty(f))d[f]=g.clone(a[f])}return d},now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&r.test(a)){var d=p.getElementsByTagName("head")[0]||p.documentElement,e=p.createElement("script");e.text=a;d.insertBefore(e,d.firstChild);d.removeChild(e)}}});
if(u&&u.search&&u.search.indexOf("ks-debug")!==-1)g.Config.debug=true});
KISSY.add("ua",function(g){var j=navigator.userAgent,i,l={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},p=function(u){var t=0;return parseFloat(u.replace(/\./g,function(){return t++===0?".":""}))};if((i=j.match(/AppleWebKit\/([\d.]*)/))&&i[1]){l.webkit=p(i[1]);if((i=j.match(/Chrome\/([\d.]*)/))&&i[1])l.chrome=p(i[1]);else if((i=j.match(/\/([\d.]*) Safari/))&&i[1])l.safari=p(i[1]);if(/ Mobile\//.test(j))l.mobile="Apple";else if(i=j.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=
i[0]}else if((i=j.match(/Opera\/.* Version\/([\d.]*)/))&&i[1]){l.opera=p(i[1]);if(j.match(/Opera Mini[^;]*/))l.mobile=i[0]}else if((i=j.match(/MSIE\s([^;]*)/))&&i[1])l.ie=p(i[1]);else if(i=j.match(/Gecko/)){l.gecko=1;if((i=j.match(/rv:([\d.]*)/))&&i[1])l.gecko=p(i[1]);if((i=j.match(/Firefox\/([\d.]*)/))&&i[1])l.firefox=p(i[1])}l._numberify=p;g.UA=l});
