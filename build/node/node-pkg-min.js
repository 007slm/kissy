/*
Copyright 2010, KISSY UI Library v1.1.6
MIT Licensed
build time: Nov 30 14:19
*/
KISSY.add("node",function(a){function f(c,e,j){if(!(this instanceof f))return new f(c,e,j);if(c){if(a.isString(c)){c=o.create(c,e,j);if(c.nodeType===11)return new a.NodeList(c.childNodes)}else if(c instanceof f)return c;else c=c;this[0]=c}else this.length=0}var o=a.DOM;f.TYPE="-ks-Node";a.augment(f,{length:1,getDOMNode:function(){return this[0]},nodeType:f.TYPE});a.one=function(c,e){var j=a.get(c,e);return j?new f(j):null};a.Node=f});
KISSY.add("nodelist",function(a){function f(e){if(!(this instanceof f))return new f(e);o.push.apply(this,a.makeArray(e)||[])}var o=Array.prototype,c=a.DOM._isElementNode;a.mix(f.prototype,{length:0,item:function(e){var j=null,d,l;if(c(e)){d=0;for(l=this.length;d<l;d++)if(e===this[d]){e=d;break}}if(c(this[e]))j=new a.Node(this[e]);return j},getDOMNodes:function(){return o.slice.call(this)},each:function(e,j){var d=this.length,l=0,p;for(p=new a.Node(this[0]);l<d&&e.call(j||p,p,l,this)!==false;p=new a.Node(this[++l]));
return this}});a.all=function(e,j){return new f(a.query(e,j,true))};a.NodeList=f});
KISSY.add("node-attach",function(a,f){function o(b,i,g,k){b=[this[b?u:s]()].concat(a.makeArray(i));if(i[g]===f)return k.apply(d,b);else{k.apply(d,b);return this}}function c(b,i){a.each(b,function(g){a.each([q,v],function(k,h){k[g]=function(n){switch(i){case t:return function(){return o.call(this,h,arguments,1,n)};case r:return function(){return o.call(this,h,arguments,0,n)};case w:return function(){var m=this[h?u:s]();return(m=n.apply(d,[m].concat(a.makeArray(arguments))))?new (a[a.isArray(m)?"NodeList":
"Node"])(m):null};default:return function(){var m=this[h?u:s]();m=n.apply(d,[m].concat(a.makeArray(arguments)));return m===f?this:m}}}(d[g])})})}function e(b,i,g){b&&a.each(this,function(k){var h;if(i||a.isString(b))h=d.create(b);else{if(p(b,1)||p(b,3))h=b;if(x(b))h=b[0]}d[g](h,k)});return this}function j(b,i){if((b=a.get(b))&&b.appendChild)a.each(this,function(g){d[i](g,b)});return this}var d=a.DOM,l=a.Event,p=d._nodeTypeIs,x=d._isKSNode,q=a.Node.prototype,v=a.NodeList.prototype,s="getDOMNode",u=
s+"s",t=1,r=2,w=4;a.mix(q,{one:function(b){return a.one(b,this[0])},all:function(b){return a.all(b,this[0])}});c(["data","removeData"],t);c(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);c(["attr","removeAttr"],t);c(["val","text"],r);c(["css"],t);c(["width","height"],r);c(["offset"],r);c(["scrollIntoView"]);c(["parent","next","prev","siblings","children"],w);c(["contains"]);c(["html"],r);c(["remove"]);a.each(["insertBefore","insertAfter"],function(b){q[b]=function(i){d[b].call(d,
this[0],i);return this}});a.each([q,v],function(b,i){a.each(["append","prepend"],function(g){b[g]=function(k){return e.call(this,k,i,g)};b[g+"To"]=function(k){return j.call(this,k,g)}})});a.each([q,v],function(b){a.mix(b,a.EventTarget);b._supportSpecialEvent=true;b._addEvent=function(i,g,k){for(var h=0,n=this.length;h<n;h++)l._simpleAdd(this[h],i,g,k)};b._removeEvent=function(i,g,k){for(var h=0,n=this.length;h<n;h++)l._simpleRemove(this[h],i,g,k)};delete b.fire})});
