/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Sep 27 15:12
*/
var KISSY=function(a){var j=this,l=!{toString:1}.propertyIsEnumerable("toString"),h="hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(","),d={mix:function(a,d,f,b,e){"object"===typeof f&&(b=f.whitelist,e=f.deep,f=f.overwrite);var g=[],k=0;for(c(a,d,f,b,e,g);d=g[k++];)delete d.__MIX_CIRCULAR;return a}},c=function(d,c,f,b,g,q){if(!c||!d)return d;f===a&&(f=!0);var k=0,m,r;c.__MIX_CIRCULAR=d;q.push(c);if(b&&(r=b.length))for(;k<r;k++)m=b[k],m in c&&e(m,d,c,f,b,g,
q);else{for(m in c)"__MIX_CIRCULAR"!=m&&e(m,d,c,f,b,g,q);if(l)for(;m=h[k++];)Object.prototype.hasOwnProperty.call(c,m)&&e(m,d,c,f,b,g,q)}return d},e=function(d,e,f,b,u,q,k){if(b||!(d in e)||q){var m=e[d],f=f[d];if(m!==f)if(q&&f&&(g.isArray(f)||g.isPlainObject(f)))f.__MIX_CIRCULAR?e[d]=f.__MIX_CIRCULAR:(q=m&&(g.isArray(m)||g.isPlainObject(m))?m:g.isArray(f)?[]:{},e[d]=q,c(q,f,b,u,!0,k));else if(f!==a&&(b||!(d in e)))e[d]=f}},i={},s=0;i.Env=i.Env||{};i.Env.host=j;var g=d.mix(i,d);g.mix(g,{configs:g.configs||
{},version:"1.40dev",merge:function(a){var a=g.makeArray(arguments),d={},f,b=a.length;for(f=0;f<b;f++)g.mix(d,a[f]);return d},augment:function(d,c){var f=g.makeArray(arguments),b=f.length-2,e=1,q=f[b],k=f[b+1];g.isArray(k)||(q=k,k=a,b++);g.isBoolean(q)||(q=a,b++);for(;e<b;e++)g.mix(d.prototype,f[e].prototype||f[e],q,k);return d},extend:function(a,d,f,b){if(!d||!a)return a;var e=Object.create?function(a,b){return Object.create(a,{constructor:{value:b}})}:function(a,b){function d(){}d.prototype=a;
var f=new d;f.constructor=b;return f},c=d.prototype,k;k=e(c,a);a.prototype=g.mix(k,a.prototype);a.superclass=e(c,d);f&&g.mix(k,f);b&&g.mix(a,b);return a},namespace:function(){var a=g.makeArray(arguments),d=a.length,f=null,b,e,c,k=!0===a[d-1]&&d--;for(b=0;b<d;b++){c=(""+a[b]).split(".");f=k?j:this;for(e=j[c[0]]===f?1:0;e<c.length;++e)f=f[c[e]]=f[c[e]]||{}}return f},config:function(d,e){var f,b,c=this,i,k=g.Config,m=g.configs;g.isObject(d)?g.each(d,function(a,b){(i=m[b])?i.call(c,a):k[b]=a}):(f=m[d],
e===a?b=f?f.call(c):k[d]:f?b=f.call(c,e):k[d]=e);return b},log:function(d,e,f){if(g.Config.debug&&(f&&(d=f+": "+d),j.console!==a&&console.log))console[e&&console[e]?e:"log"](d)},error:function(a){if(g.Config.debug)throw a;},guid:function(a){return(a||"")+s++},keys:function(a){var d=[],e;for(e in a)a.hasOwnProperty(e)&&d.push(e);l&&g.each(h,function(b){Object.prototype.hasOwnProperty.call(a,b)&&d.push(b)});return d}});g.Env=g.Env||{};g.Env.nodejs="function"===typeof require&&"object"===typeof exports;
(g.Config=g.Config||{}).debug="";g.__BUILD_TIME="20120927151216";g.Env.nodejs&&(exports.KISSY=g);return g}();
(function(a,j){function l(){if(y)return y;var n=r;a.each(w,function(a){n+=a+"|"});n=n.slice(0,-1);return y=RegExp(n,"g")}function h(){if(z)return z;var n=r;a.each(A,function(a){n+=a+"|"});n+="&#(\\d{1,5});";return z=RegExp(n,"g")}function d(a){var b=typeof a;return null==a||"object"!==b&&"function"!==b}function c(n,b,d){var e=n,f,k,m,r;if(!n)return e;if(n[t])return d[n[t]].destination;if("object"===typeof n){r=n.constructor;if(a.inArray(r,[Boolean,String,Number,Date,RegExp]))e=new r(n.valueOf());
else if(f=a.isArray(n))e=b?a.filter(n,b):n.concat();else if(k=a.isPlainObject(n))e={};n[t]=r=a.guid();d[r]={destination:e,input:n}}if(f)for(n=0;n<e.length;n++)e[n]=c(e[n],b,d);else if(k)for(m in n)if(n.hasOwnProperty(m)&&m!==t&&(!b||b.call(n,n[m],m,n)!==s))e[m]=c(n[m],b,d);return e}function e(n,b,d,e){if(n[v]===b&&b[v]===n)return i;n[v]=b;b[v]=n;var f=function(a,n){return null!==a&&a!==j&&a[n]!==j},c;for(c in b)b.hasOwnProperty(c)&&!f(n,c)&&f(b,c)&&d.push("expected has key '"+c+"', but missing from actual.");
for(c in n)n.hasOwnProperty(c)&&!f(b,c)&&f(n,c)&&d.push("expected missing key '"+c+"', but present in actual.");for(c in b)b.hasOwnProperty(c)&&c!=v&&(a.equals(n[c],b[c],d,e)||e.push("'"+c+"' was '"+(b[c]?b[c].toString():b[c])+"' in expected, but was '"+(n[c]?n[c].toString():n[c])+"' in actual."));a.isArray(n)&&a.isArray(b)&&n.length!=b.length&&e.push("arrays were not the same length");delete n[v];delete b[v];return 0===d.length&&0===e.length}var i=!0,s=!1,g=Object.prototype.toString,o=Array.prototype,
p=o.indexOf,f=o.lastIndexOf,b=o.filter,u=o.every,q=o.some,k=String.prototype.trim,m=o.map,r="",t="__~ks_cloned",v="__~ks_compared",D=/^[\s\xa0]+|[\s\xa0]+$/g,x=encodeURIComponent,B=decodeURIComponent,C={},w={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},A={},y,z,E=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in w)w.hasOwnProperty(a)&&(A[w[a]]=a)})();a.mix(a,{stamp:function(b,d,e){if(!b)return b;var e=e||"__~ks_stamped",c=b[e];if(!c&&!d)try{c=b[e]=a.guid(e)}catch(f){c=
j}return c},noop:function(){},type:function(a){return null==a?""+a:C[g.call(a)]||"object"},isNull:function(a){return null===a},isUndefined:function(a){return a===j},isEmptyObject:function(a){for(var b in a)if(b!==j)return s;return i},isPlainObject:function(a){return a&&"[object Object]"===g.call(a)&&"isPrototypeOf"in a},equals:function(b,d,c,f){c=c||[];f=f||[];return b===d?i:b===j||null===b||d===j||null===d?null==b&&null==d:b instanceof Date&&d instanceof Date?b.getTime()==d.getTime():a.isString(b)&&
a.isString(d)||a.isNumber(b)&&a.isNumber(d)?b==d:"object"===typeof b&&"object"===typeof d?e(b,d,c,f):b===d},clone:function(b,d){var e={},f=c(b,d,e);a.each(e,function(a){a=a.input;if(a[t])try{delete a[t]}catch(b){a[t]=j}});e=null;return f},trim:k?function(a){return null==a?r:k.call(a)}:function(a){return null==a?r:a.toString().replace(D,r)},substitute:function(b,d,e){return!a.isString(b)||!a.isPlainObject(d)?b:b.replace(e||/\\?\{([^{}]+)\}/g,function(a,b){return"\\"===a.charAt(0)?a.slice(1):d[b]===
j?r:d[b]})},each:function(b,d,e){if(b){var c,f=0,k=b&&b.length,m=k===j||"function"===a.type(b),e=e||null;if(m)for(c in b){if(d.call(e,b[c],c,b)===s)break}else for(c=b[0];f<k&&d.call(e,c,f,b)!==s;c=b[++f]);}return b},indexOf:p?function(a,b){return p.call(b,a)}:function(a,b){for(var d=0,e=b.length;d<e;++d)if(b[d]===a)return d;return-1},lastIndexOf:f?function(a,b){return f.call(b,a)}:function(a,b){for(var d=b.length-1;0<=d&&b[d]!==a;d--);return d},unique:function(b,d){var e=b.slice();d&&e.reverse();
for(var c=0,f,k;c<e.length;){for(k=e[c];(f=a.lastIndexOf(k,e))!==c;)e.splice(f,1);c+=1}d&&e.reverse();return e},inArray:function(b,d){return-1<a.indexOf(b,d)},filter:b?function(a,d,e){return b.call(a,d,e||this)}:function(b,d,e){var c=[];a.each(b,function(a,b,f){d.call(e||this,a,b,f)&&c.push(a)});return c},map:m?function(a,b,d){return m.call(a,b,d||this)}:function(b,d,e){for(var c=b.length,f=Array(c),k=0;k<c;k++){var m=a.isString(b)?b.charAt(k):b[k];if(m||k in b)f[k]=d.call(e||this,m,k,b)}return f},
reduce:function(b,a,d){var e=b.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===e&&2==arguments.length)throw new TypeError("arguments invalid");var c=0,f;if(3<=arguments.length)f=arguments[2];else{do{if(c in b){f=b[c++];break}c+=1;if(c>=e)throw new TypeError;}while(i)}for(;c<e;)c in b&&(f=a.call(j,f,b[c],c,b)),c++;return f},every:u?function(b,a,d){return u.call(b,a,d||this)}:function(b,a,d){for(var e=b&&b.length||0,c=0;c<e;c++)if(c in b&&!a.call(d,b[c],c,b))return s;
return i},some:q?function(b,a,d){return q.call(b,a,d||this)}:function(b,a,d){for(var c=b&&b.length||0,e=0;e<c;e++)if(e in b&&a.call(d,b[e],e,b))return i;return s},bind:function(b,a,d){var e=[].slice,c=e.call(arguments,2),f=function(){},k=function(){return b.apply(this instanceof f?this:a,c.concat(e.call(arguments)))};f.prototype=b.prototype;k.prototype=new f;return k},now:Date.now||function(){return+new Date},fromUnicode:function(b){return b.replace(/\\u([a-f\d]{4})/ig,function(b,a){return String.fromCharCode(parseInt(a,
16))})},ucfirst:function(b){b+="";return b.charAt(0).toUpperCase()+b.substring(1)},escapeHTML:function(b){return(b+"").replace(l(),function(b){return A[b]})},escapeRegExp:function(b){return b.replace(E,"\\$&")},unEscapeHTML:function(b){return b.replace(h(),function(b,a){return w[b]||String.fromCharCode(+a)})},makeArray:function(b){if(null==b)return[];if(a.isArray(b))return b;if("number"!==typeof b.length||b.alert||a.isString(b)||a.isFunction(b))return[b];for(var d=[],e=0,c=b.length;e<c;e++)d[e]=b[e];
return d},param:function(b,e,c,f){if(!a.isPlainObject(b))return r;e=e||"&";c=c||"=";a.isUndefined(f)&&(f=i);var k=[],m,g,t,q,h;for(m in b)if(b.hasOwnProperty(m))if(h=b[m],m=x(m),d(h))k.push(m),h!==j&&k.push(c,x(h+r)),k.push(e);else if(a.isArray(h)&&h.length){g=0;for(q=h.length;g<q;++g)t=h[g],d(t)&&(k.push(m,f?x("[]"):r),t!==j&&k.push(c,x(t+r)),k.push(e))}k.pop();return k.join(r)},unparam:function(b,d,e){if(!a.isString(b)||!(b=a.trim(b)))return{};for(var e=e||"=",c={},f,b=b.split(d||"&"),k=0,m=b.length;k<
m;++k){f=b[k].indexOf(e);if(-1==f)d=B(b[k]),f=j;else{d=B(b[k].substring(0,f));f=b[k].substring(f+1);try{f=B(f)}catch(r){}a.endsWith(d,"[]")&&(d=d.substring(0,d.length-2))}Object.prototype.hasOwnProperty.call(c,d)?a.isArray(c[d])?c[d].push(f):c[d]=[c[d],f]:c[d]=f}return c},later:function(b,d,e,c,f){var d=d||0,k=b,m=a.makeArray(f),r;a.isString(b)&&(k=c[b]);b=function(){k.apply(c,m)};r=e?setInterval(b,d):setTimeout(b,d);return{id:r,interval:e,cancel:function(){this.interval?clearInterval(r):clearTimeout(r)}}},
startsWith:function(b,a){return 0===b.lastIndexOf(a,0)},endsWith:function(b,a){var d=b.length-a.length;return 0<=d&&b.indexOf(a,d)==d},throttle:function(b,d,e){d=d||150;if(-1===d)return function(){b.apply(e||this,arguments)};var c=a.now();return function(){var f=a.now();f-c>d&&(c=f,b.apply(e||this,arguments))}},buffer:function(b,d,e){function c(){c.stop();f=a.later(b,d,s,e||this,arguments)}d=d||150;if(-1===d)return function(){b.apply(e||this,arguments)};var f=null;c.stop=function(){f&&(f.cancel(),
f=0)};return c}});a.mix(a,{isBoolean:d,isNumber:d,isString:d,isFunction:d,isArray:d,isDate:d,isRegExp:d,isObject:d});a.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(b,d){C["[object "+b+"]"]=d=b.toLowerCase();a["is"+b]=function(b){return a.type(b)==d}})})(KISSY);
(function(a,j){function l(a,b,c){if(a instanceof e)return c(a[o]);var g=a[o];if(a=a[p])a.push([b,c]);else if(d(g))l(g,b,c);else return b&&b(g);return j}function h(a){if(!(this instanceof h))return new h(a);this.promise=a||new c}function d(a){return a&&a instanceof c}function c(a){this[o]=a;a===j&&(this[p]=[])}function e(a){if(a instanceof e)return a;c.apply(this,arguments);return j}function i(a,b,d){function g(a){try{return b?b(a):a}catch(d){return new e(d)}}function k(b){try{return d?d(b):new e(b)}catch(a){return new e(a)}}
function m(b){t||(t=1,r.resolve(g(b)))}var r=new h,t=0;a instanceof c?l(a,m,function(b){t||(t=1,r.resolve(k(b)))}):m(a);return r.promise}function s(a){return!g(a)&&d(a)&&a[p]===j&&(!d(a[o])||s(a[o]))}function g(a){return d(a)&&a[p]===j&&a[o]instanceof e}var o="__promise_value",p="__promise_pendings";h.prototype={constructor:h,resolve:function(d){var b=this.promise,c;if(!(c=b[p]))return j;b[o]=d;c=[].concat(c);b[p]=j;a.each(c,function(a){l(b,a[0],a[1])});return d},reject:function(a){return this.resolve(new e(a))}};
c.prototype={constructor:c,then:function(a,b){return i(this,a,b)},fail:function(a){return i(this,0,a)},fin:function(a){return i(this,function(b){return a(b,!0)},function(b){return a(b,!1)})},isResolved:function(){return s(this)},isRejected:function(){return g(this)}};a.extend(e,c);KISSY.Defer=h;KISSY.Promise=c;a.mix(c,{when:i,isPromise:d,isResolved:s,isRejected:g,all:function(a){var b=a.length;if(!b)return a;for(var d=h(),c=0;c<a.length;c++)(function(c,e){i(c,function(c){a[e]=c;0===--b&&d.resolve(a)},
function(b){d.reject(b)})})(a[c],c);return d.promise}})})(KISSY);
(function(a){function j(a,c){for(var e=0,i=a.length-1;0<=i;i--){var h=a[i];"."==h?a.splice(i,1):".."===h?(a.splice(i,1),e++):e&&(a.splice(i,1),e--)}if(c)for(;e--;e)a.unshift("..");return a}var l=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/,h={resolve:function(){var d="",c,e=a.makeArray(arguments),i,h=0;for(c=e.length-1;0<=c&&!h;c--)i=e[c],"string"==typeof i&&i&&(d=i+"/"+d,h="/"==i.charAt(0));d=j(a.filter(d.split("/"),function(a){return!!a}),!h).join("/");return(h?"/":"")+d||"."},
normalize:function(d){var c="/"==d.charAt(0),e="/"==d.slice(-1),d=j(a.filter(d.split("/"),function(a){return!!a}),!c).join("/");!d&&!c&&(d=".");d&&e&&(d+="/");return(c?"/":"")+d},join:function(){var d=a.makeArray(arguments);return h.normalize(a.filter(d,function(a){return a&&"string"==typeof a}).join("/"))},relative:function(d,c){var d=h.normalize(d),c=h.normalize(c),e=a.filter(d.split("/"),function(a){return!!a}),i=[],j,g,o=a.filter(c.split("/"),function(a){return!!a});g=Math.min(e.length,o.length);
for(j=0;j<g&&e[j]==o[j];j++);for(g=j;j<e.length;)i.push(".."),j++;i=i.concat(o.slice(g));return i=i.join("/")},basename:function(a,c){var e=a.match(l)||[],e=e[3]||"";c&&e&&e.slice(-1*c.length)==c&&(e=e.slice(0,-1*c.length));return e},dirname:function(a){var c=a.match(l)||[],a=c[1]||"",c=c[2]||"";if(!a&&!c)return".";c&&(c=c.substring(0,c.length-1));return a+c},extname:function(a){return(a.match(l)||[])[4]||""}};a.Path=h})(KISSY);
(function(a,j){function l(b){b._queryMap||(b._queryMap=a.unparam(b._query))}function h(a){this._query=a||""}function d(a,d){return encodeURI(a).replace(d,function(a){a=a.charCodeAt(0).toString(16);return"%"+(1==a.length?"0"+a:a)})}function c(b){if(b instanceof c)return b.clone();var d,e=this;a.mix(e,{scheme:"",userInfo:"",hostname:"",port:"",path:"",query:"",fragment:""});d=(b||"").match(o)||[];a.each(f,function(a,b){var c=d[a]||"";"query"==b?e.query=new h(c):e[b]=decodeURIComponent(c)})}var e=/[#\/\?@]/g,
i=/[#\?]/g,s=/[#@]/g,g=/#/g,o=RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),p=a.Path,f={scheme:1,userInfo:2,hostname:3,port:4,path:5,query:6,fragment:7};h.prototype={constructor:h,clone:function(){return new h(this.toString())},reset:function(a){this._query=a||"";this._queryMap=0},count:function(){var b=0,d=this._queryMap,c;l(this);for(c in d)d.hasOwnProperty(c)&&(a.isArray(d[c])?b+=d[c].length:
b++);return b},get:function(a){l(this);return a?this._queryMap[a]:this._queryMap},keys:function(){l(this);return a.keys(this._queryMap)},set:function(b,d){var c;l(this);c=this._queryMap;a.isString(b)?this._queryMap[b]=d:(b instanceof h&&(b=b.get()),a.each(b,function(a,b){c[b]=a}));return this},remove:function(a){l(this);a?delete this._queryMap[a]:this._queryMap={};return this},add:function(b,d){var c=this,e,f;a.isObject(b)?(b instanceof h&&(b=b.get()),a.each(b,function(a,b){c.add(b,a)})):(l(c),e=
c._queryMap,f=e[b],f=f===j?d:[].concat(f).concat(d),e[b]=f);return c},toString:function(b){l(this);return a.param(this._queryMap,j,j,b)}};c.prototype={constructor:c,clone:function(){var b=new c,d=this;a.each(f,function(a,c){b[c]=d[c]});b.query=b.query.clone();return b},resolve:function(b){a.isString(b)&&(b=new c(b));var d=0,e,f=this.clone();a.each("scheme,userInfo,hostname,port,path,query,fragment".split(","),function(c){if(c=="path")if(d)f[c]=b[c];else{if(c=b.path){d=1;if(!a.startsWith(c,"/"))if(f.hostname&&
!f.path)c="/"+c;else if(f.path){e=f.path.lastIndexOf("/");e!=-1&&(c=f.path.slice(0,e+1)+c)}f.path=p.normalize(c)}}else if(c=="query"){if(d||b.query.toString()){f.query=b.query.clone();d=1}}else if(d||b[c]){f[c]=b[c];d=1}});return f},getScheme:function(){return this.scheme},setScheme:function(a){this.scheme=a;return this},getHostname:function(){return this.hostname},setHostname:function(a){this.hostname=a;return this},setUserInfo:function(a){this.userInfo=a;return this},getUserInfo:function(){return this.userInfo},
setPort:function(a){this.port=a;return this},getPort:function(){return this.port},setPath:function(a){this.path=a;return this},getPath:function(){return this.path},setQuery:function(b){a.isString(b)&&(a.startsWith(b,"?")&&(b=b.slice(1)),b=new h(d(b,s)));this.query=b;return this},getQuery:function(){return this.query},getFragment:function(){return this.fragment},setFragment:function(b){a.startsWith(b,"#")||(b="#"+b);this.fragment=b;return this},hasSameDomainAs:function(a){return this.hostname.toLowerCase()==
a.hostname.toLowerCase()&&this.scheme.toLowerCase()==a.scheme.toLowerCase()&&this.port.toLowerCase()==a.port.toLowerCase()},toString:function(b){var c=[],f,k;if(f=this.scheme)c.push(d(f,e)),c.push(":");if(f=this.hostname){c.push("//");if(k=this.userInfo)c.push(d(k,e)),c.push("@");c.push(encodeURIComponent(f));if(k=this.port)c.push(":"),c.push(k)}if(k=this.path)f&&!a.startsWith(k,"/")&&(k="/"+k),k=p.normalize(k),c.push(d(k,i));if(b=this.query.toString(b))c.push("?"),c.push(b);if(b=this.fragment)c.push("#"),
c.push(d(b,g));return c.join("")}};c.Query=h;a.Uri=c})(KISSY);(function(){function a(a){this.SS=a}a.STATUS={INIT:0,LOADING:1,LOADED:2,ERROR:3,ATTACHED:4};KISSY.Loader=a})(KISSY);
(function(a){function j(a,d,c){a=a[l]||(a[l]={});c&&(a[d]=a[d]||[]);return a[d]}a.namespace("Loader");var l="__events__"+a.now();KISSY.Loader.Target={on:function(a,d){j(this,a,1).push(d)},detach:function(h,d){var c,e;if(h){if(c=j(this,h))d&&(e=a.indexOf(d,c),-1!=e&&c.splice(e,1)),(!d||!c.length)&&delete (this[l]||(this[l]={}))[h]}else delete this[l]},fire:function(h,d){var c=j(this,h);a.each(c,function(a){a.call(null,d)})}}})(KISSY);
(function(a){function j(b){if(a.isArray(b)){for(var c=[],d=0;d<b.length;d++)c[d]=l(b[d]);return c}return l(b)}function l(b){a.endsWith(c.basename(b),"/")&&(b+="index");return b}function h(b,c,d){var b=b.Env.mods,e,c=a.makeArray(c);for(e=0;e<c.length;e++){var f=b[c[e]];if(!f||f.status!==d)return!1}return!0}var d=a.Loader,c=a.Path,e=a.Uri,i=a.Env.host,s=i.navigator&&navigator.userAgent||"",g=a.startsWith,o=d.STATUS,p=o.ATTACHED,f=o.LOADED,b={},o=!!s.match(/AppleWebKit/),u=i.document,q=new e(i.location&&
location.href||"");a.mix(b,{docHead:function(){return u.getElementsByTagName("head")[0]||u.documentElement},isWebKit:o,isGecko:!o&&!!s.match(/Gecko/),isPresto:!!s.match(/Presto/),IE:!!s.match(/MSIE/),addEventListener:i.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},removeEventListener:i.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},normalDepModuleName:function(d,e){var f=0;if(!e)return e;
if(a.isArray(e)){for(;f<e.length;f++)e[f]=b.normalDepModuleName(d,e[f]);return e}return g(e,"../")||g(e,"./")?c.resolve(c.dirname(d),e):c.normalize(e)},removeExtname:function(a){return a.replace(/(-min)?\.js$/i,"")},resolveByPage:function(a){return q.resolve(a)},createModulesInfo:function(c,d){a.each(d,function(a){b.createModuleInfo(c,a)})},createModuleInfo:function(b,c,e){var c=l(c),f=b.Env.mods,g=f[c];return g?g:f[c]=g=new d.Module(a.mix({name:c,SS:b},e))},isAttached:function(a,b){return h(a,b,
p)},isLoaded:function(a,b){return h(a,b,f)},getModules:function(b,c){var d=[b],e;a.each(c,function(a){e=b.Env.mods[a];(!e||"css"!=e.getType())&&d.push(b.require(a))});return d},attachMod:function(c,d){if(d.status==f){var e=d.fn,g;g=d.requires=d.getNormalizedRequires();e&&(e=a.isFunction(e)?e.apply(d,b.getModules(c,g)):e,d.value=e);d.status=p;c.getLoader().fire("afterModAttached",{mod:d})}},getModNamesAsArray:function(b){a.isString(b)&&(b=b.replace(/\s+/g,"").split(","));return b},normalizeModNames:function(a,
c,d){return b.unalias(a,b.normalizeModNamesWithAlias(a,c,d))},unalias:function(a,b){for(var c=[].concat(b),d,e,f,g=0,i=a.Env.mods;!g;){g=1;for(d=c.length-1;0<=d;d--)if((e=i[c[d]])&&(f=e.alias))g=0,c.splice.apply(c,[d,1].concat(j(f)))}return c},normalizeModNamesWithAlias:function(a,c,d){var a=[],e,f;if(c){e=0;for(f=c.length;e<f;e++)c[e]&&a.push(j(c[e]))}d&&(a=b.normalDepModuleName(d,a));return a},registerModule:function(c,d,e,g){var i=c.Env.mods,h=i[d];if(!h||!h.fn)b.createModuleInfo(c,d),h=i[d],a.mix(h,
{name:d,status:f}),h.fn=e,a.mix(i[d]=h,g)},getMappedPath:function(a,b,c){for(var a=c||a.Config.mappedRules||[],d,c=0;c<a.length;c++)if(d=a[c],b.match(d[0]))return b.replace(d[0],d[1]);return b},memoize:function(b,c){var c=c||function(a){return a},d={},e={},f=function(){var f=a.makeArray(arguments),g=f.pop(),i=c.apply(null,f);i in d?g.apply(null,d[i]):i in e?e[i].push(g):(e[i]=[g],b.apply(null,f.concat([function(){d[i]=arguments;var a=e[i];delete e[i];for(var b=0,c=a.length;b<c;b++)a[b].apply(null,
arguments)}])))};f.unmemoized=b;return f}});d.Utils=b})(KISSY);
(function(a){function j(c){a.mix(this,c)}function l(c){this.status=d.STATUS.INIT;a.mix(this,c)}var h=a.Path,d=a.Loader,c=d.Utils;a.augment(j,{getTag:function(){return this.tag||this.SS.Config.tag},getName:function(){return this.name},getBase:function(){return this.base||this.SS.Config.base},getBaseUri:function(){return this.baseUri||this.SS.Config.baseUri},isDebug:function(){var a=this.debug;return void 0===a?this.SS.Config.debug:a},getCharset:function(){return this.charset||this.SS.Config.charset},
isCombine:function(){var a=this.combine;return void 0===a?this.SS.Config.combine:a}});d.Package=j;a.augment(l,{setValue:function(a){this.value=a},getType:function(){var a;if(void 0===(a=this.type))this.type=a=".css"==h.extname(this.name).toLowerCase()?"css":"js";return a},getFullPath:function(){var a,d;this.fullpath||(d=this.getPackage().getBaseUri(),d=d.resolve(this.getPath()),(a=this.getTag())&&d.query.set("t",a),this.fullpath=c.getMappedPath(this.SS,d.toString()));return this.fullpath},getPath:function(){var a;
if(!(a=this.path)){a=this.name;var c=(h.extname(a)||"").toLowerCase(),d="-min";".css"!=c&&(c=".js");a=h.join(h.dirname(a),h.basename(a,c));this.getPackage().isDebug()&&(d="");a=this.path=a+d+c}return a},getValue:function(){return this.value},getName:function(){return this.name},getPackage:function(){var c;if(!(c=this.packageInfo)){c=this.SS;var i=this.name,h=c.Env,g=h.packages||{},j="",l;for(l in g)g.hasOwnProperty(l)&&a.startsWith(i,l)&&l.length>j.length&&(j=l);c=this.packageInfo=g[j]||h.defaultPackage||
(h.defaultPackage=new d.Package({SS:c,name:""}))}return c},getTag:function(){return this.tag||this.getPackage().getTag()},getCharset:function(){return this.charset||this.getPackage().getCharset()},getNormalizedRequires:function(){var a,d=this.normalizedRequiresStatus,h=this.status,g=this.requires;if(!g||0==g.length)return g||[];if((a=this.normalizedRequires)&&d==h)return a;this.normalizedRequiresStatus=h;return this.normalizedRequires=c.normalizeModNames(this.SS,g,this.name)}});d.Module=l})(KISSY);
(function(a){var j=require("fs"),l=require("vm");a.mix(a,{getScript:function(h,d,c){var e;a.isPlainObject(d)&&(c=d.charset,e=d.error,d=d.success);if(a.startsWith(a.Path.extname(h).toLowerCase(),".css"))return d&&d();var i=new a.Uri(h);j.readFile(i.getPath(),c||"utf-8",function(c,g){if(c)e&&e(c);else{try{l.runInThisContext("(function(KISSY){"+g+"})",h)(a)}catch(i){e&&e(i)}d&&d()}})}})})(KISSY);
(function(a){var j=a.Loader,l=j.Utils,h=a.configs;h.map=function(a){return!1===a?this.Config.mappedRules=[]:this.Config.mappedRules=(this.Config.mappedRules||[]).concat(a||[])};h.mapCombo=function(a){return!1===a?this.Config.mappedComboRules=[]:this.Config.mappedComboRules=(this.Config.mappedComboRules||[]).concat(a||[])};h.packages=function(d){var c,e,h=this.Env,s=h.packages=h.packages||{};d?a.each(d,function(d,h){c=d.name||h;e=d.base||d.path;a.Env.nodejs&&!a.startsWith(e,"file:")&&(e="file:"+e);
a.endsWith(e,"/")||(e+="/");d.name=c;var i=l.resolveByPage(e);d.base=i.toString();d.baseUri=i;d.SS=a;delete d.path;s[c]=new j.Package(d)}):!1===d&&(h.packages={})};h.modules=function(d){var c=this;d?a.each(d,function(d,h){l.createModuleInfo(c,h,d);a.mix(c.Env.mods[h],d)}):!1===d&&(c.Env.mods={})};h.base=function(d){var c=this.Config;if(!d)return c.base;a.Env.nodejs&&!a.startsWith(d,"file:")&&(d="file:"+d);d=l.resolveByPage(d);c.base=d.toString();c.baseUri=d}})(KISSY);
(function(a,j){var l=a.Loader,h=a.Path,d=l.Utils;a.augment(l,l.Target,{__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(c,e,i){var l=this.SS,g,o=l.Env.mods;if(a.isPlainObject(c))return l.config({modules:c});if(a.isString(c))d.registerModule(l,c,e,i),e=o[c],i&&!1===i.attach||(i&&(g=e.getNormalizedRequires()),(!g||d.isAttached(l,g))&&d.attachMod(l,e));else if(a.isFunction(c))if(i=e,e=c,d.IE){g=this.SS;for(var c=a.Env.host.document.getElementsByTagName("script"),p,f,o=0;o<
c.length;o++)if(f=c[o],"interactive"==f.readyState){p=f;break}if(p){p=d.resolveByPage(p.src);var c=p.toString(),o=g.Env.packages,b,u;f=g.Config;var q,k=-1;for(u in o)o.hasOwnProperty(u)&&(g=o[u].getBase(),a.startsWith(c,g)&&g.length>k&&(k=g.length,b=g,q=o[u].getBaseUri()));c=b?d.removeExtname(h.relative(q.getPath(),p.getPath())):a.startsWith(c,f.base)?d.removeExtname(h.relative(f.baseUri.getPath(),p.getPath())):j}else c=this.__startLoadModuleName;d.registerModule(l,c,e,i);this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={fn:e,config:i}}})})(KISSY);
(function(a){function j(){this.listeners={};this.results={}}function l(b,c,d){a.each(c,function(a){h(b,a,d)})}function h(e,f,g){function h(){if(p.status==m)return 1;if(p.status!=b)return 0;var c=p.getNormalizedRequires();return a.reduce(c,function(a,b){return a&&g.inResult(b)},1)?(o.attachMod(l,p),1):0}function k(){return h()?(g.removeListener(f),g.results[f]=1,g.check(),1):0}var l=e.SS,j=a.Config.debug,q=l.Env.mods,p;o.createModuleInfo(l,f);p=q[f];k()||(g.addListener(k,f)?(c(e,p,g),j&&i(l,f)):j&&
d(l,f))}function d(b,c){i(b,c);var e=b.Env.mods,f=e[c].getNormalizedRequires();a.each(f,function(a){e[a]&&e[a].status!=m&&d(b,a)})}function c(a,b,c){var d=b.getNormalizedRequires();l(a,d,c);b.status<f&&e(a,b,c)}function e(b,c,d){function e(){if(c.fn){var a=c.getNormalizedRequires();a.length?l(b,a,d):d.check()}else c.status=u}var g=b.SS,h=c.getName(),i=c.getCharset(),j=c.getFullPath(),m="css"==c.getType();c.status=f;p&&!m&&(b.__startLoadModuleName=h,b.__startLoadTime=Number(+new Date));a.getScript(j,
{success:function(){if(m)o.registerModule(g,h,a.noop);else{var c;if(c=b[k]){o.registerModule(g,h,c.fn,c.config);b[k]=null}}e()},error:e,charset:i})}function i(b,c){var d=b.Env.mods,e=d[c],f=e[q]=e[q]||{},g=e.getNormalizedRequires(),e=e.name,h,i;a.each(g,function(b){h=d[b];f[b]=1;h&&(i=h[q])&&a.mix(f,i)});f[e]&&(g=a.Env.host.JSON)&&g.stringify(f)}var s=a.Loader,g=s.STATUS,o=s.Utils,p=o.IE,f=g.LOADING,b=g.LOADED,u=g.ERROR,q="__allRequires",k="__currentModule",m=g.ATTACHED;j.prototype={addListener:function(a,
b){return!(b in this.listeners)?(this.listeners[b]=a,1):0},removeListener:function(a){this.listeners[a]=null},check:function(){var b=this.listeners,c,d=a.keys(b);a.each(d,function(a){(c=b[a])&&c()})},inResult:function(a){return a in this.results}};a.augment(s,{use:function(b,c){var d=a.guid("callback"),e=this.__loadChecker||(this.__loadChecker=new j),f=this.SS,b=o.getModNamesAsArray(b),b=o.normalizeModNamesWithAlias(f,b),g=o.unalias(f,b);e.addListener(function(){a.reduce(g,function(a,b){return a&&
e.inResult(b)},1)&&(e.removeListener(d),c&&c.apply(f,o.getModules(f,b)),c=null)},d);l(this,g,e);return this},clear:function(){this.__loadChecker=new j}})})(KISSY);
(function(a){function j(){var c=/^(.*)(seed|kissy)(?:-min)?\.js[^/]*/i,d=/(seed|kissy)(?:-min)?\.js/i,i,l,g=a.Env.host.document.getElementsByTagName("script"),j=g[g.length-1],g=h.resolveByPage(j.src).toString(),j=(j=j.getAttribute("data-config"))?(new Function("return "+j))():{},g=g.replace(/%3f/gi,"?").replace(/%2c/gi,",");i=j.comboPrefix=j.comboPrefix||"??";l=j.comboSep=j.comboSep||",";var p,f=g.indexOf(i);-1==f?p=g.replace(c,"$1"):(p=g.substring(0,f),g=g.substring(f+i.length).split(l),a.each(g,
function(a){if(a.match(d))return p+=a.replace(c,"$1"),!1}));return a.mix({base:p,baseUri:new a.Uri(p)},j)}var l=a.Loader,h=l.Utils,d=a.Loader.Combo;a.mix(a,{add:function(a,d,h){this.getLoader().add(a,d,h)},use:function(a,d){this.getLoader().use(a,d)},getLoader:function(){var c=this.Env;return this.Config.combine&&!a.Env.nodejs?c._comboLoader:c._loader},clearLoader:function(){var a=this.Env,d;(d=a._comboLoader)&&d.clear&&d.clear();(d=a._loader)&&d.clear&&d.clear();this.config({map:!1,mapCombo:!1,modules:!1,
packages:!1})},require:function(a){return(a=this.Env.mods[a])&&a.value}});a.Env.nodejs?a.config("base",__dirname.replace(/\\/g,"/").replace(/\/$/,"")+"/"):a.config(a.mix({comboMaxUrlLength:2048,charset:"utf-8",tag:"20120927151216"},j()));(function(){var c=a.Env;c.mods=c.mods||{};c._loader=new l(a);d&&(c._comboLoader=new d(a))})()})(KISSY);
(function(a,j){var l=a.Env.host,h=l.document,d=h&&h.documentElement,c=l.location,e=l.navigator,i=new a.Defer,s=i.promise,g=/^#?([\w-]+)$/,o=/\S/;a.mix(a,{isWindow:function(c){return"object"===a.type(c)&&"setInterval"in c&&"document"in c&&9==c.document.nodeType},parseXML:function(a){if(a.documentElement)return a;var b;try{l.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(c){b=j}!b||!b.documentElement||b.getElementsByTagName("parsererror");
return b},globalEval:function(a){a&&o.test(a)&&(l.execScript||function(a){l.eval.call(l,a)})(a)},ready:function(a){s.then(a);return this},available:function(c,b){if((c=(c+"").match(g)[1])&&a.isFunction(b))var d=1,e,i=a.later(function(){((e=h.getElementById(c))&&(b(e)||1)||500<++d)&&i.cancel()},40,!0)}});if(c&&-1!==(c.search||"").indexOf("ks-debug"))a.Config.debug=!0;(function(){var c=d&&d.doScroll,b=c?"onreadystatechange":"DOMContentLoaded",e=function(){i.resolve(a)};if(!h||"complete"===h.readyState)return e();
if(h.addEventListener){var g=function(){h.removeEventListener(b,g,!1);e()};h.addEventListener(b,g,!1);l.addEventListener("load",e,!1)}else{var k=function(){"complete"===h.readyState&&(h.detachEvent(b,k),e())};h.attachEvent(b,k);l.attachEvent("onload",e);var j;try{j=null===l.frameElement}catch(o){j=!1}if(c&&j){var p=function(){try{c("left"),e()}catch(a){setTimeout(p,40)}};p()}}return 0})();if(e&&e.userAgent.match(/MSIE/))try{h.execCommand("BackgroundImageCache",!1,!0)}catch(p){}})(KISSY,void 0);
(function(a){a.config({packages:{gallery:{base:a.Config.baseUri.resolve("../").toString()}},modules:{core:{alias:"dom,event,ajax,anim,base,node,json".split(",")}}})})(KISSY);
