/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(){var c=require("jsdom").jsdom;document=c("<html><head></head><body></body></html>");window=document.createWindow();location=window.location;navigator=window.navigator;KISSY={__HOST:window};exports.KISSY=window.KISSY=KISSY})();
(function(c){function d(j){for(var a=0;a<j.length;a++)if(j[a].match(/\/$/))j[a]+="index";return j}function t(j,a){if(!a)return a;if(c.isArray(a)){for(var g=0;g<a.length;g++)a[g]=t(j,a[g]);return a}if(a.lastIndexOf("../",0)==0||a.lastIndexOf("./",0)==0){g="";var r;if((r=j.lastIndexOf("/"))!=-1)g=j.substring(0,r+1);return k.normalize(g+a)}else return a.indexOf("./")!=-1||a.indexOf("../")!=-1?k.normalize(a):a}var k=require("path");c.Env={};c.Env.mods={};var n=c.Env.mods;(function(j,a){for(var g in a)if(a.hasOwnProperty(g))j[g]=
a[g]})(c,{Config:{base:__filename.replace(/[^/]*$/i,"")},add:function(j,a,g){n[j]={name:j,fn:a};c.mix(n[j],g)},_packages:function(j){var a;a=this.__packages=this.__packages||{};for(var g=0;g<j.length;g++){var r=j[g];a[r.name]=r;if(r.path&&!r.path.match(/\/$/))r.path+="/"}},_getPath:function(j){var a=this.__packages=this.__packages||{},g="",r;for(r in a)if(a.hasOwnProperty(r))if(j.lastIndexOf(r,0)==0)if(r.length>g)g=r;return(a[g]&&a[g].path||this.Config.base)+j},_combine:function(j,a){var g=this,r;
if(c.isObject(j))c.each(j,function(z,o){c.each(z,function(s){g._combine(s,o)})});else{r=g.__combines=g.__combines||{};if(a)r[j]=a;else return r[j]||j}},require:function(j){j=n[j];var a=this.onRequire&&this.onRequire(j);if(a!==undefined)return a;return j&&j.value},_attach:function(j){var a=this._getPath(this._combine(j)),g=n[j];g||require(a);g=n[j];if(!g.attached){g.requires=g.requires||[];a=g.requires;t(j,a);j=[this];for(var r=0;r<a.length;r++){this._attach(a[r]);j.push(this.require(a[r]))}g.value=
g.fn.apply(null,j);g.attached=true}},use:function(j,a){j=j.replace(/\s+/g,"").split(",");d(j);var g=this,r=[this];c.each(j,function(z){g._attach(z);r.push(g.require(z))});a&&a.apply(null,r)}})})(KISSY);
(function(c,d,t){var k={mix:function(a,g,r,z){if(!g||!a)return a;if(r===t)r=true;var o,s,y;if(z&&(y=z.length))for(o=0;o<y;o++){s=z[o];if(s in g)if(r||!(s in a))a[s]=g[s]}else for(s in g)if(r||!(s in a))a[s]=g[s];return a}},n=c&&c[d]||{},j=0;c=n.__HOST||(n.__HOST=c||{});d=c[d]=k.mix(n,k,false);d.mix(d,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"20110411223841",merge:function(){var a={},g,r=arguments.length;for(g=0;g<r;g++)d.mix(a,arguments[g]);return a},augment:function(){var a=
arguments,g=a.length-2,r=a[0],z=a[g],o=a[g+1],s=1;if(!d.isArray(o)){z=o;o=t;g++}if(!d.isBoolean(z)){z=t;g++}for(;s<g;s++)d.mix(r.prototype,a[s].prototype||a[s],z,o);return r},extend:function(a,g,r,z){if(!g||!a)return a;var o=Object.create?function(x,B){return Object.create(x,{constructor:{value:B}})}:function(x,B){function e(){}e.prototype=x;var f=new e;f.constructor=B;return f},s=g.prototype,y;y=o(s,a);a.prototype=d.mix(y,a.prototype);a.superclass=o(s,g);r&&d.mix(y,r);z&&d.mix(a,z);return a},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var a=arguments,g=a.length,r=null,z,o,s,y=a[g-1]===true&&g--;for(z=0;z<g;z++){s=(""+a[z]).split(".");r=y?c:this;for(o=c[s[0]]===r?1:0;o<s.length;++o)r=r[s[o]]=r[s[o]]||{}}return r},app:function(a,g){var r=d.isString(a),z=r?c[a]||{}:a,o=0,s=d.__APP_INIT_METHODS.length;for(d.mix(z,this,true,d.__APP_MEMBERS);o<s;o++)d[d.__APP_INIT_METHODS[o]].call(z);d.mix(z,d.isFunction(g)?g():g);r&&(c[a]=z);return z},config:function(a){for(var g in a)this["_"+
g]&&this["_"+g](a[g])},log:function(a,g,r){if(d.Config.debug){if(r)a=r+": "+a;if(c.console!==t&&console.log)console[g&&console[g]?g:"log"](a)}},error:function(a){if(d.Config.debug)throw a;},guid:function(a){return(a||"")+j++}});d.__init();return d})(this,"KISSY");
(function(c,d){var t=c.__HOST,k=Object.prototype.toString,n=Array.prototype.indexOf,j=Array.prototype.lastIndexOf,a=Array.prototype.filter,g=String.prototype.trim,r=/^\s+|\s+$/g,z={};c.mix(c,{type:function(o){return o==null?String(o):z[k.call(o)]||"object"},isNull:function(o){return o===null},isUndefined:function(o){return o===d},isEmptyObject:function(o){for(var s in o)return false;return true},isPlainObject:function(o){return o&&k.call(o)==="[object Object]"&&"isPrototypeOf"in o},clone:function(o,
s,y){var x=o,B,e,f=y||{};if(o&&((B=c.isArray(o))||c.isPlainObject(o))){if(o["__~ks_cloned"])return f[o["__~ks_cloned"]];o["__~ks_cloned"]=x=c.guid();f[x]=o;if(B)x=s?c.filter(o,s):o.concat();else{x={};for(e in o)if(e!=="__~ks_cloned"&&o.hasOwnProperty(e)&&(!s||s.call(o,o[e],e,o)!==false))x[e]=c.clone(o[e],s,f)}}if(!y){c.each(f,function(h){if(h["__~ks_cloned"])try{delete h["__~ks_cloned"]}catch(l){h["__~ks_cloned"]=d}});f=d}return x},trim:g?function(o){return o==d?"":g.call(o)}:function(o){return o==
d?"":o.toString().replace(r,"")},substitute:function(o,s,y){if(!c.isString(o)||!c.isPlainObject(s))return o;return o.replace(y||/\\?\{([^{}]+)\}/g,function(x,B){if(x.charAt(0)==="\\")return x.slice(1);return s[B]!==d?s[B]:""})},each:function(o,s,y){var x,B=0,e=o&&o.length,f=e===d||c.type(o)==="function";y=y||t;if(f)for(x in o){if(s.call(y,o[x],x,o)===false)break}else for(x=o[0];B<e&&s.call(y,x,B,o)!==false;x=o[++B]);return o},indexOf:n?function(o,s){return n.call(s,o)}:function(o,s){for(var y=0,x=
s.length;y<x;++y)if(s[y]===o)return y;return-1},lastIndexOf:j?function(o,s){return j.call(s,o)}:function(o,s){for(var y=s.length-1;y>=0;y--)if(s[y]===o)break;return y},unique:function(o,s){s&&o.reverse();for(var y=o.slice(),x=0,B,e;x<y.length;){for(e=y[x];(B=c.lastIndexOf(e,y))!==x;)y.splice(B,1);x+=1}s&&y.reverse();return y},inArray:function(o,s){return c.indexOf(o,s)>-1},filter:a?function(o,s,y){return a.call(o,s,y||this)}:function(o,s,y){var x=[];c.each(o,function(B,e,f){if(s.call(y||this,B,e,
f))x.push(B)});return x},now:function(){return(new Date).getTime()}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(o,s){z["[object "+o+"]"]=s=o.toLowerCase();c["is"+o]=function(y){return c.type(y)==s}})})(KISSY);
(function(c,d){function t(b){b=b.split("/");for(var p=[],i,u=0;u<b.length;u++){i=b[u];if(i!=".")i==".."?p.pop():p.push(i)}return p.join("/")}function k(b,p){if(!p)return p;if(c.isArray(p)){for(var i=0;i<p.length;i++)p[i]=k(b,p[i]);return p}if(p.lastIndexOf("../",0)==0||p.lastIndexOf("./",0)==0){i=y;var u;if((u=b.lastIndexOf("/"))!=-1)i=b.substring(0,u+1);return t(i+p)}else return p.indexOf("./")!=-1||p.indexOf("../")!=-1?t(p):p}function n(b){return b.replace(/(-min)?\.js[^/]*$/i,y)}function j(b){if(b.charAt(b.length-
1)!="/")b+="/";b=c.trim(b);if(!b.match(/^(http(s)?)|(file):/i)&&b.lastIndexOf("/",0)!=0)b=q+b;return t(b)}function a(b){for(var p=0;p<b.length;p++)if(b[p].match(/\/$/))b[p]+="index";return b}function g(b){var p=b.src,i=b.getAttribute("data-combo-prefix")||"??";b=b.getAttribute("data-combo-sep")||",";b=p.split(b);var u,w=b[0];i=w.indexOf(i);if(i==-1)u=p.replace(v,"$1");else{u=w.substring(0,i);p=w.substring(i+2,w.length);if(p.match(A))u+=p.replace(v,"$1");else c.each(b,function(C){if(C.match(A)){u+=
C.replace(v,"$1");return false}})}if(!u.match(/^(http(s)?)|(file):/i)&&u.lastIndexOf("/",0)!=0)u=q+u;return u}if(!c.use){var r=c.__HOST,z=!r.getSelection&&r.ActiveXObject,o=r.document,s=o.getElementsByTagName("head")[0]||o.documentElement,y="",x=2,B=3,e=4,f=c.mix,h=o.createElement("script").readyState?function(b,p){var i=b.onreadystatechange;b.onreadystatechange=function(){var u=b.readyState;if(u==="loaded"||u==="complete"){b.onreadystatechange=null;i&&i();p.call(this)}}}:function(b,p){b.addEventListener("load",
p,false)},l=/\.css(?:\?|$)/i,m=encodeURIComponent(c.buildTime),q=location.href.replace(/[^/]*$/i,y);r={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(b,p,i){var u=this.Env.mods,w;if(c.isString(b)&&!i&&c.isPlainObject(p)){w={};w[b]=p;b=w}if(c.isPlainObject(b)){c.each(b,function(D,F){D.name=F;u[F]&&f(D,u[F],false)});f(u,b);return this}if(c.isString(b)){var C;if(i&&(C=i.host)){b=u[C];if(!b){c.error("module "+C+" can not be found !");return this}if(this.__isAttached(C))p.call(this,
this);else{b.fns=b.fns||[];b.fns.push(p)}return this}this.__registerModule(b,p,i);if(i&&i.attach===false)return this;p=u[b];b=k(b,p.requires);if(this.__isAttached(b))this.__attachMod(p);else if(this.Config.debug&&!p)for(b=c.makeArray(b).length-1;b>=0;b--);return this}if(c.isFunction(b)){i=p;p=b;if(z){if(+new Date-this.__startLoadTime<15)(b=this.__startLoadModuleName)?this.__registerModule(b,p,i):c.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{b=this.__findModuleNameByInteractive();this.__registerModule(b,p,i)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:p,config:i};return this}c.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var b=document.getElementsByTagName("script"),p,i,u=0;u<b.length;u++){i=b[u];if(i.readyState=="interactive"){p=i;break}}p||c.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");b=p.src;if(b.lastIndexOf(this.Config.base,0)==0)return n(b.substring(this.Config.base.length));p=this.__packages;for(var w in p){i=p[w].path;if(p.hasOwnProperty(w))if(b.lastIndexOf(i,
0)==0)return n(b.substring(i.length))}c.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+b)},__registerModule:function(b,p,i){i=i||{};var u=this.Env.mods,w=u[b]||{};f(w,{name:b,status:x});w.fns=w.fns||[];w.fns.push(p);f(u[b]=w,i)},_packages:function(b){var p;p=this.__packages=this.__packages||{};c.each(b,function(i){p[i.name]=i;if(i.path)i.path=j(i.path);if(i.tag)i.tag=encodeURIComponent(i.tag)})},_combine:function(b,p){var i=this,u;if(c.isObject(b))c.each(b,function(w,C){c.each(w,function(D){i._combine(D,
C)})});else{u=i.__combines=i.__combines||{};if(p)u[b]=p;else return u[b]||b}},__mixMods:function(b){var p=this.Env.mods,i=b.Env.mods,u;for(u in i)this.__mixMod(p,i,u,b)},__mixMod:function(b,p,i,u){var w=b[i]||{},C=w.status;c.mix(w,c.clone(p[i]));if(C)w.status=C;u&&this.__buildPath(w,u.Config.base);b[i]=w},use:function(b,p,i){b=b.replace(/\s+/g,y).split(",");a(b);i=i||{};var u=this,w;i.global&&u.__mixMods(i.global);if(u.__isAttached(b)){var C=u.__getModules(b);p&&p.apply(u,C)}else{c.each(b,function(D){u.__attachModByName(D,
function(){if(!w&&u.__isAttached(b)){w=true;var F=u.__getModules(b);p&&p.apply(u,F)}},i)});return u}},__getModules:function(b){var p=this,i=[p];c.each(b,function(u){i.push(p.require(u))});return i},require:function(b){b=this.Env.mods[b];var p=this.onRequire&&this.onRequire(b);if(p!==undefined)return p;return b&&b.value},__getPackagePath:function(b){if(b.packagepath)return b.packagepath;var p=this._combine(b.name),i=this.__packages||{},u="",w;for(w in i)if(i.hasOwnProperty(w))if(p.lastIndexOf(w,0)==
0)if(w.length>u)u=w;i=(p=i[u])&&p.path||this.Config.base;if(p&&p.charset)b.charset=p.charset;b.tag=p?p.tag:m;return b.packagepath=i},__attachModByName:function(b,p,i){var u=this.Env.mods,w=u[b];if(!w){w=this.Config.componentJsName||function(C){return C+"-min.js"};w={path:c.isFunction(w)?w(this._combine(b)):w,charset:"utf-8"};u[b]=w}w.name=b;w&&w.status===e||this.__attach(w,p,i)},__attach:function(b,p,i){function u(){if(!F&&w.__isAttached(b.requires)){b.status===x&&w.__attachMod(b);if(b.status===e){F=
true;p()}}}var w=this,C=w.Env.mods,D=(b.requires||[]).concat();b.requires=D;c.each(D,function(G,E,J){G=J[E]=k(b.name,G);(E=C[G])&&E.status===e||w.__attachModByName(G,u,i)});w.__buildPath(b,w.__getPackagePath(b));w.__load(b,function(){if(w.__currentModule){w.__registerModule(b.name,w.__currentModule.def,w.__currentModule.config);w.__currentModule=null}b.requires=b.requires||[];var G=[];c.each(b.requires,function(E,J,K){E=K[J]=k(b.name,E);J=C[E];K=c.inArray(E,D);J&&J.status===e||K||w.__attachModByName(E,
u,i);if(!K&&(!J||J.status<x))G.push(E)});G.length!=0&&G.unshift(b.name);if(c.isString(b.csspath)||c.isString(b.cssfullpath)){w.__buildPath(b,w.__getPackagePath(b));c.getScript(b.cssfullpath)}u()},i);var F=false},__attachMod:function(b){var p=this,i=b.fns;i&&c.each(i,function(u){u=c.isFunction(u)?u.apply(p,p.__getModules(b.requires)):u;b.value=b.value||u});b.status=e},__isAttached:function(b){var p=this.Env.mods,i=true;c.each(b,function(u){u=p[u];if(!u||u.status!==e)return i=false});return i},__load:function(b,
p,i){function u(){D[C]=x;if(b.status!==B){i.global&&w.__mixMod(w.Env.mods,i.global.Env.mods,b.name,i.global);if(b.status!==e)b.status=x;p()}}var w=this,C=b.fullpath,D=c.Env._loadQueue,F=D[C];b.status=b.status||0;if(b.status<1&&F)b.status=F.nodeName?1:x;if(c.isString(b.cssfullpath)){w.getScript(b.cssfullpath);b.cssfullpath=b.csspath=x}if(b.status<1&&C){b.status=1;if(z){w.__startLoadModuleName=b.name;w.__startLoadTime=Number(+new Date)}F=w.getScript(C,{success:function(){u()},error:function(){b.status=
B;D[C]=x},charset:b.charset});l.test(C)||(D[C]=F)}else b.status===1?h(F,u):p()},__buildPath:function(b,p){function i(w,C){if(!b[w]&&b[C]){b[C]=k(b.name,b[C]);b[w]=(p||u.base)+b[C]}if(b[w]&&u.debug)b[w]=b[w].replace(/-min/ig,y);if(b[w]&&!b[w].match(/\?t=/)&&b.tag)b[w]+="?t="+b.tag}var u=this.Config;i("fullpath","path");i("cssfullpath","csspath")},getScript:function(b,p,i){var u=/\.css(?:\?|$)/i.test(b),w=o.createElement(u?"link":"script"),C=p,D,F,G;if(c.isPlainObject(C)){p=C.success;D=C.error;F=C.timeout;
i=C.charset}if(u){w.href=b;w.rel="stylesheet"}else{w.src=b;w.async=true}if(i)w.charset=i;if(u)c.isFunction(p)&&p.call(w);else h(w,function(){if(G){G.cancel();G=d}c.isFunction(p)&&p.call(w)});if(c.isFunction(D))G=c.later(function(){G=d;D()},(F||this.Config.timeout)*1E3);s.insertBefore(w,s.firstChild);return w}};f(c,r);var v=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,A=/(seed|kissy)(-min)?\.js/i;c.__initLoader=function(){var b=o.getElementsByTagName("script");b=g(b[b.length-1]);this.Env.mods={};this.Env._loadQueue=
{};if(!this.Config.base)this.Config.base=j(b);if(!this.Config.timeout)this.Config.timeout=10};c.__initLoader();c.each(r,function(b,p){c.__APP_MEMBERS.push(p)});c.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(c,d){function t(e){var f=typeof e;return e===null||f!=="object"&&f!=="function"}function k(e){return Array.prototype.slice.call(e)}var n=c.__HOST,j=n.document,a=j.documentElement,g=encodeURIComponent("[]"),r=false,z=[],o=false,s=/^#?([\w-]+)$/,y=/^(\w+)\[\]$/,x=/\S/;c.mix(c,{isWindow:function(e){return c.type(e)==="object"&&"setInterval"in e},makeArray:function(e){if(e===null||e===d)return[];if(c.isArray(e))return e;if(typeof e.length!=="number"||c.isString(e)||c.isFunction(e))return[e];
return k(e)},param:function(e,f){if(!c.isPlainObject(e))return"";f=f||"&";var h=[],l,m;for(l in e){m=e[l];l=encodeURIComponent(l);if(t(m))h.push(l,"=",encodeURIComponent(m+""),f);else if(c.isArray(m)&&m.length)for(var q=0,v=m.length;q<v;++q)t(m[q])&&h.push(l,g+"=",encodeURIComponent(m[q]+""),f)}h.pop();return h.join("")},unparam:function(e,f){if(typeof e!=="string"||(e=c.trim(e)).length===0)return{};for(var h={},l=e.split(f||"&"),m,q,v,A,b=0,p=l.length;b<p;++b){m=l[b].split("=");q=decodeURIComponent(m[0]);
try{v=decodeURIComponent(m[1]||"")}catch(i){v=m[1]||""}if((A=q.match(y))&&A[1]){h[A[1]]=h[A[1]]||[];h[A[1]].push(v)}else h[q]=v}return h},globalEval:function(e){if(e&&x.test(e)){var f=j.getElementsByTagName("head")[0]||a,h=j.createElement("script");h.text=e;f.insertBefore(h,f.firstChild);f.removeChild(h)}},later:function(e,f,h,l,m){f=f||0;l=l||{};var q=e,v=c.makeArray(m),A;if(c.isString(e))q=l[e];q||c.error("method undefined");e=function(){q.apply(l,v)};A=h?setInterval(e,f):setTimeout(e,f);return{id:A,
interval:h,cancel:function(){this.interval?clearInterval(A):clearTimeout(A)}}},ready:function(e){o||this._bindReady();r?e.call(n,this):z.push(e);return this},_bindReady:function(){var e=this,f=j.documentElement.doScroll,h=f?"onreadystatechange":"DOMContentLoaded",l=function(){e._fireReady()};o=true;if(j.readyState==="complete")return l();if(j.addEventListener){var m=function(){j.removeEventListener(h,m,false);l()};j.addEventListener(h,m,false);n.addEventListener("load",l,false)}else{var q=function(){if(j.readyState===
"complete"){j.detachEvent(h,q);l()}};j.attachEvent(h,q);n.attachEvent("onload",l);var v=false;try{v=n.frameElement==null}catch(A){}if(f&&v){var b=function(){try{f("left");l()}catch(p){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!r){r=true;if(z){for(var e,f=0;e=z[f++];)e.call(n,this);z=null}}},available:function(e,f){if((e=(e+"").match(s)[1])&&c.isFunction(f))var h=1,l=c.later(function(){if(j.getElementById(e)&&(f()||1)||++h>500)l.cancel()},40,true)}});try{k(a.childNodes)}catch(B){k=function(e){for(var f=
[],h=e.length-1;h>=0;h--)f[h]=e[h];return f}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)c.Config.debug=true})(KISSY);(function(c){c.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var c=navigator.userAgent,d="",t="",k,n={},j=function(a){var g=0;return parseFloat(a.replace(/\./g,function(){return g++===0?".":""}))};if((k=c.match(/AppleWebKit\/([\d.]*)/))&&k[1]){n[d="webkit"]=j(k[1]);if((k=c.match(/Chrome\/([\d.]*)/))&&k[1])n[t="chrome"]=j(k[1]);else if((k=c.match(/\/([\d.]*) Safari/))&&k[1])n[t="safari"]=j(k[1]);if(/ Mobile\//.test(c))n.mobile="apple";else if(k=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))n.mobile=k[0].toLowerCase()}else if((k=
c.match(/Presto\/([\d.]*)/))&&k[1]){n[d="presto"]=j(k[1]);if((k=c.match(/Opera\/([\d.]*)/))&&k[1]){n[t="opera"]=j(k[1]);if((k=c.match(/Opera\/.* Version\/([\d.]*)/))&&k[1])n[t]=j(k[1]);if((k=c.match(/Opera Mini[^;]*/))&&k)n.mobile=k[0].toLowerCase();else if((k=c.match(/Opera Mobi[^;]*/))&&k)n.mobile=k[0]}}else if((k=c.match(/MSIE\s([^;]*)/))&&k[1]){n[d="trident"]=0.1;n[t="ie"]=j(k[1]);if((k=c.match(/Trident\/([\d.]*)/))&&k[1])n[d]=j(k[1])}else if(k=c.match(/Gecko/)){n[d="gecko"]=0.1;if((k=c.match(/rv:([\d.]*)/))&&
k[1])n[d]=j(k[1]);if((k=c.match(/Firefox\/([\d.]*)/))&&k[1])n[t="firefox"]=j(k[1])}n.core=d;n.shell=t;n._numberify=j;return n});
KISSY.add("ua/extra",function(c,d){var t=navigator.userAgent,k,n,j={},a=d._numberify;if(t.match(/360SE/))j[n="se360"]=3;else if(t.match(/Maxthon/)&&(k=window.external)){n="maxthon";try{j[n]=a(k.max_version)}catch(g){j[n]=0.1}}else if(k=t.match(/TencentTraveler\s([\d.]*)/))j[n="tt"]=k[1]?a(k[1]):0.1;else if(t.match(/TheWorld/))j[n="theworld"]=3;else if(k=t.match(/SE\s([\d.]*)/))j[n="sougou"]=k[1]?a(k[1]):0.1;n&&(j.shell=n);c.mix(d,j);return d},{requires:["ua/base"]});
KISSY.add("ua",function(c,d){return d},{requires:["ua/extra"]});KISSY.add("dom/base",function(c,d){function t(k,n){return k&&k.nodeType===n}return{_isElementNode:function(k){return t(k,1)},_isKSNode:function(k){var n=c.require("node/node");return n&&t(k,n.TYPE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:t(k,9)?k.defaultView||k.parentWindow:k===d?window:false},_nodeTypeIs:t}});
KISSY.add("dom/attr",function(c,d,t,k){var n=document.documentElement,j=!n.hasAttribute,a=n.textContent!==k?"textContent":"innerText",g=d._isElementNode,r=/^(?:href|src|style)/,z=/^(?:href|src|colspan|rowspan)/,o=/\r/g,s=/^(?:radio|checkbox)/,y={readonly:"readOnly"},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};j&&c.mix(y,{"for":"htmlFor","class":"className"});var B={tabindex:{getter:function(e){return e.tabIndex},setter:function(e,f){if(isNaN(parseInt(f))){e.removeAttribute("tabindex");
e.removeAttribute("tabIndex")}else e.tabIndex=f}},style:{getter:function(e){return e.style.cssText},setter:function(e,f){e.style.cssText=f}},checked:{setter:function(e,f){e.checked=!!f}},disabled:{setter:function(e,f){e.disabled=!!f}}};c.mix(d,{attr:function(e,f,h,l){if(c.isPlainObject(f)){l=h;for(var m in f)d.attr(e,m,f[m],l)}else if(f=c.trim(f)){f=f.toLowerCase();if(l&&x[f])return d[f](e,h);f=y[f]||f;var q=B[f];if(h===k){e=d.get(e);if(!g(e))return k;if(q&&q.getter)return q.getter(e);var v;r.test(f)||
(v=e[f]);if(v===k)v=e.getAttribute(f);if(j)if(z.test(f))v=e.getAttribute(f,2);return v===null?k:v}c.each(d.query(e),function(A){if(g(A))q&&q.setter?q.setter(A,h):A.setAttribute(f,""+h)})}},removeAttr:function(e,f){f=f.toLowerCase();c.each(d.query(e),function(h){if(g(h)){d.attr(h,f,"");h.removeAttribute(f)}})},hasAttr:j?function(e,f){f=f.toLowerCase();var h=d.get(e).getAttributeNode(f);return!!(h&&h.specified)}:function(e,f){f=f.toLowerCase();return d.get(e).hasAttribute(f)},val:function(e,f){if(f===
k){var h=d.get(e);if(!g(h))return k;if(h&&h.nodeName.toUpperCase()==="option".toUpperCase())return(h.attributes.value||{}).specified?h.value:h.text;if(h&&h.nodeName.toUpperCase()==="select".toUpperCase()){var l=h.selectedIndex,m=h.options;if(l<0)return null;else if(h.type==="select-one")return d.val(m[l]);h=[];for(var q=0,v=m.length;q<v;++q)m[q].selected&&h.push(d.val(m[q]));return h}if(t.webkit&&s.test(h.type))return h.getAttribute("value")===null?"on":h.value;return(h.value||"").replace(o,"")}c.each(d.query(e),
function(A){if(A&&A.nodeName.toUpperCase()==="select".toUpperCase()){if(c.isNumber(f))f+="";var b=c.makeArray(f),p=A.options,i;q=0;for(v=p.length;q<v;++q){i=p[q];i.selected=c.inArray(d.val(i),b)}if(!b.length)A.selectedIndex=-1}else if(g(A))A.value=f})},text:function(e,f){if(f===k){var h=d.get(e);if(g(h))return h[a]||"";else if(d._nodeTypeIs(h,3))return h.nodeValue}else c.each(d.query(e),function(l){if(g(l))l[a]=f;else if(d._nodeTypeIs(l,3))l.nodeValue=f})}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(c,d,t){function k(a,g,r,z){if(!(g=c.trim(g)))return z?false:t;a=d.query(a);var o=0,s=a.length;g=g.split(n);for(var y;o<s;o++){y=a[o];if(d._isElementNode(y)){y=r(y,g,g.length);if(y!==t)return y}}if(z)return false;return t}var n=/[\.\s]\s*\.?/,j=/[\n\t]/g;c.mix(d,{hasClass:function(a,g){return k(a,g,function(r,z,o){if(r=r.className){r=" "+r+" ";for(var s=0,y=true;s<o;s++)if(r.indexOf(" "+z[s]+" ")<0){y=false;break}if(y)return true}},true)},addClass:function(a,g){k(a,g,
function(r,z,o){var s=r.className;if(s){var y=" "+s+" ";s=s;for(var x=0;x<o;x++)if(y.indexOf(" "+z[x]+" ")<0)s+=" "+z[x];r.className=c.trim(s)}else r.className=g},t)},removeClass:function(a,g){k(a,g,function(r,z,o){var s=r.className;if(s)if(o){s=(" "+s+" ").replace(j," ");for(var y=0,x;y<o;y++)for(x=" "+z[y]+" ";s.indexOf(x)>=0;)s=s.replace(x," ");r.className=c.trim(s)}else r.className=""},t)},replaceClass:function(a,g,r){d.removeClass(a,g);d.addClass(a,r)},toggleClass:function(a,g,r){var z=c.isBoolean(r),
o;k(a,g,function(s,y,x){for(var B=0,e;B<x;B++){e=y[B];o=z?!r:d.hasClass(s,e);d[o?"removeClass":"addClass"](s,e)}},t)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,d,t,k){function n(b){var p=b.cloneNode(true);if(t.ie<8)p.innerHTML=b.innerHTML;return p}function j(b,p,i,u){if(i){var w=c.guid("ks-tmp-"),C=RegExp(B);p+='<span id="'+w+'"></span>';c.available(w,function(){var D=d.get("head"),F,G,E,J,K,I;for(C.lastIndex=0;F=C.exec(p);)if((E=(G=F[1])?G.match(f):false)&&E[2]){F=g.createElement("script");F.src=E[2];if((J=G.match(h))&&J[2])F.charset=J[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)c.globalEval(I);(K=g.getElementById(w))&&
d.remove(K);c.isFunction(u)&&u()});a(b,p)}else{a(b,p);c.isFunction(u)&&u()}}function a(b,p){p=(p+"").replace(B,"");try{b.innerHTML=p}catch(i){for(;b.firstChild;)b.removeChild(b.firstChild);p&&b.appendChild(d.create(p))}}var g=document,r=t.ie,z=d._nodeTypeIs,o=d._isElementNode,s=d._isKSNode,y=g.createElement("div"),x=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,h=/\scharset=(['"])(.*?)\1/i;c.mix(d,{create:function(b,
p,i){if(z(b,1)||z(b,3))return n(b);if(s(b))return n(b[0]);if(!(b=c.trim(b)))return null;var u=null;u=d._creators;var w,C="div",D;if(w=e.exec(b))u=(i||g).createElement(w[1]);else{if((w=x.exec(b))&&(D=w[1])&&c.isFunction(u[D=D.toLowerCase()]))C=D;b=u[C](b,i).childNodes;if(b.length===1)i=b[0].parentNode.removeChild(b[0]);else{b=b;D=i||g;i=null;if(b&&(b.push||b.item)&&b[0]){D=D||b[0].ownerDocument;i=D.createDocumentFragment();if(b.item)b=c.makeArray(b);D=0;for(u=b.length;D<u;D++)i.appendChild(b[D])}i=
i}u=i}i=u;o(i)&&c.isPlainObject(p)&&d.attr(i,p,true);return i},_creators:{div:function(b,p){var i=p?p.createElement("div"):y;i.innerHTML=b;return i}},html:function(b,p,i,u){if(p===k){b=d.get(b);if(o(b))return b.innerHTML}else c.each(d.query(b),function(w){o(w)&&j(w,p,i,u)})},remove:function(b){c.each(d.query(b),function(p){o(p)&&p.parentNode&&p.parentNode.removeChild(p)})}});if(r||t.gecko||t.webkit){var l=d._creators,m=d.create,q=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,v={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},A;for(A in v)(function(b){l[A]=function(p,i){return m("<"+b+">"+p+"</"+b+">",null,i)}})(v[A]);if(r){l.script=function(b,p){var i=p?p.createElement("div"):y;i.innerHTML="-"+b;i.removeChild(i.firstChild);return i};if(r<8)l.tbody=function(b,p){var i=m("<table>"+b+"</table>",null,p),u=i.children.tags("tbody")[0];i.children.length>1&&u&&!q.test(b)&&u.parentNode.removeChild(u);return i}}c.mix(l,{optgroup:l.option,th:l.td,thead:l.tbody,tfoot:l.tbody,
caption:l.tbody,colgroup:l.tbody})}return d},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(c,d,t){var k=window,n="_ks_data_"+c.now(),j={},a={},g={EMBED:1,OBJECT:1,APPLET:1};c.mix(d,{data:function(r,z,o){if(c.isPlainObject(z))for(var s in z)d.data(r,s,z[s]);else if(o===t){r=d.get(r);var y;if(!(!r||g[r.nodeName])){if(r==k)r=a;y=(s=r&&r.nodeType)?j:r;r=y[s?r[n]:n];if(c.isString(z)&&r)return r[z];return r}}else d.query(r).each(function(x){if(!(!x||g[x.nodeName])){if(x==k)x=a;var B=j,e;if(x&&x.nodeType){if(!(e=x[n]))e=x[n]=c.guid()}else{e=n;B=x}if(z&&o!==t){B[e]||
(B[e]={});B[e][z]=o}}})},removeData:function(r,z){d.query(r).each(function(o){if(o){if(o==k)o=a;var s,y=j,x,B=o&&o.nodeType;if(B)s=o[n];else{y=o;s=n}if(s){x=y[s];if(z){if(x){delete x[z];c.isEmptyObject(x)&&d.removeData(o)}}else{if(B)o.removeAttribute&&o.removeAttribute(n);else try{delete o[n]}catch(e){}B&&delete y[s]}}}})}});return d},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(c,d){c.mix(d,{insertBefore:function(t,k){if((t=d.get(t))&&(k=d.get(k))&&k.parentNode)k.parentNode.insertBefore(t,k);return t},insertAfter:function(t,k){if((t=d.get(t))&&(k=d.get(k))&&k.parentNode)k.nextSibling?k.parentNode.insertBefore(t,k.nextSibling):k.parentNode.appendChild(t);return t},append:function(t,k){if((t=d.get(t))&&(k=d.get(k)))k.appendChild&&k.appendChild(t)},prepend:function(t,k){if((t=d.get(t))&&(k=d.get(k)))k.firstChild?d.insertBefore(t,k.firstChild):
k.appendChild(t)}});return d},{requires:["dom/base"]});
KISSY.add("dom/offset",function(c,d,t,k){function n(m){var q=0,v=0,A=z(m[x]);if(m[l]){m=m[l]();q=m[B];v=m[e];if(t.mobile!=="apple"){q+=d[f](A);v+=d[h](A)}}return{left:q,top:v}}var j=window,a=document,g=d._isElementNode,r=d._nodeTypeIs,z=d._getWin,o=a.compatMode==="CSS1Compat",s=Math.max,y=parseInt,x="ownerDocument",B="left",e="top",f="scrollLeft",h="scrollTop",l="getBoundingClientRect";c.mix(d,{offset:function(m,q){if(!(m=d.get(m))||!m[x])return null;if(q===k)return n(m);var v=m;if(d.css(v,"position")===
"static")v.style.position="relative";var A=n(v),b={},p,i;for(i in q){p=y(d.css(v,i),10)||0;b[i]=p+q[i]-A[i]}d.css(v,b)},scrollIntoView:function(m,q,v,A){if((m=d.get(m))&&m[x]){A=A===k?true:!!A;v=v===k?true:!!v;if(!q||q===j)return m.scrollIntoView(v);q=d.get(q);if(r(q,9))q=z(q);var b=q&&"scrollTo"in q&&q.document,p=d.offset(m),i=b?{left:d.scrollLeft(q),top:d.scrollTop(q)}:d.offset(q),u={left:p[B]-i[B],top:p[e]-i[e]};p=b?d.viewportHeight(q):q.clientHeight;i=b?d.viewportWidth(q):q.clientWidth;var w=
d[f](q),C=d[h](q),D=w+i,F=C+p,G=m.offsetHeight;m=m.offsetWidth;var E=u.left+w-(y(d.css(q,"borderLeftWidth"))||0);u=u.top+C-(y(d.css(q,"borderTopWidth"))||0);var J=E+m,K=u+G,I,H;if(G>p||u<C||v)I=u;else if(K>F)I=K-p;if(A)if(m>i||E<w||v)H=E;else if(J>D)H=J-i;if(b){if(I!==k||H!==k)q.scrollTo(H,I)}else{if(I!==k)q[h]=I;if(H!==k)q[f]=H}}}});c.each(["Left","Top"],function(m,q){var v="scroll"+m;d[v]=function(A){var b=0,p=z(A),i;if(p&&(i=p.document))b=p[q?"pageYOffset":"pageXOffset"]||i.documentElement[v]||
i.body[v];else if(g(A=d.get(A)))b=A[v];return b}});c.each(["Width","Height"],function(m){d["doc"+m]=function(q){q=q||a;return s(o?q.documentElement["scroll"+m]:q.body["scroll"+m],d["viewport"+m](q))};d["viewport"+m]=function(q){var v="inner"+m;q=z(q);var A=q.document;return v in q?q[v]:o?A.documentElement["client"+m]:A.body["client"+m]}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(c,d,t,k){function n(h,l){var m=d.get(h),q=l===r?m.offsetWidth:m.offsetHeight;c.each(l===r?["Left","Right"]:["Top","Bottom"],function(v){q-=parseFloat(d._getComputedStyle(m,"padding"+v))||0;q-=parseFloat(d._getComputedStyle(m,"border"+v+"Width"))||0});return q}function j(h,l,m){var q=m;if(m===z&&s.test(l)){q=0;if(c.inArray(d.css(h,"position"),["absolute","fixed"])){m=h[l==="left"?"offsetLeft":"offsetTop"];if(t.ie===8||t.opera)m-=o(d.css(h.offsetParent,"border-"+l+"-width"))||
0;q=m-(o(d.css(h,"margin-"+l))||0)}}return q}var a=document,g=a.documentElement,r="width",z="auto",o=parseInt,s=/^(?:left|top)/,y=/^(?:width|height|top|left|right|bottom|margin|padding)/i,x=/-([a-z])/ig,B=function(h,l){return l.toUpperCase()},e={},f={};c.mix(d,{_CUSTOM_STYLES:e,_getComputedStyle:function(h,l){var m="",q=h.ownerDocument;if(h.style)m=q.defaultView.getComputedStyle(h,null)[l];return m},css:function(h,l,m){if(c.isPlainObject(l))for(var q in l)d.css(h,q,l[q]);else{if(l.indexOf("-")>0)l=
l.replace(x,B);l=e[l]||l;if(m===k){h=d.get(h);q="";if(h&&h.style){q=l.get?l.get(h):h.style[l];if(q===""&&!l.get)q=j(h,l,d._getComputedStyle(h,l))}return q===k?"":q}else{if(m===null||m==="")m="";else if(!isNaN(new Number(m))&&y.test(l))m+="px";(l===r||l==="height")&&parseFloat(m)<0||c.each(d.query(h),function(v){if(v&&v.style){l.set?l.set(v,m):v.style[l]=m;if(m==="")v.style.cssText||v.removeAttribute("style")}})}}},width:function(h,l){if(l===k)return n(h,r);else d.css(h,r,l)},height:function(h,l){if(l===
k)return n(h,"height");else d.css(h,"height",l)},show:function(h){d.query(h).each(function(l){if(l){l.style.display=d.data(l,"display")||"";if(d.css(l,"display")==="none"){var m=l.tagName,q=f[m],v;if(!q){v=a.createElement(m);a.body.appendChild(v);q=d.css(v,"display");d.remove(v);f[m]=q}d.data(l,"display",q);l.style.display=q}}})},hide:function(h){d.query(h).each(function(l){if(l){var m=l.style,q=m.display;if(q!=="none"){q&&d.data(l,"display",q);m.display="none"}}})},toggle:function(h){d.query(h).each(function(l){if(l)l.style.display===
"none"?d.show(l):d.hide(l)})},addStyleSheet:function(h,l){var m;if(l&&(l=l.replace("#","")))m=d.get("#"+l);if(!m){m=d.create("<style>",{id:l});d.get("head").appendChild(m);if(m.styleSheet)m.styleSheet.cssText=h;else m.appendChild(a.createTextNode(h))}},unselectable:function(h){d.query(h).each(function(l){if(l)if(t.gecko)l.style.MozUserSelect="none";else if(t.webkit)l.style.KhtmlUserSelect="none";else if(t.ie||t.opera){var m=0,q=l.getElementsByTagName("*");for(l.setAttribute("unselectable","on");l=
q[m++];)switch(l.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:l.setAttribute("unselectable","on")}}})}});if(g.style.cssFloat!==k)e["float"]="cssFloat";else if(g.style.styleFloat!==k)e["float"]="styleFloat";return d},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,d,t){function k(f,h){var l,m,q=[],v;m=c.require("sizzle");h=n(h);if(c.isString(f)){f=c.trim(f);if(B.test(f)){if(m=j(f.slice(1),h))q=[m]}else if(l=e.exec(f)){m=l[1];v=l[2];l=l[3];if(h=m?j(m,h):h)if(l)if(!m||f.indexOf(o)!==-1)q=g(l,v,h);else{if((m=j(m,h))&&d.hasClass(m,l))q=[m]}else if(v)q=a(v,h)}else if(m)q=m(f,h);else r(f)}else if(f&&(f[y]||f[x]))q=f[y]?[f[y]()]:f[x]();else if(f&&(c.isArray(f)||f&&!f.nodeType&&f.item&&!f.setTimeout))q=f;else if(f)q=[f];if(q&&!q.nodeType&&
q.item&&!q.setTimeout)q=c.makeArray(q);q.each=function(A,b){return c.each(q,A,b)};return q}function n(f){if(f===t)f=z;else if(c.isString(f)&&B.test(f))f=j(f.slice(1),z);else if(f&&f.nodeType!==1&&f.nodeType!==9)f=null;return f}function j(f,h){if(h.nodeType!==9)h=h.ownerDocument;return h.getElementById(f)}function a(f,h){return h.getElementsByTagName(f)}function g(f,h,l){l=f=l.getElementsByClassName(f);var m=0,q=0,v=f.length,A;if(h&&h!==s){l=[];for(h=h.toUpperCase();m<v;++m){A=f[m];if(A.tagName===
h)l[q++]=A}}return l}function r(f){c.error("Unsupported selector: "+f)}var z=document,o=" ",s="*",y="getDOMNode",x=y+"s",B=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var f=z.createElement("div");f.appendChild(z.createComment(""));if(f.getElementsByTagName(s).length>0)a=function(h,l){var m=l.getElementsByTagName(h);if(h===s){for(var q=[],v=0,A=0,b;b=m[v++];)if(b.nodeType===1)q[A++]=b;m=q}return m}})();z.getElementsByClassName||(g=z.querySelectorAll?function(f,h,l){return l.querySelectorAll((h?
h:"")+"."+f)}:function(f,h,l){h=l.getElementsByTagName(h||s);l=[];var m=0,q=0,v=h.length,A,b;for(f=o+f+o;m<v;++m){A=h[m];if((b=A.className)&&(o+b+o).indexOf(f)>-1)l[q++]=A}return l});c.mix(d,{query:k,get:function(f,h){return k(f,h)[0]||null},filter:function(f,h,l){l=k(f,l);var m=c.require("sizzle"),q,v,A,b=[];if(c.isString(h)&&(q=e.exec(h))&&!q[1]){v=q[2];A=q[3];h=function(p){return!(v&&p.tagName!==v.toUpperCase()||A&&!d.hasClass(p,A))}}if(c.isFunction(h))b=c.filter(l,h);else if(h&&m)b=m._filter(f,
h+"");else r(h);return b},test:function(f,h,l){f=k(f,l);return f.length&&d.filter(f,h,l).length===f.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(c,d,t,k,n){if(!t.ie)return d;t=document;k=t.documentElement;var j=d._CUSTOM_STYLES,a=/^-?\d+(?:px)?$/i,g=/^-?\d/,r=/^(?:width|height)$/;try{if(k.style.opacity==n&&k.filters)j.opacity={get:function(o){var s=100;try{s=o.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(y){try{s=o.filters("alpha").opacity}catch(x){}}return s/100+""},set:function(o,s){var y=o.style,x=(o.currentStyle||0).filter||"";y.zoom=1;if(x)x=c.trim(x.replace(/alpha\(opacity[=:][^)]+\),?/ig,
""));if(x&&s!=1)x+=", ";y.filter=x+(s!=1?"alpha(opacity="+s*100+")":"")}}}catch(z){}if(!(t.defaultView||{}).getComputedStyle&&k.currentStyle)d._getComputedStyle=function(o,s){var y=o.style,x=o.currentStyle[s];if(r.test(s))x=d[s](o)+"px";else if(!a.test(x)&&g.test(x)){var B=y.left,e=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left;y.left=s==="fontSize"?"1em":x||0;x=y.pixelLeft+"px";y.left=B;o.runtimeStyle.left=e}return x};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,d,t){function k(a,g,r,z){if(!(a=d.get(a)))return null;if(g===t)g=1;var o=null,s,y;if(c.isNumber(g)&&g>=0){if(g===0)return a;s=0;y=g;g=function(){return++s===y}}for(;a=a[r];)if(j(a)&&(!g||d.test(a,g))&&(!z||z(a))){o=a;break}return o}function n(a,g,r){var z=[];var o=a=d.get(a);if(a&&r)o=a.parentNode;if(o){r=0;for(o=o.firstChild;o;o=o.nextSibling)if(j(o)&&o!==a&&(!g||d.test(o,g)))z[r++]=o}return z}var j=d._isElementNode;c.mix(d,{parent:function(a,g){return k(a,g,
"parentNode",function(r){return r.nodeType!=11})},next:function(a,g){return k(a,g,"nextSibling",t)},prev:function(a,g){return k(a,g,"previousSibling",t)},siblings:function(a,g){return n(a,g,true)},children:function(a,g){return n(a,g,t)},contains:function(a,g){var r=false;if((a=d.get(a))&&(g=d.get(g)))if(a.contains){if(g.nodeType===3){g=g.parentNode;if(g===a)return true}if(g)return a.contains(g)}else if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(g)&16);else for(;!r&&(g=g.parentNode);)r=
g==a;return r}});return d},{requires:["dom/base"]});KISSY.add("dom",function(c,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(c,d){function t(j,a,g){this.currentTarget=j;this.originalEvent=a||{};if(a){this.type=a.type;this._fix()}else{this.type=g;this.target=j}this.currentTarget=j;this.fixed=true}var k=document,n="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(t,
{_fix:function(){var j=this.originalEvent,a=n.length,g,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||k;a;){g=n[--a];this[g]=j[g]}if(!this.target)this.target=this.srcElement||k;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===d&&this.clientX!==d){j=r.documentElement;a=r.body;this.pageX=this.clientX+(j&&j.scrollLeft||a&&a.scrollLeft||
0)-(j&&j.clientLeft||a&&a.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||a&&a.scrollTop||0)-(j&&j.clientTop||a&&a.clientTop||0)}if(this.which===d)this.which=this.charCode!==d?this.charCode:this.keyCode;if(this.metaKey===d)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==d)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return t});
KISSY.add("event/base",function(c,d,t,k){function n(e,f,h,l,m){if(c.isString(f))f=d.query(f);if(c.isArray(f)){c.each(f,function(q){B[e](q,h,l,m)});return true}if((h=c.trim(h))&&h.indexOf(s)>0){c.each(h.split(s),function(q){B[e](f,q,l,m)});return true}return k}function j(e){return e&&e.nodeType!==3&&e.nodeType!==8?d.data(e,o):-1}function a(e,f){e&&e.nodeType!==3&&e.nodeType!==8&&d.data(e,o,f)}var g=document,r=g.addEventListener?function(e,f,h,l){e.addEventListener&&e.addEventListener(f,h,!!l)}:function(e,
f,h){e.attachEvent&&e.attachEvent("on"+f,h)},z=g.removeEventListener?function(e,f,h,l){e.removeEventListener&&e.removeEventListener(f,h,!!l)}:function(e,f,h){e.detachEvent&&e.detachEvent("on"+f,h)},o="ksEventTargetId",s=" ",y=c.now(),x={},B={EVENT_GUID:o,special:{},add:function(e,f,h,l){if(!n("add",e,f,h,l)){var m=j(e),q,v,A,b,p;if(!(m===-1||!f||!c.isFunction(h))){if(!m){a(e,m=y++);x[m]={target:e,events:{}}}v=x[m].events;if(!v[f]){q=((m=!e.isCustomEventTarget)||e._supportSpecialEvent)&&B.special[f]||
{};A=function(i,u){if(!i||!i.fixed)i=new t(e,i,f);if(c.isPlainObject(u)){var w=i.type;c.mix(i,u);i.type=w}q.setup&&q.setup(i);return(q.handle||B._handle)(e,i)};v[f]={handle:A,listeners:[]};b=q.fix||f;p=q.capture;q.init&&q.init.apply(null,c.makeArray(arguments));m&&q.fix!==false&&r(e,b,A,p)}v[f].listeners.push({fn:h,scope:l||e})}}},__getListeners:function(e,f){var h,l=[];if(h=(B.__getEvents(e)||{})[f])l=h.listeners;return l},__getEvents:function(e){var f=j(e),h;if(f!==-1)if(f&&(h=x[f]))if(h.target===
e)return h.events||{}},remove:function(e,f,h,l){if(!n("remove",e,f,h,l)){var m=B.__getEvents(e),q=j(e),v,A,b,p,i,u,w=(!e.isCustomEventTarget||e._supportSpecialEvent)&&B.special[f]||{};if(m!==k){l=l||e;if(v=m[f]){A=v.listeners;b=A.length;if(c.isFunction(h)&&b){i=p=0;for(u=[];p<b;++p)if(h!==A[p].fn||l!==A[p].scope)u[i++]=A[p];v.listeners=u;b=u.length}if(h===k||b===0){if(!e.isCustomEventTarget){w=B.special[f]||{};if(w.fix!==false)z(e,w.fix||f,v.handle)}delete m[f]}}w.destroy&&w.destroy.apply(null,c.makeArray(arguments));
if(f===k||c.isEmptyObject(m)){for(f in m)B.remove(e,f);delete x[q];d.removeData(e,o)}}}},_handle:function(e,f){var h=B.__getListeners(e,f.type);h=h.slice(0);for(var l,m,q=0,v=h.length;q<v;++q){l=h[q];l=l.fn.call(l.scope,f);if(m!==false)m=l;if(l!==k){f.result=l;l===false&&f.halt()}if(f.isImmediatePropagationStopped)break}return m},_getCache:function(e){return x[e]},__getID:j,_simpleAdd:r,_simpleRemove:z};B.on=B.add;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,d,t,k){return{isCustomEventTarget:true,fire:function(n,j){var a=t.data(this,d.EVENT_GUID)||-1;if((a=((d._getCache(a)||{}).events||{})[n])&&c.isFunction(a.handle))return a.handle(k,j)},on:function(n,j,a){d.add(this,n,j,a);return this},detach:function(n,j,a){d.remove(this,n,j,a);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(c,d){document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){d.special[t.name]={fix:t.fix,capture:true,setup:function(k){k.type=t.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(c,d,t,k){k.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){d.special[n.name]={fix:n.fix,setup:function(j){j.type=n.name},handle:function(j,a){if(t._isKSNode(j))j=j[0];var g=a.relatedTarget;try{for(;g&&g!==j;)g=g.parentNode;g!==j&&d._handle(j,a)}catch(r){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(c,d,t){d.Target=t;return d},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(c,d,t){function k(n,j,a){if(!(this instanceof k))return new k(n,j,a);if(!n){this.length=0;return t}if(c.isString(n)){n=d.create(n,j,a);if(n.nodeType===11)return new (c.require("node/nodelist"))(n.childNodes)}else if(n instanceof k)return n;else n=n;this[0]=n;return t}k.TYPE="-ks-Node";c.augment(k,{length:1,getDOMNode:function(){return this[0]},nodeType:k.TYPE});k.one=function(n,j){var a=d.get(n,j);return a?new k(a,t,t):null};return k},{requires:["dom"]});
KISSY.add("node/nodelist",function(c,d,t,k){function n(g){if(!(this instanceof n))return new n(g);j.push.apply(this,c.makeArray(g)||[]);return k}var j=Array.prototype,a=d._isElementNode;c.mix(n.prototype,{length:0,item:function(g){var r=null,z,o;if(a(g)){z=0;for(o=this.length;z<o;z++)if(g===this[z]){g=z;break}}if(a(this[g]))r=new t(this[g]);return r},getDOMNodes:function(){return j.slice.call(this)},each:function(g,r){var z=this.length,o=0,s;for(s=new t(this[0]);o<z&&g.call(r||s,s,o,this)!==false;s=
new t(this[++o]));return this}});n.all=function(g,r){return new n(d.query(g,r,true))};return n},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(c,d,t,k,n,j){function a(v,A,b,p){v=[this[v?h:f]()].concat(c.makeArray(A));if(A[b]===j&&(b!=1||c.isString(A[0])))return p.apply(d,v);p.apply(d,v);return this}function g(v,A){c.each(v,function(b){c.each([B,e],function(p,i){p[b]=function(u){switch(A){case l:return function(){return a.call(this,i,arguments,1,u)};case m:return function(){return a.call(this,i,arguments,0,u)};case q:return function(){var w=this[i?h:f]();return(w=u.apply(d,[w].concat(c.makeArray(arguments))))?
new (c.isArray(w)?n:k)(w):null};default:return function(){var w=this[i?h:f]();w=u.apply(d,[w].concat(c.makeArray(arguments)));return w===j?this:w}}}(d[b])})})}function r(v,A,b){v&&c.each(this,function(p){var i;if(A||c.isString(v))i=d.create(v);else{if(s(v,1)||s(v,3))i=v;if(y(v))i=v[0]}d[b](i,p)});return this}function z(v,A){if((v=d.get(v))&&v.appendChild)c.each(this,function(b){d[A](b,v)});return this}function o(v,A){v.__wrap=v.__wrap||[];v.__wrap.push(A)}var s=d._nodeTypeIs,y=d._isKSNode,x=c.require("event/target"),
B=k.prototype,e=n.prototype,f="getDOMNode",h=f+"s",l=1,m=2,q=4;c.mix(B,{one:function(v){return k.one(v,this[0])},all:function(v){return n.all(v,this[0])}});g(["data","removeData"],l);g(["hasClass","addClass","removeClass","replaceClass","toggleClass"],j);g(["attr","removeAttr"],l);g(["val","text"],m);g(["css"],l);g(["width","height"],m);g(["offset"],m);g(["scrollIntoView"],j);g(["parent","next","prev","siblings","children"],q);g(["contains"],j);g(["html","unselectable"],m);g(["remove"],j);c.each(["insertBefore",
"insertAfter"],function(v){B[v]=function(A){d[v].call(d,this[0],A);return this}});c.each([B,e],function(v,A){c.each(["append","prepend"],function(b){v[b]=function(p){return r.call(this,p,A,b)};v[b+"To"]=function(p){return z.call(this,p,b)}})});c.augment(k,x,{fire:null,on:function(v,A,b){function p(u){var w=c.makeArray(arguments);w.shift();u.target=new k(u.target);if(u.relatedTarget)u.relatedTarget=new k(u.relatedTarget);w.unshift(u);return A.apply(b||i,w)}var i=this;t.add(this[0],v,p,b);o(A,p);return this},
detach:function(v,A,b){if(c.isFunction(A)){A=A.__wrap||[];for(var p=0;p<A.length;p++)t.remove(this[0],v,A[p],b)}else t.remove(this[0],v,A,b);return this}});c.augment(n,x,{fire:null});B._supportSpecialEvent=true;c.each({on:"add",detach:"remove"},function(v,A){e[A]=function(b,p,i){for(var u=0;u<this.length;u++)this.item(u).on(b,p,i)}})},{requires:["dom","event","node/node","node/nodelist"]});KISSY.add("node",function(c,d,t){d.List=t;return d},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function c(s){return s<10?"0"+s:s}function d(s){a.lastIndex=0;return a.test(s)?'"'+s.replace(a,function(y){var x=z[y];return typeof x==="string"?x:"\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'}function t(s,y){var x,B,e,f,h=g,l,m=y[s];if(m&&typeof m==="object"&&typeof m.toJSON==="function")m=m.toJSON(s);if(typeof o==="function")m=o.call(y,s,m);switch(typeof m){case "string":return d(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);
case "object":if(!m)return"null";g+=r;l=[];if(Object.prototype.toString.apply(m)==="[object Array]"){f=m.length;for(x=0;x<f;x+=1)l[x]=t(x,m)||"null";e=l.length===0?"[]":g?"[\n"+g+l.join(",\n"+g)+"\n"+h+"]":"["+l.join(",")+"]";g=h;return e}if(o&&typeof o==="object"){f=o.length;for(x=0;x<f;x+=1){B=o[x];if(typeof B==="string")if(e=t(B,m))l.push(d(B)+(g?": ":":")+e)}}else for(B in m)if(Object.hasOwnProperty.call(m,B))if(e=t(B,m))l.push(d(B)+(g?": ":":")+e);e=l.length===0?"{}":g?"{\n"+g+l.join(",\n"+g)+
"\n"+h+"}":"{"+l.join(",")+"}";g=h;return e}}var k=window,n=k.JSON;if(!n)n=k.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,r,z={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof n.stringify!=="function")n.stringify=function(s,y,x){var B;r=g="";if(typeof x==="number")for(B=0;B<x;B+=1)r+=" ";else if(typeof x==="string")r=x;if((o=y)&&typeof y!=="function"&&(typeof y!=="object"||typeof y.length!=="number"))throw Error("JSON.stringify");return t("",{"":s})};if(typeof n.parse!==
"function")n.parse=function(s,y){function x(e,f){var h,l,m=e[f];if(m&&typeof m==="object")for(h in m)if(Object.hasOwnProperty.call(m,h)){l=x(m,h);if(l!==undefined)m[h]=l;else delete m[h]}return y.call(e,f,m)}var B;s=String(s);j.lastIndex=0;if(j.test(s))s=s.replace(j,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(s.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+s+")");return typeof y==="function"?x({"":B},""):B}throw new SyntaxError("JSON.parse");};return n});KISSY.add("json",function(c,d){return{parse:function(t){if(t==null||t==="")return null;return d.parse(t)},stringify:d.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(c,d,t,k){function n(i){i=c.merge(p,i);if(!i.url)return k;if(i.data&&!c.isString(i.data))i.data=c.param(i.data);i.context=i.context||i;var u,w=m,C,D=i.type.toUpperCase();if(i.dataType===x){u=i.jsonpCallback||x+c.now();i.url=i.url+(i.url.indexOf("?")===-1?"?":"&")+(i.jsonp+"="+u);i.dataType=B;var F=g[u];g[u]=function(I){if(c.isFunction(F))F(I);else{g[u]=k;try{delete g[u]}catch(H){}}j([m,q],I,w,E,i)}}if(i.data&&D===z)i.url=i.url+(i.url.indexOf("?")===-1?"?":"&")+i.data;
if(i.dataType===B){a(f,i);D=c.getScript(i.url,u?null:function(){j([m,q],e,w,E,i)});a(h,i);return D}var G=false,E=i.xhr();a(f,i);E.open(D,i.url,i.async);try{if(i.data||i.contentType)E.setRequestHeader(s,i.contentType);E.setRequestHeader("Accept",i.dataType&&i.accepts[i.dataType]?i.accepts[i.dataType]+", */*; q=0.01":i.accepts._default)}catch(J){}E.onreadystatechange=function(I){if(!E||E.readyState===0||I==="abort"){G||j(q,null,v,E,i);G=true;if(E)E.onreadystatechange=r}else if(!G&&E&&(E.readyState===
4||I===A)){G=true;E.onreadystatechange=r;var H;if(I===A)H=A;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?m:v}w=H;try{H=E;var M=i.dataType,N=e,O,L=H;if(!c.isString(L)){N=H.getResponseHeader(s)||e;L=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&L.documentElement.nodeName===b)throw b;}if(c.isString(L))if(M===y||!M&&N.indexOf(y)>=0)L=t.parse(L);C=L}catch(Q){w=b}j([w===m?m:v,q],C,w,E,i);if(I===A){E.abort();a(l,i)}if(i.async)E=
null}};a(h,i);try{E.send(D===o?i.data:null)}catch(K){j([v,q],C,v,E,i)}i.async||a(q,i);return E}function j(i,u,w,C,D){if(c.isArray(i))c.each(i,function(F){j(F,u,w,C,D)});else{w===i&&D[i]&&D[i].call(D.context,u,w,C);a(i,D)}}function a(i,u){n.fire(i,{ajaxConfig:u})}var g=window,r=function(){},z="GET",o="POST",s="Content-Type",y="json",x=y+"p",B="script",e="",f="start",h="send",l="stop",m="success",q="complete",v="error",A="timeout",b="parsererror",p={type:z,url:e,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:g.ActiveXObject?function(){if(g.XmlHttpRequest)try{return new g.XMLHttpRequest}catch(i){}try{return new g.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}}:function(){return new g.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};c.mix(n,d.Target);c.mix(n,{get:function(i,u,w,C,D){if(c.isFunction(u)){C=w;w=u}return n({type:D||
z,url:i,data:u,success:function(F,G,E){w&&w.call(this,F,G,E)},dataType:C})},post:function(i,u,w,C){if(c.isFunction(u)){C=w;w=u;u=k}return n.get(i,u,w,C,o)},jsonp:function(i,u,w){if(c.isFunction(u)){w=u;u=null}return n.get(i,u,w,x)}});return n},{requires:["event","json"]});KISSY.add("ajax",function(c,d){return d},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var c=Math,d=c.PI,t=c.pow,k=c.sin,n=1.70158,j={easeNone:function(a){return a},easeIn:function(a){return a*a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return(a*=2)<1?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return(a*=2)<1?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){if(a===0||a===1)return a;return-(t(2,10*(a-=1))*k((a-0.075)*2*d/0.3))},elasticOut:function(a){if(a===
0||a===1)return a;return t(2,-10*a)*k((a-0.075)*2*d/0.3)+1},elasticBoth:function(a){if(a===0||(a*=2)===2)return a;if(a<1)return-0.5*t(2,10*(a-=1))*k((a-0.1125)*2*d/0.45);return t(2,-10*(a-=1))*k((a-0.1125)*2*d/0.45)*0.5+1},backIn:function(a){if(a===1)a-=0.0010;return a*a*((n+1)*a-n)},backOut:function(a){return(a-=1)*a*((n+1)*a+n)+1},backBoth:function(a){if((a*=2)<1)return 0.5*a*a*(((n*=1.525)+1)*a-n);return 0.5*((a-=2)*a*(((n*=1.525)+1)*a+n)+2)},bounceIn:function(a){return 1-j.bounceOut(1-a)},bounceOut:function(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){if(a<0.5)return j.bounceIn(a*2)*0.5;return j.bounceOut(a*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return j});
KISSY.add("anim/manager",function(c){function d(k){k[t]=k[t]||c.guid("anim-");return k[t]}var t=c.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(k){var n=d(k);if(!this.runnings[n]){this.runnings[n]=k;this.startTimer()}},stop:function(k){this.notRun(k)},notRun:function(k){delete this.runnings[d(k)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(k){this.notRun(k)},resume:function(k){this.start(k)},startTimer:function(){var k=this;if(!k.timer)k.timer=setTimeout(function(){if(k.runFrames())k.stopTimer();
else{k.timer=null;k.startTimer()}},k.interval)},stopTimer:function(){var k=this.timer;if(k){clearTimeout(k);this.timer=null}},runFrames:function(){var k=true,n=this.runnings,j;for(j in n)if(n.hasOwnProperty(j)){k=false;n[j]._runFrame()}return k}}});
KISSY.add("anim/base",function(c,d,t,k,n,j,a){function g(e,f,h,l,m,q){if(!(e=d.get(e)))return a;if(!(this instanceof g))return new g(e,f,h,l,m,q);var v=c.isPlainObject(h);f=f;this.domEl=e;if(c.isPlainObject(f))f=String(c.param(f,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var A=f,b=e;e={};var p=o.length,i=d.insertAfter(b.cloneNode(false),b);b=i.style;for(z(i,A);p--;){A=o[p];if(b[A])e[A]=(g.PROP_OPS[A]||g.PROP_OPS["*"]).getter(i,A)}d.remove(i);this.props=
e;this.targetStyle=f;if(v)v=c.merge(y,h);else{v=c.clone(y);if(h)v.duration=parseFloat(h)||1;if(c.isString(l)||c.isFunction(l))v.easing=l;if(c.isFunction(m))v.complete=m;if(q!==a)v.nativeSupport=q}this.config=v;if(v.nativeSupport&&B()&&c.isString(l=v.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(l)||(l=k.NativeTimeFunction[l])){v.easing=l;this.transitionName=B()}if(c.isFunction(m))this.callback=m;return a}function r(e,f){return f}function z(e,f){if(n.ie&&f.indexOf(s)>-1){var h=f.match(/opacity\s*:\s*([^;]+)(;|$)/);
h&&d.css(e,s,parseFloat(h[1]))}e.style.cssText+=";"+f}var o,s,y,x;t=t.Target;o="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
s="opacity";y={duration:1,easing:"easeNone",nativeSupport:true};g.PROPS=o;g.PROP_OPS={"*":{getter:function(e,f){var h=d.css(e,f),l=parseFloat(h);h=(h+"").replace(/^[-\d.]+/,"");if(isNaN(l))return{v:h,u:"",f:r};return{v:l,u:h,f:this.interpolate}},setter:function(e,f,h){return d.css(e,f,h)},interpolate:function(e,f,h){return(e+(f-e)*h).toFixed(3)}}};c.augment(g,t,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,run:function(){var e=this.config,f=this.domEl,h,l=this.props,m={},q;if(this.fire("start")!==
false){this.stop();this.duration=h=e.duration*1E3;if(this.transitionName)this._nativeRun();else{for(q in l)m[q]=(g.PROP_OPS[q]||g.PROP_OPS["*"]).getter(f,q);this.source=m;f=c.now();h=f+h;e=e.easing;if(c.isString(e))e=k[e]||k.easeNone;this.start=f;this.finish=h;this.easing=e;j.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var e=this.domEl,f=this.finish,h=this.start,l=this.duration,m=c.now(),q=this.source,
v=this.easing,A=this.props,b;h=m-h;l=m>f?1:h/l;var p,i;this.elapsedTime=h;for(b in A){h=q[b];p=A[b];if(p.v==0)p.u=h.u;if(h.u!==p.u){h.v=0;h.u=p.u}h=p.f(h.v,p.v,v(l))+p.u;(g.PROP_OPS[b]||g.PROP_OPS["*"]).setter(e,b,h)}if(this.fire("step")===false||(i=m>f)){this.stop();i&&this._complete()}},_nativeRun:function(){var e=this,f=e.domEl,h=e.duration,l=e.config.easing,m=e.transitionName,q={};q[m+"Property"]="all";q[m+"Duration"]=h+"ms";q[m+"TimingFunction"]=l;d.css(f,q);c.later(function(){z(f,e.targetStyle)},
0);c.later(function(){e.stop(true)},h)},stop:function(e){if(this.transitionName)this._nativeStop(e);else{if(e){z(this.domEl,this.targetStyle);this._complete()}j.stop(this)}this.isRunning=false;return this},_nativeStop:function(e){var f=this.domEl,h=this.transitionName,l=this.props,m;if(e){d.css(f,h+"Property","none");this._complete()}else{for(m in l)d.css(f,m,d._getComputedStyle(f,m));d.css(f,h+"Property","none")}}});g.supportTransition=function(){if(x)return x;var e="transition",f,h=document.body;
if(h.style[e]!==a)f=e;else c.each(["Webkit","Moz","O"],function(l){if(h.style[e=l+"Transition"]!==a){f=e;return false}});return x=f};var B=g.supportTransition;return g},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(c,d,t,k,n){function j(e,f,h,l,m){if(f==="toggle"){m=d.css(e,g)===r?1:0;f="show"}if(m)d.css(e,g,d.data(e,g)||"");var q={},v={};c.each(B[f],function(A){if(A===z){q[z]=d.css(e,z);d.css(e,z,o)}else if(A===s){q[s]=d.css(e,s);v.opacity=m?1:0;m&&d.css(e,s,0)}else if(A===y){q[y]=d.css(e,y);v.height=m?d.css(e,y)||e.naturalHeight:0;m&&d.css(e,y,0)}else if(A===x){q[x]=d.css(e,x);v.width=m?d.css(e,x)||e.naturalWidth:0;m&&d.css(e,x,0)}});(new t(e,v,h,"easeOut",function(){if(!m){var A=
e.style,b=A[g];if(b!==r){b&&d.data(e,g,b);A[g]=r}q[y]&&d.css(e,{height:q[y]});q[x]&&d.css(e,{width:q[x]});q[s]&&d.css(e,{opacity:q[s]});q[z]&&d.css(e,{overflow:q[z]})}l&&c.isFunction(l)&&l()})).run()}k=c.require("node/node").prototype;var a=c.require("node/nodelist").prototype,g="display",r="none",z="overflow",o="hidden",s="opacity",y="height",x="width",B={show:[z,s,y,x],fade:[s],slide:[z,y]};c.each([k,a],function(e){e.animate=function(){var f=c.makeArray(arguments);c.each(this,function(h){t.apply(n,
[h].concat(f)).run()});return this};c.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(f,h){e[h]=function(l,m){d[h]&&arguments.length===0?d[h](this):c.each(this,function(q){j(q,f[0],l,m,f[1])});return this}})})},{requires:["dom","anim/base","node"]});
KISSY.add("anim/color",function(c,d,t){var k=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,n=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,j=t.PROP_OPS;t=t.PROPS;j.color={getter:function(a,g){var r;var z=d.css(a,g);if(r=z.match(k))r=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];else if(r=z.match(n)){for(z=1;z<r.length;z++)if(r[z].length<2)r[z]+=r[z];r=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}else r=[255,255,255];return{v:r,u:"",f:this.interpolate}},setter:j["*"].setter,
interpolate:function(a,g,r){var z=j["*"].interpolate;return"rgb("+[Math.floor(z(a[0],g[0],r)),Math.floor(z(a[1],g[1],r)),Math.floor(z(a[2],g[2],r))].join(", ")+")"}};c.each(t,function(a){if(a.match(/color$/i))j[a]=j.color})},{requires:["dom","./base"]});KISSY.add("anim",function(c,d,t){d.Easing=t;return d},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color"]});
KISSY.add("base/attribute",function(c,d){function t(){this.__attrs={};this.__attrVals={}}function k(n){n+="";return n.charAt(0).toUpperCase()+n.substring(1)}c.augment(t,{__getDefAttrs:function(){return c.clone(this.__attrs)},addAttr:function(n,j,a){if(this.__attrs[n])c.mix(this.__attrs[n],j,a);else this.__attrs[n]=c.clone(j||{});return this},hasAttr:function(n){return n&&this.__attrs.hasOwnProperty(n)},removeAttr:function(n){if(this.hasAttr(n)){delete this.__attrs[n];delete this.__attrVals[n]}return this},
set:function(n,j){var a=this.get(n);if(a!==j)if(false!==this.__fireAttrChange("before",n,a,j)){this.__set(n,j);this.__fireAttrChange("after",n,a,this.__attrVals[n]);return this}},__fireAttrChange:function(n,j,a,g){return this.fire(n+k(j)+"Change",{attrName:j,prevVal:a,newVal:g})},__set:function(n,j){var a,g=this.__attrs[n];if(g=g&&g.setter)a=g.call(this,j);if(a!==d)j=a;this.__attrVals[n]=j},get:function(n){var j;j=(j=this.__attrs[n])&&j.getter;n=n in this.__attrVals?this.__attrVals[n]:this.__getDefAttrVal(n);
if(j)n=j.call(this,n);return n},__getDefAttrVal:function(n){n=this.__attrs[n];var j;if(n){if(j=n.valueFn){j=j.call(this);if(j!==d)n.value=j;delete n.valueFn}return n.value}},reset:function(n){if(this.hasAttr(n))return this.set(n,this.__getDefAttrVal(n));for(n in this.__attrs)this.hasAttr(n)&&this.reset(n);return this}});t.__capitalFirst=k;return t});
KISSY.add("base/base",function(c,d){function t(k){d.call(this);for(var n=this.constructor;n;){var j=n.ATTRS;if(j){var a=void 0;for(a in j)j.hasOwnProperty(a)&&this.addAttr(a,j[a],false)}n=n.superclass?n.superclass.constructor:null}if(k)for(var g in k)k.hasOwnProperty(g)&&this.__set(g,k[g])}c.augment(t,c.require("event/target"),d);return t},{requires:["base/attribute","event"]});KISSY.add("base",function(c,d){return d},{requires:["base/base"]});
KISSY.add("cookie/base",function(c){function d(j){return c.isString(j)&&j!==""}var t=document,k=encodeURIComponent,n=decodeURIComponent;return{get:function(j){var a;if(d(j))if(j=String(t.cookie).match(RegExp("(?:^| )"+j+"(?:(?:=([^;]*))|;|$)")))a=j[1]?n(j[1]):"";return a},set:function(j,a,g,r,z,o){a=String(k(a));var s=g;if(typeof s==="number"){s=new Date;s.setTime(s.getTime()+g*864E5)}if(s instanceof Date)a+="; expires="+s.toUTCString();if(d(r))a+="; domain="+r;if(d(z))a+="; path="+z;if(o)a+="; secure";
t.cookie=j+"="+a},remove:function(j,a,g,r){this.set(j,"",0,a,g,r)}}});KISSY.add("cookie",function(c,d){return d},{requires:["cookie/base"]});KISSY.add("core",function(c,d,t,k,n,j,a,g,r,z){d={UA:d,DOM:t,Event:k,EventTarget:k.Target,Node:n,NodeList:n.List,JSON:j,Ajax:a,IO:a,ajax:a,io:a,jsonp:a.jsonp,Anim:g,Easing:g.Easing,Base:r,Cookie:z,one:n.one,all:n.List.all,get:t.get,query:t.query};c.mix(c,d);return d},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
