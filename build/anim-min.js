/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 1 16:57
*/
KISSY.add("anim",function(d,c,b){c.Easing=b;d.mix(d,{Anim:c,Easing:c.Easing});return c},{requires:["anim/base","anim/easing","anim/color","anim/backgroundPosition"]});
KISSY.add("anim/backgroundPosition",function(d,c,b,f){function h(a){a=a.replace(/left|top/g,"0px").replace(/right|bottom/g,"100%").replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");a=a.match(/(-?[0-9\.]+)(px|%|em|pt)\s(-?[0-9\.]+)(px|%|em|pt)/);return[parseFloat(a[1]),a[2],parseFloat(a[3]),a[4]]}function a(){a.superclass.constructor.apply(this,arguments)}d.extend(a,f,{load:function(){a.superclass.load.apply(this,arguments);this.unit=["px","px"];if(this.from){var c=h(this.from);this.from=[c[0],c[2]]}else this.from=
[0,0];this.to?(c=h(this.to),this.to=[c[0],c[2]],this.unit=[c[1],c[3]]):this.to=[0,0]},interpolate:function(c,d,b){var f=this.unit,h=a.superclass.interpolate;return h(c[0],d[0],b)+f[0]+" "+h(c[1],d[1],b)+f[1]},cur:function(){return c.css(this.elem,"backgroundPosition")},update:function(){var a=this.prop,d=this.elem,b=this.interpolate(this.from,this.to,this.pos);c.css(d,a,b)}});return f.Factories.backgroundPosition=a},{requires:["dom","./base","./fx"]});
KISSY.add("anim/base",function(d,c,b,f,h,a,r,g){function e(a,g,b,i,f){if(a=c.get(a)){if(!(this instanceof e))return new e(a,g,b,i,f);var g=d.isString(g)?d.unparam(""+g,";",":"):d.clone(g),k;for(k in g){var h=m(d.trim(k));k!=h&&(g[h]=g[k],delete g[k])}b=d.isPlainObject(b)?d.clone(b):{duration:parseFloat(b)||void 0,easing:i,complete:f};this.config=b=d.merge(x,b);b.duration*=1E3;this.elem=this.domEl=a;this.props=g;this._backupProps={};this._fxs={};this.on("complete",t)}}function t(a){var g,b=this.config;
d.isEmptyObject(g=this._backupProps)||c.css(this.elem,g);b.complete&&b.complete.call(this,a)}function j(){var g=this.config,b=this._backupProps,e=this.elem,i,m,k,l=g.specialEasing||{},t=this._fxs,j=this.props;o(this);if(!1===this.fire("start"))this.stop(0);else{if(e.nodeType==c.ELEMENT_NODE)for(k in m="none"===c.css(e,"display"),j)if(i=j[k],"hide"==i&&m||"show"==i&&!m){this.stop(1);return}if(e.nodeType==c.ELEMENT_NODE&&(j.width||j.height))i=e.style,d.mix(b,{overflow:i.overflow,"overflow-x":i.overflowX,
"overflow-y":i.overflowY}),i.overflow="hidden","inline"===c.css(e,"display")&&"none"===c.css(e,"float")&&(h.ie?i.zoom=1:i.display="inline-block");d.each(j,function(a,c){if(j.hasOwnProperty(c)){var b;d.isArray(a)?(b=l[c]=a[1],j[c]=a[0]):b=l[c]=l[c]||g.easing;d.isString(b)&&(b=l[c]=f[b]);l[c]=b||f.easeNone}});d.each(w,function(a,b){var g,f,i;if(i=j[b]){f={};d.each(a,function(a){f[a]=c.css(e,a);l[a]=l[b]});c.css(e,b,i);for(g in f)j[g]=c.css(e,g),c.css(e,g,f[g]);delete j[b]}});for(k in j)if(j.hasOwnProperty(k)){i=
d.trim(j[k]);var p,q,n={elem:e,prop:k,duration:g.duration,easing:l[k]},s=r.getFx(n);d.inArray(i,y)?(b[k]=c.style(e,k),"toggle"==i&&(i=m?"show":"hide"),"hide"==i?(p=0,q=s.cur(),b.display="none"):(q=0,p=s.cur(),c.css(e,k,q),c.show(e)),i=p):(p=i,q=s.cur());i+="";var v="",u=i.match(z);if(u){p=parseFloat(u[2]);if((v=u[3])&&"px"!==v)c.css(e,k,i),q*=p/s.cur(),c.css(e,k,q+v);u[1]&&(p=("-="===u[1]?-1:1)*p+q)}n.from=q;n.to=p;n.unit=v;s.load(n);t[k]=s}a.start(this)}}function o(a){var b=a.elem,g=c.data(b,n);
g||c.data(b,n,g={});g[d.stamp(a)]=a}function l(a,b,e,f){e&&!1!==f&&g.removeQueue(a,f);var a=c.data(a,n),a=d.merge(a),l;for(l in a)e=a[l],e.config.queue==f&&e.stop(b)}var m=c._camelCase,y=["hide","show","toggle"],w={background:["backgroundPosition"],border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom",
"marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},x={duration:1,easing:"easeNone"},z=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;e.SHORT_HANDS=w;d.augment(e,b.Target,{isRunning:function(){var a=c.data(this.elem,n);return a?!!a[d.stamp(this)]:0},_runInternal:j,run:function(){!1===this.config.queue?j.call(this):g.queue(this);return this},_frame:function(){var a,c=this.config,b=1,g,d,e=this._fxs;for(a in e)if(e.hasOwnProperty(a)&&!(d=e[a]).finished)c.frame&&
(g=c.frame(d)),1==g||0==g?(d.finished=g,b&=g):(b&=d.frame())&&c.frame&&c.frame(d);(!1===this.fire("step")||b)&&this.stop(b)},stop:function(b){var e=this.config,f=e.queue,l,m,h=this._fxs;if(this.isRunning()){if(b){for(l in h)if(h.hasOwnProperty(l)&&!(m=h[l]).finished)e.frame?e.frame(m,1):m.frame(1);this.fire("complete")}a.stop(this);b=this.elem;if(e=c.data(b,n))delete e[d.stamp(this)],d.isEmptyObject(e)&&c.removeData(b,n);!1!==f&&g.dequeue(this);return this}!1!==f&&g.remove(this)}});var n=d.guid("ks-anim-unqueued-"+
d.now()+"-");e.stop=function(a,b,e,f){if(null===f||d.isString(f)||!1===f)return l.apply(void 0,arguments);e&&g.removeQueues(a);var m=c.data(a,n),m=d.merge(m),h;for(h in m)m[h].stop(b)};e.isRunning=function(a){return(a=c.data(a,n))&&!d.isEmptyObject(a)};e.Q=g;return e},{requires:"dom,event,./easing,ua,./manager,./fx,./queue".split(",")});
KISSY.add("anim/color",function(d,c,b,f){function h(a){var a=a+"",b;if(b=a.match(t))return[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])];if(b=a.match(j))return[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),parseInt(b[4])];if(b=a.match(o)){for(a=1;a<b.length;a++)2>b[a].length&&(b[a]+=b[a]);return[parseInt(b[1],r),parseInt(b[2],r),parseInt(b[3],r)]}return e[a=a.toLowerCase()]?e[a]:[255,255,255]}function a(){a.superclass.constructor.apply(this,arguments)}var r=16,g=Math.floor,e={black:[0,0,0],silver:[192,
192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},t=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,j=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,o=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,c=b.SHORT_HANDS;c.background=c.background||[];c.background.push("backgroundColor");
c.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];c.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");c.borderBottom.push("borderBottomColor");c.borderLeft.push("borderLeftColor");c.borderRight.push("borderRightColor");c.borderTop.push("borderTopColor");d.extend(a,f,{load:function(){a.superclass.load.apply(this,arguments);this.from&&(this.from=h(this.from));this.to&&(this.to=h(this.to))},interpolate:function(b,c,e){var d=
a.superclass.interpolate;if(3==b.length&&3==c.length)return"rgb("+[g(d(b[0],c[0],e)),g(d(b[1],c[1],e)),g(d(b[2],c[2],e))].join(", ")+")";if(4==b.length||4==c.length)return"rgba("+[g(d(b[0],c[0],e)),g(d(b[1],c[1],e)),g(d(b[2],c[2],e)),g(d(b[3]||1,c[3]||1,e))].join(", ")+")"}});d.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(b){f.Factories[b]=a});return a},{requires:["dom","./base","./fx"]});
KISSY.add("anim/easing",function(){var d=Math.PI,c=Math.pow,b=Math.sin,f=1.70158,h={swing:function(a){return-Math.cos(a*d)/2+0.5},easeNone:function(a){return a},easeIn:function(a){return a*a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return 1>(a*=2)?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return 1>(a*=2)?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){return 0===a||1===a?a:
-(c(2,10*(a-=1))*b((a-0.075)*2*d/0.3))},elasticOut:function(a){return 0===a||1===a?a:c(2,-10*a)*b((a-0.075)*2*d/0.3)+1},elasticBoth:function(a){return 0===a||2===(a*=2)?a:1>a?-0.5*c(2,10*(a-=1))*b((a-0.1125)*2*d/0.45):0.5*c(2,-10*(a-=1))*b((a-0.1125)*2*d/0.45)+1},backIn:function(a){1===a&&(a-=0.0010);return a*a*((f+1)*a-f)},backOut:function(a){return(a-=1)*a*((f+1)*a+f)+1},backBoth:function(a){return 1>(a*=2)?0.5*a*a*(((f*=1.525)+1)*a-f):0.5*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)},bounceIn:function(a){return 1-
h.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){return 0.5>a?0.5*h.bounceIn(2*a):0.5*h.bounceOut(2*a-1)+0.5}};return h});
KISSY.add("anim/fx",function(d,c,b){function f(a){this.load(a)}function h(a,d){return(!a.style||null==a.style[d])&&null!=c.attr(a,d,b,1)?1:0}d.augment(f,{load:function(a){d.mix(this,a);this.startTime=d.now();this.pos=0;this.unit=this.unit||""},frame:function(a){var b=0;if(this.finished)return 1;var c=d.now();a||c>=this.duration+this.startTime?b=this.pos=1:(a=c-this.startTime,this.pos=this.easing(a/this.duration));this.update();this.finished=this.finished||b;return b},interpolate:function(a,c,g){return d.isNumber(a)&&
d.isNumber(c)?(a+(c-a)*g).toFixed(3):b},update:function(){var a=this.prop,d=this.elem,g=this.to,e=this.interpolate(this.from,g,this.pos);e===b?this.finished||(this.finished=1,c.css(d,a,g)):(e+=this.unit,h(d,a)?c.attr(d,a,e,1):c.css(d,a,e))},cur:function(){var a=this.prop,d=this.elem;if(h(d,a))return c.attr(d,a,b,1);var g,a=c.css(d,a);return isNaN(g=parseFloat(a))?!a||"auto"===a?0:a:g}});f.Factories={};f.getFx=function(a){return new (f.Factories[a.prop]||f)(a)};return f},{requires:["dom"]});
KISSY.add("anim/manager",function(d){var c=d.stamp;return{interval:15,runnings:{},timer:null,start:function(b){var d=c(b);this.runnings[d]||(this.runnings[d]=b,this.startTimer())},stop:function(b){this.notRun(b)},notRun:function(b){delete this.runnings[c(b)];d.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(b){this.notRun(b)},resume:function(b){this.start(b)},startTimer:function(){var b=this;b.timer||(b.timer=setTimeout(function(){b.runFrames()?b.stopTimer():(b.timer=0,b.startTimer())},
b.interval))},stopTimer:function(){var b=this.timer;b&&(clearTimeout(b),this.timer=0)},runFrames:function(){var b=1,c=this.runnings,d;for(d in c)c.hasOwnProperty(d)&&(b=0,c[d]._frame());return b}}});
KISSY.add("anim/queue",function(d,c){function b(b,d,f){var d=d||a,j,o=c.data(b,h);!o&&!f&&c.data(b,h,o={});o&&(j=o[d],!j&&!f&&(j=o[d]=[]));return j}function f(b,e){var e=e||a,f=c.data(b,h);f&&delete f[e];d.isEmptyObject(f)&&c.removeData(b,h)}var h=d.guid("ks-queue-"+d.now()+"-"),a=d.guid("ks-queue-"+d.now()+"-"),r={queueCollectionKey:h,queue:function(a){var c=b(a.elem,a.config.queue);c.push(a);"..."!==c[0]&&r.dequeue(a);return c},remove:function(a){var c=b(a.elem,a.config.queue,1);c&&(a=d.indexOf(a,
c),-1<a&&c.splice(a,1))},removeQueues:function(a){c.removeData(a,h)},removeQueue:f,dequeue:function(a){var c=a.elem,a=a.config.queue,d=b(c,a,1),h=d&&d.shift();"..."==h&&(h=d.shift());h?(d.unshift("..."),h._runInternal()):f(c,a)}};return r},{requires:["dom"]});
