/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 22 16:26
*/
KISSY.add("uibase/align",function(h,l,c,j){function q(b){var e=b.ownerDocument.body,g=c.css(b,"position"),k=g=="fixed"||g=="absolute";for(b=b.parentNode;b&&b!=e;b=b.parentNode){g=c.css(b,"position");k=k&&g=="static";if(c.css(b,"overflow")!="visible"&&(!k||g=="fixed"||g=="absolute"||g=="relative"))return b}return null}function a(b){for(var e in b)if(e.indexOf("fail")===0)return true;return false}function d(b){var e=b.offset,g=b.node,k=b.points,o,f=this.get("el");e=e||[0,0];o=f.offset();g=m(g,k[0]);
k=m(f,k[1]);k=[k.left-g.left,k.top-g.top];o={left:o.left-k[0]+ +e[0],top:o.top-k[1]+ +e[1]};a:{e=o;o=this.get("el");f={};k={width:o[0].offsetWidth,height:o[0].offsetHeight};g=h.clone(k);if(!h.isEmptyObject(b.overflow)){f={left:0,right:Infinity,top:0,bottom:Infinity};for(var p=o[0];p=q(p);){var r=p.clientWidth;if(!l.ie||r!==0){var s=p.clientLeft,t=p.clientTop;r=c.offset(p);s={left:s,top:t};r.left+=s.left;r.top+=s.top;f.top=Math.max(f.top,r.top);f.right=Math.min(f.right,r.left+p.clientWidth);f.bottom=
Math.min(f.bottom,r.top+p.clientHeight);f.left=Math.max(f.left,r.left)}}p=c.scrollLeft();r=c.scrollTop();f.left=Math.max(f.left,p);f.top=Math.max(f.top,r);f.right=Math.min(f.right,p+c.viewportWidth());f.bottom=Math.min(f.bottom,r+c.viewportHeight());f=f.top>=0&&f.left>=0&&f.bottom>f.top&&f.right>f.left?f:null;b=b.overflow||{};p={};if(e.left<f.left&&b.adjustX){e.left=f.left;p.adjustX=1}if(e.left<f.left&&e.left+g.width>f.right&&b.resizeWidth){g.width-=e.left+g.width-f.right;p.resizeWidth=1}if(e.left+
g.width>f.right&&b.adjustX){e.left=Math.max(f.right-g.width,f.left);p.adjustX=1}if(b.failX)p.failX=e.left<f.left||e.left+g.width>f.right;if(e.top<f.top&&b.adjustY){e.top=f.top;p.adjustY=1}if(e.top>=f.top&&e.top+g.height>f.bottom&&b.resizeHeight){g.height-=e.top+g.height-f.bottom;p.resizeHeight=1}if(e.top+g.height>f.bottom&&b.adjustY){e.top=Math.max(f.bottom-g.height,f.top);p.adjustY=1}if(b.failY)p.failY=e.top<f.top||e.top+g.height>f.bottom;f=p;if(a(f)){b=f;break a}}this.set("x",e.left);this.set("y",
e.top);if(g.width!=k.width||g.height!=k.height){o.width(g.width);o.height(g.height)}b=f}return b}function n(b,e,g){var k=[];h.each(b,function(o){k.push(o.replace(e,function(f){return g[f]}))});return k}function i(){}function m(b,e){var g=e.charAt(0),k=e.charAt(1),o,f,p,r;if(b){b=j.one(b);o=b.offset();f=b[0].offsetWidth;p=b[0].offsetHeight}else{o={left:c.scrollLeft(),top:c.scrollTop()};f=c.viewportWidth();p=c.viewportHeight()}r=o.left;o=o.top;if(g==="c")o+=p/2;else if(g==="b")o+=p;if(k==="c")r+=f/
2;else if(k==="r")r+=f;return{left:r,top:o}}i.ATTRS={align:{}};i.prototype={_uiSetAlign:function(b){h.isPlainObject(b)&&this.align(b.node,b.points,b.offset,b.overflow)},align:function(b,e,g,k){var o={};k=h.clone(k||{});g=g&&[].concat(g)||[0,0];if(k.failX)o.failX=1;if(k.failY)o.failY=1;var f=d.call(this,{node:b,points:e,offset:g,overflow:o});if(a(f)){if(f.failX){e=n(e,/[lr]/ig,{l:"r",r:"l"});g=g;g[0]=-g[0];g=g}if(f.failY){e=n(e,/[tb]/ig,{t:"b",b:"t"});f=g;f[1]=-f[1];g=f}}f=d.call(this,{node:b,points:e,
offset:g,overflow:o});if(a(f)){delete k.failX;delete k.failY;d.call(this,{node:b,points:e,offset:g,overflow:k})}},center:function(b){this.set("align",{node:b,points:["cc","cc"],offset:[0,0]})}};return i},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(h,l,c,j){function q(i){i+="";return i.charAt(0).toUpperCase()+i.substring(1)}function a(i){l.apply(this,arguments);for(var m=this.constructor;m;){if(i&&i[n]&&m.HTML_PARSER)if(i[n]=j.one(i[n])){var b=i[n],e=m.HTML_PARSER,g=void 0,k=void 0;for(g in e)if(e.hasOwnProperty(g)){k=e[g];if(h.isFunction(k))this.__set(g,k.call(this,b));else if(h.isString(k))this.__set(g,b.one(k));else h.isArray(k)&&k[0]&&this.__set(g,b.all(k[0]))}}m=m.superclass&&m.superclass.constructor}d(this,
"initializer","constructor");i&&i.autoRender&&this.render()}function d(i,m,b){for(var e=i.constructor,g=[],k,o,f,p;e;){p=[];if(f=e.__ks_exts)for(var r=0;r<f.length;r++)if(k=f[r]){if(b!="constructor")k=k.prototype.hasOwnProperty(b)?k.prototype[b]:null;k&&p.push(k)}if(e.prototype.hasOwnProperty(m)&&(o=e.prototype[m]))p.push(o);p.length&&g.push.apply(g,p.reverse());e=e.superclass&&e.superclass.constructor}for(r=g.length-1;r>=0;r--)g[r]&&g[r].call(i)}var n="srcNode";c=function(){};a.HTML_PARSER={};a.ATTRS=
{rendered:{value:false},created:{value:false}};h.extend(a,l,{create:function(){if(!this.get("created")){this._createDom();this.fire("createDom");d(this,"createDom","__createDom");this.fire("afterCreateDom");this.set("created",true)}},render:function(){if(!this.get("rendered")){this.create();this._renderUI();this.fire("renderUI");d(this,"renderUI","__renderUI");this.fire("afterRenderUI");this._bindUI();this.fire("bindUI");d(this,"bindUI","__bindUI");this.fire("afterBindUI");this._syncUI();this.fire("syncUI");
d(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.set("rendered",true)}},_createDom:c,_renderUI:c,renderUI:c,_bindUI:function(){var i=this,m=i.__attrs,b,e;for(b in m)if(m.hasOwnProperty(b)){e="_uiSet"+q(b);i[e]&&function(g,k){i.on("after"+q(g)+"Change",function(o){i[k](o.newVal,o)})}(b,e)}},bindUI:c,_syncUI:function(){var i=this.__attrs,m;for(m in i)if(i.hasOwnProperty(m)){var b="_uiSet"+q(m);this[b]&&i[m].sync!==false&&this.get(m)!==undefined&&this[b](this.get(m))}},syncUI:c,destroy:function(){for(var i=
this.constructor,m,b,e;i;){i.prototype.hasOwnProperty("destructor")&&i.prototype.destructor.apply(this);if(m=i.__ks_exts)for(e=m.length-1;e>=0;e--)(b=m[e]&&m[e].prototype.__destructor)&&b.apply(this);i=i.superclass&&i.superclass.constructor}this.fire("destroy");this.detach()}});a.create=function(i,m,b,e){function g(){a.apply(this,arguments)}if(h.isArray(i)){e=b;b=m;m=i;i=a}i=i||a;if(h.isObject(m)){e=b;b=m;m=[]}h.extend(g,i,b,e);if(m){g.__ks_exts=m;h.each(m,function(k){if(k){h.each(["ATTRS","HTML_PARSER"],
function(f){if(k[f]){g[f]=g[f]||{};h.mix(g[f],k[f],undefined,undefined,true)}});for(var o in k.prototype)if(!g.prototype.hasOwnProperty(o)&&k.prototype.hasOwnProperty(o))g.prototype[o]=k.prototype[o]}})}return g};return a},{requires:["base","dom","node"]});
KISSY.add("uibase/box",function(){function h(){}h.ATTRS={html:{view:true,sync:false},width:{view:true},height:{view:true},elCls:{view:true},elStyle:{view:true},elAttrs:{view:true},elBefore:{view:true},el:{view:true},render:{view:true},visibleMode:{value:"display",view:true},visible:{view:true},srcNode:{view:true}};h.HTML_PARSER={el:function(l){this.decorateInternal&&this.decorateInternal(l);return l}};h.prototype={_uiSetVisible:function(l){this.fire(l?"show":"hide")},show:function(){this.render();
this.set("visible",true)},hide:function(){this.set("visible",false)}};return h});
KISSY.add("uibase/boxrender",function(h,l){function c(){}function j(a,d,n,i,m,b){d=d||{};if(n)d.width=n;if(i)d.height=i;n="";for(var e in d)if(d.hasOwnProperty(e))n+=e+":"+d[e]+";";d="";for(var g in b)if(b.hasOwnProperty(g))d+=" "+g+"='"+b[g]+"' ";return"<"+m+(n?" style='"+n+"' ":"")+d+(a?" class='"+a+"' ":"")+"></"+m+">"}var q=h.all;c.ATTRS={el:{setter:function(a){return q(a)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},elBefore:{},render:{},html:{sync:false},visible:{},
visibleMode:{}};c.construct=j;c.HTML_PARSER={html:function(a){return a.html()}};c.prototype={__renderUI:function(){if(this.__boxRenderNew){var a=this.get("render"),d=this.get("el"),n=this.get("elBefore");if(n)d.insertBefore(n);else a?d.appendTo(a):d.appendTo("body")}},__createDom:function(){var a=this.get("el");if(!a){this.__boxRenderNew=true;a=new l(j(this.get("elCls"),this.get("elStyle"),this.get("width"),this.get("height"),this.get("elTagName"),this.get("elAttrs")));this.set("el",a);this.get("html")&&
a.html(this.get("html"))}},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},_uiSetHtml:function(a){this.get("el").html(a)},_uiSetVisible:function(a){var d=this.get("el");this.get("visibleMode")=="visibility"?d.css("visibility",a?"visible":"hidden"):d.css("display",a?"":"none")},show:function(){this.render();
this.set("visible",true)},hide:function(){this.set("visible",false)},__destructor:function(){var a=this.get("el");if(a){a.detach();a.remove()}}};return c},{requires:["node"]});KISSY.add("uibase/close",function(){function h(){}h.ATTRS={closable:{view:true},closeAction:{value:"hide"}};var l={hide:"hide",destroy:"destroy"};h.prototype={__bindUI:function(){var c=this,j=c.get("view").get("closeBtn");j&&j.on("click",function(q){c[l[c.get("closeAction")]||"hide"]();q.halt()})}};return h});
KISSY.add("uibase/closerender",function(h,l){function c(){}c.ATTRS={closable:{value:true},closeBtn:{}};c.HTML_PARSER={closeBtn:function(j){return j.one("."+this.get("prefixCls")+"ext-close")}};c.prototype={_uiSetClosable:function(j){var q=this.get("closeBtn");if(q)j?q.css("display",""):q.css("display","none")},__renderUI:function(){var j=this.get("closeBtn"),q=this.get("el");if(!j&&q){j=(new l("<a tabindex='0' role='button' class='"+this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+
"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(q);this.set("closeBtn",j)}},__destructor:function(){var j=this.get("closeBtn");j&&j.detach()}};return c},{requires:["node"]});
KISSY.add("uibase/constrain",function(h,l,c){function j(){}function q(a){var d;if(!a)return d;var n=this.get("el");if(a!==true){a=c.one(a);d=a.offset();h.mix(d,{maxLeft:d.left+a[0].offsetWidth-n[0].offsetWidth,maxTop:d.top+a[0].offsetHeight-n[0].offsetHeight})}else{a=document.documentElement.clientWidth;d={left:l.scrollLeft(),top:l.scrollTop()};h.mix(d,{maxLeft:d.left+a-n[0].offsetWidth,maxTop:d.top+l.viewportHeight()-n[0].offsetHeight})}return d}j.ATTRS={constrain:{value:false}};j.prototype={__renderUI:function(){var a=
this,d=a.__getDefAttrs(),n=d.x;d=d.y;var i=n.setter,m=d.setter;n.setter=function(b){var e=i&&i.call(a,b);if(e===undefined)e=b;if(!a.get("constrain"))return e;b=q.call(a,a.get("constrain"));return Math.min(Math.max(e,b.left),b.maxLeft)};d.setter=function(b){var e=m&&m.call(a,b);if(e===undefined)e=b;if(!a.get("constrain"))return e;b=q.call(a,a.get("constrain"));return Math.min(Math.max(e,b.top),b.maxTop)};a.addAttr("x",n);a.addAttr("y",d)}};return j},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function h(){}h.ATTRS={content:{view:true,sync:false},contentEl:{view:true},contentElAttrs:{view:true},contentElStyle:{view:true},contentTagName:{view:true}};h.prototype={};return h});
KISSY.add("uibase/contentboxrender",function(h,l,c){function j(){}function q(d,n){var i=d.get("contentEl");i.html("");n&&i.append(n)}j.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{value:""},contentElStyle:{},contentTagName:{value:"div"},content:{sync:false}};j.HTML_PARSER={content:function(d){return d.html()}};var a=c.construct;j.prototype={__renderUI:function(){},__createDom:function(){var d,n;d=this.get("el");n=h.makeArray(d[0].childNodes);d=(new l(a(this.get("prefixCls")+"contentbox "+this.get("contentElCls"),
this.get("contentElStyle"),undefined,undefined,this.get("contentTagName"),this.get("contentElAttrs")))).appendTo(d);this.set("contentEl",d);if(n.length)for(var i=0;i<n.length;i++)d.append(n[i]);else if(n=this.get("content"))q(this,n)},_uiSetContentElCls:function(d){this.get("contentEl").addClass(d)},_uiSetContentElAttrs:function(d){this.get("contentEl").attr(d)},_uiSetContentElStyle:function(d){this.get("contentEl").css(d)},_uiSetContent:function(d){q(this,d)}};return j},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(h){function l(){}l.ATTRS={handlers:{value:[]},draggable:{value:true}};l.prototype={_uiSetHandlers:function(c){c&&c.length>0&&this.__drag&&this.__drag.set("handlers",c)},__bindUI:function(){var c=h.require("dd/draggable"),j=this.get("el");if(this.get("draggable")&&c)this.__drag=new c({node:j,handlers:this.get("handlers")})},_uiSetDraggable:function(c){var j=this.__drag;if(j)if(c){j.detach("drag");j.on("drag",this._dragExtAction,this)}else j.detach("drag")},_dragExtAction:function(c){this.set("xy",
[c.left,c.top])},__destructor:function(){var c=this.__drag;c&&c.destroy()}};return l});KISSY.add("uibase/loading",function(){function h(){}h.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return h});
KISSY.add("uibase/loadingrender",function(h,l){function c(){}c.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new l("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var j=this._loadingExtEl;j&&j.hide()}};return c},{requires:["node"]});
KISSY.add("uibase/mask",function(){function h(){}h.ATTRS={mask:{value:false}};h.prototype={_uiSetMask:function(l){if(l){this.on("show",this.get("view")._maskExtShow,this.get("view"));this.on("hide",this.get("view")._maskExtHide,this.get("view"))}else{this.detach("show",this.get("view")._maskExtShow,this.get("view"));this.detach("hide",this.get("view")._maskExtHide,this.get("view"))}}};return h},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(h,l,c,j){function q(){d=(new j("<div class='"+this.get("prefixCls")+"ext-mask'/>")).prependTo("body");d.css({position:"absolute",left:0,top:0,width:l.ie==6?c.docWidth():"100%",height:c.docHeight()});if(l.ie==6)n=(new j("<iframe style='position:absolute;left:0;top:0;background:red;width:"+c.docWidth()+"px;height:"+c.docHeight()+"px;filter:alpha(opacity=0);z-index:-1;'/>")).insertBefore(d);h.Event.on(window,"resize",function(){var m={width:l.ie==6?c.docWidth():
"100%",height:c.docHeight()};n&&n.css(m);d.css(m)});d.unselectable();d.on("mousedown click",function(m){m.halt()})}function a(){}var d,n,i=0;a.prototype={_maskExtShow:function(){d||q.call(this);var m=this.get("zIndex")-1;d.css("z-index",m);n&&n.css("z-index",m);i++;d.css("display","");n&&n.css("display","")},_maskExtHide:function(){i--;if(i<=0)i=0;if(!i){d&&d.css("display","none");n&&n.css("display","none")}},__destructor:function(){this._maskExtHide()}};return a},{requires:["ua","dom","node"]});
KISSY.add("uibase/position",function(h){function l(){}l.ATTRS={x:{view:true},y:{view:true},xy:{setter:function(c){var j=h.makeArray(c);if(j.length){j[0]&&this.set("x",j[0]);j[1]&&this.set("y",j[1])}return c},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:true}};l.prototype={move:function(c,j){if(h.isArray(c)){j=c[1];c=c[0]}this.set("xy",[c,j])}};return l});
KISSY.add("uibase/positionrender",function(){function h(){}h.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};h.prototype={__renderUI:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(l){this.get("el").css("z-index",l)},_uiSetX:function(l){this.get("el").offset({left:l})},_uiSetY:function(l){this.get("el").offset({top:l})}};
return h});KISSY.add("uibase/resize",function(h){function l(){}l.ATTRS={resize:{value:{}}};l.prototype={__destructor:function(){self.resizer&&self.resizer.destroy()},_uiSetResize:function(c){var j=h.require("resizable");if(j){this.resizer&&this.resizer.destroy();c.node=this.get("el");c.autoRender=true;if(c.handlers)this.resizer=new j(c)}}};return l});
KISSY.add("uibase/shimrender",function(h,l){function c(){}c.ATTRS={shim:{value:true}};c.prototype={_uiSetShim:function(j){var q=this.get("el");if(j&&!this.__shimEl){this.__shimEl=new l("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>");q.prepend(this.__shimEl)}else if(!j&&this.__shimEl){this.__shimEl.remove();delete this.__shimEl}}};return c},
{requires:["node"]});KISSY.add("uibase/stdmod",function(){function h(){}h.ATTRS={header:{view:true},body:{view:true},footer:{view:true},bodyStyle:{view:true},footerStyle:{view:true},headerStyle:{view:true},headerContent:{view:true},bodyContent:{view:true},footerContent:{view:true}};h.prototype={};return h});
KISSY.add("uibase/stdmodrender",function(h,l){function c(){}function j(a,d){var n=a.get("contentEl"),i=a.get(d);if(!i){i=(new l("<div class='"+a.get("prefixCls")+q+d+"'/>")).appendTo(n);a.set(d,i)}}var q="stdmod-";c.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};c.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+q+"header")},body:function(a){return a.one("."+this.get("prefixCls")+q+"body")},footer:function(a){return a.one("."+
this.get("prefixCls")+q+"footer")}};c.prototype={_setStdModContent:function(a,d){if(h.isString(d))this.get(a).html(d);else{this.get(a).html("");this.get(a).append(d)}},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){this._setStdModContent("body",a)},_uiSetHeaderContent:function(a){this._setStdModContent("header",a)},_uiSetFooterContent:function(a){this._setStdModContent("footer",
a)},__renderUI:function(){j(this,"header");j(this,"body");j(this,"footer")}};return c},{requires:["node"]});
KISSY.add("uibase",function(h,l,c,j,q,a,d,n,i,m,b,e,g,k,o,f,p,r,s,t,u){a.Render=d;e.Render=g;k.Render=o;f.Render=p;t.Render=u;j.Render=q;i.Render=m;h.mix(l,{Align:c,Box:j,Close:a,Contrain:n,Contentbox:i,Drag:b,Loading:e,Mask:k,Position:f,Shim:{Render:r},Resize:s,StdMod:t});return h.UIBase=l},{requires:["uibase/base","uibase/align","uibase/box","uibase/boxrender","uibase/close","uibase/closerender","uibase/constrain","uibase/contentbox","uibase/contentboxrender","uibase/drag","uibase/loading","uibase/loadingrender",
"uibase/mask","uibase/maskrender","uibase/position","uibase/positionrender","uibase/shimrender","uibase/resize","uibase/stdmod","uibase/stdmodrender"]});
