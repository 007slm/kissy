/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Mar 20 18:33
*/
KISSY.add("uibase/align",function(i,n,f,k){function q(a){var c=a.ownerDocument.body,b=f.css(a,"position"),h=b=="fixed"||b=="absolute";for(a=a.parentNode;a&&a!=c;a=a.parentNode){b=f.css(a,"position");h=h&&b=="static";if(f.css(a,"overflow")!="visible"&&(!h||b=="fixed"||b=="absolute"||b=="relative"))return a}return null}function l(a){for(var c in a)if(c.indexOf("fail")===0)return true;return false}function d(a){var c=a.offset,b=a.node,h=a.points,p,e=this.get("el");c=c||[0,0];p=e.offset();b=m(b,h[0]);
h=m(e,h[1]);h=[h.left-b.left,h.top-b.top];p={left:p.left-h[0]+ +c[0],top:p.top-h[1]+ +c[1]};a:{c=p;p=this.get("el");e={};h={width:p.outerWidth(),height:p.outerHeight()};b=i.clone(h);if(!i.isEmptyObject(a.overflow)){e={left:0,right:Infinity,top:0,bottom:Infinity};for(var o=p[0];o=q(o);){var r=o.clientWidth;if(!n.ie||r!==0){var s=o.clientLeft,t=o.clientTop;r=f.offset(o);s={left:s,top:t};r.left+=s.left;r.top+=s.top;e.top=Math.max(e.top,r.top);e.right=Math.min(e.right,r.left+o.clientWidth);e.bottom=Math.min(e.bottom,
r.top+o.clientHeight);e.left=Math.max(e.left,r.left)}}o=f.scrollLeft();r=f.scrollTop();e.left=Math.max(e.left,o);e.top=Math.max(e.top,r);e.right=Math.min(e.right,o+f.viewportWidth());e.bottom=Math.min(e.bottom,r+f.viewportHeight());e=e.top>=0&&e.left>=0&&e.bottom>e.top&&e.right>e.left?e:null;a=a.overflow||{};o={};if(c.left<e.left&&a.adjustX){c.left=e.left;o.adjustX=1}if(c.left<e.left&&c.left+b.width>e.right&&a.resizeWidth){b.width-=c.left+b.width-e.right;o.resizeWidth=1}if(c.left+b.width>e.right&&
a.adjustX){c.left=Math.max(e.right-b.width,e.left);o.adjustX=1}if(a.failX)o.failX=c.left<e.left||c.left+b.width>e.right;if(c.top<e.top&&a.adjustY){c.top=e.top;o.adjustY=1}if(c.top>=e.top&&c.top+b.height>e.bottom&&a.resizeHeight){b.height-=c.top+b.height-e.bottom;o.resizeHeight=1}if(c.top+b.height>e.bottom&&a.adjustY){c.top=Math.max(e.bottom-b.height,e.top);o.adjustY=1}if(a.failY)o.failY=c.top<e.top||c.top+b.height>e.bottom;e=o;if(l(e)){a=e;break a}}this.set("x",c.left);this.set("y",c.top);if(b.width!=
h.width||b.height!=h.height){p.width(b.width);p.height(b.height)}a=e}return a}function j(a,c,b){var h=[];i.each(a,function(p){h.push(p.replace(c,function(e){return b[e]}))});return h}function g(){}function m(a,c){var b=c.charAt(0),h=c.charAt(1),p,e,o,r;if(a&&!i.isWindow(a)){p=a.offset();e=a.outerWidth();o=a.outerHeight()}else{p={left:f.scrollLeft(),top:f.scrollTop()};e=f.viewportWidth();o=f.viewportHeight()}r=p.left;p=p.top;if(b==="c")p+=o/2;else if(b==="b")p+=o;if(h==="c")r+=e/2;else if(h==="r")r+=
e;return{left:r,top:p}}g.ATTRS={align:{setter:function(a){var c;if(c=a.node)a.node=k.one(c)}}};g.prototype={_uiSetAlign:function(a){a&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(a,c,b,h){var p={};if(a)a=k.one(a);h=i.clone(h||{});b=b&&[].concat(b)||[0,0];if(h.failX)p.failX=1;if(h.failY)p.failY=1;var e=d.call(this,{node:a,points:c,offset:b,overflow:p});if(l(e)){if(e.failX){c=j(c,/[lr]/ig,{l:"r",r:"l"});b=b;b[0]=-b[0];b=b}if(e.failY){c=j(c,/[tb]/ig,{t:"b",b:"t"});e=b;e[1]=-e[1];
b=e}}e=d.call(this,{node:a,points:c,offset:b,overflow:p});if(l(e)){delete h.failX;delete h.failY;d.call(this,{node:a,points:c,offset:b,overflow:h})}},center:function(a){this.set("align",{node:a,points:["cc","cc"],offset:[0,0]})}};return g},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(i,n,f){function k(g){return g.charAt(0).toUpperCase()+g.substring(1)}function q(g){n.apply(this,arguments);for(var m=this.constructor;m;){if(g&&g[d]&&m.HTML_PARSER)if(g[d]=f.one(g[d])){var a=g[d],c=m.HTML_PARSER,b=void 0,h=void 0;for(b in c)if(c.hasOwnProperty(b)){h=c[b];if(i.isFunction(h))this.__set(b,h.call(this,a));else if(i.isString(h))this.__set(b,a.one(h));else i.isArray(h)&&h[0]&&this.__set(b,a.all(h[0]))}}m=m.superclass&&m.superclass.constructor}l(this,"initializer",
"constructor");g&&g.autoRender&&this.render()}function l(g,m,a){for(var c=g.constructor,b=[],h,p,e,o;c;){o=[];if(e=c.__ks_exts)for(var r=0;r<e.length;r++)if(h=e[r]){if(a!="constructor")h=h.prototype.hasOwnProperty(a)?h.prototype[a]:null;h&&o.push(h)}if(c.prototype.hasOwnProperty(m)&&(p=c.prototype[m]))o.push(p);o.length&&b.push.apply(b,o.reverse());c=c.superclass&&c.superclass.constructor}for(r=b.length-1;r>=0;r--)b[r]&&b[r].call(g)}var d="srcNode",j=i.noop;q.HTML_PARSER={};q.ATTRS={rendered:{value:false},
created:{value:false}};i.extend(q,n,{create:function(){if(!this.get("created")){this._createDom();this.fire("createDom");l(this,"createDom","__createDom");this.fire("afterCreateDom");this.__set("created",true)}},render:function(){if(!this.get("rendered")){this.create();this._renderUI();this.fire("renderUI");l(this,"renderUI","__renderUI");this.fire("afterRenderUI");this._bindUI();this.fire("bindUI");l(this,"bindUI","__bindUI");this.fire("afterBindUI");this._syncUI();this.fire("syncUI");l(this,"syncUI",
"__syncUI");this.fire("afterSyncUI");this.__set("rendered",true)}return this},_createDom:j,_renderUI:j,renderUI:j,_bindUI:function(){var g=this,m=g.__attrs,a,c;for(a in m)if(m.hasOwnProperty(a)){c="_uiSet"+k(a);g[c]&&function(b,h){g.on("after"+k(b)+"Change",function(p){g[h](p.newVal,p)})}(a,c)}},bindUI:j,_syncUI:function(){var g=this.__attrs,m;for(m in g)if(g.hasOwnProperty(m)){var a="_uiSet"+k(m);this[a]&&g[m].sync!==false&&this.get(m)!==undefined&&this[a](this.get(m))}},syncUI:j,destroy:function(){for(var g=
this.constructor,m,a,c;g;){g.prototype.hasOwnProperty("destructor")&&g.prototype.destructor.apply(this);if(m=g.__ks_exts)for(c=m.length-1;c>=0;c--)(a=m[c]&&m[c].prototype.__destructor)&&a.apply(this);g=g.superclass&&g.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(g,m,a,c){function b(){q.apply(this,arguments)}if(i.isArray(g)){c=a;a=m;m=g;g=q}g=g||q;if(i.isObject(m)){c=a;a=m;m=[]}i.extend(b,g,a,c);if(m){b.__ks_exts=m;var h={};g=m.concat(b);i.each(g,function(e){e&&i.each(["ATTRS",
"HTML_PARSER"],function(o){if(e[o]){h[o]=h[o]||{};i.mix(h[o],e[o],true,undefined,true)}})});i.each(h,function(e,o){b[o]=e});var p={};i.each(g,function(e){if(e){e=e.prototype;for(var o in e)if(e.hasOwnProperty(o))p[o]=e[o]}});i.each(p,function(e,o){b.prototype[o]=e})}return b}});return q},{requires:["base","node"]});
KISSY.add("uibase/box",function(i){function n(){}n.ATTRS={html:{view:true},width:{view:true},height:{view:true},elCls:{view:true},elStyle:{view:true},elAttrs:{view:true},elBefore:{view:true},el:{view:true},render:{view:true},visibleMode:{value:"display",view:true},visible:{view:true},srcNode:{view:true}};n.HTML_PARSER={el:function(f){this.decorateInternal&&this.decorateInternal(i.one(f));return f}};n.prototype={_uiSetVisible:function(f){this.fire(f?"show":"hide")},show:function(){if(this.get("rendered"))this.set("visible",
true);else{this.__set("visible",true);this.render()}},hide:function(){this.set("visible",false)}};return n});
KISSY.add("uibase/boxrender",function(i,n){function f(){}function k(d,j,g,m,a,c,b){j=j||{};b=b||"";if(typeof b!=="string")b="";if(g)j.width=typeof g=="number"?g+"px":g;if(m)j.height=typeof m=="number"?m+"px":m;g="";for(var h in j)if(j.hasOwnProperty(h))g+=h+":"+j[h]+";";j="";for(var p in c)if(c.hasOwnProperty(p))j+=" "+p+"='"+c[p]+"' ";return"<"+a+(g?" style='"+g+"' ":"")+j+(d?" class='"+d+"' ":"")+">"+b+"</"+a+">"}var q=i.all,l=i.Env.host.document;f.ATTRS={el:{setter:function(d){return q(d)}},elCls:{sync:false},
elStyle:{sync:false},width:{sync:false},height:{sync:false},elTagName:{sync:false,value:"div"},elAttrs:{sync:false},html:{sync:false},elBefore:{},render:{},visible:{},visibleMode:{}};f.construct=k;f.HTML_PARSER={html:function(d){return d.html()}};f.prototype={__renderUI:function(){if(this.__boxRenderNew){var d=this.get("render"),j=this.get("el"),g=this.get("elBefore");if(g)j.insertBefore(g);else d?j.appendTo(d):j.appendTo(l.body)}},__createDom:function(){var d=this.get("elCls"),j=this.get("elStyle"),
g=this.get("width"),m=this.get("height"),a=this.get("html"),c=this.get("elAttrs"),b=this.get("el");if(b){d&&b.addClass(d);j&&b.css(j);g!==undefined&&b.width(g);m!==undefined&&b.height(m);c&&b.attr(c)}else{this.__boxRenderNew=true;b=new n(k(d,j,g,m,this.get("elTagName"),c,a));this.__set("el",b)}},_uiSetElAttrs:function(d){this.get("el").attr(d)},_uiSetElCls:function(d){this.get("el").addClass(d)},_uiSetElStyle:function(d){this.get("el").css(d)},_uiSetWidth:function(d){this.get("el").width(d)},_uiSetHeight:function(d){this.get("el").height(d)},
_uiSetHtml:function(d){this.get("el").html(d)},_uiSetVisible:function(d){var j=this.get("el");this.get("visibleMode")=="visibility"?j.css("visibility",d?"visible":"hidden"):j.css("display",d?"":"none")},__destructor:function(){var d=this.get("el");d&&d.remove()}};return f},{requires:["node"]});
KISSY.add("uibase/close",function(){function i(){}i.ATTRS={closable:{view:true},closeAction:{value:"hide"}};var n={hide:"hide",destroy:"destroy"};i.prototype={__bindUI:function(){var f=this,k=f.get("view").get("closeBtn");k&&k.on("click",function(q){f[n[f.get("closeAction")]||"hide"]();q.preventDefault()})}};return i});
KISSY.add("uibase/closerender",function(i,n){function f(){}f.ATTRS={closable:{value:true,sync:false},closeBtn:{}};f.HTML_PARSER={closeBtn:function(k){return k.one("."+this.get("prefixCls")+"ext-close")}};f.prototype={_uiSetClosable:function(k){this.get("closeBtn")[k?"show":"hide"]()},__createDom:function(){var k=this.get("closeBtn"),q=this.get("closable"),l=this.get("el");if(k)k[q?"show":"hide"]();else{k=(new n("<a tabindex='0' "+(q?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='"+
this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(l);this.__set("closeBtn",k)}},__destructor:function(){var k=this.get("closeBtn");k&&k.detach()}};return f},{requires:["node"]});
KISSY.add("uibase/constrain",function(i,n,f){function k(){}function q(l){var d;if(!l)return d;var j=this.get("el");if(l!==true){l=f.one(l);d=l.offset();i.mix(d,{maxLeft:d.left+l.outerWidth()-j.outerWidth(),maxTop:d.top+l.outerHeight()-j.outerHeight()})}else{l=i.Env.host.document.documentElement.clientWidth;d={left:n.scrollLeft(),top:n.scrollTop()};i.mix(d,{maxLeft:d.left+l-j.outerWidth(),maxTop:d.top+n.viewportHeight()-j.outerHeight()})}return d}k.ATTRS={constrain:{value:false}};k.prototype={__renderUI:function(){var l=
this,d=l.getAttrs(),j=d.x;d=d.y;var g=j.setter,m=d.setter;j.setter=function(a){var c=g&&g.call(l,a);if(c===undefined)c=a;if(!l.get("constrain"))return c;a=q.call(l,l.get("constrain"));return Math.min(Math.max(c,a.left),a.maxLeft)};d.setter=function(a){var c=m&&m.call(l,a);if(c===undefined)c=a;if(!l.get("constrain"))return c;a=q.call(l,l.get("constrain"));return Math.min(Math.max(c,a.top),a.maxTop)};l.addAttr("x",j);l.addAttr("y",d)}};return k},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function i(){}i.ATTRS={content:{view:true,sync:false},contentEl:{view:true},contentElAttrs:{view:true},contentElStyle:{view:true},contentTagName:{view:true}};return i});
KISSY.add("uibase/contentboxrender",function(i,n,f){function k(){}k.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:false}};k.HTML_PARSER={content:function(l){return l[0].innerHTML}};var q=f.construct;k.prototype={__renderUI:function(){},__createDom:function(){var l,d=this.get("content"),j=this.get("el");l="";var g=i.makeArray(j[0].childNodes);if(g.length)l=j[0].innerHTML;if(d==l)d="";l=new n(q(this.get("prefixCls")+"contentbox "+
(this.get("contentElCls")||""),this.get("contentElStyle"),undefined,undefined,this.get("contentTagName"),this.get("contentElAttrs"),d));l.appendTo(j);this.__set("contentEl",l);if(d)typeof d!=="string"&&l.append(d);else{d=0;for(j=g.length;d<j;d++)l.append(g[d])}},_uiSetContentElCls:function(l){this.get("contentEl").addClass(l)},_uiSetContentElAttrs:function(l){this.get("contentEl").attr(l)},_uiSetContentElStyle:function(l){this.get("contentEl").css(l)},_uiSetContent:function(l){typeof l=="string"?
this.get("contentEl").html(l):this.get("contentEl").empty().append(l)}};return k},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(i){function n(){}n.ATTRS={handlers:{value:[]},draggable:{value:true}};n.prototype={_uiSetHandlers:function(f){f&&f.length>0&&this.__drag&&this.__drag.set("handlers",f)},__bindUI:function(){var f=i.require("dd/draggable"),k=this.get("el");if(this.get("draggable")&&f)this.__drag=new f({node:k})},_uiSetDraggable:function(f){var k=this.__drag;if(k)if(f){k.detach("drag");k.on("drag",this._dragExtAction,this)}else k.detach("drag")},_dragExtAction:function(f){this.set("xy",
[f.left,f.top])},__destructor:function(){var f=this.__drag;f&&f.destroy()}};return n});KISSY.add("uibase/loading",function(){function i(){}i.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return i});
KISSY.add("uibase/loadingrender",function(i,n){function f(){}f.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new n("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var k=this._loadingExtEl;k&&k.hide()}};return f},{requires:["node"]});
KISSY.add("uibase/mask",function(){function i(){}i.ATTRS={mask:{value:false}};i.prototype={_uiSetMask:function(n){if(n){this.on("show",this.get("view")._maskExtShow,this.get("view"));this.on("hide",this.get("view")._maskExtHide,this.get("view"))}else{this.detach("show",this.get("view")._maskExtShow,this.get("view"));this.detach("hide",this.get("view")._maskExtHide,this.get("view"))}}};return i},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(i,n,f){function k(){return g?"expression(KISSY.DOM.docWidth())":"100%"}function q(){return g?"expression(KISSY.DOM.docHeight())":"100%"}function l(){j=m("<div  style='width:"+k()+";height:"+q()+";' class='"+this.get("prefixCls")+"ext-mask'/>").prependTo(a.document.body);j.css({position:g?"absolute":"fixed",left:0,top:0});if(g)c=m("<iframe style='position:absolute;left:0px;top:0px;background:red;width:"+k()+";height:"+q()+";filter:alpha(opacity=0);z-index:-1;'/>").insertBefore(j);
j.unselectable();j.on("mousedown click",function(h){h.halt()})}function d(){}var j,g=n.ie===6,m=f.all,a=i.Env.host;m(a.document);var c,b=0;d.prototype={_maskExtShow:function(){j||l.call(this);var h={"z-index":this.get("zIndex")-1},p={display:""};j.css(h);c&&c.css(h);b++;if(b==1){j.css(p);c&&c.css(p)}},_maskExtHide:function(){b--;if(b<=0)b=0;if(!b){var h={display:"none"};j&&j.css(h);c&&c.css(h)}},__destructor:function(){this._maskExtHide()}};return d},{requires:["ua","node"]});
KISSY.add("uibase/position",function(i){function n(){}n.ATTRS={x:{view:true},y:{view:true},xy:{setter:function(f){var k=i.makeArray(f);if(k.length){k[0]&&this.set("x",k[0]);k[1]&&this.set("y",k[1])}return f},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:true}};n.prototype={move:function(f,k){if(i.isArray(f)){k=f[1];f=f[0]}this.set("xy",[f,k])}};return n});
KISSY.add("uibase/positionrender",function(){function i(){}i.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};i.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(n){this.get("el").css("z-index",n)},_uiSetX:function(n){this.get("el").offset({left:n})},_uiSetY:function(n){this.get("el").offset({top:n})}};
return i});KISSY.add("uibase/resize",function(i){function n(){}n.ATTRS={resize:{value:{}}};n.prototype={__destructor:function(){var f=this.resizer;f&&f.destroy()},_uiSetResize:function(f){var k=i.require("resizable");if(k){this.resizer&&this.resizer.destroy();f.node=this.get("el");if(f.handlers)this.resizer=new k(f)}}};return n});
KISSY.add("uibase/shimrender",function(i,n){function f(){}f.ATTRS={shim:{value:true}};f.prototype={_uiSetShim:function(k){var q=this.get("el");if(k&&!this.__shimEl){this.__shimEl=new n("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>");q.prepend(this.__shimEl)}else if(!k&&this.__shimEl){this.__shimEl.remove();delete this.__shimEl}}};return f},
{requires:["node"]});KISSY.add("uibase/stdmod",function(){function i(){}i.ATTRS={header:{view:true},body:{view:true},footer:{view:true},bodyStyle:{view:true},footerStyle:{view:true},headerStyle:{view:true},headerContent:{view:true},bodyContent:{view:true},footerContent:{view:true}};return i});
KISSY.add("uibase/stdmodrender",function(i,n){function f(){}function k(d,j){var g=d.get("contentEl"),m=d.get(j+"Style"),a=d.get(j+"Content"),c=i.isString(a),b=d.get(j);if(b)m&&b.css(m);else{m=m;b="";if(m)for(var h in m)if(m.hasOwnProperty(h))b+=h+":"+m[h]+";";m=b;b=new n("<div class='"+d.get("prefixCls")+l+j+"' "+(m?"style='"+m+"'":"")+" >"+(c?a:"")+"</div>");c||b.append(a);b.appendTo(g);d.__set(j,b)}}function q(d,j,g){j=d.get(j);i.isString(g)?j.html(g):j.html("").append(g)}var l="stdmod-";f.ATTRS=
{header:{},body:{},footer:{},bodyStyle:{sync:false},footerStyle:{sync:false},headerStyle:{sync:false},headerContent:{sync:false},bodyContent:{sync:false},footerContent:{sync:false}};f.HTML_PARSER={header:function(d){return d.one("."+this.get("prefixCls")+l+"header")},body:function(d){return d.one("."+this.get("prefixCls")+l+"body")},footer:function(d){return d.one("."+this.get("prefixCls")+l+"footer")}};f.prototype={__createDom:function(){k(this,"header");k(this,"body");k(this,"footer")},_uiSetBodyStyle:function(d){this.get("body").css(d)},
_uiSetHeaderStyle:function(d){this.get("header").css(d)},_uiSetFooterStyle:function(d){this.get("footer").css(d)},_uiSetBodyContent:function(d){q(this,"body",d)},_uiSetHeaderContent:function(d){q(this,"header",d)},_uiSetFooterContent:function(d){q(this,"footer",d)}};return f},{requires:["node"]});
KISSY.add("uibase",function(i,n,f,k,q,l,d,j,g,m,a,c,b,h,p,e,o,r,s,t,u){l.Render=d;c.Render=b;h.Render=p;e.Render=o;t.Render=u;k.Render=q;g.Render=m;i.mix(n,{Align:f,Box:k,Close:l,Constrain:j,ContentBox:g,Drag:a,Loading:c,Mask:h,Position:e,Shim:{Render:r},Resize:s,StdMod:t});return n},{requires:["uibase/base","uibase/align","uibase/box","uibase/boxrender","uibase/close","uibase/closerender","uibase/constrain","uibase/contentbox","uibase/contentboxrender","uibase/drag","uibase/loading","uibase/loadingrender",
"uibase/mask","uibase/maskrender","uibase/position","uibase/positionrender","uibase/shimrender","uibase/resize","uibase/stdmod","uibase/stdmodrender"]});
