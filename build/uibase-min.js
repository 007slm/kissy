/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Apr 25 21:44
*/
KISSY.add("uibase/align",function(f,g,a,e){function k(b){var c=b.ownerDocument.body,i=a.css(b,"position");if(!("fixed"==i||"absolute"==i))return"html"==b.nodeName.toLowerCase()?null:b.parentNode;for(b=b.parentNode;b&&b!=c;b=b.parentNode)if(i=a.css(b,"position"),"static"!=i)return b;return null}function j(b){for(var c={left:0,right:Infinity,top:0,bottom:Infinity},i=b.ownerDocument,f=i.body,i=i.documentElement;b=k(b);)if((!g.ie||0!=b.clientWidth)&&b!=f&&b!=i&&"visible"!=a.css(b,"overflow")){var d=a.offset(b);
d.left+=b.clientLeft;d.top+=b.clientTop;c.top=Math.max(c.top,d.top);c.right=Math.min(c.right,d.left+b.clientWidth);c.bottom=Math.min(c.bottom,d.top+b.clientHeight);c.left=Math.max(c.left,d.left)}f=a.scrollLeft();i=a.scrollTop();c.left=Math.max(c.left,f);c.top=Math.max(c.top,i);b=a.viewportWidth();d=a.viewportHeight();c.right=Math.min(c.right,f+b);c.bottom=Math.min(c.bottom,i+d);return 0<=c.top&&0<=c.left&&c.bottom>c.top&&c.right>c.left?c:null}function i(b){for(var c in b)if(0===c.indexOf("fail"))return!0;
return!1}function d(b){var c=b.offset,a=b.node,d=b.points,e,h=this.get("el"),c=c||[0,0];e=h.offset();a=m(a,d[0]);d=m(h,d[1]);d=[d.left-a.left,d.top-a.top];e={left:e.left-d[0]+ +c[0],top:e.top-d[1]+ +c[1]};a:{c=e;e=this.get("el");h={};d={width:e.outerWidth(),height:e.outerHeight()};a=f.clone(d);if(!f.isEmptyObject(b.overflow)){var h=j(e[0]),b=b.overflow||{},g={};c.left<h.left&&b.adjustX&&(c.left=h.left,g.adjustX=1);c.left<h.left&&c.left+a.width>h.right&&b.resizeWidth&&(a.width-=c.left+a.width-h.right,
g.resizeWidth=1);c.left+a.width>h.right&&b.adjustX&&(c.left=Math.max(h.right-a.width,h.left),g.adjustX=1);b.failX&&(g.failX=c.left<h.left||c.left+a.width>h.right);c.top<h.top&&b.adjustY&&(c.top=h.top,g.adjustY=1);c.top>=h.top&&c.top+a.height>h.bottom&&b.resizeHeight&&(a.height-=c.top+a.height-h.bottom,g.resizeHeight=1);c.top+a.height>h.bottom&&b.adjustY&&(c.top=Math.max(h.bottom-a.height,h.top),g.adjustY=1);b.failY&&(g.failY=c.top<h.top||c.top+a.height>h.bottom);h=g;if(i(h)){b=h;break a}}this.set("x",
c.left);this.set("y",c.top);if(a.width!=d.width||a.height!=d.height)e.width(a.width),e.height(a.height);b=h}return b}function l(b,c,i){var a=[];f.each(b,function(b){a.push(b.replace(c,function(b){return i[b]}))});return a}function h(){}function m(b,c){var i=c.charAt(0),d=c.charAt(1),h,e,j,g;b&&!f.isWindow(b)?(h=b.offset(),e=b.outerWidth(),j=b.outerHeight()):(h={left:a.scrollLeft(),top:a.scrollTop()},e=a.viewportWidth(),j=a.viewportHeight());g=h.left;h=h.top;"c"===i?h+=j/2:"b"===i&&(h+=j);"c"===d?
g+=e/2:"r"===d&&(g+=e);return{left:g,top:h}}h.__getOffsetParent=k;h.__getVisibleRectForElement=j;h.ATTRS={align:{setter:function(b){var c;if(c=b.node)b.node=e.one(c)}}};h.prototype={_uiSetAlign:function(b){b&&this.align(b.node,b.points,b.offset,b.overflow)},align:function(b,c,a,h){var j={};b&&(b=e.one(b));h=f.clone(h||{});a=a&&[].concat(a)||[0,0];h.failX&&(j.failX=1);h.failY&&(j.failY=1);var g=d.call(this,{node:b,points:c,offset:a,overflow:j});if(i(g)&&(g.failX&&(c=l(c,/[lr]/ig,{l:"r",r:"l"}),a[0]=
-a[0]),g.failY))c=l(c,/[tb]/ig,{t:"b",b:"t"}),g=a,g[1]=-g[1],a=g;g=d.call(this,{node:b,points:c,offset:a,overflow:j});i(g)&&(delete h.failX,delete h.failY,d.call(this,{node:b,points:c,offset:a,overflow:h}))},center:function(b){this.set("align",{node:b,points:["cc","cc"],offset:[0,0]})}};return h},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(f,g,a,e){function k(h){g.apply(this,arguments);for(var d=h,b=this.constructor;b;){if(d&&d[i]&&b.HTML_PARSER&&(d[i]=a.one(d[i]))){var c=d[i],e=b.HTML_PARSER,l=void 0,k=void 0;for(l in e)e.hasOwnProperty(l)&&(k=e[l],f.isFunction(k)?this.__set(l,k.call(this,c)):f.isString(k)?this.__set(l,c.one(k)):f.isArray(k)&&k[0]&&this.__set(l,c.all(k[0])))}b=b.superclass&&b.superclass.constructor}j(this,"initializer","constructor");h&&h.autoRender&&this.render()}function j(a,i,b){for(var c=
a.constructor,d=[],e,g,f,j;c;){j=[];if(f=c.__ks_exts)for(var l=0;l<f.length;l++)if(e=f[l])"constructor"!=b&&(e=e.prototype.hasOwnProperty(b)?e.prototype[b]:null),e&&j.push(e);c.prototype.hasOwnProperty(i)&&(g=c.prototype[i])&&j.push(g);j.length&&d.push.apply(d,j.reverse());c=c.superclass&&c.superclass.constructor}for(l=d.length-1;0<=l;l--)d[l]&&d[l].call(a)}var i="srcNode",d=f.ucfirst,l=f.noop;k.HTML_PARSER={};k.ATTRS={rendered:{value:!1},created:{value:!1}};f.extend(k,g,{create:function(){this.get("created")||
(this._createDom(),this.fire("createDom"),j(this,"createDom","__createDom"),this.fire("afterCreateDom"),this.__set("created",!0))},render:function(){this.get("rendered")||(this.create(),this._renderUI(),this.fire("renderUI"),j(this,"renderUI","__renderUI"),this.fire("afterRenderUI"),this._bindUI(),this.fire("bindUI"),j(this,"bindUI","__bindUI"),this.fire("afterBindUI"),this._syncUI(),this.fire("syncUI"),j(this,"syncUI","__syncUI"),this.fire("afterSyncUI"),this.__set("rendered",!0));return this},_createDom:l,
_renderUI:l,renderUI:l,_bindUI:function(){var a=this,i=a.__attrs,b,c;for(b in i)i.hasOwnProperty(b)&&(c="_uiSet"+d(b),a[c]&&function(b,c){a.on("after"+d(b)+"Change",function(b){a[c](b.newVal,b)})}(b,c))},bindUI:l,_syncUI:function(){var a,i,b=this.__attrs,c;for(c in b)b.hasOwnProperty(c)&&(i=this["_uiSet"+d(c)])&&!1!==b[c].sync&&(a=this.get(c))!==e&&i.call(this,a)},syncUI:l,destroy:function(){for(var a=this.constructor,i,b,c;a;){a.prototype.hasOwnProperty("destructor")&&a.prototype.destructor.apply(this);
if(i=a.__ks_exts)for(c=i.length-1;0<=c;c--)(b=i[c]&&i[c].prototype.__destructor)&&b.apply(this);a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(a,i,b,c){function d(){k.apply(this,arguments)}var g=f.makeArray(arguments);f.isArray(a)&&(c=b,b=i,i=a,a=k);a=a||k;f.isObject(i)&&(c=b,b=i,i=[]);f.isString(g[g.length-1]);f.extend(d,a,b,c);if(i){d.__ks_exts=i;var j={},g=i.concat(d);f.each(g,function(a){a&&f.each(["ATTRS","HTML_PARSER"],function(b){if(a[b]){j[b]=
j[b]||{};f.mix(j[b],a[b],true,e,true)}})});f.each(j,function(a,b){d[b]=a});var l={};f.each(g,function(a){if(a){var a=a.prototype,b;for(b in a)a.hasOwnProperty(b)&&(l[b]=a[b])}});f.each(l,function(a,b){d.prototype[b]=a})}return d}});return k},{requires:["base","node"]});
KISSY.add("uibase/box",function(f){function g(){}g.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};g.HTML_PARSER={el:function(a){this.decorateInternal&&this.decorateInternal(f.one(a));return a}};g.prototype={_uiSetVisible:function(a){this.fire(a?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render())},hide:function(){this.set("visible",!1)}};return g});
KISSY.add("uibase/boxrender",function(f,g){function a(){}function e(a,d,e,g,j,b,c){d=d||{};c=c||"";"string"!==typeof c&&(c="");e&&(d.width="number"==typeof e?e+"px":e);g&&(d.height="number"==typeof g?g+"px":g);var e="",f;for(f in d)d.hasOwnProperty(f)&&(e+=f+":"+d[f]+";");var d="",k;for(k in b)b.hasOwnProperty(k)&&(d+=" "+k+"='"+b[k]+"' ");return"<"+j+(e?" style='"+e+"' ":"")+d+(a?" class='"+a+"' ":"")+">"+c+"</"+j+">"}var k=f.all,j=f.Env.host.document;a.ATTRS={el:{setter:function(a){return k(a)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};a.construct=e;a.HTML_PARSER={html:function(a){return a.html()}};a.prototype={__renderUI:function(){if(this.__boxRenderNew){var a=this.get("render"),d=this.get("el"),e=this.get("elBefore");e?d.insertBefore(e):a?d.appendTo(a):d.appendTo(j.body)}},__createDom:function(){var a=this.get("elCls"),d=this.get("elStyle"),j=this.get("width"),
f=this.get("height"),k=this.get("html"),b=this.get("elAttrs"),c=this.get("el");c?(a&&c.addClass(a),d&&c.css(d),void 0!==j&&c.width(j),void 0!==f&&c.height(f),b&&c.attr(b)):(this.__boxRenderNew=!0,c=new g(e(a,d,j,f,this.get("elTagName"),b,k)),this.__set("el",c))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},
_uiSetHtml:function(a){this.get("el").html(a)},_uiSetVisible:function(a){var d=this.get("el");"visibility"==this.get("visibleMode")?d.css("visibility",a?"visible":"hidden"):d.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return a},{requires:["node"]});
KISSY.add("uibase/close",function(){function f(){}f.ATTRS={closable:{view:!0},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};f.prototype={__bindUI:function(){var a=this,e=a.get("view").get("closeBtn");e&&e.on("click",function(e){a[g[a.get("closeAction")]||"hide"]();e.preventDefault()})}};return f});
KISSY.add("uibase/closerender",function(f,g){function a(){}a.ATTRS={closable:{value:!0,sync:!1},closeBtn:{}};a.HTML_PARSER={closeBtn:function(a){return a.one("."+this.get("prefixCls")+"ext-close")}};a.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),f=this.get("closable"),j=this.get("el");if(a)a[f?"show":"hide"]();else a=(new g("<a tabindex='0' "+(f?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='"+
this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(j),this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return a},{requires:["node"]});
KISSY.add("uibase/constrain",function(f,g,a){function e(){}function k(e){var i;if(!e)return i;var d=this.get("el");!0!==e?(e=a.one(e),i=e.offset(),f.mix(i,{maxLeft:i.left+e.outerWidth()-d.outerWidth(),maxTop:i.top+e.outerHeight()-d.outerHeight()})):(e=f.Env.host.document.documentElement.clientWidth,i={left:g.scrollLeft(),top:g.scrollTop()},f.mix(i,{maxLeft:i.left+e-d.outerWidth(),maxTop:i.top+g.viewportHeight()-d.outerHeight()}));return i}e.ATTRS={constrain:{value:!1}};e.prototype={__renderUI:function(){var a=
this,i=a.getAttrs(),d=i.x,i=i.y,e=d.setter,f=i.setter;d.setter=function(d){var b=e&&e.call(a,d);void 0===b&&(b=d);if(!a.get("constrain"))return b;d=k.call(a,a.get("constrain"));return Math.min(Math.max(b,d.left),d.maxLeft)};i.setter=function(d){var b=f&&f.call(a,d);void 0===b&&(b=d);if(!a.get("constrain"))return b;d=k.call(a,a.get("constrain"));return Math.min(Math.max(b,d.top),d.maxTop)};a.addAttr("x",d);a.addAttr("y",i)}};return e},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function f(){}f.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return f});
KISSY.add("uibase/contentboxrender",function(f,g,a){function e(){}e.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};e.HTML_PARSER={content:function(a){return a[0].innerHTML}};var k=a.construct;e.prototype={__renderUI:function(){},__createDom:function(){var a,e=this.get("content"),d=this.get("el");a="";var l=f.makeArray(d[0].childNodes);l.length&&(a=d[0].innerHTML);e==a&&(e="");a=new g(k(this.get("prefixCls")+"contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),e));a.appendTo(d);this.__set("contentEl",a);if(e)"string"!==typeof e&&a.append(e);else{e=0;for(d=l.length;e<d;e++)a.append(l[e])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return e},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(f){function g(){}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(a){a&&0<a.length&&this.__drag&&this.__drag.set("handlers",a)},__bindUI:function(){var a=f.require("dd/draggable"),e=this.get("el");this.get("draggable")&&a&&(this.__drag=new a({node:e}))},_uiSetDraggable:function(a){var e=this.__drag;e&&(a?(e.detach("drag"),e.on("drag",this._dragExtAction,this)):e.detach("drag"))},_dragExtAction:function(a){this.set("xy",[a.left,
a.top])},__destructor:function(){var a=this.__drag;a&&a.destroy()}};return g});KISSY.add("uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return f});
KISSY.add("uibase/loadingrender",function(f,g){function a(){}a.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return a},{requires:["node"]});
KISSY.add("uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1}};f.prototype={_uiSetMask:function(f){f?(this.on("show",this.get("view")._maskExtShow,this.get("view")),this.on("hide",this.get("view")._maskExtHide,this.get("view"))):(this.detach("show",this.get("view")._maskExtShow,this.get("view")),this.detach("hide",this.get("view")._maskExtHide,this.get("view")))}};return f},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(f,g,a){function e(){return l?"expression(KISSY.DOM.docWidth())":"100%"}function k(){return l?"expression(KISSY.DOM.docHeight())":"100%"}function j(){d=h("<div  style='width:"+e()+";height:"+k()+";' class='"+this.get("prefixCls")+"ext-mask'/>").prependTo(m.document.body);d.css({position:l?"absolute":"fixed",left:0,top:0});l&&(b=h("<iframe style='position:absolute;left:0px;top:0px;background:red;width:"+e()+";height:"+k()+";filter:alpha(opacity=0);z-index:-1;'/>").insertBefore(d));
d.unselectable();d.on("mousedown click",function(a){a.halt()})}function i(){}var d,l=6===g.ie,h=a.all,m=f.Env.host;h(m.document);var b,c=0;i.prototype={_maskExtShow:function(){d||j.call(this);var a={"z-index":this.get("zIndex")-1},e={display:""};d.css(a);b&&b.css(a);c++;1==c&&(d.css(e),b&&b.css(e))},_maskExtHide:function(){c--;0>=c&&(c=0);if(!c){var a={display:"none"};d&&d.css(a);b&&b.css(a)}},__destructor:function(){this._maskExtHide()}};return i},{requires:["ua","node"]});
KISSY.add("uibase/position",function(f){function g(){}g.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(a){var e=f.makeArray(a);e.length&&(e[0]&&this.set("x",e[0]),e[1]&&this.set("y",e[1]));return a},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};g.prototype={move:function(a,e){f.isArray(a)&&(e=a[1],a=a[0]);this.set("xy",[a,e])}};return g});
KISSY.add("uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(f){this.get("el").css("z-index",f)},_uiSetX:function(f){this.get("el").offset({left:f})},_uiSetY:function(f){this.get("el").offset({top:f})}};
return f});KISSY.add("uibase/resize",function(f){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var a=this.resizer;a&&a.destroy()},_uiSetResize:function(a){var e=f.require("resizable");e&&(this.resizer&&this.resizer.destroy(),a.node=this.get("el"),a.handlers&&(this.resizer=new e(a)))}};return g});
KISSY.add("uibase/shimrender",function(f,g){function a(){}a.ATTRS={shim:{value:!0}};a.prototype={_uiSetShim:function(a){var f=this.get("el");a&&!this.__shimEl?(this.__shimEl=new g("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>"),f.prepend(this.__shimEl)):!a&&this.__shimEl&&(this.__shimEl.remove(),delete this.__shimEl)}};return a},{requires:["node"]});
KISSY.add("uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return f});
KISSY.add("uibase/stdmodrender",function(f,g){function a(){}function e(a,d){var e=a.get("contentEl"),h=a.get(d+"Style"),k=a.get(d+"Content"),b=f.isString(k),c=a.get(d);if(c)h&&c.css(h);else{c="";if(h)for(var n in h)h.hasOwnProperty(n)&&(c+=n+":"+h[n]+";");h=c;c=new g("<div class='"+a.get("prefixCls")+j+d+"' "+(h?"style='"+h+"'":"")+" >"+(b?k:"")+"</div>");b||c.append(k);c.appendTo(e);a.__set(d,c)}}function k(a,d,e){d=a.get(d);f.isString(e)?d.html(e):d.html("").append(e)}var j="stdmod-";a.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};a.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+j+"header")},body:function(a){return a.one("."+this.get("prefixCls")+j+"body")},footer:function(a){return a.one("."+this.get("prefixCls")+j+"footer")}};a.prototype={__createDom:function(){e(this,"header");e(this,"body");e(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},
_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){k(this,"body",a)},_uiSetHeaderContent:function(a){k(this,"header",a)},_uiSetFooterContent:function(a){k(this,"footer",a)}};return a},{requires:["node"]});
KISSY.add("uibase",function(f,g,a,e,k,j,i,d,l,h,m,b,c,n,q,o,r,s,t,p,u){j.Render=i;b.Render=c;n.Render=q;o.Render=r;p.Render=u;e.Render=k;l.Render=h;f.mix(g,{Align:a,Box:e,Close:j,Constrain:d,ContentBox:l,Drag:m,Loading:b,Mask:n,Position:o,Shim:{Render:s},Resize:t,StdMod:p});return g},{requires:"uibase/base,uibase/align,uibase/box,uibase/boxrender,uibase/close,uibase/closerender,uibase/constrain,uibase/contentbox,uibase/contentboxrender,uibase/drag,uibase/loading,uibase/loadingrender,uibase/mask,uibase/maskrender,uibase/position,uibase/positionrender,uibase/shimrender,uibase/resize,uibase/stdmod,uibase/stdmodrender".split(",")});
