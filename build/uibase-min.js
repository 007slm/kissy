/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 15 20:45
*/
KISSY.add("uibase/align",function(e,f,a,d){function g(b){var c=b.ownerDocument.body,d=a.css(b,"position");if(!("fixed"==d||"absolute"==d))return"html"==b.nodeName.toLowerCase()?null:b.parentNode;for(b=b.parentNode;b&&b!=c;b=b.parentNode)if(d=a.css(b,"position"),"static"!=d)return b;return null}function j(b){var c,d,h={left:0,right:Infinity,top:0,bottom:Infinity},e;d=b.ownerDocument;c=d.body;for(d=d.documentElement;b=g(b);)if((!f.ie||0!=b.clientWidth)&&b!=c&&b!=d&&"visible"!=a.css(b,"overflow"))e=
a.offset(b),e.left+=b.clientLeft,e.top+=b.clientTop,h.top=Math.max(h.top,e.top),h.right=Math.min(h.right,e.left+b.clientWidth),h.bottom=Math.min(h.bottom,e.top+b.clientHeight),h.left=Math.max(h.left,e.left);b=a.scrollLeft();e=a.scrollTop();h.left=Math.max(h.left,b);h.top=Math.max(h.top,e);c=a.viewportWidth();d=a.viewportHeight();h.right=Math.min(h.right,b+c);h.bottom=Math.min(h.bottom,e+d);return 0<=h.top&&0<=h.left&&h.bottom>h.top&&h.right>h.left?h:null}function c(b,c,d,e){var a,k;a=b.left;k=b.top;
c=n(c,d[0]);b=n(b,d[1]);b=[b.left-c.left,b.top-c.top];return{left:a-b[0]+ +e[0],top:k-b[1]+ +e[1]}}function k(b,c,d){var a=[];e.each(b,function(b){a.push(b.replace(c,function(b){return d[b]}))});return a}function i(){}function o(b){var c,d;e.isWindow(b[0])?(c={left:a.scrollLeft(),top:a.scrollTop()},d=a.viewportWidth(),b=a.viewportHeight()):(c=b.offset(),d=b.outerWidth(),b=b.outerHeight());c.width=d;c.height=b;return c}function n(b,c){var d=c.charAt(0),e=c.charAt(1),a=b.width,k=b.height,j,l;j=b.left;
l=b.top;"c"===d?l+=k/2:"b"===d&&(l+=k);"c"===e?j+=a/2:"r"===e&&(j+=a);return{left:j,top:l}}var l=e.Env.host;i.__getOffsetParent=g;i.__getVisibleRectForElement=j;i.ATTRS={align:{}};i.prototype={_uiSetAlign:function(b){b&&this.align(b.node,b.points,b.offset,b.overflow)},align:function(b,a,n,h){var b=d.one(b||l),n=n&&[].concat(n)||[0,0],h=h||{},f=this.get("el"),i=0,m=j(f[0]),g=o(f),t=o(b),b=c(g,t,a,n),p=e.merge(g,b);if(h.adjustX||h.adjustY){if(b.left<m.left||b.left+g.width>m.right)i=1,a=k(a,/[lr]/ig,
{l:"r",r:"l"}),n[0]=-n[0];if(b.top<m.top||b.top+g.height>m.bottom)i=1,a=k(a,/[tb]/ig,{t:"b",b:"t"}),n[1]=-n[1];i&&(b=c(g,t,a,n),e.mix(p,b));a={};a.adjustX=h.adjustX&&(b.left<m.left||b.left+g.width>m.right);a.adjustY=h.adjustY&&(b.top<m.top||b.top+g.height>m.bottom);if(a.adjustX||a.adjustY)h=e.clone(b),i={width:g.width,height:g.height},a.adjustX&&h.left<m.left&&(h.left=m.left),a.resizeWidth&&h.left>=m.left&&h.left+i.width>m.right&&(i.width-=h.left+i.width-m.right),a.adjustX&&h.left+i.width>m.right&&
(h.left=Math.max(m.right-i.width,m.left)),a.adjustY&&h.top<m.top&&(h.top=m.top),a.resizeHeight&&h.top>=m.top&&h.top+i.height>m.bottom&&(i.height-=h.top+i.height-m.bottom),a.adjustY&&h.top+i.height>m.bottom&&(h.top=Math.max(m.bottom-i.height,m.top)),p=e.mix(h,i)}p.left!=g.left&&this.set("x",p.left);p.top!=g.top&&this.set("y",p.top);p.width!=g.width&&f.width(f.width()+p.width-g.width);p.height!=g.height&&f.height(f.height()+p.height-g.height)},center:function(b){this.set("align",{node:b,points:["cc",
"cc"],offset:[0,0]})}};return i},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(e,f,a,d){function g(d){f.apply(this,arguments);for(var k=d,l=this.constructor;l;){if(k&&k[c]&&l.HTML_PARSER&&(k[c]=a.one(k[c]))){var b=k[c],i=l.HTML_PARSER,g=void 0,h=void 0;for(g in i)i.hasOwnProperty(g)&&(h=i[g],e.isFunction(h)?this.__set(g,h.call(this,b)):e.isString(h)?this.__set(g,b.one(h)):e.isArray(h)&&h[0]&&this.__set(g,b.all(h[0])))}l=l.superclass&&l.superclass.constructor}j(this,"initializer","constructor");d&&d.autoRender&&this.render()}function j(c,d,a){for(var b=
c.constructor,e=[],k,i,j,g;b;){g=[];if(j=b.__ks_exts)for(var f=0;f<j.length;f++)if(k=j[f])"constructor"!=a&&(k=k.prototype.hasOwnProperty(a)?k.prototype[a]:null),k&&g.push(k);b.prototype.hasOwnProperty(d)&&(i=b.prototype[d])&&g.push(i);g.length&&e.push.apply(e,g.reverse());b=b.superclass&&b.superclass.constructor}for(f=e.length-1;0<=f;f--)e[f]&&e[f].call(c)}var c="srcNode",k=e.ucfirst,i=e.noop;g.HTML_PARSER={};g.ATTRS={rendered:{value:!1},created:{value:!1}};e.extend(g,f,{create:function(){this.get("created")||
(this._createDom(),this.fire("createDom"),j(this,"createDom","__createDom"),this.fire("afterCreateDom"),this.__set("created",!0))},render:function(){this.get("rendered")||(this.create(),this._renderUI(),this.fire("renderUI"),j(this,"renderUI","__renderUI"),this.fire("afterRenderUI"),this._bindUI(),this.fire("bindUI"),j(this,"bindUI","__bindUI"),this.fire("afterBindUI"),this._syncUI(),this.fire("syncUI"),j(this,"syncUI","__syncUI"),this.fire("afterSyncUI"),this.__set("rendered",!0));return this},createDom:i,
_createDom:i,_renderUI:i,renderUI:i,_bindUI:function(){var c=this,d=c.__attrs,a,b;for(a in d)d.hasOwnProperty(a)&&(b="_uiSet"+k(a),c[b]&&function(b,a){c.on("after"+k(b)+"Change",function(b){c[a](b.newVal,b)})}(a,b))},bindUI:i,_syncUI:function(){var c,a,e=this.__attrs,b;for(b in e)e.hasOwnProperty(b)&&(a=this["_uiSet"+k(b)])&&!1!==e[b].sync&&(c=this.get(b))!==d&&a.call(this,c)},syncUI:i,destroy:function(){for(var c=this.constructor,a,d,b;c;){c.prototype.hasOwnProperty("destructor")&&c.prototype.destructor.apply(this);
if(a=c.__ks_exts)for(b=a.length-1;0<=b;b--)(d=a[b]&&a[b].prototype.__destructor)&&d.apply(this);c=c.superclass&&c.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(c,a,k,b){function i(){g.apply(this,arguments)}var j=e.makeArray(arguments);e.isArray(c)&&(b=k,k=a,a=c,c=g);c=c||g;e.isObject(a)&&(b=k,k=a,a=[]);e.isString(j[j.length-1]);e.extend(i,c,k,b);if(a){i.__ks_exts=a;var f={},j=a.concat(i);e.each(j,function(b){b&&e.each(["ATTRS","HTML_PARSER"],function(c){if(b[c]){f[c]=
f[c]||{};e.mix(f[c],b[c],true,d,true)}})});e.each(f,function(b,c){i[c]=b});var s={};e.each(j,function(b){if(b){var b=b.prototype,c;for(c in b)b.hasOwnProperty(c)&&(s[c]=b[c])}});e.each(s,function(b,c){i.prototype[c]=b})}return i}});return g},{requires:["base","node"]});
KISSY.add("uibase/box",function(e){function f(){}f.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};f.HTML_PARSER={el:function(a){this.decorateInternal&&this.decorateInternal(e.one(a));return a}};f.prototype={_uiSetVisible:function(a){this.fire(a?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render())},hide:function(){this.set("visible",!1)}};return f});
KISSY.add("uibase/boxrender",function(e,f){function a(){}function d(c,a,d,e,j,f,b){a=a||{};b=b||"";"string"!==typeof b&&(b="");d&&(a.width="number"==typeof d?d+"px":d);e&&(a.height="number"==typeof e?e+"px":e);var d="",g;for(g in a)a.hasOwnProperty(g)&&(d+=g+":"+a[g]+";");var a="",r;for(r in f)f.hasOwnProperty(r)&&(a+=" "+r+"='"+f[r]+"' ");return"<"+j+(d?" style='"+d+"' ":"")+a+(c?" class='"+c+"' ":"")+">"+b+"</"+j+">"}var g=e.all,j=e.Env.host.document;a.ATTRS={el:{setter:function(c){return g(c)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};a.construct=d;a.HTML_PARSER={html:function(c){return c.html()}};a.prototype={__renderUI:function(){if(this.__boxRenderNew){var c=this.get("render"),a=this.get("el"),d=this.get("elBefore");d?a.insertBefore(d):c?a.appendTo(c):a.appendTo(j.body)}},__createDom:function(){var c=this.get("elCls"),a=this.get("elStyle"),e=this.get("width"),
j=this.get("height"),g=this.get("html"),l=this.get("elAttrs"),b=this.get("el");b?(c&&b.addClass(c),a&&b.css(a),void 0!==e&&b.width(e),void 0!==j&&b.height(j),l&&b.attr(l)):(this.__boxRenderNew=!0,b=new f(d(c,a,e,j,this.get("elTagName"),l,g)),this.__set("el",b))},_uiSetElAttrs:function(c){this.get("el").attr(c)},_uiSetElCls:function(c){this.get("el").addClass(c)},_uiSetElStyle:function(c){this.get("el").css(c)},_uiSetWidth:function(c){this.get("el").width(c)},_uiSetHeight:function(c){this.get("el").height(c)},
_uiSetHtml:function(c){this.get("el").html(c)},_uiSetVisible:function(c){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",c?"visible":"hidden"):a.css("display",c?"":"none")},__destructor:function(){var c=this.get("el");c&&c.remove()}};return a},{requires:["node"]});
KISSY.add("uibase/close",function(){function e(){}e.ATTRS={closable:{value:!0,view:!0},closeAction:{value:"hide"}};var f={hide:"hide",destroy:"destroy"};e.prototype={__bindUI:function(){var a=this,d=a.get("view").get("closeBtn");d&&d.on("click",function(d){a[f[a.get("closeAction")]||"hide"]();d.preventDefault()})}};return e});
KISSY.add("uibase/closerender",function(e,f){function a(){}a.ATTRS={closable:{},closeBtn:{}};a.HTML_PARSER={closeBtn:function(a){return a.one("."+this.get("prefixCls")+"ext-close")}};a.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),e=this.get("closable"),j=this.get("el");if(a)a[e?"show":"hide"]();else a=(new f("<a tabindex='0' "+(e?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='"+this.get("prefixCls")+
"ext-close'><span class='"+this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(j),this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return a},{requires:["node"]});
KISSY.add("uibase/constrain",function(e,f,a){function d(){}function g(d){var c=null;if(!d)return c;var g=this.get("el");!0!==d?(d=a.one(d),c=d.offset(),e.mix(c,{maxLeft:c.left+d.outerWidth()-g.outerWidth(),maxTop:c.top+d.outerHeight()-g.outerHeight()})):(c={left:f.scrollLeft(),top:f.scrollTop()},e.mix(c,{maxLeft:c.left+f.viewportWidth()-g.outerWidth(),maxTop:c.top+f.viewportHeight()-g.outerHeight()}));return c}d.ATTRS={constrain:{value:!1}};d.prototype={__renderUI:function(){var a=this,c=a.getAttrs(),
d=c.x,c=c.y,e=d.setter,f=c.setter;d.setter=function(c){var d=e&&e.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=g.call(a,a.get("constrain"));return Math.min(Math.max(d,c.left),c.maxLeft)};c.setter=function(c){var d=f&&f.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=g.call(a,a.get("constrain"));return Math.min(Math.max(d,c.top),c.maxTop)};a.addAttr("x",d);a.addAttr("y",c)}};return d},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function e(){}e.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return e});
KISSY.add("uibase/contentboxrender",function(e,f,a){function d(){}d.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};d.HTML_PARSER={content:function(a){return a[0].innerHTML}};var g=a.construct;d.prototype={__renderUI:function(){},__createDom:function(){var a,c=this.get("content"),d=this.get("el");a="";var i=e.makeArray(d[0].childNodes);i.length&&(a=d[0].innerHTML);c==a&&(c="");a=new f(g("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),c));a.appendTo(d);this.__set("contentEl",a);if(c)"string"!==typeof c&&a.append(c);else{c=0;for(d=i.length;c<d;c++)a.append(i[c])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return d},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(e){function f(){}function a(a){this.set("xy",[a.left,a.top])}f.ATTRS={handlers:{value:[]},draggable:{value:!0}};f.prototype={_uiSetHandlers:function(a){var e;a&&0<a.length&&(e=this.__drag)&&e.set("handlers",a)},__bindUI:function(){var d=e.require("dd/draggable"),f=this.get("el");this.get("draggable")&&d&&(d=this.__drag=new d({node:f}),d.on("drag",a,this))},_uiSetDraggable:function(a){var e=this.__drag;e&&e.set("disabled",!a)},__destructor:function(){var a=this.__drag;
a&&a.destroy()}};return f});KISSY.add("uibase/loading",function(){function e(){}e.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return e});
KISSY.add("uibase/loadingrender",function(e,f){function a(){}a.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new f("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return a},{requires:["node"]});
KISSY.add("uibase/mask",function(){function e(){}e.ATTRS={mask:{value:!1}};e.prototype={_uiSetMask:function(e){var a=this.get("view"),d=a._maskExtShow,g=a._maskExtHide;e?(this.on("show",d,a),this.on("hide",g,a)):(this.detach("show",d,a),this.detach("hide",g,a))}};return e},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(e,f,a){function d(){return i?"expression(KISSY.DOM.docWidth())":"100%"}function g(){return i?"expression(KISSY.DOM.docHeight())":"100%"}function j(){k=o("<div  style='width:"+d()+";height:"+g()+";' class='"+this.get("prefixCls")+"ext-mask'/>").prependTo(n.document.body);k.css({position:i?"absolute":"fixed",left:0,top:0});i&&(l=o("<iframe style='position:absolute;left:0px;top:0px;background:red;width:"+d()+";height:"+g()+";filter:alpha(opacity=0);z-index:-1;'/>").insertBefore(k));
k.unselectable();k.on("mousedown click",function(a){a.halt()})}function c(){}var k,i=6===f.ie,o=a.all,n=e.Env.host;o(n.document);var l,b=0;c.prototype={_maskExtShow:function(){k||j.call(this);var a={"z-index":this.get("zIndex")-1},c={display:""};k.css(a);l&&l.css(a);b++;1==b&&(k.css(c),l&&l.css(c))},_maskExtHide:function(){b--;0>=b&&(b=0);if(!b){var a={display:"none"};k&&k.css(a);l&&l.css(a)}},__destructor:function(){this._maskExtHide()}};return c},{requires:["ua","node"]});
KISSY.add("uibase/position",function(e){function f(){}f.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(a){var d=e.makeArray(a);d.length&&(d[0]&&this.set("x",d[0]),d[1]&&this.set("y",d[1]));return a},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};f.prototype={move:function(a,d){e.isArray(a)&&(d=a[1],a=a[0]);this.set("xy",[a,d])}};return f});
KISSY.add("uibase/positionrender",function(){function e(){}e.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};e.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){this.get("el").offset({left:e})},_uiSetY:function(e){this.get("el").offset({top:e})}};
return e});KISSY.add("uibase/resize",function(e){function f(){}f.ATTRS={resize:{value:{}}};f.prototype={__destructor:function(){var a=this.resizer;a&&a.destroy()},_uiSetResize:function(a){var d=e.require("resizable");this.resizer&&this.resizer.destroy();d&&a&&(a.node=this.get("el"),this.resizer=new d(a))}};return f});
KISSY.add("uibase/shimrender",function(){function e(){}e.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return e});
KISSY.add("uibase/stdmod",function(){function e(){}e.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return e});
KISSY.add("uibase/stdmodrender",function(e,f){function a(){}function d(a,d){var g=a.get("contentEl"),o=a.get(d+"Style"),n=a.get(d+"Content"),l=e.isString(n),b=a.get(d);if(b)o&&b.css(o);else{b="";if(o)for(var q in o)o.hasOwnProperty(q)&&(b+=q+":"+o[q]+";");o=b;b=new f("<div class='"+a.get("prefixCls")+j+d+"' "+(o?"style='"+o+"'":"")+" >"+(l?n:"")+"</div>");l||b.append(n);b.appendTo(g);a.__set(d,b)}}function g(a,d,f){d=a.get(d);e.isString(f)?d.html(f):d.html("").append(f)}var j="stdmod-";a.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};a.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+j+"header")},body:function(a){return a.one("."+this.get("prefixCls")+j+"body")},footer:function(a){return a.one("."+this.get("prefixCls")+j+"footer")}};a.prototype={__createDom:function(){d(this,"header");d(this,"body");d(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},
_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){g(this,"body",a)},_uiSetHeaderContent:function(a){g(this,"header",a)},_uiSetFooterContent:function(a){g(this,"footer",a)}};return a},{requires:["node"]});
KISSY.add("uibase",function(e,f,a,d,g,j,c,k,i,o,n,l,b,q,r,h,s,v,m,u,t){j.Render=c;l.Render=b;q.Render=r;h.Render=s;u.Render=t;d.Render=g;i.Render=o;e.mix(f,{Align:a,Box:d,Close:j,Constrain:k,ContentBox:i,Drag:n,Loading:l,Mask:q,Position:h,Shim:{Render:v},Resize:m,StdMod:u});return f},{requires:"uibase/base,uibase/align,uibase/box,uibase/boxrender,uibase/close,uibase/closerender,uibase/constrain,uibase/contentbox,uibase/contentboxrender,uibase/drag,uibase/loading,uibase/loadingrender,uibase/mask,uibase/maskrender,uibase/position,uibase/positionrender,uibase/shimrender,uibase/resize,uibase/stdmod,uibase/stdmodrender".split(",")});
