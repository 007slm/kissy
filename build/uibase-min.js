/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 24 18:34
*/
KISSY.add("uibase/align",function(a,f,d,g){function h(c){var b=c.ownerDocument.body,e=d.css(c,"position");if(!("fixed"==e||"absolute"==e))return"html"==c.nodeName.toLowerCase()?null:c.parentNode;for(c=c.parentNode;c&&c!=b;c=c.parentNode)if(e=d.css(c,"position"),"static"!=e)return c;return null}function e(c){var b,e,i={left:0,right:Infinity,top:0,bottom:Infinity},a;e=c.ownerDocument;b=e.body;for(e=e.documentElement;c=h(c);)if((!f.ie||0!=c.clientWidth)&&c!=b&&c!=e&&"visible"!=d.css(c,"overflow"))a=
d.offset(c),a.left+=c.clientLeft,a.top+=c.clientTop,i.top=Math.max(i.top,a.top),i.right=Math.min(i.right,a.left+c.clientWidth),i.bottom=Math.min(i.bottom,a.top+c.clientHeight),i.left=Math.max(i.left,a.left);c=d.scrollLeft();a=d.scrollTop();i.left=Math.max(i.left,c);i.top=Math.max(i.top,a);b=d.viewportWidth();e=d.viewportHeight();i.right=Math.min(i.right,c+b);i.bottom=Math.min(i.bottom,a+e);return 0<=i.top&&0<=i.left&&i.bottom>i.top&&i.right>i.left?i:null}function b(c,b,e,a){var g,p;g=c.left;p=c.top;
b=m(b,e[0]);c=m(c,e[1]);c=[c.left-b.left,c.top-b.top];return{left:g-c[0]+ +a[0],top:p-c[1]+ +a[1]}}function k(c,b,e){var g=[];a.each(c,function(c){g.push(c.replace(b,function(c){return e[c]}))});return g}function j(){}function p(c){var b,e;a.isWindow(c[0])?(b={left:d.scrollLeft(),top:d.scrollTop()},e=d.viewportWidth(),c=d.viewportHeight()):(b=c.offset(),e=c.outerWidth(),c=c.outerHeight());b.width=e;b.height=c;return b}function m(c,b){var e=b.charAt(0),a=b.charAt(1),g=c.width,p=c.height,d,j;d=c.left;
j=c.top;"c"===e?j+=p/2:"b"===e&&(j+=p);"c"===a?d+=g/2:"r"===a&&(d+=g);return{left:d,top:j}}var o=a.Env.host;j.__getOffsetParent=h;j.__getVisibleRectForElement=e;j.ATTRS={align:{}};j.prototype={_uiSetAlign:function(c){c&&this.align(c.node,c.points,c.offset,c.overflow)},align:function(c,d,j,i){var c=g.one(c||o),j=j&&[].concat(j)||[0,0],i=i||{},m=this.get("el"),f=0,l=e(m[0]),h=p(m),t=p(c),c=b(h,t,d,j),q=a.merge(h,c);if(i.adjustX||i.adjustY){if(c.left<l.left||c.left+h.width>l.right)f=1,d=k(d,/[lr]/ig,
{l:"r",r:"l"}),j[0]=-j[0];if(c.top<l.top||c.top+h.height>l.bottom)f=1,d=k(d,/[tb]/ig,{t:"b",b:"t"}),j[1]=-j[1];f&&(c=b(h,t,d,j),a.mix(q,c));d={};d.adjustX=i.adjustX&&(c.left<l.left||c.left+h.width>l.right);d.adjustY=i.adjustY&&(c.top<l.top||c.top+h.height>l.bottom);if(d.adjustX||d.adjustY)i=a.clone(c),f={width:h.width,height:h.height},d.adjustX&&i.left<l.left&&(i.left=l.left),d.resizeWidth&&i.left>=l.left&&i.left+f.width>l.right&&(f.width-=i.left+f.width-l.right),d.adjustX&&i.left+f.width>l.right&&
(i.left=Math.max(l.right-f.width,l.left)),d.adjustY&&i.top<l.top&&(i.top=l.top),d.resizeHeight&&i.top>=l.top&&i.top+f.height>l.bottom&&(f.height-=i.top+f.height-l.bottom),d.adjustY&&i.top+f.height>l.bottom&&(i.top=Math.max(l.bottom-f.height,l.top)),q=a.mix(i,f)}q.left!=h.left&&this.set("x",q.left);q.top!=h.top&&this.set("y",q.top);q.width!=h.width&&m.width(m.width()+q.width-h.width);q.height!=h.height&&m.height(m.height()+q.height-h.height)},center:function(c){this.set("align",{node:c,points:["cc",
"cc"],offset:[0,0]});return this}};return j},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(a,f,d,g){function h(g){f.apply(this,arguments);for(var j=g,h=this.constructor;h;){if(j&&j[b]&&h.HTML_PARSER&&(j[b]=d.one(j[b]))){var c=j[b],k=h.HTML_PARSER,n=void 0,i=void 0;for(n in k)k.hasOwnProperty(n)&&(i=k[n],a.isFunction(i)?this.__set(n,i.call(this,c)):a.isString(i)?this.__set(n,c.one(i)):a.isArray(i)&&i[0]&&this.__set(n,c.all(i[0])))}h=h.superclass&&h.superclass.constructor}e(this,"initializer","constructor");g&&g.autoRender&&this.render()}function e(b,e,d){for(var c=
b.constructor,a=[],j,g,f,h;c;){h=[];if(f=c.__ks_exts)for(var k=0;k<f.length;k++)if(j=f[k])"constructor"!=d&&(j=j.prototype.hasOwnProperty(d)?j.prototype[d]:null),j&&h.push(j);c.prototype.hasOwnProperty(e)&&(g=c.prototype[e])&&h.push(g);h.length&&a.push.apply(a,h.reverse());c=c.superclass&&c.superclass.constructor}for(k=a.length-1;0<=k;k--)a[k]&&a[k].call(b)}var b="srcNode",k=a.ucfirst,j=a.noop;h.HTML_PARSER={};h.ATTRS={rendered:{value:!1},created:{value:!1}};a.extend(h,f,{create:function(){this.get("created")||
(this._createDom(),this.fire("createDom"),e(this,"createDom","__createDom"),this.fire("afterCreateDom"),this.__set("created",!0))},render:function(){this.get("rendered")||(this.create(),this._renderUI(),this.fire("renderUI"),e(this,"renderUI","__renderUI"),this.fire("afterRenderUI"),this._bindUI(),this.fire("bindUI"),e(this,"bindUI","__bindUI"),this.fire("afterBindUI"),this._syncUI(),this.fire("syncUI"),e(this,"syncUI","__syncUI"),this.fire("afterSyncUI"),this.__set("rendered",!0));return this},createDom:j,
_createDom:j,_renderUI:j,renderUI:j,_bindUI:function(){var b=this,e=b.__attrs,a,c;for(a in e)e.hasOwnProperty(a)&&(c="_uiSet"+k(a),b[c]&&function(c,e){b.on("after"+k(c)+"Change",function(c){b[e](c.newVal,c)})}(a,c))},bindUI:j,_syncUI:function(){var b,e,a=this.__attrs,c;for(c in a)a.hasOwnProperty(c)&&(e=this["_uiSet"+k(c)])&&!1!==a[c].sync&&(b=this.get(c))!==g&&e.call(this,b)},syncUI:j,destroy:function(){for(var b=this.constructor,e,a,c;b;){b.prototype.hasOwnProperty("destructor")&&b.prototype.destructor.apply(this);
if(e=b.__ks_exts)for(c=e.length-1;0<=c;c--)(a=e[c]&&e[c].prototype.__destructor)&&a.apply(this);b=b.superclass&&b.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(b,e,d,c){function j(){h.apply(this,arguments)}var f=a.makeArray(arguments);a.isArray(b)&&(c=d,d=e,e=b,b=h);b=b||h;a.isObject(e)&&(c=d,d=e,e=[]);a.isString(f[f.length-1]);a.extend(j,b,d,c);if(e){j.__ks_exts=e;var k={},f=e.concat(j);a.each(f,function(b){b&&a.each(["ATTRS","HTML_PARSER"],function(c){if(b[c]){k[c]=
k[c]||{};a.mix(k[c],b[c],true,g,true)}})});a.each(k,function(b,c){j[c]=b});var s={};a.each(f,function(b){if(b){var b=b.prototype,c;for(c in b)b.hasOwnProperty(c)&&(s[c]=b[c])}});a.each(s,function(b,c){j.prototype[c]=b})}return j}});return h},{requires:["base","node"]});
KISSY.add("uibase/box",function(a){function f(){}f.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};f.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(a.one(d));return d}};f.prototype={_uiSetVisible:function(a){this.fire(a?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render());return this},hide:function(){this.set("visible",!1);return this}};return f});
KISSY.add("uibase/boxrender",function(a,f){function d(){}function g(b,e,a,d,g,f,c){e=e||{};c=c||"";"string"!==typeof c&&(c="");a&&(e.width="number"==typeof a?a+"px":a);d&&(e.height="number"==typeof d?d+"px":d);var a="",h;for(h in e)e.hasOwnProperty(h)&&(a+=h+":"+e[h]+";");var e="",n;for(n in f)f.hasOwnProperty(n)&&(e+=" "+n+"='"+f[n]+"' ");return"<"+g+(a?" style='"+a+"' ":"")+e+(b?" class='"+b+"' ":"")+">"+c+"</"+g+">"}var h=a.all,e=a.Env.host.document;d.ATTRS={el:{setter:function(b){return h(b)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};d.construct=g;d.HTML_PARSER={html:function(b){return b.html()}};d.prototype={__renderUI:function(){if(this.__boxRenderNew){var b=this.get("render"),a=this.get("el"),d=this.get("elBefore");d?a.insertBefore(d):b?a.appendTo(b):a.appendTo(e.body)}},__createDom:function(){var b=this.get("elCls"),e=this.get("elStyle"),a=this.get("width"),
d=this.get("height"),h=this.get("html"),o=this.get("elAttrs"),c=this.get("el");c?(b&&c.addClass(b),e&&c.css(e),void 0!==a&&c.width(a),void 0!==d&&c.height(d),o&&c.attr(o)):(this.__boxRenderNew=!0,c=new f(g(b,e,a,d,this.get("elTagName"),o,h)),this.__set("el",c))},_uiSetElAttrs:function(b){this.get("el").attr(b)},_uiSetElCls:function(b){this.get("el").addClass(b)},_uiSetElStyle:function(b){this.get("el").css(b)},_uiSetWidth:function(b){this.get("el").width(b)},_uiSetHeight:function(b){this.get("el").height(b)},
_uiSetHtml:function(b){this.get("el").html(b)},_uiSetVisible:function(b){var e=this.get("el");"visibility"==this.get("visibleMode")?e.css("visibility",b?"visible":"hidden"):e.css("display",b?"":"none")},__destructor:function(){var b=this.get("el");b&&b.remove()}};return d},{requires:["node"]});
KISSY.add("uibase/close",function(){function a(){}a.ATTRS={closable:{value:!0,view:!0},closeAction:{value:"hide"}};var f={hide:"hide",destroy:"destroy"};a.prototype={__bindUI:function(){var a=this,g=a.get("view").get("closeBtn");g&&g.on("click",function(g){a[f[a.get("closeAction")]||"hide"]();g.preventDefault()})}};return a});
KISSY.add("uibase/closerender",function(a,f){function d(){}d.ATTRS={closable:{},closeBtn:{}};d.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),d=this.get("closable"),e=this.get("el");if(a)a[d?"show":"hide"]();else a=(new f("<a tabindex='0' "+(d?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")).appendTo(e),
this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return d},{requires:["node"]});
KISSY.add("uibase/constrain",function(a,f,d){function g(){}function h(e){var b=null;if(!e)return b;var g=this.get("el");!0!==e?(e=d.one(e),b=e.offset(),a.mix(b,{maxLeft:b.left+e.outerWidth()-g.outerWidth(),maxTop:b.top+e.outerHeight()-g.outerHeight()})):(b={left:f.scrollLeft(),top:f.scrollTop()},a.mix(b,{maxLeft:b.left+f.viewportWidth()-g.outerWidth(),maxTop:b.top+f.viewportHeight()-g.outerHeight()}));return b}g.ATTRS={constrain:{value:!1}};g.prototype={__renderUI:function(){var a=this,b=a.getAttrs(),
d=b.x,b=b.y,g=d.setter,f=b.setter;d.setter=function(b){var d=g&&g.call(a,b);void 0===d&&(d=b);if(!a.get("constrain"))return d;b=h.call(a,a.get("constrain"));return Math.min(Math.max(d,b.left),b.maxLeft)};b.setter=function(b){var d=f&&f.call(a,b);void 0===d&&(d=b);if(!a.get("constrain"))return d;b=h.call(a,a.get("constrain"));return Math.min(Math.max(d,b.top),b.maxTop)};a.addAttr("x",d);a.addAttr("y",b)}};return g},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function a(){}a.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return a});
KISSY.add("uibase/contentboxrender",function(a,f,d){function g(){}g.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};g.HTML_PARSER={content:function(a){return a[0].innerHTML}};var h=d.construct;g.prototype={__renderUI:function(){},__createDom:function(){var e,b=this.get("content"),d=this.get("el");e="";var g=a.makeArray(d[0].childNodes);g.length&&(e=d[0].innerHTML);b==e&&(b="");e=new f(h("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),b));e.appendTo(d);this.__set("contentEl",e);if(b)"string"!==typeof b&&e.append(b);else{b=0;for(d=g.length;b<d;b++)e.append(g[b])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return g},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(a){function f(){}function d(a){this.set("xy",[a.left,a.top])}f.ATTRS={handlers:{value:[]},draggable:{value:!0}};f.prototype={_uiSetHandlers:function(a){var d;a&&0<a.length&&(d=this.__drag)&&d.set("handlers",a)},__bindUI:function(){var f=a.require("dd")||{},h=f.Draggable,e=this,b=e.get("draggable"),k=e.get("el");if(b&&h){!0===b&&(b={});h=e.__drag=new h({node:k,move:b.proxy});if(b.proxy){b.proxy.moveOnEnd=!1;h.on("dragend",function(){var b=j.get("proxyNode").offset();
k.css("visibility","");e.set("x",b.left);e.set("y",b.top)});var j=e.__proxy=new f.Proxy(b.proxy);j.attachDrag(h)}else h.on("drag",d,e);b.scroll&&(e.__scroll=new f.Scroll(b.scroll)).attachDrag(h)}},_uiSetDraggable:function(a){var d=this.__drag;d&&d.set("disabled",!a)},__destructor:function(){var a=this.__proxy,d=this.__scroll,e=this.__drag;e&&e.destroy();d&&d.destroy();a&&a.destroy()}};return f});
KISSY.add("uibase/loading",function(){function a(){}a.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return a});
KISSY.add("uibase/loadingrender",function(a,f){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new f("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return d},{requires:["node"]});
KISSY.add("uibase/mask",function(){function a(){}a.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};a.prototype={__bindUI:function(){var a=this.get("view"),d=a._maskExtShow,g=a._maskExtHide;this.get("mask")&&(this.on("show",d,a),this.on("hide",g,a))}};return a},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(a,f,d){function g(a){a=k("<div  style='width:"+(b?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(b?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(b?"absolute":"fixed")+";' class='"+a+"'>"+(b?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");a.unselectable();
a.on("mousedown click",function(a){a.halt()});return a}function h(){}var e={},b=6===f.ie,k=d.all;h.prototype={_maskExtShow:function(){var a=this.get("prefixCls")+"ext-mask",b=e[a],d=this.get("maskShared"),f=this.get("maskNode");f||(d?b?f=b.node:(f=g(a),b=e[a]={num:0,node:f}):f=g(a),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);d&&b.num++;(!d||1==b.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=e[a],b=this.get("maskShared"),d=this.get("maskNode");
b?(a.num--,0==a.num&&d.hide()):d.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");a?this._maskExtHide():b.remove()}};return h},{requires:["ua","node"]});
KISSY.add("uibase/position",function(a){function f(){}f.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(d){var f=a.makeArray(d);f.length&&(f[0]&&this.set("x",f[0]),f[1]&&this.set("y",f[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};f.prototype={move:function(d,f){a.isArray(d)&&(f=d[1],d=d[0]);this.set("xy",[d,f])}};return f});
KISSY.add("uibase/positionrender",function(){function a(){}a.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};a.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(a){this.get("el").css("z-index",a)},_uiSetX:function(a){this.get("el").offset({left:a})},_uiSetY:function(a){this.get("el").offset({top:a})}};
return a});KISSY.add("uibase/resize",function(a){function f(){}f.ATTRS={resize:{value:{}}};f.prototype={__destructor:function(){var a=this.resizer;a&&a.destroy()},_uiSetResize:function(d){var f=a.require("resizable");this.resizer&&this.resizer.destroy();f&&d&&(d.node=this.get("el"),this.resizer=new f(d))}};return f});
KISSY.add("uibase/shimrender",function(){function a(){}a.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return a});
KISSY.add("uibase/stdmod",function(){function a(){}a.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return a});
KISSY.add("uibase/stdmodrender",function(a,f){function d(){}function g(b,d){var h=b.get("contentEl"),g=b.get(d+"Style"),m=b.get(d+"Content"),o=a.isString(m),c=b.get(d);if(c)g&&c.css(g);else{c="";if(g)for(var r in g)g.hasOwnProperty(r)&&(c+=r+":"+g[r]+";");g=c;c=new f("<div class='"+e+d+"' "+(g?"style='"+g+"'":"")+" >"+(o?m:"")+"</div>");o||c.append(m);c.appendTo(h);b.__set(d,c)}}function h(b,d,e){d=b.get(d);a.isString(e)?d.html(e):d.html("").append(e)}var e="ks-stdmod-";d.ATTRS={header:{},body:{},
footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};d.HTML_PARSER={header:function(a){return a.one("."+e+"header")},body:function(a){return a.one("."+e+"body")},footer:function(a){return a.one("."+e+"footer")}};d.prototype={__createDom:function(){g(this,"header");g(this,"body");g(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},
_uiSetBodyContent:function(a){h(this,"body",a)},_uiSetHeaderContent:function(a){h(this,"header",a)},_uiSetFooterContent:function(a){h(this,"footer",a)}};return d},{requires:["node"]});KISSY.add("uibase",function(a,f,d,g,h,e,b,k,j,p,m,o,c,r,n,i,s,v,l,u,t){e.Render=b;o.Render=c;r.Render=n;i.Render=s;u.Render=t;g.Render=h;j.Render=p;a.mix(f,{Align:d,Box:g,Close:e,Constrain:k,ContentBox:j,Drag:m,Loading:o,Mask:r,Position:i,Shim:{Render:v},Resize:l,StdMod:u});return f},{requires:"uibase/base,uibase/align,uibase/box,uibase/boxrender,uibase/close,uibase/closerender,uibase/constrain,uibase/contentbox,uibase/contentboxrender,uibase/drag,uibase/loading,uibase/loadingrender,uibase/mask,uibase/maskrender,uibase/position,uibase/positionrender,uibase/shimrender,uibase/resize,uibase/stdmod,uibase/stdmodrender".split(",")});
