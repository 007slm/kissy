/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Apr 23 11:53
*/
KISSY.add("uibase/align",function(e,j,b,c){function m(i){for(var f=i.ownerDocument.body,d=b.css(i,"position"),a="fixed"==d||"absolute"==d,i=i.parentNode;i&&i!=f;i=i.parentNode)if(d=b.css(i,"position"),a=a&&"static"==d,"visible"!=b.css(i,"overflow")&&(!a||"fixed"==d||"absolute"==d||"relative"==d))return i;return null}function k(i){for(var f in i)if(0===f.indexOf("fail"))return!0;return!1}function a(i){var f=i.offset,d=i.node,a=i.points,h,g=this.get("el"),f=f||[0,0];h=g.offset();d=n(d,a[0]);a=n(g,a[1]);
a=[a.left-d.left,a.top-d.top];h={left:h.left-a[0]+ +f[0],top:h.top-a[1]+ +f[1]};a:{f=h;h=this.get("el");g={};a={width:h.outerWidth(),height:h.outerHeight()};d=e.clone(a);if(!e.isEmptyObject(i.overflow)){for(var g={left:0,right:Infinity,top:0,bottom:Infinity},c=h[0];c=m(c);){var l=c.clientWidth;if(!j.ie||0!==l){var l=c.clientLeft,q=c.clientTop,o=b.offset(c);o.left+=l;o.top+=q;g.top=Math.max(g.top,o.top);g.right=Math.min(g.right,o.left+c.clientWidth);g.bottom=Math.min(g.bottom,o.top+c.clientHeight);
g.left=Math.max(g.left,o.left)}}c=b.scrollLeft();l=b.scrollTop();g.left=Math.max(g.left,c);g.top=Math.max(g.top,l);g.right=Math.min(g.right,c+b.viewportWidth());g.bottom=Math.min(g.bottom,l+b.viewportHeight());g=0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null;i=i.overflow||{};c={};f.left<g.left&&i.adjustX&&(f.left=g.left,c.adjustX=1);f.left<g.left&&f.left+d.width>g.right&&i.resizeWidth&&(d.width-=f.left+d.width-g.right,c.resizeWidth=1);f.left+d.width>g.right&&i.adjustX&&(f.left=Math.max(g.right-
d.width,g.left),c.adjustX=1);i.failX&&(c.failX=f.left<g.left||f.left+d.width>g.right);f.top<g.top&&i.adjustY&&(f.top=g.top,c.adjustY=1);f.top>=g.top&&f.top+d.height>g.bottom&&i.resizeHeight&&(d.height-=f.top+d.height-g.bottom,c.resizeHeight=1);f.top+d.height>g.bottom&&i.adjustY&&(f.top=Math.max(g.bottom-d.height,g.top),c.adjustY=1);i.failY&&(c.failY=f.top<g.top||f.top+d.height>g.bottom);g=c;if(k(g)){i=g;break a}}this.set("x",f.left);this.set("y",f.top);if(d.width!=a.width||d.height!=a.height)h.width(d.width),
h.height(d.height);i=g}return i}function h(a,f,d){var c=[];e.each(a,function(a){c.push(a.replace(f,function(a){return d[a]}))});return c}function l(){}function n(a,f){var d=f.charAt(0),c=f.charAt(1),h,g,k,n;a&&!e.isWindow(a)?(h=a.offset(),g=a.outerWidth(),k=a.outerHeight()):(h={left:b.scrollLeft(),top:b.scrollTop()},g=b.viewportWidth(),k=b.viewportHeight());n=h.left;h=h.top;"c"===d?h+=k/2:"b"===d&&(h+=k);"c"===c?n+=g/2:"r"===c&&(n+=g);return{left:n,top:h}}l.ATTRS={align:{setter:function(a){var f;
if(f=a.node)a.node=c.one(f)}}};l.prototype={_uiSetAlign:function(a){a&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(i,f,d,b){var n={};i&&(i=c.one(i));b=e.clone(b||{});d=d&&[].concat(d)||[0,0];b.failX&&(n.failX=1);b.failY&&(n.failY=1);var g=a.call(this,{node:i,points:f,offset:d,overflow:n});if(k(g)&&(g.failX&&(f=h(f,/[lr]/ig,{l:"r",r:"l"}),d[0]=-d[0]),g.failY))f=h(f,/[tb]/ig,{t:"b",b:"t"}),g=d,g[1]=-g[1],d=g;g=a.call(this,{node:i,points:f,offset:d,overflow:n});k(g)&&(delete b.failX,
delete b.failY,a.call(this,{node:i,points:f,offset:d,overflow:b}))},center:function(a){this.set("align",{node:a,points:["cc","cc"],offset:[0,0]})}};return l},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(e,j,b,c){function m(c){j.apply(this,arguments);for(var i=c,f=this.constructor;f;){if(i&&i[a]&&f.HTML_PARSER&&(i[a]=b.one(i[a]))){var d=i[a],h=f.HTML_PARSER,l=void 0,g=void 0;for(l in h)h.hasOwnProperty(l)&&(g=h[l],e.isFunction(g)?this.__set(l,g.call(this,d)):e.isString(g)?this.__set(l,d.one(g)):e.isArray(g)&&g[0]&&this.__set(l,d.all(g[0])))}f=f.superclass&&f.superclass.constructor}k(this,"initializer","constructor");c&&c.autoRender&&this.render()}function k(a,c,f){for(var d=
a.constructor,h=[],b,g,e,k;d;){k=[];if(e=d.__ks_exts)for(var l=0;l<e.length;l++)if(b=e[l])"constructor"!=f&&(b=b.prototype.hasOwnProperty(f)?b.prototype[f]:null),b&&k.push(b);d.prototype.hasOwnProperty(c)&&(g=d.prototype[c])&&k.push(g);k.length&&h.push.apply(h,k.reverse());d=d.superclass&&d.superclass.constructor}for(l=h.length-1;0<=l;l--)h[l]&&h[l].call(a)}var a="srcNode",h=e.ucfirst,l=e.noop;m.HTML_PARSER={};m.ATTRS={rendered:{value:!1},created:{value:!1}};e.extend(m,j,{create:function(){this.get("created")||
(this._createDom(),this.fire("createDom"),k(this,"createDom","__createDom"),this.fire("afterCreateDom"),this.__set("created",!0))},render:function(){this.get("rendered")||(this.create(),this._renderUI(),this.fire("renderUI"),k(this,"renderUI","__renderUI"),this.fire("afterRenderUI"),this._bindUI(),this.fire("bindUI"),k(this,"bindUI","__bindUI"),this.fire("afterBindUI"),this._syncUI(),this.fire("syncUI"),k(this,"syncUI","__syncUI"),this.fire("afterSyncUI"),this.__set("rendered",!0));return this},_createDom:l,
_renderUI:l,renderUI:l,_bindUI:function(){var a=this,c=a.__attrs,f,d;for(f in c)c.hasOwnProperty(f)&&(d="_uiSet"+h(f),a[d]&&function(d,f){a.on("after"+h(d)+"Change",function(d){a[f](d.newVal,d)})}(f,d))},bindUI:l,_syncUI:function(){var a,b,f=this.__attrs,d;for(d in f)f.hasOwnProperty(d)&&(b=this["_uiSet"+h(d)])&&!1!==f[d].sync&&(a=this.get(d))!==c&&b.call(this,a)},syncUI:l,destroy:function(){for(var a=this.constructor,c,f,d;a;){a.prototype.hasOwnProperty("destructor")&&a.prototype.destructor.apply(this);
if(c=a.__ks_exts)for(d=c.length-1;0<=d;d--)(f=c[d]&&c[d].prototype.__destructor)&&f.apply(this);a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(a,b,f,d){function h(){m.apply(this,arguments)}var k=e.makeArray(arguments);e.isArray(a)&&(d=f,f=b,b=a,a=m);a=a||m;e.isObject(b)&&(d=f,f=b,b=[]);e.isString(k[k.length-1]);e.extend(h,a,f,d);if(b){h.__ks_exts=b;var g={},k=b.concat(h);e.each(k,function(a){a&&e.each(["ATTRS","HTML_PARSER"],function(d){if(a[d]){g[d]=
g[d]||{};e.mix(g[d],a[d],true,c,true)}})});e.each(g,function(a,d){h[d]=a});var l={};e.each(k,function(a){if(a){var a=a.prototype,d;for(d in a)a.hasOwnProperty(d)&&(l[d]=a[d])}});e.each(l,function(a,d){h.prototype[d]=a})}return h}});return m},{requires:["base","node"]});
KISSY.add("uibase/box",function(e){function j(){}j.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};j.HTML_PARSER={el:function(b){this.decorateInternal&&this.decorateInternal(e.one(b));return b}};j.prototype={_uiSetVisible:function(b){this.fire(b?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render())},hide:function(){this.set("visible",!1)}};return j});
KISSY.add("uibase/boxrender",function(e,j){function b(){}function c(a,b,c,k,e,f,d){b=b||{};d=d||"";"string"!==typeof d&&(d="");c&&(b.width="number"==typeof c?c+"px":c);k&&(b.height="number"==typeof k?k+"px":k);var c="",j;for(j in b)b.hasOwnProperty(j)&&(c+=j+":"+b[j]+";");var b="",m;for(m in f)f.hasOwnProperty(m)&&(b+=" "+m+"='"+f[m]+"' ");return"<"+e+(c?" style='"+c+"' ":"")+b+(a?" class='"+a+"' ":"")+">"+d+"</"+e+">"}var m=e.all,k=e.Env.host.document;b.ATTRS={el:{setter:function(a){return m(a)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};b.construct=c;b.HTML_PARSER={html:function(a){return a.html()}};b.prototype={__renderUI:function(){if(this.__boxRenderNew){var a=this.get("render"),b=this.get("el"),c=this.get("elBefore");c?b.insertBefore(c):a?b.appendTo(a):b.appendTo(k.body)}},__createDom:function(){var a=this.get("elCls"),b=this.get("elStyle"),k=this.get("width"),
e=this.get("height"),i=this.get("html"),f=this.get("elAttrs"),d=this.get("el");d?(a&&d.addClass(a),b&&d.css(b),void 0!==k&&d.width(k),void 0!==e&&d.height(e),f&&d.attr(f)):(this.__boxRenderNew=!0,d=new j(c(a,b,k,e,this.get("elTagName"),f,i)),this.__set("el",d))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},
_uiSetHtml:function(a){this.get("el").html(a)},_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return b},{requires:["node"]});
KISSY.add("uibase/close",function(){function e(){}e.ATTRS={closable:{view:!0},closeAction:{value:"hide"}};var j={hide:"hide",destroy:"destroy"};e.prototype={__bindUI:function(){var b=this,c=b.get("view").get("closeBtn");c&&c.on("click",function(c){b[j[b.get("closeAction")]||"hide"]();c.preventDefault()})}};return e});
KISSY.add("uibase/closerender",function(e,j){function b(){}b.ATTRS={closable:{value:!0,sync:!1},closeBtn:{}};b.HTML_PARSER={closeBtn:function(b){return b.one("."+this.get("prefixCls")+"ext-close")}};b.prototype={_uiSetClosable:function(b){this.get("closeBtn")[b?"show":"hide"]()},__createDom:function(){var b=this.get("closeBtn"),e=this.get("closable"),k=this.get("el");if(b)b[e?"show":"hide"]();else b=(new j("<a tabindex='0' "+(e?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='"+
this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(k),this.__set("closeBtn",b)},__destructor:function(){var b=this.get("closeBtn");b&&b.detach()}};return b},{requires:["node"]});
KISSY.add("uibase/constrain",function(e,j,b){function c(){}function m(c){var a;if(!c)return a;var h=this.get("el");!0!==c?(c=b.one(c),a=c.offset(),e.mix(a,{maxLeft:a.left+c.outerWidth()-h.outerWidth(),maxTop:a.top+c.outerHeight()-h.outerHeight()})):(c=e.Env.host.document.documentElement.clientWidth,a={left:j.scrollLeft(),top:j.scrollTop()},e.mix(a,{maxLeft:a.left+c-h.outerWidth(),maxTop:a.top+j.viewportHeight()-h.outerHeight()}));return a}c.ATTRS={constrain:{value:!1}};c.prototype={__renderUI:function(){var b=
this,a=b.getAttrs(),c=a.x,a=a.y,e=c.setter,j=a.setter;c.setter=function(a){var c=e&&e.call(b,a);void 0===c&&(c=a);if(!b.get("constrain"))return c;a=m.call(b,b.get("constrain"));return Math.min(Math.max(c,a.left),a.maxLeft)};a.setter=function(a){var c=j&&j.call(b,a);void 0===c&&(c=a);if(!b.get("constrain"))return c;a=m.call(b,b.get("constrain"));return Math.min(Math.max(c,a.top),a.maxTop)};b.addAttr("x",c);b.addAttr("y",a)}};return c},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function e(){}e.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return e});
KISSY.add("uibase/contentboxrender",function(e,j,b){function c(){}c.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};c.HTML_PARSER={content:function(b){return b[0].innerHTML}};var m=b.construct;c.prototype={__renderUI:function(){},__createDom:function(){var b,a=this.get("content"),c=this.get("el");b="";var l=e.makeArray(c[0].childNodes);l.length&&(b=c[0].innerHTML);a==b&&(a="");b=new j(m(this.get("prefixCls")+"contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),a));b.appendTo(c);this.__set("contentEl",b);if(a)"string"!==typeof a&&b.append(a);else{a=0;for(c=l.length;a<c;a++)b.append(l[a])}},_uiSetContentElCls:function(b){this.get("contentEl").addClass(b)},_uiSetContentElAttrs:function(b){this.get("contentEl").attr(b)},_uiSetContentElStyle:function(b){this.get("contentEl").css(b)},_uiSetContent:function(b){"string"==typeof b?this.get("contentEl").html(b):this.get("contentEl").empty().append(b)}};
return c},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(e){function j(){}j.ATTRS={handlers:{value:[]},draggable:{value:!0}};j.prototype={_uiSetHandlers:function(b){b&&0<b.length&&this.__drag&&this.__drag.set("handlers",b)},__bindUI:function(){var b=e.require("dd/draggable"),c=this.get("el");this.get("draggable")&&b&&(this.__drag=new b({node:c}))},_uiSetDraggable:function(b){var c=this.__drag;c&&(b?(c.detach("drag"),c.on("drag",this._dragExtAction,this)):c.detach("drag"))},_dragExtAction:function(b){this.set("xy",[b.left,
b.top])},__destructor:function(){var b=this.__drag;b&&b.destroy()}};return j});KISSY.add("uibase/loading",function(){function e(){}e.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return e});
KISSY.add("uibase/loadingrender",function(e,j){function b(){}b.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new j("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var b=this._loadingExtEl;b&&b.hide()}};return b},{requires:["node"]});
KISSY.add("uibase/mask",function(){function e(){}e.ATTRS={mask:{value:!1}};e.prototype={_uiSetMask:function(e){e?(this.on("show",this.get("view")._maskExtShow,this.get("view")),this.on("hide",this.get("view")._maskExtHide,this.get("view"))):(this.detach("show",this.get("view")._maskExtShow,this.get("view")),this.detach("hide",this.get("view")._maskExtHide,this.get("view")))}};return e},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(e,j,b){function c(){return l?"expression(KISSY.DOM.docWidth())":"100%"}function m(){return l?"expression(KISSY.DOM.docHeight())":"100%"}function k(){h=n("<div  style='width:"+c()+";height:"+m()+";' class='"+this.get("prefixCls")+"ext-mask'/>").prependTo(i.document.body);h.css({position:l?"absolute":"fixed",left:0,top:0});l&&(f=n("<iframe style='position:absolute;left:0px;top:0px;background:red;width:"+c()+";height:"+m()+";filter:alpha(opacity=0);z-index:-1;'/>").insertBefore(h));
h.unselectable();h.on("mousedown click",function(a){a.halt()})}function a(){}var h,l=6===j.ie,n=b.all,i=e.Env.host;n(i.document);var f,d=0;a.prototype={_maskExtShow:function(){h||k.call(this);var a={"z-index":this.get("zIndex")-1},b={display:""};h.css(a);f&&f.css(a);d++;1==d&&(h.css(b),f&&f.css(b))},_maskExtHide:function(){d--;0>=d&&(d=0);if(!d){var a={display:"none"};h&&h.css(a);f&&f.css(a)}},__destructor:function(){this._maskExtHide()}};return a},{requires:["ua","node"]});
KISSY.add("uibase/position",function(e){function j(){}j.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(b){var c=e.makeArray(b);c.length&&(c[0]&&this.set("x",c[0]),c[1]&&this.set("y",c[1]));return b},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};j.prototype={move:function(b,c){e.isArray(b)&&(c=b[1],b=b[0]);this.set("xy",[b,c])}};return j});
KISSY.add("uibase/positionrender",function(){function e(){}e.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};e.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){this.get("el").offset({left:e})},_uiSetY:function(e){this.get("el").offset({top:e})}};
return e});KISSY.add("uibase/resize",function(e){function j(){}j.ATTRS={resize:{value:{}}};j.prototype={__destructor:function(){var b=this.resizer;b&&b.destroy()},_uiSetResize:function(b){var c=e.require("resizable");c&&(this.resizer&&this.resizer.destroy(),b.node=this.get("el"),b.handlers&&(this.resizer=new c(b)))}};return j});
KISSY.add("uibase/shimrender",function(e,j){function b(){}b.ATTRS={shim:{value:!0}};b.prototype={_uiSetShim:function(b){var e=this.get("el");b&&!this.__shimEl?(this.__shimEl=new j("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>"),e.prepend(this.__shimEl)):!b&&this.__shimEl&&(this.__shimEl.remove(),delete this.__shimEl)}};return b},{requires:["node"]});
KISSY.add("uibase/stdmod",function(){function e(){}e.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return e});
KISSY.add("uibase/stdmodrender",function(e,j){function b(){}function c(a,b){var c=a.get("contentEl"),m=a.get(b+"Style"),i=a.get(b+"Content"),f=e.isString(i),d=a.get(b);if(d)m&&d.css(m);else{d="";if(m)for(var p in m)m.hasOwnProperty(p)&&(d+=p+":"+m[p]+";");m=d;d=new j("<div class='"+a.get("prefixCls")+k+b+"' "+(m?"style='"+m+"'":"")+" >"+(f?i:"")+"</div>");f||d.append(i);d.appendTo(c);a.__set(b,d)}}function m(a,b,c){b=a.get(b);e.isString(c)?b.html(c):b.html("").append(c)}var k="stdmod-";b.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};b.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+k+"header")},body:function(a){return a.one("."+this.get("prefixCls")+k+"body")},footer:function(a){return a.one("."+this.get("prefixCls")+k+"footer")}};b.prototype={__createDom:function(){c(this,"header");c(this,"body");c(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},
_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){m(this,"body",a)},_uiSetHeaderContent:function(a){m(this,"header",a)},_uiSetFooterContent:function(a){m(this,"footer",a)}};return b},{requires:["node"]});
KISSY.add("uibase",function(e,j,b,c,m,k,a,h,l,n,i,f,d,p,r,g,s,t,q,o,u){k.Render=a;f.Render=d;p.Render=r;g.Render=s;o.Render=u;c.Render=m;l.Render=n;e.mix(j,{Align:b,Box:c,Close:k,Constrain:h,ContentBox:l,Drag:i,Loading:f,Mask:p,Position:g,Shim:{Render:t},Resize:q,StdMod:o});return j},{requires:"uibase/base,uibase/align,uibase/box,uibase/boxrender,uibase/close,uibase/closerender,uibase/constrain,uibase/contentbox,uibase/contentboxrender,uibase/drag,uibase/loading,uibase/loadingrender,uibase/mask,uibase/maskrender,uibase/position,uibase/positionrender,uibase/shimrender,uibase/resize,uibase/stdmod,uibase/stdmodrender".split(",")});
