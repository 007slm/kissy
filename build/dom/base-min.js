/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Apr 15 13:54
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host,g=c.UA,q={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(c){var c=c||a,g=c.document.domain,c=c.location.hostname;return g!=c&&g!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;return g.ie&&j.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:q,getWindow:function(c){return!c?a:"scrollTo"in c&&c.document?c:c.nodeType==q.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var c=j.get(a),a=c.nodeName.toLowerCase();g.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(j,q);return j});
KISSY.add("dom/base/attr",function(c,a,g){function q(a,d){var d=e[d]||d,b=u[d];return b&&b.get?b.get(a,d):a[d]}var j=c.Env.host.document,m=a.NodeType,j=j&&j.documentElement,p=a.nodeName,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,o=/:|^on/,d=/\r/g,b={},h={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},w={tabindex:{get:function(a){var d=
a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},e={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},s={get:function(d,x){return a.prop(d,x)?x.toLowerCase():g},set:function(d,x,b){!1===x?
a.removeAttr(d,b):(x=e[b]||b,x in d&&(d[x]=!0),d.setAttribute(b,b.toLowerCase()));return b}},u={},n={},l={select:{get:function(d){var b=d.selectedIndex,e=d.options,c;if(0>b)return null;if("select-one"===""+d.type)return a.val(e[b]);d=[];b=0;for(c=e.length;b<c;++b)e[b].selected&&d.push(a.val(e[b]));return d},set:function(d,b){var e=c.makeArray(b);c.each(d.options,function(d){d.selected=c.inArray(a.val(d),e)});e.length||(d.selectedIndex=-1);return e}}};c.each(["radio","checkbox"],function(d){l[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,b){return c.isArray(b)?d.checked=c.inArray(a.val(d),b):g}}});w.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:l,_propFix:e,_attrHooks:w,_propHooks:u,_attrNodeHook:n,_attrFix:b,prop:function(d,b,l){var h=a.query(d),n,r;if(c.isPlainObject(b))return c.each(b,function(d,b){a.prop(h,b,d)}),g;b=e[b]||b;r=u[b];if(l!==g)for(d=h.length-1;0<=d;d--)n=h[d],r&&r.set?r.set(n,l,b):n[b]=l;else if(h.length)return q(h[0],b);return g},hasProp:function(d,
b){var e=a.query(d),c,l=e.length,r;for(c=0;c<l;c++)if(r=e[c],q(r,b)!==g)return!0;return!1},removeProp:function(d,b){var b=e[b]||b,c=a.query(d),l,h;for(l=c.length-1;0<=l;l--){h=c[l];try{h[b]=g,delete h[b]}catch(r){}}},attr:function(d,e,l,f){var i=a.query(d),r=i[0];if(c.isPlainObject(e)){var f=l,y;for(y in e)a.attr(i,y,e[y],f);return g}if(f&&h[e])return a[e](d,l);e=e.toLowerCase();if(f&&h[e])return a[e](d,l);e=b[e]||e;d=k.test(e)?s:o.test(e)?n:w[e];if(l===g){if(r&&r.nodeType===m.ELEMENT_NODE){"form"==
p(r)&&(d=n);if(d&&d.get)return d.get(r,e);e=r.getAttribute(e);return null===e?g:e}}else for(f=i.length-1;0<=f;f--)if((r=i[f])&&r.nodeType===m.ELEMENT_NODE)"form"==p(r)&&(d=n),d&&d.set?d.set(r,l,e):r.setAttribute(e,""+l);return g},removeAttr:function(d,c){var c=c.toLowerCase(),c=b[c]||c,l=a.query(d),h,n,r;for(r=l.length-1;0<=r;r--)if(n=l[r],n.nodeType==m.ELEMENT_NODE&&(n.removeAttribute(c),k.test(c)&&(h=e[c]||c)in n))n[h]=!1},hasAttr:j&&!j.hasAttribute?function(d,b){var b=b.toLowerCase(),e=a.query(d),
c,l;for(c=0;c<e.length;c++)if(l=e[c],(l=l.getAttributeNode(b))&&l.specified)return!0;return!1}:function(d,b){var e=a.query(d),c,l=e.length;for(c=0;c<l;c++)if(e[c].hasAttribute(b))return!0;return!1},val:function(b,e){var h,n,f,r,y;if(e===g){if(f=a.get(b)){if((h=l[p(f)]||l[f.type])&&"get"in h&&(n=h.get(f,"value"))!==g)return n;n=f.value;return"string"===typeof n?n.replace(d,""):null==n?"":n}return g}n=a.query(b);for(r=n.length-1;0<=r;r--){f=n[r];if(1!==f.nodeType)break;y=e;null==y?y="":"number"===typeof y?
y+="":c.isArray(y)&&(y=c.map(y,function(a){return a==null?"":a+""}));h=l[p(f)]||l[f.type];if(!h||!("set"in h)||h.set(f,y,"value")===g)f.value=y}return g},text:function(d,b){var e,c,l,r;if(b===g)return e=a.get(d),a._getText(e);c=a.query(d);for(l=c.length-1;0<=l;l--)if(e=c[l],r=e.nodeType,r==m.ELEMENT_NODE)a.empty(e),e.appendChild(e.ownerDocument.createTextNode(b));else if(r==m.TEXT_NODE||r==m.CDATA_SECTION_NODE)e.nodeValue=b;return g},_getText:function(a){return a.textContent}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,a){function g(a){for(var a=c.trim(a||""),a=a.split(k),i=[],g,d=a.length,b=0;b<d;b++)(g=a[b])&&i.push(g);return i}function q(a){return function(c,g){var d,b,h,w=c.classList,e=m.call(arguments,2);d=0;for(b=g.length;d<b;d++)(h=g[d])&&w[a].apply(w,[h].concat(e))}}function j(c){return function(i,k){var d=g(k),b=m.call(arguments,2);a.query(i).each(function(h){h.nodeType==p.ELEMENT_NODE&&a[c].apply(a,[h,d].concat(b))})}}var m=[].slice,p=a.NodeType,k=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var g,d,b,h=a.classList;if(h.length){g=0;for(d=c.length;g<d;g++)if((b=c[g])&&!h.contains(b))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(c,i){var k=a.get(c);return k&&k.nodeType==p.ELEMENT_NODE&&a._hasClass(k,g(i))},replaceClass:function(c,g,k){a.removeClass(c,g);a.addClass(c,k)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,g){function q(d){var b=c.require("event/dom/base");b&&b.detach(d);a.removeData(d)}function j(a,e){var c=e&&e!=f?e.createElement(d):b;c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function m(a,d,b){var e=d.nodeType;if(e==i.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;b=b.childNodes;for(e=0;d[e];)b[e]&&m(a,d[e],b[e]),e++}else if(e==i.ELEMENT_NODE){d=d.getElementsByTagName("*");b=b.getElementsByTagName("*");for(e=0;d[e];)b[e]&&a(d[e],b[e]),e++}}function p(d,b){var e=
c.require("event/dom"),l,v;if(b.nodeType!=i.ELEMENT_NODE||a.hasData(d)){l=a.data(d);for(v in l)a.data(b,v,l[v]);e&&(e._DOMUtils.removeData(b),e._clone(d,b))}}function k(a){var d=null,b,e;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);b=0;for(e=a.length;b<e;b++)d.appendChild(a[b])}return d}var f=c.Env.host.document,i=a.NodeType,o=c.UA.ie,d="div",b=f&&f.createElement(d),h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<([\w:]+)/,
e=/^\s+/,s=/\s+$/,u=o&&9>o,n=/<|&#?\w+;/,l=f&&"outerHTML"in f.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(b,l,x,A){var v=null;if(!b)return v;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return v;A===g&&(A=!0);A&&(b=c.trim(b));var A=a._creators,t,D,x=x||f,E,F=d;if(n.test(b))if(E=B.exec(b))v=x.createElement(E[1]);else{b=b.replace(h,"<$1></$2>");if((E=w.exec(b))&&(t=E[1]))F=t.toLowerCase();t=(A[F]||j)(b,x);u&&(D=b.match(e))&&t.insertBefore(x.createTextNode(D[0]),
t.firstChild);u&&/\S/.test(b)&&(D=b.match(s))&&t.appendChild(x.createTextNode(D[0]));b=t.childNodes;1===b.length?v=b[0].parentNode.removeChild(b[0]):b.length&&(v=k(b))}else v=x.createTextNode(b);c.isPlainObject(l)&&(v.nodeType==i.ELEMENT_NODE?a.attr(v,l,!0):v.nodeType==i.DOCUMENT_FRAGMENT_NODE&&a.attr(v.childNodes,l,!0));return v},_fixCloneAttributes:null,_creators:{div:j},_defaultCreator:j,html:function(d,b,c,l){var d=a.query(d),v=d[0],t=!1,h,n;if(v){if(b===g)return v.nodeType==i.ELEMENT_NODE?v.innerHTML:
null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!u||!b.match(e))&&!z[(b.match(w)||["",""])[1].toLowerCase()])try{for(h=d.length-1;0<=h;h--)n=d[h],n.nodeType==i.ELEMENT_NODE&&(q(n.getElementsByTagName("*")),n.innerHTML=b);t=!0}catch(f){}t||(b=a.create(b,0,v.ownerDocument,0),a.empty(d),a.append(b,d,c));l&&l()}},outerHTML:function(e,c,h){var n=a.query(e),v=n.length;if(e=n[0]){if(c===g){if(l)return e.outerHTML;c=(c=e.ownerDocument)&&c!=f?c.createElement(d):b;c.innerHTML="";c.appendChild(a.clone(e,
!0));c.appendChild(a.clone(e,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&l)for(h=v-1;0<=h;h--)e=n[h],e.nodeType==i.ELEMENT_NODE&&(q(e),q(e.getElementsByTagName("*")),e.outerHTML=c);else e=a.create(c,0,e.ownerDocument,0),a.insertBefore(e,n,h),a.remove(n)}},remove:function(d,b){var e,l=a.query(d),v,t,h=c.require("event/dom/base"),n;for(n=l.length-1;0<=n;n--)e=l[n],!b&&e.nodeType==i.ELEMENT_NODE&&(v=c.makeArray(e.getElementsByTagName("*")),v.push(e),a.removeData(v),h&&h.detach(v)),
(t=e.parentNode)&&t.removeChild(e)},clone:function(d,b,e,c){"object"===typeof b&&(c=b.deepWithDataAndEvent,e=b.withDataAndEvent,b=b.deep);var d=a.get(d),l,t=a._fixCloneAttributes,h;if(!d)return null;h=d.nodeType;l=d.cloneNode(b);if(h==i.ELEMENT_NODE||h==i.DOCUMENT_FRAGMENT_NODE)t&&h==i.ELEMENT_NODE&&t(d,l),b&&t&&m(t,d,l);e&&(p(d,l),b&&c&&m(p,d,l));return l},empty:function(d){var d=a.query(d),b,e;for(e=d.length-1;0<=e;e--)b=d[e],a.remove(b.childNodes)},_nodeListToFragment:k});var x=a._creators,A=a.create,
z={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in z)(function(a){x[C]=function(d,b){return A("<"+a+">"+d+"</"+a+">",null,b)}})(z[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,g){var q=c.Env.host,j="_ks_data_"+c.now(),m={},p={},k={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==q?i.hasData(p,b):f.hasData(a[j],b)},data:function(a,b,c){if(a==q)return i.data(p,b,c);var f=a[j];if(c!==g)f=a[j]=a[j]||{},f[b]=c;else return b!==g?f&&f[b]:f=a[j]=a[j]||{}},removeData:function(a,b){if(a==q)return i.removeData(p,b);var h=a[j];
if(b!==g)delete h[b],c.isEmptyObject(h)&&i.removeData(a);else try{delete a[j]}catch(f){a[j]=g}}},o={hasData:function(a,b){var c=a[j];return!c?!1:f.hasData(m[c],b)},data:function(a,b,h){if(k[a.nodeName.toLowerCase()])return g;var f=a[j];if(!f){if(b!==g&&h===g)return g;f=a[j]=c.guid()}a=m[f];if(h!==g)a=m[f]=m[f]||{},a[b]=h;else return b!==g?a&&a[b]:a=m[f]=m[f]||{}},removeData:function(a,b){var h=a[j],f;if(h)if(f=m[h],b!==g)delete f[b],c.isEmptyObject(f)&&o.removeData(a);else{delete m[h];try{delete a[j]}catch(e){a[j]=
g}a.removeAttribute&&a.removeAttribute(j)}}};c.mix(a,{__EXPANDO:j,hasData:function(d,b){for(var c=!1,f=a.query(d),e=0;e<f.length&&!(c=f[e],c=c.nodeType?o.hasData(c,b):i.hasData(c,b));e++);return c},data:function(d,b,h){var d=a.query(d),f=d[0];if(c.isPlainObject(b)){for(var e in b)a.data(d,e,b[e]);return g}if(h===g){if(f)return f.nodeType?o.data(f,b):i.data(f,b)}else for(e=d.length-1;0<=e;e--)f=d[e],f.nodeType?o.data(f,b,h):i.data(f,b,h);return g},removeData:function(d,b){var c=a.query(d),f,e;for(e=
c.length-1;0<=e;e--)f=c[e],f.nodeType?o.removeData(f,b):i.removeData(f,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function g(a,b){var c=[],j,e,s;for(j=0;a[j];j++)if(e=a[j],s=k(e),e.nodeType==m.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,g(f(e.childNodes),b));else if("script"===s&&(!e.type||o.test(e.type)))e.parentNode&&e.parentNode.removeChild(e),b&&b.push(e);else{if(e.nodeType==m.ELEMENT_NODE&&!p.test(s)){s=[];var u,n,l=e.getElementsByTagName("script");for(n=0;n<l.length;n++)u=l[n],(!u.type||o.test(u.type))&&s.push(u);i.apply(a,[j+1,0].concat(s))}c.push(e)}return c}function q(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function j(d,b,f,k){d=a.query(d);k&&(k=[]);d=g(d,k);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),e,i,u,n,l=b.length;if((d.length||k&&k.length)&&l){d=a._nodeListToFragment(d);1<l&&(n=a.clone(d,!0),b=c.makeArray(b));for(e=0;e<l;e++)i=b[e],d&&(u=0<e?a.clone(n,!0):d,f(u,i)),k&&k.length&&c.each(k,q)}}var m=a.NodeType,p=/^(?:button|input|object|select|textarea)$/i,k=a.nodeName,f=c.makeArray,i=[].splice,
o=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){j(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){j(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var f;(f=b.firstChild)&&1==f.nodeType;)b=f;a.appendTo(c,b)},wrap:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){a.wrapAll(c,b)})},wrapInner:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(d){d=a.query(d);c.each(d,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var f=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,f);a.remove(f)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,g){function q(a){var b,c=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[h];b=b[w];a-=f.clientLeft||c.clientLeft||0;b-=f.clientTop||c.clientTop||0;return{left:a,top:b}}function j(c,e){var d={left:0,top:0},f=i(c[b]),g,k=c,e=e||f;do{if(f==e){var h=k;g=q(h);h=i(h[b]);g.left+=a[s](h);g.top+=a[u](h)}else g=q(k);d.left+=g.left;d.top+=g.top}while(f&&f!=e&&(k=f.frameElement)&&(f=f.parent));return d}var m=c.Env.host,
p=m.document,k=a.NodeType,f=p&&p.documentElement,i=a.getWindow,o=Math.max,d=parseInt,b="ownerDocument",h="left",w="top",e=c.isNumber,s="scrollLeft",u="scrollTop";c.mix(a,{offset:function(b,c,e){if(c===g){var b=a.get(b),f;b&&(f=j(b,e));return f}e=a.query(b);for(f=e.length-1;0<=f;f--){var b=e[f],k=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=j(b),i={},u=void 0,s=void 0;for(s in k)u=d(a.css(b,s),10)||0,i[s]=u+k[s]-h[s];a.css(b,i)}return g},scrollIntoView:function(b,e,f,u){var s,
j,o,r;if(o=a.get(b)){e&&(e=a.get(e));e||(e=o.ownerDocument);e.nodeType==k.DOCUMENT_NODE&&(e=i(e));c.isPlainObject(f)&&(u=f.allowHorizontalScroll,r=f.onlyScrollIfNeeded,f=f.alignWithTop);u=u===g?!0:u;j=!!i(e);var b=a.offset(o),q=a.outerHeight(o);s=a.outerWidth(o);var m,p,v,t;j?(j=e,m=a.height(j),p=a.width(j),t={left:a.scrollLeft(j),top:a.scrollTop(j)},j=b[h]-t[h],o=b[w]-t[w],s=b[h]+s-(t[h]+p),b=b[w]+q-(t[w]+m)):(m=a.offset(e),p=e.clientHeight,v=e.clientWidth,t={left:a.scrollLeft(e),top:a.scrollTop(e)},
j=b[h]-(m[h]+(d(a.css(e,"borderLeftWidth"))||0)),o=b[w]-(m[w]+(d(a.css(e,"borderTopWidth"))||0)),s=b[h]+s-(m[h]+v+(d(a.css(e,"borderRightWidth"))||0)),b=b[w]+q-(m[w]+p+(d(a.css(e,"borderBottomWidth"))||0)));if(r){if(0>o||0<b)!0===f?a.scrollTop(e,t.top+o):!1===f?a.scrollTop(e,t.top+b):0>o?a.scrollTop(e,t.top+o):a.scrollTop(e,t.top+b)}else(f=f===g?!0:!!f)?a.scrollTop(e,t.top+o):a.scrollTop(e,t.top+b);if(u)if(r){if(0>j||0<s)!0===f?a.scrollLeft(e,t.left+j):!1===f?a.scrollLeft(e,t.left+s):0>j?a.scrollLeft(e,
t.left+j):a.scrollLeft(e,t.left+s)}else(f=f===g?!0:!!f)?a.scrollLeft(e,t.left+j):a.scrollLeft(e,t.left+s)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,c){var d="scroll"+b;a[d]=function(f,h){if(e(f))return arguments.callee(m,f);var f=a.get(f),j,s,u,o=i(f);o?h!==g?(h=parseFloat(h),s="Left"==b?h:a.scrollLeft(o),u="Top"==b?h:a.scrollTop(o),o.scrollTo(s,u)):(j=o["page"+(c?"Y":"X")+"Offset"],e(j)||(s=o.document,j=s.documentElement[d],
e(j)||(j=s.body[d]))):f.nodeType==k.ELEMENT_NODE&&(h!==g?f[d]=parseFloat(h):j=f[d]);return j}});c.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=i(e).document;return o(e.documentElement["scroll"+b],e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(e){var e=a.get(e),c="client"+b,e=i(e).document,d=e.body,f=e.documentElement[c];return"CSS1Compat"===e.compatMode&&f||d&&d[c]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a){function g(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function q(e,c){var d,h;d="string"==typeof e;var l=c?q(c):(h=1)&&[k],j=l.length;if(e)if(d)if(e=w(e),h&&"body"==e)d=[k.body];else{d=[];for(h=0;h<j;h++)b.apply(d,a._selectInternal(e,l[h]));1<d.length&&1<j&&a.unique(d)}else{if(d=e.nodeType||e.setTimeout?[e]:e.getDOMNodes?e.getDOMNodes():f(e)?e:o(e)?i(e):[e],!h){var m=d,p,z=m.length;d=[];for(h=0;h<z;h++)for(p=0;p<j;p++)if(a._contains(l[p],
m[h])){d.push(m[h]);break}}}else d=[];d.each=g;return d}function j(a,b){var c=a&&(a.className||m(a,"class"));return c&&-1<(d+c+d).indexOf(d+b+d)}function m(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function p(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var k=c.Env.host.document,f=c.isArray,i=c.makeArray,o=a._isNodeList,d=" ",b=Array.prototype.push,h=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,w=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||
!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_isTag:p,_getAttr:m,_hasSingleClass:j,_matchesInternal:function(a,b){for(var c=[],d=0,f=i(k.querySelectorAll(a)),h,g=b.length;d<g;d++)h=b[d],-1!=f.indexOf(h)&&c.push(h);return c},_selectInternal:function(a,b){return i(b.querySelectorAll(a))},query:q,get:function(a,b){return q(a,b)[0]||null},unique:function(){function b(e,d){return e==d?(c=!0,0):a._compareNodeOrder(e,d)}var c,d=!0;[0,0].sort(function(){d=
!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var f=1,h=a.length;f<h;)a[f]===a[f-1]?(a.splice(f,1),--h):f++;return a}}(),filter:function(b,d,f){var b=q(b,f),g,k,i,o,f=[];if("string"==typeof d&&(d=w(d))&&(i=h.exec(d)))g=i[1],k=i[2],o=i[3],g?g&&!k&&!o&&(d=function(a){return m(a,"id")==g}):d=function(a){var b=!0,c=!0;k&&(b=p(a,k));o&&(c=j(a,o));return c&&b};return f=c.isFunction(d)?c.filter(b,d):a._matchesInternal(d,b)},test:function(b,c,d){b=q(b,d);return b.length&&a.filter(b,c,d).length===
b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,g){function q(a,b){return b.toUpperCase()}function j(a){return a.replace(n,"ms-").replace(y,q)}function m(a,b,c){var d={},e;for(e in b)d[e]=a[h][e],a[h][e]=b[e];c.call(a);for(e in b)a[h][e]=d[e]}function p(a,b,c){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a[h]))return g;b=j(b);f=z[b];b=C[b]||b;if(c!==g){null===c||c===B?c=B:!isNaN(Number(c))&&!u[b]&&(c+=x);f&&f.set&&(c=f.set(a,c));if(c!==g){try{d[b]=c}catch(k){}c===B&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(e=f.get(a,!1))!==g))e=d[b];return e===g?"":e}function k(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(g,c):m(a,G,function(){b=f.apply(g,c)});return b}function f(b,d,f){if(c.isWindow(b))return d==e?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==e?a.docWidth(b):a.docHeight(b);var h=d===e?["Left","Right"]:["Top","Bottom"],g=d===e?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==f&&c.each(h,function(c){f||(g-=parseFloat(a.css(b,
"padding"+c))||0);g="margin"===f?g+(parseFloat(a.css(b,f+c))||0):g-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),g;g=a._getComputedStyle(b,d);if(null==g||0>Number(g))g=b.style[d]||0;g=parseFloat(g)||0;f&&c.each(h,function(c){g+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==f&&(g+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===f&&(g+=parseFloat(a.css(b,f+c))||0)});return g}var i=c.Env.host,o=c.UA,d=a.nodeName,b=i.document,h="style",w=/^margin/,e="width",s="display"+c.now(),u={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},n=/^-ms-/,l=/([A-Z]|^ms)/g,B="",x="px",A=/\d(?!px)[a-z%]+$/i,z={},C={"float":"cssFloat"},r={},y=/-([a-z])/ig;c.mix(a,{_camelCase:j,_CUSTOM_STYLES:z,_cssProps:C,_getComputedStyle:function(b,c){var d="",e,f,g,k,i;f=b.ownerDocument;c=c.replace(l,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(b,null))d=e.getPropertyValue(c)||e[c];""===d&&!a.contains(f,b)&&(c=C[c]||c,d=b[h][c]);a._RE_NUM_NO_PX.test(d)&&w.test(c)&&(i=b.style,
f=i.width,g=i.minWidth,k=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=e.width,i.width=f,i.minWidth=g,i.maxWidth=k);return d},style:function(b,d,e){var b=a.query(b),f,h=b[0];if(c.isPlainObject(d)){for(f in d)for(h=b.length-1;0<=h;h--)p(b[h],f,d[f]);return g}if(e===g)return f="",h&&(f=p(h,d,e)),f;for(h=b.length-1;0<=h;h--)p(b[h],d,e);return g},css:function(b,d,e){var b=a.query(b),f=b[0],h;if(c.isPlainObject(d)){for(h in d)for(f=b.length-1;0<=f;f--)p(b[f],h,d[h]);return g}d=j(d);h=z[d];if(e===g){e="";
if(f&&(!h||!("get"in h&&(e=h.get(f,!0))!==g)))e=a._getComputedStyle(f,d);return"undefined"==typeof e?"":e}for(f=b.length-1;0<=f;f--)p(b[f],d,e);return g},show:function(c){var c=a.query(c),d,e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[h].display=a.data(e,s)||B,"none"===a.css(e,"display")){d=e.tagName.toLowerCase();var g=void 0,k=r[d],i=void 0;r[d]||(g=b.body||b.documentElement,i=b.createElement(d),a.prepend(i,g),k=a.css(i,"display"),g.removeChild(i),r[d]=k);d=k;a.data(e,s,d);e[h].display=d}},hide:function(b){var b=
a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c[h],f=e.display;"none"!==f&&(f&&a.data(c,s,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||i;"string"==typeof b&&(d=c,c=b,b=i);var b=a.get(b),b=a.getWindow(b).document,e;if(d&&(d=d.replace("#",B)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=
c:e.appendChild(b.createTextNode(c)))},unselectable:function(b){var b=a.query(b),e,f,g=0,k,i;for(f=b.length-1;0<=f;f--)if(e=b[f],i=e[h],i.UserSelect="none",o.gecko)i.MozUserSelect="none";else if(o.webkit)i.WebkitUserSelect="none";else if(o.ie||o.opera){i=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(k=["iframe","textarea","input","select"];e=i[g++];)c.inArray(d(e),k)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
c.each([e,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&k(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var e=a.get(c);return e&&k(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var G={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(b){z[b]={get:function(a,c){var d;c&&(d=k(a,b)+"px");return d}}});c.each(["left","top"],function(c){z[c]={get:function(d,e){var f,h,g;if(e){g=
a.css(d,"position");if("static"===g)return"auto";f=a._getComputedStyle(d,c);if((h="auto"===f)&&"relative"===g)return"0px";if(h||A.test(f)){g={top:0,left:0};if("fixed"==a.css(d,"position"))h=d.getBoundingClientRect();else{for(f=d.offsetParent||(d.ownerDocument||b).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;h=a.offset(d);g=a.offset(f);g.top+=parseFloat(a.css(f,"borderTopWidth"))||0;g.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}h.top-=parseFloat(a.css(d,"marginTop"))||
0;h.left-=parseFloat(a.css(d,"marginLeft"))||0;f={top:h.top-g.top,left:h.left-g.left}[c]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,g){function q(k,f,i,o,d,b,h){if(!(k=a.get(k)))return null;if(0===f)return k;b||(k=k[i]);if(!k)return null;d=d&&a.get(d)||null;f===g&&(f=1);var b=[],m=c.isArray(f),e,q;c.isNumber(f)&&(e=0,q=f,f=function(){return++e===q});for(;k&&k!=d;){if((k.nodeType==p.ELEMENT_NODE||k.nodeType==p.TEXT_NODE&&h)&&j(k,f)&&(!o||o(k)))if(b.push(k),!m)break;k=k[i]}return m?b:b[0]||null}function j(g,f){if(!f)return!0;if(c.isArray(f)){var i,j=f.length;if(!j)return!0;for(i=0;i<j;i++)if(a.test(g,
f[i]))return!0}else if(a.test(g,f))return!0;return!1}function m(g,f,i,j){var d=[],b,h;if((b=g=a.get(g))&&i)b=g.parentNode;if(b){i=c.makeArray(b.childNodes);for(b=0;b<i.length;b++)h=i[b],(j||h.nodeType==p.ELEMENT_NODE)&&h!=g&&d.push(h);f&&(d=a.filter(d,f))}return d}var p=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,g,j){return q(a,c,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},g,!0,j)},parent:function(a,c,i){return q(a,
c,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(c,f,i){c=a.get(c);return q(c&&c.firstChild,f,"nextSibling",g,g,!0,i)},last:function(c,f,i){c=a.get(c);return q(c&&c.lastChild,f,"previousSibling",g,g,!0,i)},next:function(a,c,i){return q(a,c,"nextSibling",g,g,g,i)},prev:function(a,c,i){return q(a,c,"previousSibling",g,g,g,i)},siblings:function(a,c,g){return m(a,c,!0,g)},children:function(a,c){return m(a,c,g)},contents:function(a,c){return m(a,c,g,1)},contains:function(c,
f){c=a.get(c);f=a.get(f);return c&&f?a._contains(c,f):!1},index:function(g,f){var i=a.query(g),j,d=0;j=i[0];if(!f){i=j&&j.parentNode;if(!i)return-1;for(;j=j.previousSibling;)j.nodeType==p.ELEMENT_NODE&&d++;return d}d=a.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],i)},equals:function(c,f){c=a.query(c);f=a.query(f);if(c.length!=f.length)return!1;for(var g=c.length;0<=g;g--)if(c[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
