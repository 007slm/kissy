/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Dec 7 00:22
*/
KISSY.add("dom/base/api",function(c){var b=c.Env.host,i=c.UA,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},k={isCustomDomain:function(c){var c=c||b,i=c.document.domain,c=c.location.hostname;return i!=c&&i!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||b;if(i.ie&&k.isCustomDomain(c))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())"},NodeType:n,_getWin:function(c){return null==c?b:"scrollTo"in c&&c.document?c:c.nodeType==n.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(b){return b&&!b.nodeType&&b.item&&!b.setTimeout},nodeName:function(b){var c=k.get(b),b=c.nodeName.toLowerCase();i.ie&&(c=c.scopeName)&&"HTML"!=c&&(b=c.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(k,n);return k});
KISSY.add("dom/base/attr",function(c,b,i){function n(b,a){var a=v[a]||a,f=w[a];return f&&f.get?f.get(b,a):b[a]}var k=c.Env.host.document,r=b.NodeType,t=(k=k&&k.documentElement)&&k.textContent===i?"innerText":"textContent",m=b.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,h=/^(?:button|input|object|select|textarea)$/i,u=/^a(?:rea)?$/i,d=/:|^on/,a=/\r/g,q={},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},y={tabindex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):h.test(b.nodeName)||u.test(b.nodeName)&&b.href?0:i}}},v={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A={get:function(a,
d){return b.prop(a,d)?d.toLowerCase():i},set:function(a,d,f){!1===d?b.removeAttr(a,f):(d=v[f]||f,d in a&&(a[d]=!0),a.setAttribute(f,f.toLowerCase()));return f}},w={},x={},C={select:{get:function(a){var d=a.selectedIndex,f=a.options,j;if(0>d)return null;if("select-one"===a.type)return b.val(f[d]);a=[];d=0;for(j=f.length;d<j;++d)f[d].selected&&a.push(b.val(f[d]));return a},set:function(a,d){var f=c.makeArray(d);c.each(a.options,function(j){j.selected=c.inArray(b.val(j),f)});f.length||(a.selectedIndex=
-1);return f}}};c.each(["radio","checkbox"],function(a){C[a]={get:function(b){return null===b.getAttribute("value")?"on":b.value},set:function(a,d){if(c.isArray(d))return a.checked=c.inArray(b.val(a),d)}}});y.style={get:function(b){return b.style.cssText}};c.mix(b,{_valHooks:C,_propFix:v,_attrHooks:y,_propHooks:w,_attrNodeHook:x,_attrFix:q,prop:function(a,d,f){var j=b.query(a),l,o;if(c.isPlainObject(d))return c.each(d,function(l,a){b.prop(j,a,l)}),i;d=v[d]||d;o=w[d];if(f!==i)for(a=j.length-1;0<=a;a--)l=
j[a],o&&o.set?o.set(l,f,d):l[d]=f;else if(j.length)return n(j[0],d);return i},hasProp:function(a,d){var f=b.query(a),j,l=f.length,o;for(j=0;j<l;j++)if(o=f[j],n(o,d)!==i)return!0;return!1},removeProp:function(a,d){var d=v[d]||d,f=b.query(a),j,l;for(j=f.length-1;0<=j;j--){l=f[j];try{l[d]=i,delete l[d]}catch(o){}}},attr:function(a,h,f,j){var l=b.query(a),o=l[0];if(c.isPlainObject(h)){var j=f,z;for(z in h)b.attr(l,z,h[z],j);return i}if(!(h=c.trim(h)))return i;if(j&&g[h])return b[h](a,f);h=h.toLowerCase();
if(j&&g[h])return b[h](a,f);h=q[h]||h;a=e.test(h)?A:d.test(h)?x:y[h];if(f===i){if(o&&o.nodeType===r.ELEMENT_NODE){"form"==m(o)&&(a=x);if(a&&a.get)return a.get(o,h);h=o.getAttribute(h);return null===h?i:h}}else for(j=l.length-1;0<=j;j--)if((o=l[j])&&o.nodeType===r.ELEMENT_NODE)"form"==m(o)&&(a=x),a&&a.set?a.set(o,f,h):o.setAttribute(h,""+f);return i},removeAttr:function(a,d){var d=d.toLowerCase(),d=q[d]||d,f=b.query(a),j,l,o;for(o=f.length-1;0<=o;o--)if(l=f[o],l.nodeType==r.ELEMENT_NODE&&(l.removeAttribute(d),
e.test(d)&&(j=v[d]||d)in l))l[j]=!1},hasAttr:k&&!k.hasAttribute?function(a,d){var d=d.toLowerCase(),f=b.query(a),j,l;for(j=0;j<f.length;j++)if(l=f[j],(l=l.getAttributeNode(d))&&l.specified)return!0;return!1}:function(a,d){var f=b.query(a),j,l=f.length;for(j=0;j<l;j++)if(f[j].hasAttribute(d))return!0;return!1},val:function(d,h){var f,j,l,o,g;if(h===i){if(l=b.get(d)){if((f=C[m(l)]||C[l.type])&&"get"in f&&(j=f.get(l,"value"))!==i)return j;j=l.value;return"string"===typeof j?j.replace(a,""):null==j?"":
j}return i}j=b.query(d);for(o=j.length-1;0<=o;o--){l=j[o];if(1!==l.nodeType)break;g=h;null==g?g="":"number"===typeof g?g+="":c.isArray(g)&&(g=c.map(g,function(b){return b==null?"":b+""}));f=C[m(l)]||C[l.type];if(!f||!("set"in f)||f.set(l,g,"value")===i)l.value=g}return i},text:function(a,d){var f,j,l;if(d===i){f=b.get(a);if(f.nodeType==r.ELEMENT_NODE)return f[t]||"";if(f.nodeType==r.TEXT_NODE)return f.nodeValue}else{j=b.query(a);for(l=j.length-1;0<=l;l--)f=j[l],f.nodeType==r.ELEMENT_NODE?f[t]=d:f.nodeType==
r.TEXT_NODE&&(f.nodeValue=d)}return i}});return b},{requires:["./api"]});KISSY.add("dom/base",function(c,b){c.mix(c,{DOM:b,get:b.get,query:b.query});return b},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,b,i){function n(m,e,h,u){if(!(e=c.trim(e)))return u?!1:i;var m=b.query(m),d=m.length,a=e.split(r),e=[],q,g;for(g=0;g<a.length;g++)(q=c.trim(a[g]))&&e.push(q);for(g=0;g<d;g++)if(a=m[g],a.nodeType==k.ELEMENT_NODE&&(a=h(a,e,e.length),a!==i))return a;return u?!1:i}var k=b.NodeType,r=/[\.\s]\s*\.?/,t=/[\n\t]/g;c.mix(b,{hasClass:function(b,c){return n(b,c,function(b,c,d){var b=b.className,a,q;if(b){b=(" "+b+" ").replace(t," ");a=0;for(q=!0;a<d;a++)if(0>b.indexOf(" "+
c[a]+" ")){q=!1;break}if(q)return!0}},!0)},addClass:function(b,e){n(b,e,function(b,i,d){var a=b.className,q,g;if(a){q=(" "+a+" ").replace(t," ");for(g=0;g<d;g++)0>q.indexOf(" "+i[g]+" ")&&(a+=" "+i[g]);b.className=c.trim(a)}else b.className=e},i)},removeClass:function(b,e){n(b,e,function(b,i,d){var a=b.className,q,g;if(a)if(d){a=(" "+a+" ").replace(t," ");for(q=0;q<d;q++)for(g=" "+i[q]+" ";0<=a.indexOf(g);)a=a.replace(g," ");b.className=c.trim(a)}else b.className=""},i)},replaceClass:function(c,i,
h){b.removeClass(c,i);b.addClass(c,h)},toggleClass:function(m,e,h){var k=c.isBoolean(h),d,a;n(m,e,function(c,g,i){for(a=0;a<i;a++)e=g[a],d=k?!h:b.hasClass(c,e),b[d?"removeClass":"addClass"](c,e)},i)}});return b},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,b,i){function n(j){var a=c.require("event/dom");a&&a.detach(j);b.removeData(j)}function k(b,l){var f=l&&l!=e?l.createElement(d):a;f.innerHTML="m<div>"+b+"</div>";return f.lastChild}function r(b,a,d){var f=a.nodeType;if(f==h.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;d=d.childNodes;for(f=0;a[f];)d[f]&&r(b,a[f],d[f]),f++}else if(f==h.ELEMENT_NODE){a=a.getElementsByTagName("*");d=d.getElementsByTagName("*");for(f=0;a[f];)d[f]&&b(a[f],d[f]),f++}}function t(a,d){var f=
c.require("event/dom"),g,p;if(d.nodeType!=h.ELEMENT_NODE||b.hasData(a)){g=b.data(a);for(p in g)b.data(d,p,g[p]);f&&(f._DOMUtils.removeData(d),f._clone(a,d))}}function m(b){var a=null,d,f;if(b&&(b.push||b.item)&&b[0]){a=b[0].ownerDocument;a=a.createDocumentFragment();b=c.makeArray(b);d=0;for(f=b.length;d<f;d++)a.appendChild(b[d])}return a}var e=c.Env.host.document,h=b.NodeType,u=c.UA.ie,d="div",a=e&&e.createElement(d),q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,g=/<([\w:]+)/,
y=/^\s+/,v=u&&9>u,A=/<|&#?\w+;/,w=e&&"outerHTML"in e.documentElement,x=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(b,{create:function(a,f,o,z){var p=null;if(!a)return p;if(a.nodeType)return b.clone(a);if("string"!=typeof a)return p;z===i&&(z=!0);z&&(a=c.trim(a));var z=b._creators,s,F,o=o||e,E,G=d;if(A.test(a))if(E=x.exec(a))p=o.createElement(E[1]);else{a=a.replace(q,"<$1></$2>");if((E=g.exec(a))&&(s=E[1]))G=s.toLowerCase();s=(z[G]||k)(a,o);v&&(F=a.match(y))&&s.insertBefore(o.createTextNode(F[0]),s.firstChild);
a=s.childNodes;1===a.length?p=a[0].parentNode.removeChild(a[0]):a.length&&(p=m(a))}else p=o.createTextNode(a);c.isPlainObject(f)&&(p.nodeType==h.ELEMENT_NODE?b.attr(p,f,!0):p.nodeType==h.DOCUMENT_FRAGMENT_NODE&&b.attr(p.childNodes,f,!0));return p},_fixCloneAttributes:null,_creators:{div:k},_defaultCreator:k,html:function(a,d,f,c){var a=b.query(a),p=a[0],s=!1,q,e;if(p){if(d===i)return p.nodeType==h.ELEMENT_NODE?p.innerHTML:null;d+="";if(!d.match(/<(?:script|style|link)/i)&&(!v||!d.match(y))&&!B[(d.match(g)||
["",""])[1].toLowerCase()])try{for(q=a.length-1;0<=q;q--)e=a[q],e.nodeType==h.ELEMENT_NODE&&(n(e.getElementsByTagName("*")),e.innerHTML=d);s=!0}catch(m){}s||(d=b.create(d,0,p.ownerDocument,0),b.empty(a),b.append(d,a,f));c&&c()}},outerHTML:function(f,l,c){var g=b.query(f),p=g.length;if(f=g[0]){if(l===i){if(w)return f.outerHTML;l=(l=f.ownerDocument)&&l!=e?l.createElement(d):a;l.innerHTML="";l.appendChild(b.clone(f,!0));return l.innerHTML}l+="";if(!l.match(/<(?:script|style|link)/i)&&w)for(c=p-1;0<=
c;c--)f=g[c],f.nodeType==h.ELEMENT_NODE&&(n(f),n(f.getElementsByTagName("*")),f.outerHTML=l);else f=b.create(l,0,f.ownerDocument,0),b.insertBefore(f,g,c),b.remove(g)}},remove:function(a,d){var f,c=b.query(a),p,s;for(s=c.length-1;0<=s;s--)f=c[s],!d&&f.nodeType==h.ELEMENT_NODE&&(p=f.getElementsByTagName("*"),n(p),n(f)),f.parentNode&&f.parentNode.removeChild(f)},clone:function(a,d,f,c){"object"===typeof d&&(c=d.deepWithDataAndEvent,f=d.withDataAndEvent,d=d.deep);var a=b.get(a),p,s=b._fixCloneAttributes,
g;if(!a)return null;g=a.nodeType;p=a.cloneNode(d);if(g==h.ELEMENT_NODE||g==h.DOCUMENT_FRAGMENT_NODE)s&&g==h.ELEMENT_NODE&&s(a,p),d&&s&&r(s,a,p);f&&(t(a,p),d&&c&&r(t,a,p));return p},empty:function(a){var a=b.query(a),d,f;for(f=a.length-1;0<=f;f--)d=a[f],b.remove(d.childNodes)},_nodeListToFragment:m});var C=b._creators,D=b.create,B={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},
f;for(f in B)(function(b){C[f]=function(a,d){return D("<"+b+">"+a+"</"+b+">",null,d)}})(B[f]);return b},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,b,i){var n=c.Env.host,k="__ks_data_"+c.now(),r={},t={},m={applet:1,object:1,embed:1},e={hasData:function(b,a){if(b)if(a!==i){if(a in b)return!0}else if(!c.isEmptyObject(b))return!0;return!1}},h={hasData:function(b,a){return b==n?h.hasData(t,a):e.hasData(b[k],a)},data:function(b,a,c){if(b==n)return h.data(t,a,c);var g=b[k];if(c!==i)g=b[k]=b[k]||{},g[a]=c;else return a!==i?g&&g[a]:g=b[k]=b[k]||{}},removeData:function(b,a){if(b==n)return h.removeData(t,a);var q=b[k];
if(a!==i)delete q[a],c.isEmptyObject(q)&&h.removeData(b);else try{delete b[k]}catch(g){b[k]=i}}},u={hasData:function(b,a){var c=b[k];return!c?!1:e.hasData(r[c],a)},data:function(b,a,h){if(m[b.nodeName.toLowerCase()])return i;var g=b[k];if(!g){if(a!==i&&h===i)return i;g=b[k]=c.guid()}b=r[g];if(h!==i)b=r[g]=r[g]||{},b[a]=h;else return a!==i?b&&b[a]:b=r[g]=r[g]||{}},removeData:function(b,a){var h=b[k],g;if(h)if(g=r[h],a!==i)delete g[a],c.isEmptyObject(g)&&u.removeData(b);else{delete r[h];try{delete b[k]}catch(e){b[k]=
i}b.removeAttribute&&b.removeAttribute(k)}}};c.mix(b,{__EXPANDO:k,hasData:function(d,a){for(var c=!1,g=b.query(d),i=0;i<g.length&&!(c=g[i],c=c.nodeType?u.hasData(c,a):h.hasData(c,a));i++);return c},data:function(d,a,e){var d=b.query(d),g=d[0];if(c.isPlainObject(a)){for(var m in a)b.data(d,m,a[m]);return i}if(e===i){if(g)return g.nodeType?u.data(g,a):h.data(g,a)}else for(m=d.length-1;0<=m;m--)g=d[m],g.nodeType?u.data(g,a,e):h.data(g,a,e);return i},removeData:function(d,a){var c=b.query(d),g,i;for(i=
c.length-1;0<=i;i--)g=c[i],g.nodeType?u.removeData(g,a):h.removeData(g,a)}});return b},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,b){function i(b,a){var c=[],g,k,n;for(g=0;b[g];g++)if(k=b[g],n=m(k),k.nodeType==r.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,i(e(k.childNodes),a));else if("script"===n&&(!k.type||u.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),a&&a.push(k);else{if(k.nodeType==r.ELEMENT_NODE&&!t.test(n)){n=[];var A,w,x=k.getElementsByTagName("script");for(w=0;w<x.length;w++)A=x[w],(!A.type||u.test(A.type))&&n.push(A);h.apply(b,[g+1,0].concat(n))}c.push(k)}return c}function n(b){b.src?
c.getScript(b.src):(b=c.trim(b.text||b.textContent||b.innerHTML||""))&&c.globalEval(b)}function k(d,a,h,g){d=b.query(d);g&&(g=[]);d=i(d,g);b._fixInsertionChecked&&b._fixInsertionChecked(d);var a=b.query(a),e,m,k,w,x=a.length;if((d.length||g&&g.length)&&x){d=b._nodeListToFragment(d);1<x&&(w=b.clone(d,!0),a=c.makeArray(a));for(e=0;e<x;e++)m=a[e],d&&(k=0<e?b.clone(w,!0):d,h(k,m)),g&&g.length&&c.each(g,n)}}var r=b.NodeType,t=/^(?:button|input|object|select|textarea)$/i,m=b.nodeName,e=c.makeArray,h=[].splice,
u=/\/(java|ecma)script/i;c.mix(b,{_fixInsertionChecked:null,insertBefore:function(b,a,c){k(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},c)},insertAfter:function(b,a,c){k(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)},c)},appendTo:function(b,a,c){k(b,a,function(b,a){a.appendChild(b)},c)},prependTo:function(b,a,c){k(b,a,function(b,a){a.insertBefore(b,a.firstChild)},c)},wrapAll:function(d,a){a=b.clone(b.get(a),!0);d=b.query(d);d[0].parentNode&&b.insertBefore(a,
d[0]);for(var c;(c=a.firstChild)&&1==c.nodeType;)a=c;b.appendTo(d,a)},wrap:function(d,a){d=b.query(d);a=b.get(a);c.each(d,function(d){b.wrapAll(d,a)})},wrapInner:function(d,a){d=b.query(d);a=b.get(a);c.each(d,function(d){var c=d.childNodes;c.length?b.wrapAll(c,a):d.appendChild(a)})},unwrap:function(d){d=b.query(d);c.each(d,function(a){a=a.parentNode;b.replaceWith(a,a.childNodes)})},replaceWith:function(d,a){var c=b.query(d),a=b.query(a);b.remove(a,!0);b.insertBefore(a,c);b.remove(c)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(d,a){b[a]=b[d]});return b},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,b,i){function n(b){var a,d=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};a=b.getBoundingClientRect();b=a[q];a=a[g];b-=e.clientLeft||d.clientLeft||0;a-=e.clientTop||d.clientTop||0;return{left:b,top:a}}function k(d,c){var g={left:0,top:0},i=h(d[a]),e,f=d,c=c||i;do{if(i==c){var j=f;e=n(j);j=h(j[a]);e.left+=b[v](j);e.top+=b[A](j)}else e=n(f);g.left+=e.left;g.top+=e.top}while(i&&i!=c&&(f=i.frameElement)&&(i=i.parent));return g}var r=c.Env.host,
t=r.document,m=b.NodeType,e=t&&t.documentElement,h=b._getWin,u=Math.max,d=parseInt,a="ownerDocument",q="left",g="top",y=c.isNumber,v="scrollLeft",A="scrollTop";c.mix(b,{offset:function(a,c,g){if(c===i){var a=b.get(a),h;a&&(h=k(a,g));return h}g=b.query(a);for(h=g.length-1;0<=h;h--){var a=g[h],e=c;"static"===b.css(a,"position")&&(a.style.position="relative");var f=k(a),j={},l=void 0,o=void 0;for(o in e)l=d(b.css(a,o),10)||0,j[o]=l+e[o]-f[o];b.css(a,j)}return i},scrollIntoView:function(a,c,e,k,n){var f,
j,l;if(j=b.get(a)){c&&(c=b.get(c));c||(c=j.ownerDocument);!0!==n&&(k=k===i?!0:!!k,e=e===i?!0:!!e);c.nodeType==m.DOCUMENT_NODE&&(c=h(c));l=!!h(c);n=b.offset(j);a=b.outerHeight(j);f=b.outerWidth(j);var o,z,p,s;l?(j=c,o=b.height(j),z=b.width(j),s={left:b.scrollLeft(j),top:b.scrollTop(j)},j=n[q]-s[q],l=n[g]-s[g],f=n[q]+f-(s[q]+z),n=n[g]+a-(s[g]+o)):(o=b.offset(c),z=c.clientHeight,p=c.clientWidth,s={left:b.scrollLeft(c),top:b.scrollTop(c)},j=n[q]-o[q]-(d(b.css(c,"borderLeftWidth"))||0),l=n[g]-o[g]-(d(b.css(c,
"borderTopWidth"))||0),f=n[q]+f-(o[q]+p+(d(b.css(c,"borderRightWidth"))||0)),n=n[g]+a-(o[g]+z+(d(b.css(c,"borderBottomWidth"))||0)));if(0>l||0<n)!0===e?b.scrollTop(c,s.top+l):!1===e?b.scrollTop(c,s.top+n):0>l?b.scrollTop(c,s.top+l):b.scrollTop(c,s.top+n);if(k&&(0>j||0<f))!0===e?b.scrollLeft(c,s.left+j):!1===e?b.scrollLeft(c,s.left+f):0>j?b.scrollLeft(c,s.left+j):b.scrollLeft(c,s.left+f)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(a,
c){var d="scroll"+a;b[d]=function(g,e){if(y(g))return arguments.callee(r,g);var g=b.get(g),f,j,l,o=h(g);o?e!==i?(e=parseFloat(e),j="Left"==a?e:b.scrollLeft(o),l="Top"==a?e:b.scrollTop(o),o.scrollTo(j,l)):(f=o["page"+(c?"Y":"X")+"Offset"],y(f)||(j=o.document,f=j.documentElement[d],y(f)||(f=j.body[d]))):g.nodeType==m.ELEMENT_NODE&&(e!==i?g[d]=parseFloat(e):f=g[d]);return f}});c.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=h(c).document;return u(c.documentElement["scroll"+
a],c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){var c=b.get(c),d="client"+a,c=h(c).document,g=c.body,e=c.documentElement[d];return"CSS1Compat"===c.compatMode&&e||g&&g[d]||e}});return b},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,b,i){function n(b){var a,c;for(c=0;c<this.length&&!(a=this[c],!1===b(a,c));c++);}function k(f,d){var e,o,m="string"==typeof f,p=d==i&&(o=1)?[h]:k(d);f?m?(f=x(f),o&&"body"==f?e=[h.body]:1==p.length&&f&&(e=t(f,p[0]))):o&&(e=f.nodeType||f.setTimeout?[f]:f.getDOMNodes?f.getDOMNodes():a(f)?f:g(f)?c.makeArray(f):[f]):e=[];if(!e&&(e=[],f)){for(o=0;o<p.length;o++)v.apply(e,r(f,p[o]));1<e.length&&(1<p.length||m&&-1<f.indexOf(w))&&b.unique(e)}e.each=n;return e}function r(b,
a){var d="string"==typeof b;if(d&&b.match(B)||!d)d=m(b,a);else if(d&&-1<b.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(w)){var d=[],e,g=b.split(/\s*,\s*/);for(e=0;e<g.length;e++)v.apply(d,r(g[e],a))}else d=[],(e=c.require("sizzle"))&&e(b,a,d);return d}function t(a,c){var d,g,h,p;if(D.test(a))d=(g=e(a.slice(1),c))?[g]:[];else if(h=B.exec(a)){g=h[1];p=h[2];h=h[3];if(c=g?e(g,c):c)h?!g||-1!=a.indexOf(A)?d=[].concat(b._getElementsByClassName(h,p,c)):(g=e(g,c))&&b.hasClass(g,
h)&&(d=[g]):p&&(d=q(b._getElementsByTagName(p,c)));d=d||[]}return d}function m(c,e){var i;"string"==typeof c?i=t(c,e)||[]:a(c)||g(c)?i=d(c,function(a){return!a?!1:e==h?!0:b.contains(e,a)}):(!c?0:e==h||b.contains(e,c))&&(i=[c]);return i}function e(a,c){var d=c.nodeType==u.DOCUMENT_NODE,e=d?c:c.ownerDocument,g=b._getElementById(a,e);if(g&&!d)return b.contains(c,g)?g:null;!g&&!d&&!b.contains(c,e)&&(g=b.filter(C,"#"+a,c)[0]||null);return g}var h=c.Env.host.document,u=b.NodeType,d=c.filter,a=c.isArray,
q=c.makeArray,g=b._isNodeList,y=b.nodeName,v=Array.prototype.push,A=" ",w=",",x=c.trim,C="*",D=/^#[\w-]+$/,B=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;c.mix(b,{_getElementById:function(b,a){return a.getElementById(b)},_getElementsByTagName:function(b,a){return a.getElementsByTagName(b)},_getElementsByClassName:function(b,a,c){return q(c.querySelectorAll((a||"")+"."+b))},_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:
b.compareDocumentPosition(a)&4?-1:1},query:k,get:function(b,a){return k(b,a)[0]||null},unique:function(){function a(d,f){return d==f?(c=!0,0):b._compareNodeOrder(d,f)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(b){c=d;b.sort(a);if(c)for(var e=1,g=b.length;e<g;)b[e]===b[e-1]?b.splice(e,1):e++;return b}}(),filter:function(a,d,e){var a=k(a,e),e=c.require("sizzle"),g,h,p,s,i=[];if("string"==typeof d&&(d=x(d))&&(g=B.exec(d)))p=g[1],h=g[2],s=g[3],p?p&&!h&&!s&&(d=function(a){return b.attr(a,
"id")==p}):d=function(a){var c=!0,d=!0;h&&(c=y(a)==h.toLowerCase());s&&(d=b.hasClass(a,s));return d&&c};c.isFunction(d)?i=c.filter(a,d):d&&e&&(i=e.matches(d,a));return i},test:function(a,c,d){a=k(a,d);return a.length&&b.filter(a,c,d).length===a.length}});return b},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,b,i){function n(b){return b.replace(w,"ms-").replace(x,C)}function k(b,c,d){var e={},f;for(f in c)e[f]=b[a][f],b[a][f]=c[f];d.call(b);for(f in c)b[a][f]=e[f]}function r(b,c,d){var e,g,h;if(3===b.nodeType||8===b.nodeType||!(e=b[a]))return i;c=n(c);h=j[c];c=l[c]||c;if(d!==i){null===d||d===B?d=B:!isNaN(Number(d))&&!A[c]&&(d+=f);h&&h.set&&(d=h.set(b,d));if(d!==i){try{e[c]=d}catch(m){}d===B&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||b.removeAttribute("style");
return i}if(!h||!("get"in h&&(g=h.get(b,!1))!==i))g=e[c];return g===i?"":g}function t(b){var a,c=arguments;0!==b.offsetWidth?a=m.apply(i,c):k(b,z,function(){a=m.apply(i,c)});return a}function m(a,d,e){if(c.isWindow(a))return d==g?b.viewportWidth(a):b.viewportHeight(a);if(9==a.nodeType)return d==g?b.docWidth(a):b.docHeight(a);var f=d===g?["Left","Right"]:["Top","Bottom"],h=d===g?a.offsetWidth:a.offsetHeight;if(0<h)return"border"!==e&&c.each(f,function(c){e||(h-=parseFloat(b.css(a,"padding"+c))||0);
h="margin"===e?h+(parseFloat(b.css(a,e+c))||0):h-(parseFloat(b.css(a,"border"+c+"Width"))||0)}),h;h=b._getComputedStyle(a,d);if(null==h||0>Number(h))h=a.style[d]||0;h=parseFloat(h)||0;e&&c.each(f,function(c){h+=parseFloat(b.css(a,"padding"+c))||0;"padding"!==e&&(h+=parseFloat(b.css(a,"border"+c+"Width"))||0);"margin"===e&&(h+=parseFloat(b.css(a,e+c))||0)});return h}var e=c.Env.host,h=c.UA,u=b.nodeName,d=e.document,a="style",q=/^margin/,g="width",y="display"+c.now(),v=parseInt,A={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},w=/^-ms-/,x=/-([a-z])/ig,C=function(b,a){return a.toUpperCase()},D=/([A-Z]|^ms)/g,B="",f="px",j={},l={},o={};l["float"]="cssFloat";c.mix(b,{_camelCase:n,_CUSTOM_STYLES:j,_cssProps:l,_getComputedStyle:function(c,d){var e="",f,g,h,i,m;g=c.ownerDocument;d=d.replace(D,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||f[d];""===e&&!b.contains(g,c)&&(d=l[d]||d,e=c[a][d]);b._RE_NUM_NO_PX.test(e)&&q.test(d)&&
(m=c.style,g=m.width,h=m.minWidth,i=m.maxWidth,m.minWidth=m.maxWidth=m.width=e,e=f.width,m.width=g,m.minWidth=h,m.maxWidth=i);return e},style:function(a,d,e){var a=b.query(a),f,g=a[0];if(c.isPlainObject(d)){for(f in d)for(g=a.length-1;0<=g;g--)r(a[g],f,d[f]);return i}if(e===i)return f="",g&&(f=r(g,d,e)),f;for(g=a.length-1;0<=g;g--)r(a[g],d,e);return i},css:function(a,d,e){var a=b.query(a),f=a[0],g;if(c.isPlainObject(d)){for(g in d)for(f=a.length-1;0<=f;f--)r(a[f],g,d[g]);return i}d=n(d);g=j[d];if(e===
i){e="";if(f&&(!g||!("get"in g&&(e=g.get(f,!0))!==i)))e=b._getComputedStyle(f,d);return e===i?"":e}for(f=a.length-1;0<=f;f--)r(a[f],d,e);return i},show:function(c){var c=b.query(c),e,f,g;for(g=c.length-1;0<=g;g--)if(f=c[g],f[a].display=b.data(f,y)||B,"none"===b.css(f,"display")){e=f.tagName.toLowerCase();var h=void 0,i=o[e],m=void 0;o[e]||(h=d.body||d.documentElement,m=d.createElement(e),b.prepend(m,h),i=b.css(m,"display"),h.removeChild(m),o[e]=i);e=i;b.data(f,y,e);f[a].display=e}},hide:function(c){var c=
b.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var f=d[a],g=f.display;"none"!==g&&(g&&b.data(d,y,g),f.display="none")}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--)c=a[d],"none"===b.css(c,"display")?b.show(c):b.hide(c)},addStyleSheet:function(a,c,d){a=a||e;"string"==typeof a&&(d=c,c=a,a=e);var a=b.get(a),a=b._getWin(a).document,f;if(d&&(d=d.replace("#",B)))f=b.get("#"+d,a);f||(f=b.create("<style>"+c+"</style>",{id:d},a),b.get("head",a).appendChild(f))},unselectable:function(d){var d=
b.query(d),e,f,g=0,i,m;for(f=d.length-1;0<=f;f--)if(e=d[f],h.gecko)e[a].MozUserSelect="none";else if(h.webkit)e[a].KhtmlUserSelect="none";else if(h.ie||h.opera){m=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];e=m[g++];)c.inArray(u(e),i)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([g,"height"],function(a){b["inner"+c.ucfirst(a)]=function(c){return(c=b.get(c))&&t(c,
a,"padding")};b["outer"+c.ucfirst(a)]=function(c,d){var e=b.get(c);return e&&t(e,a,d?"margin":"border")};b[a]=function(c,d){var e=b.css(c,a,d);e&&(e=parseFloat(e));return e}});var z={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(a){j[a]={get:function(b,c){if(c)return t(b,a)+"px"}}});c.each(["left","top"],function(a){j[a]={get:function(e,f){if(f){var g=b._getComputedStyle(e,a);if("auto"===g){g=0;if(c.inArray(b.css(e,"position"),["absolute","fixed"])){g=
e["left"===a?"offsetLeft":"offsetTop"];if(h.ie&&9>(d.documentMode||0)||h.opera)g-=e.offsetParent&&e.offsetParent["client"+("left"==a?"Left":"Top")]||0;g-=v(b.css(e,"margin-"+a))||0}g+="px"}return g}}}});return b},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,b,i){function n(m,e,h,n,d,a,q){if(!(m=b.get(m)))return null;if(0===e)return m;a||(m=m[h]);if(!m)return null;d=d&&b.get(d)||null;e===i&&(e=1);var a=[],g=c.isArray(e),r,v;c.isNumber(e)&&(r=0,v=e,e=function(){return++r===v});for(;m&&m!=d;){if((m.nodeType==t.ELEMENT_NODE||m.nodeType==t.TEXT_NODE&&q)&&k(m,e)&&(!n||n(m)))if(a.push(m),!g)break;m=m[h]}return g?a:a[0]||null}function k(i,e){if(!e)return!0;if(c.isArray(e)){var h,k=e.length;if(!k)return!0;for(h=0;h<k;h++)if(b.test(i,
e[h]))return!0}else if(b.test(i,e))return!0;return!1}function r(i,e,h,k){var d=[],a,n;if((a=i=b.get(i))&&h)a=i.parentNode;if(a){h=c.makeArray(a.childNodes);for(a=0;a<h.length;a++)n=h[a],(k||n.nodeType==t.ELEMENT_NODE)&&n!=i&&d.push(n);e&&(d=b.filter(d,e))}return d}var t=b.NodeType;c.mix(b,{_contains:function(b,c){return!!(b.compareDocumentPosition(c)&16)},closest:function(b,c,h,i){return n(b,c,"parentNode",function(b){return b.nodeType!=t.DOCUMENT_FRAGMENT_NODE},h,!0,i)},parent:function(b,c,h){return n(b,
c,"parentNode",function(b){return b.nodeType!=t.DOCUMENT_FRAGMENT_NODE},h,i)},first:function(c,e,h){c=b.get(c);return n(c&&c.firstChild,e,"nextSibling",i,i,!0,h)},last:function(c,e,h){c=b.get(c);return n(c&&c.lastChild,e,"previousSibling",i,i,!0,h)},next:function(b,c,h){return n(b,c,"nextSibling",i,i,i,h)},prev:function(b,c,h){return n(b,c,"previousSibling",i,i,i,h)},siblings:function(b,c,h){return r(b,c,!0,h)},children:function(b,c){return r(b,c,i)},contents:function(b,c){return r(b,c,i,1)},contains:function(c,
e){c=b.get(c);e=b.get(e);return c&&e?b._contains(c,e):!1},index:function(i,e){var h=b.query(i),k,d=0;k=h[0];if(!e){h=k&&k.parentNode;if(!h)return-1;for(;k=k.previousSibling;)k.nodeType==t.ELEMENT_NODE&&d++;return d}d=b.query(e);return"string"===typeof e?c.indexOf(k,d):c.indexOf(d[0],h)},equals:function(c,e){c=b.query(c);e=b.query(e);if(c.length!=e.length)return!1;for(var h=c.length;0<=h;h--)if(c[h]!=e[h])return!1;return!0}});return b},{requires:["./api"]});
