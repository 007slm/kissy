/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Mar 12 21:51
*/
KISSY.add("dom/base/api",function(c){var b=c.Env.host,h=c.UA,p={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(c){var c=c||b,h=c.document.domain,c=c.location.hostname;return h!=c&&h!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||b;return h.ie&&j.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:p,getWindow:function(c){return!c?b:"scrollTo"in c&&c.document?c:c.nodeType==p.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(b){return b&&!b.nodeType&&b.item&&!b.setTimeout},nodeName:function(b){var c=j.get(b),b=c.nodeName.toLowerCase();h.ie&&(c=c.scopeName)&&"HTML"!=c&&(b=c.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(j,p);return j});
KISSY.add("dom/base/attr",function(c,b,h){function p(b,d){var d=z[d]||d,a=A[d];return a&&a.get?a.get(b,d):b[d]}var j=c.Env.host.document,o=b.NodeType,t=(j=j&&j.documentElement)&&j.textContent===h?"innerText":"textContent",e=b.nodeName,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,i=/^(?:button|input|object|select|textarea)$/i,x=/^a(?:rea)?$/i,d=/:|^on/,a=/\r/g,k={},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},y={tabindex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):i.test(b.nodeName)||x.test(b.nodeName)&&b.href?0:h}}},z={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},B={get:function(d,
q){return b.prop(d,q)?q.toLowerCase():h},set:function(d,q,a){!1===q?b.removeAttr(d,a):(q=z[a]||a,q in d&&(d[q]=!0),d.setAttribute(a,a.toLowerCase()));return a}},A={},w={},C={select:{get:function(d){var a=d.selectedIndex,c=d.options,g;if(0>a)return null;if("select-one"===d.type)return b.val(c[a]);d=[];a=0;for(g=c.length;a<g;++a)c[a].selected&&d.push(b.val(c[a]));return d},set:function(d,a){var h=c.makeArray(a);c.each(d.options,function(g){g.selected=c.inArray(b.val(g),h)});h.length||(d.selectedIndex=
-1);return h}}};c.each(["radio","checkbox"],function(d){C[d]={get:function(b){return null===b.getAttribute("value")?"on":b.value},set:function(d,a){if(c.isArray(a))return d.checked=c.inArray(b.val(d),a)}}});y.style={get:function(b){return b.style.cssText}};c.mix(b,{_valHooks:C,_propFix:z,_attrHooks:y,_propHooks:A,_attrNodeHook:w,_attrFix:k,prop:function(d,a,k){var g=b.query(d),m,n;if(c.isPlainObject(a))return c.each(a,function(m,d){b.prop(g,d,m)}),h;a=z[a]||a;n=A[a];if(k!==h)for(d=g.length-1;0<=d;d--)m=
g[d],n&&n.set?n.set(m,k,a):m[a]=k;else if(g.length)return p(g[0],a);return h},hasProp:function(d,a){var c=b.query(d),g,m=c.length,n;for(g=0;g<m;g++)if(n=c[g],p(n,a)!==h)return!0;return!1},removeProp:function(d,a){var a=z[a]||a,c=b.query(d),g,m;for(g=c.length-1;0<=g;g--){m=c[g];try{m[a]=h,delete m[a]}catch(n){}}},attr:function(a,q,i,g){var m=b.query(a),n=m[0];if(c.isPlainObject(q)){var g=i,u;for(u in q)b.attr(m,u,q[u],g);return h}if(!(q=c.trim(q)))return h;if(g&&r[q])return b[q](a,i);q=q.toLowerCase();
if(g&&r[q])return b[q](a,i);q=k[q]||q;a=f.test(q)?B:d.test(q)?w:y[q];if(i===h){if(n&&n.nodeType===o.ELEMENT_NODE){"form"==e(n)&&(a=w);if(a&&a.get)return a.get(n,q);q=n.getAttribute(q);return null===q?h:q}}else for(g=m.length-1;0<=g;g--)if((n=m[g])&&n.nodeType===o.ELEMENT_NODE)"form"==e(n)&&(a=w),a&&a.set?a.set(n,i,q):n.setAttribute(q,""+i);return h},removeAttr:function(d,a){var a=a.toLowerCase(),a=k[a]||a,c=b.query(d),g,m,n;for(n=c.length-1;0<=n;n--)if(m=c[n],m.nodeType==o.ELEMENT_NODE&&(m.removeAttribute(a),
f.test(a)&&(g=z[a]||a)in m))m[g]=!1},hasAttr:j&&!j.hasAttribute?function(d,a){var a=a.toLowerCase(),c=b.query(d),g,m;for(g=0;g<c.length;g++)if(m=c[g],(m=m.getAttributeNode(a))&&m.specified)return!0;return!1}:function(d,a){var c=b.query(d),g,m=c.length;for(g=0;g<m;g++)if(c[g].hasAttribute(a))return!0;return!1},val:function(d,i){var k,g,m,n,u;if(i===h){if(m=b.get(d)){if((k=C[e(m)]||C[m.type])&&"get"in k&&(g=k.get(m,"value"))!==h)return g;g=m.value;return"string"===typeof g?g.replace(a,""):null==g?"":
g}return h}g=b.query(d);for(n=g.length-1;0<=n;n--){m=g[n];if(1!==m.nodeType)break;u=i;null==u?u="":"number"===typeof u?u+="":c.isArray(u)&&(u=c.map(u,function(b){return b==null?"":b+""}));k=C[e(m)]||C[m.type];if(!k||!("set"in k)||k.set(m,u,"value")===h)m.value=u}return h},text:function(d,a){var c,g,m;if(a===h){c=b.get(d);if(c.nodeType==o.ELEMENT_NODE)return c[t]||"";if(c.nodeType==o.TEXT_NODE)return c.nodeValue}else{g=b.query(d);for(m=g.length-1;0<=m;m--)c=g[m],c.nodeType==o.ELEMENT_NODE?c[t]=a:c.nodeType==
o.TEXT_NODE&&(c.nodeValue=a)}return h}});return b},{requires:["./api"]});KISSY.add("dom/base",function(c,b){c.mix(c,{DOM:b,get:b.get,query:b.query});return b},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,b){function h(b){b=c.trim(b||"");return b.split(e)}function p(b){return function(c,h){var d,a,k,r=c.classList,e=o.call(arguments,2);d=0;for(a=h.length;d<a;d++)(k=h[d])&&r[b].apply(r,[k].concat(e))}}function j(c){return function(i,e){var d=h(e),a=o.call(arguments,2);b.query(i).each(function(k){k.nodeType==t.ELEMENT_NODE&&b[c].apply(b,[k,d].concat(a))})}}var o=[].slice,t=b.NodeType,e=/[\.\s]\s*\.?/;c.mix(b,{_hasClass:function(b,c){var h,d,a,k=b.classList;if(k.length){h=
0;for(d=c.length;h<d;h++)if((a=c[h])&&!k.contains(a))return!1;return!0}return!1},_addClass:p("add"),_removeClass:p("remove"),_toggleClass:p("toggle"),hasClass:function(c,i){var e=b.get(c);return e&&e.nodeType==t.ELEMENT_NODE&&b._hasClass(e,h(i))},replaceClass:function(c,h,e){b.removeClass(c,h);b.addClass(c,e)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return b},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,b,h){function p(g){var d=c.require("event/dom");d&&d.detach(g);b.removeData(g)}function j(b,m){var n=m&&m!=f?m.createElement(d):a;n.innerHTML="m<div>"+b+"</div>";return n.lastChild}function o(b,d,a){var c=d.nodeType;if(c==i.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;a=a.childNodes;for(c=0;d[c];)a[c]&&o(b,d[c],a[c]),c++}else if(c==i.ELEMENT_NODE){d=d.getElementsByTagName("*");a=a.getElementsByTagName("*");for(c=0;d[c];)a[c]&&b(d[c],a[c]),c++}}function t(g,d){var a=
c.require("event/dom"),h,l;if(d.nodeType!=i.ELEMENT_NODE||b.hasData(g)){h=b.data(g);for(l in h)b.data(d,l,h[l]);a&&(a._DOMUtils.removeData(d),a._clone(g,d))}}function e(b){var d=null,a,h;if(b&&(b.push||b.item)&&b[0]){d=b[0].ownerDocument;d=d.createDocumentFragment();b=c.makeArray(b);a=0;for(h=b.length;a<h;a++)d.appendChild(b[a])}return d}var f=c.Env.host.document,i=b.NodeType,x=c.UA.ie,d="div",a=f&&f.createElement(d),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,r=/<([\w:]+)/,
y=/^\s+/,z=x&&9>x,B=/<|&#?\w+;/,A=f&&"outerHTML"in f.documentElement,w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(b,{create:function(g,a,n,u){var l=null;if(!g)return l;if(g.nodeType)return b.clone(g);if("string"!=typeof g)return l;u===h&&(u=!0);u&&(g=c.trim(g));var u=b._creators,s,v,n=n||f,F,G=d;if(B.test(g))if(F=w.exec(g))l=n.createElement(F[1]);else{g=g.replace(k,"<$1></$2>");if((F=r.exec(g))&&(s=F[1]))G=s.toLowerCase();s=(u[G]||j)(g,n);z&&(v=g.match(y))&&s.insertBefore(n.createTextNode(v[0]),s.firstChild);
g=s.childNodes;1===g.length?l=g[0].parentNode.removeChild(g[0]):g.length&&(l=e(g))}else l=n.createTextNode(g);c.isPlainObject(a)&&(l.nodeType==i.ELEMENT_NODE?b.attr(l,a,!0):l.nodeType==i.DOCUMENT_FRAGMENT_NODE&&b.attr(l.childNodes,a,!0));return l},_fixCloneAttributes:null,_creators:{div:j},_defaultCreator:j,html:function(g,d,a,c){var g=b.query(g),l=g[0],s=!1,v,k;if(l){if(d===h)return l.nodeType==i.ELEMENT_NODE?l.innerHTML:null;d+="";if(!d.match(/<(?:script|style|link)/i)&&(!z||!d.match(y))&&!q[(d.match(r)||
["",""])[1].toLowerCase()])try{for(v=g.length-1;0<=v;v--)k=g[v],k.nodeType==i.ELEMENT_NODE&&(p(k.getElementsByTagName("*")),k.innerHTML=d);s=!0}catch(e){}s||(d=b.create(d,0,l.ownerDocument,0),b.empty(g),b.append(d,g,a));c&&c()}},outerHTML:function(g,c,n){var k=b.query(g),l=k.length;if(g=k[0]){if(c===h){if(A)return g.outerHTML;c=(c=g.ownerDocument)&&c!=f?c.createElement(d):a;c.innerHTML="";c.appendChild(b.clone(g,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&A)for(n=l-1;0<=
n;n--)g=k[n],g.nodeType==i.ELEMENT_NODE&&(p(g),p(g.getElementsByTagName("*")),g.outerHTML=c);else g=b.create(c,0,g.ownerDocument,0),b.insertBefore(g,k,n),b.remove(k)}},remove:function(d,a){var c,k=b.query(d),l,s;for(s=k.length-1;0<=s;s--)c=k[s],!a&&c.nodeType==i.ELEMENT_NODE&&(l=c.getElementsByTagName("*"),p(l),p(c)),c.parentNode&&c.parentNode.removeChild(c)},clone:function(d,a,c,k){"object"===typeof a&&(k=a.deepWithDataAndEvent,c=a.withDataAndEvent,a=a.deep);var d=b.get(d),l,s=b._fixCloneAttributes,
v;if(!d)return null;v=d.nodeType;l=d.cloneNode(a);if(v==i.ELEMENT_NODE||v==i.DOCUMENT_FRAGMENT_NODE)s&&v==i.ELEMENT_NODE&&s(d,l),a&&s&&o(s,d,l);c&&(t(d,l),a&&k&&o(t,d,l));return l},empty:function(d){var d=b.query(d),a,c;for(c=d.length-1;0<=c;c--)a=d[c],b.remove(a.childNodes)},_nodeListToFragment:e});var C=b._creators,E=b.create,q={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},
D;for(D in q)(function(b){C[D]=function(d,a){return E("<"+b+">"+d+"</"+b+">",null,a)}})(q[D]);return b},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,b,h){var p=c.Env.host,j="__ks_data_"+c.now(),o={},t={},e={applet:1,object:1,embed:1},f={hasData:function(b,a){if(b)if(a!==h){if(a in b)return!0}else if(!c.isEmptyObject(b))return!0;return!1}},i={hasData:function(b,a){return b==p?i.hasData(t,a):f.hasData(b[j],a)},data:function(b,a,c){if(b==p)return i.data(t,a,c);var e=b[j];if(c!==h)e=b[j]=b[j]||{},e[a]=c;else return a!==h?e&&e[a]:e=b[j]=b[j]||{}},removeData:function(b,a){if(b==p)return i.removeData(t,a);var k=b[j];
if(a!==h)delete k[a],c.isEmptyObject(k)&&i.removeData(b);else try{delete b[j]}catch(e){b[j]=h}}},x={hasData:function(b,a){var c=b[j];return!c?!1:f.hasData(o[c],a)},data:function(b,a,k){if(e[b.nodeName.toLowerCase()])return h;var i=b[j];if(!i){if(a!==h&&k===h)return h;i=b[j]=c.guid()}b=o[i];if(k!==h)b=o[i]=o[i]||{},b[a]=k;else return a!==h?b&&b[a]:b=o[i]=o[i]||{}},removeData:function(b,a){var k=b[j],i;if(k)if(i=o[k],a!==h)delete i[a],c.isEmptyObject(i)&&x.removeData(b);else{delete o[k];try{delete b[j]}catch(e){b[j]=
h}b.removeAttribute&&b.removeAttribute(j)}}};c.mix(b,{__EXPANDO:j,hasData:function(d,a){for(var c=!1,h=b.query(d),e=0;e<h.length&&!(c=h[e],c=c.nodeType?x.hasData(c,a):i.hasData(c,a));e++);return c},data:function(d,a,k){var d=b.query(d),e=d[0];if(c.isPlainObject(a)){for(var f in a)b.data(d,f,a[f]);return h}if(k===h){if(e)return e.nodeType?x.data(e,a):i.data(e,a)}else for(f=d.length-1;0<=f;f--)e=d[f],e.nodeType?x.data(e,a,k):i.data(e,a,k);return h},removeData:function(c,a){var h=b.query(c),e,f;for(f=
h.length-1;0<=f;f--)e=h[f],e.nodeType?x.removeData(e,a):i.removeData(e,a)}});return b},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,b){function h(b,a){var c=[],r,j,p;for(r=0;b[r];r++)if(j=b[r],p=e(j),j.nodeType==o.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,h(f(j.childNodes),a));else if("script"===p&&(!j.type||x.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),a&&a.push(j);else{if(j.nodeType==o.ELEMENT_NODE&&!t.test(p)){p=[];var B,A,w=j.getElementsByTagName("script");for(A=0;A<w.length;A++)B=w[A],(!B.type||x.test(B.type))&&p.push(B);i.apply(b,[r+1,0].concat(p))}c.push(j)}return c}function p(b){b.src?
c.getScript(b.src):(b=c.trim(b.text||b.textContent||b.innerHTML||""))&&c.globalEval(b)}function j(d,a,e,i){d=b.query(d);i&&(i=[]);d=h(d,i);b._fixInsertionChecked&&b._fixInsertionChecked(d);var a=b.query(a),f,j,o,A,w=a.length;if((d.length||i&&i.length)&&w){d=b._nodeListToFragment(d);1<w&&(A=b.clone(d,!0),a=c.makeArray(a));for(f=0;f<w;f++)j=a[f],d&&(o=0<f?b.clone(A,!0):d,e(o,j)),i&&i.length&&c.each(i,p)}}var o=b.NodeType,t=/^(?:button|input|object|select|textarea)$/i,e=b.nodeName,f=c.makeArray,i=[].splice,
x=/\/(java|ecma)script/i;c.mix(b,{_fixInsertionChecked:null,insertBefore:function(b,a,c){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},c)},insertAfter:function(b,a,c){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)},c)},appendTo:function(b,a,c){j(b,a,function(b,a){a.appendChild(b)},c)},prependTo:function(b,a,c){j(b,a,function(b,a){a.insertBefore(b,a.firstChild)},c)},wrapAll:function(c,a){a=b.clone(b.get(a),!0);c=b.query(c);c[0].parentNode&&b.insertBefore(a,
c[0]);for(var e;(e=a.firstChild)&&1==e.nodeType;)a=e;b.appendTo(c,a)},wrap:function(d,a){d=b.query(d);a=b.get(a);c.each(d,function(c){b.wrapAll(c,a)})},wrapInner:function(d,a){d=b.query(d);a=b.get(a);c.each(d,function(c){var d=c.childNodes;d.length?b.wrapAll(d,a):c.appendChild(a)})},unwrap:function(d){d=b.query(d);c.each(d,function(a){a=a.parentNode;b.replaceWith(a,a.childNodes)})},replaceWith:function(c,a){var e=b.query(c),a=b.query(a);b.remove(a,!0);b.insertBefore(a,e);b.remove(e)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,a){b[a]=b[c]});return b},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,b,h){function p(b){var c,a=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};c=b.getBoundingClientRect();b=c[k];c=c[r];b-=f.clientLeft||a.clientLeft||0;c-=f.clientTop||a.clientTop||0;return{left:b,top:c}}function j(c,d){var e={left:0,top:0},h=i(c[a]),f,k=c,d=d||h;do{if(h==d){var g=k;f=p(g);g=i(g[a]);f.left+=b[z](g);f.top+=b[B](g)}else f=p(k);e.left+=f.left;e.top+=f.top}while(h&&h!=d&&(k=h.frameElement)&&(h=h.parent));return e}var o=c.Env.host,
t=o.document,e=b.NodeType,f=t&&t.documentElement,i=b.getWindow,x=Math.max,d=parseInt,a="ownerDocument",k="left",r="top",y=c.isNumber,z="scrollLeft",B="scrollTop";c.mix(b,{offset:function(c,a,e){if(a===h){var c=b.get(c),i;c&&(i=j(c,e));return i}e=b.query(c);for(i=e.length-1;0<=i;i--){var c=e[i],f=a;"static"===b.css(c,"position")&&(c.style.position="relative");var k=j(c),g={},m=void 0,n=void 0;for(n in f)m=d(b.css(c,n),10)||0,g[n]=m+f[n]-k[n];b.css(c,g)}return h},scrollIntoView:function(a,f,j,p){var q,
o,g,m;if(g=b.get(a)){f&&(f=b.get(f));f||(f=g.ownerDocument);f.nodeType==e.DOCUMENT_NODE&&(f=i(f));c.isPlainObject(j)&&(p=j.allowHorizontalScroll,m=j.onlyScrollIfNeeded,j=j.alignWithTop);p=p===h?!0:p;o=!!i(f);var a=b.offset(g),n=b.outerHeight(g);q=b.outerWidth(g);var u,l,s,v;o?(o=f,u=b.height(o),l=b.width(o),v={left:b.scrollLeft(o),top:b.scrollTop(o)},o=a[k]-v[k],g=a[r]-v[r],q=a[k]+q-(v[k]+l),a=a[r]+n-(v[r]+u)):(u=b.offset(f),l=f.clientHeight,s=f.clientWidth,v={left:b.scrollLeft(f),top:b.scrollTop(f)},
o=a[k]-(u[k]+(d(b.css(f,"borderLeftWidth"))||0)),g=a[r]-(u[r]+(d(b.css(f,"borderTopWidth"))||0)),q=a[k]+q-(u[k]+s+(d(b.css(f,"borderRightWidth"))||0)),a=a[r]+n-(u[r]+l+(d(b.css(f,"borderBottomWidth"))||0)));if(m){if(0>g||0<a)!0===j?b.scrollTop(f,v.top+g):!1===j?b.scrollTop(f,v.top+a):0>g?b.scrollTop(f,v.top+g):b.scrollTop(f,v.top+a)}else(j=j===h?!0:!!j)?b.scrollTop(f,v.top+g):b.scrollTop(f,v.top+a);if(p)if(m){if(0>o||0<q)!0===j?b.scrollLeft(f,v.left+o):!1===j?b.scrollLeft(f,v.left+q):0>o?b.scrollLeft(f,
v.left+o):b.scrollLeft(f,v.left+q)}else(j=j===h?!0:!!j)?b.scrollLeft(f,v.left+o):b.scrollLeft(f,v.left+q)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(c,a){var d="scroll"+c;b[d]=function(f,j){if(y(f))return arguments.callee(o,f);var f=b.get(f),k,g,m,n=i(f);n?j!==h?(j=parseFloat(j),g="Left"==c?j:b.scrollLeft(n),m="Top"==c?j:b.scrollTop(n),n.scrollTo(g,m)):(k=n["page"+(a?"Y":"X")+"Offset"],y(k)||(g=n.document,k=g.documentElement[d],
y(k)||(k=g.body[d]))):f.nodeType==e.ELEMENT_NODE&&(j!==h?f[d]=parseFloat(j):k=f[d]);return k}});c.each(["Width","Height"],function(c){b["doc"+c]=function(a){a=b.get(a);a=i(a).document;return x(a.documentElement["scroll"+c],a.body["scroll"+c],b["viewport"+c](a))};b["viewport"+c]=function(a){var a=b.get(a),d="client"+c,a=i(a).document,f=a.body,e=a.documentElement[d];return"CSS1Compat"===a.compatMode&&e||f&&f[d]||e}});return b},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,b,h){function p(b){var a,c;for(c=0;c<this.length&&!(a=this[c],!1===b(a,c));c++);}function j(a,f){var e,i,l="string"==typeof a,s=f==h&&(i=1)?[d]:j(f);a?l?(a=E(a),i&&"body"==a?e=[d.body]:1==s.length&&a&&(e=t(a,s[0]))):i&&(e=a.nodeType||a.setTimeout?[a]:a.getDOMNodes?a.getDOMNodes():r(a)?a:z(a)?c.makeArray(a):[a]):e=[];if(!e&&(e=[],a)){for(i=0;i<s.length;i++)A.apply(e,o(a,s[i]));1<e.length&&(1<s.length||l&&-1<a.indexOf(C))&&b.unique(e)}e.each=p;return e}function o(b,
a){var d="string"==typeof b;if(d&&b.match(D)||!d)d=e(b,a);else if(d&&-1<b.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(C)){var d=[],f,l=b.split(/\s*,\s*/);for(f=0;f<l.length;f++)A.apply(d,o(l[f],a))}else d=[],(f=c.require("sizzle"))&&f(b,a,d);return d}function t(a,c){var d,e,l,s;if(q.test(a))d=(e=f(a.slice(1),c))?[e]:[];else if(l=D.exec(a)){e=l[1];s=l[2];l=l[3];if(c=e?f(e,c):c)l?!e||-1!=a.indexOf(w)?d=[].concat(b._getElementsByClassName(l,s,c)):(e=f(e,c),i(e,l)&&(d=
[e])):s&&(d=y(b._getElementsByTagName(s,c)));d=d||[]}return d}function e(a,c){var e;"string"==typeof a?e=t(a,c)||[]:r(a)||z(a)?e=k(a,function(a){return!a?!1:c==d?!0:b._contains(c,a)}):(!a?0:c==d||b._contains(c,a))&&(e=[a]);return e}function f(c,d){var e=d.nodeType==a.DOCUMENT_NODE;return b._getElementById(c,d,e?d:d.ownerDocument,e)}function i(b,a){var c=b&&b.className;return c&&-1<(w+c+w).indexOf(w+a+w)}function x(b,a){var c=b&&b.getAttributeNode(a);return c&&c.nodeValue}var d=c.Env.host.document,
a=b.NodeType,k=c.filter,r=c.isArray,y=c.makeArray,z=b._isNodeList,B=b.nodeName,A=Array.prototype.push,w=" ",C=",",E=c.trim,q=/^#[\w-]+$/,D=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;c.mix(b,{_hasSingleClass:i,_getElementById:function(a,c,d,e){var l=d.getElementById(a),f=x(l,"id");return!l&&!e&&!b._contains(d,c)||l&&f!=a?b.filter("*","#"+a,c)[0]||null:e||l&&b._contains(c,l)?l:null},_getElementsByTagName:function(b,a){return a.getElementsByTagName(b)},_getElementsByClassName:function(b,a,c){return y(c.querySelectorAll((a||
"")+"."+b))},_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},query:j,get:function(b,a){return j(b,a)[0]||null},unique:function(){function a(d,l){return d==l?(c=!0,0):b._compareNodeOrder(d,l)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(b){c=d;b.sort(a);if(c)for(var l=1,e=b.length;l<e;)b[l]===b[l-1]?b.splice(l,1):l++;return b}}(),filter:function(b,a,d){var b=j(b,d),d=
c.require("sizzle"),e,l,f,h,k=[];if("string"==typeof a&&(a=E(a))&&(e=D.exec(a)))f=e[1],l=e[2],h=e[3],f?f&&!l&&!h&&(a=function(b){return x(b,"id")==f}):a=function(b){var a=!0,c=!0;l&&(a=B(b)==l.toLowerCase());h&&(c=i(b,h));return c&&a};c.isFunction(a)?k=c.filter(b,a):a&&d&&(k=d.matches(a,b));return k},test:function(a,c,d){a=j(a,d);return a.length&&b.filter(a,c,d).length===a.length}});return b},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,b,h){function p(b){return b.replace(A,"ms-").replace(w,C)}function j(b,c,d){var e={},f;for(f in c)e[f]=b[a][f],b[a][f]=c[f];d.call(b);for(f in c)b[a][f]=e[f]}function o(b,c,d){var e,f,i;if(3===b.nodeType||8===b.nodeType||!(e=b[a]))return h;c=p(c);i=g[c];c=m[c]||c;if(d!==h){null===d||d===q?d=q:!isNaN(Number(d))&&!B[c]&&(d+=D);i&&i.set&&(d=i.set(b,d));if(d!==h){try{e[c]=d}catch(k){}d===q&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||b.removeAttribute("style");
return h}if(!i||!("get"in i&&(f=i.get(b,!1))!==h))f=e[c];return f===h?"":f}function t(b){var a,c=arguments;0!==b.offsetWidth?a=e.apply(h,c):j(b,u,function(){a=e.apply(h,c)});return a}function e(a,d,e){if(c.isWindow(a))return d==r?b.viewportWidth(a):b.viewportHeight(a);if(9==a.nodeType)return d==r?b.docWidth(a):b.docHeight(a);var f=d===r?["Left","Right"]:["Top","Bottom"],g=d===r?a.offsetWidth:a.offsetHeight;if(0<g)return"border"!==e&&c.each(f,function(c){e||(g-=parseFloat(b.css(a,"padding"+c))||0);
g="margin"===e?g+(parseFloat(b.css(a,e+c))||0):g-(parseFloat(b.css(a,"border"+c+"Width"))||0)}),g;g=b._getComputedStyle(a,d);if(null==g||0>Number(g))g=a.style[d]||0;g=parseFloat(g)||0;e&&c.each(f,function(c){g+=parseFloat(b.css(a,"padding"+c))||0;"padding"!==e&&(g+=parseFloat(b.css(a,"border"+c+"Width"))||0);"margin"===e&&(g+=parseFloat(b.css(a,e+c))||0)});return g}var f=c.Env.host,i=c.UA,x=b.nodeName,d=f.document,a="style",k=/^margin/,r="width",y="display"+c.now(),z=parseInt,B={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},A=/^-ms-/,w=/-([a-z])/ig,C=function(b,a){return a.toUpperCase()},E=/([A-Z]|^ms)/g,q="",D="px",g={},m={},n={};m["float"]="cssFloat";c.mix(b,{_camelCase:p,_CUSTOM_STYLES:g,_cssProps:m,_getComputedStyle:function(c,d){var e="",f,g,i,h,j;g=c.ownerDocument;d=d.replace(E,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||f[d];""===e&&!b.contains(g,c)&&(d=m[d]||d,e=c[a][d]);b._RE_NUM_NO_PX.test(e)&&k.test(d)&&
(j=c.style,g=j.width,i=j.minWidth,h=j.maxWidth,j.minWidth=j.maxWidth=j.width=e,e=f.width,j.width=g,j.minWidth=i,j.maxWidth=h);return e},style:function(a,d,e){var a=b.query(a),f,g=a[0];if(c.isPlainObject(d)){for(f in d)for(g=a.length-1;0<=g;g--)o(a[g],f,d[f]);return h}if(e===h)return f="",g&&(f=o(g,d,e)),f;for(g=a.length-1;0<=g;g--)o(a[g],d,e);return h},css:function(a,d,e){var a=b.query(a),f=a[0],i;if(c.isPlainObject(d)){for(i in d)for(f=a.length-1;0<=f;f--)o(a[f],i,d[i]);return h}d=p(d);i=g[d];if(e===
h){e="";if(f&&(!i||!("get"in i&&(e=i.get(f,!0))!==h)))e=b._getComputedStyle(f,d);return e===h?"":e}for(f=a.length-1;0<=f;f--)o(a[f],d,e);return h},show:function(c){var c=b.query(c),e,f,g;for(g=c.length-1;0<=g;g--)if(f=c[g],f[a].display=b.data(f,y)||q,"none"===b.css(f,"display")){e=f.tagName.toLowerCase();var i=void 0,h=n[e],j=void 0;n[e]||(i=d.body||d.documentElement,j=d.createElement(e),b.prepend(j,i),h=b.css(j,"display"),i.removeChild(j),n[e]=h);e=h;b.data(f,y,e);f[a].display=e}},hide:function(c){var c=
b.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var f=d[a],g=f.display;"none"!==g&&(g&&b.data(d,y,g),f.display="none")}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--)c=a[d],"none"===b.css(c,"display")?b.show(c):b.hide(c)},addStyleSheet:function(a,c,d){a=a||f;"string"==typeof a&&(d=c,c=a,a=f);var a=b.get(a),a=b.getWindow(a).document,e;if(d&&(d=d.replace("#",q)))e=b.get("#"+d,a);e||(e=b.create("<style>",{id:d},a),b.get("head",a).appendChild(e),e.styleSheet?e.styleSheet.cssText=
c:e.appendChild(a.createTextNode(c)))},unselectable:function(d){var d=b.query(d),e,f,g=0,h,j;for(f=d.length-1;0<=f;f--)if(e=d[f],i.gecko)e[a].MozUserSelect="none";else if(i.webkit)e[a].KhtmlUserSelect="none";else if(i.ie||i.opera){j=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(h=["iframe","textarea","input","select"];e=j[g++];)c.inArray(x(e),h)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([r,"height"],
function(a){b["inner"+c.ucfirst(a)]=function(c){return(c=b.get(c))&&t(c,a,"padding")};b["outer"+c.ucfirst(a)]=function(c,d){var e=b.get(c);return e&&t(e,a,d?"margin":"border")};b[a]=function(c,d){var e=b.css(c,a,d);e&&(e=parseFloat(e));return e}});var u={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(a){g[a]={get:function(b,c){if(c)return t(b,a)+"px"}}});c.each(["left","top"],function(a){g[a]={get:function(e,f){if(f){var g=b._getComputedStyle(e,a);if("auto"===
g){g=0;if(c.inArray(b.css(e,"position"),["absolute","fixed"])){g=e["left"===a?"offsetLeft":"offsetTop"];if(i.ie&&9>(d.documentMode||0)||i.opera)g-=e.offsetParent&&e.offsetParent["client"+("left"==a?"Left":"Top")]||0;g-=z(b.css(e,"margin-"+a))||0}g+="px"}return g}}}});return b},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,b,h){function p(e,f,i,o,d,a,k){if(!(e=b.get(e)))return null;if(0===f)return e;a||(e=e[i]);if(!e)return null;d=d&&b.get(d)||null;f===h&&(f=1);var a=[],p=c.isArray(f),y,z;c.isNumber(f)&&(y=0,z=f,f=function(){return++y===z});for(;e&&e!=d;){if((e.nodeType==t.ELEMENT_NODE||e.nodeType==t.TEXT_NODE&&k)&&j(e,f)&&(!o||o(e)))if(a.push(e),!p)break;e=e[i]}return p?a:a[0]||null}function j(e,f){if(!f)return!0;if(c.isArray(f)){var i,h=f.length;if(!h)return!0;for(i=0;i<h;i++)if(b.test(e,
f[i]))return!0}else if(b.test(e,f))return!0;return!1}function o(e,f,i,h){var d=[],a,j;if((a=e=b.get(e))&&i)a=e.parentNode;if(a){i=c.makeArray(a.childNodes);for(a=0;a<i.length;a++)j=i[a],(h||j.nodeType==t.ELEMENT_NODE)&&j!=e&&d.push(j);f&&(d=b.filter(d,f))}return d}var t=b.NodeType;c.mix(b,{_contains:function(b,c){return!!(b.compareDocumentPosition(c)&16)},closest:function(b,c,i,h){return p(b,c,"parentNode",function(b){return b.nodeType!=t.DOCUMENT_FRAGMENT_NODE},i,!0,h)},parent:function(b,c,i){return p(b,
c,"parentNode",function(b){return b.nodeType!=t.DOCUMENT_FRAGMENT_NODE},i,h)},first:function(c,f,i){c=b.get(c);return p(c&&c.firstChild,f,"nextSibling",h,h,!0,i)},last:function(c,f,i){c=b.get(c);return p(c&&c.lastChild,f,"previousSibling",h,h,!0,i)},next:function(b,c,i){return p(b,c,"nextSibling",h,h,h,i)},prev:function(b,c,i){return p(b,c,"previousSibling",h,h,h,i)},siblings:function(b,c,i){return o(b,c,!0,i)},children:function(b,c){return o(b,c,h)},contents:function(b,c){return o(b,c,h,1)},contains:function(c,
f){c=b.get(c);f=b.get(f);return c&&f?b._contains(c,f):!1},index:function(e,f){var i=b.query(e),h,d=0;h=i[0];if(!f){i=h&&h.parentNode;if(!i)return-1;for(;h=h.previousSibling;)h.nodeType==t.ELEMENT_NODE&&d++;return d}d=b.query(f);return"string"===typeof f?c.indexOf(h,d):c.indexOf(d[0],i)},equals:function(c,f){c=b.query(c);f=b.query(f);if(c.length!=f.length)return!1;for(var h=c.length;0<=h;h--)if(c[h]!=f[h])return!1;return!0}});return b},{requires:["./api"]});
