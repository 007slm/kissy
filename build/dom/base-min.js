/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Mar 18 13:59
*/
KISSY.add("dom/base/api",function(d){var b=d.Env.host,h=d.UA,o={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(d){var d=d||b,h=d.document.domain,d=d.location.hostname;return h!=d&&h!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||b;return h.ie&&j.isCustomDomain(d)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:o,getWindow:function(d){return!d?b:"scrollTo"in d&&d.document?d:d.nodeType==o.DOCUMENT_NODE?d.defaultView||d.parentWindow:!1},_isNodeList:function(b){return b&&!b.nodeType&&b.item&&!b.setTimeout},nodeName:function(b){var d=j.get(b),b=d.nodeName.toLowerCase();h.ie&&(d=d.scopeName)&&"HTML"!=d&&(b=d.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};d.mix(j,o);return j});
KISSY.add("dom/base/attr",function(d,b,h){function o(b,c){var c=x[c]||c,a=z[c];return a&&a.get?a.get(b,c):b[c]}var j=d.Env.host.document,p=b.NodeType,u=(j=j&&j.documentElement)&&j.textContent===h?"innerText":"textContent",e=b.nodeName,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,g=/^(?:button|input|object|select|textarea)$/i,y=/^a(?:rea)?$/i,c=/:|^on/,a=/\r/g,k={},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},n={tabindex:{get:function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):g.test(b.nodeName)||y.test(b.nodeName)&&b.href?0:h}}},x={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C={get:function(c,
a){return b.prop(c,a)?a.toLowerCase():h},set:function(c,a,d){!1===a?b.removeAttr(c,d):(a=x[d]||d,a in c&&(c[a]=!0),c.setAttribute(d,d.toLowerCase()));return d}},z={},v={},B={select:{get:function(c){var a=c.selectedIndex,d=c.options,i;if(0>a)return null;if("select-one"===c.type)return b.val(d[a]);c=[];a=0;for(i=d.length;a<i;++a)d[a].selected&&c.push(b.val(d[a]));return c},set:function(c,a){var h=d.makeArray(a);d.each(c.options,function(c){c.selected=d.inArray(b.val(c),h)});h.length||(c.selectedIndex=
-1);return h}}};d.each(["radio","checkbox"],function(c){B[c]={get:function(b){return null===b.getAttribute("value")?"on":b.value},set:function(c,a){if(d.isArray(a))return c.checked=d.inArray(b.val(c),a)}}});n.style={get:function(b){return b.style.cssText}};d.mix(b,{_valHooks:B,_propFix:x,_attrHooks:n,_propHooks:z,_attrNodeHook:v,_attrFix:k,prop:function(c,a,k){var i=b.query(c),m,q;if(d.isPlainObject(a))return d.each(a,function(m,l){b.prop(i,l,m)}),h;a=x[a]||a;q=z[a];if(k!==h)for(c=i.length-1;0<=c;c--)m=
i[c],q&&q.set?q.set(m,k,a):m[a]=k;else if(i.length)return o(i[0],a);return h},hasProp:function(c,a){var d=b.query(c),i,m=d.length,q;for(i=0;i<m;i++)if(q=d[i],o(q,a)!==h)return!0;return!1},removeProp:function(c,a){var a=x[a]||a,d=b.query(c),i,m;for(i=d.length-1;0<=i;i--){m=d[i];try{m[a]=h,delete m[a]}catch(q){}}},attr:function(a,g,A,i){var m=b.query(a),q=m[0];if(d.isPlainObject(g)){var i=A,w;for(w in g)b.attr(m,w,g[w],i);return h}if(!(g=d.trim(g)))return h;if(i&&r[g])return b[g](a,A);g=g.toLowerCase();
if(i&&r[g])return b[g](a,A);g=k[g]||g;a=f.test(g)?C:c.test(g)?v:n[g];if(A===h){if(q&&q.nodeType===p.ELEMENT_NODE){"form"==e(q)&&(a=v);if(a&&a.get)return a.get(q,g);g=q.getAttribute(g);return null===g?h:g}}else for(i=m.length-1;0<=i;i--)if((q=m[i])&&q.nodeType===p.ELEMENT_NODE)"form"==e(q)&&(a=v),a&&a.set?a.set(q,A,g):q.setAttribute(g,""+A);return h},removeAttr:function(c,a){var a=a.toLowerCase(),a=k[a]||a,d=b.query(c),i,m,q;for(q=d.length-1;0<=q;q--)if(m=d[q],m.nodeType==p.ELEMENT_NODE&&(m.removeAttribute(a),
f.test(a)&&(i=x[a]||a)in m))m[i]=!1},hasAttr:j&&!j.hasAttribute?function(c,a){var a=a.toLowerCase(),d=b.query(c),i,m;for(i=0;i<d.length;i++)if(m=d[i],(m=m.getAttributeNode(a))&&m.specified)return!0;return!1}:function(c,a){var d=b.query(c),i,m=d.length;for(i=0;i<m;i++)if(d[i].hasAttribute(a))return!0;return!1},val:function(c,g){var k,i,m,q,w;if(g===h){if(m=b.get(c)){if((k=B[e(m)]||B[m.type])&&"get"in k&&(i=k.get(m,"value"))!==h)return i;i=m.value;return"string"===typeof i?i.replace(a,""):null==i?"":
i}return h}i=b.query(c);for(q=i.length-1;0<=q;q--){m=i[q];if(1!==m.nodeType)break;w=g;null==w?w="":"number"===typeof w?w+="":d.isArray(w)&&(w=d.map(w,function(b){return b==null?"":b+""}));k=B[e(m)]||B[m.type];if(!k||!("set"in k)||k.set(m,w,"value")===h)m.value=w}return h},text:function(c,a){var d,i,m;if(a===h){d=b.get(c);if(d.nodeType==p.ELEMENT_NODE)return d[u]||"";if(d.nodeType==p.TEXT_NODE)return d.nodeValue}else{i=b.query(c);for(m=i.length-1;0<=m;m--)d=i[m],d.nodeType==p.ELEMENT_NODE?d[u]=a:d.nodeType==
p.TEXT_NODE&&(d.nodeValue=a)}return h}});return b},{requires:["./api"]});KISSY.add("dom/base",function(d,b){d.mix(d,{DOM:b,get:b.get,query:b.query});return b},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(d,b){function h(b){b=d.trim(b||"");return b.split(e)}function o(b){return function(d,h){var c,a,k,r=d.classList,e=p.call(arguments,2);c=0;for(a=h.length;c<a;c++)(k=h[c])&&r[b].apply(r,[k].concat(e))}}function j(d){return function(g,e){var c=h(e),a=p.call(arguments,2);b.query(g).each(function(g){g.nodeType==u.ELEMENT_NODE&&b[d].apply(b,[g,c].concat(a))})}}var p=[].slice,u=b.NodeType,e=/[\.\s]\s*\.?/;d.mix(b,{_hasClass:function(b,d){var h,c,a,k=b.classList;if(k.length){h=
0;for(c=d.length;h<c;h++)if((a=d[h])&&!k.contains(a))return!1;return!0}return!1},_addClass:o("add"),_removeClass:o("remove"),_toggleClass:o("toggle"),hasClass:function(d,g){var e=b.get(d);return e&&e.nodeType==u.ELEMENT_NODE&&b._hasClass(e,h(g))},replaceClass:function(d,g,h){b.removeClass(d,g);b.addClass(d,h)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return b},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,b,h){function o(c){var a=d.require("event/dom/base");a&&a.detach(c);b.removeData(c)}function j(b,c){var d=c&&c!=f?c.createElement(a):k;d.innerHTML="m<div>"+b+"</div>";return d.lastChild}function p(b,c,a){var l=c.nodeType;if(l==g.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;a=a.childNodes;for(l=0;c[l];)a[l]&&p(b,c[l],a[l]),l++}else if(l==g.ELEMENT_NODE){c=c.getElementsByTagName("*");a=a.getElementsByTagName("*");for(l=0;c[l];)a[l]&&b(c[l],a[l]),l++}}function u(c,a){var i=
d.require("event/dom"),l,s;if(a.nodeType!=g.ELEMENT_NODE||b.hasData(c)){l=b.data(c);for(s in l)b.data(a,s,l[s]);i&&(i._DOMUtils.removeData(a),i._clone(c,a))}}function e(b){var c=null,a,l;if(b&&(b.push||b.item)&&b[0]){c=b[0].ownerDocument;c=c.createDocumentFragment();b=d.makeArray(b);a=0;for(l=b.length;a<l;a++)c.appendChild(b[a])}return c}var f=d.Env.host.document,g=b.NodeType,y=[].slice,c=d.UA.ie,a="div",k=f&&f.createElement(a),r=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
n=/<([\w:]+)/,x=/^\s+/,C=c&&9>c,z=/<|&#?\w+;/,v=f&&"outerHTML"in f.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(b,{create:function(c,i,k,l){var s=null;if(!c)return s;if(c.nodeType)return b.clone(c);if("string"!=typeof c)return s;l===h&&(l=!0);l&&(c=d.trim(c));var l=b._creators,t,G,k=k||f,F,v=a;if(z.test(c))if(F=B.exec(c))s=k.createElement(F[1]);else{c=c.replace(r,"<$1></$2>");if((F=n.exec(c))&&(t=F[1]))v=t.toLowerCase();t=(l[v]||j)(c,k);C&&(G=c.match(x))&&t.insertBefore(k.createTextNode(G[0]),
t.firstChild);c=t.childNodes;1===c.length?s=c[0].parentNode.removeChild(c[0]):c.length&&(s=e(c))}else s=k.createTextNode(c);d.isPlainObject(i)&&(s.nodeType==g.ELEMENT_NODE?b.attr(s,i,!0):s.nodeType==g.DOCUMENT_FRAGMENT_NODE&&b.attr(s.childNodes,i,!0));return s},_fixCloneAttributes:null,_creators:{div:j},_defaultCreator:j,html:function(c,a,d,l){var c=b.query(c),i=c[0],t=!1,k,e;if(i){if(a===h)return i.nodeType==g.ELEMENT_NODE?i.innerHTML:null;a+="";if(!a.match(/<(?:script|style|link)/i)&&(!C||!a.match(x))&&
!A[(a.match(n)||["",""])[1].toLowerCase()])try{for(k=c.length-1;0<=k;k--)e=c[k],e.nodeType==g.ELEMENT_NODE&&(o(e.getElementsByTagName("*")),e.innerHTML=a);t=!0}catch(r){}t||(a=b.create(a,0,i.ownerDocument,0),b.empty(c),b.append(a,c,d));l&&l()}},outerHTML:function(c,i,d){var l=b.query(c),s=l.length;if(c=l[0]){if(i===h){if(v)return c.outerHTML;i=(i=c.ownerDocument)&&i!=f?i.createElement(a):k;i.innerHTML="";i.appendChild(b.clone(c,!0));i.appendChild(b.clone(c,!0));return i.innerHTML}i+="";if(!i.match(/<(?:script|style|link)/i)&&
v)for(d=s-1;0<=d;d--)c=l[d],c.nodeType==g.ELEMENT_NODE&&(o(c),o(c.getElementsByTagName("*")),c.outerHTML=i);else c=b.create(i,0,c.ownerDocument,0),b.insertBefore(c,l,d),b.remove(l)}},remove:function(c,a){var i,l=b.query(c),s,t,k=d.require("event/dom/base"),h;for(h=l.length-1;0<=h;h--)i=l[h],!a&&i.nodeType==g.ELEMENT_NODE&&(s=y.call(i.getElementsByTagName("*"),0),s.push(i),b.removeData(s),k&&k.detach(s)),(t=i.parentNode)&&t.removeChild(i)},clone:function(c,a,i,l){"object"===typeof a&&(l=a.deepWithDataAndEvent,
i=a.withDataAndEvent,a=a.deep);var c=b.get(c),d,t=b._fixCloneAttributes,k;if(!c)return null;k=c.nodeType;d=c.cloneNode(a);if(k==g.ELEMENT_NODE||k==g.DOCUMENT_FRAGMENT_NODE)t&&k==g.ELEMENT_NODE&&t(c,d),a&&t&&p(t,c,d);i&&(u(c,d),a&&l&&p(u,c,d));return d},empty:function(c){var c=b.query(c),a,i;for(i=c.length-1;0<=i;i--)a=c[i],b.remove(a.childNodes)},_nodeListToFragment:e});var E=b._creators,D=b.create,A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",
tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},i;for(i in A)(function(c){E[i]=function(b,a){return D("<"+c+">"+b+"</"+c+">",null,a)}})(A[i]);return b},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,b,h){var o=d.Env.host,j="__ks_data_"+d.now(),p={},u={},e={applet:1,object:1,embed:1},f={hasData:function(c,b){if(c)if(b!==h){if(b in c)return!0}else if(!d.isEmptyObject(c))return!0;return!1}},g={hasData:function(b,a){return b==o?g.hasData(u,a):f.hasData(b[j],a)},data:function(b,a,d){if(b==o)return g.data(u,a,d);var e=b[j];if(d!==h)e=b[j]=b[j]||{},e[a]=d;else return a!==h?e&&e[a]:e=b[j]=b[j]||{}},removeData:function(b,a){if(b==o)return g.removeData(u,a);var k=b[j];
if(a!==h)delete k[a],d.isEmptyObject(k)&&g.removeData(b);else try{delete b[j]}catch(e){b[j]=h}}},y={hasData:function(b,a){var d=b[j];return!d?!1:f.hasData(p[d],a)},data:function(b,a,g){if(e[b.nodeName.toLowerCase()])return h;var r=b[j];if(!r){if(a!==h&&g===h)return h;r=b[j]=d.guid()}b=p[r];if(g!==h)b=p[r]=p[r]||{},b[a]=g;else return a!==h?b&&b[a]:b=p[r]=p[r]||{}},removeData:function(b,a){var g=b[j],e;if(g)if(e=p[g],a!==h)delete e[a],d.isEmptyObject(e)&&y.removeData(b);else{delete p[g];try{delete b[j]}catch(f){b[j]=
h}b.removeAttribute&&b.removeAttribute(j)}}};d.mix(b,{__EXPANDO:j,hasData:function(c,a){for(var d=!1,h=b.query(c),e=0;e<h.length&&!(d=h[e],d=d.nodeType?y.hasData(d,a):g.hasData(d,a));e++);return d},data:function(c,a,e){var c=b.query(c),f=c[0];if(d.isPlainObject(a)){for(var n in a)b.data(c,n,a[n]);return h}if(e===h){if(f)return f.nodeType?y.data(f,a):g.data(f,a)}else for(n=c.length-1;0<=n;n--)f=c[n],f.nodeType?y.data(f,a,e):g.data(f,a,e);return h},removeData:function(c,a){var d=b.query(c),h,e;for(e=
d.length-1;0<=e;e--)h=d[e],h.nodeType?y.removeData(h,a):g.removeData(h,a)}});return b},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,b){function h(b,a){var d=[],r,n,j;for(r=0;b[r];r++)if(n=b[r],j=e(n),n.nodeType==p.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,h(f(n.childNodes),a));else if("script"===j&&(!n.type||y.test(n.type)))n.parentNode&&n.parentNode.removeChild(n),a&&a.push(n);else{if(n.nodeType==p.ELEMENT_NODE&&!u.test(j)){j=[];var o,z,v=n.getElementsByTagName("script");for(z=0;z<v.length;z++)o=v[z],(!o.type||y.test(o.type))&&j.push(o);g.apply(b,[r+1,0].concat(j))}d.push(n)}return d}function o(b){b.src?
d.getScript(b.src):(b=d.trim(b.text||b.textContent||b.innerHTML||""))&&d.globalEval(b)}function j(c,a,g,e){c=b.query(c);e&&(e=[]);c=h(c,e);b._fixInsertionChecked&&b._fixInsertionChecked(c);var a=b.query(a),f,j,p,z,v=a.length;if((c.length||e&&e.length)&&v){c=b._nodeListToFragment(c);1<v&&(z=b.clone(c,!0),a=d.makeArray(a));for(f=0;f<v;f++)j=a[f],c&&(p=0<f?b.clone(z,!0):c,g(p,j)),e&&e.length&&d.each(e,o)}}var p=b.NodeType,u=/^(?:button|input|object|select|textarea)$/i,e=b.nodeName,f=d.makeArray,g=[].splice,
y=/\/(java|ecma)script/i;d.mix(b,{_fixInsertionChecked:null,insertBefore:function(b,a,d){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},d)},insertAfter:function(b,a,d){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)},d)},appendTo:function(b,a,d){j(b,a,function(b,a){a.appendChild(b)},d)},prependTo:function(b,a,d){j(b,a,function(b,a){a.insertBefore(b,a.firstChild)},d)},wrapAll:function(c,a){a=b.clone(b.get(a),!0);c=b.query(c);c[0].parentNode&&b.insertBefore(a,
c[0]);for(var d;(d=a.firstChild)&&1==d.nodeType;)a=d;b.appendTo(c,a)},wrap:function(c,a){c=b.query(c);a=b.get(a);d.each(c,function(c){b.wrapAll(c,a)})},wrapInner:function(c,a){c=b.query(c);a=b.get(a);d.each(c,function(c){var d=c.childNodes;d.length?b.wrapAll(d,a):c.appendChild(a)})},unwrap:function(c){c=b.query(c);d.each(c,function(a){a=a.parentNode;b.replaceWith(a,a.childNodes)})},replaceWith:function(c,a){var d=b.query(c),a=b.query(a);b.remove(a,!0);b.insertBefore(a,d);b.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,a){b[a]=b[c]});return b},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,b,h){function o(b){var a,c=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};a=b.getBoundingClientRect();b=a[k];a=a[r];b-=f.clientLeft||c.clientLeft||0;a-=f.clientTop||c.clientTop||0;return{left:b,top:a}}function j(c,d){var e={left:0,top:0},h=g(c[a]),f,k=c,d=d||h;do{if(h==d){var i=k;f=o(i);i=g(i[a]);f.left+=b[x](i);f.top+=b[C](i)}else f=o(k);e.left+=f.left;e.top+=f.top}while(h&&h!=d&&(k=h.frameElement)&&(h=h.parent));return e}var p=d.Env.host,
u=p.document,e=b.NodeType,f=u&&u.documentElement,g=b.getWindow,y=Math.max,c=parseInt,a="ownerDocument",k="left",r="top",n=d.isNumber,x="scrollLeft",C="scrollTop";d.mix(b,{offset:function(a,d,e){if(d===h){var a=b.get(a),g;a&&(g=j(a,e));return g}e=b.query(a);for(g=e.length-1;0<=g;g--){var a=e[g],f=d;"static"===b.css(a,"position")&&(a.style.position="relative");var k=j(a),i={},m=void 0,q=void 0;for(q in f)m=c(b.css(a,q),10)||0,i[q]=m+f[q]-k[q];b.css(a,i)}return h},scrollIntoView:function(a,f,j,p){var o,
n,i,m;if(i=b.get(a)){f&&(f=b.get(f));f||(f=i.ownerDocument);f.nodeType==e.DOCUMENT_NODE&&(f=g(f));d.isPlainObject(j)&&(p=j.allowHorizontalScroll,m=j.onlyScrollIfNeeded,j=j.alignWithTop);p=p===h?!0:p;n=!!g(f);var a=b.offset(i),q=b.outerHeight(i);o=b.outerWidth(i);var w,l,s,t;n?(n=f,w=b.height(n),l=b.width(n),t={left:b.scrollLeft(n),top:b.scrollTop(n)},n=a[k]-t[k],i=a[r]-t[r],o=a[k]+o-(t[k]+l),a=a[r]+q-(t[r]+w)):(w=b.offset(f),l=f.clientHeight,s=f.clientWidth,t={left:b.scrollLeft(f),top:b.scrollTop(f)},
n=a[k]-(w[k]+(c(b.css(f,"borderLeftWidth"))||0)),i=a[r]-(w[r]+(c(b.css(f,"borderTopWidth"))||0)),o=a[k]+o-(w[k]+s+(c(b.css(f,"borderRightWidth"))||0)),a=a[r]+q-(w[r]+l+(c(b.css(f,"borderBottomWidth"))||0)));if(m){if(0>i||0<a)!0===j?b.scrollTop(f,t.top+i):!1===j?b.scrollTop(f,t.top+a):0>i?b.scrollTop(f,t.top+i):b.scrollTop(f,t.top+a)}else(j=j===h?!0:!!j)?b.scrollTop(f,t.top+i):b.scrollTop(f,t.top+a);if(p)if(m){if(0>n||0<o)!0===j?b.scrollLeft(f,t.left+n):!1===j?b.scrollLeft(f,t.left+o):0>n?b.scrollLeft(f,
t.left+n):b.scrollLeft(f,t.left+o)}else(j=j===h?!0:!!j)?b.scrollLeft(f,t.left+n):b.scrollLeft(f,t.left+o)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(a,c){var d="scroll"+a;b[d]=function(f,j){if(n(f))return arguments.callee(p,f);var f=b.get(f),k,i,m,q=g(f);q?j!==h?(j=parseFloat(j),i="Left"==a?j:b.scrollLeft(q),m="Top"==a?j:b.scrollTop(q),q.scrollTo(i,m)):(k=q["page"+(c?"Y":"X")+"Offset"],n(k)||(i=q.document,k=i.documentElement[d],
n(k)||(k=i.body[d]))):f.nodeType==e.ELEMENT_NODE&&(j!==h?f[d]=parseFloat(j):k=f[d]);return k}});d.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=g(c).document;return y(c.documentElement["scroll"+a],c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){var c=b.get(c),d="client"+a,c=g(c).document,f=c.body,e=c.documentElement[d];return"CSS1Compat"===c.compatMode&&e||f&&f[d]||e}});return b},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,b,h){function o(b){var a,c;for(c=0;c<this.length&&!(a=this[c],!1===b(a,c));c++);}function j(a,f){var e,g,l="string"==typeof a,s=f==h&&(g=1)?[c]:j(f);a?l?(a=E(a),g&&"body"==a?e=[c.body]:1==s.length&&a&&(e=u(a,s[0]))):g&&(e=a.nodeType||a.setTimeout?[a]:a.getDOMNodes?a.getDOMNodes():r(a)?a:x(a)?d.makeArray(a):[a]):e=[];if(!e&&(e=[],a)){for(g=0;g<s.length;g++)z.apply(e,p(a,s[g]));1<e.length&&(1<s.length||l&&-1<a.indexOf(B))&&b.unique(e)}e.each=o;return e}function p(b,
a){var c="string"==typeof b;if(c&&b.match(A)||!c)c=e(b,a);else if(c&&-1<b.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(B)){var c=[],f,l=b.split(/\s*,\s*/);for(f=0;f<l.length;f++)z.apply(c,p(l[f],a))}else c=[],(f=d.require("sizzle"))&&f(b,a,c);return c}function u(a,c){var d,e,l,s;if(D.test(a))d=(e=f(a.slice(1),c))?[e]:[];else if(l=A.exec(a)){e=l[1];s=l[2];l=l[3];if(c=e?f(e,c):c)l?!e||-1!=a.indexOf(v)?d=[].concat(b._getElementsByClassName(l,s,c)):(e=f(e,c),g(e,l)&&(d=
[e])):s&&(d=n(b._getElementsByTagName(s,c)));d=d||[]}return d}function e(a,d){var e;"string"==typeof a?e=u(a,d)||[]:r(a)||x(a)?e=k(a,function(a){return!a?!1:d==c?!0:b._contains(d,a)}):(!a?0:d==c||b._contains(d,a))&&(e=[a]);return e}function f(c,d){var e=d.nodeType==a.DOCUMENT_NODE;return b._getElementById(c,d,e?d:d.ownerDocument,e)}function g(b,a){var c=b&&b.className;return c&&-1<(v+c+v).indexOf(v+a+v)}function y(b,a){var c=b&&b.getAttributeNode(a);return c&&c.nodeValue}var c=d.Env.host.document,
a=b.NodeType,k=d.filter,r=d.isArray,n=d.makeArray,x=b._isNodeList,C=b.nodeName,z=Array.prototype.push,v=" ",B=",",E=d.trim,D=/^#[\w-]+$/,A=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;d.mix(b,{_hasSingleClass:g,_getElementById:function(a,c,d,e){var l=d.getElementById(a),f=y(l,"id");return!l&&!e&&!b._contains(d,c)||l&&f!=a?b.filter("*","#"+a,c)[0]||null:e||l&&b._contains(c,l)?l:null},_getElementsByTagName:function(b,a){return a.getElementsByTagName(b)},_getElementsByClassName:function(b,a,c){return n(c.querySelectorAll((a||
"")+"."+b))},_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},query:j,get:function(b,a){return j(b,a)[0]||null},unique:function(){function a(d,l){return d==l?(c=!0,0):b._compareNodeOrder(d,l)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(b){c=d;b.sort(a);if(c)for(var l=1,e=b.length;l<e;)b[l]===b[l-1]?b.splice(l,1):l++;return b}}(),filter:function(b,a,c){var b=j(b,c),c=
d.require("sizzle"),e,l,f,h,k=[];if("string"==typeof a&&(a=E(a))&&(e=A.exec(a)))f=e[1],l=e[2],h=e[3],f?f&&!l&&!h&&(a=function(b){return y(b,"id")==f}):a=function(b){var a=!0,c=!0;l&&(a=C(b)==l.toLowerCase());h&&(c=g(b,h));return c&&a};d.isFunction(a)?k=d.filter(b,a):a&&c&&(k=c.matches(a,b));return k},test:function(a,c,d){a=j(a,d);return a.length&&b.filter(a,c,d).length===a.length}});return b},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,b,h){function o(b){return b.replace(z,"ms-").replace(m,q)}function j(b,c,d){var e={},f;for(f in c)e[f]=b[a][f],b[a][f]=c[f];d.call(b);for(f in c)b[a][f]=e[f]}function p(b,c,d){var e,f,g;if(3===b.nodeType||8===b.nodeType||!(e=b[a]))return h;c=o(c);g=D[c];c=A[c]||c;if(d!==h){null===d||d===B?d=B:!isNaN(Number(d))&&!C[c]&&(d+=E);g&&g.set&&(d=g.set(b,d));if(d!==h){try{e[c]=d}catch(i){}d===B&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||b.removeAttribute("style");
return h}if(!g||!("get"in g&&(f=g.get(b,!1))!==h))f=e[c];return f===h?"":f}function u(b){var a,c=arguments;0!==b.offsetWidth?a=e.apply(h,c):j(b,w,function(){a=e.apply(h,c)});return a}function e(a,c,e){if(d.isWindow(a))return c==r?b.viewportWidth(a):b.viewportHeight(a);if(9==a.nodeType)return c==r?b.docWidth(a):b.docHeight(a);var f=c===r?["Left","Right"]:["Top","Bottom"],g=c===r?a.offsetWidth:a.offsetHeight;if(0<g)return"border"!==e&&d.each(f,function(c){e||(g-=parseFloat(b.css(a,"padding"+c))||0);
g="margin"===e?g+(parseFloat(b.css(a,e+c))||0):g-(parseFloat(b.css(a,"border"+c+"Width"))||0)}),g;g=b._getComputedStyle(a,c);if(null==g||0>Number(g))g=a.style[c]||0;g=parseFloat(g)||0;e&&d.each(f,function(c){g+=parseFloat(b.css(a,"padding"+c))||0;"padding"!==e&&(g+=parseFloat(b.css(a,"border"+c+"Width"))||0);"margin"===e&&(g+=parseFloat(b.css(a,e+c))||0)});return g}var f=d.Env.host,g=d.UA,y=b.nodeName,c=f.document,a="style",k=/^margin/,r="width",n="display"+d.now(),x=parseInt,C={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},z=/^-ms-/,v=/([A-Z]|^ms)/g,B="",E="px",D={},A={"float":"cssFloat"},i={},m=/-([a-z])/ig,q=function(b,a){return a.toUpperCase()};d.mix(b,{_camelCase:o,_CUSTOM_STYLES:D,_cssProps:A,_getComputedStyle:function(c,d){var e="",f,g,h,i,j;g=c.ownerDocument;d=d.replace(v,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||f[d];""===e&&!b.contains(g,c)&&(d=A[d]||d,e=c[a][d]);b._RE_NUM_NO_PX.test(e)&&k.test(d)&&(j=
c.style,g=j.width,h=j.minWidth,i=j.maxWidth,j.minWidth=j.maxWidth=j.width=e,e=f.width,j.width=g,j.minWidth=h,j.maxWidth=i);return e},style:function(a,c,e){var a=b.query(a),f,g=a[0];if(d.isPlainObject(c)){for(f in c)for(g=a.length-1;0<=g;g--)p(a[g],f,c[f]);return h}if(e===h)return f="",g&&(f=p(g,c,e)),f;for(g=a.length-1;0<=g;g--)p(a[g],c,e);return h},css:function(a,c,e){var a=b.query(a),f=a[0],g;if(d.isPlainObject(c)){for(g in c)for(f=a.length-1;0<=f;f--)p(a[f],g,c[g]);return h}c=o(c);g=D[c];if(e===
h){e="";if(f&&(!g||!("get"in g&&(e=g.get(f,!0))!==h)))e=b._getComputedStyle(f,c);return e===h?"":e}for(f=a.length-1;0<=f;f--)p(a[f],c,e);return h},show:function(d){var d=b.query(d),e,f,g;for(g=d.length-1;0<=g;g--)if(f=d[g],f[a].display=b.data(f,n)||B,"none"===b.css(f,"display")){e=f.tagName.toLowerCase();var h=void 0,j=i[e],k=void 0;i[e]||(h=c.body||c.documentElement,k=c.createElement(e),b.prepend(k,h),j=b.css(k,"display"),h.removeChild(k),i[e]=j);e=j;b.data(f,n,e);f[a].display=e}},hide:function(c){var c=
b.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var f=d[a],g=f.display;"none"!==g&&(g&&b.data(d,n,g),f.display="none")}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--)c=a[d],"none"===b.css(c,"display")?b.show(c):b.hide(c)},addStyleSheet:function(a,c,d){a=a||f;"string"==typeof a&&(d=c,c=a,a=f);var a=b.get(a),a=b.getWindow(a).document,e;if(d&&(d=d.replace("#",B)))e=b.get("#"+d,a);e||(e=b.create("<style>",{id:d},a),b.get("head",a).appendChild(e),e.styleSheet?e.styleSheet.cssText=
c:e.appendChild(a.createTextNode(c)))},unselectable:function(c){var c=b.query(c),e,f,h=0,i,j;for(f=c.length-1;0<=f;f--)if(e=c[f],e[a].UserSelect="none",g.gecko)e[a].MozUserSelect="none";else if(g.webkit)e[a].WebkitUserSelect="none";else if(g.ie||g.opera){j=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];e=j[h++];)d.inArray(y(e),i)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
d.each([r,"height"],function(a){b["inner"+d.ucfirst(a)]=function(c){return(c=b.get(c))&&u(c,a,"padding")};b["outer"+d.ucfirst(a)]=function(c,d){var e=b.get(c);return e&&u(e,a,d?"margin":"border")};b[a]=function(c,d){var e=b.css(c,a,d);e&&(e=parseFloat(e));return e}});var w={position:"absolute",visibility:"hidden",display:"block"};d.each(["height","width"],function(a){D[a]={get:function(b,c){if(c)return u(b,a)+"px"}}});d.each(["left","top"],function(a){D[a]={get:function(e,f){if(f){var h=b._getComputedStyle(e,
a);if("auto"===h){h=0;if(d.inArray(b.css(e,"position"),["absolute","fixed"])){h=e["left"===a?"offsetLeft":"offsetTop"];if(g.ie&&9>(c.documentMode||0)||g.opera)h-=e.offsetParent&&e.offsetParent["client"+("left"==a?"Left":"Top")]||0;h-=x(b.css(e,"margin-"+a))||0}h+="px"}return h}}}});return b},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,b,h){function o(e,f,g,o,c,a,k){if(!(e=b.get(e)))return null;if(0===f)return e;a||(e=e[g]);if(!e)return null;c=c&&b.get(c)||null;f===h&&(f=1);var a=[],p=d.isArray(f),n,x;d.isNumber(f)&&(n=0,x=f,f=function(){return++n===x});for(;e&&e!=c;){if((e.nodeType==u.ELEMENT_NODE||e.nodeType==u.TEXT_NODE&&k)&&j(e,f)&&(!o||o(e)))if(a.push(e),!p)break;e=e[g]}return p?a:a[0]||null}function j(e,f){if(!f)return!0;if(d.isArray(f)){var g,h=f.length;if(!h)return!0;for(g=0;g<h;g++)if(b.test(e,
f[g]))return!0}else if(b.test(e,f))return!0;return!1}function p(e,f,g,h){var c=[],a,j;if((a=e=b.get(e))&&g)a=e.parentNode;if(a){g=d.makeArray(a.childNodes);for(a=0;a<g.length;a++)j=g[a],(h||j.nodeType==u.ELEMENT_NODE)&&j!=e&&c.push(j);f&&(c=b.filter(c,f))}return c}var u=b.NodeType;d.mix(b,{_contains:function(b,d){return!!(b.compareDocumentPosition(d)&16)},closest:function(b,d,g,h){return o(b,d,"parentNode",function(b){return b.nodeType!=u.DOCUMENT_FRAGMENT_NODE},g,!0,h)},parent:function(b,d,g){return o(b,
d,"parentNode",function(b){return b.nodeType!=u.DOCUMENT_FRAGMENT_NODE},g,h)},first:function(d,f,g){d=b.get(d);return o(d&&d.firstChild,f,"nextSibling",h,h,!0,g)},last:function(d,f,g){d=b.get(d);return o(d&&d.lastChild,f,"previousSibling",h,h,!0,g)},next:function(b,d,g){return o(b,d,"nextSibling",h,h,h,g)},prev:function(b,d,g){return o(b,d,"previousSibling",h,h,h,g)},siblings:function(b,d,g){return p(b,d,!0,g)},children:function(b,d){return p(b,d,h)},contents:function(b,d){return p(b,d,h,1)},contains:function(d,
f){d=b.get(d);f=b.get(f);return d&&f?b._contains(d,f):!1},index:function(e,f){var g=b.query(e),h,c=0;h=g[0];if(!f){g=h&&h.parentNode;if(!g)return-1;for(;h=h.previousSibling;)h.nodeType==u.ELEMENT_NODE&&c++;return c}c=b.query(f);return"string"===typeof f?d.indexOf(h,c):d.indexOf(c[0],g)},equals:function(d,f){d=b.query(d);f=b.query(f);if(d.length!=f.length)return!1;for(var g=d.length;0<=g;g--)if(d[g]!=f[g])return!1;return!0}});return b},{requires:["./api"]});
