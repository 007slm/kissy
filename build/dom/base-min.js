/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: May 6 23:55
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host,g=c.UA,q={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(c){var c=c||a,g=c.document.domain,c=c.location.hostname;return g!=c&&g!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;return g.ie&&j.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:q,getWindow:function(c){return!c?a:"scrollTo"in c&&c.document?c:c.nodeType==q.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var c=j.get(a),a=c.nodeName.toLowerCase();g.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(j,q);return j});
KISSY.add("dom/base/attr",function(c,a,g){function q(a,d){var d=e[d]||d,b=u[d];return b&&b.get?b.get(a,d):a[d]}var j=c.Env.host.document,m=a.NodeType,j=j&&j.documentElement,p=a.nodeName,l=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,n=/:|^on/,d=/\r/g,b={},h={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},w={tabindex:{get:function(a){var d=
a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},e={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},t={get:function(d,x){return a.prop(d,x)?x.toLowerCase():g},set:function(d,x,b){!1===x?
a.removeAttr(d,b):(x=e[b]||b,x in d&&(d[x]=!0),d.setAttribute(b,b.toLowerCase()));return b}},u={},o={},k={select:{get:function(d){var b=d.selectedIndex,e=d.options,c;if(0>b)return null;if("select-one"===""+d.type)return a.val(e[b]);d=[];b=0;for(c=e.length;b<c;++b)e[b].selected&&d.push(a.val(e[b]));return d},set:function(d,b){var e=c.makeArray(b);c.each(d.options,function(d){d.selected=c.inArray(a.val(d),e)});e.length||(d.selectedIndex=-1);return e}}};c.each(["radio","checkbox"],function(d){k[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,b){return c.isArray(b)?d.checked=c.inArray(a.val(d),b):g}}});w.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:k,_propFix:e,_attrHooks:w,_propHooks:u,_attrNodeHook:o,_attrFix:b,prop:function(d,b,k){var h=a.query(d),o,r;if(c.isPlainObject(b))return c.each(b,function(d,b){a.prop(h,b,d)}),g;b=e[b]||b;r=u[b];if(k!==g)for(d=h.length-1;0<=d;d--)o=h[d],r&&r.set?r.set(o,k,b):o[b]=k;else if(h.length)return q(h[0],b);return g},hasProp:function(d,
b){var e=a.query(d),c,k=e.length,r;for(c=0;c<k;c++)if(r=e[c],q(r,b)!==g)return!0;return!1},removeProp:function(d,b){var b=e[b]||b,c=a.query(d),k,h;for(k=c.length-1;0<=k;k--){h=c[k];try{h[b]=g,delete h[b]}catch(r){}}},attr:function(d,e,k,f){var i=a.query(d),r=i[0];if(c.isPlainObject(e)){var f=k,y;for(y in e)a.attr(i,y,e[y],f);return g}if(f&&h[e])return a[e](d,k);e=e.toLowerCase();if(f&&h[e])return a[e](d,k);e=b[e]||e;d=l.test(e)?t:n.test(e)?o:w[e];if(k===g){if(r&&r.nodeType===m.ELEMENT_NODE){"form"==
p(r)&&(d=o);if(d&&d.get)return d.get(r,e);k=r.getAttribute(e);return""===k&&(e=r.getAttributeNode(e),!e||!e.specified)?g:null===k?g:k}}else for(f=i.length-1;0<=f;f--)if((r=i[f])&&r.nodeType===m.ELEMENT_NODE)"form"==p(r)&&(d=o),d&&d.set?d.set(r,k,e):r.setAttribute(e,""+k);return g},removeAttr:function(d,c){var c=c.toLowerCase(),c=b[c]||c,k=a.query(d),h,o,r;for(r=k.length-1;0<=r;r--)if(o=k[r],o.nodeType==m.ELEMENT_NODE&&(o.removeAttribute(c),l.test(c)&&(h=e[c]||c)in o))o[h]=!1},hasAttr:j&&!j.hasAttribute?
function(d,b){var b=b.toLowerCase(),e=a.query(d),c,k;for(c=0;c<e.length;c++)if(k=e[c],(k=k.getAttributeNode(b))&&k.specified)return!0;return!1}:function(d,b){var e=a.query(d),c,k=e.length;for(c=0;c<k;c++)if(e[c].hasAttribute(b))return!0;return!1},val:function(b,e){var h,o,f,r,y;if(e===g){if(f=a.get(b)){if((h=k[p(f)]||k[f.type])&&"get"in h&&(o=h.get(f,"value"))!==g)return o;o=f.value;return"string"===typeof o?o.replace(d,""):null==o?"":o}return g}o=a.query(b);for(r=o.length-1;0<=r;r--){f=o[r];if(1!==
f.nodeType)break;y=e;null==y?y="":"number"===typeof y?y+="":c.isArray(y)&&(y=c.map(y,function(a){return a==null?"":a+""}));h=k[p(f)]||k[f.type];if(!h||!("set"in h)||h.set(f,y,"value")===g)f.value=y}return g},text:function(d,b){var e,c,k,r;if(b===g)return e=a.get(d),a._getText(e);c=a.query(d);for(k=c.length-1;0<=k;k--)if(e=c[k],r=e.nodeType,r==m.ELEMENT_NODE)a.empty(e),e.appendChild(e.ownerDocument.createTextNode(b));else if(r==m.TEXT_NODE||r==m.CDATA_SECTION_NODE)e.nodeValue=b;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,a){function g(a){for(var a=c.trim(a||""),a=a.split(l),i=[],g,d=a.length,b=0;b<d;b++)(g=a[b])&&i.push(g);return i}function q(a){return function(c,g){var d,b,h,w=c.classList,e=m.call(arguments,2);d=0;for(b=g.length;d<b;d++)(h=g[d])&&w[a].apply(w,[h].concat(e))}}function j(c){return function(i,l){var d=g(l),b=m.call(arguments,2);a.query(i).each(function(h){h.nodeType==p.ELEMENT_NODE&&a[c].apply(a,[h,d].concat(b))})}}var m=[].slice,p=a.NodeType,l=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var g,d,b,h=a.classList;if(h.length){g=0;for(d=c.length;g<d;g++)if((b=c[g])&&!h.contains(b))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(c,i){var l=a.get(c);return l&&l.nodeType==p.ELEMENT_NODE&&a._hasClass(l,g(i))},replaceClass:function(c,g,l){a.removeClass(c,g);a.addClass(c,l)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,g){function q(d){var b=c.require("event/dom/base");b&&b.detach(d);a.removeData(d)}function j(a,e){var c=e&&e!=f?e.createElement(d):b;c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function m(a,d,b){var e=d.nodeType;if(e==i.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;b=b.childNodes;for(e=0;d[e];)b[e]&&m(a,d[e],b[e]),e++}else if(e==i.ELEMENT_NODE){d=d.getElementsByTagName("*");b=b.getElementsByTagName("*");for(e=0;d[e];)b[e]&&a(d[e],b[e]),e++}}function p(d,e){var b=
c.require("event/dom"),k,v;if(e.nodeType!=i.ELEMENT_NODE||a.hasData(d)){k=a.data(d);for(v in k)a.data(e,v,k[v]);b&&(b._DOMUtils.removeData(e),b._clone(d,e))}}function l(a){var d=null,e,b;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);e=0;for(b=a.length;e<b;e++)d.appendChild(a[e])}return d}var f=c.Env.host.document,i=a.NodeType,n=c.UA.ie,d="div",b=f&&f.createElement(d),h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<([\w:]+)/,
e=/^\s+/,t=/\s+$/,u=n&&9>n,o=/<|&#?\w+;/,k=f&&"outerHTML"in f.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(b,k,x,A){var v=null;if(!b)return v;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return v;A===g&&(A=!0);A&&(b=c.trim(b));var A=a._creators,s,D,x=x||f,E,F=d;if(o.test(b))if(E=B.exec(b))v=x.createElement(E[1]);else{b=b.replace(h,"<$1></$2>");if((E=w.exec(b))&&(s=E[1]))F=s.toLowerCase();s=(A[F]||j)(b,x);u&&(D=b.match(e))&&s.insertBefore(x.createTextNode(D[0]),
s.firstChild);u&&/\S/.test(b)&&(D=b.match(t))&&s.appendChild(x.createTextNode(D[0]));b=s.childNodes;1===b.length?v=b[0].parentNode.removeChild(b[0]):b.length&&(v=l(b))}else v=x.createTextNode(b);c.isPlainObject(k)&&(v.nodeType==i.ELEMENT_NODE?a.attr(v,k,!0):v.nodeType==i.DOCUMENT_FRAGMENT_NODE&&a.attr(v.childNodes,k,!0));return v},_fixCloneAttributes:function(d,b){"textarea"===a.nodeName(d)&&(b.defaultValue=d.defaultValue,b.value=d.value)},_creators:{div:j},_defaultCreator:j,html:function(d,b,c){var d=
a.query(d),k=d[0],v=!1,s,h;if(!k)return null;if(b===g)return k.nodeType==i.ELEMENT_NODE?k.innerHTML:null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!u||!b.match(e))&&!z[(b.match(w)||["",""])[1].toLowerCase()])try{for(s=d.length-1;0<=s;s--)h=d[s],h.nodeType==i.ELEMENT_NODE&&(q(h.getElementsByTagName("*")),h.innerHTML=b);v=!0}catch(o){}v||(b=a.create(b,0,k.ownerDocument,0),a.empty(d),a.append(b,d,c));return g},outerHTML:function(e,c,h){var o=a.query(e),v=o.length,e=o[0];if(!e)return null;if(c===
g){if(k)return e.outerHTML;c=(c=e.ownerDocument)&&c!=f?c.createElement(d):b;c.innerHTML="";c.appendChild(a.clone(e,!0));c.appendChild(a.clone(e,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&k)for(h=v-1;0<=h;h--)e=o[h],e.nodeType==i.ELEMENT_NODE&&(q(e),q(e.getElementsByTagName("*")),e.outerHTML=c);else e=a.create(c,0,e.ownerDocument,0),a.insertBefore(e,o,h),a.remove(o);return g},remove:function(d,b){var e,k=a.query(d),v,s,h=c.require("event/dom/base"),o;for(o=k.length-1;0<=
o;o--)e=k[o],!b&&e.nodeType==i.ELEMENT_NODE&&(v=c.makeArray(e.getElementsByTagName("*")),v.push(e),a.removeData(v),h&&h.detach(v)),(s=e.parentNode)&&s.removeChild(e)},clone:function(d,b,e,c){"object"===typeof b&&(c=b.deepWithDataAndEvent,e=b.withDataAndEvent,b=b.deep);var d=a.get(d),k,s=a._fixCloneAttributes,h;if(!d)return null;h=d.nodeType;k=d.cloneNode(b);if(h==i.ELEMENT_NODE||h==i.DOCUMENT_FRAGMENT_NODE)s&&h==i.ELEMENT_NODE&&s(d,k),b&&s&&m(s,d,k);e&&(p(d,k),b&&c&&m(p,d,k));return k},empty:function(d){var d=
a.query(d),b,e;for(e=d.length-1;0<=e;e--)b=d[e],a.remove(b.childNodes)},_nodeListToFragment:l});var x=a._creators,A=a.create,z={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in z)(function(a){x[C]=function(d,b){return A("<"+a+">"+d+"</"+a+">",null,b)}})(z[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,g){var q=c.Env.host,j="_ks_data_"+c.now(),m={},p={},l={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==q?i.hasData(p,b):f.hasData(a[j],b)},data:function(a,b,c){if(a==q)return i.data(p,b,c);var f=a[j];if(c!==g)f=a[j]=a[j]||{},f[b]=c;else return b!==g?f&&f[b]:f=a[j]=a[j]||{}},removeData:function(a,b){if(a==q)return i.removeData(p,b);var h=a[j];
if(b!==g)delete h[b],c.isEmptyObject(h)&&i.removeData(a);else try{delete a[j]}catch(f){a[j]=g}}},n={hasData:function(a,b){var c=a[j];return!c?!1:f.hasData(m[c],b)},data:function(a,b,h){if(l[a.nodeName.toLowerCase()])return g;var f=a[j];if(!f){if(b!==g&&h===g)return g;f=a[j]=c.guid()}a=m[f];if(h!==g)a=m[f]=m[f]||{},a[b]=h;else return b!==g?a&&a[b]:a=m[f]=m[f]||{}},removeData:function(a,b){var h=a[j],f;if(h)if(f=m[h],b!==g)delete f[b],c.isEmptyObject(f)&&n.removeData(a);else{delete m[h];try{delete a[j]}catch(e){a[j]=
g}a.removeAttribute&&a.removeAttribute(j)}}};c.mix(a,{__EXPANDO:j,hasData:function(d,b){for(var c=!1,f=a.query(d),e=0;e<f.length&&!(c=f[e],c=c.nodeType?n.hasData(c,b):i.hasData(c,b));e++);return c},data:function(d,b,h){var d=a.query(d),f=d[0];if(c.isPlainObject(b)){for(var e in b)a.data(d,e,b[e]);return g}if(h===g){if(f)return f.nodeType?n.data(f,b):i.data(f,b)}else for(e=d.length-1;0<=e;e--)f=d[e],f.nodeType?n.data(f,b,h):i.data(f,b,h);return g},removeData:function(d,b){var c=a.query(d),f,e;for(e=
c.length-1;0<=e;e--)f=c[e],f.nodeType?n.removeData(f,b):i.removeData(f,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function g(a,b){var c=[],j,e,t;for(j=0;a[j];j++)if(e=a[j],t=l(e),e.nodeType==m.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,g(f(e.childNodes),b));else if("script"===t&&(!e.type||n.test(e.type)))e.parentNode&&e.parentNode.removeChild(e),b&&b.push(e);else{if(e.nodeType==m.ELEMENT_NODE&&!p.test(t)){t=[];var u,o,k=e.getElementsByTagName("script");for(o=0;o<k.length;o++)u=k[o],(!u.type||n.test(u.type))&&t.push(u);i.apply(a,[j+1,0].concat(t))}c.push(e)}return c}function q(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function j(d,b,f,l){d=a.query(d);l&&(l=[]);d=g(d,l);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),e,i,u,o,k=b.length;if((d.length||l&&l.length)&&k){d=a._nodeListToFragment(d);1<k&&(o=a.clone(d,!0),b=c.makeArray(b));for(e=0;e<k;e++)i=b[e],d&&(u=0<e?a.clone(o,!0):d,f(u,i)),l&&l.length&&c.each(l,q)}}var m=a.NodeType,p=/^(?:button|input|object|select|textarea)$/i,l=a.nodeName,f=c.makeArray,i=[].splice,
n=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){j(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){j(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var f;(f=b.firstChild)&&1==f.nodeType;)b=f;a.appendTo(c,b)},wrap:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){a.wrapAll(c,b)})},wrapInner:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(d){d=a.query(d);c.each(d,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var f=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,f);a.remove(f)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,g){function q(a){var b,c=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[h];b=b[w];a-=f.clientLeft||c.clientLeft||0;b-=f.clientTop||c.clientTop||0;return{left:a,top:b}}function j(c,e){var d={left:0,top:0},f=i(c[b]),g,l=c,e=e||f;do{if(f==e){var h=l;g=q(h);h=i(h[b]);g.left+=a[t](h);g.top+=a[u](h)}else g=q(l);d.left+=g.left;d.top+=g.top}while(f&&f!=e&&(l=f.frameElement)&&(f=f.parent));return d}var m=c.Env.host,
p=m.document,l=a.NodeType,f=p&&p.documentElement,i=a.getWindow,n=Math.max,d=parseInt,b="ownerDocument",h="left",w="top",e=c.isNumber,t="scrollLeft",u="scrollTop";c.mix(a,{offset:function(b,c,e){if(c===g){var b=a.get(b),f;b&&(f=j(b,e));return f}e=a.query(b);for(f=e.length-1;0<=f;f--){var b=e[f],l=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=j(b),i={},u=void 0,t=void 0;for(t in l)u=d(a.css(b,t),10)||0,i[t]=u+l[t]-h[t];a.css(b,i)}return g},scrollIntoView:function(b,e,f,u){var t,
j,n,r;if(n=a.get(b)){e&&(e=a.get(e));e||(e=n.ownerDocument);e.nodeType==l.DOCUMENT_NODE&&(e=i(e));c.isPlainObject(f)&&(u=f.allowHorizontalScroll,r=f.onlyScrollIfNeeded,f=f.alignWithTop);u=u===g?!0:u;j=!!i(e);var b=a.offset(n),q=a.outerHeight(n);t=a.outerWidth(n);var m,p,v,s;j?(j=e,m=a.height(j),p=a.width(j),s={left:a.scrollLeft(j),top:a.scrollTop(j)},j=b[h]-s[h],n=b[w]-s[w],t=b[h]+t-(s[h]+p),b=b[w]+q-(s[w]+m)):(m=a.offset(e),p=e.clientHeight,v=e.clientWidth,s={left:a.scrollLeft(e),top:a.scrollTop(e)},
j=b[h]-(m[h]+(d(a.css(e,"borderLeftWidth"))||0)),n=b[w]-(m[w]+(d(a.css(e,"borderTopWidth"))||0)),t=b[h]+t-(m[h]+v+(d(a.css(e,"borderRightWidth"))||0)),b=b[w]+q-(m[w]+p+(d(a.css(e,"borderBottomWidth"))||0)));if(r){if(0>n||0<b)!0===f?a.scrollTop(e,s.top+n):!1===f?a.scrollTop(e,s.top+b):0>n?a.scrollTop(e,s.top+n):a.scrollTop(e,s.top+b)}else(f=f===g?!0:!!f)?a.scrollTop(e,s.top+n):a.scrollTop(e,s.top+b);if(u)if(r){if(0>j||0<t)!0===f?a.scrollLeft(e,s.left+j):!1===f?a.scrollLeft(e,s.left+t):0>j?a.scrollLeft(e,
s.left+j):a.scrollLeft(e,s.left+t)}else(f=f===g?!0:!!f)?a.scrollLeft(e,s.left+j):a.scrollLeft(e,s.left+t)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,c){var d="scroll"+b;a[d]=function(f,h){if(e(f))return arguments.callee(m,f);var f=a.get(f),j,t,u,n=i(f);n?h!==g?(h=parseFloat(h),t="Left"==b?h:a.scrollLeft(n),u="Top"==b?h:a.scrollTop(n),n.scrollTo(t,u)):(j=n["page"+(c?"Y":"X")+"Offset"],e(j)||(t=n.document,j=t.documentElement[d],
e(j)||(j=t.body[d]))):f.nodeType==l.ELEMENT_NODE&&(h!==g?f[d]=parseFloat(h):j=f[d]);return j}});c.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=i(e).document;return n(e.documentElement["scroll"+b],e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(e){var e=a.get(e),c="client"+b,e=i(e).document,d=e.body,f=e.documentElement[c];return"CSS1Compat"===e.compatMode&&f||d&&d[c]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a){function g(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function q(e,c){var d,h;d="string"==typeof e;var k=c?q(c):(h=1)&&[l],j=k.length;if(e)if(d)if(e=w(e),h&&"body"==e)d=[l.body];else{d=[];for(h=0;h<j;h++)b.apply(d,a._selectInternal(e,k[h]));1<d.length&&1<j&&a.unique(d)}else{if(d=e.nodeType||e.setTimeout?[e]:e.getDOMNodes?e.getDOMNodes():f(e)?e:n(e)?i(e):[e],!h){var m=d,p,z=m.length;d=[];for(h=0;h<z;h++)for(p=0;p<j;p++)if(a._contains(k[p],
m[h])){d.push(m[h]);break}}}else d=[];d.each=g;return d}function j(a,b){var c=a&&(a.className||m(a,"class"));return c&&-1<(d+c+d).indexOf(d+b+d)}function m(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function p(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var l=c.Env.host.document,f=c.isArray,i=c.makeArray,n=a._isNodeList,d=" ",b=Array.prototype.push,h=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,w=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||
!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:m,_isTag:p,_hasSingleClass:j,_matchesInternal:function(a,b){for(var c=[],d=0,f=i(l.querySelectorAll(a)),h,g=b.length;d<g;d++)h=b[d],-1!=f.indexOf(h)&&c.push(h);return c},_selectInternal:function(a,b){return i(b.querySelectorAll(a))},query:q,get:function(a,b){return q(a,b)[0]||null},unique:function(){function b(e,d){return e==d?(c=!0,0):a._compareNodeOrder(e,d)}var c,d=!0;[0,0].sort(function(){d=
!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var f=1,h=a.length;f<h;)a[f]===a[f-1]?(a.splice(f,1),--h):f++;return a}}(),filter:function(b,d,f){var b=q(b,f),g,l,i,n,f=[];if("string"==typeof d&&(d=w(d))&&(i=h.exec(d)))g=i[1],l=i[2],n=i[3],g?g&&!l&&!n&&(d=function(a){return m(a,"id")==g}):d=function(a){var b=!0,c=!0;l&&(b=p(a,l));n&&(c=j(a,n));return c&&b};return f=c.isFunction(d)?c.filter(b,d):a._matchesInternal(d,b)},test:function(b,c,d){b=q(b,d);return b.length&&a.filter(b,c,d).length===
b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,g){function q(a,b){return b.toUpperCase()}function j(a){return a.replace(o,"ms-").replace(y,q)}function m(a,b,c){var d={},e;for(e in b)d[e]=a[h][e],a[h][e]=b[e];c.call(a);for(e in b)a[h][e]=d[e]}function p(a,b,c){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a[h]))return g;b=j(b);f=z[b];b=C[b]||b;if(c!==g){null===c||c===B?c=B:!isNaN(Number(c))&&!u[b]&&(c+=x);f&&f.set&&(c=f.set(a,c));if(c!==g){try{d[b]=c}catch(l){}c===B&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(e=f.get(a,!1))!==g))e=d[b];return e===g?"":e}function l(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(g,c):m(a,G,function(){b=f.apply(g,c)});return b}function f(b,d,f){if(c.isWindow(b))return d==e?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==e?a.docWidth(b):a.docHeight(b);var h=d===e?["Left","Right"]:["Top","Bottom"],g=d===e?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==f&&c.each(h,function(c){f||(g-=parseFloat(a.css(b,
"padding"+c))||0);g="margin"===f?g+(parseFloat(a.css(b,f+c))||0):g-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),g;g=a._getComputedStyle(b,d);if(null==g||0>Number(g))g=b.style[d]||0;g=parseFloat(g)||0;f&&c.each(h,function(c){g+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==f&&(g+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===f&&(g+=parseFloat(a.css(b,f+c))||0)});return g}var i=c.Env.host,n=c.UA,d=a.nodeName,b=i.document,h="style",w=/^margin/,e="width",t="display"+c.now(),u={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},o=/^-ms-/,k=/([A-Z]|^ms)/g,B="",x="px",A=/\d(?!px)[a-z%]+$/i,z={},C={"float":"cssFloat"},r={},y=/-([a-z])/ig;c.mix(a,{_camelCase:j,_CUSTOM_STYLES:z,_cssProps:C,_getComputedStyle:function(b,c){var d="",e,f,g,l,i;f=b.ownerDocument;c=c.replace(k,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(b,null))d=e.getPropertyValue(c)||e[c];""===d&&!a.contains(f,b)&&(c=C[c]||c,d=b[h][c]);a._RE_NUM_NO_PX.test(d)&&w.test(c)&&(i=b.style,
f=i.width,g=i.minWidth,l=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=e.width,i.width=f,i.minWidth=g,i.maxWidth=l);return d},style:function(b,d,e){var b=a.query(b),f,h=b[0];if(c.isPlainObject(d)){for(f in d)for(h=b.length-1;0<=h;h--)p(b[h],f,d[f]);return g}if(e===g)return f="",h&&(f=p(h,d,e)),f;for(h=b.length-1;0<=h;h--)p(b[h],d,e);return g},css:function(b,d,e){var b=a.query(b),f=b[0],h;if(c.isPlainObject(d)){for(h in d)for(f=b.length-1;0<=f;f--)p(b[f],h,d[h]);return g}d=j(d);h=z[d];if(e===g){e="";
if(f&&(!h||!("get"in h&&(e=h.get(f,!0))!==g)))e=a._getComputedStyle(f,d);return"undefined"==typeof e?"":e}for(f=b.length-1;0<=f;f--)p(b[f],d,e);return g},show:function(c){var c=a.query(c),d,e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[h].display=a.data(e,t)||B,"none"===a.css(e,"display")){d=e.tagName.toLowerCase();var g=void 0,l=r[d],i=void 0;r[d]||(g=b.body||b.documentElement,i=b.createElement(d),a.prepend(i,g),l=a.css(i,"display"),g.removeChild(i),r[d]=l);d=l;a.data(e,t,d);e[h].display=d}},hide:function(b){var b=
a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c[h],f=e.display;"none"!==f&&(f&&a.data(c,t,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||i;"string"==typeof b&&(d=c,c=b,b=i);var b=a.get(b),b=a.getWindow(b).document,e;if(d&&(d=d.replace("#",B)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=
c:e.appendChild(b.createTextNode(c)))},unselectable:function(b){var b=a.query(b),e,f,g=0,l,i;for(f=b.length-1;0<=f;f--)if(e=b[f],i=e[h],i.UserSelect="none",n.gecko)i.MozUserSelect="none";else if(n.webkit)i.WebkitUserSelect="none";else if(n.ie||n.opera){i=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(l=["iframe","textarea","input","select"];e=i[g++];)c.inArray(d(e),l)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
c.each([e,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&l(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var e=a.get(c);return e&&l(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var G={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(b){z[b]={get:function(a,c){var d;c&&(d=l(a,b)+"px");return d}}});c.each(["left","top"],function(c){z[c]={get:function(d,e){var f,g,h;if(e){h=
a.css(d,"position");if("static"===h)return"auto";f=a._getComputedStyle(d,c);if((g="auto"===f)&&"relative"===h)return"0px";if(g||A.test(f)){h={top:0,left:0};if("fixed"==a.css(d,"position"))g=d.getBoundingClientRect();else{for(f=d.offsetParent||(d.ownerDocument||b).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;g=a.offset(d);h=a.offset(f);h.top+=parseFloat(a.css(f,"borderTopWidth"))||0;h.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}g.top-=parseFloat(a.css(d,"marginTop"))||
0;g.left-=parseFloat(a.css(d,"marginLeft"))||0;f={top:g.top-h.top,left:g.left-h.left}[c]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,g){function q(l,f,i,n,d,b,h){if(!(l=a.get(l)))return null;if(0===f)return l;b||(l=l[i]);if(!l)return null;d=d&&a.get(d)||null;f===g&&(f=1);var b=[],m=c.isArray(f),e,q;c.isNumber(f)&&(e=0,q=f,f=function(){return++e===q});for(;l&&l!=d;){if((l.nodeType==p.ELEMENT_NODE||l.nodeType==p.TEXT_NODE&&h)&&j(l,f)&&(!n||n(l)))if(b.push(l),!m)break;l=l[i]}return m?b:b[0]||null}function j(g,f){if(!f)return!0;if(c.isArray(f)){var i,j=f.length;if(!j)return!0;for(i=0;i<j;i++)if(a.test(g,
f[i]))return!0}else if(a.test(g,f))return!0;return!1}function m(g,f,i,j){var d=[],b,h;if((b=g=a.get(g))&&i)b=g.parentNode;if(b){i=c.makeArray(b.childNodes);for(b=0;b<i.length;b++)h=i[b],(j||h.nodeType==p.ELEMENT_NODE)&&h!=g&&d.push(h);f&&(d=a.filter(d,f))}return d}var p=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,g,j){return q(a,c,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},g,!0,j)},parent:function(a,c,i){return q(a,
c,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(c,f,i){c=a.get(c);return q(c&&c.firstChild,f,"nextSibling",g,g,!0,i)},last:function(c,f,i){c=a.get(c);return q(c&&c.lastChild,f,"previousSibling",g,g,!0,i)},next:function(a,c,i){return q(a,c,"nextSibling",g,g,g,i)},prev:function(a,c,i){return q(a,c,"previousSibling",g,g,g,i)},siblings:function(a,c,g){return m(a,c,!0,g)},children:function(a,c){return m(a,c,g)},contents:function(a,c){return m(a,c,g,1)},contains:function(c,
f){c=a.get(c);f=a.get(f);return c&&f?a._contains(c,f):!1},index:function(g,f){var i=a.query(g),j,d=0;j=i[0];if(!f){i=j&&j.parentNode;if(!i)return-1;for(;j=j.previousSibling;)j.nodeType==p.ELEMENT_NODE&&d++;return d}d=a.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],i)},equals:function(c,f){c=a.query(c);f=a.query(f);if(c.length!=f.length)return!1;for(var g=c.length;0<=g;g--)if(c[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
