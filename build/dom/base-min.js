/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Mar 29 16:38
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host,h=c.UA,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(c){var c=c||a,h=c.document.domain,c=c.location.hostname;return h!=c&&h!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;return h.ie&&j.isCustomDomain(c)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:n,getWindow:function(c){return!c?a:"scrollTo"in c&&c.document?c:c.nodeType==n.DOCUMENT_NODE?c.defaultView||c.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var c=j.get(a),a=c.nodeName.toLowerCase();h.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};c.mix(j,n);return j});
KISSY.add("dom/base/attr",function(c,a,h){function n(a,d){var d=g[d]||d,e=z[d];return e&&e.get?e.get(a,d):a[d]}var j=c.Env.host.document,l=a.NodeType,j=j&&j.documentElement,p=a.nodeName,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,o=/:|^on/,d=/\r/g,b={},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},e={tabindex:{get:function(a){var d=
a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:h}}},g={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},r={get:function(d,e){return a.prop(d,e)?e.toLowerCase():h},set:function(d,e,b){!1===e?
a.removeAttr(d,b):(e=g[b]||b,e in d&&(d[e]=!0),d.setAttribute(b,b.toLowerCase()));return b}},z={},x={},m={select:{get:function(d){var e=d.selectedIndex,b=d.options,c;if(0>e)return null;if("select-one"===""+d.type)return a.val(b[e]);d=[];e=0;for(c=b.length;e<c;++e)b[e].selected&&d.push(a.val(b[e]));return d},set:function(d,e){var b=c.makeArray(e);c.each(d.options,function(d){d.selected=c.inArray(a.val(d),b)});b.length||(d.selectedIndex=-1);return b}}};c.each(["radio","checkbox"],function(d){m[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,e){return c.isArray(e)?d.checked=c.inArray(a.val(d),e):h}}});e.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:m,_propFix:g,_attrHooks:e,_propHooks:z,_attrNodeHook:x,_attrFix:b,prop:function(d,e,b){var m=a.query(d),f,q;if(c.isPlainObject(e))return c.each(e,function(d,e){a.prop(m,e,d)}),h;e=g[e]||e;q=z[e];if(b!==h)for(d=m.length-1;0<=d;d--)f=m[d],q&&q.set?q.set(f,b,e):f[e]=b;else if(m.length)return n(m[0],e);return h},hasProp:function(d,
e){var b=a.query(d),c,g=b.length,q;for(c=0;c<g;c++)if(q=b[c],n(q,e)!==h)return!0;return!1},removeProp:function(d,e){var e=g[e]||e,b=a.query(d),c,m;for(c=b.length-1;0<=c;c--){m=b[c];try{m[e]=h,delete m[e]}catch(q){}}},attr:function(d,g,m,f){var i=a.query(d),q=i[0];if(c.isPlainObject(g)){var f=m,w;for(w in g)a.attr(i,w,g[w],f);return h}if(f&&u[g])return a[g](d,m);g=g.toLowerCase();if(f&&u[g])return a[g](d,m);g=b[g]||g;d=k.test(g)?r:o.test(g)?x:e[g];if(m===h){if(q&&q.nodeType===l.ELEMENT_NODE){"form"==
p(q)&&(d=x);if(d&&d.get)return d.get(q,g);g=q.getAttribute(g);return null===g?h:g}}else for(f=i.length-1;0<=f;f--)if((q=i[f])&&q.nodeType===l.ELEMENT_NODE)"form"==p(q)&&(d=x),d&&d.set?d.set(q,m,g):q.setAttribute(g,""+m);return h},removeAttr:function(d,e){var e=e.toLowerCase(),e=b[e]||e,c=a.query(d),m,f,q;for(q=c.length-1;0<=q;q--)if(f=c[q],f.nodeType==l.ELEMENT_NODE&&(f.removeAttribute(e),k.test(e)&&(m=g[e]||e)in f))f[m]=!1},hasAttr:j&&!j.hasAttribute?function(d,e){var e=e.toLowerCase(),b=a.query(d),
c,g;for(c=0;c<b.length;c++)if(g=b[c],(g=g.getAttributeNode(e))&&g.specified)return!0;return!1}:function(d,e){var b=a.query(d),c,g=b.length;for(c=0;c<g;c++)if(b[c].hasAttribute(e))return!0;return!1},val:function(e,b){var g,f,i,q,w;if(b===h){if(i=a.get(e)){if((g=m[p(i)]||m[i.type])&&"get"in g&&(f=g.get(i,"value"))!==h)return f;f=i.value;return"string"===typeof f?f.replace(d,""):null==f?"":f}return h}f=a.query(e);for(q=f.length-1;0<=q;q--){i=f[q];if(1!==i.nodeType)break;w=b;null==w?w="":"number"===typeof w?
w+="":c.isArray(w)&&(w=c.map(w,function(a){return a==null?"":a+""}));g=m[p(i)]||m[i.type];if(!g||!("set"in g)||g.set(i,w,"value")===h)i.value=w}return h},text:function(d,e){var b,g,c,q;if(e===h)return b=a.get(d),a._getText(b);g=a.query(d);for(c=g.length-1;0<=c;c--)if(b=g[c],q=b.nodeType,q==l.ELEMENT_NODE)a.empty(b),b.appendChild(b.ownerDocument.createTextNode(e));else if(q==l.TEXT_NODE||q==l.CDATA_SECTION_NODE)b.nodeValue=e;return h},_getText:function(a){return a.textContent}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(c,a){function h(a){for(var a=c.trim(a||""),a=a.split(k),i=[],h,d=a.length,b=0;b<d;b++)(h=a[b])&&i.push(h);return i}function n(a){return function(c,h){var d,b,u,e=c.classList,g=l.call(arguments,2);d=0;for(b=h.length;d<b;d++)(u=h[d])&&e[a].apply(e,[u].concat(g))}}function j(c){return function(i,k){var d=h(k),b=l.call(arguments,2);a.query(i).each(function(i){i.nodeType==p.ELEMENT_NODE&&a[c].apply(a,[i,d].concat(b))})}}var l=[].slice,p=a.NodeType,k=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var h,d,b,u=a.classList;if(u.length){h=0;for(d=c.length;h<d;h++)if((b=c[h])&&!u.contains(b))return!1;return!0}return!1},_addClass:n("add"),_removeClass:n("remove"),_toggleClass:n("toggle"),hasClass:function(c,i){var k=a.get(c);return k&&k.nodeType==p.ELEMENT_NODE&&a._hasClass(k,h(i))},replaceClass:function(c,i,h){a.removeClass(c,i);a.addClass(c,h)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,h){function n(d){var e=c.require("event/dom/base");e&&e.detach(d);a.removeData(d)}function j(a,e){var c=e&&e!=f?e.createElement(d):b;c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function l(a,d,e){var b=d.nodeType;if(b==i.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;e=e.childNodes;for(b=0;d[b];)e[b]&&l(a,d[b],e[b]),b++}else if(b==i.ELEMENT_NODE){d=d.getElementsByTagName("*");e=e.getElementsByTagName("*");for(b=0;d[b];)e[b]&&a(d[b],e[b]),b++}}function p(d,e){var b=
c.require("event/dom"),g,s;if(e.nodeType!=i.ELEMENT_NODE||a.hasData(d)){g=a.data(d);for(s in g)a.data(e,s,g[s]);b&&(b._DOMUtils.removeData(e),b._clone(d,e))}}function k(a){var d=null,e,b;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);e=0;for(b=a.length;e<b;e++)d.appendChild(a[e])}return d}var f=c.Env.host.document,i=a.NodeType,o=c.UA.ie,d="div",b=f&&f.createElement(d),u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,e=/<([\w:]+)/,
g=/^\s+/,r=/\s+$/,z=o&&9>o,x=/<|&#?\w+;/,m=f&&"outerHTML"in f.documentElement,A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(b,m,y,v){var s=null;if(!b)return s;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return s;v===h&&(v=!0);v&&(b=c.trim(b));var v=a._creators,t,D,y=y||f,E,l=d;if(x.test(b))if(E=A.exec(b))s=y.createElement(E[1]);else{b=b.replace(u,"<$1></$2>");if((E=e.exec(b))&&(t=E[1]))l=t.toLowerCase();t=(v[l]||j)(b,y);z&&(D=b.match(g))&&t.insertBefore(y.createTextNode(D[0]),
t.firstChild);z&&/\S/.test(b)&&(D=b.match(r))&&t.appendChild(y.createTextNode(D[0]));b=t.childNodes;1===b.length?s=b[0].parentNode.removeChild(b[0]):b.length&&(s=k(b))}else s=y.createTextNode(b);c.isPlainObject(m)&&(s.nodeType==i.ELEMENT_NODE?a.attr(s,m,!0):s.nodeType==i.DOCUMENT_FRAGMENT_NODE&&a.attr(s.childNodes,m,!0));return s},_fixCloneAttributes:null,_creators:{div:j},_defaultCreator:j,html:function(d,b,c,v){var d=a.query(d),s=d[0],t=!1,m,f;if(s){if(b===h)return s.nodeType==i.ELEMENT_NODE?s.innerHTML:
null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!z||!b.match(g))&&!B[(b.match(e)||["",""])[1].toLowerCase()])try{for(m=d.length-1;0<=m;m--)f=d[m],f.nodeType==i.ELEMENT_NODE&&(n(f.getElementsByTagName("*")),f.innerHTML=b);t=!0}catch(u){}t||(b=a.create(b,0,s.ownerDocument,0),a.empty(d),a.append(b,d,c));v&&v()}},outerHTML:function(e,c,g){var v=a.query(e),s=v.length;if(e=v[0]){if(c===h){if(m)return e.outerHTML;c=(c=e.ownerDocument)&&c!=f?c.createElement(d):b;c.innerHTML="";c.appendChild(a.clone(e,
!0));c.appendChild(a.clone(e,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&m)for(g=s-1;0<=g;g--)e=v[g],e.nodeType==i.ELEMENT_NODE&&(n(e),n(e.getElementsByTagName("*")),e.outerHTML=c);else e=a.create(c,0,e.ownerDocument,0),a.insertBefore(e,v,g),a.remove(v)}},remove:function(d,e){var b,g=a.query(d),s,m,f=c.require("event/dom/base"),h;for(h=g.length-1;0<=h;h--)b=g[h],!e&&b.nodeType==i.ELEMENT_NODE&&(s=c.makeArray(b.getElementsByTagName("*")),s.push(b),a.removeData(s),f&&f.detach(s)),
(m=b.parentNode)&&m.removeChild(b)},clone:function(d,e,b,c){"object"===typeof e&&(c=e.deepWithDataAndEvent,b=e.withDataAndEvent,e=e.deep);var d=a.get(d),g,m=a._fixCloneAttributes,f;if(!d)return null;f=d.nodeType;g=d.cloneNode(e);if(f==i.ELEMENT_NODE||f==i.DOCUMENT_FRAGMENT_NODE)m&&f==i.ELEMENT_NODE&&m(d,g),e&&m&&l(m,d,g);b&&(p(d,g),e&&c&&l(p,d,g));return g},empty:function(d){var d=a.query(d),e,b;for(b=d.length-1;0<=b;b--)e=d[b],a.remove(e.childNodes)},_nodeListToFragment:k});var F=a._creators,y=a.create,
B={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in B)(function(a){F[C]=function(d,e){return y("<"+a+">"+d+"</"+a+">",null,e)}})(B[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,h){var n=c.Env.host,j="__ks_data_"+c.now(),l={},p={},k={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==h){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==n?i.hasData(p,b):f.hasData(a[j],b)},data:function(a,b,c){if(a==n)return i.data(p,b,c);var e=a[j];if(c!==h)e=a[j]=a[j]||{},e[b]=c;else return b!==h?e&&e[b]:e=a[j]=a[j]||{}},removeData:function(a,b){if(a==n)return i.removeData(p,b);var f=a[j];
if(b!==h)delete f[b],c.isEmptyObject(f)&&i.removeData(a);else try{delete a[j]}catch(e){a[j]=h}}},o={hasData:function(a,b){var c=a[j];return!c?!1:f.hasData(l[c],b)},data:function(a,b,f){if(k[a.nodeName.toLowerCase()])return h;var e=a[j];if(!e){if(b!==h&&f===h)return h;e=a[j]=c.guid()}a=l[e];if(f!==h)a=l[e]=l[e]||{},a[b]=f;else return b!==h?a&&a[b]:a=l[e]=l[e]||{}},removeData:function(a,b){var f=a[j],e;if(f)if(e=l[f],b!==h)delete e[b],c.isEmptyObject(e)&&o.removeData(a);else{delete l[f];try{delete a[j]}catch(g){a[j]=
h}a.removeAttribute&&a.removeAttribute(j)}}};c.mix(a,{__EXPANDO:j,hasData:function(d,b){for(var c=!1,e=a.query(d),g=0;g<e.length&&!(c=e[g],c=c.nodeType?o.hasData(c,b):i.hasData(c,b));g++);return c},data:function(d,b,f){var d=a.query(d),e=d[0];if(c.isPlainObject(b)){for(var g in b)a.data(d,g,b[g]);return h}if(f===h){if(e)return e.nodeType?o.data(e,b):i.data(e,b)}else for(g=d.length-1;0<=g;g--)e=d[g],e.nodeType?o.data(e,b,f):i.data(e,b,f);return h},removeData:function(d,b){var c=a.query(d),e,g;for(g=
c.length-1;0<=g;g--)e=c[g],e.nodeType?o.removeData(e,b):i.removeData(e,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function h(a,b){var c=[],e,g,r;for(e=0;a[e];e++)if(g=a[e],r=k(g),g.nodeType==l.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,h(f(g.childNodes),b));else if("script"===r&&(!g.type||o.test(g.type)))g.parentNode&&g.parentNode.removeChild(g),b&&b.push(g);else{if(g.nodeType==l.ELEMENT_NODE&&!p.test(r)){r=[];var j,x,m=g.getElementsByTagName("script");for(x=0;x<m.length;x++)j=m[x],(!j.type||o.test(j.type))&&r.push(j);i.apply(a,[e+1,0].concat(r))}c.push(g)}return c}function n(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function j(d,b,f,e){d=a.query(d);e&&(e=[]);d=h(d,e);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),g,i,k,x,m=b.length;if((d.length||e&&e.length)&&m){d=a._nodeListToFragment(d);1<m&&(x=a.clone(d,!0),b=c.makeArray(b));for(g=0;g<m;g++)i=b[g],d&&(k=0<g?a.clone(x,!0):d,f(k,i)),e&&e.length&&c.each(e,n)}}var l=a.NodeType,p=/^(?:button|input|object|select|textarea)$/i,k=a.nodeName,f=c.makeArray,i=[].splice,
o=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){j(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){j(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var f;(f=b.firstChild)&&1==f.nodeType;)b=f;a.appendTo(c,b)},wrap:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){a.wrapAll(c,b)})},wrapInner:function(d,b){d=a.query(d);b=a.get(b);c.each(d,function(c){var e=c.childNodes;e.length?a.wrapAll(e,b):c.appendChild(b)})},unwrap:function(d){d=a.query(d);c.each(d,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var f=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,f);a.remove(f)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,h){function n(a){var b,c=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[u];b=b[e];a-=f.clientLeft||c.clientLeft||0;b-=f.clientTop||c.clientTop||0;return{left:a,top:b}}function j(e,c){var d={left:0,top:0},g=i(e[b]),f,h=e,c=c||g;do{if(g==c){var k=h;f=n(k);k=i(k[b]);f.left+=a[r](k);f.top+=a[z](k)}else f=n(h);d.left+=f.left;d.top+=f.top}while(g&&g!=c&&(h=g.frameElement)&&(g=g.parent));return d}var l=c.Env.host,
p=l.document,k=a.NodeType,f=p&&p.documentElement,i=a.getWindow,o=Math.max,d=parseInt,b="ownerDocument",u="left",e="top",g=c.isNumber,r="scrollLeft",z="scrollTop";c.mix(a,{offset:function(b,e,c){if(e===h){var b=a.get(b),g;b&&(g=j(b,c));return g}c=a.query(b);for(g=c.length-1;0<=g;g--){var b=c[g],f=e;"static"===a.css(b,"position")&&(b.style.position="relative");var i=j(b),k={},r=void 0,l=void 0;for(l in f)r=d(a.css(b,l),10)||0,k[l]=r+f[l]-i[l];a.css(b,k)}return h},scrollIntoView:function(b,g,f,r){var j,
l,o,q;if(o=a.get(b)){g&&(g=a.get(g));g||(g=o.ownerDocument);g.nodeType==k.DOCUMENT_NODE&&(g=i(g));c.isPlainObject(f)&&(r=f.allowHorizontalScroll,q=f.onlyScrollIfNeeded,f=f.alignWithTop);r=r===h?!0:r;l=!!i(g);var b=a.offset(o),n=a.outerHeight(o);j=a.outerWidth(o);var p,v,s,t;l?(l=g,p=a.height(l),v=a.width(l),t={left:a.scrollLeft(l),top:a.scrollTop(l)},l=b[u]-t[u],o=b[e]-t[e],j=b[u]+j-(t[u]+v),b=b[e]+n-(t[e]+p)):(p=a.offset(g),v=g.clientHeight,s=g.clientWidth,t={left:a.scrollLeft(g),top:a.scrollTop(g)},
l=b[u]-(p[u]+(d(a.css(g,"borderLeftWidth"))||0)),o=b[e]-(p[e]+(d(a.css(g,"borderTopWidth"))||0)),j=b[u]+j-(p[u]+s+(d(a.css(g,"borderRightWidth"))||0)),b=b[e]+n-(p[e]+v+(d(a.css(g,"borderBottomWidth"))||0)));if(q){if(0>o||0<b)!0===f?a.scrollTop(g,t.top+o):!1===f?a.scrollTop(g,t.top+b):0>o?a.scrollTop(g,t.top+o):a.scrollTop(g,t.top+b)}else(f=f===h?!0:!!f)?a.scrollTop(g,t.top+o):a.scrollTop(g,t.top+b);if(r)if(q){if(0>l||0<j)!0===f?a.scrollLeft(g,t.left+l):!1===f?a.scrollLeft(g,t.left+j):0>l?a.scrollLeft(g,
t.left+l):a.scrollLeft(g,t.left+j)}else(f=f===h?!0:!!f)?a.scrollLeft(g,t.left+l):a.scrollLeft(g,t.left+j)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,e){var c="scroll"+b;a[c]=function(d,f){if(g(d))return arguments.callee(l,d);var d=a.get(d),j,r,o,n=i(d);n?f!==h?(f=parseFloat(f),r="Left"==b?f:a.scrollLeft(n),o="Top"==b?f:a.scrollTop(n),n.scrollTo(r,o)):(j=n["page"+(e?"Y":"X")+"Offset"],g(j)||(r=n.document,j=r.documentElement[c],
g(j)||(j=r.body[c]))):d.nodeType==k.ELEMENT_NODE&&(f!==h?d[c]=parseFloat(f):j=d[c]);return j}});c.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=i(e).document;return o(e.documentElement["scroll"+b],e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(e){var e=a.get(e),c="client"+b,e=i(e).document,d=e.body,g=e.documentElement[c];return"CSS1Compat"===e.compatMode&&g||d&&d[c]||g}});return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a){function h(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function n(b,c){var j,l;j="string"==typeof b;var o=c?n(c):[p];if(b)if(j)if(b=u(b),1==o.length&&o[0]==p&&"body"==b)j=[p.body];else{j=[];for(l=0;l<o.length;l++)d.apply(j,a._selectInternal(b,o[l]));1<j.length&&1<o.length&&a.unique(j)}else j=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():k(b)?b:i(b)?f(b):[b];else j=[];j.each=h;return j}function j(a,b){var c=a&&(a.className||l(a,
"class"));return c&&-1<(o+c+o).indexOf(o+b+o)}function l(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}var p=c.Env.host.document,k=c.isArray,f=c.makeArray,i=a._isNodeList,o=" ",d=Array.prototype.push,b=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,u=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_isTag:function(a,b){return"*"==b||a.nodeName.toLowerCase()===
b.toLowerCase()},_getAttr:l,_hasSingleClass:j,_matchesInternal:function(a,b){for(var c=[],d=0,h=f(p.querySelectorAll(a)),i,k=b.length;d<k;d++)i=b[d],-1!=h.indexOf(i)&&c.push(i);return c},_selectInternal:function(a,b){return f(b.querySelectorAll(a))},query:n,get:function(a,b){return n(a,b)[0]||null},unique:function(){function b(e,d){return e==d?(c=!0,0):a._compareNodeOrder(e,d)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var f=1,h=a.length;f<h;)a[f]===
a[f-1]?(a.splice(f,1),--h):f++;return a}}(),filter:function(e,d,f){var e=n(e,f),h,i,k,o,f=[];if("string"==typeof d&&(d=u(d))&&(k=b.exec(d)))h=k[1],i=k[2],o=k[3],h?h&&!i&&!o&&(d=function(a){return l(a,"id")==h}):d=function(a){var b=!0,c=!0;i&&(b=a.nodeName.toLowerCase()==i.toLowerCase());o&&(c=j(a,o));return c&&b};return f=c.isFunction(d)?c.filter(e,d):a._matchesInternal(d,e)},test:function(b,c,d){b=n(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,h){function n(a){return a.replace(x,"ms-").replace(q,w)}function j(a,c,d){var e={},f;for(f in c)e[f]=a[b][f],a[b][f]=c[f];d.call(a);for(f in c)a[b][f]=e[f]}function l(a,c,d){var e,f,g;if(3===a.nodeType||8===a.nodeType||!(e=a[b]))return h;c=n(c);g=y[c];c=B[c]||c;if(d!==h){null===d||d===A?d=A:!isNaN(Number(d))&&!z[c]&&(d+=F);g&&g.set&&(d=g.set(a,d));if(d!==h){try{e[c]=d}catch(i){}d===A&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||a.removeAttribute("style");
return h}if(!g||!("get"in g&&(f=g.get(a,!1))!==h))f=e[c];return f===h?"":f}function p(a){var b,c=arguments;0!==a.offsetWidth?b=k.apply(h,c):j(a,G,function(){b=k.apply(h,c)});return b}function k(b,d,f){if(c.isWindow(b))return d==e?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==e?a.docWidth(b):a.docHeight(b);var g=d===e?["Left","Right"]:["Top","Bottom"],h=d===e?b.offsetWidth:b.offsetHeight;if(0<h)return"border"!==f&&c.each(g,function(c){f||(h-=parseFloat(a.css(b,"padding"+c))||0);
h="margin"===f?h+(parseFloat(a.css(b,f+c))||0):h-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),h;h=a._getComputedStyle(b,d);if(null==h||0>Number(h))h=b.style[d]||0;h=parseFloat(h)||0;f&&c.each(g,function(c){h+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==f&&(h+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===f&&(h+=parseFloat(a.css(b,f+c))||0)});return h}var f=c.Env.host,i=c.UA,o=a.nodeName,d=f.document,b="style",u=/^margin/,e="width",g="display"+c.now(),r=parseInt,z={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},x=/^-ms-/,m=/([A-Z]|^ms)/g,A="",F="px",y={},B={"float":"cssFloat"},C={},q=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()};c.mix(a,{_camelCase:n,_CUSTOM_STYLES:y,_cssProps:B,_getComputedStyle:function(c,d){var e="",f,g,h,i,k;g=c.ownerDocument;d=d.replace(m,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||f[d];""===e&&!a.contains(g,c)&&(d=B[d]||d,e=c[b][d]);a._RE_NUM_NO_PX.test(e)&&u.test(d)&&(k=
c.style,g=k.width,h=k.minWidth,i=k.maxWidth,k.minWidth=k.maxWidth=k.width=e,e=f.width,k.width=g,k.minWidth=h,k.maxWidth=i);return e},style:function(b,d,e){var b=a.query(b),f,g=b[0];if(c.isPlainObject(d)){for(f in d)for(g=b.length-1;0<=g;g--)l(b[g],f,d[f]);return h}if(e===h)return f="",g&&(f=l(g,d,e)),f;for(g=b.length-1;0<=g;g--)l(b[g],d,e);return h},css:function(b,d,e){var b=a.query(b),f=b[0],g;if(c.isPlainObject(d)){for(g in d)for(f=b.length-1;0<=f;f--)l(b[f],g,d[g]);return h}d=n(d);g=y[d];if(e===
h){e="";if(f&&(!g||!("get"in g&&(e=g.get(f,!0))!==h)))e=a._getComputedStyle(f,d);return e===h?"":e}for(f=b.length-1;0<=f;f--)l(b[f],d,e);return h},show:function(c){var c=a.query(c),e,f,h;for(h=c.length-1;0<=h;h--)if(f=c[h],f[b].display=a.data(f,g)||A,"none"===a.css(f,"display")){e=f.tagName.toLowerCase();var i=void 0,k=C[e],j=void 0;C[e]||(i=d.body||d.documentElement,j=d.createElement(e),a.prepend(j,i),k=a.css(j,"display"),i.removeChild(j),C[e]=k);e=k;a.data(f,g,e);f[b].display=e}},hide:function(c){var c=
a.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var f=d[b],h=f.display;"none"!==h&&(h&&a.data(d,g,h),f.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||f;"string"==typeof b&&(d=c,c=b,b=f);var b=a.get(b),b=a.getWindow(b).document,e;if(d&&(d=d.replace("#",A)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=
c:e.appendChild(b.createTextNode(c)))},unselectable:function(d){var d=a.query(d),e,f,g=0,h,k;for(f=d.length-1;0<=f;f--)if(e=d[f],k=e[b],k.UserSelect="none",i.gecko)k.MozUserSelect="none";else if(i.webkit)k.WebkitUserSelect="none";else if(i.ie||i.opera){k=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(h=["iframe","textarea","input","select"];e=k[g++];)c.inArray(o(e),h)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
c.each([e,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&p(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var e=a.get(c);return e&&p(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var G={position:"absolute",visibility:"hidden",display:"block"};c.each(["height","width"],function(a){y[a]={get:function(b,c){if(c)return p(b,a)+"px"}}});c.each(["left","top"],function(b){y[b]={get:function(e,f){if(f){var g=a._getComputedStyle(e,
b);if("auto"===g){g=0;if(c.inArray(a.css(e,"position"),["absolute","fixed"])){g=e["left"===b?"offsetLeft":"offsetTop"];if(i.ie&&9>(d.documentMode||0)||i.opera)g-=e.offsetParent&&e.offsetParent["client"+("left"==b?"Left":"Top")]||0;g-=r(a.css(e,"margin-"+b))||0}g+="px"}return g}}}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,h){function n(k,f,i,l,d,b,n){if(!(k=a.get(k)))return null;if(0===f)return k;b||(k=k[i]);if(!k)return null;d=d&&a.get(d)||null;f===h&&(f=1);var b=[],e=c.isArray(f),g,r;c.isNumber(f)&&(g=0,r=f,f=function(){return++g===r});for(;k&&k!=d;){if((k.nodeType==p.ELEMENT_NODE||k.nodeType==p.TEXT_NODE&&n)&&j(k,f)&&(!l||l(k)))if(b.push(k),!e)break;k=k[i]}return e?b:b[0]||null}function j(h,f){if(!f)return!0;if(c.isArray(f)){var i,j=f.length;if(!j)return!0;for(i=0;i<j;i++)if(a.test(h,
f[i]))return!0}else if(a.test(h,f))return!0;return!1}function l(h,f,i,j){var d=[],b,l;if((b=h=a.get(h))&&i)b=h.parentNode;if(b){i=c.makeArray(b.childNodes);for(b=0;b<i.length;b++)l=i[b],(j||l.nodeType==p.ELEMENT_NODE)&&l!=h&&d.push(l);f&&(d=a.filter(d,f))}return d}var p=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,h,j){return n(a,c,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},h,!0,j)},parent:function(a,c,i){return n(a,
c,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},i,h)},first:function(c,f,i){c=a.get(c);return n(c&&c.firstChild,f,"nextSibling",h,h,!0,i)},last:function(c,f,i){c=a.get(c);return n(c&&c.lastChild,f,"previousSibling",h,h,!0,i)},next:function(a,c,i){return n(a,c,"nextSibling",h,h,h,i)},prev:function(a,c,i){return n(a,c,"previousSibling",h,h,h,i)},siblings:function(a,c,h){return l(a,c,!0,h)},children:function(a,c){return l(a,c,h)},contents:function(a,c){return l(a,c,h,1)},contains:function(c,
f){c=a.get(c);f=a.get(f);return c&&f?a._contains(c,f):!1},index:function(h,f){var i=a.query(h),j,d=0;j=i[0];if(!f){i=j&&j.parentNode;if(!i)return-1;for(;j=j.previousSibling;)j.nodeType==p.ELEMENT_NODE&&d++;return d}d=a.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],i)},equals:function(c,f){c=a.query(c);f=a.query(f);if(c.length!=f.length)return!1;for(var h=c.length;0<=h;h--)if(c[h]!=f[h])return!1;return!0}});return a},{requires:["./api"]});
