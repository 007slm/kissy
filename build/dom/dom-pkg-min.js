/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 15 16:35
*/
KISSY.add("dom",function(b,u){function t(v,o){return v&&v.nodeType===o}b.DOM={_isElementNode:function(v){return t(v,1)},_isKSNode:function(v){return b.Node&&t(v,b.Node.TYPE)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:t(v,9)?v.defaultView||v.parentWindow:v===u?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(b,u){function t(a,c){var h,p=[],B,q;c=o(c);if(b.isString(a)){a=b.trim(a);if(r.test(a)){if(a=A(a.slice(1),c))p=[a]}else if(h=d.exec(a)){B=h[1];q=h[2];h=h[3];if(c=B?A(B,c):c)if(h)if(!B||a.indexOf(m)!==-1)p=f(h,q,c);else{if((a=A(B,c))&&i.hasClass(a,h))p=[a]}else if(q)p=j(q,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else n(a)}else if(a&&(a[y]||a[z]))p=a[y]?[a[y]()]:a[z]();else if(a&&(b.isArray(a)||v(a)))p=a;else if(a)p=[a];if(v(p))p=b.makeArray(p);p.each=
function(k,w){return b.each(p,k,w)};return p}function v(a){return a&&!a.nodeType&&a.item&&a!=window}function o(a){if(a===u)a=g;else if(b.isString(a)&&r.test(a))a=A(a.slice(1),g);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function A(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function j(a,c){return c.getElementsByTagName(a)}function f(a,c,h){h=a=h.getElementsByClassName(a);var p=0,B=0,q=a.length,k;if(c&&c!==s){h=[];for(c=c.toUpperCase();p<q;++p){k=a[p];if(k.tagName===
c)h[B++]=k}}return h}function n(a){b.error("Unsupported selector: "+a)}var g=document,i=b.DOM,m=" ",s="*",y="getDOMNode",z=y+"s",r=/^#[\w-]+$/,d=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=g.createElement("div");a.appendChild(g.createComment(""));if(a.getElementsByTagName(s).length>0)j=function(c,h){h=h.getElementsByTagName(c);if(c===s){c=[];for(var p=0,B=0,q;q=h[p++];)if(q.nodeType===1)c[B++]=q;h=c}return h}})();g.getElementsByClassName||(f=g.querySelectorAll?function(a,c,h){return h.querySelectorAll((c?
c:"")+"."+a)}:function(a,c,h){c=h.getElementsByTagName(c||s);h=[];var p=0,B=0,q=c.length,k,w;for(a=m+a+m;p<q;++p){k=c[p];if((w=k.className)&&(m+w+m).indexOf(a)>-1)h[B++]=k}return h});b.query=t;b.get=function(a,c){return t(a,c)[0]||null};b.mix(i,{query:t,get:b.get,filter:function(a,c){var h=t(a),p,B,q,k=[];if(b.isString(c)&&(p=d.exec(c))&&!p[1]){B=p[2];q=p[3];c=function(w){return!(B&&w.tagName!==B.toUpperCase()||q&&!i.hasClass(w,q))}}if(b.isFunction(c))k=b.filter(h,c);else if(c&&b.ExternalSelector)k=
b.ExternalSelector._filter(a,c);else n(c);return k},test:function(a,c){a=t(a);return i.filter(a,c).length===a.length}})});
KISSY.add("dom-data",function(b,u){function t(g){return g&&g.nodeType}var v=window,o=b.DOM,A="_ks_data_"+b.now(),j={},f={},n={EMBED:1,OBJECT:1,APPLET:1};b.mix(o,{data:function(g,i,m){if(b.isPlainObject(i))for(var s in i)o.data(g,s,i[s]);else if(m===u){g=b.get(g);var y;if(!(!g||n[g.nodeName])){if(g==v)g=f;y=(s=t(g))?j:g;g=y[s?g[A]:A];if(b.isString(i)&&g)return g[i];return g}}else b.query(g).each(function(z){if(!(!z||n[z.nodeName])){if(z==v)z=f;var r=j,d;if(t(z)){if(!(d=z[A]))d=z[A]=b.guid()}else{d=
A;r=z}if(i&&m!==u){r[d]||(r[d]={});r[d][i]=m}}})},removeData:function(g,i){b.query(g).each(function(m){if(m){if(m==v)m=f;var s,y=j,z,r=t(m);if(r)s=m[A];else{y=m;s=A}if(s){z=y[s];if(i){if(z){delete z[i];b.isEmptyObject(z)&&o.removeData(m)}}else{if(r)m.removeAttribute&&m.removeAttribute(A);else try{delete m[A]}catch(d){}r&&delete y[s]}}}})}})});
KISSY.add("dom-class",function(b,u){function t(j,f,n,g){if(!(f=b.trim(f)))return g?false:u;j=b.query(j);var i=0,m=j.length;f=f.split(o);for(var s;i<m;i++){s=j[i];if(v._isElementNode(s)){s=n(s,f,f.length);if(s!==u)return s}}if(g)return false}var v=b.DOM,o=/[\.\s]\s*\.?/,A=/[\n\t]/g;b.mix(v,{hasClass:function(j,f){return t(j,f,function(n,g,i){if(n=n.className){n=" "+n+" ";for(var m=0,s=true;m<i;m++)if(n.indexOf(" "+g[m]+" ")<0){s=false;break}if(s)return true}},true)},addClass:function(j,f){t(j,f,function(n,
g,i){var m=n.className;if(m){var s=" "+m+" ";m=m;for(var y=0;y<i;y++)if(s.indexOf(" "+g[y]+" ")<0)m+=" "+g[y];n.className=b.trim(m)}else n.className=f})},removeClass:function(j,f){t(j,f,function(n,g,i){var m=n.className;if(m)if(i){m=(" "+m+" ").replace(A," ");for(var s=0,y;s<i;s++)for(y=" "+g[s]+" ";m.indexOf(y)>=0;)m=m.replace(y," ");n.className=b.trim(m)}else n.className=""})},replaceClass:function(j,f,n){v.removeClass(j,f);v.addClass(j,n)},toggleClass:function(j,f,n){var g=b.isBoolean(n),i;t(j,
f,function(m,s,y){for(var z=0,r;z<y;z++){r=s[z];i=g?!n:v.hasClass(m,r);v[i?"removeClass":"addClass"](m,r)}})}})});
KISSY.add("dom-attr",function(b,u){function t(r,d){return d&&d.nodeName.toUpperCase()===r.toUpperCase()}var v=b.UA,o=v.ie,A=o&&o<8,j=document.documentElement.textContent!==u?"textContent":"innerText",f=b.DOM,n=f._isElementNode,g=function(r){return f._nodeTypeIs(r,3)},i=/href|src|style/,m=/href|src|colspan|rowspan/,s=/\r/g,y=/radio|checkbox/,z={readonly:"readOnly"};A&&b.mix(z,{"for":"htmlFor","class":"className"});b.mix(f,{attr:function(r,d,a){if(b.isPlainObject(d))for(var c in d)f.attr(r,c,d[c]);
else if(d=b.trim(d)){d=d.toLowerCase();d=z[d]||d;if(a===u){r=b.get(r);if(!n(r))return u;var h;i.test(d)||(h=r[d]);if(h===u)h=r.getAttribute(d);if(A)if(m.test(d))h=r.getAttribute(d,2);else if(d==="style")h=r.style.cssText;return h===null?u:h}b.each(b.query(r),function(p){if(n(p))if(d==="style")p.style.cssText=a;else{if(d==="checked")p[d]=!!a;p.setAttribute(d,""+a)}})}},removeAttr:function(r,d){b.each(b.query(r),function(a){if(n(a)){f.attr(a,d,"");a.removeAttribute(d)}})},val:function(r,d){if(d===u){var a=
b.get(r);if(!n(a))return u;if(t("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(t("select",a)){var c=a.selectedIndex;r=a.options;if(c<0)return null;else if(a.type==="select-one")return f.val(r[c]);a=[];for(var h=0,p=r.length;h<p;++h)r[h].selected&&a.push(f.val(r[h]));return a}if(v.webkit&&y.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(s,"")}b.each(b.query(r),function(B){if(t("select",B)){if(b.isNumber(d))d+="";var q=b.makeArray(d),
k=B.options,w;h=0;for(p=k.length;h<p;++h){w=k[h];w.selected=b.inArray(f.val(w),q)}if(!q.length)B.selectedIndex=-1}else if(n(B))B.value=d})},text:function(r,d){if(d===u){r=b.get(r);if(n(r))return r[j]||"";else if(g(r))return r.nodeValue}else b.each(b.query(r),function(a){if(n(a))a[j]=d;else if(g(a))a.nodeValue=d})}})});
KISSY.add("dom-style",function(b,u){function t(d,a){var c=b.get(d),h=a===n?c.offsetWidth:c.offsetHeight;b.each(a===n?["Left","Right"]:["Top","Bottom"],function(p){h-=parseFloat(o._getComputedStyle(c,"padding"+p))||0;h-=parseFloat(o._getComputedStyle(c,"border"+p+"Width"))||0});return h}function v(d,a,c){var h=c;if(c===g&&m.test(a)){h=0;if(o.css(d,"position")==="absolute"){c=d[a==="left"?"offsetLeft":"offsetTop"];if(A.ie===8||A.opera)c-=i(o.css(d.offsetParent,"border-"+a+"-width"))||0;h=c-(i(o.css(d,
"margin-"+a))||0)}}return h}var o=b.DOM,A=b.UA,j=document,f=j.documentElement,n="width",g="auto",i=parseInt,m=/^left|top$/,s=/width|height|top|left|right|bottom|margin|padding/i,y=/-([a-z])/ig,z=function(d,a){return a.toUpperCase()},r={};b.mix(o,{_CUSTOM_STYLES:r,_getComputedStyle:function(d,a){var c="",h=d.ownerDocument;if(d.style)c=h.defaultView.getComputedStyle(d,null)[a];return c},css:function(d,a,c){if(b.isPlainObject(a))for(var h in a)o.css(d,h,a[h]);else{if(a.indexOf("-")>0)a=a.replace(y,z);
a=r[a]||a;if(c===u){d=b.get(d);h="";if(d&&d.style){h=a.get?a.get(d):d.style[a];if(h===""&&!a.get)h=v(d,a,o._getComputedStyle(d,a))}return h===u?"":h}else{if(c===null||c==="")c="";else if(!isNaN(new Number(c))&&s.test(a))c+="px";(a===n||a==="height")&&parseFloat(c)<0||b.each(b.query(d),function(p){if(p&&p.style){a.set?a.set(p,c):(p.style[a]=c);if(c==="")p.style.cssText||p.removeAttribute("style")}})}}},width:function(d,a){if(a===u)return t(d,n);else o.css(d,n,a)},height:function(d,a){if(a===u)return t(d,
"height");else o.css(d,"height",a)},show:function(d){b.query(d).each(function(a){a.style.display=o.data(a,"display")||""})},hide:function(d){b.query(d).each(function(a){var c=a.style,h=c.display;if(h!=="none"){h&&o.data(a,"display",h);c.display="none"}})},toggle:function(d){b.query(d).each(function(a){if(a)a.style.display==="none"?o.show(a):o.hide(a)})},addStyleSheet:function(d,a){var c;if(a)c=b.get("#"+a);if(!c){c=o.create("<style>",{id:a});b.get("head").appendChild(c);if(c.styleSheet)c.styleSheet.cssText=
d;else c.appendChild(j.createTextNode(d))}}});if(f.style.cssFloat!==u)r["float"]="cssFloat";else if(f.style.styleFloat!==u)r["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,u){if(b.UA.ie){var t=b.DOM;b=document;var v=b.documentElement,o=t._CUSTOM_STYLES,A=/^-?\d+(?:px)?$/i,j=/^-?\d/,f=/^width|height$/;try{if(v.style.opacity===u&&v.filters)o.opacity={get:function(g){var i=100;try{i=g.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(m){try{i=g.filters("alpha").opacity}catch(s){}}return i/100+""},set:function(g,i){var m=g.style;g=(g.currentStyle||0).filter||"";m.zoom=1;if(g)if(g=g.replace(/alpha\(opacity=.+\)/ig,""))g+=", ";
m.filter=g+"alpha(opacity="+i*100+")"}}}catch(n){}if(!(b.defaultView||{}).getComputedStyle&&v.currentStyle)t._getComputedStyle=function(g,i){var m=g.style,s=g.currentStyle[i];if(f.test(i))s=t[i](g)+"px";else if(!A.test(s)&&j.test(s)){var y=m.left,z=g.runtimeStyle.left;g.runtimeStyle.left=g.currentStyle.left;m.left=i==="fontSize"?"1em":s||0;s=m.pixelLeft+"px";m.left=y;g.runtimeStyle.left=z}return s}}});
KISSY.add("dom-offset",function(b,u){function t(q){var k=0,w=0,e=i(q[d]);if(q[B]){q=q[B]();k=q[a];w=q[c];if(A.mobile!=="apple"){k+=o[h](e);w+=o[p](e)}}return{left:k,top:w}}function v(q,k){if(o.css(q,z)==="static")q.style[z]=r;var w=t(q),e={},l,x;for(x in k){l=y(o.css(q,x),10)||0;e[x]=l+k[x]-w[x]}o.css(q,e)}var o=b.DOM,A=b.UA,j=window,f=document,n=o._isElementNode,g=o._nodeTypeIs,i=o._getWin,m=f.compatMode==="CSS1Compat",s=Math.max,y=parseInt,z="position",r="relative",d="ownerDocument",a="left",c=
"top",h="scrollLeft",p="scrollTop",B="getBoundingClientRect";b.mix(o,{offset:function(q,k){if(!(q=b.get(q))||!q[d])return null;if(k===u)return t(q);v(q,k)},scrollIntoView:function(q,k,w,e){if((q=b.get(q))&&q[d]){e=e===u?true:!!e;w=w===u?true:!!w;if(!k||k===j)return q.scrollIntoView(w);k=b.get(k);if(g(k,9))k=i(k);var l=k&&"scrollTo"in k&&k.document,x=o.offset(q),C=l?{left:o.scrollLeft(k),top:o.scrollTop(k)}:o.offset(k),D={left:x[a]-C[a],top:x[c]-C[c]};x=l?o.viewportHeight(k):k.clientHeight;C=l?o.viewportWidth(k):
k.clientWidth;var G=o[h](k),E=o[p](k),F=G+C,M=E+x,I=q.offsetHeight;q=q.offsetWidth;var H=D.left+G-(y(o.css(k,"borderLeftWidth"))||0);D=D.top+E-(y(o.css(k,"borderTopWidth"))||0);var N=H+q,J=D+I,K,L;if(I>x||D<E||w)K=D;else if(J>M)K=J-x;if(e)if(q>C||H<G||w)L=H;else if(N>F)L=N-C;if(l){if(K!==u||L!==u)k.scrollTo(L,K)}else{if(K!==u)k[p]=K;if(L!==u)k[h]=L}}}});b.each(["Left","Top"],function(q,k){var w="scroll"+q;o[w]=function(e){var l=0,x=i(e),C;if(x&&(C=x.document))l=x[k?"pageYOffset":"pageXOffset"]||C.documentElement[w]||
C.body[w];else if(n(e=b.get(e)))l=e[w];return l}});b.each(["Width","Height"],function(q){o["doc"+q]=function(k){k=k||f;return s(m?k.documentElement["scroll"+q]:k.body["scroll"+q],o["viewport"+q](k))};o["viewport"+q]=function(k){var w="inner"+q;k=i(k);var e=k.document;return w in k?k[w]:m?e.documentElement["client"+q]:e.body["client"+q]}})});
KISSY.add("dom-traversal",function(b,u){function t(j,f,n,g){if(!(j=b.get(j)))return null;if(f===u)f=1;var i=null,m,s;if(b.isNumber(f)&&f>=0){if(f===0)return j;m=0;s=f;f=function(){return++m===s}}for(;j=j[n];)if(A(j)&&(!f||o.test(j,f))&&(!g||g(j))){i=j;break}return i}function v(j,f,n){var g=[];var i=j=b.get(j);if(j&&n)i=j.parentNode;if(i){n=0;for(i=i.firstChild;i;i=i.nextSibling)if(A(i)&&i!==j&&(!f||o.test(i,f)))g[n++]=i}return g}var o=b.DOM,A=o._isElementNode;b.mix(o,{parent:function(j,f){return t(j,
f,"parentNode",function(n){return n.nodeType!=11})},next:function(j,f){return t(j,f,"nextSibling")},prev:function(j,f){return t(j,f,"previousSibling")},siblings:function(j,f){return v(j,f,true)},children:function(j,f){return v(j,f)},contains:function(j,f){var n=false;if((j=b.get(j))&&(f=b.get(f)))if(j.contains)return j.contains(f);else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(f)&16);else for(;!n&&(f=f.parentNode);)n=f==j;return n}})});
KISSY.add("dom-create",function(b,u){function t(e,l){s(e)&&b.isPlainObject(l)&&n.attr(e,l);return e}function v(e,l){var x=null,C;if(e&&(e.push||e.item)&&e[0]){l=l||e[0].ownerDocument;x=l.createDocumentFragment();if(e.item)e=b.makeArray(e);l=0;for(C=e.length;l<C;l++)x.appendChild(e[l])}return x}function o(e){var l=e.cloneNode(true);if(g.ie<8)l.innerHTML=e.innerHTML;return l}function A(e,l,x,C){if(x){var D=b.guid("ks-tmp-"),G=new RegExp(d);l+='<span id="'+D+'"></span>';b.available(D,function(){var E=
b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(l);)if((I=(M=F[1])?M.match(c):false)&&I[2]){F=f.createElement("script");F.src=I[2];if((H=M.match(h))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=f.getElementById(D))&&n.remove(N);b.isFunction(C)&&C()});j(e,l)}else{j(e,l);b.isFunction(C)&&C()}}function j(e,l){l=(l+"").replace(d,"");try{e.innerHTML=l}catch(x){for(;e.firstChild;)e.removeChild(e.firstChild);l&&e.appendChild(n.create(l))}}var f=
document,n=b.DOM,g=b.UA,i=g.ie,m=n._nodeTypeIs,s=n._isElementNode,y=n._isKSNode,z=f.createElement("div"),r=/<(\w+)/,d=/<script([^>]*)>([\s\S]*?)<\/script>/ig,a=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,h=/\scharset=(['"])(.*?)\1/i;b.mix(n,{create:function(e,l,x){if(m(e,1)||m(e,3))return o(e);if(y(e))return o(e[0]);if(!(e=b.trim(e)))return null;var C=null;C=n._creators;var D,G="div",E;if(D=a.exec(e))C=(x||f).createElement(D[1]);else{if((D=r.exec(e))&&(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=
E;e=C[G](e,x).childNodes;C=e.length===1?e[0].parentNode.removeChild(e[0]):v(e,x||f)}return t(C,l)},_creators:{div:function(e,l){l=l?l.createElement("div"):z;l.innerHTML=e;return l}},html:function(e,l,x,C){if(l===u){e=b.get(e);if(s(e))return e.innerHTML}else b.each(b.query(e),function(D){s(D)&&A(D,l,x,C)})},remove:function(e){b.each(b.query(e),function(l){s(l)&&l.parentNode&&l.parentNode.removeChild(l)})}});if(g.gecko||i){var p=n._creators,B=n.create,q=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
k={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var w in k)(function(e){p[w]=function(l,x){return B("<"+e+">"+l+"</"+e+">",null,x)}})(k[w]);if(i){p.script=function(e,l){l=l?l.createElement("div"):z;l.innerHTML="-"+e;l.removeChild(l.firstChild);return l};if(i<8)p.tbody=function(e,l){l=B("<table>"+e+"</table>",null,l);var x=l.children.tags("tbody")[0];l.children.length>1&&x&&!q.test(e)&&x.parentNode.removeChild(x);return l}}b.mix(p,{optgroup:p.option,th:p.td,
thead:p.tbody,tfoot:p.tbody,caption:p.tbody,colgroup:p.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(u,t){if((u=b.get(u))&&(t=b.get(t))&&t.parentNode)t.parentNode.insertBefore(u,t);return u},insertAfter:function(u,t){if((u=b.get(u))&&(t=b.get(t))&&t.parentNode)t.nextSibling?t.parentNode.insertBefore(u,t.nextSibling):t.parentNode.appendChild(u);return u}})});
