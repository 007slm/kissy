/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(l,a,x,s){function A(d,c){c=u[c]||c;var m=b[c];if(!d)return s;return m&&m.get?m.get(d,c):d[c]}x=document.documentElement;var B=!x.hasAttribute,i=x.textContent!==s?"textContent":"innerText",j=a._isElementNode,o=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,t=/^(?:button|input|object|select|textarea)$/i,v=/^a(?:rea)?$/i,h=/:|^on/,r=/\r/g,p={},f={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},k={tabindex:{get:function(d){var c=d.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):t.test(d.nodeName)||v.test(d.nodeName)&&d.href?0:null}},style:{get:function(d){return d.style.cssText},set:function(d,c){d.style.cssText=c}}},u={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
q={get:function(d,c){return a.prop(d,c)?c.toLowerCase():null},set:function(d,c,m){if(c===false)a.removeAttr(d,m);else{c=u[m]||m;if(c in d)d[c]=true;d.setAttribute(m,m.toLowerCase())}return m}},b={},e={},n={option:{get:function(d){var c=d.attributes.value;return!c||c.specified?d.value:d.text}},select:{get:function(d){var c=d.selectedIndex,m=d.options;d=d.type==="select-one";if(c<0)return null;else if(d)return a.val(m[c]);c=[];d=0;for(var g=m.length;d<g;++d)m[d].selected&&c.push(a.val(m[d]));return c},
set:function(d,c){var m=l.makeArray(c);l.each(d.options,function(g){g.selected=l.inArray(a.val(g),m)});if(!m.length)d.selectedIndex=-1;return m}}};if(B){e={get:function(d,c){var m;return(m=d.getAttributeNode(c))&&m.nodeValue!==""?m.nodeValue:null},set:function(d,c,m){if(d=d.getAttributeNode(m))d.nodeValue=c}};p=u;k.tabIndex=k.tabindex;l.each(["href","src","width","height","colSpan","rowSpan"],function(d){k[d]={get:function(c){c=c.getAttribute(d,2);return c===s?null:c}}});n.button=k.value=e}l.each(["radio",
"checkbox"],function(d){n[d]={get:function(c){return c.getAttribute("value")===null?"on":c.value},set:function(c,m){if(l.isArray(m))return c.checked=l.inArray(a.val(c),m)}}});l.mix(a,{prop:function(d,c,m){if(l.isPlainObject(c))for(var g in c)a.prop(d,g,c[g]);else{d=a.query(d);c=u[c]||c;var w=b[c];if(m!==s)l.each(d,function(y){if(w&&w.set)w.set(y,m,c);else y[c]=m});else{d=d[0];if(!d)return null;d=A(d,c);return d===s?null:d}}},hasProp:function(d,c){var m=a.get(d);return A(m,c)!==s},removeProp:function(d,
c){c=u[c]||c;a.query(d).each(function(m){try{m[c]=s;delete m[c]}catch(g){}})},attr:function(d,c,m,g){if(l.isPlainObject(c)){g=m;for(var w in c)a.attr(d,w,c[w],g)}else if(c=l.trim(c)){c=c.toLowerCase();if(g&&f[c])return a[c](d,m);c=p[c]||c;var y;y=o.test(c)?q:h.test(c)?e:k[c];if(m===s){d=a.get(d);if(!j(d))return null;if(d.nodeName.toLowerCase()=="form")y=e;if(y&&y.get)return y.get(d,c);d=d.getAttribute(c);return d===s?null:d}else l.each(a.query(d),function(z){if(j(z))y&&y.set?y.set(z,m,c):z.setAttribute(c,
""+m)})}},removeAttr:function(d,c){c=c.toLowerCase();c=p[c]||c;l.each(a.query(d),function(m){if(j(m)){var g;m.removeAttribute(c);if(o.test(c)&&(g=u[c]||c)in m)m[g]=false}})},hasAttr:B?function(d,c){c=c.toLowerCase();var m=a.get(d).getAttributeNode(c);return!!(m&&m.specified)}:function(d,c){c=c.toLowerCase();return a.get(d).hasAttribute(c)},val:function(d,c){var m,g;if(c===s){var w=a.get(d);if(w){if((m=n[w.nodeName.toLowerCase()]||n[w.type])&&"get"in m&&(g=m.get(w,"value"))!==s)return g;g=w.value;
return typeof g==="string"?g.replace(r,""):g==null?"":g}return null}a.query(d).each(function(y){if(y.nodeType===1){var z=c;if(z==null)z="";else if(typeof z==="number")z+="";else if(l.isArray(z))z=l.map(z,function(C){return C==null?"":C+""});m=n[y.nodeName.toLowerCase()]||n[y.type];if(!m||!("set"in m)||m.set(y,z,"value")===s)y.value=z}})},text:function(d,c){if(c===s){var m=a.get(d);if(j(m))return m[i]||"";else if(a._nodeTypeIs(m,3))return m.nodeValue;return null}else l.each(a.query(d),function(g){if(j(g))g[i]=
c;else if(a._nodeTypeIs(g,3))g.nodeValue=c})}});return a},{requires:["dom/base","ua"]});KISSY.add("dom/base",function(l,a){function x(s,A){return s&&s.nodeType===A}return{_isElementNode:function(s){return x(s,1)},_getWin:function(s){return s&&"scrollTo"in s&&s.document?s:x(s,9)?s.defaultView||s.parentWindow:s==a?window:false},_nodeTypeIs:x,_isNodeList:function(s){return s&&!s.nodeType&&s.item&&!s.setTimeout}}});
KISSY.add("dom/class",function(l,a,x){function s(i,j,o,t){if(!(j=l.trim(j)))return t?false:x;i=a.query(i);var v=0,h=i.length,r=j.split(A);for(j=[];v<r.length;v++){var p=l.trim(r[v]);p&&j.push(p)}for(v=0;v<h;v++){r=i[v];if(a._isElementNode(r)){r=o(r,j,j.length);if(r!==x)return r}}if(t)return false;return x}var A=/[\.\s]\s*\.?/,B=/[\n\t]/g;l.mix(a,{hasClass:function(i,j){return s(i,j,function(o,t,v){if(o=o.className){o=(" "+o+" ").replace(B," ");for(var h=0,r=true;h<v;h++)if(o.indexOf(" "+t[h]+" ")<
0){r=false;break}if(r)return true}},true)},addClass:function(i,j){s(i,j,function(o,t,v){var h=o.className;if(h){var r=(" "+h+" ").replace(B," ");h=h;for(var p=0;p<v;p++)if(r.indexOf(" "+t[p]+" ")<0)h+=" "+t[p];o.className=l.trim(h)}else o.className=j},x)},removeClass:function(i,j){s(i,j,function(o,t,v){var h=o.className;if(h)if(v){h=(" "+h+" ").replace(B," ");for(var r=0,p;r<v;r++)for(p=" "+t[r]+" ";h.indexOf(p)>=0;)h=h.replace(p," ");o.className=l.trim(h)}else o.className=""},x)},replaceClass:function(i,
j,o){a.removeClass(i,j);a.addClass(i,o)},toggleClass:function(i,j,o){var t=l.isBoolean(o),v;s(i,j,function(h,r,p){for(var f=0,k;f<p;f++){k=r[f];v=t?!o:a.hasClass(h,k);a[v?"removeClass":"addClass"](h,k)}},x)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(l,a,x,s){function A(g,w){if(l.isPlainObject(w))if(h(g))a.attr(g,w,true);else g.nodeType==11&&l.each(g.childNodes,function(y){a.attr(y,w,true)});return g}function B(g,w){var y=null,z,C;if(g&&(g.push||g.item)&&g[0]){w=w||g[0].ownerDocument;y=w.createDocumentFragment();if(g.item)g=l.makeArray(g);z=0;for(C=g.length;z<C;z++)y.appendChild(g[z])}return y}function i(g,w,y,z){if(y){var C=l.guid("ks-tmp-"),F=RegExp(k);w+='<span id="'+C+'"></span>';l.available(C,function(){var E=
a.get("head"),D,I,G,H,K,J;for(F.lastIndex=0;D=F.exec(w);)if((G=(I=D[1])?I.match(q):false)&&G[2]){D=o.createElement("script");D.src=G[2];if((H=I.match(b))&&H[2])D.charset=H[2];D.async=true;E.appendChild(D)}else if((J=D[2])&&J.length>0)l.globalEval(J);(K=o.getElementById(C))&&a.remove(K);l.isFunction(z)&&z()});j(g,w)}else{j(g,w);l.isFunction(z)&&z()}}function j(g,w){w=(w+"").replace(k,"");try{g.innerHTML=w}catch(y){for(;g.firstChild;)g.removeChild(g.firstChild);w&&g.appendChild(a.create(w))}}var o=
document,t=x.ie,v=a._nodeTypeIs,h=a._isElementNode,r=o.createElement("div"),p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,f=/<(\w+)/,k=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,u=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,q=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;l.mix(a,{create:function(g,w,y){if(v(g,1)||v(g,3)){w=g;y=w.cloneNode(true);if(x.ie<8)y.innerHTML=w.innerHTML;return y}if(!(g=l.trim(g)))return null;var z=null;z=a._creators;var C,F="div",E;
if(C=u.exec(g))z=(y||o).createElement(C[1]);else{g=g.replace(p,"<$1></$2>");if((C=f.exec(g))&&(E=C[1])&&l.isFunction(z[E=E.toLowerCase()]))F=E;g=z[F](g,y).childNodes;z=g.length===1?g[0].parentNode.removeChild(g[0]):B(g,y||o)}return A(z,w)},_creators:{div:function(g,w){var y=w?w.createElement("div"):r;y.innerHTML="w<div>"+g+"</div>";return y.lastChild}},html:function(g,w,y,z){if(w===s){g=a.get(g);if(h(g))return g.innerHTML;return null}else l.each(a.query(g),function(C){h(C)&&i(C,w,y,z)})},remove:function(g){l.each(a.query(g),
function(w){w.parentNode&&w.parentNode.removeChild(w)})},_nl2frag:B});if(t||x.gecko||x.webkit){var e=a._creators,n=a.create,d=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,c={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},m;for(m in c)(function(g){e[m]=function(w,y){return n("<"+g+">"+w+"</"+g+">",null,y)}})(c[m]);if(t){e.script=function(g,w){var y=w?w.createElement("div"):r;y.innerHTML="-"+g;y.removeChild(y.firstChild);return y};if(t<8)e.tbody=function(g,
w){var y=n("<table>"+g+"</table>",null,w),z=y.children.tags("tbody")[0];y.children.length>1&&z&&!d.test(g)&&z.parentNode.removeChild(z);return y}}l.mix(e,{optgroup:e.option,th:e.td,thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(l,a,x){var s=window,A="_ks_data_"+l.now(),B={},i={},j={};j.applet=1;j.object=1;j.embed=1;var o={hasData:function(h,r){if(h)if(r!==x){if(r in h)return true}else if(!l.isEmptyObject(h))return true;return false}},t={hasData:function(h,r){if(h==s)return t.hasData(i,r);return o.hasData(h[A],r)},data:function(h,r,p){if(h==s)return t.data(i,r,p);h=h[A]=h[A]||{};if(p!==x)h[r]=p;else return r!==x?h[r]===x?null:h[r]:h},removeData:function(h,r){if(h==s)return t.removeData(i,r);
var p=h[A];if(p)if(r!==x){delete p[r];l.isEmptyObject(p)&&t.removeData(h,x)}else delete h[A]}},v={hasData:function(h,r){var p=h[A];if(!p)return false;return o.hasData(B[p],r)},data:function(h,r,p){if(!j[h.nodeName.toLowerCase()]){var f=h[A];f||(f=h[A]=l.guid());h=B[f]=B[f]||{};if(p!==x)h[r]=p;else return r!==x?h[r]===x?null:h[r]:h}},removeData:function(h,r){var p=h[A];if(p){var f=B[p];if(f)if(r!==x){delete f[r];l.isEmptyObject(f)&&v.removeData(h,x)}else{delete B[p];try{delete h[A]}catch(k){}h.removeAttribute&&
h.removeAttribute(A)}}}};l.mix(a,{hasData:function(h,r){var p=false;a.query(h).each(function(f){p=f&&f.nodeType?p||v.hasData(f,r):p||t.hasData(f,r)});return p},data:function(h,r,p){if(l.isPlainObject(r))for(var f in r)a.data(h,f,r[f]);else if(p===x)return(h=a.get(h))&&h.nodeType?v.data(h,r,p):t.data(h,r,p);else a.query(h).each(function(k){k&&k.nodeType?v.data(k,r,p):t.data(k,r,p)})},removeData:function(h,r){a.query(h).each(function(p){p&&p.nodeType?v.removeData(p,r):t.removeData(p,r)})}});return a},
{requires:["./base"]});
KISSY.add("dom/insertion",function(l,a){function x(i,j,o){i=a.query(i);j=a.query(j);if(i=s(i)){var t;if(j.length>1)t=i.cloneNode(true);for(var v=0;v<j.length;v++){var h=j[v],r=v>0?t.cloneNode(true):i;o(r,h)}}}var s=a._nl2frag;l.mix(a,{insertBefore:function(i,j){x(i,j,function(o,t){t.parentNode&&t.parentNode.insertBefore(o,t)})},insertAfter:function(i,j){x(i,j,function(o,t){t.parentNode&&t.parentNode.insertBefore(o,t.nextSibling)})},appendTo:function(i,j){x(i,j,function(o,t){t.appendChild(o)})},prependTo:function(i,
j){x(i,j,function(o,t){t.insertBefore(o,t.firstChild)})}});var A={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},B;for(B in A)a[B]=a[A[B]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(l,a,x,s){function A(b){var e=0,n=0,d=o(b[r]);if(b[q]){b=b[q]();e=b[p];n=b[f];if(x.mobile!=="apple"){e+=a[k](d);n+=a[u](d)}}return{left:e,top:n}}var B=window,i=a._isElementNode,j=a._nodeTypeIs,o=a._getWin,t=document.compatMode==="CSS1Compat",v=Math.max,h=parseInt,r="ownerDocument",p="left",f="top",k="scrollLeft",u="scrollTop",q="getBoundingClientRect";l.mix(a,{offset:function(b,e){if(!(b=a.get(b))||!b[r])return null;if(e===s)return A(b);var n=b;if(a.css(n,"position")===
"static")n.style.position="relative";var d=A(n),c={},m,g;for(g in e){m=h(a.css(n,g),10)||0;c[g]=m+e[g]-d[g]}a.css(n,c)},scrollIntoView:function(b,e,n,d){if((b=a.get(b))&&b[r]){d=d===s?true:!!d;n=n===s?true:!!n;if(!e||(e=a.get(e))===B)b.scrollIntoView(n);else{if(j(e,9))e=o(e);var c=!!o(e),m=a.offset(b),g=c?{left:a.scrollLeft(e),top:a.scrollTop(e)}:a.offset(e),w={left:m[p]-g[p],top:m[f]-g[f]};m=c?a.viewportHeight(e):e.clientHeight;c=c?a.viewportWidth(e):e.clientWidth;g=a[k](e);var y=a[u](e),z=g+c,C=
y+m,F=b.offsetHeight;b=b.offsetWidth;var E=w.left+g-(h(a.css(e,"borderLeftWidth"))||0);w=w.top+y-(h(a.css(e,"borderTopWidth"))||0);var D=E+b,I=w+F,G,H;if(F>m||w<y||n)G=w;else if(I>C)G=I-m;if(d)if(b>c||E<g||n)H=E;else if(D>z)H=D-c;a[u](e,G);a[k](e,H)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});l.each(["Left","Top"],function(b,e){var n="scroll"+b;a[n]=function(d,c){if(l.isNumber(d))arguments.callee(B,d);else{d=a.get(d);var m=0,g=o(d);if(g){if(c!==s){m=b=="Left"?c:a.scrollLeft(g);var w=
b=="Top"?c:a.scrollTop(g);g.scrollTo(m,w)}m=g.document;m=g[e?"pageYOffset":"pageXOffset"]||m.documentElement[n]||m.body[n]}else if(i(d=a.get(d)))m=c!==s?d[n]=c:d[n];return c===s?m:s}}});l.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=o(e).document;return v(t?e.documentElement["scroll"+b]:e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(e){e=a.get(e);var n="inner"+b;e=o(e);var d=e.document;return n in e?e[n]:t?d.documentElement["client"+b]:d.body["client"+
b]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(l,a,x){function s(f,k){var u,q,b=[],e;q=l.require("sizzle");k=A(k);if(l.isString(f))if(f.indexOf(",")!=-1){u=f.split(",");l.each(u,function(n){b.push.apply(b,l.makeArray(s(n,k)))})}else{f=l.trim(f);if(h.test(f)){if(q=B(f.slice(1),k))b=[q]}else if(u=r.exec(String(f))){q=u[1];e=u[2];u=u[3];if(k=q?B(q,k):k)if(u)if(!q||f.indexOf(v)!==-1)b=l.makeArray(p(u,e,k));else{if((q=B(q,k))&&a.hasClass(q,u))b=[q]}else if(e)b=i(e,k)}else if(q)b=q(f,k);else j(f)}else if(f&&(l.isArray(f)||
t(f)))b=f;else if(f)b=[f];if(t(b))b=l.makeArray(b);b.each=function(n,d){return l.each(b,n,d)};return b}function A(f){if(f===x)f=o;else if(l.isString(f)&&h.test(f))f=B(f.slice(1),o);else if(l.isArray(f)||t(f))f=f[0]||null;else if(f&&f.nodeType!==1&&f.nodeType!==9)f=null;return f}function B(f,k){if(!k)return null;if(k.nodeType!==9)k=k.ownerDocument;return k.getElementById(f)}function i(f,k){return k.getElementsByTagName(f)}function j(f){l.error("Unsupported selector: "+f)}var o=document,t=a._isNodeList,
v=" ",h=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var f=o.createElement("div");f.appendChild(o.createComment(""));if(f.getElementsByTagName("*").length>0)i=function(k,u){var q=l.makeArray(u.getElementsByTagName(k));if(k==="*"){for(var b=[],e=0,n=0,d;d=q[e++];)if(d.nodeType===1)b[n++]=d;q=b}return q}})();var p=o.getElementsByClassName?function(f,k,u){u=f=l.makeArray(u.getElementsByClassName(f));var q=0,b=0,e=f.length,n;if(k&&k!=="*"){u=[];for(k=k.toUpperCase();q<e;++q){n=
f[q];if(n.tagName===k)u[b++]=n}}return u}:o.querySelectorAll?function(f,k,u){return u.querySelectorAll((k?k:"")+"."+f)}:function(f,k,u){k=u.getElementsByTagName(k||"*");u=[];var q=0,b=0,e=k.length,n,d;for(f=v+f+v;q<e;++q){n=k[q];if((d=n.className)&&(v+d+v).indexOf(f)>-1)u[b++]=n}return u};l.mix(a,{query:s,get:function(f,k){return s(f,k)[0]||null},filter:function(f,k,u){var q=s(f,u),b=l.require("sizzle"),e,n,d,c=[];if(l.isString(k)&&(e=r.exec(k))&&!e[1]){n=e[2];d=e[3];k=function(m){return!(n&&m.tagName.toLowerCase()!==
n.toLowerCase()||d&&!a.hasClass(m,d))}}if(l.isFunction(k))c=l.filter(q,k);else if(k&&b)c=b._filter(f,k,u);else j(k);return c},test:function(f,k,u){f=s(f,u);return f.length&&a.filter(f,k,u).length===f.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(l,a,x,s,A){if(!x.ie)return a;s=document;var B=s.documentElement,i=a._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,o=/^-?\d/,t=/^(?:width|height)$/;try{if(B.style.opacity==A&&B.filters)i.opacity={get:function(p){var f=100;try{f=p.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(k){try{f=p.filters("alpha").opacity}catch(u){if(p=((p.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))f=parseInt(l.trim(p[1]))}}return f/100+""},set:function(p,f){var k=p.style,
u=(p.currentStyle||0).filter||"";k.zoom=1;if(u)u=l.trim(u.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(u&&f!=1)u+=", ";k.filter=u+(f!=1?"alpha(opacity="+f*100+")":"")}}}catch(v){}x=x.ie==8;var h={},r={get:function(p,f){var k=p.currentStyle[f]+"";if(k.indexOf("px")<0)k=h[k]?h[k]:0;return k}};h.thin=x?"1px":"2px";h.medium=x?"3px":"4px";h.thick=x?"5px":"6px";l.each(["","Top","Left","Right","Bottom"],function(p){i["border"+p+"Width"]=r});if(!(s.defaultView||{}).getComputedStyle&&B.currentStyle)a._getComputedStyle=
function(p,f){var k=p.style,u=p.currentStyle[f];if(t.test(f))u=a[f](p)+"px";else if(!j.test(u)&&o.test(u)){var q=k.left,b=p.runtimeStyle.left;p.runtimeStyle.left=p.currentStyle.left;k.left=f==="fontSize"?"1em":u||0;u=k.pixelLeft+"px";k.left=q;p.runtimeStyle.left=b}return u};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(l,a,x,s){function A(q,b){var e=a.get(q);if(l.isWindow(e))return b==o?a.viewportWidth(e):a.viewportHeight(e);else if(e.nodeType==9)return b==o?a.docWidth(e):a.docHeight(e);var n=b===o?e.offsetWidth:e.offsetHeight;l.each(b===o?["Left","Right"]:["Top","Bottom"],function(d){n-=parseFloat(a._getComputedStyle(e,"padding"+d))||0;n-=parseFloat(a._getComputedStyle(e,"border"+d+"Width"))||0});return n}function B(q,b,e){var n=e;if(e===t&&h.test(b)){n=0;if(l.inArray(a.css(q,"position"),
["absolute","fixed"])){e=q[b==="left"?"offsetLeft":"offsetTop"];if(x.ie===8||x.opera)e-=v(a.css(q.offsetParent,"border-"+b+"-width"))||0;n=e-(v(a.css(q,"margin-"+b))||0)}}return n}var i=document,j=i.documentElement,o="width",t="auto",v=parseInt,h=/^(?:left|top)/,r=/^(?:width|height|top|left|right|bottom|margin|padding)/i,p=/-([a-z])/ig,f=function(q,b){return b.toUpperCase()},k={},u={};l.mix(a,{_CUSTOM_STYLES:k,_getComputedStyle:function(q,b){var e="",n=q.ownerDocument;if(q.style)e=n.defaultView.getComputedStyle(q,
null)[b];return e},css:function(q,b,e){if(l.isPlainObject(b))for(var n in b)a.css(q,n,b[n]);else{if(b.indexOf("-")>0)b=b.replace(p,f);n=b;b=k[b]||b;if(e===s){q=a.get(q);var d="";if(q&&q.style){d=b.get?b.get(q,n):q.style[b];if(d===""&&!b.get)d=B(q,b,a._getComputedStyle(q,b))}return d===s?"":d}else{if(e===null||e==="")e="";else if(!isNaN(new Number(e))&&r.test(b))e+="px";(b===o||b==="height")&&parseFloat(e)<0||l.each(a.query(q),function(c){if(c&&c.style){b.set?b.set(c,e):c.style[b]=e;if(e==="")c.style.cssText||
c.removeAttribute("style")}})}}},width:function(q,b){if(b===s)return A(q,o);else a.css(q,o,b)},height:function(q,b){if(b===s)return A(q,"height");else a.css(q,"height",b)},show:function(q){a.query(q).each(function(b){if(b){b.style.display=a.data(b,"display")||"";if(a.css(b,"display")==="none"){var e=b.tagName,n=u[e],d;if(!n){d=i.createElement(e);i.body.appendChild(d);n=a.css(d,"display");a.remove(d);u[e]=n}a.data(b,"display",n);b.style.display=n}}})},hide:function(q){a.query(q).each(function(b){if(b){var e=
b.style,n=e.display;if(n!=="none"){n&&a.data(b,"display",n);e.display="none"}}})},toggle:function(q){a.query(q).each(function(b){if(b)a.css(b,"display")==="none"?a.show(b):a.hide(b)})},addStyleSheet:function(q,b,e){if(l.isString(q)){e=b;b=q;q=window}q=a.get(q);q=a._getWin(q).document;var n;if(e&&(e=e.replace("#","")))n=a.get("#"+e,q);if(!n){n=a.create("<style>",{id:e},q);a.get("head",q).appendChild(n);if(n.styleSheet)n.styleSheet.cssText=b;else n.appendChild(q.createTextNode(b))}},unselectable:function(q){a.query(q).each(function(b){if(b)if(x.gecko)b.style.MozUserSelect=
"none";else if(x.webkit)b.style.KhtmlUserSelect="none";else if(x.ie||x.opera){var e=0,n=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=n[e++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}})}});if(j.style.cssFloat!==s)k["float"]="cssFloat";else if(j.style.styleFloat!==s)k["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(l,a,x){function s(i,j,o,t,v,h){if(!(i=a.get(i)))return null;if(j===0)return i;h||(i=i[o]);if(!i)return null;v=v&&a.get(v)||null;if(j===x)j=1;h=null;var r,p;if(l.isNumber(j)){r=0;p=j;j=function(){return++r===p}}do if(B(i)&&(!j||a.test(i,j))&&(!t||t(i))){h=i;break}while(i!=v&&(i=i[o]));return h}function A(i,j,o){var t=[];var v=i=a.get(i);if(i&&o)v=i.parentNode;if(v){o=0;for(v=v.firstChild;v;v=v.nextSibling)if(B(v)&&v!==i&&(!j||a.test(v,j)))t[o++]=v}return t}var B=
a._isElementNode;l.mix(a,{closest:function(i,j,o){return s(i,j,"parentNode",function(t){return t.nodeType!=11},o,true)},parent:function(i,j,o){return s(i,j,"parentNode",function(t){return t.nodeType!=11},o)},next:function(i,j){return s(i,j,"nextSibling",x)},prev:function(i,j){return s(i,j,"previousSibling",x)},siblings:function(i,j){return A(i,j,true)},children:function(i,j){return A(i,j,x)},contains:function(i,j){var o=false;if((i=a.get(i))&&(j=a.get(j)))if(i.contains){if(j.nodeType===3){j=j.parentNode;
if(j===i)return true}if(j)return i.contains(j)}else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(j)&16);else for(;!o&&(j=j.parentNode);)o=j==i;return o},equals:function(i,j){i=a.query(i);j=a.query(j);if(i.length!=j.length)return false;for(var o=i.length;o>=0;o--)if(i[o]!=j[o])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(l,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
