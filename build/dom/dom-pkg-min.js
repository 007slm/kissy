/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(k,b,w,o){function x(d){if(k.isArray(d)){for(var a=0;a<d.length;a++)d[a]=x(d[a]);return d}else return d+g}var y=document.documentElement,j=!y.hasAttribute,f=y.textContent!==o?"textContent":"innerText",g="",u=b._isElementNode,m=/^(?:href|src|style)/,p=/^(?:href|src|colspan|rowspan)/,v=/\r/g,s=/^(?:radio|checkbox)/,e={readonly:"readOnly"},l={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};j&&k.mix(e,{"for":"htmlFor","class":"className"});var t={tabindex:{getter:function(d){return d.tabIndex},
setter:function(d,a){if(isNaN(parseInt(a))){d.removeAttribute("tabindex");d.removeAttribute("tabIndex")}else d.tabIndex=a}},style:{getter:function(d){return d.style.cssText},setter:function(d,a){d.style.cssText=a}},checked:{setter:function(d,a){d.checked=!!a}},disabled:{setter:function(d,a){d.disabled=!!a}}};k.mix(b,{attr:function(d,a,c,i){if(k.isPlainObject(a)){i=c;for(var r in a)b.attr(d,r,a[r],i)}else if(a=k.trim(a)){a=a.toLowerCase();if(i&&l[a])return b[a](d,c);a=e[a]||a;var h=t[a];if(c===o){d=
b.get(d);if(!u(d))return null;if(h&&h.getter)return h.getter(d);var n;m.test(a)||(n=d[a]);if(n===o)n=d.getAttribute(a);if(j)if(p.test(a))n=d.getAttribute(a,2);return n===o?null:n}else k.each(b.query(d),function(q){if(u(q))h&&h.setter?h.setter(q,c):q.setAttribute(a,g+c)})}},removeAttr:function(d,a){a=a.toLowerCase();k.each(b.query(d),function(c){if(u(c)){b.attr(c,a,g);c.removeAttribute(a)}})},hasAttr:j?function(d,a){a=a.toLowerCase();var c=b.get(d).getAttributeNode(a);return!!(c&&c.specified)}:function(d,
a){a=a.toLowerCase();return b.get(d).hasAttribute(a)},val:function(d,a){if(a===o){var c=b.get(d);if(!u(c))return null;if(c&&c.nodeName.toUpperCase()==="option".toUpperCase())return(c.attributes.value||{}).specified?c.value:c.text;if(c&&c.nodeName.toUpperCase()==="select".toUpperCase()){var i=c.selectedIndex,r=c.options;if(i<0)return null;else if(c.type==="select-one")return b.val(r[i]);c=[];for(var h=0,n=r.length;h<n;++h)r[h].selected&&c.push(b.val(r[h]));return c}if(w.webkit&&s.test(c.type))return c.getAttribute("value")===
null?"on":c.value;return(c.value||g).replace(v,g)}k.each(b.query(d),function(q){if(q&&q.nodeName.toUpperCase()==="select".toUpperCase()){a=x(a);var z=k.makeArray(a),A=q.options,B;h=0;for(n=A.length;h<n;++h){B=A[h];B.selected=k.inArray(b.val(B),z)}if(!z.length)q.selectedIndex=-1}else if(u(q))q.value=a})},text:function(d,a){if(a===o){var c=b.get(d);if(u(c))return c[f]||g;else if(b._nodeTypeIs(c,3))return c.nodeValue;return null}else k.each(b.query(d),function(i){if(u(i))i[f]=a;else if(b._nodeTypeIs(i,
3))i.nodeValue=a})}});return b},{requires:["dom/base","ua"]});KISSY.add("dom/base",function(k,b){function w(o,x){return o&&o.nodeType===x}return{_isElementNode:function(o){return w(o,1)},_getWin:function(o){return o&&"scrollTo"in o&&o.document?o:w(o,9)?o.defaultView||o.parentWindow:o==b?window:false},_nodeTypeIs:w,_isNodeList:function(o){return o&&!o.nodeType&&o.item&&!o.setTimeout}}});
KISSY.add("dom/class",function(k,b,w){function o(j,f,g,u){if(!(f=k.trim(f)))return u?false:w;j=b.query(j);var m=0,p=j.length,v=f.split(x);for(f=[];m<v.length;m++){var s=k.trim(v[m]);s&&f.push(s)}for(m=0;m<p;m++){v=j[m];if(b._isElementNode(v)){v=g(v,f,f.length);if(v!==w)return v}}if(u)return false;return w}var x=/[\.\s]\s*\.?/,y=/[\n\t]/g;k.mix(b,{hasClass:function(j,f){return o(j,f,function(g,u,m){if(g=g.className){g=" "+g+" ";for(var p=0,v=true;p<m;p++)if(g.indexOf(" "+u[p]+" ")<0){v=false;break}if(v)return true}},
true)},addClass:function(j,f){o(j,f,function(g,u,m){var p=g.className;if(p){var v=" "+p+" ";p=p;for(var s=0;s<m;s++)if(v.indexOf(" "+u[s]+" ")<0)p+=" "+u[s];g.className=k.trim(p)}else g.className=f},w)},removeClass:function(j,f){o(j,f,function(g,u,m){var p=g.className;if(p)if(m){p=(" "+p+" ").replace(y," ");for(var v=0,s;v<m;v++)for(s=" "+u[v]+" ";p.indexOf(s)>=0;)p=p.replace(s," ");g.className=k.trim(p)}else g.className=""},w)},replaceClass:function(j,f,g){b.removeClass(j,f);b.addClass(j,g)},toggleClass:function(j,
f,g){var u=k.isBoolean(g),m;o(j,f,function(p,v,s){for(var e=0,l;e<s;e++){l=v[e];m=u?!g:b.hasClass(p,l);b[m?"removeClass":"addClass"](p,l)}},w)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(k,b,w,o){function x(h,n){var q=null,z,A;if(h&&(h.push||h.item)&&h[0]){n=n||h[0].ownerDocument;q=n.createDocumentFragment();if(h.item)h=k.makeArray(h);z=0;for(A=h.length;z<A;z++)q.appendChild(h[z])}return q}function y(h,n,q,z){if(q){var A=k.guid("ks-tmp-"),B=RegExp(s);n+='<span id="'+A+'"></span>';k.available(A,function(){var D=b.get("head"),C,E,G,H,I,F;for(B.lastIndex=0;C=B.exec(n);)if((G=(E=C[1])?E.match(l):false)&&G[2]){C=f.createElement("script");C.src=G[2];if((H=
E.match(t))&&H[2])C.charset=H[2];C.async=true;D.appendChild(C)}else if((F=C[2])&&F.length>0)k.globalEval(F);(I=f.getElementById(A))&&b.remove(I);k.isFunction(z)&&z()});j(h,n)}else{j(h,n);k.isFunction(z)&&z()}}function j(h,n){n=(n+"").replace(s,"");try{h.innerHTML=n}catch(q){for(;h.firstChild;)h.removeChild(h.firstChild);n&&h.appendChild(b.create(n))}}var f=document,g=w.ie,u=b._nodeTypeIs,m=b._isElementNode,p=f.createElement("div"),v=/<(\w+)/,s=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,
e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,l=/\ssrc=(['"])(.*?)\1/i,t=/\scharset=(['"])(.*?)\1/i;k.mix(b,{create:function(h,n,q){if(u(h,1)||u(h,3)){n=h;q=n.cloneNode(true);if(w.ie<8)q.innerHTML=n.innerHTML;return q}if(!(h=k.trim(h)))return null;var z=null;z=b._creators;var A,B="div",D;if(A=e.exec(h))z=(q||f).createElement(A[1]);else{if((A=v.exec(h))&&(D=A[1])&&k.isFunction(z[D=D.toLowerCase()]))B=D;h=z[B](h,q).childNodes;z=h.length===1?h[0].parentNode.removeChild(h[0]):x(h,q||f)}q=z;m(q)&&k.isPlainObject(n)&&
b.attr(q,n,true);return q},_creators:{div:function(h,n){var q=n?n.createElement("div"):p;q.innerHTML=h;return q}},html:function(h,n,q,z){if(n===o){h=b.get(h);if(m(h))return h.innerHTML;return null}else k.each(b.query(h),function(A){m(A)&&y(A,n,q,z)})},remove:function(h){k.each(b.query(h),function(n){n.parentNode&&n.parentNode.removeChild(n)})},_nl2frag:x});if(g||w.gecko||w.webkit){var d=b._creators,a=b.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,i={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"},r;for(r in i)(function(h){d[r]=function(n,q){return a("<"+h+">"+n+"</"+h+">",null,q)}})(i[r]);if(g){d.script=function(h,n){var q=n?n.createElement("div"):p;q.innerHTML="-"+h;q.removeChild(q.firstChild);return q};if(g<8)d.tbody=function(h,n){var q=a("<table>"+h+"</table>",null,n),z=q.children.tags("tbody")[0];q.children.length>1&&z&&!c.test(h)&&z.parentNode.removeChild(z);return q}}k.mix(d,{optgroup:d.option,th:d.td,thead:d.tbody,tfoot:d.tbody,caption:d.tbody,
colgroup:d.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(k,b,w){var o=window,x="_ks_data_"+k.now(),y={},j={},f={};f.applet=1;f.object=1;f.embed=1;k.mix(b,{hasData:function(g,u){var m=b.get(g),p;if(!m||m.nodeName&&f[m.nodeName.toLowerCase()])return false;if(m==o)m=j;p=m&&m.nodeType;if(m=(p?y:m)[p?m[x]:x])if(u!==w){if(u in m)return true}else return true;return false},data:function(g,u,m){if(k.isPlainObject(u))for(var p in u)b.data(g,p,u[p]);else if(m===w){g=b.get(g);if(!g||g.nodeName&&f[g.nodeName.toLowerCase()])return null;
if(g==o)g=j;p=g&&g.nodeType;p=g=(p?y:g)[p?g[x]:x];if(k.isString(u)&&g)p=g[u];return p===w?null:p}else b.query(g).each(function(v){if(!(!v||v.nodeName&&f[v.nodeName.toLowerCase()])){if(v==o)v=j;var s=y,e;if(v&&v.nodeType){if(!(e=v[x]))e=v[x]=k.guid()}else{e=x;s=v}if(u&&m!==w){s[e]||(s[e]={});s[e][u]=m}}})},removeData:function(g,u){b.query(g).each(function(m){if(m){if(m==o)m=j;var p,v=y,s,e=m&&m.nodeType;if(e)p=m[x];else{v=m;p=x}if(p){s=v[p];if(u){if(s){delete s[u];k.isEmptyObject(s)&&b.removeData(m)}}else{if(e)m.removeAttribute&&
m.removeAttribute(x);else try{delete m[x]}catch(l){}e&&delete v[p]}}}})}});return b},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(k,b){function w(x,y,j){x=b.query(x);y=b.query(y);if(x=o(x)){var f;if(y.length>1)f=x.cloneNode(true);for(var g=0;g<y.length;g++){var u=y[g],m=g>0?f.cloneNode(true):x;j(m,u)}}}var o=b._nl2frag;k.mix(b,{insertBefore:function(x,y){w(x,y,function(j,f){f.parentNode&&f.parentNode.insertBefore(j,f)})},insertAfter:function(x,y){w(x,y,function(j,f){f.parentNode&&f.parentNode.insertBefore(j,f.nextSibling)})},append:function(x,y){w(x,y,function(j,f){f.appendChild(j)})},prepend:function(x,
y){w(x,y,function(j,f){f.insertBefore(j,f.firstChild)})}});b.prependTo=b.prepend;b.appendTo=b.append;return b},{requires:["dom/base"]});
KISSY.add("dom/offset",function(k,b,w,o){function x(a){var c=0,i=0,r=g(a[v]);if(a[d]){a=a[d]();c=a[s];i=a[e];if(w.mobile!=="apple"){c+=b[l](r);i+=b[t](r)}}return{left:c,top:i}}var y=window,j=b._isElementNode,f=b._nodeTypeIs,g=b._getWin,u=document.compatMode==="CSS1Compat",m=Math.max,p=parseInt,v="ownerDocument",s="left",e="top",l="scrollLeft",t="scrollTop",d="getBoundingClientRect";k.mix(b,{offset:function(a,c){if(!(a=b.get(a))||!a[v])return null;if(c===o)return x(a);var i=a;if(b.css(i,"position")===
"static")i.style.position="relative";var r=x(i),h={},n,q;for(q in c){n=p(b.css(i,q),10)||0;h[q]=n+c[q]-r[q]}b.css(i,h)},scrollIntoView:function(a,c,i,r){if((a=b.get(a))&&a[v]){r=r===o?true:!!r;i=i===o?true:!!i;if(!c||c===y)a.scrollIntoView(i);else{c=b.get(c);if(f(c,9))c=g(c);var h=!!g(c),n=b.offset(a),q=h?{left:b.scrollLeft(c),top:b.scrollTop(c)}:b.offset(c),z={left:n[s]-q[s],top:n[e]-q[e]};n=h?b.viewportHeight(c):c.clientHeight;h=h?b.viewportWidth(c):c.clientWidth;q=b[l](c);var A=b[t](c),B=q+h,D=
A+n,C=a.offsetHeight;a=a.offsetWidth;var E=z.left+q-(p(b.css(c,"borderLeftWidth"))||0);z=z.top+A-(p(b.css(c,"borderTopWidth"))||0);var G=E+a,H=z+C,I,F;if(C>n||z<A||i)I=z;else if(H>D)I=H-n;if(r)if(a>h||E<q||i)F=E;else if(G>B)F=G-h;b[t](c,I);b[l](c,F)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});k.each(["Left","Top"],function(a,c){var i="scroll"+a;b[i]=function(r,h){if(k.isNumber(r))arguments.callee(y,r);else{r=b.get(r);var n=0,q=g(r);if(q){if(h!==o){n=a=="Left"?h:b.scrollLeft(q);var z=
a=="Top"?h:b.scrollTop(q);q.scrollTo(n,z)}n=q.document;n=q[c?"pageYOffset":"pageXOffset"]||n.documentElement[i]||n.body[i]}else if(j(r=b.get(r)))n=h!==o?r[i]=h:r[i];return h===o?n:o}}});k.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=g(c).document;return m(u?c.documentElement["scroll"+a]:c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){c=b.get(c);var i="inner"+a;c=g(c);var r=c.document;return i in c?c[i]:u?r.documentElement["client"+a]:r.body["client"+
a]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(k,b,w){function o(e,l){var t,d,a=[],c;d=k.require("sizzle");l=x(l);if(k.isString(e))if(e.indexOf(",")!=-1){t=e.split(",");k.each(t,function(i){a.push.apply(a,k.makeArray(o(i,l)))})}else{e=k.trim(e);if(p.test(e)){if(d=y(e.slice(1),l))a=[d]}else if(t=v.exec(String(e))){d=t[1];c=t[2];t=t[3];if(l=d?y(d,l):l)if(t)if(!d||e.indexOf(m)!==-1)a=k.makeArray(s(t,c,l));else{if((d=y(d,l))&&b.hasClass(d,t))a=[d]}else if(c)a=j(c,l)}else if(d)a=d(e,l);else f(e)}else if(e&&(k.isArray(e)||
u(e)))a=e;else if(e)a=[e];if(u(a))a=k.makeArray(a);a.each=function(i,r){return k.each(a,i,r)};return a}function x(e){if(e===w)e=g;else if(k.isString(e)&&p.test(e))e=y(e.slice(1),g);else if(k.isArray(e)||u(e))e=e[0]||null;else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function y(e,l){if(!l)return null;if(l.nodeType!==9)l=l.ownerDocument;return l.getElementById(e)}function j(e,l){return l.getElementsByTagName(e)}function f(e){k.error("Unsupported selector: "+e)}var g=document,u=b._isNodeList,
m=" ",p=/^#[\w-]+$/,v=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=g.createElement("div");e.appendChild(g.createComment(""));if(e.getElementsByTagName("*").length>0)j=function(l,t){var d=k.makeArray(t.getElementsByTagName(l));if(l==="*"){for(var a=[],c=0,i=0,r;r=d[c++];)if(r.nodeType===1)a[i++]=r;d=a}return d}})();var s=g.getElementsByClassName?function(e,l,t){t=e=k.makeArray(t.getElementsByClassName(e));var d=0,a=0,c=e.length,i;if(l&&l!=="*"){t=[];for(l=l.toUpperCase();d<c;++d){i=
e[d];if(i.tagName===l)t[a++]=i}}return t}:g.querySelectorAll?function(e,l,t){return t.querySelectorAll((l?l:"")+"."+e)}:function(e,l,t){l=t.getElementsByTagName(l||"*");t=[];var d=0,a=0,c=l.length,i,r;for(e=m+e+m;d<c;++d){i=l[d];if((r=i.className)&&(m+r+m).indexOf(e)>-1)t[a++]=i}return t};k.mix(b,{query:o,get:function(e,l){return o(e,l)[0]||null},filter:function(e,l,t){var d=o(e,t),a=k.require("sizzle"),c,i,r,h=[];if(k.isString(l)&&(c=v.exec(l))&&!c[1]){i=c[2];r=c[3];l=function(n){return!(i&&n.tagName.toLowerCase()!==
i.toLowerCase()||r&&!b.hasClass(n,r))}}if(k.isFunction(l))h=k.filter(d,l);else if(l&&a)h=a._filter(e,l,t);else f(l);return h},test:function(e,l,t){e=o(e,t);return e.length&&b.filter(e,l,t).length===e.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(k,b,w,o,x){if(!w.ie)return b;o=document;var y=o.documentElement,j=b._CUSTOM_STYLES,f=/^-?\d+(?:px)?$/i,g=/^-?\d/,u=/^(?:width|height)$/;try{if(y.style.opacity==x&&y.filters)j.opacity={get:function(s){var e=100;try{e=s.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(l){try{e=s.filters("alpha").opacity}catch(t){if(s=((s.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))e=parseInt(k.trim(s[1]))}}return e/100+""},set:function(s,e){var l=s.style,
t=(s.currentStyle||0).filter||"";l.zoom=1;if(t)t=k.trim(t.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(t&&e!=1)t+=", ";l.filter=t+(e!=1?"alpha(opacity="+e*100+")":"")}}}catch(m){}w=w.ie==8;var p={},v={get:function(s,e){var l=s.currentStyle[e]+"";if(l.indexOf("px")<0)l=p[l]?p[l]:0;return l}};p.thin=w?"1px":"2px";p.medium=w?"3px":"4px";p.thick=w?"5px":"6px";k.each(["","Top","Left","Right","Bottom"],function(s){j["border"+s+"Width"]=v});if(!(o.defaultView||{}).getComputedStyle&&y.currentStyle)b._getComputedStyle=
function(s,e){var l=s.style,t=s.currentStyle[e];if(u.test(e))t=b[e](s)+"px";else if(!f.test(t)&&g.test(t)){var d=l.left,a=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left;l.left=e==="fontSize"?"1em":t||0;t=l.pixelLeft+"px";l.left=d;s.runtimeStyle.left=a}return t};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(k,b,w,o){function x(d,a){var c=b.get(d),i=a===g?c.offsetWidth:c.offsetHeight;k.each(a===g?["Left","Right"]:["Top","Bottom"],function(r){i-=parseFloat(b._getComputedStyle(c,"padding"+r))||0;i-=parseFloat(b._getComputedStyle(c,"border"+r+"Width"))||0});return i}function y(d,a,c){var i=c;if(c===u&&p.test(a)){i=0;if(k.inArray(b.css(d,"position"),["absolute","fixed"])){c=d[a==="left"?"offsetLeft":"offsetTop"];if(w.ie===8||w.opera)c-=m(b.css(d.offsetParent,"border-"+a+"-width"))||
0;i=c-(m(b.css(d,"margin-"+a))||0)}}return i}var j=document,f=j.documentElement,g="width",u="auto",m=parseInt,p=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,s=/-([a-z])/ig,e=function(d,a){return a.toUpperCase()},l={},t={};k.mix(b,{_CUSTOM_STYLES:l,_getComputedStyle:function(d,a){var c="",i=d.ownerDocument;if(d.style)c=i.defaultView.getComputedStyle(d,null)[a];return c},css:function(d,a,c){if(k.isPlainObject(a))for(var i in a)b.css(d,i,a[i]);else{if(a.indexOf("-")>0)a=
a.replace(s,e);i=a;a=l[a]||a;if(c===o){d=b.get(d);var r="";if(d&&d.style){r=a.get?a.get(d,i):d.style[a];if(r===""&&!a.get)r=y(d,a,b._getComputedStyle(d,a))}return r===o?"":r}else{if(c===null||c==="")c="";else if(!isNaN(new Number(c))&&v.test(a))c+="px";(a===g||a==="height")&&parseFloat(c)<0||k.each(b.query(d),function(h){if(h&&h.style){a.set?a.set(h,c):h.style[a]=c;if(c==="")h.style.cssText||h.removeAttribute("style")}})}}},width:function(d,a){if(a===o)return x(d,g);else b.css(d,g,a)},height:function(d,
a){if(a===o)return x(d,"height");else b.css(d,"height",a)},show:function(d){b.query(d).each(function(a){if(a){a.style.display=b.data(a,"display")||"";if(b.css(a,"display")==="none"){var c=a.tagName,i=t[c],r;if(!i){r=j.createElement(c);j.body.appendChild(r);i=b.css(r,"display");b.remove(r);t[c]=i}b.data(a,"display",i);a.style.display=i}}})},hide:function(d){b.query(d).each(function(a){if(a){var c=a.style,i=c.display;if(i!=="none"){i&&b.data(a,"display",i);c.display="none"}}})},toggle:function(d){b.query(d).each(function(a){if(a)b.css(a,
"display")==="none"?b.show(a):b.hide(a)})},addStyleSheet:function(d,a,c){if(k.isString(d)){c=a;a=d;d=window}d=b._getWin(d).document;var i;if(c&&(c=c.replace("#","")))i=b.get("#"+c,d);if(!i){i=b.create("<style>",{id:c},d);b.get("head",d).appendChild(i);if(i.styleSheet)i.styleSheet.cssText=a;else i.appendChild(d.createTextNode(a))}},unselectable:function(d){b.query(d).each(function(a){if(a)if(w.gecko)a.style.MozUserSelect="none";else if(w.webkit)a.style.KhtmlUserSelect="none";else if(w.ie||w.opera){var c=
0,i=a.getElementsByTagName("*");for(a.setAttribute("unselectable","on");a=i[c++];)switch(a.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:a.setAttribute("unselectable","on")}}})}});if(f.style.cssFloat!==o)l["float"]="cssFloat";else if(f.style.styleFloat!==o)l["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(k,b,w){function o(j,f,g,u){if(!(j=b.get(j)))return null;if(f===w)f=1;var m=null,p,v;if(k.isNumber(f)&&f>=0){if(f===0)return j;p=0;v=f;f=function(){return++p===v}}for(;j=j[g];)if(y(j)&&(!f||b.test(j,f))&&(!u||u(j))){m=j;break}return m}function x(j,f,g){var u=[];var m=j=b.get(j);if(j&&g)m=j.parentNode;if(m){g=0;for(m=m.firstChild;m;m=m.nextSibling)if(y(m)&&m!==j&&(!f||b.test(m,f)))u[g++]=m}return u}var y=b._isElementNode;k.mix(b,{parent:function(j,f){return o(j,f,
"parentNode",function(g){return g.nodeType!=11})},next:function(j,f){return o(j,f,"nextSibling",w)},prev:function(j,f){return o(j,f,"previousSibling",w)},siblings:function(j,f){return x(j,f,true)},children:function(j,f){return x(j,f,w)},contains:function(j,f){var g=false;if((j=b.get(j))&&(f=b.get(f)))if(j.contains){if(f.nodeType===3){f=f.parentNode;if(f===j)return true}if(f)return j.contains(f)}else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(f)&16);else for(;!g&&(f=f.parentNode);)g=
f==j;return g},equals:function(j,f){j=k.query(j);f=k.query(f);if(j.length!=f.length)return false;for(var g=j.length;g>=0;g--)if(j[g]!=f[g])return false;return true}});return b},{requires:["./base"]});KISSY.add("dom",function(k,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
