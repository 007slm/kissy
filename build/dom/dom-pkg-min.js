/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(l,a,q,g){var x=document.documentElement,A=!x.hasAttribute,k=x.textContent!==g?"textContent":"innerText",i=a._isElementNode,m=/^(?:href|src|style)/,v=/^(?:href|src|colspan|rowspan)/,j=/\r/g,p=/^(?:radio|checkbox)/,t={readonly:"readOnly"},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};A&&l.mix(t,{"for":"htmlFor","class":"className"});var y={tabindex:{getter:function(o){return o.tabIndex},setter:function(o,c){if(isNaN(parseInt(c))){o.removeAttribute("tabindex");
o.removeAttribute("tabIndex")}else o.tabIndex=c}},style:{getter:function(o){return o.style.cssText},setter:function(o,c){o.style.cssText=c}},checked:{setter:function(o,c){o.checked=!!c}},disabled:{setter:function(o,c){o.disabled=!!c}}};l.mix(a,{attr:function(o,c,b,d){if(l.isPlainObject(c)){d=b;for(var f in c)a.attr(o,f,c[f],d)}else if(c=l.trim(c)){c=c.toLowerCase();if(d&&u[c])return a[c](o,b);c=t[c]||c;var e=y[c];if(b===g){o=a.get(o);if(!i(o))return g;if(e&&e.getter)return e.getter(o);var n;m.test(c)||
(n=o[c]);if(n===g)n=o.getAttribute(c);if(A)if(v.test(c))n=o.getAttribute(c,2);return n===null?g:n}l.each(a.query(o),function(w){if(i(w))e&&e.setter?e.setter(w,b):w.setAttribute(c,""+b)})}},removeAttr:function(o,c){c=c.toLowerCase();l.each(a.query(o),function(b){if(i(b)){a.attr(b,c,"");b.removeAttribute(c)}})},hasAttr:A?function(o,c){c=c.toLowerCase();var b=a.get(o).getAttributeNode(c);return!!(b&&b.specified)}:function(o,c){c=c.toLowerCase();return a.get(o).hasAttribute(c)},val:function(o,c){if(c===
g){var b=a.get(o);if(!i(b))return g;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var d=b.selectedIndex,f=b.options;if(d<0)return null;else if(b.type==="select-one")return a.val(f[d]);b=[];for(var e=0,n=f.length;e<n;++e)f[e].selected&&b.push(a.val(f[e]));return b}if(q.webkit&&p.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(j,"")}l.each(a.query(o),
function(w){if(w&&w.nodeName.toUpperCase()==="select".toUpperCase()){if(l.isNumber(c))c+="";var h=l.makeArray(c),r=w.options,s;e=0;for(n=r.length;e<n;++e){s=r[e];s.selected=l.inArray(a.val(s),h)}if(!h.length)w.selectedIndex=-1}else if(i(w))w.value=c})},text:function(o,c){if(c===g){var b=a.get(o);if(i(b))return b[k]||"";else if(a._nodeTypeIs(b,3))return b.nodeValue}else l.each(a.query(o),function(d){if(i(d))d[k]=c;else if(a._nodeTypeIs(d,3))d.nodeValue=c})}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/base",function(l,a){function q(g,x){return g&&g.nodeType===x}return{_isElementNode:function(g){return q(g,1)},_isKSNode:function(g){var x=l.require("node/node");return x&&q(g,x.TYPE)},_getWin:function(g){return g&&"scrollTo"in g&&g.document?g:q(g,9)?g.defaultView||g.parentWindow:g===a?window:false},_nodeTypeIs:q}});
KISSY.add("dom/class",function(l,a,q){function g(k,i,m,v){if(!(i=l.trim(i)))return v?false:q;k=a.query(k);var j=0,p=k.length;i=i.split(x);for(var t;j<p;j++){t=k[j];if(a._isElementNode(t)){t=m(t,i,i.length);if(t!==q)return t}}if(v)return false;return q}var x=/[\.\s]\s*\.?/,A=/[\n\t]/g;l.mix(a,{hasClass:function(k,i){return g(k,i,function(m,v,j){if(m=m.className){m=" "+m+" ";for(var p=0,t=true;p<j;p++)if(m.indexOf(" "+v[p]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(k,i){g(k,i,
function(m,v,j){var p=m.className;if(p){var t=" "+p+" ";p=p;for(var u=0;u<j;u++)if(t.indexOf(" "+v[u]+" ")<0)p+=" "+v[u];m.className=l.trim(p)}else m.className=i},q)},removeClass:function(k,i){g(k,i,function(m,v,j){var p=m.className;if(p)if(j){p=(" "+p+" ").replace(A," ");for(var t=0,u;t<j;t++)for(u=" "+v[t]+" ";p.indexOf(u)>=0;)p=p.replace(u," ");m.className=l.trim(p)}else m.className=""},q)},replaceClass:function(k,i,m){a.removeClass(k,i);a.addClass(k,m)},toggleClass:function(k,i,m){var v=l.isBoolean(m),
j;g(k,i,function(p,t,u){for(var y=0,o;y<u;y++){o=t[y];j=v?!m:a.hasClass(p,o);a[j?"removeClass":"addClass"](p,o)}},q)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(l,a,q,g){function x(h){var r=h.cloneNode(true);if(q.ie<8)r.innerHTML=h.innerHTML;return r}function A(h,r,s,z){if(s){var C=l.guid("ks-tmp-"),F=RegExp(y);r+='<span id="'+C+'"></span>';l.available(C,function(){var B=a.get("head"),D,H,G,I,K,E;for(F.lastIndex=0;D=F.exec(r);)if((G=(H=D[1])?H.match(c):false)&&G[2]){D=i.createElement("script");D.src=G[2];if((I=H.match(b))&&I[2])D.charset=I[2];D.async=true;B.appendChild(D)}else if((E=D[2])&&E.length>0)l.globalEval(E);(K=i.getElementById(C))&&
a.remove(K);l.isFunction(z)&&z()});k(h,r)}else{k(h,r);l.isFunction(z)&&z()}}function k(h,r){r=(r+"").replace(y,"");try{h.innerHTML=r}catch(s){for(;h.firstChild;)h.removeChild(h.firstChild);r&&h.appendChild(a.create(r))}}var i=document,m=q.ie,v=a._nodeTypeIs,j=a._isElementNode,p=a._isKSNode,t=i.createElement("div"),u=/<(\w+)/,y=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;l.mix(a,{create:function(h,
r,s){if(v(h,1)||v(h,3))return x(h);if(p(h))return x(h[0]);if(!(h=l.trim(h)))return null;var z=null;z=a._creators;var C,F="div",B;if(C=o.exec(h))z=(s||i).createElement(C[1]);else{if((C=u.exec(h))&&(B=C[1])&&l.isFunction(z[B=B.toLowerCase()]))F=B;h=z[F](h,s).childNodes;if(h.length===1)s=h[0].parentNode.removeChild(h[0]);else{h=h;B=s||i;s=null;if(h&&(h.push||h.item)&&h[0]){B=B||h[0].ownerDocument;s=B.createDocumentFragment();if(h.item)h=l.makeArray(h);B=0;for(z=h.length;B<z;B++)s.appendChild(h[B])}s=
s}z=s}s=z;j(s)&&l.isPlainObject(r)&&a.attr(s,r,true);return s},_creators:{div:function(h,r){var s=r?r.createElement("div"):t;s.innerHTML=h;return s}},html:function(h,r,s,z){if(r===g){h=a.get(h);if(j(h))return h.innerHTML}else l.each(a.query(h),function(C){j(C)&&A(C,r,s,z)})},remove:function(h){l.each(a.query(h),function(r){j(r)&&r.parentNode&&r.parentNode.removeChild(r)})}});if(m||q.gecko||q.webkit){var d=a._creators,f=a.create,e=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,n={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in n)(function(h){d[w]=function(r,s){return f("<"+h+">"+r+"</"+h+">",null,s)}})(n[w]);if(m){d.script=function(h,r){var s=r?r.createElement("div"):t;s.innerHTML="-"+h;s.removeChild(s.firstChild);return s};if(m<8)d.tbody=function(h,r){var s=f("<table>"+h+"</table>",null,r),z=s.children.tags("tbody")[0];s.children.length>1&&z&&!e.test(h)&&z.parentNode.removeChild(z);return s}}l.mix(d,{optgroup:d.option,th:d.td,thead:d.tbody,tfoot:d.tbody,
caption:d.tbody,colgroup:d.tbody})}return a},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(l,a,q){var g=window,x="_ks_data_"+l.now(),A={},k={},i={EMBED:1,OBJECT:1,APPLET:1};l.mix(a,{data:function(m,v,j){if(l.isPlainObject(v))for(var p in v)a.data(m,p,v[p]);else if(j===q){m=a.get(m);var t;if(!(!m||i[m.nodeName])){if(m==g)m=k;t=(p=m&&m.nodeType)?A:m;m=t[p?m[x]:x];if(l.isString(v)&&m)return m[v];return m}}else a.query(m).each(function(u){if(!(!u||i[u.nodeName])){if(u==g)u=k;var y=A,o;if(u&&u.nodeType){if(!(o=u[x]))o=u[x]=l.guid()}else{o=x;y=u}if(v&&j!==q){y[o]||
(y[o]={});y[o][v]=j}}})},removeData:function(m,v){a.query(m).each(function(j){if(j){if(j==g)j=k;var p,t=A,u,y=j&&j.nodeType;if(y)p=j[x];else{t=j;p=x}if(p){u=t[p];if(v){if(u){delete u[v];l.isEmptyObject(u)&&a.removeData(j)}}else{if(y)j.removeAttribute&&j.removeAttribute(x);else try{delete j[x]}catch(o){}y&&delete t[p]}}}})}});return a},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(l,a){l.mix(a,{insertBefore:function(q,g){if((q=a.get(q))&&(g=a.get(g))&&g.parentNode)g.parentNode.insertBefore(q,g);return q},insertAfter:function(q,g){if((q=a.get(q))&&(g=a.get(g))&&g.parentNode)g.nextSibling?g.parentNode.insertBefore(q,g.nextSibling):g.parentNode.appendChild(q);return q},append:function(q,g){if((q=a.get(q))&&(g=a.get(g)))g.appendChild&&g.appendChild(q)},prepend:function(q,g){if((q=a.get(q))&&(g=a.get(g)))g.firstChild?a.insertBefore(q,g.firstChild):
g.appendChild(q)}});return a},{requires:["dom/base"]});
KISSY.add("dom/offset",function(l,a,q,g){function x(f){var e=0,n=0,w=v(f[u]);if(f[d]){f=f[d]();e=f[y];n=f[o];if(q.mobile!=="apple"){e+=a[c](w);n+=a[b](w)}}return{left:e,top:n}}var A=window,k=document,i=a._isElementNode,m=a._nodeTypeIs,v=a._getWin,j=k.compatMode==="CSS1Compat",p=Math.max,t=parseInt,u="ownerDocument",y="left",o="top",c="scrollLeft",b="scrollTop",d="getBoundingClientRect";l.mix(a,{offset:function(f,e){if(!(f=a.get(f))||!f[u])return null;if(e===g)return x(f);var n=f;if(a.css(n,"position")===
"static")n.style.position="relative";var w=x(n),h={},r,s;for(s in e){r=t(a.css(n,s),10)||0;h[s]=r+e[s]-w[s]}a.css(n,h)},scrollIntoView:function(f,e,n,w){if((f=a.get(f))&&f[u]){w=w===g?true:!!w;n=n===g?true:!!n;if(!e||e===A)return f.scrollIntoView(n);e=a.get(e);if(m(e,9))e=v(e);var h=e&&"scrollTo"in e&&e.document,r=a.offset(f),s=h?{left:a.scrollLeft(e),top:a.scrollTop(e)}:a.offset(e),z={left:r[y]-s[y],top:r[o]-s[o]};r=h?a.viewportHeight(e):e.clientHeight;s=h?a.viewportWidth(e):e.clientWidth;var C=
a[c](e),F=a[b](e),B=C+s,D=F+r,H=f.offsetHeight;f=f.offsetWidth;var G=z.left+C-(t(a.css(e,"borderLeftWidth"))||0);z=z.top+F-(t(a.css(e,"borderTopWidth"))||0);var I=G+f,K=z+H,E,J;if(H>r||z<F||n)E=z;else if(K>D)E=K-r;if(w)if(f>s||G<C||n)J=G;else if(I>B)J=I-s;if(h){if(E!==g||J!==g)e.scrollTo(J,E)}else{if(E!==g)e[b]=E;if(J!==g)e[c]=J}}}});l.each(["Left","Top"],function(f,e){var n="scroll"+f;a[n]=function(w){var h=0,r=v(w),s;if(r&&(s=r.document))h=r[e?"pageYOffset":"pageXOffset"]||s.documentElement[n]||
s.body[n];else if(i(w=a.get(w)))h=w[n];return h}});l.each(["Width","Height"],function(f){a["doc"+f]=function(e){e=e||k;return p(j?e.documentElement["scroll"+f]:e.body["scroll"+f],a["viewport"+f](e))};a["viewport"+f]=function(e){var n="inner"+f;e=v(e);var w=e.document;return n in e?e[n]:j?w.documentElement["client"+f]:w.body["client"+f]}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(l,a,q){function g(c,b){var d,f,e=[],n;f=l.require("sizzle");b=x(b);if(l.isString(c)){c=l.trim(c);if(y.test(c)){if(f=A(c.slice(1),b))e=[f]}else if(d=o.exec(c)){f=d[1];n=d[2];d=d[3];if(b=f?A(f,b):b)if(d)if(!f||c.indexOf(j)!==-1)e=i(d,n,b);else{if((f=A(f,b))&&a.hasClass(f,d))e=[f]}else if(n)e=k(n,b)}else if(f)e=f(c,b);else m(c)}else if(c&&(c[t]||c[u]))e=c[t]?[c[t]()]:c[u]();else if(c&&(l.isArray(c)||c&&!c.nodeType&&c.item&&!c.setTimeout))e=c;else if(c)e=[c];if(e&&!e.nodeType&&
e.item&&!e.setTimeout)e=l.makeArray(e);e.each=function(w,h){return l.each(e,w,h)};return e}function x(c){if(c===q)c=v;else if(l.isString(c)&&y.test(c))c=A(c.slice(1),v);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function A(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function k(c,b){return b.getElementsByTagName(c)}function i(c,b,d){d=c=d.getElementsByClassName(c);var f=0,e=0,n=c.length,w;if(b&&b!==p){d=[];for(b=b.toUpperCase();f<n;++f){w=c[f];if(w.tagName===
b)d[e++]=w}}return d}function m(c){l.error("Unsupported selector: "+c)}var v=document,j=" ",p="*",t="getDOMNode",u=t+"s",y=/^#[\w-]+$/,o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=v.createElement("div");c.appendChild(v.createComment(""));if(c.getElementsByTagName(p).length>0)k=function(b,d){var f=d.getElementsByTagName(b);if(b===p){for(var e=[],n=0,w=0,h;h=f[n++];)if(h.nodeType===1)e[w++]=h;f=e}return f}})();v.getElementsByClassName||(i=v.querySelectorAll?function(c,b,d){return d.querySelectorAll((b?
b:"")+"."+c)}:function(c,b,d){b=d.getElementsByTagName(b||p);d=[];var f=0,e=0,n=b.length,w,h;for(c=j+c+j;f<n;++f){w=b[f];if((h=w.className)&&(j+h+j).indexOf(c)>-1)d[e++]=w}return d});l.mix(a,{query:g,get:function(c,b){return g(c,b)[0]||null},filter:function(c,b,d){d=g(c,d);var f=l.require("sizzle"),e,n,w,h=[];if(l.isString(b)&&(e=o.exec(b))&&!e[1]){n=e[2];w=e[3];b=function(r){return!(n&&r.tagName!==n.toUpperCase()||w&&!a.hasClass(r,w))}}if(l.isFunction(b))h=l.filter(d,b);else if(b&&f)h=f._filter(c,
b+"");else m(b);return h},test:function(c,b,d){c=g(c,d);return c.length&&a.filter(c,b,d).length===c.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(l,a,q,g,x){if(!q.ie)return a;q=document;g=q.documentElement;var A=a._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,i=/^-?\d/,m=/^(?:width|height)$/;try{if(g.style.opacity==x&&g.filters)A.opacity={get:function(j){var p=100;try{p=j.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{p=j.filters("alpha").opacity}catch(u){}}return p/100+""},set:function(j,p){var t=j.style,u=(j.currentStyle||0).filter||"";t.zoom=1;if(u)u=l.trim(u.replace(/alpha\(opacity[=:][^)]+\),?/ig,
""));if(u&&p!=1)u+=", ";t.filter=u+(p!=1?"alpha(opacity="+p*100+")":"")}}}catch(v){}if(!(q.defaultView||{}).getComputedStyle&&g.currentStyle)a._getComputedStyle=function(j,p){var t=j.style,u=j.currentStyle[p];if(m.test(p))u=a[p](j)+"px";else if(!k.test(u)&&i.test(u)){var y=t.left,o=j.runtimeStyle.left;j.runtimeStyle.left=j.currentStyle.left;t.left=p==="fontSize"?"1em":u||0;u=t.pixelLeft+"px";t.left=y;j.runtimeStyle.left=o}return u};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(l,a,q,g){function x(b,d){var f=a.get(b),e=d===m?f.offsetWidth:f.offsetHeight;l.each(d===m?["Left","Right"]:["Top","Bottom"],function(n){e-=parseFloat(a._getComputedStyle(f,"padding"+n))||0;e-=parseFloat(a._getComputedStyle(f,"border"+n+"Width"))||0});return e}function A(b,d,f){var e=f;if(f===v&&p.test(d)){e=0;if(l.inArray(a.css(b,"position"),["absolute","fixed"])){f=b[d==="left"?"offsetLeft":"offsetTop"];if(q.ie===8||q.opera)f-=j(a.css(b.offsetParent,"border-"+d+"-width"))||
0;e=f-(j(a.css(b,"margin-"+d))||0)}}return e}var k=document,i=k.documentElement,m="width",v="auto",j=parseInt,p=/^(?:left|top)/,t=/^(?:width|height|top|left|right|bottom|margin|padding)/i,u=/-([a-z])/ig,y=function(b,d){return d.toUpperCase()},o={},c={};l.mix(a,{_CUSTOM_STYLES:o,_getComputedStyle:function(b,d){var f="",e=b.ownerDocument;if(b.style)f=e.defaultView.getComputedStyle(b,null)[d];return f},css:function(b,d,f){if(l.isPlainObject(d))for(var e in d)a.css(b,e,d[e]);else{if(d.indexOf("-")>0)d=
d.replace(u,y);d=o[d]||d;if(f===g){b=a.get(b);e="";if(b&&b.style){e=d.get?d.get(b):b.style[d];if(e===""&&!d.get)e=A(b,d,a._getComputedStyle(b,d))}return e===g?"":e}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&t.test(d))f+="px";(d===m||d==="height")&&parseFloat(f)<0||l.each(a.query(b),function(n){if(n&&n.style){d.set?d.set(n,f):n.style[d]=f;if(f==="")n.style.cssText||n.removeAttribute("style")}})}}},width:function(b,d){if(d===g)return x(b,m);else a.css(b,m,d)},height:function(b,d){if(d===
g)return x(b,"height");else a.css(b,"height",d)},show:function(b){a.query(b).each(function(d){if(d){d.style.display=a.data(d,"display")||"";if(a.css(d,"display")==="none"){var f=d.tagName,e=c[f],n;if(!e){n=k.createElement(f);k.body.appendChild(n);e=a.css(n,"display");a.remove(n);c[f]=e}a.data(d,"display",e);d.style.display=e}}})},hide:function(b){a.query(b).each(function(d){if(d){var f=d.style,e=f.display;if(e!=="none"){e&&a.data(d,"display",e);f.display="none"}}})},toggle:function(b){a.query(b).each(function(d){if(d)d.style.display===
"none"?a.show(d):a.hide(d)})},addStyleSheet:function(b,d){var f;if(d&&(d=d.replace("#","")))f=a.get("#"+d);if(!f){f=a.create("<style>",{id:d});a.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=b;else f.appendChild(k.createTextNode(b))}},unselectable:function(b){a.query(b).each(function(d){if(d)if(q.gecko)d.style.MozUserSelect="none";else if(q.webkit)d.style.KhtmlUserSelect="none";else if(q.ie||q.opera){var f=0,e=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=
e[f++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}})}});if(i.style.cssFloat!==g)o["float"]="cssFloat";else if(i.style.styleFloat!==g)o["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(l,a,q){function g(k,i,m,v){if(!(k=a.get(k)))return null;if(i===q)i=1;var j=null,p,t;if(l.isNumber(i)&&i>=0){if(i===0)return k;p=0;t=i;i=function(){return++p===t}}for(;k=k[m];)if(A(k)&&(!i||a.test(k,i))&&(!v||v(k))){j=k;break}return j}function x(k,i,m){var v=[];var j=k=a.get(k);if(k&&m)j=k.parentNode;if(j){m=0;for(j=j.firstChild;j;j=j.nextSibling)if(A(j)&&j!==k&&(!i||a.test(j,i)))v[m++]=j}return v}var A=a._isElementNode;l.mix(a,{parent:function(k,i){return g(k,i,
"parentNode",function(m){return m.nodeType!=11})},next:function(k,i){return g(k,i,"nextSibling",q)},prev:function(k,i){return g(k,i,"previousSibling",q)},siblings:function(k,i){return x(k,i,true)},children:function(k,i){return x(k,i,q)},contains:function(k,i){var m=false;if((k=a.get(k))&&(i=a.get(i)))if(k.contains){if(i.nodeType===3){i=i.parentNode;if(i===k)return true}if(i)return k.contains(i)}else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(i)&16);else for(;!m&&(i=i.parentNode);)m=
i==k;return m}});return a},{requires:["dom/base"]});KISSY.add("dom",function(l,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
