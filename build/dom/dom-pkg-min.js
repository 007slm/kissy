/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(j,a,w,s){var z=document.documentElement,A=!z.hasAttribute,k=z.textContent!==s?"textContent":"innerText",h=a._isElementNode,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=/^(?:button|input|object|select|textarea)$/i,u=/^a(?:rea)?$/i,i=/:|^on/,r=/\r/g,q={},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},l={tabindex:{get:function(c){var d=c.getAttributeNode("tabindex");return d&&
d.specified?parseInt(d.value,10):v.test(c.nodeName)||u.test(c.nodeName)&&c.href?0:null}},style:{get:function(c){return c.style.cssText},set:function(c,d){c.style.cssText=d}}},t={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},o={get:function(c,d){return a.prop(c,d)?d.toLowerCase():null},
set:function(c,d,e){if(d===false)a.removeAttr(c,e);else{d=t[e]||e;if(d in c)c[d]=true;c.setAttribute(e,e.toLowerCase())}return e}},b={},f={get:function(c,d){var e;return(e=c.getAttributeNode(d))&&e.nodeValue!==""?e.nodeValue:null},set:function(c,d,e){if(c=c.getAttributeNode(e))c.nodeValue=d}},n={option:{get:function(c){var d=c.attributes.value;return!d||d.specified?c.value:c.text}},select:{get:function(c){var d=c.selectedIndex,e=c.options;c=c.type==="select-one";if(d<0)return null;else if(c)return a.val(e[d]);
d=[];c=0;for(var m=e.length;c<m;++c)e[c].selected&&d.push(a.val(e[c]));return d},set:function(c,d){var e=j.makeArray(d);j.each(c.options,function(m){m.selected=j.inArray(a.val(m),e)});if(!e.length)c.selectedIndex=-1;return e}}};if(A){q=t;l.tabIndex=l.tabindex;j.each(["href","src","width","height","colSpan","rowSpan"],function(c){l[c]={get:function(d){d=d.getAttribute(c,2);return d===s?null:d}}});n.button=l.value=f}else if(w.safari)b.selected={get:function(c){var d=c.parentNode;if(d){c=d.selectedIndex;
if(c===s&&d.parentNode)c=d.parentNode.selectedIndex;return c===s?null:c}}};j.each(["radio","checkbox"],function(c){n[c]={get:function(d){return d.getAttribute("value")===null?"on":d.value},set:function(d,e){if(j.isArray(e))return d.checked=j.inArray(a.val(d),e)}}});j.mix(a,{prop:function(c,d,e){if(j.isPlainObject(d))for(var m in d)a.prop(c,m,d[m]);else{c=a.query(c);d=t[d]||d;var x=b[d];if(e!==s)j.each(c,function(y){if(x&&x.set)x.set(y,e,d);else y[d]=e});else{c=c[0];if(!c)return null;return x&&x.get?
x.get(c,d):c[d]}}},removeProp:function(c,d){d=t[d]||d;a.query(c).each(function(e){try{e[d]=s;delete e[d]}catch(m){}})},attr:function(c,d,e,m){if(j.isPlainObject(d)){m=e;for(var x in d)a.attr(c,x,d[x],m)}else if(d=j.trim(d)){d=d.toLowerCase();if(m&&g[d])return a[d](c,e);d=q[d]||d;var y;y=p.test(d)?o:i.test(d)?f:l[d];if(e===s){c=a.get(c);if(!h(c))return null;if(c.nodeName.toLowerCase()=="form")y=f;if(y&&y.get)return y.get(c,d);c=c.getAttribute(d);return c===s?null:c}else j.each(a.query(c),function(B){if(h(B))y&&
y.set?y.set(B,e,d):B.setAttribute(d,""+e)})}},removeAttr:function(c,d){d=d.toLowerCase();d=q[d]||d;j.each(a.query(c),function(e){if(h(e)){var m;e.removeAttribute(d);if(p.test(d)&&(m=t[d]||d)in e)e[m]=false}})},hasAttr:A?function(c,d){d=d.toLowerCase();var e=a.get(c).getAttributeNode(d);return!!(e&&e.specified)}:function(c,d){d=d.toLowerCase();return a.get(c).hasAttribute(d)},val:function(c,d){var e,m;if(d===s){var x=a.get(c);if(x){if((e=n[x.nodeName.toLowerCase()]||n[x.type])&&"get"in e&&(m=e.get(x,
"value"))!==s)return m;m=x.value;return typeof m==="string"?m.replace(r,""):m==null?"":m}return null}a.query(c).each(function(y){if(y.nodeType===1){var B=d;if(B==null)B="";else if(typeof B==="number")B+="";else if(j.isArray(B))B=j.map(B,function(D){return D==null?"":D+""});e=n[y.nodeName.toLowerCase()]||n[y.type];if(!e||!("set"in e)||e.set(y,B,"value")===s)y.value=B}})},text:function(c,d){if(d===s){var e=a.get(c);if(h(e))return e[k]||"";else if(a._nodeTypeIs(e,3))return e.nodeValue;return null}else j.each(a.query(c),
function(m){if(h(m))m[k]=d;else if(a._nodeTypeIs(m,3))m.nodeValue=d})}});return a},{requires:["dom/base","ua"]});KISSY.add("dom/base",function(j,a){function w(s,z){return s&&s.nodeType===z}return{_isElementNode:function(s){return w(s,1)},_getWin:function(s){return s&&"scrollTo"in s&&s.document?s:w(s,9)?s.defaultView||s.parentWindow:s==a?window:false},_nodeTypeIs:w,_isNodeList:function(s){return s&&!s.nodeType&&s.item&&!s.setTimeout}}});
KISSY.add("dom/class",function(j,a,w){function s(k,h,p,v){if(!(h=j.trim(h)))return v?false:w;k=a.query(k);var u=0,i=k.length,r=h.split(z);for(h=[];u<r.length;u++){var q=j.trim(r[u]);q&&h.push(q)}for(u=0;u<i;u++){r=k[u];if(a._isElementNode(r)){r=p(r,h,h.length);if(r!==w)return r}}if(v)return false;return w}var z=/[\.\s]\s*\.?/,A=/[\n\t]/g;j.mix(a,{hasClass:function(k,h){return s(k,h,function(p,v,u){if(p=p.className){p=" "+p+" ";for(var i=0,r=true;i<u;i++)if(p.indexOf(" "+v[i]+" ")<0){r=false;break}if(r)return true}},
true)},addClass:function(k,h){s(k,h,function(p,v,u){var i=p.className;if(i){var r=" "+i+" ";i=i;for(var q=0;q<u;q++)if(r.indexOf(" "+v[q]+" ")<0)i+=" "+v[q];p.className=j.trim(i)}else p.className=h},w)},removeClass:function(k,h){s(k,h,function(p,v,u){var i=p.className;if(i)if(u){i=(" "+i+" ").replace(A," ");for(var r=0,q;r<u;r++)for(q=" "+v[r]+" ";i.indexOf(q)>=0;)i=i.replace(q," ");p.className=j.trim(i)}else p.className=""},w)},replaceClass:function(k,h,p){a.removeClass(k,h);a.addClass(k,p)},toggleClass:function(k,
h,p){var v=j.isBoolean(p),u;s(k,h,function(i,r,q){for(var g=0,l;g<q;g++){l=r[g];u=v?!p:a.hasClass(i,l);a[u?"removeClass":"addClass"](i,l)}},w)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(j,a,w,s){function z(e,m){if(j.isPlainObject(m))if(i(e))a.attr(e,m,true);else e.nodeType==11&&j.each(e.childNodes,function(x){a.attr(x,m,true)});return e}function A(e,m){var x=null,y,B;if(e&&(e.push||e.item)&&e[0]){m=m||e[0].ownerDocument;x=m.createDocumentFragment();if(e.item)e=j.makeArray(e);y=0;for(B=e.length;y<B;y++)x.appendChild(e[y])}return x}function k(e,m,x,y){if(x){var B=j.guid("ks-tmp-"),D=RegExp(g);m+='<span id="'+B+'"></span>';j.available(B,function(){var E=
a.get("head"),C,G,H,F,I,J;for(D.lastIndex=0;C=D.exec(m);)if((H=(G=C[1])?G.match(t):false)&&H[2]){C=p.createElement("script");C.src=H[2];if((F=G.match(o))&&F[2])C.charset=F[2];C.async=true;E.appendChild(C)}else if((J=C[2])&&J.length>0)j.globalEval(J);(I=p.getElementById(B))&&a.remove(I);j.isFunction(y)&&y()});h(e,m)}else{h(e,m);j.isFunction(y)&&y()}}function h(e,m){m=(m+"").replace(g,"");try{e.innerHTML=m}catch(x){for(;e.firstChild;)e.removeChild(e.firstChild);m&&e.appendChild(a.create(m))}}var p=
document,v=w.ie,u=a._nodeTypeIs,i=a._isElementNode,r=p.createElement("div"),q=/<(\w+)/,g=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,t=/\ssrc=(['"])(.*?)\1/i,o=/\scharset=(['"])(.*?)\1/i;j.mix(a,{create:function(e,m,x){if(u(e,1)||u(e,3)){m=e;x=m.cloneNode(true);if(w.ie<8)x.innerHTML=m.innerHTML;return x}if(!(e=j.trim(e)))return null;var y=null;y=a._creators;var B,D="div",E;if(B=l.exec(e))y=(x||p).createElement(B[1]);else{if((B=q.exec(e))&&(E=B[1])&&
j.isFunction(y[E=E.toLowerCase()]))D=E;e=y[D](e,x).childNodes;y=e.length===1?e[0].parentNode.removeChild(e[0]):A(e,x||p)}return z(y,m)},_creators:{div:function(e,m){var x=m?m.createElement("div"):r;x.innerHTML=e;return x}},html:function(e,m,x,y){if(m===s){e=a.get(e);if(i(e))return e.innerHTML;return null}else j.each(a.query(e),function(B){i(B)&&k(B,m,x,y)})},remove:function(e){j.each(a.query(e),function(m){m.parentNode&&m.parentNode.removeChild(m)})},_nl2frag:A});if(v||w.gecko||w.webkit){var b=a._creators,
f=a.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,c={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},d;for(d in c)(function(e){b[d]=function(m,x){return f("<"+e+">"+m+"</"+e+">",null,x)}})(c[d]);if(v){b.script=function(e,m){var x=m?m.createElement("div"):r;x.innerHTML="-"+e;x.removeChild(x.firstChild);return x};if(v<8)b.tbody=function(e,m){var x=f("<table>"+e+"</table>",null,m),y=x.children.tags("tbody")[0];x.children.length>1&&y&&!n.test(e)&&
y.parentNode.removeChild(y);return x}}j.mix(b,{optgroup:b.option,th:b.td,thead:b.tbody,tfoot:b.tbody,caption:b.tbody,colgroup:b.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(j,a,w){var s=window,z="_ks_data_"+j.now(),A={},k={},h={};h.applet=1;h.object=1;h.embed=1;var p={hasData:function(i,r){if(i)if(r!==w){if(r in i)return true}else if(!j.isEmptyObject(i))return true;return false}},v={hasData:function(i,r){if(i==s)return v.hasData(k,r);return p.hasData(i[z],r)},data:function(i,r,q){if(i==s)return v.data(k,r,q);i=i[z]=i[z]||{};if(q!==w)i[r]=q;else return r!==w?i[r]:i},removeData:function(i,r){if(i==s)return v.removeData(k,r);var q=i[z];if(q)if(r!==
w){delete q[r];j.isEmptyObject(q)&&v.removeData(i,w)}else delete i[z]}},u={hasData:function(i,r){var q=i[z];if(!q)return false;return p.hasData(A[q],r)},data:function(i,r,q){if(!h[i.nodeName.toLowerCase()]){var g=i[z];g||(g=i[z]=j.guid());i=A[g]=A[g]||{};if(q!==w)i[r]=q;else return r!==w?i[r]:i}},removeData:function(i,r){var q=i[z];if(q){var g=A[q];if(g)if(r!==w){delete g[r];j.isEmptyObject(g)&&u.removeData(i,w)}else{delete A[q];try{delete i[z]}catch(l){}i.removeAttribute&&i.removeAttribute(z)}}}};
j.mix(a,{hasData:function(i,r){var q=false;a.query(i).each(function(g){q=g&&g.nodeType?q||u.hasData(g,r):q||v.hasData(g,r)});return q},data:function(i,r,q){if(j.isPlainObject(r))for(var g in r)a.data(i,g,r[g]);else if(q===w)return(i=a.get(i))&&i.nodeType?u.data(i,r,q):v.data(i,r,q);else a.query(i).each(function(l){l&&l.nodeType?u.data(l,r,q):v.data(l,r,q)})},removeData:function(i,r){a.query(i).each(function(q){q&&q.nodeType?u.removeData(q,r):v.removeData(q,r)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(j,a){function w(k,h,p){k=a.query(k);h=a.query(h);if(k=s(k)){var v;if(h.length>1)v=k.cloneNode(true);for(var u=0;u<h.length;u++){var i=h[u],r=u>0?v.cloneNode(true):k;p(r,i)}}}var s=a._nl2frag;j.mix(a,{insertBefore:function(k,h){w(k,h,function(p,v){v.parentNode&&v.parentNode.insertBefore(p,v)})},insertAfter:function(k,h){w(k,h,function(p,v){v.parentNode&&v.parentNode.insertBefore(p,v.nextSibling)})},appendTo:function(k,h){w(k,h,function(p,v){v.appendChild(p)})},prependTo:function(k,
h){w(k,h,function(p,v){v.insertBefore(p,v.firstChild)})}});var z={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},A;for(A in z)a[A]=a[z[A]];return a},{requires:["./base"]});
KISSY.add("dom/offset",function(j,a,w,s){function z(b){var f=0,n=0,c=p(b[r]);if(b[o]){b=b[o]();f=b[q];n=b[g];if(w.mobile!=="apple"){f+=a[l](c);n+=a[t](c)}}return{left:f,top:n}}var A=window,k=a._isElementNode,h=a._nodeTypeIs,p=a._getWin,v=document.compatMode==="CSS1Compat",u=Math.max,i=parseInt,r="ownerDocument",q="left",g="top",l="scrollLeft",t="scrollTop",o="getBoundingClientRect";j.mix(a,{offset:function(b,f){if(!(b=a.get(b))||!b[r])return null;if(f===s)return z(b);var n=b;if(a.css(n,"position")===
"static")n.style.position="relative";var c=z(n),d={},e,m;for(m in f){e=i(a.css(n,m),10)||0;d[m]=e+f[m]-c[m]}a.css(n,d)},scrollIntoView:function(b,f,n,c){if((b=a.get(b))&&b[r]){c=c===s?true:!!c;n=n===s?true:!!n;if(!f||(f=a.get(f))===A)b.scrollIntoView(n);else{if(h(f,9))f=p(f);var d=!!p(f),e=a.offset(b),m=d?{left:a.scrollLeft(f),top:a.scrollTop(f)}:a.offset(f),x={left:e[q]-m[q],top:e[g]-m[g]};e=d?a.viewportHeight(f):f.clientHeight;d=d?a.viewportWidth(f):f.clientWidth;m=a[l](f);var y=a[t](f),B=m+d,D=
y+e,E=b.offsetHeight;b=b.offsetWidth;var C=x.left+m-(i(a.css(f,"borderLeftWidth"))||0);x=x.top+y-(i(a.css(f,"borderTopWidth"))||0);var G=C+b,H=x+E,F,I;if(E>e||x<y||n)F=x;else if(H>D)F=H-e;if(c)if(b>d||C<m||n)I=C;else if(G>B)I=G-d;a[t](f,F);a[l](f,I)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});j.each(["Left","Top"],function(b,f){var n="scroll"+b;a[n]=function(c,d){if(j.isNumber(c))arguments.callee(A,c);else{c=a.get(c);var e=0,m=p(c);if(m){if(d!==s){e=b=="Left"?d:a.scrollLeft(m);var x=
b=="Top"?d:a.scrollTop(m);m.scrollTo(e,x)}e=m.document;e=m[f?"pageYOffset":"pageXOffset"]||e.documentElement[n]||e.body[n]}else if(k(c=a.get(c)))e=d!==s?c[n]=d:c[n];return d===s?e:s}}});j.each(["Width","Height"],function(b){a["doc"+b]=function(f){f=a.get(f);f=p(f).document;return u(v?f.documentElement["scroll"+b]:f.body["scroll"+b],a["viewport"+b](f))};a["viewport"+b]=function(f){f=a.get(f);var n="inner"+b;f=p(f);var c=f.document;return n in f?f[n]:v?c.documentElement["client"+b]:c.body["client"+
b]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(j,a,w){function s(g,l){var t,o,b=[],f;o=j.require("sizzle");l=z(l);if(j.isString(g))if(g.indexOf(",")!=-1){t=g.split(",");j.each(t,function(n){b.push.apply(b,j.makeArray(s(n,l)))})}else{g=j.trim(g);if(i.test(g)){if(o=A(g.slice(1),l))b=[o]}else if(t=r.exec(String(g))){o=t[1];f=t[2];t=t[3];if(l=o?A(o,l):l)if(t)if(!o||g.indexOf(u)!==-1)b=j.makeArray(q(t,f,l));else{if((o=A(o,l))&&a.hasClass(o,t))b=[o]}else if(f)b=k(f,l)}else if(o)b=o(g,l);else h(g)}else if(g&&(j.isArray(g)||
v(g)))b=g;else if(g)b=[g];if(v(b))b=j.makeArray(b);b.each=function(n,c){return j.each(b,n,c)};return b}function z(g){if(g===w)g=p;else if(j.isString(g)&&i.test(g))g=A(g.slice(1),p);else if(j.isArray(g)||v(g))g=g[0]||null;else if(g&&g.nodeType!==1&&g.nodeType!==9)g=null;return g}function A(g,l){if(!l)return null;if(l.nodeType!==9)l=l.ownerDocument;return l.getElementById(g)}function k(g,l){return l.getElementsByTagName(g)}function h(g){j.error("Unsupported selector: "+g)}var p=document,v=a._isNodeList,
u=" ",i=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var g=p.createElement("div");g.appendChild(p.createComment(""));if(g.getElementsByTagName("*").length>0)k=function(l,t){var o=j.makeArray(t.getElementsByTagName(l));if(l==="*"){for(var b=[],f=0,n=0,c;c=o[f++];)if(c.nodeType===1)b[n++]=c;o=b}return o}})();var q=p.getElementsByClassName?function(g,l,t){t=g=j.makeArray(t.getElementsByClassName(g));var o=0,b=0,f=g.length,n;if(l&&l!=="*"){t=[];for(l=l.toUpperCase();o<f;++o){n=
g[o];if(n.tagName===l)t[b++]=n}}return t}:p.querySelectorAll?function(g,l,t){return t.querySelectorAll((l?l:"")+"."+g)}:function(g,l,t){l=t.getElementsByTagName(l||"*");t=[];var o=0,b=0,f=l.length,n,c;for(g=u+g+u;o<f;++o){n=l[o];if((c=n.className)&&(u+c+u).indexOf(g)>-1)t[b++]=n}return t};j.mix(a,{query:s,get:function(g,l){return s(g,l)[0]||null},filter:function(g,l,t){var o=s(g,t),b=j.require("sizzle"),f,n,c,d=[];if(j.isString(l)&&(f=r.exec(l))&&!f[1]){n=f[2];c=f[3];l=function(e){return!(n&&e.tagName.toLowerCase()!==
n.toLowerCase()||c&&!a.hasClass(e,c))}}if(j.isFunction(l))d=j.filter(o,l);else if(l&&b)d=b._filter(g,l,t);else h(l);return d},test:function(g,l,t){g=s(g,t);return g.length&&a.filter(g,l,t).length===g.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(j,a,w,s,z){if(!w.ie)return a;s=document;var A=s.documentElement,k=a._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,p=/^-?\d/,v=/^(?:width|height)$/;try{if(A.style.opacity==z&&A.filters)k.opacity={get:function(q){var g=100;try{g=q.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(l){try{g=q.filters("alpha").opacity}catch(t){if(q=((q.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))g=parseInt(j.trim(q[1]))}}return g/100+""},set:function(q,g){var l=q.style,
t=(q.currentStyle||0).filter||"";l.zoom=1;if(t)t=j.trim(t.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(t&&g!=1)t+=", ";l.filter=t+(g!=1?"alpha(opacity="+g*100+")":"")}}}catch(u){}w=w.ie==8;var i={},r={get:function(q,g){var l=q.currentStyle[g]+"";if(l.indexOf("px")<0)l=i[l]?i[l]:0;return l}};i.thin=w?"1px":"2px";i.medium=w?"3px":"4px";i.thick=w?"5px":"6px";j.each(["","Top","Left","Right","Bottom"],function(q){k["border"+q+"Width"]=r});if(!(s.defaultView||{}).getComputedStyle&&A.currentStyle)a._getComputedStyle=
function(q,g){var l=q.style,t=q.currentStyle[g];if(v.test(g))t=a[g](q)+"px";else if(!h.test(t)&&p.test(t)){var o=l.left,b=q.runtimeStyle.left;q.runtimeStyle.left=q.currentStyle.left;l.left=g==="fontSize"?"1em":t||0;t=l.pixelLeft+"px";l.left=o;q.runtimeStyle.left=b}return t};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(j,a,w,s){function z(o,b){var f=a.get(o);if(j.isWindow(f))return b==p?a.viewportWidth(f):a.viewportHeight(f);else if(f.nodeType==9)return b==p?a.docWidth(f):a.docHeight(f);var n=b===p?f.offsetWidth:f.offsetHeight;j.each(b===p?["Left","Right"]:["Top","Bottom"],function(c){n-=parseFloat(a._getComputedStyle(f,"padding"+c))||0;n-=parseFloat(a._getComputedStyle(f,"border"+c+"Width"))||0});return n}function A(o,b,f){var n=f;if(f===v&&i.test(b)){n=0;if(j.inArray(a.css(o,"position"),
["absolute","fixed"])){f=o[b==="left"?"offsetLeft":"offsetTop"];if(w.ie===8||w.opera)f-=u(a.css(o.offsetParent,"border-"+b+"-width"))||0;n=f-(u(a.css(o,"margin-"+b))||0)}}return n}var k=document,h=k.documentElement,p="width",v="auto",u=parseInt,i=/^(?:left|top)/,r=/^(?:width|height|top|left|right|bottom|margin|padding)/i,q=/-([a-z])/ig,g=function(o,b){return b.toUpperCase()},l={},t={};j.mix(a,{_CUSTOM_STYLES:l,_getComputedStyle:function(o,b){var f="",n=o.ownerDocument;if(o.style)f=n.defaultView.getComputedStyle(o,
null)[b];return f},css:function(o,b,f){if(j.isPlainObject(b))for(var n in b)a.css(o,n,b[n]);else{if(b.indexOf("-")>0)b=b.replace(q,g);n=b;b=l[b]||b;if(f===s){o=a.get(o);var c="";if(o&&o.style){c=b.get?b.get(o,n):o.style[b];if(c===""&&!b.get)c=A(o,b,a._getComputedStyle(o,b))}return c===s?"":c}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&r.test(b))f+="px";(b===p||b==="height")&&parseFloat(f)<0||j.each(a.query(o),function(d){if(d&&d.style){b.set?b.set(d,f):d.style[b]=f;if(f==="")d.style.cssText||
d.removeAttribute("style")}})}}},width:function(o,b){if(b===s)return z(o,p);else a.css(o,p,b)},height:function(o,b){if(b===s)return z(o,"height");else a.css(o,"height",b)},show:function(o){a.query(o).each(function(b){if(b){b.style.display=a.data(b,"display")||"";if(a.css(b,"display")==="none"){var f=b.tagName,n=t[f],c;if(!n){c=k.createElement(f);k.body.appendChild(c);n=a.css(c,"display");a.remove(c);t[f]=n}a.data(b,"display",n);b.style.display=n}}})},hide:function(o){a.query(o).each(function(b){if(b){var f=
b.style,n=f.display;if(n!=="none"){n&&a.data(b,"display",n);f.display="none"}}})},toggle:function(o){a.query(o).each(function(b){if(b)a.css(b,"display")==="none"?a.show(b):a.hide(b)})},addStyleSheet:function(o,b,f){if(j.isString(o)){f=b;b=o;o=window}o=a.get(o);o=a._getWin(o).document;var n;if(f&&(f=f.replace("#","")))n=a.get("#"+f,o);if(!n){n=a.create("<style>",{id:f},o);a.get("head",o).appendChild(n);if(n.styleSheet)n.styleSheet.cssText=b;else n.appendChild(o.createTextNode(b))}},unselectable:function(o){a.query(o).each(function(b){if(b)if(w.gecko)b.style.MozUserSelect=
"none";else if(w.webkit)b.style.KhtmlUserSelect="none";else if(w.ie||w.opera){var f=0,n=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=n[f++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}})}});if(h.style.cssFloat!==s)l["float"]="cssFloat";else if(h.style.styleFloat!==s)l["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(j,a,w){function s(k,h,p,v){if(!(k=a.get(k)))return null;if(h===w)h=1;var u=null,i,r;if(j.isNumber(h)&&h>=0){if(h===0)return k;i=0;r=h;h=function(){return++i===r}}for(;k=k[p];)if(A(k)&&(!h||a.test(k,h))&&(!v||v(k))){u=k;break}return u}function z(k,h,p){var v=[];var u=k=a.get(k);if(k&&p)u=k.parentNode;if(u){p=0;for(u=u.firstChild;u;u=u.nextSibling)if(A(u)&&u!==k&&(!h||a.test(u,h)))v[p++]=u}return v}var A=a._isElementNode;j.mix(a,{parent:function(k,h){return s(k,h,
"parentNode",function(p){return p.nodeType!=11})},next:function(k,h){return s(k,h,"nextSibling",w)},prev:function(k,h){return s(k,h,"previousSibling",w)},siblings:function(k,h){return z(k,h,true)},children:function(k,h){return z(k,h,w)},contains:function(k,h){var p=false;if((k=a.get(k))&&(h=a.get(h)))if(k.contains){if(h.nodeType===3){h=h.parentNode;if(h===k)return true}if(h)return k.contains(h)}else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(h)&16);else for(;!p&&(h=h.parentNode);)p=
h==k;return p},equals:function(k,h){k=j.query(k);h=j.query(h);if(k.length!=h.length)return false;for(var p=k.length;p>=0;p--)if(k[p]!=h[p])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(j,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
