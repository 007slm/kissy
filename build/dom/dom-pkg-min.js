/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(k,b,v,q){function B(c,a){a=u[a]||a;var j=m[a];if(!c)return q;return j&&j.get?j.get(c,a):c[a]}v=document.documentElement;var A=!v.hasAttribute,w=v.textContent!==q?"textContent":"innerText",g=b._isElementNode,i=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,o=/^(?:button|input|object|select|textarea)$/i,y=/^a(?:rea)?$/i,d=/:|^on/,p=/\r/g,n={},e={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},l={tabindex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):o.test(c.nodeName)||y.test(c.nodeName)&&c.href?0:q}},style:{get:function(c){return c.style.cssText},set:function(c,a){c.style.cssText=a}}},u={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
z={get:function(c,a){return b.prop(c,a)?a.toLowerCase():q},set:function(c,a,j){if(a===false)b.removeAttr(c,j);else{a=u[j]||j;if(a in c)c[a]=true;c.setAttribute(j,j.toLowerCase())}return j}},m={},h={},r={option:{get:function(c){var a=c.attributes.value;return!a||a.specified?c.value:c.text}},select:{get:function(c){var a=c.selectedIndex,j=c.options;c=c.type==="select-one";if(a<0)return null;else if(c)return b.val(j[a]);a=[];c=0;for(var f=j.length;c<f;++c)j[c].selected&&a.push(b.val(j[c]));return a},
set:function(c,a){var j=k.makeArray(a);k.each(c.options,function(f){f.selected=k.inArray(b.val(f),j)});if(!j.length)c.selectedIndex=-1;return j}}};if(A){h={get:function(c,a){var j;return(j=c.getAttributeNode(a))&&j.nodeValue!==""?j.nodeValue:q},set:function(c,a,j){if(c=c.getAttributeNode(j))c.nodeValue=a}};n=u;l.tabIndex=l.tabindex;k.each(["href","src","width","height","colSpan","rowSpan"],function(c){l[c]={get:function(a){a=a.getAttribute(c,2);return a===null?q:a}}});r.button=l.value=h}k.each(["radio",
"checkbox"],function(c){r[c]={get:function(a){return a.getAttribute("value")===null?"on":a.value},set:function(a,j){if(k.isArray(j))return a.checked=k.inArray(b.val(a),j)}}});k.mix(b,{prop:function(c,a,j){if(k.isPlainObject(a))for(var f in a)b.prop(c,f,a[f]);else{c=b.query(c);a=u[a]||a;var s=m[a];if(j!==q)k.each(c,function(t){if(s&&s.set)s.set(t,j,a);else t[a]=j});else if(c=c[0])return B(c,a)}},hasProp:function(c,a){return B(c,a)!==q},removeProp:function(c,a){a=u[a]||a;b.query(c).each(function(j){try{j[a]=
q;delete j[a]}catch(f){}})},attr:function(c,a,j,f){if(k.isPlainObject(a)){f=j;for(var s in a)b.attr(c,s,a[s],f)}else if(a=k.trim(a)){a=a.toLowerCase();if(f&&e[a])return b[a](c,j);a=n[a]||a;var t;t=i.test(a)?z:d.test(a)?h:l[a];if(j===q){c=b.get(c);if(g(c)){if(c.nodeName.toLowerCase()=="form")t=h;if(t&&t.get)return t.get(c,a);c=c.getAttribute(a);return c===null?q:c}}else k.each(b.query(c),function(x){if(g(x))t&&t.set?t.set(x,j,a):x.setAttribute(a,""+j)})}},removeAttr:function(c,a){a=a.toLowerCase();
a=n[a]||a;k.each(b.query(c),function(j){if(g(j)){var f;j.removeAttribute(a);if(i.test(a)&&(f=u[a]||a)in j)j[f]=false}})},hasAttr:A?function(c,a){a=a.toLowerCase();var j=b.get(c).getAttributeNode(a);return!!(j&&j.specified)}:function(c,a){a=a.toLowerCase();return b.get(c).hasAttribute(a)},val:function(c,a){var j,f;if(a===q){var s=b.get(c);if(s){if((j=r[s.nodeName.toLowerCase()]||r[s.type])&&"get"in j&&(f=j.get(s,"value"))!==q)return f;f=s.value;return typeof f==="string"?f.replace(p,""):f==null?"":
f}}else b.query(c).each(function(t){if(t.nodeType===1){var x=a;if(x==null)x="";else if(typeof x==="number")x+="";else if(k.isArray(x))x=k.map(x,function(C){return C==null?"":C+""});j=r[t.nodeName.toLowerCase()]||r[t.type];if(!j||!("set"in j)||j.set(t,x,"value")===q)t.value=x}})},text:function(c,a){if(a===q){var j=b.get(c);if(g(j))return j[w]||"";else if(b._nodeTypeIs(j,3))return j.nodeValue;return q}else k.each(b.query(c),function(f){if(g(f))f[w]=a;else if(b._nodeTypeIs(f,3))f.nodeValue=a})}});return b},
{requires:["./base","ua"]});KISSY.add("dom/base",function(k,b){function v(q,B){return q&&q.nodeType===B}return{_isElementNode:function(q){return v(q,1)},_getWin:function(q){return q&&"scrollTo"in q&&q.document?q:v(q,9)?q.defaultView||q.parentWindow:q==b?window:false},_nodeTypeIs:v,_isNodeList:function(q){return q&&!q.nodeType&&q.item&&!q.setTimeout}}});
KISSY.add("dom/class",function(k,b,v){function q(w,g,i,o){if(!(g=k.trim(g)))return o?false:v;w=b.query(w);var y=0,d=w.length,p=g.split(B);for(g=[];y<p.length;y++){var n=k.trim(p[y]);n&&g.push(n)}for(y=0;y<d;y++){p=w[y];if(b._isElementNode(p)){p=i(p,g,g.length);if(p!==v)return p}}if(o)return false;return v}var B=/[\.\s]\s*\.?/,A=/[\n\t]/g;k.mix(b,{hasClass:function(w,g){return q(w,g,function(i,o,y){if(i=i.className){i=(" "+i+" ").replace(A," ");for(var d=0,p=true;d<y;d++)if(i.indexOf(" "+o[d]+" ")<
0){p=false;break}if(p)return true}},true)},addClass:function(w,g){q(w,g,function(i,o,y){var d=i.className;if(d){var p=(" "+d+" ").replace(A," ");d=d;for(var n=0;n<y;n++)if(p.indexOf(" "+o[n]+" ")<0)d+=" "+o[n];i.className=k.trim(d)}else i.className=g},v)},removeClass:function(w,g){q(w,g,function(i,o,y){var d=i.className;if(d)if(y){d=(" "+d+" ").replace(A," ");for(var p=0,n;p<y;p++)for(n=" "+o[p]+" ";d.indexOf(n)>=0;)d=d.replace(n," ");i.className=k.trim(d)}else i.className=""},v)},replaceClass:function(w,
g,i){b.removeClass(w,g);b.addClass(w,i)},toggleClass:function(w,g,i){var o=k.isBoolean(i),y;q(w,g,function(d,p,n){for(var e=0,l;e<n;e++){l=p[e];y=o?!i:b.hasClass(d,l);b[y?"removeClass":"addClass"](d,l)}},v)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(k,b,v,q){function B(f,s){if(k.isPlainObject(s))if(d(f))b.attr(f,s,true);else f.nodeType==11&&k.each(f.childNodes,function(t){b.attr(t,s,true)});return f}function A(f,s){var t=null,x,C;if(f&&(f.push||f.item)&&f[0]){s=s||f[0].ownerDocument;t=s.createDocumentFragment();if(f.item)f=k.makeArray(f);x=0;for(C=f.length;x<C;x++)t.appendChild(f[x])}return t}function w(f,s,t,x){if(t){var C=k.guid("ks-tmp-"),E=RegExp(l);s+='<span id="'+C+'"></span>';k.available(C,function(){var F=
b.get("head"),D,I,G,J,K,H;for(E.lastIndex=0;D=E.exec(s);)if((G=(I=D[1])?I.match(z):false)&&G[2]){D=i.createElement("script");D.src=G[2];if((J=I.match(m))&&J[2])D.charset=J[2];D.async=true;F.appendChild(D)}else if((H=D[2])&&H.length>0)k.globalEval(H);(K=i.getElementById(C))&&b.remove(K);k.isFunction(x)&&x()});g(f,s)}else{g(f,s);k.isFunction(x)&&x()}}function g(f,s){s=(s+"").replace(l,"");try{f.innerHTML=s}catch(t){for(;f.firstChild;)f.removeChild(f.firstChild);s&&f.appendChild(b.create(s))}}var i=
document,o=v.ie,y=b._nodeTypeIs,d=b._isElementNode,p=i.createElement("div"),n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,e=/<(\w+)/,l=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,u=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,z=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;k.mix(b,{create:function(f,s,t){if(y(f,1)||y(f,3)){s=f;t=s.cloneNode(true);if(v.ie<8)t.innerHTML=s.innerHTML;return t}if(!(f=k.trim(f)))return null;var x=null;x=b._creators;var C,E="div",F;
if(C=u.exec(f))x=(t||i).createElement(C[1]);else{f=f.replace(n,"<$1></$2>");if((C=e.exec(f))&&(F=C[1])&&k.isFunction(x[F=F.toLowerCase()]))E=F;f=x[E](f,t).childNodes;x=f.length===1?f[0].parentNode.removeChild(f[0]):A(f,t||i)}return B(x,s)},_creators:{div:function(f,s){var t=s?s.createElement("div"):p;t.innerHTML="w<div>"+f+"</div>";return t.lastChild}},html:function(f,s,t,x){if(s===q){f=b.get(f);if(d(f))return f.innerHTML}else k.each(b.query(f),function(C){d(C)&&w(C,s,t,x)})},remove:function(f){k.each(b.query(f),
function(s){s.parentNode&&s.parentNode.removeChild(s)})},_nl2frag:A});if(o||v.gecko||v.webkit){var h=b._creators,r=b.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,a={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},j;for(j in a)(function(f){h[j]=function(s,t){return r("<"+f+">"+s+"</"+f+">",null,t)}})(a[j]);if(o){h.script=function(f,s){var t=s?s.createElement("div"):p;t.innerHTML="-"+f;t.removeChild(t.firstChild);return t};if(o<8)h.tbody=function(f,
s){var t=r("<table>"+f+"</table>",null,s),x=t.children.tags("tbody")[0];t.children.length>1&&x&&!c.test(f)&&x.parentNode.removeChild(x);return t}}k.mix(h,{optgroup:h.option,th:h.td,thead:h.tbody,tfoot:h.tbody,caption:h.tbody,colgroup:h.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(k,b,v){var q=window,B="_ks_data_"+k.now(),A={},w={},g={};g.applet=1;g.object=1;g.embed=1;var i={hasData:function(d,p){if(d)if(p!==v){if(p in d)return true}else if(!k.isEmptyObject(d))return true;return false}},o={hasData:function(d,p){if(d==q)return o.hasData(w,p);return i.hasData(d[B],p)},data:function(d,p,n){if(d==q)return o.data(w,p,n);d=d[B]=d[B]||{};if(n!==v)d[p]=n;else return p!==v?d[p]:d},removeData:function(d,p){if(d==q)return o.removeData(w,p);var n=d[B];if(n)if(p!==
v){delete n[p];k.isEmptyObject(n)&&o.removeData(d,v)}else delete d[B]}},y={hasData:function(d,p){var n=d[B];if(!n)return false;return i.hasData(A[n],p)},data:function(d,p,n){if(!g[d.nodeName.toLowerCase()]){var e=d[B];e||(e=d[B]=k.guid());d=A[e]=A[e]||{};if(n!==v)d[p]=n;else return p!==v?d[p]:d}},removeData:function(d,p){var n=d[B];if(n){var e=A[n];if(e)if(p!==v){delete e[p];k.isEmptyObject(e)&&y.removeData(d,v)}else{delete A[n];try{delete d[B]}catch(l){}d.removeAttribute&&d.removeAttribute(B)}}}};
k.mix(b,{hasData:function(d,p){var n=false;b.query(d).each(function(e){n=e&&e.nodeType?n||y.hasData(e,p):n||o.hasData(e,p)});return n},data:function(d,p,n){if(k.isPlainObject(p))for(var e in p)b.data(d,e,p[e]);else if(n===v)return(d=b.get(d))&&d.nodeType?y.data(d,p,n):o.data(d,p,n);else b.query(d).each(function(l){l&&l.nodeType?y.data(l,p,n):o.data(l,p,n)})},removeData:function(d,p){b.query(d).each(function(n){n&&n.nodeType?y.removeData(n,p):o.removeData(n,p)})}});return b},{requires:["./base"]});
KISSY.add("dom/insertion",function(k,b){function v(w,g,i){w=b.query(w);g=b.query(g);if(w=q(w)){var o;if(g.length>1)o=w.cloneNode(true);for(var y=0;y<g.length;y++){var d=g[y],p=y>0?o.cloneNode(true):w;i(p,d)}}}var q=b._nl2frag;k.mix(b,{insertBefore:function(w,g){v(w,g,function(i,o){o.parentNode&&o.parentNode.insertBefore(i,o)})},insertAfter:function(w,g){v(w,g,function(i,o){o.parentNode&&o.parentNode.insertBefore(i,o.nextSibling)})},appendTo:function(w,g){v(w,g,function(i,o){o.appendChild(i)})},prependTo:function(w,
g){v(w,g,function(i,o){o.insertBefore(i,o.firstChild)})}});var B={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},A;for(A in B)b[A]=b[B[A]];return b},{requires:["./create"]});
KISSY.add("dom/offset",function(k,b,v,q){function B(c){var a,j=0;a=0;var f=w.body,s=d(c[l]);if(c[r]){a=c[r]();j=a[u];a=a[z];c=g&&w.documentMode!=9&&(p?i.clientTop:f.clientTop)||0;j-=g&&w.documentMode!=9&&(p?i.clientLeft:f.clientLeft)||0;a-=c;if(v.mobile!=="apple"){j+=b[m](s);a+=b[h](s)}}return{left:j,top:a}}var A=window,w=document,g=v.ie,i=w.documentElement,o=b._isElementNode,y=b._nodeTypeIs,d=b._getWin,p=w.compatMode==="CSS1Compat",n=Math.max,e=parseInt,l="ownerDocument",u="left",z="top",m="scrollLeft",
h="scrollTop",r="getBoundingClientRect";k.mix(b,{offset:function(c,a){if((c=b.get(c))&&c[l]){if(a===q)return B(c);var j=c;if(b.css(j,"position")==="static")j.style.position="relative";var f=B(j),s={},t,x;for(x in a){t=e(b.css(j,x),10)||0;s[x]=t+a[x]-f[x]}b.css(j,s)}},scrollIntoView:function(c,a,j,f){if((c=b.get(c))&&c[l]){f=f===q?true:!!f;j=j===q?true:!!j;if(!a||(a=b.get(a))===A)c.scrollIntoView(j);else{if(y(a,9))a=d(a);var s=!!d(a),t=b.offset(c),x=s?{left:b.scrollLeft(a),top:b.scrollTop(a)}:b.offset(a),
C={left:t[u]-x[u],top:t[z]-x[z]};t=s?b.viewportHeight(a):a.clientHeight;s=s?b.viewportWidth(a):a.clientWidth;x=b[m](a);var E=b[h](a),F=x+s,D=E+t,I=c.offsetHeight;c=c.offsetWidth;var G=C.left+x-(e(b.css(a,"borderLeftWidth"))||0);C=C.top+E-(e(b.css(a,"borderTopWidth"))||0);var J=G+c,K=C+I,H,L;if(I>t||C<E||j)H=C;else if(K>D)H=K-t;if(f)if(c>s||G<x||j)L=G;else if(J>F)L=J-s;b[h](a,H);b[m](a,L)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});k.each(["Left","Top"],function(c,a){var j="scroll"+
c;b[j]=function(f,s){if(k.isNumber(f))arguments.callee(A,f);else{f=b.get(f);var t=0,x=d(f);if(x){if(s!==q){t=c=="Left"?s:b.scrollLeft(x);var C=c=="Top"?s:b.scrollTop(x);x.scrollTo(t,C)}t=x.document;t=x[a?"pageYOffset":"pageXOffset"]||t.documentElement[j]||t.body[j]}else if(o(f=b.get(f)))t=s!==q?f[j]=s:f[j];return s===q?t:q}}});k.each(["Width","Height"],function(c){b["doc"+c]=function(a){a=b.get(a);a=d(a).document;return n(a.documentElement["scroll"+c],a.body["scroll"+c],b["viewport"+c](a))};b["viewport"+
c]=function(a){a=b.get(a);var j="inner"+c;a=d(a);var f=a.document;return j in a?a[j]:p?f.documentElement["client"+c]:f.body["client"+c]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(k,b,v){function q(e,l){var u,z,m=[],h;z=k.require("sizzle");l=B(l);if(k.isString(e))if(e.indexOf(",")!=-1){u=e.split(",");k.each(u,function(r){m.push.apply(m,k.makeArray(q(r,l)))})}else{e=k.trim(e);if(d.test(e)){if(z=A(e.slice(1),l))m=[z]}else if(u=p.exec(String(e))){z=u[1];h=u[2];u=u[3];if(l=z?A(z,l):l)if(u)if(!z||e.indexOf(y)!==-1)m=k.makeArray(n(u,h,l));else{if((z=A(z,l))&&b.hasClass(z,u))m=[z]}else if(h)m=w(h,l)}else if(z)m=z(e,l);else g(e)}else if(e&&(k.isArray(e)||
o(e)))m=e;else if(e)m=[e];if(o(m))m=k.makeArray(m);m.each=function(r,c){return k.each(m,r,c)};return m}function B(e){if(e===v)e=i;else if(k.isString(e)&&d.test(e))e=A(e.slice(1),i);else if(k.isArray(e)||o(e))e=e[0]||null;else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function A(e,l){if(!l)return null;if(l.nodeType!==9)l=l.ownerDocument;return l.getElementById(e)}function w(e,l){return l.getElementsByTagName(e)}function g(e){k.error("Unsupported selector: "+e)}var i=document,o=b._isNodeList,
y=" ",d=/^#[\w-]+$/,p=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=i.createElement("div");e.appendChild(i.createComment(""));if(e.getElementsByTagName("*").length>0)w=function(l,u){var z=k.makeArray(u.getElementsByTagName(l));if(l==="*"){for(var m=[],h=0,r=0,c;c=z[h++];)if(c.nodeType===1)m[r++]=c;z=m}return z}})();var n=i.getElementsByClassName?function(e,l,u){u=e=k.makeArray(u.getElementsByClassName(e));var z=0,m=0,h=e.length,r;if(l&&l!=="*"){u=[];for(l=l.toUpperCase();z<h;++z){r=
e[z];if(r.tagName===l)u[m++]=r}}return u}:i.querySelectorAll?function(e,l,u){return u.querySelectorAll((l?l:"")+"."+e)}:function(e,l,u){l=u.getElementsByTagName(l||"*");u=[];var z=0,m=0,h=l.length,r,c;for(e=y+e+y;z<h;++z){r=l[z];if((c=r.className)&&(y+c+y).indexOf(e)>-1)u[m++]=r}return u};k.mix(b,{query:q,get:function(e,l){return q(e,l)[0]||null},filter:function(e,l,u){var z=q(e,u),m=k.require("sizzle"),h,r,c,a=[];if(k.isString(l)&&(h=p.exec(l))&&!h[1]){r=h[2];c=h[3];l=function(j){return!(r&&j.tagName.toLowerCase()!==
r.toLowerCase()||c&&!b.hasClass(j,c))}}if(k.isFunction(l))a=k.filter(z,l);else if(l&&m)a=m._filter(e,l,u);else g(l);return a},test:function(e,l,u){e=q(e,u);return e.length&&b.filter(e,l,u).length===e.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(k,b,v,q,B){if(!v.ie)return b;q=document;var A=q.documentElement,w=b._CUSTOM_STYLES,g=/^-?\d+(?:px)?$/i,i=/^-?\d/,o=/^(?:width|height)$/;try{if(A.style.opacity==B&&A.filters)w.opacity={get:function(n){var e=100;try{e=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(l){try{e=n.filters("alpha").opacity}catch(u){if(n=((n.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))e=parseInt(k.trim(n[1]))}}return e/100+""},set:function(n,e){var l=n.style,
u=(n.currentStyle||0).filter||"";l.zoom=1;if(u)u=k.trim(u.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(u&&e!=1)u+=", ";l.filter=u+(e!=1?"alpha(opacity="+e*100+")":"")}}}catch(y){}v=v.ie==8;var d={},p={get:function(n,e){var l=n.currentStyle[e]+"";if(l.indexOf("px")<0)l=d[l]?d[l]:0;return l}};d.thin=v?"1px":"2px";d.medium=v?"3px":"4px";d.thick=v?"5px":"6px";k.each(["","Top","Left","Right","Bottom"],function(n){w["border"+n+"Width"]=p});if(!(q.defaultView||{}).getComputedStyle&&A.currentStyle)b._getComputedStyle=
function(n,e){var l=n.style,u=n.currentStyle[e];if(o.test(e))u=b[e](n)+"px";else if(!g.test(u)&&i.test(u)){var z=l.left,m=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;l.left=e==="fontSize"?"1em":u||0;u=l.pixelLeft+"px";l.left=z;n.runtimeStyle.left=m}return u};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(k,b,v,q){function B(m,h){var r=b.get(m);if(k.isWindow(r))return h==o?b.viewportWidth(r):b.viewportHeight(r);else if(r.nodeType==9)return h==o?b.docWidth(r):b.docHeight(r);var c=h===o?r.offsetWidth:r.offsetHeight;k.each(h===o?["Left","Right"]:["Top","Bottom"],function(a){c-=parseFloat(b._getComputedStyle(r,"padding"+a))||0;c-=parseFloat(b._getComputedStyle(r,"border"+a+"Width"))||0});return c}function A(m,h,r){var c=r;if(r===y&&p.test(h)){c=0;if(k.inArray(b.css(m,"position"),
["absolute","fixed"])){r=m[h==="left"?"offsetLeft":"offsetTop"];if(i&&document.documentMode!=9||v.opera)r-=m.offsetParent["client"+(h=="left"?"Left":"Top")]||0;c=r-(d(b.css(m,"margin-"+h))||0)}}return c}var w=document,g=w.documentElement,i=v.ie,o="width",y="auto",d=parseInt,p=/^(?:left|top)/,n=/^(?:width|height|top|left|right|bottom|margin|padding)/i,e=/-([a-z])/ig,l=function(m,h){return h.toUpperCase()},u={},z={};k.mix(b,{_CUSTOM_STYLES:u,_getComputedStyle:function(m,h){var r="",c=m.ownerDocument;
if(m.style)r=c.defaultView.getComputedStyle(m,null)[h];return r},css:function(m,h,r){if(k.isPlainObject(h))for(var c in h)b.css(m,c,h[c]);else{if(h.indexOf("-")>0)h=h.replace(e,l);c=h;h=u[h]||h;if(r===q){m=b.get(m);var a="";if(m&&m.style){a=h.get?h.get(m,c):m.style[h];if(a===""&&!h.get)a=A(m,h,b._getComputedStyle(m,h))}return a===q?"":a}else{if(r===null||r==="")r="";else if(!isNaN(new Number(r))&&n.test(h))r+="px";(h===o||h==="height")&&parseFloat(r)<0||k.each(b.query(m),function(j){if(j&&j.style){h.set?
h.set(j,r):j.style[h]=r;if(r==="")j.style.cssText||j.removeAttribute("style")}})}}},width:function(m,h){if(h===q)return B(m,o);else b.css(m,o,h)},height:function(m,h){if(h===q)return B(m,"height");else b.css(m,"height",h)},show:function(m){b.query(m).each(function(h){if(h){h.style.display=b.data(h,"display")||"";if(b.css(h,"display")==="none"){var r=h.tagName,c=z[r],a;if(!c){a=w.createElement(r);w.body.appendChild(a);c=b.css(a,"display");b.remove(a);z[r]=c}b.data(h,"display",c);h.style.display=c}}})},
hide:function(m){b.query(m).each(function(h){if(h){var r=h.style,c=r.display;if(c!=="none"){c&&b.data(h,"display",c);r.display="none"}}})},toggle:function(m){b.query(m).each(function(h){if(h)b.css(h,"display")==="none"?b.show(h):b.hide(h)})},addStyleSheet:function(m,h,r){if(k.isString(m)){r=h;h=m;m=window}m=b.get(m);m=b._getWin(m).document;var c;if(r&&(r=r.replace("#","")))c=b.get("#"+r,m);if(!c){c=b.create("<style>",{id:r},m);b.get("head",m).appendChild(c);if(c.styleSheet)c.styleSheet.cssText=h;
else c.appendChild(m.createTextNode(h))}},unselectable:function(m){b.query(m).each(function(h){if(h)if(v.gecko)h.style.MozUserSelect="none";else if(v.webkit)h.style.KhtmlUserSelect="none";else if(v.ie||v.opera){var r=0,c=h.getElementsByTagName("*");for(h.setAttribute("unselectable","on");h=c[r++];)switch(h.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:h.setAttribute("unselectable","on")}}})}});if(g.style.cssFloat!==q)u["float"]="cssFloat";else if(g.style.styleFloat!==
q)u["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(k,b,v){function q(g,i,o,y,d,p){if(!(g=b.get(g)))return null;if(i===0)return g;p||(g=g[o]);if(!g)return null;d=d&&b.get(d)||null;if(i===v)i=1;p=[];var n=k.isArray(i),e,l;if(k.isNumber(i)){e=0;l=i;i=function(){return++e===l}}do if(w(g)&&B(g,i)&&(!y||y(g))){p.push(g);if(!n)break}while(g!=d&&(g=g[o]));return n?p:p[0]||null}function B(g,i){if(!i)return true;if(k.isArray(i))for(var o=0;o<i.length;o++){if(b.test(g,i[o]))return true}else if(b.test(g,i))return true;return false}
function A(g,i,o){var y=[];var d=g=b.get(g);if(g&&o)d=g.parentNode;if(d){o=0;for(d=d.firstChild;d;d=d.nextSibling)if(w(d)&&d!==g&&(!i||b.test(d,i)))y[o++]=d}return y}var w=b._isElementNode;k.mix(b,{closest:function(g,i,o){return q(g,i,"parentNode",function(y){return y.nodeType!=11},o,true)},parent:function(g,i,o){return q(g,i,"parentNode",function(y){return y.nodeType!=11},o)},next:function(g,i){return q(g,i,"nextSibling",v)},prev:function(g,i){return q(g,i,"previousSibling",v)},siblings:function(g,
i){return A(g,i,true)},children:function(g,i){return A(g,i,v)},contains:document.documentElement.contains?function(g,i){g=b.get(g);i=b.get(i);if(g.nodeType==3)return false;var o;if(i.nodeType==3){i=i.parentNode;o=true}else if(i.nodeType==9)return false;else o=g!==i;return o&&(g.contains?g.contains(i):true)}:document.documentElement.compareDocumentPosition?function(g,i){g=b.get(g);i=b.get(i);return!!(g.compareDocumentPosition(i)&16)}:0,equals:function(g,i){g=b.query(g);i=b.query(i);if(g.length!=i.length)return false;
for(var o=g.length;o>=0;o--)if(g[o]!=i[o])return false;return true}});return b},{requires:["./base"]});KISSY.add("dom",function(k,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
