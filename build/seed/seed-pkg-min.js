/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(d,r){var p=this,z={mix:function(i,m,o,k){if(!m||!i)return i;if(o===r)o=true;var l,n,s;if(k&&(s=k.length))for(l=0;l<s;l++){n=k[l];if(n in m)if(o||!(n in i))i[n]=m[n]}else for(n in m)if(o||!(n in i))i[n]=m[n];return i}},u=p&&p[d]||{},B=0;p=u.__HOST||(u.__HOST=p||{});d=p[d]=z.mix(u,z,false);d.mix(d,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"@TIMESTAMP@",merge:function(){var i={},m,o=arguments.length;for(m=0;m<o;m++)d.mix(i,arguments[m]);return i},
augment:function(){var i=d.makeArray(arguments),m=i.length-2,o=i[0],k=i[m],l=i[m+1],n=1;if(!d.isArray(l)){k=l;l=r;m++}if(!d.isBoolean(k)){k=r;m++}for(;n<m;n++)d.mix(o.prototype,i[n].prototype||i[n],k,l);return o},extend:function(i,m,o,k){if(!m||!i)return i;var l=Object.create?function(w,A){return Object.create(w,{constructor:{value:A}})}:function(w,A){function x(){}x.prototype=w;var y=new x;y.constructor=A;return y},n=m.prototype,s;s=l(n,i);i.prototype=d.mix(s,i.prototype);i.superclass=l(n,m);o&&
d.mix(s,o);k&&d.mix(i,k);return i},__init:function(){this.Config=this.Config||{};this.Env=this.Env||{};this.Config.debug="@DEBUG@"},namespace:function(){var i=d.makeArray(arguments),m=i.length,o=null,k,l,n,s=i[m-1]===true&&m--;for(k=0;k<m;k++){n=(""+i[k]).split(".");o=s?p:this;for(l=p[n[0]]===o?1:0;l<n.length;++l)o=o[n[l]]=o[n[l]]||{}}return o},app:function(i,m){var o=d.isString(i),k=o?p[i]||{}:i,l=0,n=d.__APP_INIT_METHODS.length;for(d.mix(k,this,true,d.__APP_MEMBERS);l<n;l++)d[d.__APP_INIT_METHODS[l]].call(k);
d.mix(k,d.isFunction(m)?m():m);o&&(p[i]=k);return k},config:function(i){for(var m in i)this["_"+m]&&this["_"+m](i[m])},log:function(i,m,o){if(d.Config.debug){if(o)i=o+": "+i;if(p.console!==r&&console.log)console[m&&console[m]?m:"log"](i)}},error:function(i){if(d.Config.debug)throw i;},guid:function(i){return(i||"")+B++}});d.__init();return d})("KISSY");
(function(d,r){function p(){if(F)return F;var e="";d.each(y,function(h){e+=h+"|"});e=e.slice(0,-1);return F=RegExp(e,"g")}function z(){if(H)return H;var e="";d.each(D,function(h){e+=h+"|"});e+="&#(\\d{1,5});";return H=RegExp(e,"g")}function u(e){var h=typeof e;return e===null||h!=="object"&&h!=="function"}var B=d.__HOST,i=Object.prototype.toString,m=Array.prototype,o=m.indexOf,k=m.lastIndexOf,l=m.filter,n=String.prototype.trim,s=/^\s+|\s+$/g,w=encodeURIComponent("[]"),A=/^(\w+)\[\]$/,x={},y={"&amp;":"&",
"&gt;":">","&lt;":"<","&quot;":'"'},D={},F,H,G;for(G in y)D[y[G]]=G;d.mix(d,{type:function(e){return e==null?String(e):x[i.call(e)]||"object"},isNull:function(e){return e===null},isUndefined:function(e){return e===r},isEmptyObject:function(e){for(var h in e)if(h!==r)return false;return true},isPlainObject:function(e){return e&&i.call(e)==="[object Object]"&&"isPrototypeOf"in e},clone:function(e,h,a){var b=e,c,f,g=a||{};if(e&&((c=d.isArray(e))||d.isPlainObject(e))){if(e["__~ks_cloned"])return g[e["__~ks_cloned"]];
e["__~ks_cloned"]=b=d.guid();g[b]=e;if(c)b=h?d.filter(e,h):e.concat();else{b={};for(f in e)if(f!=="__~ks_cloned"&&e.hasOwnProperty(f)&&(!h||h.call(e,e[f],f,e)!==false))b[f]=d.clone(e[f],h,g)}}if(!a){d.each(g,function(j){if(j["__~ks_cloned"])try{delete j["__~ks_cloned"]}catch(q){j["__~ks_cloned"]=r}});g=r}return b},trim:n?function(e){return e==r?"":n.call(e)}:function(e){return e==r?"":e.toString().replace(s,"")},substitute:function(e,h,a){if(!d.isString(e)||!d.isPlainObject(h))return e;return e.replace(a||
/\\?\{([^{}]+)\}/g,function(b,c){if(b.charAt(0)==="\\")return b.slice(1);return h[c]!==r?h[c]:""})},each:function(e,h,a){var b,c=0,f=e&&e.length,g=f===r||d.type(e)==="function";a=a||B;if(g)for(b in e){if(h.call(a,e[b],b,e)===false)break}else for(b=e[0];c<f&&h.call(a,b,c,e)!==false;b=e[++c]);return e},indexOf:o?function(e,h){return o.call(h,e)}:function(e,h){for(var a=0,b=h.length;a<b;++a)if(h[a]===e)return a;return-1},lastIndexOf:k?function(e,h){return k.call(h,e)}:function(e,h){for(var a=h.length-
1;a>=0;a--)if(h[a]===e)break;return a},unique:function(e,h){h&&e.reverse();for(var a=e.slice(),b=0,c,f;b<a.length;){for(f=a[b];(c=d.lastIndexOf(f,a))!==b;)a.splice(c,1);b+=1}h&&a.reverse();return a},inArray:function(e,h){return d.indexOf(e,h)>-1},filter:l?function(e,h,a){return l.call(e,h,a||this)}:function(e,h,a){var b=[];d.each(e,function(c,f,g){if(h.call(a||this,c,f,g))b.push(c)});return b},now:function(){return(new Date).getTime()},fromUnicode:function(e){return e.replace(/\\u([a-f\d]{4})/ig,
function(h,a){return String.fromCharCode(parseInt(a,16))})},escapeHTML:function(e){return e.replace(p(),function(h){return D[h]})},unEscapeHTML:function(e){return e.replace(z(),function(h,a){return y[h]||String.fromCharCode(+a)})},makeArray:function(e){if(e===null||e===r)return[];if(d.isArray(e))return e;if(typeof e.length!=="number"||d.isString(e)||d.isFunction(e))return[e];for(var h=[],a=0,b=e.length;a<b;a++)h[a]=e[a];return h},param:function(e,h){if(!d.isPlainObject(e))return"";h=h||"&";var a=
[],b,c;for(b in e){c=e[b];b=encodeURIComponent(b);if(u(c))a.push(b,"=",encodeURIComponent(c+""),h);else if(d.isArray(c)&&c.length)for(var f=0,g=c.length;f<g;++f)u(c[f])&&a.push(b,w+"=",encodeURIComponent(c[f]+""),h)}a.pop();return a.join("")},unparam:function(e,h){if(typeof e!=="string"||(e=d.trim(e)).length===0)return{};for(var a={},b=e.split(h||"&"),c,f,g,j,q=0,v=b.length;q<v;++q){c=b[q].split("=");f=decodeURIComponent(c[0]);try{g=decodeURIComponent(c[1]||"")}catch(t){g=c[1]||""}if((j=f.match(A))&&
j[1]){a[j[1]]=a[j[1]]||[];a[j[1]].push(g)}else a[f]=g}return a},later:function(e,h,a,b,c){h=h||0;b=b||{};var f=e,g=d.makeArray(c),j;if(d.isString(e))f=b[e];f||d.error("method undefined");e=function(){f.apply(b,g)};j=a?setInterval(e,h):setTimeout(e,h);return{id:j,interval:a,cancel:function(){this.interval?clearInterval(j):clearTimeout(j)}}}});d.mix(d,{isBoolean:u,isNumber:u,isString:u,isFunction:u,isArray:u,isDate:u,isRegExp:u,isObject:u});d.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(e,h){x["[object "+e+"]"]=h=e.toLowerCase();d["is"+e]=function(a){return d.type(a)==h}})})(KISSY);
(function(d,r){function p(a){a=a.split("/");for(var b=[],c,f=0;f<a.length;f++){c=a[f];if(c!=".")c==".."?b.pop():b.push(c)}return b.join("/")}function z(a,b){if(!b)return b;if(d.isArray(b)){for(var c=0;c<b.length;c++)b[c]=z(a,b[c]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){c=s;var f;if((f=a.lastIndexOf("/"))!=-1)c=a.substring(0,f+1);return p(c+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?p(b):b}function u(a){return a.replace(/(-min)?\.js[^/]*$/i,s)}function B(a){if(a.charAt(a.length-
1)!="/")a+="/";a=d.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=G+a;return p(a)}function i(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}function m(a){var b=a.src,c=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var f,g=a[0];c=g.indexOf(c);if(c==-1)f=b.replace(e,"$1");else{f=g.substring(0,c);b=g.substring(c+2,g.length);if(b.match(h))f+=b.replace(e,"$1");else d.each(a,function(j){if(j.match(h)){f+=
j.replace(e,"$1");return false}})}if(!f.match(/^(http(s)?)|(file):/i)&&f.lastIndexOf("/",0)!=0)f=G+f;return f}if(!d.use){var o=d.__HOST,k=!o.getSelection&&o.ActiveXObject,l=o.document,n=l.getElementsByTagName("head")[0]||l.documentElement,s="",w=2,A=3,x=4,y=d.mix,D=l.addEventListener?function(a,b){a.addEventListener("load",b,false)}:function(a,b){var c=a.onreadystatechange;a.onreadystatechange=function(){var f=a.readyState;if(f==="loaded"||f==="complete"){a.onreadystatechange=null;c&&c();b.call(this)}}},
F=/\.css(?:\?|$)/i,H=encodeURIComponent(d.buildTime),G=location.href.replace(/[^/]*$/i,s);o={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,c){var f=this.Env.mods,g;if(d.isString(a)&&!c&&d.isPlainObject(b)){g={};g[a]=b;a=g}if(d.isPlainObject(a)){d.each(a,function(q,v){q.name=v;f[v]&&y(q,f[v],false)});y(f,a);return this}if(d.isString(a)){var j;if(c&&(j=c.host)){a=f[j];if(!a){d.error("module "+j+" can not be found !");return this}if(this.__isAttached(j))b.call(this,
this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,b,c);if(c&&c.attach===false)return this;b=f[a];a=z(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else if(this.Config.debug&&!b)for(a=d.makeArray(a).length-1;a>=0;a--);return this}if(d.isFunction(a)){c=b;b=a;if(k){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,c):d.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,c)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:b,config:c};return this}d.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,c,f=0;f<a.length;f++){c=a[f];if(c.readyState=="interactive"){b=c;break}}b||d.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return u(a.substring(this.Config.base.length));b=this.__packages;for(var g in b){c=b[g].path;if(b.hasOwnProperty(g)&&
a.lastIndexOf(c,0)==0)return u(a.substring(c.length))}d.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,c){c=c||{};var f=this.Env.mods,g=f[a]||{};y(g,{name:a,status:w});g.fns=g.fns||[];g.fns.push(b);y(f[a]=g,c)},_packages:function(a){var b;b=this.__packages=this.__packages||{};d.each(a,function(c){b[c.name]=c;if(c.path)c.path=B(c.path);if(c.tag)c.tag=encodeURIComponent(c.tag)})},_combine:function(a,b){var c=this,f;if(d.isObject(a))d.each(a,function(g,j){d.each(g,function(q){c._combine(q,
j)})});else{f=c.__combines=c.__combines||{};if(b)f[a]=b;else return f[a]||a}},__mixMods:function(a){var b=this.Env.mods,c=a.Env.mods,f;for(f in c)this.__mixMod(b,c,f,a)},__mixMod:function(a,b,c,f){var g=a[c]||{},j=g.status;d.mix(g,d.clone(b[c]));if(j)g.status=j;f&&this.__buildPath(g,f.Config.base);a[c]=g},use:function(a,b,c){a=a.replace(/\s+/g,s).split(",");i(a);c=c||{};var f=this,g;c.global&&f.__mixMods(c.global);if(f.__isAttached(a)){var j=f.__getModules(a);b&&b.apply(f,j)}else{d.each(a,function(q){f.__attachModByName(q,
function(){if(!g&&f.__isAttached(a)){g=true;var v=f.__getModules(a);b&&b.apply(f,v)}},c)});return f}},__getModules:function(a){var b=this,c=[b];d.each(a,function(f){c.push(b.require(f))});return c},require:function(a){a=this.Env.mods[a];var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var b=this._combine(a.name),c=this.__packages||{},f="",g;for(g in c)if(c.hasOwnProperty(g)&&b.lastIndexOf(g,0)==
0&&g.length>f)f=g;c=(b=c[f])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;a.tag=b?b.tag:H;return a.packagepath=c},__attachModByName:function(a,b,c){var f=this.Env.mods,g=f[a];if(!g){g=this.Config.componentJsName||function(j){return j+"-min.js"};g={path:d.isFunction(g)?g(this._combine(a)):g,charset:"utf-8"};f[a]=g}g.name=a;g&&g.status===x||this.__attach(g,b,c)},__attach:function(a,b,c){function f(){if(!v&&g.__isAttached(a.requires)){a.status===w&&g.__attachMod(a);if(a.status===x){v=
true;b()}}}var g=this,j=g.Env.mods,q=(a.requires||[]).concat();a.requires=q;d.each(q,function(t,C,E){t=E[C]=z(a.name,t);(C=j[t])&&C.status===x||g.__attachModByName(t,f,c)});g.__buildPath(a,g.__getPackagePath(a));g.__load(a,function(){if(g.__currentModule){g.__registerModule(a.name,g.__currentModule.def,g.__currentModule.config);g.__currentModule=null}a.requires=a.requires||[];var t=[];d.each(a.requires,function(C,E,I){C=I[E]=z(a.name,C);E=j[C];I=d.inArray(C,q);E&&E.status===x||I||g.__attachModByName(C,
f,c);if(!I&&(!E||E.status<w))t.push(C)});t.length!=0&&t.unshift(a.name);if(d.isString(a.csspath)||d.isString(a.cssfullpath)){g.__buildPath(a,g.__getPackagePath(a));d.getScript(a.cssfullpath)}f()},c);var v=false},__attachMod:function(a){var b=this,c=a.fns;c&&d.each(c,function(f){f=d.isFunction(f)?f.apply(b,b.__getModules(a.requires)):f;a.value=a.value||f});a.status=x},__isAttached:function(a){var b=this.Env.mods,c=true;d.each(a,function(f){f=b[f];if(!f||f.status!==x)return c=false});return c},__load:function(a,
b,c){function f(){c.global&&j.__mixMod(j.Env.mods,c.global.Env.mods,a.name,c.global)}function g(){v[q]=w;if(a.status!==A){f();if(a.status!==x)a.status=w;b()}}var j=this,q=a.fullpath,v=d.Env._loadQueue,t=v[q];a.status=a.status||0;if(a.status<1&&t)a.status=t.nodeName?1:w;if(d.isString(a.cssfullpath)){d.getScript(a.cssfullpath);a.cssfullpath=a.csspath=w}if(a.status<1&&q){a.status=1;if(k){j.__startLoadModuleName=a.name;j.__startLoadTime=Number(+new Date)}t=d.getScript(q,{success:function(){f();if(!(a.fns&&
a.fns.length>0))a.status=A;g()},error:function(){a.status=A;g()},charset:a.charset});F.test(q)||(v[q]=t)}else a.status===1?D(t,g):b()},__buildPath:function(a,b){function c(g,j){if(!a[g]&&a[j]){a[j]=z(a.name,a[j]);a[g]=(b||f.base)+a[j]}if(a[g]&&f.debug)a[g]=a[g].replace(/-min/ig,s);if(a[g]&&!a[g].match(/\?t=/)&&a.tag)a[g]+="?t="+a.tag}var f=this.Config;c("fullpath","path");c("cssfullpath","csspath")},getScript:function(a,b,c){var f=/\.css(?:\?|$)/i.test(a),g=l.createElement(f?"link":"script"),j=b,
q,v,t;if(d.isPlainObject(j)){b=j.success;q=j.error;v=j.timeout;c=j.charset}if(f){g.href=a;g.rel="stylesheet"}else{g.src=a;g.async=true}if(c)g.charset=c;if(f)d.isFunction(b)&&b.call(g);else D(g,function(){if(t){t.cancel();t=r}d.isFunction(b)&&b.call(g)});if(d.isFunction(q)){l.addEventListener&&g.addEventListener("error",function(){if(t){t.cancel();t=r}q.call(g)},false);t=d.later(function(){t=r;q()},(v||this.Config.timeout)*1E3)}n.insertBefore(g,n.firstChild);return g}};y(d,o);var e=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,
h=/(seed|kissy)(-min)?\.js/i;d.__initLoader=function(){var a=l.getElementsByTagName("script");a=m(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=B(a);if(!this.Config.timeout)this.Config.timeout=10};d.__initLoader();d.each(o,function(a,b){d.__APP_MEMBERS.push(b)});d.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(d){var r=d.__HOST,p=r.document,z=p.documentElement,u=false,B=[],i=false,m=/^#?([\w-]+)$/,o=/\S/;d.mix(d,{isWindow:function(k){return d.type(k)==="object"&&"setInterval"in k&&"document"in k&&k.document.nodeType==9},globalEval:function(k){if(k&&o.test(k)){var l=p.getElementsByTagName("head")[0]||z,n=p.createElement("script");n.text=k;l.insertBefore(n,l.firstChild);l.removeChild(n)}},ready:function(k){i||this._bindReady();u?k.call(r,this):B.push(k);return this},_bindReady:function(){var k=
this,l=p.documentElement.doScroll,n=l?"onreadystatechange":"DOMContentLoaded",s=function(){k._fireReady()};i=true;if(p.readyState==="complete")return s();if(p.addEventListener){var w=function(){p.removeEventListener(n,w,false);s()};p.addEventListener(n,w,false);r.addEventListener("load",s,false)}else{var A=function(){if(p.readyState==="complete"){p.detachEvent(n,A);s()}};p.attachEvent(n,A);r.attachEvent("onload",s);var x=false;try{x=r.frameElement==null}catch(y){}if(l&&x){var D=function(){try{l("left");
s()}catch(F){setTimeout(D,1)}};D()}}},_fireReady:function(){if(!u){u=true;if(B){for(var k,l=0;k=B[l++];)k.call(r,this);B=null}}},available:function(k,l){if((k=(k+"").match(m)[1])&&d.isFunction(l))var n=1,s=d.later(function(){if(p.getElementById(k)&&(l()||1)||++n>500)s.cancel()},40,true)}});if(location&&(location.search||"").indexOf("ks-debug")!==-1)d.Config.debug=true})(KISSY);(function(d){d.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
