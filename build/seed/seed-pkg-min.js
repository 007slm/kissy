/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(g,l,t){var v={mix:function(i,k,o,p){if(!k||!i)return i;if(o===t)o=true;var c,a,d;if(p&&(d=p.length))for(c=0;c<d;c++){a=p[c];if(a in k)if(o||!(a in i))i[a]=k[a]}else for(a in k)if(o||!(a in i))i[a]=k[a];return i}},q=g[l]||{},r=0;if(!q.mix)q.mix=v.mix;l=g[l]=q;l.mix(l,{__HOST:g,__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var i={},k,o=arguments.length;for(k=0;k<o;++k)l.mix(i,arguments[k]);return i},augment:function(){var i=arguments,k=i.length-
2,o=i[0],p=i[k],c=i[k+1],a=1;if(!l.isArray(c)){p=c;c=t;k++}if(!l.isBoolean(p)){p=t;k++}for(;a<k;a++)l.mix(o.prototype,i[a].prototype||i[a],p,c);return o},extend:function(i,k,o,p){if(!k||!i)return i;var c=Object.create?function(f,h){return Object.create(f,{constructor:{value:h}})}:function(f,h){function b(){}b.prototype=f;var e=new b;e.constructor=h;return e},a=k.prototype,d;i.prototype=d=c(a,i);i.superclass=c(a,k);o&&l.mix(d,o);p&&l.mix(i,p);return i},__init:function(){this.Config=this.Config||{};
this.Env=this.Env||{};this.Config.debug="@DEBUG@"},namespace:function(){var i=arguments,k=i.length,o=null,p,c,a,d=i[k-1]===true&&k--;for(p=0;p<k;++p){a=(""+i[p]).split(".");o=d?g:this;for(c=g[a[0]]===o?1:0;c<a.length;++c)o=o[a[c]]=o[a[c]]||{}}return o},app:function(i,k){var o=l.isString(i),p=o?g[i]||{}:i,c=0,a=l.__APP_INIT_METHODS.length;for(l.mix(p,this,true,l.__APP_MEMBERS);c<a;++c)l[l.__APP_INIT_METHODS[c]].call(p);l.mix(p,l.isFunction(k)?k():k);o&&(g[i]=p);return p},log:function(i,k,o){if(l.Config.debug){if(o)i=
o+": "+i;if(g.console!==t&&console.log)console[k&&console[k]?k:"log"](i)}},error:function(i){if(l.Config.debug)throw i;},guid:function(i){return(i||"")+r++}});l.__init()})(this,"KISSY");
(function(g,l){var t=g.__HOST,v=Object.prototype.toString,q=Array.prototype.indexOf,r=Array.prototype.lastIndexOf,i=Array.prototype.filter,k=String.prototype.trim,o=/^\s+|\s+$/g,p={};g.mix(g,{type:function(c){return c==null?String(c):p[v.call(c)]||"object"},isNull:function(c){return c===null},isUndefined:function(c){return c===l},isEmptyObject:function(c){for(var a in c)return false;return true},isPlainObject:function(c){return c&&v.call(c)==="[object Object]"&&"isPrototypeOf"in c},clone:function(c){var a=
c,d,f;if(c&&((d=g.isArray(c))||g.isPlainObject(c))){a=d?[]:{};for(f in c)if(c.hasOwnProperty(f))a[f]=g.clone(c[f])}return a},trim:k?function(c){return c==l?"":k.call(c)}:function(c){return c==l?"":c.toString().replace(o,"")},substitute:function(c,a,d){if(!g.isString(c)||!g.isPlainObject(a))return c;return c.replace(d||/\\?\{([^{}]+)\}/g,function(f,h){if(f.charAt(0)==="\\")return f.slice(1);return a[h]!==l?a[h]:""})},each:function(c,a,d){var f,h=0,b=c.length,e=b===l||g.type(c)==="function";d=d||t;
if(e)for(f in c){if(a.call(d,c[f],f,c)===false)break}else for(f=c[0];h<b&&a.call(d,f,h,c)!==false;f=c[++h]);return c},indexOf:q?function(c,a){return q.call(a,c)}:function(c,a){for(var d=0,f=a.length;d<f;++d)if(a[d]===c)return d;return-1},lastIndexOf:r?function(c,a){return r.call(a,c)}:function(c,a){for(var d=a.length-1;d>=0;d--)if(a[d]===c)break;return d},unique:function(c,a){a&&c.reverse();for(var d=c.slice(),f=0,h,b;f<d.length;){for(b=d[f];(h=g.lastIndexOf(b,d))!==f;)d.splice(h,1);f+=1}a&&d.reverse();
return d},inArray:function(c,a){return g.indexOf(c,a)>-1},filter:i?function(c,a,d){return i.call(c,a,d)}:function(c,a,d){var f=[];g.each(c,function(h,b,e){a.call(d,h,b,e)&&f.push(h)});return f},now:function(){return(new Date).getTime()}});g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,a){p["[object "+c+"]"]=a=c.toLowerCase();g["is"+c]=function(d){return g.type(d)==a}})})(KISSY);
(function(g,l){function t(b){var e=typeof b;return b===null||e!=="object"&&e!=="function"}function v(b){return Array.prototype.slice.call(b)}var q=g.__HOST,r=q.document,i=r.documentElement,k=encodeURIComponent("[]"),o=false,p=[],c=false,a=/^#?([\w-]+)$/,d=/^(\w+)\[\]$/,f=/\S/;g.mix(g,{isWindow:function(b){return g.type(b)==="object"&&"setInterval"in b},makeArray:function(b){if(b===null||b===l)return[];if(g.isArray(b))return b;if(typeof b.length!=="number"||g.isString(b)||g.isFunction(b))return[b];
return v(b)},unparam:function(b,e){if(typeof b!=="string"||(b=g.trim(b)).length===0)return{};for(var j={},n=b.split(e||"&"),m,s,u,w,x=0,y=n.length;x<y;++x){m=n[x].split("=");s=decodeURIComponent(m[0]);try{u=decodeURIComponent(m[1]||"")}catch(z){u=m[1]||""}if((w=s.match(d))&&w[1]){j[w[1]]=j[w[1]]||[];j[w[1]].push(u)}else j[s]=u}return j},param:function(b,e){if(!g.isPlainObject(b))return"";e=e||"&";var j=[],n,m;for(n in b){m=b[n];n=encodeURIComponent(n);if(t(m))j.push(n,"=",encodeURIComponent(m+""),
e);else if(g.isArray(m)&&m.length)for(var s=0,u=m.length;s<u;++s)t(m[s])&&j.push(n,k+"=",encodeURIComponent(m[s]+""),e)}j.pop();return j.join("")},later:function(b,e,j,n,m){e=e||0;n=n||{};var s=b,u=g.makeArray(m),w;if(g.isString(b))s=n[b];s||g.error("method undefined");b=function(){s.apply(n,u)};w=j?setInterval(b,e):setTimeout(b,e);return{id:w,interval:j,cancel:function(){this.interval?clearInterval(w):clearTimeout(w)}}},globalEval:function(b){if(b&&f.test(b)){var e=r.getElementsByTagName("head")[0]||
i,j=r.createElement("script");j.text=b;e.insertBefore(j,e.firstChild);e.removeChild(j)}},ready:function(b){c||this._bindReady();o?b.call(q,this):p.push(b);return this},_bindReady:function(){var b=this,e=r.documentElement.doScroll,j=e?"onreadystatechange":"DOMContentLoaded",n=function(){b._fireReady()};c=true;if(r.readyState==="complete")return n();if(r.addEventListener){var m=function(){r.removeEventListener(j,m,false);n()};r.addEventListener(j,m,false);q.addEventListener("load",n,false)}else{var s=
function(){if(r.readyState==="complete"){r.detachEvent(j,s);n()}};r.attachEvent(j,s);q.attachEvent("onload",n);var u=false;try{u=q.frameElement==null}catch(w){}if(e&&u){var x=function(){try{e("left");n()}catch(y){setTimeout(x,1)}};x()}}},_fireReady:function(){if(!o){o=true;if(p){for(var b,e=0;b=p[e++];)b.call(q,this);p=null}}},available:function(b,e){if((b=(b+"").match(a)[1])&&g.isFunction(e))var j=1,n=g.later(function(){if(r.getElementById(b)&&(e()||1)||++j>500)n.cancel()},40,true)}});try{v(i.childNodes)}catch(h){v=
function(b){for(var e=[],j=b.length-1;j>=0;j--)e[j]=b[j];return e}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)g.Config.debug=true})(KISSY);
(function(g,l){var t=g.__HOST.document,v=t.getElementsByTagName("head")[0]||t.documentElement,q=2,r=3,i=4,k=g.mix,o=t.createElement("script").readyState?function(a,d){var f=a.onreadystatechange;a.onreadystatechange=function(){var h=a.readyState;if(h==="loaded"||h==="complete"){a.onreadystatechange=null;f&&f();d.call(this)}}}:function(a,d){a.addEventListener("load",d,false)},p=/\.css(?:\?|$)/i,c;c={add:function(a,d,f){var h=this.Env.mods,b;if(g.isString(a)&&!f&&g.isPlainObject(d)){b={};b[a]=d;a=b}if(g.isPlainObject(a)){g.each(a,
function(e,j){e.name=j;h[j]&&k(e,h[j],false)});k(h,a)}else{f=f||{};b=h[a]||{};a=f.host||b.host||a;b=h[a]||{};k(b,{name:a,status:q});if(!b.fns)b.fns=[];d&&b.fns.push(d);k(h[a]=b,f);b.attach!==false&&this.__isAttached(b.requires)&&this.__attachMod(b)}return this},use:function(a,d,f){a=a.replace(/\s+/g,"").split(",");f=f||{};var h=this,b=h.Env.mods,e=(f||0).global,j,n=a.length,m,s,u;e&&h.__mixMods(e);if(h.__isAttached(a))d&&d(h);else{for(j=0;j<n&&(m=b[a[j]]);j++)if(m.status!==i){if(f.order&&j>0){if(!m.requires)m.requires=
[];m._requires=m.requires.concat();s=a[j-1];if(!g.inArray(s,m.requires)&&!g.inArray(m.name,b[s].requires||[]))m.requires.push(s)}h.__attach(m,function(){if(m._requires){m.requires=m._requires;delete m._requires}if(!u&&h.__isAttached(a)){u=true;d&&d(h)}},e)}return h}},__attach:function(a,d,f){function h(){e=a.requires||[];if(b.__isAttached(e)){a.status===q&&b.__attachMod(a);a.status===i&&d()}}for(var b=this,e=a.requires||[],j=0,n=e.length;j<n;j++)b.__attach(b.Env.mods[e[j]],h,f);b.__buildPath(a);b.__load(a,
h,f)},__mixMods:function(a){var d=this.Env.mods,f=a.Env.mods,h;for(h in f)this.__mixMod(d,f,h,a)},__mixMod:function(a,d,f,h){var b=a[f]||{},e=b.status;g.mix(b,g.clone(d[f]));if(e)b.status=e;h&&this.__buildPath(b,h.Config.base);a[f]=b},__attachMod:function(a){var d=this;if(a.fns){g.each(a.fns,function(f){f&&f(d)});a.fns=l}a.status=i},__isAttached:function(a){for(var d=this.Env.mods,f,h=(a=g.makeArray(a)).length-1;h>=0&&(f=d[a[h]]);h--)if(f.status!==i)return false;return true},__load:function(a,d,f){function h(){j[e]=
q;if(a.status!==r){f&&b.__mixMod(b.Env.mods,f.Env.mods,a.name,f);if(a.status!==i)a.status=q;d()}}var b=this,e=a.fullpath,j=g.Env._loadQueue,n=j[e];a.status=a.status||0;if(a.status<1&&n)a.status=n.nodeName?1:q;if(g.isString(a.cssfullpath)){b.getScript(a.cssfullpath);a.cssfullpath=q}if(a.status<1&&e){a.status=1;n=b.getScript(e,{success:function(){KISSY.log(a.name+" is loaded.","info");h()},error:function(){a.status=r;j[e]=q},charset:a.charset});p.test(e)||(j[e]=n)}else a.status===1?o(n,h):d()},__buildPath:function(a,
d){function f(b,e){if(!a[e]&&a[b])a[e]=(d||h.base)+a[b];if(a[e]&&h.debug)a[e]=a[e].replace(/-min/g,"")}var h=this.Config;f("path","fullpath");a.cssfullpath!==q&&f("csspath","cssfullpath")},getScript:function(a,d,f){var h=p.test(a),b=t.createElement(h?"link":"script"),e=d,j,n,m;if(g.isPlainObject(e)){d=e.success;j=e.error;n=e.timeout;f=e.charset}if(h){b.href=a;b.rel="stylesheet"}else{b.src=a;b.async=true}if(f)b.charset=f;if(h)g.isFunction(d)&&d.call(b);else o(b,function(){if(m){m.cancel();m=l}g.isFunction(d)&&
d.call(b);v&&b.parentNode&&v.removeChild(b)});if(g.isFunction(j))m=g.later(function(){m=l;j()},(n||this.Config.timeout)*1E3);v.insertBefore(b,v.firstChild);return b}};k(g,c);g.__initLoader=function(){var a=t.getElementsByTagName("script");a=a[a.length-1].src.replace(/^(.*)(seed|kissy).*$/i,"$1");this.Env.mods={};this.Env._loadQueue={};this.Config.base=a;this.Config.timeout=10};g.__initLoader();g.each(c,function(a,d){g.__APP_MEMBERS.push(d)});g.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
(function(g){var l={core:{path:"packages/core-min.js",charset:"utf-8"}};g.each(["sizzle","dd","datalazyload","flash","switchable","suggest","calendar","uibase","overlay","imagezoom"],function(t){l[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});l.calendar.csspath="calendar/default-min.css";l.overlay.requires=["uibase"];g.add(l)})(KISSY);
