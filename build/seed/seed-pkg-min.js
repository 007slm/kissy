/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(e,o,F){var B={mix:function(j,m,p,s){if(!m||!j)return j;if(p===F)p=true;var c,i,k;if(s&&(k=s.length))for(c=0;c<k;c++){i=s[c];if(i in m)if(p||!(i in j))j[i]=m[i]}else for(i in m)if(p||!(i in j))j[i]=m[i];return j}},A=e&&e[o]||{},x=0;e=A.__HOST||(A.__HOST=e||{});o=e[o]=B.mix(A,B,false);o.mix(o,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"@TIMESTAMP@",merge:function(){var j={},m,p=arguments.length;for(m=0;m<p;m++)o.mix(j,arguments[m]);return j},augment:function(){var j=
arguments,m=j.length-2,p=j[0],s=j[m],c=j[m+1],i=1;if(!o.isArray(c)){s=c;c=F;m++}if(!o.isBoolean(s)){s=F;m++}for(;i<m;i++)o.mix(p.prototype,j[i].prototype||j[i],s,c);return p},extend:function(j,m,p,s){if(!m||!j)return j;var c=Object.create?function(n,u){return Object.create(n,{constructor:{value:u}})}:function(n,u){function h(){}h.prototype=n;var l=new h;l.constructor=u;return l},i=m.prototype,k;k=c(i,j);j.prototype=o.mix(k,j.prototype);j.superclass=c(i,m);p&&o.mix(k,p);s&&o.mix(j,s);return j},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug="@DEBUG@"},namespace:function(){var j=arguments,m=j.length,p=null,s,c,i,k=j[m-1]===true&&m--;for(s=0;s<m;s++){i=(""+j[s]).split(".");p=k?e:this;for(c=e[i[0]]===p?1:0;c<i.length;++c)p=p[i[c]]=p[i[c]]||{}}return p},app:function(j,m){var p=o.isString(j),s=p?e[j]||{}:j,c=0,i=o.__APP_INIT_METHODS.length;for(o.mix(s,this,true,o.__APP_MEMBERS);c<i;c++)o[o.__APP_INIT_METHODS[c]].call(s);o.mix(s,o.isFunction(m)?m():m);p&&(e[j]=s);return s},config:function(j){for(var m in j)this["_"+
m]&&this["_"+m](j[m])},log:function(j,m,p){if(o.Config.debug){if(p)j=p+": "+j;if(e.console!==F&&console.log)console[m&&console[m]?m:"log"](j)}},error:function(j){if(o.Config.debug)throw j;},guid:function(j){return(j||"")+x++}});o.__init();return o})(this,"KISSY");
(function(e,o){var F=e.__HOST,B=Object.prototype.toString,A=Array.prototype.indexOf,x=Array.prototype.lastIndexOf,j=Array.prototype.filter,m=String.prototype.trim,p=/^\s+|\s+$/g,s={};e.mix(e,{type:function(c){return c==null?String(c):s[B.call(c)]||"object"},isNull:function(c){return c===null},isUndefined:function(c){return c===o},isEmptyObject:function(c){for(var i in c)return false;return true},isPlainObject:function(c){return c&&B.call(c)==="[object Object]"&&"isPrototypeOf"in c},clone:function(c,
i,k){var n=c,u,h,l=k||{};if(c&&((u=e.isArray(c))||e.isPlainObject(c))){if(c["__~ks_cloned"])return l[c["__~ks_cloned"]];c["__~ks_cloned"]=n=e.guid();l[n]=c;if(u)n=i?e.filter(c,i):c.concat();else{n={};for(h in c)if(h!=="__~ks_cloned"&&c.hasOwnProperty(h)&&(!i||i.call(c,c[h],h,c)!==false))n[h]=e.clone(c[h],i,l)}}if(!k){e.each(l,function(q){if(q["__~ks_cloned"])try{delete q["__~ks_cloned"]}catch(t){q["__~ks_cloned"]=o}});l=o}return n},trim:m?function(c){return c==o?"":m.call(c)}:function(c){return c==
o?"":c.toString().replace(p,"")},substitute:function(c,i,k){if(!e.isString(c)||!e.isPlainObject(i))return c;return c.replace(k||/\\?\{([^{}]+)\}/g,function(n,u){if(n.charAt(0)==="\\")return n.slice(1);return i[u]!==o?i[u]:""})},each:function(c,i,k){var n,u=0,h=c&&c.length,l=h===o||e.type(c)==="function";k=k||F;if(l)for(n in c){if(i.call(k,c[n],n,c)===false)break}else for(n=c[0];u<h&&i.call(k,n,u,c)!==false;n=c[++u]);return c},indexOf:A?function(c,i){return A.call(i,c)}:function(c,i){for(var k=0,n=
i.length;k<n;++k)if(i[k]===c)return k;return-1},lastIndexOf:x?function(c,i){return x.call(i,c)}:function(c,i){for(var k=i.length-1;k>=0;k--)if(i[k]===c)break;return k},unique:function(c,i){i&&c.reverse();for(var k=c.slice(),n=0,u,h;n<k.length;){for(h=k[n];(u=e.lastIndexOf(h,k))!==n;)k.splice(u,1);n+=1}i&&k.reverse();return k},inArray:function(c,i){return e.indexOf(c,i)>-1},filter:j?function(c,i,k){return j.call(c,i,k||this)}:function(c,i,k){var n=[];e.each(c,function(u,h,l){if(i.call(k||this,u,h,
l))n.push(u)});return n},now:function(){return(new Date).getTime()}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,i){s["[object "+c+"]"]=i=c.toLowerCase();e["is"+c]=function(k){return e.type(k)==i}})})(KISSY);
(function(e,o){function F(a){a=a.split("/");for(var b=[],d,g=0;g<a.length;g++){d=a[g];if(d!=".")d==".."?b.pop():b.push(d)}return b.join("/")}function B(a,b){if(!b)return b;if(e.isArray(b)){for(var d=0;d<b.length;d++)b[d]=B(a,b[d]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){d=k;var g;if((g=a.lastIndexOf("/"))!=-1)d=a.substring(0,g+1);return F(d+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?F(b):b}function A(a){return a.replace(/(-min)?\.js[^/]*$/i,k)}function x(a){if(a.charAt(a.length-
1)!="/")a+="/";a=e.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=z+a;return F(a)}function j(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}function m(a){var b=a.src,d=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var g,f=a[0];d=f.indexOf(d);if(d==-1)g=b.replace(C,"$1");else{g=f.substring(0,d);b=f.substring(d+2,f.length);if(b.match(E))g+=b.replace(C,"$1");else e.each(a,function(r){if(r.match(E)){g+=
r.replace(C,"$1");return false}})}if(!g.match(/^(http(s)?)|(file):/i)&&g.lastIndexOf("/",0)!=0)g=z+g;return g}if(!e.use){var p=e.__HOST,s=!p.getSelection&&p.ActiveXObject,c=p.document,i=c.getElementsByTagName("head")[0]||c.documentElement,k="",n=2,u=3,h=4,l=e.mix,q=c.addEventListener?function(a,b){a.addEventListener("load",b,false)}:function(a,b){var d=a.onreadystatechange;a.onreadystatechange=function(){var g=a.readyState;if(g==="loaded"||g==="complete"){a.onreadystatechange=null;d&&d();b.call(this)}}},
t=/\.css(?:\?|$)/i,y=encodeURIComponent(e.buildTime),z=location.href.replace(/[^/]*$/i,k);p={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,d){var g=this.Env.mods,f;if(e.isString(a)&&!d&&e.isPlainObject(b)){f={};f[a]=b;a=f}if(e.isPlainObject(a)){e.each(a,function(w,D){w.name=D;g[D]&&l(w,g[D],false)});l(g,a);return this}if(e.isString(a)){var r;if(d&&(r=d.host)){a=g[r];if(!a){e.error("module "+r+" can not be found !");return this}if(this.__isAttached(r))b.call(this,
this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,b,d);if(d&&d.attach===false)return this;b=g[a];a=B(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else if(this.Config.debug&&!b)for(a=e.makeArray(a).length-1;a>=0;a--);return this}if(e.isFunction(a)){d=b;b=a;if(s){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,d):e.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,d)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:b,config:d};return this}e.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,d,g=0;g<a.length;g++){d=a[g];if(d.readyState=="interactive"){b=d;break}}b||e.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return A(a.substring(this.Config.base.length));b=this.__packages;for(var f in b){d=b[f].path;if(b.hasOwnProperty(f)&&
a.lastIndexOf(d,0)==0)return A(a.substring(d.length))}e.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,d){d=d||{};var g=this.Env.mods,f=g[a]||{};l(f,{name:a,status:n});f.fns=f.fns||[];f.fns.push(b);l(g[a]=f,d)},_packages:function(a){var b;b=this.__packages=this.__packages||{};e.each(a,function(d){b[d.name]=d;if(d.path)d.path=x(d.path);if(d.tag)d.tag=encodeURIComponent(d.tag)})},_combine:function(a,b){var d=this,g;if(e.isObject(a))e.each(a,function(f,r){e.each(f,function(w){d._combine(w,
r)})});else{g=d.__combines=d.__combines||{};if(b)g[a]=b;else return g[a]||a}},__mixMods:function(a){var b=this.Env.mods,d=a.Env.mods,g;for(g in d)this.__mixMod(b,d,g,a)},__mixMod:function(a,b,d,g){var f=a[d]||{},r=f.status;e.mix(f,e.clone(b[d]));if(r)f.status=r;g&&this.__buildPath(f,g.Config.base);a[d]=f},use:function(a,b,d){a=a.replace(/\s+/g,k).split(",");j(a);d=d||{};var g=this,f;d.global&&g.__mixMods(d.global);if(g.__isAttached(a)){var r=g.__getModules(a);b&&b.apply(g,r)}else{e.each(a,function(w){g.__attachModByName(w,
function(){if(!f&&g.__isAttached(a)){f=true;var D=g.__getModules(a);b&&b.apply(g,D)}},d)});return g}},__getModules:function(a){var b=this,d=[b];e.each(a,function(g){d.push(b.require(g))});return d},require:function(a){a=this.Env.mods[a];var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var b=this._combine(a.name),d=this.__packages||{},g="",f;for(f in d)if(d.hasOwnProperty(f)&&b.lastIndexOf(f,0)==
0&&f.length>g)g=f;d=(b=d[g])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;a.tag=b?b.tag:y;return a.packagepath=d},__attachModByName:function(a,b,d){var g=this.Env.mods,f=g[a];if(!f){f=this.Config.componentJsName||function(r){return r+"-min.js"};f={path:e.isFunction(f)?f(this._combine(a)):f,charset:"utf-8"};g[a]=f}f.name=a;f&&f.status===h||this.__attach(f,b,d)},__attach:function(a,b,d){function g(){if(!D&&f.__isAttached(a.requires)){a.status===n&&f.__attachMod(a);if(a.status===h){D=
true;b()}}}var f=this,r=f.Env.mods,w=(a.requires||[]).concat();a.requires=w;e.each(w,function(v,G,H){v=H[G]=B(a.name,v);(G=r[v])&&G.status===h||f.__attachModByName(v,g,d)});f.__buildPath(a,f.__getPackagePath(a));f.__load(a,function(){if(f.__currentModule){f.__registerModule(a.name,f.__currentModule.def,f.__currentModule.config);f.__currentModule=null}a.requires=a.requires||[];var v=[];e.each(a.requires,function(G,H,I){G=I[H]=B(a.name,G);H=r[G];I=e.inArray(G,w);H&&H.status===h||I||f.__attachModByName(G,
g,d);if(!I&&(!H||H.status<n))v.push(G)});v.length!=0&&v.unshift(a.name);if(e.isString(a.csspath)||e.isString(a.cssfullpath)){f.__buildPath(a,f.__getPackagePath(a));e.getScript(a.cssfullpath)}g()},d);var D=false},__attachMod:function(a){var b=this,d=a.fns;d&&e.each(d,function(g){g=e.isFunction(g)?g.apply(b,b.__getModules(a.requires)):g;a.value=a.value||g});a.status=h},__isAttached:function(a){var b=this.Env.mods,d=true;e.each(a,function(g){g=b[g];if(!g||g.status!==h)return d=false});return d},__load:function(a,
b,d){function g(){d.global&&r.__mixMod(r.Env.mods,d.global.Env.mods,a.name,d.global)}function f(){D[w]=n;if(a.status!==u){g();if(a.status!==h)a.status=n;b()}}var r=this,w=a.fullpath,D=e.Env._loadQueue,v=D[w];a.status=a.status||0;if(a.status<1&&v)a.status=v.nodeName?1:n;if(e.isString(a.cssfullpath)){e.getScript(a.cssfullpath);a.cssfullpath=a.csspath=n}if(a.status<1&&w){a.status=1;if(s){r.__startLoadModuleName=a.name;r.__startLoadTime=Number(+new Date)}v=e.getScript(w,{success:function(){g();if(!(a.fns&&
a.fns.length>0))a.status=u;f()},error:function(){a.status=u;f()},charset:a.charset});t.test(w)||(D[w]=v)}else a.status===1?q(v,f):b()},__buildPath:function(a,b){function d(f,r){if(!a[f]&&a[r]){a[r]=B(a.name,a[r]);a[f]=(b||g.base)+a[r]}if(a[f]&&g.debug)a[f]=a[f].replace(/-min/ig,k);if(a[f]&&!a[f].match(/\?t=/)&&a.tag)a[f]+="?t="+a.tag}var g=this.Config;d("fullpath","path");d("cssfullpath","csspath")},getScript:function(a,b,d){var g=/\.css(?:\?|$)/i.test(a),f=c.createElement(g?"link":"script"),r=b,
w,D,v;if(e.isPlainObject(r)){b=r.success;w=r.error;D=r.timeout;d=r.charset}if(g){f.href=a;f.rel="stylesheet"}else{f.src=a;f.async=true}if(d)f.charset=d;if(g)e.isFunction(b)&&b.call(f);else q(f,function(){if(v){v.cancel();v=o}e.isFunction(b)&&b.call(f)});if(e.isFunction(w)){c.addEventListener&&f.addEventListener("error",function(){if(v){v.cancel();v=o}w.call(f)},false);v=e.later(function(){v=o;w()},(D||this.Config.timeout)*1E3)}i.insertBefore(f,i.firstChild);return f}};l(e,p);var C=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,
E=/(seed|kissy)(-min)?\.js/i;e.__initLoader=function(){var a=c.getElementsByTagName("script");a=m(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=x(a);if(!this.Config.timeout)this.Config.timeout=10};e.__initLoader();e.each(p,function(a,b){e.__APP_MEMBERS.push(b)});e.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(e,o){function F(h){var l=typeof h;return h===null||l!=="object"&&l!=="function"}function B(h){return Array.prototype.slice.call(h)}var A=e.__HOST,x=A.document,j=x.documentElement,m=encodeURIComponent("[]"),p=false,s=[],c=false,i=/^#?([\w-]+)$/,k=/^(\w+)\[\]$/,n=/\S/;e.mix(e,{isWindow:function(h){return e.type(h)==="object"&&"setInterval"in h},makeArray:function(h){if(h===null||h===o)return[];if(e.isArray(h))return h;if(typeof h.length!=="number"||e.isString(h)||e.isFunction(h))return[h];
return B(h)},param:function(h,l){if(!e.isPlainObject(h))return"";l=l||"&";var q=[],t,y;for(t in h){y=h[t];t=encodeURIComponent(t);if(F(y))q.push(t,"=",encodeURIComponent(y+""),l);else if(e.isArray(y)&&y.length)for(var z=0,C=y.length;z<C;++z)F(y[z])&&q.push(t,m+"=",encodeURIComponent(y[z]+""),l)}q.pop();return q.join("")},unparam:function(h,l){if(typeof h!=="string"||(h=e.trim(h)).length===0)return{};for(var q={},t=h.split(l||"&"),y,z,C,E,a=0,b=t.length;a<b;++a){y=t[a].split("=");z=decodeURIComponent(y[0]);
try{C=decodeURIComponent(y[1]||"")}catch(d){C=y[1]||""}if((E=z.match(k))&&E[1]){q[E[1]]=q[E[1]]||[];q[E[1]].push(C)}else q[z]=C}return q},globalEval:function(h){if(h&&n.test(h)){var l=x.getElementsByTagName("head")[0]||j,q=x.createElement("script");q.text=h;l.insertBefore(q,l.firstChild);l.removeChild(q)}},later:function(h,l,q,t,y){l=l||0;t=t||{};var z=h,C=e.makeArray(y),E;if(e.isString(h))z=t[h];z||e.error("method undefined");h=function(){z.apply(t,C)};E=q?setInterval(h,l):setTimeout(h,l);return{id:E,
interval:q,cancel:function(){this.interval?clearInterval(E):clearTimeout(E)}}},ready:function(h){c||this._bindReady();p?h.call(A,this):s.push(h);return this},_bindReady:function(){var h=this,l=x.documentElement.doScroll,q=l?"onreadystatechange":"DOMContentLoaded",t=function(){h._fireReady()};c=true;if(x.readyState==="complete")return t();if(x.addEventListener){var y=function(){x.removeEventListener(q,y,false);t()};x.addEventListener(q,y,false);A.addEventListener("load",t,false)}else{var z=function(){if(x.readyState===
"complete"){x.detachEvent(q,z);t()}};x.attachEvent(q,z);A.attachEvent("onload",t);var C=false;try{C=A.frameElement==null}catch(E){}if(l&&C){var a=function(){try{l("left");t()}catch(b){setTimeout(a,1)}};a()}}},_fireReady:function(){if(!p){p=true;if(s){for(var h,l=0;h=s[l++];)h.call(A,this);s=null}}},available:function(h,l){if((h=(h+"").match(i)[1])&&e.isFunction(l))var q=1,t=e.later(function(){if(x.getElementById(h)&&(l()||1)||++q>500)t.cancel()},40,true)}});try{B(j.childNodes)}catch(u){B=function(h){for(var l=
[],q=h.length-1;q>=0;q--)l[q]=h[q];return l}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)e.Config.debug=true})(KISSY);(function(e){e.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
