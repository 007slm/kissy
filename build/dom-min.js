/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Mar 6 16:04
*/
KISSY.add("dom/attr",function(q,b,x,y){function E(n,e){e=z[e]||e;var g=F[e];return g&&g.get?g.get(n,e):n[e]}x=q.Env.host.document.documentElement;var G=!x.hasAttribute,C=x.textContent===y?"innerText":"textContent",v=b._nodeName,D=b._isElementNode,o=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,s=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,p=/:|^on/,m=/\r/g,w={},t={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},B={tabindex:{get:function(n){var e=n.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):s.test(n.nodeName)||l.test(n.nodeName)&&n.href?0:y}},style:{get:function(n){return n.style.cssText},set:function(n,e){n.style.cssText=e}}},z={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A={get:function(n,e){return b.prop(n,e)?e.toLowerCase():y},set:function(n,e,g){if(e===false)b.removeAttr(n,g);else{e=z[g]||g;if(e in n)n[e]=true;n.setAttribute(g,g.toLowerCase())}return g}},F={},I={},J={option:{get:function(n){var e=n.attributes.value;return!e||e.specified?n.value:n.text}},select:{get:function(n){var e=n.selectedIndex,g=n.options;n=n.type==="select-one";if(e<0)return null;else if(n)return b.val(g[e]);e=[];
n=0;for(var d=g.length;n<d;++n)g[n].selected&&e.push(b.val(g[n]));return e},set:function(n,e){var g=q.makeArray(e);q.each(n.options,function(d){d.selected=q.inArray(b.val(d),g)});if(!g.length)n.selectedIndex=-1;return g}}};if(G){I={get:function(n,e){var g;return(g=n.getAttributeNode(e))&&(g.specified||g.nodeValue)?g.nodeValue:y},set:function(n,e,g){var d=n.getAttributeNode(g);if(d)d.nodeValue=e;else try{var h=n.ownerDocument.createAttribute(g);h.value=e;n.setAttributeNode(h)}catch(k){return n.setAttribute(g,
e,0)}}};w=z;B.tabIndex=B.tabindex;q.each(["href","src","width","height","colSpan","rowSpan"],function(n){B[n]={get:function(e){e=e.getAttribute(n,2);return e===null?y:e}}});J.button=B.value=I}q.each(["radio","checkbox"],function(n){J[n]={get:function(e){return e.getAttribute("value")===null?"on":e.value},set:function(e,g){if(q.isArray(g))return e.checked=q.inArray(b.val(e),g)}}});q.mix(b,{prop:function(n,e,g){n=b.query(n);if(q.isPlainObject(e))for(var d in e)b.prop(n,d,e[d]);else{e=z[e]||e;d=F[e];
if(g!==y)for(var h=n.length-1;h>=0;h--){var k=n[h];if(d&&d.set)d.set(k,g,e);else k[e]=g}else if(n.length)return E(n[0],e)}},hasProp:function(n,e){for(var g=b.query(n),d=0;d<g.length;d++)if(E(g[d],e)!==y)return true;return false},removeProp:function(n,e){e=z[e]||e;for(var g=b.query(n),d=g.length-1;d>=0;d--){var h=g[d];try{h[e]=y;delete h[e]}catch(k){}}},attr:function(n,e,g,d){var h=b.query(n);if(q.isPlainObject(e)){d=g;for(var k in e)e.hasOwnProperty(k)&&b.attr(h,k,e[k],d)}else if(e=q.trim(e)){if(d&&
t[e])return b[e](n,g);e=e.toLowerCase();if(d&&t[e])return b[e](n,g);e=w[e]||e;d=h[0];n=o.test(e)?A:p.test(e)?I:B[e];if(g===y){if(d&&d.nodeType===b.ELEMENT_NODE){if(v(d,"form"))n=I;if(n&&n.get)return n.get(d,e);e=d.getAttribute(e);return e===null?y:e}}else for(k=h.length-1;k>=0;k--)if((d=h[k])&&d.nodeType===b.ELEMENT_NODE){if(v(d,"form"))n=I;n&&n.set?n.set(d,g,e):d.setAttribute(e,""+g)}}},removeAttr:function(n,e){e=e.toLowerCase();e=w[e]||e;var g=b.query(n),d,h;for(h=g.length-1;h>=0;h--){d=g[h];if(D(d)){var k;
d.removeAttribute(e);if(o.test(e)&&(k=z[e]||e)in d)d[k]=false}}},hasAttr:G?function(n,e){e=e.toLowerCase();for(var g=b.query(n),d=0;d<g.length;d++){var h=g[d].getAttributeNode(e);if(h&&h.specified)return true}return false}:function(n,e){for(var g=b.query(n),d=0;d<g.length;d++)if(g[d].hasAttribute(e))return true;return false},val:function(n,e){var g,d;if(e===y){var h=b.get(n);if(h){if((g=J[h.nodeName.toLowerCase()]||J[h.type])&&"get"in g&&(d=g.get(h,"value"))!==y)return d;d=h.value;return typeof d===
"string"?d.replace(m,""):d==null?"":d}}else{d=b.query(n);var k;for(k=d.length-1;k>=0;k--){h=d[k];if(h.nodeType!==1)break;var r=e;if(r==null)r="";else if(typeof r==="number")r+="";else if(q.isArray(r))r=q.map(r,function(i){return i==null?"":i+""});g=J[h.nodeName.toLowerCase()]||J[h.type];if(!g||!("set"in g)||g.set(h,r,"value")===y)h.value=r}}},text:function(n,e){if(e===y){var g=b.get(n);if(D(g))return g[C]||"";else if(b._nodeTypeIs(g,b.TEXT_NODE))return g.nodeValue;return y}else{var d=b.query(n),h;
for(h=d.length-1;h>=0;h--){g=d[h];if(D(g))g[C]=e;else if(b._nodeTypeIs(g,b.TEXT_NODE))g.nodeValue=e}}}});return b},{requires:["./base","ua"]});
KISSY.add("dom/base",function(q,b,x){function y(v,D){return v&&v.nodeType===D}var E=q.Env.host,G={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},C={_isCustomDomain:function(v){v=v||E;var D=v.document.domain;v=v.location.hostname;return D!=v&&D!="["+v+"]"},_genEmptyIframeSrc:function(v){v=v||E;if(b.ie&&C._isCustomDomain(v))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+v.document.domain+"';document.close();")+"}())"},_NODE_TYPE:G,_isElementNode:function(v){return y(v,C.ELEMENT_NODE)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:y(v,C.DOCUMENT_NODE)?v.defaultView||v.parentWindow:v===x||v===null?E:false},_nodeTypeIs:y,_isNodeList:function(v){return v&&!v.nodeType&&v.item&&!v.setTimeout},_nodeName:function(v,D){return v&&v.nodeName.toLowerCase()===D.toLowerCase()}};q.mix(C,G);return C},{requires:["ua"]});
KISSY.add("dom/class",function(q,b,x){function y(C,v,D,o){if(!(v=q.trim(v)))return o?false:x;C=b.query(C);var s=C.length,l=v.split(E);v=[];for(var p=0;p<l.length;p++){var m=q.trim(l[p]);m&&v.push(m)}for(p=0;p<s;p++){l=C[p];if(b._isElementNode(l)){l=D(l,v,v.length);if(l!==x)return l}}if(o)return false;return x}var E=/[\.\s]\s*\.?/,G=/[\n\t]/g;q.mix(b,{hasClass:function(C,v){return y(C,v,function(D,o,s){if(D=D.className){D=(" "+D+" ").replace(G," ");for(var l=0,p=true;l<s;l++)if(D.indexOf(" "+o[l]+
" ")<0){p=false;break}if(p)return true}},true)},addClass:function(C,v){y(C,v,function(D,o,s){var l=D.className;if(l){var p=(" "+l+" ").replace(G," ");l=l;for(var m=0;m<s;m++)if(p.indexOf(" "+o[m]+" ")<0)l+=" "+o[m];D.className=q.trim(l)}else D.className=v},x)},removeClass:function(C,v){y(C,v,function(D,o,s){var l=D.className;if(l)if(s){l=(" "+l+" ").replace(G," ");for(var p=0,m;p<s;p++)for(m=" "+o[p]+" ";l.indexOf(m)>=0;)l=l.replace(m," ");D.className=q.trim(l)}else D.className=""},x)},replaceClass:function(C,
v,D){b.removeClass(C,v);b.addClass(C,D)},toggleClass:function(C,v,D){var o=q.isBoolean(D),s;y(C,v,function(l,p,m){for(var w=0,t;w<m;w++){t=p[w];s=o?!D:b.hasClass(l,t);b[s?"removeClass":"addClass"](l,t)}},x)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(q,b,x,y){function E(d){var h=q.require("event");h&&h.detach(d);b.removeData(d)}function G(d,h,k){if(s(h,b.DOCUMENT_FRAGMENT_NODE)){h=h.childNodes;k=k.childNodes;for(var r=0;h[r];){k[r]&&G(d,h[r],k[r]);r++}}else if(l(h)){h=h.getElementsByTagName("*");k=k.getElementsByTagName("*");for(r=0;h[r];){k[r]&&d(h[r],k[r]);r++}}}function C(d,h){var k=q.require("event");if(!(l(h)&&!b.hasData(d))){var r=b.data(d),i;for(i in r)b.data(h,i,r[i]);if(k){k._removeData(h);k._clone(d,h)}}}
function v(d,h){h.clearAttributes&&h.clearAttributes();h.mergeAttributes&&h.mergeAttributes(d);var k=h.nodeName.toLowerCase(),r=d.childNodes;if(k==="object"&&!h.childNodes.length)for(k=0;k<r.length;k++)h.appendChild(r[k].cloneNode(true));else if(k==="input"&&(d.type==="checkbox"||d.type==="radio")){if(d.checked)h.defaultChecked=h.checked=d.checked;if(h.value!==d.value)h.value=d.value}else if(k==="option")h.selected=d.defaultSelected;else if(k==="input"||k==="textarea")h.defaultValue=d.defaultValue;
h.removeAttribute(b.__EXPANDO)}function D(d,h){var k=null,r,i;if(d&&(d.push||d.item)&&d[0]){h=h||d[0].ownerDocument;k=h.createDocumentFragment();d=q.makeArray(d);r=0;for(i=d.length;r<i;r++)k.appendChild(d[r])}return k}var o=q.Env.host.document;x=x.ie;var s=b._nodeTypeIs,l=b._isElementNode,p=q.isString,m=o.createElement("div"),w=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,B=/<tbody/i,z=/^\s+/,A=x&&x<9,F=/<|&#?\w+;/,I=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;q.mix(b,
{create:function(d,h,k,r){var i=null;if(!d)return i;if(d.nodeType)return b.clone(d);if(!p(d))return i;if(r===y)r=true;if(r)d=q.trim(d);r=b._creators;var c,a;k=k||o;var f,j="div";if(F.test(d))if(f=I.exec(d))i=k.createElement(f[1]);else{d=d.replace(w,"<$1></$2>");if((f=t.exec(d))&&(c=f[1]))j=c.toLowerCase();c=(r[j]||r.div)(d,k);if(A&&(a=d.match(z)))c.insertBefore(k.createTextNode(a[0]),c.firstChild);d=c.childNodes;if(d.length===1)i=d[0].parentNode.removeChild(d[0]);else if(d.length)i=D(d,k)}else i=
k.createTextNode(d);i=i;if(q.isPlainObject(h))if(l(i))b.attr(i,h,true);else s(i,b.DOCUMENT_FRAGMENT_NODE)&&b.attr(i.childNodes,h,true);return i},_creators:{div:function(d,h){var k=h&&h!=o?h.createElement("div"):m;k.innerHTML="m<div>"+d+"</div>";return k.lastChild}},html:function(d,h,k,r){d=b.query(d);var i=d[0];if(i)if(h===y)return l(i)?i.innerHTML:null;else{var c=false,a,f;h+="";if(!h.match(/<(?:script|style|link)/i)&&(!A||!h.match(z))&&!e[(h.match(t)||["",""])[1].toLowerCase()])try{for(a=d.length-
1;a>=0;a--){f=d[a];if(l(f)){E(f.getElementsByTagName("*"));f.innerHTML=h}}c=true}catch(j){}if(!c){h=b.create(h,null,i.ownerDocument,false);for(a=d.length-1;a>=0;a--){f=d[a];if(l(f)){b.empty(f);b.append(h,f,k)}}}r&&r()}},remove:function(d,h){var k,r=b.query(d),i;for(i=r.length-1;i>=0;i--){k=r[i];if(!h&&l(k)){var c=k.getElementsByTagName("*");E(c);E(k)}k.parentNode&&k.parentNode.removeChild(k)}},clone:function(d,h,k,r){d=b.get(d);if(!d)return null;var i=d.cloneNode(h);if(l(d)||s(d,b.DOCUMENT_FRAGMENT_NODE)){l(d)&&
v(d,i);h&&G(v,d,i)}if(k){C(d,i);h&&r&&G(C,d,i)}return i},empty:function(d){d=b.query(d);var h,k;for(k=d.length-1;k>=0;k--){h=d[k];b.remove(h.childNodes)}},_nl2frag:D});var J=b._creators,n=b.create,e={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},g;for(g in e)(function(d){J[g]=function(h,k){return n("<"+d+">"+h+"</"+d+">",null,k)}})(e[g]);if(x<8)J.table=function(d,
h){var k=J.div(d,h);if(B.test(d))return k;var r=k.firstChild,i=q.makeArray(r.childNodes);q.each(i,function(c){b._nodeName(c,"tbody")&&!c.childNodes.length&&r.removeChild(c)});return k};return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(q,b,x){var y=q.Env.host,E="_ks_data_"+q.now(),G={},C={},v={};v.applet=1;v.object=1;v.embed=1;var D={hasData:function(l,p){if(l)if(p!==x){if(p in l)return true}else if(!q.isEmptyObject(l))return true;return false}},o={hasData:function(l,p){if(l==y)return o.hasData(C,p);return D.hasData(l[E],p)},data:function(l,p,m){if(l==y)return o.data(C,p,m);var w=l[E];if(m!==x){w=l[E]=l[E]||{};w[p]=m}else if(p!==x)return w&&w[p];else return w=l[E]=l[E]||{}},removeData:function(l,p){if(l==
y)return o.removeData(C,p);var m=l[E];if(p!==x){delete m[p];q.isEmptyObject(m)&&o.removeData(l)}else try{delete l[E]}catch(w){l[E]=x}}},s={hasData:function(l,p){var m=l[E];if(!m)return false;return D.hasData(G[m],p)},data:function(l,p,m){if(v[l.nodeName.toLowerCase()])return x;var w=l[E];if(!w){if(p!==x&&m===x)return x;w=l[E]=q.guid()}l=G[w];if(m!==x){l=G[w]=G[w]||{};l[p]=m}else if(p!==x)return l&&l[p];else return l=G[w]=G[w]||{}},removeData:function(l,p){var m=l[E],w;if(m){w=G[m];if(p!==x){delete w[p];
q.isEmptyObject(w)&&s.removeData(l)}else{delete G[m];try{delete l[E]}catch(t){l[E]=x}l.removeAttribute&&l.removeAttribute(E)}}}};q.mix(b,{__EXPANDO:E,hasData:function(l,p){for(var m=false,w=b.query(l),t=0;t<w.length;t++){m=w[t];if(m=m.nodeType?s.hasData(m,p):o.hasData(m,p))break}return m},data:function(l,p,m){l=b.query(l);var w=l[0];if(q.isPlainObject(p)){for(var t in p)b.data(l,t,p[t]);return x}if(m===x){if(w)return w.nodeType?s.data(w,p,m):o.data(w,p,m)}else for(t=l.length-1;t>=0;t--){w=l[t];w.nodeType?
s.data(w,p,m):o.data(w,p,m)}return x},removeData:function(l,p){var m=b.query(l),w,t;for(t=m.length-1;t>=0;t--){w=m[t];w.nodeType?s.removeData(w,p):o.removeData(w,p)}}});return b},{requires:["./base"]});KISSY.add("dom",function(q,b){q.mix(q,{DOM:b,get:b.get,query:b.query});return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("dom/insertion",function(q,b,x){function y(t){for(var B=0;B<t.length;B++){var z=t[B];if(z.nodeType==x.DOCUMENT_FRAGMENT_NODE)y(z.childNodes);else if(D(z,"input")){if(z.type==="checkbox"||z.type==="radio")z.defaultChecked=z.checked}else if(l(z)){z=z.getElementsByTagName("input");for(var A=0;A<z.length;A++)y(z[A])}}}function E(t,B){var z=[],A,F,I;for(A=0;t[A];A++){F=t[A];I=F.nodeName.toLowerCase();if(F.nodeType==x.DOCUMENT_FRAGMENT_NODE)z.push.apply(z,E(o(F.childNodes),B));else if(I==="script"&&
(!F.type||p.test(F.type))){F.parentNode&&F.parentNode.removeChild(F);B&&B.push(F)}else{if(l(F)&&!v.test(I)){I=[];var J,n,e=F.getElementsByTagName("script");for(n=0;n<e.length;n++){J=e[n];(!J.type||p.test(J.type))&&I.push(J)}s.apply(t,[A+1,0].concat(I))}z.push(F)}}return z}function G(t){if(t.src)q.getScript(t.src);else(t=q.trim(t.text||t.textContent||t.innerHTML||""))&&q.globalEval(t)}function C(t,B,z,A){t=x.query(t);if(A)A=[];t=E(t,A);b.ie<8&&y(t);B=x.query(B);var F=t.length,I=B.length;if(!(!F&&(!A||
!A.length)||!I)){t=x._nl2frag(t);var J;if(I>1){J=x.clone(t,true);B=q.makeArray(B)}for(var n=0;n<I;n++){var e=B[n];if(F){var g=n>0?x.clone(J,true):t;z(g,e)}A&&A.length&&q.each(A,G)}}}var v=/^(?:button|input|object|select|textarea)$/i,D=x._nodeName,o=q.makeArray,s=[].splice,l=x._isElementNode,p=/\/(java|ecma)script/i;q.mix(x,{insertBefore:function(t,B,z){C(t,B,function(A,F){F.parentNode&&F.parentNode.insertBefore(A,F)},z)},insertAfter:function(t,B,z){C(t,B,function(A,F){F.parentNode&&F.parentNode.insertBefore(A,
F.nextSibling)},z)},appendTo:function(t,B,z){C(t,B,function(A,F){F.appendChild(A)},z)},prependTo:function(t,B,z){C(t,B,function(A,F){F.insertBefore(A,F.firstChild)},z)}});var m={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},w;for(w in m)x[w]=x[m[w]];return x},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(q,b,x,y){function E(e){var g,d=0;g=0;var h=v.body,k=p(e[B]);if(e[n]){g=e[n]();d=g[z];g=g[A];e=D&&v.documentMode!=9&&(m?o.clientTop:h.clientTop)||0;d-=D&&v.documentMode!=9&&(m?o.clientLeft:h.clientLeft)||0;g-=e;if(x.mobile=="apple"){d-=b[I](k);g-=b[J](k)}}return{left:d,top:g}}function G(e,g){var d={left:0,top:0},h=p(e[B]),k=e;g=g||h;do{var r;if(h==g){var i=k;r=E(i);i=p(i[B]);r.left+=b[I](i);r.top+=b[J](i);r=r}else r=E(k);r=r;d.left+=r.left;d.top+=r.top}while(h&&h!=g&&
(k=h.frameElement)&&(h=h.parent));return d}var C=q.Env.host,v=C.document,D=x.ie,o=v.documentElement,s=b._isElementNode,l=b._nodeTypeIs,p=b._getWin,m=v.compatMode==="CSS1Compat",w=Math.max,t=parseInt,B="ownerDocument",z="left",A="top",F=q.isNumber,I="scrollLeft",J="scrollTop",n="getBoundingClientRect";q.mix(b,{offset:function(e,g,d){if(g===y){e=b.get(e);var h;if(e)h=G(e,d);return h}d=b.query(e);for(h=d.length-1;h>=0;h--){e=e=d[h];var k=g;if(b.css(e,"position")==="static")e.style.position="relative";
var r=G(e),i={},c=void 0,a=void 0;for(a in k){c=t(b.css(e,a),10)||0;i[a]=c+k[a]-r[a]}b.css(e,i)}return y},scrollIntoView:function(e,g,d,h,k){if(e=b.get(e)){if(g)g=b.get(g);if(!g)g=e.ownerDocument;if(k!==true){h=h===y?true:!!h;d=d===y?true:!!d}if(l(g,b.DOCUMENT_NODE))g=p(g);var r=!!p(g);k=b.offset(e);var i=b.outerHeight(e);e=b.outerWidth(e);var c,a,f,j;if(r){r=g;a=b.height(r);c=b.width(r);j={left:b.scrollLeft(r),top:b.scrollTop(r)};r={left:k[z]-j[z],top:k[A]-j[A]};k={left:k[z]+e-(j[z]+c),top:k[A]+
i-(j[A]+a)};j=j}else{c=b.offset(g);a=g.clientHeight;f=g.clientWidth;j={left:b.scrollLeft(g),top:b.scrollTop(g)};r={left:k[z]-c[z]-(t(b.css(g,"borderLeftWidth"))||0),top:k[A]-c[A]-(t(b.css(g,"borderTopWidth"))||0)};k={left:k[z]+e-(c[z]+f+(t(b.css(g,"borderRightWidth"))||0)),top:k[A]+i-(c[A]+a+(t(b.css(g,"borderBottomWidth"))||0))}}if(r.top<0||k.top>0)if(d===true)b.scrollTop(g,j.top+r.top);else if(d===false)b.scrollTop(g,j.top+k.top);else r.top<0?b.scrollTop(g,j.top+r.top):b.scrollTop(g,j.top+k.top);
if(h)if(r.left<0||k.left>0)if(d===true)b.scrollLeft(g,j.left+r.left);else if(d===false)b.scrollLeft(g,j.left+k.left);else r.left<0?b.scrollLeft(g,j.left+r.left):b.scrollLeft(g,j.left+k.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});q.each(["Left","Top"],function(e,g){var d="scroll"+e;b[d]=function(h,k){if(F(h))return arguments.callee(C,h);h=b.get(h);var r,i=p(h);if(i)if(k!==y){k=parseFloat(k);var c=e=="Left"?k:b.scrollLeft(i),a=e=="Top"?k:b.scrollTop(i);i.scrollTo(c,a)}else{r=i["page"+
(g?"Y":"X")+"Offset"];if(!F(r)){i=i.document;r=i.documentElement[d];F(r)||(r=i.body[d])}}else if(s(h))if(k!==y)h[d]=parseFloat(k);else r=h[d];return r}});q.each(["Width","Height"],function(e){b["doc"+e]=function(g){g=b.get(g);g=p(g).document;return w(g.documentElement["scroll"+e],g.body["scroll"+e],b["viewport"+e](g))};b["viewport"+e]=function(g){g=b.get(g);var d="client"+e;g=p(g).document;var h=g.body,k=g.documentElement[d];return g.compatMode==="CSS1Compat"&&k||h&&h[d]||k}});return b},{requires:["./base",
"ua"]});
KISSY.add("dom/selector",function(q,b,x){function y(i){var c,a;for(a=0;a<this.length;a++){c=this[a];if(i(c,a)===false)break}}function E(i,c){var a,f,j=B(i),u=c===x&&(f=1)?[m]:E(c,x);if(i)if(j){i=e(i);if(u.length==1&&i)a=C(i,u[0])}else{if(f)if(i.nodeType||i.setTimeout)a=[i];else if(i.getDOMNodes)return i;else a=t(i)?i:A(i)?q.makeArray(i):[i]}else a=[];if(!a){a=[];if(i){for(f=0;f<u.length;f++)I.apply(a,G(i,u[f]));if(a.length>1&&(u.length>1||j&&i.indexOf(n)>-1))k(a)}}a.each=y;return a}function G(i,c){var a=
[];if((a=B(i))&&i.match(h)||!a)a=v(i,c);else{if(a&&i.indexOf(n)>-1){a=[];var f,j=i.split(/\s*,\s*/);for(f=0;f<j.length;f++)I.apply(a,G(j[f],c));a=a}else{a=[];(f=q.require("sizzle"))&&f(i,c,a);a=a}a=a}return a=a}function C(i,c){var a,f,j,u;if(d.test(i))a=(f=o(i.slice(1),c))?[f]:[];else if(j=h.exec(i)){f=j[1];u=j[2];j=j[3];if(c=f?o(f,c):c)if(j)if(!f||i.indexOf(J)!=-1)a=[].concat(r(j,u,c));else{if((f=o(f,c))&&l(f,j))a=[f]}else if(u)a=s(u,c);a=a||[]}return a}function v(i,c){var a;if(B(i))a=C(i,c)||[];
else if(t(i)||A(i))a=w(i,function(f){return D(f,c)});else if(D(i,c))a=[i];return a}function D(i,c){if(!i)return false;if(c==m)return true;return b.contains(c,i)}function o(i,c){var a=c;if(c.nodeType!==b.DOCUMENT_NODE)a=c.ownerDocument;a=a.getElementById(i);if(!(a&&a.id===i))if(a&&a.parentNode)if(p(a,i))D(a,c)||(a=null);else a=b.filter(g,"#"+i,c)[0]||null;else a=null;return a}function s(i,c){return c&&z(c.getElementsByTagName(i))||[]}function l(i,c){var a;return(a=i.className)&&(" "+a+" ").indexOf(" "+
c+" ")!==-1}function p(i,c){var a=i.getAttributeNode("id");return a&&a.nodeValue===c}var m=q.Env.host.document,w=q.filter,t=q.isArray,B=q.isString,z=q.makeArray,A=b._isNodeList,F=b._nodeName,I=Array.prototype.push,J=" ",n=",",e=q.trim,g="*",d=/^#[\w-]+$/,h=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,k=q.noop;(function(){var i,c,a=true;[0,0].sort(function(){a=false;return 0});k=function(f){if(i){c=a;f.sort(i);if(c)for(var j=1,u=f.length;j<u;)if(f[j]===f[j-1])f.splice(j,1);else j++}return f};i=m.documentElement.compareDocumentPosition?
function(f,j){if(f==j){c=true;return 0}if(!f.compareDocumentPosition||!j.compareDocumentPosition)return f.compareDocumentPosition?-1:1;return f.compareDocumentPosition(j)&4?-1:1}:function(f,j){if(f==j){c=true;return 0}else if(f.sourceIndex&&j.sourceIndex)return f.sourceIndex-j.sourceIndex}})();(function(){var i=m.createElement("div");i.appendChild(m.createComment(""));if(i.getElementsByTagName(g).length>0)s=function(c,a){var f=z(a.getElementsByTagName(c));if(c===g){for(var j=[],u=0,H;H=f[u++];)H.nodeType===
1&&j.push(H);f=j}return f}})();var r=m.getElementsByClassName?function(i,c,a){if(!a)return[];i=a.getElementsByClassName(i);var f=0,j=i.length,u;if(c&&c!==g)for(a=[];f<j;++f){u=i[f];F(u,c)&&a.push(u)}else a=z(i);return a}:m.querySelectorAll?function(i,c,a){return a&&z(a.querySelectorAll((c?c:"")+"."+i))||[]}:function(i,c,a){if(!a)return[];c=a.getElementsByTagName(c||g);a=[];for(var f=0,j=c.length,u;f<j;++f){u=c[f];l(u,i)&&a.push(u)}return a};q.mix(b,{query:E,get:function(i,c){return E(i,c)[0]||null},
unique:k,filter:function(i,c,a){i=E(i,a);a=q.require("sizzle");var f,j,u,H,K=[];if(B(c)&&(c=e(c))&&(f=h.exec(c))){u=f[1];j=f[2];H=f[3];if(u){if(u&&!j&&!H)c=function(L){return p(L,u)}}else c=function(L){var M=true,N=true;if(j)M=F(L,j);if(H)N=l(L,H);return N&&M}}if(q.isFunction(c))K=q.filter(i,c);else if(c&&a)K=a.matches(c,i);return K},test:function(i,c,a){i=E(i,a);return i.length&&b.filter(i,c,a).length===i.length}});return b},{requires:["./base"]});
KISSY.add("dom/style-ie",function(q,b,x,y){if(!x.ie)return b;var E=q.Env.host.document,G=E.documentElement,C=y._CUSTOM_STYLES,v=/^-?\d+(?:px)?$/i,D=/^-?\d/,o=/opacity=([^)]*)/,s=/alpha\([^)]*\)/i;C.backgroundPosition={get:function(m,w){return w?m.currentStyle.backgroundPositionX+" "+m.currentStyle.backgroundPositionY:m.style.backgroundPosition}};try{if(G.style.opacity==null)C.opacity={get:function(m,w){return o.test((w&&m.currentStyle?m.currentStyle.filter:m.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":w?"1":""},set:function(m,w){w=parseFloat(w);var t=m.style,B=m.currentStyle,z=isNaN(w)?"":"alpha(opacity="+w*100+")",A=q.trim(B&&B.filter||t.filter||"");t.zoom=1;if(w>=1&&q.trim(A.replace(s,""))===""){t.removeAttribute("filter");if(B&&!B.filter)return}t.filter=s.test(A)?A.replace(s,z):A+(A?", ":"")+z}}}catch(l){}x=x.ie==8;var p={};p.thin=x?"1px":"2px";p.medium=x?"3px":"4px";p.thick=x?"5px":"6px";q.each(["","Top","Left","Right","Bottom"],function(m){var w="border"+m+"Width",t="border"+m+"Style";
C[w]={get:function(B,z){var A=z?B.currentStyle:0,F=A&&String(A[w])||undefined;if(F&&F.indexOf("px")<0)F=p[F]&&A[t]!=="none"?p[F]:0;return F}}});if(!(E.defaultView||{}).getComputedStyle&&G.currentStyle)b._getComputedStyle=function(m,w){w=b._cssProps[w]||w;var t=m.currentStyle&&m.currentStyle[w];if(!v.test(t)&&D.test(t)){var B=m.style,z=B.left,A=m.runtimeStyle&&m.runtimeStyle.left;if(A)m.runtimeStyle.left=m.currentStyle.left;B.left=w==="fontSize"?"1em":t||0;t=B.pixelLeft+"px";B.left=z;if(A)m.runtimeStyle.left=
A}return t===""?"auto":t};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(q,b,x,y){function E(c){return c.replace(A,"ms-").replace(F,I)}function G(c,a,f){var j={},u;for(u in a){j[u]=c[p][u];c[p][u]=a[u]}f.call(c);for(u in a)c[p][u]=j[u]}function C(c,a,f){var j;if(c.nodeType===3||c.nodeType===8||!(j=c[p]))return y;a=E(a);var u,H=g[a];a=d[a]||a;if(f!==y){if(f===null||f===n)f=n;else if(!isNaN(Number(f))&&!z[a])f+=e;if(H&&H.set)f=H.set(c,f);if(f!==y){try{j[a]=f}catch(K){}f===n&&j.removeAttribute&&j.removeAttribute(a)}j.cssText||c.removeAttribute("style");
return y}else{if(!(H&&"get"in H&&(u=H.get(c,false))!==y))u=j[a];return u===y?"":u}}function v(c,a,f){if(q.isWindow(c))return a==m?b.viewportWidth(c):b.viewportHeight(c);else if(c.nodeType==9)return a==m?b.docWidth(c):b.docHeight(c);var j=a===m?["Left","Right"]:["Top","Bottom"],u=a===m?c.offsetWidth:c.offsetHeight;if(u>0){f!=="border"&&q.each(j,function(H){f||(u-=parseFloat(b.css(c,"padding"+H))||0);if(f==="margin")u+=parseFloat(b.css(c,f+H))||0;else u-=parseFloat(b.css(c,"border"+H+"Width"))||0});
return u}u=b._getComputedStyle(c,a);if(u==null||Number(u)<0)u=c.style[a]||0;u=parseFloat(u)||0;f&&q.each(j,function(H){u+=parseFloat(b.css(c,"padding"+H))||0;if(f!=="padding")u+=parseFloat(b.css(c,"border"+H+"Width"))||0;if(f==="margin")u+=parseFloat(b.css(c,f+H))||0});return u}var D=q.Env.host,o=D.document,s=o.documentElement,l=x.ie,p="style",m="width",w="display"+q.now(),t=parseInt,B=/^-?\d+(?:px)?$/i,z={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},A=/^-ms-/,
F=/-([a-z])/ig,I=function(c,a){return a.toUpperCase()},J=/([A-Z]|^ms)/g,n="",e="px",g={},d={},h={};if(s[p].cssFloat!==y)d["float"]="cssFloat";else if(s[p].styleFloat!==y)d["float"]="styleFloat";var k,r;q.mix(b,{_camelCase:E,_CUSTOM_STYLES:g,_cssProps:d,_getComputedStyle:function(c,a){var f="",j,u=c.ownerDocument;a=a.replace(J,"-$1").toLowerCase();if(j=u.defaultView.getComputedStyle(c,null))f=j.getPropertyValue(a)||j[a];if(f==""&&!b.contains(u.documentElement,c)){a=d[a]||a;f=c[p][a]}return f},style:function(c,
a,f){c=b.query(c);var j=c[0];if(q.isPlainObject(a)){for(var u in a)for(j=c.length-1;j>=0;j--)C(c[j],u,a[u]);return y}if(f===y){u="";if(j)u=C(j,a,f);return u}else for(j=c.length-1;j>=0;j--)C(c[j],a,f);return y},css:function(c,a,f){c=b.query(c);var j=c[0];if(q.isPlainObject(a)){for(var u in a)for(j=c.length-1;j>=0;j--)C(c[j],u,a[u]);return y}a=E(a);u=g[a];if(f===y){f="";if(j)if(!(u&&"get"in u&&(f=u.get(j,true))!==y))f=b._getComputedStyle(j,a);return f===y?"":f}else for(j=c.length-1;j>=0;j--)C(c[j],
a,f);return y},show:function(c){c=b.query(c);var a,f;for(f=c.length-1;f>=0;f--){a=c[f];a[p].display=b.data(a,w)||n;if(b.css(a,"display")==="none"){var j;a:{j=a.tagName.toLowerCase();var u=void 0,H=void 0;if(!h[j]){u=o.body||o.documentElement;H=o.createElement(j);b.prepend(H,u);var K=b.css(H,"display");u.removeChild(H);if(K==="none"||K===""){if(k)b.prepend(k,u);else{k=o.createElement("iframe");k.frameBorder=k.width=k.height=0;b.prepend(k,u);H=void 0;if(H=b._genEmptyIframeSrc())k.src=H}if(!r||!k.createElement)try{r=
k.contentWindow.document;r.write((o.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(x.ie&&b._isCustomDomain()?"<script>document.domain = '"+o.domain+"';<\/script>":"")+"</head><body>");r.close()}catch(L){j="block";break a}H=r.createElement(j);r.body.appendChild(H);K=b.css(H,"display");u.removeChild(k)}h[j]=K}j=h[j]}b.data(a,w,j);a[p].display=j}}},hide:function(c){c=b.query(c);var a,f;for(f=c.length-1;f>=0;f--){a=c[f];var j=a[p],u=j.display;if(u!=="none"){u&&b.data(a,w,u);j.display=
"none"}}},toggle:function(c){c=b.query(c);var a,f;for(f=c.length-1;f>=0;f--){a=c[f];b.css(a,"display")==="none"?b.show(a):b.hide(a)}},addStyleSheet:function(c,a,f){c=c||D;if(q.isString(c)){f=a;a=c;c=D}c=b.get(c);c=b._getWin(c).document;var j;if(f&&(f=f.replace("#",n)))j=b.get("#"+f,c);if(!j){j=b.create("<style>",{id:f},c);b.get("head",c).appendChild(j);if(j.styleSheet)j.styleSheet.cssText=a;else j.appendChild(c.createTextNode(a))}},unselectable:function(c){c=b.query(c);var a,f;for(f=c.length-1;f>=
0;f--){a=c[f];if(x.gecko)a[p].MozUserSelect="none";else if(x.webkit)a[p].KhtmlUserSelect="none";else if(x.ie||x.opera){var j=0,u=a.getElementsByTagName("*");for(a.setAttribute("unselectable","on");a=u[j++];)switch(a.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:a.setAttribute("unselectable","on")}}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});q.each([m,"height"],function(c){b["inner"+(c.charAt(0).toUpperCase()+c.substring(1))]=
function(a){return(a=b.get(a))&&v(a,c,"padding")};b["outer"+(c.charAt(0).toUpperCase()+c.substring(1))]=function(a,f){var j=b.get(a);return j?v(j,c,f?"margin":"border"):null};b[c]=function(a,f){var j=b.css(a,c,f);if(j)j=parseFloat(j);return j}});var i={position:"absolute",visibility:"hidden",display:"block"};q.each(["height","width"],function(c){g[c]={get:function(a,f){var j;if(f){if(a.offsetWidth!==0)j=v(a,c);else G(a,i,function(){j=v(a,c)});return j+"px"}},set:function(a,f){if(B.test(f)){f=parseFloat(f);
if(f>=0)return f+"px"}else return f}}});q.each(["left","top"],function(c){g[c]={get:function(a,f){if(f){var j=b._getComputedStyle(a,c);if(j==="auto"){j=0;if(q.inArray(b.css(a,"position"),["absolute","fixed"])){j=a[c==="left"?"offsetLeft":"offsetTop"];if(l&&o.documentMode!=9||x.opera)j-=a.offsetParent&&a.offsetParent["client"+(c=="left"?"Left":"Top")]||0;j=j-(t(b.css(a,"margin-"+c))||0)}j+="px"}return j}}}});return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(q,b,x){function y(o,s,l,p,m,w){if(!(o=b.get(o)))return null;if(s===0)return o;w||(o=o[l]);if(!o)return null;m=m&&b.get(m)||null;if(s===x)s=1;w=[];var t=q.isArray(s),B,z;if(q.isNumber(s)){B=0;z=s;s=function(){return++B===z}}for(;o&&o!=m;){if(C(o)&&E(o,s)&&(!p||p(o))){w.push(o);if(!t)break}o=o[l]}return t?w:w[0]||null}function E(o,s){if(!s)return true;if(q.isArray(s))for(var l=0;l<s.length;l++){if(b.test(o,s[l]))return true}else if(b.test(o,s))return true;return false}
function G(o,s,l){var p=[];var m=o=b.get(o);if(o&&l)m=o.parentNode;if(m){l=0;for(m=m.firstChild;m;m=m.nextSibling)if(C(m)&&m!==o&&(!s||b.test(m,s)))p[l++]=m}return p}var C=b._isElementNode,v=q.Env.host.document,D=v.documentElement.contains?function(o,s){if(o.nodeType==b.TEXT_NODE)return false;var l;if(s.nodeType==b.TEXT_NODE){s=s.parentNode;l=true}else if(s.nodeType==b.DOCUMENT_NODE)return false;else l=o!==s;return l&&(o.contains?o.contains(s):true)}:v.documentElement.compareDocumentPosition?function(o,
s){return!!(o.compareDocumentPosition(s)&16)}:0;q.mix(b,{closest:function(o,s,l){return y(o,s,"parentNode",function(p){return p.nodeType!=b.DOCUMENT_FRAGMENT_NODE},l,true)},parent:function(o,s,l){return y(o,s,"parentNode",function(p){return p.nodeType!=b.DOCUMENT_FRAGMENT_NODE},l)},first:function(o,s){var l=b.get(o);return y(l&&l.firstChild,s,"nextSibling",x,x,true)},last:function(o,s){var l=b.get(o);return y(l&&l.lastChild,s,"previousSibling",x,x,true)},next:function(o,s){return y(o,s,"nextSibling",
x)},prev:function(o,s){return y(o,s,"previousSibling",x)},siblings:function(o,s){return G(o,s,true)},children:function(o,s){return G(o,s,x)},contains:function(o,s){o=b.get(o);s=b.get(s);if(o&&s)return D(o,s);return false},equals:function(o,s){o=b.query(o);s=b.query(s);if(o.length!=s.length)return false;for(var l=o.length;l>=0;l--)if(o[l]!=s[l])return false;return true}});return b},{requires:["./base"]});
