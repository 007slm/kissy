/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(k,a,q,g){var x=document.documentElement,A=!x.hasAttribute,l=x.textContent!==g?"textContent":"innerText",i=a._isElementNode,m=/^(?:href|src|style)/,w=/^(?:href|src|colspan|rowspan)/,j=/\r/g,p=/^(?:radio|checkbox)/,t={readonly:"readOnly"},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};A&&k.mix(t,{"for":"htmlFor","class":"className"});var y={tabindex:{getter:function(o){return o.tabIndex},setter:function(o,c){if(isNaN(parseInt(c))){o.removeAttribute("tabindex");
o.removeAttribute("tabIndex")}else o.tabIndex=c}},style:{getter:function(o){return o.style.cssText},setter:function(o,c){o.style.cssText=c}},checked:{setter:function(o,c){o.checked=!!c}},disabled:{setter:function(o,c){o.disabled=!!c}}};k.mix(a,{attr:function(o,c,b,d){if(k.isPlainObject(c)){d=b;for(var f in c)a.attr(o,f,c[f],d)}else if(c=k.trim(c)){c=c.toLowerCase();if(d&&u[c])return a[c](o,b);c=t[c]||c;var e=y[c];if(b===g){o=a.get(o);if(!i(o))return g;if(e&&e.getter)return e.getter(o);var n;m.test(c)||
(n=o[c]);if(n===g)n=o.getAttribute(c);if(A)if(w.test(c))n=o.getAttribute(c,2);return n===null?g:n}k.each(a.query(o),function(v){if(i(v))e&&e.setter?e.setter(v,b):v.setAttribute(c,""+b)})}},removeAttr:function(o,c){c=c.toLowerCase();k.each(a.query(o),function(b){if(i(b)){a.attr(b,c,"");b.removeAttribute(c)}})},hasAttr:A?function(o,c){c=c.toLowerCase();var b=a.get(o).getAttributeNode(c);return!!(b&&b.specified)}:function(o,c){c=c.toLowerCase();return a.get(o).hasAttribute(c)},val:function(o,c){if(c===
g){var b=a.get(o);if(!i(b))return g;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var d=b.selectedIndex,f=b.options;if(d<0)return null;else if(b.type==="select-one")return a.val(f[d]);b=[];for(var e=0,n=f.length;e<n;++e)f[e].selected&&b.push(a.val(f[e]));return b}if(q.webkit&&p.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(j,"")}k.each(a.query(o),
function(v){if(v&&v.nodeName.toUpperCase()==="select".toUpperCase()){if(k.isNumber(c))c+="";var h=k.makeArray(c),s=v.options,r;e=0;for(n=s.length;e<n;++e){r=s[e];r.selected=k.inArray(a.val(r),h)}if(!h.length)v.selectedIndex=-1}else if(i(v))v.value=c})},text:function(o,c){if(c===g){var b=a.get(o);if(i(b))return b[l]||"";else if(a._nodeTypeIs(b,3))return b.nodeValue}else k.each(a.query(o),function(d){if(i(d))d[l]=c;else if(a._nodeTypeIs(d,3))d.nodeValue=c})}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/base",function(k,a){function q(g,x){return g&&g.nodeType===x}return{_isElementNode:function(g){return q(g,1)},_isKSNode:function(g){var x=k.require("node/node");return x&&q(g,x.TYPE)},_getWin:function(g){return g&&"scrollTo"in g&&g.document?g:q(g,9)?g.defaultView||g.parentWindow:g===a?window:false},_nodeTypeIs:q}});
KISSY.add("dom/class",function(k,a,q){function g(l,i,m,w){if(!(i=k.trim(i)))return w?false:q;l=a.query(l);var j=0,p=l.length;i=i.split(x);for(var t;j<p;j++){t=l[j];if(a._isElementNode(t)){t=m(t,i,i.length);if(t!==q)return t}}if(w)return false;return q}var x=/[\.\s]\s*\.?/,A=/[\n\t]/g;k.mix(a,{hasClass:function(l,i){return g(l,i,function(m,w,j){if(m=m.className){m=" "+m+" ";for(var p=0,t=true;p<j;p++)if(m.indexOf(" "+w[p]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(l,i){g(l,i,
function(m,w,j){var p=m.className;if(p){var t=" "+p+" ";p=p;for(var u=0;u<j;u++)if(t.indexOf(" "+w[u]+" ")<0)p+=" "+w[u];m.className=k.trim(p)}else m.className=i},q)},removeClass:function(l,i){g(l,i,function(m,w,j){var p=m.className;if(p)if(j){p=(" "+p+" ").replace(A," ");for(var t=0,u;t<j;t++)for(u=" "+w[t]+" ";p.indexOf(u)>=0;)p=p.replace(u," ");m.className=k.trim(p)}else m.className=""},q)},replaceClass:function(l,i,m){a.removeClass(l,i);a.addClass(l,m)},toggleClass:function(l,i,m){var w=k.isBoolean(m),
j;g(l,i,function(p,t,u){for(var y=0,o;y<u;y++){o=t[y];j=w?!m:a.hasClass(p,o);a[j?"removeClass":"addClass"](p,o)}},q)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(k,a,q,g){function x(h){var s=h.cloneNode(true);if(q.ie<8)s.innerHTML=h.innerHTML;return s}function A(h,s,r,z){if(r){var C=k.guid("ks-tmp-"),F=RegExp(y);s+='<span id="'+C+'"></span>';k.available(C,function(){var B=a.get("head"),D,H,G,I,K,E;for(F.lastIndex=0;D=F.exec(s);)if((G=(H=D[1])?H.match(c):false)&&G[2]){D=i.createElement("script");D.src=G[2];if((I=H.match(b))&&I[2])D.charset=I[2];D.async=true;B.appendChild(D)}else if((E=D[2])&&E.length>0)k.globalEval(E);(K=i.getElementById(C))&&
a.remove(K);k.isFunction(z)&&z()});l(h,s)}else{l(h,s);k.isFunction(z)&&z()}}function l(h,s){s=(s+"").replace(y,"");try{h.innerHTML=s}catch(r){for(;h.firstChild;)h.removeChild(h.firstChild);s&&h.appendChild(a.create(s))}}var i=document,m=q.ie,w=a._nodeTypeIs,j=a._isElementNode,p=a._isKSNode,t=i.createElement("div"),u=/<(\w+)/,y=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;k.mix(a,{create:function(h,
s,r){if(w(h,1)||w(h,3))return x(h);if(p(h))return x(h[0]);if(!(h=k.trim(h)))return null;var z=null;z=a._creators;var C,F="div",B;if(C=o.exec(h))z=(r||i).createElement(C[1]);else{if((C=u.exec(h))&&(B=C[1])&&k.isFunction(z[B=B.toLowerCase()]))F=B;h=z[F](h,r).childNodes;if(h.length===1)r=h[0].parentNode.removeChild(h[0]);else{h=h;B=r||i;r=null;if(h&&(h.push||h.item)&&h[0]){B=B||h[0].ownerDocument;r=B.createDocumentFragment();if(h.item)h=k.makeArray(h);B=0;for(z=h.length;B<z;B++)r.appendChild(h[B])}r=
r}z=r}r=z;j(r)&&k.isPlainObject(s)&&a.attr(r,s,true);return r},_creators:{div:function(h,s){var r=s?s.createElement("div"):t;r.innerHTML=h;return r}},html:function(h,s,r,z){if(s===g){h=a.get(h);if(j(h))return h.innerHTML}else k.each(a.query(h),function(C){j(C)&&A(C,s,r,z)})},remove:function(h){k.each(a.query(h),function(s){j(s)&&s.parentNode&&s.parentNode.removeChild(s)})}});if(m||q.gecko||q.webkit){var d=a._creators,f=a.create,e=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,n={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},v;for(v in n)(function(h){d[v]=function(s,r){return f("<"+h+">"+s+"</"+h+">",null,r)}})(n[v]);if(m){d.script=function(h,s){var r=s?s.createElement("div"):t;r.innerHTML="-"+h;r.removeChild(r.firstChild);return r};if(m<8)d.tbody=function(h,s){var r=f("<table>"+h+"</table>",null,s),z=r.children.tags("tbody")[0];r.children.length>1&&z&&!e.test(h)&&z.parentNode.removeChild(z);return r}}k.mix(d,{optgroup:d.option,th:d.td,thead:d.tbody,tfoot:d.tbody,
caption:d.tbody,colgroup:d.tbody})}return a},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(k,a,q){var g=window,x="_ks_data_"+k.now(),A={},l={},i={EMBED:1,OBJECT:1,APPLET:1};k.mix(a,{data:function(m,w,j){if(k.isPlainObject(w))for(var p in w)a.data(m,p,w[p]);else if(j===q){m=a.get(m);var t;if(!(!m||i[m.nodeName])){if(m==g)m=l;t=(p=m&&m.nodeType)?A:m;m=t[p?m[x]:x];if(k.isString(w)&&m)return m[w];return m}}else a.query(m).each(function(u){if(!(!u||i[u.nodeName])){if(u==g)u=l;var y=A,o;if(u&&u.nodeType){if(!(o=u[x]))o=u[x]=k.guid()}else{o=x;y=u}if(w&&j!==q){y[o]||
(y[o]={});y[o][w]=j}}})},removeData:function(m,w){a.query(m).each(function(j){if(j){if(j==g)j=l;var p,t=A,u,y=j&&j.nodeType;if(y)p=j[x];else{t=j;p=x}if(p){u=t[p];if(w){if(u){delete u[w];k.isEmptyObject(u)&&a.removeData(j)}}else{if(y)j.removeAttribute&&j.removeAttribute(x);else try{delete j[x]}catch(o){}y&&delete t[p]}}}})}});return a},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(k,a){k.mix(a,{insertBefore:function(q,g){if((q=a.get(q))&&(g=a.get(g))&&g.parentNode)g.parentNode.insertBefore(q,g);return q},insertAfter:function(q,g){if((q=a.get(q))&&(g=a.get(g))&&g.parentNode)g.nextSibling?g.parentNode.insertBefore(q,g.nextSibling):g.parentNode.appendChild(q);return q},append:function(q,g){if((q=a.get(q))&&(g=a.get(g)))g.appendChild&&g.appendChild(q)},prepend:function(q,g){if((q=a.get(q))&&(g=a.get(g)))g.firstChild?a.insertBefore(q,g.firstChild):
g.appendChild(q)}});return a},{requires:["dom/base"]});
KISSY.add("dom/offset",function(k,a,q,g){function x(f){var e=0,n=0,v=w(f[u]);if(f[d]){f=f[d]();e=f[y];n=f[o];if(q.mobile!=="apple"){e+=a[c](v);n+=a[b](v)}}return{left:e,top:n}}var A=window,l=document,i=a._isElementNode,m=a._nodeTypeIs,w=a._getWin,j=l.compatMode==="CSS1Compat",p=Math.max,t=parseInt,u="ownerDocument",y="left",o="top",c="scrollLeft",b="scrollTop",d="getBoundingClientRect";k.mix(a,{offset:function(f,e){if(!(f=a.get(f))||!f[u])return null;if(e===g)return x(f);var n=f;if(a.css(n,"position")===
"static")n.style.position="relative";var v=x(n),h={},s,r;for(r in e){s=t(a.css(n,r),10)||0;h[r]=s+e[r]-v[r]}a.css(n,h)},scrollIntoView:function(f,e,n,v){if((f=a.get(f))&&f[u]){v=v===g?true:!!v;n=n===g?true:!!n;if(!e||e===A)return f.scrollIntoView(n);e=a.get(e);if(m(e,9))e=w(e);var h=e&&"scrollTo"in e&&e.document,s=a.offset(f),r=h?{left:a.scrollLeft(e),top:a.scrollTop(e)}:a.offset(e),z={left:s[y]-r[y],top:s[o]-r[o]};s=h?a.viewportHeight(e):e.clientHeight;r=h?a.viewportWidth(e):e.clientWidth;var C=
a[c](e),F=a[b](e),B=C+r,D=F+s,H=f.offsetHeight;f=f.offsetWidth;var G=z.left+C-(t(a.css(e,"borderLeftWidth"))||0);z=z.top+F-(t(a.css(e,"borderTopWidth"))||0);var I=G+f,K=z+H,E,J;if(H>s||z<F||n)E=z;else if(K>D)E=K-s;if(v)if(f>r||G<C||n)J=G;else if(I>B)J=I-r;if(h){if(E!==g||J!==g)e.scrollTo(J,E)}else{if(E!==g)e[b]=E;if(J!==g)e[c]=J}}}});k.each(["Left","Top"],function(f,e){var n="scroll"+f;a[n]=function(v){var h=0,s=w(v),r;if(s&&(r=s.document))h=s[e?"pageYOffset":"pageXOffset"]||r.documentElement[n]||
r.body[n];else if(i(v=a.get(v)))h=v[n];return h}});k.each(["Width","Height"],function(f){a["doc"+f]=function(e){e=e||l;return p(j?e.documentElement["scroll"+f]:e.body["scroll"+f],a["viewport"+f](e))};a["viewport"+f]=function(e){var n="inner"+f;e=w(e);var v=e.document;return n in e?e[n]:j?v.documentElement["client"+f]:v.body["client"+f]}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(k,a,q){function g(c,b){var d,f,e=[],n;f=k.require("sizzle");b=x(b);e.each=function(v,h){return k.each(e,v,h)};if(k.isString(c)){if(c.indexOf(",")!=-1){d=c.split(",");k.each(d,function(v){e.push.apply(e,g(v,b))});return e}c=k.trim(c);if(y.test(c)){if(f=A(c.slice(1),b))e=[f]}else if(d=o.exec(c)){f=d[1];n=d[2];d=d[3];if(b=f?A(f,b):b)if(d)if(!f||c.indexOf(j)!==-1)e=i(d,n,b);else{if((f=A(f,b))&&a.hasClass(f,d))e=[f]}else if(n)e=l(n,b)}else if(f)e=f(c,b);else m(c)}else if(c&&
(c[t]||c[u]))e=c[t]?[c[t]()]:c[u]();else if(c&&(k.isArray(c)||c&&!c.nodeType&&c.item&&!c.setTimeout))e=c;else if(c)e=[c];if(e&&!e.nodeType&&e.item&&!e.setTimeout)e=k.makeArray(e);return e}function x(c){if(c===q)c=w;else if(k.isString(c)&&y.test(c))c=A(c.slice(1),w);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function A(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function l(c,b){return b.getElementsByTagName(c)}function i(c,b,d){d=c=d.getElementsByClassName(c);
var f=0,e=0,n=c.length,v;if(b&&b!==p){d=[];for(b=b.toUpperCase();f<n;++f){v=c[f];if(v.tagName===b)d[e++]=v}}return d}function m(c){k.error("Unsupported selector: "+c)}var w=document,j=" ",p="*",t="getDOMNode",u=t+"s",y=/^#[\w-]+$/,o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=w.createElement("div");c.appendChild(w.createComment(""));if(c.getElementsByTagName(p).length>0)l=function(b,d){var f=d.getElementsByTagName(b);if(b===p){for(var e=[],n=0,v=0,h;h=f[n++];)if(h.nodeType===1)e[v++]=
h;f=e}return f}})();w.getElementsByClassName||(i=w.querySelectorAll?function(c,b,d){return d.querySelectorAll((b?b:"")+"."+c)}:function(c,b,d){b=d.getElementsByTagName(b||p);d=[];var f=0,e=0,n=b.length,v,h;for(c=j+c+j;f<n;++f){v=b[f];if((h=v.className)&&(j+h+j).indexOf(c)>-1)d[e++]=v}return d});k.mix(a,{query:g,get:function(c,b){return g(c,b)[0]||null},filter:function(c,b,d){var f=g(c,d),e=k.require("sizzle"),n,v,h,s=[];if(k.isString(b)&&(n=o.exec(b))&&!n[1]){v=n[2];h=n[3];b=function(r){return!(v&&
r.tagName!==v.toUpperCase()||h&&!a.hasClass(r,h))}}if(k.isFunction(b))s=k.filter(f,b);else if(b&&e)s=e._filter(c,b,d);else m(b);return s},test:function(c,b,d){c=g(c,d);return c.length&&a.filter(c,b,d).length===c.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(k,a,q,g,x){if(!q.ie)return a;q=document;g=q.documentElement;var A=a._CUSTOM_STYLES,l=/^-?\d+(?:px)?$/i,i=/^-?\d/,m=/^(?:width|height)$/;try{if(g.style.opacity==x&&g.filters)A.opacity={get:function(j){var p=100;try{p=j.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{p=j.filters("alpha").opacity}catch(u){}}return p/100+""},set:function(j,p){var t=j.style,u=(j.currentStyle||0).filter||"";t.zoom=1;if(u)u=k.trim(u.replace(/alpha\(opacity[=:][^)]+\),?/ig,
""));if(u&&p!=1)u+=", ";t.filter=u+(p!=1?"alpha(opacity="+p*100+")":"")}}}catch(w){}if(!(q.defaultView||{}).getComputedStyle&&g.currentStyle)a._getComputedStyle=function(j,p){var t=j.style,u=j.currentStyle[p];if(m.test(p))u=a[p](j)+"px";else if(!l.test(u)&&i.test(u)){var y=t.left,o=j.runtimeStyle.left;j.runtimeStyle.left=j.currentStyle.left;t.left=p==="fontSize"?"1em":u||0;u=t.pixelLeft+"px";t.left=y;j.runtimeStyle.left=o}return u};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(k,a,q,g){function x(b,d){var f=a.get(b),e=d===m?f.offsetWidth:f.offsetHeight;k.each(d===m?["Left","Right"]:["Top","Bottom"],function(n){e-=parseFloat(a._getComputedStyle(f,"padding"+n))||0;e-=parseFloat(a._getComputedStyle(f,"border"+n+"Width"))||0});return e}function A(b,d,f){var e=f;if(f===w&&p.test(d)){e=0;if(k.inArray(a.css(b,"position"),["absolute","fixed"])){f=b[d==="left"?"offsetLeft":"offsetTop"];if(q.ie===8||q.opera)f-=j(a.css(b.offsetParent,"border-"+d+"-width"))||
0;e=f-(j(a.css(b,"margin-"+d))||0)}}return e}var l=document,i=l.documentElement,m="width",w="auto",j=parseInt,p=/^(?:left|top)/,t=/^(?:width|height|top|left|right|bottom|margin|padding)/i,u=/-([a-z])/ig,y=function(b,d){return d.toUpperCase()},o={},c={};k.mix(a,{_CUSTOM_STYLES:o,_getComputedStyle:function(b,d){var f="",e=b.ownerDocument;if(b.style)f=e.defaultView.getComputedStyle(b,null)[d];return f},css:function(b,d,f){if(k.isPlainObject(d))for(var e in d)a.css(b,e,d[e]);else{if(d.indexOf("-")>0)d=
d.replace(u,y);d=o[d]||d;if(f===g){b=a.get(b);e="";if(b&&b.style){e=d.get?d.get(b):b.style[d];if(e===""&&!d.get)e=A(b,d,a._getComputedStyle(b,d))}return e===g?"":e}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&t.test(d))f+="px";(d===m||d==="height")&&parseFloat(f)<0||k.each(a.query(b),function(n){if(n&&n.style){d.set?d.set(n,f):n.style[d]=f;if(f==="")n.style.cssText||n.removeAttribute("style")}})}}},width:function(b,d){if(d===g)return x(b,m);else a.css(b,m,d)},height:function(b,d){if(d===
g)return x(b,"height");else a.css(b,"height",d)},show:function(b){a.query(b).each(function(d){if(d){d.style.display=a.data(d,"display")||"";if(a.css(d,"display")==="none"){var f=d.tagName,e=c[f],n;if(!e){n=l.createElement(f);l.body.appendChild(n);e=a.css(n,"display");a.remove(n);c[f]=e}a.data(d,"display",e);d.style.display=e}}})},hide:function(b){a.query(b).each(function(d){if(d){var f=d.style,e=f.display;if(e!=="none"){e&&a.data(d,"display",e);f.display="none"}}})},toggle:function(b){a.query(b).each(function(d){if(d)a.css.display===
"none"?a.show(d):a.hide(d)})},addStyleSheet:function(b,d){var f;if(d&&(d=d.replace("#","")))f=a.get("#"+d);if(!f){f=a.create("<style>",{id:d});a.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=b;else f.appendChild(l.createTextNode(b))}},unselectable:function(b){a.query(b).each(function(d){if(d)if(q.gecko)d.style.MozUserSelect="none";else if(q.webkit)d.style.KhtmlUserSelect="none";else if(q.ie||q.opera){var f=0,e=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=
e[f++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}})}});if(i.style.cssFloat!==g)o["float"]="cssFloat";else if(i.style.styleFloat!==g)o["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(k,a,q){function g(l,i,m,w){if(!(l=a.get(l)))return null;if(i===q)i=1;var j=null,p,t;if(k.isNumber(i)&&i>=0){if(i===0)return l;p=0;t=i;i=function(){return++p===t}}for(;l=l[m];)if(A(l)&&(!i||a.test(l,i))&&(!w||w(l))){j=l;break}return j}function x(l,i,m){var w=[];var j=l=a.get(l);if(l&&m)j=l.parentNode;if(j){m=0;for(j=j.firstChild;j;j=j.nextSibling)if(A(j)&&j!==l&&(!i||a.test(j,i)))w[m++]=j}return w}var A=a._isElementNode;k.mix(a,{parent:function(l,i){return g(l,i,
"parentNode",function(m){return m.nodeType!=11})},next:function(l,i){return g(l,i,"nextSibling",q)},prev:function(l,i){return g(l,i,"previousSibling",q)},siblings:function(l,i){return x(l,i,true)},children:function(l,i){return x(l,i,q)},contains:function(l,i){var m=false;if((l=a.get(l))&&(i=a.get(i)))if(l.contains){if(i.nodeType===3){i=i.parentNode;if(i===l)return true}if(i)return l.contains(i)}else if(l.compareDocumentPosition)return!!(l.compareDocumentPosition(i)&16);else for(;!m&&(i=i.parentNode);)m=
i==l;return m}});return a},{requires:["dom/base"]});KISSY.add("dom",function(k,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
