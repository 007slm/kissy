/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Oct 10 13:56
*/
KISSY.add("dom/attr",function(f,a,e,j){function n(a,b){var b=t[b]||b,i=B[b];return i&&i.get?i.get(a,b):a[b]}var o=f.Env.host.document,m=a.NodeType,q=o&&o.documentElement,e=e.ie&&(o.documentMode||e.ie),u=q&&q.textContent===j?"innerText":"textContent",g=a.nodeName,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,d=/^(?:button|input|object|select|textarea)$/i,h=/^a(?:rea)?$/i,b=/:|^on/,c=/\r/g,p={},s={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):d.test(a.nodeName)||h.test(a.nodeName)&&a.href?0:j}},style:{get:function(a){return a.style.cssText},set:function(a,b){a.style.cssText=b}}},t={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},r={get:function(b,c){return a.prop(b,c)?c.toLowerCase():j},set:function(b,c,i){!1===c?a.removeAttr(b,i):(c=t[i]||i,c in b&&(b[c]=!0),b.setAttribute(i,i.toLowerCase()));return i}},B={},w={},z={option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(b){var c=b.selectedIndex,i=b.options;if(0>c)return null;if("select-one"===b.type)return a.val(i[c]);for(var b=[],c=0,l=i.length;c<
l;++c)i[c].selected&&b.push(a.val(i[c]));return b},set:function(b,c){var i=f.makeArray(c);f.each(b.options,function(b){b.selected=f.inArray(a.val(b),i)});i.length||(b.selectedIndex=-1);return i}}};e&&8>e&&(w={get:function(b,a){var i;return(i=b.getAttributeNode(a))&&(i.specified||i.nodeValue)?i.nodeValue:j},set:function(b,a,i){var l=b.getAttributeNode(i);if(l)l.nodeValue=a;else try{var c=b.ownerDocument.createAttribute(i);c.value=a;b.setAttributeNode(c)}catch(g){return b.setAttribute(i,a,0)}}},p=t,
v.tabIndex=v.tabindex,f.each("href,src,width,height,colSpan,rowSpan".split(","),function(b){v[b]={get:function(a){a=a.getAttribute(b,2);return a===null?j:a}}}),z.button=v.value=w);e&&9>e&&((v.href=v.href||{}).set=function(a,b,i){for(var c=a.childNodes,g,d=c.length,k=d>0,d=d-1;d>=0;d--)c[d].nodeType!=m.TEXT_NODE&&(k=0);if(k){g=a.ownerDocument.createElement("b");g.style.display="none";a.appendChild(g)}a.setAttribute(i,""+b);g&&a.removeChild(g)});f.each(["radio","checkbox"],function(b){z[b]={get:function(a){return a.getAttribute("value")===
null?"on":a.value},set:function(b,i){if(f.isArray(i))return b.checked=f.inArray(a.val(b),i)}}});f.mix(a,{prop:function(b,c,i){var l=a.query(b);if(f.isPlainObject(c)){f.each(c,function(b,i){a.prop(l,i,b)});return j}c=t[c]||c;b=B[c];if(i!==j)for(var g=l.length-1;g>=0;g--){var d=l[g];b&&b.set?b.set(d,i,c):d[c]=i}else if(l.length)return n(l[0],c);return j},hasProp:function(b,c){for(var i=a.query(b),l=0;l<i.length;l++)if(n(i[l],c)!==j)return true;return false},removeProp:function(b,c){for(var c=t[c]||
c,i=a.query(b),l=i.length-1;l>=0;l--){var g=i[l];try{g[c]=j;delete g[c]}catch(d){}}},attr:function(c,d,i,l){var A=a.query(c);if(f.isPlainObject(d)){var l=i,h;for(h in d)a.attr(A,h,d[h],l);return j}if(!(d=f.trim(d)))return j;if(l&&s[d])return a[d](c,i);d=d.toLowerCase();if(l&&s[d])return a[d](c,i);d=p[d]||d;l=A[0];c=k.test(d)?r:b.test(d)?w:v[d];if(i===j){if(l&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);if(c&&c.get)return c.get(l,d);d=l.getAttribute(d);return d===null?j:d}}else for(h=A.length-
1;h>=0;h--)if((l=A[h])&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);c&&c.set?c.set(l,i,d):l.setAttribute(d,""+i)}return j},removeAttr:function(b,c){var c=c.toLowerCase(),c=p[c]||c,i=a.query(b),l,d;for(d=i.length-1;d>=0;d--){l=i[d];if(l.nodeType==m.ELEMENT_NODE){var g;l.removeAttribute(c);if(k.test(c)&&(g=t[c]||c)in l)l[g]=false}}},hasAttr:q&&!q.hasAttribute?function(b,c){for(var c=c.toLowerCase(),i=a.query(b),l=0;l<i.length;l++){var d=i[l].getAttributeNode(c);if(d&&d.specified)return true}return false}:
function(b,c){for(var i=a.query(b),l=0;l<i.length;l++)if(i[l].hasAttribute(c))return true;return false},val:function(b,d){var i,l;if(d===j){var h=a.get(b);if(h){if((i=z[g(h)]||z[h.type])&&"get"in i&&(l=i.get(h,"value"))!==j)return l;l=h.value;return typeof l==="string"?l.replace(c,""):l==null?"":l}return j}l=a.query(b);var k;for(k=l.length-1;k>=0;k--){h=l[k];if(h.nodeType!==1)break;var e=d;e==null?e="":typeof e==="number"?e=e+"":f.isArray(e)&&(e=f.map(e,function(b){return b==null?"":b+""}));i=z[g(h)]||
z[h.type];if(!i||!("set"in i)||i.set(h,e,"value")===j)h.value=e}return j},_propHooks:B,text:function(b,c){if(c===j){var i=a.get(b);if(i.nodeType==m.ELEMENT_NODE)return i[u]||"";if(i.nodeType==m.TEXT_NODE)return i.nodeValue}else{var l=a.query(b),d;for(d=l.length-1;d>=0;d--){i=l[d];if(i.nodeType==m.ELEMENT_NODE)i[u]=c;else if(i.nodeType==m.TEXT_NODE)i.nodeValue=c}}return j}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(f,a,e){var j=f.Env.host,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(a){var a=a||j,e=a.document.domain,a=a.location.hostname;return e!=a&&e!="["+a+"]"},getEmptyIframeSrc:function(f){f=f||j;return a.ie&&o.isCustomDomain(f)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
f.document.domain+"';document.close();")+"}())":e},NodeType:n,_getWin:function(a){return null==a?j:"scrollTo"in a&&a.document?a:a.nodeType==n.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(e){var f=o.get(e),e=f.nodeName.toLowerCase();a.ie&&(f=f.scopeName)&&"HTML"!=f&&(e=f.toLowerCase()+":"+e);return e}};f.mix(o,n);return o},{requires:["ua"]});
KISSY.add("dom/class",function(f,a,e){function j(j,m,g,k){if(!(m=f.trim(m)))return k?!1:e;for(var j=a.query(j),d=j.length,h=m.split(o),m=[],b=0;b<h.length;b++){var c=f.trim(h[b]);c&&m.push(c)}for(b=0;b<d;b++)if(h=j[b],h.nodeType==n.ELEMENT_NODE&&(h=g(h,m,m.length),h!==e))return h;return k?!1:e}var n=a.NodeType,o=/[\.\s]\s*\.?/,m=/[\n\t]/g;f.mix(a,{hasClass:function(a,e){return j(a,e,function(a,e,d){if(a=a.className){for(var a=(" "+a+" ").replace(m," "),h=0,b=!0;h<d;h++)if(0>a.indexOf(" "+e[h]+" ")){b=
!1;break}if(b)return!0}},!0)},addClass:function(a,n){j(a,n,function(a,e,d){var h=a.className;if(h){for(var b=(" "+h+" ").replace(m," "),c=0;c<d;c++)0>b.indexOf(" "+e[c]+" ")&&(h+=" "+e[c]);a.className=f.trim(h)}else a.className=n},e)},removeClass:function(a,n){j(a,n,function(a,e,d){var h=a.className;if(h)if(d){for(var h=(" "+h+" ").replace(m," "),b=0,c;b<d;b++)for(c=" "+e[b]+" ";0<=h.indexOf(c);)h=h.replace(c," ");a.className=f.trim(h)}else a.className=""},e)},replaceClass:function(e,f,g){a.removeClass(e,
f);a.addClass(e,g)},toggleClass:function(n,m,g){var k=f.isBoolean(g),d;j(n,m,function(e,b,c){for(var f=0,j;f<c;f++)j=b[f],d=k?!g:a.hasClass(e,j),a[d?"removeClass":"addClass"](e,j)},e)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,e,j){function n(b){var c=f.require("event");c&&c.detach(b);a.removeData(b)}function o(a,b,c){if(b.nodeType==k.DOCUMENT_FRAGMENT_NODE)for(var b=b.childNodes,c=c.childNodes,d=0;b[d];)c[d]&&o(a,b[d],c[d]),d++;else if(b.nodeType==k.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(d=0;b[d];)c[d]&&a(b[d],c[d]),d++}}function m(b,c){var d=f.require("event");if(c.nodeType!=k.ELEMENT_NODE||a.hasData(b)){var e=a.data(b),g;for(g in e)a.data(c,g,
e[g]);d&&(d._removeData(c),d._clone(b,c))}}function q(b,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(b);var d=c.nodeName.toLowerCase(),e=b.childNodes;if("object"===d&&!c.childNodes.length)for(d=0;d<e.length;d++)c.appendChild(e[d].cloneNode(!0));else if("input"===d&&("checkbox"===b.type||"radio"===b.type)){if(b.checked&&(c.defaultChecked=c.checked=b.checked),c.value!==b.value)c.value=b.value}else if("option"===d)c.selected=b.defaultSelected;else if("input"===d||"textarea"===
d)c.defaultValue=b.defaultValue;c.removeAttribute(a.__EXPANDO)}function u(b){var a=null,c,d;if(b&&(b.push||b.item)&&b[0]){a=b[0].ownerDocument;a=a.createDocumentFragment();b=f.makeArray(b);c=0;for(d=b.length;c<d;c++)a.appendChild(b[c])}return a}var g=f.Env.host.document,k=a.NodeType,e=e.ie,d=f.isString,h=g&&g.createElement("div"),b=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,p=/<tbody/i,s=/^\s+/,v=e&&9>e,t=/<|&#?\w+;/,r=g&&"outerHTML"in g.documentElement,
B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;f.mix(a,{create:function(i,e,h,p){var r=null;if(!i)return r;if(i.nodeType)return a.clone(i);if(!d(i))return r;p===j&&(p=!0);p&&(i=f.trim(i));var p=a._creators,F,G,h=h||g,C,H="div";if(t.test(i))if(C=B.exec(i))r=h.createElement(C[1]);else{i=i.replace(b,"<$1></$2>");if((C=c.exec(i))&&(F=C[1]))H=F.toLowerCase();F=(p[H]||p.div)(i,h);v&&(G=i.match(s))&&F.insertBefore(h.createTextNode(G[0]),F.firstChild);i=F.childNodes;1===i.length?r=i[0].parentNode.removeChild(i[0]):i.length&&
(r=u(i))}else r=h.createTextNode(i);f.isPlainObject(e)&&(r.nodeType==k.ELEMENT_NODE?a.attr(r,e,!0):r.nodeType==k.DOCUMENT_FRAGMENT_NODE&&a.attr(r.childNodes,e,!0));return r},_creators:{div:function(b,a){var c=a&&a!=g?a.createElement("div"):h;c.innerHTML="m<div>"+b+"</div>";return c.lastChild}},html:function(b,d,e,g){var b=a.query(b),h=b[0];if(h){if(d===j)return h.nodeType==k.ELEMENT_NODE?h.innerHTML:null;var f=!1,G,C,d=d+"";if(!d.match(/<(?:script|style|link)/i)&&(!v||!d.match(s))&&!y[(d.match(c)||
["",""])[1].toLowerCase()])try{for(G=b.length-1;0<=G;G--)C=b[G],C.nodeType==k.ELEMENT_NODE&&(n(C.getElementsByTagName("*")),C.innerHTML=d);f=!0}catch(H){}f||(d=a.create(d,0,h.ownerDocument,0),a.empty(b),a.append(d,b,e));g&&g()}},outerHTML:function(b,c,d){var b=a.query(b),e=b.length,g=b[0];if(g){if(c===j){if(r)return g.outerHTML;c=g.ownerDocument.createElement("div");c.appendChild(a.clone(g,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&r)for(d=e-1;0<=d;d--)g=b[d],g.nodeType==
k.ELEMENT_NODE&&(n(g),n(g.getElementsByTagName("*")),g.outerHTML=c);else c=a.create(c,0,g.ownerDocument,0),a.insertBefore(c,b,d),a.remove(b)}},remove:function(b,c){var d,e=a.query(b),g;for(g=e.length-1;0<=g;g--){d=e[g];if(!c&&d.nodeType==k.ELEMENT_NODE){var h=d.getElementsByTagName("*");n(h);n(d)}d.parentNode&&d.parentNode.removeChild(d)}},clone:function(b,c,d,g){"object"===typeof c&&(g=c.deepWithDataAndEvent,d=c.withDataAndEvent,c=c.deep);b=a.get(b);if(!b)return null;var e=b.cloneNode(c);if(b.nodeType==
k.ELEMENT_NODE||b.nodeType==k.DOCUMENT_FRAGMENT_NODE)b.nodeType==k.ELEMENT_NODE&&q(b,e),c&&o(q,b,e);d&&(m(b,e),c&&g&&o(m,b,e));return e},empty:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],a.remove(c.childNodes)},nodeListToFragment:u});var w=a._creators,z=a.create,y={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},D;for(D in y)(function(b){w[D]=function(c,
a){return z("<"+b+">"+c+"</"+b+">",null,a)}})(y[D]);8>e&&(w.table=function(b,c){var d=w.div(b,c);if(p.test(b))return d;var e=d.firstChild,g=f.makeArray(e.childNodes);f.each(g,function(b){"tbody"==a.nodeName(b)&&!b.childNodes.length&&e.removeChild(b)});return d});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,e){var j=f.Env.host,n="__ks_data_"+f.now(),o={},m={},q={applet:1,object:1,embed:1},u={hasData:function(a,g){if(a)if(g!==e){if(g in a)return!0}else if(!f.isEmptyObject(a))return!0;return!1}},g={hasData:function(a,e){return a==j?g.hasData(m,e):u.hasData(a[n],e)},data:function(a,h,b){if(a==j)return g.data(m,h,b);var c=a[n];if(b!==e)c=a[n]=a[n]||{},c[h]=b;else return h!==e?c&&c[h]:c=a[n]=a[n]||{}},removeData:function(a,h){if(a==j)return g.removeData(m,h);var b=a[n];if(h!==
e)delete b[h],f.isEmptyObject(b)&&g.removeData(a);else try{delete a[n]}catch(c){a[n]=e}}},k={hasData:function(a,e){var b=a[n];return!b?!1:u.hasData(o[b],e)},data:function(a,g,b){if(q[a.nodeName.toLowerCase()])return e;var c=a[n];if(!c){if(g!==e&&b===e)return e;c=a[n]=f.guid()}a=o[c];if(b!==e)a=o[c]=o[c]||{},a[g]=b;else return g!==e?a&&a[g]:a=o[c]=o[c]||{}},removeData:function(a,g){var b=a[n],c;if(b)if(c=o[b],g!==e)delete c[g],f.isEmptyObject(c)&&k.removeData(a);else{delete o[b];try{delete a[n]}catch(p){a[n]=
e}a.removeAttribute&&a.removeAttribute(n)}}};f.mix(a,{__EXPANDO:n,hasData:function(d,e){for(var b=!1,c=a.query(d),f=0;f<c.length&&!(b=c[f],b=b.nodeType?k.hasData(b,e):g.hasData(b,e));f++);return b},data:function(d,h,b){var d=a.query(d),c=d[0];if(f.isPlainObject(h)){for(var p in h)a.data(d,p,h[p]);return e}if(b===e){if(c)return c.nodeType?k.data(c,h):g.data(c,h)}else for(p=d.length-1;0<=p;p--)c=d[p],c.nodeType?k.data(c,h,b):g.data(c,h,b);return e},removeData:function(d,e){var b=a.query(d),c,f;for(f=
b.length-1;0<=f;f--)c=b[f],c.nodeType?k.removeData(c,e):g.removeData(c,e)}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){f.mix(f,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(f,a,e){function j(b){for(var a=0;a<b.length;a++){var d=b[a];if(d.nodeType==q.DOCUMENT_FRAGMENT_NODE)j(d.childNodes);else if("input"==g(d)){if("checkbox"===d.type||"radio"===d.type)d.defaultChecked=d.checked}else if(d.nodeType==q.ELEMENT_NODE)for(var d=d.getElementsByTagName("input"),e=0;e<d.length;e++)j(d[e])}}function n(b,a){var e=[],f,j,t;for(f=0;b[f];f++)if(j=b[f],t=g(j),j.nodeType==q.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,n(k(j.childNodes),a));else if("script"===
t&&(!j.type||h.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),a&&a.push(j);else{if(j.nodeType==q.ELEMENT_NODE&&!u.test(t)){t=[];var r,m,w=j.getElementsByTagName("script");for(m=0;m<w.length;m++)r=w[m],(!r.type||h.test(r.type))&&t.push(r);d.apply(b,[f+1,0].concat(t))}e.push(j)}return e}function o(b){b.src?f.getScript(b.src):(b=f.trim(b.text||b.textContent||b.innerHTML||""))&&f.globalEval(b)}function m(b,c,d,g){b=e.query(b);g&&(g=[]);b=n(b,g);8>a.ie&&j(b);var c=e.query(c),h=c.length;if((b.length||
g&&g.length)&&h){var b=e.nodeListToFragment(b),k;1<h&&(k=e.clone(b,!0),c=f.makeArray(c));for(var r=0;r<h;r++){var m=c[r];if(b){var w=0<r?e.clone(k,!0):b;d(w,m)}g&&g.length&&f.each(g,o)}}}var q=e.NodeType,u=/^(?:button|input|object|select|textarea)$/i,g=e.nodeName,k=f.makeArray,d=[].splice,h=/\/(java|ecma)script/i;f.mix(e,{insertBefore:function(b,a,d){m(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},d)},insertAfter:function(b,a,d){m(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,
a.nextSibling)},d)},appendTo:function(a,c,d){m(a,c,function(a,b){b.appendChild(a)},d)},prependTo:function(a,c,d){m(a,c,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,c){c=e.clone(e.get(c),!0);a=e.query(a);a[0].parentNode&&e.insertBefore(c,a[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;e.appendTo(a,c)},wrap:function(a,c){a=e.query(a);c=e.get(c);f.each(a,function(a){e.wrapAll(a,c)})},wrapInner:function(a,c){a=e.query(a);c=e.get(c);f.each(a,function(a){var b=a.childNodes;
b.length?e.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=e.query(a);f.each(a,function(a){a=a.parentNode;e.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var d=e.query(a),c=e.query(c);e.remove(c,!0);e.insertBefore(c,d);e.remove(d)}});f.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,c){e[c]=e[a]});return e},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(f,a,e,j){function n(a){var d,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};d=a.getBoundingClientRect();a=d[b];d=d[c];a-=u.clientLeft||e.clientLeft||0;d-=u.clientTop||e.clientTop||0;return{left:a,top:d}}function o(b,c){var d={left:0,top:0},e=g(b[h]),f=b,c=c||e;do{var k;if(e==c){var j=f;k=n(j);j=g(j[h]);k.left+=a[s](j);k.top+=a[v](j)}else k=n(f);d.left+=k.left;d.top+=k.top}while(e&&e!=c&&(f=e.frameElement)&&(e=e.parent));return d}var m=f.Env.host,
e=m.document,q=a.NodeType,u=e&&e.documentElement,g=a._getWin,k=Math.max,d=parseInt,h="ownerDocument",b="left",c="top",p=f.isNumber,s="scrollLeft",v="scrollTop";f.mix(a,{offset:function(b,c,e){if(c===j){var b=a.get(b),g;b&&(g=o(b,e));return g}e=a.query(b);for(g=e.length-1;0<=g;g--){var b=e[g],f=c;"static"===a.css(b,"position")&&(b.style.position="relative");var k=o(b),h={},i=void 0,l=void 0;for(l in f)i=d(a.css(b,l),10)||0,h[l]=i+f[l]-k[l];a.css(b,h)}return j},scrollIntoView:function(e,f,k,h,m){var n,
p,i;if(p=a.get(e)){f&&(f=a.get(f));f||(f=p.ownerDocument);!0!==m&&(h=h===j?!0:!!h,k=k===j?!0:!!k);f.nodeType==q.DOCUMENT_NODE&&(f=g(f));i=!!g(f);m=a.offset(p);e=a.outerHeight(p);n=a.outerWidth(p);var l,o,v,s;i?(p=f,l=a.height(p),o=a.width(p),s={left:a.scrollLeft(p),top:a.scrollTop(p)},p=m[b]-s[b],i=m[c]-s[c],n=m[b]+n-(s[b]+o),m=m[c]+e-(s[c]+l)):(l=a.offset(f),o=f.clientHeight,v=f.clientWidth,s={left:a.scrollLeft(f),top:a.scrollTop(f)},p=m[b]-l[b]-(d(a.css(f,"borderLeftWidth"))||0),i=m[c]-l[c]-(d(a.css(f,
"borderTopWidth"))||0),n=m[b]+n-(l[b]+v+(d(a.css(f,"borderRightWidth"))||0)),m=m[c]+e-(l[c]+o+(d(a.css(f,"borderBottomWidth"))||0)));if(0>i||0<m)!0===k?a.scrollTop(f,s.top+i):!1===k?a.scrollTop(f,s.top+m):0>i?a.scrollTop(f,s.top+i):a.scrollTop(f,s.top+m);if(h&&(0>p||0<n))!0===k?a.scrollLeft(f,s.left+p):!1===k?a.scrollLeft(f,s.left+n):0>p?a.scrollLeft(f,s.left+p):a.scrollLeft(f,s.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});f.each(["Left","Top"],function(b,
c){var d="scroll"+b;a[d]=function(e,f){if(p(e))return arguments.callee(m,e);var e=a.get(e),k,h=g(e);if(h)if(f!==j){var f=parseFloat(f),i="Left"==b?f:a.scrollLeft(h),l="Top"==b?f:a.scrollTop(h);h.scrollTo(i,l)}else k=h["page"+(c?"Y":"X")+"Offset"],p(k)||(h=h.document,k=h.documentElement[d],p(k)||(k=h.body[d]));else e.nodeType==q.ELEMENT_NODE&&(f!==j?e[d]=parseFloat(f):k=e[d]);return k}});f.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=g(c).document;return k(c.documentElement["scroll"+
b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),d="client"+b,c=g(c).document,e=c.body,f=c.documentElement[d];return"CSS1Compat"===c.compatMode&&f||e&&e[d]||f}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(f,a,e){function j(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function n(a,c){var d,g,k=v(a),h=c===e&&(g=1)?[b]:n(c);if(a)if(k)a=D(a),g&&"body"==a?d=[b.body]:1==h.length&&a&&(d=m(a,h[0]));else{if(g)if(a.nodeType||a.setTimeout)d=[a];else{if(a.getDOMNodes)return a;d=s(a)?a:r(a)?f.makeArray(a):[a]}}else d=[];if(!d&&(d=[],a)){for(g=0;g<h.length;g++)w.apply(d,o(a,h[g]));1<d.length&&(1<h.length||k&&-1<a.indexOf(y))&&x(d)}d.each=j;return d}function o(a,
b){var c=v(a);if(c&&a.match(A)||!c)c=q(a,b);else if(c&&-1<a.indexOf(y)){var c=[],d,e=a.split(/\s*,\s*/);for(d=0;d<e.length;d++)w.apply(c,o(e[d],b))}else c=[],(d=f.require("sizzle"))&&d(a,b,c);return c}function m(a,b){var c,e,f,h;if(l.test(a))c=(e=g(a.slice(1),b))?[e]:[];else if(f=A.exec(a)){e=f[1];h=f[2];f=f[3];if(b=e?g(e,b):b)f?!e||-1!=a.indexOf(z)?c=[].concat(E(f,h,b)):(e=g(e,b))&&d(e,f)&&(c=[e]):h&&(c=k(h,b));c=c||[]}return c}function q(a,b){var c;v(a)?c=m(a,b)||[]:s(a)||r(a)?c=p(a,function(a){return u(a,
b)}):u(a,b)&&(c=[a]);return c}function u(c,d){return!c?!1:d==b?!0:a.contains(d,c)}function g(b,d){var e=d.nodeType==c.DOCUMENT_NODE,f,g;(g=(e?d:d.ownerDocument).getElementById(b))?h(g,b)?(f=0,e=e?0:1):(f=1,e=0):(f=e?0:1,e=0);f?g=a.filter(i,"#"+b,d)[0]||null:e&&!u(g,d)&&(g=null);return g}function k(a,b){return b&&t(b.getElementsByTagName(a))||[]}function d(a,b){var c;return(c=a.className)&&-1!==(" "+c+" ").indexOf(" "+b+" ")}function h(a,b){var c=a.getAttributeNode("id");return c&&c.nodeValue===b}
var b=f.Env.host.document,c=a.NodeType,p=f.filter,s=f.isArray,v=f.isString,t=f.makeArray,r=a._isNodeList,B=a.nodeName,w=Array.prototype.push,z=" ",y=",",D=f.trim,i="*",l=/^#[\w-]+$/,A=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=f.noop;(function(){var a,c,d=!0;[0,0].sort(function(){d=!1;return 0});x=function(b){if(a&&(c=d,b.sort(a),c))for(var e=1,g=b.length;e<g;)b[e]===b[e-1]?b.splice(e,1):e++;return b};a=b&&b.documentElement.compareDocumentPosition?function(a,b){return a==b?(c=!0,0):!a.compareDocumentPosition||
!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a==b)return c=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex}})();b&&function(){var a=b.createElement("div");a.appendChild(b.createComment(""));0<a.getElementsByTagName(i).length&&(k=function(a,b){var c=t(b.getElementsByTagName(a));if(a===i){for(var d=[],e=0,g;g=c[e++];)1===g.nodeType&&d.push(g);c=d}return c})}();var E=b&&b.getElementsByClassName?function(a,b,c){if(!c)return[];
var a=c.getElementsByClassName(a),d=0,e=a.length,g;if(b&&b!==i)for(c=[];d<e;++d)g=a[d],B(g)==b&&c.push(g);else c=t(a);return c}:b&&b.querySelectorAll?function(a,b,c){return c&&t(c.querySelectorAll((b?b:"")+"."+a))||[]}:function(a,b,c){if(!c)return[];for(var b=c.getElementsByTagName(b||i),c=[],e=0,g=b.length,f;e<g;++e)f=b[e],d(f,a)&&c.push(f);return c};f.mix(a,{query:n,get:function(a,b){return n(a,b)[0]||null},unique:x,filter:function(a,b,c){var a=n(a,c),c=f.require("sizzle"),e,g,k,i,j=[];if(v(b)&&
(b=D(b))&&(e=A.exec(b)))k=e[1],g=e[2],i=e[3],k?k&&!g&&!i&&(b=function(a){return h(a,k)}):b=function(a){var b=!0,c=!0;g&&(b=B(a)==g);i&&(c=d(a,i));return c&&b};f.isFunction(b)?j=f.filter(a,b):b&&c&&(j=c.matches(b,a));return j},test:function(b,c,d){b=n(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(f,a,e,j){if(!e.ie)return a;var n=f.Env.host.document,o=n&&n.documentElement,m=j._CUSTOM_STYLES,q=/^-?\d+(?:px)?$/i,u=/^-?\d/,g=/opacity\s*=\s*([^)]*)/,k=/alpha\([^)]*\)/i;m.backgroundPosition={get:function(a,c){return c?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==o.style.opacity&&(m.opacity={get:function(a,c){return g.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":c?"1":""},set:function(a,c){var c=parseFloat(c),d=a.style,e=a.currentStyle,g=isNaN(c)?"":"alpha(opacity="+100*c+")",h=f.trim(e&&e.filter||d.filter||"");d.zoom=1;if((1<=c||!g)&&!f.trim(h.replace(k,"")))if(d.removeAttribute("filter"),!g||e&&!e.filter)return;d.filter=k.test(h)?h.replace(k,g):h+(h?", ":"")+g}})}catch(d){}var e=8==e.ie,h={};h.thin=e?"1px":"2px";h.medium=e?"3px":"4px";h.thick=e?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(a){var c="border"+a+"Width",d="border"+
a+"Style";m[c]={get:function(a,b){var e=b?a.currentStyle:0,g=e&&""+e[c]||void 0;g&&0>g.indexOf("px")&&(g=h[g]&&"none"!==e[d]?h[g]:0);return g}}});if(!(n.defaultView||{}).getComputedStyle&&o.currentStyle)a._getComputedStyle=function(b,c){var c=a._cssProps[c]||c,d=b.currentStyle&&b.currentStyle[c];if(!q.test(d)&&u.test(d)&&-1==d.indexOf(" ")){var e=b.style,g=e.left,f=b.runtimeStyle&&b.runtimeStyle.left;f&&(b.runtimeStyle.left=b.currentStyle.left);e.left="fontSize"===c?"1em":d||0;d=e.pixelLeft+"px";
e.left=g;f&&(b.runtimeStyle.left=f)}return""===d?"auto":d};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(f,a,e,j){function n(a){return a.replace(r,"ms-").replace(B,w)}function o(a,c,d){var e={},g;for(g in c)e[g]=a[b][g],a[b][g]=c[g];d.call(a);for(g in c)a[b][g]=e[g]}function m(a,c,d){var e;if(3===a.nodeType||8===a.nodeType||!(e=a[b]))return j;var c=n(c),g,f=i[c],c=l[c]||c;if(d!==j){null===d||d===y?d=y:!isNaN(Number(d))&&!t[c]&&(d+=D);f&&f.set&&(d=f.set(a,d));if(d!==j){try{e[c]=d}catch(h){}d===y&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||a.removeAttribute("style");
return j}if(!f||!("get"in f&&(g=f.get(a,!1))!==j))g=e[c];return g===j?"":g}function q(a){var b,c=arguments;0!==a.offsetWidth?b=u.apply(j,c):o(a,F,function(){b=u.apply(j,c)});return b}function u(b,d,e){if(f.isWindow(b))return d==c?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==c?a.docWidth(b):a.docHeight(b);var g=d===c?["Left","Right"]:["Top","Bottom"],h=d===c?b.offsetWidth:b.offsetHeight;if(0<h)return"border"!==e&&f.each(g,function(c){e||(h-=parseFloat(a.css(b,"padding"+c))||0);
h="margin"===e?h+(parseFloat(a.css(b,e+c))||0):h-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),h;h=a._getComputedStyle(b,d);if(null==h||0>Number(h))h=b.style[d]||0;h=parseFloat(h)||0;e&&f.each(g,function(c){h+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(h+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(h+=parseFloat(a.css(b,e+c))||0)});return h}var g=f.Env.host,k=g.document,d=k&&k.documentElement,h=e.ie,b="style",c="width",p="display"+f.now(),s=parseInt,v=/^-?\d+(?:px)?$/i,t=
{fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},r=/^-ms-/,B=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},z=/([A-Z]|^ms)/g,y="",D="px",i={},l={},A={};d&&(d[b].cssFloat!==j?l["float"]="cssFloat":d[b].styleFloat!==j&&(l["float"]="styleFloat"));var x,E;f.mix(a,{_camelCase:n,_CUSTOM_STYLES:i,_cssProps:l,_getComputedStyle:function(c,d){var e="",g,f=c.ownerDocument,d=d.replace(z,"-$1").toLowerCase();if(g=f.defaultView.getComputedStyle(c,null))e=g.getPropertyValue(d)||
g[d];""==e&&!a.contains(f.documentElement,c)&&(d=l[d]||d,e=c[b][d]);return e},style:function(b,c,d){var b=a.query(b),e=b[0];if(f.isPlainObject(c)){for(var g in c)for(e=b.length-1;0<=e;e--)m(b[e],g,c[g]);return j}if(d===j)return g="",e&&(g=m(e,c,d)),g;for(e=b.length-1;0<=e;e--)m(b[e],c,d);return j},css:function(b,c,d){var b=a.query(b),e=b[0],g;if(f.isPlainObject(c)){for(g in c)for(e=b.length-1;0<=e;e--)m(b[e],g,c[g]);return j}c=n(c);g=i[c];if(d===j){d="";if(e&&(!g||!("get"in g&&(d=g.get(e,!0))!==j)))d=
a._getComputedStyle(e,c);return d===j?"":d}for(e=b.length-1;0<=e;e--)m(b[e],c,d);return j},show:function(c){var c=a.query(c),d,g;for(g=c.length-1;0<=g;g--)if(d=c[g],d[b].display=a.data(d,p)||y,"none"===a.css(d,"display")){var f;a:{f=d.tagName.toLowerCase();var h=void 0,i=void 0;if(!A[f]){h=k.body||k.documentElement;i=k.createElement(f);a.prepend(i,h);var j=a.css(i,"display");h.removeChild(i);if("none"==j||""==j){if(x)a.prepend(x,h);else if(x=k.createElement("iframe"),x.frameBorder=x.width=x.height=
0,a.prepend(x,h),i=void 0,i=a.getEmptyIframeSrc())x.src=i;if(!E||!x.createElement)try{E=x.contentWindow.document,E.write(("CSS1Compat"===k.compatMode?"<!doctype html>":"")+"<html><head>"+(e.ie&&a.isCustomDomain()?"<script>document.domain= '"+k.domain+"';<\/script>":"")+"</head><body>"),E.close()}catch(l){f="block";break a}i=E.createElement(f);E.body.appendChild(i);j=a.css(i,"display");h.removeChild(x)}A[f]=j}f=A[f]}a.data(d,p,f);d[b].display=f}},hide:function(c){var c=a.query(c),d,e;for(e=c.length-
1;0<=e;e--){d=c[e];var g=d[b],f=g.display;"none"!==f&&(f&&a.data(d,p,f),g.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||g;f.isString(b)&&(d=c,c=b,b=g);var b=a.get(b),b=a._getWin(b).document,e;if(d&&(d=d.replace("#",y)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},
unselectable:function(c){var c=a.query(c),d,g;for(g=c.length-1;0<=g;g--)if(d=c[g],e.gecko)d[b].MozUserSelect="none";else if(e.webkit)d[b].KhtmlUserSelect="none";else if(e.ie||e.opera){var f=0,h=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=h[f++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});f.each([c,"height"],
function(b){a["inner"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c){return(c=a.get(c))&&q(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,d){var e=a.get(c);return e&&q(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var F={position:"absolute",visibility:"hidden",display:"block"};f.each(["height","width"],function(a){i[a]={get:function(b,c){if(c)return q(b,a)+"px"},set:function(a,b){if(v.test(b)){if(b=parseFloat(b),
0<=b)return b+"px"}else return b}}});f.each(["left","top"],function(b){i[b]={get:function(c,d){if(d){var g=a._getComputedStyle(c,b);if("auto"===g){g=0;if(f.inArray(a.css(c,"position"),["absolute","fixed"])){g=c["left"===b?"offsetLeft":"offsetTop"];if(h&&9!=k.documentMode||e.opera)g-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;g-=s(a.css(c,"margin-"+b))||0}g+="px"}return g}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(f,a,e){function j(g,k,d,h,b,c,j){if(!(g=a.get(g)))return null;if(0===k)return g;c||(g=g[d]);if(!g)return null;b=b&&a.get(b)||null;k===e&&(k=1);var c=[],m=f.isArray(k),o,t;f.isNumber(k)&&(o=0,t=k,k=function(){return++o===t});for(;g&&g!=b;){if((g.nodeType==q.ELEMENT_NODE||g.nodeType==q.TEXT_NODE&&j)&&n(g,k)&&(!h||h(g)))if(c.push(g),!m)break;g=g[d]}return m?c:c[0]||null}function n(e,k){if(!k)return!0;if(f.isArray(k)){var d,h=k.length;if(!h)return!0;for(d=0;d<h;d++)if(a.test(e,
k[d]))return!0}else if(a.test(e,k))return!0;return!1}function o(e,k,d,h){var b=[],c,j;if((c=e=a.get(e))&&d)c=e.parentNode;if(c){d=f.makeArray(c.childNodes);for(c=0;c<d.length;c++)j=d[c],(h||j.nodeType==q.ELEMENT_NODE)&&j!=e&&b.push(j);k&&(b=a.filter(b,k))}return b}var m=f.Env.host.document,q=a.NodeType,u=(m=m&&m.documentElement)&&m.compareDocumentPosition?function(a,e){return!!(a.compareDocumentPosition(e)&16)}:m&&m.contains?function(a,e){a.nodeType==q.DOCUMENT_NODE&&(a=a.documentElement);e=e.parentNode;
return a==e?!0:e&&e.nodeType==q.ELEMENT_NODE?a.contains&&a.contains(e):!1}:0;f.mix(a,{closest:function(a,e,d,f){return j(a,e,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},d,!0,f)},parent:function(a,f,d){return j(a,f,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},d,e)},first:function(g,f,d){g=a.get(g);return j(g&&g.firstChild,f,"nextSibling",e,e,!0,d)},last:function(g,f,d){g=a.get(g);return j(g&&g.lastChild,f,"previousSibling",e,e,!0,d)},next:function(a,
f,d){return j(a,f,"nextSibling",e,e,e,d)},prev:function(a,f,d){return j(a,f,"previousSibling",e,e,e,d)},siblings:function(a,e,d){return o(a,e,!0,d)},children:function(a,f){return o(a,f,e)},contents:function(a,f){return o(a,f,e,1)},contains:function(e,f){e=a.get(e);f=a.get(f);return e&&f?u(e,f):!1},index:function(e,j){var d=a.query(e),h,b=0;h=d[0];if(!j){d=h&&h.parentNode;if(!d)return-1;for(;h=h.previousSibling;)h.nodeType==q.ELEMENT_NODE&&b++;return b}b=a.query(j);return"string"===typeof j?f.indexOf(h,
b):f.indexOf(b[0],d)},equals:function(e,f){e=a.query(e);f=a.query(f);if(e.length!=f.length)return!1;for(var d=e.length;0<=d;d--)if(e[d]!=f[d])return!1;return!0}});return a},{requires:["./base"]});
