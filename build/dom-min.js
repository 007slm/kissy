/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 15 20:44
*/
KISSY.add("dom/attr",function(b,a,f,i){function l(a,d){var d=A[d]||d,c=v[d];return c&&c.get?c.get(a,d):a[d]}var f=b.Env.host.document.documentElement,o=!f.hasAttribute,q=f.textContent===i?"innerText":"textContent",r=a.nodeName,t=a._isElementNode,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,h=/^(?:button|input|object|select|textarea)$/i,c=/^a(?:rea)?$/i,s=/:|^on/,g=/\r/g,m={},e={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},u={tabindex:{get:function(a){var d=a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):h.test(a.nodeName)||c.test(a.nodeName)&&a.href?0:i}},style:{get:function(a){return a.style.cssText},set:function(a,d){a.style.cssText=d}}},A={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},F={get:function(c,d){return a.prop(c,d)?d.toLowerCase():i},set:function(c,d,e){!1===d?a.removeAttr(c,e):(d=A[e]||e,d in c&&(c[d]=!0),c.setAttribute(e,e.toLowerCase()));return e}},v={},x={},C={option:{get:function(a){var d=a.attributes.value;return!d||d.specified?a.value:a.text}},select:{get:function(c){var d=c.selectedIndex,e=c.options;if(0>d)return null;if("select-one"===c.type)return a.val(e[d]);for(var c=[],d=0,k=e.length;d<
k;++d)e[d].selected&&c.push(a.val(e[d]));return c},set:function(c,d){var e=b.makeArray(d);b.each(c.options,function(k){k.selected=b.inArray(a.val(k),e)});e.length||(c.selectedIndex=-1);return e}}};o&&(x={get:function(a,d){var c;return(c=a.getAttributeNode(d))&&(c.specified||c.nodeValue)?c.nodeValue:i},set:function(a,d,c){var k=a.getAttributeNode(c);if(k)k.nodeValue=d;else try{var n=a.ownerDocument.createAttribute(c);n.value=d;a.setAttributeNode(n)}catch(e){return a.setAttribute(c,d,0)}}},m=A,u.tabIndex=
u.tabindex,b.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){u[a]={get:function(d){d=d.getAttribute(a,2);return d===null?i:d}}}),C.button=u.value=x);b.each(["radio","checkbox"],function(c){C[c]={get:function(a){return a.getAttribute("value")===null?"on":a.value},set:function(d,c){if(b.isArray(c))return d.checked=b.inArray(a.val(d),c)}}});b.mix(a,{prop:function(c,d,e){c=a.query(c);if(b.isPlainObject(d)){for(var k in d)a.prop(c,k,d[k]);return i}d=A[d]||d;k=v[d];if(e!==i)for(var n=
c.length-1;n>=0;n--){var g=c[n];k&&k.set?k.set(g,e,d):g[d]=e}else if(c.length)return l(c[0],d);return i},hasProp:function(c,d){for(var e=a.query(c),k=0;k<e.length;k++)if(l(e[k],d)!==i)return true;return false},removeProp:function(c,d){for(var d=A[d]||d,e=a.query(c),k=e.length-1;k>=0;k--){var n=e[k];try{n[d]=i;delete n[d]}catch(g){}}},attr:function(c,d,g,k){var n=a.query(c);if(b.isPlainObject(d)){var k=g,h;for(h in d)d.hasOwnProperty(h)&&a.attr(n,h,d[h],k);return i}if(!(d=b.trim(d)))return i;if(k&&
e[d])return a[d](c,g);d=d.toLowerCase();if(k&&e[d])return a[d](c,g);d=m[d]||d;k=n[0];c=j.test(d)?F:s.test(d)?x:u[d];if(g===i){if(k&&k.nodeType===a.ELEMENT_NODE){r(k)=="form"&&(c=x);if(c&&c.get)return c.get(k,d);d=k.getAttribute(d);return d===null?i:d}}else for(h=n.length-1;h>=0;h--)if((k=n[h])&&k.nodeType===a.ELEMENT_NODE){r(k)=="form"&&(c=x);c&&c.set?c.set(k,g,d):k.setAttribute(d,""+g)}return i},removeAttr:function(c,d){var d=d.toLowerCase(),d=m[d]||d,e=a.query(c),k,n;for(n=e.length-1;n>=0;n--){k=
e[n];if(t(k)){var g;k.removeAttribute(d);if(j.test(d)&&(g=A[d]||d)in k)k[g]=false}}},hasAttr:o?function(c,d){for(var d=d.toLowerCase(),e=a.query(c),k=0;k<e.length;k++){var n=e[k].getAttributeNode(d);if(n&&n.specified)return true}return false}:function(c,d){for(var e=a.query(c),k=0;k<e.length;k++)if(e[k].hasAttribute(d))return true;return false},val:function(c,d){var e,k;if(d===i){var n=a.get(c);if(n){if((e=C[r(n)]||C[n.type])&&"get"in e&&(k=e.get(n,"value"))!==i)return k;k=n.value;return typeof k===
"string"?k.replace(g,""):k==null?"":k}return i}k=a.query(c);var h;for(h=k.length-1;h>=0;h--){n=k[h];if(n.nodeType!==1)break;var j=d;j==null?j="":typeof j==="number"?j=j+"":b.isArray(j)&&(j=b.map(j,function(a){return a==null?"":a+""}));e=C[r(n)]||C[n.type];if(!e||!("set"in e)||e.set(n,j,"value")===i)n.value=j}return i},_propHooks:v,text:function(c,d){if(d===i){var e=a.get(c);if(t(e))return e[q]||"";if(a._nodeTypeIs(e,a.TEXT_NODE))return e.nodeValue}else{var k=a.query(c),n;for(n=k.length-1;n>=0;n--){e=
k[n];if(t(e))e[q]=d;else if(a._nodeTypeIs(e,a.TEXT_NODE))e.nodeValue=d}}return i}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(b,a,f){function i(a,b){return a&&a.nodeType===b}var l=b.Env.host,o={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},q={_isCustomDomain:function(a){var a=a||l,b=a.document.domain,a=a.location.hostname;return b!=a&&b!="["+a+"]"},_genEmptyIframeSrc:function(b){b=b||l;if(a.ie&&q._isCustomDomain(b))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+b.document.domain+"';document.close();")+"}())"},_NODE_TYPE:o,_isElementNode:function(a){return i(a,q.ELEMENT_NODE)},_getWin:function(a){return a&&"scrollTo"in a&&a.document?a:i(a,q.DOCUMENT_NODE)?a.defaultView||a.parentWindow:a===f||null===a?l:!1},_nodeTypeIs:i,_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(b){var f=q.get(b),b=f.nodeName.toLowerCase();a.ie&&(f=f.scopeName)&&"HTML"!=f&&(b=f.toLowerCase()+
":"+b);return b}};b.mix(q,o);return q},{requires:["ua"]});
KISSY.add("dom/class",function(b,a,f){function i(i,r,t,j){if(!(r=b.trim(r)))return j?!1:f;for(var i=a.query(i),h=i.length,c=r.split(l),r=[],s=0;s<c.length;s++){var g=b.trim(c[s]);g&&r.push(g)}for(s=0;s<h;s++)if(c=i[s],a._isElementNode(c)&&(c=t(c,r,r.length),c!==f))return c;return j?!1:f}var l=/[\.\s]\s*\.?/,o=/[\n\t]/g;b.mix(a,{hasClass:function(a,b){return i(a,b,function(a,b,h){if(a=a.className){for(var a=(" "+a+" ").replace(o," "),c=0,f=!0;c<h;c++)if(0>a.indexOf(" "+b[c]+" ")){f=!1;break}if(f)return!0}},
!0)},addClass:function(a,l){i(a,l,function(a,j,h){var c=a.className;if(c){for(var f=(" "+c+" ").replace(o," "),g=0;g<h;g++)0>f.indexOf(" "+j[g]+" ")&&(c+=" "+j[g]);a.className=b.trim(c)}else a.className=l},f)},removeClass:function(a,l){i(a,l,function(a,j,h){var c=a.className;if(c)if(h){for(var c=(" "+c+" ").replace(o," "),f=0,g;f<h;f++)for(g=" "+j[f]+" ";0<=c.indexOf(g);)c=c.replace(g," ");a.className=b.trim(c)}else a.className=""},f)},replaceClass:function(b,f,i){a.removeClass(b,f);a.addClass(b,
i)},toggleClass:function(l,o,t){var j=b.isBoolean(t),h;i(l,o,function(c,b,g){for(var f=0,e;f<g;f++)e=b[f],h=j?!t:a.hasClass(c,e),a[h?"removeClass":"addClass"](c,e)},f)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(b,a,f,i){function l(c){var e=b.require("event");e&&e.detach(c);a.removeData(c)}function o(k,e,d){if(h(e,a.DOCUMENT_FRAGMENT_NODE))for(var e=e.childNodes,d=d.childNodes,b=0;e[b];)d[b]&&o(k,e[b],d[b]),b++;else if(c(e)){e=e.getElementsByTagName("*");d=d.getElementsByTagName("*");for(b=0;e[b];)d[b]&&k(e[b],d[b]),b++}}function q(k,e){var d=b.require("event");if(!c(e)||a.hasData(k)){var g=a.data(k),p;for(p in g)a.data(e,p,g[p]);d&&(d._removeData(e),d._clone(k,e))}}function r(c,
e){e.clearAttributes&&e.clearAttributes();e.mergeAttributes&&e.mergeAttributes(c);var d=e.nodeName.toLowerCase(),b=c.childNodes;if("object"===d&&!e.childNodes.length)for(d=0;d<b.length;d++)e.appendChild(b[d].cloneNode(!0));else if("input"===d&&("checkbox"===c.type||"radio"===c.type)){if(c.checked&&(e.defaultChecked=e.checked=c.checked),e.value!==c.value)e.value=c.value}else if("option"===d)e.selected=c.defaultSelected;else if("input"===d||"textarea"===d)e.defaultValue=c.defaultValue;e.removeAttribute(a.__EXPANDO)}
function t(a,c){var e=null,d,p;if(a&&(a.push||a.item)&&a[0]){c=c||a[0].ownerDocument;e=c.createDocumentFragment();a=b.makeArray(a);d=0;for(p=a.length;d<p;d++)e.appendChild(a[d])}return e}var j=b.Env.host.document,f=f.ie,h=a._nodeTypeIs,c=a._isElementNode,s=b.isString,g=j.createElement("div"),m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,e=/<([\w:]+)/,u=/<tbody/i,A=/^\s+/,F=f&&9>f,v=/<|&#?\w+;/,x=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;b.mix(a,{create:function(d,g,f,u){var p=null;
if(!d)return p;if(d.nodeType)return a.clone(d);if(!s(d))return p;u===i&&(u=!0);u&&(d=b.trim(d));var u=a._creators,y,w,f=f||j,z,H="div";if(v.test(d))if(z=x.exec(d))p=f.createElement(z[1]);else{d=d.replace(m,"<$1></$2>");if((z=e.exec(d))&&(y=z[1]))H=y.toLowerCase();y=(u[H]||u.div)(d,f);F&&(w=d.match(A))&&y.insertBefore(f.createTextNode(w[0]),y.firstChild);d=y.childNodes;1===d.length?p=d[0].parentNode.removeChild(d[0]):d.length&&(p=t(d,f))}else p=f.createTextNode(d);b.isPlainObject(g)&&(c(p)?a.attr(p,
g,!0):h(p,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(p.childNodes,g,!0));return p},_creators:{div:function(a,c){var d=c&&c!=j?c.createElement("div"):g;d.innerHTML="m<div>"+a+"</div>";return d.lastChild}},html:function(k,b,g,f){var k=a.query(k),p=k[0];if(p){if(b===i)return c(p)?p.innerHTML:null;var h=!1,w,z,b=b+"";if(!b.match(/<(?:script|style|link)/i)&&(!F||!b.match(A))&&!d[(b.match(e)||["",""])[1].toLowerCase()])try{for(w=k.length-1;0<=w;w--)z=k[w],c(z)&&(l(z.getElementsByTagName("*")),z.innerHTML=b);h=!0}catch(H){}if(!h){b=
a.create(b,0,p.ownerDocument,0);for(w=k.length-1;0<=w;w--)z=k[w],c(z)&&(a.empty(z),a.append(b,z,g))}f&&f()}},remove:function(d,e){var b,g=a.query(d),p;for(p=g.length-1;0<=p;p--){b=g[p];if(!e&&c(b)){var f=b.getElementsByTagName("*");l(f);l(b)}b.parentNode&&b.parentNode.removeChild(b)}},clone:function(d,e,b,g){d=a.get(d);if(!d)return null;var p=d.cloneNode(e);if(c(d)||h(d,a.DOCUMENT_FRAGMENT_NODE))c(d)&&r(d,p),e&&o(r,d,p);b&&(q(d,p),e&&g&&o(q,d,p));return p},empty:function(d){var d=a.query(d),c,e;for(e=
d.length-1;0<=e;e--)c=d[e],a.remove(c.childNodes)},_nl2frag:t});var C=a._creators,B=a.create,d={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},D;for(D in d)(function(a){C[D]=function(d,c){return B("<"+a+">"+d+"</"+a+">",null,c)}})(d[D]);8>f&&(C.table=function(d,c){var e=C.div(d,c);if(u.test(d))return e;var g=e.firstChild,p=b.makeArray(g.childNodes);b.each(p,function(d){"tbody"==
a.nodeName(d)&&!d.childNodes.length&&g.removeChild(d)});return e});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(b,a,f){var i=b.Env.host,l="_ks_data_"+b.now(),o={},q={},r={applet:1,object:1,embed:1},t={hasData:function(a,h){if(a)if(h!==f){if(h in a)return!0}else if(!b.isEmptyObject(a))return!0;return!1}},j={hasData:function(a,b){return a==i?j.hasData(q,b):t.hasData(a[l],b)},data:function(a,b,g){if(a==i)return j.data(q,b,g);var h=a[l];if(g!==f)h=a[l]=a[l]||{},h[b]=g;else return b!==f?h&&h[b]:h=a[l]=a[l]||{}},removeData:function(a,h){if(a==i)return j.removeData(q,h);var g=a[l];if(h!==
f)delete g[h],b.isEmptyObject(g)&&j.removeData(a);else try{delete a[l]}catch(m){a[l]=f}}},h={hasData:function(a,b){var g=a[l];return!g?!1:t.hasData(o[g],b)},data:function(a,h,g){if(r[a.nodeName.toLowerCase()])return f;var j=a[l];if(!j){if(h!==f&&g===f)return f;j=a[l]=b.guid()}a=o[j];if(g!==f)a=o[j]=o[j]||{},a[h]=g;else return h!==f?a&&a[h]:a=o[j]=o[j]||{}},removeData:function(a,j){var g=a[l],i;if(g)if(i=o[g],j!==f)delete i[j],b.isEmptyObject(i)&&h.removeData(a);else{delete o[g];try{delete a[l]}catch(e){a[l]=
f}a.removeAttribute&&a.removeAttribute(l)}}};b.mix(a,{__EXPANDO:l,hasData:function(c,b){for(var g=!1,f=a.query(c),e=0;e<f.length&&!(g=f[e],g=g.nodeType?h.hasData(g,b):j.hasData(g,b));e++);return g},data:function(c,i,g){var c=a.query(c),m=c[0];if(b.isPlainObject(i)){for(var e in i)a.data(c,e,i[e]);return f}if(g===f){if(m)return m.nodeType?h.data(m,i,g):j.data(m,i,g)}else for(e=c.length-1;0<=e;e--)m=c[e],m.nodeType?h.data(m,i,g):j.data(m,i,g);return f},removeData:function(c,b){var g=a.query(c),f,e;
for(e=g.length-1;0<=e;e--)f=g[e],f.nodeType?h.removeData(f,b):j.removeData(f,b)}});return a},{requires:["./base"]});KISSY.add("dom",function(b,a){b.mix(b,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(b,a,f){function i(a){for(var b=0;b<a.length;b++){var g=a[b];if(g.nodeType==f.DOCUMENT_FRAGMENT_NODE)i(g.childNodes);else if("input"==t(g)){if("checkbox"===g.type||"radio"===g.type)g.defaultChecked=g.checked}else if(c(g))for(var g=g.getElementsByTagName("input"),h=0;h<g.length;h++)i(g[h])}}function l(a,b){var g=[],i,v,x;for(i=0;a[i];i++)if(v=a[i],x=t(v),v.nodeType==f.DOCUMENT_FRAGMENT_NODE)g.push.apply(g,l(j(v.childNodes),b));else if("script"===x&&(!v.type||s.test(v.type)))v.parentNode&&
v.parentNode.removeChild(v),b&&b.push(v);else{if(c(v)&&!r.test(x)){x=[];var m,B,d=v.getElementsByTagName("script");for(B=0;B<d.length;B++)m=d[B],(!m.type||s.test(m.type))&&x.push(m);h.apply(a,[i+1,0].concat(x))}g.push(v)}return g}function o(a){a.src?b.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function q(e,c,g,h){e=f.query(e);h&&(h=[]);e=l(e,h);8>a.ie&&i(e);var c=f.query(c),j=e.length,x=c.length;if((j||h&&h.length)&&x){var e=f._nl2frag(e),m;1<x&&(m=f.clone(e,
!0),c=b.makeArray(c));for(var B=0;B<x;B++){var d=c[B];if(j){var D=0<B?f.clone(m,!0):e;g(D,d)}h&&h.length&&b.each(h,o)}}}var r=/^(?:button|input|object|select|textarea)$/i,t=f.nodeName,j=b.makeArray,h=[].splice,c=f._isElementNode,s=/\/(java|ecma)script/i;b.mix(f,{insertBefore:function(a,c,b){q(a,c,function(a,e){e.parentNode&&e.parentNode.insertBefore(a,e)},b)},insertAfter:function(a,c,b){q(a,c,function(a,e){e.parentNode&&e.parentNode.insertBefore(a,e.nextSibling)},b)},appendTo:function(a,c,b){q(a,
c,function(a,e){e.appendChild(a)},b)},prependTo:function(a,c,b){q(a,c,function(a,e){e.insertBefore(a,e.firstChild)},b)},wrapAll:function(a,c){c=f.clone(f.get(c),!0);a=f.query(a);a[0].parentNode&&f.insertBefore(c,a[0]);for(var b;(b=c.firstChild)&&1==b.nodeType;)c=b;f.appendTo(a,c)},wrap:function(a,c){a=f.query(a);c=f.get(c);b.each(a,function(a){f.wrapAll(a,c)})},wrapInner:function(a,c){a=f.query(a);c=f.get(c);b.each(a,function(a){var b=a.childNodes;b.length?f.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=
f.query(a);b.each(a,function(a){a=a.parentNode;f.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var b=f.query(a),c=f.query(c);f.remove(c,!0);f.insertBefore(c,b);f.remove(b)}});var g={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},m;for(m in g)f[m]=f[g[m]];return f},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(b,a,f,i){function l(c){var b,j=c.ownerDocument.body,i=h(c[g]);b=c.getBoundingClientRect();c=b[m];b=b[e];c-=r.clientLeft||j.clientLeft;b-=r.clientTop||j.clientTop;"apple"==f.mobile&&(c-=a[A](i),b-=a[F](i));return{left:c,top:b}}function o(c,b){var e={left:0,top:0},f=h(c[g]),d=c,b=b||f;do{var j;if(f==b){var k=d;j=l(k);k=h(k[g]);j.left+=a[A](k);j.top+=a[F](k)}else j=l(d);e.left+=j.left;e.top+=j.top}while(f&&f!=b&&(d=f.frameElement)&&(f=f.parent));return e}var q=b.Env.host,
r=q.document.documentElement,t=a._isElementNode,j=a._nodeTypeIs,h=a._getWin,c=Math.max,s=parseInt,g="ownerDocument",m="left",e="top",u=b.isNumber,A="scrollLeft",F="scrollTop";b.mix(a,{offset:function(c,b,e){if(b===i){var c=a.get(c),g;c&&(g=o(c,e));return g}e=a.query(c);for(g=e.length-1;0<=g;g--){var c=e[g],d=b;"static"===a.css(c,"position")&&(c.style.position="relative");var h=o(c),f={},j=void 0,m=void 0;for(m in d)j=s(a.css(c,m),10)||0,f[m]=j+d[m]-h[m];a.css(c,f)}return i},scrollIntoView:function(c,
b,g,f,d){var l,k,n;if(k=a.get(c)){b&&(b=a.get(b));b||(b=k.ownerDocument);!0!==d&&(f=f===i?!0:!!f,g=g===i?!0:!!g);j(b,a.DOCUMENT_NODE)&&(b=h(b));n=!!h(b);d=a.offset(k);c=a.outerHeight(k);l=a.outerWidth(k);var o,u,p,y;n?(k=b,o=a.height(k),u=a.width(k),y={left:a.scrollLeft(k),top:a.scrollTop(k)},k=d[m]-y[m],n=d[e]-y[e],l=d[m]+l-(y[m]+u),d=d[e]+c-(y[e]+o)):(o=a.offset(b),u=b.clientHeight,p=b.clientWidth,y={left:a.scrollLeft(b),top:a.scrollTop(b)},k=d[m]-o[m]-(s(a.css(b,"borderLeftWidth"))||0),n=d[e]-
o[e]-(s(a.css(b,"borderTopWidth"))||0),l=d[m]+l-(o[m]+p+(s(a.css(b,"borderRightWidth"))||0)),d=d[e]+c-(o[e]+u+(s(a.css(b,"borderBottomWidth"))||0)));if(0>n||0<d)!0===g?a.scrollTop(b,y.top+n):!1===g?a.scrollTop(b,y.top+d):0>n?a.scrollTop(b,y.top+n):a.scrollTop(b,y.top+d);if(f&&(0>k||0<l))!0===g?a.scrollLeft(b,y.left+k):!1===g?a.scrollLeft(b,y.left+l):0>k?a.scrollLeft(b,y.left+k):a.scrollLeft(b,y.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});b.each(["Left",
"Top"],function(c,b){var e="scroll"+c;a[e]=function(g,d){if(u(g))return arguments.callee(q,g);var g=a.get(g),f,j=h(g);if(j)if(d!==i){var d=parseFloat(d),m="Left"==c?d:a.scrollLeft(j),l="Top"==c?d:a.scrollTop(j);j.scrollTo(m,l)}else f=j["page"+(b?"Y":"X")+"Offset"],u(f)||(j=j.document,f=j.documentElement[e],u(f)||(f=j.body[e]));else t(g)&&(d!==i?g[e]=parseFloat(d):f=g[e]);return f}});b.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=h(e).document;return c(e.documentElement["scroll"+
b],e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(c){var c=a.get(c),e="client"+b,c=h(c).document,g=c.body,d=c.documentElement[e];return"CSS1Compat"===c.compatMode&&d||g&&g[e]||d}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(b,a,f){function i(a){var c,b;for(b=0;b<this.length&&!(c=this[b],!1===a(c,b));b++);}function l(a,c){var w,z,h=u(a),j=c===f&&(z=1)?[g]:l(c,f);if(a)if(h)a=d(a),z&&"body"==a?w=[g.body]:1==j.length&&a&&(w=q(a,j[0]));else{if(z)if(a.nodeType||a.setTimeout)w=[a];else{if(a.getDOMNodes)return a;w=e(a)?a:F(a)?b.makeArray(a):[a]}}else w=[];if(!w&&(w=[],a)){for(z=0;z<j.length;z++)x.apply(w,o(a,j[z]));1<w.length&&(1<j.length||h&&-1<a.indexOf(B))&&G(w)}w.each=i;return w}function o(a,
c){var d=u(a);if(d&&a.match(n)||!d)d=r(a,c);else if(d&&-1<a.indexOf(B)){var d=[],e,g=a.split(/\s*,\s*/);for(e=0;e<g.length;e++)x.apply(d,o(g[e],c))}else d=[],(e=b.require("sizzle"))&&e(a,c,d);return d}function q(a,b){var d,e,g,f;if(k.test(a))d=(e=j(a.slice(1),b))?[e]:[];else if(g=n.exec(a)){e=g[1];f=g[2];g=g[3];if(b=e?j(e,b):b)g?!e||-1!=a.indexOf(C)?d=[].concat(E(g,f,b)):(e=j(e,b))&&c(e,g)&&(d=[e]):f&&(d=h(f,b));d=d||[]}return d}function r(a,c){var b;u(a)?b=q(a,c)||[]:e(a)||F(a)?b=m(a,function(a){return t(a,
c)}):t(a,c)&&(b=[a]);return b}function t(c,b){return!c?!1:b==g?!0:a.contains(b,c)}function j(c,b){var d=b;b.nodeType!==a.DOCUMENT_NODE&&(d=b.ownerDocument);(d=d.getElementById(c))&&d.id===c||(d&&d.parentNode?s(d,c)?t(d,b)||(d=null):d=a.filter(D,"#"+c,b)[0]||null:d=null);return d}function h(a,c){return c&&A(c.getElementsByTagName(a))||[]}function c(a,c){var b;return(b=a.className)&&-1!==(" "+b+" ").indexOf(" "+c+" ")}function s(a,c){var b=a.getAttributeNode("id");return b&&b.nodeValue===c}var g=b.Env.host.document,
m=b.filter,e=b.isArray,u=b.isString,A=b.makeArray,F=a._isNodeList,v=a.nodeName,x=Array.prototype.push,C=" ",B=",",d=b.trim,D="*",k=/^#[\w-]+$/,n=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,G=b.noop;(function(){var a,c,b=!0;[0,0].sort(function(){b=!1;return 0});G=function(d){if(a&&(c=b,d.sort(a),c))for(var e=1,g=d.length;e<g;)d[e]===d[e-1]?d.splice(e,1):e++;return d};a=g.documentElement.compareDocumentPosition?function(a,b){return a==b?(c=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?
a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a==b)return c=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex}})();(function(){var a=g.createElement("div");a.appendChild(g.createComment(""));0<a.getElementsByTagName(D).length&&(h=function(a,b){var c=A(b.getElementsByTagName(a));if(a===D){for(var d=[],e=0,g;g=c[e++];)1===g.nodeType&&d.push(g);c=d}return c})})();var E=g.getElementsByClassName?function(a,c,b){if(!b)return[];var a=b.getElementsByClassName(a),
d=0,e=a.length,g;if(c&&c!==D)for(b=[];d<e;++d)g=a[d],v(g)==c&&b.push(g);else b=A(a);return b}:g.querySelectorAll?function(a,b,c){return c&&A(c.querySelectorAll((b?b:"")+"."+a))||[]}:function(a,b,d){if(!d)return[];for(var b=d.getElementsByTagName(b||D),d=[],e=0,g=b.length,f;e<g;++e)f=b[e],c(f,a)&&d.push(f);return d};b.mix(a,{query:l,get:function(a,b){return l(a,b)[0]||null},unique:G,filter:function(a,e,g){var a=l(a,g),g=b.require("sizzle"),f,h,j,k,i=[];if(u(e)&&(e=d(e))&&(f=n.exec(e)))j=f[1],h=f[2],
k=f[3],j?j&&!h&&!k&&(e=function(a){return s(a,j)}):e=function(a){var b=!0,d=!0;h&&(b=v(a)==h);k&&(d=c(a,k));return d&&b};b.isFunction(e)?i=b.filter(a,e):e&&g&&(i=g.matches(e,a));return i},test:function(b,c,d){b=l(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(b,a,f,i){if(!f.ie)return a;var l=b.Env.host.document,o=l.documentElement,q=i._CUSTOM_STYLES,r=/^-?\d+(?:px)?$/i,t=/^-?\d/,j=/opacity=([^)]*)/,h=/alpha\([^)]*\)/i;q.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==o.style.opacity&&(q.opacity={get:function(a,b){return j.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":b?"1":""},set:function(a,c){var c=parseFloat(c),e=a.style,f=a.currentStyle,j=isNaN(c)?"":"alpha(opacity="+100*c+")",i=b.trim(f&&f.filter||e.filter||"");e.zoom=1;if(1<=c&&""===b.trim(i.replace(h,""))&&(e.removeAttribute("filter"),f&&!f.filter))return;e.filter=h.test(i)?i.replace(h,j):i+(i?", ":"")+j}})}catch(c){}var f=8==f.ie,s={};s.thin=f?"1px":"2px";s.medium=f?"3px":"4px";s.thick=f?"5px":"6px";b.each(["","Top","Left","Right","Bottom"],function(a){var b="border"+a+"Width",c="border"+a+"Style";
q[b]={get:function(a,g){var f=g?a.currentStyle:0,h=f&&""+f[b]||void 0;h&&0>h.indexOf("px")&&(h=s[h]&&"none"!==f[c]?s[h]:0);return h}}});if(!(l.defaultView||{}).getComputedStyle&&o.currentStyle)a._getComputedStyle=function(b,c){var c=a._cssProps[c]||c,e=b.currentStyle&&b.currentStyle[c];if(!r.test(e)&&t.test(e)){var f=b.style,h=f.left,j=b.runtimeStyle&&b.runtimeStyle.left;j&&(b.runtimeStyle.left=b.currentStyle.left);f.left="fontSize"===c?"1em":e||0;e=f.pixelLeft+"px";f.left=h;j&&(b.runtimeStyle.left=
j)}return""===e?"auto":e};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(b,a,f,i){function l(a){return a.replace(v,"ms-").replace(x,C)}function o(a,b,c){var d={},e;for(e in b)d[e]=a[g][e],a[g][e]=b[e];c.call(a);for(e in b)a[g][e]=d[e]}function q(a,b,c){var e;if(3===a.nodeType||8===a.nodeType||!(e=a[g]))return i;var b=l(b),f,h=k[b],b=n[b]||b;if(c!==i){null===c||c===d?c=d:!isNaN(Number(c))&&!F[b]&&(c+=D);h&&h.set&&(c=h.set(a,c));if(c!==i){try{e[b]=c}catch(j){}c===d&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||a.removeAttribute("style");
return i}if(!h||!("get"in h&&(f=h.get(a,!1))!==i))f=e[b];return f===i?"":f}function r(a){var b,c=arguments;0!==a.offsetWidth?b=t.apply(i,c):o(a,y,function(){b=t.apply(i,c)});return b}function t(c,d,e){if(b.isWindow(c))return d==m?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return d==m?a.docWidth(c):a.docHeight(c);var g=d===m?["Left","Right"]:["Top","Bottom"],f=d===m?c.offsetWidth:c.offsetHeight;if(0<f)return"border"!==e&&b.each(g,function(b){e||(f-=parseFloat(a.css(c,"padding"+b))||0);
f="margin"===e?f+(parseFloat(a.css(c,e+b))||0):f-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),f;f=a._getComputedStyle(c,d);if(null==f||0>Number(f))f=c.style[d]||0;f=parseFloat(f)||0;e&&b.each(g,function(b){f+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(f+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(f+=parseFloat(a.css(c,e+b))||0)});return f}var j=b.Env.host,h=j.document,c=h.documentElement,s=f.ie,g="style",m="width",e="display"+b.now(),u=parseInt,A=/^-?\d+(?:px)?$/i,F={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},v=/^-ms-/,x=/-([a-z])/ig,C=function(a,b){return b.toUpperCase()},B=/([A-Z]|^ms)/g,d="",D="px",k={},n={},G={};c[g].cssFloat!==i?n["float"]="cssFloat":c[g].styleFloat!==i&&(n["float"]="styleFloat");var E,p;b.mix(a,{_camelCase:l,_CUSTOM_STYLES:k,_cssProps:n,_getComputedStyle:function(b,c){var d="",e,f=b.ownerDocument,c=c.replace(B,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(b,null))d=e.getPropertyValue(c)||e[c];""==
d&&!a.contains(f.documentElement,b)&&(c=n[c]||c,d=b[g][c]);return d},style:function(c,d,e){var c=a.query(c),f=c[0];if(b.isPlainObject(d)){for(var g in d)for(f=c.length-1;0<=f;f--)q(c[f],g,d[g]);return i}if(e===i)return g="",f&&(g=q(f,d,e)),g;for(f=c.length-1;0<=f;f--)q(c[f],d,e);return i},css:function(c,d,e){var c=a.query(c),f=c[0];if(b.isPlainObject(d)){for(var g in d)for(f=c.length-1;0<=f;f--)q(c[f],g,d[g]);return i}d=l(d);g=k[d];if(e===i){e="";if(f&&(!g||!("get"in g&&(e=g.get(f,!0))!==i)))e=a._getComputedStyle(f,
d);return e===i?"":e}for(f=c.length-1;0<=f;f--)q(c[f],d,e);return i},show:function(c){var c=a.query(c),b,j;for(j=c.length-1;0<=j;j--)if(b=c[j],b[g].display=a.data(b,e)||d,"none"===a.css(b,"display")){var i;a:{i=b.tagName.toLowerCase();var k=void 0,l=void 0;if(!G[i]){k=h.body||h.documentElement;l=h.createElement(i);a.prepend(l,k);var m=a.css(l,"display");k.removeChild(l);if("none"==m||""==m){if(E)a.prepend(E,k);else if(E=h.createElement("iframe"),E.frameBorder=E.width=E.height=0,a.prepend(E,k),l=void 0,
l=a._genEmptyIframeSrc())E.src=l;if(!p||!E.createElement)try{p=E.contentWindow.document,p.write(("CSS1Compat"===h.compatMode?"<!doctype html>":"")+"<html><head>"+(f.ie&&a._isCustomDomain()?"<script>document.domain = '"+h.domain+"';<\/script>":"")+"</head><body>"),p.close()}catch(n){i="block";break a}l=p.createElement(i);p.body.appendChild(l);m=a.css(l,"display");k.removeChild(E)}G[i]=m}i=G[i]}a.data(b,e,i);b[g].display=i}},hide:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--){b=c[d];var f=
b[g],h=f.display;"none"!==h&&(h&&a.data(b,e,h),f.display="none")}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],"none"===a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(c,e,f){c=c||j;b.isString(c)&&(f=e,e=c,c=j);var c=a.get(c),c=a._getWin(c).document,g;if(f&&(f=f.replace("#",d)))g=a.get("#"+f,c);g||(g=a.create("<style>",{id:f},c),a.get("head",c).appendChild(g),g.styleSheet?g.styleSheet.cssText=e:g.appendChild(c.createTextNode(e)))},unselectable:function(c){var c=
a.query(c),b,d;for(d=c.length-1;0<=d;d--)if(b=c[d],f.gecko)b[g].MozUserSelect="none";else if(f.webkit)b[g].KhtmlUserSelect="none";else if(f.ie||f.opera){var e=0,h=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=h[e++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});b.each([m,"height"],function(c){a["inner"+(c.charAt(0).toUpperCase()+
c.substring(1))]=function(b){return(b=a.get(b))&&r(b,c,"padding")};a["outer"+(c.charAt(0).toUpperCase()+c.substring(1))]=function(b,d){var e=a.get(b);return e&&r(e,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e}});var y={position:"absolute",visibility:"hidden",display:"block"};b.each(["height","width"],function(a){k[a]={get:function(c,b){if(b)return r(c,a)+"px"},set:function(a,c){if(A.test(c)){if(c=parseFloat(c),0<=c)return c+"px"}else return c}}});b.each(["left",
"top"],function(c){k[c]={get:function(d,e){if(e){var g=a._getComputedStyle(d,c);if("auto"===g){g=0;if(b.inArray(a.css(d,"position"),["absolute","fixed"])){g=d["left"===c?"offsetLeft":"offsetTop"];if(s&&9!=h.documentMode||f.opera)g-=d.offsetParent&&d.offsetParent["client"+("left"==c?"Left":"Top")]||0;g-=u(a.css(d,"margin-"+c))||0}g+="px"}return g}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(b,a,f){function i(j,h,c,i,g,m){if(!(j=a.get(j)))return null;if(0===h)return j;m||(j=j[c]);if(!j)return null;g=g&&a.get(g)||null;h===f&&(h=1);var m=[],e=b.isArray(h),o,r;b.isNumber(h)&&(o=0,r=h,h=function(){return++o===r});for(;j&&j!=g;){if(q(j)&&l(j,h)&&(!i||i(j)))if(m.push(j),!e)break;j=j[c]}return e?m:m[0]||null}function l(f,h){if(!h)return!0;if(b.isArray(h))for(var c=0;c<h.length;c++){if(a.test(f,h[c]))return!0}else if(a.test(f,h))return!0;return!1}function o(f,
h,c,i){var g=[],l=f=a.get(f);f&&c&&(l=f.parentNode);l&&(g=b.makeArray(l.childNodes),i||(g=a.filter(g,function(a){return a.nodeType==1})),h&&(g=a.filter(g,h)));return g}var q=a._isElementNode,r=b.Env.host.document,t=r.documentElement.contains?function(b,f){if(b.nodeType==a.TEXT_NODE)return!1;var c;if(f.nodeType==a.TEXT_NODE)f=f.parentNode,c=!0;else{if(f.nodeType==a.DOCUMENT_NODE)return!1;c=b!==f}return c&&(b.contains?b.contains(f):!0)}:r.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&
16)}:0;b.mix(a,{closest:function(b,f,c){return i(b,f,"parentNode",function(c){return c.nodeType!=a.DOCUMENT_FRAGMENT_NODE},c,!0)},parent:function(b,f,c){return i(b,f,"parentNode",function(c){return c.nodeType!=a.DOCUMENT_FRAGMENT_NODE},c)},first:function(b,h){var c=a.get(b);return i(c&&c.firstChild,h,"nextSibling",f,f,!0)},last:function(b,h){var c=a.get(b);return i(c&&c.lastChild,h,"previousSibling",f,f,!0)},next:function(a,b){return i(a,b,"nextSibling",f)},prev:function(a,b){return i(a,b,"previousSibling",
f)},siblings:function(a,b){return o(a,b,!0)},children:function(a,b){return o(a,b,f)},contents:function(a,b){return o(a,b,f,1)},contains:function(b,f){b=a.get(b);f=a.get(f);return b&&f?t(b,f):!1},equals:function(b,f){b=a.query(b);f=a.query(f);if(b.length!=f.length)return!1;for(var c=b.length;0<=c;c--)if(b[c]!=f[c])return!1;return!0}});return a},{requires:["./base"]});
