/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Sep 5 23:52
*/
KISSY.add("dom/attr",function(m,d,s,r){function u(l,f){f=B[f]||f;var h=A[f];return h&&h.get?h.get(l,f):l[f]}s=document.documentElement;var z=!s.hasAttribute,w=s.textContent===r?"innerText":"textContent",i=d._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,j=/:|^on/,o=/\r/g,p={},v={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},x=
{tabindex:{get:function(l){var f=l.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):q.test(l.nodeName)||t.test(l.nodeName)&&l.href?0:r}},style:{get:function(l){return l.style.cssText},set:function(l,f){l.style.cssText=f}}},B={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
E={get:function(l,f){return d.prop(l,f)?f.toLowerCase():r},set:function(l,f,h){if(f===false)d.removeAttr(l,h);else{f=B[h]||h;if(f in l)l[f]=true;l.setAttribute(h,h.toLowerCase())}return h}},A={},C={},D={option:{get:function(l){var f=l.attributes.value;return!f||f.specified?l.value:l.text}},select:{get:function(l){var f=l.selectedIndex,h=l.options;l=l.type==="select-one";if(f<0)return null;else if(l)return d.val(h[f]);f=[];l=0;for(var c=h.length;l<c;++l)h[l].selected&&f.push(d.val(h[l]));return f},
set:function(l,f){var h=m.makeArray(f);m.each(l.options,function(c){c.selected=m.inArray(d.val(c),h)});if(!h.length)l.selectedIndex=-1;return h}}};if(z){C={get:function(l,f){var h;return(h=l.getAttributeNode(f))&&h.nodeValue!==""?h.nodeValue:r},set:function(l,f,h){var c=l.getAttributeNode(h);if(c)c.nodeValue=f;else try{var e=l.ownerDocument.createAttribute(h);e.value=f;l.setAttributeNode(e)}catch(a){return l.setAttribute(h,f,0)}}};p=B;x.tabIndex=x.tabindex;m.each(["href","src","width","height","colSpan",
"rowSpan"],function(l){x[l]={get:function(f){f=f.getAttribute(l,2);return f===null?r:f}}});D.button=x.value=C}m.each(["radio","checkbox"],function(l){D[l]={get:function(f){return f.getAttribute("value")===null?"on":f.value},set:function(f,h){if(m.isArray(h))return f.checked=m.inArray(d.val(f),h)}}});m.mix(d,{prop:function(l,f,h){if(m.isPlainObject(f))for(var c in f)d.prop(l,c,f[c]);else{l=d.query(l);f=B[f]||f;var e=A[f];if(h!==r)l.each(function(a){if(e&&e.set)e.set(a,h,f);else a[f]=h});else if(l.length)return u(l[0],
f)}},hasProp:function(l,f){for(var h=d.query(l),c=0;c<h.length;c++)if(u(h[c],f)!==r)return true;return false},removeProp:function(l,f){f=B[f]||f;d.query(l).each(function(h){try{h[f]=r;delete h[f]}catch(c){}})},attr:function(l,f,h,c){if(m.isPlainObject(f)){c=h;for(var e in f)d.attr(l,e,f[e],c)}else if(f=m.trim(f)){f=f.toLowerCase();if(c&&v[f])return d[f](l,h);f=p[f]||f;var a;a=k.test(f)?E:j.test(f)?C:x[f];if(h===r){l=d.get(l);if(i(l)){if(l.nodeName.toLowerCase()=="form")a=C;if(a&&a.get)return a.get(l,
f);l=l.getAttribute(f);return l===null?r:l}}else d.query(l).each(function(b){if(i(b)){var g=a;if(b.nodeName.toLowerCase()=="form")g=C;g&&g.set?g.set(b,h,f):b.setAttribute(f,""+h)}})}},removeAttr:function(l,f){f=f.toLowerCase();f=p[f]||f;d.query(l).each(function(h){if(i(h)){var c;h.removeAttribute(f);if(k.test(f)&&(c=B[f]||f)in h)h[c]=false}})},hasAttr:z?function(l,f){f=f.toLowerCase();for(var h=d.query(l),c=0;c<h.length;c++){var e=h[c].getAttributeNode(f);if(e&&e.specified)return true}return false}:
function(l,f){for(var h=d.query(l),c=0;c<h.length;c++)if(h[c].hasAttribute(f))return true;return false},val:function(l,f){var h,c;if(f===r){var e=d.get(l);if(e){if((h=D[e.nodeName.toLowerCase()]||D[e.type])&&"get"in h&&(c=h.get(e,"value"))!==r)return c;c=e.value;return typeof c==="string"?c.replace(o,""):m.isNullOrUndefined(c)?"":c}}else d.query(l).each(function(a){if(a.nodeType===1){var b=f;if(m.isNullOrUndefined(b))b="";else if(typeof b==="number")b+="";else if(m.isArray(b))b=m.map(b,function(g){return m.isNullOrUndefined(b)?
"":g+""});h=D[a.nodeName.toLowerCase()]||D[a.type];if(!h||!("set"in h)||h.set(a,b,"value")===r)a.value=b}})},text:function(l,f){if(f===r){var h=d.get(l);if(i(h))return h[w]||"";else if(d._nodeTypeIs(h,d.TEXT_NODE))return h.nodeValue;return r}else d.query(l).each(function(c){if(i(c))c[w]=f;else if(d._nodeTypeIs(c,d.TEXT_NODE))c.nodeValue=f})}});return d},{requires:["./base","ua"]});
KISSY.add("dom/base",function(m,d){function s(u,z){return u&&u.nodeType===z}var r={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(u){return s(u,r.ELEMENT_NODE)},_getWin:function(u){return u&&"scrollTo"in u&&u.document?u:s(u,r.DOCUMENT_NODE)?u.defaultView||u.parentWindow:u===d||u===null?window:false},
_nodeTypeIs:s,_isNodeList:function(u){return u&&!u.nodeType&&u.item&&!u.setTimeout}};return r});
KISSY.add("dom/class",function(m,d,s){function r(w,i,k,q){if(!(i=m.trim(i)))return q?false:s;w=d.query(w);var t=w.length,j=i.split(u);i=[];for(var o=0;o<j.length;o++){var p=m.trim(j[o]);p&&i.push(p)}for(o=0;o<t;o++){j=w[o];if(d._isElementNode(j)){j=k(j,i,i.length);if(j!==s)return j}}if(q)return false;return s}var u=/[\.\s]\s*\.?/,z=/[\n\t]/g;m.mix(d,{hasClass:function(w,i){return r(w,i,function(k,q,t){if(k=k.className){k=(" "+k+" ").replace(z," ");for(var j=0,o=true;j<t;j++)if(k.indexOf(" "+q[j]+
" ")<0){o=false;break}if(o)return true}},true)},addClass:function(w,i){r(w,i,function(k,q,t){var j=k.className;if(j){var o=(" "+j+" ").replace(z," ");j=j;for(var p=0;p<t;p++)if(o.indexOf(" "+q[p]+" ")<0)j+=" "+q[p];k.className=m.trim(j)}else k.className=i},s)},removeClass:function(w,i){r(w,i,function(k,q,t){var j=k.className;if(j)if(t){j=(" "+j+" ").replace(z," ");for(var o=0,p;o<t;o++)for(p=" "+q[o]+" ";j.indexOf(p)>=0;)j=j.replace(p," ");k.className=m.trim(j)}else k.className=""},s)},replaceClass:function(w,
i,k){d.removeClass(w,i);d.addClass(w,k)},toggleClass:function(w,i,k){var q=m.isBoolean(k),t;r(w,i,function(j,o,p){for(var v=0,x;v<p;v++){x=o[v];t=q?!k:d.hasClass(j,x);d[t?"removeClass":"addClass"](j,x)}},s)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(m,d,s,r){function u(a,b,g){if(b.nodeType==d.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;g=g.childNodes;for(var n=0;b[n];){g[n]&&u(a,b[n],g[n]);n++}}else if(b.nodeType==d.ELEMENT_NODE){b=b.getElementsByTagName("*");g=g.getElementsByTagName("*");for(n=0;b[n];){g[n]&&a(b[n],g[n]);n++}}}function z(a,b){var g=m.require("event");if(!(b.nodeType!==d.ELEMENT_NODE&&!d.hasData(a))){var n=d.data(a),y;for(y in n)d.data(b,y,n[y]);if(g){g._removeData(b);g._clone(a,b)}}}function w(a,b){b.clearAttributes&&
b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);var g=b.nodeName.toLowerCase();if(g==="object"&&!b.childNodes.length)m.each(a.childNodes,function(n){b.appendChild(n)});else if(g==="input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(g==="option")b.selected=a.defaultSelected;else if(g==="input"||g==="textarea")b.defaultValue=a.defaultValue;b.removeAttribute(d.__EXPANDO)}function i(a,b){if(m.isPlainObject(b))if(v(a))d.attr(a,
b,true);else a.nodeType==d.DOCUMENT_FRAGMENT_NODE&&m.each(a.childNodes,function(g){d.attr(g,b,true)});return a}function k(a,b){var g=null,n,y;if(a&&(a.push||a.item)&&a[0]){b=b||a[0].ownerDocument;g=b.createDocumentFragment();if(a.item)a=m.makeArray(a);n=0;for(y=a.length;n<y;n++)g.appendChild(a[n])}return g}function q(a,b){b=(b+"").replace(A,"");try{a.innerHTML=b}catch(g){for(;a.firstChild;)a.removeChild(a.firstChild);b&&a.appendChild(d.create(b))}}function t(a,b,g,n){if(g){var y=m.guid("ks-tmp-"),
G=RegExp(A);b+='<span id="'+y+'"></span>';m.available(y,function(){var H=d.get("head"),F,I,K,M,L,J;for(G.lastIndex=0;F=G.exec(b);)if((K=(I=F[1])?I.match(D):false)&&K[2]){F=j.createElement("script");F.src=K[2];if((M=I.match(l))&&M[2])F.charset=M[2];F.async=true;H.appendChild(F)}else if((J=F[2])&&J.length>0)m.globalEval(J);(L=j.getElementById(y))&&d.remove(L);m.isFunction(n)&&n()});q(a,b)}else{q(a,b);m.isFunction(n)&&n()}}var j=document,o=s.ie,p=d._nodeTypeIs,v=d._isElementNode,x=j.createElement("div"),
B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,E=/<(\w+)/,A=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,D=/\ssrc=(['"])(.*?)\1/i,l=/\scharset=(['"])(.*?)\1/i;m.mix(d,{create:function(a,b,g){if(p(a,d.ELEMENT_NODE)||p(a,d.TEXT_NODE))return d.clone(a);if(!(a=m.trim(a)))return null;var n=null,y=d._creators,G,H="div",F;if(G=C.exec(a))n=(g||j).createElement(G[1]);else{a=a.replace(B,"<$1></$2>");if((G=E.exec(a))&&(F=G[1]))H=F.toLowerCase();
a=(y[H]||y.div)(a,g).childNodes;if(a.length===1)n=a[0].parentNode.removeChild(a[0]);else if(a.length)n=k(a,g||j)}return i(n,b)},_creators:{div:function(a,b){var g=b?b.createElement("div"):x;g.innerHTML="m<div>"+a+"</div>";return g.lastChild}},html:function(a,b,g,n){if(b===r){a=d.get(a);if(v(a))return a.innerHTML}else d.query(a).each(function(y){v(y)&&t(y,b,g,n)})},remove:function(a,b){d.query(a).each(function(g){if(!b&&g.nodeType==d.ELEMENT_NODE){var n=m.require("event");if(n){n.detach(g.getElementsByTagName("*"));
n.detach(g)}d.removeData(g.getElementsByTagName("*"));d.removeData(g)}g.parentNode&&g.parentNode.removeChild(g)})},clone:function(a,b,g,n){a=d.get(a);if(!a)return null;var y=a.cloneNode(b);if(a.nodeType==d.ELEMENT_NODE||a.nodeType==d.DOCUMENT_FRAGMENT_NODE){a.nodeType==d.ELEMENT_NODE&&w(a,y);b&&u(w,a,y)}if(g){z(a,y);b&&n&&u(z,a,y)}return y},_nl2frag:k});if(o||s.gecko||s.webkit){var f=d._creators,h=d.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/;s={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"};for(var e in s)(function(a){f[e]=function(b,g){return h("<"+a+">"+b+"</"+a+">",null,g)}})(s[e]);if(o<8)f.tbody=function(a,b){var g=h("<table>"+a+"</table>",null,b),n=g.children.tags("tbody")[0];g.children.length>1&&n&&!c.test(a)&&n.parentNode.removeChild(n);return g};m.mix(f,{optgroup:f.option,th:f.td,thead:f.tbody,tfoot:f.tbody,caption:f.tbody,colgroup:f.tbody})}return d},{requires:["./base","ua"]});
KISSY.add("dom/data",function(m,d,s){var r=window,u="_ks_data_"+m.now(),z={},w={},i={};i.applet=1;i.object=1;i.embed=1;var k={hasData:function(j,o){if(j)if(o!==s){if(o in j)return true}else if(!m.isEmptyObject(j))return true;return false}},q={hasData:function(j,o){if(j==r)return q.hasData(w,o);return k.hasData(j[u],o)},data:function(j,o,p){if(j==r)return q.data(w,o,p);var v=j[u];if(p!==s){v=j[u]=j[u]||{};v[o]=p}else if(o!==s)return v&&v[o];else return v=j[u]=j[u]||{}},removeData:function(j,o){if(j==
r)return q.removeData(w,o);var p=j[u];if(p)if(o!==s){delete p[o];m.isEmptyObject(p)&&q.removeData(j,s)}else delete j[u]}},t={hasData:function(j,o){var p=j[u];if(!p)return false;return k.hasData(z[p],o)},data:function(j,o,p){if(!i[j.nodeName.toLowerCase()]){var v=j[u];v||(v=j[u]=m.guid());j=z[v];if(p!==s){j=z[v]=z[v]||{};j[o]=p}else if(o!==s)return j&&j[o];else return j=z[v]=z[v]||{}}},removeData:function(j,o){var p=j[u];if(p){var v=z[p];if(v)if(o!==s){delete v[o];m.isEmptyObject(v)&&t.removeData(j,
s)}else{delete z[p];try{delete j[u]}catch(x){}j.removeAttribute&&j.removeAttribute(u)}}}};m.mix(d,{__EXPANDO:u,hasData:function(j,o){for(var p=false,v=d.query(j),x=0;x<v.length;x++)if(p=(p=v[x])&&p.nodeType?t.hasData(p,o):q.hasData(p,o))break;return p},data:function(j,o,p){if(m.isPlainObject(o))for(var v in o)d.data(j,v,o[v]);else if(p===s)if((j=d.get(j))&&j.nodeType)return t.data(j,o,p);else{if(j)return q.data(j,o,p)}else d.query(j).each(function(x){x&&x.nodeType?t.data(x,o,p):q.data(x,o,p)})},removeData:function(j,
o){d.query(j).each(function(p){p&&p.nodeType?t.removeData(p,o):q.removeData(p,o)})}});return d},{requires:["./base"]});
KISSY.add("dom/insertion",function(m,d){function s(w,i,k){w=d.query(w);i=d.query(i);if(w.length&&i.length){w=r(w);var q;if(i.length>1)q=d.clone(w,true);for(var t=0;t<i.length;t++){var j=i[t],o=t>0?d.clone(q,true):w;k(o,j)}}}var r=d._nl2frag;m.mix(d,{insertBefore:function(w,i){s(w,i,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q)})},insertAfter:function(w,i){s(w,i,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q.nextSibling)})},appendTo:function(w,i){s(w,i,function(k,q){q.appendChild(k)})},
prependTo:function(w,i){s(w,i,function(k,q){q.insertBefore(k,q.firstChild)})}});var u={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},z;for(z in u)d[z]=d[u[z]];return d},{requires:["./create"]});
KISSY.add("dom/offset",function(m,d,s,r){function u(f){var h,c=0;h=0;var e=i.body,a=o(f[B]);if(f[l]){h=f[l]();c=h[E];h=h[A];f=k&&i.documentMode!=9&&(p?q.clientTop:e.clientTop)||0;c-=k&&i.documentMode!=9&&(p?q.clientLeft:e.clientLeft)||0;h-=f;if(s.mobile=="apple"){c-=d[C](a);h-=d[D](a)}}return{left:c,top:h}}function z(f,h){var c={left:0,top:0},e=o(f[B]),a=f;h=h||e;do{var b;if(e==h){var g=a;b=u(g);g=o(g[B]);b.left+=d[C](g);b.top+=d[D](g);b=b}else b=u(a);b=b;c.left+=b.left;c.top+=b.top}while(e&&e!=h&&
(a=e.frameElement)&&(e=e.parent));return c}var w=window,i=document,k=s.ie,q=i.documentElement,t=d._isElementNode,j=d._nodeTypeIs,o=d._getWin,p=i.compatMode==="CSS1Compat",v=Math.max,x=parseInt,B="ownerDocument",E="left",A="top",C="scrollLeft",D="scrollTop",l="getBoundingClientRect";m.mix(d,{offset:function(f,h,c){if(h===r){f=d.get(f);var e;if(f)e=z(f,c);return e}d.query(f).each(function(a){if(d.css(a,"position")==="static")a.style.position="relative";var b=z(a),g={},n,y;for(y in h){n=x(d.css(a,y),
10)||0;g[y]=n+h[y]-b[y]}d.css(a,g)})},scrollIntoView:function(f,h,c,e,a){if(f=d.get(f)){if(a!==true){e=e===r?true:!!e;c=c===r?true:!!c}if(!h||(h=d.get(h))===w)f.scrollIntoView(c);else{if(j(h,9))h=o(h);var b=!!o(h);a=d.offset(f);var g=b?{left:d.scrollLeft(h),top:d.scrollTop(h)}:d.offset(h),n={left:a[E]-g[E],top:a[A]-g[A]};a=b?d.viewportHeight(h):h.clientHeight;g=b?d.viewportWidth(h):h.clientWidth;var y=d[C](h),G=d[D](h),H=y+g,F=G+a,I=d.outerHeight(f);f=d.outerWidth(f);var K=n.left+y-(b?0:x(d.css(h,
"borderLeftWidth"))||0);b=n.top+G-(b?0:x(d.css(h,"borderTopWidth"))||0);n=K+f;var M=b+I,L,J;if(I>a||b<G||c)L=b;else if(M>F)L=M-a;if(e)if(f>g||K<y||c)J=K;else if(n>H)J=n-g;L!==r&&d[D](h,L);J!==r&&d[C](h,J)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});m.each(["Left","Top"],function(f,h){var c="scroll"+f;d[c]=function(e,a){if(m.isNumber(e))return arguments.callee(w,e);e=d.get(e);var b,g=o(e);if(g)if(a!==r){var n=f=="Left"?a:d.scrollLeft(g),y=f=="Top"?a:d.scrollTop(g);g.scrollTo(n,y)}else{b=
g.document;b=g[h?"pageYOffset":"pageXOffset"]||b.documentElement[c]||b.body[c]}else if(t(e))if(a!==r)e[c]=a;else b=e[c];return b}});m.each(["Width","Height"],function(f){d["doc"+f]=function(h){h=d.get(h);h=o(h).document;return v(h.documentElement["scroll"+f],h.body["scroll"+f],d["viewport"+f](h))};d["viewport"+f]=function(h){h=d.get(h);var c="inner"+f;h=o(h);var e=h.document;return c in h?h[c]:p?e.documentElement["client"+f]:e.body["client"+f]}});return d},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(m,d,s){function r(c,e){var a=[],b;b=e===s?[t]:r(e,s);p(b,function(g){E.apply(a,u(c,g))});if(m.isString(c)&&c.indexOf(",")>-1||b.length>1)f(a);a.each=m.bind(p,s,a);return a}function u(c,e){var a=[];o("sizzle");if(C(c))c=m.trim(c);if(C(c)&&c.indexOf(",")>-1)a=z(c,e);else{if(C(c)&&!l.exec(String(c))){a=c;var b=[],g=o("sizzle");g&&g(a,e,b);a=b}else a=w(c,e);a=a}return a=a}function z(c,e){var a=[],b=c.split(",");p(b,function(g){E.apply(a,u(g,e))});return a}function w(c,
e){var a,b,g=[],n;if(C(c))if(D.test(c)){if(b=k(c.slice(1),e))g=[b]}else{if(a=l.exec(c)){b=a[1];n=a[2];a=a[3];if(e=b?k(b,e):e)if(a)if(!b||c.indexOf(A)!=-1)g=[].concat(h(a,n,e));else{if((b=k(b,e))&&d.hasClass(b,a))g=[b]}else if(n)g=q(n,e)}}else if(c&&(v(c)||B(c)))g=j(c,function(y){return i(y,e)});else if(c)if(i(c,e))g=[c];return g}function i(c,e){if(!c)return false;if(e==t)return true;return d.__contains(e,c)}function k(c,e){if(!e)return null;var a=e;if(e.nodeType!==d.DOCUMENT_NODE)a=e.ownerDocument;
if((a=a.getElementById(c))&&a.parentNode)if(d.attr(a,"id")!==c)a=d.filter("*","#"+c,e)[0]||null;else i(a,e)||(a=null);else a=null;return a}function q(c,e){return e&&x(e.getElementsByTagName(c))||[]}var t=document,j=m.filter,o=m.require,p=m.each,v=m.isArray,x=m.makeArray,B=d._isNodeList,E=Array.prototype.push,A=" ",C=m.isString,D=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,f;(function(){var c,e,a=true;[0,0].sort(function(){a=false;return 0});f=function(b){if(c){e=a;b.sort(c);if(e)for(var g=
1,n=b.length;g<n;)if(b[g]===b[g-1])b.splice(g,1);else g++}return b};c=t.documentElement.compareDocumentPosition?function(b,g){if(b==g){e=true;return 0}if(!b.compareDocumentPosition||!g.compareDocumentPosition)return b.compareDocumentPosition?-1:1;return b.compareDocumentPosition(g)&4?-1:1}:function(b,g){if(b==g){e=true;return 0}else if(b.sourceIndex&&g.sourceIndex)return b.sourceIndex-g.sourceIndex}})();(function(){var c=t.createElement("div");c.appendChild(t.createComment(""));if(c.getElementsByTagName("*").length>
0)q=function(e,a){var b=x(a.getElementsByTagName(e));if(e==="*"){for(var g=[],n=0,y;y=b[n++];)y.nodeType===1&&g.push(y);b=g}return b}})();var h=t.getElementsByClassName?function(c,e,a){if(!a)return[];a=c=x(a.getElementsByClassName(c));var b=0,g=c.length,n;if(e&&e!=="*")for(a=x();b<g;++b){n=c[b];n.nodeName.toLowerCase()==e.toLowerCase()&&a.push(n)}return a}:t.querySelectorAll?function(c,e,a){return a&&x(a.querySelectorAll((e?e:"")+"."+c))||[]}:function(c,e,a){if(!a)return[];e=x(a.getElementsByTagName(e||
"*"));a=[];for(var b=0,g=e.length,n;b<g;++b){n=e[b];d.hasClass(n,c)&&a.push(n)}return a};m.mix(d,{query:r,get:function(c,e){return r(c,e)[0]||null},unique:f,filter:function(c,e,a){c=r(c,a);a=o("sizzle");var b,g,n,y,G=[];if(C(e)&&(b=l.exec(e))){n=b[1];g=b[2];y=b[3];if(n){if(n&&!g&&!y)e=function(H){return H.id===n}}else e=function(H){var F=true,I=true;if(g)F=H.nodeName.toLowerCase()==g.toLowerCase();if(y)I=d.hasClass(H,y);return I&&F}}if(m.isFunction(e))G=m.filter(c,e);else if(e&&a)G=a.matches(e,c);
return G},test:function(c,e,a){c=r(c,a);return c.length&&d.filter(c,e,a).length===c.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(m,d,s,r){if(!s.ie)return d;var u=document,z=u.documentElement,w=r._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,k=/^-?\d/,q=/opacity=([^)]*)/,t=/alpha\([^)]*\)/i;try{if(m.isNullOrUndefined(z.style.opacity))w.opacity={get:function(p,v){return q.test((v&&p.currentStyle?p.currentStyle.filter:p.style.filter)||"")?parseFloat(RegExp.$1)/100+"":v?"1":""},set:function(p,v){v=parseFloat(v);var x=p.style,B=p.currentStyle,E=isNaN(v)?"":"alpha(opacity="+v*100+")",A=m.trim(B&&B.filter||
x.filter||"");x.zoom=1;if(v>=1&&m.trim(A.replace(t,""))===""){x.removeAttribute("filter");if(B&&!B.filter)return}x.filter=t.test(A)?A.replace(t,E):A+(A?", ":"")+E}}}catch(j){}s=s.ie==8;var o={};o.thin=s?"1px":"2px";o.medium=s?"3px":"4px";o.thick=s?"5px":"6px";m.each(["","Top","Left","Right","Bottom"],function(p){var v="border"+p+"Width",x="border"+p+"Style";w[v]={get:function(B,E){var A=E?B.currentStyle:0,C=A&&String(A[v])||undefined;if(C&&C.indexOf("px")<0)C=o[C]&&A[x]!=="none"?o[C]:0;return C}}});
if(!(u.defaultView||{}).getComputedStyle&&z.currentStyle)d._getComputedStyle=function(p,v){v=d._cssProps[v]||v;var x=p.currentStyle&&p.currentStyle[v];if(!i.test(x)&&k.test(x)){var B=p.style,E=B.left,A=p.runtimeStyle&&p.runtimeStyle.left;if(A)p.runtimeStyle.left=p.currentStyle.left;B.left=v==="fontSize"?"1em":x||0;x=B.pixelLeft+"px";B.left=E;if(A)p.runtimeStyle.left=A}return x===""?"auto":x};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(m,d,s,r){function u(c,e,a){var b={},g;for(g in e){b[g]=c[t][g];c[t][g]=e[g]}a.call(c);for(g in e)c[t][g]=b[g]}function z(c,e,a){var b;if(c.nodeType===3||c.nodeType===8||!(b=c[t]))return r;e=e.replace(x,B);var g,n=D[e];e=l[e]||e;if(a!==r){if(a===null||a===A)a=A;else if(!isNaN(Number(a))&&!v[e])a+=C;if(n&&n.set)a=n.set(c,a);if(a!==r)try{c[t][e]=a}catch(y){}return r}else{if(!(n&&"get"in n&&(g=n.get(c,false))!==r))g=b[e];return g===r?"":g}}function w(c,e,a){if(m.isWindow(c))return e==
j?d.viewportWidth(c):d.viewportHeight(c);else if(c.nodeType==9)return e==j?d.docWidth(c):d.docHeight(c);var b=e===j?["Left","Right"]:["Top","Bottom"],g=e===j?c.offsetWidth:c.offsetHeight;if(g>0){a!=="border"&&m.each(b,function(n){a||(g-=parseFloat(d.css(c,"padding"+n))||0);if(a==="margin")g+=parseFloat(d.css(c,a+n))||0;else g-=parseFloat(d.css(c,"border"+n+"Width"))||0});return g}g=d._getComputedStyle(c,e);if(g<0||m.isNullOrUndefined(g))g=c.style[e]||0;g=parseFloat(g)||0;a&&m.each(b,function(n){g+=
parseFloat(d.css(c,"padding"+n))||0;if(a!=="padding")g+=parseFloat(d.css(c,"border"+n+"Width"))||0;if(a==="margin")g+=parseFloat(d.css(c,a+n))||0});return g}var i=document,k=i.documentElement,q=s.ie,t="style",j="width",o=parseInt,p=/^-?\d+(?:px)?$/i,v={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},x=/-([a-z])/ig,B=function(c,e){return e.toUpperCase()},E=/([A-Z]|^ms)/g,A="",C="px",D={},l={},f={};if(k[t].cssFloat!==r)l["float"]="cssFloat";else if(k[t].styleFloat!==
r)l["float"]="styleFloat";m.mix(d,{_CUSTOM_STYLES:D,_cssProps:l,_getComputedStyle:function(c,e){var a="",b={},g=c.ownerDocument;e=e.replace(E,"-$1").toLowerCase();if(b=g.defaultView.getComputedStyle(c,null))a=b.getPropertyValue(e)||b[e];if(a==""&&!d.__contains(g.documentElement,c)){e=l[e]||e;a=c[t][e]}return a},style:function(c,e,a){if(m.isPlainObject(e))for(var b in e)d.style(c,b,e[b]);else if(a===r){c=d.get(c);b="";if(c)b=z(c,e,a);return b}else d.query(c).each(function(g){z(g,e,a)})},css:function(c,
e,a){if(m.isPlainObject(e))for(var b in e)d.css(c,b,e[b]);else{e=e.replace(x,B);b=D[e];if(a===r){c=d.get(c);a="";if(c)if(!(b&&"get"in b&&(a=b.get(c,true))!==r))a=d._getComputedStyle(c,e);return a===r?"":a}else d.style(c,e,a)}},show:function(c){d.query(c).each(function(e){e[t].display=d.data(e,"display")||A;if(d.css(e,"display")==="none"){var a=e.tagName,b=f[a],g;if(!b){g=i.createElement(a);i.body.appendChild(g);b=d.css(g,"display");d.remove(g);f[a]=b}d.data(e,"display",b);e[t].display=b}})},hide:function(c){d.query(c).each(function(e){var a=
e[t],b=a.display;if(b!=="none"){b&&d.data(e,"display",b);a.display="none"}})},toggle:function(c){d.query(c).each(function(e){d.css(e,"display")==="none"?d.show(e):d.hide(e)})},addStyleSheet:function(c,e,a){if(m.isString(c)){a=e;e=c;c=window}c=d.get(c);c=d._getWin(c).document;var b;if(a&&(a=a.replace("#",A)))b=d.get("#"+a,c);if(!b){b=d.create("<style>",{id:a},c);d.get("head",c).appendChild(b);if(b.styleSheet)b.styleSheet.cssText=e;else b.appendChild(c.createTextNode(e))}},unselectable:function(c){d.query(c).each(function(e){if(s.gecko)e[t].MozUserSelect=
"none";else if(s.webkit)e[t].KhtmlUserSelect="none";else if(s.ie||s.opera){var a=0,b=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=b[a++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable","on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});m.each([j,"height"],function(c){d["inner"+(c.charAt(0).toUpperCase()+c.substring(1))]=function(e){return(e=d.get(e))?w(e,
c,"padding"):null};d["outer"+(c.charAt(0).toUpperCase()+c.substring(1))]=function(e,a){var b=d.get(e);return b?w(b,c,a?"margin":"border"):null};d[c]=function(e,a){var b=d.css(e,c,a);if(b)b=parseFloat(b);return b}});var h={position:"absolute",visibility:"hidden",display:"block"};m.each(["height","width"],function(c){D[c]={get:function(e,a){var b;if(a){if(e.offsetWidth!==0)b=w(e,c);else u(e,h,function(){b=w(e,c)});return b+"px"}},set:function(e,a){if(p.test(a)){a=parseFloat(a);if(a>=0)return a+"px"}else return a}}});
m.each(["left","top"],function(c){D[c]={get:function(e,a){if(a){var b=d._getComputedStyle(e,c);if(b==="auto"){b=0;if(m.inArray(d.css(e,"position"),["absolute","fixed"])){b=e[c==="left"?"offsetLeft":"offsetTop"];if(q&&document.documentMode!=9||s.opera)b-=e.offsetParent&&e.offsetParent["client"+(c=="left"?"Left":"Top")]||0;b=b-(o(d.css(e,"margin-"+c))||0)}b+="px"}return b}}}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(m,d,s){function r(i,k,q,t,j,o){if(!(i=d.get(i)))return null;if(k===0)return i;o||(i=i[q]);if(!i)return null;j=j&&d.get(j)||null;if(k===s)k=1;o=[];var p=m.isArray(k),v,x;if(m.isNumber(k)){v=0;x=k;k=function(){return++v===x}}for(;i&&i!=j;){if(w(i)&&u(i,k)&&(!t||t(i))){o.push(i);if(!p)break}i=i[q]}return p?o:o[0]||null}function u(i,k){if(!k)return true;if(m.isArray(k))for(var q=0;q<k.length;q++){if(d.test(i,k[q]))return true}else if(d.test(i,k))return true;return false}
function z(i,k,q){var t=[];var j=i=d.get(i);if(i&&q)j=i.parentNode;if(j){q=0;for(j=j.firstChild;j;j=j.nextSibling)if(w(j)&&j!==i&&(!k||d.test(j,k)))t[q++]=j}return t}var w=d._isElementNode;m.mix(d,{closest:function(i,k,q){return r(i,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},q,true)},parent:function(i,k,q){return r(i,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},q)},first:function(i,k){var q=d.get(i);return r(q&&q.firstChild,k,"nextSibling",s,
s,true)},last:function(i,k){var q=d.get(i);return r(q&&q.lastChild,k,"previousSibling",s,s,true)},next:function(i,k){return r(i,k,"nextSibling",s)},prev:function(i,k){return r(i,k,"previousSibling",s)},siblings:function(i,k){return z(i,k,true)},children:function(i,k){return z(i,k,s)},__contains:document.documentElement.contains?function(i,k){if(i.nodeType==d.TEXT_NODE)return false;var q;if(k.nodeType==d.TEXT_NODE){k=k.parentNode;q=true}else if(k.nodeType==d.DOCUMENT_NODE)return false;else q=i!==k;
return q&&(i.contains?i.contains(k):true)}:document.documentElement.compareDocumentPosition?function(i,k){return!!(i.compareDocumentPosition(k)&16)}:0,contains:function(i,k){i=d.get(i);k=d.get(k);if(i&&k)return d.__contains(i,k)},equals:function(i,k){i=d.query(i);k=d.query(k);if(i.length!=k.length)return false;for(var q=i.length;q>=0;q--)if(i[q]!=k[q])return false;return true}});return d},{requires:["./base"]});
KISSY.add("dom",function(m,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
