/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(j,c,q,e){function y(b,a){return a&&a.nodeName.toUpperCase()===b.toUpperCase()}var z=document.documentElement,i=!z.hasAttribute,l=z.textContent!==e?"textContent":"innerText",r=c._isElementNode,k=function(b){return c._nodeTypeIs(b,3)},m=/^(?:href|src|style)/,p=/^(?:href|src|colspan|rowspan)/,s=/\r/g,w=/^(?:radio|checkbox)/,x={readonly:"readOnly"},B={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};i&&j.mix(x,{"for":"htmlFor","class":"className"});var C={tabindex:{getter:function(b){return b.tabIndex},
setter:function(b,a){if(isNaN(parseInt(a))){b.removeAttribute("tabindex");b.removeAttribute("tabIndex")}else b.tabIndex=a}},style:{getter:function(b){return b.style.cssText},setter:function(b,a){b.style.cssText=a}},checked:{setter:function(b,a){b.checked=!!a}},disabled:{setter:function(b,a){b.disabled=!!a}}};j.mix(c,{attr:function(b,a,d,g){if(j.isPlainObject(a)){g=d;for(var t in a)c.attr(b,t,a[t],g)}else if(a=j.trim(a)){a=a.toLowerCase();if(g&&B[a])return c[a](b,d);a=x[a]||a;var o=C[a];if(d===e){b=
c.get(b);if(!r(b))return e;if(o&&o.getter)return o.getter(b);var h;m.test(a)||(h=b[a]);if(h===e)h=b.getAttribute(a);if(i)if(p.test(a))h=b.getAttribute(a,2);return h===null?e:h}j.each(c.query(b),function(u){if(r(u))o&&o.setter?o.setter(u,d):u.setAttribute(a,""+d)})}},removeAttr:function(b,a){a=a.toLowerCase();j.each(c.query(b),function(d){if(r(d)){c.attr(d,a,"");d.removeAttribute(a)}})},hasAttr:i?function(b,a){a=a.toLowerCase();b=c.get(b).getAttributeNode(a);return!!(b&&b.specified)}:function(b,a){a=
a.toLowerCase();return c.get(b).hasAttribute(a)},val:function(b,a){if(a===e){var d=c.get(b);if(!r(d))return e;if(y("option",d))return(d.attributes.value||{}).specified?d.value:d.text;if(y("select",d)){var g=d.selectedIndex;b=d.options;if(g<0)return null;else if(d.type==="select-one")return c.val(b[g]);d=[];for(var t=0,o=b.length;t<o;++t)b[t].selected&&d.push(c.val(b[t]));return d}if(q.webkit&&w.test(d.type))return d.getAttribute("value")===null?"on":d.value;return(d.value||"").replace(s,"")}j.each(c.query(b),
function(h){if(y("select",h)){if(j.isNumber(a))a+="";var u=j.makeArray(a),f=h.options,n;t=0;for(o=f.length;t<o;++t){n=f[t];n.selected=j.inArray(c.val(n),u)}if(!u.length)h.selectedIndex=-1}else if(r(h))h.value=a})},text:function(b,a){if(a===e){b=c.get(b);if(r(b))return b[l]||"";else if(k(b))return b.nodeValue}else j.each(c.query(b),function(d){if(r(d))d[l]=a;else if(k(d))d.nodeValue=a})}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/base",function(j,c){function q(e,y){return e&&e.nodeType===y}return{_isElementNode:function(e){return q(e,1)},_isKSNode:function(e){var y=j.require("node/node");return y&&q(e,y.TYPE)},_getWin:function(e){return e&&"scrollTo"in e&&e.document?e:q(e,9)?e.defaultView||e.parentWindow:e===c?window:false},_nodeTypeIs:q}});
KISSY.add("dom/class",function(j,c,q){function e(i,l,r,k){if(!(l=j.trim(l)))return k?false:q;i=c.query(i);var m=0,p=i.length;l=l.split(y);for(var s;m<p;m++){s=i[m];if(c._isElementNode(s)){s=r(s,l,l.length);if(s!==q)return s}}if(k)return false;return q}var y=/[\.\s]\s*\.?/,z=/[\n\t]/g;j.mix(c,{hasClass:function(i,l){return e(i,l,function(r,k,m){if(r=r.className){r=" "+r+" ";for(var p=0,s=true;p<m;p++)if(r.indexOf(" "+k[p]+" ")<0){s=false;break}if(s)return true}},true)},addClass:function(i,l){e(i,l,
function(r,k,m){var p=r.className;if(p){var s=" "+p+" ";p=p;for(var w=0;w<m;w++)if(s.indexOf(" "+k[w]+" ")<0)p+=" "+k[w];r.className=j.trim(p)}else r.className=l},q)},removeClass:function(i,l){e(i,l,function(r,k,m){var p=r.className;if(p)if(m){p=(" "+p+" ").replace(z," ");for(var s=0,w;s<m;s++)for(w=" "+k[s]+" ";p.indexOf(w)>=0;)p=p.replace(w," ");r.className=j.trim(p)}else r.className=""},q)},replaceClass:function(i,l,r){c.removeClass(i,l);c.addClass(i,r)},toggleClass:function(i,l,r){var k=j.isBoolean(r),
m;e(i,l,function(p,s,w){for(var x=0,B;x<w;x++){B=s[x];m=k?!r:c.hasClass(p,B);c[m?"removeClass":"addClass"](p,B)}},q)}});return c},{requires:["dom/base"]});
KISSY.add("dom/create",function(j,c,q,e){function y(f,n){s(f)&&j.isPlainObject(n)&&c.attr(f,n,true);return f}function z(f,n){var v=null,A;if(f&&(f.push||f.item)&&f[0]){n=n||f[0].ownerDocument;v=n.createDocumentFragment();if(f.item)f=j.makeArray(f);n=0;for(A=f.length;n<A;n++)v.appendChild(f[n])}return v}function i(f){var n=f.cloneNode(true);if(q.ie<8)n.innerHTML=f.innerHTML;return n}function l(f,n,v,A){if(v){var D=j.guid("ks-tmp-"),G=new RegExp(C);n+='<span id="'+D+'"></span>';j.available(D,function(){var E=
c.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(n);)if((I=(M=F[1])?M.match(a):false)&&I[2]){F=k.createElement("script");F.src=I[2];if((H=M.match(d))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)j.globalEval(J);(N=k.getElementById(D))&&c.remove(N);j.isFunction(A)&&A()});r(f,n)}else{r(f,n);j.isFunction(A)&&A()}}function r(f,n){n=(n+"").replace(C,"");try{f.innerHTML=n}catch(v){for(;f.firstChild;)f.removeChild(f.firstChild);n&&f.appendChild(c.create(n))}}var k=
document,m=q.ie,p=c._nodeTypeIs,s=c._isElementNode,w=c._isKSNode,x=k.createElement("div"),B=/<(\w+)/,C=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,a=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;j.mix(c,{create:function(f,n,v){if(p(f,1)||p(f,3))return i(f);if(w(f))return i(f[0]);if(!(f=j.trim(f)))return null;var A=null;A=c._creators;var D,G="div",E;if(D=b.exec(f))A=(v||k).createElement(D[1]);else{if((D=B.exec(f))&&(E=D[1])&&j.isFunction(A[E=E.toLowerCase()]))G=
E;f=A[G](f,v).childNodes;A=f.length===1?f[0].parentNode.removeChild(f[0]):z(f,v||k)}return y(A,n)},_creators:{div:function(f,n){n=n?n.createElement("div"):x;n.innerHTML=f;return n}},html:function(f,n,v,A){if(n===e){f=c.get(f);if(s(f))return f.innerHTML}else j.each(c.query(f),function(D){s(D)&&l(D,n,v,A)})},remove:function(f){j.each(c.query(f),function(n){s(n)&&n.parentNode&&n.parentNode.removeChild(n)})}});if(m||q.gecko||q.webkit){var g=c._creators,t=c.create,o=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
h={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var u in h)(function(f){g[u]=function(n,v){return t("<"+f+">"+n+"</"+f+">",null,v)}})(h[u]);if(m){g.script=function(f,n){n=n?n.createElement("div"):x;n.innerHTML="-"+f;n.removeChild(n.firstChild);return n};if(m<8)g.tbody=function(f,n){n=t("<table>"+f+"</table>",null,n);var v=n.children.tags("tbody")[0];n.children.length>1&&v&&!o.test(f)&&v.parentNode.removeChild(v);return n}}j.mix(g,{optgroup:g.option,th:g.td,
thead:g.tbody,tfoot:g.tbody,caption:g.tbody,colgroup:g.tbody})}return c},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(j,c,q){function e(k){return k&&k.nodeType}var y=window,z="_ks_data_"+j.now(),i={},l={},r={EMBED:1,OBJECT:1,APPLET:1};j.mix(c,{data:function(k,m,p){if(j.isPlainObject(m))for(var s in m)c.data(k,s,m[s]);else if(p===q){k=c.get(k);var w;if(!(!k||r[k.nodeName])){if(k==y)k=l;w=(s=e(k))?i:k;k=w[s?k[z]:z];if(j.isString(m)&&k)return k[m];return k}}else c.query(k).each(function(x){if(!(!x||r[x.nodeName])){if(x==y)x=l;var B=i,C;if(e(x)){if(!(C=x[z]))C=x[z]=j.guid()}else{C=z;B=x}if(m&&
p!==q){B[C]||(B[C]={});B[C][m]=p}}})},removeData:function(k,m){c.query(k).each(function(p){if(p){if(p==y)p=l;var s,w=i,x,B=e(p);if(B)s=p[z];else{w=p;s=z}if(s){x=w[s];if(m){if(x){delete x[m];j.isEmptyObject(x)&&c.removeData(p)}}else{if(B)p.removeAttribute&&p.removeAttribute(z);else try{delete p[z]}catch(C){}B&&delete w[s]}}}})}});return c},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(j,c){j.mix(c,{insertBefore:function(q,e){if((q=c.get(q))&&(e=c.get(e))&&e.parentNode)e.parentNode.insertBefore(q,e);return q},insertAfter:function(q,e){if((q=c.get(q))&&(e=c.get(e))&&e.parentNode)e.nextSibling?e.parentNode.insertBefore(q,e.nextSibling):e.parentNode.appendChild(q);return q},append:function(q,e){if((q=c.get(q))&&(e=c.get(e)))e.appendChild&&e.appendChild(q)},prepend:function(q,e){if((q=c.get(q))&&(e=c.get(e)))e.firstChild?c.insertBefore(q,e.firstChild):
e.appendChild(q)}});return c},{requires:["dom/base"]});
KISSY.add("dom/offset",function(j,c,q,e){function y(o){var h=0,u=0,f=m(o[C]);if(o[t]){o=o[t]();h=o[b];u=o[a];if(q.mobile!=="apple"){h+=c[d](f);u+=c[g](f)}}return{left:h,top:u}}function z(o,h){if(c.css(o,x)==="static")o.style[x]=B;var u=y(o),f={},n,v;for(v in h){n=w(c.css(o,v),10)||0;f[v]=n+h[v]-u[v]}c.css(o,f)}var i=window,l=document,r=c._isElementNode,k=c._nodeTypeIs,m=c._getWin,p=l.compatMode==="CSS1Compat",s=Math.max,w=parseInt,x="position",B="relative",C="ownerDocument",b="left",a="top",d="scrollLeft",
g="scrollTop",t="getBoundingClientRect";j.mix(c,{offset:function(o,h){if(!(o=c.get(o))||!o[C])return null;if(h===e)return y(o);z(o,h)},scrollIntoView:function(o,h,u,f){if((o=c.get(o))&&o[C]){f=f===e?true:!!f;u=u===e?true:!!u;if(!h||h===i)return o.scrollIntoView(u);h=c.get(h);if(k(h,9))h=m(h);var n=h&&"scrollTo"in h&&h.document,v=c.offset(o),A=n?{left:c.scrollLeft(h),top:c.scrollTop(h)}:c.offset(h),D={left:v[b]-A[b],top:v[a]-A[a]};v=n?c.viewportHeight(h):h.clientHeight;A=n?c.viewportWidth(h):h.clientWidth;
var G=c[d](h),E=c[g](h),F=G+A,M=E+v,I=o.offsetHeight;o=o.offsetWidth;var H=D.left+G-(w(c.css(h,"borderLeftWidth"))||0);D=D.top+E-(w(c.css(h,"borderTopWidth"))||0);var N=H+o,J=D+I,K,L;if(I>v||D<E||u)K=D;else if(J>M)K=J-v;if(f)if(o>A||H<G||u)L=H;else if(N>F)L=N-A;if(n){if(K!==e||L!==e)h.scrollTo(L,K)}else{if(K!==e)h[g]=K;if(L!==e)h[d]=L}}}});j.each(["Left","Top"],function(o,h){var u="scroll"+o;c[u]=function(f){var n=0,v=m(f),A;if(v&&(A=v.document))n=v[h?"pageYOffset":"pageXOffset"]||A.documentElement[u]||
A.body[u];else if(r(f=c.get(f)))n=f[u];return n}});j.each(["Width","Height"],function(o){c["doc"+o]=function(h){h=h||l;return s(p?h.documentElement["scroll"+o]:h.body["scroll"+o],c["viewport"+o](h))};c["viewport"+o]=function(h){var u="inner"+o;h=m(h);var f=h.document;return u in h?h[u]:p?f.documentElement["client"+o]:f.body["client"+o]}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(j,c,q){function e(b,a){var d,g=[],t,o;t=j.require("sizzle");a=z(a);if(j.isString(b)){b=j.trim(b);if(B.test(b)){if(b=i(b.slice(1),a))g=[b]}else if(d=C.exec(b)){t=d[1];o=d[2];d=d[3];if(a=t?i(t,a):a)if(d)if(!t||b.indexOf(p)!==-1)g=r(d,o,a);else{if((b=i(t,a))&&c.hasClass(b,d))g=[b]}else if(o)g=l(o,a)}else if(t)g=t(b,a);else k(b)}else if(b&&(b[w]||b[x]))g=b[w]?[b[w]()]:b[x]();else if(b&&(j.isArray(b)||y(b)))g=b;else if(b)g=[b];if(y(g))g=j.makeArray(g);g.each=function(h,
u){return j.each(g,h,u)};return g}function y(b){return b&&!b.nodeType&&b.item&&!b.setTimeout}function z(b){if(b===q)b=m;else if(j.isString(b)&&B.test(b))b=i(b.slice(1),m);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function i(b,a){if(a.nodeType!==9)a=a.ownerDocument;return a.getElementById(b)}function l(b,a){return a.getElementsByTagName(b)}function r(b,a,d){d=b=d.getElementsByClassName(b);var g=0,t=0,o=b.length,h;if(a&&a!==s){d=[];for(a=a.toUpperCase();g<o;++g){h=b[g];if(h.tagName===
a)d[t++]=h}}return d}function k(b){j.error("Unsupported selector: "+b)}var m=document,p=" ",s="*",w="getDOMNode",x=w+"s",B=/^#[\w-]+$/,C=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=m.createElement("div");b.appendChild(m.createComment(""));if(b.getElementsByTagName(s).length>0)l=function(a,d){d=d.getElementsByTagName(a);if(a===s){a=[];for(var g=0,t=0,o;o=d[g++];)if(o.nodeType===1)a[t++]=o;d=a}return d}})();m.getElementsByClassName||(r=m.querySelectorAll?function(b,a,d){return d.querySelectorAll((a?
a:"")+"."+b)}:function(b,a,d){a=d.getElementsByTagName(a||s);d=[];var g=0,t=0,o=a.length,h,u;for(b=p+b+p;g<o;++g){h=a[g];if((u=h.className)&&(p+u+p).indexOf(b)>-1)d[t++]=h}return d});j.mix(c,{query:e,get:function(b,a){return e(b,a)[0]||null},filter:function(b,a,d){d=e(b,d);var g=j.require("sizzle"),t,o,h,u=[];if(j.isString(a)&&(t=C.exec(a))&&!t[1]){o=t[2];h=t[3];a=function(f){return!(o&&f.tagName!==o.toUpperCase()||h&&!c.hasClass(f,h))}}if(j.isFunction(a))u=j.filter(d,a);else if(a&&g)u=g._filter(b,
a+"");else k(a);return u},test:function(b,a,d){b=e(b,d);return b.length&&c.filter(b,a,d).length===b.length}});return c},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(j,c,q,e){if(!q.ie)return c;j=document;q=j.documentElement;var y=c._CUSTOM_STYLES,z=/^-?\d+(?:px)?$/i,i=/^-?\d/,l=/^(?:width|height)$/;try{if(q.style.opacity===e&&q.filters)y.opacity={get:function(k){var m=100;try{m=k.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(p){try{m=k.filters("alpha").opacity}catch(s){}}return m/100+""},set:function(k,m){var p=k.style;k=(k.currentStyle||0).filter||"";p.zoom=1;if(k)if(k=k.replace(/alpha\(opacity=.+\)/ig,""))k+=", ";
p.filter=k+"alpha(opacity="+m*100+")";if(m===1)p.filter=""}}}catch(r){}if(!(j.defaultView||{}).getComputedStyle&&q.currentStyle)c._getComputedStyle=function(k,m){var p=k.style,s=k.currentStyle[m];if(l.test(m))s=c[m](k)+"px";else if(!z.test(s)&&i.test(s)){var w=p.left,x=k.runtimeStyle.left;k.runtimeStyle.left=k.currentStyle.left;p.left=m==="fontSize"?"1em":s||0;s=p.pixelLeft+"px";p.left=w;k.runtimeStyle.left=x}return s};return c},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(j,c,q,e){function y(b,a){var d=c.get(b),g=a===r?d.offsetWidth:d.offsetHeight;j.each(a===r?["Left","Right"]:["Top","Bottom"],function(t){g-=parseFloat(c._getComputedStyle(d,"padding"+t))||0;g-=parseFloat(c._getComputedStyle(d,"border"+t+"Width"))||0});return g}function z(b,a,d){var g=d;if(d===k&&p.test(a)){g=0;if(j.inArray(c.css(b,"position"),["absolute","fixed"])){d=b[a==="left"?"offsetLeft":"offsetTop"];if(q.ie===8||q.opera)d-=m(c.css(b.offsetParent,"border-"+a+"-width"))||
0;g=d-(m(c.css(b,"margin-"+a))||0)}}return g}var i=document,l=i.documentElement,r="width",k="auto",m=parseInt,p=/^(?:left|top)/,s=/^(?:width|height|top|left|right|bottom|margin|padding)/i,w=/-([a-z])/ig,x=function(b,a){return a.toUpperCase()},B={},C={};j.mix(c,{_CUSTOM_STYLES:B,_getComputedStyle:function(b,a){var d="",g=b.ownerDocument;if(b.style)d=g.defaultView.getComputedStyle(b,null)[a];return d},css:function(b,a,d){if(j.isPlainObject(a))for(var g in a)c.css(b,g,a[g]);else{if(a.indexOf("-")>0)a=
a.replace(w,x);a=B[a]||a;if(d===e){b=c.get(b);g="";if(b&&b.style){g=a.get?a.get(b):b.style[a];if(g===""&&!a.get)g=z(b,a,c._getComputedStyle(b,a))}return g===e?"":g}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&s.test(a))d+="px";(a===r||a==="height")&&parseFloat(d)<0||j.each(c.query(b),function(t){if(t&&t.style){a.set?a.set(t,d):(t.style[a]=d);if(d==="")t.style.cssText||t.removeAttribute("style")}})}}},width:function(b,a){if(a===e)return y(b,r);else c.css(b,r,a)},height:function(b,a){if(a===
e)return y(b,"height");else c.css(b,"height",a)},show:function(b){c.query(b).each(function(a){if(a){a.style.display=c.data(a,"display")||"";if(c.css(a,"display")==="none"){var d=a.tagName,g=C[d],t;if(!g){t=i.createElement(d);i.body.appendChild(t);g=c.css(t,"display");c.remove(t);C[d]=g}c.data(a,"display",g);a.style.display=g}}})},hide:function(b){c.query(b).each(function(a){if(a){var d=a.style,g=d.display;if(g!=="none"){g&&c.data(a,"display",g);d.display="none"}}})},toggle:function(b){c.query(b).each(function(a){if(a)a.style.display===
"none"?c.show(a):c.hide(a)})},addStyleSheet:function(b,a){var d;if(a&&(a=a.replace("#","")))d=c.get("#"+a);if(!d){d=c.create("<style>",{id:a});c.get("head").appendChild(d);if(d.styleSheet)d.styleSheet.cssText=b;else d.appendChild(i.createTextNode(b))}},unselectable:function(b){c.query(b).each(function(a){if(a)if(q.gecko)a.style.MozUserSelect="none";else if(q.webkit)a.style.KhtmlUserSelect="none";else if(q.ie||q.opera){var d=0,g=a.getElementsByTagName("*");for(a.setAttribute("unselectable","on");a=
g[d++];)switch(a.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:a.setAttribute("unselectable","on")}}})}});if(l.style.cssFloat!==e)B["float"]="cssFloat";else if(l.style.styleFloat!==e)B["float"]="styleFloat";return c},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(j,c,q){function e(i,l,r,k){if(!(i=c.get(i)))return null;if(l===q)l=1;var m=null,p,s;if(j.isNumber(l)&&l>=0){if(l===0)return i;p=0;s=l;l=function(){return++p===s}}for(;i=i[r];)if(z(i)&&(!l||c.test(i,l))&&(!k||k(i))){m=i;break}return m}function y(i,l,r){var k=[];var m=i=c.get(i);if(i&&r)m=i.parentNode;if(m){r=0;for(m=m.firstChild;m;m=m.nextSibling)if(z(m)&&m!==i&&(!l||c.test(m,l)))k[r++]=m}return k}var z=c._isElementNode;j.mix(c,{parent:function(i,l){return e(i,l,
"parentNode",function(r){return r.nodeType!=11})},next:function(i,l){return e(i,l,"nextSibling",q)},prev:function(i,l){return e(i,l,"previousSibling",q)},siblings:function(i,l){return y(i,l,true)},children:function(i,l){return y(i,l,q)},contains:function(i,l){var r=false;if((i=c.get(i))&&(l=c.get(l)))if(i.contains){if(l.nodeType===3){l=l.parentNode;if(l===i)return true}if(l)return i.contains(l)}else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(l)&16);else for(;!r&&(l=l.parentNode);)r=
l==i;return r}});return c},{requires:["dom/base"]});KISSY.add("dom",function(j,c){return c},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
