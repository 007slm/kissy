/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Sep 28 17:55
*/
KISSY.add("dom/attr",function(o,c,t,u){function w(n,g){g=E[g]||g;var k=C[g];return k&&k.get?k.get(n,g):n[g]}t=document.documentElement;var A=!t.hasAttribute,y=t.textContent===u?"innerText":"textContent",h=c._isElementNode,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,r=/^(?:button|input|object|select|textarea)$/i,v=/^a(?:rea)?$/i,j=/:|^on/,p=/\r/g,q={},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},z=
{tabindex:{get:function(n){var g=n.getAttributeNode("tabindex");return g&&g.specified?parseInt(g.value,10):r.test(n.nodeName)||v.test(n.nodeName)&&n.href?0:u}},style:{get:function(n){return n.style.cssText},set:function(n,g){n.style.cssText=g}}},E={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
G={get:function(n,g){return c.prop(n,g)?g.toLowerCase():u},set:function(n,g,k){if(g===false)c.removeAttr(n,k);else{g=E[k]||k;if(g in n)n[g]=true;n.setAttribute(k,k.toLowerCase())}return k}},C={},F={},H={option:{get:function(n){var g=n.attributes.value;return!g||g.specified?n.value:n.text}},select:{get:function(n){var g=n.selectedIndex,k=n.options;n=n.type==="select-one";if(g<0)return null;else if(n)return c.val(k[g]);g=[];n=0;for(var e=k.length;n<e;++n)k[n].selected&&g.push(c.val(k[n]));return g},
set:function(n,g){var k=o.makeArray(g);o.each(n.options,function(e){e.selected=o.inArray(c.val(e),k)});if(!k.length)n.selectedIndex=-1;return k}}};if(A){F={get:function(n,g){var k;return(k=n.getAttributeNode(g))&&k.nodeValue!==""?k.nodeValue:u},set:function(n,g,k){var e=n.getAttributeNode(k);if(e)e.nodeValue=g;else try{var i=n.ownerDocument.createAttribute(k);i.value=g;n.setAttributeNode(i)}catch(d){return n.setAttribute(k,g,0)}}};q=E;z.tabIndex=z.tabindex;o.each(["href","src","width","height","colSpan",
"rowSpan"],function(n){z[n]={get:function(g){g=g.getAttribute(n,2);return g===null?u:g}}});H.button=z.value=F}o.each(["radio","checkbox"],function(n){H[n]={get:function(g){return g.getAttribute("value")===null?"on":g.value},set:function(g,k){if(o.isArray(k))return g.checked=o.inArray(c.val(g),k)}}});o.mix(c,{prop:function(n,g,k){if(o.isPlainObject(g))for(var e in g)c.prop(n,e,g[e]);else{n=c.query(n);g=E[g]||g;var i=C[g];if(k!==u)n.each(function(d){if(i&&i.set)i.set(d,k,g);else d[g]=k});else if(n.length)return w(n[0],
g)}},hasProp:function(n,g){for(var k=c.query(n),e=0;e<k.length;e++)if(w(k[e],g)!==u)return true;return false},removeProp:function(n,g){g=E[g]||g;c.query(n).each(function(k){try{k[g]=u;delete k[g]}catch(e){}})},attr:function(n,g,k,e){if(o.isPlainObject(g)){e=k;for(var i in g)c.attr(n,i,g[i],e)}else if(g=o.trim(g)){g=g.toLowerCase();if(e&&x[g])return c[g](n,k);g=q[g]||g;var d;d=m.test(g)?G:j.test(g)?F:z[g];if(k===u){n=c.get(n);if(h(n)){if(n.nodeName.toLowerCase()=="form")d=F;if(d&&d.get)return d.get(n,
g);n=n.getAttribute(g);return n===null?u:n}}else c.query(n).each(function(a){if(h(a)){var b=d;if(a.nodeName.toLowerCase()=="form")b=F;b&&b.set?b.set(a,k,g):a.setAttribute(g,""+k)}})}},removeAttr:function(n,g){g=g.toLowerCase();g=q[g]||g;c.query(n).each(function(k){if(h(k)){var e;k.removeAttribute(g);if(m.test(g)&&(e=E[g]||g)in k)k[e]=false}})},hasAttr:A?function(n,g){g=g.toLowerCase();for(var k=c.query(n),e=0;e<k.length;e++){var i=k[e].getAttributeNode(g);if(i&&i.specified)return true}return false}:
function(n,g){for(var k=c.query(n),e=0;e<k.length;e++)if(k[e].hasAttribute(g))return true;return false},val:function(n,g){var k,e;if(g===u){var i=c.get(n);if(i){if((k=H[i.nodeName.toLowerCase()]||H[i.type])&&"get"in k&&(e=k.get(i,"value"))!==u)return e;e=i.value;return typeof e==="string"?e.replace(p,""):o.isNullOrUndefined(e)?"":e}}else c.query(n).each(function(d){if(d.nodeType===1){var a=g;if(o.isNullOrUndefined(a))a="";else if(typeof a==="number")a+="";else if(o.isArray(a))a=o.map(a,function(b){return o.isNullOrUndefined(a)?
"":b+""});k=H[d.nodeName.toLowerCase()]||H[d.type];if(!k||!("set"in k)||k.set(d,a,"value")===u)d.value=a}})},text:function(n,g){if(g===u){var k=c.get(n);if(h(k))return k[y]||"";else if(c._nodeTypeIs(k,c.TEXT_NODE))return k.nodeValue;return u}else c.query(n).each(function(e){if(h(e))e[y]=g;else if(c._nodeTypeIs(e,c.TEXT_NODE))e.nodeValue=g})}});return c},{requires:["./base","ua"]});
KISSY.add("dom/base",function(o,c){function t(w,A){return w&&w.nodeType===A}var u={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(w){return t(w,u.ELEMENT_NODE)},_getWin:function(w){return w&&"scrollTo"in w&&w.document?w:t(w,u.DOCUMENT_NODE)?w.defaultView||w.parentWindow:w===c||w===null?window:false},
_nodeTypeIs:t,_isNodeList:function(w){return w&&!w.nodeType&&w.item&&!w.setTimeout}};return u});
KISSY.add("dom/class",function(o,c,t){function u(y,h,m,r){if(!(h=o.trim(h)))return r?false:t;y=c.query(y);var v=y.length,j=h.split(w);h=[];for(var p=0;p<j.length;p++){var q=o.trim(j[p]);q&&h.push(q)}for(p=0;p<v;p++){j=y[p];if(c._isElementNode(j)){j=m(j,h,h.length);if(j!==t)return j}}if(r)return false;return t}var w=/[\.\s]\s*\.?/,A=/[\n\t]/g;o.mix(c,{hasClass:function(y,h){return u(y,h,function(m,r,v){if(m=m.className){m=(" "+m+" ").replace(A," ");for(var j=0,p=true;j<v;j++)if(m.indexOf(" "+r[j]+
" ")<0){p=false;break}if(p)return true}},true)},addClass:function(y,h){u(y,h,function(m,r,v){var j=m.className;if(j){var p=(" "+j+" ").replace(A," ");j=j;for(var q=0;q<v;q++)if(p.indexOf(" "+r[q]+" ")<0)j+=" "+r[q];m.className=o.trim(j)}else m.className=h},t)},removeClass:function(y,h){u(y,h,function(m,r,v){var j=m.className;if(j)if(v){j=(" "+j+" ").replace(A," ");for(var p=0,q;p<v;p++)for(q=" "+r[p]+" ";j.indexOf(q)>=0;)j=j.replace(q," ");m.className=o.trim(j)}else m.className=""},t)},replaceClass:function(y,
h,m){c.removeClass(y,h);c.addClass(y,m)},toggleClass:function(y,h,m){var r=o.isBoolean(m),v;u(y,h,function(j,p,q){for(var x=0,z;x<q;x++){z=p[x];v=r?!m:c.hasClass(j,z);c[v?"removeClass":"addClass"](j,z)}},t)}});return c},{requires:["dom/base"]});
KISSY.add("dom/create",function(o,c,t,u){function w(d,a,b){if(a.nodeType==c.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;b=b.childNodes;for(var f=0;a[f];){b[f]&&w(d,a[f],b[f]);f++}}else if(a.nodeType==c.ELEMENT_NODE){a=a.getElementsByTagName("*");b=b.getElementsByTagName("*");for(f=0;a[f];){b[f]&&d(a[f],b[f]);f++}}}function A(d,a){var b=o.require("event");if(!(a.nodeType!==c.ELEMENT_NODE&&!c.hasData(d))){var f=c.data(d),l;for(l in f)c.data(a,l,f[l]);if(b){b._removeData(a);b._clone(d,a)}}}function y(d,a){a.clearAttributes&&
a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(d);var b=a.nodeName.toLowerCase();if(b==="object"&&!a.childNodes.length)o.each(d.childNodes,function(f){a.appendChild(f)});else if(b==="input"&&(d.type==="checkbox"||d.type==="radio")){if(d.checked)a.defaultChecked=a.checked=d.checked;if(a.value!==d.value)a.value=d.value}else if(b==="option")a.selected=d.defaultSelected;else if(b==="input"||b==="textarea")a.defaultValue=d.defaultValue;a.removeAttribute(c.__EXPANDO)}function h(d,a){if(o.isPlainObject(a))if(x(d))c.attr(d,
a,true);else d.nodeType==c.DOCUMENT_FRAGMENT_NODE&&o.each(d.childNodes,function(b){c.attr(b,a,true)});return d}function m(d,a){var b=null,f,l;if(d&&(d.push||d.item)&&d[0]){a=a||d[0].ownerDocument;b=a.createDocumentFragment();if(d.item)d=o.makeArray(d);f=0;for(l=d.length;f<l;f++)b.appendChild(d[f])}return b}function r(d,a){a=(a+"").replace(C,"");try{d.innerHTML=a}catch(b){for(;d.firstChild;)d.removeChild(d.firstChild);a&&d.appendChild(c.create(a))}}function v(d,a,b,f){if(b){var l=o.guid("ks-tmp-"),
s=RegExp(C);a+='<span id="'+l+'"></span>';o.available(l,function(){var B=c.get("head"),D,I,J,K,M,L;for(s.lastIndex=0;D=s.exec(a);)if((J=(I=D[1])?I.match(H):false)&&J[2]){D=j.createElement("script");D.src=J[2];if((K=I.match(n))&&K[2])D.charset=K[2];D.async=true;B.appendChild(D)}else if((L=D[2])&&L.length>0)o.globalEval(L);(M=j.getElementById(l))&&c.remove(M);o.isFunction(f)&&f()});r(d,a)}else{r(d,a);o.isFunction(f)&&f()}}var j=document,p=t.ie,q=c._nodeTypeIs,x=c._isElementNode,z=j.createElement("div"),
E=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,G=/<(\w+)/,C=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,F=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,H=/\ssrc=(['"])(.*?)\1/i,n=/\scharset=(['"])(.*?)\1/i;o.mix(c,{create:function(d,a,b){if(q(d,c.ELEMENT_NODE)||q(d,c.TEXT_NODE))return c.clone(d);if(!(d=o.trim(d)))return null;var f=null,l=c._creators,s,B="div",D;if(s=F.exec(d))f=(b||j).createElement(s[1]);else{d=d.replace(E,"<$1></$2>");if((s=G.exec(d))&&(D=s[1]))B=D.toLowerCase();
d=(l[B]||l.div)(d,b).childNodes;if(d.length===1)f=d[0].parentNode.removeChild(d[0]);else if(d.length)f=m(d,b||j)}return h(f,a)},_creators:{div:function(d,a){var b=a?a.createElement("div"):z;b.innerHTML="m<div>"+d+"</div>";return b.lastChild}},html:function(d,a,b,f){if(a===u){d=c.get(d);if(x(d))return d.innerHTML}else c.query(d).each(function(l){x(l)&&v(l,a,b,f)})},remove:function(d,a){c.query(d).each(function(b){if(!a&&b.nodeType==c.ELEMENT_NODE){var f=o.require("event");if(f){f.detach(b.getElementsByTagName("*"));
f.detach(b)}c.removeData(b.getElementsByTagName("*"));c.removeData(b)}b.parentNode&&b.parentNode.removeChild(b)})},clone:function(d,a,b,f){d=c.get(d);if(!d)return null;var l=d.cloneNode(a);if(d.nodeType==c.ELEMENT_NODE||d.nodeType==c.DOCUMENT_FRAGMENT_NODE){d.nodeType==c.ELEMENT_NODE&&y(d,l);a&&w(y,d,l)}if(b){A(d,l);a&&f&&w(A,d,l)}return l},_nl2frag:m});if(p||t.gecko||t.webkit){var g=c._creators,k=c.create,e=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/;t={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"};for(var i in t)(function(d){g[i]=function(a,b){return k("<"+d+">"+a+"</"+d+">",null,b)}})(t[i]);if(p<8)g.tbody=function(d,a){var b=k("<table>"+d+"</table>",null,a),f=b.children.tags("tbody")[0];b.children.length>1&&f&&!e.test(d)&&f.parentNode.removeChild(f);return b};o.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,caption:g.tbody,colgroup:g.tbody})}return c},{requires:["./base","ua"]});
KISSY.add("dom/data",function(o,c,t){var u=window,w="_ks_data_"+o.now(),A={},y={},h={};h.applet=1;h.object=1;h.embed=1;var m={hasData:function(j,p){if(j)if(p!==t){if(p in j)return true}else if(!o.isEmptyObject(j))return true;return false}},r={hasData:function(j,p){if(j==u)return r.hasData(y,p);return m.hasData(j[w],p)},data:function(j,p,q){if(j==u)return r.data(y,p,q);var x=j[w];if(q!==t){x=j[w]=j[w]||{};x[p]=q}else if(p!==t)return x&&x[p];else return x=j[w]=j[w]||{}},removeData:function(j,p){if(j==
u)return r.removeData(y,p);var q=j[w];if(q)if(p!==t){delete q[p];o.isEmptyObject(q)&&r.removeData(j,t)}else delete j[w]}},v={hasData:function(j,p){var q=j[w];if(!q)return false;return m.hasData(A[q],p)},data:function(j,p,q){if(!h[j.nodeName.toLowerCase()]){var x=j[w];x||(x=j[w]=o.guid());j=A[x];if(q!==t){j=A[x]=A[x]||{};j[p]=q}else if(p!==t)return j&&j[p];else return j=A[x]=A[x]||{}}},removeData:function(j,p){var q=j[w];if(q){var x=A[q];if(x)if(p!==t){delete x[p];o.isEmptyObject(x)&&v.removeData(j,
t)}else{delete A[q];try{delete j[w]}catch(z){}j.removeAttribute&&j.removeAttribute(w)}}}};o.mix(c,{__EXPANDO:w,hasData:function(j,p){for(var q=false,x=c.query(j),z=0;z<x.length;z++)if(q=(q=x[z])&&q.nodeType?v.hasData(q,p):r.hasData(q,p))break;return q},data:function(j,p,q){if(o.isPlainObject(p))for(var x in p)c.data(j,x,p[x]);else if(q===t)if((j=c.get(j))&&j.nodeType)return v.data(j,p,q);else{if(j)return r.data(j,p,q)}else c.query(j).each(function(z){z&&z.nodeType?v.data(z,p,q):r.data(z,p,q)})},removeData:function(j,
p){c.query(j).each(function(q){q&&q.nodeType?v.removeData(q,p):r.removeData(q,p)})}});return c},{requires:["./base"]});
KISSY.add("dom/insertion",function(o,c){function t(y,h,m){y=c.query(y);h=c.query(h);if(y.length&&h.length){y=u(y);var r;if(h.length>1)r=c.clone(y,true);for(var v=0;v<h.length;v++){var j=h[v],p=v>0?c.clone(r,true):y;m(p,j)}}}var u=c._nl2frag;o.mix(c,{insertBefore:function(y,h){t(y,h,function(m,r){r.parentNode&&r.parentNode.insertBefore(m,r)})},insertAfter:function(y,h){t(y,h,function(m,r){r.parentNode&&r.parentNode.insertBefore(m,r.nextSibling)})},appendTo:function(y,h){t(y,h,function(m,r){r.appendChild(m)})},
prependTo:function(y,h){t(y,h,function(m,r){r.insertBefore(m,r.firstChild)})}});var w={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},A;for(A in w)c[A]=c[w[A]];return c},{requires:["./create"]});
KISSY.add("dom/offset",function(o,c,t,u){function w(k){var e,i=0;e=0;var d=h.body,a=p(k[E]);if(k[g]){e=k[g]();i=e[G];e=e[C];k=m&&h.documentMode!=9&&(q?r.clientTop:d.clientTop)||0;i-=m&&h.documentMode!=9&&(q?r.clientLeft:d.clientLeft)||0;e-=k;if(t.mobile=="apple"){i-=c[H](a);e-=c[n](a)}}return{left:i,top:e}}function A(k,e){var i={left:0,top:0},d=p(k[E]),a=k;e=e||d;do{var b;if(d==e){var f=a;b=w(f);f=p(f[E]);b.left+=c[H](f);b.top+=c[n](f);b=b}else b=w(a);b=b;i.left+=b.left;i.top+=b.top}while(d&&d!=e&&
(a=d.frameElement)&&(d=d.parent));return i}var y=window,h=document,m=t.ie,r=h.documentElement,v=c._isElementNode,j=c._nodeTypeIs,p=c._getWin,q=h.compatMode==="CSS1Compat",x=Math.max,z=parseInt,E="ownerDocument",G="left",C="top",F=o.isNumber,H="scrollLeft",n="scrollTop",g="getBoundingClientRect";o.mix(c,{offset:function(k,e,i){if(e===u){k=c.get(k);var d;if(k)d=A(k,i);return d}c.query(k).each(function(a){if(c.css(a,"position")==="static")a.style.position="relative";var b=A(a),f={},l,s;for(s in e){l=
z(c.css(a,s),10)||0;f[s]=l+e[s]-b[s]}c.css(a,f)})},scrollIntoView:function(k,e,i,d,a){if(k=c.get(k)){if(e)e=c.get(e);if(!e)e=k.ownerDocument;if(a!==true){d=d===u?true:!!d;i=i===u?true:!!i}if(j(e,c.DOCUMENT_NODE))e=p(e);var b=!!p(e);a=c.offset(k);var f=c.outerHeight(k);k=c.outerWidth(k);var l,s,B,D;if(b){b=e;s=c.height(b);l=c.width(b);D={left:c.scrollLeft(b),top:c.scrollTop(b)};b={left:a[G]-D[G],top:a[C]-D[C]};a={left:a[G]+k-(D[G]+l),top:a[C]+f-(D[C]+s)};D=D}else{l=c.offset(e);s=e.clientHeight;B=e.clientWidth;
D={left:c.scrollLeft(e),top:c.scrollTop(e)};b={left:a[G]-l[G]-(z(c.css(e,"borderLeftWidth"))||0),top:a[C]-l[C]-(z(c.css(e,"borderTopWidth"))||0)};a={left:a[G]+k-(l[G]+B+(z(c.css(e,"borderRightWidth"))||0)),top:a[C]+f-(l[C]+s+(z(c.css(e,"borderBottomWidth"))||0))}}if(b.top<0||a.top>0)if(i===true)c.scrollTop(e,D.top+b.top);else if(i===false)c.scrollTop(e,D.top+a.top);else b.top<0?c.scrollTop(e,D.top+b.top):c.scrollTop(e,D.top+a.top);if(d)if(b.left<0||a.left>0)if(i===true)c.scrollLeft(e,D.left+b.left);
else if(i===false)c.scrollLeft(e,D.left+a.left);else b.left<0?c.scrollLeft(e,D.left+b.left):c.scrollLeft(e,D.left+a.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});o.each(["Left","Top"],function(k,e){var i="scroll"+k;c[i]=function(d,a){if(F(d))return arguments.callee(y,d);d=c.get(d);var b,f=p(d);if(f)if(a!==u){var l=k=="Left"?a:c.scrollLeft(f),s=k=="Top"?a:c.scrollTop(f);f.scrollTo(l,s)}else{b=f["page"+(e?"Y":"X")+"Offset"];if(!F(b)){f=f.document;b=f.documentElement[i];F(b)||(b=
f.body[i])}}else if(v(d))if(a!==u)d[i]=a;else b=d[i];return b}});o.each(["Width","Height"],function(k){c["doc"+k]=function(e){e=c.get(e);e=p(e).document;return x(e.documentElement["scroll"+k],e.body["scroll"+k],c["viewport"+k](e))};c["viewport"+k]=function(e){e=c.get(e);var i="inner"+k;e=p(e);var d=e.document;return i in e?e[i]:q?d.documentElement["client"+k]:d.body["client"+k]}});return c},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(o,c,t){function u(e,i){var d=[],a;a=i===t?[v]:u(i,t);q(a,function(b){G.apply(d,w(e,b))});if(o.isString(e)&&e.indexOf(",")>-1||a.length>1)g(d);d.each=o.bind(q,t,d);return d}function w(e,i){var d=[];p("sizzle");if(F(e))e=o.trim(e);if(F(e)&&e.indexOf(",")>-1)d=A(e,i);else{if(F(e)&&!n.exec(String(e))){d=e;var a=[],b=p("sizzle");b&&b(d,i,a);d=a}else d=y(e,i);d=d}return d=d}function A(e,i){var d=[],a=e.split(",");q(a,function(b){G.apply(d,w(b,i))});return d}function y(e,
i){var d,a,b=[],f;if(F(e))if(H.test(e)){if(a=m(e.slice(1),i))b=[a]}else{if(d=n.exec(e)){a=d[1];f=d[2];d=d[3];if(i=a?m(a,i):i)if(d)if(!a||e.indexOf(C)!=-1)b=[].concat(k(d,f,i));else{if((a=m(a,i))&&c.hasClass(a,d))b=[a]}else if(f)b=r(f,i)}}else if(e&&(x(e)||E(e)))b=j(e,function(l){return h(l,i)});else if(e)if(h(e,i))b=[e];return b}function h(e,i){if(!e)return false;if(i==v)return true;return c.__contains(i,e)}function m(e,i){if(!i)return null;var d=i;if(i.nodeType!==c.DOCUMENT_NODE)d=i.ownerDocument;
if((d=d.getElementById(e))&&d.parentNode)if(c.attr(d,"id")!==e)d=c.filter("*","#"+e,i)[0]||null;else h(d,i)||(d=null);else d=null;return d}function r(e,i){return i&&z(i.getElementsByTagName(e))||[]}var v=document,j=o.filter,p=o.require,q=o.each,x=o.isArray,z=o.makeArray,E=c._isNodeList,G=Array.prototype.push,C=" ",F=o.isString,H=/^#[\w-]+$/,n=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,g;(function(){var e,i,d=true;[0,0].sort(function(){d=false;return 0});g=function(a){if(e){i=d;a.sort(e);if(i)for(var b=
1,f=a.length;b<f;)if(a[b]===a[b-1])a.splice(b,1);else b++}return a};e=v.documentElement.compareDocumentPosition?function(a,b){if(a==b){i=true;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a==b){i=true;return 0}else if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex}})();(function(){var e=v.createElement("div");e.appendChild(v.createComment(""));if(e.getElementsByTagName("*").length>
0)r=function(i,d){var a=z(d.getElementsByTagName(i));if(i==="*"){for(var b=[],f=0,l;l=a[f++];)l.nodeType===1&&b.push(l);a=b}return a}})();var k=v.getElementsByClassName?function(e,i,d){if(!d)return[];d=e=z(d.getElementsByClassName(e));var a=0,b=e.length,f;if(i&&i!=="*")for(d=z();a<b;++a){f=e[a];f.nodeName.toLowerCase()==i.toLowerCase()&&d.push(f)}return d}:v.querySelectorAll?function(e,i,d){return d&&z(d.querySelectorAll((i?i:"")+"."+e))||[]}:function(e,i,d){if(!d)return[];i=z(d.getElementsByTagName(i||
"*"));d=[];for(var a=0,b=i.length,f;a<b;++a){f=i[a];c.hasClass(f,e)&&d.push(f)}return d};o.mix(c,{query:u,get:function(e,i){return u(e,i)[0]||null},unique:g,filter:function(e,i,d){e=u(e,d);d=p("sizzle");var a,b,f,l,s=[];if(F(i)&&(a=n.exec(i))){f=a[1];b=a[2];l=a[3];if(f){if(f&&!b&&!l)i=function(B){return B.id===f}}else i=function(B){var D=true,I=true;if(b)D=B.nodeName.toLowerCase()==b.toLowerCase();if(l)I=c.hasClass(B,l);return I&&D}}if(o.isFunction(i))s=o.filter(e,i);else if(i&&d)s=d.matches(i,e);
return s},test:function(e,i,d){e=u(e,d);return e.length&&c.filter(e,i,d).length===e.length}});return c},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(o,c,t,u){if(!t.ie)return c;var w=document,A=w.documentElement,y=u._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,m=/^-?\d/,r=/opacity=([^)]*)/,v=/alpha\([^)]*\)/i;try{if(o.isNullOrUndefined(A.style.opacity))y.opacity={get:function(q,x){return r.test((x&&q.currentStyle?q.currentStyle.filter:q.style.filter)||"")?parseFloat(RegExp.$1)/100+"":x?"1":""},set:function(q,x){x=parseFloat(x);var z=q.style,E=q.currentStyle,G=isNaN(x)?"":"alpha(opacity="+x*100+")",C=o.trim(E&&E.filter||
z.filter||"");z.zoom=1;if(x>=1&&o.trim(C.replace(v,""))===""){z.removeAttribute("filter");if(E&&!E.filter)return}z.filter=v.test(C)?C.replace(v,G):C+(C?", ":"")+G}}}catch(j){}t=t.ie==8;var p={};p.thin=t?"1px":"2px";p.medium=t?"3px":"4px";p.thick=t?"5px":"6px";o.each(["","Top","Left","Right","Bottom"],function(q){var x="border"+q+"Width",z="border"+q+"Style";y[x]={get:function(E,G){var C=G?E.currentStyle:0,F=C&&String(C[x])||undefined;if(F&&F.indexOf("px")<0)F=p[F]&&C[z]!=="none"?p[F]:0;return F}}});
if(!(w.defaultView||{}).getComputedStyle&&A.currentStyle)c._getComputedStyle=function(q,x){x=c._cssProps[x]||x;var z=q.currentStyle&&q.currentStyle[x];if(!h.test(z)&&m.test(z)){var E=q.style,G=E.left,C=q.runtimeStyle&&q.runtimeStyle.left;if(C)q.runtimeStyle.left=q.currentStyle.left;E.left=x==="fontSize"?"1em":z||0;z=E.pixelLeft+"px";E.left=G;if(C)q.runtimeStyle.left=C}return z===""?"auto":z};return c},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(o,c,t,u){function w(a,b,f){var l={},s;for(s in b){l[s]=a[v][s];a[v][s]=b[s]}f.call(a);for(s in b)a[v][s]=l[s]}function A(a,b,f){var l;if(a.nodeType===3||a.nodeType===8||!(l=a[v]))return u;b=b.replace(E,G);var s,B=n[b];b=g[b]||b;if(f!==u){if(f===null||f===F)f=F;else if(!isNaN(Number(f))&&!z[b])f+=H;if(B&&B.set)f=B.set(a,f);if(f!==u)try{a[v][b]=f}catch(D){}return u}else{if(!(B&&"get"in B&&(s=B.get(a,false))!==u))s=l[b];return s===u?"":s}}function y(a,b,f){if(o.isWindow(a))return b==
j?c.viewportWidth(a):c.viewportHeight(a);else if(a.nodeType==9)return b==j?c.docWidth(a):c.docHeight(a);var l=b===j?["Left","Right"]:["Top","Bottom"],s=b===j?a.offsetWidth:a.offsetHeight;if(s>0){f!=="border"&&o.each(l,function(B){f||(s-=parseFloat(c.css(a,"padding"+B))||0);if(f==="margin")s+=parseFloat(c.css(a,f+B))||0;else s-=parseFloat(c.css(a,"border"+B+"Width"))||0});return s}s=c._getComputedStyle(a,b);if(s<0||o.isNullOrUndefined(s))s=a.style[b]||0;s=parseFloat(s)||0;f&&o.each(l,function(B){s+=
parseFloat(c.css(a,"padding"+B))||0;if(f!=="padding")s+=parseFloat(c.css(a,"border"+B+"Width"))||0;if(f==="margin")s+=parseFloat(c.css(a,f+B))||0});return s}var h=document,m=h.documentElement,r=t.ie,v="style",j="width",p="display"+o.now(),q=parseInt,x=/^-?\d+(?:px)?$/i,z={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},E=/-([a-z])/ig,G=function(a,b){return b.toUpperCase()},C=/([A-Z]|^ms)/g,F="",H="px",n={},g={},k={};if(m[v].cssFloat!==u)g["float"]="cssFloat";
else if(m[v].styleFloat!==u)g["float"]="styleFloat";var e,i;o.mix(c,{_CUSTOM_STYLES:n,_cssProps:g,_getComputedStyle:function(a,b){var f="",l={},s=a.ownerDocument;b=b.replace(C,"-$1").toLowerCase();if(l=s.defaultView.getComputedStyle(a,null))f=l.getPropertyValue(b)||l[b];if(f==""&&!c.__contains(s.documentElement,a)){b=g[b]||b;f=a[v][b]}return f},style:function(a,b,f){if(o.isPlainObject(b))for(var l in b)c.style(a,l,b[l]);else if(f===u){a=c.get(a);l="";if(a)l=A(a,b,f);return l}else c.query(a).each(function(s){A(s,
b,f)})},css:function(a,b,f){if(o.isPlainObject(b))for(var l in b)c.css(a,l,b[l]);else{b=b.replace(E,G);l=n[b];if(f===u){a=c.get(a);f="";if(a)if(!(l&&"get"in l&&(f=l.get(a,true))!==u))f=c._getComputedStyle(a,b);return f===u?"":f}else c.style(a,b,f)}},show:function(a){c.query(a).each(function(b){b[v].display=c.data(b,p)||F;if(c.css(b,"display")==="none"){var f;f=b.tagName.toLowerCase();var l,s;if(!k[f]){l=h.body;s=h.createElement(f);c.prepend(s,l);var B=c.css(s,"display");l.removeChild(s);if(B==="none"||
B===""){if(e)c.prepend(e,l);else{e=h.createElement("iframe");e.frameBorder=e.width=e.height=0;c.prepend(e,l);if(t.ie){s=h.domain;B=location.hostname;s=s!=B&&s!="["+B+"]"}else s=false;if(s)e.src="javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+h.domain+"';document.close();")+"}())"}if(!i||!e.createElement){i=e.contentWindow.document;i.write((h.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");i.close()}s=i.createElement(f);i.body.appendChild(s);B=c.css(s,
"display");l.removeChild(e)}k[f]=B}f=k[f];c.data(b,p,f);b[v].display=f}})},hide:function(a){c.query(a).each(function(b){var f=b[v],l=f.display;if(l!=="none"){l&&c.data(b,p,l);f.display="none"}})},toggle:function(a){c.query(a).each(function(b){c.css(b,"display")==="none"?c.show(b):c.hide(b)})},addStyleSheet:function(a,b,f){if(o.isString(a)){f=b;b=a;a=window}a=c.get(a);a=c._getWin(a).document;var l;if(f&&(f=f.replace("#",F)))l=c.get("#"+f,a);if(!l){l=c.create("<style>",{id:f},a);c.get("head",a).appendChild(l);
if(l.styleSheet)l.styleSheet.cssText=b;else l.appendChild(a.createTextNode(b))}},unselectable:function(a){c.query(a).each(function(b){if(t.gecko)b[v].MozUserSelect="none";else if(t.webkit)b[v].KhtmlUserSelect="none";else if(t.ie||t.opera){var f=0,l=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=l[f++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,
outerHeight:0,width:0,height:0});o.each([j,"height"],function(a){c["inner"+(a.charAt(0).toUpperCase()+a.substring(1))]=function(b){return(b=c.get(b))?y(b,a,"padding"):null};c["outer"+(a.charAt(0).toUpperCase()+a.substring(1))]=function(b,f){var l=c.get(b);return l?y(l,a,f?"margin":"border"):null};c[a]=function(b,f){var l=c.css(b,a,f);if(l)l=parseFloat(l);return l}});var d={position:"absolute",visibility:"hidden",display:"block"};o.each(["height","width"],function(a){n[a]={get:function(b,f){var l;
if(f){if(b.offsetWidth!==0)l=y(b,a);else w(b,d,function(){l=y(b,a)});return l+"px"}},set:function(b,f){if(x.test(f)){f=parseFloat(f);if(f>=0)return f+"px"}else return f}}});o.each(["left","top"],function(a){n[a]={get:function(b,f){if(f){var l=c._getComputedStyle(b,a);if(l==="auto"){l=0;if(o.inArray(c.css(b,"position"),["absolute","fixed"])){l=b[a==="left"?"offsetLeft":"offsetTop"];if(r&&document.documentMode!=9||t.opera)l-=b.offsetParent&&b.offsetParent["client"+(a=="left"?"Left":"Top")]||0;l=l-(q(c.css(b,
"margin-"+a))||0)}l+="px"}return l}}}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(o,c,t){function u(h,m,r,v,j,p){if(!(h=c.get(h)))return null;if(m===0)return h;p||(h=h[r]);if(!h)return null;j=j&&c.get(j)||null;if(m===t)m=1;p=[];var q=o.isArray(m),x,z;if(o.isNumber(m)){x=0;z=m;m=function(){return++x===z}}for(;h&&h!=j;){if(y(h)&&w(h,m)&&(!v||v(h))){p.push(h);if(!q)break}h=h[r]}return q?p:p[0]||null}function w(h,m){if(!m)return true;if(o.isArray(m))for(var r=0;r<m.length;r++){if(c.test(h,m[r]))return true}else if(c.test(h,m))return true;return false}
function A(h,m,r){var v=[];var j=h=c.get(h);if(h&&r)j=h.parentNode;if(j){r=0;for(j=j.firstChild;j;j=j.nextSibling)if(y(j)&&j!==h&&(!m||c.test(j,m)))v[r++]=j}return v}var y=c._isElementNode;o.mix(c,{closest:function(h,m,r){return u(h,m,"parentNode",function(v){return v.nodeType!=c.DOCUMENT_FRAGMENT_NODE},r,true)},parent:function(h,m,r){return u(h,m,"parentNode",function(v){return v.nodeType!=c.DOCUMENT_FRAGMENT_NODE},r)},first:function(h,m){var r=c.get(h);return u(r&&r.firstChild,m,"nextSibling",t,
t,true)},last:function(h,m){var r=c.get(h);return u(r&&r.lastChild,m,"previousSibling",t,t,true)},next:function(h,m){return u(h,m,"nextSibling",t)},prev:function(h,m){return u(h,m,"previousSibling",t)},siblings:function(h,m){return A(h,m,true)},children:function(h,m){return A(h,m,t)},__contains:document.documentElement.contains?function(h,m){if(h.nodeType==c.TEXT_NODE)return false;var r;if(m.nodeType==c.TEXT_NODE){m=m.parentNode;r=true}else if(m.nodeType==c.DOCUMENT_NODE)return false;else r=h!==m;
return r&&(h.contains?h.contains(m):true)}:document.documentElement.compareDocumentPosition?function(h,m){return!!(h.compareDocumentPosition(m)&16)}:0,contains:function(h,m){h=c.get(h);m=c.get(m);if(h&&m)return c.__contains(h,m)},equals:function(h,m){h=c.query(h);m=c.query(m);if(h.length!=m.length)return false;for(var r=h.length;r>=0;r--)if(h[r]!=m[r])return false;return true}});return c},{requires:["./base"]});
KISSY.add("dom",function(o,c){return c},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
