/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Jul 15 14:16
*/
KISSY.add("dom/attr",function(k,b,w,s){function C(c,a){a=v[a]||a;var d=n[a];if(!c)return s;return d&&d.get?d.get(c,a):c[a]}w=document.documentElement;var B=!w.hasAttribute,x=w.textContent!==s?"textContent":"innerText",f=b._isElementNode,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,y=/^a(?:rea)?$/i,i=/:|^on/,m=/\r/g,o={},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},l={tabindex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):q.test(c.nodeName)||y.test(c.nodeName)&&c.href?0:s}},style:{get:function(c){return c.style.cssText},set:function(c,a){c.style.cssText=a}}},v={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
z={get:function(c,a){return b.prop(c,a)?a.toLowerCase():s},set:function(c,a,d){if(a===false)b.removeAttr(c,d);else{a=v[d]||d;if(a in c)c[a]=true;c.setAttribute(d,d.toLowerCase())}return d}},n={},h={},r={option:{get:function(c){var a=c.attributes.value;return!a||a.specified?c.value:c.text}},select:{get:function(c){var a=c.selectedIndex,d=c.options;c=c.type==="select-one";if(a<0)return null;else if(c)return b.val(d[a]);a=[];c=0;for(var e=d.length;c<e;++c)d[c].selected&&a.push(b.val(d[c]));return a},
set:function(c,a){var d=k.makeArray(a);k.each(c.options,function(e){e.selected=k.inArray(b.val(e),d)});if(!d.length)c.selectedIndex=-1;return d}}};if(B){h={get:function(c,a){var d;return(d=c.getAttributeNode(a))&&d.nodeValue!==""?d.nodeValue:s},set:function(c,a,d){if(c=c.getAttributeNode(d))c.nodeValue=a}};o=v;l.tabIndex=l.tabindex;k.each(["href","src","width","height","colSpan","rowSpan"],function(c){l[c]={get:function(a){a=a.getAttribute(c,2);return a===null?s:a}}});r.button=l.value=h}k.each(["radio",
"checkbox"],function(c){r[c]={get:function(a){return a.getAttribute("value")===null?"on":a.value},set:function(a,d){if(k.isArray(d))return a.checked=k.inArray(b.val(a),d)}}});k.mix(b,{prop:function(c,a,d){if(k.isPlainObject(a))for(var e in a)b.prop(c,e,a[e]);else{c=b.query(c);a=v[a]||a;var p=n[a];if(d!==s)k.each(c,function(t){if(p&&p.set)p.set(t,d,a);else t[a]=d});else if(c=c[0])return C(c,a)}},hasProp:function(c,a){return C(c,a)!==s},removeProp:function(c,a){a=v[a]||a;b.query(c).each(function(d){try{d[a]=
s;delete d[a]}catch(e){}})},attr:function(c,a,d,e){if(k.isPlainObject(a)){e=d;for(var p in a)b.attr(c,p,a[p],e)}else if(a=k.trim(a)){a=a.toLowerCase();if(e&&g[a])return b[a](c,d);a=o[a]||a;var t;t=j.test(a)?z:i.test(a)?h:l[a];if(d===s){c=b.get(c);if(f(c)){if(c.nodeName.toLowerCase()=="form")t=h;if(t&&t.get)return t.get(c,a);c=c.getAttribute(a);return c===null?s:c}}else k.each(b.query(c),function(u){if(f(u))t&&t.set?t.set(u,d,a):u.setAttribute(a,""+d)})}},removeAttr:function(c,a){a=a.toLowerCase();
a=o[a]||a;k.each(b.query(c),function(d){if(f(d)){var e;d.removeAttribute(a);if(j.test(a)&&(e=v[a]||a)in d)d[e]=false}})},hasAttr:B?function(c,a){a=a.toLowerCase();var d=b.get(c).getAttributeNode(a);return!!(d&&d.specified)}:function(c,a){a=a.toLowerCase();return b.get(c).hasAttribute(a)},val:function(c,a){var d,e;if(a===s){var p=b.get(c);if(p){if((d=r[p.nodeName.toLowerCase()]||r[p.type])&&"get"in d&&(e=d.get(p,"value"))!==s)return e;e=p.value;return typeof e==="string"?e.replace(m,""):e==null?"":
e}}else b.query(c).each(function(t){if(t.nodeType===1){var u=a;if(u==null)u="";else if(typeof u==="number")u+="";else if(k.isArray(u))u=k.map(u,function(A){return A==null?"":A+""});d=r[t.nodeName.toLowerCase()]||r[t.type];if(!d||!("set"in d)||d.set(t,u,"value")===s)t.value=u}})},text:function(c,a){if(a===s){var d=b.get(c);if(f(d))return d[x]||"";else if(b._nodeTypeIs(d,3))return d.nodeValue;return s}else k.each(b.query(c),function(e){if(f(e))e[x]=a;else if(b._nodeTypeIs(e,3))e.nodeValue=a})}});return b},
{requires:["./base","ua"]});KISSY.add("dom/base",function(k,b){function w(s,C){return s&&s.nodeType===C}return{_isElementNode:function(s){return w(s,1)},_getWin:function(s){return s&&"scrollTo"in s&&s.document?s:w(s,9)?s.defaultView||s.parentWindow:s==b?window:false},_nodeTypeIs:w,_isNodeList:function(s){return s&&!s.nodeType&&s.item&&!s.setTimeout}}});
KISSY.add("dom/class",function(k,b,w){function s(x,f,j,q){if(!(f=k.trim(f)))return q?false:w;x=b.query(x);var y=0,i=x.length,m=f.split(C);for(f=[];y<m.length;y++){var o=k.trim(m[y]);o&&f.push(o)}for(y=0;y<i;y++){m=x[y];if(b._isElementNode(m)){m=j(m,f,f.length);if(m!==w)return m}}if(q)return false;return w}var C=/[\.\s]\s*\.?/,B=/[\n\t]/g;k.mix(b,{hasClass:function(x,f){return s(x,f,function(j,q,y){if(j=j.className){j=(" "+j+" ").replace(B," ");for(var i=0,m=true;i<y;i++)if(j.indexOf(" "+q[i]+" ")<
0){m=false;break}if(m)return true}},true)},addClass:function(x,f){s(x,f,function(j,q,y){var i=j.className;if(i){var m=(" "+i+" ").replace(B," ");i=i;for(var o=0;o<y;o++)if(m.indexOf(" "+q[o]+" ")<0)i+=" "+q[o];j.className=k.trim(i)}else j.className=f},w)},removeClass:function(x,f){s(x,f,function(j,q,y){var i=j.className;if(i)if(y){i=(" "+i+" ").replace(B," ");for(var m=0,o;m<y;m++)for(o=" "+q[m]+" ";i.indexOf(o)>=0;)i=i.replace(o," ");j.className=k.trim(i)}else j.className=""},w)},replaceClass:function(x,
f,j){b.removeClass(x,f);b.addClass(x,j)},toggleClass:function(x,f,j){var q=k.isBoolean(j),y;s(x,f,function(i,m,o){for(var g=0,l;g<o;g++){l=m[g];y=q?!j:b.hasClass(i,l);b[y?"removeClass":"addClass"](i,l)}},w)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(k,b,w,s){function C(e,p){if(k.isPlainObject(p))if(i(e))b.attr(e,p,true);else e.nodeType==11&&k.each(e.childNodes,function(t){b.attr(t,p,true)});return e}function B(e,p){var t=null,u,A;if(e&&(e.push||e.item)&&e[0]){p=p||e[0].ownerDocument;t=p.createDocumentFragment();if(e.item)e=k.makeArray(e);u=0;for(A=e.length;u<A;u++)t.appendChild(e[u])}else k.log("Unable to convert "+e+" to fragment.");return t}function x(e,p,t,u){if(t){var A=k.guid("ks-tmp-"),D=RegExp(l);p+='<span id="'+
A+'"></span>';k.available(A,function(){var E=b.get("head"),F,J,H,G,K,I;for(D.lastIndex=0;F=D.exec(p);)if((H=(J=F[1])?J.match(z):false)&&H[2]){F=j.createElement("script");F.src=H[2];if((G=J.match(n))&&G[2])F.charset=G[2];F.async=true;E.appendChild(F)}else if((I=F[2])&&I.length>0)k.globalEval(I);(K=j.getElementById(A))&&b.remove(K);k.isFunction(u)&&u()});f(e,p)}else{f(e,p);k.isFunction(u)&&u()}}function f(e,p){p=(p+"").replace(l,"");try{e.innerHTML=p}catch(t){for(;e.firstChild;)e.removeChild(e.firstChild);
p&&e.appendChild(b.create(p))}}var j=document,q=w.ie,y=b._nodeTypeIs,i=b._isElementNode,m=j.createElement("div"),o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,g=/<(\w+)/,l=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,v=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,z=/\ssrc=(['"])(.*?)\1/i,n=/\scharset=(['"])(.*?)\1/i;k.mix(b,{create:function(e,p,t){if(y(e,1)||y(e,3)){p=e;t=p.cloneNode(true);if(w.ie<8)t.innerHTML=p.innerHTML;return t}if(!(e=k.trim(e)))return null;var u=
null;u=b._creators;var A,D="div",E;if(A=v.exec(e))u=(t||j).createElement(A[1]);else{e=e.replace(o,"<$1></$2>");if((A=g.exec(e))&&(E=A[1])&&k.isFunction(u[E=E.toLowerCase()]))D=E;e=u[D](e,t).childNodes;u=e.length===1?e[0].parentNode.removeChild(e[0]):B(e,t||j)}return C(u,p)},_creators:{div:function(e,p){var t=p?p.createElement("div"):m;t.innerHTML="w<div>"+e+"</div>";return t.lastChild}},html:function(e,p,t,u){if(p===s){e=b.get(e);if(i(e))return e.innerHTML}else k.each(b.query(e),function(A){i(A)&&
x(A,p,t,u)})},remove:function(e){k.each(b.query(e),function(p){p.parentNode&&p.parentNode.removeChild(p)})},_nl2frag:B});if(q||w.gecko||w.webkit){var h=b._creators,r=b.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,a={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},d;for(d in a)(function(e){h[d]=function(p,t){return r("<"+e+">"+p+"</"+e+">",null,t)}})(a[d]);if(q){h.script=function(e,p){var t=p?p.createElement("div"):m;t.innerHTML="-"+e;t.removeChild(t.firstChild);
return t};if(q<8)h.tbody=function(e,p){var t=r("<table>"+e+"</table>",null,p),u=t.children.tags("tbody")[0];t.children.length>1&&u&&!c.test(e)&&u.parentNode.removeChild(u);return t}}k.mix(h,{optgroup:h.option,th:h.td,thead:h.tbody,tfoot:h.tbody,caption:h.tbody,colgroup:h.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(k,b,w){var s=window,C="_ks_data_"+k.now(),B={},x={},f={};f.applet=1;f.object=1;f.embed=1;var j={hasData:function(i,m){if(i)if(m!==w){if(m in i)return true}else if(!k.isEmptyObject(i))return true;return false}},q={hasData:function(i,m){if(i==s)return q.hasData(x,m);return j.hasData(i[C],m)},data:function(i,m,o){if(i==s)return q.data(x,m,o);i=i[C]=i[C]||{};if(o!==w)i[m]=o;else return m!==w?i[m]:i},removeData:function(i,m){if(i==s)return q.removeData(x,m);var o=i[C];if(o)if(m!==
w){delete o[m];k.isEmptyObject(o)&&q.removeData(i,w)}else delete i[C]}},y={hasData:function(i,m){var o=i[C];if(!o)return false;return j.hasData(B[o],m)},data:function(i,m,o){if(!f[i.nodeName.toLowerCase()]){var g=i[C];g||(g=i[C]=k.guid());i=B[g]=B[g]||{};if(o!==w)i[m]=o;else return m!==w?i[m]:i}},removeData:function(i,m){var o=i[C];if(o){var g=B[o];if(g)if(m!==w){delete g[m];k.isEmptyObject(g)&&y.removeData(i,w)}else{delete B[o];try{delete i[C]}catch(l){}i.removeAttribute&&i.removeAttribute(C)}}}};
k.mix(b,{hasData:function(i,m){var o=false;b.query(i).each(function(g){o=g&&g.nodeType?o||y.hasData(g,m):o||q.hasData(g,m)});return o},data:function(i,m,o){if(k.isPlainObject(m))for(var g in m)b.data(i,g,m[g]);else if(o===w)return(i=b.get(i))&&i.nodeType?y.data(i,m,o):q.data(i,m,o);else b.query(i).each(function(l){l&&l.nodeType?y.data(l,m,o):q.data(l,m,o)})},removeData:function(i,m){b.query(i).each(function(o){o&&o.nodeType?y.removeData(o,m):q.removeData(o,m)})}});return b},{requires:["./base"]});
KISSY.add("dom/insertion",function(k,b){function w(x,f,j){x=b.query(x);f=b.query(f);if(x=s(x)){var q;if(f.length>1)q=x.cloneNode(true);for(var y=0;y<f.length;y++){var i=f[y],m=y>0?q.cloneNode(true):x;j(m,i)}}}var s=b._nl2frag;k.mix(b,{insertBefore:function(x,f){w(x,f,function(j,q){q.parentNode&&q.parentNode.insertBefore(j,q)})},insertAfter:function(x,f){w(x,f,function(j,q){q.parentNode&&q.parentNode.insertBefore(j,q.nextSibling)})},appendTo:function(x,f){w(x,f,function(j,q){q.appendChild(j)})},prependTo:function(x,
f){w(x,f,function(j,q){q.insertBefore(j,q.firstChild)})}});var C={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},B;for(B in C)b[B]=b[C[B]];return b},{requires:["./create"]});
KISSY.add("dom/offset",function(k,b,w,s){function C(a){var d,e=0;d=0;var p=f.body,t=m(a[v]);if(a[c]){d=a[c]();e=d[z];d=d[n];a=j&&f.documentMode!=9&&(o?q.clientTop:p.clientTop)||0;e-=j&&f.documentMode!=9&&(o?q.clientLeft:p.clientLeft)||0;d-=a;if(w.mobile=="apple"){e-=b[h](t);d-=b[r](t)}}return{left:e,top:d}}function B(a,d){var e={left:0,top:0},p=m(a[v]),t=a;d=d||p;do{var u;if(p==d){var A=t;u=C(A);A=m(A[v]);u.left+=b[h](A);u.top+=b[r](A);u=u}else u=C(t);u=u;e.left+=u.left;e.top+=u.top}while(p&&p!=d&&
(t=p.frameElement)&&(p=p.parent));return e}var x=window,f=document,j=w.ie,q=f.documentElement,y=b._isElementNode,i=b._nodeTypeIs,m=b._getWin,o=f.compatMode==="CSS1Compat",g=Math.max,l=parseInt,v="ownerDocument",z="left",n="top",h="scrollLeft",r="scrollTop",c="getBoundingClientRect";k.mix(b,{offset:function(a,d,e){if((a=b.get(a))&&a[v]){if(d===s)return B(a,e);a=a;if(b.css(a,"position")==="static")a.style.position="relative";e=B(a);var p={},t,u;for(u in d){t=l(b.css(a,u),10)||0;p[u]=t+d[u]-e[u]}b.css(a,
p)}},scrollIntoView:function(a,d,e,p){if((a=b.get(a))&&a[v]){p=p===s?true:!!p;e=e===s?true:!!e;if(!d||(d=b.get(d))===x)a.scrollIntoView(e);else{if(i(d,9))d=m(d);var t=!!m(d),u=b.offset(a),A=t?{left:b.scrollLeft(d),top:b.scrollTop(d)}:b.offset(d),D={left:u[z]-A[z],top:u[n]-A[n]};u=t?b.viewportHeight(d):d.clientHeight;t=t?b.viewportWidth(d):d.clientWidth;A=b[h](d);var E=b[r](d),F=A+t,J=E+u,H=a.offsetHeight;a=a.offsetWidth;var G=D.left+A-(l(b.css(d,"borderLeftWidth"))||0);D=D.top+E-(l(b.css(d,"borderTopWidth"))||
0);var K=G+a,I=D+H,L,M;if(H>u||D<E||e)L=D;else if(I>J)L=I-u;if(p)if(a>t||G<A||e)M=G;else if(K>F)M=K-t;b[r](d,L);b[h](d,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});k.each(["Left","Top"],function(a,d){var e="scroll"+a;b[e]=function(p,t){if(k.isNumber(p))arguments.callee(x,p);else{p=b.get(p);var u=0,A=m(p);if(A){if(t!==s){u=a=="Left"?t:b.scrollLeft(A);var D=a=="Top"?t:b.scrollTop(A);A.scrollTo(u,D)}u=A.document;u=A[d?"pageYOffset":"pageXOffset"]||u.documentElement[e]||u.body[e]}else if(y(p=
b.get(p)))u=t!==s?p[e]=t:p[e];return t===s?u:s}}});k.each(["Width","Height"],function(a){b["doc"+a]=function(d){d=b.get(d);d=m(d).document;return g(d.documentElement["scroll"+a],d.body["scroll"+a],b["viewport"+a](d))};b["viewport"+a]=function(d){d=b.get(d);var e="inner"+a;d=m(d);var p=d.document;return e in d?d[e]:o?p.documentElement["client"+a]:p.body["client"+a]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(k,b,w){function s(g,l){var v,z,n=[],h;z=k.require("sizzle");l=C(l);if(k.isString(g))if(g.indexOf(",")!=-1){v=g.split(",");k.each(v,function(r){n.push.apply(n,k.makeArray(s(r,l)))})}else{g=k.trim(g);if(i.test(g)){if(z=B(g.slice(1),l))n=[z]}else if(v=m.exec(String(g))){z=v[1];h=v[2];v=v[3];if(l=z?B(z,l):l)if(v)if(!z||g.indexOf(y)!==-1)n=k.makeArray(o(v,h,l));else{if((z=B(z,l))&&b.hasClass(z,v))n=[z]}else if(h)n=x(h,l)}else if(z)n=z(g,l);else f(g)}else if(g&&(k.isArray(g)||
q(g)))n=g;else if(g)n=[g];if(q(n))n=k.makeArray(n);n.each=function(r,c){return k.each(n,r,c)};return n}function C(g){if(g===w)g=j;else if(k.isString(g)&&i.test(g))g=B(g.slice(1),j);else if(k.isArray(g)||q(g))g=g[0]||null;else if(g&&g.nodeType!==1&&g.nodeType!==9)g=null;return g}function B(g,l){if(!l)return null;if(l.nodeType!==9)l=l.ownerDocument;return l.getElementById(g)}function x(g,l){return l.getElementsByTagName(g)}function f(g){k.error("Unsupported selector: "+g)}var j=document,q=b._isNodeList,
y=" ",i=/^#[\w-]+$/,m=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var g=j.createElement("div");g.appendChild(j.createComment(""));if(g.getElementsByTagName("*").length>0)x=function(l,v){var z=k.makeArray(v.getElementsByTagName(l));if(l==="*"){for(var n=[],h=0,r=0,c;c=z[h++];)if(c.nodeType===1)n[r++]=c;z=n}return z}})();var o=j.getElementsByClassName?function(g,l,v){v=g=k.makeArray(v.getElementsByClassName(g));var z=0,n=0,h=g.length,r;if(l&&l!=="*"){v=[];for(l=l.toUpperCase();z<h;++z){r=
g[z];if(r.tagName===l)v[n++]=r}}return v}:j.querySelectorAll?function(g,l,v){return v.querySelectorAll((l?l:"")+"."+g)}:function(g,l,v){l=v.getElementsByTagName(l||"*");v=[];var z=0,n=0,h=l.length,r,c;for(g=y+g+y;z<h;++z){r=l[z];if((c=r.className)&&(y+c+y).indexOf(g)>-1)v[n++]=r}return v};k.mix(b,{query:s,get:function(g,l){return s(g,l)[0]||null},filter:function(g,l,v){var z=s(g,v),n=k.require("sizzle"),h,r,c,a=[];if(k.isString(l)&&(h=m.exec(l))&&!h[1]){r=h[2];c=h[3];l=function(d){return!(r&&d.tagName.toLowerCase()!==
r.toLowerCase()||c&&!b.hasClass(d,c))}}if(k.isFunction(l))a=k.filter(z,l);else if(l&&n)a=n._filter(g,l,v);else f(l);return a},test:function(g,l,v){g=s(g,v);return g.length&&b.filter(g,l,v).length===g.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(k,b,w,s,C){if(!w.ie)return b;s=document;var B=s.documentElement,x=b._CUSTOM_STYLES,f=/^-?\d+(?:px)?$/i,j=/^-?\d/,q=/^(?:width|height)$/;try{if(B.style.opacity==C&&B.filters)x.opacity={get:function(o){var g=100;try{g=o.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(l){try{g=o.filters("alpha").opacity}catch(v){if(o=((o.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))g=parseInt(k.trim(o[1]))}}return g/100+""},set:function(o,g){var l=o.style,
v=(o.currentStyle||0).filter||"";l.zoom=1;if(v)v=k.trim(v.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(v&&g!=1)v+=", ";l.filter=v+(g!=1?"alpha(opacity="+g*100+")":"")}}}catch(y){k.log("IE filters ActiveX is disabled. ex = "+y)}w=w.ie==8;var i={},m={get:function(o,g){var l=o.currentStyle[g]+"";if(l.indexOf("px")<0)l=i[l]?i[l]:0;return l}};i.thin=w?"1px":"2px";i.medium=w?"3px":"4px";i.thick=w?"5px":"6px";k.each(["","Top","Left","Right","Bottom"],function(o){x["border"+o+"Width"]=m});if(!(s.defaultView||
{}).getComputedStyle&&B.currentStyle)b._getComputedStyle=function(o,g){var l=o.style,v=o.currentStyle[g];if(q.test(g))v=b[g](o)+"px";else if(!f.test(v)&&j.test(v)){var z=l.left,n=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left;l.left=g==="fontSize"?"1em":v||0;v=l.pixelLeft+"px";l.left=z;o.runtimeStyle.left=n}return v};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(k,b,w,s){function C(n,h){var r=b.get(n);if(k.isWindow(r))return h==q?b.viewportWidth(r):b.viewportHeight(r);else if(r.nodeType==9)return h==q?b.docWidth(r):b.docHeight(r);var c=h===q?r.offsetWidth:r.offsetHeight;k.each(h===q?["Left","Right"]:["Top","Bottom"],function(a){c-=parseFloat(b._getComputedStyle(r,"padding"+a))||0;c-=parseFloat(b._getComputedStyle(r,"border"+a+"Width"))||0});return c}function B(n,h,r){var c=r;if(r===y&&m.test(h)){c=0;if(k.inArray(b.css(n,"position"),
["absolute","fixed"])){r=n[h==="left"?"offsetLeft":"offsetTop"];if(j&&document.documentMode!=9||w.opera)r-=n.offsetParent["client"+(h=="left"?"Left":"Top")]||0;c=r-(i(b.css(n,"margin-"+h))||0)}}return c}var x=document,f=x.documentElement,j=w.ie,q="width",y="auto",i=parseInt,m=/^(?:left|top)/,o=/^(?:width|height|top|left|right|bottom|margin|padding)/i,g=/-([a-z])/ig,l=function(n,h){return h.toUpperCase()},v={},z={};k.mix(b,{_CUSTOM_STYLES:v,_getComputedStyle:function(n,h){var r="",c=n.ownerDocument;
if(n.style)r=c.defaultView.getComputedStyle(n,null)[h];return r},css:function(n,h,r){if(k.isPlainObject(h))for(var c in h)b.css(n,c,h[c]);else{if(h.indexOf("-")>0)h=h.replace(g,l);c=h;h=v[h]||h;if(r===s){n=b.get(n);var a="";if(n&&n.style){a=h.get?h.get(n,c):n.style[h];if(a===""&&!h.get)a=B(n,h,b._getComputedStyle(n,h))}return a===s?"":a}else{if(r===null||r==="")r="";else if(!isNaN(new Number(r))&&o.test(h))r+="px";(h===q||h==="height")&&parseFloat(r)<0||k.each(b.query(n),function(d){if(d&&d.style){h.set?
h.set(d,r):d.style[h]=r;if(r==="")d.style.cssText||d.removeAttribute("style")}})}}},width:function(n,h){if(h===s)return C(n,q);else b.css(n,q,h)},height:function(n,h){if(h===s)return C(n,"height");else b.css(n,"height",h)},show:function(n){b.query(n).each(function(h){if(h){h.style.display=b.data(h,"display")||"";if(b.css(h,"display")==="none"){var r=h.tagName,c=z[r],a;if(!c){a=x.createElement(r);x.body.appendChild(a);c=b.css(a,"display");b.remove(a);z[r]=c}b.data(h,"display",c);h.style.display=c}}})},
hide:function(n){b.query(n).each(function(h){if(h){var r=h.style,c=r.display;if(c!=="none"){c&&b.data(h,"display",c);r.display="none"}}})},toggle:function(n){b.query(n).each(function(h){if(h)b.css(h,"display")==="none"?b.show(h):b.hide(h)})},addStyleSheet:function(n,h,r){if(k.isString(n)){r=h;h=n;n=window}n=b.get(n);n=b._getWin(n).document;var c;if(r&&(r=r.replace("#","")))c=b.get("#"+r,n);if(!c){c=b.create("<style>",{id:r},n);b.get("head",n).appendChild(c);if(c.styleSheet)c.styleSheet.cssText=h;
else c.appendChild(n.createTextNode(h))}},unselectable:function(n){b.query(n).each(function(h){if(h)if(w.gecko)h.style.MozUserSelect="none";else if(w.webkit)h.style.KhtmlUserSelect="none";else if(w.ie||w.opera){var r=0,c=h.getElementsByTagName("*");for(h.setAttribute("unselectable","on");h=c[r++];)switch(h.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:h.setAttribute("unselectable","on")}}})}});if(f.style.cssFloat!==s)v["float"]="cssFloat";else if(f.style.styleFloat!==
s)v["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(k,b,w){function s(f,j,q,y,i,m){if(!(f=b.get(f)))return null;if(j===0)return f;m||(f=f[q]);if(!f)return null;i=i&&b.get(i)||null;if(j===w)j=1;m=[];var o=k.isArray(j),g,l;if(k.isNumber(j)){g=0;l=j;j=function(){return++g===l}}do if(x(f)&&C(f,j)&&(!y||y(f))){m.push(f);if(!o)break}while(f!=i&&(f=f[q]));return o?m:m[0]||null}function C(f,j){if(!j)return true;if(k.isArray(j))for(var q=0;q<j.length;q++){if(b.test(f,j[q]))return true}else if(b.test(f,j))return true;return false}
function B(f,j,q){var y=[];var i=f=b.get(f);if(f&&q)i=f.parentNode;if(i){q=0;for(i=i.firstChild;i;i=i.nextSibling)if(x(i)&&i!==f&&(!j||b.test(i,j)))y[q++]=i}return y}var x=b._isElementNode;k.mix(b,{closest:function(f,j,q){return s(f,j,"parentNode",function(y){return y.nodeType!=11},q,true)},parent:function(f,j,q){return s(f,j,"parentNode",function(y){return y.nodeType!=11},q)},next:function(f,j){return s(f,j,"nextSibling",w)},prev:function(f,j){return s(f,j,"previousSibling",w)},siblings:function(f,
j){return B(f,j,true)},children:function(f,j){return B(f,j,w)},contains:document.documentElement.contains?function(f,j){f=b.get(f);j=b.get(j);if(f.nodeType==3)return false;var q;if(j.nodeType==3){j=j.parentNode;q=true}else if(j.nodeType==9)return false;else q=f!==j;return q&&(f.contains?f.contains(j):true)}:document.documentElement.compareDocumentPosition?function(f,j){f=b.get(f);j=b.get(j);return!!(f.compareDocumentPosition(j)&16)}:0,equals:function(f,j){f=b.query(f);j=b.query(j);if(f.length!=j.length)return false;
for(var q=f.length;q>=0;q--)if(f[q]!=j[q])return false;return true}});return b},{requires:["./base"]});KISSY.add("dom",function(k,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
