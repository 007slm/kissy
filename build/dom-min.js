/*
Copyright 2011, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(j,a,o,g){var y=document.documentElement,A=!y.hasAttribute,l=y.textContent!==g?"textContent":"innerText",i=a._isElementNode,m=/^(?:href|src|style)/,p=/^(?:href|src|colspan|rowspan)/,k=/\r/g,r=/^(?:radio|checkbox)/,s={readonly:"readOnly"},w={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};A&&j.mix(s,{"for":"htmlFor","class":"className"});j.mix(a,{attr:function(v,q,e,f){if(j.isPlainObject(q)){f=e;for(var c in q)a.attr(v,c,q[c],f)}else if(q=j.trim(q)){q=q.toLowerCase();
if(f&&w[q])return a[q](v,e);q=s[q]||q;if(e===g){v=a.get(v);if(!i(v))return g;var b;m.test(q)||(b=v[q]);if(b===g)b=v.getAttribute(q);if(A)if(p.test(q))b=v.getAttribute(q,2);else if(q==="style")b=v.style.cssText;return b===null?g:b}j.each(a.query(v),function(d){if(i(d))if(q==="style")d.style.cssText=e;else{if(q==="checked")d[q]=!!e;d.setAttribute(q,""+e)}})}},removeAttr:function(v,q){j.each(a.query(v),function(e){if(i(e)){a.attr(e,q,"");e.removeAttribute(q)}})},val:function(v,q){if(q===g){var e=a.get(v);
if(!i(e))return g;if(e&&e.nodeName.toUpperCase()==="option".toUpperCase())return(e.attributes.value||{}).specified?e.value:e.text;if(e&&e.nodeName.toUpperCase()==="select".toUpperCase()){var f=e.selectedIndex,c=e.options;if(f<0)return null;else if(e.type==="select-one")return a.val(c[f]);e=[];for(var b=0,d=c.length;b<d;++b)c[b].selected&&e.push(a.val(c[b]));return e}if(o.webkit&&r.test(e.type))return e.getAttribute("value")===null?"on":e.value;return(e.value||"").replace(k,"")}j.each(a.query(v),function(n){if(n&&
n.nodeName.toUpperCase()==="select".toUpperCase()){if(j.isNumber(q))q+="";var x=j.makeArray(q),h=n.options,t;b=0;for(d=h.length;b<d;++b){t=h[b];t.selected=j.inArray(a.val(t),x)}if(!x.length)n.selectedIndex=-1}else if(i(n))n.value=q})},text:function(v,q){if(q===g){var e=a.get(v);if(i(e))return e[l]||"";else if(a._nodeTypeIs(e,3))return e.nodeValue}else j.each(a.query(v),function(f){if(i(f))f[l]=q;else if(a._nodeTypeIs(f,3))f.nodeValue=q})}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/base",function(j,a){function o(g,y){return g&&g.nodeType===y}return{_isElementNode:function(g){return o(g,1)},_isKSNode:function(g){var y=j.require("node/node");return y&&o(g,y.TYPE)},_getWin:function(g){return g&&"scrollTo"in g&&g.document?g:o(g,9)?g.defaultView||g.parentWindow:g===a?window:false},_nodeTypeIs:o}});
KISSY.add("dom/class",function(j,a,o){function g(l,i,m,p){if(!(i=j.trim(i)))return p?false:o;l=a.query(l);var k=0,r=l.length;i=i.split(y);for(var s;k<r;k++){s=l[k];if(a._isElementNode(s)){s=m(s,i,i.length);if(s!==o)return s}}if(p)return false;return o}var y=/[\.\s]\s*\.?/,A=/[\n\t]/g;j.mix(a,{hasClass:function(l,i){return g(l,i,function(m,p,k){if(m=m.className){m=" "+m+" ";for(var r=0,s=true;r<k;r++)if(m.indexOf(" "+p[r]+" ")<0){s=false;break}if(s)return true}},true)},addClass:function(l,i){g(l,i,
function(m,p,k){var r=m.className;if(r){var s=" "+r+" ";r=r;for(var w=0;w<k;w++)if(s.indexOf(" "+p[w]+" ")<0)r+=" "+p[w];m.className=j.trim(r)}else m.className=i},o)},removeClass:function(l,i){g(l,i,function(m,p,k){var r=m.className;if(r)if(k){r=(" "+r+" ").replace(A," ");for(var s=0,w;s<k;s++)for(w=" "+p[s]+" ";r.indexOf(w)>=0;)r=r.replace(w," ");m.className=j.trim(r)}else m.className=""},o)},replaceClass:function(l,i,m){a.removeClass(l,i);a.addClass(l,m)},toggleClass:function(l,i,m){var p=j.isBoolean(m),
k;g(l,i,function(r,s,w){for(var v=0,q;v<w;v++){q=s[v];k=p?!m:a.hasClass(r,q);a[k?"removeClass":"addClass"](r,q)}},o)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(j,a,o,g){function y(h){var t=h.cloneNode(true);if(o.ie<8)t.innerHTML=h.innerHTML;return t}function A(h,t,u,z){if(u){var C=j.guid("ks-tmp-"),F=RegExp(v);t+='<span id="'+C+'"></span>';j.available(C,function(){var B=a.get("head"),D,H,G,I,K,E;for(F.lastIndex=0;D=F.exec(t);)if((G=(H=D[1])?H.match(e):false)&&G[2]){D=i.createElement("script");D.src=G[2];if((I=H.match(f))&&I[2])D.charset=I[2];D.async=true;B.appendChild(D)}else if((E=D[2])&&E.length>0)j.globalEval(E);(K=i.getElementById(C))&&
a.remove(K);j.isFunction(z)&&z()});l(h,t)}else{l(h,t);j.isFunction(z)&&z()}}function l(h,t){t=(t+"").replace(v,"");try{h.innerHTML=t}catch(u){for(;h.firstChild;)h.removeChild(h.firstChild);t&&h.appendChild(a.create(t))}}var i=document,m=o.ie,p=a._nodeTypeIs,k=a._isElementNode,r=a._isKSNode,s=i.createElement("div"),w=/<(\w+)/,v=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,f=/\scharset=(['"])(.*?)\1/i;j.mix(a,{create:function(h,
t,u){if(p(h,1)||p(h,3))return y(h);if(r(h))return y(h[0]);if(!(h=j.trim(h)))return null;var z=null;z=a._creators;var C,F="div",B;if(C=q.exec(h))z=(u||i).createElement(C[1]);else{if((C=w.exec(h))&&(B=C[1])&&j.isFunction(z[B=B.toLowerCase()]))F=B;h=z[F](h,u).childNodes;if(h.length===1)u=h[0].parentNode.removeChild(h[0]);else{h=h;B=u||i;u=null;if(h&&(h.push||h.item)&&h[0]){B=B||h[0].ownerDocument;u=B.createDocumentFragment();if(h.item)h=j.makeArray(h);B=0;for(z=h.length;B<z;B++)u.appendChild(h[B])}u=
u}z=u}u=z;k(u)&&j.isPlainObject(t)&&a.attr(u,t,true);return u},_creators:{div:function(h,t){var u=t?t.createElement("div"):s;u.innerHTML=h;return u}},html:function(h,t,u,z){if(t===g){h=a.get(h);if(k(h))return h.innerHTML}else j.each(a.query(h),function(C){k(C)&&A(C,t,u,z)})},remove:function(h){j.each(a.query(h),function(t){k(t)&&t.parentNode&&t.parentNode.removeChild(t)})}});if(m||o.gecko||o.webkit){var c=a._creators,b=a.create,d=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,n={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},x;for(x in n)(function(h){c[x]=function(t,u){return b("<"+h+">"+t+"</"+h+">",null,u)}})(n[x]);if(m){c.script=function(h,t){var u=t?t.createElement("div"):s;u.innerHTML="-"+h;u.removeChild(u.firstChild);return u};if(m<8)c.tbody=function(h,t){var u=b("<table>"+h+"</table>",null,t),z=u.children.tags("tbody")[0];u.children.length>1&&z&&!d.test(h)&&z.parentNode.removeChild(z);return u}}j.mix(c,{optgroup:c.option,th:c.td,thead:c.tbody,tfoot:c.tbody,
caption:c.tbody,colgroup:c.tbody})}return a},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(j,a,o){var g=window,y="_ks_data_"+j.now(),A={},l={},i={EMBED:1,OBJECT:1,APPLET:1};j.mix(a,{data:function(m,p,k){if(j.isPlainObject(p))for(var r in p)a.data(m,r,p[r]);else if(k===o){m=a.get(m);var s;if(!(!m||i[m.nodeName])){if(m==g)m=l;s=(r=m&&m.nodeType)?A:m;m=s[r?m[y]:y];if(j.isString(p)&&m)return m[p];return m}}else a.query(m).each(function(w){if(!(!w||i[w.nodeName])){if(w==g)w=l;var v=A,q;if(w&&w.nodeType){if(!(q=w[y]))q=w[y]=j.guid()}else{q=y;v=w}if(p&&k!==o){v[q]||
(v[q]={});v[q][p]=k}}})},removeData:function(m,p){a.query(m).each(function(k){if(k){if(k==g)k=l;var r,s=A,w,v=k&&k.nodeType;if(v)r=k[y];else{s=k;r=y}if(r){w=s[r];if(p){if(w){delete w[p];j.isEmptyObject(w)&&a.removeData(k)}}else{if(v)k.removeAttribute&&k.removeAttribute(y);else try{delete k[y]}catch(q){}v&&delete s[r]}}}})}});return a},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(j,a){j.mix(a,{insertBefore:function(o,g){if((o=a.get(o))&&(g=a.get(g))&&g.parentNode)g.parentNode.insertBefore(o,g);return o},insertAfter:function(o,g){if((o=a.get(o))&&(g=a.get(g))&&g.parentNode)g.nextSibling?g.parentNode.insertBefore(o,g.nextSibling):g.parentNode.appendChild(o);return o},append:function(o,g){if((o=a.get(o))&&(g=a.get(g)))g.appendChild&&g.appendChild(o)},prepend:function(o,g){if((o=a.get(o))&&(g=a.get(g)))g.firstChild?a.insertBefore(o,g.firstChild):
g.appendChild(o)}});return a},{requires:["dom/base"]});
KISSY.add("dom/offset",function(j,a,o,g){function y(b){var d=0,n=0,x=p(b[w]);if(b[c]){b=b[c]();d=b[v];n=b[q];if(o.mobile!=="apple"){d+=a[e](x);n+=a[f](x)}}return{left:d,top:n}}var A=window,l=document,i=a._isElementNode,m=a._nodeTypeIs,p=a._getWin,k=l.compatMode==="CSS1Compat",r=Math.max,s=parseInt,w="ownerDocument",v="left",q="top",e="scrollLeft",f="scrollTop",c="getBoundingClientRect";j.mix(a,{offset:function(b,d){if(!(b=a.get(b))||!b[w])return null;if(d===g)return y(b);var n=b;if(a.css(n,"position")===
"static")n.style.position="relative";var x=y(n),h={},t,u;for(u in d){t=s(a.css(n,u),10)||0;h[u]=t+d[u]-x[u]}a.css(n,h)},scrollIntoView:function(b,d,n,x){if((b=a.get(b))&&b[w]){x=x===g?true:!!x;n=n===g?true:!!n;if(!d||d===A)return b.scrollIntoView(n);d=a.get(d);if(m(d,9))d=p(d);var h=d&&"scrollTo"in d&&d.document,t=a.offset(b),u=h?{left:a.scrollLeft(d),top:a.scrollTop(d)}:a.offset(d),z={left:t[v]-u[v],top:t[q]-u[q]};t=h?a.viewportHeight(d):d.clientHeight;u=h?a.viewportWidth(d):d.clientWidth;var C=
a[e](d),F=a[f](d),B=C+u,D=F+t,H=b.offsetHeight;b=b.offsetWidth;var G=z.left+C-(s(a.css(d,"borderLeftWidth"))||0);z=z.top+F-(s(a.css(d,"borderTopWidth"))||0);var I=G+b,K=z+H,E,J;if(H>t||z<F||n)E=z;else if(K>D)E=K-t;if(x)if(b>u||G<C||n)J=G;else if(I>B)J=I-u;if(h){if(E!==g||J!==g)d.scrollTo(J,E)}else{if(E!==g)d[f]=E;if(J!==g)d[e]=J}}}});j.each(["Left","Top"],function(b,d){var n="scroll"+b;a[n]=function(x){var h=0,t=p(x),u;if(t&&(u=t.document))h=t[d?"pageYOffset":"pageXOffset"]||u.documentElement[n]||
u.body[n];else if(i(x=a.get(x)))h=x[n];return h}});j.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=d||l;return r(k?d.documentElement["scroll"+b]:d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(d){var n="inner"+b;d=p(d);var x=d.document;return n in d?d[n]:k?x.documentElement["client"+b]:x.body["client"+b]}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(j,a,o){function g(e,f){var c,b,d=[],n;b=j.require("sizzle");f=y(f);if(j.isString(e)){e=j.trim(e);if(v.test(e)){if(b=A(e.slice(1),f))d=[b]}else if(c=q.exec(e)){b=c[1];n=c[2];c=c[3];if(f=b?A(b,f):f)if(c)if(!b||e.indexOf(k)!==-1)d=i(c,n,f);else{if((b=A(b,f))&&a.hasClass(b,c))d=[b]}else if(n)d=l(n,f)}else if(b)return b(e,f);else m(e)}else if(e&&(e[s]||e[w]))d=e[s]?[e[s]()]:e[w]();else if(e&&(j.isArray(e)||e&&!e.nodeType&&e.item&&!e.setTimeout))d=e;else if(e)d=[e];if(d&&
!d.nodeType&&d.item&&!d.setTimeout)d=j.makeArray(d);d.each=function(x,h){return j.each(d,x,h)};return d}function y(e){if(e===o)e=p;else if(j.isString(e)&&v.test(e))e=A(e.slice(1),p);else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function A(e,f){if(f.nodeType!==9)f=f.ownerDocument;return f.getElementById(e)}function l(e,f){return f.getElementsByTagName(e)}function i(e,f,c){c=e=c.getElementsByClassName(e);var b=0,d=0,n=e.length,x;if(f&&f!==r){c=[];for(f=f.toUpperCase();b<n;++b){x=e[b];if(x.tagName===
f)c[d++]=x}}return c}function m(e){j.error("Unsupported selector: "+e)}var p=document,k=" ",r="*",s="getDOMNode",w=s+"s",v=/^#[\w-]+$/,q=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=p.createElement("div");e.appendChild(p.createComment(""));if(e.getElementsByTagName(r).length>0)l=function(f,c){var b=c.getElementsByTagName(f);if(f===r){for(var d=[],n=0,x=0,h;h=b[n++];)if(h.nodeType===1)d[x++]=h;b=d}return b}})();p.getElementsByClassName||(i=p.querySelectorAll?function(e,f,c){return c.querySelectorAll((f?
f:"")+"."+e)}:function(e,f,c){f=c.getElementsByTagName(f||r);c=[];var b=0,d=0,n=f.length,x,h;for(e=k+e+k;b<n;++b){x=f[b];if((h=x.className)&&(k+h+k).indexOf(e)>-1)c[d++]=x}return c});j.mix(a,{query:g,get:function(e,f){return g(e,f)[0]||null},filter:function(e,f,c){c=g(e,c);var b=j.require("sizzle"),d,n,x,h=[];if(j.isString(f)&&(d=q.exec(f))&&!d[1]){n=d[2];x=d[3];f=function(t){return!(n&&t.tagName!==n.toUpperCase()||x&&!a.hasClass(t,x))}}if(j.isFunction(f))h=j.filter(c,f);else if(f&&b)h=b._filter(e,
f+"");else m(f);return h},test:function(e,f,c){e=g(e,c);return e.length&&a.filter(e,f,c).length===e.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(j,a,o,g){if(!o.ie)return a;j=document;o=j.documentElement;var y=a._CUSTOM_STYLES,A=/^-?\d+(?:px)?$/i,l=/^-?\d/,i=/^(?:width|height)$/;try{if(o.style.opacity===g&&o.filters)y.opacity={get:function(p){var k=100;try{k=p.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{k=p.filters("alpha").opacity}catch(s){}}return k/100+""},set:function(p,k){var r=p.style,s=(p.currentStyle||0).filter||"";r.zoom=1;if(s)if(s=s.replace(/alpha\(opacity=.+\)/ig,""))s+=", ";
r.filter=s+"alpha(opacity="+k*100+")"}}}catch(m){}if(!(j.defaultView||{}).getComputedStyle&&o.currentStyle)a._getComputedStyle=function(p,k){var r=p.style,s=p.currentStyle[k];if(i.test(k))s=a[k](p)+"px";else if(!A.test(s)&&l.test(s)){var w=r.left,v=p.runtimeStyle.left;p.runtimeStyle.left=p.currentStyle.left;r.left=k==="fontSize"?"1em":s||0;s=r.pixelLeft+"px";r.left=w;p.runtimeStyle.left=v}return s};return a},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(j,a,o,g){function y(f,c){var b=a.get(f),d=c===m?b.offsetWidth:b.offsetHeight;j.each(c===m?["Left","Right"]:["Top","Bottom"],function(n){d-=parseFloat(a._getComputedStyle(b,"padding"+n))||0;d-=parseFloat(a._getComputedStyle(b,"border"+n+"Width"))||0});return d}function A(f,c,b){var d=b;if(b===p&&r.test(c)){d=0;if(j.inArray(a.css(f,"position"),["absolute","fixed"])){b=f[c==="left"?"offsetLeft":"offsetTop"];if(o.ie===8||o.opera)b-=k(a.css(f.offsetParent,"border-"+c+"-width"))||
0;d=b-(k(a.css(f,"margin-"+c))||0)}}return d}var l=document,i=l.documentElement,m="width",p="auto",k=parseInt,r=/^(?:left|top)/,s=/^(?:width|height|top|left|right|bottom|margin|padding)/i,w=/-([a-z])/ig,v=function(f,c){return c.toUpperCase()},q={},e={};j.mix(a,{_CUSTOM_STYLES:q,_getComputedStyle:function(f,c){var b="",d=f.ownerDocument;if(f.style)b=d.defaultView.getComputedStyle(f,null)[c];return b},css:function(f,c,b){if(j.isPlainObject(c))for(var d in c)a.css(f,d,c[d]);else{if(c.indexOf("-")>0)c=
c.replace(w,v);c=q[c]||c;if(b===g){f=a.get(f);d="";if(f&&f.style){d=c.get?c.get(f):f.style[c];if(d===""&&!c.get)d=A(f,c,a._getComputedStyle(f,c))}return d===g?"":d}else{if(b===null||b==="")b="";else if(!isNaN(new Number(b))&&s.test(c))b+="px";(c===m||c==="height")&&parseFloat(b)<0||j.each(a.query(f),function(n){if(n&&n.style){c.set?c.set(n,b):n.style[c]=b;if(b==="")n.style.cssText||n.removeAttribute("style")}})}}},width:function(f,c){if(c===g)return y(f,m);else a.css(f,m,c)},height:function(f,c){if(c===
g)return y(f,"height");else a.css(f,"height",c)},show:function(f){a.query(f).each(function(c){if(c){c.style.display=a.data(c,"display")||"";if(a.css(c,"display")==="none"){var b=c.tagName,d=e[b],n;if(!d){n=l.createElement(b);l.body.appendChild(n);d=a.css(n,"display");a.remove(n);e[b]=d}a.data(c,"display",d);c.style.display=d}}})},hide:function(f){a.query(f).each(function(c){if(c){var b=c.style,d=b.display;if(d!=="none"){d&&a.data(c,"display",d);b.display="none"}}})},toggle:function(f){a.query(f).each(function(c){if(c)c.style.display===
"none"?a.show(c):a.hide(c)})},addStyleSheet:function(f,c){var b;if(c&&(c=c.replace("#","")))b=a.get("#"+c);if(!b){b=a.create("<style>",{id:c});a.get("head").appendChild(b);if(b.styleSheet)b.styleSheet.cssText=f;else b.appendChild(l.createTextNode(f))}},unselectable:function(f){a.query(f).each(function(c){if(c)if(o.gecko)c.style.MozUserSelect="none";else if(o.webkit)c.style.KhtmlUserSelect="none";else if(o.ie||o.opera){var b=0,d=c.getElementsByTagName("*");for(c.setAttribute("unselectable","on");c=
d[b++];)switch(c.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:c.setAttribute("unselectable","on")}}})}});if(i.style.cssFloat!==g)q["float"]="cssFloat";else if(i.style.styleFloat!==g)q["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(j,a,o){function g(l,i,m,p){if(!(l=a.get(l)))return null;if(i===o)i=1;var k=null,r,s;if(j.isNumber(i)&&i>=0){if(i===0)return l;r=0;s=i;i=function(){return++r===s}}for(;l=l[m];)if(A(l)&&(!i||a.test(l,i))&&(!p||p(l))){k=l;break}return k}function y(l,i,m){var p=[];var k=l=a.get(l);if(l&&m)k=l.parentNode;if(k){m=0;for(k=k.firstChild;k;k=k.nextSibling)if(A(k)&&k!==l&&(!i||a.test(k,i)))p[m++]=k}return p}var A=a._isElementNode;j.mix(a,{parent:function(l,i){return g(l,i,
"parentNode",function(m){return m.nodeType!=11})},next:function(l,i){return g(l,i,"nextSibling",o)},prev:function(l,i){return g(l,i,"previousSibling",o)},siblings:function(l,i){return y(l,i,true)},children:function(l,i){return y(l,i,o)},contains:function(l,i){var m=false;if((l=a.get(l))&&(i=a.get(i)))if(l.contains){if(i.nodeType===3){i=i.parentNode;if(i===l)return true}if(i)return l.contains(i)}else if(l.compareDocumentPosition)return!!(l.compareDocumentPosition(i)&16);else for(;!m&&(i=i.parentNode);)m=
i==l;return m}});return a},{requires:["dom/base"]});KISSY.add("dom",function(j,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
