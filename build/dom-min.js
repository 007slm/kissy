/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 2 22:27
*/
KISSY.add("dom/attr",function(p,b,u,r){function B(g,a){a=A[a]||a;var e=t[a];if(!g)return r;return e&&e.get?e.get(g,a):g[a]}u=document.documentElement;var C=!u.hasAttribute,w=u.textContent!==r?"textContent":"innerText",j=b._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,y=/^a(?:rea)?$/i,i=/:|^on/,o=/\r/g,n={},v={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},z={tabindex:{get:function(g){var a=g.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):q.test(g.nodeName)||y.test(g.nodeName)&&g.href?0:r}},style:{get:function(g){return g.style.cssText},set:function(g,a){g.style.cssText=a}}},A={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
F={get:function(g,a){return b.prop(g,a)?a.toLowerCase():r},set:function(g,a,e){if(a===false)b.removeAttr(g,e);else{a=A[e]||e;if(a in g)g[a]=true;g.setAttribute(e,e.toLowerCase())}return e}},t={},m={},s={option:{get:function(g){var a=g.attributes.value;return!a||a.specified?g.value:g.text}},select:{get:function(g){var a=g.selectedIndex,e=g.options;g=g.type==="select-one";if(a<0)return null;else if(g)return b.val(e[a]);a=[];g=0;for(var h=e.length;g<h;++g)e[g].selected&&a.push(b.val(e[g]));return a},
set:function(g,a){var e=p.makeArray(a);p.each(g.options,function(h){h.selected=p.inArray(b.val(h),e)});if(!e.length)g.selectedIndex=-1;return e}}};if(C){m={get:function(g,a){var e;return(e=g.getAttributeNode(a))&&e.nodeValue!==""?e.nodeValue:r},set:function(g,a,e){if(g=g.getAttributeNode(e))g.nodeValue=a}};n=A;z.tabIndex=z.tabindex;p.each(["href","src","width","height","colSpan","rowSpan"],function(g){z[g]={get:function(a){a=a.getAttribute(g,2);return a===null?r:a}}});s.button=z.value=m}p.each(["radio",
"checkbox"],function(g){s[g]={get:function(a){return a.getAttribute("value")===null?"on":a.value},set:function(a,e){if(p.isArray(e))return a.checked=p.inArray(b.val(a),e)}}});p.mix(b,{prop:function(g,a,e){if(p.isPlainObject(a))for(var h in a)b.prop(g,h,a[h]);else{g=b.query(g);a=A[a]||a;var c=t[a];if(e!==r)p.each(g,function(d){if(c&&c.set)c.set(d,e,a);else d[a]=e});else if(g=g[0])return B(g,a)}},hasProp:function(g,a){return B(g,a)!==r},removeProp:function(g,a){a=A[a]||a;b.query(g).each(function(e){try{e[a]=
r;delete e[a]}catch(h){}})},attr:function(g,a,e,h){if(p.isPlainObject(a)){h=e;for(var c in a)b.attr(g,c,a[c],h)}else if(a=p.trim(a)){a=a.toLowerCase();if(h&&v[a])return b[a](g,e);a=n[a]||a;var d;d=k.test(a)?F:i.test(a)?m:z[a];if(e===r){g=b.get(g);if(j(g)){if(g.nodeName.toLowerCase()=="form")d=m;if(d&&d.get)return d.get(g,a);g=g.getAttribute(a);return g===null?r:g}}else p.each(b.query(g),function(f){if(j(f))d&&d.set?d.set(f,e,a):f.setAttribute(a,""+e)})}},removeAttr:function(g,a){a=a.toLowerCase();
a=n[a]||a;p.each(b.query(g),function(e){if(j(e)){var h;e.removeAttribute(a);if(k.test(a)&&(h=A[a]||a)in e)e[h]=false}})},hasAttr:C?function(g,a){a=a.toLowerCase();var e=b.get(g).getAttributeNode(a);return!!(e&&e.specified)}:function(g,a){a=a.toLowerCase();return b.get(g).hasAttribute(a)},val:function(g,a){var e,h;if(a===r){var c=b.get(g);if(c){if((e=s[c.nodeName.toLowerCase()]||s[c.type])&&"get"in e&&(h=e.get(c,"value"))!==r)return h;h=c.value;return typeof h==="string"?h.replace(o,""):h==null?"":
h}}else b.query(g).each(function(d){if(d.nodeType===1){var f=a;if(f==null)f="";else if(typeof f==="number")f+="";else if(p.isArray(f))f=p.map(f,function(l){return l==null?"":l+""});e=s[d.nodeName.toLowerCase()]||s[d.type];if(!e||!("set"in e)||e.set(d,f,"value")===r)d.value=f}})},text:function(g,a){if(a===r){var e=b.get(g);if(j(e))return e[w]||"";else if(b._nodeTypeIs(e,3))return e.nodeValue;return r}else p.each(b.query(g),function(h){if(j(h))h[w]=a;else if(b._nodeTypeIs(h,3))h.nodeValue=a})}});return b},
{requires:["./base","ua"]});KISSY.add("dom/base",function(p,b){function u(r,B){return r&&r.nodeType===B}return{_isElementNode:function(r){return u(r,1)},_getWin:function(r){return r&&"scrollTo"in r&&r.document?r:u(r,9)?r.defaultView||r.parentWindow:r==b?window:false},_nodeTypeIs:u,_isNodeList:function(r){return r&&!r.nodeType&&r.item&&!r.setTimeout}}});
KISSY.add("dom/class",function(p,b,u){function r(w,j,k,q){if(!(j=p.trim(j)))return q?false:u;w=b.query(w);var y=0,i=w.length,o=j.split(B);for(j=[];y<o.length;y++){var n=p.trim(o[y]);n&&j.push(n)}for(y=0;y<i;y++){o=w[y];if(b._isElementNode(o)){o=k(o,j,j.length);if(o!==u)return o}}if(q)return false;return u}var B=/[\.\s]\s*\.?/,C=/[\n\t]/g;p.mix(b,{hasClass:function(w,j){return r(w,j,function(k,q,y){if(k=k.className){k=(" "+k+" ").replace(C," ");for(var i=0,o=true;i<y;i++)if(k.indexOf(" "+q[i]+" ")<
0){o=false;break}if(o)return true}},true)},addClass:function(w,j){r(w,j,function(k,q,y){var i=k.className;if(i){var o=(" "+i+" ").replace(C," ");i=i;for(var n=0;n<y;n++)if(o.indexOf(" "+q[n]+" ")<0)i+=" "+q[n];k.className=p.trim(i)}else k.className=j},u)},removeClass:function(w,j){r(w,j,function(k,q,y){var i=k.className;if(i)if(y){i=(" "+i+" ").replace(C," ");for(var o=0,n;o<y;o++)for(n=" "+q[o]+" ";i.indexOf(n)>=0;)i=i.replace(n," ");k.className=p.trim(i)}else k.className=""},u)},replaceClass:function(w,
j,k){b.removeClass(w,j);b.addClass(w,k)},toggleClass:function(w,j,k){var q=p.isBoolean(k),y;r(w,j,function(i,o,n){for(var v=0,z;v<n;v++){z=o[v];y=q?!k:b.hasClass(i,z);b[y?"removeClass":"addClass"](i,z)}},u)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(p,b,u,r){function B(h,c){if(p.isPlainObject(c))if(i(h))b.attr(h,c,true);else h.nodeType==11&&p.each(h.childNodes,function(d){b.attr(d,c,true)});return h}function C(h,c){var d=null,f,l;if(h&&(h.push||h.item)&&h[0]){c=c||h[0].ownerDocument;d=c.createDocumentFragment();if(h.item)h=p.makeArray(h);f=0;for(l=h.length;f<l;f++)d.appendChild(h[f])}return d}function w(h,c,d,f){if(d){var l=p.guid("ks-tmp-"),x=RegExp(z);c+='<span id="'+l+'"></span>';p.available(l,function(){var D=
b.get("head"),E,G,I,H,K,J;for(x.lastIndex=0;E=x.exec(c);)if((I=(G=E[1])?G.match(F):false)&&I[2]){E=k.createElement("script");E.src=I[2];if((H=G.match(t))&&H[2])E.charset=H[2];E.async=true;D.appendChild(E)}else if((J=E[2])&&J.length>0)p.globalEval(J);(K=k.getElementById(l))&&b.remove(K);p.isFunction(f)&&f()});j(h,c)}else{j(h,c);p.isFunction(f)&&f()}}function j(h,c){c=(c+"").replace(z,"");try{h.innerHTML=c}catch(d){for(;h.firstChild;)h.removeChild(h.firstChild);c&&h.appendChild(b.create(c))}}var k=
document,q=u.ie,y=b._nodeTypeIs,i=b._isElementNode,o=k.createElement("div"),n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<(\w+)/,z=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,F=/\ssrc=(['"])(.*?)\1/i,t=/\scharset=(['"])(.*?)\1/i;p.mix(b,{create:function(h,c,d){if(y(h,1)||y(h,3)){c=h;d=c.cloneNode(true);if(u.ie<8)d.innerHTML=c.innerHTML;return d}if(!(h=p.trim(h)))return null;var f=null;f=b._creators;var l,x="div",D;
if(l=A.exec(h))f=(d||k).createElement(l[1]);else{h=h.replace(n,"<$1></$2>");if((l=v.exec(h))&&(D=l[1])&&p.isFunction(f[D=D.toLowerCase()]))x=D;h=f[x](h,d).childNodes;f=h.length===1?h[0].parentNode.removeChild(h[0]):C(h,d||k)}return B(f,c)},_creators:{div:function(h,c){var d=c?c.createElement("div"):o;d.innerHTML="w<div>"+h+"</div>";return d.lastChild}},html:function(h,c,d,f){if(c===r){h=b.get(h);if(i(h))return h.innerHTML}else p.each(b.query(h),function(l){i(l)&&w(l,c,d,f)})},remove:function(h){p.each(b.query(h),
function(c){c.parentNode&&c.parentNode.removeChild(c)})},_nl2frag:C});if(q||u.gecko||u.webkit){var m=b._creators,s=b.create,g=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,a={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},e;for(e in a)(function(h){m[e]=function(c,d){return s("<"+h+">"+c+"</"+h+">",null,d)}})(a[e]);if(q){m.script=function(h,c){var d=c?c.createElement("div"):o;d.innerHTML="-"+h;d.removeChild(d.firstChild);return d};if(q<8)m.tbody=function(h,
c){var d=s("<table>"+h+"</table>",null,c),f=d.children.tags("tbody")[0];d.children.length>1&&f&&!g.test(h)&&f.parentNode.removeChild(f);return d}}p.mix(m,{optgroup:m.option,th:m.td,thead:m.tbody,tfoot:m.tbody,caption:m.tbody,colgroup:m.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(p,b,u){var r=window,B="_ks_data_"+p.now(),C={},w={},j={};j.applet=1;j.object=1;j.embed=1;var k={hasData:function(i,o){if(i)if(o!==u){if(o in i)return true}else if(!p.isEmptyObject(i))return true;return false}},q={hasData:function(i,o){if(i==r)return q.hasData(w,o);return k.hasData(i[B],o)},data:function(i,o,n){if(i==r)return q.data(w,o,n);var v=i[B];if(n!==u){v=i[B]=i[B]||{};v[o]=n}else if(o!==u)return v&&v[o];else return v=i[B]=i[B]||{}},removeData:function(i,o){if(i==
r)return q.removeData(w,o);var n=i[B];if(n)if(o!==u){delete n[o];p.isEmptyObject(n)&&q.removeData(i,u)}else delete i[B]}},y={hasData:function(i,o){var n=i[B];if(!n)return false;return k.hasData(C[n],o)},data:function(i,o,n){if(!j[i.nodeName.toLowerCase()]){var v=i[B];v||(v=i[B]=p.guid());i=C[v];if(n!==u){i=C[v]=C[v]||{};i[o]=n}else if(o!==u)return i&&i[o];else return i=C[v]=C[v]||{}}},removeData:function(i,o){var n=i[B];if(n){var v=C[n];if(v)if(o!==u){delete v[o];p.isEmptyObject(v)&&y.removeData(i,
u)}else{delete C[n];try{delete i[B]}catch(z){}i.removeAttribute&&i.removeAttribute(B)}}}};p.mix(b,{hasData:function(i,o){var n=false;b.query(i).each(function(v){n=v&&v.nodeType?n||y.hasData(v,o):n||q.hasData(v,o)});return n},data:function(i,o,n){if(p.isPlainObject(o))for(var v in o)b.data(i,v,o[v]);else if(n===u)return(i=b.get(i))&&i.nodeType?y.data(i,o,n):q.data(i,o,n);else b.query(i).each(function(z){z&&z.nodeType?y.data(z,o,n):q.data(z,o,n)})},removeData:function(i,o){b.query(i).each(function(n){n&&
n.nodeType?y.removeData(n,o):q.removeData(n,o)})}});return b},{requires:["./base"]});
KISSY.add("dom/insertion",function(p,b){function u(w,j,k){w=b.query(w);j=b.query(j);if(w=r(w)){var q;if(j.length>1)q=w.cloneNode(true);for(var y=0;y<j.length;y++){var i=j[y],o=y>0?q.cloneNode(true):w;k(o,i)}}}var r=b._nl2frag;p.mix(b,{insertBefore:function(w,j){u(w,j,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q)})},insertAfter:function(w,j){u(w,j,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q.nextSibling)})},appendTo:function(w,j){u(w,j,function(k,q){q.appendChild(k)})},prependTo:function(w,
j){u(w,j,function(k,q){q.insertBefore(k,q.firstChild)})}});var B={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},C;for(C in B)b[C]=b[B[C]];return b},{requires:["./create"]});
KISSY.add("dom/offset",function(p,b,u,r){function B(a){var e,h=0;e=0;var c=j.body,d=o(a[A]);if(a[g]){e=a[g]();h=e[F];e=e[t];a=k&&j.documentMode!=9&&(n?q.clientTop:c.clientTop)||0;h-=k&&j.documentMode!=9&&(n?q.clientLeft:c.clientLeft)||0;e-=a;if(u.mobile=="apple"){h-=b[m](d);e-=b[s](d)}}return{left:h,top:e}}function C(a,e){var h={left:0,top:0},c=o(a[A]),d=a;e=e||c;do{var f;if(c==e){var l=d;f=B(l);l=o(l[A]);f.left+=b[m](l);f.top+=b[s](l);f=f}else f=B(d);f=f;h.left+=f.left;h.top+=f.top}while(c&&c!=e&&
(d=c.frameElement)&&(c=c.parent));return h}var w=window,j=document,k=u.ie,q=j.documentElement,y=b._isElementNode,i=b._nodeTypeIs,o=b._getWin,n=j.compatMode==="CSS1Compat",v=Math.max,z=parseInt,A="ownerDocument",F="left",t="top",m="scrollLeft",s="scrollTop",g="getBoundingClientRect";p.mix(b,{offset:function(a,e,h){if((a=b.get(a))&&a[A]){if(e===r)return C(a,h);a=a;if(b.css(a,"position")==="static")a.style.position="relative";h=C(a);var c={},d,f;for(f in e){d=z(b.css(a,f),10)||0;c[f]=d+e[f]-h[f]}b.css(a,
c)}},scrollIntoView:function(a,e,h,c){if((a=b.get(a))&&a[A]){c=c===r?true:!!c;h=h===r?true:!!h;if(!e||(e=b.get(e))===w)a.scrollIntoView(h);else{if(i(e,9))e=o(e);var d=!!o(e),f=b.offset(a),l=d?{left:b.scrollLeft(e),top:b.scrollTop(e)}:b.offset(e),x={left:f[F]-l[F],top:f[t]-l[t]};f=d?b.viewportHeight(e):e.clientHeight;d=d?b.viewportWidth(e):e.clientWidth;l=b[m](e);var D=b[s](e),E=l+d,G=D+f,I=a.offsetHeight;a=a.offsetWidth;var H=x.left+l-(z(b.css(e,"borderLeftWidth"))||0);x=x.top+D-(z(b.css(e,"borderTopWidth"))||
0);var K=H+a,J=x+I,L,M;if(I>f||x<D||h)L=x;else if(J>G)L=J-f;if(c)if(a>d||H<l||h)M=H;else if(K>E)M=K-d;b[s](e,L);b[m](e,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});p.each(["Left","Top"],function(a,e){var h="scroll"+a;b[h]=function(c,d){if(p.isNumber(c))arguments.callee(w,c);else{c=b.get(c);var f=0,l=o(c);if(l){if(d!==r){f=a=="Left"?d:b.scrollLeft(l);var x=a=="Top"?d:b.scrollTop(l);l.scrollTo(f,x)}f=l.document;f=l[e?"pageYOffset":"pageXOffset"]||f.documentElement[h]||f.body[h]}else if(y(c=
b.get(c)))f=d!==r?c[h]=d:c[h];return d===r?f:r}}});p.each(["Width","Height"],function(a){b["doc"+a]=function(e){e=b.get(e);e=o(e).document;return v(e.documentElement["scroll"+a],e.body["scroll"+a],b["viewport"+a](e))};b["viewport"+a]=function(e){e=b.get(e);var h="inner"+a;e=o(e);var c=e.document;return h in e?e[h]:n?c.documentElement["client"+a]:c.body["client"+a]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(p,b,u){function r(c,d){var f;n("sizzle");var l;if(s(c)&&c.indexOf(",")!=-1)l=C(c,d);else{if(s(c)&&!a.exec(String(c)))l=B(c,d);else{l=w;var x;x=d===u?[i]:r(d,u);l=l(c,x)}l=l}f=l;f.each=function(D,E){return v(f,D,E)};return f}function B(c,d){var f,l=n("sizzle");if(l)f=l(c,d);return f||[]}function C(c,d){var f=[],l=c.split(",");v(l,function(x){t.apply(f,r(x,d))});return e(f)}function w(c,d){var f=[];if(d.length>1){v(d,function(l){t.apply(f,r(c,l))});f=e(f)}else f=j(c,
d[0]);return f}function j(c,d){var f,l,x=[],D;if(s(c)){c=p.trim(c);if(g.test(c)){if(l=q(c.slice(1),d))x=[l]}else if(f=a.exec(c)){l=f[1];D=f[2];f=f[3];if(d=l?q(l,d):d)if(f)if(!l||c.indexOf(m)!=-1)x=[].concat(h(f,D,d));else{if((l=q(l,d))&&b.hasClass(l,f))x=[l]}else if(D)x=y(D,d)}}else if(c&&(z(c)||F(c)))x=o(c,function(E){return k(E,d)});else if(c)if(k(c,d))x=[c];return x}function k(c,d){if(!c)return false;if(d==i)return true;return b.__contains(d,c)}function q(c,d){if(!d)return null;var f=d;if(d.nodeType!==
9)f=d.ownerDocument;f=f.getElementById(c);if(!k(f,d))return null;return f}function y(c,d){return d&&A(d.getElementsByTagName(c))||[]}var i=document,o=p.filter,n=p.require,v=p.each,z=p.isArray,A=p.makeArray,F=b._isNodeList,t=Array.prototype.push,m=" ",s=p.isString,g=/^#[\w-]+$/,a=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,e;(function(){var c,d,f=true;[0,0].sort(function(){f=false;return 0});e=function(l){if(c){d=f;l.sort(c);if(d)for(var x=1;x<l.length;x++)l[x]===l[x-1]&&l.splice(x--,1)}return l};
c=i.documentElement.compareDocumentPosition?function(l,x){if(l==x){d=true;return 0}if(!l.compareDocumentPosition||!x.compareDocumentPosition)return l.compareDocumentPosition?-1:1;return l.compareDocumentPosition(x)&4?-1:1}:function(l,x){if(l==x){d=true;return 0}else if(l.sourceIndex&&x.sourceIndex)return l.sourceIndex-x.sourceIndex}})();(function(){var c=i.createElement("div");c.appendChild(i.createComment(""));if(c.getElementsByTagName("*").length>0)y=function(d,f){var l=A(f.getElementsByTagName(d));
if(d==="*"){for(var x=[],D=0,E;E=l[D++];)E.nodeType===1&&x.push(E);l=x}return l}})();var h=i.getElementsByClassName?function(c,d,f){if(!f)return[];f=c=A(f.getElementsByClassName(c));var l=0,x=c.length,D;if(d&&d!=="*")for(f=A();l<x;++l){D=c[l];D.nodeName.toLowerCase()==d.toLowerCase()&&f.push(D)}return f}:i.querySelectorAll?function(c,d,f){return f&&A(f.querySelectorAll((d?d:"")+"."+c))||[]}:function(c,d,f){if(!f)return[];d=A(f.getElementsByTagName(d||"*"));f=[];for(var l=0,x=d.length,D;l<x;++l){D=
d[l];b.hasClass(D,c)&&f.push(D)}return f};p.mix(b,{query:r,get:function(c,d){return r(c,d)[0]||null},unique:e,filter:function(c,d,f){c=r(c,f);f=n("sizzle");var l,x,D,E=[];if(s(d)&&(l=a.exec(d))&&!l[1]){x=l[2];D=l[3];d=function(G){return!(x&&G.nodeName.toLowerCase()!=x.toLowerCase()||D&&!b.hasClass(G,D))}}if(p.isFunction(d))E=p.filter(c,d);else if(d&&f)E=f.matches(d,c);return E},test:function(c,d,f){c=r(c,f);return c.length&&b.filter(c,d,f).length===c.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(p,b,u,r,B){if(!u.ie)return b;r=document;var C=r.documentElement,w=b._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,k=/^-?\d/,q=/^(?:width|height)$/;try{if(C.style.opacity==B&&C.filters)w.opacity={get:function(n){var v=100;try{v=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{v=n.filters("alpha").opacity}catch(A){if(n=((n.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))v=parseInt(p.trim(n[1]))}}return v/100+""},set:function(n,v){var z=n.style,
A=(n.currentStyle||0).filter||"";z.zoom=1;if(A)A=p.trim(A.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(A&&v!=1)A+=", ";z.filter=A+(v!=1?"alpha(opacity="+v*100+")":"")}}}catch(y){}u=u.ie==8;var i={},o={get:function(n,v){var z=n.currentStyle[v]+"";if(z.indexOf("px")<0)z=i[z]?i[z]:0;return z}};i.thin=u?"1px":"2px";i.medium=u?"3px":"4px";i.thick=u?"5px":"6px";p.each(["","Top","Left","Right","Bottom"],function(n){w["border"+n+"Width"]=o});if(!(r.defaultView||{}).getComputedStyle&&C.currentStyle)b._getComputedStyle=
function(n,v){var z=n.style,A=n.currentStyle[v];if(q.test(v))A=b[v](n)+"px";else if(!j.test(A)&&k.test(A)){var F=z.left,t=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;z.left=v==="fontSize"?"1em":A||0;A=z.pixelLeft+"px";z.left=F;n.runtimeStyle.left=t}return A};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(p,b,u,r){function B(t,m){var s=b.get(t);if(p.isWindow(s))return m==q?b.viewportWidth(s):b.viewportHeight(s);else if(s.nodeType==9)return m==q?b.docWidth(s):b.docHeight(s);var g=m===q?s.offsetWidth:s.offsetHeight;p.each(m===q?["Left","Right"]:["Top","Bottom"],function(a){g-=parseFloat(b._getComputedStyle(s,"padding"+a))||0;g-=parseFloat(b._getComputedStyle(s,"border"+a+"Width"))||0});return g}function C(t,m,s){var g=s;if(s===y&&o.test(m)){g=0;if(p.inArray(b.css(t,"position"),
["absolute","fixed"])){s=t[m==="left"?"offsetLeft":"offsetTop"];if(k&&document.documentMode!=9||u.opera)s-=t.offsetParent["client"+(m=="left"?"Left":"Top")]||0;g=s-(i(b.css(t,"margin-"+m))||0)}}return g}var w=document,j=w.documentElement,k=u.ie,q="width",y="auto",i=parseInt,o=/^(?:left|top)/,n=/^(?:width|height|top|left|right|bottom|margin|padding)/i,v=/-([a-z])/ig,z=function(t,m){return m.toUpperCase()},A={},F={};p.mix(b,{_CUSTOM_STYLES:A,_getComputedStyle:function(t,m){var s="",g=t.ownerDocument;
if(t.style)s=g.defaultView.getComputedStyle(t,null)[m];return s},css:function(t,m,s){if(p.isPlainObject(m))for(var g in m)b.css(t,g,m[g]);else{if(m.indexOf("-")>0)m=m.replace(v,z);g=m;m=A[m]||m;if(s===r){t=b.get(t);var a="";if(t&&t.style){a=m.get?m.get(t,g):t.style[m];if(a===""&&!m.get)a=C(t,m,b._getComputedStyle(t,m))}return a===r?"":a}else{if(s===null||s==="")s="";else if(!isNaN(new Number(s))&&n.test(m))s+="px";(m===q||m==="height")&&parseFloat(s)<0||p.each(b.query(t),function(e){if(e&&e.style){m.set?
m.set(e,s):e.style[m]=s;if(s==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(t,m){if(m===r)return B(t,q);else b.css(t,q,m)},height:function(t,m){if(m===r)return B(t,"height");else b.css(t,"height",m)},show:function(t){b.query(t).each(function(m){if(m){m.style.display=b.data(m,"display")||"";if(b.css(m,"display")==="none"){var s=m.tagName,g=F[s],a;if(!g){a=w.createElement(s);w.body.appendChild(a);g=b.css(a,"display");b.remove(a);F[s]=g}b.data(m,"display",g);m.style.display=g}}})},
hide:function(t){b.query(t).each(function(m){if(m){var s=m.style,g=s.display;if(g!=="none"){g&&b.data(m,"display",g);s.display="none"}}})},toggle:function(t){b.query(t).each(function(m){if(m)b.css(m,"display")==="none"?b.show(m):b.hide(m)})},addStyleSheet:function(t,m,s){if(p.isString(t)){s=m;m=t;t=window}t=b.get(t);t=b._getWin(t).document;var g;if(s&&(s=s.replace("#","")))g=b.get("#"+s,t);if(!g){g=b.create("<style>",{id:s},t);b.get("head",t).appendChild(g);if(g.styleSheet)g.styleSheet.cssText=m;
else g.appendChild(t.createTextNode(m))}},unselectable:function(t){b.query(t).each(function(m){if(m)if(u.gecko)m.style.MozUserSelect="none";else if(u.webkit)m.style.KhtmlUserSelect="none";else if(u.ie||u.opera){var s=0,g=m.getElementsByTagName("*");for(m.setAttribute("unselectable","on");m=g[s++];)switch(m.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:m.setAttribute("unselectable","on")}}})}});if(j.style.cssFloat!==r)A["float"]="cssFloat";else if(j.style.styleFloat!==
r)A["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(p,b,u){function r(j,k,q,y,i,o){if(!(j=b.get(j)))return null;if(k===0)return j;o||(j=j[q]);if(!j)return null;i=i&&b.get(i)||null;if(k===u)k=1;o=[];var n=p.isArray(k),v,z;if(p.isNumber(k)){v=0;z=k;k=function(){return++v===z}}for(;j&&j!=i;){if(w(j)&&B(j,k)&&(!y||y(j))){o.push(j);if(!n)break}j=j[q]}return n?o:o[0]||null}function B(j,k){if(!k)return true;if(p.isArray(k))for(var q=0;q<k.length;q++){if(b.test(j,k[q]))return true}else if(b.test(j,k))return true;return false}
function C(j,k,q){var y=[];var i=j=b.get(j);if(j&&q)i=j.parentNode;if(i){q=0;for(i=i.firstChild;i;i=i.nextSibling)if(w(i)&&i!==j&&(!k||b.test(i,k)))y[q++]=i}return y}var w=b._isElementNode;p.mix(b,{closest:function(j,k,q){return r(j,k,"parentNode",function(y){return y.nodeType!=11},q,true)},parent:function(j,k,q){return r(j,k,"parentNode",function(y){return y.nodeType!=11},q)},next:function(j,k){return r(j,k,"nextSibling",u)},prev:function(j,k){return r(j,k,"previousSibling",u)},siblings:function(j,
k){return C(j,k,true)},children:function(j,k){return C(j,k,u)},__contains:document.documentElement.contains?function(j,k){if(j.nodeType==3)return false;var q;if(k.nodeType==3){k=k.parentNode;q=true}else if(k.nodeType==9)return false;else q=j!==k;return q&&(j.contains?j.contains(k):true)}:document.documentElement.compareDocumentPosition?function(j,k){return!!(j.compareDocumentPosition(k)&16)}:0,contains:function(j,k){j=b.get(j);k=b.get(k);return b.__contains(j,k)},equals:function(j,k){j=b.query(j);
k=b.query(k);if(j.length!=k.length)return false;for(var q=j.length;q>=0;q--)if(j[q]!=k[q])return false;return true}});return b},{requires:["./base"]});KISSY.add("dom",function(p,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
