/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Nov 1 21:31
*/
KISSY.add("dom/attr",function(e,a,i,j){function k(a,h){var h=t[h]||h,c=B[h];return c&&c.get?c.get(a,h):a[h]}var o=e.Env.host.document,m=a.NodeType,q=o&&o.documentElement,i=i.ie&&(o.documentMode||i.ie),u=q&&q.textContent===j?"innerText":"textContent",f=a.nodeName,l=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,d=/^(?:button|input|object|select|textarea)$/i,g=/^a(?:rea)?$/i,c=/:|^on/,b=/\r/g,s={},C={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var h=a.getAttributeNode("tabindex");return h&&h.specified?parseInt(h.value,10):d.test(a.nodeName)||g.test(a.nodeName)&&a.href?0:j}},style:{get:function(a){return a.style.cssText},set:function(a,h){a.style.cssText=h}}},t={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},w={get:function(c,h){return a.prop(c,h)?h.toLowerCase():j},set:function(c,h,n){!1===h?a.removeAttr(c,n):(h=t[n]||n,h in c&&(c[h]=!0),c.setAttribute(n,n.toLowerCase()));return n}},B={},x={},y={option:{get:function(a){var h=a.attributes.value;return!h||h.specified?a.value:a.text}},select:{get:function(c){var h=c.selectedIndex,n=c.options;if(0>h)return null;if("select-one"===c.type)return a.val(n[h]);for(var c=[],h=0,r=n.length;h<
r;++h)n[h].selected&&c.push(a.val(n[h]));return c},set:function(c,h){var n=e.makeArray(h);e.each(c.options,function(h){h.selected=e.inArray(a.val(h),n)});n.length||(c.selectedIndex=-1);return n}}};i&&8>i&&(x={get:function(a,h){var c;return(c=a.getAttributeNode(h))&&(c.specified||c.nodeValue)?c.nodeValue:j},set:function(a,h,c){var r=a.getAttributeNode(c);if(r)r.nodeValue=h;else try{var b=a.ownerDocument.createAttribute(c);b.value=h;a.setAttributeNode(b)}catch(f){return a.setAttribute(c,h,0)}}},s=t,
v.tabIndex=v.tabindex,e.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){v[a]={get:function(h){h=h.getAttribute(a,2);return h===null?j:h}}}),y.button=v.value=x);i&&9>i&&((v.href=v.href||{}).set=function(a,h,c){for(var b=a.childNodes,f,d=b.length,p=d>0,d=d-1;d>=0;d--)b[d].nodeType!=m.TEXT_NODE&&(p=0);if(p){f=a.ownerDocument.createElement("b");f.style.display="none";a.appendChild(f)}a.setAttribute(c,""+h);f&&a.removeChild(f)});e.each(["radio","checkbox"],function(c){y[c]={get:function(h){return h.getAttribute("value")===
null?"on":h.value},set:function(h,c){if(e.isArray(c))return h.checked=e.inArray(a.val(h),c)}}});e.mix(a,{prop:function(c,h,n){var b=a.query(c);if(e.isPlainObject(h)){e.each(h,function(h,c){a.prop(b,c,h)});return j}h=t[h]||h;c=B[h];if(n!==j)for(var f=b.length-1;f>=0;f--){var d=b[f];c&&c.set?c.set(d,n,h):d[h]=n}else if(b.length)return k(b[0],h);return j},hasProp:function(c,h){for(var n=a.query(c),b=0;b<n.length;b++)if(k(n[b],h)!==j)return true;return false},removeProp:function(c,h){for(var h=t[h]||
h,b=a.query(c),r=b.length-1;r>=0;r--){var f=b[r];try{f[h]=j;delete f[h]}catch(d){}}},attr:function(b,h,n,r){var d=a.query(b);if(e.isPlainObject(h)){var r=n,g;for(g in h)a.attr(d,g,h[g],r);return j}if(!(h=e.trim(h)))return j;if(r&&C[h])return a[h](b,n);h=h.toLowerCase();if(r&&C[h])return a[h](b,n);h=s[h]||h;r=d[0];b=l.test(h)?w:c.test(h)?x:v[h];if(n===j){if(r&&r.nodeType===m.ELEMENT_NODE){f(r)=="form"&&(b=x);if(b&&b.get)return b.get(r,h);h=r.getAttribute(h);return h===null?j:h}}else for(g=d.length-
1;g>=0;g--)if((r=d[g])&&r.nodeType===m.ELEMENT_NODE){f(r)=="form"&&(b=x);b&&b.set?b.set(r,n,h):r.setAttribute(h,""+n)}return j},removeAttr:function(c,h){var h=h.toLowerCase(),h=s[h]||h,b=a.query(c),f,d;for(d=b.length-1;d>=0;d--){f=b[d];if(f.nodeType==m.ELEMENT_NODE){var g;f.removeAttribute(h);if(l.test(h)&&(g=t[h]||h)in f)f[g]=false}}},hasAttr:q&&!q.hasAttribute?function(c,h){for(var h=h.toLowerCase(),b=a.query(c),f=0;f<b.length;f++){var d=b[f].getAttributeNode(h);if(d&&d.specified)return true}return false}:
function(c,h){for(var b=a.query(c),f=0;f<b.length;f++)if(b[f].hasAttribute(h))return true;return false},val:function(c,h){var n,d;if(h===j){var g=a.get(c);if(g){if((n=y[f(g)]||y[g.type])&&"get"in n&&(d=n.get(g,"value"))!==j)return d;d=g.value;return typeof d==="string"?d.replace(b,""):d==null?"":d}return j}d=a.query(c);var l;for(l=d.length-1;l>=0;l--){g=d[l];if(g.nodeType!==1)break;var p=h;p==null?p="":typeof p==="number"?p=p+"":e.isArray(p)&&(p=e.map(p,function(h){return h==null?"":h+""}));n=y[f(g)]||
y[g.type];if(!n||!("set"in n)||n.set(g,p,"value")===j)g.value=p}return j},_propHooks:B,text:function(c,h){if(h===j){var b=a.get(c);if(b.nodeType==m.ELEMENT_NODE)return b[u]||"";if(b.nodeType==m.TEXT_NODE)return b.nodeValue}else{var f=a.query(c),d;for(d=f.length-1;d>=0;d--){b=f[d];if(b.nodeType==m.ELEMENT_NODE)b[u]=h;else if(b.nodeType==m.TEXT_NODE)b.nodeValue=h}}return j}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(e,a,i){var j=e.Env.host,k={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(a){var a=a||j,e=a.document.domain,a=a.location.hostname;return e!=a&&e!="["+a+"]"},getEmptyIframeSrc:function(e){e=e||j;return a.ie&&o.isCustomDomain(e)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
e.document.domain+"';document.close();")+"}())":i},NodeType:k,_getWin:function(a){return null==a?j:"scrollTo"in a&&a.document?a:a.nodeType==k.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(e){var i=o.get(e),e=i.nodeName.toLowerCase();a.ie&&(i=i.scopeName)&&"HTML"!=i&&(e=i.toLowerCase()+":"+e);return e}};e.mix(o,k);return o},{requires:["ua"]});
KISSY.add("dom/class",function(e,a,i){function j(j,m,f,l){if(!(m=e.trim(m)))return l?!1:i;for(var j=a.query(j),d=j.length,g=m.split(o),m=[],c=0;c<g.length;c++){var b=e.trim(g[c]);b&&m.push(b)}for(c=0;c<d;c++)if(g=j[c],g.nodeType==k.ELEMENT_NODE&&(g=f(g,m,m.length),g!==i))return g;return l?!1:i}var k=a.NodeType,o=/[\.\s]\s*\.?/,m=/[\n\t]/g;e.mix(a,{hasClass:function(a,e){return j(a,e,function(a,e,d){if(a=a.className){for(var a=(" "+a+" ").replace(m," "),g=0,c=!0;g<d;g++)if(0>a.indexOf(" "+e[g]+" ")){c=
!1;break}if(c)return!0}},!0)},addClass:function(a,k){j(a,k,function(a,l,d){var g=a.className;if(g){for(var c=(" "+g+" ").replace(m," "),b=0;b<d;b++)0>c.indexOf(" "+l[b]+" ")&&(g+=" "+l[b]);a.className=e.trim(g)}else a.className=k},i)},removeClass:function(a,k){j(a,k,function(a,l,d){var g=a.className;if(g)if(d){for(var g=(" "+g+" ").replace(m," "),c=0,b;c<d;c++)for(b=" "+l[c]+" ";0<=g.indexOf(b);)g=g.replace(b," ");a.className=e.trim(g)}else a.className=""},i)},replaceClass:function(e,i,f){a.removeClass(e,
i);a.addClass(e,f)},toggleClass:function(k,m,f){var l=e.isBoolean(f),d;j(k,m,function(g,c,b){for(var e=0,i;e<b;e++)i=c[e],d=l?!f:a.hasClass(g,i),a[d?"removeClass":"addClass"](g,i)},i)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(e,a,i,j){function k(h){var c=e.require("event/dom");c&&c.detach(h);a.removeData(h)}function o(a,c,b){if(c.nodeType==l.DOCUMENT_FRAGMENT_NODE)for(var c=c.childNodes,b=b.childNodes,d=0;c[d];)b[d]&&o(a,c[d],b[d]),d++;else if(c.nodeType==l.ELEMENT_NODE){c=c.getElementsByTagName("*");b=b.getElementsByTagName("*");for(d=0;c[d];)b[d]&&a(c[d],b[d]),d++}}function m(c,b){var d=e.require("event/dom"),f,g;if(b.nodeType!=l.ELEMENT_NODE||a.hasData(c)){f=a.data(c);for(g in f)a.data(b,
g,f[g]);d&&(d._DOMUtils.removeData(b),d._clone(c,b))}}function q(c,b){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(c);var d=b.nodeName.toLowerCase(),f=c.childNodes;if("object"===d&&!b.childNodes.length)for(d=0;d<f.length;d++)b.appendChild(f[d].cloneNode(!0));else if("input"===d&&("checkbox"===c.type||"radio"===c.type)){if(c.checked&&(b.defaultChecked=b.checked=c.checked),b.value!==c.value)b.value=c.value}else if("option"===d)b.selected=c.defaultSelected;else if("input"===
d||"textarea"===d)b.defaultValue=c.defaultValue;b.removeAttribute(a.__EXPANDO)}function u(a){var c=null,b,d;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=e.makeArray(a);b=0;for(d=a.length;b<d;b++)c.appendChild(a[b])}return c}var f=e.Env.host.document,l=a.NodeType,i=i.ie,d=f&&f.createElement("div"),g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,b=/<tbody/i,s=/^\s+/,C=i&&9>i,v=/<|&#?\w+;/,t=f&&"outerHTML"in f.documentElement,
w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;e.mix(a,{create:function(b,d,i,t){var k=null;if(!b)return k;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return k;t===j&&(t=!0);t&&(b=e.trim(b));var t=a._creators,p,F,i=i||f,D,G="div";if(v.test(b))if(D=w.exec(b))k=i.createElement(D[1]);else{b=b.replace(g,"<$1></$2>");if((D=c.exec(b))&&(p=D[1]))G=p.toLowerCase();p=(t[G]||t.div)(b,i);C&&(F=b.match(s))&&p.insertBefore(i.createTextNode(F[0]),p.firstChild);b=p.childNodes;1===b.length?k=b[0].parentNode.removeChild(b[0]):
b.length&&(k=u(b))}else k=i.createTextNode(b);e.isPlainObject(d)&&(k.nodeType==l.ELEMENT_NODE?a.attr(k,d,!0):k.nodeType==l.DOCUMENT_FRAGMENT_NODE&&a.attr(k.childNodes,d,!0));return k},_creators:{div:function(a,c){var b=c&&c!=f?c.createElement("div"):d;b.innerHTML="m<div>"+a+"</div>";return b.lastChild}},html:function(b,d,f,g){var b=a.query(b),e=b[0];if(e){if(d===j)return e.nodeType==l.ELEMENT_NODE?e.innerHTML:null;var p=!1,i,D,d=d+"";if(!d.match(/<(?:script|style|link)/i)&&(!C||!d.match(s))&&!y[(d.match(c)||
["",""])[1].toLowerCase()])try{for(i=b.length-1;0<=i;i--)D=b[i],D.nodeType==l.ELEMENT_NODE&&(k(D.getElementsByTagName("*")),D.innerHTML=d);p=!0}catch(G){}p||(d=a.create(d,0,e.ownerDocument,0),a.empty(b),a.append(d,b,f));g&&g()}},outerHTML:function(c,b,d){var c=a.query(c),f=c.length,g=c[0];if(g){if(b===j){if(t)return g.outerHTML;b=g.ownerDocument.createElement("div");b.appendChild(a.clone(g,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&t)for(d=f-1;0<=d;d--)g=c[d],g.nodeType==
l.ELEMENT_NODE&&(k(g),k(g.getElementsByTagName("*")),g.outerHTML=b);else b=a.create(b,0,g.ownerDocument,0),a.insertBefore(b,c,d),a.remove(c)}},remove:function(c,b){var d,f=a.query(c),g;for(g=f.length-1;0<=g;g--){d=f[g];if(!b&&d.nodeType==l.ELEMENT_NODE){var p=d.getElementsByTagName("*");k(p);k(d)}d.parentNode&&d.parentNode.removeChild(d)}},clone:function(c,b,d,f){"object"===typeof b&&(f=b.deepWithDataAndEvent,d=b.withDataAndEvent,b=b.deep);c=a.get(c);if(!c)return null;var g=c.cloneNode(b);if(c.nodeType==
l.ELEMENT_NODE||c.nodeType==l.DOCUMENT_FRAGMENT_NODE)c.nodeType==l.ELEMENT_NODE&&q(c,g),b&&o(q,c,g);d&&(m(c,g),b&&f&&o(m,c,g));return g},empty:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],a.remove(b.childNodes)},nodeListToFragment:u});var B=a._creators,x=a.create,y={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},A;for(A in y)(function(c){B[A]=function(b,
a){return x("<"+c+">"+b+"</"+c+">",null,a)}})(y[A]);8>i&&(B.table=function(c,d){var f=B.div(c,d);if(b.test(c))return f;var g=f.firstChild,i=e.makeArray(g.childNodes);e.each(i,function(c){"tbody"==a.nodeName(c)&&!c.childNodes.length&&g.removeChild(c)});return f});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(e,a,i){var j=e.Env.host,k="__ks_data_"+e.now(),o={},m={},q={applet:1,object:1,embed:1},u={hasData:function(a,f){if(a)if(f!==i){if(f in a)return!0}else if(!e.isEmptyObject(a))return!0;return!1}},f={hasData:function(a,g){return a==j?f.hasData(m,g):u.hasData(a[k],g)},data:function(a,g,c){if(a==j)return f.data(m,g,c);var b=a[k];if(c!==i)b=a[k]=a[k]||{},b[g]=c;else return g!==i?b&&b[g]:b=a[k]=a[k]||{}},removeData:function(a,g){if(a==j)return f.removeData(m,g);var c=a[k];if(g!==
i)delete c[g],e.isEmptyObject(c)&&f.removeData(a);else try{delete a[k]}catch(b){a[k]=i}}},l={hasData:function(a,f){var c=a[k];return!c?!1:u.hasData(o[c],f)},data:function(a,f,c){if(q[a.nodeName.toLowerCase()])return i;var b=a[k];if(!b){if(f!==i&&c===i)return i;b=a[k]=e.guid()}a=o[b];if(c!==i)a=o[b]=o[b]||{},a[f]=c;else return f!==i?a&&a[f]:a=o[b]=o[b]||{}},removeData:function(a,f){var c=a[k],b;if(c)if(b=o[c],f!==i)delete b[f],e.isEmptyObject(b)&&l.removeData(a);else{delete o[c];try{delete a[k]}catch(s){a[k]=
i}a.removeAttribute&&a.removeAttribute(k)}}};e.mix(a,{__EXPANDO:k,hasData:function(d,g){for(var c=!1,b=a.query(d),e=0;e<b.length&&!(c=b[e],c=c.nodeType?l.hasData(c,g):f.hasData(c,g));e++);return c},data:function(d,g,c){var d=a.query(d),b=d[0];if(e.isPlainObject(g)){for(var s in g)a.data(d,s,g[s]);return i}if(c===i){if(b)return b.nodeType?l.data(b,g):f.data(b,g)}else for(s=d.length-1;0<=s;s--)b=d[s],b.nodeType?l.data(b,g,c):f.data(b,g,c);return i},removeData:function(d,g){var c=a.query(d),b,e;for(e=
c.length-1;0<=e;e--)b=c[e],b.nodeType?l.removeData(b,g):f.removeData(b,g)}});return a},{requires:["./base"]});KISSY.add("dom",function(e,a){e.mix(e,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(e,a,i){function j(a){for(var b=0;b<a.length;b++){var d=a[b];if(d.nodeType==q.DOCUMENT_FRAGMENT_NODE)j(d.childNodes);else if("input"==f(d)){if("checkbox"===d.type||"radio"===d.type)d.defaultChecked=d.checked}else if(d.nodeType==q.ELEMENT_NODE)for(var d=d.getElementsByTagName("input"),g=0;g<d.length;g++)j(d[g])}}function k(a,b){var e=[],i,j,t;for(i=0;a[i];i++)if(j=a[i],t=f(j),j.nodeType==q.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,k(l(j.childNodes),b));else if("script"===
t&&(!j.type||g.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),b&&b.push(j);else{if(j.nodeType==q.ELEMENT_NODE&&!u.test(t)){t=[];var w,m,x=j.getElementsByTagName("script");for(m=0;m<x.length;m++)w=x[m],(!w.type||g.test(w.type))&&t.push(w);d.apply(a,[i+1,0].concat(t))}e.push(j)}return e}function o(a){a.src?e.getScript(a.src):(a=e.trim(a.text||a.textContent||a.innerHTML||""))&&e.globalEval(a)}function m(c,b,d,f){c=i.query(c);f&&(f=[]);c=k(c,f);8>a.ie&&j(c);var b=i.query(b),g=b.length;if((c.length||
f&&f.length)&&g){var c=i.nodeListToFragment(c),l;1<g&&(l=i.clone(c,!0),b=e.makeArray(b));for(var w=0;w<g;w++){var m=b[w];if(c){var x=0<w?i.clone(l,!0):c;d(x,m)}f&&f.length&&e.each(f,o)}}}var q=i.NodeType,u=/^(?:button|input|object|select|textarea)$/i,f=i.nodeName,l=e.makeArray,d=[].splice,g=/\/(java|ecma)script/i;e.mix(i,{insertBefore:function(a,b,d){m(a,b,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(a,b,d){m(a,b,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,
c.nextSibling)},d)},appendTo:function(a,b,d){m(a,b,function(a,c){c.appendChild(a)},d)},prependTo:function(a,b,d){m(a,b,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(a,b){b=i.clone(i.get(b),!0);a=i.query(a);a[0].parentNode&&i.insertBefore(b,a[0]);for(var d;(d=b.firstChild)&&1==d.nodeType;)b=d;i.appendTo(a,b)},wrap:function(a,b){a=i.query(a);b=i.get(b);e.each(a,function(a){i.wrapAll(a,b)})},wrapInner:function(a,b){a=i.query(a);b=i.get(b);e.each(a,function(a){var c=a.childNodes;
c.length?i.wrapAll(c,b):a.appendChild(b)})},unwrap:function(a){a=i.query(a);e.each(a,function(a){a=a.parentNode;i.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var d=i.query(a),b=i.query(b);i.remove(b,!0);i.insertBefore(b,d);i.remove(d)}});e.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){i[b]=i[a]});return i},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(e,a,i,j){function k(a){var d,f=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};d=a.getBoundingClientRect();a=d[c];d=d[b];a-=u.clientLeft||f.clientLeft||0;d-=u.clientTop||f.clientTop||0;return{left:a,top:d}}function o(c,b){var d={left:0,top:0},e=f(c[g]),i=c,b=b||e;do{var l;if(e==b){var h=i;l=k(h);h=f(h[g]);l.left+=a[C](h);l.top+=a[v](h)}else l=k(i);d.left+=l.left;d.top+=l.top}while(e&&e!=b&&(i=e.frameElement)&&(e=e.parent));return d}var m=e.Env.host,
i=m.document,q=a.NodeType,u=i&&i.documentElement,f=a._getWin,l=Math.max,d=parseInt,g="ownerDocument",c="left",b="top",s=e.isNumber,C="scrollLeft",v="scrollTop";e.mix(a,{offset:function(b,c,f){if(c===j){var b=a.get(b),g;b&&(g=o(b,f));return g}f=a.query(b);for(g=f.length-1;0<=g;g--){var b=f[g],e=c;"static"===a.css(b,"position")&&(b.style.position="relative");var i=o(b),h={},l=void 0,k=void 0;for(k in e)l=d(a.css(b,k),10)||0,h[k]=l+e[k]-i[k];a.css(b,h)}return j},scrollIntoView:function(g,e,i,l,k){var m,
h,n;if(h=a.get(g)){e&&(e=a.get(e));e||(e=h.ownerDocument);!0!==k&&(l=l===j?!0:!!l,i=i===j?!0:!!i);e.nodeType==q.DOCUMENT_NODE&&(e=f(e));n=!!f(e);k=a.offset(h);g=a.outerHeight(h);m=a.outerWidth(h);var s,o,v,p;n?(h=e,s=a.height(h),o=a.width(h),p={left:a.scrollLeft(h),top:a.scrollTop(h)},h=k[c]-p[c],n=k[b]-p[b],m=k[c]+m-(p[c]+o),k=k[b]+g-(p[b]+s)):(s=a.offset(e),o=e.clientHeight,v=e.clientWidth,p={left:a.scrollLeft(e),top:a.scrollTop(e)},h=k[c]-s[c]-(d(a.css(e,"borderLeftWidth"))||0),n=k[b]-s[b]-(d(a.css(e,
"borderTopWidth"))||0),m=k[c]+m-(s[c]+v+(d(a.css(e,"borderRightWidth"))||0)),k=k[b]+g-(s[b]+o+(d(a.css(e,"borderBottomWidth"))||0)));if(0>n||0<k)!0===i?a.scrollTop(e,p.top+n):!1===i?a.scrollTop(e,p.top+k):0>n?a.scrollTop(e,p.top+n):a.scrollTop(e,p.top+k);if(l&&(0>h||0<m))!0===i?a.scrollLeft(e,p.left+h):!1===i?a.scrollLeft(e,p.left+m):0>h?a.scrollLeft(e,p.left+h):a.scrollLeft(e,p.left+m)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});e.each(["Left","Top"],function(b,
c){var d="scroll"+b;a[d]=function(e,g){if(s(e))return arguments.callee(m,e);var e=a.get(e),i,h=f(e);if(h)if(g!==j){var g=parseFloat(g),l="Left"==b?g:a.scrollLeft(h),k="Top"==b?g:a.scrollTop(h);h.scrollTo(l,k)}else i=h["page"+(c?"Y":"X")+"Offset"],s(i)||(h=h.document,i=h.documentElement[d],s(i)||(i=h.body[d]));else e.nodeType==q.ELEMENT_NODE&&(g!==j?e[d]=parseFloat(g):i=e[d]);return i}});e.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=f(c).document;return l(c.documentElement["scroll"+
b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),d="client"+b,c=f(c).document,e=c.body,g=c.documentElement[d];return"CSS1Compat"===c.compatMode&&g||e&&e[d]||g}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(e,a,i){function j(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function k(a,b){var d,f,g="string"==typeof a,h=b===i&&(f=1)?[c]:k(b);if(a)if(g)a=A(a),f&&"body"==a?d=[c.body]:1==h.length&&a&&(d=m(a,h[0]));else{if(f)if(a.nodeType||a.setTimeout)d=[a];else{if(a.getDOMNodes)return a;d=C(a)?a:t(a)?e.makeArray(a):[a]}}else d=[];if(!d&&(d=[],a)){for(f=0;f<h.length;f++)B.apply(d,o(a,h[f]));1<d.length&&(1<h.length||g&&-1<a.indexOf(y))&&E(d)}d.each=j;return d}
function o(a,b){var c="string"==typeof a;if(c&&a.match(r)||!c)c=q(a,b);else if(c&&-1<a.indexOf(y)){var c=[],d,f=a.split(/\s*,\s*/);for(d=0;d<f.length;d++)B.apply(c,o(f[d],b))}else c=[],(d=e.require("sizzle"))&&d(a,b,c);return c}function m(a,c){var b,e,g,h;if(n.test(a))b=(e=f(a.slice(1),c))?[e]:[];else if(g=r.exec(a)){e=g[1];h=g[2];g=g[3];if(c=e?f(e,c):c)g?!e||-1!=a.indexOf(x)?b=[].concat(z(g,h,c)):(e=f(e,c))&&d(e,g)&&(b=[e]):h&&(b=l(h,c));b=b||[]}return b}function q(a,c){var b;"string"==typeof a?
b=m(a,c)||[]:C(a)||t(a)?b=s(a,function(a){return u(a,c)}):u(a,c)&&(b=[a]);return b}function u(b,d){return!b?!1:d==c?!0:a.contains(d,b)}function f(c,d){var e=d.nodeType==b.DOCUMENT_NODE,f,i;(i=(e?d:d.ownerDocument).getElementById(c))?g(i,c)?(f=0,e=e?0:1):(f=1,e=0):(f=e?0:1,e=0);f?i=a.filter(h,"#"+c,d)[0]||null:e&&!u(i,d)&&(i=null);return i}function l(a,c){return c&&v(c.getElementsByTagName(a))||[]}function d(a,c){var b;return(b=a.className)&&-1!==(" "+b+" ").indexOf(" "+c+" ")}function g(a,c){var b=
a.getAttributeNode("id");return b&&b.nodeValue===c}var c=e.Env.host.document,b=a.NodeType,s=e.filter,C=e.isArray,v=e.makeArray,t=a._isNodeList,w=a.nodeName,B=Array.prototype.push,x=" ",y=",",A=e.trim,h="*",n=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,E=e.noop;(function(){var a,b,d=!0;[0,0].sort(function(){d=!1;return 0});E=function(c){if(a&&(b=d,c.sort(a),b))for(var e=1,f=c.length;e<f;)c[e]===c[e-1]?c.splice(e,1):e++;return c};a=c&&c.documentElement.compareDocumentPosition?function(a,
c){return a==c?(b=!0,0):!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1}:function(a,c){if(a==c)return b=!0,0;if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex}})();c&&function(){var a=c.createElement("div");a.appendChild(c.createComment(""));0<a.getElementsByTagName(h).length&&(l=function(a,c){var b=v(c.getElementsByTagName(a));if(a===h){for(var d=[],e=0,f;f=b[e++];)1===f.nodeType&&d.push(f);b=d}return b})}();
var z=c&&c.getElementsByClassName?function(a,c,b){if(!b)return[];var a=b.getElementsByClassName(a),d=0,e=a.length,f;if(c&&c!==h)for(b=[];d<e;++d)f=a[d],w(f)==c&&b.push(f);else b=v(a);return b}:c&&c.querySelectorAll?function(a,c,b){return b&&v(b.querySelectorAll((c?c:"")+"."+a))||[]}:function(a,c,b){if(!b)return[];for(var c=b.getElementsByTagName(c||h),b=[],e=0,f=c.length,g;e<f;++e)g=c[e],d(g,a)&&b.push(g);return b};e.mix(a,{query:k,get:function(a,c){return k(a,c)[0]||null},unique:E,filter:function(a,
c,b){var a=k(a,b),b=e.require("sizzle"),f,h,i,l,j=[];if("string"==typeof c&&(c=A(c))&&(f=r.exec(c)))i=f[1],h=f[2],l=f[3],i?i&&!h&&!l&&(c=function(a){return g(a,i)}):c=function(a){var c=!0,b=!0;h&&(c=w(a)==h);l&&(b=d(a,l));return b&&c};e.isFunction(c)?j=e.filter(a,c):c&&b&&(j=b.matches(c,a));return j},test:function(c,b,d){c=k(c,d);return c.length&&a.filter(c,b,d).length===c.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(e,a,i,j){if(!i.ie)return a;var k=e.Env.host.document,o=k&&k.documentElement,m=j._CUSTOM_STYLES,q=/^-?\d+(?:px)?$/i,u=/^-?\d/,f=/opacity\s*=\s*([^)]*)/,l=/alpha\([^)]*\)/i;m.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==o.style.opacity&&(m.opacity={get:function(a,b){return f.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":b?"1":""},set:function(a,b){var b=parseFloat(b),d=a.style,f=a.currentStyle,g=isNaN(b)?"":"alpha(opacity="+100*b+")",i=e.trim(f&&f.filter||d.filter||"");d.zoom=1;if((1<=b||!g)&&!e.trim(i.replace(l,"")))if(d.removeAttribute("filter"),!g||f&&!f.filter)return;d.filter=l.test(i)?i.replace(l,g):i+(i?", ":"")+g}})}catch(d){}var i=8==i.ie,g={};g.thin=i?"1px":"2px";g.medium=i?"3px":"4px";g.thick=i?"5px":"6px";e.each(["","Top","Left","Right","Bottom"],function(a){var b="border"+a+"Width",d="border"+
a+"Style";m[b]={get:function(a,c){var f=c?a.currentStyle:0,e=f&&""+f[b]||void 0;e&&0>e.indexOf("px")&&(e=g[e]&&"none"!==f[d]?g[e]:0);return e}}});if(!(k.defaultView||{}).getComputedStyle&&o.currentStyle)a._getComputedStyle=function(c,b){var b=a._cssProps[b]||b,d=c.currentStyle&&c.currentStyle[b];if(!q.test(d)&&u.test(d)&&-1==d.indexOf(" ")){var f=c.style,e=f.left,g=c.runtimeStyle&&c.runtimeStyle.left;g&&(c.runtimeStyle.left=c.currentStyle.left);f.left="fontSize"===b?"1em":d||0;d=f.pixelLeft+"px";
f.left=e;g&&(c.runtimeStyle.left=g)}return""===d?"auto":d};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(e,a,i,j){function k(a){return a.replace(w,"ms-").replace(B,x)}function o(a,b,d){var f={},e;for(e in b)f[e]=a[c][e],a[c][e]=b[e];d.call(a);for(e in b)a[c][e]=f[e]}function m(a,b,d){var e;if(3===a.nodeType||8===a.nodeType||!(e=a[c]))return j;var b=k(b),f,g=n[b],b=r[b]||b;if(d!==j){null===d||d===A?d=A:!isNaN(Number(d))&&!t[b]&&(d+=h);g&&g.set&&(d=g.set(a,d));if(d!==j){try{e[b]=d}catch(i){}d===A&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||a.removeAttribute("style");
return j}if(!g||!("get"in g&&(f=g.get(a,!1))!==j))f=e[b];return f===j?"":f}function q(a){var b,c=arguments;0!==a.offsetWidth?b=u.apply(j,c):o(a,F,function(){b=u.apply(j,c)});return b}function u(c,d,f){if(e.isWindow(c))return d==b?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return d==b?a.docWidth(c):a.docHeight(c);var g=d===b?["Left","Right"]:["Top","Bottom"],h=d===b?c.offsetWidth:c.offsetHeight;if(0<h)return"border"!==f&&e.each(g,function(b){f||(h-=parseFloat(a.css(c,"padding"+b))||0);
h="margin"===f?h+(parseFloat(a.css(c,f+b))||0):h-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),h;h=a._getComputedStyle(c,d);if(null==h||0>Number(h))h=c.style[d]||0;h=parseFloat(h)||0;f&&e.each(g,function(b){h+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==f&&(h+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===f&&(h+=parseFloat(a.css(c,f+b))||0)});return h}var f=e.Env.host,l=f.document,d=l&&l.documentElement,g=i.ie,c="style",b="width",s="display"+e.now(),C=parseInt,v=/^-?\d+(?:px)?$/i,t=
{fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},w=/^-ms-/,B=/-([a-z])/ig,x=function(a,c){return c.toUpperCase()},y=/([A-Z]|^ms)/g,A="",h="px",n={},r={},E={};d&&(d[c].cssFloat!==j?r["float"]="cssFloat":d[c].styleFloat!==j&&(r["float"]="styleFloat"));var z,p;e.mix(a,{_camelCase:k,_CUSTOM_STYLES:n,_cssProps:r,_getComputedStyle:function(b,d){var f="",e,g=b.ownerDocument,d=d.replace(y,"-$1").toLowerCase();if(e=g.defaultView.getComputedStyle(b,null))f=e.getPropertyValue(d)||
e[d];""==f&&!a.contains(g.documentElement,b)&&(d=r[d]||d,f=b[c][d]);return f},style:function(b,c,d){var b=a.query(b),f=b[0];if(e.isPlainObject(c)){for(var g in c)for(f=b.length-1;0<=f;f--)m(b[f],g,c[g]);return j}if(d===j)return g="",f&&(g=m(f,c,d)),g;for(f=b.length-1;0<=f;f--)m(b[f],c,d);return j},css:function(b,c,d){var b=a.query(b),f=b[0],g;if(e.isPlainObject(c)){for(g in c)for(f=b.length-1;0<=f;f--)m(b[f],g,c[g]);return j}c=k(c);g=n[c];if(d===j){d="";if(f&&(!g||!("get"in g&&(d=g.get(f,!0))!==j)))d=
a._getComputedStyle(f,c);return d===j?"":d}for(f=b.length-1;0<=f;f--)m(b[f],c,d);return j},show:function(b){var b=a.query(b),d,f;for(f=b.length-1;0<=f;f--)if(d=b[f],d[c].display=a.data(d,s)||A,"none"===a.css(d,"display")){var e;a:{e=d.tagName.toLowerCase();var g=void 0,h=void 0;if(!E[e]){g=l.body||l.documentElement;h=l.createElement(e);a.prepend(h,g);var j=a.css(h,"display");g.removeChild(h);if("none"==j||""==j){if(z)a.prepend(z,g);else if(z=l.createElement("iframe"),z.frameBorder=z.width=z.height=
0,a.prepend(z,g),h=void 0,h=a.getEmptyIframeSrc())z.src=h;if(!p||!z.createElement)try{p=z.contentWindow.document,p.write(("CSS1Compat"===l.compatMode?"<!doctype html>":"")+"<html><head>"+(i.ie&&a.isCustomDomain()?"<script>document.domain= '"+l.domain+"';<\/script>":"")+"</head><body>"),p.close()}catch(k){e="block";break a}h=p.createElement(e);p.body.appendChild(h);j=a.css(h,"display");g.removeChild(z)}E[e]=j}e=E[e]}a.data(d,s,e);d[c].display=e}},hide:function(b){var b=a.query(b),d,f;for(f=b.length-
1;0<=f;f--){d=b[f];var e=d[c],g=e.display;"none"!==g&&(g&&a.data(d,s,g),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||f;"string"==typeof b&&(d=c,c=b,b=f);var b=a.get(b),b=a._getWin(b).document,e;if(d&&(d=d.replace("#",A)))e=a.get("#"+d,b);e||(e=a.create("<style>"+c+"</style>",{id:d},b),a.get("head",b).appendChild(e))},unselectable:function(b){var b=a.query(b),d,f;for(f=
b.length-1;0<=f;f--)if(d=b[f],i.gecko)d[c].MozUserSelect="none";else if(i.webkit)d[c].KhtmlUserSelect="none";else if(i.ie||i.opera){var e=0,g=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=g[e++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});e.each([b,"height"],function(b){a["inner"+(b.charAt(0).toUpperCase()+
b.substring(1))]=function(c){return(c=a.get(c))&&q(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,d){var f=a.get(c);return f&&q(f,b,d?"margin":"border")};a[b]=function(c,d){var f=a.css(c,b,d);f&&(f=parseFloat(f));return f}});var F={position:"absolute",visibility:"hidden",display:"block"};e.each(["height","width"],function(a){n[a]={get:function(b,c){if(c)return q(b,a)+"px"},set:function(a,b){if(v.test(b)){if(b=parseFloat(b),0<=b)return b+"px"}else return b}}});e.each(["left",
"top"],function(b){n[b]={get:function(c,d){if(d){var f=a._getComputedStyle(c,b);if("auto"===f){f=0;if(e.inArray(a.css(c,"position"),["absolute","fixed"])){f=c["left"===b?"offsetLeft":"offsetTop"];if(g&&9!=l.documentMode||i.opera)f-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;f-=C(a.css(c,"margin-"+b))||0}f+="px"}return f}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(e,a,i){function j(f,l,d,g,c,b,j){if(!(f=a.get(f)))return null;if(0===l)return f;b||(f=f[d]);if(!f)return null;c=c&&a.get(c)||null;l===i&&(l=1);var b=[],m=e.isArray(l),o,t;e.isNumber(l)&&(o=0,t=l,l=function(){return++o===t});for(;f&&f!=c;){if((f.nodeType==q.ELEMENT_NODE||f.nodeType==q.TEXT_NODE&&j)&&k(f,l)&&(!g||g(f)))if(b.push(f),!m)break;f=f[d]}return m?b:b[0]||null}function k(f,i){if(!i)return!0;if(e.isArray(i)){var d,g=i.length;if(!g)return!0;for(d=0;d<g;d++)if(a.test(f,
i[d]))return!0}else if(a.test(f,i))return!0;return!1}function o(f,i,d,g){var c=[],b,j;if((b=f=a.get(f))&&d)b=f.parentNode;if(b){d=e.makeArray(b.childNodes);for(b=0;b<d.length;b++)j=d[b],(g||j.nodeType==q.ELEMENT_NODE)&&j!=f&&c.push(j);i&&(c=a.filter(c,i))}return c}var m=e.Env.host.document,q=a.NodeType,u=(m=m&&m.documentElement)&&m.compareDocumentPosition?function(a,e){return!!(a.compareDocumentPosition(e)&16)}:m&&m.contains?function(a,e){a.nodeType==q.DOCUMENT_NODE&&(a=a.documentElement);e=e.parentNode;
return a==e?!0:e&&e.nodeType==q.ELEMENT_NODE?a.contains&&a.contains(e):!1}:0;e.mix(a,{closest:function(a,e,d,g){return j(a,e,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},d,!0,g)},parent:function(a,e,d){return j(a,e,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},d,i)},first:function(f,e,d){f=a.get(f);return j(f&&f.firstChild,e,"nextSibling",i,i,!0,d)},last:function(f,e,d){f=a.get(f);return j(f&&f.lastChild,e,"previousSibling",i,i,!0,d)},next:function(a,
e,d){return j(a,e,"nextSibling",i,i,i,d)},prev:function(a,e,d){return j(a,e,"previousSibling",i,i,i,d)},siblings:function(a,e,d){return o(a,e,!0,d)},children:function(a,e){return o(a,e,i)},contents:function(a,e){return o(a,e,i,1)},contains:function(e,i){e=a.get(e);i=a.get(i);return e&&i?u(e,i):!1},index:function(f,i){var d=a.query(f),g,c=0;g=d[0];if(!i){d=g&&g.parentNode;if(!d)return-1;for(;g=g.previousSibling;)g.nodeType==q.ELEMENT_NODE&&c++;return c}c=a.query(i);return"string"===typeof i?e.indexOf(g,
c):e.indexOf(c[0],d)},equals:function(e,i){e=a.query(e);i=a.query(i);if(e.length!=i.length)return!1;for(var d=e.length;0<=d;d--)if(e[d]!=i[d])return!1;return!0}});return a},{requires:["./base"]});
