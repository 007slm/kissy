/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 16 11:58
*/
KISSY.add("dom/attr",function(g,a,h,i){function l(a,d){var d=y[d]||d,b=v[d];return b&&b.get?b.get(a,d):a[d]}var h=g.Env.host.document.documentElement,n=!h.hasAttribute,p=h.textContent===i?"innerText":"textContent",q=a.nodeName,t=a._isElementNode,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,e=/^(?:button|input|object|select|textarea)$/i,b=/^a(?:rea)?$/i,s=/:|^on/,c=/\r/g,k={},f={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},z={tabindex:{get:function(a){var d=a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):e.test(a.nodeName)||b.test(a.nodeName)&&a.href?0:i}},style:{get:function(a){return a.style.cssText},set:function(a,d){a.style.cssText=d}}},y={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},D={get:function(b,d){return a.prop(b,d)?d.toLowerCase():i},set:function(b,d,f){!1===d?a.removeAttr(b,f):(d=y[f]||f,d in b&&(b[d]=!0),b.setAttribute(f,f.toLowerCase()));return f}},v={},x={},E={option:{get:function(a){var d=a.attributes.value;return!d||d.specified?a.value:a.text}},select:{get:function(b){var d=b.selectedIndex,f=b.options;if(0>d)return null;if("select-one"===b.type)return a.val(f[d]);for(var b=[],d=0,c=f.length;d<
c;++d)f[d].selected&&b.push(a.val(f[d]));return b},set:function(b,d){var f=g.makeArray(d);g.each(b.options,function(d){d.selected=g.inArray(a.val(d),f)});f.length||(b.selectedIndex=-1);return f}}};n&&(x={get:function(a,d){var b;return(b=a.getAttributeNode(d))&&(b.specified||b.nodeValue)?b.nodeValue:i},set:function(a,d,b){var f=a.getAttributeNode(b);if(f)f.nodeValue=d;else try{var o=a.ownerDocument.createAttribute(b);o.value=d;a.setAttributeNode(o)}catch(u){return a.setAttribute(b,d,0)}}},k=y,z.tabIndex=
z.tabindex,g.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){z[a]={get:function(d){d=d.getAttribute(a,2);return d===null?i:d}}}),E.button=z.value=x);g.each(["radio","checkbox"],function(b){E[b]={get:function(a){return a.getAttribute("value")===null?"on":a.value},set:function(d,b){if(g.isArray(b))return d.checked=g.inArray(a.val(d),b)}}});g.mix(a,{prop:function(b,d,f){b=a.query(b);if(g.isPlainObject(d)){for(var c in d)a.prop(b,c,d[c]);return i}d=y[d]||d;c=v[d];if(f!==i)for(var o=
b.length-1;o>=0;o--){var u=b[o];c&&c.set?c.set(u,f,d):u[d]=f}else if(b.length)return l(b[0],d);return i},hasProp:function(b,d){for(var f=a.query(b),c=0;c<f.length;c++)if(l(f[c],d)!==i)return true;return false},removeProp:function(b,d){for(var d=y[d]||d,f=a.query(b),c=f.length-1;c>=0;c--){var o=f[c];try{o[d]=i;delete o[d]}catch(u){}}},attr:function(b,d,c,e){var o=a.query(b);if(g.isPlainObject(d)){var e=c,u;for(u in d)d.hasOwnProperty(u)&&a.attr(o,u,d[u],e);return i}if(!(d=g.trim(d)))return i;if(e&&
f[d])return a[d](b,c);d=d.toLowerCase();if(e&&f[d])return a[d](b,c);d=k[d]||d;e=o[0];b=j.test(d)?D:s.test(d)?x:z[d];if(c===i){if(e&&e.nodeType===a.ELEMENT_NODE){q(e)=="form"&&(b=x);if(b&&b.get)return b.get(e,d);d=e.getAttribute(d);return d===null?i:d}}else for(u=o.length-1;u>=0;u--)if((e=o[u])&&e.nodeType===a.ELEMENT_NODE){q(e)=="form"&&(b=x);b&&b.set?b.set(e,c,d):e.setAttribute(d,""+c)}return i},removeAttr:function(b,d){var d=d.toLowerCase(),d=k[d]||d,f=a.query(b),c,o;for(o=f.length-1;o>=0;o--){c=
f[o];if(t(c)){var u;c.removeAttribute(d);if(j.test(d)&&(u=y[d]||d)in c)c[u]=false}}},hasAttr:n?function(b,d){for(var d=d.toLowerCase(),f=a.query(b),c=0;c<f.length;c++){var o=f[c].getAttributeNode(d);if(o&&o.specified)return true}return false}:function(b,d){for(var f=a.query(b),c=0;c<f.length;c++)if(f[c].hasAttribute(d))return true;return false},val:function(b,d){var f,e;if(d===i){var o=a.get(b);if(o){if((f=E[q(o)]||E[o.type])&&"get"in f&&(e=f.get(o,"value"))!==i)return e;e=o.value;return typeof e===
"string"?e.replace(c,""):e==null?"":e}return i}e=a.query(b);var u;for(u=e.length-1;u>=0;u--){o=e[u];if(o.nodeType!==1)break;var j=d;j==null?j="":typeof j==="number"?j=j+"":g.isArray(j)&&(j=g.map(j,function(a){return a==null?"":a+""}));f=E[q(o)]||E[o.type];if(!f||!("set"in f)||f.set(o,j,"value")===i)o.value=j}return i},_propHooks:v,text:function(b,d){if(d===i){var f=a.get(b);if(t(f))return f[p]||"";if(a._nodeTypeIs(f,a.TEXT_NODE))return f.nodeValue}else{var c=a.query(b),o;for(o=c.length-1;o>=0;o--){f=
c[o];if(t(f))f[p]=d;else if(a._nodeTypeIs(f,a.TEXT_NODE))f.nodeValue=d}}return i}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(g,a,h){function i(a,g){return a&&a.nodeType===g}var l=g.Env.host,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},p={_isCustomDomain:function(a){var a=a||l,g=a.document.domain,a=a.location.hostname;return g!=a&&g!="["+a+"]"},_genEmptyIframeSrc:function(g){g=g||l;if(a.ie&&p._isCustomDomain(g))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+g.document.domain+"';document.close();")+"}())"},_NODE_TYPE:n,_isElementNode:function(a){return i(a,p.ELEMENT_NODE)},_getWin:function(a){return a&&"scrollTo"in a&&a.document?a:i(a,p.DOCUMENT_NODE)?a.defaultView||a.parentWindow:a===h||null===a?l:!1},_nodeTypeIs:i,_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(g){var h=p.get(g),g=h.nodeName.toLowerCase();a.ie&&(h=h.scopeName)&&"HTML"!=h&&(g=h.toLowerCase()+
":"+g);return g}};g.mix(p,n);return p},{requires:["ua"]});
KISSY.add("dom/class",function(g,a,h){function i(i,q,t,j){if(!(q=g.trim(q)))return j?!1:h;for(var i=a.query(i),e=i.length,b=q.split(l),q=[],s=0;s<b.length;s++){var c=g.trim(b[s]);c&&q.push(c)}for(s=0;s<e;s++)if(b=i[s],a._isElementNode(b)&&(b=t(b,q,q.length),b!==h))return b;return j?!1:h}var l=/[\.\s]\s*\.?/,n=/[\n\t]/g;g.mix(a,{hasClass:function(a,g){return i(a,g,function(a,g,e){if(a=a.className){for(var a=(" "+a+" ").replace(n," "),b=0,h=!0;b<e;b++)if(0>a.indexOf(" "+g[b]+" ")){h=!1;break}if(h)return!0}},
!0)},addClass:function(a,l){i(a,l,function(a,j,e){var b=a.className;if(b){for(var h=(" "+b+" ").replace(n," "),c=0;c<e;c++)0>h.indexOf(" "+j[c]+" ")&&(b+=" "+j[c]);a.className=g.trim(b)}else a.className=l},h)},removeClass:function(a,l){i(a,l,function(a,j,e){var b=a.className;if(b)if(e){for(var b=(" "+b+" ").replace(n," "),h=0,c;h<e;h++)for(c=" "+j[h]+" ";0<=b.indexOf(c);)b=b.replace(c," ");a.className=g.trim(b)}else a.className=""},h)},replaceClass:function(g,h,i){a.removeClass(g,h);a.addClass(g,
i)},toggleClass:function(l,n,t){var j=g.isBoolean(t),e;i(l,n,function(b,g,c){for(var h=0,f;h<c;h++)f=g[h],e=j?!t:a.hasClass(b,f),a[e?"removeClass":"addClass"](b,f)},h)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(g,a,h,i){function l(b){var f=g.require("event");f&&f.detach(b);a.removeData(b)}function n(f,d,c){if(e(d,a.DOCUMENT_FRAGMENT_NODE))for(var d=d.childNodes,c=c.childNodes,r=0;d[r];)c[r]&&n(f,d[r],c[r]),r++;else if(b(d)){d=d.getElementsByTagName("*");c=c.getElementsByTagName("*");for(r=0;d[r];)c[r]&&f(d[r],c[r]),r++}}function p(d,f){var c=g.require("event");if(!b(f)||a.hasData(d)){var r=a.data(d),m;for(m in r)a.data(f,m,r[m]);c&&(c._removeData(f),c._clone(d,f))}}function q(b,
f){f.clearAttributes&&f.clearAttributes();f.mergeAttributes&&f.mergeAttributes(b);var d=f.nodeName.toLowerCase(),c=b.childNodes;if("object"===d&&!f.childNodes.length)for(d=0;d<c.length;d++)f.appendChild(c[d].cloneNode(!0));else if("input"===d&&("checkbox"===b.type||"radio"===b.type)){if(b.checked&&(f.defaultChecked=f.checked=b.checked),f.value!==b.value)f.value=b.value}else if("option"===d)f.selected=b.defaultSelected;else if("input"===d||"textarea"===d)f.defaultValue=b.defaultValue;f.removeAttribute(a.__EXPANDO)}
function t(a){var b=null,f,d;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=g.makeArray(a);f=0;for(d=a.length;f<d;f++)b.appendChild(a[f])}return b}var j=g.Env.host.document,h=h.ie,e=a._nodeTypeIs,b=a._isElementNode,s=g.isString,c=j.createElement("div"),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,f=/<([\w:]+)/,z=/<tbody/i,y=/^\s+/,D=h&&9>h,v=/<|&#?\w+;/,x="outerHTML"in j.documentElement,E=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;g.mix(a,{create:function(d,
c,h,r){var m=null;if(!d)return m;if(d.nodeType)return a.clone(d);if(!s(d))return m;r===i&&(r=!0);r&&(d=g.trim(d));var r=a._creators,w,H,h=h||j,C,I="div";if(v.test(d))if(C=E.exec(d))m=h.createElement(C[1]);else{d=d.replace(k,"<$1></$2>");if((C=f.exec(d))&&(w=C[1]))I=w.toLowerCase();w=(r[I]||r.div)(d,h);D&&(H=d.match(y))&&w.insertBefore(h.createTextNode(H[0]),w.firstChild);d=w.childNodes;1===d.length?m=d[0].parentNode.removeChild(d[0]):d.length&&(m=t(d))}else m=h.createTextNode(d);g.isPlainObject(c)&&
(b(m)?a.attr(m,c,!0):e(m,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(m.childNodes,c,!0));return m},_creators:{div:function(a,b){var d=b&&b!=j?b.createElement("div"):c;d.innerHTML="m<div>"+a+"</div>";return d.lastChild}},html:function(d,c,e,r){var d=a.query(d),m=d[0];if(m){if(c===i)return b(m)?m.innerHTML:null;var w=!1,H,C,c=c+"";if(!c.match(/<(?:script|style|link)/i)&&(!D||!c.match(y))&&!F[(c.match(f)||["",""])[1].toLowerCase()])try{for(H=d.length-1;0<=H;H--)C=d[H],b(C)&&(l(C.getElementsByTagName("*")),C.innerHTML=
c);w=!0}catch(g){}if(!w){c=a.create(c,0,m.ownerDocument,0);for(H=d.length-1;0<=H;H--)C=d[H],b(C)&&(a.empty(C),a.append(c,C,e))}r&&r()}},outerHTML:function(d,f,c){var e=a.query(d),m;m=e.length;if(d=e[0]){if(f===i){if(x)return d.outerHTML;c=d.ownerDocument.createElement("div");c.appendChild(a.clone(d,!0));return c.innerHTML}f+="";if(!f.match(/<(?:script|style|link)/i)&&x)for(m-=1;0<=m;m--)d=e[m],b(d)&&(l(d),l(d.getElementsByTagName("*")),d.outerHTML=f);else{f=a.create(f,0,d.ownerDocument,0);for(m-=
1;0<=m;m--)d=e[m],b(d)&&(a.insertBefore(f,d,c),a.remove(d))}}},remove:function(d,f){var c,e=a.query(d),m;for(m=e.length-1;0<=m;m--){c=e[m];if(!f&&b(c)){var w=c.getElementsByTagName("*");l(w);l(c)}c.parentNode&&c.parentNode.removeChild(c)}},clone:function(d,f,c,g){d=a.get(d);if(!d)return null;var m=d.cloneNode(f);if(b(d)||e(d,a.DOCUMENT_FRAGMENT_NODE))b(d)&&q(d,m),f&&n(q,d,m);c&&(p(d,m),f&&g&&n(p,d,m));return m},empty:function(d){var d=a.query(d),b,f;for(f=d.length-1;0<=f;f--)b=d[f],a.remove(b.childNodes)},
_nl2frag:t});var A=a._creators,d=a.create,F={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},G;for(G in F)(function(a){A[G]=function(b,f){return d("<"+a+">"+b+"</"+a+">",null,f)}})(F[G]);8>h&&(A.table=function(d,b){var f=A.div(d,b);if(z.test(d))return f;var c=f.firstChild,e=g.makeArray(c.childNodes);g.each(e,function(d){"tbody"==a.nodeName(d)&&!d.childNodes.length&&
c.removeChild(d)});return f});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(g,a,h){var i=g.Env.host,l="_ks_data_"+g.now(),n={},p={},q={applet:1,object:1,embed:1},t={hasData:function(a,e){if(a)if(e!==h){if(e in a)return!0}else if(!g.isEmptyObject(a))return!0;return!1}},j={hasData:function(a,e){return a==i?j.hasData(p,e):t.hasData(a[l],e)},data:function(a,e,c){if(a==i)return j.data(p,e,c);var g=a[l];if(c!==h)g=a[l]=a[l]||{},g[e]=c;else return e!==h?g&&g[e]:g=a[l]=a[l]||{}},removeData:function(a,e){if(a==i)return j.removeData(p,e);var c=a[l];if(e!==
h)delete c[e],g.isEmptyObject(c)&&j.removeData(a);else try{delete a[l]}catch(k){a[l]=h}}},e={hasData:function(a,e){var c=a[l];return!c?!1:t.hasData(n[c],e)},data:function(a,e,c){if(q[a.nodeName.toLowerCase()])return h;var j=a[l];if(!j){if(e!==h&&c===h)return h;j=a[l]=g.guid()}a=n[j];if(c!==h)a=n[j]=n[j]||{},a[e]=c;else return e!==h?a&&a[e]:a=n[j]=n[j]||{}},removeData:function(a,j){var c=a[l],i;if(c)if(i=n[c],j!==h)delete i[j],g.isEmptyObject(i)&&e.removeData(a);else{delete n[c];try{delete a[l]}catch(f){a[l]=
h}a.removeAttribute&&a.removeAttribute(l)}}};g.mix(a,{__EXPANDO:l,hasData:function(b,g){for(var c=!1,h=a.query(b),f=0;f<h.length&&!(c=h[f],c=c.nodeType?e.hasData(c,g):j.hasData(c,g));f++);return c},data:function(b,i,c){var b=a.query(b),k=b[0];if(g.isPlainObject(i)){for(var f in i)a.data(b,f,i[f]);return h}if(c===h){if(k)return k.nodeType?e.data(k,i,c):j.data(k,i,c)}else for(f=b.length-1;0<=f;f--)k=b[f],k.nodeType?e.data(k,i,c):j.data(k,i,c);return h},removeData:function(b,g){var c=a.query(b),h,f;
for(f=c.length-1;0<=f;f--)h=c[f],h.nodeType?e.removeData(h,g):j.removeData(h,g)}});return a},{requires:["./base"]});KISSY.add("dom",function(g,a){g.mix(g,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(g,a,h){function i(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.nodeType==h.DOCUMENT_FRAGMENT_NODE)i(e.childNodes);else if("input"==t(e)){if("checkbox"===e.type||"radio"===e.type)e.defaultChecked=e.checked}else if(b(e))for(var e=e.getElementsByTagName("input"),g=0;g<e.length;g++)i(e[g])}}function l(a,c){var g=[],i,v,x;for(i=0;a[i];i++)if(v=a[i],x=t(v),v.nodeType==h.DOCUMENT_FRAGMENT_NODE)g.push.apply(g,l(j(v.childNodes),c));else if("script"===x&&(!v.type||s.test(v.type)))v.parentNode&&
v.parentNode.removeChild(v),c&&c.push(v);else{if(b(v)&&!q.test(x)){x=[];var k,A,d=v.getElementsByTagName("script");for(A=0;A<d.length;A++)k=d[A],(!k.type||s.test(k.type))&&x.push(k);e.apply(a,[i+1,0].concat(x))}g.push(v)}return g}function n(a){a.src?g.getScript(a.src):(a=g.trim(a.text||a.textContent||a.innerHTML||""))&&g.globalEval(a)}function p(f,c,b,e){f=h.query(f);e&&(e=[]);f=l(f,e);8>a.ie&&i(f);var c=h.query(c),j=c.length;if((f.length||e&&e.length)&&j){var f=h._nl2frag(f),x;1<j&&(x=h.clone(f,
!0),c=g.makeArray(c));for(var k=0;k<j;k++){var A=c[k];if(f){var d=0<k?h.clone(x,!0):f;b(d,A)}e&&e.length&&g.each(e,n)}}}var q=/^(?:button|input|object|select|textarea)$/i,t=h.nodeName,j=g.makeArray,e=[].splice,b=h._isElementNode,s=/\/(java|ecma)script/i;g.mix(h,{insertBefore:function(a,c,b){p(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},b)},insertAfter:function(a,c,b){p(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},b)},appendTo:function(a,c,b){p(a,
c,function(a,c){c.appendChild(a)},b)},prependTo:function(a,c,b){p(a,c,function(a,c){c.insertBefore(a,c.firstChild)},b)},wrapAll:function(a,c){c=h.clone(h.get(c),!0);a=h.query(a);a[0].parentNode&&h.insertBefore(c,a[0]);for(var b;(b=c.firstChild)&&1==b.nodeType;)c=b;h.appendTo(a,c)},wrap:function(a,c){a=h.query(a);c=h.get(c);g.each(a,function(a){h.wrapAll(a,c)})},wrapInner:function(a,c){a=h.query(a);c=h.get(c);g.each(a,function(a){var b=a.childNodes;b.length?h.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=
h.query(a);g.each(a,function(a){a=a.parentNode;h.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var b=h.query(a),c=h.query(c);h.remove(c,!0);h.insertBefore(c,b);h.remove(b)}});var c={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},k;for(k in c)h[k]=h[c[k]];return h},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(g,a,h,i){function l(b){var g,j=b.ownerDocument.body,i=e(b[c]);g=b.getBoundingClientRect();b=g[k];g=g[f];b-=q.clientLeft||j.clientLeft;g-=q.clientTop||j.clientTop;"apple"==h.mobile&&(b-=a[y](i),g-=a[D](i));return{left:b,top:g}}function n(b,f){var g={left:0,top:0},h=e(b[c]),d=b,f=f||h;do{var j;if(h==f){var i=d;j=l(i);i=e(i[c]);j.left+=a[y](i);j.top+=a[D](i)}else j=l(d);g.left+=j.left;g.top+=j.top}while(h&&h!=f&&(d=h.frameElement)&&(h=h.parent));return g}var p=g.Env.host,
q=p.document.documentElement,t=a._isElementNode,j=a._nodeTypeIs,e=a._getWin,b=Math.max,s=parseInt,c="ownerDocument",k="left",f="top",z=g.isNumber,y="scrollLeft",D="scrollTop";g.mix(a,{offset:function(c,b,f){if(b===i){var c=a.get(c),e;c&&(e=n(c,f));return e}f=a.query(c);for(e=f.length-1;0<=e;e--){var c=f[e],d=b;"static"===a.css(c,"position")&&(c.style.position="relative");var g=n(c),h={},j=void 0,k=void 0;for(k in d)j=s(a.css(c,k),10)||0,h[k]=j+d[k]-g[k];a.css(c,h)}return i},scrollIntoView:function(c,
b,g,h,d){var l,n,o;if(n=a.get(c)){b&&(b=a.get(b));b||(b=n.ownerDocument);!0!==d&&(h=h===i?!0:!!h,g=g===i?!0:!!g);j(b,a.DOCUMENT_NODE)&&(b=e(b));o=!!e(b);d=a.offset(n);c=a.outerHeight(n);l=a.outerWidth(n);var p,q,r,m;o?(n=b,p=a.height(n),q=a.width(n),m={left:a.scrollLeft(n),top:a.scrollTop(n)},n=d[k]-m[k],o=d[f]-m[f],l=d[k]+l-(m[k]+q),d=d[f]+c-(m[f]+p)):(p=a.offset(b),q=b.clientHeight,r=b.clientWidth,m={left:a.scrollLeft(b),top:a.scrollTop(b)},n=d[k]-p[k]-(s(a.css(b,"borderLeftWidth"))||0),o=d[f]-
p[f]-(s(a.css(b,"borderTopWidth"))||0),l=d[k]+l-(p[k]+r+(s(a.css(b,"borderRightWidth"))||0)),d=d[f]+c-(p[f]+q+(s(a.css(b,"borderBottomWidth"))||0)));if(0>o||0<d)!0===g?a.scrollTop(b,m.top+o):!1===g?a.scrollTop(b,m.top+d):0>o?a.scrollTop(b,m.top+o):a.scrollTop(b,m.top+d);if(h&&(0>n||0<l))!0===g?a.scrollLeft(b,m.left+n):!1===g?a.scrollLeft(b,m.left+l):0>n?a.scrollLeft(b,m.left+n):a.scrollLeft(b,m.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});g.each(["Left",
"Top"],function(c,b){var f="scroll"+c;a[f]=function(g,d){if(z(g))return arguments.callee(p,g);var g=a.get(g),h,j=e(g);if(j)if(d!==i){var d=parseFloat(d),k="Left"==c?d:a.scrollLeft(j),l="Top"==c?d:a.scrollTop(j);j.scrollTo(k,l)}else h=j["page"+(b?"Y":"X")+"Offset"],z(h)||(j=j.document,h=j.documentElement[f],z(h)||(h=j.body[f]));else t(g)&&(d!==i?g[f]=parseFloat(d):h=g[f]);return h}});g.each(["Width","Height"],function(c){a["doc"+c]=function(f){f=a.get(f);f=e(f).document;return b(f.documentElement["scroll"+
c],f.body["scroll"+c],a["viewport"+c](f))};a["viewport"+c]=function(b){var b=a.get(b),f="client"+c,b=e(b).document,g=b.body,d=b.documentElement[f];return"CSS1Compat"===b.compatMode&&d||g&&g[f]||d}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(g,a,h){function i(a){var c,b;for(b=0;b<this.length&&!(c=this[b],!1===a(c,b));b++);}function l(a,b){var w,e,j=z(a),I=b===h&&(e=1)?[c]:l(b,h);if(a)if(j)a=d(a),e&&"body"==a?w=[c.body]:1==I.length&&a&&(w=p(a,I[0]));else{if(e)if(a.nodeType||a.setTimeout)w=[a];else{if(a.getDOMNodes)return a;w=f(a)?a:D(a)?g.makeArray(a):[a]}}else w=[];if(!w&&(w=[],a)){for(e=0;e<I.length;e++)x.apply(w,n(a,I[e]));1<w.length&&(1<I.length||j&&-1<a.indexOf(A))&&u(w)}w.each=i;return w}function n(a,
c){var b=z(a);if(b&&a.match(o)||!b)b=q(a,c);else if(b&&-1<a.indexOf(A)){var b=[],d,f=a.split(/\s*,\s*/);for(d=0;d<f.length;d++)x.apply(b,n(f[d],c))}else b=[],(d=g.require("sizzle"))&&d(a,c,b);return b}function p(a,c){var d,f,g,h;if(G.test(a))d=(f=j(a.slice(1),c))?[f]:[];else if(g=o.exec(a)){f=g[1];h=g[2];g=g[3];if(c=f?j(f,c):c)g?!f||-1!=a.indexOf(E)?d=[].concat(B(g,h,c)):(f=j(f,c))&&b(f,g)&&(d=[f]):h&&(d=e(h,c));d=d||[]}return d}function q(a,c){var b;z(a)?b=p(a,c)||[]:f(a)||D(a)?b=k(a,function(a){return t(a,
c)}):t(a,c)&&(b=[a]);return b}function t(b,d){return!b?!1:d==c?!0:a.contains(d,b)}function j(c,b){var d=b;b.nodeType!==a.DOCUMENT_NODE&&(d=b.ownerDocument);(d=d.getElementById(c))&&d.id===c||(d&&d.parentNode?s(d,c)?t(d,b)||(d=null):d=a.filter(F,"#"+c,b)[0]||null:d=null);return d}function e(a,c){return c&&y(c.getElementsByTagName(a))||[]}function b(a,c){var b;return(b=a.className)&&-1!==(" "+b+" ").indexOf(" "+c+" ")}function s(a,c){var b=a.getAttributeNode("id");return b&&b.nodeValue===c}var c=g.Env.host.document,
k=g.filter,f=g.isArray,z=g.isString,y=g.makeArray,D=a._isNodeList,v=a.nodeName,x=Array.prototype.push,E=" ",A=",",d=g.trim,F="*",G=/^#[\w-]+$/,o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,u=g.noop;(function(){var a,b,d=!0;[0,0].sort(function(){d=!1;return 0});u=function(c){if(a&&(b=d,c.sort(a),b))for(var f=1,e=c.length;f<e;)c[f]===c[f-1]?c.splice(f,1):f++;return c};a=c.documentElement.compareDocumentPosition?function(a,c){return a==c?(b=!0,0):!a.compareDocumentPosition||!c.compareDocumentPosition?
a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1}:function(a,c){if(a==c)return b=!0,0;if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex}})();(function(){var a=c.createElement("div");a.appendChild(c.createComment(""));0<a.getElementsByTagName(F).length&&(e=function(a,c){var b=y(c.getElementsByTagName(a));if(a===F){for(var d=[],f=0,e;e=b[f++];)1===e.nodeType&&d.push(e);b=d}return b})})();var B=c.getElementsByClassName?function(a,c,b){if(!b)return[];var a=b.getElementsByClassName(a),
d=0,f=a.length,e;if(c&&c!==F)for(b=[];d<f;++d)e=a[d],v(e)==c&&b.push(e);else b=y(a);return b}:c.querySelectorAll?function(a,c,b){return b&&y(b.querySelectorAll((c?c:"")+"."+a))||[]}:function(a,c,d){if(!d)return[];for(var c=d.getElementsByTagName(c||F),d=[],f=0,e=c.length,g;f<e;++f)g=c[f],b(g,a)&&d.push(g);return d};g.mix(a,{query:l,get:function(a,c){return l(a,c)[0]||null},unique:u,filter:function(a,c,f){var a=l(a,f),f=g.require("sizzle"),e,h,j,i,k=[];if(z(c)&&(c=d(c))&&(e=o.exec(c)))j=e[1],h=e[2],
i=e[3],j?j&&!h&&!i&&(c=function(a){return s(a,j)}):c=function(a){var c=!0,d=!0;h&&(c=v(a)==h);i&&(d=b(a,i));return d&&c};g.isFunction(c)?k=g.filter(a,c):c&&f&&(k=f.matches(c,a));return k},test:function(c,b,d){c=l(c,d);return c.length&&a.filter(c,b,d).length===c.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(g,a,h,i){if(!h.ie)return a;var l=g.Env.host.document,n=l.documentElement,p=i._CUSTOM_STYLES,q=/^-?\d+(?:px)?$/i,t=/^-?\d/,j=/opacity=([^)]*)/,e=/alpha\([^)]*\)/i;p.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==n.style.opacity&&(p.opacity={get:function(a,b){return j.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":b?"1":""},set:function(a,b){var b=parseFloat(b),f=a.style,h=a.currentStyle,j=isNaN(b)?"":"alpha(opacity="+100*b+")",i=g.trim(h&&h.filter||f.filter||"");f.zoom=1;if(1<=b&&""===g.trim(i.replace(e,""))&&(f.removeAttribute("filter"),h&&!h.filter))return;f.filter=e.test(i)?i.replace(e,j):i+(i?", ":"")+j}})}catch(b){}var h=8==h.ie,s={};s.thin=h?"1px":"2px";s.medium=h?"3px":"4px";s.thick=h?"5px":"6px";g.each(["","Top","Left","Right","Bottom"],function(a){var b="border"+a+"Width",f="border"+a+"Style";
p[b]={get:function(a,c){var e=c?a.currentStyle:0,g=e&&""+e[b]||void 0;g&&0>g.indexOf("px")&&(g=s[g]&&"none"!==e[f]?s[g]:0);return g}}});if(!(l.defaultView||{}).getComputedStyle&&n.currentStyle)a._getComputedStyle=function(c,b){var b=a._cssProps[b]||b,f=c.currentStyle&&c.currentStyle[b];if(!q.test(f)&&t.test(f)){var e=c.style,g=e.left,h=c.runtimeStyle&&c.runtimeStyle.left;h&&(c.runtimeStyle.left=c.currentStyle.left);e.left="fontSize"===b?"1em":f||0;f=e.pixelLeft+"px";e.left=g;h&&(c.runtimeStyle.left=
h)}return""===f?"auto":f};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(g,a,h,i){function l(a){return a.replace(v,"ms-").replace(x,E)}function n(a,b,d){var f={},e;for(e in b)f[e]=a[c][e],a[c][e]=b[e];d.call(a);for(e in b)a[c][e]=f[e]}function p(a,b,f){var e;if(3===a.nodeType||8===a.nodeType||!(e=a[c]))return i;var b=l(b),g,h=G[b],b=o[b]||b;if(f!==i){null===f||f===d?f=d:!isNaN(Number(f))&&!D[b]&&(f+=F);h&&h.set&&(f=h.set(a,f));if(f!==i){try{e[b]=f}catch(j){}f===d&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||a.removeAttribute("style");
return i}if(!h||!("get"in h&&(g=h.get(a,!1))!==i))g=e[b];return g===i?"":g}function q(a){var b,c=arguments;0!==a.offsetWidth?b=t.apply(i,c):n(a,m,function(){b=t.apply(i,c)});return b}function t(b,c,d){if(g.isWindow(b))return c==k?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return c==k?a.docWidth(b):a.docHeight(b);var f=c===k?["Left","Right"]:["Top","Bottom"],e=c===k?b.offsetWidth:b.offsetHeight;if(0<e)return"border"!==d&&g.each(f,function(c){d||(e-=parseFloat(a.css(b,"padding"+c))||0);
e="margin"===d?e+(parseFloat(a.css(b,d+c))||0):e-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),e;e=a._getComputedStyle(b,c);if(null==e||0>Number(e))e=b.style[c]||0;e=parseFloat(e)||0;d&&g.each(f,function(c){e+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==d&&(e+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===d&&(e+=parseFloat(a.css(b,d+c))||0)});return e}var j=g.Env.host,e=j.document,b=e.documentElement,s=h.ie,c="style",k="width",f="display"+g.now(),z=parseInt,y=/^-?\d+(?:px)?$/i,D={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},v=/^-ms-/,x=/-([a-z])/ig,E=function(a,b){return b.toUpperCase()},A=/([A-Z]|^ms)/g,d="",F="px",G={},o={},u={};b[c].cssFloat!==i?o["float"]="cssFloat":b[c].styleFloat!==i&&(o["float"]="styleFloat");var B,r;g.mix(a,{_camelCase:l,_CUSTOM_STYLES:G,_cssProps:o,_getComputedStyle:function(b,d){var e="",f,g=b.ownerDocument,d=d.replace(A,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(b,null))e=f.getPropertyValue(d)||f[d];""==
e&&!a.contains(g.documentElement,b)&&(d=o[d]||d,e=b[c][d]);return e},style:function(b,c,d){var b=a.query(b),e=b[0];if(g.isPlainObject(c)){for(var f in c)for(e=b.length-1;0<=e;e--)p(b[e],f,c[f]);return i}if(d===i)return f="",e&&(f=p(e,c,d)),f;for(e=b.length-1;0<=e;e--)p(b[e],c,d);return i},css:function(b,c,d){var b=a.query(b),e=b[0];if(g.isPlainObject(c)){for(var f in c)for(e=b.length-1;0<=e;e--)p(b[e],f,c[f]);return i}c=l(c);f=G[c];if(d===i){d="";if(e&&(!f||!("get"in f&&(d=f.get(e,!0))!==i)))d=a._getComputedStyle(e,
c);return d===i?"":d}for(e=b.length-1;0<=e;e--)p(b[e],c,d);return i},show:function(b){var b=a.query(b),g,j;for(j=b.length-1;0<=j;j--)if(g=b[j],g[c].display=a.data(g,f)||d,"none"===a.css(g,"display")){var i;a:{i=g.tagName.toLowerCase();var l=void 0,k=void 0;if(!u[i]){l=e.body||e.documentElement;k=e.createElement(i);a.prepend(k,l);var m=a.css(k,"display");l.removeChild(k);if("none"==m||""==m){if(B)a.prepend(B,l);else if(B=e.createElement("iframe"),B.frameBorder=B.width=B.height=0,a.prepend(B,l),k=void 0,
k=a._genEmptyIframeSrc())B.src=k;if(!r||!B.createElement)try{r=B.contentWindow.document,r.write(("CSS1Compat"===e.compatMode?"<!doctype html>":"")+"<html><head>"+(h.ie&&a._isCustomDomain()?"<script>document.domain = '"+e.domain+"';<\/script>":"")+"</head><body>"),r.close()}catch(n){i="block";break a}k=r.createElement(i);r.body.appendChild(k);m=a.css(k,"display");l.removeChild(B)}u[i]=m}i=u[i]}a.data(g,f,i);g[c].display=i}},hide:function(b){var b=a.query(b),d,e;for(e=b.length-1;0<=e;e--){d=b[e];var g=
d[c],h=g.display;"none"!==h&&(h&&a.data(d,f,h),g.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,e){b=b||j;g.isString(b)&&(e=c,c=b,b=j);var b=a.get(b),b=a._getWin(b).document,f;if(e&&(e=e.replace("#",d)))f=a.get("#"+e,b);f||(f=a.create("<style>",{id:e},b),a.get("head",b).appendChild(f),f.styleSheet?f.styleSheet.cssText=c:f.appendChild(b.createTextNode(c)))},unselectable:function(b){var b=
a.query(b),d,e;for(e=b.length-1;0<=e;e--)if(d=b[e],h.gecko)d[c].MozUserSelect="none";else if(h.webkit)d[c].KhtmlUserSelect="none";else if(h.ie||h.opera){var f=0,g=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=g[f++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});g.each([k,"height"],function(b){a["inner"+(b.charAt(0).toUpperCase()+
b.substring(1))]=function(c){return(c=a.get(c))&&q(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,d){var e=a.get(c);return e&&q(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var m={position:"absolute",visibility:"hidden",display:"block"};g.each(["height","width"],function(a){G[a]={get:function(b,c){if(c)return q(b,a)+"px"},set:function(a,b){if(y.test(b)){if(b=parseFloat(b),0<=b)return b+"px"}else return b}}});g.each(["left",
"top"],function(b){G[b]={get:function(c,d){if(d){var f=a._getComputedStyle(c,b);if("auto"===f){f=0;if(g.inArray(a.css(c,"position"),["absolute","fixed"])){f=c["left"===b?"offsetLeft":"offsetTop"];if(s&&9!=e.documentMode||h.opera)f-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;f-=z(a.css(c,"margin-"+b))||0}f+="px"}return f}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(g,a,h){function i(j,e,b,i,c,k){if(!(j=a.get(j)))return null;if(0===e)return j;k||(j=j[b]);if(!j)return null;c=c&&a.get(c)||null;e===h&&(e=1);var k=[],f=g.isArray(e),n,q;g.isNumber(e)&&(n=0,q=e,e=function(){return++n===q});for(;j&&j!=c;){if(p(j)&&l(j,e)&&(!i||i(j)))if(k.push(j),!f)break;j=j[b]}return f?k:k[0]||null}function l(h,e){if(!e)return!0;if(g.isArray(e))for(var b=0;b<e.length;b++){if(a.test(h,e[b]))return!0}else if(a.test(h,e))return!0;return!1}function n(h,
e,b,i){var c=[],k=h=a.get(h);h&&b&&(k=h.parentNode);k&&(c=g.makeArray(k.childNodes),i||(c=a.filter(c,function(a){return a.nodeType==1})),e&&(c=a.filter(c,e)));return c}var p=a._isElementNode,q=g.Env.host.document,t=q.documentElement.contains?function(g,e){if(g.nodeType==a.TEXT_NODE)return!1;var b;if(e.nodeType==a.TEXT_NODE)e=e.parentNode,b=!0;else{if(e.nodeType==a.DOCUMENT_NODE)return!1;b=g!==e}return b&&(g.contains?g.contains(e):!0)}:q.documentElement.compareDocumentPosition?function(a,e){return!!(a.compareDocumentPosition(e)&
16)}:0;g.mix(a,{closest:function(g,e,b){return i(g,e,"parentNode",function(b){return b.nodeType!=a.DOCUMENT_FRAGMENT_NODE},b,!0)},parent:function(g,e,b){return i(g,e,"parentNode",function(b){return b.nodeType!=a.DOCUMENT_FRAGMENT_NODE},b)},first:function(g,e){var b=a.get(g);return i(b&&b.firstChild,e,"nextSibling",h,h,!0)},last:function(g,e){var b=a.get(g);return i(b&&b.lastChild,e,"previousSibling",h,h,!0)},next:function(a,e){return i(a,e,"nextSibling",h)},prev:function(a,e){return i(a,e,"previousSibling",
h)},siblings:function(a,e){return n(a,e,!0)},children:function(a,e){return n(a,e,h)},contents:function(a,e){return n(a,e,h,1)},contains:function(g,e){g=a.get(g);e=a.get(e);return g&&e?t(g,e):!1},equals:function(g,e){g=a.query(g);e=a.query(e);if(g.length!=e.length)return!1;for(var b=g.length;0<=b;b--)if(g[b]!=e[b])return!1;return!0}});return a},{requires:["./base"]});
