/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Aug 8 15:30
*/
KISSY.add("dom/attr",function(f,a,d,j){function m(a,e){var e=y[e]||e,k=x[e];return k&&k.get?k.get(a,e):a[e]}var o=f.Env.host.document,s=o.documentElement,d=d.ie&&(o.documentMode||d.ie),u=s.textContent===j?"innerText":"textContent",g=a.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,p=/:|^on/,c=/\r/g,b={},t={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},r={tabindex:{get:function(a){var e=a.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):q.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:j}},style:{get:function(a){return a.style.cssText},set:function(a,e){a.style.cssText=e}}},y={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},n={get:function(b,e){return a.prop(b,e)?e.toLowerCase():j},set:function(b,e,k){!1===e?a.removeAttr(b,k):(e=y[k]||k,e in b&&(b[e]=!0),b.setAttribute(k,k.toLowerCase()));return k}},x={},w={},C={option:{get:function(a){var e=a.attributes.value;return!e||e.specified?a.value:a.text}},select:{get:function(b){var e=b.selectedIndex,k=b.options;if(0>e)return null;if("select-one"===b.type)return a.val(k[e]);for(var b=[],e=0,l=k.length;e<
l;++e)k[e].selected&&b.push(a.val(k[e]));return b},set:function(b,e){var k=f.makeArray(e);f.each(b.options,function(l){l.selected=f.inArray(a.val(l),k)});k.length||(b.selectedIndex=-1);return k}}};d&&8>d&&(w={get:function(a,e){var k;return(k=a.getAttributeNode(e))&&(k.specified||k.nodeValue)?k.nodeValue:j},set:function(a,e,k){var l=a.getAttributeNode(k);if(l)l.nodeValue=e;else try{var b=a.ownerDocument.createAttribute(k);b.value=e;a.setAttributeNode(b)}catch(c){return a.setAttribute(k,e,0)}}},b=y,
r.tabIndex=r.tabindex,f.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){r[a]={get:function(e){e=e.getAttribute(a,2);return e===null?j:e}}}),C.button=r.value=w);d&&9>d&&((r.href=r.href||{}).set=function(b,e,k){for(var l=b.childNodes,c,g=l.length,n=g>0,g=g-1;g>=0;g--)l[g].nodeType!=a.TEXT_NODE&&(n=0);if(n){c=b.ownerDocument.createElement("b");c.style.display="none";b.appendChild(c)}b.setAttribute(k,""+e);c&&b.removeChild(c)});f.each(["radio","checkbox"],function(b){C[b]={get:function(a){return a.getAttribute("value")===
null?"on":a.value},set:function(b,k){if(f.isArray(k))return b.checked=f.inArray(a.val(b),k)}}});f.mix(a,{prop:function(b,e,k){var l=a.query(b);if(f.isPlainObject(e)){f.each(e,function(k,b){a.prop(l,b,k)});return j}e=y[e]||e;b=x[e];if(k!==j)for(var c=l.length-1;c>=0;c--){var g=l[c];b&&b.set?b.set(g,k,e):g[e]=k}else if(l.length)return m(l[0],e);return j},hasProp:function(b,e){for(var k=a.query(b),l=0;l<k.length;l++)if(m(k[l],e)!==j)return true;return false},removeProp:function(b,e){for(var e=y[e]||
e,k=a.query(b),l=k.length-1;l>=0;l--){var c=k[l];try{c[e]=j;delete c[e]}catch(g){}}},attr:function(c,e,k,l){var z=a.query(c);if(f.isPlainObject(e)){var l=k,d;for(d in e)e.hasOwnProperty(d)&&a.attr(z,d,e[d],l);return j}if(!(e=f.trim(e)))return j;if(l&&t[e])return a[e](c,k);e=e.toLowerCase();if(l&&t[e])return a[e](c,k);e=b[e]||e;l=z[0];c=h.test(e)?n:p.test(e)?w:r[e];if(k===j){if(l&&l.nodeType===a.ELEMENT_NODE){g(l)=="form"&&(c=w);if(c&&c.get)return c.get(l,e);e=l.getAttribute(e);return e===null?j:e}}else for(d=
z.length-1;d>=0;d--)if((l=z[d])&&l.nodeType===a.ELEMENT_NODE){g(l)=="form"&&(c=w);c&&c.set?c.set(l,k,e):l.setAttribute(e,""+k)}return j},removeAttr:function(c,e){var e=e.toLowerCase(),e=b[e]||e,k=a.query(c),l,g;for(g=k.length-1;g>=0;g--){l=k[g];if(l.nodeType==a.ELEMENT_NODE){var n;l.removeAttribute(e);if(h.test(e)&&(n=y[e]||e)in l)l[n]=false}}},hasAttr:!s.hasAttribute?function(b,e){for(var e=e.toLowerCase(),k=a.query(b),l=0;l<k.length;l++){var c=k[l].getAttributeNode(e);if(c&&c.specified)return true}return false}:
function(b,e){for(var k=a.query(b),l=0;l<k.length;l++)if(k[l].hasAttribute(e))return true;return false},val:function(b,e){var k,l;if(e===j){var n=a.get(b);if(n){if((k=C[g(n)]||C[n.type])&&"get"in k&&(l=k.get(n,"value"))!==j)return l;l=n.value;return typeof l==="string"?l.replace(c,""):l==null?"":l}return j}l=a.query(b);var d;for(d=l.length-1;d>=0;d--){n=l[d];if(n.nodeType!==1)break;var i=e;i==null?i="":typeof i==="number"?i=i+"":f.isArray(i)&&(i=f.map(i,function(a){return a==null?"":a+""}));k=C[g(n)]||
C[n.type];if(!k||!("set"in k)||k.set(n,i,"value")===j)n.value=i}return j},_propHooks:x,text:function(b,e){if(e===j){var k=a.get(b);if(k.nodeType==a.ELEMENT_NODE)return k[u]||"";if(k.nodeType==a.TEXT_NODE)return k.nodeValue}else{var l=a.query(b),c;for(c=l.length-1;c>=0;c--){k=l[c];if(k.nodeType==a.ELEMENT_NODE)k[u]=e;else if(k.nodeType==a.TEXT_NODE)k.nodeValue=e}}return j}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(f,a,d){var j=f.Env.host,m={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(a){var a=a||j,d=a.document.domain,a=a.location.hostname;return d!=a&&d!="["+a+"]"},getEmptyIframeSrc:function(f){f=f||j;return a.ie&&o.isCustomDomain(f)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
f.document.domain+"';document.close();")+"}())":d},NodeTypes:m,_getWin:function(a){return null==a?j:"scrollTo"in a&&a.document?a:a.nodeType==o.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(d){var f=o.get(d),d=f.nodeName.toLowerCase();a.ie&&(f=f.scopeName)&&"HTML"!=f&&(d=f.toLowerCase()+":"+d);return d}};f.mix(o,m);return o},{requires:["ua"]});
KISSY.add("dom/class",function(f,a,d){function j(j,o,g,h){if(!(o=f.trim(o)))return h?!1:d;for(var j=a.query(j),q=j.length,i=o.split(m),o=[],p=0;p<i.length;p++){var c=f.trim(i[p]);c&&o.push(c)}for(p=0;p<q;p++)if(i=j[p],i.nodeType==a.ELEMENT_NODE&&(i=g(i,o,o.length),i!==d))return i;return h?!1:d}var m=/[\.\s]\s*\.?/,o=/[\n\t]/g;f.mix(a,{hasClass:function(a,d){return j(a,d,function(a,d,f){if(a=a.className){for(var a=(" "+a+" ").replace(o," "),i=0,p=!0;i<f;i++)if(0>a.indexOf(" "+d[i]+" ")){p=!1;break}if(p)return!0}},
!0)},addClass:function(a,m){j(a,m,function(a,d,j){var i=a.className;if(i){for(var p=(" "+i+" ").replace(o," "),c=0;c<j;c++)0>p.indexOf(" "+d[c]+" ")&&(i+=" "+d[c]);a.className=f.trim(i)}else a.className=m},d)},removeClass:function(a,m){j(a,m,function(a,d,j){var i=a.className;if(i)if(j){for(var i=(" "+i+" ").replace(o," "),p=0,c;p<j;p++)for(c=" "+d[p]+" ";0<=i.indexOf(c);)i=i.replace(c," ");a.className=f.trim(i)}else a.className=""},d)},replaceClass:function(d,f,g){a.removeClass(d,f);a.addClass(d,
g)},toggleClass:function(m,o,g){var h=f.isBoolean(g),q;j(m,o,function(d,f,c){for(var b=0,t;b<c;b++)t=f[b],q=h?!g:a.hasClass(d,t),a[q?"removeClass":"addClass"](d,t)},d)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,d,j){function m(k){var b=f.require("event");b&&b.detach(k);a.removeData(k)}function o(k,b,c){if(b.nodeType==a.DOCUMENT_FRAGMENT_NODE)for(var b=b.childNodes,c=c.childNodes,e=0;b[e];)c[e]&&o(k,b[e],c[e]),e++;else if(b.nodeType==a.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(e=0;b[e];)c[e]&&k(b[e],c[e]),e++}}function s(b,e){var c=f.require("event");if(e.nodeType!=a.ELEMENT_NODE||a.hasData(b)){var d=a.data(b),n;for(n in d)a.data(e,n,
d[n]);c&&(c._removeData(e),c._clone(b,e))}}function u(b,e){e.clearAttributes&&e.clearAttributes();e.mergeAttributes&&e.mergeAttributes(b);var c=e.nodeName.toLowerCase(),d=b.childNodes;if("object"===c&&!e.childNodes.length)for(c=0;c<d.length;c++)e.appendChild(d[c].cloneNode(!0));else if("input"===c&&("checkbox"===b.type||"radio"===b.type)){if(b.checked&&(e.defaultChecked=e.checked=b.checked),e.value!==b.value)e.value=b.value}else if("option"===c)e.selected=b.defaultSelected;else if("input"===c||"textarea"===
c)e.defaultValue=b.defaultValue;e.removeAttribute(a.__EXPANDO)}function g(a){var b=null,e,c;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=f.makeArray(a);e=0;for(c=a.length;e<c;e++)b.appendChild(a[e])}return b}var h=f.Env.host.document,d=d.ie,q=f.isString,i=h.createElement("div"),p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,b=/<tbody/i,t=/^\s+/,r=d&&9>d,y=/<|&#?\w+;/,n="outerHTML"in h.documentElement,x=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
f.mix(a,{create:function(b,e,d,n){var i=null;if(!b)return i;if(b.nodeType)return a.clone(b);if(!q(b))return i;n===j&&(n=!0);n&&(b=f.trim(b));var n=a._creators,B,F,d=d||h,v,G="div";if(y.test(b))if(v=x.exec(b))i=d.createElement(v[1]);else{b=b.replace(p,"<$1></$2>");if((v=c.exec(b))&&(B=v[1]))G=B.toLowerCase();B=(n[G]||n.div)(b,d);r&&(F=b.match(t))&&B.insertBefore(d.createTextNode(F[0]),B.firstChild);b=B.childNodes;1===b.length?i=b[0].parentNode.removeChild(b[0]):b.length&&(i=g(b))}else i=d.createTextNode(b);
f.isPlainObject(e)&&(i.nodeType==a.ELEMENT_NODE?a.attr(i,e,!0):i.nodeType==a.DOCUMENT_FRAGMENT_NODE&&a.attr(i.childNodes,e,!0));return i},_creators:{div:function(a,b){var e=b&&b!=h?b.createElement("div"):i;e.innerHTML="m<div>"+a+"</div>";return e.lastChild}},html:function(b,e,d,n){var b=a.query(b),i=b[0];if(i){if(e===j)return i.nodeType==a.ELEMENT_NODE?i.innerHTML:null;var f=!1,g,v,e=e+"";if(!e.match(/<(?:script|style|link)/i)&&(!r||!e.match(t))&&!D[(e.match(c)||["",""])[1].toLowerCase()])try{for(g=
b.length-1;0<=g;g--)v=b[g],v.nodeType==a.ELEMENT_NODE&&(m(v.getElementsByTagName("*")),v.innerHTML=e);f=!0}catch(G){}f||(e=a.create(e,0,i.ownerDocument,0),a.empty(b),a.append(e,b,d));n&&n()}},outerHTML:function(b,e,c){var b=a.query(b),d=b.length,i=b[0];if(i){if(e===j){if(n)return i.outerHTML;e=i.ownerDocument.createElement("div");e.appendChild(a.clone(i,!0));return e.innerHTML}e+="";if(!e.match(/<(?:script|style|link)/i)&&n)for(c=d-1;0<=c;c--)i=b[c],i.nodeType==a.ELEMENT_NODE&&(m(i),m(i.getElementsByTagName("*")),
i.outerHTML=e);else e=a.create(e,0,i.ownerDocument,0),a.insertBefore(e,b,c),a.remove(b)}},remove:function(b,e){var c,d=a.query(b),n;for(n=d.length-1;0<=n;n--){c=d[n];if(!e&&c.nodeType==a.ELEMENT_NODE){var i=c.getElementsByTagName("*");m(i);m(c)}c.parentNode&&c.parentNode.removeChild(c)}},clone:function(b,e,c,d){"object"===typeof e&&(d=e.deepWithDataAndEvent,c=e.withDataAndEvent,e=e.deep);b=a.get(b);if(!b)return null;var n=b.cloneNode(e);if(b.nodeType==a.ELEMENT_NODE||b.nodeType==a.DOCUMENT_FRAGMENT_NODE)b.nodeType==
a.ELEMENT_NODE&&u(b,n),e&&o(u,b,n);c&&(s(b,n),e&&d&&o(s,b,n));return n},empty:function(b){var b=a.query(b),e,c;for(c=b.length-1;0<=c;c--)e=b[c],a.remove(e.childNodes)},nodeListToFragment:g});var w=a._creators,C=a.create,D={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},e;for(e in D)(function(a){w[e]=function(b,e){return C("<"+a+">"+b+"</"+a+">",null,e)}})(D[e]);8>d&&
(w.table=function(e,c){var d=w.div(e,c);if(b.test(e))return d;var n=d.firstChild,i=f.makeArray(n.childNodes);f.each(i,function(b){"tbody"==a.nodeName(b)&&!b.childNodes.length&&n.removeChild(b)});return d});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,d){var j=f.Env.host,m="__ks_data_"+f.now(),o={},s={},u={applet:1,object:1,embed:1},g={hasData:function(a,g){if(a)if(g!==d){if(g in a)return!0}else if(!f.isEmptyObject(a))return!0;return!1}},h={hasData:function(a,d){return a==j?h.hasData(s,d):g.hasData(a[m],d)},data:function(a,g,c){if(a==j)return h.data(s,g,c);var b=a[m];if(c!==d)b=a[m]=a[m]||{},b[g]=c;else return g!==d?b&&b[g]:b=a[m]=a[m]||{}},removeData:function(a,g){if(a==j)return h.removeData(s,g);var c=a[m];if(g!==
d)delete c[g],f.isEmptyObject(c)&&h.removeData(a);else try{delete a[m]}catch(b){a[m]=d}}},q={hasData:function(a,d){var c=a[m];return!c?!1:g.hasData(o[c],d)},data:function(a,g,c){if(u[a.nodeName.toLowerCase()])return d;var b=a[m];if(!b){if(g!==d&&c===d)return d;b=a[m]=f.guid()}a=o[b];if(c!==d)a=o[b]=o[b]||{},a[g]=c;else return g!==d?a&&a[g]:a=o[b]=o[b]||{}},removeData:function(a,g){var c=a[m],b;if(c)if(b=o[c],g!==d)delete b[g],f.isEmptyObject(b)&&q.removeData(a);else{delete o[c];try{delete a[m]}catch(t){a[m]=
d}a.removeAttribute&&a.removeAttribute(m)}}};f.mix(a,{__EXPANDO:m,hasData:function(d,g){for(var c=!1,b=a.query(d),f=0;f<b.length&&!(c=b[f],c=c.nodeType?q.hasData(c,g):h.hasData(c,g));f++);return c},data:function(g,j,c){var g=a.query(g),b=g[0];if(f.isPlainObject(j)){for(var t in j)a.data(g,t,j[t]);return d}if(c===d){if(b)return b.nodeType?q.data(b,j,c):h.data(b,j,c)}else for(t=g.length-1;0<=t;t--)b=g[t],b.nodeType?q.data(b,j,c):h.data(b,j,c);return d},removeData:function(d,g){var c=a.query(d),b,f;
for(f=c.length-1;0<=f;f--)b=c[f],b.nodeType?q.removeData(b,g):h.removeData(b,g)}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){f.mix(f,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(f,a,d){function j(a){for(var c=0;c<a.length;c++){var f=a[c];if(f.nodeType==d.DOCUMENT_FRAGMENT_NODE)j(f.childNodes);else if("input"==g(f)){if("checkbox"===f.type||"radio"===f.type)f.defaultChecked=f.checked}else if(f.nodeType==d.ELEMENT_NODE)for(var f=f.getElementsByTagName("input"),i=0;i<f.length;i++)j(f[i])}}function m(a,c){var f=[],j,n,x;for(j=0;a[j];j++)if(n=a[j],x=g(n),n.nodeType==d.DOCUMENT_FRAGMENT_NODE)f.push.apply(f,m(h(n.childNodes),c));else if("script"===
x&&(!n.type||i.test(n.type)))n.parentNode&&n.parentNode.removeChild(n),c&&c.push(n);else{if(n.nodeType==d.ELEMENT_NODE&&!u.test(x)){x=[];var w,p,o=n.getElementsByTagName("script");for(p=0;p<o.length;p++)w=o[p],(!w.type||i.test(w.type))&&x.push(w);q.apply(a,[j+1,0].concat(x))}f.push(n)}return f}function o(a){a.src?f.getScript(a.src):(a=f.trim(a.text||a.textContent||a.innerHTML||""))&&f.globalEval(a)}function s(b,c,g,i){b=d.query(b);i&&(i=[]);b=m(b,i);8>a.ie&&j(b);var c=d.query(c),n=c.length;if((b.length||
i&&i.length)&&n){var b=d.nodeListToFragment(b),h;1<n&&(h=d.clone(b,!0),c=f.makeArray(c));for(var q=0;q<n;q++){var p=c[q];if(b){var D=0<q?d.clone(h,!0):b;g(D,p)}i&&i.length&&f.each(i,o)}}}var u=/^(?:button|input|object|select|textarea)$/i,g=d.nodeName,h=f.makeArray,q=[].splice,i=/\/(java|ecma)script/i;f.mix(d,{insertBefore:function(a,c,d){s(a,c,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,c,d){s(a,c,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},
d)},appendTo:function(a,c,d){s(a,c,function(a,b){b.appendChild(a)},d)},prependTo:function(a,c,d){s(a,c,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,c){c=d.clone(d.get(c),!0);a=d.query(a);a[0].parentNode&&d.insertBefore(c,a[0]);for(var g;(g=c.firstChild)&&1==g.nodeType;)c=g;d.appendTo(a,c)},wrap:function(a,c){a=d.query(a);c=d.get(c);f.each(a,function(a){d.wrapAll(a,c)})},wrapInner:function(a,c){a=d.query(a);c=d.get(c);f.each(a,function(a){var b=a.childNodes;b.length?d.wrapAll(b,
c):a.appendChild(c)})},unwrap:function(a){a=d.query(a);f.each(a,function(a){a=a.parentNode;d.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var g=d.query(a),c=d.query(c);d.remove(c,!0);d.insertBefore(c,g);d.remove(g)}});var p={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},c;for(c in p)d[c]=d[p[c]];return d},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(f,a,d,j){function m(b){var f,j=b.ownerDocument.body,h=g(b[i]);f=b.getBoundingClientRect();b=f[p];f=f[c];b-=u.clientLeft||j.clientLeft;f-=u.clientTop||j.clientTop;"apple"==d.mobile&&(b-=a[t](h),f-=a[r](h));return{left:b,top:f}}function o(b,c){var d={left:0,top:0},f=g(b[i]),j=b,c=c||f;do{var h;if(f==c){var e=j;h=m(e);e=g(e[i]);h.left+=a[t](e);h.top+=a[r](e)}else h=m(j);d.left+=h.left;d.top+=h.top}while(f&&f!=c&&(j=f.frameElement)&&(f=f.parent));return d}var s=f.Env.host,
u=s.document.documentElement,g=a._getWin,h=Math.max,q=parseInt,i="ownerDocument",p="left",c="top",b=f.isNumber,t="scrollLeft",r="scrollTop";f.mix(a,{offset:function(b,c,d){if(c===j){var b=a.get(b),f;b&&(f=o(b,d));return f}d=a.query(b);for(f=d.length-1;0<=f;f--){var b=d[f],g=c;"static"===a.css(b,"position")&&(b.style.position="relative");var i=o(b),e={},k=void 0,h=void 0;for(h in g)k=q(a.css(b,h),10)||0,e[h]=k+g[h]-i[h];a.css(b,e)}return j},scrollIntoView:function(b,d,f,i,h){var m,e,k;if(e=a.get(b)){d&&
(d=a.get(d));d||(d=e.ownerDocument);!0!==h&&(i=i===j?!0:!!i,f=f===j?!0:!!f);d.nodeType==a.DOCUMENT_NODE&&(d=g(d));k=!!g(d);h=a.offset(e);b=a.outerHeight(e);m=a.outerWidth(e);var l,o,t,r;k?(e=d,l=a.height(e),o=a.width(e),r={left:a.scrollLeft(e),top:a.scrollTop(e)},e=h[p]-r[p],k=h[c]-r[c],m=h[p]+m-(r[p]+o),h=h[c]+b-(r[c]+l)):(l=a.offset(d),o=d.clientHeight,t=d.clientWidth,r={left:a.scrollLeft(d),top:a.scrollTop(d)},e=h[p]-l[p]-(q(a.css(d,"borderLeftWidth"))||0),k=h[c]-l[c]-(q(a.css(d,"borderTopWidth"))||
0),m=h[p]+m-(l[p]+t+(q(a.css(d,"borderRightWidth"))||0)),h=h[c]+b-(l[c]+o+(q(a.css(d,"borderBottomWidth"))||0)));if(0>k||0<h)!0===f?a.scrollTop(d,r.top+k):!1===f?a.scrollTop(d,r.top+h):0>k?a.scrollTop(d,r.top+k):a.scrollTop(d,r.top+h);if(i&&(0>e||0<m))!0===f?a.scrollLeft(d,r.left+e):!1===f?a.scrollLeft(d,r.left+m):0>e?a.scrollLeft(d,r.left+e):a.scrollLeft(d,r.left+m)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});f.each(["Left","Top"],function(c,d){var f="scroll"+
c;a[f]=function(h,i){if(b(h))return arguments.callee(s,h);var h=a.get(h),q,e=g(h);if(e)if(i!==j){var i=parseFloat(i),k="Left"==c?i:a.scrollLeft(e),l="Top"==c?i:a.scrollTop(e);e.scrollTo(k,l)}else q=e["page"+(d?"Y":"X")+"Offset"],b(q)||(e=e.document,q=e.documentElement[f],b(q)||(q=e.body[f]));else h.nodeType==a.ELEMENT_NODE&&(i!==j?h[f]=parseFloat(i):q=h[f]);return q}});f.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=g(c).document;return h(c.documentElement["scroll"+b],c.body["scroll"+
b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),d="client"+b,c=g(c).document,f=c.body,h=c.documentElement[d];return"CSS1Compat"===c.compatMode&&h||f&&f[d]||h}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(f,a,d){function j(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function m(a,b){var v,g,h=r(a),i=b===d&&(g=1)?[c]:m(b,d);if(a)if(h)a=e(a),g&&"body"==a?v=[c.body]:1==i.length&&a&&(v=s(a,i[0]));else{if(g)if(a.nodeType||a.setTimeout)v=[a];else{if(a.getDOMNodes)return a;v=t(a)?a:n(a)?f.makeArray(a):[a]}}else v=[];if(!v&&(v=[],a)){for(g=0;g<i.length;g++)w.apply(v,o(a,i[g]));1<v.length&&(1<i.length||h&&-1<a.indexOf(D))&&E(v)}v.each=j;return v}function o(a,
b){var c=r(a);if(c&&a.match(z)||!c)c=u(a,b);else if(c&&-1<a.indexOf(D)){var c=[],e,d=a.split(/\s*,\s*/);for(e=0;e<d.length;e++)w.apply(c,o(d[e],b))}else c=[],(e=f.require("sizzle"))&&e(a,b,c);return c}function s(a,b){var c,e,d,f;if(l.test(a))c=(e=h(a.slice(1),b))?[e]:[];else if(d=z.exec(a)){e=d[1];f=d[2];d=d[3];if(b=e?h(e,b):b)d?!e||-1!=a.indexOf(C)?c=[].concat(A(d,f,b)):(e=h(e,b))&&i(e,d)&&(c=[e]):f&&(c=q(f,b));c=c||[]}return c}function u(a,c){var e;r(a)?e=s(a,c)||[]:t(a)||n(a)?e=b(a,function(a){return g(a,
c)}):g(a,c)&&(e=[a]);return e}function g(b,e){return!b?!1:e==c?!0:a.contains(e,b)}function h(b,c){var e=c;c.nodeType!==a.DOCUMENT_NODE&&(e=c.ownerDocument);(e=e.getElementById(b))&&e.id===b||(e&&e.parentNode?p(e,b)?g(e,c)||(e=null):e=a.filter(k,"#"+b,c)[0]||null:e=null);return e}function q(a,b){return b&&y(b.getElementsByTagName(a))||[]}function i(a,b){var c;return(c=a.className)&&-1!==(" "+c+" ").indexOf(" "+b+" ")}function p(a,b){var c=a.getAttributeNode("id");return c&&c.nodeValue===b}var c=f.Env.host.document,
b=f.filter,t=f.isArray,r=f.isString,y=f.makeArray,n=a._isNodeList,x=a.nodeName,w=Array.prototype.push,C=" ",D=",",e=f.trim,k="*",l=/^#[\w-]+$/,z=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,E=f.noop;(function(){var a,b,e=!0;[0,0].sort(function(){e=!1;return 0});E=function(c){if(a&&(b=e,c.sort(a),b))for(var d=1,f=c.length;d<f;)c[d]===c[d-1]?c.splice(d,1):d++;return c};a=c.documentElement.compareDocumentPosition?function(a,c){return a==c?(b=!0,0):!a.compareDocumentPosition||!c.compareDocumentPosition?
a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1}:function(a,c){if(a==c)return b=!0,0;if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex}})();(function(){var a=c.createElement("div");a.appendChild(c.createComment(""));0<a.getElementsByTagName(k).length&&(q=function(a,b){var c=y(b.getElementsByTagName(a));if(a===k){for(var e=[],d=0,f;f=c[d++];)1===f.nodeType&&e.push(f);c=e}return c})})();var A=c.getElementsByClassName?function(a,c,b){if(!b)return[];var a=b.getElementsByClassName(a),
e=0,d=a.length,f;if(c&&c!==k)for(b=[];e<d;++e)f=a[e],x(f)==c&&b.push(f);else b=y(a);return b}:c.querySelectorAll?function(a,b,c){return c&&y(c.querySelectorAll((b?b:"")+"."+a))||[]}:function(a,b,c){if(!c)return[];for(var b=c.getElementsByTagName(b||k),c=[],e=0,d=b.length,f;e<d;++e)f=b[e],i(f,a)&&c.push(f);return c};f.mix(a,{query:m,get:function(a,b){return m(a,b)[0]||null},unique:E,filter:function(a,b,c){var a=m(a,c),c=f.require("sizzle"),d,g,h,j,k=[];if(r(b)&&(b=e(b))&&(d=z.exec(b)))h=d[1],g=d[2],
j=d[3],h?h&&!g&&!j&&(b=function(a){return p(a,h)}):b=function(a){var b=!0,c=!0;g&&(b=x(a)==g);j&&(c=i(a,j));return c&&b};f.isFunction(b)?k=f.filter(a,b):b&&c&&(k=c.matches(b,a));return k},test:function(b,c,e){b=m(b,e);return b.length&&a.filter(b,c,e).length===b.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(f,a,d,j){if(!d.ie)return a;var m=f.Env.host.document,o=m.documentElement,s=j._CUSTOM_STYLES,u=/^-?\d+(?:px)?$/i,g=/^-?\d/,h=/opacity=([^)]*)/,q=/alpha\([^)]*\)/i;s.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==o.style.opacity&&(s.opacity={get:function(a,b){return h.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":b?"1":""},set:function(a,b){var b=parseFloat(b),d=a.style,g=a.currentStyle,h=isNaN(b)?"":"alpha(opacity="+100*b+")",i=f.trim(g&&g.filter||d.filter||"");d.zoom=1;if(1<=b&&""===f.trim(i.replace(q,""))&&(d.removeAttribute("filter"),g&&!g.filter))return;d.filter=q.test(i)?i.replace(q,h):i+(i?", ":"")+h}})}catch(i){}var d=8==d.ie,p={};p.thin=d?"1px":"2px";p.medium=d?"3px":"4px";p.thick=d?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(a){var b="border"+a+"Width",d="border"+a+"Style";
s[b]={get:function(a,c){var f=c?a.currentStyle:0,g=f&&""+f[b]||void 0;g&&0>g.indexOf("px")&&(g=p[g]&&"none"!==f[d]?p[g]:0);return g}}});if(!(m.defaultView||{}).getComputedStyle&&o.currentStyle)a._getComputedStyle=function(c,b){var b=a._cssProps[b]||b,d=c.currentStyle&&c.currentStyle[b];if(!u.test(d)&&g.test(d)&&-1==d.indexOf(" ")){var f=c.style,h=f.left,i=c.runtimeStyle&&c.runtimeStyle.left;i&&(c.runtimeStyle.left=c.currentStyle.left);f.left="fontSize"===b?"1em":d||0;d=f.pixelLeft+"px";f.left=h;i&&
(c.runtimeStyle.left=i)}return""===d?"auto":d};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(f,a,d,j){function m(a){return a.replace(x,"ms-").replace(w,C)}function o(a,b,e){var d={},f;for(f in b)d[f]=a[c][f],a[c][f]=b[f];e.call(a);for(f in b)a[c][f]=d[f]}function s(a,b,d){var f;if(3===a.nodeType||8===a.nodeType||!(f=a[c]))return j;var b=m(b),g,h=l[b],b=z[b]||b;if(d!==j){null===d||d===e?d=e:!isNaN(Number(d))&&!n[b]&&(d+=k);h&&h.set&&(d=h.set(a,d));if(d!==j){try{f[b]=d}catch(i){}d===e&&f.removeAttribute&&f.removeAttribute(b)}f.cssText||a.removeAttribute("style");
return j}if(!h||!("get"in h&&(g=h.get(a,!1))!==j))g=f[b];return g===j?"":g}function u(a){var b,c=arguments;0!==a.offsetWidth?b=g.apply(j,c):o(a,F,function(){b=g.apply(j,c)});return b}function g(c,e,d){if(f.isWindow(c))return e==b?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return e==b?a.docWidth(c):a.docHeight(c);var g=e===b?["Left","Right"]:["Top","Bottom"],h=e===b?c.offsetWidth:c.offsetHeight;if(0<h)return"border"!==d&&f.each(g,function(b){d||(h-=parseFloat(a.css(c,"padding"+b))||0);
h="margin"===d?h+(parseFloat(a.css(c,d+b))||0):h-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),h;h=a._getComputedStyle(c,e);if(null==h||0>Number(h))h=c.style[e]||0;h=parseFloat(h)||0;d&&f.each(g,function(b){h+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==d&&(h+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===d&&(h+=parseFloat(a.css(c,d+b))||0)});return h}var h=f.Env.host,q=h.document,i=q.documentElement,p=d.ie,c="style",b="width",t="display"+f.now(),r=parseInt,y=/^-?\d+(?:px)?$/i,n={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},x=/^-ms-/,w=/-([a-z])/ig,C=function(a,b){return b.toUpperCase()},D=/([A-Z]|^ms)/g,e="",k="px",l={},z={},E={};i[c].cssFloat!==j?z["float"]="cssFloat":i[c].styleFloat!==j&&(z["float"]="styleFloat");var A,B;f.mix(a,{_camelCase:m,_CUSTOM_STYLES:l,_cssProps:z,_getComputedStyle:function(b,e){var d="",f,g=b.ownerDocument,e=e.replace(D,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(b,null))d=f.getPropertyValue(e)||f[e];""==
d&&!a.contains(g.documentElement,b)&&(e=z[e]||e,d=b[c][e]);return d},style:function(b,c,e){var b=a.query(b),d=b[0];if(f.isPlainObject(c)){for(var g in c)for(d=b.length-1;0<=d;d--)s(b[d],g,c[g]);return j}if(e===j)return g="",d&&(g=s(d,c,e)),g;for(d=b.length-1;0<=d;d--)s(b[d],c,e);return j},css:function(b,c,e){var b=a.query(b),d=b[0];if(f.isPlainObject(c)){for(var g in c)for(d=b.length-1;0<=d;d--)s(b[d],g,c[g]);return j}c=m(c);g=l[c];if(e===j){e="";if(d&&(!g||!("get"in g&&(e=g.get(d,!0))!==j)))e=a._getComputedStyle(d,
c);return e===j?"":e}for(d=b.length-1;0<=d;d--)s(b[d],c,e);return j},show:function(b){var b=a.query(b),f,g;for(g=b.length-1;0<=g;g--)if(f=b[g],f[c].display=a.data(f,t)||e,"none"===a.css(f,"display")){var h;a:{h=f.tagName.toLowerCase();var i=void 0,j=void 0;if(!E[h]){i=q.body||q.documentElement;j=q.createElement(h);a.prepend(j,i);var k=a.css(j,"display");i.removeChild(j);if("none"==k||""==k){if(A)a.prepend(A,i);else if(A=q.createElement("iframe"),A.frameBorder=A.width=A.height=0,a.prepend(A,i),j=void 0,
j=a.getEmptyIframeSrc())A.src=j;if(!B||!A.createElement)try{B=A.contentWindow.document,B.write(("CSS1Compat"===q.compatMode?"<!doctype html>":"")+"<html><head>"+(d.ie&&a.isCustomDomain()?"<script>document.domain = '"+q.domain+"';<\/script>":"")+"</head><body>"),B.close()}catch(l){h="block";break a}j=B.createElement(h);B.body.appendChild(j);k=a.css(j,"display");i.removeChild(A)}E[h]=k}h=E[h]}a.data(f,t,h);f[c].display=h}},hide:function(b){var b=a.query(b),e,d;for(d=b.length-1;0<=d;d--){e=b[d];var f=
e[c],g=f.display;"none"!==g&&(g&&a.data(e,t,g),f.display="none")}},toggle:function(b){var b=a.query(b),c,e;for(e=b.length-1;0<=e;e--)c=b[e],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||h;f.isString(b)&&(d=c,c=b,b=h);var b=a.get(b),b=a._getWin(b).document,g;if(d&&(d=d.replace("#",e)))g=a.get("#"+d,b);g||(g=a.create("<style>",{id:d},b),a.get("head",b).appendChild(g),g.styleSheet?g.styleSheet.cssText=c:g.appendChild(b.createTextNode(c)))},unselectable:function(b){var b=
a.query(b),e,f;for(f=b.length-1;0<=f;f--)if(e=b[f],d.gecko)e[c].MozUserSelect="none";else if(d.webkit)e[c].KhtmlUserSelect="none";else if(d.ie||d.opera){var g=0,h=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=h[g++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});f.each([b,"height"],function(b){a["inner"+(b.charAt(0).toUpperCase()+
b.substring(1))]=function(c){return(c=a.get(c))&&u(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,e){var d=a.get(c);return d&&u(d,b,e?"margin":"border")};a[b]=function(c,e){var d=a.css(c,b,e);d&&(d=parseFloat(d));return d}});var F={position:"absolute",visibility:"hidden",display:"block"};f.each(["height","width"],function(a){l[a]={get:function(b,c){if(c)return u(b,a)+"px"},set:function(a,b){if(y.test(b)){if(b=parseFloat(b),0<=b)return b+"px"}else return b}}});f.each(["left",
"top"],function(b){l[b]={get:function(c,e){if(e){var g=a._getComputedStyle(c,b);if("auto"===g){g=0;if(f.inArray(a.css(c,"position"),["absolute","fixed"])){g=c["left"===b?"offsetLeft":"offsetTop"];if(p&&9!=q.documentMode||d.opera)g-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;g-=r(a.css(c,"margin-"+b))||0}g+="px"}return g}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(f,a,d){function j(g,h,j,i,p,c,b){if(!(g=a.get(g)))return null;if(0===h)return g;c||(g=g[j]);if(!g)return null;p=p&&a.get(p)||null;h===d&&(h=1);var c=[],o=f.isArray(h),r,s;f.isNumber(h)&&(r=0,s=h,h=function(){return++r===s});for(;g&&g!=p;){if((g.nodeType==a.ELEMENT_NODE||g.nodeType==a.TEXT_NODE&&b)&&m(g,h)&&(!i||i(g)))if(c.push(g),!o)break;g=g[j]}return o?c:c[0]||null}function m(d,h){if(!h)return!0;if(f.isArray(h))for(var j=0;j<h.length;j++){if(a.test(d,h[j]))return!0}else if(a.test(d,
h))return!0;return!1}function o(d,h,j,i){var m=[],c,b;if((c=d=a.get(d))&&j)c=d.parentNode;if(c){j=f.makeArray(c.childNodes);for(c=0;c<j.length;c++)b=j[c],(i||b.nodeType==a.ELEMENT_NODE)&&b!=d&&m.push(b);h&&(m=a.filter(m,h))}return m}var s=f.Env.host.document.documentElement,u=s.compareDocumentPosition?function(a,d){return!!(a.compareDocumentPosition(d)&16)}:s.contains?function(d,f){d.nodeType==a.DOCUMENT_NODE&&(d=d.documentElement);f=f.parentNode;return d==f?!0:f&&f.nodeType==a.ELEMENT_NODE?d.contains&&
d.contains(f):!1}:0;f.mix(a,{closest:function(d,f,m,i){return j(d,f,"parentNode",function(d){return d.nodeType!=a.DOCUMENT_FRAGMENT_NODE},m,!0,i)},parent:function(f,h,m){return j(f,h,"parentNode",function(d){return d.nodeType!=a.DOCUMENT_FRAGMENT_NODE},m,d)},first:function(f,h,m){f=a.get(f);return j(f&&f.firstChild,h,"nextSibling",d,d,!0,m)},last:function(f,h,m){f=a.get(f);return j(f&&f.lastChild,h,"previousSibling",d,d,!0,m)},next:function(a,f,m){return j(a,f,"nextSibling",d,d,d,m)},prev:function(a,
f,m){return j(a,f,"previousSibling",d,d,d,m)},siblings:function(a,d,f){return o(a,d,!0,f)},children:function(a,f){return o(a,f,d)},contents:function(a,f){return o(a,f,d,1)},contains:function(d,f){d=a.get(d);f=a.get(f);return d&&f?u(d,f):!1},equals:function(d,f){d=a.query(d);f=a.query(f);if(d.length!=f.length)return!1;for(var j=d.length;0<=j;j--)if(d[j]!=f[j])return!1;return!0}});return a},{requires:["./base"]});
