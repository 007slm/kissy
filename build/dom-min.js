/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Apr 5 19:32
*/
KISSY.add("dom/attr",function(q,b,s,A){function E(n,e){e=z[e]||e;var h=F[e];return h&&h.get?h.get(n,e):n[e]}s=q.Env.host.document.documentElement;var G=!s.hasAttribute,C=s.textContent===A?"innerText":"textContent",x=b._nodeName,D=b._isElementNode,o=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,t=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,r=/:|^on/,p=/\r/g,v={},m={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},y={tabindex:{get:function(n){var e=n.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):t.test(n.nodeName)||l.test(n.nodeName)&&n.href?0:A}},style:{get:function(n){return n.style.cssText},set:function(n,e){n.style.cssText=e}}},z={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},B={get:function(n,e){return b.prop(n,e)?e.toLowerCase():A},set:function(n,e,h){if(e===false)b.removeAttr(n,h);else{e=z[h]||h;if(e in n)n[e]=true;n.setAttribute(h,h.toLowerCase())}return h}},F={},I={},J={option:{get:function(n){var e=n.attributes.value;return!e||e.specified?n.value:n.text}},select:{get:function(n){var e=n.selectedIndex,h=n.options;n=n.type==="select-one";if(e<0)return null;else if(n)return b.val(h[e]);e=[];
n=0;for(var d=h.length;n<d;++n)h[n].selected&&e.push(b.val(h[n]));return e},set:function(n,e){var h=q.makeArray(e);q.each(n.options,function(d){d.selected=q.inArray(b.val(d),h)});if(!h.length)n.selectedIndex=-1;return h}}};if(G){I={get:function(n,e){var h;return(h=n.getAttributeNode(e))&&(h.specified||h.nodeValue)?h.nodeValue:A},set:function(n,e,h){var d=n.getAttributeNode(h);if(d)d.nodeValue=e;else try{var i=n.ownerDocument.createAttribute(h);i.value=e;n.setAttributeNode(i)}catch(k){return n.setAttribute(h,
e,0)}}};v=z;y.tabIndex=y.tabindex;q.each(["href","src","width","height","colSpan","rowSpan"],function(n){y[n]={get:function(e){e=e.getAttribute(n,2);return e===null?A:e}}});J.button=y.value=I}q.each(["radio","checkbox"],function(n){J[n]={get:function(e){return e.getAttribute("value")===null?"on":e.value},set:function(e,h){if(q.isArray(h))return e.checked=q.inArray(b.val(e),h)}}});q.mix(b,{prop:function(n,e,h){n=b.query(n);if(q.isPlainObject(e)){for(var d in e)b.prop(n,d,e[d]);return A}e=z[e]||e;d=
F[e];if(h!==A)for(var i=n.length-1;i>=0;i--){var k=n[i];if(d&&d.set)d.set(k,h,e);else k[e]=h}else if(n.length)return E(n[0],e)},hasProp:function(n,e){for(var h=b.query(n),d=0;d<h.length;d++)if(E(h[d],e)!==A)return true;return false},removeProp:function(n,e){e=z[e]||e;for(var h=b.query(n),d=h.length-1;d>=0;d--){var i=h[d];try{i[e]=A;delete i[e]}catch(k){}}},attr:function(n,e,h,d){var i=b.query(n);if(q.isPlainObject(e)){d=h;for(var k in e)e.hasOwnProperty(k)&&b.attr(i,k,e[k],d);return A}if(!(e=q.trim(e)))return A;
if(d&&m[e])return b[e](n,h);e=e.toLowerCase();if(d&&m[e])return b[e](n,h);e=v[e]||e;d=i[0];n=o.test(e)?B:r.test(e)?I:y[e];if(h===A){if(d&&d.nodeType===b.ELEMENT_NODE){if(x(d,"form"))n=I;if(n&&n.get)return n.get(d,e);e=d.getAttribute(e);return e===null?A:e}}else for(k=i.length-1;k>=0;k--)if((d=i[k])&&d.nodeType===b.ELEMENT_NODE){if(x(d,"form"))n=I;n&&n.set?n.set(d,h,e):d.setAttribute(e,""+h)}},removeAttr:function(n,e){e=e.toLowerCase();e=v[e]||e;var h=b.query(n),d,i;for(i=h.length-1;i>=0;i--){d=h[i];
if(D(d)){var k;d.removeAttribute(e);if(o.test(e)&&(k=z[e]||e)in d)d[k]=false}}},hasAttr:G?function(n,e){e=e.toLowerCase();for(var h=b.query(n),d=0;d<h.length;d++){var i=h[d].getAttributeNode(e);if(i&&i.specified)return true}return false}:function(n,e){for(var h=b.query(n),d=0;d<h.length;d++)if(h[d].hasAttribute(e))return true;return false},val:function(n,e){var h,d;if(e===A){var i=b.get(n);if(i){if((h=J[i.nodeName.toLowerCase()]||J[i.type])&&"get"in h&&(d=h.get(i,"value"))!==A)return d;d=i.value;
return typeof d==="string"?d.replace(p,""):d==null?"":d}return A}d=b.query(n);var k;for(k=d.length-1;k>=0;k--){i=d[k];if(i.nodeType!==1)return A;var u=e;if(u==null)u="";else if(typeof u==="number")u+="";else if(q.isArray(u))u=q.map(u,function(f){return f==null?"":f+""});h=J[i.nodeName.toLowerCase()]||J[i.type];if(!h||!("set"in h)||h.set(i,u,"value")===A)i.value=u}},text:function(n,e){if(e===A){var h=b.get(n);if(D(h))return h[C]||"";else if(b._nodeTypeIs(h,b.TEXT_NODE))return h.nodeValue;return A}else{var d=
b.query(n),i;for(i=d.length-1;i>=0;i--){h=d[i];if(D(h))h[C]=e;else if(b._nodeTypeIs(h,b.TEXT_NODE))h.nodeValue=e}}}});return b},{requires:["./base","ua"]});
KISSY.add("dom/base",function(q,b,s){function A(x,D){return x&&x.nodeType===D}var E=q.Env.host,G={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},C={_isCustomDomain:function(x){x=x||E;var D=x.document.domain;x=x.location.hostname;return D!=x&&D!="["+x+"]"},_genEmptyIframeSrc:function(x){x=x||E;if(b.ie&&C._isCustomDomain(x))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+x.document.domain+"';document.close();")+"}())"},_NODE_TYPE:G,_isElementNode:function(x){return A(x,C.ELEMENT_NODE)},_getWin:function(x){return x&&"scrollTo"in x&&x.document?x:A(x,C.DOCUMENT_NODE)?x.defaultView||x.parentWindow:x===s||x===null?E:false},_nodeTypeIs:A,_isNodeList:function(x){return x&&!x.nodeType&&x.item&&!x.setTimeout},_nodeName:function(x,D){return x&&x.nodeName.toLowerCase()===D.toLowerCase()}};q.mix(C,G);return C},{requires:["ua"]});
KISSY.add("dom/class",function(q,b,s){function A(C,x,D,o){if(!(x=q.trim(x)))return o?false:s;C=b.query(C);var t=C.length,l=x.split(E);x=[];for(var r=0;r<l.length;r++){var p=q.trim(l[r]);p&&x.push(p)}for(r=0;r<t;r++){l=C[r];if(b._isElementNode(l)){l=D(l,x,x.length);if(l!==s)return l}}if(o)return false;return s}var E=/[\.\s]\s*\.?/,G=/[\n\t]/g;q.mix(b,{hasClass:function(C,x){return A(C,x,function(D,o,t){if(D=D.className){D=(" "+D+" ").replace(G," ");for(var l=0,r=true;l<t;l++)if(D.indexOf(" "+o[l]+
" ")<0){r=false;break}if(r)return true}},true)},addClass:function(C,x){A(C,x,function(D,o,t){var l=D.className;if(l){var r=(" "+l+" ").replace(G," ");l=l;for(var p=0;p<t;p++)if(r.indexOf(" "+o[p]+" ")<0)l+=" "+o[p];D.className=q.trim(l)}else D.className=x},s)},removeClass:function(C,x){A(C,x,function(D,o,t){var l=D.className;if(l)if(t){l=(" "+l+" ").replace(G," ");for(var r=0,p;r<t;r++)for(p=" "+o[r]+" ";l.indexOf(p)>=0;)l=l.replace(p," ");D.className=q.trim(l)}else D.className=""},s)},replaceClass:function(C,
x,D){b.removeClass(C,x);b.addClass(C,D)},toggleClass:function(C,x,D){var o=q.isBoolean(D),t;A(C,x,function(l,r,p){for(var v=0,m;v<p;v++){m=r[v];t=o?!D:b.hasClass(l,m);b[t?"removeClass":"addClass"](l,m)}},s)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(q,b,s,A){function E(d){var i=q.require("event");i&&i.detach(d);b.removeData(d)}function G(d,i,k){if(t(i,b.DOCUMENT_FRAGMENT_NODE)){i=i.childNodes;k=k.childNodes;for(var u=0;i[u];){k[u]&&G(d,i[u],k[u]);u++}}else if(l(i)){i=i.getElementsByTagName("*");k=k.getElementsByTagName("*");for(u=0;i[u];){k[u]&&d(i[u],k[u]);u++}}}function C(d,i){var k=q.require("event");if(!(l(i)&&!b.hasData(d))){var u=b.data(d),f;for(f in u)b.data(i,f,u[f]);if(k){k._removeData(i);k._clone(d,i)}}}
function x(d,i){i.clearAttributes&&i.clearAttributes();i.mergeAttributes&&i.mergeAttributes(d);var k=i.nodeName.toLowerCase(),u=d.childNodes;if(k==="object"&&!i.childNodes.length)for(k=0;k<u.length;k++)i.appendChild(u[k].cloneNode(true));else if(k==="input"&&(d.type==="checkbox"||d.type==="radio")){if(d.checked)i.defaultChecked=i.checked=d.checked;if(i.value!==d.value)i.value=d.value}else if(k==="option")i.selected=d.defaultSelected;else if(k==="input"||k==="textarea")i.defaultValue=d.defaultValue;
i.removeAttribute(b.__EXPANDO)}function D(d,i){var k=null,u,f;if(d&&(d.push||d.item)&&d[0]){i=i||d[0].ownerDocument;k=i.createDocumentFragment();d=q.makeArray(d);u=0;for(f=d.length;u<f;u++)k.appendChild(d[u])}return k}var o=q.Env.host.document;s=s.ie;var t=b._nodeTypeIs,l=b._isElementNode,r=q.isString,p=o.createElement("div"),v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,m=/<([\w:]+)/,y=/<tbody/i,z=/^\s+/,B=s&&s<9,F=/<|&#?\w+;/,I=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;q.mix(b,
{create:function(d,i,k,u){var f=null;if(!d)return f;if(d.nodeType)return b.clone(d);if(!r(d))return f;if(u===A)u=true;if(u)d=q.trim(d);u=b._creators;var c,a;k=k||o;var g,j="div";if(F.test(d))if(g=I.exec(d))f=k.createElement(g[1]);else{d=d.replace(v,"<$1></$2>");if((g=m.exec(d))&&(c=g[1]))j=c.toLowerCase();c=(u[j]||u.div)(d,k);if(B&&(a=d.match(z)))c.insertBefore(k.createTextNode(a[0]),c.firstChild);d=c.childNodes;if(d.length===1)f=d[0].parentNode.removeChild(d[0]);else if(d.length)f=D(d,k)}else f=
k.createTextNode(d);f=f;if(q.isPlainObject(i))if(l(f))b.attr(f,i,true);else t(f,b.DOCUMENT_FRAGMENT_NODE)&&b.attr(f.childNodes,i,true);return f},_creators:{div:function(d,i){var k=i&&i!=o?i.createElement("div"):p;k.innerHTML="m<div>"+d+"</div>";return k.lastChild}},html:function(d,i,k,u){d=b.query(d);var f=d[0];if(f)if(i===A)return l(f)?f.innerHTML:null;else{var c=false,a,g;i+="";if(!i.match(/<(?:script|style|link)/i)&&(!B||!i.match(z))&&!e[(i.match(m)||["",""])[1].toLowerCase()])try{for(a=d.length-
1;a>=0;a--){g=d[a];if(l(g)){E(g.getElementsByTagName("*"));g.innerHTML=i}}c=true}catch(j){}if(!c){i=b.create(i,0,f.ownerDocument,0);for(a=d.length-1;a>=0;a--){g=d[a];if(l(g)){b.empty(g);b.append(i,g,k)}}}u&&u()}},remove:function(d,i){var k,u=b.query(d),f;for(f=u.length-1;f>=0;f--){k=u[f];if(!i&&l(k)){var c=k.getElementsByTagName("*");E(c);E(k)}k.parentNode&&k.parentNode.removeChild(k)}},clone:function(d,i,k,u){d=b.get(d);if(!d)return null;var f=d.cloneNode(i);if(l(d)||t(d,b.DOCUMENT_FRAGMENT_NODE)){l(d)&&
x(d,f);i&&G(x,d,f)}if(k){C(d,f);i&&u&&G(C,d,f)}return f},empty:function(d){d=b.query(d);var i,k;for(k=d.length-1;k>=0;k--){i=d[k];b.remove(i.childNodes)}},_nl2frag:D});var J=b._creators,n=b.create,e={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},h;for(h in e)(function(d){J[h]=function(i,k){return n("<"+d+">"+i+"</"+d+">",null,k)}})(e[h]);if(s<8)J.table=function(d,
i){var k=J.div(d,i);if(y.test(d))return k;var u=k.firstChild,f=q.makeArray(u.childNodes);q.each(f,function(c){b._nodeName(c,"tbody")&&!c.childNodes.length&&u.removeChild(c)});return k};return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(q,b,s){var A=q.Env.host,E="_ks_data_"+q.now(),G={},C={},x={};x.applet=1;x.object=1;x.embed=1;var D={hasData:function(l,r){if(l)if(r!==s){if(r in l)return true}else if(!q.isEmptyObject(l))return true;return false}},o={hasData:function(l,r){if(l==A)return o.hasData(C,r);return D.hasData(l[E],r)},data:function(l,r,p){if(l==A)return o.data(C,r,p);var v=l[E];if(p!==s){v=l[E]=l[E]||{};v[r]=p}else if(r!==s)return v&&v[r];else return v=l[E]=l[E]||{}},removeData:function(l,r){if(l==
A)return o.removeData(C,r);var p=l[E];if(r!==s){delete p[r];q.isEmptyObject(p)&&o.removeData(l)}else try{delete l[E]}catch(v){l[E]=s}}},t={hasData:function(l,r){var p=l[E];if(!p)return false;return D.hasData(G[p],r)},data:function(l,r,p){if(x[l.nodeName.toLowerCase()])return s;var v=l[E];if(!v){if(r!==s&&p===s)return s;v=l[E]=q.guid()}l=G[v];if(p!==s){l=G[v]=G[v]||{};l[r]=p}else if(r!==s)return l&&l[r];else return l=G[v]=G[v]||{}},removeData:function(l,r){var p=l[E],v;if(p){v=G[p];if(r!==s){delete v[r];
q.isEmptyObject(v)&&t.removeData(l)}else{delete G[p];try{delete l[E]}catch(m){l[E]=s}l.removeAttribute&&l.removeAttribute(E)}}}};q.mix(b,{__EXPANDO:E,hasData:function(l,r){for(var p=false,v=b.query(l),m=0;m<v.length;m++){p=v[m];if(p=p.nodeType?t.hasData(p,r):o.hasData(p,r))break}return p},data:function(l,r,p){l=b.query(l);var v=l[0];if(q.isPlainObject(r)){for(var m in r)b.data(l,m,r[m]);return s}if(p===s){if(v)return v.nodeType?t.data(v,r,p):o.data(v,r,p)}else for(m=l.length-1;m>=0;m--){v=l[m];v.nodeType?
t.data(v,r,p):o.data(v,r,p)}return s},removeData:function(l,r){var p=b.query(l),v,m;for(m=p.length-1;m>=0;m--){v=p[m];v.nodeType?t.removeData(v,r):o.removeData(v,r)}}});return b},{requires:["./base"]});KISSY.add("dom",function(q,b){q.mix(q,{DOM:b,get:b.get,query:b.query});return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("dom/insertion",function(q,b,s){function A(m){for(var y=0;y<m.length;y++){var z=m[y];if(z.nodeType==s.DOCUMENT_FRAGMENT_NODE)A(z.childNodes);else if(D(z,"input")){if(z.type==="checkbox"||z.type==="radio")z.defaultChecked=z.checked}else if(l(z)){z=z.getElementsByTagName("input");for(var B=0;B<z.length;B++)A(z[B])}}}function E(m,y){var z=[],B,F,I;for(B=0;m[B];B++){F=m[B];I=F.nodeName.toLowerCase();if(F.nodeType==s.DOCUMENT_FRAGMENT_NODE)z.push.apply(z,E(o(F.childNodes),y));else if(I==="script"&&
(!F.type||r.test(F.type))){F.parentNode&&F.parentNode.removeChild(F);y&&y.push(F)}else{if(l(F)&&!x.test(I)){I=[];var J,n,e=F.getElementsByTagName("script");for(n=0;n<e.length;n++){J=e[n];(!J.type||r.test(J.type))&&I.push(J)}t.apply(m,[B+1,0].concat(I))}z.push(F)}}return z}function G(m){if(m.src)q.getScript(m.src);else(m=q.trim(m.text||m.textContent||m.innerHTML||""))&&q.globalEval(m)}function C(m,y,z,B){m=s.query(m);if(B)B=[];m=E(m,B);b.ie<8&&A(m);y=s.query(y);var F=m.length,I=y.length;if(!(!F&&(!B||
!B.length)||!I)){m=s._nl2frag(m);var J;if(I>1){J=s.clone(m,true);y=q.makeArray(y)}for(var n=0;n<I;n++){var e=y[n];if(F){var h=n>0?s.clone(J,true):m;z(h,e)}B&&B.length&&q.each(B,G)}}}var x=/^(?:button|input|object|select|textarea)$/i,D=s._nodeName,o=q.makeArray,t=[].splice,l=s._isElementNode,r=/\/(java|ecma)script/i;q.mix(s,{insertBefore:function(m,y,z){C(m,y,function(B,F){F.parentNode&&F.parentNode.insertBefore(B,F)},z)},insertAfter:function(m,y,z){C(m,y,function(B,F){F.parentNode&&F.parentNode.insertBefore(B,
F.nextSibling)},z)},appendTo:function(m,y,z){C(m,y,function(B,F){F.appendChild(B)},z)},prependTo:function(m,y,z){C(m,y,function(B,F){F.insertBefore(B,F.firstChild)},z)},wrapAll:function(m,y){y=s.clone(s.get(y),true);m=s.query(m);m[0].parentNode&&s.insertBefore(y,m[0]);for(var z;(z=y.firstChild)&&z.nodeType==1;)y=z;s.appendTo(m,y)},wrap:function(m,y){m=s.query(m);y=s.get(y);q.each(m,function(z){s.wrapAll(z,y)})},wrapInner:function(m,y){m=s.query(m);y=s.get(y);q.each(m,function(z){var B=z.childNodes;
B.length?s.wrapAll(B,y):z.appendChild(y)})},unwrap:function(m){m=s.query(m);q.each(m,function(y){y=y.parentNode;s.replaceWith(y,y.childNodes)})},replaceWith:function(m,y){var z=s.query(m);y=s.query(y);s.remove(y,true);s.insertBefore(y,z);s.remove(z)}});var p={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},v;for(v in p)s[v]=s[p[v]];return s},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(q,b,s,A){function E(e){var h,d=0;h=0;var i=x.body,k=r(e[y]);if(e[n]){h=e[n]();d=h[z];h=h[B];e=D&&x.documentMode!=9&&(p?o.clientTop:i.clientTop)||0;d-=D&&x.documentMode!=9&&(p?o.clientLeft:i.clientLeft)||0;h-=e;if(s.mobile=="apple"){d-=b[I](k);h-=b[J](k)}}return{left:d,top:h}}function G(e,h){var d={left:0,top:0},i=r(e[y]),k=e;h=h||i;do{var u;if(i==h){var f=k;u=E(f);f=r(f[y]);u.left+=b[I](f);u.top+=b[J](f);u=u}else u=E(k);u=u;d.left+=u.left;d.top+=u.top}while(i&&i!=h&&
(k=i.frameElement)&&(i=i.parent));return d}var C=q.Env.host,x=C.document,D=s.ie,o=x.documentElement,t=b._isElementNode,l=b._nodeTypeIs,r=b._getWin,p=x.compatMode==="CSS1Compat",v=Math.max,m=parseInt,y="ownerDocument",z="left",B="top",F=q.isNumber,I="scrollLeft",J="scrollTop",n="getBoundingClientRect";q.mix(b,{offset:function(e,h,d){if(h===A){e=b.get(e);var i;if(e)i=G(e,d);return i}d=b.query(e);for(i=d.length-1;i>=0;i--){e=e=d[i];var k=h;if(b.css(e,"position")==="static")e.style.position="relative";
var u=G(e),f={},c=void 0,a=void 0;for(a in k){c=m(b.css(e,a),10)||0;f[a]=c+k[a]-u[a]}b.css(e,f)}return A},scrollIntoView:function(e,h,d,i,k){var u;if(u=b.get(e)){if(h)h=b.get(h);if(!h)h=u.ownerDocument;if(k!==true){i=i===A?true:!!i;d=d===A?true:!!d}if(l(h,b.DOCUMENT_NODE))h=r(h);var f=!!r(h);k=b.offset(u);e=b.outerHeight(u);u=b.outerWidth(u);var c,a,g,j;if(f){f=h;a=b.height(f);c=b.width(f);j={left:b.scrollLeft(f),top:b.scrollTop(f)};f={left:k[z]-j[z],top:k[B]-j[B]};k={left:k[z]+u-(j[z]+c),top:k[B]+
e-(j[B]+a)};j=j}else{c=b.offset(h);a=h.clientHeight;g=h.clientWidth;j={left:b.scrollLeft(h),top:b.scrollTop(h)};f={left:k[z]-c[z]-(m(b.css(h,"borderLeftWidth"))||0),top:k[B]-c[B]-(m(b.css(h,"borderTopWidth"))||0)};k={left:k[z]+u-(c[z]+g+(m(b.css(h,"borderRightWidth"))||0)),top:k[B]+e-(c[B]+a+(m(b.css(h,"borderBottomWidth"))||0))}}if(f.top<0||k.top>0)if(d===true)b.scrollTop(h,j.top+f.top);else if(d===false)b.scrollTop(h,j.top+k.top);else f.top<0?b.scrollTop(h,j.top+f.top):b.scrollTop(h,j.top+k.top);
if(i)if(f.left<0||k.left>0)if(d===true)b.scrollLeft(h,j.left+f.left);else if(d===false)b.scrollLeft(h,j.left+k.left);else f.left<0?b.scrollLeft(h,j.left+f.left):b.scrollLeft(h,j.left+k.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});q.each(["Left","Top"],function(e,h){var d="scroll"+e;b[d]=function(i,k){if(F(i))return arguments.callee(C,i);i=b.get(i);var u,f=r(i);if(f)if(k!==A){k=parseFloat(k);var c=e=="Left"?k:b.scrollLeft(f),a=e=="Top"?k:b.scrollTop(f);
f.scrollTo(c,a)}else{u=f["page"+(h?"Y":"X")+"Offset"];if(!F(u)){f=f.document;u=f.documentElement[d];F(u)||(u=f.body[d])}}else if(t(i))if(k!==A)i[d]=parseFloat(k);else u=i[d];return u}});q.each(["Width","Height"],function(e){b["doc"+e]=function(h){h=b.get(h);h=r(h).document;return v(h.documentElement["scroll"+e],h.body["scroll"+e],b["viewport"+e](h))};b["viewport"+e]=function(h){h=b.get(h);var d="client"+e;h=r(h).document;var i=h.body,k=h.documentElement[d];return h.compatMode==="CSS1Compat"&&k||i&&
i[d]||k}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(q,b,s){function A(f){var c,a;for(a=0;a<this.length;a++){c=this[a];if(f(c,a)===false)break}}function E(f,c){var a,g,j=y(f),w=c===s&&(g=1)?[p]:E(c,s);if(f)if(j){f=e(f);if(w.length==1&&f)a=C(f,w[0])}else{if(g)if(f.nodeType||f.setTimeout)a=[f];else if(f.getDOMNodes)return f;else a=m(f)?f:B(f)?q.makeArray(f):[f]}else a=[];if(!a){a=[];if(f){for(g=0;g<w.length;g++)I.apply(a,G(f,w[g]));if(a.length>1&&(w.length>1||j&&f.indexOf(n)>-1))k(a)}}a.each=A;return a}function G(f,c){var a=
[];if((a=y(f))&&f.match(i)||!a)a=x(f,c);else{if(a&&f.indexOf(n)>-1){a=[];var g,j=f.split(/\s*,\s*/);for(g=0;g<j.length;g++)I.apply(a,G(j[g],c));a=a}else{a=[];(g=q.require("sizzle"))&&g(f,c,a);a=a}a=a}return a=a}function C(f,c){var a,g,j,w;if(d.test(f))a=(g=o(f.slice(1),c))?[g]:[];else if(j=i.exec(f)){g=j[1];w=j[2];j=j[3];if(c=g?o(g,c):c)if(j)if(!g||f.indexOf(J)!=-1)a=[].concat(u(j,w,c));else{if((g=o(g,c))&&l(g,j))a=[g]}else if(w)a=t(w,c);a=a||[]}return a}function x(f,c){var a;if(y(f))a=C(f,c)||[];
else if(m(f)||B(f))a=v(f,function(g){return D(g,c)});else if(D(f,c))a=[f];return a}function D(f,c){if(!f)return false;if(c==p)return true;return b.contains(c,f)}function o(f,c){var a=c;if(c.nodeType!==b.DOCUMENT_NODE)a=c.ownerDocument;a=a.getElementById(f);if(!(a&&a.id===f))if(a&&a.parentNode)if(r(a,f))D(a,c)||(a=null);else a=b.filter(h,"#"+f,c)[0]||null;else a=null;return a}function t(f,c){return c&&z(c.getElementsByTagName(f))||[]}function l(f,c){var a;return(a=f.className)&&(" "+a+" ").indexOf(" "+
c+" ")!==-1}function r(f,c){var a=f.getAttributeNode("id");return a&&a.nodeValue===c}var p=q.Env.host.document,v=q.filter,m=q.isArray,y=q.isString,z=q.makeArray,B=b._isNodeList,F=b._nodeName,I=Array.prototype.push,J=" ",n=",",e=q.trim,h="*",d=/^#[\w-]+$/,i=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,k=q.noop;(function(){var f,c,a=true;[0,0].sort(function(){a=false;return 0});k=function(g){if(f){c=a;g.sort(f);if(c)for(var j=1,w=g.length;j<w;)if(g[j]===g[j-1])g.splice(j,1);else j++}return g};f=p.documentElement.compareDocumentPosition?
function(g,j){if(g==j){c=true;return 0}if(!g.compareDocumentPosition||!j.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(j)&4?-1:1}:function(g,j){if(g==j){c=true;return 0}else if(g.sourceIndex&&j.sourceIndex)return g.sourceIndex-j.sourceIndex}})();(function(){var f=p.createElement("div");f.appendChild(p.createComment(""));if(f.getElementsByTagName(h).length>0)t=function(c,a){var g=z(a.getElementsByTagName(c));if(c===h){for(var j=[],w=0,H;H=g[w++];)H.nodeType===
1&&j.push(H);g=j}return g}})();var u=p.getElementsByClassName?function(f,c,a){if(!a)return[];f=a.getElementsByClassName(f);var g=0,j=f.length,w;if(c&&c!==h)for(a=[];g<j;++g){w=f[g];F(w,c)&&a.push(w)}else a=z(f);return a}:p.querySelectorAll?function(f,c,a){return a&&z(a.querySelectorAll((c?c:"")+"."+f))||[]}:function(f,c,a){if(!a)return[];c=a.getElementsByTagName(c||h);a=[];for(var g=0,j=c.length,w;g<j;++g){w=c[g];l(w,f)&&a.push(w)}return a};q.mix(b,{query:E,get:function(f,c){return E(f,c)[0]||null},
unique:k,filter:function(f,c,a){f=E(f,a);a=q.require("sizzle");var g,j,w,H,K=[];if(y(c)&&(c=e(c))&&(g=i.exec(c))){w=g[1];j=g[2];H=g[3];if(w){if(w&&!j&&!H)c=function(L){return r(L,w)}}else c=function(L){var M=true,N=true;if(j)M=F(L,j);if(H)N=l(L,H);return N&&M}}if(q.isFunction(c))K=q.filter(f,c);else if(c&&a)K=a.matches(c,f);return K},test:function(f,c,a){f=E(f,a);return f.length&&b.filter(f,c,a).length===f.length}});return b},{requires:["./base"]});
KISSY.add("dom/style-ie",function(q,b,s,A){if(!s.ie)return b;var E=q.Env.host.document,G=E.documentElement,C=A._CUSTOM_STYLES,x=/^-?\d+(?:px)?$/i,D=/^-?\d/,o=/opacity=([^)]*)/,t=/alpha\([^)]*\)/i;C.backgroundPosition={get:function(p,v){return v?p.currentStyle.backgroundPositionX+" "+p.currentStyle.backgroundPositionY:p.style.backgroundPosition}};try{if(G.style.opacity==null)C.opacity={get:function(p,v){return o.test((v&&p.currentStyle?p.currentStyle.filter:p.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":v?"1":""},set:function(p,v){v=parseFloat(v);var m=p.style,y=p.currentStyle,z=isNaN(v)?"":"alpha(opacity="+v*100+")",B=q.trim(y&&y.filter||m.filter||"");m.zoom=1;if(v>=1&&q.trim(B.replace(t,""))===""){m.removeAttribute("filter");if(y&&!y.filter)return}m.filter=t.test(B)?B.replace(t,z):B+(B?", ":"")+z}}}catch(l){}s=s.ie==8;var r={};r.thin=s?"1px":"2px";r.medium=s?"3px":"4px";r.thick=s?"5px":"6px";q.each(["","Top","Left","Right","Bottom"],function(p){var v="border"+p+"Width",m="border"+p+"Style";
C[v]={get:function(y,z){var B=z?y.currentStyle:0,F=B&&String(B[v])||undefined;if(F&&F.indexOf("px")<0)F=r[F]&&B[m]!=="none"?r[F]:0;return F}}});if(!(E.defaultView||{}).getComputedStyle&&G.currentStyle)b._getComputedStyle=function(p,v){v=b._cssProps[v]||v;var m=p.currentStyle&&p.currentStyle[v];if(!x.test(m)&&D.test(m)){var y=p.style,z=y.left,B=p.runtimeStyle&&p.runtimeStyle.left;if(B)p.runtimeStyle.left=p.currentStyle.left;y.left=v==="fontSize"?"1em":m||0;m=y.pixelLeft+"px";y.left=z;if(B)p.runtimeStyle.left=
B}return m===""?"auto":m};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(q,b,s,A){function E(c){return c.replace(B,"ms-").replace(F,I)}function G(c,a,g){var j={},w;for(w in a){j[w]=c[r][w];c[r][w]=a[w]}g.call(c);for(w in a)c[r][w]=j[w]}function C(c,a,g){var j;if(c.nodeType===3||c.nodeType===8||!(j=c[r]))return A;a=E(a);var w,H=h[a];a=d[a]||a;if(g!==A){if(g===null||g===n)g=n;else if(!isNaN(Number(g))&&!z[a])g+=e;if(H&&H.set)g=H.set(c,g);if(g!==A){try{j[a]=g}catch(K){}g===n&&j.removeAttribute&&j.removeAttribute(a)}j.cssText||c.removeAttribute("style");
return A}else{if(!(H&&"get"in H&&(w=H.get(c,false))!==A))w=j[a];return w===A?"":w}}function x(c,a,g){if(q.isWindow(c))return a==p?b.viewportWidth(c):b.viewportHeight(c);else if(c.nodeType==9)return a==p?b.docWidth(c):b.docHeight(c);var j=a===p?["Left","Right"]:["Top","Bottom"],w=a===p?c.offsetWidth:c.offsetHeight;if(w>0){g!=="border"&&q.each(j,function(H){g||(w-=parseFloat(b.css(c,"padding"+H))||0);if(g==="margin")w+=parseFloat(b.css(c,g+H))||0;else w-=parseFloat(b.css(c,"border"+H+"Width"))||0});
return w}w=b._getComputedStyle(c,a);if(w==null||Number(w)<0)w=c.style[a]||0;w=parseFloat(w)||0;g&&q.each(j,function(H){w+=parseFloat(b.css(c,"padding"+H))||0;if(g!=="padding")w+=parseFloat(b.css(c,"border"+H+"Width"))||0;if(g==="margin")w+=parseFloat(b.css(c,g+H))||0});return w}var D=q.Env.host,o=D.document,t=o.documentElement,l=s.ie,r="style",p="width",v="display"+q.now(),m=parseInt,y=/^-?\d+(?:px)?$/i,z={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},B=/^-ms-/,
F=/-([a-z])/ig,I=function(c,a){return a.toUpperCase()},J=/([A-Z]|^ms)/g,n="",e="px",h={},d={},i={};if(t[r].cssFloat!==A)d["float"]="cssFloat";else if(t[r].styleFloat!==A)d["float"]="styleFloat";var k,u;q.mix(b,{_camelCase:E,_CUSTOM_STYLES:h,_cssProps:d,_getComputedStyle:function(c,a){var g="",j,w=c.ownerDocument;a=a.replace(J,"-$1").toLowerCase();if(j=w.defaultView.getComputedStyle(c,null))g=j.getPropertyValue(a)||j[a];if(g==""&&!b.contains(w.documentElement,c)){a=d[a]||a;g=c[r][a]}return g},style:function(c,
a,g){c=b.query(c);var j=c[0];if(q.isPlainObject(a)){for(var w in a)for(j=c.length-1;j>=0;j--)C(c[j],w,a[w]);return A}if(g===A){w="";if(j)w=C(j,a,g);return w}else for(j=c.length-1;j>=0;j--)C(c[j],a,g);return A},css:function(c,a,g){c=b.query(c);var j=c[0];if(q.isPlainObject(a)){for(var w in a)for(j=c.length-1;j>=0;j--)C(c[j],w,a[w]);return A}a=E(a);w=h[a];if(g===A){g="";if(j)if(!(w&&"get"in w&&(g=w.get(j,true))!==A))g=b._getComputedStyle(j,a);return g===A?"":g}else for(j=c.length-1;j>=0;j--)C(c[j],
a,g);return A},show:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=0;g--){a=c[g];a[r].display=b.data(a,v)||n;if(b.css(a,"display")==="none"){var j;a:{j=a.tagName.toLowerCase();var w=void 0,H=void 0;if(!i[j]){w=o.body||o.documentElement;H=o.createElement(j);b.prepend(H,w);var K=b.css(H,"display");w.removeChild(H);if(K==="none"||K===""){if(k)b.prepend(k,w);else{k=o.createElement("iframe");k.frameBorder=k.width=k.height=0;b.prepend(k,w);H=void 0;if(H=b._genEmptyIframeSrc())k.src=H}if(!u||!k.createElement)try{u=
k.contentWindow.document;u.write((o.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(s.ie&&b._isCustomDomain()?"<script>document.domain = '"+o.domain+"';<\/script>":"")+"</head><body>");u.close()}catch(L){j="block";break a}H=u.createElement(j);u.body.appendChild(H);K=b.css(H,"display");w.removeChild(k)}i[j]=K}j=i[j]}b.data(a,v,j);a[r].display=j}}},hide:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=0;g--){a=c[g];var j=a[r],w=j.display;if(w!=="none"){w&&b.data(a,v,w);j.display=
"none"}}},toggle:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=0;g--){a=c[g];b.css(a,"display")==="none"?b.show(a):b.hide(a)}},addStyleSheet:function(c,a,g){c=c||D;if(q.isString(c)){g=a;a=c;c=D}c=b.get(c);c=b._getWin(c).document;var j;if(g&&(g=g.replace("#",n)))j=b.get("#"+g,c);if(!j){j=b.create("<style>",{id:g},c);b.get("head",c).appendChild(j);if(j.styleSheet)j.styleSheet.cssText=a;else j.appendChild(c.createTextNode(a))}},unselectable:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=
0;g--){a=c[g];if(s.gecko)a[r].MozUserSelect="none";else if(s.webkit)a[r].KhtmlUserSelect="none";else if(s.ie||s.opera){var j=0,w=a.getElementsByTagName("*");for(a.setAttribute("unselectable","on");a=w[j++];)switch(a.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:a.setAttribute("unselectable","on")}}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});q.each([p,"height"],function(c){b["inner"+(c.charAt(0).toUpperCase()+c.substring(1))]=
function(a){return(a=b.get(a))&&x(a,c,"padding")};b["outer"+(c.charAt(0).toUpperCase()+c.substring(1))]=function(a,g){var j=b.get(a);return j?x(j,c,g?"margin":"border"):null};b[c]=function(a,g){var j=b.css(a,c,g);if(j)j=parseFloat(j);return j}});var f={position:"absolute",visibility:"hidden",display:"block"};q.each(["height","width"],function(c){h[c]={get:function(a,g){var j;if(g){if(a.offsetWidth!==0)j=x(a,c);else G(a,f,function(){j=x(a,c)});return j+"px"}},set:function(a,g){if(y.test(g)){g=parseFloat(g);
if(g>=0)return g+"px"}else return g}}});q.each(["left","top"],function(c){h[c]={get:function(a,g){if(g){var j=b._getComputedStyle(a,c);if(j==="auto"){j=0;if(q.inArray(b.css(a,"position"),["absolute","fixed"])){j=a[c==="left"?"offsetLeft":"offsetTop"];if(l&&o.documentMode!=9||s.opera)j-=a.offsetParent&&a.offsetParent["client"+(c=="left"?"Left":"Top")]||0;j=j-(m(b.css(a,"margin-"+c))||0)}j+="px"}return j}}}});return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(q,b,s){function A(o,t,l,r,p,v){if(!(o=b.get(o)))return null;if(t===0)return o;v||(o=o[l]);if(!o)return null;p=p&&b.get(p)||null;if(t===s)t=1;v=[];var m=q.isArray(t),y,z;if(q.isNumber(t)){y=0;z=t;t=function(){return++y===z}}for(;o&&o!=p;){if(C(o)&&E(o,t)&&(!r||r(o))){v.push(o);if(!m)break}o=o[l]}return m?v:v[0]||null}function E(o,t){if(!t)return true;if(q.isArray(t))for(var l=0;l<t.length;l++){if(b.test(o,t[l]))return true}else if(b.test(o,t))return true;return false}
function G(o,t,l,r){var p=[];var v=o=b.get(o);if(o&&l)v=o.parentNode;if(v){p=q.makeArray(v.childNodes);r||(p=b.filter(p,function(m){return m.nodeType==1}));if(t)p=b.filter(p,t)}return p}var C=b._isElementNode,x=q.Env.host.document,D=x.documentElement.contains?function(o,t){if(o.nodeType==b.TEXT_NODE)return false;var l;if(t.nodeType==b.TEXT_NODE){t=t.parentNode;l=true}else if(t.nodeType==b.DOCUMENT_NODE)return false;else l=o!==t;return l&&(o.contains?o.contains(t):true)}:x.documentElement.compareDocumentPosition?
function(o,t){return!!(o.compareDocumentPosition(t)&16)}:0;q.mix(b,{closest:function(o,t,l){return A(o,t,"parentNode",function(r){return r.nodeType!=b.DOCUMENT_FRAGMENT_NODE},l,true)},parent:function(o,t,l){return A(o,t,"parentNode",function(r){return r.nodeType!=b.DOCUMENT_FRAGMENT_NODE},l)},first:function(o,t){var l=b.get(o);return A(l&&l.firstChild,t,"nextSibling",s,s,true)},last:function(o,t){var l=b.get(o);return A(l&&l.lastChild,t,"previousSibling",s,s,true)},next:function(o,t){return A(o,t,
"nextSibling",s)},prev:function(o,t){return A(o,t,"previousSibling",s)},siblings:function(o,t){return G(o,t,true)},children:function(o,t){return G(o,t,s)},contents:function(o,t){return G(o,t,s,1)},contains:function(o,t){o=b.get(o);t=b.get(t);if(o&&t)return D(o,t);return false},equals:function(o,t){o=b.query(o);t=b.query(t);if(o.length!=t.length)return false;for(var l=o.length;l>=0;l--)if(o[l]!=t[l])return false;return true}});return b},{requires:["./base"]});
