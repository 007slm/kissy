/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Mar 23 14:13
*/
KISSY.add("dom/attr",function(q,b,x,y){function E(n,e){e=z[e]||e;var h=F[e];return h&&h.get?h.get(n,e):n[e]}x=q.Env.host.document.documentElement;var G=!x.hasAttribute,C=x.textContent===y?"innerText":"textContent",v=b._nodeName,D=b._isElementNode,o=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,r=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,p=/:|^on/,m=/\r/g,w={},t={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},B={tabindex:{get:function(n){var e=n.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):r.test(n.nodeName)||l.test(n.nodeName)&&n.href?0:y}},style:{get:function(n){return n.style.cssText},set:function(n,e){n.style.cssText=e}}},z={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A={get:function(n,e){return b.prop(n,e)?e.toLowerCase():y},set:function(n,e,h){if(e===false)b.removeAttr(n,h);else{e=z[h]||h;if(e in n)n[e]=true;n.setAttribute(h,h.toLowerCase())}return h}},F={},I={},J={option:{get:function(n){var e=n.attributes.value;return!e||e.specified?n.value:n.text}},select:{get:function(n){var e=n.selectedIndex,h=n.options;n=n.type==="select-one";if(e<0)return null;else if(n)return b.val(h[e]);e=[];
n=0;for(var d=h.length;n<d;++n)h[n].selected&&e.push(b.val(h[n]));return e},set:function(n,e){var h=q.makeArray(e);q.each(n.options,function(d){d.selected=q.inArray(b.val(d),h)});if(!h.length)n.selectedIndex=-1;return h}}};if(G){I={get:function(n,e){var h;return(h=n.getAttributeNode(e))&&(h.specified||h.nodeValue)?h.nodeValue:y},set:function(n,e,h){var d=n.getAttributeNode(h);if(d)d.nodeValue=e;else try{var i=n.ownerDocument.createAttribute(h);i.value=e;n.setAttributeNode(i)}catch(k){return n.setAttribute(h,
e,0)}}};w=z;B.tabIndex=B.tabindex;q.each(["href","src","width","height","colSpan","rowSpan"],function(n){B[n]={get:function(e){e=e.getAttribute(n,2);return e===null?y:e}}});J.button=B.value=I}q.each(["radio","checkbox"],function(n){J[n]={get:function(e){return e.getAttribute("value")===null?"on":e.value},set:function(e,h){if(q.isArray(h))return e.checked=q.inArray(b.val(e),h)}}});q.mix(b,{prop:function(n,e,h){n=b.query(n);if(q.isPlainObject(e)){for(var d in e)b.prop(n,d,e[d]);return y}e=z[e]||e;d=
F[e];if(h!==y)for(var i=n.length-1;i>=0;i--){var k=n[i];if(d&&d.set)d.set(k,h,e);else k[e]=h}else if(n.length)return E(n[0],e)},hasProp:function(n,e){for(var h=b.query(n),d=0;d<h.length;d++)if(E(h[d],e)!==y)return true;return false},removeProp:function(n,e){e=z[e]||e;for(var h=b.query(n),d=h.length-1;d>=0;d--){var i=h[d];try{i[e]=y;delete i[e]}catch(k){}}},attr:function(n,e,h,d){var i=b.query(n);if(q.isPlainObject(e)){d=h;for(var k in e)e.hasOwnProperty(k)&&b.attr(i,k,e[k],d);return y}if(!(e=q.trim(e)))return y;
if(d&&t[e])return b[e](n,h);e=e.toLowerCase();if(d&&t[e])return b[e](n,h);e=w[e]||e;d=i[0];n=o.test(e)?A:p.test(e)?I:B[e];if(h===y){if(d&&d.nodeType===b.ELEMENT_NODE){if(v(d,"form"))n=I;if(n&&n.get)return n.get(d,e);e=d.getAttribute(e);return e===null?y:e}}else for(k=i.length-1;k>=0;k--)if((d=i[k])&&d.nodeType===b.ELEMENT_NODE){if(v(d,"form"))n=I;n&&n.set?n.set(d,h,e):d.setAttribute(e,""+h)}},removeAttr:function(n,e){e=e.toLowerCase();e=w[e]||e;var h=b.query(n),d,i;for(i=h.length-1;i>=0;i--){d=h[i];
if(D(d)){var k;d.removeAttribute(e);if(o.test(e)&&(k=z[e]||e)in d)d[k]=false}}},hasAttr:G?function(n,e){e=e.toLowerCase();for(var h=b.query(n),d=0;d<h.length;d++){var i=h[d].getAttributeNode(e);if(i&&i.specified)return true}return false}:function(n,e){for(var h=b.query(n),d=0;d<h.length;d++)if(h[d].hasAttribute(e))return true;return false},val:function(n,e){var h,d;if(e===y){var i=b.get(n);if(i){if((h=J[i.nodeName.toLowerCase()]||J[i.type])&&"get"in h&&(d=h.get(i,"value"))!==y)return d;d=i.value;
return typeof d==="string"?d.replace(m,""):d==null?"":d}return y}d=b.query(n);var k;for(k=d.length-1;k>=0;k--){i=d[k];if(i.nodeType!==1)return y;var s=e;if(s==null)s="";else if(typeof s==="number")s+="";else if(q.isArray(s))s=q.map(s,function(f){return f==null?"":f+""});h=J[i.nodeName.toLowerCase()]||J[i.type];if(!h||!("set"in h)||h.set(i,s,"value")===y)i.value=s}},text:function(n,e){if(e===y){var h=b.get(n);if(D(h))return h[C]||"";else if(b._nodeTypeIs(h,b.TEXT_NODE))return h.nodeValue;return y}else{var d=
b.query(n),i;for(i=d.length-1;i>=0;i--){h=d[i];if(D(h))h[C]=e;else if(b._nodeTypeIs(h,b.TEXT_NODE))h.nodeValue=e}}}});return b},{requires:["./base","ua"]});
KISSY.add("dom/base",function(q,b,x){function y(v,D){return v&&v.nodeType===D}var E=q.Env.host,G={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},C={_isCustomDomain:function(v){v=v||E;var D=v.document.domain;v=v.location.hostname;return D!=v&&D!="["+v+"]"},_genEmptyIframeSrc:function(v){v=v||E;if(b.ie&&C._isCustomDomain(v))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+v.document.domain+"';document.close();")+"}())"},_NODE_TYPE:G,_isElementNode:function(v){return y(v,C.ELEMENT_NODE)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:y(v,C.DOCUMENT_NODE)?v.defaultView||v.parentWindow:v===x||v===null?E:false},_nodeTypeIs:y,_isNodeList:function(v){return v&&!v.nodeType&&v.item&&!v.setTimeout},_nodeName:function(v,D){return v&&v.nodeName.toLowerCase()===D.toLowerCase()}};q.mix(C,G);return C},{requires:["ua"]});
KISSY.add("dom/class",function(q,b,x){function y(C,v,D,o){if(!(v=q.trim(v)))return o?false:x;C=b.query(C);var r=C.length,l=v.split(E);v=[];for(var p=0;p<l.length;p++){var m=q.trim(l[p]);m&&v.push(m)}for(p=0;p<r;p++){l=C[p];if(b._isElementNode(l)){l=D(l,v,v.length);if(l!==x)return l}}if(o)return false;return x}var E=/[\.\s]\s*\.?/,G=/[\n\t]/g;q.mix(b,{hasClass:function(C,v){return y(C,v,function(D,o,r){if(D=D.className){D=(" "+D+" ").replace(G," ");for(var l=0,p=true;l<r;l++)if(D.indexOf(" "+o[l]+
" ")<0){p=false;break}if(p)return true}},true)},addClass:function(C,v){y(C,v,function(D,o,r){var l=D.className;if(l){var p=(" "+l+" ").replace(G," ");l=l;for(var m=0;m<r;m++)if(p.indexOf(" "+o[m]+" ")<0)l+=" "+o[m];D.className=q.trim(l)}else D.className=v},x)},removeClass:function(C,v){y(C,v,function(D,o,r){var l=D.className;if(l)if(r){l=(" "+l+" ").replace(G," ");for(var p=0,m;p<r;p++)for(m=" "+o[p]+" ";l.indexOf(m)>=0;)l=l.replace(m," ");D.className=q.trim(l)}else D.className=""},x)},replaceClass:function(C,
v,D){b.removeClass(C,v);b.addClass(C,D)},toggleClass:function(C,v,D){var o=q.isBoolean(D),r;y(C,v,function(l,p,m){for(var w=0,t;w<m;w++){t=p[w];r=o?!D:b.hasClass(l,t);b[r?"removeClass":"addClass"](l,t)}},x)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(q,b,x,y){function E(d){var i=q.require("event");i&&i.detach(d);b.removeData(d)}function G(d,i,k){if(r(i,b.DOCUMENT_FRAGMENT_NODE)){i=i.childNodes;k=k.childNodes;for(var s=0;i[s];){k[s]&&G(d,i[s],k[s]);s++}}else if(l(i)){i=i.getElementsByTagName("*");k=k.getElementsByTagName("*");for(s=0;i[s];){k[s]&&d(i[s],k[s]);s++}}}function C(d,i){var k=q.require("event");if(!(l(i)&&!b.hasData(d))){var s=b.data(d),f;for(f in s)b.data(i,f,s[f]);if(k){k._removeData(i);k._clone(d,i)}}}
function v(d,i){i.clearAttributes&&i.clearAttributes();i.mergeAttributes&&i.mergeAttributes(d);var k=i.nodeName.toLowerCase(),s=d.childNodes;if(k==="object"&&!i.childNodes.length)for(k=0;k<s.length;k++)i.appendChild(s[k].cloneNode(true));else if(k==="input"&&(d.type==="checkbox"||d.type==="radio")){if(d.checked)i.defaultChecked=i.checked=d.checked;if(i.value!==d.value)i.value=d.value}else if(k==="option")i.selected=d.defaultSelected;else if(k==="input"||k==="textarea")i.defaultValue=d.defaultValue;
i.removeAttribute(b.__EXPANDO)}function D(d,i){var k=null,s,f;if(d&&(d.push||d.item)&&d[0]){i=i||d[0].ownerDocument;k=i.createDocumentFragment();d=q.makeArray(d);s=0;for(f=d.length;s<f;s++)k.appendChild(d[s])}return k}var o=q.Env.host.document;x=x.ie;var r=b._nodeTypeIs,l=b._isElementNode,p=q.isString,m=o.createElement("div"),w=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,B=/<tbody/i,z=/^\s+/,A=x&&x<9,F=/<|&#?\w+;/,I=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;q.mix(b,
{create:function(d,i,k,s){var f=null;if(!d)return f;if(d.nodeType)return b.clone(d);if(!p(d))return f;if(s===y)s=true;if(s)d=q.trim(d);s=b._creators;var c,a;k=k||o;var g,j="div";if(F.test(d))if(g=I.exec(d))f=k.createElement(g[1]);else{d=d.replace(w,"<$1></$2>");if((g=t.exec(d))&&(c=g[1]))j=c.toLowerCase();c=(s[j]||s.div)(d,k);if(A&&(a=d.match(z)))c.insertBefore(k.createTextNode(a[0]),c.firstChild);d=c.childNodes;if(d.length===1)f=d[0].parentNode.removeChild(d[0]);else if(d.length)f=D(d,k)}else f=
k.createTextNode(d);f=f;if(q.isPlainObject(i))if(l(f))b.attr(f,i,true);else r(f,b.DOCUMENT_FRAGMENT_NODE)&&b.attr(f.childNodes,i,true);return f},_creators:{div:function(d,i){var k=i&&i!=o?i.createElement("div"):m;k.innerHTML="m<div>"+d+"</div>";return k.lastChild}},html:function(d,i,k,s){d=b.query(d);var f=d[0];if(f)if(i===y)return l(f)?f.innerHTML:null;else{var c=false,a,g;i+="";if(!i.match(/<(?:script|style|link)/i)&&(!A||!i.match(z))&&!e[(i.match(t)||["",""])[1].toLowerCase()])try{for(a=d.length-
1;a>=0;a--){g=d[a];if(l(g)){E(g.getElementsByTagName("*"));g.innerHTML=i}}c=true}catch(j){}if(!c){i=b.create(i,0,f.ownerDocument,0);for(a=d.length-1;a>=0;a--){g=d[a];if(l(g)){b.empty(g);b.append(i,g,k)}}}s&&s()}},remove:function(d,i){var k,s=b.query(d),f;for(f=s.length-1;f>=0;f--){k=s[f];if(!i&&l(k)){var c=k.getElementsByTagName("*");E(c);E(k)}k.parentNode&&k.parentNode.removeChild(k)}},clone:function(d,i,k,s){d=b.get(d);if(!d)return null;var f=d.cloneNode(i);if(l(d)||r(d,b.DOCUMENT_FRAGMENT_NODE)){l(d)&&
v(d,f);i&&G(v,d,f)}if(k){C(d,f);i&&s&&G(C,d,f)}return f},empty:function(d){d=b.query(d);var i,k;for(k=d.length-1;k>=0;k--){i=d[k];b.remove(i.childNodes)}},_nl2frag:D});var J=b._creators,n=b.create,e={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},h;for(h in e)(function(d){J[h]=function(i,k){return n("<"+d+">"+i+"</"+d+">",null,k)}})(e[h]);if(x<8)J.table=function(d,
i){var k=J.div(d,i);if(B.test(d))return k;var s=k.firstChild,f=q.makeArray(s.childNodes);q.each(f,function(c){b._nodeName(c,"tbody")&&!c.childNodes.length&&s.removeChild(c)});return k};return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(q,b,x){var y=q.Env.host,E="_ks_data_"+q.now(),G={},C={},v={};v.applet=1;v.object=1;v.embed=1;var D={hasData:function(l,p){if(l)if(p!==x){if(p in l)return true}else if(!q.isEmptyObject(l))return true;return false}},o={hasData:function(l,p){if(l==y)return o.hasData(C,p);return D.hasData(l[E],p)},data:function(l,p,m){if(l==y)return o.data(C,p,m);var w=l[E];if(m!==x){w=l[E]=l[E]||{};w[p]=m}else if(p!==x)return w&&w[p];else return w=l[E]=l[E]||{}},removeData:function(l,p){if(l==
y)return o.removeData(C,p);var m=l[E];if(p!==x){delete m[p];q.isEmptyObject(m)&&o.removeData(l)}else try{delete l[E]}catch(w){l[E]=x}}},r={hasData:function(l,p){var m=l[E];if(!m)return false;return D.hasData(G[m],p)},data:function(l,p,m){if(v[l.nodeName.toLowerCase()])return x;var w=l[E];if(!w){if(p!==x&&m===x)return x;w=l[E]=q.guid()}l=G[w];if(m!==x){l=G[w]=G[w]||{};l[p]=m}else if(p!==x)return l&&l[p];else return l=G[w]=G[w]||{}},removeData:function(l,p){var m=l[E],w;if(m){w=G[m];if(p!==x){delete w[p];
q.isEmptyObject(w)&&r.removeData(l)}else{delete G[m];try{delete l[E]}catch(t){l[E]=x}l.removeAttribute&&l.removeAttribute(E)}}}};q.mix(b,{__EXPANDO:E,hasData:function(l,p){for(var m=false,w=b.query(l),t=0;t<w.length;t++){m=w[t];if(m=m.nodeType?r.hasData(m,p):o.hasData(m,p))break}return m},data:function(l,p,m){l=b.query(l);var w=l[0];if(q.isPlainObject(p)){for(var t in p)b.data(l,t,p[t]);return x}if(m===x){if(w)return w.nodeType?r.data(w,p,m):o.data(w,p,m)}else for(t=l.length-1;t>=0;t--){w=l[t];w.nodeType?
r.data(w,p,m):o.data(w,p,m)}return x},removeData:function(l,p){var m=b.query(l),w,t;for(t=m.length-1;t>=0;t--){w=m[t];w.nodeType?r.removeData(w,p):o.removeData(w,p)}}});return b},{requires:["./base"]});KISSY.add("dom",function(q,b){q.mix(q,{DOM:b,get:b.get,query:b.query});return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("dom/insertion",function(q,b,x){function y(t){for(var B=0;B<t.length;B++){var z=t[B];if(z.nodeType==x.DOCUMENT_FRAGMENT_NODE)y(z.childNodes);else if(D(z,"input")){if(z.type==="checkbox"||z.type==="radio")z.defaultChecked=z.checked}else if(l(z)){z=z.getElementsByTagName("input");for(var A=0;A<z.length;A++)y(z[A])}}}function E(t,B){var z=[],A,F,I;for(A=0;t[A];A++){F=t[A];I=F.nodeName.toLowerCase();if(F.nodeType==x.DOCUMENT_FRAGMENT_NODE)z.push.apply(z,E(o(F.childNodes),B));else if(I==="script"&&
(!F.type||p.test(F.type))){F.parentNode&&F.parentNode.removeChild(F);B&&B.push(F)}else{if(l(F)&&!v.test(I)){I=[];var J,n,e=F.getElementsByTagName("script");for(n=0;n<e.length;n++){J=e[n];(!J.type||p.test(J.type))&&I.push(J)}r.apply(t,[A+1,0].concat(I))}z.push(F)}}return z}function G(t){if(t.src)q.getScript(t.src);else(t=q.trim(t.text||t.textContent||t.innerHTML||""))&&q.globalEval(t)}function C(t,B,z,A){t=x.query(t);if(A)A=[];t=E(t,A);b.ie<8&&y(t);B=x.query(B);var F=t.length,I=B.length;if(!(!F&&(!A||
!A.length)||!I)){t=x._nl2frag(t);var J;if(I>1){J=x.clone(t,true);B=q.makeArray(B)}for(var n=0;n<I;n++){var e=B[n];if(F){var h=n>0?x.clone(J,true):t;z(h,e)}A&&A.length&&q.each(A,G)}}}var v=/^(?:button|input|object|select|textarea)$/i,D=x._nodeName,o=q.makeArray,r=[].splice,l=x._isElementNode,p=/\/(java|ecma)script/i;q.mix(x,{insertBefore:function(t,B,z){C(t,B,function(A,F){F.parentNode&&F.parentNode.insertBefore(A,F)},z)},insertAfter:function(t,B,z){C(t,B,function(A,F){F.parentNode&&F.parentNode.insertBefore(A,
F.nextSibling)},z)},appendTo:function(t,B,z){C(t,B,function(A,F){F.appendChild(A)},z)},prependTo:function(t,B,z){C(t,B,function(A,F){F.insertBefore(A,F.firstChild)},z)}});var m={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},w;for(w in m)x[w]=x[m[w]];return x},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(q,b,x,y){function E(e){var h,d=0;h=0;var i=v.body,k=p(e[B]);if(e[n]){h=e[n]();d=h[z];h=h[A];e=D&&v.documentMode!=9&&(m?o.clientTop:i.clientTop)||0;d-=D&&v.documentMode!=9&&(m?o.clientLeft:i.clientLeft)||0;h-=e;if(x.mobile=="apple"){d-=b[I](k);h-=b[J](k)}}return{left:d,top:h}}function G(e,h){var d={left:0,top:0},i=p(e[B]),k=e;h=h||i;do{var s;if(i==h){var f=k;s=E(f);f=p(f[B]);s.left+=b[I](f);s.top+=b[J](f);s=s}else s=E(k);s=s;d.left+=s.left;d.top+=s.top}while(i&&i!=h&&
(k=i.frameElement)&&(i=i.parent));return d}var C=q.Env.host,v=C.document,D=x.ie,o=v.documentElement,r=b._isElementNode,l=b._nodeTypeIs,p=b._getWin,m=v.compatMode==="CSS1Compat",w=Math.max,t=parseInt,B="ownerDocument",z="left",A="top",F=q.isNumber,I="scrollLeft",J="scrollTop",n="getBoundingClientRect";q.mix(b,{offset:function(e,h,d){if(h===y){e=b.get(e);var i;if(e)i=G(e,d);return i}d=b.query(e);for(i=d.length-1;i>=0;i--){e=e=d[i];var k=h;if(b.css(e,"position")==="static")e.style.position="relative";
var s=G(e),f={},c=void 0,a=void 0;for(a in k){c=t(b.css(e,a),10)||0;f[a]=c+k[a]-s[a]}b.css(e,f)}return y},scrollIntoView:function(e,h,d,i,k){var s;if(s=b.get(e)){if(h)h=b.get(h);if(!h)h=s.ownerDocument;if(k!==true){i=i===y?true:!!i;d=d===y?true:!!d}if(l(h,b.DOCUMENT_NODE))h=p(h);var f=!!p(h);k=b.offset(s);e=b.outerHeight(s);s=b.outerWidth(s);var c,a,g,j;if(f){f=h;a=b.height(f);c=b.width(f);j={left:b.scrollLeft(f),top:b.scrollTop(f)};f={left:k[z]-j[z],top:k[A]-j[A]};k={left:k[z]+s-(j[z]+c),top:k[A]+
e-(j[A]+a)};j=j}else{c=b.offset(h);a=h.clientHeight;g=h.clientWidth;j={left:b.scrollLeft(h),top:b.scrollTop(h)};f={left:k[z]-c[z]-(t(b.css(h,"borderLeftWidth"))||0),top:k[A]-c[A]-(t(b.css(h,"borderTopWidth"))||0)};k={left:k[z]+s-(c[z]+g+(t(b.css(h,"borderRightWidth"))||0)),top:k[A]+e-(c[A]+a+(t(b.css(h,"borderBottomWidth"))||0))}}if(f.top<0||k.top>0)if(d===true)b.scrollTop(h,j.top+f.top);else if(d===false)b.scrollTop(h,j.top+k.top);else f.top<0?b.scrollTop(h,j.top+f.top):b.scrollTop(h,j.top+k.top);
if(i)if(f.left<0||k.left>0)if(d===true)b.scrollLeft(h,j.left+f.left);else if(d===false)b.scrollLeft(h,j.left+k.left);else f.left<0?b.scrollLeft(h,j.left+f.left):b.scrollLeft(h,j.left+k.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});q.each(["Left","Top"],function(e,h){var d="scroll"+e;b[d]=function(i,k){if(F(i))return arguments.callee(C,i);i=b.get(i);var s,f=p(i);if(f)if(k!==y){k=parseFloat(k);var c=e=="Left"?k:b.scrollLeft(f),a=e=="Top"?k:b.scrollTop(f);
f.scrollTo(c,a)}else{s=f["page"+(h?"Y":"X")+"Offset"];if(!F(s)){f=f.document;s=f.documentElement[d];F(s)||(s=f.body[d])}}else if(r(i))if(k!==y)i[d]=parseFloat(k);else s=i[d];return s}});q.each(["Width","Height"],function(e){b["doc"+e]=function(h){h=b.get(h);h=p(h).document;return w(h.documentElement["scroll"+e],h.body["scroll"+e],b["viewport"+e](h))};b["viewport"+e]=function(h){h=b.get(h);var d="client"+e;h=p(h).document;var i=h.body,k=h.documentElement[d];return h.compatMode==="CSS1Compat"&&k||i&&
i[d]||k}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(q,b,x){function y(f){var c,a;for(a=0;a<this.length;a++){c=this[a];if(f(c,a)===false)break}}function E(f,c){var a,g,j=B(f),u=c===x&&(g=1)?[m]:E(c,x);if(f)if(j){f=e(f);if(u.length==1&&f)a=C(f,u[0])}else{if(g)if(f.nodeType||f.setTimeout)a=[f];else if(f.getDOMNodes)return f;else a=t(f)?f:A(f)?q.makeArray(f):[f]}else a=[];if(!a){a=[];if(f){for(g=0;g<u.length;g++)I.apply(a,G(f,u[g]));if(a.length>1&&(u.length>1||j&&f.indexOf(n)>-1))k(a)}}a.each=y;return a}function G(f,c){var a=
[];if((a=B(f))&&f.match(i)||!a)a=v(f,c);else{if(a&&f.indexOf(n)>-1){a=[];var g,j=f.split(/\s*,\s*/);for(g=0;g<j.length;g++)I.apply(a,G(j[g],c));a=a}else{a=[];(g=q.require("sizzle"))&&g(f,c,a);a=a}a=a}return a=a}function C(f,c){var a,g,j,u;if(d.test(f))a=(g=o(f.slice(1),c))?[g]:[];else if(j=i.exec(f)){g=j[1];u=j[2];j=j[3];if(c=g?o(g,c):c)if(j)if(!g||f.indexOf(J)!=-1)a=[].concat(s(j,u,c));else{if((g=o(g,c))&&l(g,j))a=[g]}else if(u)a=r(u,c);a=a||[]}return a}function v(f,c){var a;if(B(f))a=C(f,c)||[];
else if(t(f)||A(f))a=w(f,function(g){return D(g,c)});else if(D(f,c))a=[f];return a}function D(f,c){if(!f)return false;if(c==m)return true;return b.contains(c,f)}function o(f,c){var a=c;if(c.nodeType!==b.DOCUMENT_NODE)a=c.ownerDocument;a=a.getElementById(f);if(!(a&&a.id===f))if(a&&a.parentNode)if(p(a,f))D(a,c)||(a=null);else a=b.filter(h,"#"+f,c)[0]||null;else a=null;return a}function r(f,c){return c&&z(c.getElementsByTagName(f))||[]}function l(f,c){var a;return(a=f.className)&&(" "+a+" ").indexOf(" "+
c+" ")!==-1}function p(f,c){var a=f.getAttributeNode("id");return a&&a.nodeValue===c}var m=q.Env.host.document,w=q.filter,t=q.isArray,B=q.isString,z=q.makeArray,A=b._isNodeList,F=b._nodeName,I=Array.prototype.push,J=" ",n=",",e=q.trim,h="*",d=/^#[\w-]+$/,i=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,k=q.noop;(function(){var f,c,a=true;[0,0].sort(function(){a=false;return 0});k=function(g){if(f){c=a;g.sort(f);if(c)for(var j=1,u=g.length;j<u;)if(g[j]===g[j-1])g.splice(j,1);else j++}return g};f=m.documentElement.compareDocumentPosition?
function(g,j){if(g==j){c=true;return 0}if(!g.compareDocumentPosition||!j.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(j)&4?-1:1}:function(g,j){if(g==j){c=true;return 0}else if(g.sourceIndex&&j.sourceIndex)return g.sourceIndex-j.sourceIndex}})();(function(){var f=m.createElement("div");f.appendChild(m.createComment(""));if(f.getElementsByTagName(h).length>0)r=function(c,a){var g=z(a.getElementsByTagName(c));if(c===h){for(var j=[],u=0,H;H=g[u++];)H.nodeType===
1&&j.push(H);g=j}return g}})();var s=m.getElementsByClassName?function(f,c,a){if(!a)return[];f=a.getElementsByClassName(f);var g=0,j=f.length,u;if(c&&c!==h)for(a=[];g<j;++g){u=f[g];F(u,c)&&a.push(u)}else a=z(f);return a}:m.querySelectorAll?function(f,c,a){return a&&z(a.querySelectorAll((c?c:"")+"."+f))||[]}:function(f,c,a){if(!a)return[];c=a.getElementsByTagName(c||h);a=[];for(var g=0,j=c.length,u;g<j;++g){u=c[g];l(u,f)&&a.push(u)}return a};q.mix(b,{query:E,get:function(f,c){return E(f,c)[0]||null},
unique:k,filter:function(f,c,a){f=E(f,a);a=q.require("sizzle");var g,j,u,H,K=[];if(B(c)&&(c=e(c))&&(g=i.exec(c))){u=g[1];j=g[2];H=g[3];if(u){if(u&&!j&&!H)c=function(L){return p(L,u)}}else c=function(L){var M=true,N=true;if(j)M=F(L,j);if(H)N=l(L,H);return N&&M}}if(q.isFunction(c))K=q.filter(f,c);else if(c&&a)K=a.matches(c,f);return K},test:function(f,c,a){f=E(f,a);return f.length&&b.filter(f,c,a).length===f.length}});return b},{requires:["./base"]});
KISSY.add("dom/style-ie",function(q,b,x,y){if(!x.ie)return b;var E=q.Env.host.document,G=E.documentElement,C=y._CUSTOM_STYLES,v=/^-?\d+(?:px)?$/i,D=/^-?\d/,o=/opacity=([^)]*)/,r=/alpha\([^)]*\)/i;C.backgroundPosition={get:function(m,w){return w?m.currentStyle.backgroundPositionX+" "+m.currentStyle.backgroundPositionY:m.style.backgroundPosition}};try{if(G.style.opacity==null)C.opacity={get:function(m,w){return o.test((w&&m.currentStyle?m.currentStyle.filter:m.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":w?"1":""},set:function(m,w){w=parseFloat(w);var t=m.style,B=m.currentStyle,z=isNaN(w)?"":"alpha(opacity="+w*100+")",A=q.trim(B&&B.filter||t.filter||"");t.zoom=1;if(w>=1&&q.trim(A.replace(r,""))===""){t.removeAttribute("filter");if(B&&!B.filter)return}t.filter=r.test(A)?A.replace(r,z):A+(A?", ":"")+z}}}catch(l){}x=x.ie==8;var p={};p.thin=x?"1px":"2px";p.medium=x?"3px":"4px";p.thick=x?"5px":"6px";q.each(["","Top","Left","Right","Bottom"],function(m){var w="border"+m+"Width",t="border"+m+"Style";
C[w]={get:function(B,z){var A=z?B.currentStyle:0,F=A&&String(A[w])||undefined;if(F&&F.indexOf("px")<0)F=p[F]&&A[t]!=="none"?p[F]:0;return F}}});if(!(E.defaultView||{}).getComputedStyle&&G.currentStyle)b._getComputedStyle=function(m,w){w=b._cssProps[w]||w;var t=m.currentStyle&&m.currentStyle[w];if(!v.test(t)&&D.test(t)){var B=m.style,z=B.left,A=m.runtimeStyle&&m.runtimeStyle.left;if(A)m.runtimeStyle.left=m.currentStyle.left;B.left=w==="fontSize"?"1em":t||0;t=B.pixelLeft+"px";B.left=z;if(A)m.runtimeStyle.left=
A}return t===""?"auto":t};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(q,b,x,y){function E(c){return c.replace(A,"ms-").replace(F,I)}function G(c,a,g){var j={},u;for(u in a){j[u]=c[p][u];c[p][u]=a[u]}g.call(c);for(u in a)c[p][u]=j[u]}function C(c,a,g){var j;if(c.nodeType===3||c.nodeType===8||!(j=c[p]))return y;a=E(a);var u,H=h[a];a=d[a]||a;if(g!==y){if(g===null||g===n)g=n;else if(!isNaN(Number(g))&&!z[a])g+=e;if(H&&H.set)g=H.set(c,g);if(g!==y){try{j[a]=g}catch(K){}g===n&&j.removeAttribute&&j.removeAttribute(a)}j.cssText||c.removeAttribute("style");
return y}else{if(!(H&&"get"in H&&(u=H.get(c,false))!==y))u=j[a];return u===y?"":u}}function v(c,a,g){if(q.isWindow(c))return a==m?b.viewportWidth(c):b.viewportHeight(c);else if(c.nodeType==9)return a==m?b.docWidth(c):b.docHeight(c);var j=a===m?["Left","Right"]:["Top","Bottom"],u=a===m?c.offsetWidth:c.offsetHeight;if(u>0){g!=="border"&&q.each(j,function(H){g||(u-=parseFloat(b.css(c,"padding"+H))||0);if(g==="margin")u+=parseFloat(b.css(c,g+H))||0;else u-=parseFloat(b.css(c,"border"+H+"Width"))||0});
return u}u=b._getComputedStyle(c,a);if(u==null||Number(u)<0)u=c.style[a]||0;u=parseFloat(u)||0;g&&q.each(j,function(H){u+=parseFloat(b.css(c,"padding"+H))||0;if(g!=="padding")u+=parseFloat(b.css(c,"border"+H+"Width"))||0;if(g==="margin")u+=parseFloat(b.css(c,g+H))||0});return u}var D=q.Env.host,o=D.document,r=o.documentElement,l=x.ie,p="style",m="width",w="display"+q.now(),t=parseInt,B=/^-?\d+(?:px)?$/i,z={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},A=/^-ms-/,
F=/-([a-z])/ig,I=function(c,a){return a.toUpperCase()},J=/([A-Z]|^ms)/g,n="",e="px",h={},d={},i={};if(r[p].cssFloat!==y)d["float"]="cssFloat";else if(r[p].styleFloat!==y)d["float"]="styleFloat";var k,s;q.mix(b,{_camelCase:E,_CUSTOM_STYLES:h,_cssProps:d,_getComputedStyle:function(c,a){var g="",j,u=c.ownerDocument;a=a.replace(J,"-$1").toLowerCase();if(j=u.defaultView.getComputedStyle(c,null))g=j.getPropertyValue(a)||j[a];if(g==""&&!b.contains(u.documentElement,c)){a=d[a]||a;g=c[p][a]}return g},style:function(c,
a,g){c=b.query(c);var j=c[0];if(q.isPlainObject(a)){for(var u in a)for(j=c.length-1;j>=0;j--)C(c[j],u,a[u]);return y}if(g===y){u="";if(j)u=C(j,a,g);return u}else for(j=c.length-1;j>=0;j--)C(c[j],a,g);return y},css:function(c,a,g){c=b.query(c);var j=c[0];if(q.isPlainObject(a)){for(var u in a)for(j=c.length-1;j>=0;j--)C(c[j],u,a[u]);return y}a=E(a);u=h[a];if(g===y){g="";if(j)if(!(u&&"get"in u&&(g=u.get(j,true))!==y))g=b._getComputedStyle(j,a);return g===y?"":g}else for(j=c.length-1;j>=0;j--)C(c[j],
a,g);return y},show:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=0;g--){a=c[g];a[p].display=b.data(a,w)||n;if(b.css(a,"display")==="none"){var j;a:{j=a.tagName.toLowerCase();var u=void 0,H=void 0;if(!i[j]){u=o.body||o.documentElement;H=o.createElement(j);b.prepend(H,u);var K=b.css(H,"display");u.removeChild(H);if(K==="none"||K===""){if(k)b.prepend(k,u);else{k=o.createElement("iframe");k.frameBorder=k.width=k.height=0;b.prepend(k,u);H=void 0;if(H=b._genEmptyIframeSrc())k.src=H}if(!s||!k.createElement)try{s=
k.contentWindow.document;s.write((o.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(x.ie&&b._isCustomDomain()?"<script>document.domain = '"+o.domain+"';<\/script>":"")+"</head><body>");s.close()}catch(L){j="block";break a}H=s.createElement(j);s.body.appendChild(H);K=b.css(H,"display");u.removeChild(k)}i[j]=K}j=i[j]}b.data(a,w,j);a[p].display=j}}},hide:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=0;g--){a=c[g];var j=a[p],u=j.display;if(u!=="none"){u&&b.data(a,w,u);j.display=
"none"}}},toggle:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=0;g--){a=c[g];b.css(a,"display")==="none"?b.show(a):b.hide(a)}},addStyleSheet:function(c,a,g){c=c||D;if(q.isString(c)){g=a;a=c;c=D}c=b.get(c);c=b._getWin(c).document;var j;if(g&&(g=g.replace("#",n)))j=b.get("#"+g,c);if(!j){j=b.create("<style>",{id:g},c);b.get("head",c).appendChild(j);if(j.styleSheet)j.styleSheet.cssText=a;else j.appendChild(c.createTextNode(a))}},unselectable:function(c){c=b.query(c);var a,g;for(g=c.length-1;g>=
0;g--){a=c[g];if(x.gecko)a[p].MozUserSelect="none";else if(x.webkit)a[p].KhtmlUserSelect="none";else if(x.ie||x.opera){var j=0,u=a.getElementsByTagName("*");for(a.setAttribute("unselectable","on");a=u[j++];)switch(a.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:a.setAttribute("unselectable","on")}}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});q.each([m,"height"],function(c){b["inner"+(c.charAt(0).toUpperCase()+c.substring(1))]=
function(a){return(a=b.get(a))&&v(a,c,"padding")};b["outer"+(c.charAt(0).toUpperCase()+c.substring(1))]=function(a,g){var j=b.get(a);return j?v(j,c,g?"margin":"border"):null};b[c]=function(a,g){var j=b.css(a,c,g);if(j)j=parseFloat(j);return j}});var f={position:"absolute",visibility:"hidden",display:"block"};q.each(["height","width"],function(c){h[c]={get:function(a,g){var j;if(g){if(a.offsetWidth!==0)j=v(a,c);else G(a,f,function(){j=v(a,c)});return j+"px"}},set:function(a,g){if(B.test(g)){g=parseFloat(g);
if(g>=0)return g+"px"}else return g}}});q.each(["left","top"],function(c){h[c]={get:function(a,g){if(g){var j=b._getComputedStyle(a,c);if(j==="auto"){j=0;if(q.inArray(b.css(a,"position"),["absolute","fixed"])){j=a[c==="left"?"offsetLeft":"offsetTop"];if(l&&o.documentMode!=9||x.opera)j-=a.offsetParent&&a.offsetParent["client"+(c=="left"?"Left":"Top")]||0;j=j-(t(b.css(a,"margin-"+c))||0)}j+="px"}return j}}}});return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(q,b,x){function y(o,r,l,p,m,w){if(!(o=b.get(o)))return null;if(r===0)return o;w||(o=o[l]);if(!o)return null;m=m&&b.get(m)||null;if(r===x)r=1;w=[];var t=q.isArray(r),B,z;if(q.isNumber(r)){B=0;z=r;r=function(){return++B===z}}for(;o&&o!=m;){if(C(o)&&E(o,r)&&(!p||p(o))){w.push(o);if(!t)break}o=o[l]}return t?w:w[0]||null}function E(o,r){if(!r)return true;if(q.isArray(r))for(var l=0;l<r.length;l++){if(b.test(o,r[l]))return true}else if(b.test(o,r))return true;return false}
function G(o,r,l){var p=[];var m=o=b.get(o);if(o&&l)m=o.parentNode;if(m){l=0;for(m=m.firstChild;m;m=m.nextSibling)if(C(m)&&m!==o&&(!r||b.test(m,r)))p[l++]=m}return p}var C=b._isElementNode,v=q.Env.host.document,D=v.documentElement.contains?function(o,r){if(o.nodeType==b.TEXT_NODE)return false;var l;if(r.nodeType==b.TEXT_NODE){r=r.parentNode;l=true}else if(r.nodeType==b.DOCUMENT_NODE)return false;else l=o!==r;return l&&(o.contains?o.contains(r):true)}:v.documentElement.compareDocumentPosition?function(o,
r){return!!(o.compareDocumentPosition(r)&16)}:0;q.mix(b,{closest:function(o,r,l){return y(o,r,"parentNode",function(p){return p.nodeType!=b.DOCUMENT_FRAGMENT_NODE},l,true)},parent:function(o,r,l){return y(o,r,"parentNode",function(p){return p.nodeType!=b.DOCUMENT_FRAGMENT_NODE},l)},first:function(o,r){var l=b.get(o);return y(l&&l.firstChild,r,"nextSibling",x,x,true)},last:function(o,r){var l=b.get(o);return y(l&&l.lastChild,r,"previousSibling",x,x,true)},next:function(o,r){return y(o,r,"nextSibling",
x)},prev:function(o,r){return y(o,r,"previousSibling",x)},siblings:function(o,r){return G(o,r,true)},children:function(o,r){return G(o,r,x)},contains:function(o,r){o=b.get(o);r=b.get(r);if(o&&r)return D(o,r);return false},equals:function(o,r){o=b.query(o);r=b.query(r);if(o.length!=r.length)return false;for(var l=o.length;l>=0;l--)if(o[l]!=r[l])return false;return true}});return b},{requires:["./base"]});
