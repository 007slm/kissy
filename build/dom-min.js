/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 2 18:05
*/
KISSY.add("dom/attr",function(p,b,u,r){function A(g,a){a=z[a]||a;var f=t[a];if(!g)return r;return f&&f.get?f.get(g,a):g[a]}u=document.documentElement;var C=!u.hasAttribute,w=u.textContent!==r?"textContent":"innerText",j=b._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,x=/^a(?:rea)?$/i,i=/:|^on/,o=/\r/g,n={},v={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},y={tabindex:{get:function(g){var a=g.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):q.test(g.nodeName)||x.test(g.nodeName)&&g.href?0:r}},style:{get:function(g){return g.style.cssText},set:function(g,a){g.style.cssText=a}}},z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
F={get:function(g,a){return b.prop(g,a)?a.toLowerCase():r},set:function(g,a,f){if(a===false)b.removeAttr(g,f);else{a=z[f]||f;if(a in g)g[a]=true;g.setAttribute(f,f.toLowerCase())}return f}},t={},l={},s={option:{get:function(g){var a=g.attributes.value;return!a||a.specified?g.value:g.text}},select:{get:function(g){var a=g.selectedIndex,f=g.options;g=g.type==="select-one";if(a<0)return null;else if(g)return b.val(f[a]);a=[];g=0;for(var h=f.length;g<h;++g)f[g].selected&&a.push(b.val(f[g]));return a},
set:function(g,a){var f=p.makeArray(a);p.each(g.options,function(h){h.selected=p.inArray(b.val(h),f)});if(!f.length)g.selectedIndex=-1;return f}}};if(C){l={get:function(g,a){var f;return(f=g.getAttributeNode(a))&&f.nodeValue!==""?f.nodeValue:r},set:function(g,a,f){if(g=g.getAttributeNode(f))g.nodeValue=a}};n=z;y.tabIndex=y.tabindex;p.each(["href","src","width","height","colSpan","rowSpan"],function(g){y[g]={get:function(a){a=a.getAttribute(g,2);return a===null?r:a}}});s.button=y.value=l}p.each(["radio",
"checkbox"],function(g){s[g]={get:function(a){return a.getAttribute("value")===null?"on":a.value},set:function(a,f){if(p.isArray(f))return a.checked=p.inArray(b.val(a),f)}}});p.mix(b,{prop:function(g,a,f){if(p.isPlainObject(a))for(var h in a)b.prop(g,h,a[h]);else{g=b.query(g);a=z[a]||a;var c=t[a];if(f!==r)p.each(g,function(e){if(c&&c.set)c.set(e,f,a);else e[a]=f});else if(g=g[0])return A(g,a)}},hasProp:function(g,a){return A(g,a)!==r},removeProp:function(g,a){a=z[a]||a;b.query(g).each(function(f){try{f[a]=
r;delete f[a]}catch(h){}})},attr:function(g,a,f,h){if(p.isPlainObject(a)){h=f;for(var c in a)b.attr(g,c,a[c],h)}else if(a=p.trim(a)){a=a.toLowerCase();if(h&&v[a])return b[a](g,f);a=n[a]||a;var e;e=k.test(a)?F:i.test(a)?l:y[a];if(f===r){g=b.get(g);if(j(g)){if(g.nodeName.toLowerCase()=="form")e=l;if(e&&e.get)return e.get(g,a);g=g.getAttribute(a);return g===null?r:g}}else p.each(b.query(g),function(d){if(j(d))e&&e.set?e.set(d,f,a):d.setAttribute(a,""+f)})}},removeAttr:function(g,a){a=a.toLowerCase();
a=n[a]||a;p.each(b.query(g),function(f){if(j(f)){var h;f.removeAttribute(a);if(k.test(a)&&(h=z[a]||a)in f)f[h]=false}})},hasAttr:C?function(g,a){a=a.toLowerCase();var f=b.get(g).getAttributeNode(a);return!!(f&&f.specified)}:function(g,a){a=a.toLowerCase();return b.get(g).hasAttribute(a)},val:function(g,a){var f,h;if(a===r){var c=b.get(g);if(c){if((f=s[c.nodeName.toLowerCase()]||s[c.type])&&"get"in f&&(h=f.get(c,"value"))!==r)return h;h=c.value;return typeof h==="string"?h.replace(o,""):h==null?"":
h}}else b.query(g).each(function(e){if(e.nodeType===1){var d=a;if(d==null)d="";else if(typeof d==="number")d+="";else if(p.isArray(d))d=p.map(d,function(m){return m==null?"":m+""});f=s[e.nodeName.toLowerCase()]||s[e.type];if(!f||!("set"in f)||f.set(e,d,"value")===r)e.value=d}})},text:function(g,a){if(a===r){var f=b.get(g);if(j(f))return f[w]||"";else if(b._nodeTypeIs(f,3))return f.nodeValue;return r}else p.each(b.query(g),function(h){if(j(h))h[w]=a;else if(b._nodeTypeIs(h,3))h.nodeValue=a})}});return b},
{requires:["./base","ua"]});KISSY.add("dom/base",function(p,b){function u(r,A){return r&&r.nodeType===A}return{_isElementNode:function(r){return u(r,1)},_getWin:function(r){return r&&"scrollTo"in r&&r.document?r:u(r,9)?r.defaultView||r.parentWindow:r==b?window:false},_nodeTypeIs:u,_isNodeList:function(r){return r&&!r.nodeType&&r.item&&!r.setTimeout}}});
KISSY.add("dom/class",function(p,b,u){function r(w,j,k,q){if(!(j=p.trim(j)))return q?false:u;w=b.query(w);var x=0,i=w.length,o=j.split(A);for(j=[];x<o.length;x++){var n=p.trim(o[x]);n&&j.push(n)}for(x=0;x<i;x++){o=w[x];if(b._isElementNode(o)){o=k(o,j,j.length);if(o!==u)return o}}if(q)return false;return u}var A=/[\.\s]\s*\.?/,C=/[\n\t]/g;p.mix(b,{hasClass:function(w,j){return r(w,j,function(k,q,x){if(k=k.className){k=(" "+k+" ").replace(C," ");for(var i=0,o=true;i<x;i++)if(k.indexOf(" "+q[i]+" ")<
0){o=false;break}if(o)return true}},true)},addClass:function(w,j){r(w,j,function(k,q,x){var i=k.className;if(i){var o=(" "+i+" ").replace(C," ");i=i;for(var n=0;n<x;n++)if(o.indexOf(" "+q[n]+" ")<0)i+=" "+q[n];k.className=p.trim(i)}else k.className=j},u)},removeClass:function(w,j){r(w,j,function(k,q,x){var i=k.className;if(i)if(x){i=(" "+i+" ").replace(C," ");for(var o=0,n;o<x;o++)for(n=" "+q[o]+" ";i.indexOf(n)>=0;)i=i.replace(n," ");k.className=p.trim(i)}else k.className=""},u)},replaceClass:function(w,
j,k){b.removeClass(w,j);b.addClass(w,k)},toggleClass:function(w,j,k){var q=p.isBoolean(k),x;r(w,j,function(i,o,n){for(var v=0,y;v<n;v++){y=o[v];x=q?!k:b.hasClass(i,y);b[x?"removeClass":"addClass"](i,y)}},u)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(p,b,u,r){function A(h,c){if(p.isPlainObject(c))if(i(h))b.attr(h,c,true);else h.nodeType==11&&p.each(h.childNodes,function(e){b.attr(e,c,true)});return h}function C(h,c){var e=null,d,m;if(h&&(h.push||h.item)&&h[0]){c=c||h[0].ownerDocument;e=c.createDocumentFragment();if(h.item)h=p.makeArray(h);d=0;for(m=h.length;d<m;d++)e.appendChild(h[d])}return e}function w(h,c,e,d){if(e){var m=p.guid("ks-tmp-"),B=RegExp(y);c+='<span id="'+m+'"></span>';p.available(m,function(){var D=
b.get("head"),E,G,I,H,K,J;for(B.lastIndex=0;E=B.exec(c);)if((I=(G=E[1])?G.match(F):false)&&I[2]){E=k.createElement("script");E.src=I[2];if((H=G.match(t))&&H[2])E.charset=H[2];E.async=true;D.appendChild(E)}else if((J=E[2])&&J.length>0)p.globalEval(J);(K=k.getElementById(m))&&b.remove(K);p.isFunction(d)&&d()});j(h,c)}else{j(h,c);p.isFunction(d)&&d()}}function j(h,c){c=(c+"").replace(y,"");try{h.innerHTML=c}catch(e){for(;h.firstChild;)h.removeChild(h.firstChild);c&&h.appendChild(b.create(c))}}var k=
document,q=u.ie,x=b._nodeTypeIs,i=b._isElementNode,o=k.createElement("div"),n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<(\w+)/,y=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,z=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,F=/\ssrc=(['"])(.*?)\1/i,t=/\scharset=(['"])(.*?)\1/i;p.mix(b,{create:function(h,c,e){if(x(h,1)||x(h,3)){c=h;e=c.cloneNode(true);if(u.ie<8)e.innerHTML=c.innerHTML;return e}if(!(h=p.trim(h)))return null;var d=null;d=b._creators;var m,B="div",D;
if(m=z.exec(h))d=(e||k).createElement(m[1]);else{h=h.replace(n,"<$1></$2>");if((m=v.exec(h))&&(D=m[1])&&p.isFunction(d[D=D.toLowerCase()]))B=D;h=d[B](h,e).childNodes;d=h.length===1?h[0].parentNode.removeChild(h[0]):C(h,e||k)}return A(d,c)},_creators:{div:function(h,c){var e=c?c.createElement("div"):o;e.innerHTML="w<div>"+h+"</div>";return e.lastChild}},html:function(h,c,e,d){if(c===r){h=b.get(h);if(i(h))return h.innerHTML}else p.each(b.query(h),function(m){i(m)&&w(m,c,e,d)})},remove:function(h){p.each(b.query(h),
function(c){c.parentNode&&c.parentNode.removeChild(c)})},_nl2frag:C});if(q||u.gecko||u.webkit){var l=b._creators,s=b.create,g=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,a={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},f;for(f in a)(function(h){l[f]=function(c,e){return s("<"+h+">"+c+"</"+h+">",null,e)}})(a[f]);if(q){l.script=function(h,c){var e=c?c.createElement("div"):o;e.innerHTML="-"+h;e.removeChild(e.firstChild);return e};if(q<8)l.tbody=function(h,
c){var e=s("<table>"+h+"</table>",null,c),d=e.children.tags("tbody")[0];e.children.length>1&&d&&!g.test(h)&&d.parentNode.removeChild(d);return e}}p.mix(l,{optgroup:l.option,th:l.td,thead:l.tbody,tfoot:l.tbody,caption:l.tbody,colgroup:l.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(p,b,u){var r=window,A="_ks_data_"+p.now(),C={},w={},j={};j.applet=1;j.object=1;j.embed=1;var k={hasData:function(i,o){if(i)if(o!==u){if(o in i)return true}else if(!p.isEmptyObject(i))return true;return false}},q={hasData:function(i,o){if(i==r)return q.hasData(w,o);return k.hasData(i[A],o)},data:function(i,o,n){if(i==r)return q.data(w,o,n);var v=i[A];if(n!==u){v=i[A]=i[A]||{};v[o]=n}else if(o!==u)return v&&v[o];else return v=i[A]=i[A]||{}},removeData:function(i,o){if(i==
r)return q.removeData(w,o);var n=i[A];if(n)if(o!==u){delete n[o];p.isEmptyObject(n)&&q.removeData(i,u)}else delete i[A]}},x={hasData:function(i,o){var n=i[A];if(!n)return false;return k.hasData(C[n],o)},data:function(i,o,n){if(!j[i.nodeName.toLowerCase()]){var v=i[A];v||(v=i[A]=p.guid());i=C[v];if(n!==u){i=C[v]=C[v]||{};i[o]=n}else if(o!==u)return i&&i[o];else return i=C[v]=C[v]||{}}},removeData:function(i,o){var n=i[A];if(n){var v=C[n];if(v)if(o!==u){delete v[o];p.isEmptyObject(v)&&x.removeData(i,
u)}else{delete C[n];try{delete i[A]}catch(y){}i.removeAttribute&&i.removeAttribute(A)}}}};p.mix(b,{hasData:function(i,o){var n=false;b.query(i).each(function(v){n=v&&v.nodeType?n||x.hasData(v,o):n||q.hasData(v,o)});return n},data:function(i,o,n){if(p.isPlainObject(o))for(var v in o)b.data(i,v,o[v]);else if(n===u)return(i=b.get(i))&&i.nodeType?x.data(i,o,n):q.data(i,o,n);else b.query(i).each(function(y){y&&y.nodeType?x.data(y,o,n):q.data(y,o,n)})},removeData:function(i,o){b.query(i).each(function(n){n&&
n.nodeType?x.removeData(n,o):q.removeData(n,o)})}});return b},{requires:["./base"]});
KISSY.add("dom/insertion",function(p,b){function u(w,j,k){w=b.query(w);j=b.query(j);if(w=r(w)){var q;if(j.length>1)q=w.cloneNode(true);for(var x=0;x<j.length;x++){var i=j[x],o=x>0?q.cloneNode(true):w;k(o,i)}}}var r=b._nl2frag;p.mix(b,{insertBefore:function(w,j){u(w,j,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q)})},insertAfter:function(w,j){u(w,j,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q.nextSibling)})},appendTo:function(w,j){u(w,j,function(k,q){q.appendChild(k)})},prependTo:function(w,
j){u(w,j,function(k,q){q.insertBefore(k,q.firstChild)})}});var A={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},C;for(C in A)b[C]=b[A[C]];return b},{requires:["./create"]});
KISSY.add("dom/offset",function(p,b,u,r){function A(a){var f,h=0;f=0;var c=j.body,e=o(a[z]);if(a[g]){f=a[g]();h=f[F];f=f[t];a=k&&j.documentMode!=9&&(n?q.clientTop:c.clientTop)||0;h-=k&&j.documentMode!=9&&(n?q.clientLeft:c.clientLeft)||0;f-=a;if(u.mobile=="apple"){h-=b[l](e);f-=b[s](e)}}return{left:h,top:f}}function C(a,f){var h={left:0,top:0},c=o(a[z]),e=a;f=f||c;do{var d;if(c==f){var m=e;d=A(m);m=o(m[z]);d.left+=b[l](m);d.top+=b[s](m);d=d}else d=A(e);d=d;h.left+=d.left;h.top+=d.top}while(c&&c!=f&&
(e=c.frameElement)&&(c=c.parent));return h}var w=window,j=document,k=u.ie,q=j.documentElement,x=b._isElementNode,i=b._nodeTypeIs,o=b._getWin,n=j.compatMode==="CSS1Compat",v=Math.max,y=parseInt,z="ownerDocument",F="left",t="top",l="scrollLeft",s="scrollTop",g="getBoundingClientRect";p.mix(b,{offset:function(a,f,h){if((a=b.get(a))&&a[z]){if(f===r)return C(a,h);a=a;if(b.css(a,"position")==="static")a.style.position="relative";h=C(a);var c={},e,d;for(d in f){e=y(b.css(a,d),10)||0;c[d]=e+f[d]-h[d]}b.css(a,
c)}},scrollIntoView:function(a,f,h,c){if((a=b.get(a))&&a[z]){c=c===r?true:!!c;h=h===r?true:!!h;if(!f||(f=b.get(f))===w)a.scrollIntoView(h);else{if(i(f,9))f=o(f);var e=!!o(f),d=b.offset(a),m=e?{left:b.scrollLeft(f),top:b.scrollTop(f)}:b.offset(f),B={left:d[F]-m[F],top:d[t]-m[t]};d=e?b.viewportHeight(f):f.clientHeight;e=e?b.viewportWidth(f):f.clientWidth;m=b[l](f);var D=b[s](f),E=m+e,G=D+d,I=a.offsetHeight;a=a.offsetWidth;var H=B.left+m-(y(b.css(f,"borderLeftWidth"))||0);B=B.top+D-(y(b.css(f,"borderTopWidth"))||
0);var K=H+a,J=B+I,L,M;if(I>d||B<D||h)L=B;else if(J>G)L=J-d;if(c)if(a>e||H<m||h)M=H;else if(K>E)M=K-e;b[s](f,L);b[l](f,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});p.each(["Left","Top"],function(a,f){var h="scroll"+a;b[h]=function(c,e){if(p.isNumber(c))arguments.callee(w,c);else{c=b.get(c);var d=0,m=o(c);if(m){if(e!==r){d=a=="Left"?e:b.scrollLeft(m);var B=a=="Top"?e:b.scrollTop(m);m.scrollTo(d,B)}d=m.document;d=m[f?"pageYOffset":"pageXOffset"]||d.documentElement[h]||d.body[h]}else if(x(c=
b.get(c)))d=e!==r?c[h]=e:c[h];return e===r?d:r}}});p.each(["Width","Height"],function(a){b["doc"+a]=function(f){f=b.get(f);f=o(f).document;return v(f.documentElement["scroll"+a],f.body["scroll"+a],b["viewport"+a](f))};b["viewport"+a]=function(f){f=b.get(f);var h="inner"+a;f=o(f);var c=f.document;return h in f?f[h]:n?c.documentElement["client"+a]:c.body["client"+a]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(p,b,u){function r(c,e){var d;n("sizzle");var m;if(s(c)&&c.indexOf(",")!=-1)m=C(c,e);else{if(s(c)&&!a.exec(String(c)))m=A(c,e);else{m=w;var B;B=e===u?[i]:r(e,u);m=m(c,B)}m=m}d=m;d.each=function(D,E){return v(d,D,E)};return d}function A(c,e){var d,m=n("sizzle");if(m)d=m(c,e);return d||[]}function C(c,e){var d=[],m=c.split(",");v(m,function(B){t.apply(d,r(B,e))});return f(d)}function w(c,e){var d=[];if(e.length>1){v(e,function(m){t.apply(d,r(c,m))});d=f(d)}else d=j(c,
e[0]);return d}function j(c,e){var d,m,B=[],D;if(s(c)){c=p.trim(c);if(g.test(c)){if(m=q(c.slice(1),e))B=[m]}else if(d=a.exec(c)){m=d[1];D=d[2];d=d[3];if(e=m?q(m,e):e)if(d)if(!m||c.indexOf(l)!=-1)B=[].concat(h(d,D,e));else{if((m=q(m,e))&&b.hasClass(m,d))B=[m]}else if(D)B=x(D,e)}}else if(c&&(y(c)||F(c)))B=o(c,function(E){return k(E,e)});else if(c)if(k(c,e))B=[c];return B}function k(c,e){if(!c)return false;if(e==i)return true;return b.__contains(e,c)}function q(c,e){if(!e)return null;var d=e;if(e.nodeType!==
9)d=e.ownerDocument;d=d.getElementById(c);if(!k(d,e))return null;return d}function x(c,e){return e&&z(e.getElementsByTagName(c))||[]}var i=document,o=p.filter,n=p.require,v=p.each,y=p.isArray,z=p.makeArray,F=b._isNodeList,t=Array.prototype.push,l=" ",s=p.isString,g=/^#[\w-]+$/,a=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,f;(function(){var c,e;f=function(d){if(c){e=false;d.sort(c);if(e)for(var m=1;m<d.length;m++)d[m]===d[m-1]&&d.splice(m--,1)}return d};c=i.documentElement.compareDocumentPosition?
function(d,m){if(d==m){e=true;return 0}if(!d.compareDocumentPosition||!m.compareDocumentPosition)return d.compareDocumentPosition?-1:1;return d.compareDocumentPosition(m)&4?-1:1}:function(d,m){if(d==m){e=true;return 0}else if(d.sourceIndex&&m.sourceIndex)return d.sourceIndex-m.sourceIndex}})();(function(){var c=i.createElement("div");c.appendChild(i.createComment(""));if(c.getElementsByTagName("*").length>0)x=function(e,d){var m=z(d.getElementsByTagName(e));if(e==="*"){for(var B=[],D=0,E;E=m[D++];)E.nodeType===
1&&B.push(E);m=B}return m}})();var h=i.getElementsByClassName?function(c,e,d){if(!d)return[];d=c=z(d.getElementsByClassName(c));var m=0,B=c.length,D;if(e&&e!=="*")for(d=z();m<B;++m){D=c[m];D.nodeName.toLowerCase()==e.toLowerCase()&&d.push(D)}return d}:i.querySelectorAll?function(c,e,d){return d&&z(d.querySelectorAll((e?e:"")+"."+c))||[]}:function(c,e,d){if(!d)return[];e=z(d.getElementsByTagName(e||"*"));d=[];for(var m=0,B=e.length,D;m<B;++m){D=e[m];b.hasClass(D,c)&&d.push(D)}return d};p.mix(b,{query:r,
get:function(c,e){return r(c,e)[0]||null},unique:f,filter:function(c,e,d){c=r(c,d);d=n("sizzle");var m,B,D,E=[];if(s(e)&&(m=a.exec(e))&&!m[1]){B=m[2];D=m[3];e=function(G){return!(B&&G.nodeName.toLowerCase()!=B.toLowerCase()||D&&!b.hasClass(G,D))}}if(p.isFunction(e))E=p.filter(c,e);else if(e&&d)E=d._filter(e,c);return E},test:function(c,e,d){c=r(c,d);return c.length&&b.filter(c,e,d).length===c.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(p,b,u,r,A){if(!u.ie)return b;r=document;var C=r.documentElement,w=b._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,k=/^-?\d/,q=/^(?:width|height)$/;try{if(C.style.opacity==A&&C.filters)w.opacity={get:function(n){var v=100;try{v=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(y){try{v=n.filters("alpha").opacity}catch(z){if(n=((n.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))v=parseInt(p.trim(n[1]))}}return v/100+""},set:function(n,v){var y=n.style,
z=(n.currentStyle||0).filter||"";y.zoom=1;if(z)z=p.trim(z.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(z&&v!=1)z+=", ";y.filter=z+(v!=1?"alpha(opacity="+v*100+")":"")}}}catch(x){}u=u.ie==8;var i={},o={get:function(n,v){var y=n.currentStyle[v]+"";if(y.indexOf("px")<0)y=i[y]?i[y]:0;return y}};i.thin=u?"1px":"2px";i.medium=u?"3px":"4px";i.thick=u?"5px":"6px";p.each(["","Top","Left","Right","Bottom"],function(n){w["border"+n+"Width"]=o});if(!(r.defaultView||{}).getComputedStyle&&C.currentStyle)b._getComputedStyle=
function(n,v){var y=n.style,z=n.currentStyle[v];if(q.test(v))z=b[v](n)+"px";else if(!j.test(z)&&k.test(z)){var F=y.left,t=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;y.left=v==="fontSize"?"1em":z||0;z=y.pixelLeft+"px";y.left=F;n.runtimeStyle.left=t}return z};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(p,b,u,r){function A(t,l){var s=b.get(t);if(p.isWindow(s))return l==q?b.viewportWidth(s):b.viewportHeight(s);else if(s.nodeType==9)return l==q?b.docWidth(s):b.docHeight(s);var g=l===q?s.offsetWidth:s.offsetHeight;p.each(l===q?["Left","Right"]:["Top","Bottom"],function(a){g-=parseFloat(b._getComputedStyle(s,"padding"+a))||0;g-=parseFloat(b._getComputedStyle(s,"border"+a+"Width"))||0});return g}function C(t,l,s){var g=s;if(s===x&&o.test(l)){g=0;if(p.inArray(b.css(t,"position"),
["absolute","fixed"])){s=t[l==="left"?"offsetLeft":"offsetTop"];if(k&&document.documentMode!=9||u.opera)s-=t.offsetParent["client"+(l=="left"?"Left":"Top")]||0;g=s-(i(b.css(t,"margin-"+l))||0)}}return g}var w=document,j=w.documentElement,k=u.ie,q="width",x="auto",i=parseInt,o=/^(?:left|top)/,n=/^(?:width|height|top|left|right|bottom|margin|padding)/i,v=/-([a-z])/ig,y=function(t,l){return l.toUpperCase()},z={},F={};p.mix(b,{_CUSTOM_STYLES:z,_getComputedStyle:function(t,l){var s="",g=t.ownerDocument;
if(t.style)s=g.defaultView.getComputedStyle(t,null)[l];return s},css:function(t,l,s){if(p.isPlainObject(l))for(var g in l)b.css(t,g,l[g]);else{if(l.indexOf("-")>0)l=l.replace(v,y);g=l;l=z[l]||l;if(s===r){t=b.get(t);var a="";if(t&&t.style){a=l.get?l.get(t,g):t.style[l];if(a===""&&!l.get)a=C(t,l,b._getComputedStyle(t,l))}return a===r?"":a}else{if(s===null||s==="")s="";else if(!isNaN(new Number(s))&&n.test(l))s+="px";(l===q||l==="height")&&parseFloat(s)<0||p.each(b.query(t),function(f){if(f&&f.style){l.set?
l.set(f,s):f.style[l]=s;if(s==="")f.style.cssText||f.removeAttribute("style")}})}}},width:function(t,l){if(l===r)return A(t,q);else b.css(t,q,l)},height:function(t,l){if(l===r)return A(t,"height");else b.css(t,"height",l)},show:function(t){b.query(t).each(function(l){if(l){l.style.display=b.data(l,"display")||"";if(b.css(l,"display")==="none"){var s=l.tagName,g=F[s],a;if(!g){a=w.createElement(s);w.body.appendChild(a);g=b.css(a,"display");b.remove(a);F[s]=g}b.data(l,"display",g);l.style.display=g}}})},
hide:function(t){b.query(t).each(function(l){if(l){var s=l.style,g=s.display;if(g!=="none"){g&&b.data(l,"display",g);s.display="none"}}})},toggle:function(t){b.query(t).each(function(l){if(l)b.css(l,"display")==="none"?b.show(l):b.hide(l)})},addStyleSheet:function(t,l,s){if(p.isString(t)){s=l;l=t;t=window}t=b.get(t);t=b._getWin(t).document;var g;if(s&&(s=s.replace("#","")))g=b.get("#"+s,t);if(!g){g=b.create("<style>",{id:s},t);b.get("head",t).appendChild(g);if(g.styleSheet)g.styleSheet.cssText=l;
else g.appendChild(t.createTextNode(l))}},unselectable:function(t){b.query(t).each(function(l){if(l)if(u.gecko)l.style.MozUserSelect="none";else if(u.webkit)l.style.KhtmlUserSelect="none";else if(u.ie||u.opera){var s=0,g=l.getElementsByTagName("*");for(l.setAttribute("unselectable","on");l=g[s++];)switch(l.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:l.setAttribute("unselectable","on")}}})}});if(j.style.cssFloat!==r)z["float"]="cssFloat";else if(j.style.styleFloat!==
r)z["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(p,b,u){function r(j,k,q,x,i,o){if(!(j=b.get(j)))return null;if(k===0)return j;o||(j=j[q]);if(!j)return null;i=i&&b.get(i)||null;if(k===u)k=1;o=[];var n=p.isArray(k),v,y;if(p.isNumber(k)){v=0;y=k;k=function(){return++v===y}}do if(w(j)&&A(j,k)&&(!x||x(j))){o.push(j);if(!n)break}while(j!=i&&(j=j[q]));return n?o:o[0]||null}function A(j,k){if(!k)return true;if(p.isArray(k))for(var q=0;q<k.length;q++){if(b.test(j,k[q]))return true}else if(b.test(j,k))return true;return false}
function C(j,k,q){var x=[];var i=j=b.get(j);if(j&&q)i=j.parentNode;if(i){q=0;for(i=i.firstChild;i;i=i.nextSibling)if(w(i)&&i!==j&&(!k||b.test(i,k)))x[q++]=i}return x}var w=b._isElementNode;p.mix(b,{closest:function(j,k,q){return r(j,k,"parentNode",function(x){return x.nodeType!=11},q,true)},parent:function(j,k,q){return r(j,k,"parentNode",function(x){return x.nodeType!=11},q)},next:function(j,k){return r(j,k,"nextSibling",u)},prev:function(j,k){return r(j,k,"previousSibling",u)},siblings:function(j,
k){return C(j,k,true)},children:function(j,k){return C(j,k,u)},__contains:document.documentElement.contains?function(j,k){if(j.nodeType==3)return false;var q;if(k.nodeType==3){k=k.parentNode;q=true}else if(k.nodeType==9)return false;else q=j!==k;return q&&(j.contains?j.contains(k):true)}:document.documentElement.compareDocumentPosition?function(j,k){return!!(j.compareDocumentPosition(k)&16)}:0,contains:function(j,k){j=b.get(j);k=b.get(k);return b.__contains(j,k)},equals:function(j,k){j=b.query(j);
k=b.query(k);if(j.length!=k.length)return false;for(var q=j.length;q>=0;q--)if(j[q]!=k[q])return false;return true}});return b},{requires:["./base"]});KISSY.add("dom",function(p,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
