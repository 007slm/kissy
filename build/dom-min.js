/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Oct 8 18:51
*/
KISSY.add("dom/attr",function(f,a,e,k){function n(a,b){var b=t[b]||b,i=A[b];return i&&i.get?i.get(a,b):a[b]}var o=f.Env.host.document,m=a.NodeType,q=o&&o.documentElement,e=e.ie&&(o.documentMode||e.ie),u=q&&q.textContent===k?"innerText":"textContent",g=a.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,d=/^(?:button|input|object|select|textarea)$/i,j=/^a(?:rea)?$/i,b=/:|^on/,c=/\r/g,p={},s={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):d.test(a.nodeName)||j.test(a.nodeName)&&a.href?0:k}},style:{get:function(a){return a.style.cssText},set:function(a,b){a.style.cssText=b}}},t={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},r={get:function(b,c){return a.prop(b,c)?c.toLowerCase():k},set:function(b,c,i){!1===c?a.removeAttr(b,i):(c=t[i]||i,c in b&&(b[c]=!0),b.setAttribute(i,i.toLowerCase()));return i}},A={},w={},z={option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(b){var c=b.selectedIndex,i=b.options;if(0>c)return null;if("select-one"===b.type)return a.val(i[c]);for(var b=[],c=0,l=i.length;c<
l;++c)i[c].selected&&b.push(a.val(i[c]));return b},set:function(b,c){var i=f.makeArray(c);f.each(b.options,function(b){b.selected=f.inArray(a.val(b),i)});i.length||(b.selectedIndex=-1);return i}}};e&&8>e&&(w={get:function(b,a){var i;return(i=b.getAttributeNode(a))&&(i.specified||i.nodeValue)?i.nodeValue:k},set:function(b,a,i){var l=b.getAttributeNode(i);if(l)l.nodeValue=a;else try{var c=b.ownerDocument.createAttribute(i);c.value=a;b.setAttributeNode(c)}catch(g){return b.setAttribute(i,a,0)}}},p=t,
v.tabIndex=v.tabindex,f.each("href,src,width,height,colSpan,rowSpan".split(","),function(b){v[b]={get:function(a){a=a.getAttribute(b,2);return a===null?k:a}}}),z.button=v.value=w);e&&9>e&&((v.href=v.href||{}).set=function(a,b,i){for(var c=a.childNodes,g,d=c.length,h=d>0,d=d-1;d>=0;d--)c[d].nodeType!=m.TEXT_NODE&&(h=0);if(h){g=a.ownerDocument.createElement("b");g.style.display="none";a.appendChild(g)}a.setAttribute(i,""+b);g&&a.removeChild(g)});f.each(["radio","checkbox"],function(b){z[b]={get:function(a){return a.getAttribute("value")===
null?"on":a.value},set:function(b,i){if(f.isArray(i))return b.checked=f.inArray(a.val(b),i)}}});f.mix(a,{prop:function(b,c,i){var l=a.query(b);if(f.isPlainObject(c)){f.each(c,function(b,i){a.prop(l,i,b)});return k}c=t[c]||c;b=A[c];if(i!==k)for(var g=l.length-1;g>=0;g--){var d=l[g];b&&b.set?b.set(d,i,c):d[c]=i}else if(l.length)return n(l[0],c);return k},hasProp:function(b,c){for(var i=a.query(b),l=0;l<i.length;l++)if(n(i[l],c)!==k)return true;return false},removeProp:function(b,c){for(var c=t[c]||
c,i=a.query(b),l=i.length-1;l>=0;l--){var g=i[l];try{g[c]=k;delete g[c]}catch(d){}}},attr:function(c,d,i,l){var j=a.query(c);if(f.isPlainObject(d)){var l=i,e;for(e in d)d.hasOwnProperty(e)&&a.attr(j,e,d[e],l);return k}if(!(d=f.trim(d)))return k;if(l&&s[d])return a[d](c,i);d=d.toLowerCase();if(l&&s[d])return a[d](c,i);d=p[d]||d;l=j[0];c=h.test(d)?r:b.test(d)?w:v[d];if(i===k){if(l&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);if(c&&c.get)return c.get(l,d);d=l.getAttribute(d);return d===null?k:d}}else for(e=
j.length-1;e>=0;e--)if((l=j[e])&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);c&&c.set?c.set(l,i,d):l.setAttribute(d,""+i)}return k},removeAttr:function(b,c){var c=c.toLowerCase(),c=p[c]||c,i=a.query(b),l,d;for(d=i.length-1;d>=0;d--){l=i[d];if(l.nodeType==m.ELEMENT_NODE){var g;l.removeAttribute(c);if(h.test(c)&&(g=t[c]||c)in l)l[g]=false}}},hasAttr:q&&!q.hasAttribute?function(b,c){for(var c=c.toLowerCase(),i=a.query(b),l=0;l<i.length;l++){var d=i[l].getAttributeNode(c);if(d&&d.specified)return true}return false}:
function(b,c){for(var i=a.query(b),l=0;l<i.length;l++)if(i[l].hasAttribute(c))return true;return false},val:function(b,d){var i,l;if(d===k){var h=a.get(b);if(h){if((i=z[g(h)]||z[h.type])&&"get"in i&&(l=i.get(h,"value"))!==k)return l;l=h.value;return typeof l==="string"?l.replace(c,""):l==null?"":l}return k}l=a.query(b);var j;for(j=l.length-1;j>=0;j--){h=l[j];if(h.nodeType!==1)break;var e=d;e==null?e="":typeof e==="number"?e=e+"":f.isArray(e)&&(e=f.map(e,function(b){return b==null?"":b+""}));i=z[g(h)]||
z[h.type];if(!i||!("set"in i)||i.set(h,e,"value")===k)h.value=e}return k},_propHooks:A,text:function(b,c){if(c===k){var i=a.get(b);if(i.nodeType==m.ELEMENT_NODE)return i[u]||"";if(i.nodeType==m.TEXT_NODE)return i.nodeValue}else{var l=a.query(b),d;for(d=l.length-1;d>=0;d--){i=l[d];if(i.nodeType==m.ELEMENT_NODE)i[u]=c;else if(i.nodeType==m.TEXT_NODE)i.nodeValue=c}}return k}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(f,a,e){var k=f.Env.host,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},o={isCustomDomain:function(a){var a=a||k,e=a.document.domain,a=a.location.hostname;return e!=a&&e!="["+a+"]"},getEmptyIframeSrc:function(f){f=f||k;return a.ie&&o.isCustomDomain(f)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
f.document.domain+"';document.close();")+"}())":e},NodeType:n,_getWin:function(a){return null==a?k:"scrollTo"in a&&a.document?a:a.nodeType==n.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(e){var f=o.get(e),e=f.nodeName.toLowerCase();a.ie&&(f=f.scopeName)&&"HTML"!=f&&(e=f.toLowerCase()+":"+e);return e}};f.mix(o,n);return o},{requires:["ua"]});
KISSY.add("dom/class",function(f,a,e){function k(k,m,g,h){if(!(m=f.trim(m)))return h?!1:e;for(var k=a.query(k),d=k.length,j=m.split(o),m=[],b=0;b<j.length;b++){var c=f.trim(j[b]);c&&m.push(c)}for(b=0;b<d;b++)if(j=k[b],j.nodeType==n.ELEMENT_NODE&&(j=g(j,m,m.length),j!==e))return j;return h?!1:e}var n=a.NodeType,o=/[\.\s]\s*\.?/,m=/[\n\t]/g;f.mix(a,{hasClass:function(a,e){return k(a,e,function(a,e,d){if(a=a.className){for(var a=(" "+a+" ").replace(m," "),j=0,b=!0;j<d;j++)if(0>a.indexOf(" "+e[j]+" ")){b=
!1;break}if(b)return!0}},!0)},addClass:function(a,n){k(a,n,function(a,e,d){var j=a.className;if(j){for(var b=(" "+j+" ").replace(m," "),c=0;c<d;c++)0>b.indexOf(" "+e[c]+" ")&&(j+=" "+e[c]);a.className=f.trim(j)}else a.className=n},e)},removeClass:function(a,n){k(a,n,function(a,e,d){var j=a.className;if(j)if(d){for(var j=(" "+j+" ").replace(m," "),b=0,c;b<d;b++)for(c=" "+e[b]+" ";0<=j.indexOf(c);)j=j.replace(c," ");a.className=f.trim(j)}else a.className=""},e)},replaceClass:function(e,f,g){a.removeClass(e,
f);a.addClass(e,g)},toggleClass:function(n,m,g){var h=f.isBoolean(g),d;k(n,m,function(e,b,c){for(var f=0,k;f<c;f++)k=b[f],d=h?!g:a.hasClass(e,k),a[d?"removeClass":"addClass"](e,k)},e)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,e,k){function n(b){var c=f.require("event");c&&c.detach(b);a.removeData(b)}function o(a,b,c){if(b.nodeType==h.DOCUMENT_FRAGMENT_NODE)for(var b=b.childNodes,c=c.childNodes,d=0;b[d];)c[d]&&o(a,b[d],c[d]),d++;else if(b.nodeType==h.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(d=0;b[d];)c[d]&&a(b[d],c[d]),d++}}function m(b,c){var d=f.require("event");if(c.nodeType!=h.ELEMENT_NODE||a.hasData(b)){var e=a.data(b),g;for(g in e)a.data(c,g,
e[g]);d&&(d._removeData(c),d._clone(b,c))}}function q(b,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(b);var d=c.nodeName.toLowerCase(),e=b.childNodes;if("object"===d&&!c.childNodes.length)for(d=0;d<e.length;d++)c.appendChild(e[d].cloneNode(!0));else if("input"===d&&("checkbox"===b.type||"radio"===b.type)){if(b.checked&&(c.defaultChecked=c.checked=b.checked),c.value!==b.value)c.value=b.value}else if("option"===d)c.selected=b.defaultSelected;else if("input"===d||"textarea"===
d)c.defaultValue=b.defaultValue;c.removeAttribute(a.__EXPANDO)}function u(b){var a=null,c,d;if(b&&(b.push||b.item)&&b[0]){a=b[0].ownerDocument;a=a.createDocumentFragment();b=f.makeArray(b);c=0;for(d=b.length;c<d;c++)a.appendChild(b[c])}return a}var g=f.Env.host.document,h=a.NodeType,e=e.ie,d=f.isString,j=g&&g.createElement("div"),b=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,p=/<tbody/i,s=/^\s+/,v=e&&9>e,t=/<|&#?\w+;/,r=g&&"outerHTML"in g.documentElement,
A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;f.mix(a,{create:function(i,e,j,p){var r=null;if(!i)return r;if(i.nodeType)return a.clone(i);if(!d(i))return r;p===k&&(p=!0);p&&(i=f.trim(i));var p=a._creators,E,G,j=j||g,B,H="div";if(t.test(i))if(B=A.exec(i))r=j.createElement(B[1]);else{i=i.replace(b,"<$1></$2>");if((B=c.exec(i))&&(E=B[1]))H=E.toLowerCase();E=(p[H]||p.div)(i,j);v&&(G=i.match(s))&&E.insertBefore(j.createTextNode(G[0]),E.firstChild);i=E.childNodes;1===i.length?r=i[0].parentNode.removeChild(i[0]):i.length&&
(r=u(i))}else r=j.createTextNode(i);f.isPlainObject(e)&&(r.nodeType==h.ELEMENT_NODE?a.attr(r,e,!0):r.nodeType==h.DOCUMENT_FRAGMENT_NODE&&a.attr(r.childNodes,e,!0));return r},_creators:{div:function(b,a){var c=a&&a!=g?a.createElement("div"):j;c.innerHTML="m<div>"+b+"</div>";return c.lastChild}},html:function(b,d,e,g){var b=a.query(b),f=b[0];if(f){if(d===k)return f.nodeType==h.ELEMENT_NODE?f.innerHTML:null;var j=!1,G,B,d=d+"";if(!d.match(/<(?:script|style|link)/i)&&(!v||!d.match(s))&&!y[(d.match(c)||
["",""])[1].toLowerCase()])try{for(G=b.length-1;0<=G;G--)B=b[G],B.nodeType==h.ELEMENT_NODE&&(n(B.getElementsByTagName("*")),B.innerHTML=d);j=!0}catch(H){}j||(d=a.create(d,0,f.ownerDocument,0),a.empty(b),a.append(d,b,e));g&&g()}},outerHTML:function(b,c,d){var b=a.query(b),e=b.length,g=b[0];if(g){if(c===k){if(r)return g.outerHTML;c=g.ownerDocument.createElement("div");c.appendChild(a.clone(g,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&r)for(d=e-1;0<=d;d--)g=b[d],g.nodeType==
h.ELEMENT_NODE&&(n(g),n(g.getElementsByTagName("*")),g.outerHTML=c);else c=a.create(c,0,g.ownerDocument,0),a.insertBefore(c,b,d),a.remove(b)}},remove:function(b,c){var d,e=a.query(b),g;for(g=e.length-1;0<=g;g--){d=e[g];if(!c&&d.nodeType==h.ELEMENT_NODE){var f=d.getElementsByTagName("*");n(f);n(d)}d.parentNode&&d.parentNode.removeChild(d)}},clone:function(b,c,d,e){"object"===typeof c&&(e=c.deepWithDataAndEvent,d=c.withDataAndEvent,c=c.deep);b=a.get(b);if(!b)return null;var g=b.cloneNode(c);if(b.nodeType==
h.ELEMENT_NODE||b.nodeType==h.DOCUMENT_FRAGMENT_NODE)b.nodeType==h.ELEMENT_NODE&&q(b,g),c&&o(q,b,g);d&&(m(b,g),c&&e&&o(m,b,g));return g},empty:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],a.remove(c.childNodes)},nodeListToFragment:u});var w=a._creators,z=a.create,y={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in y)(function(b){w[C]=function(c,
a){return z("<"+b+">"+c+"</"+b+">",null,a)}})(y[C]);8>e&&(w.table=function(b,c){var d=w.div(b,c);if(p.test(b))return d;var e=d.firstChild,g=f.makeArray(e.childNodes);f.each(g,function(b){"tbody"==a.nodeName(b)&&!b.childNodes.length&&e.removeChild(b)});return d});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,e){var k=f.Env.host,n="__ks_data_"+f.now(),o={},m={},q={applet:1,object:1,embed:1},u={hasData:function(a,g){if(a)if(g!==e){if(g in a)return!0}else if(!f.isEmptyObject(a))return!0;return!1}},g={hasData:function(a,e){return a==k?g.hasData(m,e):u.hasData(a[n],e)},data:function(a,f,b){if(a==k)return g.data(m,f,b);var c=a[n];if(b!==e)c=a[n]=a[n]||{},c[f]=b;else return f!==e?c&&c[f]:c=a[n]=a[n]||{}},removeData:function(a,h){if(a==k)return g.removeData(m,h);var b=a[n];if(h!==
e)delete b[h],f.isEmptyObject(b)&&g.removeData(a);else try{delete a[n]}catch(c){a[n]=e}}},h={hasData:function(a,e){var b=a[n];return!b?!1:u.hasData(o[b],e)},data:function(a,g,b){if(q[a.nodeName.toLowerCase()])return e;var c=a[n];if(!c){if(g!==e&&b===e)return e;c=a[n]=f.guid()}a=o[c];if(b!==e)a=o[c]=o[c]||{},a[g]=b;else return g!==e?a&&a[g]:a=o[c]=o[c]||{}},removeData:function(a,g){var b=a[n],c;if(b)if(c=o[b],g!==e)delete c[g],f.isEmptyObject(c)&&h.removeData(a);else{delete o[b];try{delete a[n]}catch(p){a[n]=
e}a.removeAttribute&&a.removeAttribute(n)}}};f.mix(a,{__EXPANDO:n,hasData:function(d,e){for(var b=!1,c=a.query(d),f=0;f<c.length&&!(b=c[f],b=b.nodeType?h.hasData(b,e):g.hasData(b,e));f++);return b},data:function(d,j,b){var d=a.query(d),c=d[0];if(f.isPlainObject(j)){for(var p in j)j.hasOwnProperty(p)&&a.data(d,p,j[p]);return e}if(b===e){if(c)return c.nodeType?h.data(c,j):g.data(c,j)}else for(p=d.length-1;0<=p;p--)c=d[p],c.nodeType?h.data(c,j,b):g.data(c,j,b);return e},removeData:function(d,e){var b=
a.query(d),c,f;for(f=b.length-1;0<=f;f--)c=b[f],c.nodeType?h.removeData(c,e):g.removeData(c,e)}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){f.mix(f,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(f,a,e){function k(b){for(var a=0;a<b.length;a++){var d=b[a];if(d.nodeType==q.DOCUMENT_FRAGMENT_NODE)k(d.childNodes);else if("input"==g(d)){if("checkbox"===d.type||"radio"===d.type)d.defaultChecked=d.checked}else if(d.nodeType==q.ELEMENT_NODE)for(var d=d.getElementsByTagName("input"),e=0;e<d.length;e++)k(d[e])}}function n(b,a){var e=[],f,k,t;for(f=0;b[f];f++)if(k=b[f],t=g(k),k.nodeType==q.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,n(h(k.childNodes),a));else if("script"===
t&&(!k.type||j.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),a&&a.push(k);else{if(k.nodeType==q.ELEMENT_NODE&&!u.test(t)){t=[];var r,m,w=k.getElementsByTagName("script");for(m=0;m<w.length;m++)r=w[m],(!r.type||j.test(r.type))&&t.push(r);d.apply(b,[f+1,0].concat(t))}e.push(k)}return e}function o(b){b.src?f.getScript(b.src):(b=f.trim(b.text||b.textContent||b.innerHTML||""))&&f.globalEval(b)}function m(b,c,d,g){b=e.query(b);g&&(g=[]);b=n(b,g);8>a.ie&&k(b);var c=e.query(c),h=c.length;if((b.length||
g&&g.length)&&h){var b=e.nodeListToFragment(b),j;1<h&&(j=e.clone(b,!0),c=f.makeArray(c));for(var r=0;r<h;r++){var m=c[r];if(b){var w=0<r?e.clone(j,!0):b;d(w,m)}g&&g.length&&f.each(g,o)}}}var q=e.NodeType,u=/^(?:button|input|object|select|textarea)$/i,g=e.nodeName,h=f.makeArray,d=[].splice,j=/\/(java|ecma)script/i;f.mix(e,{insertBefore:function(b,a,d){m(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},d)},insertAfter:function(b,a,d){m(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,
a.nextSibling)},d)},appendTo:function(a,c,d){m(a,c,function(a,b){b.appendChild(a)},d)},prependTo:function(a,c,d){m(a,c,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,c){c=e.clone(e.get(c),!0);a=e.query(a);a[0].parentNode&&e.insertBefore(c,a[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;e.appendTo(a,c)},wrap:function(a,c){a=e.query(a);c=e.get(c);f.each(a,function(a){e.wrapAll(a,c)})},wrapInner:function(a,c){a=e.query(a);c=e.get(c);f.each(a,function(a){var b=a.childNodes;
b.length?e.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=e.query(a);f.each(a,function(a){a=a.parentNode;e.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var d=e.query(a),c=e.query(c);e.remove(c,!0);e.insertBefore(c,d);e.remove(d)}});f.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,c){e[c]=e[a]});return e},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(f,a,e,k){function n(a){var d,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};d=a.getBoundingClientRect();a=d[b];d=d[c];a-=u.clientLeft||e.clientLeft||0;d-=u.clientTop||e.clientTop||0;return{left:a,top:d}}function o(b,c){var d={left:0,top:0},e=g(b[j]),f=b,c=c||e;do{var h;if(e==c){var k=f;h=n(k);k=g(k[j]);h.left+=a[s](k);h.top+=a[v](k)}else h=n(f);d.left+=h.left;d.top+=h.top}while(e&&e!=c&&(f=e.frameElement)&&(e=e.parent));return d}var m=f.Env.host,
e=m.document,q=a.NodeType,u=e&&e.documentElement,g=a._getWin,h=Math.max,d=parseInt,j="ownerDocument",b="left",c="top",p=f.isNumber,s="scrollLeft",v="scrollTop";f.mix(a,{offset:function(b,c,e){if(c===k){var b=a.get(b),g;b&&(g=o(b,e));return g}e=a.query(b);for(g=e.length-1;0<=g;g--){var b=e[g],f=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=o(b),j={},i=void 0,l=void 0;for(l in f)f.hasOwnProperty(l)&&(i=d(a.css(b,l),10)||0,j[l]=i+f[l]-h[l]);a.css(b,j)}return k},scrollIntoView:function(e,
f,h,j,m){var n,p,i;if(p=a.get(e)){f&&(f=a.get(f));f||(f=p.ownerDocument);!0!==m&&(j=j===k?!0:!!j,h=h===k?!0:!!h);f.nodeType==q.DOCUMENT_NODE&&(f=g(f));i=!!g(f);m=a.offset(p);e=a.outerHeight(p);n=a.outerWidth(p);var l,o,v,s;i?(p=f,l=a.height(p),o=a.width(p),s={left:a.scrollLeft(p),top:a.scrollTop(p)},p=m[b]-s[b],i=m[c]-s[c],n=m[b]+n-(s[b]+o),m=m[c]+e-(s[c]+l)):(l=a.offset(f),o=f.clientHeight,v=f.clientWidth,s={left:a.scrollLeft(f),top:a.scrollTop(f)},p=m[b]-l[b]-(d(a.css(f,"borderLeftWidth"))||0),
i=m[c]-l[c]-(d(a.css(f,"borderTopWidth"))||0),n=m[b]+n-(l[b]+v+(d(a.css(f,"borderRightWidth"))||0)),m=m[c]+e-(l[c]+o+(d(a.css(f,"borderBottomWidth"))||0)));if(0>i||0<m)!0===h?a.scrollTop(f,s.top+i):!1===h?a.scrollTop(f,s.top+m):0>i?a.scrollTop(f,s.top+i):a.scrollTop(f,s.top+m);if(j&&(0>p||0<n))!0===h?a.scrollLeft(f,s.left+p):!1===h?a.scrollLeft(f,s.left+n):0>p?a.scrollLeft(f,s.left+p):a.scrollLeft(f,s.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});f.each(["Left",
"Top"],function(b,c){var d="scroll"+b;a[d]=function(e,f){if(p(e))return arguments.callee(m,e);var e=a.get(e),h,j=g(e);if(j)if(f!==k){var f=parseFloat(f),i="Left"==b?f:a.scrollLeft(j),l="Top"==b?f:a.scrollTop(j);j.scrollTo(i,l)}else h=j["page"+(c?"Y":"X")+"Offset"],p(h)||(j=j.document,h=j.documentElement[d],p(h)||(h=j.body[d]));else e.nodeType==q.ELEMENT_NODE&&(f!==k?e[d]=parseFloat(f):h=e[d]);return h}});f.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=g(c).document;return h(c.documentElement["scroll"+
b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),d="client"+b,c=g(c).document,e=c.body,f=c.documentElement[d];return"CSS1Compat"===c.compatMode&&f||e&&e[d]||f}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(f,a,e){function k(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function n(a,c){var d,g,h=v(a),i=c===e&&(g=1)?[b]:n(c);if(a)if(h)a=C(a),g&&"body"==a?d=[b.body]:1==i.length&&a&&(d=m(a,i[0]));else{if(g)if(a.nodeType||a.setTimeout)d=[a];else{if(a.getDOMNodes)return a;d=s(a)?a:r(a)?f.makeArray(a):[a]}}else d=[];if(!d&&(d=[],a)){for(g=0;g<i.length;g++)w.apply(d,o(a,i[g]));1<d.length&&(1<i.length||h&&-1<a.indexOf(y))&&x(d)}d.each=k;return d}function o(a,
b){var c=v(a);if(c&&a.match(F)||!c)c=q(a,b);else if(c&&-1<a.indexOf(y)){var c=[],d,e=a.split(/\s*,\s*/);for(d=0;d<e.length;d++)w.apply(c,o(e[d],b))}else c=[],(d=f.require("sizzle"))&&d(a,b,c);return c}function m(a,b){var c,e,f,i;if(l.test(a))c=(e=g(a.slice(1),b))?[e]:[];else if(f=F.exec(a)){e=f[1];i=f[2];f=f[3];if(b=e?g(e,b):b)f?!e||-1!=a.indexOf(z)?c=[].concat(D(f,i,b)):(e=g(e,b))&&d(e,f)&&(c=[e]):i&&(c=h(i,b));c=c||[]}return c}function q(a,b){var c;v(a)?c=m(a,b)||[]:s(a)||r(a)?c=p(a,function(a){return u(a,
b)}):u(a,b)&&(c=[a]);return c}function u(c,d){return!c?!1:d==b?!0:a.contains(d,c)}function g(b,d){var e=d.nodeType==c.DOCUMENT_NODE,f,g;(g=(e?d:d.ownerDocument).getElementById(b))?j(g,b)?(f=0,e=e?0:1):(f=1,e=0):(f=e?0:1,e=0);f?g=a.filter(i,"#"+b,d)[0]||null:e&&!u(g,d)&&(g=null);return g}function h(a,b){return b&&t(b.getElementsByTagName(a))||[]}function d(a,b){var c;return(c=a.className)&&-1!==(" "+c+" ").indexOf(" "+b+" ")}function j(a,b){var c=a.getAttributeNode("id");return c&&c.nodeValue===b}
var b=f.Env.host.document,c=a.NodeType,p=f.filter,s=f.isArray,v=f.isString,t=f.makeArray,r=a._isNodeList,A=a.nodeName,w=Array.prototype.push,z=" ",y=",",C=f.trim,i="*",l=/^#[\w-]+$/,F=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=f.noop;(function(){var a,c,d=!0;[0,0].sort(function(){d=!1;return 0});x=function(b){if(a&&(c=d,b.sort(a),c))for(var e=1,f=b.length;e<f;)b[e]===b[e-1]?b.splice(e,1):e++;return b};a=b&&b.documentElement.compareDocumentPosition?function(a,b){return a==b?(c=!0,0):!a.compareDocumentPosition||
!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a==b)return c=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex}})();b&&function(){var a=b.createElement("div");a.appendChild(b.createComment(""));0<a.getElementsByTagName(i).length&&(h=function(a,b){var c=t(b.getElementsByTagName(a));if(a===i){for(var d=[],e=0,f;f=c[e++];)1===f.nodeType&&d.push(f);c=d}return c})}();var D=b&&b.getElementsByClassName?function(a,b,c){if(!c)return[];
var a=c.getElementsByClassName(a),d=0,e=a.length,f;if(b&&b!==i)for(c=[];d<e;++d)f=a[d],A(f)==b&&c.push(f);else c=t(a);return c}:b&&b.querySelectorAll?function(a,b,c){return c&&t(c.querySelectorAll((b?b:"")+"."+a))||[]}:function(a,b,c){if(!c)return[];for(var b=c.getElementsByTagName(b||i),c=[],e=0,f=b.length,g;e<f;++e)g=b[e],d(g,a)&&c.push(g);return c};f.mix(a,{query:n,get:function(a,b){return n(a,b)[0]||null},unique:x,filter:function(a,b,c){var a=n(a,c),c=f.require("sizzle"),e,g,h,i,k=[];if(v(b)&&
(b=C(b))&&(e=F.exec(b)))h=e[1],g=e[2],i=e[3],h?h&&!g&&!i&&(b=function(a){return j(a,h)}):b=function(a){var b=!0,c=!0;g&&(b=A(a)==g);i&&(c=d(a,i));return c&&b};f.isFunction(b)?k=f.filter(a,b):b&&c&&(k=c.matches(b,a));return k},test:function(b,c,d){b=n(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(f,a,e,k){if(!e.ie)return a;var n=f.Env.host.document,o=n&&n.documentElement,m=k._CUSTOM_STYLES,q=/^-?\d+(?:px)?$/i,u=/^-?\d/,g=/opacity=([^)]*)/,h=/alpha\([^)]*\)/i;m.backgroundPosition={get:function(a,c){return c?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==o.style.opacity&&(m.opacity={get:function(a,c){return g.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":c?"1":""},set:function(a,c){var c=parseFloat(c),d=a.style,e=a.currentStyle,g=isNaN(c)?"":"alpha(opacity="+100*c+")",j=f.trim(e&&e.filter||d.filter||"");d.zoom=1;if((1<=c||!g)&&!f.trim(j.replace(h,"")))if(d.removeAttribute("filter"),!g||e&&!e.filter)return;d.filter=h.test(j)?j.replace(h,g):j+(j?", ":"")+g}})}catch(d){}var e=8==e.ie,j={};j.thin=e?"1px":"2px";j.medium=e?"3px":"4px";j.thick=e?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(a){var c="border"+a+"Width",d="border"+
a+"Style";m[c]={get:function(a,b){var e=b?a.currentStyle:0,f=e&&""+e[c]||void 0;f&&0>f.indexOf("px")&&(f=j[f]&&"none"!==e[d]?j[f]:0);return f}}});if(!(n.defaultView||{}).getComputedStyle&&o.currentStyle)a._getComputedStyle=function(b,c){var c=a._cssProps[c]||c,d=b.currentStyle&&b.currentStyle[c];if(!q.test(d)&&u.test(d)&&-1==d.indexOf(" ")){var e=b.style,f=e.left,g=b.runtimeStyle&&b.runtimeStyle.left;g&&(b.runtimeStyle.left=b.currentStyle.left);e.left="fontSize"===c?"1em":d||0;d=e.pixelLeft+"px";
e.left=f;g&&(b.runtimeStyle.left=g)}return""===d?"auto":d};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(f,a,e,k){function n(a){return a.replace(r,"ms-").replace(A,w)}function o(a,c,d){var e={},f;for(f in c)c.hasOwnProperty(f)&&(e[f]=a[b][f],a[b][f]=c[f]);d.call(a);for(f in c)c.hasOwnProperty(f)&&(a[b][f]=e[f])}function m(a,c,d){var e;if(3===a.nodeType||8===a.nodeType||!(e=a[b]))return k;var c=n(c),f,g=i[c],c=l[c]||c;if(d!==k){null===d||d===y?d=y:!isNaN(Number(d))&&!t[c]&&(d+=C);g&&g.set&&(d=g.set(a,d));if(d!==k){try{e[c]=d}catch(h){}d===y&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||
a.removeAttribute("style");return k}if(!g||!("get"in g&&(f=g.get(a,!1))!==k))f=e[c];return f===k?"":f}function q(a){var b,c=arguments;0!==a.offsetWidth?b=u.apply(k,c):o(a,E,function(){b=u.apply(k,c)});return b}function u(b,d,e){if(f.isWindow(b))return d==c?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==c?a.docWidth(b):a.docHeight(b);var g=d===c?["Left","Right"]:["Top","Bottom"],h=d===c?b.offsetWidth:b.offsetHeight;if(0<h)return"border"!==e&&f.each(g,function(c){e||(h-=parseFloat(a.css(b,
"padding"+c))||0);h="margin"===e?h+(parseFloat(a.css(b,e+c))||0):h-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),h;h=a._getComputedStyle(b,d);if(null==h||0>Number(h))h=b.style[d]||0;h=parseFloat(h)||0;e&&f.each(g,function(c){h+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(h+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(h+=parseFloat(a.css(b,e+c))||0)});return h}var g=f.Env.host,h=g.document,d=h&&h.documentElement,j=e.ie,b="style",c="width",p="display"+f.now(),s=parseInt,v=/^-?\d+(?:px)?$/i,
t={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},r=/^-ms-/,A=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},z=/([A-Z]|^ms)/g,y="",C="px",i={},l={},F={};d&&(d[b].cssFloat!==k?l["float"]="cssFloat":d[b].styleFloat!==k&&(l["float"]="styleFloat"));var x,D;f.mix(a,{_camelCase:n,_CUSTOM_STYLES:i,_cssProps:l,_getComputedStyle:function(c,d){var e="",f,g=c.ownerDocument,d=d.replace(z,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||
f[d];""==e&&!a.contains(g.documentElement,c)&&(d=l[d]||d,e=c[b][d]);return e},style:function(b,c,d){var b=a.query(b),e=b[0];if(f.isPlainObject(c)){for(var g in c)if(c.hasOwnProperty(g))for(e=b.length-1;0<=e;e--)m(b[e],g,c[g]);return k}if(d===k)return g="",e&&(g=m(e,c,d)),g;for(e=b.length-1;0<=e;e--)m(b[e],c,d);return k},css:function(b,c,d){var b=a.query(b),e=b[0];if(f.isPlainObject(c)){for(var g in c)if(c.hasOwnProperty(g))for(e=b.length-1;0<=e;e--)m(b[e],g,c[g]);return k}c=n(c);g=i[c];if(d===k){d=
"";if(e&&(!g||!("get"in g&&(d=g.get(e,!0))!==k)))d=a._getComputedStyle(e,c);return d===k?"":d}for(e=b.length-1;0<=e;e--)m(b[e],c,d);return k},show:function(c){var c=a.query(c),d,f;for(f=c.length-1;0<=f;f--)if(d=c[f],d[b].display=a.data(d,p)||y,"none"===a.css(d,"display")){var g;a:{g=d.tagName.toLowerCase();var i=void 0,j=void 0;if(!F[g]){i=h.body||h.documentElement;j=h.createElement(g);a.prepend(j,i);var k=a.css(j,"display");i.removeChild(j);if("none"==k||""==k){if(x)a.prepend(x,i);else if(x=h.createElement("iframe"),
x.frameBorder=x.width=x.height=0,a.prepend(x,i),j=void 0,j=a.getEmptyIframeSrc())x.src=j;if(!D||!x.createElement)try{D=x.contentWindow.document,D.write(("CSS1Compat"===h.compatMode?"<!doctype html>":"")+"<html><head>"+(e.ie&&a.isCustomDomain()?"<script>document.domain= '"+h.domain+"';<\/script>":"")+"</head><body>"),D.close()}catch(l){g="block";break a}j=D.createElement(g);D.body.appendChild(j);k=a.css(j,"display");i.removeChild(x)}F[g]=k}g=F[g]}a.data(d,p,g);d[b].display=g}},hide:function(c){var c=
a.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var g=d[b],f=g.display;"none"!==f&&(f&&a.data(d,p,f),g.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||g;f.isString(b)&&(d=c,c=b,b=g);var b=a.get(b),b=a._getWin(b).document,e;if(d&&(d=d.replace("#",y)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},
unselectable:function(c){var c=a.query(c),d,g;for(g=c.length-1;0<=g;g--)if(d=c[g],e.gecko)d[b].MozUserSelect="none";else if(e.webkit)d[b].KhtmlUserSelect="none";else if(e.ie||e.opera){var f=0,h=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=h[f++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});f.each([c,"height"],
function(b){a["inner"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c){return(c=a.get(c))&&q(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,d){var e=a.get(c);return e&&q(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var E={position:"absolute",visibility:"hidden",display:"block"};f.each(["height","width"],function(a){i[a]={get:function(b,c){if(c)return q(b,a)+"px"},set:function(a,b){if(v.test(b)){if(b=parseFloat(b),
0<=b)return b+"px"}else return b}}});f.each(["left","top"],function(b){i[b]={get:function(c,d){if(d){var g=a._getComputedStyle(c,b);if("auto"===g){g=0;if(f.inArray(a.css(c,"position"),["absolute","fixed"])){g=c["left"===b?"offsetLeft":"offsetTop"];if(j&&9!=h.documentMode||e.opera)g-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;g-=s(a.css(c,"margin-"+b))||0}g+="px"}return g}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(f,a,e){function k(g,h,d,j,b,c,k){if(!(g=a.get(g)))return null;if(0===h)return g;c||(g=g[d]);if(!g)return null;b=b&&a.get(b)||null;h===e&&(h=1);var c=[],m=f.isArray(h),o,t;f.isNumber(h)&&(o=0,t=h,h=function(){return++o===t});for(;g&&g!=b;){if((g.nodeType==q.ELEMENT_NODE||g.nodeType==q.TEXT_NODE&&k)&&n(g,h)&&(!j||j(g)))if(c.push(g),!m)break;g=g[d]}return m?c:c[0]||null}function n(e,h){if(!h)return!0;if(f.isArray(h)){var d,j=h.length;if(!j)return!0;for(d=0;d<j;d++)if(a.test(e,
h[d]))return!0}else if(a.test(e,h))return!0;return!1}function o(e,h,d,j){var b=[],c,k;if((c=e=a.get(e))&&d)c=e.parentNode;if(c){d=f.makeArray(c.childNodes);for(c=0;c<d.length;c++)k=d[c],(j||k.nodeType==q.ELEMENT_NODE)&&k!=e&&b.push(k);h&&(b=a.filter(b,h))}return b}var m=f.Env.host.document,q=a.NodeType,u=(m=m&&m.documentElement)&&m.compareDocumentPosition?function(a,e){return!!(a.compareDocumentPosition(e)&16)}:m&&m.contains?function(a,e){a.nodeType==q.DOCUMENT_NODE&&(a=a.documentElement);e=e.parentNode;
return a==e?!0:e&&e.nodeType==q.ELEMENT_NODE?a.contains&&a.contains(e):!1}:0;f.mix(a,{closest:function(a,e,d,f){return k(a,e,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},d,!0,f)},parent:function(a,f,d){return k(a,f,"parentNode",function(a){return a.nodeType!=q.DOCUMENT_FRAGMENT_NODE},d,e)},first:function(f,h,d){f=a.get(f);return k(f&&f.firstChild,h,"nextSibling",e,e,!0,d)},last:function(f,h,d){f=a.get(f);return k(f&&f.lastChild,h,"previousSibling",e,e,!0,d)},next:function(a,
f,d){return k(a,f,"nextSibling",e,e,e,d)},prev:function(a,f,d){return k(a,f,"previousSibling",e,e,e,d)},siblings:function(a,e,d){return o(a,e,!0,d)},children:function(a,f){return o(a,f,e)},contents:function(a,f){return o(a,f,e,1)},contains:function(e,f){e=a.get(e);f=a.get(f);return e&&f?u(e,f):!1},index:function(e,h){var d=a.query(e),j,b=0;j=d[0];if(!h){d=j&&j.parentNode;if(!d)return-1;for(;j=j.previousSibling;)j.nodeType==q.ELEMENT_NODE&&b++;return b}b=a.query(h);return"string"===typeof h?f.indexOf(j,
b):f.indexOf(b[0],d)},equals:function(e,f){e=a.query(e);f=a.query(f);if(e.length!=f.length)return!1;for(var d=e.length;0<=d;d--)if(e[d]!=f[d])return!1;return!0}});return a},{requires:["./base"]});
