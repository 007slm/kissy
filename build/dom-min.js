/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(j,a,u,s){function z(e,d){d=t[d]||d;var c=b[d];if(!e)return s;return c&&c.get?c.get(e,d):e[d]}u=document.documentElement;var A=!u.hasAttribute,k=u.textContent!==s?"textContent":"innerText",i=a._isElementNode,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,w=/^(?:button|input|object|select|textarea)$/i,v=/^a(?:rea)?$/i,h=/:|^on/,r=/\r/g,q={},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},l={tabindex:{get:function(e){var d=e.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):w.test(e.nodeName)||v.test(e.nodeName)&&e.href?0:null}},style:{get:function(e){return e.style.cssText},set:function(e,d){e.style.cssText=d}}},t={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
o={get:function(e,d){return a.prop(e,d)?d.toLowerCase():null},set:function(e,d,c){if(d===false)a.removeAttr(e,c);else{d=t[c]||c;if(d in e)e[d]=true;e.setAttribute(c,c.toLowerCase())}return c}},b={},f={},n={option:{get:function(e){var d=e.attributes.value;return!d||d.specified?e.value:e.text}},select:{get:function(e){var d=e.selectedIndex,c=e.options;e=e.type==="select-one";if(d<0)return null;else if(e)return a.val(c[d]);d=[];e=0;for(var m=c.length;e<m;++e)c[e].selected&&d.push(a.val(c[e]));return d},
set:function(e,d){var c=j.makeArray(d);j.each(e.options,function(m){m.selected=j.inArray(a.val(m),c)});if(!c.length)e.selectedIndex=-1;return c}}};if(A){f={get:function(e,d){var c;return(c=e.getAttributeNode(d))&&c.nodeValue!==""?c.nodeValue:null},set:function(e,d,c){if(e=e.getAttributeNode(c))e.nodeValue=d}};q=t;l.tabIndex=l.tabindex;j.each(["href","src","width","height","colSpan","rowSpan"],function(e){l[e]={get:function(d){d=d.getAttribute(e,2);return d===s?null:d}}});n.button=l.value=f}j.each(["radio",
"checkbox"],function(e){n[e]={get:function(d){return d.getAttribute("value")===null?"on":d.value},set:function(d,c){if(j.isArray(c))return d.checked=j.inArray(a.val(d),c)}}});j.mix(a,{prop:function(e,d,c){if(j.isPlainObject(d))for(var m in d)a.prop(e,m,d[m]);else{e=a.query(e);d=t[d]||d;var x=b[d];if(c!==s)j.each(e,function(y){if(x&&x.set)x.set(y,c,d);else y[d]=c});else{e=e[0];if(!e)return null;e=z(e,d);return e===s?null:e}}},hasProp:function(e,d){var c=a.get(e);return z(c,d)!==s},removeProp:function(e,
d){d=t[d]||d;a.query(e).each(function(c){try{c[d]=s;delete c[d]}catch(m){}})},attr:function(e,d,c,m){if(j.isPlainObject(d)){m=c;for(var x in d)a.attr(e,x,d[x],m)}else if(d=j.trim(d)){d=d.toLowerCase();if(m&&g[d])return a[d](e,c);d=q[d]||d;var y;y=p.test(d)?o:h.test(d)?f:l[d];if(c===s){e=a.get(e);if(!i(e))return null;if(e.nodeName.toLowerCase()=="form")y=f;if(y&&y.get)return y.get(e,d);e=e.getAttribute(d);return e===s?null:e}else j.each(a.query(e),function(B){if(i(B))y&&y.set?y.set(B,c,d):B.setAttribute(d,
""+c)})}},removeAttr:function(e,d){d=d.toLowerCase();d=q[d]||d;j.each(a.query(e),function(c){if(i(c)){var m;c.removeAttribute(d);if(p.test(d)&&(m=t[d]||d)in c)c[m]=false}})},hasAttr:A?function(e,d){d=d.toLowerCase();var c=a.get(e).getAttributeNode(d);return!!(c&&c.specified)}:function(e,d){d=d.toLowerCase();return a.get(e).hasAttribute(d)},val:function(e,d){var c,m;if(d===s){var x=a.get(e);if(x){if((c=n[x.nodeName.toLowerCase()]||n[x.type])&&"get"in c&&(m=c.get(x,"value"))!==s)return m;m=x.value;
return typeof m==="string"?m.replace(r,""):m==null?"":m}return null}a.query(e).each(function(y){if(y.nodeType===1){var B=d;if(B==null)B="";else if(typeof B==="number")B+="";else if(j.isArray(B))B=j.map(B,function(D){return D==null?"":D+""});c=n[y.nodeName.toLowerCase()]||n[y.type];if(!c||!("set"in c)||c.set(y,B,"value")===s)y.value=B}})},text:function(e,d){if(d===s){var c=a.get(e);if(i(c))return c[k]||"";else if(a._nodeTypeIs(c,3))return c.nodeValue;return null}else j.each(a.query(e),function(m){if(i(m))m[k]=
d;else if(a._nodeTypeIs(m,3))m.nodeValue=d})}});return a},{requires:["dom/base","ua"]});KISSY.add("dom/base",function(j,a){function u(s,z){return s&&s.nodeType===z}return{_isElementNode:function(s){return u(s,1)},_getWin:function(s){return s&&"scrollTo"in s&&s.document?s:u(s,9)?s.defaultView||s.parentWindow:s==a?window:false},_nodeTypeIs:u,_isNodeList:function(s){return s&&!s.nodeType&&s.item&&!s.setTimeout}}});
KISSY.add("dom/class",function(j,a,u){function s(k,i,p,w){if(!(i=j.trim(i)))return w?false:u;k=a.query(k);var v=0,h=k.length,r=i.split(z);for(i=[];v<r.length;v++){var q=j.trim(r[v]);q&&i.push(q)}for(v=0;v<h;v++){r=k[v];if(a._isElementNode(r)){r=p(r,i,i.length);if(r!==u)return r}}if(w)return false;return u}var z=/[\.\s]\s*\.?/,A=/[\n\t]/g;j.mix(a,{hasClass:function(k,i){return s(k,i,function(p,w,v){if(p=p.className){p=(" "+p+" ").replace(A," ");for(var h=0,r=true;h<v;h++)if(p.indexOf(" "+w[h]+" ")<
0){r=false;break}if(r)return true}},true)},addClass:function(k,i){s(k,i,function(p,w,v){var h=p.className;if(h){var r=(" "+h+" ").replace(A," ");h=h;for(var q=0;q<v;q++)if(r.indexOf(" "+w[q]+" ")<0)h+=" "+w[q];p.className=j.trim(h)}else p.className=i},u)},removeClass:function(k,i){s(k,i,function(p,w,v){var h=p.className;if(h)if(v){h=(" "+h+" ").replace(A," ");for(var r=0,q;r<v;r++)for(q=" "+w[r]+" ";h.indexOf(q)>=0;)h=h.replace(q," ");p.className=j.trim(h)}else p.className=""},u)},replaceClass:function(k,
i,p){a.removeClass(k,i);a.addClass(k,p)},toggleClass:function(k,i,p){var w=j.isBoolean(p),v;s(k,i,function(h,r,q){for(var g=0,l;g<q;g++){l=r[g];v=w?!p:a.hasClass(h,l);a[v?"removeClass":"addClass"](h,l)}},u)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(j,a,u,s){function z(c,m){if(j.isPlainObject(m))if(h(c))a.attr(c,m,true);else c.nodeType==11&&j.each(c.childNodes,function(x){a.attr(x,m,true)});return c}function A(c,m){var x=null,y,B;if(c&&(c.push||c.item)&&c[0]){m=m||c[0].ownerDocument;x=m.createDocumentFragment();if(c.item)c=j.makeArray(c);y=0;for(B=c.length;y<B;y++)x.appendChild(c[y])}return x}function k(c,m,x,y){if(x){var B=j.guid("ks-tmp-"),D=RegExp(g);m+='<span id="'+B+'"></span>';j.available(B,function(){var E=
a.get("head"),C,G,H,F,I,J;for(D.lastIndex=0;C=D.exec(m);)if((H=(G=C[1])?G.match(t):false)&&H[2]){C=p.createElement("script");C.src=H[2];if((F=G.match(o))&&F[2])C.charset=F[2];C.async=true;E.appendChild(C)}else if((J=C[2])&&J.length>0)j.globalEval(J);(I=p.getElementById(B))&&a.remove(I);j.isFunction(y)&&y()});i(c,m)}else{i(c,m);j.isFunction(y)&&y()}}function i(c,m){m=(m+"").replace(g,"");try{c.innerHTML=m}catch(x){for(;c.firstChild;)c.removeChild(c.firstChild);m&&c.appendChild(a.create(m))}}var p=
document,w=u.ie,v=a._nodeTypeIs,h=a._isElementNode,r=p.createElement("div"),q=/<(\w+)/,g=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,t=/\ssrc=(['"])(.*?)\1/i,o=/\scharset=(['"])(.*?)\1/i;j.mix(a,{create:function(c,m,x){if(v(c,1)||v(c,3)){m=c;x=m.cloneNode(true);if(u.ie<8)x.innerHTML=m.innerHTML;return x}if(!(c=j.trim(c)))return null;var y=null;y=a._creators;var B,D="div",E;if(B=l.exec(c))y=(x||p).createElement(B[1]);else{if((B=q.exec(c))&&(E=B[1])&&
j.isFunction(y[E=E.toLowerCase()]))D=E;c=y[D](c,x).childNodes;y=c.length===1?c[0].parentNode.removeChild(c[0]):A(c,x||p)}return z(y,m)},_creators:{div:function(c,m){var x=m?m.createElement("div"):r;x.innerHTML="w<div>"+c+"</div>";return x.lastChild}},html:function(c,m,x,y){if(m===s){c=a.get(c);if(h(c))return c.innerHTML;return null}else j.each(a.query(c),function(B){h(B)&&k(B,m,x,y)})},remove:function(c){j.each(a.query(c),function(m){m.parentNode&&m.parentNode.removeChild(m)})},_nl2frag:A});if(w||
u.gecko||u.webkit){var b=a._creators,f=a.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,e={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},d;for(d in e)(function(c){b[d]=function(m,x){return f("<"+c+">"+m+"</"+c+">",null,x)}})(e[d]);if(w){b.script=function(c,m){var x=m?m.createElement("div"):r;x.innerHTML="-"+c;x.removeChild(x.firstChild);return x};if(w<8)b.tbody=function(c,m){var x=f("<table>"+c+"</table>",null,m),y=x.children.tags("tbody")[0];
x.children.length>1&&y&&!n.test(c)&&y.parentNode.removeChild(y);return x}}j.mix(b,{optgroup:b.option,th:b.td,thead:b.tbody,tfoot:b.tbody,caption:b.tbody,colgroup:b.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(j,a,u){var s=window,z="_ks_data_"+j.now(),A={},k={},i={};i.applet=1;i.object=1;i.embed=1;var p={hasData:function(h,r){if(h)if(r!==u){if(r in h)return true}else if(!j.isEmptyObject(h))return true;return false}},w={hasData:function(h,r){if(h==s)return w.hasData(k,r);return p.hasData(h[z],r)},data:function(h,r,q){if(h==s)return w.data(k,r,q);h=h[z]=h[z]||{};if(q!==u)h[r]=q;else return r!==u?h[r]===u?null:h[r]:h},removeData:function(h,r){if(h==s)return w.removeData(k,r);
var q=h[z];if(q)if(r!==u){delete q[r];j.isEmptyObject(q)&&w.removeData(h,u)}else delete h[z]}},v={hasData:function(h,r){var q=h[z];if(!q)return false;return p.hasData(A[q],r)},data:function(h,r,q){if(!i[h.nodeName.toLowerCase()]){var g=h[z];g||(g=h[z]=j.guid());h=A[g]=A[g]||{};if(q!==u)h[r]=q;else return r!==u?h[r]===u?null:h[r]:h}},removeData:function(h,r){var q=h[z];if(q){var g=A[q];if(g)if(r!==u){delete g[r];j.isEmptyObject(g)&&v.removeData(h,u)}else{delete A[q];try{delete h[z]}catch(l){}h.removeAttribute&&
h.removeAttribute(z)}}}};j.mix(a,{hasData:function(h,r){var q=false;a.query(h).each(function(g){q=g&&g.nodeType?q||v.hasData(g,r):q||w.hasData(g,r)});return q},data:function(h,r,q){if(j.isPlainObject(r))for(var g in r)a.data(h,g,r[g]);else if(q===u)return(h=a.get(h))&&h.nodeType?v.data(h,r,q):w.data(h,r,q);else a.query(h).each(function(l){l&&l.nodeType?v.data(l,r,q):w.data(l,r,q)})},removeData:function(h,r){a.query(h).each(function(q){q&&q.nodeType?v.removeData(q,r):w.removeData(q,r)})}});return a},
{requires:["./base"]});
KISSY.add("dom/insertion",function(j,a){function u(k,i,p){k=a.query(k);i=a.query(i);if(k=s(k)){var w;if(i.length>1)w=k.cloneNode(true);for(var v=0;v<i.length;v++){var h=i[v],r=v>0?w.cloneNode(true):k;p(r,h)}}}var s=a._nl2frag;j.mix(a,{insertBefore:function(k,i){u(k,i,function(p,w){w.parentNode&&w.parentNode.insertBefore(p,w)})},insertAfter:function(k,i){u(k,i,function(p,w){w.parentNode&&w.parentNode.insertBefore(p,w.nextSibling)})},appendTo:function(k,i){u(k,i,function(p,w){w.appendChild(p)})},prependTo:function(k,
i){u(k,i,function(p,w){w.insertBefore(p,w.firstChild)})}});var z={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},A;for(A in z)a[A]=a[z[A]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(j,a,u,s){function z(b){var f=0,n=0,e=p(b[r]);if(b[o]){b=b[o]();f=b[q];n=b[g];if(u.mobile!=="apple"){f+=a[l](e);n+=a[t](e)}}return{left:f,top:n}}var A=window,k=a._isElementNode,i=a._nodeTypeIs,p=a._getWin,w=document.compatMode==="CSS1Compat",v=Math.max,h=parseInt,r="ownerDocument",q="left",g="top",l="scrollLeft",t="scrollTop",o="getBoundingClientRect";j.mix(a,{offset:function(b,f){if(!(b=a.get(b))||!b[r])return null;if(f===s)return z(b);var n=b;if(a.css(n,"position")===
"static")n.style.position="relative";var e=z(n),d={},c,m;for(m in f){c=h(a.css(n,m),10)||0;d[m]=c+f[m]-e[m]}a.css(n,d)},scrollIntoView:function(b,f,n,e){if((b=a.get(b))&&b[r]){e=e===s?true:!!e;n=n===s?true:!!n;if(!f||(f=a.get(f))===A)b.scrollIntoView(n);else{if(i(f,9))f=p(f);var d=!!p(f),c=a.offset(b),m=d?{left:a.scrollLeft(f),top:a.scrollTop(f)}:a.offset(f),x={left:c[q]-m[q],top:c[g]-m[g]};c=d?a.viewportHeight(f):f.clientHeight;d=d?a.viewportWidth(f):f.clientWidth;m=a[l](f);var y=a[t](f),B=m+d,D=
y+c,E=b.offsetHeight;b=b.offsetWidth;var C=x.left+m-(h(a.css(f,"borderLeftWidth"))||0);x=x.top+y-(h(a.css(f,"borderTopWidth"))||0);var G=C+b,H=x+E,F,I;if(E>c||x<y||n)F=x;else if(H>D)F=H-c;if(e)if(b>d||C<m||n)I=C;else if(G>B)I=G-d;a[t](f,F);a[l](f,I)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});j.each(["Left","Top"],function(b,f){var n="scroll"+b;a[n]=function(e,d){if(j.isNumber(e))arguments.callee(A,e);else{e=a.get(e);var c=0,m=p(e);if(m){if(d!==s){c=b=="Left"?d:a.scrollLeft(m);var x=
b=="Top"?d:a.scrollTop(m);m.scrollTo(c,x)}c=m.document;c=m[f?"pageYOffset":"pageXOffset"]||c.documentElement[n]||c.body[n]}else if(k(e=a.get(e)))c=d!==s?e[n]=d:e[n];return d===s?c:s}}});j.each(["Width","Height"],function(b){a["doc"+b]=function(f){f=a.get(f);f=p(f).document;return v(w?f.documentElement["scroll"+b]:f.body["scroll"+b],a["viewport"+b](f))};a["viewport"+b]=function(f){f=a.get(f);var n="inner"+b;f=p(f);var e=f.document;return n in f?f[n]:w?e.documentElement["client"+b]:e.body["client"+
b]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(j,a,u){function s(g,l){var t,o,b=[],f;o=j.require("sizzle");l=z(l);if(j.isString(g))if(g.indexOf(",")!=-1){t=g.split(",");j.each(t,function(n){b.push.apply(b,j.makeArray(s(n,l)))})}else{g=j.trim(g);if(h.test(g)){if(o=A(g.slice(1),l))b=[o]}else if(t=r.exec(String(g))){o=t[1];f=t[2];t=t[3];if(l=o?A(o,l):l)if(t)if(!o||g.indexOf(v)!==-1)b=j.makeArray(q(t,f,l));else{if((o=A(o,l))&&a.hasClass(o,t))b=[o]}else if(f)b=k(f,l)}else if(o)b=o(g,l);else i(g)}else if(g&&(j.isArray(g)||
w(g)))b=g;else if(g)b=[g];if(w(b))b=j.makeArray(b);b.each=function(n,e){return j.each(b,n,e)};return b}function z(g){if(g===u)g=p;else if(j.isString(g)&&h.test(g))g=A(g.slice(1),p);else if(j.isArray(g)||w(g))g=g[0]||null;else if(g&&g.nodeType!==1&&g.nodeType!==9)g=null;return g}function A(g,l){if(!l)return null;if(l.nodeType!==9)l=l.ownerDocument;return l.getElementById(g)}function k(g,l){return l.getElementsByTagName(g)}function i(g){j.error("Unsupported selector: "+g)}var p=document,w=a._isNodeList,
v=" ",h=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var g=p.createElement("div");g.appendChild(p.createComment(""));if(g.getElementsByTagName("*").length>0)k=function(l,t){var o=j.makeArray(t.getElementsByTagName(l));if(l==="*"){for(var b=[],f=0,n=0,e;e=o[f++];)if(e.nodeType===1)b[n++]=e;o=b}return o}})();var q=p.getElementsByClassName?function(g,l,t){t=g=j.makeArray(t.getElementsByClassName(g));var o=0,b=0,f=g.length,n;if(l&&l!=="*"){t=[];for(l=l.toUpperCase();o<f;++o){n=
g[o];if(n.tagName===l)t[b++]=n}}return t}:p.querySelectorAll?function(g,l,t){return t.querySelectorAll((l?l:"")+"."+g)}:function(g,l,t){l=t.getElementsByTagName(l||"*");t=[];var o=0,b=0,f=l.length,n,e;for(g=v+g+v;o<f;++o){n=l[o];if((e=n.className)&&(v+e+v).indexOf(g)>-1)t[b++]=n}return t};j.mix(a,{query:s,get:function(g,l){return s(g,l)[0]||null},filter:function(g,l,t){var o=s(g,t),b=j.require("sizzle"),f,n,e,d=[];if(j.isString(l)&&(f=r.exec(l))&&!f[1]){n=f[2];e=f[3];l=function(c){return!(n&&c.tagName.toLowerCase()!==
n.toLowerCase()||e&&!a.hasClass(c,e))}}if(j.isFunction(l))d=j.filter(o,l);else if(l&&b)d=b._filter(g,l,t);else i(l);return d},test:function(g,l,t){g=s(g,t);return g.length&&a.filter(g,l,t).length===g.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(j,a,u,s,z){if(!u.ie)return a;s=document;var A=s.documentElement,k=a._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,p=/^-?\d/,w=/^(?:width|height)$/;try{if(A.style.opacity==z&&A.filters)k.opacity={get:function(q){var g=100;try{g=q.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(l){try{g=q.filters("alpha").opacity}catch(t){if(q=((q.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))g=parseInt(j.trim(q[1]))}}return g/100+""},set:function(q,g){var l=q.style,
t=(q.currentStyle||0).filter||"";l.zoom=1;if(t)t=j.trim(t.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(t&&g!=1)t+=", ";l.filter=t+(g!=1?"alpha(opacity="+g*100+")":"")}}}catch(v){}u=u.ie==8;var h={},r={get:function(q,g){var l=q.currentStyle[g]+"";if(l.indexOf("px")<0)l=h[l]?h[l]:0;return l}};h.thin=u?"1px":"2px";h.medium=u?"3px":"4px";h.thick=u?"5px":"6px";j.each(["","Top","Left","Right","Bottom"],function(q){k["border"+q+"Width"]=r});if(!(s.defaultView||{}).getComputedStyle&&A.currentStyle)a._getComputedStyle=
function(q,g){var l=q.style,t=q.currentStyle[g];if(w.test(g))t=a[g](q)+"px";else if(!i.test(t)&&p.test(t)){var o=l.left,b=q.runtimeStyle.left;q.runtimeStyle.left=q.currentStyle.left;l.left=g==="fontSize"?"1em":t||0;t=l.pixelLeft+"px";l.left=o;q.runtimeStyle.left=b}return t};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(j,a,u,s){function z(o,b){var f=a.get(o);if(j.isWindow(f))return b==p?a.viewportWidth(f):a.viewportHeight(f);else if(f.nodeType==9)return b==p?a.docWidth(f):a.docHeight(f);var n=b===p?f.offsetWidth:f.offsetHeight;j.each(b===p?["Left","Right"]:["Top","Bottom"],function(e){n-=parseFloat(a._getComputedStyle(f,"padding"+e))||0;n-=parseFloat(a._getComputedStyle(f,"border"+e+"Width"))||0});return n}function A(o,b,f){var n=f;if(f===w&&h.test(b)){n=0;if(j.inArray(a.css(o,"position"),
["absolute","fixed"])){f=o[b==="left"?"offsetLeft":"offsetTop"];if(u.ie===8||u.opera)f-=v(a.css(o.offsetParent,"border-"+b+"-width"))||0;n=f-(v(a.css(o,"margin-"+b))||0)}}return n}var k=document,i=k.documentElement,p="width",w="auto",v=parseInt,h=/^(?:left|top)/,r=/^(?:width|height|top|left|right|bottom|margin|padding)/i,q=/-([a-z])/ig,g=function(o,b){return b.toUpperCase()},l={},t={};j.mix(a,{_CUSTOM_STYLES:l,_getComputedStyle:function(o,b){var f="",n=o.ownerDocument;if(o.style)f=n.defaultView.getComputedStyle(o,
null)[b];return f},css:function(o,b,f){if(j.isPlainObject(b))for(var n in b)a.css(o,n,b[n]);else{if(b.indexOf("-")>0)b=b.replace(q,g);n=b;b=l[b]||b;if(f===s){o=a.get(o);var e="";if(o&&o.style){e=b.get?b.get(o,n):o.style[b];if(e===""&&!b.get)e=A(o,b,a._getComputedStyle(o,b))}return e===s?"":e}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&r.test(b))f+="px";(b===p||b==="height")&&parseFloat(f)<0||j.each(a.query(o),function(d){if(d&&d.style){b.set?b.set(d,f):d.style[b]=f;if(f==="")d.style.cssText||
d.removeAttribute("style")}})}}},width:function(o,b){if(b===s)return z(o,p);else a.css(o,p,b)},height:function(o,b){if(b===s)return z(o,"height");else a.css(o,"height",b)},show:function(o){a.query(o).each(function(b){if(b){b.style.display=a.data(b,"display")||"";if(a.css(b,"display")==="none"){var f=b.tagName,n=t[f],e;if(!n){e=k.createElement(f);k.body.appendChild(e);n=a.css(e,"display");a.remove(e);t[f]=n}a.data(b,"display",n);b.style.display=n}}})},hide:function(o){a.query(o).each(function(b){if(b){var f=
b.style,n=f.display;if(n!=="none"){n&&a.data(b,"display",n);f.display="none"}}})},toggle:function(o){a.query(o).each(function(b){if(b)a.css(b,"display")==="none"?a.show(b):a.hide(b)})},addStyleSheet:function(o,b,f){if(j.isString(o)){f=b;b=o;o=window}o=a.get(o);o=a._getWin(o).document;var n;if(f&&(f=f.replace("#","")))n=a.get("#"+f,o);if(!n){n=a.create("<style>",{id:f},o);a.get("head",o).appendChild(n);if(n.styleSheet)n.styleSheet.cssText=b;else n.appendChild(o.createTextNode(b))}},unselectable:function(o){a.query(o).each(function(b){if(b)if(u.gecko)b.style.MozUserSelect=
"none";else if(u.webkit)b.style.KhtmlUserSelect="none";else if(u.ie||u.opera){var f=0,n=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=n[f++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}})}});if(i.style.cssFloat!==s)l["float"]="cssFloat";else if(i.style.styleFloat!==s)l["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(j,a,u){function s(k,i,p,w){if(!(k=a.get(k)))return null;if(i===u)i=1;var v=null,h,r;if(j.isNumber(i)&&i>=0){if(i===0)return k;h=0;r=i;i=function(){return++h===r}}for(;k=k[p];)if(A(k)&&(!i||a.test(k,i))&&(!w||w(k))){v=k;break}return v}function z(k,i,p){var w=[];var v=k=a.get(k);if(k&&p)v=k.parentNode;if(v){p=0;for(v=v.firstChild;v;v=v.nextSibling)if(A(v)&&v!==k&&(!i||a.test(v,i)))w[p++]=v}return w}var A=a._isElementNode;j.mix(a,{parent:function(k,i){return s(k,i,
"parentNode",function(p){return p.nodeType!=11})},next:function(k,i){return s(k,i,"nextSibling",u)},prev:function(k,i){return s(k,i,"previousSibling",u)},siblings:function(k,i){return z(k,i,true)},children:function(k,i){return z(k,i,u)},contains:function(k,i){var p=false;if((k=a.get(k))&&(i=a.get(i)))if(k.contains){if(i.nodeType===3){i=i.parentNode;if(i===k)return true}if(i)return k.contains(i)}else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(i)&16);else for(;!p&&(i=i.parentNode);)p=
i==k;return p},equals:function(k,i){k=j.query(k);i=j.query(i);if(k.length!=i.length)return false;for(var p=k.length;p>=0;p--)if(k[p]!=i[p])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(j,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
