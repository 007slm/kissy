/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 2 22:28
*/
KISSY.add("node/anim-plugin",function(e,c,m,f,k){function n(g,w,o,j,i,p,x){if(w==="toggle"){i=c.css(g,b)===d?1:0;w="show"}if(i)c.css(g,b,c.data(g,b)||"");var l={},v={};e.each(A[w],function(q){if(q===h){l[h]=c.css(g,h);c.css(g,h,y)}else if(q===s){l[s]=c.css(g,s);v.opacity=i?1:0;i&&c.css(g,s,0)}else if(q===r){l[r]=c.css(g,r);v.height=i?c.css(g,r)||g.naturalHeight:0;i&&c.css(g,r,0)}else if(q===t){l[t]=c.css(g,t);v.width=i?c.css(g,t)||g.naturalWidth:0;i&&c.css(g,t,0)}});return(new m(g,v,o,p||"easeOut",
function(){if(!i){var q=g.style,z=q[b];if(z!==d){z&&c.data(g,b,z);q[b]=d}l[r]&&c.css(g,{height:l[r]});l[t]&&c.css(g,{width:l[t]});l[s]&&c.css(g,{opacity:l[s]});l[h]&&c.css(g,{overflow:l[h]})}j&&e.isFunction(j)&&j()},x)).run()}var u=f.prototype,a="ksAnims"+e.now(),b="display",d="none",h="overflow",y="hidden",s="opacity",r="height",t="width",A={show:[h,s,r,t],fade:[s],slide:[h,r]};f.__ANIM_KEY=a;(function(g){function w(o,j){var i=c.data(o,a);i||c.data(o,a,i=[]);j.on("complete",function(){var p=c.data(o,
a);if(p){var x=e.indexOf(j,p);x>=0&&p.splice(x,1);p.length||c.removeData(o,a)}});i.push(j)}g.animate=function(){var o=e.makeArray(arguments);e.each(this,function(j){var i=m.apply(k,[j].concat(o)).run();w(j,i)});return this};g.stop=function(o){e.each(this,function(j){var i=c.data(j,a);if(i){e.each(i,function(p){p.stop(o)});c.removeData(j,a)}});return this};e.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(o,
j){g[j]=function(i,p,x,l){if(c[j]&&arguments.length===0)c[j](this);else{if(l===k)l=false;e.each(this,function(v){var q=n(v,o[0],i,p,o[1],x,l);w(v,q)})}return this}})})(u)},{requires:["dom","anim","./base"]});
KISSY.add("node/attach",function(e,c,m,f,k){function n(b,d,h){h.unshift(d);b=c[b].apply(c,h);if(b===k)return d;return b}var u=f.prototype,a=e.makeArray;e.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","toggle","scrollIntoView","remove","removeData","hasData","unselectable"],function(b){u[b]=
function(){var d=a(arguments);return n(b,this,d)}});e.each(["filter","parent","closest","next","prev","siblings","children"],function(b){u[b]=function(){var d=a(arguments);d.unshift(this);d=c[b].apply(c,d);d=d===k?this:d===null?null:new f(d);return d}});e.each({attr:1,text:0,css:1,val:0,prop:1,offset:0,html:0,data:1},function(b,d){u[d]=function(){var h=a(arguments);if(h[b]===k&&!e.isObject(h[0])){h.unshift(this);h=c[d].apply(c,h)}else h=n(d,this,h);return h}});e.each(["on","detach","fire","delegate",
"undelegate"],function(b){u[b]=function(){var d=a(arguments);d.unshift(this);return m[b].apply(m,d)}})},{requires:["dom","event","./base"]});
KISSY.add("node/base",function(e,c,m){function f(a,b,d){if(!(this instanceof f))return new f(a,b,d);if(a)if(e.isString(a)){a=c.create(a,b,d);if(a.nodeType===11){k.push.apply(this,n(a.childNodes));return m}}else if(e.isArray(a)||u(a)){k.push.apply(this,n(a));return m}else a=a;else return m;this[0]=a;this.length=1;return m}var k=Array.prototype,n=e.makeArray,u=c._isNodeList;e.augment(f,{length:0,item:function(a){if(e.isNumber(a)){if(a>=this.length)return null;return new f(this[a])}else return new f(a)},
add:function(a,b,d){if(e.isNumber(b)){d=b;b=m}a=f.all(a,b);b=new f(this);if(d===m)k.push.apply(b,a);else{d=[d,0];d.push.apply(d,a);k.splice.apply(b,d)}return b},slice:function(a,b){return new f(k.slice.call(this,a,b))},getDOMNodes:function(){return k.slice.call(this)},each:function(a,b){var d=this.length,h=0,y;for(y=new f(this[0]);h<d&&a.call(b||y,y,h,this)!==false;y=new f(this[++h]));return this},getDOMNode:function(){return this[0]},all:function(a){if(this.length>0)return f.all(a,this);return new f}});
f.prototype.one=function(a){a=this.all(a);return a.length?a.slice(0,1):null};f.all=function(a,b){if(e.isString(a)&&(a=e.trim(a))&&a.length>=3&&e.startsWith(a,"<")&&e.endsWith(a,">")){if(b){if(b.getDOMNode)b=b.getDOMNode();if(b.ownerDocument)b=b.ownerDocument}return new f(a,m,b)}return new f(c.query(a,b))};f.one=function(a,b){var d=f.all(a,b);return d.length?d.slice(0,1):null};return f},{requires:["dom"]});
KISSY.add("node/override",function(e,c,m,f){e.each(["append","prepend","before","after"],function(k){f.prototype[k]=function(n){n=n;if(e.isString(n))n=c.create(n);c[k](n,this);return this}})},{requires:["dom","event","./base","./attach"]});KISSY.add("node",function(e,c){return c},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
