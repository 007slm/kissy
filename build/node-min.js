/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 9 19:58
*/
KISSY.add("node/anim-plugin",function(e,d,j,f,l){function m(h,w,n,k,i,o,t){i&&d.show(h);var p={},s={};e.each(y[w],function(u){var x=h.style;if(u===b){p[b]=x[b];d.css(h,b,c)}else if(u===g){p[g]=d.style(h,g);s.opacity=i?1:0;i&&d.css(h,g,0)}else if(u===q){p[q]=x[q];s.height=i?d.height(h)||h.naturalHeight:0;i&&d.css(h,q,0)}else if(u===v){p[v]=x[v];s.width=i?d.width(h)||h.naturalWidth:0;i&&d.css(h,v,0)}});return(new j(h,s,n,o,function(){i||d.hide(h);d.css(h,{height:p[q],width:p[v],opacity:p[g],overflow:p[b]});
k&&k()},t)).run()}var r=f.prototype,a="ksAnims"+e.now(),b="overflow",c="hidden",g="opacity",q="height",v="width",y={show:[b,g,q,v],fade:[g],slide:[b,q]};f.__ANIM_KEY=a;(function(h){function w(n,k){var i=d.data(n,a);i||d.data(n,a,i=[]);k.on("complete",function(){var o=d.data(n,a);if(o){var t=e.indexOf(k,o);t>=0&&o.splice(t,1);o.length||d.removeData(n,a)}});i.push(k)}h.animate=function(){var n=e.makeArray(arguments);e.each(this,function(k){var i=j.apply(l,[k].concat(n)).run();w(k,i)});return this};
h.stop=function(n){e.each(this,function(k){var i=d.data(k,a);if(i){e.each(i,function(o){o.stop(n)});d.removeData(k,a)}});return this};e.each({show:["show",1],hide:["show",0],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(n,k){h[k]=function(i,o,t,p){d[k]&&!i?d[k](this):e.each(this,function(s){var u=m(s,n[0],i,o,n[1],t||"easeOut",p);w(s,u)});return this}});h.toggle=function(){h[this.css("display")==="none"?"show":"hide"].apply(this,arguments)}})(r)},{requires:["dom",
"anim","./base"]});
KISSY.add("node/attach",function(e,d,j,f,l){function m(b,c,g){g.unshift(c);b=d[b].apply(d,g);if(b===l)return c;return b}var r=f.prototype,a=e.makeArray;e.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(b){r[b]=function(){var c=a(arguments);return m(b,this,c)}});e.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(b){r[b]=function(){var c=a(arguments);c.unshift(this);c=d[b].apply(d,c);c=c===l?this:c===null?null:new f(c);return c}});e.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(b,c){r[c]=function(){var g=a(arguments);if(g[b]===l&&!e.isObject(g[0])){g.unshift(this);g=d[c].apply(d,g)}else g=
m(c,this,g);return g}});e.each(["on","detach","fire","delegate","undelegate"],function(b){r[b]=function(){var c=a(arguments);c.unshift(this);return j[b].apply(j,c)}})},{requires:["dom","event","./base"]});
KISSY.add("node/base",function(e,d,j){function f(a,b,c){if(!(this instanceof f))return new f(a,b,c);if(a)if(e.isString(a)){a=d.create(a,b,c);if(a.nodeType===d.DOCUMENT_FRAGMENT_NODE){l.push.apply(this,m(a.childNodes));return j}}else if(e.isArray(a)||r(a)){l.push.apply(this,m(a));return j}else a=a;else return j;this[0]=a;this.length=1;return j}var l=Array.prototype,m=e.makeArray,r=d._isNodeList;e.augment(f,{length:0,item:function(a){return e.isNumber(a)?a>=this.length?null:new f(this[a]):new f(a)},
add:function(a,b,c){if(e.isNumber(b)){c=b;b=j}a=f.all(a,b).getDOMNodes();b=new f(this);if(c===j)l.push.apply(b,a);else{c=[c,0];c.push.apply(c,a);l.splice.apply(b,c)}return b},slice:function(a,b){return new f(l.slice.call(this,a,b))},getDOMNodes:function(){return l.slice.call(this)},each:function(a,b){var c=this;e.each(c,function(g,q){g=new f(g);return a.call(b||g,g,q,c)});return c},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(a){a=this.length>0?f.all(a,
this):new f;a.__parent=this;return a},one:function(a){a=this.all(a);if(a=a.length?a.slice(0,1):null)a.__parent=this;return a}});e.mix(f,{all:function(a,b){if(e.isString(a)&&(a=e.trim(a))&&a.length>=3&&e.startsWith(a,"<")&&e.endsWith(a,">")){if(b){if(b.getDOMNode)b=b.getDOMNode();if(b.ownerDocument)b=b.ownerDocument}return new f(a,j,b)}return new f(d.query(a,b))},one:function(a,b){var c=f.all(a,b);return c.length?c.slice(0,1):null}});e.mix(f,d._NODE_TYPE);return f},{requires:["dom"]});
KISSY.add("node/override",function(e,d,j,f){e.each(["append","prepend","before","after"],function(l){f.prototype[l]=function(m){m=m;if(e.isString(m))m=d.create(m);m&&d[l](m,this);return this}})},{requires:["dom","event","./base","./attach"]});KISSY.add("node",function(e,d,j){j.KeyCodes=d.KeyCodes;return j},{requires:["event","node/base","node/attach","node/override","node/anim-plugin"]});
