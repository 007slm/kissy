/*
Copyright 2011, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("node/attach",function(b,f,j,i,c,k){function o(a,d,g,h){a=[this[a?x:v]()].concat(b.makeArray(d));if(d[g]===k)return h.apply(f,a);else{h.apply(f,a);return this}}function e(a,d){b.each(a,function(g){b.each([t,y],function(h,l){h[g]=function(n){switch(d){case w:return function(){return o.call(this,l,arguments,1,n)};case u:return function(){return o.call(this,l,arguments,0,n)};case z:return function(){var m=this[l?x:v]();return(m=n.apply(f,[m].concat(b.makeArray(arguments))))?new (b.isArray(m)?
c:i)(m):null};default:return function(){var m=this[l?x:v]();m=n.apply(f,[m].concat(b.makeArray(arguments)));return m===k?this:m}}}(f[g])})})}function q(a,d,g){a&&b.each(this,function(h){var l;if(d||b.isString(a))l=f.create(a);else{if(s(a,1)||s(a,3))l=a;if(B(a))l=a[0]}f[g](l,h)});return this}function p(a,d){if((a=f.get(a))&&a.appendChild)b.each(this,function(g){f[d](g,a)});return this}function r(a,d){a.__wrap=a.__wrap||[];a.__wrap.push(d)}var s=f._nodeTypeIs,B=f._isKSNode,A=b.require("event/target"),
t=i.prototype,y=c.prototype,v="getDOMNode",x=v+"s",w=1,u=2,z=4;b.mix(t,{one:function(a){return i.one(a,this[0])},all:function(a){return c.all(a,this[0])}});e(["data","removeData"],w);e(["hasClass","addClass","removeClass","replaceClass","toggleClass"],k);e(["attr","removeAttr"],w);e(["val","text"],u);e(["css"],w);e(["width","height"],u);e(["offset"],u);e(["scrollIntoView"],k);e(["parent","next","prev","siblings","children"],z);e(["contains"],k);e(["html"],u);e(["remove"],k);b.each(["insertBefore",
"insertAfter"],function(a){t[a]=function(d){f[a].call(f,this[0],d);return this}});b.each([t,y],function(a,d){b.each(["append","prepend"],function(g){a[g]=function(h){return q.call(this,h,d,g)};a[g+"To"]=function(h){return p.call(this,h,g)}})});b.augment(i,A,{fire:null,on:function(a,d,g){function h(n){var m=b.makeArray(arguments);m.shift();n.target=new i(n.target);m.unshift(n);return d.apply(g||l,m)}var l=this;j.add(this[0],a,h,g);r(d,h);return this},detach:function(a,d,g){if(b.isFunction(d)){d=d.__wrap||
[];for(var h=0;h<d.length;h++)j.remove(this[0],a,d[h],g)}else j.remove(this[0],a,d,g);return this}});b.augment(c,A,{fire:null});t._supportSpecialEvent=true;b.each({on:"add",detach:"remove"},function(a,d){y[d]=function(g,h,l){for(var n=0;n<this.length;n++)this.item(n).on(g,h,l)}})},{requires:["dom","event","node/node","node/nodelist"]});
KISSY.add("node/node",function(b,f,j){function i(c,k,o){if(!(this instanceof i))return new i(c,k,o);if(!c){this.length=0;return j}if(b.isString(c)){c=f.create(c,k,o);if(c.nodeType===11)return new b.NodeList(c.childNodes)}else if(c instanceof i)return c;else c=c;this[0]=c;return j}i.TYPE="-ks-Node";b.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});i.one=function(c,k){var o=f.get(c,k);return o?new i(o,j,j):null};return i},{requires:["dom"]});
KISSY.add("node/nodelist",function(b,f,j,i){function c(e){if(!(this instanceof c))return new c(e);k.push.apply(this,b.makeArray(e)||[]);return i}var k=Array.prototype,o=f._isElementNode;b.mix(c.prototype,{length:0,item:function(e){var q=null,p,r;if(o(e)){p=0;for(r=this.length;p<r;p++)if(e===this[p]){e=p;break}}if(o(this[e]))q=new j(this[e]);return q},getDOMNodes:function(){return k.slice.call(this)},each:function(e,q){var p=this.length,r=0,s;for(s=new j(this[0]);r<p&&e.call(q||s,s,r,this)!==false;s=
new j(this[++r]));return this}});c.all=function(e,q){return new c(f.query(e,q,true))};return c},{requires:["dom","node/node"]});KISSY.add("node",function(b,f,j){return{Node:f,NodeList:j}},{requires:["node/node","node/nodelist","node/attach"]});
