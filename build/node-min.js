/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("node/attach",function(g,i,j,f,p){function o(b){for(var d=0;d<b.length;d++)if(b[d].getDOMNode)b[d]=b[d].getDOMNode();return b}var a=f.List,k=f.prototype,h=a.prototype;f.addMethod=function(b,d,l){k[b]=function(){var c=this[0],m=g.makeArray(arguments);m=o(m);m.unshift(c);c=d.apply(l||this,m);if(c===p)c=this;else if(c===null)c=null;else if(c.nodeType&&!c.getDOMNode)c=new f(c);else if(!c.getDOMNodes&&c[0]&&c[0].nodeType&&!c[0].getDOMNode)c=new a(c);return c}};a.addMethod=function(b,d,l){h[b]=
function(){var c=[],m=g.makeArray(arguments);m=o(m);this.each(function(n){var q=d.apply(l||n,m);q!==n&&c.push(q)});return c.length?c:this}};var e=["_isElementNode","_getWin","_getComputedStyle","_getComputedStyle","_nodeTypeIs","create","get","query"];g.each(i,function(b,d){i.hasOwnProperty(d)&&g.isFunction(b)&&!g.inArray(d,e)&&f.addMethod(d,b,i)})},{requires:["dom","event","./base"]});
KISSY.add("node/base",function(g,i){function j(a,k,h){if(a){if(g.isString(a)){a=i.create(a,k,h);if(a.nodeType===11)return new f(a.childNodes)}else if(a instanceof j)return a;else a=a;this[0]=a}else this.length=0}function f(a){p.push.apply(this,g.makeArray(a))}j.TYPE="-ks-Node";g.augment(j,{length:1,getDOMNode:function(){return this[0]},nodeType:j.TYPE});j.one=function(a,k){if(a.getDOMNode)return a;var h=i.get(a,k);return h?new j(h,undefined,undefined):null};var p=Array.prototype,o=i._isElementNode;
g.mix(f.prototype,{length:0,item:function(a){var k=null,h,e;if(o(a)){h=0;for(e=this.length;h<e;h++)if(a===this[h]){a=h;break}}if(o(this[a]))k=new j(this[a],undefined,undefined);return k},getDOMNodes:function(){return p.slice.call(this)},each:function(a,k){var h=this.length,e=0,b;for(b=new j(this[0],undefined,undefined);e<h&&a.call(k||b,b,e,this)!==false;b=new j(this[++e],undefined,undefined));return this}});f.all=function(a,k){if(a.getDOMNode)return new f(a);else if(a.getDOMNodes)return a;return new f(i.query(a,
k,true))};j.List=f;return j},{requires:["dom"]});
KISSY.add("node/override",function(g,i,j,f){function p(e,b,d){e.__wrap=e.__wrap||[];e.__wrap.push({fn:b,target:d})}var o=f.List,a=f.prototype;f.addMethod("one",function(e,b){return i.get(b,e)});f.addMethod("all",function(e,b){return i.query(b,e)});f.addMethod("on",function(e,b,d,l){function c(n){var q=g.makeArray(arguments);q.shift();n.target=new f(n.target);if(n.relatedTarget)n.relatedTarget=new f(n.relatedTarget);q.unshift(n);return d.apply(l||m,q)}var m=this;j.add(e,b,c,l);p(d,c,e)});f.addMethod("detach",
function(e,b,d,l){if(g.isFunction(d)){d=d.__wrap||[];for(var c=d.length-1;c>=0;c--){var m=d[c];if(m.target==e){j.remove(e,b,m.fn,l);d.splice(c,1)}}}else j.remove(e,b,d,l)});for(var k in a){var h=a[k];a.hasOwnProperty(k)&&g.isFunction(h)&&o.addMethod(k,h)}g.each(["append","prepend"],function(e){f.addMethod(e,function(b,d){var l=d;if(g.isString(l))l=i.create(l);i[e](l,b)});o.addMethod(e,function(b){b=i.create(b);this[e](b)})})},{requires:["dom","event","./base","./attach"]});
KISSY.add("node",function(g,i){return i},{requires:["node/base","node/attach","node/override"]});
