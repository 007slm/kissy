/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Sep 26 22:20
*/
KISSY.add("event/add",function(i,h,a,c,p,b,e,f){function n(a,b,c,m,d){var e=f[b]||{};!m.length&&(!e.setup||!1===e.setup.call(a))&&j(a,b,c);e.add&&e.add.call(a,d)}var j=c.simpleAdd,g=c.isValidTarget,o=c.isIdenticalHandler;i.mix(h,{__add:function(a,j,k,m,d){var s=c.getTypedGroups(k),k=s[0],s=s[1],l=!a,r,h;r=a&&f[k];var w,v,u;i.isObject(m)&&(v=m.last,d=m.scope,h=m.data,u=m.selector,w=m.originalType,m=m.fn,u&&!w&&r&&r.delegateFix&&(w=k,k=r.delegateFix));!u&&!w&&r&&r.onFix&&(w=k,k=r.onFix);if(k&&j&&i.isFunction(m)&&
(!a||g(j))){(r=e._data(j,void 0,l))||e._data(j,r={},l);var l=r.events=r.events||{},l=l[k]=l[k]||[],m={fn:m,scope:d,selector:u,last:v,data:h,groups:s,originalType:w},x=r.handler;a&&!x&&(x=r.handler=function(d,a){if(!(typeof KISSY=="undefined"||d&&d.type==c.Event_Triggered)){var f=x.target,l;if(!d||!d.fixed)d=new p(f,d);l=d.type;i.isPlainObject(a)&&i.mix(d,a);if(l)d.type=l;return b(f,d)}},x.target=j);for(d=l.length-1;0<=d;--d)if(o(l[d],m,j))return;a&&(n(j,k,x,l,m),j=null);u?(a=l.delegateCount=l.delegateCount||
0,l.splice(a,0,m),l.delegateCount++):(l.lastCount=l.lastCount||0,v?(l.push(m),l.lastCount++):l.splice(l.length-l.lastCount,0,m))}},add:function(b,f,e,j){f=i.trim(f);if(c.batchForType(h.add,b,f,e,j))return b;for(var b=a.query(b),d=b.length-1;0<=d;d--)h.__add(!0,b[d],f,e,j);return b}})},{requires:"./base,dom,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/base",function(i,h,a,c,p,b,e){function f(b,f,d,j){if(!n(b))return!1;var l=e[f];l&&l.onFix&&(f=l.onFix);var r=!0;d instanceof a?l=d:(l=new a(b,void 0,f),i.mix(l,d));l._ks_fired=1;l.type=f;var d=b,q,o=h._getWin(d.ownerDocument||d),v="on"+f;do l.currentTarget=d,q=p(d,l),!1!==r&&(r=q),d[v]&&!1===d[v].call(d)&&l.preventDefault(),d=d.parentNode||d.ownerDocument||d===b.ownerDocument&&o;while(!j&&d&&!l.isPropagationStopped);if(!j&&!l.isDefaultPrevented&&!("click"===f&&"a"==g(b))){var u;try{if(v&&
b[f]&&("focus"!==f&&"blur"!==f||0!==b.offsetWidth)&&!i.isWindow(b))(u=b[v])&&(b[v]=null),c.Event_Triggered=f,b[f]()}catch(x){}u&&(b[v]=u);c.Event_Triggered=t}return r}var n=c.isValidTarget,j=c.splitAndRun,g=h.nodeName,o=i.trim,t=c.TRIGGERED_NONE,q={_clone:function(a,f){if(n(f)&&n(a)&&b._hasData(a,!1)){var d=b._data(a,void 0,!1).events;i.each(d,function(d,a){i.each(d,function(d){q.on(f,a,{data:d.data,fn:d.fn,groups:d.groups,last:d.last,originalType:d.originalType,scope:d.scope,selector:d.selector})})})}},
fire:function(b,e,d,n){var l=!0,t,d=d||{};if(i.isString(e)){e=o(e);if(-1<e.indexOf(" "))return j(e,function(a){t=q.fire(b,a,d,n);!1!==l&&(l=t)}),l;d.type=e}else e instanceof a&&(d=e,e=d.type);var e=c.getTypedGroups(e),g=e[1];g&&(g=c.getGroupsRe(g));e=e[0];i.mix(d,{type:e,_ks_groups:g});b=h.query(b);for(g=b.length-1;0<=g;g--)t=f(b[g],e,d,n),!1!==l&&(l=t);return l},fireHandler:function(b,a,d){return q.fire(b,a,d,1)}};return q},{requires:"dom,./object,./utils,./handle,./data,./special".split(",")});
KISSY.add("event/change",function(i,h,a,c,p){var b=i.Env.host.document,b=b&&b.documentMode;if(h.ie&&(9>h.ie||b&&9>b)){var e=/^(?:textarea|input|select)$/i,f=function(b){b=b.type;return"checkbox"==b||"radio"==b};p.change={setup:function(){if(e.test(this.nodeName))if(f(this))a.on(this,"propertychange",n),a.on(this,"click",j);else return!1;else a.on(this,"beforeactivate",g)},tearDown:function(){if(e.test(this.nodeName))if(f(this))a.remove(this,"propertychange",n),a.remove(this,"click",j);else return!1;
else a.remove(this,"beforeactivate",g),i.each(c.query("textarea,input,select",this),function(b){b.__changeHandler&&(b.__changeHandler=0,a.remove(b,"change",{fn:o,last:1}))})}};var n=function(b){"checked"==b.originalEvent.propertyName&&(this.__changed=1)},j=function(b){this.__changed&&(this.__changed=0,a.fire(this,"change",b))},g=function(b){b=b.target;e.test(b.nodeName)&&!b.__changeHandler&&(b.__changeHandler=1,a.on(b,"change",{fn:o,last:1}))},o=function(b){if(!b.isPropagationStopped&&!f(this)){var e;
(e=this.parentNode)&&a.fire(e,"change",b)}}}},{requires:["ua","./base","dom","./special"]});KISSY.add("event/data",function(i,h,a){var c=a.EVENT_GUID;return{_hasData:function(a,b){return b?a[c]&&!i.isEmptyObject(a[c]):h.hasData(a,c)},_data:function(a,b,e){return e?void 0!==b?a[c]=b:a[c]:h.data(a,c,b)},_removeData:function(a,b){if(b)delete a[c];else return h.removeData(a,c)}}},{requires:["dom","./utils"]});
KISSY.add("event",function(i,h,a,c,p,b){i.mix(c,{KeyCodes:a,Target:p,Object:b,on:c.add,detach:c.remove,delegate:function(b,a,n,j,g){return c.add(b,a,{fn:j,scope:g,selector:n})},undelegate:function(b,a,n,j,g){return c.remove(b,a,{fn:j,scope:g,selector:n})}});i.mix(c,h);i.mix(i,{Event:c,EventTarget:c.Target,EventObject:c.Object});return c},{requires:"event/data,event/key-codes,event/base,event/target,event/object,event/focusin,event/hashchange,event/valuechange,event/mouseenter,event/submit,event/change,event/mousewheel,event/add,event/remove".split(",")});
KISSY.add("event/focusin",function(i,h,a,c){h.ie||i.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(h){function b(b){return a.fire(b.target,h.name)}var e=i.guid("attaches_"+i.now()+"_");c[h.name]={setup:function(){var a=this.ownerDocument||this;e in a||(a[e]=0);a[e]+=1;1===a[e]&&a.addEventListener(h.fix,b,!0)},tearDown:function(){var a=this.ownerDocument||this;a[e]-=1;0===a[e]&&a.removeEventListener(h.fix,b,!0)}}});c.focus={delegateFix:"focusin"};c.blur={delegateFix:"focusout"};
return a},{requires:["ua","./base","./special"]});
KISSY.add("event/handle",function(i,h,a,c){return function(i,b,e){var f=a._data(i,void 0,e),n=(f&&f.events||{})[b.type]||[],j=b.target,g,f=[],o,t,q,k=n.delegateCount||0,m,d;if(k&&!j.disabled)for(;j!=i;){m=[];for(q=0;q<k;q++)g=n[q],h.test(j,g.selector)&&m.push(g);m.length&&f.push({currentTarget:j,currentTargetHandlers:m});j=j.parentNode||i}f.push({currentTarget:i,currentTargetHandlers:n.slice(k)});var j=b.type,s,k=b._ks_groups;q=0;for(n=f.length;!b.isPropagationStopped&&q<n;++q){g=f[q];m=g.currentTargetHandlers;
g=g.currentTarget;b.currentTarget=g;for(g=0;!b.isImmediatePropagationStopped&&g<m.length;g++)if(d=m[g],!k||d.groups&&d.groups.match(k)){var l=d.data;b.type=d.originalType||j;!e&&(s=c[b.type])&&s.handle?(d=s.handle(b,d,l),0<d.length&&(o=d[0])):o=d.fn.call(d.scope||i,b,l);!1!==t&&(t=o);!1===o&&b.halt()}}return t}},{requires:["dom","./data","./special"]});
KISSY.add("event/hashchange",function(i,h,a,c,p){var b=i.Env.host,e=b.document,f=e&&e.documentMode,n="__replace_history_"+i.now(),c=f||c.ie;h.REPLACE_HISTORY=n;if(!("onhashchange"in b)||c&&8>c){var j="<html><head><title>"+(e&&e.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",g=function(){return"#"+(new i.Uri(location.href)).getFragment()},o,t,q=function(){var b=g(),a;if(a=i.endsWith(b,n))b=b.slice(0,-n.length),location.hash=b;b!==t&&(t=b,k(b,a));o=setTimeout(q,50)},k=c&&8>c?
function(b,d){var f=i.substitute(j,{hash:i.escapeHTML(b),head:a.isCustomDomain()?"<script>document.domain = '"+e.domain+"';<\/script>":""}),c=s.contentWindow.document;try{d?c.open("text/html","replace"):c.open(),c.write(f),c.close()}catch(g){}}:function(){h.fire(b,"hashchange")},m=function(){o||q()},d=function(){o&&clearTimeout(o);o=0},s;8>c&&(m=function(){if(!s){var d=a.getEmptyIframeSrc();s=a.create("<iframe "+(d?'src="'+d+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');
a.prepend(s,e.documentElement);h.add(s,"load",function(){h.remove(s,"load");k(g());h.add(s,"load",c);q()});e.onpropertychange=function(){try{"title"===event.propertyName&&(s.contentWindow.document.title=e.title+" - "+g())}catch(b){}};var c=function(){var a=i.trim(s.contentWindow.document.body.innerText),d=g();a!=d&&(t=location.hash=a);h.fire(b,"hashchange")}}},d=function(){o&&clearTimeout(o);o=0;h.detach(s);a.remove(s);s=0});p.hashchange={setup:function(){if(this===b){t=g();m()}},tearDown:function(){this===
b&&d()}}}},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/key-codes",function(i,h){var a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(c){if(c.altKey&&!c.ctrlKey||c.metaKey||c.keyCode>=a.F1&&c.keyCode<=a.F12)return!1;switch(c.keyCode){case a.ALT:case a.CAPS_LOCK:case a.CONTEXT_MENU:case a.CTRL:case a.DOWN:case a.END:case a.ESC:case a.HOME:case a.INSERT:case a.LEFT:case a.MAC_FF_META:case a.META:case a.NUMLOCK:case a.NUM_CENTER:case a.PAGE_DOWN:case a.PAGE_UP:case a.PAUSE:case a.PRINT_SCREEN:case a.RIGHT:case a.SHIFT:case a.UP:case a.WIN_KEY:case a.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(c){if(c>=a.ZERO&&c<=a.NINE||c>=a.NUM_ZERO&&c<=a.NUM_MULTIPLY||c>=a.A&&c<=a.Z||h.webkit&&0==c)return!0;switch(c){case a.SPACE:case a.QUESTION_MARK:case a.NUM_PLUS:case a.NUM_MINUS:case a.NUM_PERIOD:case a.NUM_DIVISION:case a.SEMICOLON:case a.DASH:case a.EQUALS:case a.COMMA:case a.PERIOD:case a.SLASH:case a.APOSTROPHE:case a.SINGLE_QUOTE:case a.OPEN_SQUARE_BRACKET:case a.BACKSLASH:case a.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return a},{requires:["ua"]});
KISSY.add("event/mouseenter",function(i,h,a,c,p){i.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(b){p[b.name]={onFix:b.fix,delegateFix:b.fix,handle:function(b,c,n){var j=b.currentTarget,g=b.relatedTarget;return!g||g!==j&&!a.contains(j,g)?[c.fn.call(c.scope||j,b,n)]:[]}}});return h},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/mousewheel",function(i,h,a,c,p,b,e,f){function n(a){var c,e,f,d=a.detail;a.wheelDelta&&(f=a.wheelDelta/120);a.detail&&(f=-(0==d%3?d/3:d));void 0!==a.axis&&(a.axis===a.HORIZONTAL_AXIS?(e=0,c=-1*f):a.axis===a.VERTICAL_AXIS&&(c=0,e=f));void 0!==a.wheelDeltaY&&(e=a.wheelDeltaY/120);void 0!==a.wheelDeltaX&&(c=-1*a.wheelDeltaX/120);!c&&!e&&(e=f);a=new p(this,a);i.mix(a,{deltaY:e,delta:f,deltaX:c,type:"mousewheel"});return b(this,a)}var j=a.gecko?"DOMMouseScroll":"mousewheel",g=c.simpleRemove,
o=c.simpleAdd;f.mousewheel={setup:function(){var a;a=e._data(this,void 0,!1).mousewheelHandler=i.bind(n,this);o(this,j,a)},tearDown:function(){var a,b=e._data(this,void 0,!1);a=b.mousewheelHandler;g(this,j,a);delete b[a]}}},{requires:"./base,ua,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/object",function(i,h){function a(a,c,e){this.originalEvent=c||{};this.currentTarget=a;c?(this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.returnValue===b||c.getPreventDefault&&c.getPreventDefault()?p:b,this._fix()):(this.type=e,this.target=a);this.currentTarget=a;this.fixed=p}var c=i.Env.host.document,p=!0,b=!1,e="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which,axis".split(",");
a.prototype={constructor:a,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,_fix:function(){for(var a=this.originalEvent,b=e.length,j,g=this.currentTarget,g=9===g.nodeType?g:g.ownerDocument||c;b;)j=e[--b],this[j]=a[j];this.target||(this.target=this.srcElement||g);3===this.target.nodeType&&(this.target=this.target.parentNode);!this.relatedTarget&&this.fromElement&&(this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement);this.pageX===h&&this.clientX!==
h&&(a=g.documentElement,b=g.body,this.pageX=this.clientX+(a&&a.scrollLeft||b&&b.scrollLeft||0)-(a&&a.clientLeft||b&&b.clientLeft||0),this.pageY=this.clientY+(a&&a.scrollTop||b&&b.scrollTop||0)-(a&&a.clientTop||b&&b.clientTop||0));this.which===h&&(this.which=this.charCode===h?this.keyCode:this.charCode);this.metaKey===h&&(this.metaKey=this.ctrlKey);!this.which&&this.button!==h&&(this.which=this.button&1?1:this.button&2?3:this.button&4?2:0)},preventDefault:function(){var a=this.originalEvent;a.preventDefault?
a.preventDefault():a.returnValue=b;this.isDefaultPrevented=p},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=p;this.isPropagationStopped=p},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}};return a});
KISSY.add("event/remove",function(i,h,a,c,p,b){var e=c.isValidTarget,f=c.simpleRemove;i.mix(h,{__remove:function(a,j,g,o,t){if(j&&(!a||e(j))){var q=c.getTypedGroups(g),g=q[0],k=q[1],q=!a,m,d=o,s=t,l,r=b[g];i.isObject(o)&&(t=o.scope,l="selector"in o,m=o.selector,o=o.fn,m&&r&&r.delegateFix&&(g=r.delegateFix));m||r&&r.onFix&&(g=r.onFix);var y=(r=p._data(j,void 0,q))&&r.events,w,v,u,x=a&&b[g]||{};if(y)if(g){var z;k&&(z=c.getGroupsRe(k));if(k=y[g]){s=k.length;if((o||l||z)&&s){t=t||j;v=w=0;for(u=[];w<s;++w)d=
k[w],t!=(d.scope||j)||o&&o!=d.fn||l&&(m&&m!=d.selector||!m&&!d.selector)||z&&!d.groups.match(z)?u[v++]=d:(d.selector&&k.delegateCount&&k.delegateCount--,d.last&&k.lastCount&&k.lastCount--,x.remove&&x.remove.call(j,d));u.delegateCount=k.delegateCount;u.lastCount=k.lastCount;y[g]=u;s=u.length}else s=0;s||(a&&(!x.tearDown||!1===x.tearDown.call(j))&&f(j,g,r.handler),delete y[g])}i.isEmptyObject(y)&&((r.handler||{}).target=null,delete r.handler,delete r.events,p._removeData(j,q))}else for(g in y)y.hasOwnProperty(g)&&
h.__remove(a,j,g+k,d,s)}},remove:function(b,e,g,f){e=i.trim(e);if(c.batchForType(h.remove,b,e,g,f))return b;for(var b=a.query(b),p=b.length-1;0<=p;p--)h.__remove(!0,b[p],e,g,f);return b}})},{requires:["./base","dom","./utils","./data","./special"]});KISSY.add("event/special",function(){return{}});
KISSY.add("event/submit",function(i,h,a,c,p){var b=i.Env.host.document,b=b&&b.documentMode;if(h.ie&&(9>h.ie||b&&9>b)){var e=c.nodeName;p.submit={setup:function(){if("form"==e(this))return!1;a.on(this,"click keypress",f)},tearDown:function(){if("form"==e(this))return!1;a.remove(this,"click keypress",f);i.each(c.query("form",this),function(b){b.__submit__fix&&(b.__submit__fix=0,a.remove(b,"submit",{fn:n,last:1}))})}};var f=function(b){var b=b.target,c=e(b);if((b="input"==c||"button"==c?b.form:null)&&
!b.__submit__fix)b.__submit__fix=1,a.on(b,"submit",{fn:n,last:1})},n=function(b){this.parentNode&&!b.isPropagationStopped&&!b._ks_fired&&a.fire(this.parentNode,"submit",b)}}},{requires:["ua","./base","dom","./special"]});
KISSY.add("event/target",function(i,h,a,c,p,b){function e(d,c,e){if(e instanceof a)return e.currentTarget=d,e;d=new a(d,b,c);i.mix(d,e);return d}function f(a){a[o]=a[o]||{};return a[o]}function n(a){a[k]=a[k]||{};return a[k]}function j(a,b){var c=f(a);return c[b]&&c[b].bubbles||c[m]&&c[m].bubbles}function g(a){return function(b,c,e){var f=this,b=t(b);q(b,function(b){h["__"+a](!1,f,b,c,e)});return f}}var o="__~ks_publish",t=i.trim,q=c.splitAndRun,k="__~ks_bubble_targets",m="*";return{fire:function(a,
f){var g=this,h=b,n,k,m,f=f||{},a=t(a);if(0<a.indexOf(" "))return q(a,function(a){n=g.fire(a,f);!1!==h&&(h=n)}),h;k=c.getTypedGroups(a);m=k[1];a=k[0];m&&(m=c.getGroupsRe(m));i.mix(f,{type:a,_ks_groups:m});k=e(g,a,f);h=p(g,k,!0);if(!k.isPropagationStopped&&(k.target!=g||j(g,a)))n=g.bubble(a,k),!1!==h&&(h=n);return h},publish:function(a,b){var c=f(this);(a=t(a))&&q(a,function(a){c[a]=b})},bubble:function(a,c){var e=b,f=n(this);i.each(f,function(b){b=b.fire(a,c);!1!==e&&(e=b)});return e},addTarget:function(a){n(this)[i.stamp(a)]=
a},removeTarget:function(a){delete n(this)[i.stamp(a)]},on:g("add"),detach:g("remove")}},{requires:["./base","./object","./utils","./handle"]});
KISSY.add("event/utils",function(i,h){var a=h.NodeType,c=i.Env.host.document,p=c&&c.addEventListener?function(a,c,f,h){a.addEventListener&&a.addEventListener(c,f,!!h)}:function(a,c,f){a.attachEvent&&a.attachEvent("on"+c,f)},c=c&&c.removeEventListener?function(a,c,f,h){a.removeEventListener&&a.removeEventListener(c,f,!!h)}:function(a,c,f){a.detachEvent&&a.detachEvent("on"+c,f)};return{Event_Triggered:"",TRIGGERED_NONE:"trigger-none-"+i.now(),EVENT_GUID:"ksEventTargetId"+i.now(),splitAndRun:function(a,
c){i.each(a.split(/\s+/),c)},batchForType:function(a,c,f){if(f&&0<f.indexOf(" ")){var h=i.makeArray(arguments);i.each(f.split(/\s+/),function(f){var g=[].concat(h);g.splice(0,3,c,f);a.apply(null,g)});return!0}return 0},isValidTarget:function(b){return b&&b.nodeType!==a.TEXT_NODE&&b.nodeType!==a.COMMENT_NODE},isIdenticalHandler:function(a,c,f){var h=a.scope||f,i=1,f=c.scope||f;if(a.fn!==c.fn||a.selector!==c.selector||a.data!==c.data||h!==f||a.originalType!==c.originalType||a.groups!==c.groups||a.last!==
c.last)i=0;return i},simpleAdd:p,simpleRemove:c,getTypedGroups:function(a){if(0>a.indexOf("."))return[a,""];var c=a.match(/([^.]+)?(\..+)?$/),a=[c[1]];(c=c[2])?(c=c.split(".").sort(),a.push(c.join("."))):a.push("");return a},getGroupsRe:function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}},{requires:["dom"]});
KISSY.add("event/valuechange",function(i,h,a,c){function p(b){if(a.hasData(b,k)){var c=a.data(b,k);clearTimeout(c);a.removeData(b,k)}}function b(a){p(a.target)}function e(b){var c=b.value,e=a.data(b,q);c!==e&&(h.fire(b,o,{prevVal:e,newVal:c},!0),a.data(b,q,c))}function f(b){a.hasData(b,k)||a.data(b,k,setTimeout(function(){e(b);a.data(b,k,setTimeout(arguments.callee,m))},m))}function n(b){var c=b.target;"focus"==b.type&&a.data(c,q,c.value);f(c)}function j(a){e(a.target)}function g(c){a.removeData(c,
q);p(c);h.remove(c,"blur",b);h.remove(c,"webkitspeechchange",j);h.remove(c,"mousedown keyup keydown focus",n)}var o="valuechange",t=a.nodeName,q="event/valuechange/history",k="event/valuechange/poll",m=50;c[o]={setup:function(){var a=t(this);if("input"==a||"textarea"==a)g(this),h.on(this,"blur",b),h.on(this,"webkitspeechchange",j),h.on(this,"mousedown keyup keydown focus",n)},tearDown:function(){g(this)}};return h},{requires:["./base","dom","./special"]});
