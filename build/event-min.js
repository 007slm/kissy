/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Mar 6 16:38
*/
KISSY.add("event/add",function(b,j,p,n,i,d,m,k){function l(e,o,h,c,a){var g=k[o]||{};if(!c.length&&(!g.setup||g.setup.call(e)===false))f(e,o,h);g.add&&g.add.call(e,a)}var f=n.simpleAdd,r=n.isValidTarget,t=n.isIdenticalHandler;b.mix(j,{__add:function(e,o,h,c,a){var g=n.getTypedGroups(h);h=g[0];var q=g[1],s,u;g=k[h];var w,v,x;if(b.isObject(c)){v=c.last;a=c.scope;u=c.data;x=c.selector;c=c.fn;if(x)if(g&&g.delegateFix){w=h;h=g.delegateFix}}if(!x)if(g&&g.onFix){w=h;h=g.onFix}if(!(!h||!o||!b.isFunction(c)||
e&&!r(o))){(s=j._data(o))||m._data(o,s={});g=s.events=s.events||{};g=g[h]=g[h]||[];c={fn:c,scope:a,selector:x,last:v,data:u,groups:q,originalType:w};var y=s.handler;if(!y){y=s.handler=function(z,B){if(!(typeof KISSY=="undefined"||z&&z.type==n.Event_Triggered)){var C=y.target,A;if(!z||!z.fixed)z=new i(C,z);A=z.type;b.isPlainObject(B)&&b.mix(z,B);if(A)z.type=A;return d(C,z)}};y.target=o}for(a=g.length-1;a>=0;--a)if(t(g[a],c,o))return;if(e){l(o,h,y,g,c);o=null}if(x){e=g.delegateCount=g.delegateCount||
0;g.splice(e,0,c);g.delegateCount++}else{g.lastCount=g.lastCount||0;if(v){g.push(c);g.lastCount++}else g.splice(g.length-g.lastCount,0,c)}}},add:function(e,o,h,c){o=b.trim(o);if(n.batchForType(j.add,e,o,h,c))return e;e=p.query(e);for(var a=e.length-1;a>=0;a--)j.__add(true,e[a],o,h,c);return e}})},{requires:["./base","dom","./utils","./object","./handle","./data","./special"]});
KISSY.add("event/base",function(b,j,p,n,i,d,m){function k(h,c,a,g){if(!l(h))return false;var q=m[c];if(q&&q.onFix)c=q.onFix;var s=true;if(a instanceof p)q=a;else{q=new p(h,undefined,c);b.mix(q,a)}q._ks_fired=1;q.type=c;a=h;var u,w=j._getWin(a.ownerDocument||a),v="on"+c;do{q.currentTarget=a;u=i(a,q);if(s!==false)s=u;a[v]&&a[v].call(a)===false&&q.preventDefault();a=a.parentNode||a.ownerDocument||a===h.ownerDocument&&w}while(!g&&a&&!q.isPropagationStopped);if(!g&&!q.isDefaultPrevented)if(!(c==="click"&&
r(h,"a"))){var x;try{if(v&&h[c]&&(c!=="focus"&&c!=="blur"||h.offsetWidth!==0)&&!b.isWindow(h)){if(x=h[v])h[v]=null;n.Event_Triggered=c;h[c]()}}catch(y){}if(x)h[v]=x;n.Event_Triggered=e}return s}var l=n.isValidTarget,f=n.splitAndRun,r=j._nodeName,t=b.trim,e=n.TRIGGERED_NONE,o={_clone:function(h,c){if(!(c.nodeType!==j.ELEMENT_NODE||!d._hasData(h))){var a=d._data(h).events;b.each(a,function(g,q){b.each(g,function(s){o.on(c,q,{fn:s.fn,scope:s.scope,data:s.data,originalType:s.originalType,selector:s.selector})})})}},
fire:function(h,c,a,g){var q=true,s;a=a||{};if(b.isString(c)){c=t(c);if(c.indexOf(" ")>-1){f(c,function(w){s=o.fire(h,w,a,g);if(q!==false)q=s});return q}a.type=c}else if(c instanceof p){a=c;c=a.type}c=n.getTypedGroups(c);var u=c[1];if(u)u=n.getGroupsRe(u);c=c[0];b.mix(a,{type:c,_ks_groups:u});h=j.query(h);for(u=h.length-1;u>=0;u--){s=k(h[u],c,a,g);if(q!==false)q=s}return q},fireHandler:function(h,c,a){return o.fire(h,c,a,1)}};return o},{requires:["dom","./object","./utils","./handle","./data","./special"]});
KISSY.add("event/change",function(b,j,p,n,i){var d=b.Env.host.document.documentMode;if(j.ie&&(j.ie<9||d&&d<9)){var m=/^(?:textarea|input|select)$/i,k=function(e){e=e.type;return e=="checkbox"||e=="radio"};i.change={setup:function(){if(m.test(this.nodeName))if(k(this)){p.on(this,"propertychange",l);p.on(this,"click",f)}else return false;else p.on(this,"beforeactivate",r)},tearDown:function(){if(m.test(this.nodeName))if(k(this)){p.remove(this,"propertychange",l);p.remove(this,"click",f)}else return false;
else{p.remove(this,"beforeactivate",r);b.each(n.query("textarea,input,select",this),function(e){if(e.__changeHandler){e.__changeHandler=0;p.remove(e,"change",{fn:t,last:1})}})}}};var l=function(e){if(e.originalEvent.propertyName=="checked")this.__changed=1},f=function(e){if(this.__changed){this.__changed=0;p.fire(this,"change",e)}},r=function(e){e=e.target;if(m.test(e.nodeName)&&!e.__changeHandler){e.__changeHandler=1;p.on(e,"change",{fn:t,last:1})}},t=function(e){if(!(e.isPropagationStopped||k(this))){var o;
if(o=this.parentNode)p.fire(o,"change",e)}}}},{requires:["ua","./base","dom","./special"]});KISSY.add("event/data",function(b,j,p){var n=p.EVENT_GUID,i=b.makeArray;return{_hasData:function(d){return j.hasData(d,n)},_data:function(){var d=i(arguments);d.splice(1,0,n);return j.data.apply(j,d)},_removeData:function(){var d=i(arguments);d.splice(1,0,n);return j.removeData.apply(j,d)}}},{requires:["dom","./utils"]});
KISSY.add("event",function(b,j,p,n,i,d){b.mix(n,{KeyCodes:p,Target:i,Object:d,on:n.add,detach:n.remove,delegate:function(m,k,l,f,r){return n.add(m,k,{fn:f,scope:r,selector:l})},undelegate:function(m,k,l,f,r){return n.remove(m,k,{fn:f,scope:r,selector:l})}});b.mix(n,j);b.mix(b,{Event:n,EventTarget:n.Target,EventObject:n.Object});return n},{requires:["event/data","event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/mouseenter","event/submit",
"event/change","event/mousewheel","event/add","event/remove"]});
KISSY.add("event/focusin",function(b,j,p,n){var i=b.guid("attaches_"+b.now()+"_");j.ie||b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(d){function m(k){return p.fire(k.target,d.name)}n[d.name]={setup:function(){var k=this.ownerDocument;k[i]+=1;k[i]===1&&k.addEventListener(d.fix,m,true)},tearDown:function(){var k=this.ownerDocument;k[i]-=1;k[i]===0&&k.removeEventListener(d.fix,m,true)}}});n.focus={delegateFix:"focusin"};n.blur={delegateFix:"focusout"};return p},{requires:["ua",
"./base","./special"]});
KISSY.add("event/handle",function(b,j,p,n){return function(i,d){var m=p._data(i),k=(m&&m.events||{})[d.type]||[],l=d.target,f;m=[];var r,t,e,o=k.delegateCount||0,h,c;if(o&&!l.disabled)for(;l!=i;){h=[];for(e=0;e<o;e++){f=k[e];j.test(l,f.selector)&&h.push(f)}h.length&&m.push({currentTarget:l,currentTargetHandlers:h});l=l.parentNode||i}m.push({currentTarget:i,currentTargetHandlers:k.slice(o)});l=d.type;var a;o=d._ks_groups;e=0;for(k=m.length;!d.isPropagationStopped&&e<k;++e){f=m[e];h=f.currentTargetHandlers;
f=f.currentTarget;d.currentTarget=f;for(f=0;!d.isImmediatePropagationStopped&&f<h.length;f++){c=h[f];if(!(o&&(!c.groups||!c.groups.match(o)))){var g=c.data;d.type=c.originalType||l;if((a=n[d.type])&&a.handle){c=a.handle(d,c,g);if(c.length>0)r=c[0]}else r=c.fn.call(c.scope||i,d,g);if(t!==false)t=r;r===false&&d.halt()}}}return t}},{requires:["dom","./data","./special"]});
KISSY.add("event/hashchange",function(b,j,p,n,i){var d=b.Env.host,m=d.document;n=m.documentMode||n.ie;if(!("onhashchange"in d)||n&&n<8){var k="<html><head><title>"+(m.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",l=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},f,r,t=function(){var a=l();if(a!==r){r=a;e(a)}f=setTimeout(t,50)},e=n&&n<8?function(a){a=b.substitute(k,{hash:a,head:p._isCustomDomain()?"<script>document.domain = '"+m.domain+"';<\/script>":""});
var g=c.contentWindow.document;try{g.open();g.write(a);g.close()}catch(q){}}:function(){j.fire(d,"hashchange")},o=function(){f||t()},h=function(){f&&clearTimeout(f);f=0},c;if(n<8){o=function(){if(!c){var a=p._genEmptyIframeSrc();c=p.create("<iframe "+(a?'src="'+a+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');p.prepend(c,m.documentElement);j.add(c,"load",function(){j.remove(c,"load");e(l());j.add(c,"load",g);t()});m.onpropertychange=function(){try{if(event.propertyName===
"title")c.contentWindow.document.title=m.title+" - "+l()}catch(q){}};var g=function(){var q=b.trim(c.contentWindow.document.body.innerText),s=l();if(q!=s)r=location.hash=q;j.fire(d,"hashchange")}}};h=function(){f&&clearTimeout(f);f=0;j.detach(c);p.remove(c);c=0}}i.hashchange={setup:function(){if(this===d){r=l();o()}},tearDown:function(){this===d&&h()}}}},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/keycodes",function(){var b={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};b.isTextModifyingKeyEvent=function(j){if(j.altKey&&!j.ctrlKey||j.metaKey||j.keyCode>=b.F1&&j.keyCode<=b.F12)return false;switch(j.keyCode){case b.ALT:case b.CAPS_LOCK:case b.CONTEXT_MENU:case b.CTRL:case b.DOWN:case b.END:case b.ESC:case b.HOME:case b.INSERT:case b.LEFT:case b.MAC_FF_META:case b.META:case b.NUMLOCK:case b.NUM_CENTER:case b.PAGE_DOWN:case b.PAGE_UP:case b.PAUSE:case b.PHANTOM:case b.PRINT_SCREEN:case b.RIGHT:case b.SHIFT:case b.UP:case b.WIN_KEY:case b.WIN_KEY_RIGHT:return false;
default:return true}};b.isCharacterKey=function(j){if(j>=b.ZERO&&j<=b.NINE)return true;if(j>=b.NUM_ZERO&&j<=b.NUM_MULTIPLY)return true;if(j>=b.A&&j<=b.Z)return true;if(goog.userAgent.WEBKIT&&j==0)return true;switch(j){case b.SPACE:case b.QUESTION_MARK:case b.NUM_PLUS:case b.NUM_MINUS:case b.NUM_PERIOD:case b.NUM_DIVISION:case b.SEMICOLON:case b.DASH:case b.EQUALS:case b.COMMA:case b.PERIOD:case b.SLASH:case b.APOSTROPHE:case b.SINGLE_QUOTE:case b.OPEN_SQUARE_BRACKET:case b.BACKSLASH:case b.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return b});KISSY.add("event/mouseenter",function(b,j,p,n,i){b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(d){i[d.name]={onFix:d.fix,delegateFix:d.fix,handle:function(m,k,l){var f=m.currentTarget,r=m.relatedTarget;if(!r||r!==f&&!p.contains(f,r)){m.stopPropagation();return[k.fn.call(k.scope||f,m,l)]}return[]}}});return j},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/mousewheel",function(b,j,p,n,i,d,m,k){function l(e){var o,h,c,a=e.detail;if(e.wheelDelta)c=e.wheelDelta/120;if(e.detail)c=-(a%3==0?a/3:a);if(e.axis!==undefined)if(e.axis===e.HORIZONTAL_AXIS){h=0;o=-1*c}else if(e.axis===e.VERTICAL_AXIS){o=0;h=c}if(e.wheelDeltaY!==undefined)h=e.wheelDeltaY/120;if(e.wheelDeltaX!==undefined)o=-1*e.wheelDeltaX/120;if(!o&&!h)h=c;e=new i(this,e);b.mix(e,{deltaY:h,delta:c,deltaX:o,type:"mousewheel"});return d(this,e)}var f=p.gecko?"DOMMouseScroll":"mousewheel",
r=n.simpleRemove,t=n.simpleAdd;k.mousewheel={setup:function(){var e;e=m._data(this).mousewheelHandler=b.bind(l,this);t(this,f,e)},tearDown:function(){var e,o=m._data(this);e=o.mousewheelHandler;r(this,f,e);delete o[e]}}},{requires:["./base","ua","./utils","./object","./handle","./data","./special"]});
KISSY.add("event/object",function(b,j){function p(k,l,f){this.originalEvent=l||{};this.currentTarget=k;if(l){this.type=l.type;this.isDefaultPrevented=l.defaultPrevented||l.returnValue===d||l.getPreventDefault&&l.getPreventDefault()?i:d;this._fix()}else{this.type=f;this.target=k}this.currentTarget=k;this.fixed=i}var n=b.Env.host.document,i=true,d=false,m="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");
b.augment(p,{isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,_fix:function(){var k=this.originalEvent,l=m.length,f,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||n;l;){f=m[--l];this[f]=k[f]}if(!this.target)this.target=this.srcElement||r;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===j&&this.clientX!==j){k=
r.documentElement;l=r.body;this.pageX=this.clientX+(k&&k.scrollLeft||l&&l.scrollLeft||0)-(k&&k.clientLeft||l&&l.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||l&&l.scrollTop||0)-(k&&k.clientTop||l&&l.clientTop||0)}if(this.which===j)this.which=this.charCode===j?this.keyCode:this.charCode;if(this.metaKey===j)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==j)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();
else k.returnValue=d;this.isDefaultPrevented=i},stopPropagation:function(){var k=this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=i;this.isPropagationStopped=i},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i;this.stopPropagation()},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return p});
KISSY.add("event/remove",function(b,j,p,n,i,d){var m=n.isValidTarget,k=n.simpleRemove;b.mix(j,{__remove:function(l,f,r,t,e){if(!(!f||l&&!m(f))){var o=n.getTypedGroups(r);r=o[0];var h=o[1],c,a=t,g=e,q;o=d[r];if(b.isObject(t)){e=t.scope;q="selector"in t;c=t.selector;t=t.fn;if(c)if(o&&o.delegateFix)r=o.delegateFix}if(!c)if(o&&o.onFix)r=o.onFix;var s=(o=i._data(f))&&o.events,u,w,v,x=l&&d[r]||{};if(s)if(r){var y;if(h)y=n.getGroupsRe(h);if(h=s[r]){g=h.length;if((t||q||y)&&g){e=e||f;w=u=0;for(v=[];u<g;++u){a=
h[u];if(e!=(a.scope||f)||t&&t!=a.fn||q&&(c&&c!=a.selector||!c&&!a.selector)||y&&!a.groups.match(y))v[w++]=a;else{a.selector&&h.delegateCount&&h.delegateCount--;a.last&&h.lastCount&&h.lastCount--;x.remove&&x.remove.call(f,a)}}v.delegateCount=h.delegateCount;v.lastCount=h.lastCount;s[r]=v;g=v.length}else g=0;if(!g){if(l&&(!x.tearDown||x.tearDown.call(f)===false))k(f,r,o.handler);delete s[r]}}if(b.isEmptyObject(s)){o.handler.target=null;delete o.handler;delete o.events;j._removeData(f)}}else for(r in s)s.hasOwnProperty(r)&&
j.__remove(l,f,r+h,a,g)}},remove:function(l,f,r,t){f=b.trim(f);if(n.batchForType(j.remove,l,f,r,t))return l;l=p.query(l);for(var e=l.length-1;e>=0;e--)j.__remove(true,l[e],f,r,t);return l}})},{requires:["./base","dom","./utils","./data","./special"]});KISSY.add("event/special",function(){return{}});
KISSY.add("event/submit",function(b,j,p,n,i){var d=b.Env.host.document.documentMode;if(j.ie&&(j.ie<9||d&&d<9)){var m=n._nodeName;i.submit={setup:function(){if(m(this,"form"))return false;p.on(this,"click keypress",k)},tearDown:function(){if(m(this,"form"))return false;p.remove(this,"click keypress",k);b.each(n.query("form",this),function(f){if(f.__submit__fix){f.__submit__fix=0;p.remove(f,"submit",{fn:l,last:1})}})}};var k=function(f){f=f.target;if((f=m(f,"input")||m(f,"button")?f.form:null)&&!f.__submit__fix){f.__submit__fix=
1;p.on(f,"submit",{fn:l,last:1})}},l=function(f){this.parentNode&&!f.isPropagationStopped&&!f._ks_fired&&p.fire(this.parentNode,"submit",f)}}},{requires:["ua","./base","dom","./special"]});
KISSY.add("event/target",function(b,j,p,n,i,d){function m(a,g,q){if(q instanceof p){q.currentTarget=a;return q}a=new p(a,d,g);b.mix(a,q);return a}function k(a){a[t]=a[t]||{};return a[t]}function l(a){a[h]=a[h]||{};return a[h]}function f(a,g){var q=k(a);return q[g]&&q[g].bubbles||q[c]&&q[c].bubbles}function r(a){return function(g,q,s){var u=this;g=e(g);o(g,function(w){j["__"+a](false,u,w,q,s)});return u}}var t="__~ks_publish",e=b.trim,o=n.splitAndRun,h="__~ks_bubble_targets",c="*";return{fire:function(a,
g){var q=this,s=d,u,w;g=g||{};a=e(a);if(a.indexOf(" ")>0){o(a,function(x){u=q.fire(x,g);if(s!==false)s=u});return s}w=n.getTypedGroups(a);var v=w[1];a=w[0];if(v)v=n.getGroupsRe(v);b.mix(g,{type:a,_ks_groups:v});w=m(q,a,g);s=i(q,w);if(!w.isPropagationStopped&&f(q,a)){u=q.bubble(a,w);if(s!==false)s=u}return s},publish:function(a,g){var q=k(this);if(a=e(a))q[a]=g},bubble:function(a,g){var q=d,s=l(this);b.each(s,function(u){u=u.fire(a,g);if(q!==false)q=u});return q},addTarget:function(a){l(this)[b.stamp(a)]=
a},removeTarget:function(a){delete l(this)[b.stamp(a)]},on:r("add"),detach:r("remove")}},{requires:["./base","./object","./utils","./handle"]});
KISSY.add("event/utils",function(b,j){var p=b.Env.host.document,n=p.addEventListener?function(i,d,m,k){i.addEventListener&&i.addEventListener(d,m,!!k)}:function(i,d,m){i.attachEvent&&i.attachEvent("on"+d,m)};p=p.removeEventListener?function(i,d,m,k){i.removeEventListener&&i.removeEventListener(d,m,!!k)}:function(i,d,m){i.detachEvent&&i.detachEvent("on"+d,m)};return{Event_Triggered:"",TRIGGERED_NONE:"trigger-none-"+b.now(),EVENT_GUID:"ksEventTargetId"+b.now(),splitAndRun:function(i,d){b.each(i.split(/\s+/),
d)},batchForType:function(i,d,m){if(m&&m.indexOf(" ")>0){var k=b.makeArray(arguments);b.each(m.split(/\s+/),function(l){var f=[].concat(k);f.splice(0,3,d,l);i.apply(null,f)});return true}return 0},isValidTarget:function(i){return i&&i.nodeType!==j.TEXT_NODE&&i.nodeType!==j.COMMENT_NODE},isIdenticalHandler:function(i,d,m){var k=i.scope||m,l=1;m=d.scope||m;if(i.fn!==d.fn||i.selector!==d.selector||i.data!==d.data||k!==m||i.originalType!==d.originalType||i.groups!==d.groups||i.last!==d.last)l=0;return l},
simpleAdd:n,simpleRemove:p,getTypedGroups:function(i){if(i.indexOf(".")<0)return[i,""];var d=i.match(/([^.]+)?(\..+)?$/);i=[d[1]];if(d=d[2]){d=d.split(".").sort();i.push(d.join("."))}else i.push("");return i},getGroupsRe:function(i){return RegExp(i.split(".").join(".*\\.")+"(?:\\.|$)")}}},{requires:["dom"]});
KISSY.add("event/valuechange",function(b,j,p,n){function i(a){if(p.hasData(a,h)){var g=p.data(a,h);clearTimeout(g);p.removeData(a,h)}}function d(a){i(a.target)}function m(a){var g=a.value,q=p.data(a,o);if(g!==q){j.fire(a,t,{prevVal:q,newVal:g},true);p.data(a,o,g)}}function k(a){p.hasData(a,h)||p.data(a,h,setTimeout(function(){m(a);p.data(a,h,setTimeout(arguments.callee,c))},c))}function l(a){var g=a.target;a.type=="focus"&&p.data(g,o,g.value);k(g)}function f(a){m(a.target)}function r(a){p.removeData(a,
o);i(a);j.remove(a,"blur",d);j.remove(a,"webkitspeechchange",f);j.remove(a,"mousedown keyup keydown focus",l)}var t="valuechange",e=p._nodeName,o="event/valuechange/history",h="event/valuechange/poll",c=50;n[t]={setup:function(){if(e(this,"input")||e(this,"textarea")){r(this);j.on(this,"blur",d);j.on(this,"webkitspeechchange",f);j.on(this,"mousedown keyup keydown focus",l)}},tearDown:function(){r(this)}};return j},{requires:["./base","dom","./special"]});
