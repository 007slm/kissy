/*
Copyright 2010, KISSY UI Library v1.1.2dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua",function(b){var j=navigator.userAgent,m="",n="",f,h={webkit:0,trident:0,gecko:0,presto:0,chrome:0,safari:0,firefox:0,ie:0,opera:0},g=function(c){var o=0;return parseFloat(c.replace(/\./g,function(){return o++===0?".":""}))};if((f=j.match(/AppleWebKit\/([\d.]*)/))&&f[1]){h[m="webkit"]=g(f[1]);if((f=j.match(/Chrome\/([\d.]*)/))&&f[1])h[n="chrome"]=g(f[1]);else if((f=j.match(/\/([\d.]*) Safari/))&&f[1])h[n="safari"]=g(f[1]);if(/ Mobile\//.test(j))h.mobile="apple";else if(f=j.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))h.mobile=
f[0].toLowerCase()}else if((f=j.match(/Presto\/([\d.]*)/))&&f[1]){h[m="presto"]=g(f[1]);if((f=j.match(/Opera\/([\d.]*)/))&&f[1]){h[n="opera"]=g(f[1]);if((f=j.match(/Opera\/.* Version\/([\d.]*)/))&&f[1])h[n]=g(f[1]);if((f=j.match(/Opera Mini[^;]*/))&&f)h.mobile=f[0].toLowerCase();else if((f=j.match(/Opera Mobi[^;]*/))&&f)h.mobile=f[0]}}else if((f=j.match(/MSIE\s([^;]*)/))&&f[1]){h[m="trident"]=0.1;h[n="ie"]=g(f[1]);if((f=j.match(/Trident\/([\d.]*)/))&&f[1])h[m]=g(f[1])}else if(f=j.match(/Gecko/)){h[m=
"gecko"]=0.1;if((f=j.match(/rv:([\d.]*)/))&&f[1])h[m]=g(f[1]);if((f=j.match(/Firefox\/([\d.]*)/))&&f[1])h[n="firefox"]=g(f[1])}h.core=m;h.shell=n;h._numberify=g;b.UA=h});
KISSY.add("ua-extra",function(b){var j=b.UA,m=navigator.userAgent,n,f,h={},g=j._numberify;if(m.match(/360SE/))h[f="se360"]=3;else if(m.match(/Maxthon/)&&(n=window.external)){f="maxthon";try{h[f]=g(n.max_version)}catch(c){h[f]=0.1}}else if(n=m.match(/TencentTraveler\s([\d.]*)/))h[f="tt"]=n[1]?g(n[1]):0.1;else if(m.match(/TheWorld/))h[f="theworld"]=3;else if(n=m.match(/SE\s([\d.]*)/))h[f="sougou"]=n[1]?g(n[1]):0.1;f&&(h.shell=f);b.mix(j,h)});
KISSY.add("dom",function(b,j){function m(n,f){return n&&n.nodeType===f}b.DOM={_isElementNode:function(n){return m(n,1)},_isKSNode:function(n){return b.Node&&m(n,b.Node.TYPE)},_getWin:function(n){return n&&"scrollTo"in n&&n.document?n:m(n,9)?n.defaultView||n.parentWindow:n===j?window:false},_nodeTypeIs:m}});
KISSY.add("selector",function(b,j){function m(a,d){var i,k=[],r,z;d=n(d);if(b.isString(a)){a=b.trim(a);if(x.test(a)){if(a=f(a.slice(1),d))k=[a]}else if(i=e.exec(a)){r=i[1];z=i[2];i=i[3];if(d=r?f(r,d):d)if(i)if(!r||a.indexOf(l)!==-1)k=g(i,z,d);else{if((a=f(r,d))&&y.hasClass(a,i))k=[a]}else if(z)k=h(z,d)}else if(b.ExternalSelector)return b.ExternalSelector(a,d);else c(a)}else if(a&&(a[w]||a[v]))k=a[w]?[a[w]()]:a[v]();else if(a&&(b.isArray(a)||a.item&&!a.nodeType))k=a;else if(a)k=[a];if(k.item)k=b.makeArray(k);
k.each=function(t,u){return b.each(k,t,u)};return k}function n(a){if(a===j)a=o;else if(b.isString(a)&&x.test(a))a=f(a.slice(1),o);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function f(a,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(a)}function h(a,d){return d.getElementsByTagName(a)}function g(a,d,i){i=a=i.getElementsByClassName(a);var k=0,r=0,z=a.length,t;if(d&&d!==q){i=[];for(d=d.toUpperCase();k<z;++k){t=a[k];if(t.tagName===d)i[r++]=t}}return i}function c(a){b.error("Unsupported selector: "+
a)}var o=document,y=b.DOM,l=" ",q="*",w="getDOMNode",v=w+"s",x=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=o.createElement("div");a.appendChild(o.createComment(""));if(a.getElementsByTagName(q).length>0)h=function(d,i){i=i.getElementsByTagName(d);if(d===q){d=[];for(var k=0,r=0,z;z=i[k++];)if(z.nodeType===1)d[r++]=z;i=d}return i}})();o.getElementsByClassName||(g=o.querySelectorAll?function(a,d,i){return i.querySelectorAll((d?d:"")+"."+a)}:function(a,d,i){d=i.getElementsByTagName(d||
q);i=[];var k=0,r=0,z=d.length,t,u;for(a=l+a+l;k<z;++k){t=d[k];if((u=t.className)&&(l+u+l).indexOf(a)>-1)i[r++]=t}return i});b.query=m;b.get=function(a,d){return m(a,d)[0]||null};b.mix(y,{query:m,get:b.get,filter:function(a,d){var i=m(a),k,r,z,t=[];if(b.isString(d)&&(k=e.exec(d))&&!k[1]){r=k[2];z=k[3];d=function(u){return!(r&&u.tagName!==r.toUpperCase()||z&&!y.hasClass(u,z))}}if(b.isFunction(d))t=b.filter(i,d);else if(d&&b.ExternalSelector)t=b.ExternalSelector._filter(a,d);else c(d);return t},test:function(a,
d){a=m(a);return y.filter(a,d).length===a.length}})});
KISSY.add("dom-class",function(b,j){function m(g,c,o,y){if(!(c=b.trim(c)))return y?false:j;g=b.query(g);var l=0,q=g.length;c=c.split(f);for(var w;l<q;l++){w=g[l];if(n._isElementNode(w)){w=o(w,c,c.length);if(w!==j)return w}}if(y)return false}var n=b.DOM,f=/[\.\s]\s*\.?/,h=/[\n\t]/g;b.mix(n,{hasClass:function(g,c){return m(g,c,function(o,y,l){if(o=o.className){o=" "+o+" ";for(var q=0,w=true;q<l;q++)if(o.indexOf(" "+y[q]+" ")<0){w=false;break}if(w)return true}},true)},addClass:function(g,c){m(g,c,function(o,
y,l){var q=o.className;if(q){var w=" "+q+" ";q=q;for(var v=0;v<l;v++)if(w.indexOf(" "+y[v]+" ")<0)q+=" "+y[v];o.className=b.trim(q)}else o.className=c})},removeClass:function(g,c){m(g,c,function(o,y,l){var q=o.className;if(q)if(l){q=(" "+q+" ").replace(h," ");for(var w=0,v;w<l;w++)for(v=" "+y[w]+" ";q.indexOf(v)>=0;)q=q.replace(v," ");o.className=b.trim(q)}else o.className=""})},replaceClass:function(g,c,o){n.removeClass(g,c);n.addClass(g,o)},toggleClass:function(g,c,o){var y=b.isBoolean(o),l;m(g,
c,function(q,w,v){for(var x=0,e;x<v;x++){e=w[x];l=y?!o:n.hasClass(q,e);n[l?"removeClass":"addClass"](q,e)}})}})});
KISSY.add("dom-attr",function(b,j){function m(e,a){return a&&a.nodeName.toUpperCase()===e.toUpperCase()}var n=b.UA,f=n.ie,h=f&&f<8,g=document.documentElement.textContent!==j?"textContent":"innerText",c=b.DOM,o=c._isElementNode,y=function(e){return c._nodeTypeIs(e,3)},l=/href|src|style/,q=/href|src|colspan|rowspan/,w=/\r/g,v=/radio|checkbox/,x={readonly:"readOnly"};h&&b.mix(x,{"for":"htmlFor","class":"className"});b.mix(c,{attr:function(e,a,d){if(b.isPlainObject(a))for(var i in a)c.attr(e,i,a[i]);
else if(a=b.trim(a)){a=a.toLowerCase();a=x[a]||a;if(d===j){e=b.get(e);if(!o(e))return j;var k;l.test(a)||(k=e[a]);if(k===j)k=e.getAttribute(a);if(h)if(q.test(a))k=e.getAttribute(a,2);else if(a==="style")k=e.style.cssText;return k===null?j:k}b.each(b.query(e),function(r){if(o(r))if(a==="style")r.style.cssText=d;else{if(a==="checked")r[a]=!!d;r.setAttribute(a,""+d)}})}},removeAttr:function(e,a){b.each(b.query(e),function(d){if(o(d)){c.attr(d,a,"");d.removeAttribute(a)}})},val:function(e,a){if(a===j){var d=
b.get(e);if(!o(d))return j;if(m("option",d))return(d.attributes.value||{}).specified?d.value:d.text;if(m("select",d)){var i=d.selectedIndex;e=d.options;if(i<0)return null;else if(d.type==="select-one")return c.val(e[i]);d=[];for(var k=0,r=e.length;k<r;++k)e[k].selected&&d.push(c.val(e[k]));return d}if(n.webkit&&v.test(d.type))return d.getAttribute("value")===null?"on":d.value;return(d.value||"").replace(w,"")}b.each(b.query(e),function(z){if(m("select",z)){if(b.isNumber(a))a+="";var t=b.makeArray(a),
u=z.options,A;k=0;for(r=u.length;k<r;++k){A=u[k];A.selected=b.inArray(c.val(A),t)}if(!t.length)z.selectedIndex=-1}else if(o(z))z.value=a})},text:function(e,a){if(a===j){e=b.get(e);if(o(e))return e[g]||"";else if(y(e))return e.nodeValue}else b.each(b.query(e),function(d){if(o(d))d[g]=a;else if(y(d))d.nodeValue=a})}})});
KISSY.add("dom-style",function(b,j){function m(a,d){var i=b.get(a),k=d===o?i.offsetWidth:i.offsetHeight;b.each(d===o?["Left","Right"]:["Top","Bottom"],function(r){k-=parseFloat(f._getComputedStyle(i,"padding"+r))||0;k-=parseFloat(f._getComputedStyle(i,"border"+r+"Width"))||0});return k}function n(a,d,i){var k=i;if(i===y&&q.test(d)){k=0;if(f.css(a,"position")==="absolute"){i=a[d==="left"?"offsetLeft":"offsetTop"];if(h.ie===8||h.opera)i-=l(f.css(a.offsetParent,"border-"+d+"-width"))||0;k=i-(l(f.css(a,
"margin-"+d))||0)}}return k}var f=b.DOM,h=b.UA,g=document,c=g.documentElement,o="width",y="auto",l=parseInt,q=/^left|top$/,w=/width|height|top|left|right|bottom|margin|padding/i,v=/-([a-z])/ig,x=function(a,d){return d.toUpperCase()},e={};b.mix(f,{_CUSTOM_STYLES:e,_getComputedStyle:function(a,d){var i="",k=a.ownerDocument;if(a.style)i=k.defaultView.getComputedStyle(a,null)[d];return i},css:function(a,d,i){if(b.isPlainObject(d))for(var k in d)f.css(a,k,d[k]);else{if(d.indexOf("-")>0)d=d.replace(v,x);
d=e[d]||d;if(i===j){a=b.get(a);k="";if(a&&a.style){k=d.get?d.get(a):a.style[d];if(k===""&&!d.get)k=n(a,d,f._getComputedStyle(a,d))}return k===j?"":k}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&w.test(d))i+="px";(d===o||d==="height")&&parseFloat(i)<0||b.each(b.query(a),function(r){if(r&&r.style){d.set?d.set(r,i):(r.style[d]=i);if(i==="")r.style.cssText||r.removeAttribute("style")}})}}},width:function(a,d){if(d===j)return m(a,o);else f.css(a,o,d)},height:function(a,d){if(d===j)return m(a,
"height");else f.css(a,"height",d)},addStyleSheet:function(a,d){var i;if(d)i=b.get(d);i||(i=f.create("<style>",{id:d}));b.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=a;else i.appendChild(g.createTextNode(a))}});if(c.style.cssFloat!==j)e["float"]="cssFloat";else if(c.style.styleFloat!==j)e["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,j){if(b.UA.ie){var m=b.DOM,n=document,f=n.documentElement,h=m._CUSTOM_STYLES,g=/^-?\d+(?:px)?$/i,c=/^-?\d/,o=/^width|height$/;try{if(f.style.opacity===j&&f.filters)h.opacity={get:function(l){var q=100;try{q=l.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(w){try{q=l.filters("alpha").opacity}catch(v){}}return q/100+""},set:function(l,q){l=l.style;l.zoom=1;l.filter="alpha(opacity="+q*100+")"}}}catch(y){b.log("IE filters ActiveX is disabled. ex = "+y)}if(!(n.defaultView||
{}).getComputedStyle&&f.currentStyle)m._getComputedStyle=function(l,q){var w=l.style,v=l.currentStyle[q];if(o.test(q))v=m[q](l)+"px";else if(!g.test(v)&&c.test(v)){var x=w.left,e=l.runtimeStyle.left;l.runtimeStyle.left=l.currentStyle.left;w.left=q==="fontSize"?"1em":v||0;v=w.pixelLeft+"px";w.left=x;l.runtimeStyle.left=e}return v}}});
KISSY.add("dom-offset",function(b,j){function m(t){var u=0,A=0,p=l(t[a]);if(t[z]){t=t[z]();u=t[d];A=t[i];if(h.mobile!=="apple"){u+=f[k](p);A+=f[r](p)}}return{left:u,top:A}}function n(t,u){if(f.css(t,x)==="static")t.style[x]=e;var A=m(t),p={},s,B;for(B in u){s=v(f.css(t,B),10)||0;p[B]=s+u[B]-A[B]}f.css(t,p)}var f=b.DOM,h=b.UA,g=window,c=document,o=f._isElementNode,y=f._nodeTypeIs,l=f._getWin,q=c.compatMode==="CSS1Compat",w=Math.max,v=parseInt,x="position",e="relative",a="ownerDocument",d="left",i=
"top",k="scrollLeft",r="scrollTop",z="getBoundingClientRect";b.mix(f,{offset:function(t,u){if(!(t=b.get(t))||!t[a])return null;if(u===j)return m(t);n(t,u)},scrollIntoView:function(t,u,A,p){if((t=b.get(t))&&t[a]){p=p===j?true:!!p;A=A===j?true:!!A;if(!u||u===g)return t.scrollIntoView(A);u=b.get(u);if(y(u,9))u=l(u);var s=u&&"scrollTo"in u&&u.document,B=f.offset(t),C=s?{left:f.scrollLeft(u),top:f.scrollTop(u)}:f.offset(u),D={left:B[d]-C[d],top:B[i]-C[i]};B=s?f.viewportHeight(u):u.clientHeight;C=s?f.viewportWidth(u):
u.clientWidth;var G=f[k](u),E=f[r](u),F=G+C,M=E+B,I=t.offsetHeight;t=t.offsetWidth;var H=D.left+G-(v(f.css(u,"borderLeftWidth"))||0);D=D.top+E-(v(f.css(u,"borderTopWidth"))||0);var N=H+t,J=D+I,K,L;if(I>B||D<E||A)K=D;else if(J>M)K=J-B;if(p)if(t>C||H<G||A)L=H;else if(N>F)L=N-C;if(s){if(K!==j||L!==j)u.scrollTo(L,K)}else{if(K!==j)u[r]=K;if(L!==j)u[k]=L}}}});b.each(["Left","Top"],function(t,u){var A="scroll"+t;f[A]=function(p){var s=0,B=l(p),C;if(B&&(C=B.document))s=B[u?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(o(p=b.get(p)))s=p[A];return s}});b.each(["Width","Height"],function(t){f["doc"+t]=function(u){u=u||c;return w(q?u.documentElement["scroll"+t]:u.body["scroll"+t],f["viewport"+t](u))};f["viewport"+t]=function(u){var A="inner"+t;u=l(u);var p=u.document;return A in u?u[A]:q?p.documentElement["client"+t]:p.body["client"+t]}})});
KISSY.add("dom-traversal",function(b,j){function m(g,c,o,y){if(!(g=b.get(g)))return null;if(c===j)c=1;var l=null,q,w;if(b.isNumber(c)&&c>=0){if(c===0)return g;q=0;w=c;c=function(){return++q===w}}for(;g=g[o];)if(h(g)&&(!c||f.test(g,c))&&(!y||y(g))){l=g;break}return l}function n(g,c,o){var y=[];var l=g=b.get(g);if(g&&o)l=g.parentNode;if(l){o=0;for(l=l.firstChild;l;l=l.nextSibling)if(h(l)&&l!==g&&(!c||f.test(l,c)))y[o++]=l}return y}var f=b.DOM,h=f._isElementNode;b.mix(f,{parent:function(g,c){return m(g,
c,"parentNode",function(o){return o.nodeType!=11})},next:function(g,c){return m(g,c,"nextSibling")},prev:function(g,c){return m(g,c,"previousSibling")},siblings:function(g,c){return n(g,c,true)},children:function(g,c){return n(g,c)},contains:function(g,c){var o=false;if((g=b.get(g))&&(c=b.get(c)))if(g.contains)return g.contains(c);else if(g.compareDocumentPosition)return!!(g.compareDocumentPosition(c)&16);else for(;!o&&(c=c.parentNode);)o=c==g;return o}})});
KISSY.add("dom-create",function(b,j){function m(p,s){w(p)&&b.isPlainObject(s)&&o.attr(p,s);return p}function n(p,s){var B=null,C;if(p&&(p.push||p.item)&&p[0]){s=s||p[0].ownerDocument;B=s.createDocumentFragment();if(p.item)p=b.makeArray(p);s=0;for(C=p.length;s<C;s++)B.appendChild(p[s])}else b.log("Unable to convert "+p+" to fragment.");return B}function f(p){var s=p.cloneNode(true);if(y.ie<8)s.innerHTML=p.innerHTML;return s}function h(p,s,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(a);s+='<span id="'+
D+'"></span>';b.available(D,function(){var E=b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(s);)if((I=(M=F[1])?M.match(i):false)&&I[2]){F=c.createElement("script");F.src=I[2];if((H=M.match(k))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=c.getElementById(D))&&o.remove(N);b.isFunction(C)&&C()});g(p,s)}else{g(p,s);b.isFunction(C)&&C()}}function g(p,s){s=(s+"").replace(a,"");try{p.innerHTML=s}catch(B){for(;p.firstChild;)p.removeChild(p.firstChild);
s&&p.appendChild(o.create(s))}}var c=document,o=b.DOM,y=b.UA,l=y.ie,q=o._nodeTypeIs,w=o._isElementNode,v=o._isKSNode,x=c.createElement("div"),e=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,d=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,i=/\ssrc=(['"])(.*?)\1/i,k=/\scharset=(['"])(.*?)\1/i;b.mix(o,{create:function(p,s,B){if(q(p,1)||q(p,3))return f(p);if(v(p))return f(p[0]);if(!(p=b.trim(p)))return null;var C=null;C=o._creators;var D,G="div",E;if(D=d.exec(p))C=(B||c).createElement(D[1]);else{if((D=e.exec(p))&&
(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=E;p=C[G](p,B).childNodes;C=p.length===1?p[0].parentNode.removeChild(p[0]):n(p,B||c)}return m(C,s)},_creators:{div:function(p,s){s=s?s.createElement("div"):x;s.innerHTML=p;return s}},html:function(p,s,B,C){if(s===j){p=b.get(p);if(w(p))return p.innerHTML}else b.each(b.query(p),function(D){w(D)&&h(D,s,B,C)})},remove:function(p){b.each(b.query(p),function(s){w(s)&&s.parentNode&&s.parentNode.removeChild(s)})}});if(y.gecko||l){var r=o._creators,z=o.create,
t=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,u={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in u)(function(p){r[A]=function(s,B){return z("<"+p+">"+s+"</"+p+">",null,B)}})(u[A]);if(l){r.script=function(p,s){s=s?s.createElement("div"):x;s.innerHTML="-"+p;s.removeChild(s.firstChild);return s};if(l<8)r.tbody=function(p,s){s=z("<table>"+p+"</table>",null,s);var B=s.children.tags("tbody")[0];s.children.length>1&&B&&!t.test(p)&&B.parentNode.removeChild(B);
return s}}b.mix(r,{optgroup:r.option,th:r.td,thead:r.tbody,tfoot:r.tbody,caption:r.tbody,colgroup:r.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(j,m){if((j=b.get(j))&&(m=b.get(m))&&m.parentNode)m.parentNode.insertBefore(j,m);return j},insertAfter:function(j,m){if((j=b.get(j))&&(m=b.get(m))&&m.parentNode)m.nextSibling?m.parentNode.insertBefore(j,m.nextSibling):m.parentNode.appendChild(j);return j}})});
KISSY.add("event",function(b,j){function m(e,a,d,i,k){if(b.isString(a))a=b.query(a);if(b.isArray(a)){b.each(a,function(r){x[e](r,d,i,k)});return true}if((d=b.trim(d))&&d.indexOf(q)>0){b.each(d.split(q),function(r){x[e](a,r,i,k)});return true}}function n(e){return g(e)?e[l]:-1}function f(e,a){if(!g(e))return b.error("Text or comment node is not valid event target.");try{e[l]=a}catch(d){b.error(d)}}function h(e){try{e[l]=j;delete e[l]}catch(a){}}function g(e){return e&&e.nodeType!==3&&e.nodeType!==
8}var c=document,o=c.addEventListener?function(e,a,d,i){e.addEventListener&&e.addEventListener(a,d,!!i)}:function(e,a,d){e.attachEvent&&e.attachEvent("on"+a,d)},y=c.removeEventListener?function(e,a,d,i){e.removeEventListener&&e.removeEventListener(a,d,!!i)}:function(e,a,d){e.detachEvent&&e.detachEvent("on"+a,d)},l="ksEventTargetId",q=" ",w=b.now(),v={},x={EVENT_GUID:l,special:{},add:function(e,a,d,i){if(!m("add",e,a,d,i)){var k=n(e),r,z,t,u,A;if(!(k===-1||!a||!b.isFunction(d))){if(!k){f(e,k=w++);
v[k]={target:e,events:{}}}z=v[k].events;if(!z[a]){r=((k=!e.isCustomEventTarget)||e._supportSpecialEvent)&&x.special[a]||{};t=function(p,s){if(!p||!p.fixed){p=new b.EventObject(e,p,a);b.isPlainObject(s)&&b.mix(p,s)}r.setup&&r.setup(p);return(r.handle||x._handle)(e,p,z[a].listeners)};z[a]={handle:t,listeners:[]};u=r.fix||a;A=r.capture;if(k)o(e,u,t,A);else e._addEvent&&e._addEvent(u,t,A)}z[a].listeners.push({fn:d,scope:i||e})}}},remove:function(e,a,d,i){if(!m("remove",e,a,d,i)){var k=n(e),r,z,t,u,A,
p,s;if(k!==-1)if(k&&(r=v[k]))if(r.target===e){i=i||e;r=r.events||{};if(z=r[a]){t=z.listeners;p=t.length;if(b.isFunction(d)&&p){A=u=0;for(s=[];u<p;++u)if(d!==t[u].fn||i!==t[u].scope)s[A++]=t[u];z.listeners=s;p=s.length}if(d===j||p===0){if(e.isCustomEventTarget)e._addEvent&&e._removeEvent(a,z.handle);else y(e,a,z.handle);delete r[a]}}if(a===j||b.isEmptyObject(r)){for(a in r)x.remove(e,a);delete v[k];h(e)}}}},_handle:function(e,a,d){d=d.slice(0);for(var i,k=0,r=d.length;k<r;++k){i=d[k];i=i.fn.call(i.scope||
e,a);if(i===false&&e.isCustomEventTarget||a.isImmediatePropagationStopped)break}return i},_getCache:function(e){return v[e]},_simpleAdd:o,_simpleRemove:y};x.on=x.add;b.Event=x});
KISSY.add("event-object",function(b,j){function m(h,g,c){this.currentTarget=h;this.originalEvent=g||{};if(g){this.type=g.type;this._fix()}else{this.type=c;this.target=h}this.currentTarget=h;this.fixed=true}var n=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(m,
{_fix:function(){var h=this.originalEvent,g=f.length,c,o=this.currentTarget;for(o=o.nodeType===9?o:o.ownerDocument||n;g;){c=f[--g];this[c]=h[c]}if(!this.target)this.target=this.srcElement||n;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===j&&this.clientX!==j){h=o.documentElement;g=o.body;this.pageX=this.clientX+(h&&h.scrollLeft||g&&g.scrollLeft||
0)-(h&&h.clientLeft||g&&g.clientLeft||0);this.pageY=this.clientY+(h&&h.scrollTop||g&&g.scrollTop||0)-(h&&h.clientTop||g&&g.clientTop||0)}if(this.which===j)this.which=this.charCode!==j?this.charCode:this.keyCode;if(this.metaKey===j)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==j)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=
this.originalEvent;if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=m});
KISSY.add("event-target",function(b,j){var m=b.Event,n=m.EVENT_GUID;b.EventTarget={isCustomEventTarget:true,fire:function(f,h){if((f=((m._getCache(this[n]||-1)||{}).events||{})[f])&&b.isFunction(f.handle))return f.handle(j,h);return this},on:function(f,h,g){m.add(this,f,h,g);return this},detach:function(f,h,g){m.remove(this,f,h,g);return this}}});
KISSY.add("event-mouseenter",function(b){var j=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(m){j.special[m.name]={fix:m.fix,setup:function(n){n.type=m.name},handle:function(n,f,h){var g=f.relatedTarget;try{for(;g&&g!==n;)g=g.parentNode;g!==n&&j._handle(n,f,h)}catch(c){}}}})});
KISSY.add("event-focusin",function(b){var j=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(m){j.special[m.name]={fix:m.fix,capture:true,setup:function(n){n.type=m.name}}})});
KISSY.add("node",function(b){function j(f,h,g){var c;if(!(this instanceof j))return new j(f,h,g);if(f){if(n(f,1)||n(f,3))c=f;else if(b.isString(f))c=m.create(f,h,g);this[0]=c}else this.length=0}var m=b.DOM,n=m._nodeTypeIs;j.TYPE="-ks-Node";b.augment(j,{length:1,getDOMNode:function(){return this[0]},nodeType:j.TYPE});b.one=function(f,h){return(f=b.get(f,h))?new j(f):null};b.Node=j});
KISSY.add("nodelist",function(b){function j(f){if(!(this instanceof j))return new j(f);n.push.apply(this,f||[])}var m=b.DOM,n=Array.prototype;b.mix(j.prototype,{length:0,item:function(f){var h=null;if(m._isElementNode(this[f]))h=new b.Node(this[f]);return h},getDOMNodes:function(){return n.slice.call(this)},each:function(f,h){var g=this.length,c=0,o;for(o=new b.Node(this[0]);c<g&&f.call(h||o,o,c,this)!==false;o=new b.Node(this[++c]));return this}});b.all=function(f,h){return new j(b.query(f,h,true))};
b.NodeList=j});
KISSY.add("node-attach",function(b,j){function m(v,arguments,x,e){var a=[this[v?y:o]()].concat(b.makeArray(arguments));if(arguments[x]===j)return e.apply(f,a);else{e.apply(f,a);return this}}function n(v,x){b.each(v,function(e){b.each([g,c],function(a,d){a[e]=function(i){switch(x){case l:return function(){return m.call(this,d,arguments,1,i)};case q:return function(){return m.call(this,d,arguments,0,i)};case w:return function(){var k=this[d?y:o]();return(k=i.apply(f,[k].concat(b.makeArray(arguments))))?new (b[b.isArray(k)?
"NodeList":"Node"])(k):null};default:return function(){var k=this[d?y:o]();k=i.apply(f,[k].concat(b.makeArray(arguments)));return k===j?this:k}}}(f[e])})})}var f=b.DOM,h=b.Event,g=b.Node.prototype,c=b.NodeList.prototype,o="getDOMNode",y=o+"s",l=1,q=2,w=4;b.mix(g,{one:function(v){return b.one(v,this[0])},all:function(v){return b.all(v,this[0])}});n(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);n(["attr","removeAttr"],l);n(["val","text"],q);n(["css"],l);n(["width","height"],q);
n(["offset"],q);n(["scrollIntoView"]);n(["parent","next","prev","siblings","children"],w);n(["contains"]);n(["html"],q);n(["remove"]);b.each(["insertBefore","insertAfter"],function(v){g[v]=function(x){f[v].call(f,this[0],x);return this}});b.each([g,c],function(v){b.mix(v,{append:function(x){x&&b.each(this,function(e){e.appendChild(f.create(x))});return this},appendTo:function(x){if((x=b.get(x))&&x.appendChild)b.each(this,function(e){x.appendChild(e)});return this}})});b.each([g,c],function(v){b.mix(v,
b.EventTarget,{_supportSpecialEvent:true});v._addEvent=function(x,e,a){for(var d=0,i=this.length;d<i;d++)h._simpleAdd(this[d],x,e,a)};v._removeEvent=function(x,e,a){for(var d=0,i=this.length;d<i;d++)h._simpleRemove(this[d],x,e,a)};delete v.fire})});
KISSY.add("cookie",function(b){function j(h){return b.isString(h)&&h!==""}var m=document,n=encodeURIComponent,f=decodeURIComponent;b.Cookie={get:function(h){var g;if(j(h))if(h=m.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))g=h[1]?f(h[1]):"";return g},set:function(h,g,c,o,y,l){g=n(g);var q=c;if(typeof q==="number"){q=new Date;q.setTime(q.getTime()+c*864E5)}if(q instanceof Date)g+="; expires="+q.toUTCString();if(j(o))g+="; domain="+o;if(j(y))g+="; path="+y;if(l)g+="; secure";m.cookie=h+"="+g},remove:function(h,
g,c,o){this.set(h,"",0,g,c,o)}}});
KISSY.add("json",function(b){function j(l){return l<10?"0"+l:l}function m(l){h.lastIndex=0;return h.test(l)?'"'+l.replace(h,function(q){var w=o[q];return typeof w==="string"?w:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'}function n(l,q){var w,v,x=g,e,a=q[l];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(l);if(typeof y==="function")a=y.call(q,l,a);switch(typeof a){case "string":return m(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";g+=c;e=[];if(Object.prototype.toString.apply(a)==="[object Array]"){v=a.length;for(l=0;l<v;l+=1)e[l]=n(l,a)||"null";q=e.length===0?"[]":g?"[\n"+g+e.join(",\n"+g)+"\n"+x+"]":"["+e.join(",")+"]";g=x;return q}if(y&&typeof y==="object"){v=y.length;for(l=0;l<v;l+=1){w=y[l];if(typeof w==="string")if(q=n(w,a))e.push(m(w)+(g?": ":":")+q)}}else for(w in a)if(Object.hasOwnProperty.call(a,w))if(q=n(w,a))e.push(m(w)+(g?": ":":")+q);q=e.length===0?"{}":g?"{\n"+g+e.join(",\n"+g)+
"\n"+x+"}":"{"+e.join(",")+"}";g=x;return q}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+j(this.getUTCMonth()+1)+"-"+j(this.getUTCDate())+"T"+j(this.getUTCHours())+":"+j(this.getUTCMinutes())+":"+j(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,c,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if(typeof b.stringify!=="function")b.stringify=function(l,q,w){var v;c=g="";if(typeof w==="number")for(v=0;v<w;v+=1)c+=" ";else if(typeof w==="string")c=w;if((y=q)&&typeof q!=="function"&&(typeof q!=="object"||typeof q.length!=="number"))throw new Error("JSON.stringify");return n("",
{"":l})};if(typeof b.parse!=="function")b.parse=function(l,q){function w(v,x){var e,a,d=v[x];if(d&&typeof d==="object")for(e in d)if(Object.hasOwnProperty.call(d,e)){a=w(d,e);if(a!==undefined)d[e]=a;else delete d[e]}return q.call(v,x,d)}l=String(l);f.lastIndex=0;if(f.test(l))l=l.replace(f,function(v){return"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(l.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){l=eval("("+l+")");return typeof q==="function"?w({"":l},""):l}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var j=Math,m=j.PI,n=j.pow,f=j.sin,h=1.70158,g={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(n(2,10*(c-=1))*f((c-0.075)*2*m/0.3))},
elasticOut:function(c){if(c===0||c===1)return c;return n(2,-10*c)*f((c-0.075)*2*m/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*n(2,10*(c-=1))*f((c-0.1125)*2*m/0.45);return n(2,-10*(c-=1))*f((c-0.1125)*2*m/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((h+1)*c-h)},backOut:function(c){return(c-=1)*c*((h+1)*c+h)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((h*=1.525)+1)*c-h);return 0.5*((c-=2)*c*(((h*=1.525)+1)*c+h)+2)},bounceIn:function(c){return 1-
g.bounceOut(1-c)},bounceOut:function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return g.bounceIn(c*2)*0.5;return g.bounceOut(c*2-1)*0.5+0.5}};b.Easing=g});
KISSY.add("anim",function(b,j){function m(e,a,d,i,k){if(e=b.get(e)){if(!(this instanceof m))return new m(e,a,d,i,k);var r=b.isPlainObject(d);a=a;this.domEl=e;if(b.isPlainObject(a))a=b.param(a,";").replace(/=/g,":");this.props=n(a);this.targetStyle=a;if(r)e=b.merge(x,d);else{e=b.clone(x);d&&(e.duration=l(d,10)||1);b.isString(i)&&(i=y[i]);b.isFunction(i)&&(e.easing=i);b.isFunction(k)&&(e.complete=k)}this.config=e;b.isFunction(k)&&this.on(v,k)}}function n(e){var a={},d=w.length,i;q.innerHTML='<div style="'+
e+'"></div>';for(e=q.firstChild.style;d--;)if(i=e[w[d]])a[w[d]]=f(i);return a}function f(e){var a=l(e);e=(e+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:e,u:"",f:g}:{v:a,u:e,f:h}}function h(e,a,d){return(e+(a-e)*d).toFixed(3)}function g(e,a,d){for(var i=2,k,r,z=[],t=[];k=3,r=arguments[i-1],i--;)if(c(r,0,4)==="rgb(")for(r=r.match(/\d+/g);k--;)z.push(~~r[k]);else if(c(r,0)==="#"){if(r.length===4)r="#"+c(r,1)+c(r,1)+c(r,2)+c(r,2)+c(r,3)+c(r,3);for(;k--;)z.push(parseInt(c(r,1+k*2,2),16))}else return a;
for(;k--;){i=~~(z[k+3]+(z[k]-z[k+3])*d);t.push(i<0?0:i>255?255:i)}return"rgb("+t.join(",")+")"}function c(e,a,d){return e.substr(a,d||1)}var o=b.DOM,y=b.Easing,l=parseFloat,q=o.create("<div>"),w="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
v="complete",x={duration:1,easing:y.easeNone};b.augment(m,b.EventTarget,{run:function(){var e=this,a=e.config,d=e.domEl,i=a.duration*1E3,k=a.easing,r=b.now(),z=r+i,t=e.props,u={},A;for(A in t)u[A]=f(o.css(d,A));if(e.fire("start")!==false){e.stop();e.timer=b.later(a=function(){var p=b.now(),s=p>z?1:(p-r)/i,B,C,D;for(A in t){B=u[A];C=t[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;o.css(d,A,C.f(B.v,C.v,k(s))+C.u)}if(e.fire("step")===false||(D=p>z)){e.stop();D&&e.fire(v)}},13,true);a();return e}},stop:function(e){var a=
this.domEl,d=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=j}if(e){b.UA.ie&&d.indexOf("opacity")>-1&&o.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+d;this.fire(v)}return this}});b.Anim=m});KISSY.add("anim-node-plugin",function(b,j){var m=b.Anim;b.each([b.Node.prototype,b.NodeList.prototype],function(n){n.animate=function(){var f=b.makeArray(arguments);b.each(this,function(h){m.apply(j,[h].concat(f)).run()});return this}})});
