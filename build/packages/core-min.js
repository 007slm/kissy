/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Sep 26 18:29
*/
KISSY.add("ua",function(b){var n=navigator.userAgent,q="",j="",g,k={},h=function(d){var p=0;return parseFloat(d.replace(/\./g,function(){return p++===0?".":""}))};if((g=n.match(/AppleWebKit\/([\d.]*)/))&&g[1]){k[q="webkit"]=h(g[1]);if((g=n.match(/Chrome\/([\d.]*)/))&&g[1])k[j="chrome"]=h(g[1]);else if((g=n.match(/\/([\d.]*) Safari/))&&g[1])k[j="safari"]=h(g[1]);if(/ Mobile\//.test(n))k.mobile="apple";else if(g=n.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=g[0].toLowerCase()}else if((g=
n.match(/Presto\/([\d.]*)/))&&g[1]){k[q="presto"]=h(g[1]);if((g=n.match(/Opera\/([\d.]*)/))&&g[1]){k[j="opera"]=h(g[1]);if((g=n.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])k[j]=h(g[1]);if((g=n.match(/Opera Mini[^;]*/))&&g)k.mobile=g[0].toLowerCase();else if((g=n.match(/Opera Mobi[^;]*/))&&g)k.mobile=g[0]}}else if((g=n.match(/MSIE\s([^;]*)/))&&g[1]){k[q="trident"]=0.1;k[j="ie"]=h(g[1]);if((g=n.match(/Trident\/([\d.]*)/))&&g[1])k[q]=h(g[1])}else if(g=n.match(/Gecko/)){k[q="gecko"]=0.1;if((g=n.match(/rv:([\d.]*)/))&&
g[1])k[q]=h(g[1]);if((g=n.match(/Firefox\/([\d.]*)/))&&g[1])k[j="firefox"]=h(g[1])}k.core=q;k.shell=j;k._numberify=h;b.UA=k});
KISSY.add("ua-extra",function(b){var n=b.UA,q=navigator.userAgent,j,g,k={},h=n._numberify;if(q.match(/360SE/))k[g="se360"]=3;else if(q.match(/Maxthon/)&&(j=window.external)){g="maxthon";try{k[g]=h(j.max_version)}catch(d){k[g]=0.1}}else if(j=q.match(/TencentTraveler\s([\d.]*)/))k[g="tt"]=j[1]?h(j[1]):0.1;else if(q.match(/TheWorld/))k[g="theworld"]=3;else if(j=q.match(/SE\s([\d.]*)/))k[g="sougou"]=j[1]?h(j[1]):0.1;g&&(k.shell=g);b.mix(n,k)});
KISSY.add("dom",function(b,n){function q(j,g){return j&&j.nodeType===g}b.DOM={_isElementNode:function(j){return q(j,1)},_isKSNode:function(j){return b.Node&&q(j,b.Node.TYPE)},_getWin:function(j){return j&&"scrollTo"in j&&j.document?j:q(j,9)?j.defaultView||j.parentWindow:j===n?window:false},_nodeTypeIs:q}});
KISSY.add("selector",function(b,n){function q(a,c){var e,f,i=[],s;c=j(c);if(b.isString(a)){a=b.trim(a);if(m.test(a)){if(f=g(a.slice(1),c))i=[f]}else if(e=l.exec(a)){f=e[1];s=e[2];e=e[3];if(c=f?g(f,c):c)if(e)if(!f||a.indexOf(o)!==-1)i=h(e,s,c);else{if((f=g(f,c))&&w.hasClass(f,e))i=[f]}else if(s)i=k(s,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else d(a)}else if(a&&(a[t]||a[u]))i=a[t]?[a[t]()]:a[u]();else if(a&&(b.isArray(a)||a&&!a.nodeType&&a.item&&a!=window))i=a;else if(a)i=[a];if(i&&
!i.nodeType&&i.item&&i!=window)i=b.makeArray(i);i.each=function(y,r){return b.each(i,y,r)};return i}function j(a){if(a===n)a=p;else if(b.isString(a)&&m.test(a))a=g(a.slice(1),p);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function g(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function k(a,c){return c.getElementsByTagName(a)}function h(a,c,e){e=a=e.getElementsByClassName(a);var f=0,i=0,s=a.length,y;if(c&&c!==v){e=[];for(c=c.toUpperCase();f<s;++f){y=a[f];if(y.tagName===
c)e[i++]=y}}return e}function d(a){b.error("Unsupported selector: "+a)}var p=document,w=b.DOM,o=" ",v="*",t="getDOMNode",u=t+"s",m=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=p.createElement("div");a.appendChild(p.createComment(""));if(a.getElementsByTagName(v).length>0)k=function(c,e){var f=e.getElementsByTagName(c);if(c===v){for(var i=[],s=0,y=0,r;r=f[s++];)if(r.nodeType===1)i[y++]=r;f=i}return f}})();p.getElementsByClassName||(h=p.querySelectorAll?function(a,c,
e){return e.querySelectorAll((c?c:"")+"."+a)}:function(a,c,e){c=e.getElementsByTagName(c||v);e=[];var f=0,i=0,s=c.length,y,r;for(a=o+a+o;f<s;++f){y=c[f];if((r=y.className)&&(o+r+o).indexOf(a)>-1)e[i++]=y}return e});b.query=q;b.get=function(a,c){return q(a,c)[0]||null};b.mix(w,{query:q,get:b.get,filter:function(a,c){var e=q(a),f,i,s,y=[];if(b.isString(c)&&(f=l.exec(c))&&!f[1]){i=f[2];s=f[3];c=function(r){return!(i&&r.tagName!==i.toUpperCase()||s&&!w.hasClass(r,s))}}if(b.isFunction(c))y=b.filter(e,
c);else if(c&&b.ExternalSelector)y=b.ExternalSelector._filter(a,c);else d(c);return y},test:function(a,c){var e=q(a);return w.filter(e,c).length===e.length}})});
KISSY.add("dom-data",function(b,n){var q=window,j=b.DOM,g="_ks_data_"+b.now(),k={},h={},d={EMBED:1,OBJECT:1,APPLET:1};b.mix(j,{data:function(p,w,o){if(b.isPlainObject(w))for(var v in w)j.data(p,v,w[v]);else if(o===n){p=b.get(p);var t;if(!(!p||d[p.nodeName])){if(p==q)p=h;t=(v=p&&p.nodeType)?k:p;p=t[v?p[g]:g];if(b.isString(w)&&p)return p[w];return p}}else b.query(p).each(function(u){if(!(!u||d[u.nodeName])){if(u==q)u=h;var m=k,l;if(u&&u.nodeType){if(!(l=u[g]))l=u[g]=b.guid()}else{l=g;m=u}if(w&&o!==
n){m[l]||(m[l]={});m[l][w]=o}}})},removeData:function(p,w){b.query(p).each(function(o){if(o){if(o==q)o=h;var v,t=k,u,m=o&&o.nodeType;if(m)v=o[g];else{t=o;v=g}if(v){u=t[v];if(w){if(u){delete u[w];b.isEmptyObject(u)&&j.removeData(o)}}else{if(m)o.removeAttribute&&o.removeAttribute(g);else try{delete o[g]}catch(l){}m&&delete t[v]}}}})}})});
KISSY.add("dom-class",function(b,n){function q(h,d,p,w){if(!(d=b.trim(d)))return w?false:n;h=b.query(h);var o=0,v=h.length;d=d.split(g);for(var t;o<v;o++){t=h[o];if(j._isElementNode(t)){t=p(t,d,d.length);if(t!==n)return t}}if(w)return false}var j=b.DOM,g=/[\.\s]\s*\.?/,k=/[\n\t]/g;b.mix(j,{hasClass:function(h,d){return q(h,d,function(p,w,o){if(p=p.className){p=" "+p+" ";for(var v=0,t=true;v<o;v++)if(p.indexOf(" "+w[v]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(h,d){q(h,d,function(p,
w,o){var v=p.className;if(v){var t=" "+v+" ";v=v;for(var u=0;u<o;u++)if(t.indexOf(" "+w[u]+" ")<0)v+=" "+w[u];p.className=b.trim(v)}else p.className=d})},removeClass:function(h,d){q(h,d,function(p,w,o){var v=p.className;if(v)if(o){v=(" "+v+" ").replace(k," ");for(var t=0,u;t<o;t++)for(u=" "+w[t]+" ";v.indexOf(u)>=0;)v=v.replace(u," ");p.className=b.trim(v)}else p.className=""})},replaceClass:function(h,d,p){j.removeClass(h,d);j.addClass(h,p)},toggleClass:function(h,d,p){var w=b.isBoolean(p),o;q(h,
d,function(v,t,u){for(var m=0,l;m<u;m++){l=t[m];o=w?!p:j.hasClass(v,l);j[o?"removeClass":"addClass"](v,l)}})}})});
KISSY.add("dom-attr",function(b,n){var q=b.UA,j=q.ie,g=j&&j<8,k=document.documentElement.textContent!==n?"textContent":"innerText",h=b.DOM,d=h._isElementNode,p=/^(?:href|src|style)/,w=/^(?:href|src|colspan|rowspan)/,o=/\r/g,v=/^(?:radio|checkbox)/,t={readonly:"readOnly"},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};g&&b.mix(t,{"for":"htmlFor","class":"className"});b.mix(h,{attr:function(m,l,a,c){if(b.isPlainObject(l)){c=a;for(var e in l)h.attr(m,e,l[e],c)}else if(l=b.trim(l)){l=
l.toLowerCase();if(c&&u[l])return h[l](m,a);l=t[l]||l;if(a===n){m=b.get(m);if(!d(m))return n;var f;p.test(l)||(f=m[l]);if(f===n)f=m.getAttribute(l);if(g)if(w.test(l))f=m.getAttribute(l,2);else if(l==="style")f=m.style.cssText;return f===null?n:f}b.each(b.query(m),function(i){if(d(i))if(l==="style")i.style.cssText=a;else{if(l==="checked")i[l]=!!a;i.setAttribute(l,""+a)}})}},removeAttr:function(m,l){b.each(b.query(m),function(a){if(d(a)){h.attr(a,l,"");a.removeAttribute(l)}})},val:function(m,l){if(l===
n){var a=b.get(m);if(!d(a))return n;if(a&&a.nodeName.toUpperCase()==="option".toUpperCase())return(a.attributes.value||{}).specified?a.value:a.text;if(a&&a.nodeName.toUpperCase()==="select".toUpperCase()){var c=a.selectedIndex,e=a.options;if(c<0)return null;else if(a.type==="select-one")return h.val(e[c]);a=[];for(var f=0,i=e.length;f<i;++f)e[f].selected&&a.push(h.val(e[f]));return a}if(q.webkit&&v.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(o,"")}b.each(b.query(m),
function(s){if(s&&s.nodeName.toUpperCase()==="select".toUpperCase()){if(b.isNumber(l))l+="";var y=b.makeArray(l),r=s.options,x;f=0;for(i=r.length;f<i;++f){x=r[f];x.selected=b.inArray(h.val(x),y)}if(!y.length)s.selectedIndex=-1}else if(d(s))s.value=l})},text:function(m,l){if(l===n){var a=b.get(m);if(d(a))return a[k]||"";else if(h._nodeTypeIs(a,3))return a.nodeValue}else b.each(b.query(m),function(c){if(d(c))c[k]=l;else if(h._nodeTypeIs(c,3))c.nodeValue=l})}})});
KISSY.add("dom-style",function(b,n){function q(a,c){var e=b.get(a),f=c===p?e.offsetWidth:e.offsetHeight;b.each(c===p?["Left","Right"]:["Top","Bottom"],function(i){f-=parseFloat(g._getComputedStyle(e,"padding"+i))||0;f-=parseFloat(g._getComputedStyle(e,"border"+i+"Width"))||0});return f}function j(a,c,e){var f=e;if(e===w&&v.test(c)){f=0;if(g.css(a,"position")==="absolute"){e=a[c==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)e-=o(g.css(a.offsetParent,"border-"+c+"-width"))||0;f=e-(o(g.css(a,
"margin-"+c))||0)}}return f}var g=b.DOM,k=b.UA,h=document,d=h.documentElement,p="width",w="auto",o=parseInt,v=/^(?:left|top)/,t=/^(?:width|height|top|left|right|bottom|margin|padding)/i,u=/-([a-z])/ig,m=function(a,c){return c.toUpperCase()},l={};b.mix(g,{_CUSTOM_STYLES:l,_getComputedStyle:function(a,c){var e="",f=a.ownerDocument;if(a.style)e=f.defaultView.getComputedStyle(a,null)[c];return e},css:function(a,c,e){if(b.isPlainObject(c))for(var f in c)g.css(a,f,c[f]);else{if(c.indexOf("-")>0)c=c.replace(u,
m);c=l[c]||c;if(e===n){a=b.get(a);f="";if(a&&a.style){f=c.get?c.get(a):a.style[c];if(f===""&&!c.get)f=j(a,c,g._getComputedStyle(a,c))}return f===n?"":f}else{if(e===null||e==="")e="";else if(!isNaN(new Number(e))&&t.test(c))e+="px";(c===p||c==="height")&&parseFloat(e)<0||b.each(b.query(a),function(i){if(i&&i.style){c.set?c.set(i,e):i.style[c]=e;if(e==="")i.style.cssText||i.removeAttribute("style")}})}}},width:function(a,c){if(c===n)return q(a,p);else g.css(a,p,c)},height:function(a,c){if(c===n)return q(a,
"height");else g.css(a,"height",c)},show:function(a){b.query(a).each(function(c){if(c)c.style.display=g.data(c,"display")||""})},hide:function(a){b.query(a).each(function(c){if(c){var e=c.style,f=e.display;if(f!=="none"){f&&g.data(c,"display",f);e.display="none"}}})},toggle:function(a){b.query(a).each(function(c){if(c)c.style.display==="none"?g.show(c):g.hide(c)})},addStyleSheet:function(a,c){var e;if(c)e=b.get("#"+c);if(!e){e=g.create("<style>",{id:c});b.get("head").appendChild(e);if(e.styleSheet)e.styleSheet.cssText=
a;else e.appendChild(h.createTextNode(a))}}});if(d.style.cssFloat!==n)l["float"]="cssFloat";else if(d.style.styleFloat!==n)l["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,n){if(b.UA.ie){var q=b.DOM,j=document,g=j.documentElement,k=q._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,d=/^-?\d/,p=/^(?:width|height)$/;try{if(g.style.opacity===n&&g.filters)k.opacity={get:function(o){var v=100;try{v=o.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{v=o.filters("alpha").opacity}catch(u){}}return v/100+""},set:function(o,v){var t=o.style,u=(o.currentStyle||0).filter||"";t.zoom=1;if(u)if(u=u.replace(/alpha\(opacity=.+\)/ig,""))u+=", ";
t.filter=u+"alpha(opacity="+v*100+")"}}}catch(w){}if(!(j.defaultView||{}).getComputedStyle&&g.currentStyle)q._getComputedStyle=function(o,v){var t=o.style,u=o.currentStyle[v];if(p.test(v))u=q[v](o)+"px";else if(!h.test(u)&&d.test(u)){var m=t.left,l=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left;t.left=v==="fontSize"?"1em":u||0;u=t.pixelLeft+"px";t.left=m;o.runtimeStyle.left=l}return u}}});
KISSY.add("dom-offset",function(b,n){function q(f){var i=0,s=0,y=w(f[u]);if(f[e]){f=f[e]();i=f[m];s=f[l];if(g.mobile!=="apple"){i+=j[a](y);s+=j[c](y)}}return{left:i,top:s}}var j=b.DOM,g=b.UA,k=window,h=document,d=j._isElementNode,p=j._nodeTypeIs,w=j._getWin,o=h.compatMode==="CSS1Compat",v=Math.max,t=parseInt,u="ownerDocument",m="left",l="top",a="scrollLeft",c="scrollTop",e="getBoundingClientRect";b.mix(j,{offset:function(f,i){if(!(f=b.get(f))||!f[u])return null;if(i===n)return q(f);var s=f;if(j.css(s,
"position")==="static")s.style.position="relative";var y=q(s),r={},x,z;for(z in i){x=t(j.css(s,z),10)||0;r[z]=x+i[z]-y[z]}j.css(s,r)},scrollIntoView:function(f,i,s,y){if((f=b.get(f))&&f[u]){y=y===n?true:!!y;s=s===n?true:!!s;if(!i||i===k)return f.scrollIntoView(s);i=b.get(i);if(p(i,9))i=w(i);var r=i&&"scrollTo"in i&&i.document,x=j.offset(f),z=r?{left:j.scrollLeft(i),top:j.scrollTop(i)}:j.offset(i),A={left:x[m]-z[m],top:x[l]-z[l]};x=r?j.viewportHeight(i):i.clientHeight;z=r?j.viewportWidth(i):i.clientWidth;
var C=j[a](i),D=j[c](i),B=C+z,E=D+x,H=f.offsetHeight;f=f.offsetWidth;var G=A.left+C-(t(j.css(i,"borderLeftWidth"))||0);A=A.top+D-(t(j.css(i,"borderTopWidth"))||0);var I=G+f,K=A+H,F,J;if(H>x||A<D||s)F=A;else if(K>E)F=K-x;if(y)if(f>z||G<C||s)J=G;else if(I>B)J=I-z;if(r){if(F!==n||J!==n)i.scrollTo(J,F)}else{if(F!==n)i[c]=F;if(J!==n)i[a]=J}}}});b.each(["Left","Top"],function(f,i){var s="scroll"+f;j[s]=function(y){var r=0,x=w(y),z;if(x&&(z=x.document))r=x[i?"pageYOffset":"pageXOffset"]||z.documentElement[s]||
z.body[s];else if(d(y=b.get(y)))r=y[s];return r}});b.each(["Width","Height"],function(f){j["doc"+f]=function(i){i=i||h;return v(o?i.documentElement["scroll"+f]:i.body["scroll"+f],j["viewport"+f](i))};j["viewport"+f]=function(i){var s="inner"+f;i=w(i);var y=i.document;return s in i?i[s]:o?y.documentElement["client"+f]:y.body["client"+f]}})});
KISSY.add("dom-traversal",function(b,n){function q(h,d,p,w){if(!(h=b.get(h)))return null;if(d===n)d=1;var o=null,v,t;if(b.isNumber(d)&&d>=0){if(d===0)return h;v=0;t=d;d=function(){return++v===t}}for(;h=h[p];)if(k(h)&&(!d||g.test(h,d))&&(!w||w(h))){o=h;break}return o}function j(h,d,p){var w=[];var o=h=b.get(h);if(h&&p)o=h.parentNode;if(o){p=0;for(o=o.firstChild;o;o=o.nextSibling)if(k(o)&&o!==h&&(!d||g.test(o,d)))w[p++]=o}return w}var g=b.DOM,k=g._isElementNode;b.mix(g,{parent:function(h,d){return q(h,
d,"parentNode",function(p){return p.nodeType!=11})},next:function(h,d){return q(h,d,"nextSibling")},prev:function(h,d){return q(h,d,"previousSibling")},siblings:function(h,d){return j(h,d,true)},children:function(h,d){return j(h,d)},contains:function(h,d){var p=false;if((h=b.get(h))&&(d=b.get(d)))if(h.contains)return h.contains(d);else if(h.compareDocumentPosition)return!!(h.compareDocumentPosition(d)&16);else for(;!p&&(d=d.parentNode);)p=d==h;return p}})});
KISSY.add("dom-create",function(b,n){function q(r){var x=r.cloneNode(true);if(d.ie<8)x.innerHTML=r.innerHTML;return x}function j(r,x,z,A){if(z){var C=b.guid("ks-tmp-"),D=RegExp(m);x+='<span id="'+C+'"></span>';b.available(C,function(){var B=b.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(x);)if((G=(H=E[1])?H.match(a):false)&&G[2]){E=k.createElement("script");E.src=G[2];if((I=H.match(c))&&I[2])E.charset=I[2];E.async=true;B.appendChild(E)}else if((F=E[2])&&F.length>0)b.globalEval(F);(K=k.getElementById(C))&&
h.remove(K);b.isFunction(A)&&A()});g(r,x)}else{g(r,x);b.isFunction(A)&&A()}}function g(r,x){x=(x+"").replace(m,"");try{r.innerHTML=x}catch(z){for(;r.firstChild;)r.removeChild(r.firstChild);x&&r.appendChild(h.create(x))}}var k=document,h=b.DOM,d=b.UA,p=d.ie,w=h._nodeTypeIs,o=h._isElementNode,v=h._isKSNode,t=k.createElement("div"),u=/<(\w+)/,m=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,a=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;b.mix(h,{create:function(r,
x,z){if(w(r,1)||w(r,3))return q(r);if(v(r))return q(r[0]);if(!(r=b.trim(r)))return null;var A=null;A=h._creators;var C,D="div",B;if(C=l.exec(r))A=(z||k).createElement(C[1]);else{if((C=u.exec(r))&&(B=C[1])&&b.isFunction(A[B=B.toLowerCase()]))D=B;r=A[D](r,z).childNodes;if(r.length===1)z=r[0].parentNode.removeChild(r[0]);else{r=r;B=z||k;z=null;if(r&&(r.push||r.item)&&r[0]){B=B||r[0].ownerDocument;z=B.createDocumentFragment();if(r.item)r=b.makeArray(r);B=0;for(A=r.length;B<A;B++)z.appendChild(r[B])}z=
z}A=z}z=A;o(z)&&b.isPlainObject(x)&&h.attr(z,x,true);return z},_creators:{div:function(r,x){var z=x?x.createElement("div"):t;z.innerHTML=r;return z}},html:function(r,x,z,A){if(x===n){r=b.get(r);if(o(r))return r.innerHTML}else b.each(b.query(r),function(C){o(C)&&j(C,x,z,A)})},remove:function(r){b.each(b.query(r),function(x){o(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(d.gecko||p){var e=h._creators,f=h.create,i=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,s={option:"select",td:"tr",
tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in s)(function(r){e[y]=function(x,z){return f("<"+r+">"+x+"</"+r+">",null,z)}})(s[y]);if(p){e.script=function(r,x){var z=x?x.createElement("div"):t;z.innerHTML="-"+r;z.removeChild(z.firstChild);return z};if(p<8)e.tbody=function(r,x){var z=f("<table>"+r+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!i.test(r)&&A.parentNode.removeChild(A);return z}}b.mix(e,{optgroup:e.option,th:e.td,thead:e.tbody,tfoot:e.tbody,
caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(n,q){if((n=b.get(n))&&(q=b.get(q))&&q.parentNode)q.parentNode.insertBefore(n,q);return n},insertAfter:function(n,q){if((n=b.get(n))&&(q=b.get(q))&&q.parentNode)q.nextSibling?q.parentNode.insertBefore(n,q.nextSibling):q.parentNode.appendChild(n);return n}})});
KISSY.add("event",function(b,n){function q(m,l,a,c,e){if(b.isString(l))l=b.query(l);if(b.isArray(l)){b.each(l,function(f){u[m](f,a,c,e)});return true}if((a=b.trim(a))&&a.indexOf(o)>0){b.each(a.split(o),function(f){u[m](l,f,c,e)});return true}}function j(m,l){g(m)&&h.data(m,w,l)}function g(m){return m&&m.nodeType!==3&&m.nodeType!==8}var k=document,h=b.DOM,d=k.addEventListener?function(m,l,a,c){m.addEventListener&&m.addEventListener(l,a,!!c)}:function(m,l,a){m.attachEvent&&m.attachEvent("on"+l,a)},
p=k.removeEventListener?function(m,l,a,c){m.removeEventListener&&m.removeEventListener(l,a,!!c)}:function(m,l,a){m.detachEvent&&m.detachEvent("on"+l,a)},w="ksEventTargetId",o=" ",v=b.now(),t={},u={EVENT_GUID:w,special:{},add:function(m,l,a,c){if(!q("add",m,l,a,c)){var e=g(m)?h.data(m,w):-1,f,i,s,y,r;if(!(e===-1||!l||!b.isFunction(a))){if(!e){j(m,e=v++);t[e]={target:m,events:{}}}i=t[e].events;if(!i[l]){f=((e=!m.isCustomEventTarget)||m._supportSpecialEvent)&&u.special[l]||{};s=function(x,z){if(!x||
!x.fixed){x=new b.EventObject(m,x,l);b.isPlainObject(z)&&b.mix(x,z)}f.setup&&f.setup(x);return(f.handle||u._handle)(m,x,i[l].listeners)};i[l]={handle:s,listeners:[]};y=f.fix||l;r=f.capture;if(e)d(m,y,s,r);else m._addEvent&&m._addEvent(y,s,r)}i[l].listeners.push({fn:a,scope:c||m})}}},remove:function(m,l,a,c){if(!q("remove",m,l,a,c)){var e=g(m)?h.data(m,w):-1,f,i,s,y,r,x,z;if(e!==-1)if(e&&(f=t[e]))if(f.target===m){c=c||m;f=f.events||{};if(i=f[l]){s=i.listeners;x=s.length;if(b.isFunction(a)&&x){r=y=
0;for(z=[];y<x;++y)if(a!==s[y].fn||c!==s[y].scope)z[r++]=s[y];i.listeners=z;x=z.length}if(a===n||x===0){if(m.isCustomEventTarget)m._addEvent&&m._removeEvent(l,i.handle);else{a=u.special[l]||{};p(m,a.fix||l,i.handle)}delete f[l]}}if(l===n||b.isEmptyObject(f)){for(l in f)u.remove(m,l);delete t[e];h.removeData(m,w)}}}},_handle:function(m,l,a){a=a.slice(0);for(var c,e=0,f=a.length;e<f;++e){c=a[e];c=c.fn.call(c.scope||m,l);if(c===false&&m.isCustomEventTarget||l.isImmediatePropagationStopped)break}return c},
_getCache:function(m){return t[m]},_simpleAdd:d,_simpleRemove:p};u.on=u.add;b.Event=u});
KISSY.add("event-object",function(b,n){function q(k,h,d){this.currentTarget=k;this.originalEvent=h||{};if(h){this.type=h.type;this._fix()}else{this.type=d;this.target=k}this.currentTarget=k;this.fixed=true}var j=document,g="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(q,
{_fix:function(){var k=this.originalEvent,h=g.length,d,p=this.currentTarget;for(p=p.nodeType===9?p:p.ownerDocument||j;h;){d=g[--h];this[d]=k[d]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===n&&this.clientX!==n){k=p.documentElement;h=p.body;this.pageX=this.clientX+(k&&k.scrollLeft||h&&h.scrollLeft||
0)-(k&&k.clientLeft||h&&h.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||h&&h.scrollTop||0)-(k&&k.clientTop||h&&h.clientTop||0)}if(this.which===n)this.which=this.charCode!==n?this.charCode:this.keyCode;if(this.metaKey===n)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==n)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=q});
KISSY.add("event-target",function(b,n){var q=b.Event;b.EventTarget={isCustomEventTarget:true,fire:function(j,g){var k=b.DOM.data(this,q.EVENT_GUID)||-1;if((k=((q._getCache(k)||{}).events||{})[j])&&b.isFunction(k.handle))return k.handle(n,g);return this},on:function(j,g,k){q.add(this,j,g,k);return this},detach:function(j,g,k){q.remove(this,j,g,k);return this}}});
KISSY.add("event-mouseenter",function(b){var n=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){n.special[q.name]={fix:q.fix,setup:function(j){j.type=q.name},handle:function(j,g,k){if(b.DOM._isKSNode(j))j=j[0];var h=g.relatedTarget;try{for(;h&&h!==j;)h=h.parentNode;h!==j&&n._handle(j,g,k)}catch(d){}}}})});
KISSY.add("event-focusin",function(b){var n=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(q){n.special[q.name]={fix:q.fix,capture:true,setup:function(j){j.type=q.name}}})});
KISSY.add("node",function(b){function n(g,k,h){var d;if(!(this instanceof n))return new n(g,k,h);if(g){if(b.isString(g))d=q.create(g,k,h);else if(j(g,1)||j(g,3))d=g;else if(g instanceof n)return g;this[0]=d}else this.length=0}var q=b.DOM,j=q._nodeTypeIs;n.TYPE="-ks-Node";b.augment(n,{length:1,getDOMNode:function(){return this[0]},nodeType:n.TYPE});b.one=function(g,k){var h=b.get(g,k);return h?new n(h):null};b.Node=n});
KISSY.add("nodelist",function(b){function n(g){if(!(this instanceof n))return new n(g);j.push.apply(this,g||[])}var q=b.DOM,j=Array.prototype;b.mix(n.prototype,{length:0,item:function(g){var k=null;if(q._isElementNode(this[g]))k=new b.Node(this[g]);return k},getDOMNodes:function(){return j.slice.call(this)},each:function(g,k){var h=this.length,d=0,p;for(p=new b.Node(this[0]);d<h&&g.call(k||p,p,d,this)!==false;p=new b.Node(this[++d]));return this}});b.all=function(g,k){return new n(b.query(g,k,true))};
b.NodeList=n});
KISSY.add("node-attach",function(b,n){function q(l,a,c,e){l=[this[l?v:o]()].concat(b.makeArray(a));if(a[c]===n)return e.apply(g,l);else{e.apply(g,l);return this}}function j(l,a){b.each(l,function(c){b.each([p,w],function(e,f){e[c]=function(i){switch(a){case t:return function(){return q.call(this,f,arguments,1,i)};case u:return function(){return q.call(this,f,arguments,0,i)};case m:return function(){var s=this[f?v:o]();return(s=i.apply(g,[s].concat(b.makeArray(arguments))))?new (b[b.isArray(s)?"NodeList":
"Node"])(s):null};default:return function(){var s=this[f?v:o]();s=i.apply(g,[s].concat(b.makeArray(arguments)));return s===n?this:s}}}(g[c])})})}var g=b.DOM,k=b.Event,h=g._nodeTypeIs,d=g._isKSNode,p=b.Node.prototype,w=b.NodeList.prototype,o="getDOMNode",v=o+"s",t=1,u=2,m=4;b.mix(p,{one:function(l){return b.one(l,this[0])},all:function(l){return b.all(l,this[0])}});j(["data","removeData"],t);j(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);j(["attr","removeAttr"],t);j(["val","text"],
u);j(["css"],t);j(["width","height"],u);j(["offset"],u);j(["scrollIntoView"]);j(["parent","next","prev","siblings","children"],m);j(["contains"]);j(["html"],u);j(["remove"]);b.each(["insertBefore","insertAfter"],function(l){p[l]=function(a){g[l].call(g,this[0],a);return this}});b.each([p,w],function(l,a){b.mix(l,{append:function(c){c&&b.each(this,function(e){var f;if(a||b.isString(c))f=g.create(c);else{if(h(c,1)||h(c,3))f=c;if(d(c))f=c[0]}e.appendChild(f)});return this},appendTo:function(c){if((c=
b.get(c))&&c.appendChild)b.each(this,function(e){c.appendChild(e)});return this}})});b.each([p,w],function(l){b.mix(l,b.EventTarget);l._supportSpecialEvent=true;l._addEvent=function(a,c,e){for(var f=0,i=this.length;f<i;f++)k._simpleAdd(this[f],a,c,e)};l._removeEvent=function(a,c,e){for(var f=0,i=this.length;f<i;f++)k._simpleRemove(this[f],a,c,e)};delete l.fire})});
KISSY.add("cookie",function(b){var n=document,q=encodeURIComponent,j=decodeURIComponent;b.Cookie={get:function(g){var k;if(b.isString(g)&&g!=="")if(g=n.cookie.match("(?:^| )"+g+"(?:(?:=([^;]*))|;|$)"))k=g[1]?j(g[1]):"";return k},set:function(g,k,h,d,p,w){k=q(k);var o=h;if(typeof o==="number"){o=new Date;o.setTime(o.getTime()+h*864E5)}if(o instanceof Date)k+="; expires="+o.toUTCString();if(b.isString(d)&&d!=="")k+="; domain="+d;if(b.isString(p)&&p!=="")k+="; path="+p;if(w)k+="; secure";n.cookie=g+
"="+k},remove:function(g,k,h,d){this.set(g,"",0,k,h,d)}}});
KISSY.add("json",function(b){function n(o){return o<10?"0"+o:o}function q(o){k.lastIndex=0;return k.test(o)?'"'+o.replace(k,function(v){var t=p[v];return typeof t==="string"?t:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function j(o,v){var t,u,m,l,a=h,c,e=v[o];if(e&&typeof e==="object"&&typeof e.toJSON==="function")e=e.toJSON(o);if(typeof w==="function")e=w.call(v,o,e);switch(typeof e){case "string":return q(e);case "number":return isFinite(e)?String(e):"null";case "boolean":case "null":return String(e);
case "object":if(!e)return"null";h+=d;c=[];if(Object.prototype.toString.apply(e)==="[object Array]"){l=e.length;for(t=0;t<l;t+=1)c[t]=j(t,e)||"null";m=c.length===0?"[]":h?"[\n"+h+c.join(",\n"+h)+"\n"+a+"]":"["+c.join(",")+"]";h=a;return m}if(w&&typeof w==="object"){l=w.length;for(t=0;t<l;t+=1){u=w[t];if(typeof u==="string")if(m=j(u,e))c.push(q(u)+(h?": ":":")+m)}}else for(u in e)if(Object.hasOwnProperty.call(e,u))if(m=j(u,e))c.push(q(u)+(h?": ":":")+m);m=c.length===0?"{}":h?"{\n"+h+c.join(",\n"+h)+
"\n"+a+"}":"{"+c.join(",")+"}";h=a;return m}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,d,p={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;if(typeof b.stringify!=="function")b.stringify=function(o,v,t){var u;d=h="";if(typeof t==="number")for(u=0;u<t;u+=1)d+=" ";else if(typeof t==="string")d=t;if((w=v)&&typeof v!=="function"&&(typeof v!=="object"||typeof v.length!=="number"))throw Error("JSON.stringify");return j("",{"":o})};if(typeof b.parse!==
"function")b.parse=function(o,v){function t(m,l){var a,c,e=m[l];if(e&&typeof e==="object")for(a in e)if(Object.hasOwnProperty.call(e,a)){c=t(e,a);if(c!==undefined)e[a]=c;else delete e[a]}return v.call(m,l,e)}var u;o=String(o);g.lastIndex=0;if(g.test(o))o=o.replace(g,function(m){return"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){u=eval("("+o+")");return typeof v==="function"?t({"":u},""):u}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var n=Math,q=n.PI,j=n.pow,g=n.sin,k=1.70158,h={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(j(2,10*(d-=1))*g((d-0.075)*2*q/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return j(2,-10*d)*g((d-0.075)*2*q/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*j(2,10*(d-=1))*g((d-0.1125)*2*q/0.45);return j(2,-10*(d-=1))*g((d-0.1125)*2*q/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((k+1)*d-k)},backOut:function(d){return(d-=1)*d*((k+1)*d+k)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((k*=1.525)+1)*d-k);return 0.5*((d-=2)*d*(((k*=1.525)+1)*d+k)+2)},bounceIn:function(d){return 1-
h.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return h.bounceIn(d*2)*0.5;return h.bounceOut(d*2-1)*0.5+0.5}};h.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
b.Easing=h});
KISSY.add("anim",function(b,n){function q(a,c,e,f,i,s){if(a=b.get(a)){if(!(this instanceof q))return new q(a,c,e,f,i);var y=b.isPlainObject(e);c=c;var r,x;this.domEl=a;if(b.isPlainObject(c))c=b.param(c,";").replace(/=/g,":");this.props=g(c);this.targetStyle=c;if(y)a=b.merge(l,e);else{a=b.clone(l);if(e)a.duration=o(e)||1;if(b.isString(f)||b.isFunction(f))a.easing=f;if(b.isFunction(i))a.complete=i;if(s!==n)a.nativeSupport=s}this.config=a;if(a.nativeSupport){if(v.style[x="transition"]!==n)r=x;else b.each(["Webkit",
"Moz","O"],function(z){if(v.style[x=z+"Transition"]!==n){r=x;return false}});if(r&&b.isString(f=a.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(f)||(f=w.NativeTimeFunction[f])){a.easing=f;this.transitionKey=r}}b.isFunction(i)&&this.on(m,i)}}function j(a,c,e){b.UA.ie&&e.indexOf(u)>-1&&p.css(a,u,c[u].v);a.style.cssText+=";"+e}function g(a){var c={},e=t.length,f;v.innerHTML='<div style="'+a+'"></div>';for(a=v.firstChild.style;e--;)if(f=a[t[e]])c[t[e]]=k(f);return c}function k(a){var c=o(a);a=(a+"").replace(/^[-\d.]+/,
"");return isNaN(c)?{v:a,u:"",f:d}:{v:c,u:a,f:h}}function h(a,c,e){return(a+(c-a)*e).toFixed(3)}function d(a,c,e){for(var f=2,i,s,y=[],r=[];i=3,s=arguments[f-1],f--;)if(s.substr(0,4)==="rgb(")for(s=s.match(/\d+/g);i--;)y.push(~~s[i]);else if(s.substr(0,1)==="#"){if(s.length===4)s="#"+s.substr(1,1)+s.substr(1,1)+s.substr(2,1)+s.substr(2,1)+s.substr(3,1)+s.substr(3,1);for(;i--;)y.push(parseInt(s.substr(1+i*2,2),16))}else return c;for(;i--;){f=~~(y[i+3]+(y[i]-y[i+3])*e);r.push(f<0?0:f>255?255:f)}return"rgb("+
r.join(",")+")"}var p=b.DOM,w=b.Easing,o=parseFloat,v=p.create("<div>"),t="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="opacity",m="complete",l={duration:1,easing:"easeNone",nativeSupport:true};b.augment(q,b.EventTarget,{run:function(){var a=this,c=a.config,e=a.domEl,f,i,s,y,r=a.props,x={},z;for(z in r)x[z]=k(p.css(e,z));if(a.fire("start")!==false){a.stop();if(a.transitionKey)a._nativeRun();else{f=c.duration*1E3;s=b.now();y=s+f;i=c.easing;if(b.isString(i))i=w[i]||w.easeNone;a.timer=b.later(c=function(){var A=b.now(),C=A>y?1:(A-s)/f,D,B,E;for(z in r){D=x[z];B=r[z];if(B.v==0)B.u=D.u;if(D.u!==B.u)D.v=0;p.css(e,z,B.f(D.v,
B.v,i(C))+B.u)}if(a.fire("step")===false||(E=A>y)){a.stop();E&&a.fire(m)}},13,true);c()}return a}},_nativeRun:function(){var a=this,c=a.config,e=a.domEl,f=a.props,i=c.duration*1E3;c=c.easing;var s=a.transitionKey,y={};y[s+"Property"]="all";y[s+"Duration"]=i+"ms";y[s+"TimingFunction"]=c;p.css(e,y);b.later(function(){j(e,f,a.targetStyle)},0);b.later(function(){a.stop(true)},i)},stop:function(a){if(this.transitionKey)this._nativeStop(a);else{if(this.timer){this.timer.cancel();this.timer=n}if(a){j(this.domEl,
this.props,this.targetStyle);this.fire(m)}}return this},_nativeStop:function(a){var c=this.domEl,e=this.transitionKey,f=this.props,i;if(a){p.css(c,e+"Property","none");this.fire(m)}else{for(i in f)p.css(c,i,p._getComputedStyle(c,i));p.css(c,e+"Property","none")}}});b.Anim=q});
KISSY.add("anim-node-plugin",function(b,n){function q(m,l,a,c,e){if(l==="toggle")l=(e=j.css(m,k)===h?1:0)?"show":"hide";if(e)j.css(m,k,j.data(m,k)||"");var f={};b.each(u[l],function(i){if(i===d)j.css(m,d,p);else if(i===w){f.opacity=e?1:0;e&&j.css(m,w,0)}else if(i===o){f.height=e?j.css(m,o)||m.naturalHeight:0;e&&j.css(m,o,0)}else if(i===v){f.width=e?j.css(m,v)||m.naturalWidth:0;e&&j.css(m,v,0)}});(new b.Anim(m,f,a,"easeOut",function(){if(!e){var i=m.style,s=i[k];if(s!==h){s&&j.data(m,k,s);i[k]=h}j.css(m,
{height:t,width:t,overflow:t,opacity:1})}c&&b.isFunction(c)&&c()})).run()}var j=b.DOM,g=b.Anim,k="display",h="none",d="overflow",p="hidden",w="opacity",o="height",v="width",t="auto",u={show:[d,w,o,v],fade:[w],slide:[d,o]};b.each([b.Node.prototype,b.NodeList.prototype],function(m){m.animate=function(){var l=b.makeArray(arguments);b.each(this,function(a){g.apply(n,[a].concat(l)).run()});return this};b.each({show:["show",1],hide:["hide",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(l,a){m[a]=function(c,e){j[a]&&arguments.length===0?j[a](this):b.each(this,function(f){q(f,l[0],c,e,l[1])});return this}})})});KISSY.add("core");
