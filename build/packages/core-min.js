/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Sep 19 13:19
*/
KISSY.add("ua",function(a){var o=navigator.userAgent,q="",j="",f,k={},g=function(d){var r=0;return parseFloat(d.replace(/\./g,function(){return r++===0?".":""}))};if((f=o.match(/AppleWebKit\/([\d.]*)/))&&f[1]){k[q="webkit"]=g(f[1]);if((f=o.match(/Chrome\/([\d.]*)/))&&f[1])k[j="chrome"]=g(f[1]);else if((f=o.match(/\/([\d.]*) Safari/))&&f[1])k[j="safari"]=g(f[1]);if(/ Mobile\//.test(o))k.mobile="apple";else if(f=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=f[0].toLowerCase()}else if((f=
o.match(/Presto\/([\d.]*)/))&&f[1]){k[q="presto"]=g(f[1]);if((f=o.match(/Opera\/([\d.]*)/))&&f[1]){k[j="opera"]=g(f[1]);if((f=o.match(/Opera\/.* Version\/([\d.]*)/))&&f[1])k[j]=g(f[1]);if((f=o.match(/Opera Mini[^;]*/))&&f)k.mobile=f[0].toLowerCase();else if((f=o.match(/Opera Mobi[^;]*/))&&f)k.mobile=f[0]}}else if((f=o.match(/MSIE\s([^;]*)/))&&f[1]){k[q="trident"]=0.1;k[j="ie"]=g(f[1]);if((f=o.match(/Trident\/([\d.]*)/))&&f[1])k[q]=g(f[1])}else if(f=o.match(/Gecko/)){k[q="gecko"]=0.1;if((f=o.match(/rv:([\d.]*)/))&&
f[1])k[q]=g(f[1]);if((f=o.match(/Firefox\/([\d.]*)/))&&f[1])k[j="firefox"]=g(f[1])}k.core=q;k.shell=j;k._numberify=g;a.UA=k});
KISSY.add("ua-extra",function(a){var o=a.UA,q=navigator.userAgent,j,f,k={},g=o._numberify;if(q.match(/360SE/))k[f="se360"]=3;else if(q.match(/Maxthon/)&&(j=window.external)){f="maxthon";try{k[f]=g(j.max_version)}catch(d){k[f]=0.1}}else if(j=q.match(/TencentTraveler\s([\d.]*)/))k[f="tt"]=j[1]?g(j[1]):0.1;else if(q.match(/TheWorld/))k[f="theworld"]=3;else if(j=q.match(/SE\s([\d.]*)/))k[f="sougou"]=j[1]?g(j[1]):0.1;f&&(k.shell=f);a.mix(o,k)});
KISSY.add("dom",function(a,o){function q(j,f){return j&&j.nodeType===f}a.DOM={_isElementNode:function(j){return q(j,1)},_isKSNode:function(j){return a.Node&&q(j,a.Node.TYPE)},_getWin:function(j){return j&&"scrollTo"in j&&j.document?j:q(j,9)?j.defaultView||j.parentWindow:j===o?window:false},_nodeTypeIs:q}});
KISSY.add("selector",function(a,o){function q(b,c){var e,h,m=[],v;c=j(c);if(a.isString(b)){b=a.trim(b);if(l.test(b)){if(h=f(b.slice(1),c))m=[h]}else if(e=i.exec(b)){h=e[1];v=e[2];e=e[3];if(c=h?f(h,c):c)if(e)if(!h||b.indexOf(n)!==-1)m=g(e,v,c);else{if((h=f(h,c))&&w.hasClass(h,e))m=[h]}else if(v)m=k(v,c)}else if(a.ExternalSelector)return a.ExternalSelector(b,c);else d(b)}else if(b&&(b[t]||b[p]))m=b[t]?[b[t]()]:b[p]();else if(b&&(a.isArray(b)||b&&!b.nodeType&&b.item&&b!=window))m=b;else if(b)m=[b];if(m&&
!m.nodeType&&m.item&&m!=window)m=a.makeArray(m);m.each=function(z,s){return a.each(m,z,s)};return m}function j(b){if(b===o)b=r;else if(a.isString(b)&&l.test(b))b=f(b.slice(1),r);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function f(b,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(b)}function k(b,c){return c.getElementsByTagName(b)}function g(b,c,e){e=b=e.getElementsByClassName(b);var h=0,m=0,v=b.length,z;if(c&&c!==u){e=[];for(c=c.toUpperCase();h<v;++h){z=b[h];if(z.tagName===
c)e[m++]=z}}return e}function d(b){a.error("Unsupported selector: "+b)}var r=document,w=a.DOM,n=" ",u="*",t="getDOMNode",p=t+"s",l=/^#[\w-]+$/,i=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=r.createElement("div");b.appendChild(r.createComment(""));if(b.getElementsByTagName(u).length>0)k=function(c,e){var h=e.getElementsByTagName(c);if(c===u){for(var m=[],v=0,z=0,s;s=h[v++];)if(s.nodeType===1)m[z++]=s;h=m}return h}})();r.getElementsByClassName||(g=r.querySelectorAll?function(b,c,
e){return e.querySelectorAll((c?c:"")+"."+b)}:function(b,c,e){c=e.getElementsByTagName(c||u);e=[];var h=0,m=0,v=c.length,z,s;for(b=n+b+n;h<v;++h){z=c[h];if((s=z.className)&&(n+s+n).indexOf(b)>-1)e[m++]=z}return e});a.query=q;a.get=function(b,c){return q(b,c)[0]||null};a.mix(w,{query:q,get:a.get,filter:function(b,c){var e=q(b),h,m,v,z=[];if(a.isString(c)&&(h=i.exec(c))&&!h[1]){m=h[2];v=h[3];c=function(s){return!(m&&s.tagName!==m.toUpperCase()||v&&!w.hasClass(s,v))}}if(a.isFunction(c))z=a.filter(e,
c);else if(c&&a.ExternalSelector)z=a.ExternalSelector._filter(b,c);else d(c);return z},test:function(b,c){var e=q(b);return w.filter(e,c).length===e.length}})});
KISSY.add("dom-data",function(a,o){var q=window,j=a.DOM,f="_ks_data_"+a.now(),k={},g={},d={EMBED:1,OBJECT:1,APPLET:1};a.mix(j,{data:function(r,w,n){if(a.isPlainObject(w))for(var u in w)j.data(r,u,w[u]);else if(n===o){r=a.get(r);var t;if(!(!r||d[r.nodeName])){if(r==q)r=g;t=(u=r&&r.nodeType)?k:r;r=t[u?r[f]:f];if(a.isString(w)&&r)return r[w];return r}}else a.query(r).each(function(p){if(!(!p||d[p.nodeName])){if(p==q)p=g;var l=k,i;if(p&&p.nodeType){if(!(i=p[f]))i=p[f]=a.guid()}else{i=f;l=p}if(w&&n!==
o){l[i]||(l[i]={});l[i][w]=n}}})},removeData:function(r,w){a.query(r).each(function(n){if(n){if(n==q)n=g;var u,t=k,p,l=n&&n.nodeType;if(l)u=n[f];else{t=n;u=f}if(u){p=t[u];if(w){if(p){delete p[w];a.isEmptyObject(p)&&j.removeData(n)}}else{if(l)n.removeAttribute&&n.removeAttribute(f);else try{delete n[f]}catch(i){}l&&delete t[u]}}}})}})});
KISSY.add("dom-class",function(a,o){function q(g,d,r,w){if(!(d=a.trim(d)))return w?false:o;g=a.query(g);var n=0,u=g.length;d=d.split(f);for(var t;n<u;n++){t=g[n];if(j._isElementNode(t)){t=r(t,d,d.length);if(t!==o)return t}}if(w)return false}var j=a.DOM,f=/[\.\s]\s*\.?/,k=/[\n\t]/g;a.mix(j,{hasClass:function(g,d){return q(g,d,function(r,w,n){if(r=r.className){r=" "+r+" ";for(var u=0,t=true;u<n;u++)if(r.indexOf(" "+w[u]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(g,d){q(g,d,function(r,
w,n){var u=r.className;if(u){var t=" "+u+" ";u=u;for(var p=0;p<n;p++)if(t.indexOf(" "+w[p]+" ")<0)u+=" "+w[p];r.className=a.trim(u)}else r.className=d})},removeClass:function(g,d){q(g,d,function(r,w,n){var u=r.className;if(u)if(n){u=(" "+u+" ").replace(k," ");for(var t=0,p;t<n;t++)for(p=" "+w[t]+" ";u.indexOf(p)>=0;)u=u.replace(p," ");r.className=a.trim(u)}else r.className=""})},replaceClass:function(g,d,r){j.removeClass(g,d);j.addClass(g,r)},toggleClass:function(g,d,r){var w=a.isBoolean(r),n;q(g,
d,function(u,t,p){for(var l=0,i;l<p;l++){i=t[l];n=w?!r:j.hasClass(u,i);j[n?"removeClass":"addClass"](u,i)}})}})});
KISSY.add("dom-attr",function(a,o){var q=a.UA,j=q.ie,f=j&&j<8,k=document.documentElement.textContent!==o?"textContent":"innerText",g=a.DOM,d=g._isElementNode,r=/href|src|style/,w=/href|src|colspan|rowspan/,n=/\r/g,u=/radio|checkbox/,t={readonly:"readOnly"},p={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};f&&a.mix(t,{"for":"htmlFor","class":"className"});a.mix(g,{attr:function(l,i,b,c){if(a.isPlainObject(i)){c=b;for(var e in i)g.attr(l,e,i[e],c)}else if(i=a.trim(i)){i=i.toLowerCase();
if(c&&p[i])return g[i](l,b);i=t[i]||i;if(b===o){l=a.get(l);if(!d(l))return o;var h;r.test(i)||(h=l[i]);if(h===o)h=l.getAttribute(i);if(f)if(w.test(i))h=l.getAttribute(i,2);else if(i==="style")h=l.style.cssText;return h===null?o:h}a.each(a.query(l),function(m){if(d(m))if(i==="style")m.style.cssText=b;else{if(i==="checked")m[i]=!!b;m.setAttribute(i,""+b)}})}},removeAttr:function(l,i){a.each(a.query(l),function(b){if(d(b)){g.attr(b,i,"");b.removeAttribute(i)}})},val:function(l,i){if(i===o){var b=a.get(l);
if(!d(b))return o;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var c=b.selectedIndex,e=b.options;if(c<0)return null;else if(b.type==="select-one")return g.val(e[c]);b=[];for(var h=0,m=e.length;h<m;++h)e[h].selected&&b.push(g.val(e[h]));return b}if(q.webkit&&u.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(n,"")}a.each(a.query(l),function(v){if(v&&
v.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(i))i+="";var z=a.makeArray(i),s=v.options,x;h=0;for(m=s.length;h<m;++h){x=s[h];x.selected=a.inArray(g.val(x),z)}if(!z.length)v.selectedIndex=-1}else if(d(v))v.value=i})},text:function(l,i){if(i===o){var b=a.get(l);if(d(b))return b[k]||"";else if(g._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(l),function(c){if(d(c))c[k]=i;else if(g._nodeTypeIs(c,3))c.nodeValue=i})}})});
KISSY.add("dom-style",function(a,o){function q(b,c){var e=a.get(b),h=c===r?e.offsetWidth:e.offsetHeight;a.each(c===r?["Left","Right"]:["Top","Bottom"],function(m){h-=parseFloat(f._getComputedStyle(e,"padding"+m))||0;h-=parseFloat(f._getComputedStyle(e,"border"+m+"Width"))||0});return h}function j(b,c,e){var h=e;if(e===w&&u.test(c)){h=0;if(f.css(b,"position")==="absolute"){e=b[c==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)e-=n(f.css(b.offsetParent,"border-"+c+"-width"))||0;h=e-(n(f.css(b,
"margin-"+c))||0)}}return h}var f=a.DOM,k=a.UA,g=document,d=g.documentElement,r="width",w="auto",n=parseInt,u=/^left|top$/,t=/width|height|top|left|right|bottom|margin|padding/i,p=/-([a-z])/ig,l=function(b,c){return c.toUpperCase()},i={};a.mix(f,{_CUSTOM_STYLES:i,_getComputedStyle:function(b,c){var e="",h=b.ownerDocument;if(b.style)e=h.defaultView.getComputedStyle(b,null)[c];return e},css:function(b,c,e){if(a.isPlainObject(c))for(var h in c)f.css(b,h,c[h]);else{if(c.indexOf("-")>0)c=c.replace(p,l);
c=i[c]||c;if(e===o){b=a.get(b);h="";if(b&&b.style){h=c.get?c.get(b):b.style[c];if(h===""&&!c.get)h=j(b,c,f._getComputedStyle(b,c))}return h===o?"":h}else{if(e===null||e==="")e="";else if(!isNaN(new Number(e))&&t.test(c))e+="px";(c===r||c==="height")&&parseFloat(e)<0||a.each(a.query(b),function(m){if(m&&m.style){c.set?c.set(m,e):m.style[c]=e;if(e==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(b,c){if(c===o)return q(b,r);else f.css(b,r,c)},height:function(b,c){if(c===o)return q(b,
"height");else f.css(b,"height",c)},show:function(b){a.query(b).each(function(c){if(c)c.style.display=f.data(c,"display")||""})},hide:function(b){a.query(b).each(function(c){if(c){var e=c.style,h=e.display;if(h!=="none"){h&&f.data(c,"display",h);e.display="none"}}})},toggle:function(b){a.query(b).each(function(c){if(c)c.style.display==="none"?f.show(c):f.hide(c)})},addStyleSheet:function(b,c){var e;if(c)e=a.get("#"+c);if(!e){e=f.create("<style>",{id:c});a.get("head").appendChild(e);if(e.styleSheet)e.styleSheet.cssText=
b;else e.appendChild(g.createTextNode(b))}}});if(d.style.cssFloat!==o)i["float"]="cssFloat";else if(d.style.styleFloat!==o)i["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,o){if(a.UA.ie){var q=a.DOM,j=document,f=j.documentElement,k=q._CUSTOM_STYLES,g=/^-?\d+(?:px)?$/i,d=/^-?\d/,r=/^width|height$/;try{if(f.style.opacity===o&&f.filters)k.opacity={get:function(n){var u=100;try{u=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{u=n.filters("alpha").opacity}catch(p){}}return u/100+""},set:function(n,u){var t=n.style,p=(n.currentStyle||0).filter||"";t.zoom=1;if(p)if(p=p.replace(/alpha\(opacity=.+\)/ig,""))p+=", ";t.filter=
p+"alpha(opacity="+u*100+")"}}}catch(w){}if(!(j.defaultView||{}).getComputedStyle&&f.currentStyle)q._getComputedStyle=function(n,u){var t=n.style,p=n.currentStyle[u];if(r.test(u))p=q[u](n)+"px";else if(!g.test(p)&&d.test(p)){var l=t.left,i=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;t.left=u==="fontSize"?"1em":p||0;p=t.pixelLeft+"px";t.left=l;n.runtimeStyle.left=i}return p}}});
KISSY.add("dom-offset",function(a,o){function q(h){var m=0,v=0,z=w(h[p]);if(h[e]){h=h[e]();m=h[l];v=h[i];if(f.mobile!=="apple"){m+=j[b](z);v+=j[c](z)}}return{left:m,top:v}}var j=a.DOM,f=a.UA,k=window,g=document,d=j._isElementNode,r=j._nodeTypeIs,w=j._getWin,n=g.compatMode==="CSS1Compat",u=Math.max,t=parseInt,p="ownerDocument",l="left",i="top",b="scrollLeft",c="scrollTop",e="getBoundingClientRect";a.mix(j,{offset:function(h,m){if(!(h=a.get(h))||!h[p])return null;if(m===o)return q(h);var v=h;if(j.css(v,
"position")==="static")v.style.position="relative";var z=q(v),s={},x,y;for(y in m){x=t(j.css(v,y),10)||0;s[y]=x+m[y]-z[y]}j.css(v,s)},scrollIntoView:function(h,m,v,z){if((h=a.get(h))&&h[p]){z=z===o?true:!!z;v=v===o?true:!!v;if(!m||m===k)return h.scrollIntoView(v);m=a.get(m);if(r(m,9))m=w(m);var s=m&&"scrollTo"in m&&m.document,x=j.offset(h),y=s?{left:j.scrollLeft(m),top:j.scrollTop(m)}:j.offset(m),A={left:x[l]-y[l],top:x[i]-y[i]};x=s?j.viewportHeight(m):m.clientHeight;y=s?j.viewportWidth(m):m.clientWidth;
var B=j[b](m),F=j[c](m),C=B+y,D=F+x,H=h.offsetHeight;h=h.offsetWidth;var G=A.left+B-(t(j.css(m,"borderLeftWidth"))||0);A=A.top+F-(t(j.css(m,"borderTopWidth"))||0);var I=G+h,K=A+H,E,J;if(H>x||A<F||v)E=A;else if(K>D)E=K-x;if(z)if(h>y||G<B||v)J=G;else if(I>C)J=I-y;if(s){if(E!==o||J!==o)m.scrollTo(J,E)}else{if(E!==o)m[c]=E;if(J!==o)m[b]=J}}}});a.each(["Left","Top"],function(h,m){var v="scroll"+h;j[v]=function(z){var s=0,x=w(z),y;if(x&&(y=x.document))s=x[m?"pageYOffset":"pageXOffset"]||y.documentElement[v]||
y.body[v];else if(d(z=a.get(z)))s=z[v];return s}});a.each(["Width","Height"],function(h){j["doc"+h]=function(m){m=m||g;return u(n?m.documentElement["scroll"+h]:m.body["scroll"+h],j["viewport"+h](m))};j["viewport"+h]=function(m){var v="inner"+h;m=w(m);var z=m.document;return v in m?m[v]:n?z.documentElement["client"+h]:z.body["client"+h]}})});
KISSY.add("dom-traversal",function(a,o){function q(g,d,r,w){if(!(g=a.get(g)))return null;if(d===o)d=1;var n=null,u,t;if(a.isNumber(d)&&d>=0){if(d===0)return g;u=0;t=d;d=function(){return++u===t}}for(;g=g[r];)if(k(g)&&(!d||f.test(g,d))&&(!w||w(g))){n=g;break}return n}function j(g,d,r){var w=[];var n=g=a.get(g);if(g&&r)n=g.parentNode;if(n){r=0;for(n=n.firstChild;n;n=n.nextSibling)if(k(n)&&n!==g&&(!d||f.test(n,d)))w[r++]=n}return w}var f=a.DOM,k=f._isElementNode;a.mix(f,{parent:function(g,d){return q(g,
d,"parentNode",function(r){return r.nodeType!=11})},next:function(g,d){return q(g,d,"nextSibling")},prev:function(g,d){return q(g,d,"previousSibling")},siblings:function(g,d){return j(g,d,true)},children:function(g,d){return j(g,d)},contains:function(g,d){var r=false;if((g=a.get(g))&&(d=a.get(d)))if(g.contains)return g.contains(d);else if(g.compareDocumentPosition)return!!(g.compareDocumentPosition(d)&16);else for(;!r&&(d=d.parentNode);)r=d==g;return r}})});
KISSY.add("dom-create",function(a,o){function q(s){var x=s.cloneNode(true);if(d.ie<8)x.innerHTML=s.innerHTML;return x}function j(s,x,y,A){if(y){var B=a.guid("ks-tmp-"),F=RegExp(l);x+='<span id="'+B+'"></span>';a.available(B,function(){var C=a.get("head"),D,H,G,I,K,E;for(F.lastIndex=0;D=F.exec(x);)if((G=(H=D[1])?H.match(b):false)&&G[2]){D=k.createElement("script");D.src=G[2];if((I=H.match(c))&&I[2])D.charset=I[2];D.async=true;C.appendChild(D)}else if((E=D[2])&&E.length>0)a.globalEval(E);(K=k.getElementById(B))&&
g.remove(K);a.isFunction(A)&&A()});f(s,x)}else{f(s,x);a.isFunction(A)&&A()}}function f(s,x){x=(x+"").replace(l,"");try{s.innerHTML=x}catch(y){for(;s.firstChild;)s.removeChild(s.firstChild);x&&s.appendChild(g.create(x))}}var k=document,g=a.DOM,d=a.UA,r=d.ie,w=g._nodeTypeIs,n=g._isElementNode,u=g._isKSNode,t=k.createElement("div"),p=/<(\w+)/,l=/<script([^>]*)>([\s\S]*?)<\/script>/ig,i=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;a.mix(g,{create:function(s,x,y){if(w(s,
1)||w(s,3))return q(s);if(u(s))return q(s[0]);if(!(s=a.trim(s)))return null;var A=null;A=g._creators;var B,F="div",C;if(B=i.exec(s))A=(y||k).createElement(B[1]);else{if((B=p.exec(s))&&(C=B[1])&&a.isFunction(A[C=C.toLowerCase()]))F=C;s=A[F](s,y).childNodes;if(s.length===1)y=s[0].parentNode.removeChild(s[0]);else{s=s;C=y||k;y=null;if(s&&(s.push||s.item)&&s[0]){C=C||s[0].ownerDocument;y=C.createDocumentFragment();if(s.item)s=a.makeArray(s);C=0;for(A=s.length;C<A;C++)y.appendChild(s[C])}y=y}A=y}y=A;n(y)&&
a.isPlainObject(x)&&g.attr(y,x,true);return y},_creators:{div:function(s,x){var y=x?x.createElement("div"):t;y.innerHTML=s;return y}},html:function(s,x,y,A){if(x===o){s=a.get(s);if(n(s))return s.innerHTML}else a.each(a.query(s),function(B){n(B)&&j(B,x,y,A)})},remove:function(s){a.each(a.query(s),function(x){n(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(d.gecko||r){var e=g._creators,h=g.create,m=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,v={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"},z;for(z in v)(function(s){e[z]=function(x,y){return h("<"+s+">"+x+"</"+s+">",null,y)}})(v[z]);if(r){e.script=function(s,x){var y=x?x.createElement("div"):t;y.innerHTML="-"+s;y.removeChild(y.firstChild);return y};if(r<8)e.tbody=function(s,x){var y=h("<table>"+s+"</table>",null,x),A=y.children.tags("tbody")[0];y.children.length>1&&A&&!m.test(s)&&A.parentNode.removeChild(A);return y}}a.mix(e,{optgroup:e.option,th:e.td,thead:e.tbody,tfoot:e.tbody,caption:e.tbody,
colgroup:e.tbody})}});KISSY.add("dom-insertion",function(a){a.mix(a.DOM,{insertBefore:function(o,q){if((o=a.get(o))&&(q=a.get(q))&&q.parentNode)q.parentNode.insertBefore(o,q);return o},insertAfter:function(o,q){if((o=a.get(o))&&(q=a.get(q))&&q.parentNode)q.nextSibling?q.parentNode.insertBefore(o,q.nextSibling):q.parentNode.appendChild(o);return o}})});
KISSY.add("event",function(a,o){function q(l,i,b,c,e){if(a.isString(i))i=a.query(i);if(a.isArray(i)){a.each(i,function(h){p[l](h,b,c,e)});return true}if((b=a.trim(b))&&b.indexOf(n)>0){a.each(b.split(n),function(h){p[l](i,h,c,e)});return true}}function j(l,i){f(l)&&g.data(l,w,i)}function f(l){return l&&l.nodeType!==3&&l.nodeType!==8}var k=document,g=a.DOM,d=k.addEventListener?function(l,i,b,c){l.addEventListener&&l.addEventListener(i,b,!!c)}:function(l,i,b){l.attachEvent&&l.attachEvent("on"+i,b)},
r=k.removeEventListener?function(l,i,b,c){l.removeEventListener&&l.removeEventListener(i,b,!!c)}:function(l,i,b){l.detachEvent&&l.detachEvent("on"+i,b)},w="ksEventTargetId",n=" ",u=a.now(),t={},p={EVENT_GUID:w,special:{},add:function(l,i,b,c){if(!q("add",l,i,b,c)){var e=f(l)?g.data(l,w):-1,h,m,v,z,s;if(!(e===-1||!i||!a.isFunction(b))){if(!e){j(l,e=u++);t[e]={target:l,events:{}}}m=t[e].events;if(!m[i]){h=((e=!l.isCustomEventTarget)||l._supportSpecialEvent)&&p.special[i]||{};v=function(x,y){if(!x||
!x.fixed){x=new a.EventObject(l,x,i);a.isPlainObject(y)&&a.mix(x,y)}h.setup&&h.setup(x);return(h.handle||p._handle)(l,x,m[i].listeners)};m[i]={handle:v,listeners:[]};z=h.fix||i;s=h.capture;if(e)d(l,z,v,s);else l._addEvent&&l._addEvent(z,v,s)}m[i].listeners.push({fn:b,scope:c||l})}}},remove:function(l,i,b,c){if(!q("remove",l,i,b,c)){var e=f(l)?g.data(l,w):-1,h,m,v,z,s,x,y;if(e!==-1)if(e&&(h=t[e]))if(h.target===l){c=c||l;h=h.events||{};if(m=h[i]){v=m.listeners;x=v.length;if(a.isFunction(b)&&x){s=z=
0;for(y=[];z<x;++z)if(b!==v[z].fn||c!==v[z].scope)y[s++]=v[z];m.listeners=y;x=y.length}if(b===o||x===0){if(l.isCustomEventTarget)l._addEvent&&l._removeEvent(i,m.handle);else{b=p.special[i]||{};r(l,b.fix||i,m.handle)}delete h[i]}}if(i===o||a.isEmptyObject(h)){for(i in h)p.remove(l,i);delete t[e];g.removeData(l,w)}}}},_handle:function(l,i,b){b=b.slice(0);for(var c,e=0,h=b.length;e<h;++e){c=b[e];c=c.fn.call(c.scope||l,i);if(c===false&&l.isCustomEventTarget||i.isImmediatePropagationStopped)break}return c},
_getCache:function(l){return t[l]},_simpleAdd:d,_simpleRemove:r};p.on=p.add;a.Event=p});
KISSY.add("event-object",function(a,o){function q(k,g,d){this.currentTarget=k;this.originalEvent=g||{};if(g){this.type=g.type;this._fix()}else{this.type=d;this.target=k}this.currentTarget=k;this.fixed=true}var j=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(q,
{_fix:function(){var k=this.originalEvent,g=f.length,d,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||j;g;){d=f[--g];this[d]=k[d]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===o&&this.clientX!==o){k=r.documentElement;g=r.body;this.pageX=this.clientX+(k&&k.scrollLeft||g&&g.scrollLeft||
0)-(k&&k.clientLeft||g&&g.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||g&&g.scrollTop||0)-(k&&k.clientTop||g&&g.clientTop||0)}if(this.which===o)this.which=this.charCode!==o?this.charCode:this.keyCode;if(this.metaKey===o)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==o)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=q});
KISSY.add("event-target",function(a,o){var q=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(j,f){var k=a.DOM.data(this,q.EVENT_GUID)||-1;if((k=((q._getCache(k)||{}).events||{})[j])&&a.isFunction(k.handle))return k.handle(o,f);return this},on:function(j,f,k){q.add(this,j,f,k);return this},detach:function(j,f,k){q.remove(this,j,f,k);return this}}});
KISSY.add("event-mouseenter",function(a){var o=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){o.special[q.name]={fix:q.fix,setup:function(j){j.type=q.name},handle:function(j,f,k){if(a.DOM._isKSNode(j))j=j[0];var g=f.relatedTarget;try{for(;g&&g!==j;)g=g.parentNode;g!==j&&o._handle(j,f,k)}catch(d){}}}})});
KISSY.add("event-focusin",function(a){var o=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(q){o.special[q.name]={fix:q.fix,capture:true,setup:function(j){j.type=q.name}}})});
KISSY.add("node",function(a){function o(f,k,g){var d;if(!(this instanceof o))return new o(f,k,g);if(f){if(a.isString(f))d=q.create(f,k,g);else if(j(f,1)||j(f,3))d=f;else if(f instanceof o)return f;this[0]=d}else this.length=0}var q=a.DOM,j=q._nodeTypeIs;o.TYPE="-ks-Node";a.augment(o,{length:1,getDOMNode:function(){return this[0]},nodeType:o.TYPE});a.one=function(f,k){var g=a.get(f,k);return g?new o(g):null};a.Node=o});
KISSY.add("nodelist",function(a){function o(f){if(!(this instanceof o))return new o(f);j.push.apply(this,f||[])}var q=a.DOM,j=Array.prototype;a.mix(o.prototype,{length:0,item:function(f){var k=null;if(q._isElementNode(this[f]))k=new a.Node(this[f]);return k},getDOMNodes:function(){return j.slice.call(this)},each:function(f,k){var g=this.length,d=0,r;for(r=new a.Node(this[0]);d<g&&f.call(k||r,r,d,this)!==false;r=new a.Node(this[++d]));return this}});a.all=function(f,k){return new o(a.query(f,k,true))};
a.NodeList=o});
KISSY.add("node-attach",function(a,o){function q(i,b,c,e){i=[this[i?u:n]()].concat(a.makeArray(b));if(b[c]===o)return e.apply(f,i);else{e.apply(f,i);return this}}function j(i,b){a.each(i,function(c){a.each([r,w],function(e,h){e[c]=function(m){switch(b){case t:return function(){return q.call(this,h,arguments,1,m)};case p:return function(){return q.call(this,h,arguments,0,m)};case l:return function(){var v=this[h?u:n]();return(v=m.apply(f,[v].concat(a.makeArray(arguments))))?new (a[a.isArray(v)?"NodeList":
"Node"])(v):null};default:return function(){var v=this[h?u:n]();v=m.apply(f,[v].concat(a.makeArray(arguments)));return v===o?this:v}}}(f[c])})})}var f=a.DOM,k=a.Event,g=f._nodeTypeIs,d=f._isKSNode,r=a.Node.prototype,w=a.NodeList.prototype,n="getDOMNode",u=n+"s",t=1,p=2,l=4;a.mix(r,{one:function(i){return a.one(i,this[0])},all:function(i){return a.all(i,this[0])}});j(["data","removeData"],t);j(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);j(["attr","removeAttr"],t);j(["val","text"],
p);j(["css"],t);j(["width","height"],p);j(["offset"],p);j(["scrollIntoView"]);j(["parent","next","prev","siblings","children"],l);j(["contains"]);j(["html"],p);j(["remove"]);a.each(["insertBefore","insertAfter"],function(i){r[i]=function(b){f[i].call(f,this[0],b);return this}});a.each([r,w],function(i,b){a.mix(i,{append:function(c){c&&a.each(this,function(e){var h;if(b||a.isString(c))h=f.create(c);else{if(g(c,1)||g(c,3))h=c;if(d(c))h=c[0]}e.appendChild(h)});return this},appendTo:function(c){if((c=
a.get(c))&&c.appendChild)a.each(this,function(e){c.appendChild(e)});return this}})});a.each([r,w],function(i){a.mix(i,a.EventTarget);i._supportSpecialEvent=true;i._addEvent=function(b,c,e){for(var h=0,m=this.length;h<m;h++)k._simpleAdd(this[h],b,c,e)};i._removeEvent=function(b,c,e){for(var h=0,m=this.length;h<m;h++)k._simpleRemove(this[h],b,c,e)};delete i.fire})});
KISSY.add("cookie",function(a){var o=document,q=encodeURIComponent,j=decodeURIComponent;a.Cookie={get:function(f){var k;if(a.isString(f)&&f!=="")if(f=o.cookie.match("(?:^| )"+f+"(?:(?:=([^;]*))|;|$)"))k=f[1]?j(f[1]):"";return k},set:function(f,k,g,d,r,w){k=q(k);var n=g;if(typeof n==="number"){n=new Date;n.setTime(n.getTime()+g*864E5)}if(n instanceof Date)k+="; expires="+n.toUTCString();if(a.isString(d)&&d!=="")k+="; domain="+d;if(a.isString(r)&&r!=="")k+="; path="+r;if(w)k+="; secure";o.cookie=f+
"="+k},remove:function(f,k,g,d){this.set(f,"",0,k,g,d)}}});
KISSY.add("json",function(a){function o(n){return n<10?"0"+n:n}function q(n){k.lastIndex=0;return k.test(n)?'"'+n.replace(k,function(u){var t=r[u];return typeof t==="string"?t:"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function j(n,u){var t,p,l,i,b=g,c,e=u[n];if(e&&typeof e==="object"&&typeof e.toJSON==="function")e=e.toJSON(n);if(typeof w==="function")e=w.call(u,n,e);switch(typeof e){case "string":return q(e);case "number":return isFinite(e)?String(e):"null";case "boolean":case "null":return String(e);
case "object":if(!e)return"null";g+=d;c=[];if(Object.prototype.toString.apply(e)==="[object Array]"){i=e.length;for(t=0;t<i;t+=1)c[t]=j(t,e)||"null";l=c.length===0?"[]":g?"[\n"+g+c.join(",\n"+g)+"\n"+b+"]":"["+c.join(",")+"]";g=b;return l}if(w&&typeof w==="object"){i=w.length;for(t=0;t<i;t+=1){p=w[t];if(typeof p==="string")if(l=j(p,e))c.push(q(p)+(g?": ":":")+l)}}else for(p in e)if(Object.hasOwnProperty.call(e,p))if(l=j(p,e))c.push(q(p)+(g?": ":":")+l);l=c.length===0?"{}":g?"{\n"+g+c.join(",\n"+g)+
"\n"+b+"}":"{"+c.join(",")+"}";g=b;return l}}a=a.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,d,r={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;if(typeof a.stringify!=="function")a.stringify=function(n,u,t){var p;d=g="";if(typeof t==="number")for(p=0;p<t;p+=1)d+=" ";else if(typeof t==="string")d=t;if((w=u)&&typeof u!=="function"&&(typeof u!=="object"||typeof u.length!=="number"))throw Error("JSON.stringify");return j("",{"":n})};if(typeof a.parse!==
"function")a.parse=function(n,u){function t(l,i){var b,c,e=l[i];if(e&&typeof e==="object")for(b in e)if(Object.hasOwnProperty.call(e,b)){c=t(e,b);if(c!==undefined)e[b]=c;else delete e[b]}return u.call(l,i,e)}var p;n=String(n);f.lastIndex=0;if(f.test(n))n=n.replace(f,function(l){return"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){p=eval("("+n+")");return typeof u==="function"?t({"":p},""):p}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(a){var o=Math,q=o.PI,j=o.pow,f=o.sin,k=1.70158,g={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(j(2,10*(d-=1))*f((d-0.075)*2*q/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return j(2,-10*d)*f((d-0.075)*2*q/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*j(2,10*(d-=1))*f((d-0.1125)*2*q/0.45);return j(2,-10*(d-=1))*f((d-0.1125)*2*q/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((k+1)*d-k)},backOut:function(d){return(d-=1)*d*((k+1)*d+k)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((k*=1.525)+1)*d-k);return 0.5*((d-=2)*d*(((k*=1.525)+1)*d+k)+2)},bounceIn:function(d){return 1-
g.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return g.bounceIn(d*2)*0.5;return g.bounceOut(d*2-1)*0.5+0.5}};a.Easing=g});
KISSY.add("anim",function(a,o){function q(p,l,i,b,c){if(p=a.get(p)){if(!(this instanceof q))return new q(p,l,i,b,c);var e=a.isPlainObject(i);l=l;this.domEl=p;if(a.isPlainObject(l))l=a.param(l,";").replace(/=/g,":");var h={},m=n.length,v;w.innerHTML='<div style="'+l+'"></div>';for(p=w.firstChild.style;m--;)if(v=p[n[m]])h[n[m]]=j(v);this.props=h;this.targetStyle=l;if(e)e=a.merge(t,i);else{e=a.clone(t);i&&(e.duration=r(i,10)||1);a.isString(b)&&(b=d[b]);a.isFunction(b)&&(e.easing=b);a.isFunction(c)&&
(e.complete=c)}this.config=e;a.isFunction(c)&&this.on(u,c)}}function j(p){var l=r(p);p=(p+"").replace(/^[-\d\.]+/,"");return isNaN(l)?{v:p,u:"",f:k}:{v:l,u:p,f:f}}function f(p,l,i){return(p+(l-p)*i).toFixed(3)}function k(p,l,i){for(var b=2,c,e,h=[],m=[];c=3,e=arguments[b-1],b--;)if(e.substr(0,4)==="rgb(")for(e=e.match(/\d+/g);c--;)h.push(~~e[c]);else if(e.substr(0,1)==="#"){if(e.length===4)e="#"+e.substr(1,1)+e.substr(1,1)+e.substr(2,1)+e.substr(2,1)+e.substr(3,1)+e.substr(3,1);for(;c--;)h.push(parseInt(e.substr(1+
c*2,2),16))}else return l;for(;c--;){b=~~(h[c+3]+(h[c]-h[c+3])*i);m.push(b<0?0:b>255?255:b)}return"rgb("+m.join(",")+")"}var g=a.DOM,d=a.Easing,r=parseFloat,w=g.create("<div>"),n="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="complete",t={duration:1,easing:d.easeNone};a.augment(q,a.EventTarget,{run:function(){var p=this,l=p.config,i=p.domEl,b=l.duration*1E3,c=l.easing,e=a.now(),h=e+b,m=p.props,v={},z;for(z in m)v[z]=j(g.css(i,z));if(p.fire("start")!==false){p.stop();p.timer=a.later(l=function(){var s=a.now(),x=s>h?1:(s-e)/b,y,A,B;for(z in m){y=v[z];A=m[z];if(A.v==0)A.u=y.u;if(y.u!==A.u)y.v=0;g.css(i,z,A.f(y.v,A.v,c(x))+A.u)}if(p.fire("step")===false||(B=s>h)){p.stop();B&&p.fire(u)}},13,true);l();return p}},stop:function(p){var l=
this.domEl,i=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=o}if(p){a.UA.ie&&i.indexOf("opacity")>-1&&g.css(l,"opacity",this.props.opacity.v);l.style.cssText+=";"+i;this.fire(u)}return this}});a.Anim=q});
KISSY.add("anim-node-plugin",function(a,o){function q(i,b,c,e,h){if(b==="toggle")b=(h=j.css(i,k)===d?1:0)?"show":"hide";h&&j.css(i,k,g);var m={};a.each(l[b],function(v){if(v===r)j.css(i,r,w);else if(v===n){m.opacity=h?1:0;h&&j.css(i,n,0)}else if(v===u){m.height=h?j.css(i,u)||i.naturalHeight:0;h&&j.css(i,u,0)}else if(v===t){m.width=h?j.css(i,t)||i.naturalWidth:0;h&&j.css(i,t,0)}});(new a.Anim(i,m,c,"easeOut",function(){h||j.css(i,{display:d,height:p,width:p,overflow:p,opacity:1});e&&a.isFunction(e)&&
e()})).run()}var j=a.DOM,f=a.Anim,k="display",g="block",d="none",r="overflow",w="hidden",n="opacity",u="height",t="width",p="auto",l={show:[r,n,u,t],fade:[n],slide:[r,u]};a.each([a.Node.prototype,a.NodeList.prototype],function(i){i.animate=function(){var b=a.makeArray(arguments);a.each(this,function(c){f.apply(o,[c].concat(b)).run()});return this};a.each({show:["show",1],hide:["hide",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(b,c){i[c]=
function(e,h){j[c]&&arguments.length===0?j[c](this):a.each(this,function(m){q(m,b[0],e,h,b[1])});return this}})})});KISSY.add("core");
