/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 14 17:57
*/
KISSY.add("ua",function(b){var k=navigator.userAgent,n="",l="",e,h={},g=function(c){var q=0;return parseFloat(c.replace(/\./g,function(){return q++===0?".":""}))};if((e=k.match(/AppleWebKit\/([\d.]*)/))&&e[1]){h[n="webkit"]=g(e[1]);if((e=k.match(/Chrome\/([\d.]*)/))&&e[1])h[l="chrome"]=g(e[1]);else if((e=k.match(/\/([\d.]*) Safari/))&&e[1])h[l="safari"]=g(e[1]);if(/ Mobile\//.test(k))h.mobile="apple";else if(e=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))h.mobile=e[0].toLowerCase()}else if((e=
k.match(/Presto\/([\d.]*)/))&&e[1]){h[n="presto"]=g(e[1]);if((e=k.match(/Opera\/([\d.]*)/))&&e[1]){h[l="opera"]=g(e[1]);if((e=k.match(/Opera\/.* Version\/([\d.]*)/))&&e[1])h[l]=g(e[1]);if((e=k.match(/Opera Mini[^;]*/))&&e)h.mobile=e[0].toLowerCase();else if((e=k.match(/Opera Mobi[^;]*/))&&e)h.mobile=e[0]}}else if((e=k.match(/MSIE\s([^;]*)/))&&e[1]){h[n="trident"]=0.1;h[l="ie"]=g(e[1]);if((e=k.match(/Trident\/([\d.]*)/))&&e[1])h[n]=g(e[1])}else if(e=k.match(/Gecko/)){h[n="gecko"]=0.1;if((e=k.match(/rv:([\d.]*)/))&&
e[1])h[n]=g(e[1]);if((e=k.match(/Firefox\/([\d.]*)/))&&e[1])h[l="firefox"]=g(e[1])}h.core=n;h.shell=l;h._numberify=g;b.UA=h});
KISSY.add("ua-extra",function(b){var k=b.UA,n=navigator.userAgent,l,e,h={},g=k._numberify;if(n.match(/360SE/))h[e="se360"]=3;else if(n.match(/Maxthon/)&&(l=window.external)){e="maxthon";try{h[e]=g(l.max_version)}catch(c){h[e]=0.1}}else if(l=n.match(/TencentTraveler\s([\d.]*)/))h[e="tt"]=l[1]?g(l[1]):0.1;else if(n.match(/TheWorld/))h[e="theworld"]=3;else if(l=n.match(/SE\s([\d.]*)/))h[e="sougou"]=l[1]?g(l[1]):0.1;e&&(h.shell=e);b.mix(k,h)});
KISSY.add("dom",function(b,k){function n(l,e){return l&&l.nodeType===e}b.DOM={_isElementNode:function(l){return n(l,1)},_isKSNode:function(l){return b.Node&&n(l,b.Node.TYPE)},_getWin:function(l){return l&&"scrollTo"in l&&l.document?l:n(l,9)?l.defaultView||l.parentWindow:l===k?window:false},_nodeTypeIs:n}});
KISSY.add("selector",function(b,k){function n(a,f){var j,o=[],x,w;f=e(f);if(b.isString(a)){a=b.trim(a);if(i.test(a)){if(a=h(a.slice(1),f))o=[a]}else if(j=d.exec(a)){x=j[1];w=j[2];j=j[3];if(f=x?h(x,f):f)if(j)if(!x||a.indexOf(p)!==-1)o=c(j,w,f);else{if((a=h(x,f))&&m.hasClass(a,j))o=[a]}else if(w)o=g(w,f)}else if(b.ExternalSelector)return b.ExternalSelector(a,f);else q(a)}else if(a&&(a[y]||a[A]))o=a[y]?[a[y]()]:a[A]();else if(a&&(b.isArray(a)||l(a)))o=a;else if(a)o=[a];if(l(o))o=b.makeArray(o);o.each=
function(v,z){return b.each(o,v,z)};return o}function l(a){return a&&!a.nodeType&&(a.namedItem||b.isFunction(a.item))}function e(a){if(a===k)a=r;else if(b.isString(a)&&i.test(a))a=h(a.slice(1),r);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function h(a,f){if(f.nodeType!==9)f=f.ownerDocument;return f.getElementById(a)}function g(a,f){return f.getElementsByTagName(a)}function c(a,f,j){j=a=j.getElementsByClassName(a);var o=0,x=0,w=a.length,v;if(f&&f!==t){j=[];for(f=f.toUpperCase();o<w;++o){v=
a[o];if(v.tagName===f)j[x++]=v}}return j}function q(a){b.error("Unsupported selector: "+a)}var r=document,m=b.DOM,p=" ",t="*",y="getDOMNode",A=y+"s",i=/^#[\w-]+$/,d=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=r.createElement("div");a.appendChild(r.createComment(""));if(a.getElementsByTagName(t).length>0)g=function(f,j){j=j.getElementsByTagName(f);if(f===t){f=[];for(var o=0,x=0,w;w=j[o++];)if(w.nodeType===1)f[x++]=w;j=f}return j}})();r.getElementsByClassName||(c=r.querySelectorAll?
function(a,f,j){return j.querySelectorAll((f?f:"")+"."+a)}:function(a,f,j){f=j.getElementsByTagName(f||t);j=[];var o=0,x=0,w=f.length,v,z;for(a=p+a+p;o<w;++o){v=f[o];if((z=v.className)&&(p+z+p).indexOf(a)>-1)j[x++]=v}return j});b.query=n;b.get=function(a,f){return n(a,f)[0]||null};b.mix(m,{query:n,get:b.get,filter:function(a,f){var j=n(a),o,x,w,v=[];if(b.isString(f)&&(o=d.exec(f))&&!o[1]){x=o[2];w=o[3];f=function(z){return!(x&&z.tagName!==x.toUpperCase()||w&&!m.hasClass(z,w))}}if(b.isFunction(f))v=
b.filter(j,f);else if(f&&b.ExternalSelector)v=b.ExternalSelector._filter(a,f);else q(f);return v},test:function(a,f){a=n(a);return m.filter(a,f).length===a.length}})});
KISSY.add("dom-data",function(b,k){function n(r){return r&&r.nodeType}var l=window,e=b.DOM,h="_ks_data_"+b.now(),g={},c={},q={EMBED:1,OBJECT:1,APPLET:1};b.mix(e,{data:function(r,m,p){if(b.isPlainObject(m))for(var t in m)e.data(r,t,m[t]);else if(p===k){r=b.get(r);if(r==l)r=c;t=n(r);r=(t?g:r)[t?r[h]:h];if(b.isString(m)&&r)return r[m];return r}else b.query(r).each(function(y){if(!(!y||q[y.nodeName])){if(y==l)y=c;var A=g,i;if(n(y)){if(!(i=y[h]))i=y[h]=b.guid()}else{i=h;A=y}if(m&&p!==k){A[i]||(A[i]={});
A[i][m]=p}}})},removeData:function(r,m){b.query(r).each(function(p){if(p){if(p==l)p=c;var t,y=g,A,i=n(p);if(i)t=p[h];else{y=p;t=h}if(t){A=y[t];if(m){if(A){delete A[m];b.isEmptyObject(A)&&e.removeData(p)}}else{if(i)p.removeAttribute&&p.removeAttribute(h);else try{delete p[h]}catch(d){}i&&delete y[t]}}}})}})});
KISSY.add("dom-class",function(b,k){function n(g,c,q,r){if(!(c=b.trim(c)))return r?false:k;g=b.query(g);var m=0,p=g.length;c=c.split(e);for(var t;m<p;m++){t=g[m];if(l._isElementNode(t)){t=q(t,c,c.length);if(t!==k)return t}}if(r)return false}var l=b.DOM,e=/[\.\s]\s*\.?/,h=/[\n\t]/g;b.mix(l,{hasClass:function(g,c){return n(g,c,function(q,r,m){if(q=q.className){q=" "+q+" ";for(var p=0,t=true;p<m;p++)if(q.indexOf(" "+r[p]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(g,c){n(g,c,function(q,
r,m){var p=q.className;if(p){var t=" "+p+" ";p=p;for(var y=0;y<m;y++)if(t.indexOf(" "+r[y]+" ")<0)p+=" "+r[y];q.className=b.trim(p)}else q.className=c})},removeClass:function(g,c){n(g,c,function(q,r,m){var p=q.className;if(p)if(m){p=(" "+p+" ").replace(h," ");for(var t=0,y;t<m;t++)for(y=" "+r[t]+" ";p.indexOf(y)>=0;)p=p.replace(y," ");q.className=b.trim(p)}else q.className=""})},replaceClass:function(g,c,q){l.removeClass(g,c);l.addClass(g,q)},toggleClass:function(g,c,q){var r=b.isBoolean(q),m;n(g,
c,function(p,t,y){for(var A=0,i;A<y;A++){i=t[A];m=r?!q:l.hasClass(p,i);l[m?"removeClass":"addClass"](p,i)}})}})});
KISSY.add("dom-attr",function(b,k){function n(i,d){return d&&d.nodeName.toUpperCase()===i.toUpperCase()}var l=b.UA,e=l.ie,h=e&&e<8,g=document.documentElement.textContent!==k?"textContent":"innerText",c=b.DOM,q=c._isElementNode,r=function(i){return c._nodeTypeIs(i,3)},m=/href|src|style/,p=/href|src|colspan|rowspan/,t=/\r/g,y=/radio|checkbox/,A={readonly:"readOnly"};h&&b.mix(A,{"for":"htmlFor","class":"className"});b.mix(c,{attr:function(i,d,a){if(b.isPlainObject(d))for(var f in d)c.attr(i,f,d[f]);
else if(d=b.trim(d)){d=d.toLowerCase();d=A[d]||d;if(a===k){i=b.get(i);if(!q(i))return k;var j;m.test(d)||(j=i[d]);if(j===k)j=i.getAttribute(d);if(h)if(p.test(d))j=i.getAttribute(d,2);else if(d==="style")j=i.style.cssText;return j===null?k:j}b.each(b.query(i),function(o){if(q(o))if(d==="style")o.style.cssText=a;else{if(d==="checked")o[d]=!!a;o.setAttribute(d,""+a)}})}},removeAttr:function(i,d){b.each(b.query(i),function(a){if(q(a)){c.attr(a,d,"");a.removeAttribute(d)}})},val:function(i,d){if(d===k){var a=
b.get(i);if(!q(a))return k;if(n("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(n("select",a)){var f=a.selectedIndex;i=a.options;if(f<0)return null;else if(a.type==="select-one")return c.val(i[f]);a=[];for(var j=0,o=i.length;j<o;++j)i[j].selected&&a.push(c.val(i[j]));return a}if(l.webkit&&y.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(t,"")}b.each(b.query(i),function(x){if(n("select",x)){if(b.isNumber(d))d+="";var w=b.makeArray(d),
v=x.options,z;j=0;for(o=v.length;j<o;++j){z=v[j];z.selected=b.inArray(c.val(z),w)}if(!w.length)x.selectedIndex=-1}else if(q(x))x.value=d})},text:function(i,d){if(d===k){i=b.get(i);if(q(i))return i[g]||"";else if(r(i))return i.nodeValue}else b.each(b.query(i),function(a){if(q(a))a[g]=d;else if(r(a))a.nodeValue=d})}})});
KISSY.add("dom-style",function(b,k){function n(d,a){var f=b.get(d),j=a===q?f.offsetWidth:f.offsetHeight;b.each(a===q?["Left","Right"]:["Top","Bottom"],function(o){j-=parseFloat(e._getComputedStyle(f,"padding"+o))||0;j-=parseFloat(e._getComputedStyle(f,"border"+o+"Width"))||0});return j}function l(d,a,f){var j=f;if(f===r&&p.test(a)){j=0;if(e.css(d,"position")==="absolute"){f=d[a==="left"?"offsetLeft":"offsetTop"];if(h.ie===8||h.opera)f-=m(e.css(d.offsetParent,"border-"+a+"-width"))||0;j=f-(m(e.css(d,
"margin-"+a))||0)}}return j}var e=b.DOM,h=b.UA,g=document,c=g.documentElement,q="width",r="auto",m=parseInt,p=/^left|top$/,t=/width|height|top|left|right|bottom|margin|padding/i,y=/-([a-z])/ig,A=function(d,a){return a.toUpperCase()},i={};b.mix(e,{_CUSTOM_STYLES:i,_getComputedStyle:function(d,a){var f="",j=d.ownerDocument;if(d.style)f=j.defaultView.getComputedStyle(d,null)[a];return f},css:function(d,a,f){if(b.isPlainObject(a))for(var j in a)e.css(d,j,a[j]);else{if(a.indexOf("-")>0)a=a.replace(y,A);
a=i[a]||a;if(f===k){d=b.get(d);j="";if(d&&d.style){j=a.get?a.get(d):d.style[a];if(j===""&&!a.get)j=l(d,a,e._getComputedStyle(d,a))}return j===k?"":j}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&t.test(a))f+="px";(a===q||a==="height")&&parseFloat(f)<0||b.each(b.query(d),function(o){if(o&&o.style){a.set?a.set(o,f):(o.style[a]=f);if(f==="")o.style.cssText||o.removeAttribute("style")}})}}},width:function(d,a){if(a===k)return n(d,q);else e.css(d,q,a)},height:function(d,a){if(a===k)return n(d,
"height");else e.css(d,"height",a)},show:function(d){b.query(d).each(function(a){a.style.display=e.data(a,"display")||""})},hide:function(d){b.query(d).each(function(a){var f=a.style,j=f.display;if(j!=="none"){j&&e.data(a,"display",j);f.display="none"}})},toggle:function(d){b.query(d).each(function(a){if(a)a.style.display==="none"?e.show(a):e.hide(a)})},addStyleSheet:function(d,a){var f;if(a)f=b.get("#"+a);if(!f){f=e.create("<style>",{id:a});b.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=
d;else f.appendChild(g.createTextNode(d))}}});if(c.style.cssFloat!==k)i["float"]="cssFloat";else if(c.style.styleFloat!==k)i["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,k){if(b.UA.ie){var n=b.DOM;b=document;var l=b.documentElement,e=n._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,g=/^-?\d/,c=/^width|height$/;try{if(l.style.opacity===k&&l.filters)e.opacity={get:function(r){var m=100;try{m=r.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(p){try{m=r.filters("alpha").opacity}catch(t){}}return m/100+""},set:function(r,m){var p=r.style;r=(r.currentStyle||0).filter||"";p.zoom=1;if(r)if(r=r.replace(/alpha\(opacity=.+\)/ig,""))r+=", ";
p.filter=r+"alpha(opacity="+m*100+")"}}}catch(q){}if(!(b.defaultView||{}).getComputedStyle&&l.currentStyle)n._getComputedStyle=function(r,m){var p=r.style,t=r.currentStyle[m];if(c.test(m))t=n[m](r)+"px";else if(!h.test(t)&&g.test(t)){var y=p.left,A=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left;p.left=m==="fontSize"?"1em":t||0;t=p.pixelLeft+"px";p.left=y;r.runtimeStyle.left=A}return t}}});
KISSY.add("dom-offset",function(b,k){function n(w){var v=0,z=0,s=m(w[d]);if(w[x]){w=w[x]();v=w[a];z=w[f];if(h.mobile!=="apple"){v+=e[j](s);z+=e[o](s)}}return{left:v,top:z}}function l(w,v){if(e.css(w,A)==="static")w.style[A]=i;var z=n(w),s={},u,B;for(B in v){u=y(e.css(w,B),10)||0;s[B]=u+v[B]-z[B]}e.css(w,s)}var e=b.DOM,h=b.UA,g=window,c=document,q=e._isElementNode,r=e._nodeTypeIs,m=e._getWin,p=c.compatMode==="CSS1Compat",t=Math.max,y=parseInt,A="position",i="relative",d="ownerDocument",a="left",f=
"top",j="scrollLeft",o="scrollTop",x="getBoundingClientRect";b.mix(e,{offset:function(w,v){if(!(w=b.get(w))||!w[d])return null;if(v===k)return n(w);l(w,v)},scrollIntoView:function(w,v,z,s){if((w=b.get(w))&&w[d]){s=s===k?true:!!s;z=z===k?true:!!z;if(!v||v===g)return w.scrollIntoView(z);v=b.get(v);if(r(v,9))v=m(v);var u=v&&"scrollTo"in v&&v.document,B=e.offset(w),C=u?{left:e.scrollLeft(v),top:e.scrollTop(v)}:e.offset(v),D={left:B[a]-C[a],top:B[f]-C[f]};B=u?e.viewportHeight(v):v.clientHeight;C=u?e.viewportWidth(v):
v.clientWidth;var G=e[j](v),E=e[o](v),F=G+C,M=E+B,I=w.offsetHeight;w=w.offsetWidth;var H=D.left+G-(y(e.css(v,"borderLeftWidth"))||0);D=D.top+E-(y(e.css(v,"borderTopWidth"))||0);var N=H+w,J=D+I,K,L;if(I>B||D<E||z)K=D;else if(J>M)K=J-B;if(s)if(w>C||H<G||z)L=H;else if(N>F)L=N-C;if(u){if(K!==k||L!==k)v.scrollTo(L,K)}else{if(K!==k)v[o]=K;if(L!==k)v[j]=L}}}});b.each(["Left","Top"],function(w,v){var z="scroll"+w;e[z]=function(s){var u=0,B=m(s),C;if(B&&(C=B.document))u=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[z]||
C.body[z];else if(q(s=b.get(s)))u=s[z];return u}});b.each(["Width","Height"],function(w){e["doc"+w]=function(v){v=v||c;return t(p?v.documentElement["scroll"+w]:v.body["scroll"+w],e["viewport"+w](v))};e["viewport"+w]=function(v){var z="inner"+w;v=m(v);var s=v.document;return z in v?v[z]:p?s.documentElement["client"+w]:s.body["client"+w]}})});
KISSY.add("dom-traversal",function(b,k){function n(g,c,q,r){if(!(g=b.get(g)))return null;if(c===k)c=1;var m=null,p,t;if(b.isNumber(c)&&c>=0){if(c===0)return g;p=0;t=c;c=function(){return++p===t}}for(;g=g[q];)if(h(g)&&(!c||e.test(g,c))&&(!r||r(g))){m=g;break}return m}function l(g,c,q){var r=[];var m=g=b.get(g);if(g&&q)m=g.parentNode;if(m){q=0;for(m=m.firstChild;m;m=m.nextSibling)if(h(m)&&m!==g&&(!c||e.test(m,c)))r[q++]=m}return r}var e=b.DOM,h=e._isElementNode;b.mix(e,{parent:function(g,c){return n(g,
c,"parentNode",function(q){return q.nodeType!=11})},next:function(g,c){return n(g,c,"nextSibling")},prev:function(g,c){return n(g,c,"previousSibling")},siblings:function(g,c){return l(g,c,true)},children:function(g,c){return l(g,c)},contains:function(g,c){var q=false;if((g=b.get(g))&&(c=b.get(c)))if(g.contains)return g.contains(c);else if(g.compareDocumentPosition)return!!(g.compareDocumentPosition(c)&16);else for(;!q&&(c=c.parentNode);)q=c==g;return q}})});
KISSY.add("dom-create",function(b,k){function n(s,u){t(s)&&b.isPlainObject(u)&&q.attr(s,u);return s}function l(s,u){var B=null,C;if(s&&(s.push||s.item)&&s[0]){u=u||s[0].ownerDocument;B=u.createDocumentFragment();if(s.item)s=b.makeArray(s);u=0;for(C=s.length;u<C;u++)B.appendChild(s[u])}return B}function e(s){var u=s.cloneNode(true);if(r.ie<8)u.innerHTML=s.innerHTML;return u}function h(s,u,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(d);u+='<span id="'+D+'"></span>';b.available(D,function(){var E=
b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(u);)if((I=(M=F[1])?M.match(f):false)&&I[2]){F=c.createElement("script");F.src=I[2];if((H=M.match(j))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=c.getElementById(D))&&q.remove(N);b.isFunction(C)&&C()});g(s,u)}else{g(s,u);b.isFunction(C)&&C()}}function g(s,u){u=(u+"").replace(d,"");try{s.innerHTML=u}catch(B){for(;s.firstChild;)s.removeChild(s.firstChild);u&&s.appendChild(q.create(u))}}var c=
document,q=b.DOM,r=b.UA,m=r.ie,p=q._nodeTypeIs,t=q._isElementNode,y=q._isKSNode,A=c.createElement("div"),i=/<(\w+)/,d=/<script([^>]*)>([\s\S]*?)<\/script>/ig,a=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,j=/\scharset=(['"])(.*?)\1/i;b.mix(q,{create:function(s,u,B){if(p(s,1)||p(s,3))return e(s);if(y(s))return e(s[0]);if(!(s=b.trim(s)))return null;var C=null;C=q._creators;var D,G="div",E;if(D=a.exec(s))C=(B||c).createElement(D[1]);else{if((D=i.exec(s))&&(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=
E;s=C[G](s,B).childNodes;C=s.length===1?s[0].parentNode.removeChild(s[0]):l(s,B||c)}return n(C,u)},_creators:{div:function(s,u){u=u?u.createElement("div"):A;u.innerHTML=s;return u}},html:function(s,u,B,C){if(u===k){s=b.get(s);if(t(s))return s.innerHTML}else b.each(b.query(s),function(D){t(D)&&h(D,u,B,C)})},remove:function(s){b.each(b.query(s),function(u){t(u)&&u.parentNode&&u.parentNode.removeChild(u)})}});if(r.gecko||m){var o=q._creators,x=q.create,w=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var z in v)(function(s){o[z]=function(u,B){return x("<"+s+">"+u+"</"+s+">",null,B)}})(v[z]);if(m){o.script=function(s,u){u=u?u.createElement("div"):A;u.innerHTML="-"+s;u.removeChild(u.firstChild);return u};if(m<8)o.tbody=function(s,u){u=x("<table>"+s+"</table>",null,u);var B=u.children.tags("tbody")[0];u.children.length>1&&B&&!w.test(s)&&B.parentNode.removeChild(B);return u}}b.mix(o,{optgroup:o.option,th:o.td,
thead:o.tbody,tfoot:o.tbody,caption:o.tbody,colgroup:o.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(k,n){if((k=b.get(k))&&(n=b.get(n))&&n.parentNode)n.parentNode.insertBefore(k,n);return k},insertAfter:function(k,n){if((k=b.get(k))&&(n=b.get(n))&&n.parentNode)n.nextSibling?n.parentNode.insertBefore(k,n.nextSibling):n.parentNode.appendChild(k);return k}})});
KISSY.add("event",function(b,k){function n(d,a,f,j,o){if(b.isString(a))a=b.query(a);if(b.isArray(a)){b.each(a,function(x){i[d](x,f,j,o)});return true}if((f=b.trim(f))&&f.indexOf(t)>0){b.each(f.split(t),function(x){i[d](a,x,j,o)});return true}}function l(d){return g(d)?q.data(d,p):-1}function e(d,a){g(d)&&q.data(d,p,a)}function h(d){q.removeData(d,p)}function g(d){return d&&d.nodeType!==3&&d.nodeType!==8}var c=document,q=b.DOM,r=c.addEventListener?function(d,a,f,j){d.addEventListener&&d.addEventListener(a,
f,!!j)}:function(d,a,f){d.attachEvent&&d.attachEvent("on"+a,f)},m=c.removeEventListener?function(d,a,f,j){d.removeEventListener&&d.removeEventListener(a,f,!!j)}:function(d,a,f){d.detachEvent&&d.detachEvent("on"+a,f)},p="ksEventTargetId",t=" ",y=b.now(),A={},i={EVENT_GUID:p,special:{},add:function(d,a,f,j){if(!n("add",d,a,f,j)){var o=l(d),x,w,v,z,s;if(!(o===-1||!a||!b.isFunction(f))){if(!o){e(d,o=y++);A[o]={target:d,events:{}}}w=A[o].events;if(!w[a]){x=((o=!d.isCustomEventTarget)||d._supportSpecialEvent)&&
i.special[a]||{};v=function(u,B){if(!u||!u.fixed){u=new b.EventObject(d,u,a);b.isPlainObject(B)&&b.mix(u,B)}x.setup&&x.setup(u);return(x.handle||i._handle)(d,u,w[a].listeners)};w[a]={handle:v,listeners:[]};z=x.fix||a;s=x.capture;if(o)r(d,z,v,s);else d._addEvent&&d._addEvent(z,v,s)}w[a].listeners.push({fn:f,scope:j||d})}}},remove:function(d,a,f,j){if(!n("remove",d,a,f,j)){var o=l(d),x,w,v,z,s,u,B;if(o!==-1)if(o&&(x=A[o]))if(x.target===d){j=j||d;x=x.events||{};if(w=x[a]){v=w.listeners;u=v.length;if(b.isFunction(f)&&
u){s=z=0;for(B=[];z<u;++z)if(f!==v[z].fn||j!==v[z].scope)B[s++]=v[z];w.listeners=B;u=B.length}if(f===k||u===0){if(d.isCustomEventTarget)d._addEvent&&d._removeEvent(a,w.handle);else{f=i.special[a]||{};m(d,f.fix||a,w.handle)}delete x[a]}}if(a===k||b.isEmptyObject(x)){for(a in x)i.remove(d,a);delete A[o];h(d)}}}},_handle:function(d,a,f){f=f.slice(0);for(var j,o=0,x=f.length;o<x;++o){j=f[o];j=j.fn.call(j.scope||d,a);if(j===false&&d.isCustomEventTarget||a.isImmediatePropagationStopped)break}return j},
_getCache:function(d){return A[d]},_simpleAdd:r,_simpleRemove:m};i.on=i.add;b.Event=i});
KISSY.add("event-object",function(b,k){function n(h,g,c){this.currentTarget=h;this.originalEvent=g||{};if(g){this.type=g.type;this._fix()}else{this.type=c;this.target=h}this.currentTarget=h;this.fixed=true}var l=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(n,
{_fix:function(){var h=this.originalEvent,g=e.length,c,q=this.currentTarget;for(q=q.nodeType===9?q:q.ownerDocument||l;g;){c=e[--g];this[c]=h[c]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){h=q.documentElement;g=q.body;this.pageX=this.clientX+(h&&h.scrollLeft||g&&g.scrollLeft||
0)-(h&&h.clientLeft||g&&g.clientLeft||0);this.pageY=this.clientY+(h&&h.scrollTop||g&&g.scrollTop||0)-(h&&h.clientTop||g&&g.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=
this.originalEvent;if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=n});
KISSY.add("event-target",function(b,k){var n=b.Event;b.EventTarget={isCustomEventTarget:true,fire:function(l,e){var h=b.DOM.data(this,n.EVENT_GUID)||-1;if((l=((n._getCache(h)||{}).events||{})[l])&&b.isFunction(l.handle))return l.handle(k,e);return this},on:function(l,e,h){n.add(this,l,e,h);return this},detach:function(l,e,h){n.remove(this,l,e,h);return this}}});
KISSY.add("event-mouseenter",function(b){var k=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){k.special[n.name]={fix:n.fix,setup:function(l){l.type=n.name},handle:function(l,e,h){var g=e.relatedTarget;try{for(;g&&g!==l;)g=g.parentNode;g!==l&&k._handle(l,e,h)}catch(c){}}}})});
KISSY.add("event-focusin",function(b){var k=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){k.special[n.name]={fix:n.fix,capture:true,setup:function(l){l.type=n.name}}})});
KISSY.add("node",function(b){function k(e,h,g){var c;if(!(this instanceof k))return new k(e,h,g);if(e){if(l(e,1)||l(e,3))c=e;else if(b.isString(e))c=n.create(e,h,g);this[0]=c}else this.length=0}var n=b.DOM,l=n._nodeTypeIs;k.TYPE="-ks-Node";b.augment(k,{length:1,getDOMNode:function(){return this[0]},nodeType:k.TYPE});b.one=function(e,h){return(e=b.get(e,h))?new k(e):null};b.Node=k});
KISSY.add("nodelist",function(b){function k(e){if(!(this instanceof k))return new k(e);l.push.apply(this,e||[])}var n=b.DOM,l=Array.prototype;b.mix(k.prototype,{length:0,item:function(e){var h=null;if(n._isElementNode(this[e]))h=new b.Node(this[e]);return h},getDOMNodes:function(){return l.slice.call(this)},each:function(e,h){var g=this.length,c=0,q;for(q=new b.Node(this[0]);c<g&&e.call(h||q,q,c,this)!==false;q=new b.Node(this[++c]));return this}});b.all=function(e,h){return new k(b.query(e,h,true))};
b.NodeList=k});
KISSY.add("node-attach",function(b,k){function n(i,arguments,d,a){var f=[this[i?p:m]()].concat(b.makeArray(arguments));if(arguments[d]===k)return a.apply(e,f);else{a.apply(e,f);return this}}function l(i,d){b.each(i,function(a){b.each([q,r],function(f,j){f[a]=function(o){switch(d){case t:return function(){return n.call(this,j,arguments,1,o)};case y:return function(){return n.call(this,j,arguments,0,o)};case A:return function(){var x=this[j?p:m]();return(x=o.apply(e,[x].concat(b.makeArray(arguments))))?new (b[b.isArray(x)?
"NodeList":"Node"])(x):null};default:return function(){var x=this[j?p:m]();x=o.apply(e,[x].concat(b.makeArray(arguments)));return x===k?this:x}}}(e[a])})})}var e=b.DOM,h=b.Event,g=e._nodeTypeIs,c=e._isKSNode,q=b.Node.prototype,r=b.NodeList.prototype,m="getDOMNode",p=m+"s",t=1,y=2,A=4;b.mix(q,{one:function(i){return b.one(i,this[0])},all:function(i){return b.all(i,this[0])}});l(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);l(["attr","removeAttr"],t);l(["val","text"],y);l(["css"],
t);l(["width","height"],y);l(["offset"],y);l(["scrollIntoView"]);l(["parent","next","prev","siblings","children"],A);l(["contains"]);l(["html"],y);l(["remove"]);b.each(["insertBefore","insertAfter"],function(i){q[i]=function(d){e[i].call(e,this[0],d);return this}});b.each([q,r],function(i,d){b.mix(i,{append:function(a){a&&b.each(this,function(f){var j;if(d||b.isString(a))j=e.create(a);else{if(g(a,1)||g(a,3))j=a;if(c(a))j=a[0]}f.appendChild(j)});return this},appendTo:function(a){if((a=b.get(a))&&a.appendChild)b.each(this,
function(f){a.appendChild(f)});return this}})});b.each([q,r],function(i){b.mix(i,b.EventTarget,{_supportSpecialEvent:true});i._addEvent=function(d,a,f){for(var j=0,o=this.length;j<o;j++)h._simpleAdd(this[j],d,a,f)};i._removeEvent=function(d,a,f){for(var j=0,o=this.length;j<o;j++)h._simpleRemove(this[j],d,a,f)};delete i.fire})});
KISSY.add("cookie",function(b){function k(h){return b.isString(h)&&h!==""}var n=document,l=encodeURIComponent,e=decodeURIComponent;b.Cookie={get:function(h){var g;if(k(h))if(h=n.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))g=h[1]?e(h[1]):"";return g},set:function(h,g,c,q,r,m){g=l(g);var p=c;if(typeof p==="number"){p=new Date;p.setTime(p.getTime()+c*864E5)}if(p instanceof Date)g+="; expires="+p.toUTCString();if(k(q))g+="; domain="+q;if(k(r))g+="; path="+r;if(m)g+="; secure";n.cookie=h+"="+g},remove:function(h,
g,c,q){this.set(h,"",0,g,c,q)}}});
KISSY.add("json",function(b){function k(m){return m<10?"0"+m:m}function n(m){h.lastIndex=0;return h.test(m)?'"'+m.replace(h,function(p){var t=q[p];return typeof t==="string"?t:"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+m+'"'}function l(m,p){var t,y,A=g,i,d=p[m];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(m);if(typeof r==="function")d=r.call(p,m,d);switch(typeof d){case "string":return n(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";g+=c;i=[];if(Object.prototype.toString.apply(d)==="[object Array]"){y=d.length;for(m=0;m<y;m+=1)i[m]=l(m,d)||"null";p=i.length===0?"[]":g?"[\n"+g+i.join(",\n"+g)+"\n"+A+"]":"["+i.join(",")+"]";g=A;return p}if(r&&typeof r==="object"){y=r.length;for(m=0;m<y;m+=1){t=r[m];if(typeof t==="string")if(p=l(t,d))i.push(n(t)+(g?": ":":")+p)}}else for(t in d)if(Object.hasOwnProperty.call(d,t))if(p=l(t,d))i.push(n(t)+(g?": ":":")+p);p=i.length===0?"{}":g?"{\n"+g+i.join(",\n"+g)+
"\n"+A+"}":"{"+i.join(",")+"}";g=A;return p}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,c,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;if(typeof b.stringify!=="function")b.stringify=function(m,p,t){var y;c=g="";if(typeof t==="number")for(y=0;y<t;y+=1)c+=" ";else if(typeof t==="string")c=t;if((r=p)&&typeof p!=="function"&&(typeof p!=="object"||typeof p.length!=="number"))throw new Error("JSON.stringify");return l("",
{"":m})};if(typeof b.parse!=="function")b.parse=function(m,p){function t(y,A){var i,d,a=y[A];if(a&&typeof a==="object")for(i in a)if(Object.hasOwnProperty.call(a,i)){d=t(a,i);if(d!==undefined)a[i]=d;else delete a[i]}return p.call(y,A,a)}m=String(m);e.lastIndex=0;if(e.test(m))m=m.replace(e,function(y){return"\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(m.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){m=eval("("+m+")");return typeof p==="function"?t({"":m},""):m}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var k=Math,n=k.PI,l=k.pow,e=k.sin,h=1.70158,g={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(l(2,10*(c-=1))*e((c-0.075)*2*n/0.3))},
elasticOut:function(c){if(c===0||c===1)return c;return l(2,-10*c)*e((c-0.075)*2*n/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*l(2,10*(c-=1))*e((c-0.1125)*2*n/0.45);return l(2,-10*(c-=1))*e((c-0.1125)*2*n/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((h+1)*c-h)},backOut:function(c){return(c-=1)*c*((h+1)*c+h)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((h*=1.525)+1)*c-h);return 0.5*((c-=2)*c*(((h*=1.525)+1)*c+h)+2)},bounceIn:function(c){return 1-
g.bounceOut(1-c)},bounceOut:function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return g.bounceIn(c*2)*0.5;return g.bounceOut(c*2-1)*0.5+0.5}};b.Easing=g});
KISSY.add("anim",function(b,k){function n(i,d,a,f,j){if(i=b.get(i)){if(!(this instanceof n))return new n(i,d,a,f,j);var o=b.isPlainObject(a);d=d;this.domEl=i;if(b.isPlainObject(d))d=b.param(d,";").replace(/=/g,":");this.props=l(d);this.targetStyle=d;if(o)i=b.merge(A,a);else{i=b.clone(A);a&&(i.duration=m(a,10)||1);b.isString(f)&&(f=r[f]);b.isFunction(f)&&(i.easing=f);b.isFunction(j)&&(i.complete=j)}this.config=i;b.isFunction(j)&&this.on(y,j)}}function l(i){var d={},a=t.length,f;p.innerHTML='<div style="'+
i+'"></div>';for(i=p.firstChild.style;a--;)if(f=i[t[a]])d[t[a]]=e(f);return d}function e(i){var d=m(i);i=(i+"").replace(/^[-\d\.]+/,"");return isNaN(d)?{v:i,u:"",f:g}:{v:d,u:i,f:h}}function h(i,d,a){return(i+(d-i)*a).toFixed(3)}function g(i,d,a){for(var f=2,j,o,x=[],w=[];j=3,o=arguments[f-1],f--;)if(c(o,0,4)==="rgb(")for(o=o.match(/\d+/g);j--;)x.push(~~o[j]);else if(c(o,0)==="#"){if(o.length===4)o="#"+c(o,1)+c(o,1)+c(o,2)+c(o,2)+c(o,3)+c(o,3);for(;j--;)x.push(parseInt(c(o,1+j*2,2),16))}else return d;
for(;j--;){f=~~(x[j+3]+(x[j]-x[j+3])*a);w.push(f<0?0:f>255?255:f)}return"rgb("+w.join(",")+")"}function c(i,d,a){return i.substr(d,a||1)}var q=b.DOM,r=b.Easing,m=parseFloat,p=q.create("<div>"),t="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
y="complete",A={duration:1,easing:r.easeNone};b.augment(n,b.EventTarget,{run:function(){var i=this,d=i.config,a=i.domEl,f=d.duration*1E3,j=d.easing,o=b.now(),x=o+f,w=i.props,v={},z;for(z in w)v[z]=e(q.css(a,z));if(i.fire("start")!==false){i.stop();i.timer=b.later(d=function(){var s=b.now(),u=s>x?1:(s-o)/f,B,C,D;for(z in w){B=v[z];C=w[z];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;q.css(a,z,C.f(B.v,C.v,j(u))+C.u)}if(i.fire("step")===false||(D=s>x)){i.stop();D&&i.fire(y)}},13,true);d();return i}},stop:function(i){var d=
this.domEl,a=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=k}if(i){b.UA.ie&&a.indexOf("opacity")>-1&&q.css(d,"opacity",this.props.opacity.v);d.style.cssText+=";"+a;this.fire(y)}return this}});b.Anim=n});KISSY.add("anim-node-plugin",function(b,k){var n=b.Anim;b.each([b.Node.prototype,b.NodeList.prototype],function(l){l.animate=function(){var e=b.makeArray(arguments);b.each(this,function(h){n.apply(k,[h].concat(e)).run()});return this}})});KISSY.add("core");
