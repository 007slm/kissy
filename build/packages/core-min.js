/*
Copyright 2011, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var e=navigator.userAgent,a="",s="",h,q={},m=function(b){var k=0;return parseFloat(b.replace(/\./g,function(){return k++===0?".":""}))};if((h=e.match(/AppleWebKit\/([\d.]*)/))&&h[1]){q[a="webkit"]=m(h[1]);if((h=e.match(/Chrome\/([\d.]*)/))&&h[1])q[s="chrome"]=m(h[1]);else if((h=e.match(/\/([\d.]*) Safari/))&&h[1])q[s="safari"]=m(h[1]);if(/ Mobile\//.test(e))q.mobile="apple";else if(h=e.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))q.mobile=h[0].toLowerCase()}else if((h=
e.match(/Presto\/([\d.]*)/))&&h[1]){q[a="presto"]=m(h[1]);if((h=e.match(/Opera\/([\d.]*)/))&&h[1]){q[s="opera"]=m(h[1]);if((h=e.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])q[s]=m(h[1]);if((h=e.match(/Opera Mini[^;]*/))&&h)q.mobile=h[0].toLowerCase();else if((h=e.match(/Opera Mobi[^;]*/))&&h)q.mobile=h[0]}}else if((h=e.match(/MSIE\s([^;]*)/))&&h[1]){q[a="trident"]=0.1;q[s="ie"]=m(h[1]);if((h=e.match(/Trident\/([\d.]*)/))&&h[1])q[a]=m(h[1])}else if(h=e.match(/Gecko/)){q[a="gecko"]=0.1;if((h=e.match(/rv:([\d.]*)/))&&
h[1])q[a]=m(h[1]);if((h=e.match(/Firefox\/([\d.]*)/))&&h[1])q[s="firefox"]=m(h[1])}q.core=a;q.shell=s;q._numberify=m;return q});
KISSY.add("ua/extra",function(e,a){var s=navigator.userAgent,h,q,m={},b=a._numberify;if(s.match(/360SE/))m[q="se360"]=3;else if(s.match(/Maxthon/)&&(h=window.external)){q="maxthon";try{m[q]=b(h.max_version)}catch(k){m[q]=0.1}}else if(h=s.match(/TencentTraveler\s([\d.]*)/))m[q="tt"]=h[1]?b(h[1]):0.1;else if(s.match(/TheWorld/))m[q="theworld"]=3;else if(h=s.match(/SE\s([\d.]*)/))m[q="sougou"]=h[1]?b(h[1]):0.1;q&&(m.shell=q);e.mix(a,m);return a},{requires:["ua/base"]});
KISSY.add("ua",function(e,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/attr",function(e,a,s,h){var q=document.documentElement,m=!q.hasAttribute,b=q.textContent!==h?"textContent":"innerText",k=a._isElementNode,w=/^(?:href|src|style)/,z=/^(?:href|src|colspan|rowspan)/,l=/\r/g,n=/^(?:radio|checkbox)/,u={readonly:"readOnly"},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};m&&e.mix(u,{"for":"htmlFor","class":"className"});var v={tabindex:{getter:function(g){return g.tabIndex},setter:function(g,f){if(isNaN(parseInt(f))){g.removeAttribute("tabindex");
g.removeAttribute("tabIndex")}else g.tabIndex=f}},style:{getter:function(g){return g.style.cssText},setter:function(g,f){g.style.cssText=f}},checked:{setter:function(g,f){g.checked=!!f}}};e.mix(a,{attr:function(g,f,i,c){if(e.isPlainObject(f)){c=i;for(var d in f)a.attr(g,d,f[d],c)}else if(f=e.trim(f)){f=f.toLowerCase();if(c&&x[f])return a[f](g,i);f=u[f]||f;var j=v[f];if(i===h){g=a.get(g);if(!k(g))return h;if(j&&j.getter)return j.getter(g);var p;w.test(f)||(p=g[f]);if(p===h)p=g.getAttribute(f);if(m)if(z.test(f))p=
g.getAttribute(f,2);return p===null?h:p}e.each(a.query(g),function(t){if(k(t))j&&j.setter?j.setter(t,i):t.setAttribute(f,""+i)})}},removeAttr:function(g,f){f=f.toLowerCase();e.each(a.query(g),function(i){if(k(i)){a.attr(i,f,"");i.removeAttribute(f)}})},hasAttr:m?function(g,f){f=f.toLowerCase();var i=a.get(g).getAttributeNode(f);return!!(i&&i.specified)}:function(g,f){f=f.toLowerCase();return a.get(g).hasAttribute(f)},val:function(g,f){if(f===h){var i=a.get(g);if(!k(i))return h;if(i&&i.nodeName.toUpperCase()===
"option".toUpperCase())return(i.attributes.value||{}).specified?i.value:i.text;if(i&&i.nodeName.toUpperCase()==="select".toUpperCase()){var c=i.selectedIndex,d=i.options;if(c<0)return null;else if(i.type==="select-one")return a.val(d[c]);i=[];for(var j=0,p=d.length;j<p;++j)d[j].selected&&i.push(a.val(d[j]));return i}if(s.webkit&&n.test(i.type))return i.getAttribute("value")===null?"on":i.value;return(i.value||"").replace(l,"")}e.each(a.query(g),function(t){if(t&&t.nodeName.toUpperCase()==="select".toUpperCase()){if(e.isNumber(f))f+=
"";var r=e.makeArray(f),y=t.options,o;j=0;for(p=y.length;j<p;++j){o=y[j];o.selected=e.inArray(a.val(o),r)}if(!r.length)t.selectedIndex=-1}else if(k(t))t.value=f})},text:function(g,f){if(f===h){var i=a.get(g);if(k(i))return i[b]||"";else if(a._nodeTypeIs(i,3))return i.nodeValue}else e.each(a.query(g),function(c){if(k(c))c[b]=f;else if(a._nodeTypeIs(c,3))c.nodeValue=f})}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/base",function(e,a){function s(h,q){return h&&h.nodeType===q}return{_isElementNode:function(h){return s(h,1)},_isKSNode:function(h){var q=e.require("node/node");return q&&s(h,q.TYPE)},_getWin:function(h){return h&&"scrollTo"in h&&h.document?h:s(h,9)?h.defaultView||h.parentWindow:h===a?window:false},_nodeTypeIs:s}});
KISSY.add("dom/class",function(e,a,s){function h(b,k,w,z){if(!(k=e.trim(k)))return z?false:s;b=a.query(b);var l=0,n=b.length;k=k.split(q);for(var u;l<n;l++){u=b[l];if(a._isElementNode(u)){u=w(u,k,k.length);if(u!==s)return u}}if(z)return false;return s}var q=/[\.\s]\s*\.?/,m=/[\n\t]/g;e.mix(a,{hasClass:function(b,k){return h(b,k,function(w,z,l){if(w=w.className){w=" "+w+" ";for(var n=0,u=true;n<l;n++)if(w.indexOf(" "+z[n]+" ")<0){u=false;break}if(u)return true}},true)},addClass:function(b,k){h(b,k,
function(w,z,l){var n=w.className;if(n){var u=" "+n+" ";n=n;for(var x=0;x<l;x++)if(u.indexOf(" "+z[x]+" ")<0)n+=" "+z[x];w.className=e.trim(n)}else w.className=k},s)},removeClass:function(b,k){h(b,k,function(w,z,l){var n=w.className;if(n)if(l){n=(" "+n+" ").replace(m," ");for(var u=0,x;u<l;u++)for(x=" "+z[u]+" ";n.indexOf(x)>=0;)n=n.replace(x," ");w.className=e.trim(n)}else w.className=""},s)},replaceClass:function(b,k,w){a.removeClass(b,k);a.addClass(b,w)},toggleClass:function(b,k,w){var z=e.isBoolean(w),
l;h(b,k,function(n,u,x){for(var v=0,g;v<x;v++){g=u[v];l=z?!w:a.hasClass(n,g);a[l?"removeClass":"addClass"](n,g)}},s)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(e,a,s,h){function q(r){var y=r.cloneNode(true);if(s.ie<8)y.innerHTML=r.innerHTML;return y}function m(r,y,o,A){if(o){var B=e.guid("ks-tmp-"),E=RegExp(v);y+='<span id="'+B+'"></span>';e.available(B,function(){var D=a.get("head"),F,G,C,J,L,I;for(E.lastIndex=0;F=E.exec(y);)if((C=(G=F[1])?G.match(f):false)&&C[2]){F=k.createElement("script");F.src=C[2];if((J=G.match(i))&&J[2])F.charset=J[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)e.globalEval(I);(L=k.getElementById(B))&&
a.remove(L);e.isFunction(A)&&A()});b(r,y)}else{b(r,y);e.isFunction(A)&&A()}}function b(r,y){y=(y+"").replace(v,"");try{r.innerHTML=y}catch(o){for(;r.firstChild;)r.removeChild(r.firstChild);y&&r.appendChild(a.create(y))}}var k=document,w=s.ie,z=a._nodeTypeIs,l=a._isElementNode,n=a._isKSNode,u=k.createElement("div"),x=/<(\w+)/,v=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,g=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,i=/\scharset=(['"])(.*?)\1/i;e.mix(a,{create:function(r,
y,o){if(z(r,1)||z(r,3))return q(r);if(n(r))return q(r[0]);if(!(r=e.trim(r)))return null;var A=null;A=a._creators;var B,E="div",D;if(B=g.exec(r))A=(o||k).createElement(B[1]);else{if((B=x.exec(r))&&(D=B[1])&&e.isFunction(A[D=D.toLowerCase()]))E=D;r=A[E](r,o).childNodes;if(r.length===1)o=r[0].parentNode.removeChild(r[0]);else{r=r;D=o||k;o=null;if(r&&(r.push||r.item)&&r[0]){D=D||r[0].ownerDocument;o=D.createDocumentFragment();if(r.item)r=e.makeArray(r);D=0;for(A=r.length;D<A;D++)o.appendChild(r[D])}o=
o}A=o}o=A;l(o)&&e.isPlainObject(y)&&a.attr(o,y,true);return o},_creators:{div:function(r,y){var o=y?y.createElement("div"):u;o.innerHTML=r;return o}},html:function(r,y,o,A){if(y===h){r=a.get(r);if(l(r))return r.innerHTML}else e.each(a.query(r),function(B){l(B)&&m(B,y,o,A)})},remove:function(r){e.each(a.query(r),function(y){l(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(w||s.gecko||s.webkit){var c=a._creators,d=a.create,j=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,p={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},t;for(t in p)(function(r){c[t]=function(y,o){return d("<"+r+">"+y+"</"+r+">",null,o)}})(p[t]);if(w){c.script=function(r,y){var o=y?y.createElement("div"):u;o.innerHTML="-"+r;o.removeChild(o.firstChild);return o};if(w<8)c.tbody=function(r,y){var o=d("<table>"+r+"</table>",null,y),A=o.children.tags("tbody")[0];o.children.length>1&&A&&!j.test(r)&&A.parentNode.removeChild(A);return o}}e.mix(c,{optgroup:c.option,th:c.td,thead:c.tbody,tfoot:c.tbody,
caption:c.tbody,colgroup:c.tbody})}return a},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(e,a,s){var h=window,q="_ks_data_"+e.now(),m={},b={},k={EMBED:1,OBJECT:1,APPLET:1};e.mix(a,{data:function(w,z,l){if(e.isPlainObject(z))for(var n in z)a.data(w,n,z[n]);else if(l===s){w=a.get(w);var u;if(!(!w||k[w.nodeName])){if(w==h)w=b;u=(n=w&&w.nodeType)?m:w;w=u[n?w[q]:q];if(e.isString(z)&&w)return w[z];return w}}else a.query(w).each(function(x){if(!(!x||k[x.nodeName])){if(x==h)x=b;var v=m,g;if(x&&x.nodeType){if(!(g=x[q]))g=x[q]=e.guid()}else{g=q;v=x}if(z&&l!==s){v[g]||
(v[g]={});v[g][z]=l}}})},removeData:function(w,z){a.query(w).each(function(l){if(l){if(l==h)l=b;var n,u=m,x,v=l&&l.nodeType;if(v)n=l[q];else{u=l;n=q}if(n){x=u[n];if(z){if(x){delete x[z];e.isEmptyObject(x)&&a.removeData(l)}}else{if(v)l.removeAttribute&&l.removeAttribute(q);else try{delete l[q]}catch(g){}v&&delete u[n]}}}})}});return a},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(e,a){e.mix(a,{insertBefore:function(s,h){if((s=a.get(s))&&(h=a.get(h))&&h.parentNode)h.parentNode.insertBefore(s,h);return s},insertAfter:function(s,h){if((s=a.get(s))&&(h=a.get(h))&&h.parentNode)h.nextSibling?h.parentNode.insertBefore(s,h.nextSibling):h.parentNode.appendChild(s);return s},append:function(s,h){if((s=a.get(s))&&(h=a.get(h)))h.appendChild&&h.appendChild(s)},prepend:function(s,h){if((s=a.get(s))&&(h=a.get(h)))h.firstChild?a.insertBefore(s,h.firstChild):
h.appendChild(s)}});return a},{requires:["dom/base"]});
KISSY.add("dom/offset",function(e,a,s,h){function q(d){var j=0,p=0,t=z(d[x]);if(d[c]){d=d[c]();j=d[v];p=d[g];if(s.mobile!=="apple"){j+=a[f](t);p+=a[i](t)}}return{left:j,top:p}}var m=window,b=document,k=a._isElementNode,w=a._nodeTypeIs,z=a._getWin,l=b.compatMode==="CSS1Compat",n=Math.max,u=parseInt,x="ownerDocument",v="left",g="top",f="scrollLeft",i="scrollTop",c="getBoundingClientRect";e.mix(a,{offset:function(d,j){if(!(d=a.get(d))||!d[x])return null;if(j===h)return q(d);var p=d;if(a.css(p,"position")===
"static")p.style.position="relative";var t=q(p),r={},y,o;for(o in j){y=u(a.css(p,o),10)||0;r[o]=y+j[o]-t[o]}a.css(p,r)},scrollIntoView:function(d,j,p,t){if((d=a.get(d))&&d[x]){t=t===h?true:!!t;p=p===h?true:!!p;if(!j||j===m)return d.scrollIntoView(p);j=a.get(j);if(w(j,9))j=z(j);var r=j&&"scrollTo"in j&&j.document,y=a.offset(d),o=r?{left:a.scrollLeft(j),top:a.scrollTop(j)}:a.offset(j),A={left:y[v]-o[v],top:y[g]-o[g]};y=r?a.viewportHeight(j):j.clientHeight;o=r?a.viewportWidth(j):j.clientWidth;var B=
a[f](j),E=a[i](j),D=B+o,F=E+y,G=d.offsetHeight;d=d.offsetWidth;var C=A.left+B-(u(a.css(j,"borderLeftWidth"))||0);A=A.top+E-(u(a.css(j,"borderTopWidth"))||0);var J=C+d,L=A+G,I,H;if(G>y||A<E||p)I=A;else if(L>F)I=L-y;if(t)if(d>o||C<B||p)H=C;else if(J>D)H=J-o;if(r){if(I!==h||H!==h)j.scrollTo(H,I)}else{if(I!==h)j[i]=I;if(H!==h)j[f]=H}}}});e.each(["Left","Top"],function(d,j){var p="scroll"+d;a[p]=function(t){var r=0,y=z(t),o;if(y&&(o=y.document))r=y[j?"pageYOffset":"pageXOffset"]||o.documentElement[p]||
o.body[p];else if(k(t=a.get(t)))r=t[p];return r}});e.each(["Width","Height"],function(d){a["doc"+d]=function(j){j=j||b;return n(l?j.documentElement["scroll"+d]:j.body["scroll"+d],a["viewport"+d](j))};a["viewport"+d]=function(j){var p="inner"+d;j=z(j);var t=j.document;return p in j?j[p]:l?t.documentElement["client"+d]:t.body["client"+d]}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(e,a,s){function h(f,i){var c,d,j=[],p;d=e.require("sizzle");i=q(i);if(e.isString(f)){f=e.trim(f);if(v.test(f)){if(d=m(f.slice(1),i))j=[d]}else if(c=g.exec(f)){d=c[1];p=c[2];c=c[3];if(i=d?m(d,i):i)if(c)if(!d||f.indexOf(l)!==-1)j=k(c,p,i);else{if((d=m(d,i))&&a.hasClass(d,c))j=[d]}else if(p)j=b(p,i)}else if(d)return d(f,i);else w(f)}else if(f&&(f[u]||f[x]))j=f[u]?[f[u]()]:f[x]();else if(f&&(e.isArray(f)||f&&!f.nodeType&&f.item&&!f.setTimeout))j=f;else if(f)j=[f];if(j&&
!j.nodeType&&j.item&&!j.setTimeout)j=e.makeArray(j);j.each=function(t,r){return e.each(j,t,r)};return j}function q(f){if(f===s)f=z;else if(e.isString(f)&&v.test(f))f=m(f.slice(1),z);else if(f&&f.nodeType!==1&&f.nodeType!==9)f=null;return f}function m(f,i){if(i.nodeType!==9)i=i.ownerDocument;return i.getElementById(f)}function b(f,i){return i.getElementsByTagName(f)}function k(f,i,c){c=f=c.getElementsByClassName(f);var d=0,j=0,p=f.length,t;if(i&&i!==n){c=[];for(i=i.toUpperCase();d<p;++d){t=f[d];if(t.tagName===
i)c[j++]=t}}return c}function w(f){e.error("Unsupported selector: "+f)}var z=document,l=" ",n="*",u="getDOMNode",x=u+"s",v=/^#[\w-]+$/,g=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var f=z.createElement("div");f.appendChild(z.createComment(""));if(f.getElementsByTagName(n).length>0)b=function(i,c){var d=c.getElementsByTagName(i);if(i===n){for(var j=[],p=0,t=0,r;r=d[p++];)if(r.nodeType===1)j[t++]=r;d=j}return d}})();z.getElementsByClassName||(k=z.querySelectorAll?function(f,i,c){return c.querySelectorAll((i?
i:"")+"."+f)}:function(f,i,c){i=c.getElementsByTagName(i||n);c=[];var d=0,j=0,p=i.length,t,r;for(f=l+f+l;d<p;++d){t=i[d];if((r=t.className)&&(l+r+l).indexOf(f)>-1)c[j++]=t}return c});e.mix(a,{query:h,get:function(f,i){return h(f,i)[0]||null},filter:function(f,i,c){c=h(f,c);var d=e.require("sizzle"),j,p,t,r=[];if(e.isString(i)&&(j=g.exec(i))&&!j[1]){p=j[2];t=j[3];i=function(y){return!(p&&y.tagName!==p.toUpperCase()||t&&!a.hasClass(y,t))}}if(e.isFunction(i))r=e.filter(c,i);else if(i&&d)r=d._filter(f,
i+"");else w(i);return r},test:function(f,i,c){f=h(f,c);return f.length&&a.filter(f,i,c).length===f.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(e,a,s,h){if(!s.ie)return a;e=document;s=e.documentElement;var q=a._CUSTOM_STYLES,m=/^-?\d+(?:px)?$/i,b=/^-?\d/,k=/^(?:width|height)$/;try{if(s.style.opacity===h&&s.filters)q.opacity={get:function(z){var l=100;try{l=z.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(n){try{l=z.filters("alpha").opacity}catch(u){}}return l/100+""},set:function(z,l){var n=z.style,u=(z.currentStyle||0).filter||"";n.zoom=1;if(u)if(u=u.replace(/alpha\(opacity=.+\)/ig,""))u+=", ";
n.filter=u+"alpha(opacity="+l*100+")"}}}catch(w){}if(!(e.defaultView||{}).getComputedStyle&&s.currentStyle)a._getComputedStyle=function(z,l){var n=z.style,u=z.currentStyle[l];if(k.test(l))u=a[l](z)+"px";else if(!m.test(u)&&b.test(u)){var x=n.left,v=z.runtimeStyle.left;z.runtimeStyle.left=z.currentStyle.left;n.left=l==="fontSize"?"1em":u||0;u=n.pixelLeft+"px";n.left=x;z.runtimeStyle.left=v}return u};return a},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(e,a,s,h){function q(i,c){var d=a.get(i),j=c===w?d.offsetWidth:d.offsetHeight;e.each(c===w?["Left","Right"]:["Top","Bottom"],function(p){j-=parseFloat(a._getComputedStyle(d,"padding"+p))||0;j-=parseFloat(a._getComputedStyle(d,"border"+p+"Width"))||0});return j}function m(i,c,d){var j=d;if(d===z&&n.test(c)){j=0;if(e.inArray(a.css(i,"position"),["absolute","fixed"])){d=i[c==="left"?"offsetLeft":"offsetTop"];if(s.ie===8||s.opera)d-=l(a.css(i.offsetParent,"border-"+c+"-width"))||
0;j=d-(l(a.css(i,"margin-"+c))||0)}}return j}var b=document,k=b.documentElement,w="width",z="auto",l=parseInt,n=/^(?:left|top)/,u=/^(?:width|height|top|left|right|bottom|margin|padding)/i,x=/-([a-z])/ig,v=function(i,c){return c.toUpperCase()},g={},f={};e.mix(a,{_CUSTOM_STYLES:g,_getComputedStyle:function(i,c){var d="",j=i.ownerDocument;if(i.style)d=j.defaultView.getComputedStyle(i,null)[c];return d},css:function(i,c,d){if(e.isPlainObject(c))for(var j in c)a.css(i,j,c[j]);else{if(c.indexOf("-")>0)c=
c.replace(x,v);c=g[c]||c;if(d===h){i=a.get(i);j="";if(i&&i.style){j=c.get?c.get(i):i.style[c];if(j===""&&!c.get)j=m(i,c,a._getComputedStyle(i,c))}return j===h?"":j}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&u.test(c))d+="px";(c===w||c==="height")&&parseFloat(d)<0||e.each(a.query(i),function(p){if(p&&p.style){c.set?c.set(p,d):p.style[c]=d;if(d==="")p.style.cssText||p.removeAttribute("style")}})}}},width:function(i,c){if(c===h)return q(i,w);else a.css(i,w,c)},height:function(i,c){if(c===
h)return q(i,"height");else a.css(i,"height",c)},show:function(i){a.query(i).each(function(c){if(c){c.style.display=a.data(c,"display")||"";if(a.css(c,"display")==="none"){var d=c.tagName,j=f[d],p;if(!j){p=b.createElement(d);b.body.appendChild(p);j=a.css(p,"display");a.remove(p);f[d]=j}a.data(c,"display",j);c.style.display=j}}})},hide:function(i){a.query(i).each(function(c){if(c){var d=c.style,j=d.display;if(j!=="none"){j&&a.data(c,"display",j);d.display="none"}}})},toggle:function(i){a.query(i).each(function(c){if(c)c.style.display===
"none"?a.show(c):a.hide(c)})},addStyleSheet:function(i,c){var d;if(c&&(c=c.replace("#","")))d=a.get("#"+c);if(!d){d=a.create("<style>",{id:c});a.get("head").appendChild(d);if(d.styleSheet)d.styleSheet.cssText=i;else d.appendChild(b.createTextNode(i))}},unselectable:function(i){a.query(i).each(function(c){if(c)if(s.gecko)c.style.MozUserSelect="none";else if(s.webkit)c.style.KhtmlUserSelect="none";else if(s.ie||s.opera){var d=0,j=c.getElementsByTagName("*");for(c.setAttribute("unselectable","on");c=
j[d++];)switch(c.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:c.setAttribute("unselectable","on")}}})}});if(k.style.cssFloat!==h)g["float"]="cssFloat";else if(k.style.styleFloat!==h)g["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(e,a,s){function h(b,k,w,z){if(!(b=a.get(b)))return null;if(k===s)k=1;var l=null,n,u;if(e.isNumber(k)&&k>=0){if(k===0)return b;n=0;u=k;k=function(){return++n===u}}for(;b=b[w];)if(m(b)&&(!k||a.test(b,k))&&(!z||z(b))){l=b;break}return l}function q(b,k,w){var z=[];var l=b=a.get(b);if(b&&w)l=b.parentNode;if(l){w=0;for(l=l.firstChild;l;l=l.nextSibling)if(m(l)&&l!==b&&(!k||a.test(l,k)))z[w++]=l}return z}var m=a._isElementNode;e.mix(a,{parent:function(b,k){return h(b,k,
"parentNode",function(w){return w.nodeType!=11})},next:function(b,k){return h(b,k,"nextSibling",s)},prev:function(b,k){return h(b,k,"previousSibling",s)},siblings:function(b,k){return q(b,k,true)},children:function(b,k){return q(b,k,s)},contains:function(b,k){var w=false;if((b=a.get(b))&&(k=a.get(k)))if(b.contains){if(k.nodeType===3){k=k.parentNode;if(k===b)return true}if(k)return b.contains(k)}else if(b.compareDocumentPosition)return!!(b.compareDocumentPosition(k)&16);else for(;!w&&(k=k.parentNode);)w=
k==b;return w}});return a},{requires:["dom/base"]});KISSY.add("dom",function(e,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/base",function(e,a,s,h){function q(g,f,i,c,d){if(e.isString(f))f=a.query(f);if(e.isArray(f)){e.each(f,function(j){v[g](j,i,c,d)});return true}if((i=e.trim(i))&&i.indexOf(n)>0){e.each(i.split(n),function(j){v[g](f,j,c,d)});return true}return h}function m(g){return g&&g.nodeType!==3&&g.nodeType!==8?a.data(g,l):-1}function b(g,f){g&&g.nodeType!==3&&g.nodeType!==8&&a.data(g,l,f)}var k=document,w=k.addEventListener?function(g,f,i,c){g.addEventListener&&g.addEventListener(f,i,!!c)}:function(g,
f,i){g.attachEvent&&g.attachEvent("on"+f,i)},z=k.removeEventListener?function(g,f,i,c){g.removeEventListener&&g.removeEventListener(f,i,!!c)}:function(g,f,i){g.detachEvent&&g.detachEvent("on"+f,i)},l="ksEventTargetId",n=" ",u=e.now(),x={},v={EVENT_GUID:l,special:{},add:function(g,f,i,c){if(!q("add",g,f,i,c)){var d=m(g),j,p,t,r,y;if(!(d===-1||!f||!e.isFunction(i))){if(!d){b(g,d=u++);x[d]={target:g,events:{}}}p=x[d].events;if(!p[f]){j=((d=!g.isCustomEventTarget)||g._supportSpecialEvent)&&v.special[f]||
{};t=function(o,A){if(!o||!o.fixed)o=new s(g,o,f);if(e.isPlainObject(A)){var B=o.type;e.mix(o,A);o.type=B}j.setup&&j.setup(o);return(j.handle||v._handle)(g,o)};p[f]={handle:t,listeners:[]};r=j.fix||f;y=j.capture;j.init&&j.init.apply(null,e.makeArray(arguments));d&&j.fix!==false&&w(g,r,t,y)}p[f].listeners.push({fn:i,scope:c||g})}}},__getListeners:function(g,f){var i,c=[];if(i=(v.__getEvents(g)||{})[f])c=i.listeners;return c},__getEvents:function(g){var f=m(g),i;if(f!==-1)if(f&&(i=x[f]))if(i.target===
g)return i.events||{}},remove:function(g,f,i,c){if(!q("remove",g,f,i,c)){var d=v.__getEvents(g),j=m(g),p,t,r,y,o,A,B=(!g.isCustomEventTarget||g._supportSpecialEvent)&&v.special[f]||{};if(d!==h){c=c||g;if(p=d[f]){t=p.listeners;r=t.length;if(e.isFunction(i)&&r){o=y=0;for(A=[];y<r;++y)if(i!==t[y].fn||c!==t[y].scope)A[o++]=t[y];p.listeners=A;r=A.length}if(i===h||r===0){if(!g.isCustomEventTarget){B=v.special[f]||{};if(B.fix!==false)z(g,B.fix||f,p.handle)}delete d[f]}}B.destroy&&B.destroy.apply(null,e.makeArray(arguments));
if(f===h||e.isEmptyObject(d)){for(f in d)v.remove(g,f);delete x[j];a.removeData(g,l)}}}},_handle:function(g,f){var i=v.__getListeners(g,f.type);i=i.slice(0);for(var c,d=0,j=i.length;d<j;++d){c=i[d];c=c.fn.call(c.scope,f);if(c!==h){f.result=c;c===false&&f.halt()}if(f.isImmediatePropagationStopped)break}return c},_getCache:function(g){return x[g]},__getID:m,_simpleAdd:w,_simpleRemove:z};v.on=v.add;return v},{requires:["dom","event/object"]});
KISSY.add("event/focusin",function(e,a){document.addEventListener&&e.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){a.special[s.name]={fix:s.fix,capture:true,setup:function(h){h.type=s.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(e,a,s,h){h.ie||e.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){a.special[q.name]={fix:q.fix,setup:function(m){m.type=q.name},handle:function(m,b){if(s._isKSNode(m))m=m[0];var k=b.relatedTarget;try{for(;k&&k!==m;)k=k.parentNode;k!==m&&a._handle(m,b)}catch(w){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event/object",function(e,a){function s(m,b,k){this.currentTarget=m;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=k;this.target=m}this.currentTarget=m;this.fixed=true}var h=document,q="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
e.augment(s,{_fix:function(){var m=this.originalEvent,b=q.length,k,w=this.currentTarget;for(w=w.nodeType===9?w:w.ownerDocument||h;b;){k=q[--b];this[k]=m[k]}if(!this.target)this.target=this.srcElement||h;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){m=w.documentElement;b=w.body;this.pageX=this.clientX+(m&&m.scrollLeft||b&&b.scrollLeft||
0)-(m&&m.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(m&&m.scrollTop||b&&b.scrollTop||0)-(m&&m.clientTop||b&&b.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var m=this.originalEvent;if(m.preventDefault)m.preventDefault();else m.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var m=
this.originalEvent;if(m.stopPropagation)m.stopPropagation();else m.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var m=this.originalEvent;m.stopImmediatePropagation?m.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(m){m?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return s});
KISSY.add("event/target",function(e,a,s,h){return{isCustomEventTarget:true,fire:function(q,m){var b=s.data(this,a.EVENT_GUID)||-1;if((b=((a._getCache(b)||{}).events||{})[q])&&e.isFunction(b.handle))return b.handle(h,m)},on:function(q,m,b){a.add(this,q,m,b);return this},detach:function(q,m,b){a.remove(this,q,m,b);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/valuechange",function(e,a,s){function h(v){var g=s.data(v,l);if(!g){g=+new Date;s.data(v,l,g)}return g}function q(v){v=h(v);delete n[v];if(u[v]){clearTimeout(u[v]);delete u[v]}}function m(v){q(v.target)}function b(v){var g=h(v);u[g]||(u[g]=setTimeout(function(){var f=v.value;if(f!==n[g]){a._handle(v,{type:z,preVal:n[g],newVal:f});n[g]=f}u[g]=setTimeout(arguments.callee,x)},x))}function k(v){var g=v.target;if(v.type=="focus"){v=h(g);n[v]=g.value}b(g)}function w(v){q(v);a.remove(v,
"blur",m);a.remove(v,"mousedown keyup keydown focus",k);s.removeData(v,l)}var z="valueChange",l="event/valuechange",n={},u={},x=50;a.special[z]={fix:false,init:function(v){var g=v.nodeName.toLowerCase();if("input"==g||"textarea"==g){w(v);a.on(v,"blur",m);a.on(v,"mousedown keyup keydown focus",k)}},destroy:function(v,g){a.__getEvents(v)[g]||w(v)}}},{requires:["event/base","dom"]});
KISSY.add("event",function(e,a,s){a.Target=s;return a},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/attach",function(e,a,s,h,q,m){function b(p,t,r,y){p=[this[p?i:f]()].concat(e.makeArray(t));if(t[r]===m)return y.apply(a,p);else{y.apply(a,p);return this}}function k(p,t){e.each(p,function(r){e.each([v,g],function(y,o){y[r]=function(A){switch(t){case c:return function(){return b.call(this,o,arguments,1,A)};case d:return function(){return b.call(this,o,arguments,0,A)};case j:return function(){var B=this[o?i:f]();return(B=A.apply(a,[B].concat(e.makeArray(arguments))))?new (e.isArray(B)?
q:h)(B):null};default:return function(){var B=this[o?i:f]();B=A.apply(a,[B].concat(e.makeArray(arguments)));return B===m?this:B}}}(a[r])})})}function w(p,t,r){p&&e.each(this,function(y){var o;if(t||e.isString(p))o=a.create(p);else{if(n(p,1)||n(p,3))o=p;if(u(p))o=p[0]}a[r](o,y)});return this}function z(p,t){if((p=a.get(p))&&p.appendChild)e.each(this,function(r){a[t](r,p)});return this}function l(p,t){p.__wrap=p.__wrap||[];p.__wrap.push(t)}var n=a._nodeTypeIs,u=a._isKSNode,x=e.require("event/target"),
v=h.prototype,g=q.prototype,f="getDOMNode",i=f+"s",c=1,d=2,j=4;e.mix(v,{one:function(p){return h.one(p,this[0])},all:function(p){return q.all(p,this[0])}});k(["data","removeData"],c);k(["hasClass","addClass","removeClass","replaceClass","toggleClass"],m);k(["attr","removeAttr"],c);k(["val","text"],d);k(["css"],c);k(["width","height"],d);k(["offset"],d);k(["scrollIntoView"],m);k(["parent","next","prev","siblings","children"],j);k(["contains"],m);k(["html","unselectable"],d);k(["remove"],m);e.each(["insertBefore",
"insertAfter"],function(p){v[p]=function(t){a[p].call(a,this[0],t);return this}});e.each([v,g],function(p,t){e.each(["append","prepend"],function(r){p[r]=function(y){return w.call(this,y,t,r)};p[r+"To"]=function(y){return z.call(this,y,r)}})});e.augment(h,x,{fire:null,on:function(p,t,r){function y(A){var B=e.makeArray(arguments);B.shift();A.target=new h(A.target);if(A.relatedTarget)A.relatedTarget=new h(A.relatedTarget);B.unshift(A);return t.apply(r||o,B)}var o=this;s.add(this[0],p,y,r);l(t,y);return this},
detach:function(p,t,r){if(e.isFunction(t)){t=t.__wrap||[];for(var y=0;y<t.length;y++)s.remove(this[0],p,t[y],r)}else s.remove(this[0],p,t,r);return this}});e.augment(q,x,{fire:null});v._supportSpecialEvent=true;e.each({on:"add",detach:"remove"},function(p,t){g[t]=function(r,y,o){for(var A=0;A<this.length;A++)this.item(A).on(r,y,o)}})},{requires:["dom","event","node/node","node/nodelist"]});
KISSY.add("node/node",function(e,a,s){function h(q,m,b){if(!(this instanceof h))return new h(q,m,b);if(!q){this.length=0;return s}if(e.isString(q)){q=a.create(q,m,b);if(q.nodeType===11)return new (e.require("node/nodelist"))(q.childNodes)}else if(q instanceof h)return q;else q=q;this[0]=q;return s}h.TYPE="-ks-Node";e.augment(h,{length:1,getDOMNode:function(){return this[0]},nodeType:h.TYPE});h.one=function(q,m){var b=a.get(q,m);return b?new h(b,s,s):null};return h},{requires:["dom"]});
KISSY.add("node/nodelist",function(e,a,s,h){function q(k){if(!(this instanceof q))return new q(k);m.push.apply(this,e.makeArray(k)||[]);return h}var m=Array.prototype,b=a._isElementNode;e.mix(q.prototype,{length:0,item:function(k){var w=null,z,l;if(b(k)){z=0;for(l=this.length;z<l;z++)if(k===this[z]){k=z;break}}if(b(this[k]))w=new s(this[k]);return w},getDOMNodes:function(){return m.slice.call(this)},each:function(k,w){var z=this.length,l=0,n;for(n=new s(this[0]);l<z&&k.call(w||n,n,l,this)!==false;n=
new s(this[++l]));return this}});q.all=function(k,w){return new q(a.query(k,w,true))};return q},{requires:["dom","node/node"]});KISSY.add("node",function(e,a,s){a.List=s;return a},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function e(n){return n<10?"0"+n:n}function a(n){b.lastIndex=0;return b.test(n)?'"'+n.replace(b,function(u){var x=z[u];return typeof x==="string"?x:"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function s(n,u){var x,v,g,f,i=k,c,d=u[n];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(n);if(typeof l==="function")d=l.call(u,n,d);switch(typeof d){case "string":return a(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";k+=w;c=[];if(Object.prototype.toString.apply(d)==="[object Array]"){f=d.length;for(x=0;x<f;x+=1)c[x]=s(x,d)||"null";g=c.length===0?"[]":k?"[\n"+k+c.join(",\n"+k)+"\n"+i+"]":"["+c.join(",")+"]";k=i;return g}if(l&&typeof l==="object"){f=l.length;for(x=0;x<f;x+=1){v=l[x];if(typeof v==="string")if(g=s(v,d))c.push(a(v)+(k?": ":":")+g)}}else for(v in d)if(Object.hasOwnProperty.call(d,v))if(g=s(v,d))c.push(a(v)+(k?": ":":")+g);g=c.length===0?"{}":k?"{\n"+k+c.join(",\n"+k)+
"\n"+i+"}":"{"+c.join(",")+"}";k=i;return g}}var h=window,q=h.JSON;if(!q)q=h.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var m=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,w,z={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;if(typeof q.stringify!=="function")q.stringify=function(n,u,x){var v;w=k="";if(typeof x==="number")for(v=0;v<x;v+=1)w+=" ";else if(typeof x==="string")w=x;if((l=u)&&typeof u!=="function"&&(typeof u!=="object"||typeof u.length!=="number"))throw Error("JSON.stringify");return s("",{"":n})};if(typeof q.parse!==
"function")q.parse=function(n,u){function x(g,f){var i,c,d=g[f];if(d&&typeof d==="object")for(i in d)if(Object.hasOwnProperty.call(d,i)){c=x(d,i);if(c!==undefined)d[i]=c;else delete d[i]}return u.call(g,f,d)}var v;n=String(n);m.lastIndex=0;if(m.test(n))n=n.replace(m,function(g){return"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){v=eval("("+n+")");return typeof u==="function"?x({"":v},""):v}throw new SyntaxError("JSON.parse");};return q});KISSY.add("json",function(e,a){return{parse:function(s){if(s==null||s==="")return null;return a.parse(s)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(e,a,s,h){function q(o){o=e.merge(y,o);if(!o.url)return h;if(o.data&&!e.isString(o.data))o.data=e.param(o.data);o.context=o.context||o;var A,B=d,E,D=o.type.toUpperCase();if(o.dataType===x){A=o.jsonpCallback||x+e.now();o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+(o.jsonp+"="+A);o.dataType=v;var F=k[A];k[A]=function(I){if(e.isFunction(F))F(I);else{k[A]=h;try{delete k[A]}catch(H){}}m([d,j],I,B,C,o)}}if(o.data&&D===z)o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+o.data;
if(o.dataType===v){b(f,o);D=e.getScript(o.url,A?null:function(){m([d,j],g,B,C,o)});b(i,o);return D}var G=false,C=o.xhr();b(f,o);C.open(D,o.url,o.async);try{if(o.data||o.contentType)C.setRequestHeader(n,o.contentType);C.setRequestHeader("Accept",o.dataType&&o.accepts[o.dataType]?o.accepts[o.dataType]+", */*; q=0.01":o.accepts._default)}catch(J){}C.onreadystatechange=function(I){if(!C||C.readyState===0||I==="abort"){G||m(j,null,p,C,o);G=true;if(C)C.onreadystatechange=w}else if(!G&&C&&(C.readyState===
4||I===t)){G=true;C.onreadystatechange=w;var H;if(I===t)H=t;else{a:{try{H=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(P){}H=false}H=H?d:p}B=H;try{H=C;var M=o.dataType,N=g,O,K=H;if(!e.isString(K)){N=H.getResponseHeader(n)||g;K=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&K.documentElement.nodeName===r)throw r;}if(e.isString(K))if(M===u||!M&&N.indexOf(u)>=0)K=s.parse(K);E=K}catch(Q){B=r}m([B===d?d:p,j],E,B,C,o);if(I===t){C.abort();b(c,o)}if(o.async)C=
null}};b(i,o);try{C.send(D===l?o.data:null)}catch(L){m([p,j],E,p,C,o)}o.async||b(j,o);return C}function m(o,A,B,E,D){if(e.isArray(o))e.each(o,function(F){m(F,A,B,E,D)});else{B===o&&D[o]&&D[o].call(D.context,A,B,E);b(o,D)}}function b(o,A){q.fire(o,{ajaxConfig:A})}var k=window,w=function(){},z="GET",l="POST",n="Content-Type",u="json",x=u+"p",v="script",g="",f="start",i="send",c="stop",d="success",j="complete",p="error",t="timeout",r="parsererror",y={type:z,url:g,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:k.ActiveXObject?function(){if(k.XmlHttpRequest)try{return new k.XMLHttpRequest}catch(o){}try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(A){}}:function(){return new k.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};e.mix(q,a);e.mix(q,{get:function(o,A,B,E,D){if(e.isFunction(A)){E=B;B=A}return q({type:D||
z,url:o,data:A,success:function(F,G,C){B&&B.call(this,F,G,C)},dataType:E})},post:function(o,A,B,E){if(e.isFunction(A)){E=B;B=A;A=h}return q.get(o,A,B,E,l)},jsonp:function(o,A,B){if(e.isFunction(A)){B=A;A=null}return q.get(o,A,B,x)}});return q},{requires:["event","json"]});KISSY.add("ajax",function(e,a){return a},{requires:["ajax/impl"]});
KISSY.add("anim/base",function(e,a,s,h,q,m){function b(c,d,j,p,t,r){if(!(c=a.get(c)))return m;if(!(this instanceof b))return new b(c,d,j,p,t,r);var y=e.isPlainObject(j);d=d;this.domEl=c;if(e.isPlainObject(d))d=String(e.param(d,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var o={},A=v.length,B;x.innerHTML='<div style="'+d+'"></div>';for(c=x.firstChild.style;A--;)if(B=c[v[A]])o[v[A]]=z(B);this.props=o;this.targetStyle=d;if(y)y=e.merge(i,j);else{y=e.clone(i);
if(j)y.duration=u(j)||1;if(e.isString(p)||e.isFunction(p))y.easing=p;if(e.isFunction(t))y.complete=t;if(r!==m)y.nativeSupport=r}this.config=y;if(y.nativeSupport&&k()&&e.isString(p=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(p)||(p=h.NativeTimeFunction[p])){y.easing=p;this.transitionName=k()}e.isFunction(t)&&this.on(f,t);return m}function k(){var c="transition",d;if(x.style[c]!==m)d=c;else e.each(["Webkit","Moz","O"],function(j){if(x.style[c=j+"Transition"]!==m){d=c;return false}});k=function(){return d};
return d}function w(c,d,j){q.ie&&j.indexOf(g)>-1&&a.css(c,g,d[g].v);c.style.cssText+=";"+j}function z(c){var d=u(c);c=(c+"").replace(/^[-\d.]+/,"");return isNaN(d)?{v:c,u:"",f:n}:{v:d,u:c,f:l}}function l(c,d,j){return(c+(d-c)*j).toFixed(3)}function n(c,d,j){for(var p=2,t,r,y=[],o=[];t=3,r=arguments[p-1],p--;)if(r.substr(0,4)==="rgb(")for(r=r.match(/\d+/g);t--;)y.push(~~r[t]);else if(r.substr(0,m||1)==="#"){if(r.length===4)r="#"+r.substr(1,m||1)+r.substr(1,m||1)+r.substr(2,m||1)+r.substr(2,m||1)+r.substr(3,
m||1)+r.substr(3,m||1);for(;t--;)y.push(parseInt(r.substr(1+t*2,2),16))}else return d;for(;t--;){p=~~(y[t+3]+(y[t]-y[t+3])*j);o.push(p<0?0:p>255?255:p)}return"rgb("+o.join(",")+")"}var u=parseFloat;s=e.require("event/target");var x=a.create("<div>"),v="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
g="opacity",f="complete",i={duration:1,easing:"easeNone",nativeSupport:true};e.augment(b,s,{run:function(){var c=this,d=c.config,j=c.domEl,p,t,r,y,o=c.props,A={},B;for(B in o)A[B]=z(a.css(j,B));if(c.fire("start")!==false){c.stop();if(c.transitionName)c._nativeRun();else{p=d.duration*1E3;r=e.now();y=r+p;t=d.easing;if(e.isString(t))t=h[t]||h.easeNone;c.timer=e.later(d=function(){var E=e.now(),D=E>y?1:(E-r)/p,F,G,C;for(B in o){F=A[B];G=o[B];if(G.v==0)G.u=F.u;if(F.u!==G.u)F.v=0;a.css(j,B,G.f(F.v,G.v,
t(D))+G.u)}if(c.fire("step")===false||(C=E>y)){c.stop();C&&c.fire(f)}},13,true);d()}return c}},_nativeRun:function(){var c=this,d=c.config,j=c.domEl,p=c.props,t=d.duration*1E3;d=d.easing;var r=c.transitionName,y={};y[r+"Property"]="all";y[r+"Duration"]=t+"ms";y[r+"TimingFunction"]=d;a.css(j,y);e.later(function(){w(j,p,c.targetStyle)},0);e.later(function(){c.stop(true)},t)},stop:function(c){if(this.transitionName)this._nativeStop(c);else{if(this.timer){this.timer.cancel();this.timer=m}if(c){w(this.domEl,
this.props,this.targetStyle);this.fire(f)}}return this},_nativeStop:function(c){var d=this.domEl,j=this.transitionName,p=this.props,t;if(c){a.css(d,j+"Property","none");this.fire(f)}else{for(t in p)a.css(d,t,a._getComputedStyle(d,t));a.css(d,j+"Property","none")}}});b.supportTransition=function(){return!!k()};return b},{requires:["dom","event","anim/easing","ua"]});
KISSY.add("anim/easing",function(){var e=Math,a=e.PI,s=e.pow,h=e.sin,q=1.70158,m={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(s(2,10*(b-=1))*h((b-0.075)*2*a/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return s(2,-10*b)*h((b-0.075)*2*a/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*s(2,10*(b-=1))*h((b-0.1125)*2*a/0.45);return s(2,-10*(b-=1))*h((b-0.1125)*2*a/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((q+1)*b-q)},backOut:function(b){return(b-=1)*b*((q+1)*b+q)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((q*=1.525)+1)*b-q);return 0.5*((b-=2)*b*(((q*=1.525)+1)*b+q)+2)},bounceIn:function(b){return 1-m.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return m.bounceIn(b*2)*0.5;return m.bounceOut(b*2-1)*0.5+0.5}};m.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return m});
KISSY.add("anim/node-plugin",function(e,a,s,h,q){function m(g,f,i,c,d){if(f==="toggle"){d=a.css(g,k)===w?1:0;f="show"}if(d)a.css(g,k,a.data(g,k)||"");var j={},p={};e.each(v[f],function(t){if(t===z){j[z]=a.css(g,z);a.css(g,z,l)}else if(t===n){j[n]=a.css(g,n);p.opacity=d?1:0;d&&a.css(g,n,0)}else if(t===u){j[u]=a.css(g,u);p.height=d?a.css(g,u)||g.naturalHeight:0;d&&a.css(g,u,0)}else if(t===x){j[x]=a.css(g,x);p.width=d?a.css(g,x)||g.naturalWidth:0;d&&a.css(g,x,0)}});(new s(g,p,i,"easeOut",function(){if(!d){var t=
g.style,r=t[k];if(r!==w){r&&a.data(g,k,r);t[k]=w}j[u]&&a.css(g,{height:j[u]});j[x]&&a.css(g,{height:j[x]});j[n]&&a.css(g,{height:j[n]});j[z]&&a.css(g,{height:j[z]})}c&&e.isFunction(c)&&c()})).run()}h=e.require("node/node").prototype;var b=e.require("node/nodelist").prototype,k="display",w="none",z="overflow",l="hidden",n="opacity",u="height",x="width",v={show:[z,n,u,x],fade:[n],slide:[z,u]};e.each([h,b],function(g){g.animate=function(){var f=e.makeArray(arguments);e.each(this,function(i){s.apply(q,
[i].concat(f)).run()});return this};e.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(f,i){g[i]=function(c,d){a[i]&&arguments.length===0?a[i](this):e.each(this,function(j){m(j,f[0],c,d,f[1])});return this}})})},{requires:["dom","anim/base","node"]});KISSY.add("anim",function(e,a){return a},{requires:["anim/base","anim/easing","anim/node-plugin"]});
KISSY.add("cookie/base",function(e){function a(m){return e.isString(m)&&m!==""}var s=document,h=encodeURIComponent,q=decodeURIComponent;return{get:function(m){var b;if(a(m))if(m=String(s.cookie).match(RegExp("(?:^| )"+m+"(?:(?:=([^;]*))|;|$)")))b=m[1]?q(m[1]):"";return b},set:function(m,b,k,w,z,l){b=String(h(b));var n=k;if(typeof n==="number"){n=new Date;n.setTime(n.getTime()+k*864E5)}if(n instanceof Date)b+="; expires="+n.toUTCString();if(a(w))b+="; domain="+w;if(a(z))b+="; path="+z;if(l)b+="; secure";
s.cookie=m+"="+b},remove:function(m,b,k,w){this.set(m,"",0,b,k,w)}}});KISSY.add("cookie",function(e,a){return a},{requires:["cookie/base"]});KISSY.add("datalazyload",function(e,a){return a},{requires:["datalazyload/impl"]});
KISSY.add("datalazyload/impl",function(e,a,s,h){function q(l,n){if(!(this instanceof q))return new q(l,n);if(n===h){n=l;l=[b]}e.isArray(l)||(l=[a.get(l)||b]);this.containers=l;this.config=e.merge(z,n);this.callbacks={els:[],fns:[]};this._init();return h}var m=window,b=document,k="scroll",w="resize",z={mod:"manual",diff:"default",placeholder:"none",execScript:true};e.augment(q,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var l=
this.containers,n,u,x,v=[],g=[];n=0;for(u=l.length;n<u;++n){x=a.query("img",l[n]);v=v.concat(e.filter(x,this._filterImg,this));x=a.query("textarea",l[n]);g=g.concat(e.filter(x,this._filterArea,this))}this.images=v;this.areaes=g},_filterImg:function(l){var n=l.getAttribute("data-ks-lazyload"),u=this.threshold,x=this.config.placeholder;if(this.config.mod==="manual"){if(n){if(x!=="none")l.src=x;return true}}else if(a.offset(l).top>u&&!n){a.attr(l,"data-ks-lazyload",l.src);if(x!=="none")l.src=x;else l.removeAttribute("src");
return true}},_filterArea:function(l){return a.hasClass(l,"ks-datalazyload")},_initLoadEvent:function(){function l(){u||(u=e.later(function(){n();u=null},100))}function n(){x._loadItems();if(x._getItemsLength()===0){s.remove(m,k,l);s.remove(m,w,v)}}var u,x=this,v;s.on(m,k,l);s.on(m,w,v=function(){x.threshold=x._getThreshold();l()});x._getItemsLength()&&e.ready(function(){n()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=e.filter(this.images,
this._loadImg,this)},_loadImg:function(l){var n=this.threshold+a.scrollTop();if(a.offset(l).top<=n)this._loadImgSrc(l);else return true},_loadImgSrc:function(l,n){n=n||"data-ks-lazyload";var u=l.getAttribute(n);if(u&&l.src!=u){l.src=u;l.removeAttribute(n)}},_loadAreas:function(){this.areaes=e.filter(this.areaes,this._loadArea,this)},_loadArea:function(l){var n=a.css(l,"display")==="none";if(a.offset(n?l.parentNode:l).top<=this.threshold+a.scrollTop())this._loadAreaData(l.parentNode,l,this.config.execScript);
else return true},_loadAreaData:function(l,n,u){n.style.display="none";n.className="";var x=a.create("<div>");l.insertBefore(x,n);a.html(x,n.value,u===h?true:u)},_fireCallbacks:function(){var l=this.callbacks,n=l.els,u=l.fns,x=this.threshold+a.scrollTop(),v,g,f,i=[],c=[];for(v=0;(g=n[v])&&(f=u[v++]);)if(a.offset(g).top<=x)f.call(g);else{i.push(g);c.push(f)}l.els=i;l.fns=c},addCallback:function(l,n){var u=this.callbacks;if((l=a.get(l))&&e.isFunction(n)){u.els.push(l);u.fns.push(n)}},_getThreshold:function(){var l=
this.config.diff,n=a.viewportHeight();return l==="default"?2*n:n+ +l},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(l,n){var u=this,x,v;e.isArray(l)||(l=[a.get(l)]);e.each(l,function(g){switch(n){case "img-src":v=g.nodeName==="IMG"?[g]:a.query("img",g);e.each(v,function(f){u._loadImgSrc(f,"data-ks-lazyload-custom")});break;default:(x=a.get("textarea",g))&&a.hasClass(x,"ks-datalazyload-custom")&&u._loadAreaData(g,x)}})}});
e.mix(q,q.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);return q},{requires:["dom","event"]});KISSY.add("core",function(e,a,s,h,q,m,b,k,w,z,l){return{UA:a,DOM:s,Event:h,Node:q,JSON:m,Ajax:b,Anim:k,Base:w,Cookie:z,DataLazyload:l}},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie","datalazyload"]});
KISSY.add("core",function(e,a,s,h,q,m,b,k,w,z,l){return{UA:a,DOM:s,Event:h,Node:q,JSON:m,Ajax:b,Anim:k,Base:w,Cookie:z,DataLazyload:l}},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie","datalazyload"]});
