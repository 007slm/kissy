/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Sep 30 18:00
*/
KISSY.add("ua",function(a){var n=navigator.userAgent,r="",j="",g,k={},i=function(e){var q=0;return parseFloat(e.replace(/\./g,function(){return q++===0?".":""}))};if((g=n.match(/AppleWebKit\/([\d.]*)/))&&g[1]){k[r="webkit"]=i(g[1]);if((g=n.match(/Chrome\/([\d.]*)/))&&g[1])k[j="chrome"]=i(g[1]);else if((g=n.match(/\/([\d.]*) Safari/))&&g[1])k[j="safari"]=i(g[1]);if(/ Mobile\//.test(n))k.mobile="apple";else if(g=n.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=g[0].toLowerCase()}else if((g=
n.match(/Presto\/([\d.]*)/))&&g[1]){k[r="presto"]=i(g[1]);if((g=n.match(/Opera\/([\d.]*)/))&&g[1]){k[j="opera"]=i(g[1]);if((g=n.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])k[j]=i(g[1]);if((g=n.match(/Opera Mini[^;]*/))&&g)k.mobile=g[0].toLowerCase();else if((g=n.match(/Opera Mobi[^;]*/))&&g)k.mobile=g[0]}}else if((g=n.match(/MSIE\s([^;]*)/))&&g[1]){k[r="trident"]=0.1;k[j="ie"]=i(g[1]);if((g=n.match(/Trident\/([\d.]*)/))&&g[1])k[r]=i(g[1])}else if(g=n.match(/Gecko/)){k[r="gecko"]=0.1;if((g=n.match(/rv:([\d.]*)/))&&
g[1])k[r]=i(g[1]);if((g=n.match(/Firefox\/([\d.]*)/))&&g[1])k[j="firefox"]=i(g[1])}k.core=r;k.shell=j;k._numberify=i;a.UA=k});
KISSY.add("ua-extra",function(a){var n=a.UA,r=navigator.userAgent,j,g,k={},i=n._numberify;if(r.match(/360SE/))k[g="se360"]=3;else if(r.match(/Maxthon/)&&(j=window.external)){g="maxthon";try{k[g]=i(j.max_version)}catch(e){k[g]=0.1}}else if(j=r.match(/TencentTraveler\s([\d.]*)/))k[g="tt"]=j[1]?i(j[1]):0.1;else if(r.match(/TheWorld/))k[g="theworld"]=3;else if(j=r.match(/SE\s([\d.]*)/))k[g="sougou"]=j[1]?i(j[1]):0.1;g&&(k.shell=g);a.mix(n,k)});
KISSY.add("dom",function(a,n){function r(j,g){return j&&j.nodeType===g}a.DOM={_isElementNode:function(j){return r(j,1)},_isKSNode:function(j){return a.Node&&r(j,a.Node.TYPE)},_getWin:function(j){return j&&"scrollTo"in j&&j.document?j:r(j,9)?j.defaultView||j.parentWindow:j===n?window:false},_nodeTypeIs:r}});
KISSY.add("selector",function(a,n){function r(b,d){var c,f,h=[],p;d=j(d);if(a.isString(b)){b=a.trim(b);if(m.test(b)){if(f=g(b.slice(1),d))h=[f]}else if(c=l.exec(b)){f=c[1];p=c[2];c=c[3];if(d=f?g(f,d):d)if(c)if(!f||b.indexOf(o)!==-1)h=i(c,p,d);else{if((f=g(f,d))&&x.hasClass(f,c))h=[f]}else if(p)h=k(p,d)}else if(a.ExternalSelector)return a.ExternalSelector(b,d);else e(b)}else if(b&&(b[t]||b[u]))h=b[t]?[b[t]()]:b[u]();else if(b&&(a.isArray(b)||b&&!b.nodeType&&b.item&&b!=window))h=b;else if(b)h=[b];if(h&&
!h.nodeType&&h.item&&h!=window)h=a.makeArray(h);h.each=function(w,s){return a.each(h,w,s)};return h}function j(b){if(b===n)b=q;else if(a.isString(b)&&m.test(b))b=g(b.slice(1),q);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function g(b,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(b)}function k(b,d){return d.getElementsByTagName(b)}function i(b,d,c){c=b=c.getElementsByClassName(b);var f=0,h=0,p=b.length,w;if(d&&d!==v){c=[];for(d=d.toUpperCase();f<p;++f){w=b[f];if(w.tagName===
d)c[h++]=w}}return c}function e(b){a.error("Unsupported selector: "+b)}var q=document,x=a.DOM,o=" ",v="*",t="getDOMNode",u=t+"s",m=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=q.createElement("div");b.appendChild(q.createComment(""));if(b.getElementsByTagName(v).length>0)k=function(d,c){var f=c.getElementsByTagName(d);if(d===v){for(var h=[],p=0,w=0,s;s=f[p++];)if(s.nodeType===1)h[w++]=s;f=h}return f}})();q.getElementsByClassName||(i=q.querySelectorAll?function(b,d,
c){return c.querySelectorAll((d?d:"")+"."+b)}:function(b,d,c){d=c.getElementsByTagName(d||v);c=[];var f=0,h=0,p=d.length,w,s;for(b=o+b+o;f<p;++f){w=d[f];if((s=w.className)&&(o+s+o).indexOf(b)>-1)c[h++]=w}return c});a.query=r;a.get=function(b,d){return r(b,d)[0]||null};a.mix(x,{query:r,get:a.get,filter:function(b,d){var c=r(b),f,h,p,w=[];if(a.isString(d)&&(f=l.exec(d))&&!f[1]){h=f[2];p=f[3];d=function(s){return!(h&&s.tagName!==h.toUpperCase()||p&&!x.hasClass(s,p))}}if(a.isFunction(d))w=a.filter(c,
d);else if(d&&a.ExternalSelector)w=a.ExternalSelector._filter(b,d);else e(d);return w},test:function(b,d){var c=r(b);return x.filter(c,d).length===c.length}})});
KISSY.add("dom-data",function(a,n){var r=window,j=a.DOM,g="_ks_data_"+a.now(),k={},i={},e={EMBED:1,OBJECT:1,APPLET:1};a.mix(j,{data:function(q,x,o){if(a.isPlainObject(x))for(var v in x)j.data(q,v,x[v]);else if(o===n){q=a.get(q);var t;if(!(!q||e[q.nodeName])){if(q==r)q=i;t=(v=q&&q.nodeType)?k:q;q=t[v?q[g]:g];if(a.isString(x)&&q)return q[x];return q}}else a.query(q).each(function(u){if(!(!u||e[u.nodeName])){if(u==r)u=i;var m=k,l;if(u&&u.nodeType){if(!(l=u[g]))l=u[g]=a.guid()}else{l=g;m=u}if(x&&o!==
n){m[l]||(m[l]={});m[l][x]=o}}})},removeData:function(q,x){a.query(q).each(function(o){if(o){if(o==r)o=i;var v,t=k,u,m=o&&o.nodeType;if(m)v=o[g];else{t=o;v=g}if(v){u=t[v];if(x){if(u){delete u[x];a.isEmptyObject(u)&&j.removeData(o)}}else{if(m)o.removeAttribute&&o.removeAttribute(g);else try{delete o[g]}catch(l){}m&&delete t[v]}}}})}})});
KISSY.add("dom-class",function(a,n){function r(i,e,q,x){if(!(e=a.trim(e)))return x?false:n;i=a.query(i);var o=0,v=i.length;e=e.split(g);for(var t;o<v;o++){t=i[o];if(j._isElementNode(t)){t=q(t,e,e.length);if(t!==n)return t}}if(x)return false}var j=a.DOM,g=/[\.\s]\s*\.?/,k=/[\n\t]/g;a.mix(j,{hasClass:function(i,e){return r(i,e,function(q,x,o){if(q=q.className){q=" "+q+" ";for(var v=0,t=true;v<o;v++)if(q.indexOf(" "+x[v]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(i,e){r(i,e,function(q,
x,o){var v=q.className;if(v){var t=" "+v+" ";v=v;for(var u=0;u<o;u++)if(t.indexOf(" "+x[u]+" ")<0)v+=" "+x[u];q.className=a.trim(v)}else q.className=e})},removeClass:function(i,e){r(i,e,function(q,x,o){var v=q.className;if(v)if(o){v=(" "+v+" ").replace(k," ");for(var t=0,u;t<o;t++)for(u=" "+x[t]+" ";v.indexOf(u)>=0;)v=v.replace(u," ");q.className=a.trim(v)}else q.className=""})},replaceClass:function(i,e,q){j.removeClass(i,e);j.addClass(i,q)},toggleClass:function(i,e,q){var x=a.isBoolean(q),o;r(i,
e,function(v,t,u){for(var m=0,l;m<u;m++){l=t[m];o=x?!q:j.hasClass(v,l);j[o?"removeClass":"addClass"](v,l)}})}})});
KISSY.add("dom-attr",function(a,n){var r=a.UA,j=r.ie,g=j&&j<8,k=document.documentElement.textContent!==n?"textContent":"innerText",i=a.DOM,e=i._isElementNode,q=/^(?:href|src|style)/,x=/^(?:href|src|colspan|rowspan)/,o=/\r/g,v=/^(?:radio|checkbox)/,t={readonly:"readOnly"},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};g&&a.mix(t,{"for":"htmlFor","class":"className"});a.mix(i,{attr:function(m,l,b,d){if(a.isPlainObject(l)){d=b;for(var c in l)i.attr(m,c,l[c],d)}else if(l=a.trim(l)){l=
l.toLowerCase();if(d&&u[l])return i[l](m,b);l=t[l]||l;if(b===n){m=a.get(m);if(!e(m))return n;var f;q.test(l)||(f=m[l]);if(f===n)f=m.getAttribute(l);if(g)if(x.test(l))f=m.getAttribute(l,2);else if(l==="style")f=m.style.cssText;return f===null?n:f}a.each(a.query(m),function(h){if(e(h))if(l==="style")h.style.cssText=b;else{if(l==="checked")h[l]=!!b;h.setAttribute(l,""+b)}})}},removeAttr:function(m,l){a.each(a.query(m),function(b){if(e(b)){i.attr(b,l,"");b.removeAttribute(l)}})},val:function(m,l){if(l===
n){var b=a.get(m);if(!e(b))return n;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var d=b.selectedIndex,c=b.options;if(d<0)return null;else if(b.type==="select-one")return i.val(c[d]);b=[];for(var f=0,h=c.length;f<h;++f)c[f].selected&&b.push(i.val(c[f]));return b}if(r.webkit&&v.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(o,"")}a.each(a.query(m),
function(p){if(p&&p.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(l))l+="";var w=a.makeArray(l),s=p.options,y;f=0;for(h=s.length;f<h;++f){y=s[f];y.selected=a.inArray(i.val(y),w)}if(!w.length)p.selectedIndex=-1}else if(e(p))p.value=l})},text:function(m,l){if(l===n){var b=a.get(m);if(e(b))return b[k]||"";else if(i._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(m),function(d){if(e(d))d[k]=l;else if(i._nodeTypeIs(d,3))d.nodeValue=l})}})});
KISSY.add("dom-style",function(a,n){function r(d,c){var f=a.get(d),h=c===q?f.offsetWidth:f.offsetHeight;a.each(c===q?["Left","Right"]:["Top","Bottom"],function(p){h-=parseFloat(g._getComputedStyle(f,"padding"+p))||0;h-=parseFloat(g._getComputedStyle(f,"border"+p+"Width"))||0});return h}function j(d,c,f){var h=f;if(f===x&&v.test(c)){h=0;if(g.css(d,"position")==="absolute"){f=d[c==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)f-=o(g.css(d.offsetParent,"border-"+c+"-width"))||0;h=f-(o(g.css(d,
"margin-"+c))||0)}}return h}var g=a.DOM,k=a.UA,i=document,e=i.documentElement,q="width",x="auto",o=parseInt,v=/^(?:left|top)/,t=/^(?:width|height|top|left|right|bottom|margin|padding)/i,u=/-([a-z])/ig,m=function(d,c){return c.toUpperCase()},l={},b={};a.mix(g,{_CUSTOM_STYLES:l,_getComputedStyle:function(d,c){var f="",h=d.ownerDocument;if(d.style)f=h.defaultView.getComputedStyle(d,null)[c];return f},css:function(d,c,f){if(a.isPlainObject(c))for(var h in c)g.css(d,h,c[h]);else{if(c.indexOf("-")>0)c=
c.replace(u,m);c=l[c]||c;if(f===n){d=a.get(d);h="";if(d&&d.style){h=c.get?c.get(d):d.style[c];if(h===""&&!c.get)h=j(d,c,g._getComputedStyle(d,c))}return h===n?"":h}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&t.test(c))f+="px";(c===q||c==="height")&&parseFloat(f)<0||a.each(a.query(d),function(p){if(p&&p.style){c.set?c.set(p,f):p.style[c]=f;if(f==="")p.style.cssText||p.removeAttribute("style")}})}}},width:function(d,c){if(c===n)return r(d,q);else g.css(d,q,c)},height:function(d,c){if(c===
n)return r(d,"height");else g.css(d,"height",c)},show:function(d){a.query(d).each(function(c){if(c){c.style.display=g.data(c,"display")||"";if(g.css(c,"display")==="none"){var f=c.tagName,h=b[f],p;if(!h){p=i.createElement(f);i.body.appendChild(p);h=g.css(p,"display");g.remove(p);b[f]=h}g.data(c,"display",h);c.style.display=h}}})},hide:function(d){a.query(d).each(function(c){if(c){var f=c.style,h=f.display;if(h!=="none"){h&&g.data(c,"display",h);f.display="none"}}})},toggle:function(d){a.query(d).each(function(c){if(c)c.style.display===
"none"?g.show(c):g.hide(c)})},addStyleSheet:function(d,c){var f;if(c)f=a.get("#"+c);if(!f){f=g.create("<style>",{id:c});a.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=d;else f.appendChild(i.createTextNode(d))}}});if(e.style.cssFloat!==n)l["float"]="cssFloat";else if(e.style.styleFloat!==n)l["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,n){if(a.UA.ie){var r=a.DOM,j=document,g=j.documentElement,k=r._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,e=/^-?\d/,q=/^(?:width|height)$/;try{if(g.style.opacity===n&&g.filters)k.opacity={get:function(o){var v=100;try{v=o.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{v=o.filters("alpha").opacity}catch(u){}}return v/100+""},set:function(o,v){var t=o.style,u=(o.currentStyle||0).filter||"";t.zoom=1;if(u)if(u=u.replace(/alpha\(opacity=.+\)/ig,""))u+=", ";
t.filter=u+"alpha(opacity="+v*100+")"}}}catch(x){}if(!(j.defaultView||{}).getComputedStyle&&g.currentStyle)r._getComputedStyle=function(o,v){var t=o.style,u=o.currentStyle[v];if(q.test(v))u=r[v](o)+"px";else if(!i.test(u)&&e.test(u)){var m=t.left,l=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left;t.left=v==="fontSize"?"1em":u||0;u=t.pixelLeft+"px";t.left=m;o.runtimeStyle.left=l}return u}}});
KISSY.add("dom-offset",function(a,n){function r(f){var h=0,p=0,w=x(f[u]);if(f[c]){f=f[c]();h=f[m];p=f[l];if(g.mobile!=="apple"){h+=j[b](w);p+=j[d](w)}}return{left:h,top:p}}var j=a.DOM,g=a.UA,k=window,i=document,e=j._isElementNode,q=j._nodeTypeIs,x=j._getWin,o=i.compatMode==="CSS1Compat",v=Math.max,t=parseInt,u="ownerDocument",m="left",l="top",b="scrollLeft",d="scrollTop",c="getBoundingClientRect";a.mix(j,{offset:function(f,h){if(!(f=a.get(f))||!f[u])return null;if(h===n)return r(f);var p=f;if(j.css(p,
"position")==="static")p.style.position="relative";var w=r(p),s={},y,z;for(z in h){y=t(j.css(p,z),10)||0;s[z]=y+h[z]-w[z]}j.css(p,s)},scrollIntoView:function(f,h,p,w){if((f=a.get(f))&&f[u]){w=w===n?true:!!w;p=p===n?true:!!p;if(!h||h===k)return f.scrollIntoView(p);h=a.get(h);if(q(h,9))h=x(h);var s=h&&"scrollTo"in h&&h.document,y=j.offset(f),z=s?{left:j.scrollLeft(h),top:j.scrollTop(h)}:j.offset(h),A={left:y[m]-z[m],top:y[l]-z[l]};y=s?j.viewportHeight(h):h.clientHeight;z=s?j.viewportWidth(h):h.clientWidth;
var C=j[b](h),D=j[d](h),B=C+z,E=D+y,H=f.offsetHeight;f=f.offsetWidth;var G=A.left+C-(t(j.css(h,"borderLeftWidth"))||0);A=A.top+D-(t(j.css(h,"borderTopWidth"))||0);var I=G+f,K=A+H,F,J;if(H>y||A<D||p)F=A;else if(K>E)F=K-y;if(w)if(f>z||G<C||p)J=G;else if(I>B)J=I-z;if(s){if(F!==n||J!==n)h.scrollTo(J,F)}else{if(F!==n)h[d]=F;if(J!==n)h[b]=J}}}});a.each(["Left","Top"],function(f,h){var p="scroll"+f;j[p]=function(w){var s=0,y=x(w),z;if(y&&(z=y.document))s=y[h?"pageYOffset":"pageXOffset"]||z.documentElement[p]||
z.body[p];else if(e(w=a.get(w)))s=w[p];return s}});a.each(["Width","Height"],function(f){j["doc"+f]=function(h){h=h||i;return v(o?h.documentElement["scroll"+f]:h.body["scroll"+f],j["viewport"+f](h))};j["viewport"+f]=function(h){var p="inner"+f;h=x(h);var w=h.document;return p in h?h[p]:o?w.documentElement["client"+f]:w.body["client"+f]}})});
KISSY.add("dom-traversal",function(a,n){function r(i,e,q,x){if(!(i=a.get(i)))return null;if(e===n)e=1;var o=null,v,t;if(a.isNumber(e)&&e>=0){if(e===0)return i;v=0;t=e;e=function(){return++v===t}}for(;i=i[q];)if(k(i)&&(!e||g.test(i,e))&&(!x||x(i))){o=i;break}return o}function j(i,e,q){var x=[];var o=i=a.get(i);if(i&&q)o=i.parentNode;if(o){q=0;for(o=o.firstChild;o;o=o.nextSibling)if(k(o)&&o!==i&&(!e||g.test(o,e)))x[q++]=o}return x}var g=a.DOM,k=g._isElementNode;a.mix(g,{parent:function(i,e){return r(i,
e,"parentNode",function(q){return q.nodeType!=11})},next:function(i,e){return r(i,e,"nextSibling")},prev:function(i,e){return r(i,e,"previousSibling")},siblings:function(i,e){return j(i,e,true)},children:function(i,e){return j(i,e)},contains:function(i,e){var q=false;if((i=a.get(i))&&(e=a.get(e)))if(i.contains)return i.contains(e);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(e)&16);else for(;!q&&(e=e.parentNode);)q=e==i;return q}})});
KISSY.add("dom-create",function(a,n){function r(s){var y=s.cloneNode(true);if(e.ie<8)y.innerHTML=s.innerHTML;return y}function j(s,y,z,A){if(z){var C=a.guid("ks-tmp-"),D=RegExp(m);y+='<span id="'+C+'"></span>';a.available(C,function(){var B=a.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(y);)if((G=(H=E[1])?H.match(b):false)&&G[2]){E=k.createElement("script");E.src=G[2];if((I=H.match(d))&&I[2])E.charset=I[2];E.async=true;B.appendChild(E)}else if((F=E[2])&&F.length>0)a.globalEval(F);(K=k.getElementById(C))&&
i.remove(K);a.isFunction(A)&&A()});g(s,y)}else{g(s,y);a.isFunction(A)&&A()}}function g(s,y){y=(y+"").replace(m,"");try{s.innerHTML=y}catch(z){for(;s.firstChild;)s.removeChild(s.firstChild);y&&s.appendChild(i.create(y))}}var k=document,i=a.DOM,e=a.UA,q=e.ie,x=i._nodeTypeIs,o=i._isElementNode,v=i._isKSNode,t=k.createElement("div"),u=/<(\w+)/,m=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;a.mix(i,{create:function(s,
y,z){if(x(s,1)||x(s,3))return r(s);if(v(s))return r(s[0]);if(!(s=a.trim(s)))return null;var A=null;A=i._creators;var C,D="div",B;if(C=l.exec(s))A=(z||k).createElement(C[1]);else{if((C=u.exec(s))&&(B=C[1])&&a.isFunction(A[B=B.toLowerCase()]))D=B;s=A[D](s,z).childNodes;if(s.length===1)z=s[0].parentNode.removeChild(s[0]);else{s=s;B=z||k;z=null;if(s&&(s.push||s.item)&&s[0]){B=B||s[0].ownerDocument;z=B.createDocumentFragment();if(s.item)s=a.makeArray(s);B=0;for(A=s.length;B<A;B++)z.appendChild(s[B])}z=
z}A=z}z=A;o(z)&&a.isPlainObject(y)&&i.attr(z,y,true);return z},_creators:{div:function(s,y){var z=y?y.createElement("div"):t;z.innerHTML=s;return z}},html:function(s,y,z,A){if(y===n){s=a.get(s);if(o(s))return s.innerHTML}else a.each(a.query(s),function(C){o(C)&&j(C,y,z,A)})},remove:function(s){a.each(a.query(s),function(y){o(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(e.gecko||q){var c=i._creators,f=i.create,h=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,p={option:"select",td:"tr",
tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in p)(function(s){c[w]=function(y,z){return f("<"+s+">"+y+"</"+s+">",null,z)}})(p[w]);if(q){c.script=function(s,y){var z=y?y.createElement("div"):t;z.innerHTML="-"+s;z.removeChild(z.firstChild);return z};if(q<8)c.tbody=function(s,y){var z=f("<table>"+s+"</table>",null,y),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!h.test(s)&&A.parentNode.removeChild(A);return z}}a.mix(c,{optgroup:c.option,th:c.td,thead:c.tbody,tfoot:c.tbody,
caption:c.tbody,colgroup:c.tbody})}});KISSY.add("dom-insertion",function(a){a.mix(a.DOM,{insertBefore:function(n,r){if((n=a.get(n))&&(r=a.get(r))&&r.parentNode)r.parentNode.insertBefore(n,r);return n},insertAfter:function(n,r){if((n=a.get(n))&&(r=a.get(r))&&r.parentNode)r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):r.parentNode.appendChild(n);return n}})});
KISSY.add("event",function(a,n){function r(m,l,b,d,c){if(a.isString(l))l=a.query(l);if(a.isArray(l)){a.each(l,function(f){u[m](f,b,d,c)});return true}if((b=a.trim(b))&&b.indexOf(o)>0){a.each(b.split(o),function(f){u[m](l,f,d,c)});return true}}function j(m,l){g(m)&&i.data(m,x,l)}function g(m){return m&&m.nodeType!==3&&m.nodeType!==8}var k=document,i=a.DOM,e=k.addEventListener?function(m,l,b,d){m.addEventListener&&m.addEventListener(l,b,!!d)}:function(m,l,b){m.attachEvent&&m.attachEvent("on"+l,b)},
q=k.removeEventListener?function(m,l,b,d){m.removeEventListener&&m.removeEventListener(l,b,!!d)}:function(m,l,b){m.detachEvent&&m.detachEvent("on"+l,b)},x="ksEventTargetId",o=" ",v=a.now(),t={},u={EVENT_GUID:x,special:{},add:function(m,l,b,d){if(!r("add",m,l,b,d)){var c=g(m)?i.data(m,x):-1,f,h,p,w,s;if(!(c===-1||!l||!a.isFunction(b))){if(!c){j(m,c=v++);t[c]={target:m,events:{}}}h=t[c].events;if(!h[l]){f=((c=!m.isCustomEventTarget)||m._supportSpecialEvent)&&u.special[l]||{};p=function(y,z){if(!y||
!y.fixed){y=new a.EventObject(m,y,l);a.isPlainObject(z)&&a.mix(y,z)}f.setup&&f.setup(y);return(f.handle||u._handle)(m,y,h[l].listeners)};h[l]={handle:p,listeners:[]};w=f.fix||l;s=f.capture;if(c)e(m,w,p,s);else m._addEvent&&m._addEvent(w,p,s)}h[l].listeners.push({fn:b,scope:d||m})}}},remove:function(m,l,b,d){if(!r("remove",m,l,b,d)){var c=g(m)?i.data(m,x):-1,f,h,p,w,s,y,z;if(c!==-1)if(c&&(f=t[c]))if(f.target===m){d=d||m;f=f.events||{};if(h=f[l]){p=h.listeners;y=p.length;if(a.isFunction(b)&&y){s=w=
0;for(z=[];w<y;++w)if(b!==p[w].fn||d!==p[w].scope)z[s++]=p[w];h.listeners=z;y=z.length}if(b===n||y===0){if(m.isCustomEventTarget)m._addEvent&&m._removeEvent(l,h.handle);else{b=u.special[l]||{};q(m,b.fix||l,h.handle)}delete f[l]}}if(l===n||a.isEmptyObject(f)){for(l in f)u.remove(m,l);delete t[c];i.removeData(m,x)}}}},_handle:function(m,l,b){b=b.slice(0);for(var d,c=0,f=b.length;c<f;++c){d=b[c];d=d.fn.call(d.scope||m,l);if(d===false&&m.isCustomEventTarget||l.isImmediatePropagationStopped)break}return d},
_getCache:function(m){return t[m]},_simpleAdd:e,_simpleRemove:q};u.on=u.add;a.Event=u});
KISSY.add("event-object",function(a,n){function r(k,i,e){this.currentTarget=k;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=e;this.target=k}this.currentTarget=k;this.fixed=true}var j=document,g="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(r,
{_fix:function(){var k=this.originalEvent,i=g.length,e,q=this.currentTarget;for(q=q.nodeType===9?q:q.ownerDocument||j;i;){e=g[--i];this[e]=k[e]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===n&&this.clientX!==n){k=q.documentElement;i=q.body;this.pageX=this.clientX+(k&&k.scrollLeft||i&&i.scrollLeft||
0)-(k&&k.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||i&&i.scrollTop||0)-(k&&k.clientTop||i&&i.clientTop||0)}if(this.which===n)this.which=this.charCode!==n?this.charCode:this.keyCode;if(this.metaKey===n)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==n)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=r});
KISSY.add("event-target",function(a,n){var r=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(j,g){var k=a.DOM.data(this,r.EVENT_GUID)||-1;if((k=((r._getCache(k)||{}).events||{})[j])&&a.isFunction(k.handle))return k.handle(n,g);return this},on:function(j,g,k){r.add(this,j,g,k);return this},detach:function(j,g,k){r.remove(this,j,g,k);return this}}});
KISSY.add("event-mouseenter",function(a){var n=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(r){n.special[r.name]={fix:r.fix,setup:function(j){j.type=r.name},handle:function(j,g,k){if(a.DOM._isKSNode(j))j=j[0];var i=g.relatedTarget;try{for(;i&&i!==j;)i=i.parentNode;i!==j&&n._handle(j,g,k)}catch(e){}}}})});
KISSY.add("event-focusin",function(a){var n=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(r){n.special[r.name]={fix:r.fix,capture:true,setup:function(j){j.type=r.name}}})});
KISSY.add("node",function(a){function n(j,g,k){if(!(this instanceof n))return new n(j,g,k);if(j){if(a.isString(j)){j=r.create(j,g,k);if(j.nodeType===11)return new a.NodeList(j.childNodes)}else if(j instanceof n)return j;else j=j;this[0]=j}else this.length=0}var r=a.DOM;n.TYPE="-ks-Node";a.augment(n,{length:1,getDOMNode:function(){return this[0]},nodeType:n.TYPE});a.one=function(j,g){var k=a.get(j,g);return k?new n(k):null};a.Node=n});
KISSY.add("nodelist",function(a){function n(g){if(!(this instanceof n))return new n(g);j.push.apply(this,a.makeArray(g)||[])}var r=a.DOM,j=Array.prototype;a.mix(n.prototype,{length:0,item:function(g){var k=null;if(r._isElementNode(this[g]))k=new a.Node(this[g]);return k},getDOMNodes:function(){return j.slice.call(this)},each:function(g,k){var i=this.length,e=0,q;for(q=new a.Node(this[0]);e<i&&g.call(k||q,q,e,this)!==false;q=new a.Node(this[++e]));return this}});a.all=function(g,k){return new n(a.query(g,
k,true))};a.NodeList=n});
KISSY.add("node-attach",function(a,n){function r(l,b,d,c){l=[this[l?v:o]()].concat(a.makeArray(b));if(b[d]===n)return c.apply(g,l);else{c.apply(g,l);return this}}function j(l,b){a.each(l,function(d){a.each([q,x],function(c,f){c[d]=function(h){switch(b){case t:return function(){return r.call(this,f,arguments,1,h)};case u:return function(){return r.call(this,f,arguments,0,h)};case m:return function(){var p=this[f?v:o]();return(p=h.apply(g,[p].concat(a.makeArray(arguments))))?new (a[a.isArray(p)?"NodeList":
"Node"])(p):null};default:return function(){var p=this[f?v:o]();p=h.apply(g,[p].concat(a.makeArray(arguments)));return p===n?this:p}}}(g[d])})})}var g=a.DOM,k=a.Event,i=g._nodeTypeIs,e=g._isKSNode,q=a.Node.prototype,x=a.NodeList.prototype,o="getDOMNode",v=o+"s",t=1,u=2,m=4;a.mix(q,{one:function(l){return a.one(l,this[0])},all:function(l){return a.all(l,this[0])}});j(["data","removeData"],t);j(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);j(["attr","removeAttr"],t);j(["val","text"],
u);j(["css"],t);j(["width","height"],u);j(["offset"],u);j(["scrollIntoView"]);j(["parent","next","prev","siblings","children"],m);j(["contains"]);j(["html"],u);j(["remove"]);a.each(["insertBefore","insertAfter"],function(l){q[l]=function(b){g[l].call(g,this[0],b);return this}});a.each([q,x],function(l,b){a.mix(l,{append:function(d){d&&a.each(this,function(c){var f;if(b||a.isString(d))f=g.create(d);else{if(i(d,1)||i(d,3))f=d;if(e(d))f=d[0]}c.appendChild(f)});return this},appendTo:function(d){if((d=
a.get(d))&&d.appendChild)a.each(this,function(c){d.appendChild(c)});return this}})});a.each([q,x],function(l){a.mix(l,a.EventTarget);l._supportSpecialEvent=true;l._addEvent=function(b,d,c){for(var f=0,h=this.length;f<h;f++)k._simpleAdd(this[f],b,d,c)};l._removeEvent=function(b,d,c){for(var f=0,h=this.length;f<h;f++)k._simpleRemove(this[f],b,d,c)};delete l.fire})});
KISSY.add("cookie",function(a){var n=document,r=encodeURIComponent,j=decodeURIComponent;a.Cookie={get:function(g){var k;if(a.isString(g)&&g!=="")if(g=n.cookie.match("(?:^| )"+g+"(?:(?:=([^;]*))|;|$)"))k=g[1]?j(g[1]):"";return k},set:function(g,k,i,e,q,x){k=r(k);var o=i;if(typeof o==="number"){o=new Date;o.setTime(o.getTime()+i*864E5)}if(o instanceof Date)k+="; expires="+o.toUTCString();if(a.isString(e)&&e!=="")k+="; domain="+e;if(a.isString(q)&&q!=="")k+="; path="+q;if(x)k+="; secure";n.cookie=g+
"="+k},remove:function(g,k,i,e){this.set(g,"",0,k,i,e)}}});
KISSY.add("json",function(a){function n(o){return o<10?"0"+o:o}function r(o){k.lastIndex=0;return k.test(o)?'"'+o.replace(k,function(v){var t=q[v];return typeof t==="string"?t:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function j(o,v){var t,u,m,l,b=i,d,c=v[o];if(c&&typeof c==="object"&&typeof c.toJSON==="function")c=c.toJSON(o);if(typeof x==="function")c=x.call(v,o,c);switch(typeof c){case "string":return r(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";i+=e;d=[];if(Object.prototype.toString.apply(c)==="[object Array]"){l=c.length;for(t=0;t<l;t+=1)d[t]=j(t,c)||"null";m=d.length===0?"[]":i?"[\n"+i+d.join(",\n"+i)+"\n"+b+"]":"["+d.join(",")+"]";i=b;return m}if(x&&typeof x==="object"){l=x.length;for(t=0;t<l;t+=1){u=x[t];if(typeof u==="string")if(m=j(u,c))d.push(r(u)+(i?": ":":")+m)}}else for(u in c)if(Object.hasOwnProperty.call(c,u))if(m=j(u,c))d.push(r(u)+(i?": ":":")+m);m=d.length===0?"{}":i?"{\n"+i+d.join(",\n"+i)+
"\n"+b+"}":"{"+d.join(",")+"}";i=b;return m}}a=a.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,e,q={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},x;if(typeof a.stringify!=="function")a.stringify=function(o,v,t){var u;e=i="";if(typeof t==="number")for(u=0;u<t;u+=1)e+=" ";else if(typeof t==="string")e=t;if((x=v)&&typeof v!=="function"&&(typeof v!=="object"||typeof v.length!=="number"))throw Error("JSON.stringify");return j("",{"":o})};if(typeof a.parse!==
"function")a.parse=function(o,v){function t(m,l){var b,d,c=m[l];if(c&&typeof c==="object")for(b in c)if(Object.hasOwnProperty.call(c,b)){d=t(c,b);if(d!==undefined)c[b]=d;else delete c[b]}return v.call(m,l,c)}var u;o=String(o);g.lastIndex=0;if(g.test(o))o=o.replace(g,function(m){return"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){u=eval("("+o+")");return typeof v==="function"?t({"":u},""):u}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(a){var n=Math,r=n.PI,j=n.pow,g=n.sin,k=1.70158,i={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(j(2,10*(e-=1))*g((e-0.075)*2*r/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return j(2,-10*e)*g((e-0.075)*2*r/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*j(2,10*(e-=1))*g((e-0.1125)*2*r/0.45);return j(2,-10*(e-=1))*g((e-0.1125)*2*r/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((k+1)*e-k)},backOut:function(e){return(e-=1)*e*((k+1)*e+k)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((k*=1.525)+1)*e-k);return 0.5*((e-=2)*e*(((k*=1.525)+1)*e+k)+2)},bounceIn:function(e){return 1-
i.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return i.bounceIn(e*2)*0.5;return i.bounceOut(e*2-1)*0.5+0.5}};i.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=i});
KISSY.add("anim",function(a,n){function r(b,d,c,f,h,p){if(b=a.get(b)){if(!(this instanceof r))return new r(b,d,c,f,h,p);var w=a.isPlainObject(c);d=d;this.domEl=b;if(a.isPlainObject(d))d=a.param(d,";").replace(/=/g,":");var s={},y=t.length,z;v.innerHTML='<div style="'+d+'"></div>';for(b=v.firstChild.style;y--;)if(z=b[t[y]])s[t[y]]=k(z);this.props=s;this.targetStyle=d;if(w)w=a.merge(l,c);else{w=a.clone(l);if(c)w.duration=o(c)||1;if(a.isString(f)||a.isFunction(f))w.easing=f;if(a.isFunction(h))w.complete=h;
if(p!==n)w.nativeSupport=p}this.config=w;if(w.nativeSupport&&j()&&a.isString(f=w.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(f)||(f=x.NativeTimeFunction[f])){w.easing=f;this.transitionName=j()}a.isFunction(h)&&this.on(m,h)}}function j(){var b="transition",d;if(v.style[b]!==n)d=b;else a.each(["Webkit","Moz","O"],function(c){if(v.style[b=c+"Transition"]!==n){d=b;return false}});j=function(){return d};return d}function g(b,d,c){a.UA.ie&&c.indexOf(u)>-1&&q.css(b,u,d[u].v);b.style.cssText+=";"+c}function k(b){var d=
o(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(d)?{v:b,u:"",f:e}:{v:d,u:b,f:i}}function i(b,d,c){return(b+(d-b)*c).toFixed(3)}function e(b,d,c){for(var f=2,h,p,w=[],s=[];h=3,p=arguments[f-1],f--;)if(p.substr(0,4)==="rgb(")for(p=p.match(/\d+/g);h--;)w.push(~~p[h]);else if(p.substr(0,1)==="#"){if(p.length===4)p="#"+p.substr(1,1)+p.substr(1,1)+p.substr(2,1)+p.substr(2,1)+p.substr(3,1)+p.substr(3,1);for(;h--;)w.push(parseInt(p.substr(1+h*2,2),16))}else return d;for(;h--;){f=~~(w[h+3]+(w[h]-w[h+3])*
c);s.push(f<0?0:f>255?255:f)}return"rgb("+s.join(",")+")"}var q=a.DOM,x=a.Easing,o=parseFloat,v=q.create("<div>"),t="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="opacity",m="complete",l={duration:1,easing:"easeNone",nativeSupport:true};a.augment(r,a.EventTarget,{run:function(){var b=this,d=b.config,c=b.domEl,f,h,p,w,s=b.props,y={},z;for(z in s)y[z]=k(q.css(c,z));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{f=d.duration*1E3;p=a.now();w=p+f;h=d.easing;if(a.isString(h))h=x[h]||x.easeNone;b.timer=a.later(d=function(){var A=a.now(),C=A>w?1:(A-p)/f,D,B,E;for(z in s){D=y[z];B=s[z];if(B.v==0)B.u=D.u;if(D.u!==B.u)D.v=0;q.css(c,z,
B.f(D.v,B.v,h(C))+B.u)}if(b.fire("step")===false||(E=A>w)){b.stop();E&&b.fire(m)}},13,true);d()}return b}},_nativeRun:function(){var b=this,d=b.config,c=b.domEl,f=b.props,h=d.duration*1E3;d=d.easing;var p=b.transitionName,w={};w[p+"Property"]="all";w[p+"Duration"]=h+"ms";w[p+"TimingFunction"]=d;q.css(c,w);a.later(function(){g(c,f,b.targetStyle)},0);a.later(function(){b.stop(true)},h)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=n}if(b){g(this.domEl,
this.props,this.targetStyle);this.fire(m)}}return this},_nativeStop:function(b){var d=this.domEl,c=this.transitionName,f=this.props,h;if(b){q.css(d,c+"Property","none");this.fire(m)}else{for(h in f)q.css(d,h,q._getComputedStyle(d,h));q.css(d,c+"Property","none")}}});r.supportTransition=function(){return!!j()};a.Anim=r});
KISSY.add("anim-node-plugin",function(a,n){function r(m,l,b,d,c){if(l==="toggle"){c=j.css(m,k)===i?1:0;l="show"}if(c)j.css(m,k,j.data(m,k)||"");var f={};a.each(u[l],function(h){if(h===e)j.css(m,e,q);else if(h===x){f.opacity=c?1:0;c&&j.css(m,x,0)}else if(h===o){f.height=c?j.css(m,o)||m.naturalHeight:0;c&&j.css(m,o,0)}else if(h===v){f.width=c?j.css(m,v)||m.naturalWidth:0;c&&j.css(m,v,0)}});(new a.Anim(m,f,b,"easeOut",function(){if(!c){var h=m.style,p=h[k];if(p!==i){p&&j.data(m,k,p);h[k]=i}j.css(m,{height:t,
width:t,overflow:t,opacity:1})}d&&a.isFunction(d)&&d()})).run()}var j=a.DOM,g=a.Anim,k="display",i="none",e="overflow",q="hidden",x="opacity",o="height",v="width",t="auto",u={show:[e,x,o,v],fade:[x],slide:[e,o]};a.each([a.Node.prototype,a.NodeList.prototype],function(m){m.animate=function(){var l=a.makeArray(arguments);a.each(this,function(b){g.apply(n,[b].concat(l)).run()});return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(l,b){m[b]=function(d,c){j[b]&&arguments.length===0?j[b](this):a.each(this,function(f){r(f,l[0],d,c,l[1])});return this}})})});KISSY.add("core");
