/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Nov 18 20:19
*/
KISSY.add("ua",function(a){var o=navigator.userAgent,q="",j="",b,d={},f=function(c){var m=0;return parseFloat(c.replace(/\./g,function(){return m++===0?".":""}))};if((b=o.match(/AppleWebKit\/([\d.]*)/))&&b[1]){d[q="webkit"]=f(b[1]);if((b=o.match(/Chrome\/([\d.]*)/))&&b[1])d[j="chrome"]=f(b[1]);else if((b=o.match(/\/([\d.]*) Safari/))&&b[1])d[j="safari"]=f(b[1]);if(/ Mobile\//.test(o))d.mobile="apple";else if(b=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))d.mobile=b[0].toLowerCase()}else if((b=
o.match(/Presto\/([\d.]*)/))&&b[1]){d[q="presto"]=f(b[1]);if((b=o.match(/Opera\/([\d.]*)/))&&b[1]){d[j="opera"]=f(b[1]);if((b=o.match(/Opera\/.* Version\/([\d.]*)/))&&b[1])d[j]=f(b[1]);if((b=o.match(/Opera Mini[^;]*/))&&b)d.mobile=b[0].toLowerCase();else if((b=o.match(/Opera Mobi[^;]*/))&&b)d.mobile=b[0]}}else if((b=o.match(/MSIE\s([^;]*)/))&&b[1]){d[q="trident"]=0.1;d[j="ie"]=f(b[1]);if((b=o.match(/Trident\/([\d.]*)/))&&b[1])d[q]=f(b[1])}else if(b=o.match(/Gecko/)){d[q="gecko"]=0.1;if((b=o.match(/rv:([\d.]*)/))&&
b[1])d[q]=f(b[1]);if((b=o.match(/Firefox\/([\d.]*)/))&&b[1])d[j="firefox"]=f(b[1])}d.core=q;d.shell=j;d._numberify=f;a.UA=d});
KISSY.add("ua-extra",function(a){var o=a.UA,q=navigator.userAgent,j,b,d={},f=o._numberify;if(q.match(/360SE/))d[b="se360"]=3;else if(q.match(/Maxthon/)&&(j=window.external)){b="maxthon";try{d[b]=f(j.max_version)}catch(c){d[b]=0.1}}else if(j=q.match(/TencentTraveler\s([\d.]*)/))d[b="tt"]=j[1]?f(j[1]):0.1;else if(q.match(/TheWorld/))d[b="theworld"]=3;else if(j=q.match(/SE\s([\d.]*)/))d[b="sougou"]=j[1]?f(j[1]):0.1;b&&(d.shell=b);a.mix(o,d)});
KISSY.add("dom",function(a,o){function q(j,b){return j&&j.nodeType===b}a.DOM={_isElementNode:function(j){return q(j,1)},_isKSNode:function(j){return a.Node&&q(j,a.Node.TYPE)},_getWin:function(j){return j&&"scrollTo"in j&&j.document?j:q(j,9)?j.defaultView||j.parentWindow:j===o?window:false},_nodeTypeIs:q}});
KISSY.add("selector",function(a,o){function q(e,h){var g,i,k=[],r;h=j(h);if(a.isString(e)){e=a.trim(e);if(n.test(e)){if(i=b(e.slice(1),h))k=[i]}else if(g=l.exec(e)){i=g[1];r=g[2];g=g[3];if(h=i?b(i,h):h)if(g)if(!i||e.indexOf(p)!==-1)k=f(g,r,h);else{if((i=b(i,h))&&v.hasClass(i,g))k=[i]}else if(r)k=d(r,h)}else if(a.ExternalSelector)return a.ExternalSelector(e,h);else c(e)}else if(e&&(e[u]||e[w]))k=e[u]?[e[u]()]:e[w]();else if(e&&(a.isArray(e)||e&&!e.nodeType&&e.item&&e!=window))k=e;else if(e)k=[e];if(k&&
!k.nodeType&&k.item&&k!=window)k=a.makeArray(k);k.each=function(x,s){return a.each(k,x,s)};return k}function j(e){if(e===o)e=m;else if(a.isString(e)&&n.test(e))e=b(e.slice(1),m);else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function b(e,h){if(h.nodeType!==9)h=h.ownerDocument;return h.getElementById(e)}function d(e,h){return h.getElementsByTagName(e)}function f(e,h,g){g=e=g.getElementsByClassName(e);var i=0,k=0,r=e.length,x;if(h&&h!==t){g=[];for(h=h.toUpperCase();i<r;++i){x=e[i];if(x.tagName===
h)g[k++]=x}}return g}function c(e){a.error("Unsupported selector: "+e)}var m=document,v=a.DOM,p=" ",t="*",u="getDOMNode",w=u+"s",n=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=m.createElement("div");e.appendChild(m.createComment(""));if(e.getElementsByTagName(t).length>0)d=function(h,g){var i=g.getElementsByTagName(h);if(h===t){for(var k=[],r=0,x=0,s;s=i[r++];)if(s.nodeType===1)k[x++]=s;i=k}return i}})();m.getElementsByClassName||(f=m.querySelectorAll?function(e,h,
g){return g.querySelectorAll((h?h:"")+"."+e)}:function(e,h,g){h=g.getElementsByTagName(h||t);g=[];var i=0,k=0,r=h.length,x,s;for(e=p+e+p;i<r;++i){x=h[i];if((s=x.className)&&(p+s+p).indexOf(e)>-1)g[k++]=x}return g});a.query=q;a.get=function(e,h){return q(e,h)[0]||null};a.mix(v,{query:q,get:a.get,filter:function(e,h){var g=q(e),i,k,r,x=[];if(a.isString(h)&&(i=l.exec(h))&&!i[1]){k=i[2];r=i[3];h=function(s){return!(k&&s.tagName!==k.toUpperCase()||r&&!v.hasClass(s,r))}}if(a.isFunction(h))x=a.filter(g,
h);else if(h&&a.ExternalSelector)x=a.ExternalSelector._filter(e,h);else c(h);return x},test:function(e,h){var g=q(e);return v.filter(g,h).length===g.length}})});
KISSY.add("dom-data",function(a,o){var q=window,j=a.DOM,b="_ks_data_"+a.now(),d={},f={},c={EMBED:1,OBJECT:1,APPLET:1};a.mix(j,{data:function(m,v,p){if(a.isPlainObject(v))for(var t in v)j.data(m,t,v[t]);else if(p===o){m=a.get(m);var u;if(!(!m||c[m.nodeName])){if(m==q)m=f;u=(t=m&&m.nodeType)?d:m;m=u[t?m[b]:b];if(a.isString(v)&&m)return m[v];return m}}else a.query(m).each(function(w){if(!(!w||c[w.nodeName])){if(w==q)w=f;var n=d,l;if(w&&w.nodeType){if(!(l=w[b]))l=w[b]=a.guid()}else{l=b;n=w}if(v&&p!==
o){n[l]||(n[l]={});n[l][v]=p}}})},removeData:function(m,v){a.query(m).each(function(p){if(p){if(p==q)p=f;var t,u=d,w,n=p&&p.nodeType;if(n)t=p[b];else{u=p;t=b}if(t){w=u[t];if(v){if(w){delete w[v];a.isEmptyObject(w)&&j.removeData(p)}}else{if(n)p.removeAttribute&&p.removeAttribute(b);else try{delete p[b]}catch(l){}n&&delete u[t]}}}})}})});
KISSY.add("dom-class",function(a,o){function q(f,c,m,v){if(!(c=a.trim(c)))return v?false:o;f=a.query(f);var p=0,t=f.length;c=c.split(b);for(var u;p<t;p++){u=f[p];if(j._isElementNode(u)){u=m(u,c,c.length);if(u!==o)return u}}if(v)return false}var j=a.DOM,b=/[\.\s]\s*\.?/,d=/[\n\t]/g;a.mix(j,{hasClass:function(f,c){return q(f,c,function(m,v,p){if(m=m.className){m=" "+m+" ";for(var t=0,u=true;t<p;t++)if(m.indexOf(" "+v[t]+" ")<0){u=false;break}if(u)return true}},true)},addClass:function(f,c){q(f,c,function(m,
v,p){var t=m.className;if(t){var u=" "+t+" ";t=t;for(var w=0;w<p;w++)if(u.indexOf(" "+v[w]+" ")<0)t+=" "+v[w];m.className=a.trim(t)}else m.className=c})},removeClass:function(f,c){q(f,c,function(m,v,p){var t=m.className;if(t)if(p){t=(" "+t+" ").replace(d," ");for(var u=0,w;u<p;u++)for(w=" "+v[u]+" ";t.indexOf(w)>=0;)t=t.replace(w," ");m.className=a.trim(t)}else m.className=""})},replaceClass:function(f,c,m){j.removeClass(f,c);j.addClass(f,m)},toggleClass:function(f,c,m){var v=a.isBoolean(m),p;q(f,
c,function(t,u,w){for(var n=0,l;n<w;n++){l=u[n];p=v?!m:j.hasClass(t,l);j[p?"removeClass":"addClass"](t,l)}})}})});
KISSY.add("dom-attr",function(a,o){var q=a.UA,j=document.documentElement,b=!j.hasAttribute,d=j.textContent!==o?"textContent":"innerText",f=a.DOM,c=f._isElementNode,m=/^(?:href|src|style)/,v=/^(?:href|src|colspan|rowspan)/,p=/\r/g,t=/^(?:radio|checkbox)/,u={readonly:"readOnly"},w={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};b&&a.mix(u,{"for":"htmlFor","class":"className"});a.mix(f,{attr:function(n,l,e,h){if(a.isPlainObject(l)){h=e;for(var g in l)f.attr(n,g,l[g],h)}else if(l=a.trim(l)){l=
l.toLowerCase();if(h&&w[l])return f[l](n,e);l=u[l]||l;if(e===o){n=a.get(n);if(!c(n))return o;var i;m.test(l)||(i=n[l]);if(i===o)i=n.getAttribute(l);if(b)if(v.test(l))i=n.getAttribute(l,2);else if(l==="style")i=n.style.cssText;return i===null?o:i}a.each(a.query(n),function(k){if(c(k))if(l==="style")k.style.cssText=e;else{if(l==="checked")k[l]=!!e;k.setAttribute(l,""+e)}})}},removeAttr:function(n,l){a.each(a.query(n),function(e){if(c(e)){f.attr(e,l,"");e.removeAttribute(l)}})},val:function(n,l){if(l===
o){var e=a.get(n);if(!c(e))return o;if(e&&e.nodeName.toUpperCase()==="option".toUpperCase())return(e.attributes.value||{}).specified?e.value:e.text;if(e&&e.nodeName.toUpperCase()==="select".toUpperCase()){var h=e.selectedIndex,g=e.options;if(h<0)return null;else if(e.type==="select-one")return f.val(g[h]);e=[];for(var i=0,k=g.length;i<k;++i)g[i].selected&&e.push(f.val(g[i]));return e}if(q.webkit&&t.test(e.type))return e.getAttribute("value")===null?"on":e.value;return(e.value||"").replace(p,"")}a.each(a.query(n),
function(r){if(r&&r.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(l))l+="";var x=a.makeArray(l),s=r.options,y;i=0;for(k=s.length;i<k;++i){y=s[i];y.selected=a.inArray(f.val(y),x)}if(!x.length)r.selectedIndex=-1}else if(c(r))r.value=l})},text:function(n,l){if(l===o){var e=a.get(n);if(c(e))return e[d]||"";else if(f._nodeTypeIs(e,3))return e.nodeValue}else a.each(a.query(n),function(h){if(c(h))h[d]=l;else if(f._nodeTypeIs(h,3))h.nodeValue=l})}})});
KISSY.add("dom-style",function(a,o){function q(h,g){var i=a.get(h),k=g===m?i.offsetWidth:i.offsetHeight;a.each(g===m?["Left","Right"]:["Top","Bottom"],function(r){k-=parseFloat(b._getComputedStyle(i,"padding"+r))||0;k-=parseFloat(b._getComputedStyle(i,"border"+r+"Width"))||0});return k}function j(h,g,i){var k=i;if(i===v&&t.test(g)){k=0;if(b.css(h,"position")==="absolute"){i=h[g==="left"?"offsetLeft":"offsetTop"];if(d.ie===8||d.opera)i-=p(b.css(h.offsetParent,"border-"+g+"-width"))||0;k=i-(p(b.css(h,
"margin-"+g))||0)}}return k}var b=a.DOM,d=a.UA,f=document,c=f.documentElement,m="width",v="auto",p=parseInt,t=/^(?:left|top)/,u=/^(?:width|height|top|left|right|bottom|margin|padding)/i,w=/-([a-z])/ig,n=function(h,g){return g.toUpperCase()},l={},e={};a.mix(b,{_CUSTOM_STYLES:l,_getComputedStyle:function(h,g){var i="",k=h.ownerDocument;if(h.style)i=k.defaultView.getComputedStyle(h,null)[g];return i},css:function(h,g,i){if(a.isPlainObject(g))for(var k in g)b.css(h,k,g[k]);else{if(g.indexOf("-")>0)g=
g.replace(w,n);g=l[g]||g;if(i===o){h=a.get(h);k="";if(h&&h.style){k=g.get?g.get(h):h.style[g];if(k===""&&!g.get)k=j(h,g,b._getComputedStyle(h,g))}return k===o?"":k}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&u.test(g))i+="px";(g===m||g==="height")&&parseFloat(i)<0||a.each(a.query(h),function(r){if(r&&r.style){g.set?g.set(r,i):r.style[g]=i;if(i==="")r.style.cssText||r.removeAttribute("style")}})}}},width:function(h,g){if(g===o)return q(h,m);else b.css(h,m,g)},height:function(h,g){if(g===
o)return q(h,"height");else b.css(h,"height",g)},show:function(h){a.query(h).each(function(g){if(g){g.style.display=b.data(g,"display")||"";if(b.css(g,"display")==="none"){var i=g.tagName,k=e[i],r;if(!k){r=f.createElement(i);f.body.appendChild(r);k=b.css(r,"display");b.remove(r);e[i]=k}b.data(g,"display",k);g.style.display=k}}})},hide:function(h){a.query(h).each(function(g){if(g){var i=g.style,k=i.display;if(k!=="none"){k&&b.data(g,"display",k);i.display="none"}}})},toggle:function(h){a.query(h).each(function(g){if(g)g.style.display===
"none"?b.show(g):b.hide(g)})},addStyleSheet:function(h,g){var i;if(g)i=a.get("#"+g);if(!i){i=b.create("<style>",{id:g});a.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=h;else i.appendChild(f.createTextNode(h))}}});if(c.style.cssFloat!==o)l["float"]="cssFloat";else if(c.style.styleFloat!==o)l["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,o){if(a.UA.ie){var q=a.DOM,j=document,b=j.documentElement,d=q._CUSTOM_STYLES,f=/^-?\d+(?:px)?$/i,c=/^-?\d/,m=/^(?:width|height)$/;try{if(b.style.opacity===o&&b.filters)d.opacity={get:function(p){var t=100;try{t=p.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(u){try{t=p.filters("alpha").opacity}catch(w){}}return t/100+""},set:function(p,t){var u=p.style,w=(p.currentStyle||0).filter||"";u.zoom=1;if(w)if(w=w.replace(/alpha\(opacity=.+\)/ig,""))w+=", ";
u.filter=w+"alpha(opacity="+t*100+")"}}}catch(v){}if(!(j.defaultView||{}).getComputedStyle&&b.currentStyle)q._getComputedStyle=function(p,t){var u=p.style,w=p.currentStyle[t];if(m.test(t))w=q[t](p)+"px";else if(!f.test(w)&&c.test(w)){var n=u.left,l=p.runtimeStyle.left;p.runtimeStyle.left=p.currentStyle.left;u.left=t==="fontSize"?"1em":w||0;w=u.pixelLeft+"px";u.left=n;p.runtimeStyle.left=l}return w}}});
KISSY.add("dom-offset",function(a,o){function q(i){var k=0,r=0,x=v(i[w]);if(i[g]){i=i[g]();k=i[n];r=i[l];if(b.mobile!=="apple"){k+=j[e](x);r+=j[h](x)}}return{left:k,top:r}}var j=a.DOM,b=a.UA,d=window,f=document,c=j._isElementNode,m=j._nodeTypeIs,v=j._getWin,p=f.compatMode==="CSS1Compat",t=Math.max,u=parseInt,w="ownerDocument",n="left",l="top",e="scrollLeft",h="scrollTop",g="getBoundingClientRect";a.mix(j,{offset:function(i,k){if(!(i=a.get(i))||!i[w])return null;if(k===o)return q(i);var r=i;if(j.css(r,
"position")==="static")r.style.position="relative";var x=q(r),s={},y,z;for(z in k){y=u(j.css(r,z),10)||0;s[z]=y+k[z]-x[z]}j.css(r,s)},scrollIntoView:function(i,k,r,x){if((i=a.get(i))&&i[w]){x=x===o?true:!!x;r=r===o?true:!!r;if(!k||k===d)return i.scrollIntoView(r);k=a.get(k);if(m(k,9))k=v(k);var s=k&&"scrollTo"in k&&k.document,y=j.offset(i),z=s?{left:j.scrollLeft(k),top:j.scrollTop(k)}:j.offset(k),A={left:y[n]-z[n],top:y[l]-z[l]};y=s?j.viewportHeight(k):k.clientHeight;z=s?j.viewportWidth(k):k.clientWidth;
var C=j[e](k),D=j[h](k),B=C+z,E=D+y,H=i.offsetHeight;i=i.offsetWidth;var G=A.left+C-(u(j.css(k,"borderLeftWidth"))||0);A=A.top+D-(u(j.css(k,"borderTopWidth"))||0);var I=G+i,K=A+H,F,J;if(H>y||A<D||r)F=A;else if(K>E)F=K-y;if(x)if(i>z||G<C||r)J=G;else if(I>B)J=I-z;if(s){if(F!==o||J!==o)k.scrollTo(J,F)}else{if(F!==o)k[h]=F;if(J!==o)k[e]=J}}}});a.each(["Left","Top"],function(i,k){var r="scroll"+i;j[r]=function(x){var s=0,y=v(x),z;if(y&&(z=y.document))s=y[k?"pageYOffset":"pageXOffset"]||z.documentElement[r]||
z.body[r];else if(c(x=a.get(x)))s=x[r];return s}});a.each(["Width","Height"],function(i){j["doc"+i]=function(k){k=k||f;return t(p?k.documentElement["scroll"+i]:k.body["scroll"+i],j["viewport"+i](k))};j["viewport"+i]=function(k){var r="inner"+i;k=v(k);var x=k.document;return r in k?k[r]:p?x.documentElement["client"+i]:x.body["client"+i]}})});
KISSY.add("dom-traversal",function(a,o){function q(f,c,m,v){if(!(f=a.get(f)))return null;if(c===o)c=1;var p=null,t,u;if(a.isNumber(c)&&c>=0){if(c===0)return f;t=0;u=c;c=function(){return++t===u}}for(;f=f[m];)if(d(f)&&(!c||b.test(f,c))&&(!v||v(f))){p=f;break}return p}function j(f,c,m){var v=[];var p=f=a.get(f);if(f&&m)p=f.parentNode;if(p){m=0;for(p=p.firstChild;p;p=p.nextSibling)if(d(p)&&p!==f&&(!c||b.test(p,c)))v[m++]=p}return v}var b=a.DOM,d=b._isElementNode;a.mix(b,{parent:function(f,c){return q(f,
c,"parentNode",function(m){return m.nodeType!=11})},next:function(f,c){return q(f,c,"nextSibling")},prev:function(f,c){return q(f,c,"previousSibling")},siblings:function(f,c){return j(f,c,true)},children:function(f,c){return j(f,c)},contains:function(f,c){var m=false;if((f=a.get(f))&&(c=a.get(c))&&f.nodeType==1)if(f.contains){if(c.nodeType!=1)c=c.parentNode;if(c)return f.contains(c)}else if(f.compareDocumentPosition)return!!(f.compareDocumentPosition(c)&16);else for(;!m&&(c=c.parentNode);)m=c==f;
return m}})});
KISSY.add("dom-create",function(a,o){function q(s){var y=s.cloneNode(true);if(c.ie<8)y.innerHTML=s.innerHTML;return y}function j(s,y,z,A){if(z){var C=a.guid("ks-tmp-"),D=RegExp(n);y+='<span id="'+C+'"></span>';a.available(C,function(){var B=a.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(y);)if((G=(H=E[1])?H.match(e):false)&&G[2]){E=d.createElement("script");E.src=G[2];if((I=H.match(h))&&I[2])E.charset=I[2];E.async=true;B.appendChild(E)}else if((F=E[2])&&F.length>0)a.globalEval(F);(K=d.getElementById(C))&&
f.remove(K);a.isFunction(A)&&A()});b(s,y)}else{b(s,y);a.isFunction(A)&&A()}}function b(s,y){y=(y+"").replace(n,"");try{s.innerHTML=y}catch(z){for(;s.firstChild;)s.removeChild(s.firstChild);y&&s.appendChild(f.create(y))}}var d=document,f=a.DOM,c=a.UA,m=c.ie,v=f._nodeTypeIs,p=f._isElementNode,t=f._isKSNode,u=d.createElement("div"),w=/<(\w+)/,n=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,h=/\scharset=(['"])(.*?)\1/i;a.mix(f,{create:function(s,
y,z){if(v(s,1)||v(s,3))return q(s);if(t(s))return q(s[0]);if(!(s=a.trim(s)))return null;var A=null;A=f._creators;var C,D="div",B;if(C=l.exec(s))A=(z||d).createElement(C[1]);else{if((C=w.exec(s))&&(B=C[1])&&a.isFunction(A[B=B.toLowerCase()]))D=B;s=A[D](s,z).childNodes;if(s.length===1)z=s[0].parentNode.removeChild(s[0]);else{s=s;B=z||d;z=null;if(s&&(s.push||s.item)&&s[0]){B=B||s[0].ownerDocument;z=B.createDocumentFragment();if(s.item)s=a.makeArray(s);B=0;for(A=s.length;B<A;B++)z.appendChild(s[B])}z=
z}A=z}z=A;p(z)&&a.isPlainObject(y)&&f.attr(z,y,true);return z},_creators:{div:function(s,y){var z=y?y.createElement("div"):u;z.innerHTML=s;return z}},html:function(s,y,z,A){if(y===o){s=a.get(s);if(p(s))return s.innerHTML}else a.each(a.query(s),function(C){p(C)&&j(C,y,z,A)})},remove:function(s){a.each(a.query(s),function(y){p(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(m||c.gecko||c.webkit){var g=f._creators,i=f.create,k=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},x;for(x in r)(function(s){g[x]=function(y,z){return i("<"+s+">"+y+"</"+s+">",null,z)}})(r[x]);if(m){g.script=function(s,y){var z=y?y.createElement("div"):u;z.innerHTML="-"+s;z.removeChild(z.firstChild);return z};if(m<8)g.tbody=function(s,y){var z=i("<table>"+s+"</table>",null,y),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!k.test(s)&&A.parentNode.removeChild(A);return z}}a.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,
caption:g.tbody,colgroup:g.tbody})}});KISSY.add("dom-insertion",function(a){a.mix(a.DOM,{insertBefore:function(o,q){if((o=a.get(o))&&(q=a.get(q))&&q.parentNode)q.parentNode.insertBefore(o,q);return o},insertAfter:function(o,q){if((o=a.get(o))&&(q=a.get(q))&&q.parentNode)q.nextSibling?q.parentNode.insertBefore(o,q.nextSibling):q.parentNode.appendChild(o);return o}})});
KISSY.add("event",function(a,o){function q(n,l,e,h,g){if(a.isString(l))l=a.query(l);if(a.isArray(l)){a.each(l,function(i){w[n](i,e,h,g)});return true}if((e=a.trim(e))&&e.indexOf(p)>0){a.each(e.split(p),function(i){w[n](l,i,h,g)});return true}}function j(n,l){b(n)&&f.data(n,v,l)}function b(n){return n&&n.nodeType!==3&&n.nodeType!==8}var d=document,f=a.DOM,c=d.addEventListener?function(n,l,e,h){n.addEventListener&&n.addEventListener(l,e,!!h)}:function(n,l,e){n.attachEvent&&n.attachEvent("on"+l,e)},
m=d.removeEventListener?function(n,l,e,h){n.removeEventListener&&n.removeEventListener(l,e,!!h)}:function(n,l,e){n.detachEvent&&n.detachEvent("on"+l,e)},v="ksEventTargetId",p=" ",t=a.now(),u={},w={EVENT_GUID:v,special:{},add:function(n,l,e,h){if(!q("add",n,l,e,h)){var g=b(n)?f.data(n,v):-1,i,k,r,x,s;if(!(g===-1||!l||!a.isFunction(e))){if(!g){j(n,g=t++);u[g]={target:n,events:{}}}k=u[g].events;if(!k[l]){i=((g=!n.isCustomEventTarget)||n._supportSpecialEvent)&&w.special[l]||{};r=function(y,z){if(!y||
!y.fixed){y=new a.EventObject(n,y,l);a.isPlainObject(z)&&a.mix(y,z)}i.setup&&i.setup(y);return(i.handle||w._handle)(n,y,k[l].listeners)};k[l]={handle:r,listeners:[]};x=i.fix||l;s=i.capture;if(g)c(n,x,r,s);else n._addEvent&&n._addEvent(x,r,s)}k[l].listeners.push({fn:e,scope:h||n})}}},remove:function(n,l,e,h){if(!q("remove",n,l,e,h)){var g=b(n)?f.data(n,v):-1,i,k,r,x,s,y,z;if(g!==-1)if(g&&(i=u[g]))if(i.target===n){h=h||n;i=i.events||{};if(k=i[l]){r=k.listeners;y=r.length;if(a.isFunction(e)&&y){s=x=
0;for(z=[];x<y;++x)if(e!==r[x].fn||h!==r[x].scope)z[s++]=r[x];k.listeners=z;y=z.length}if(e===o||y===0){if(n.isCustomEventTarget)n._addEvent&&n._removeEvent(l,k.handle);else{e=w.special[l]||{};m(n,e.fix||l,k.handle)}delete i[l]}}if(l===o||a.isEmptyObject(i)){for(l in i)w.remove(n,l);delete u[g];f.removeData(n,v)}}}},_handle:function(n,l,e){e=e.slice(0);for(var h,g=0,i=e.length;g<i;++g){h=e[g];h=h.fn.call(h.scope||n,l);if(h===false&&n.isCustomEventTarget||l.isImmediatePropagationStopped)break}return h},
_getCache:function(n){return u[n]},_simpleAdd:c,_simpleRemove:m};w.on=w.add;a.Event=w});
KISSY.add("event-object",function(a,o){function q(d,f,c){this.currentTarget=d;this.originalEvent=f||{};if(f){this.type=f.type;this._fix()}else{this.type=c;this.target=d}this.currentTarget=d;this.fixed=true}var j=document,b="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(q,
{_fix:function(){var d=this.originalEvent,f=b.length,c,m=this.currentTarget;for(m=m.nodeType===9?m:m.ownerDocument||j;f;){c=b[--f];this[c]=d[c]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===o&&this.clientX!==o){d=m.documentElement;f=m.body;this.pageX=this.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||
0)-(d&&d.clientLeft||f&&f.clientLeft||0);this.pageY=this.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0)}if(this.which===o)this.which=this.charCode!==o?this.charCode:this.keyCode;if(this.metaKey===o)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==o)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var d=this.originalEvent;if(d.preventDefault)d.preventDefault();else d.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var d=
this.originalEvent;if(d.stopPropagation)d.stopPropagation();else d.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var d=this.originalEvent;d.stopImmediatePropagation?d.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(d){d?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=q});
KISSY.add("event-target",function(a,o){var q=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(j,b){var d=a.DOM.data(this,q.EVENT_GUID)||-1;if((d=((q._getCache(d)||{}).events||{})[j])&&a.isFunction(d.handle))return d.handle(o,b);return this},on:function(j,b,d){q.add(this,j,b,d);return this},detach:function(j,b,d){q.remove(this,j,b,d);return this}}});
KISSY.add("event-mouseenter",function(a){var o=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){o.special[q.name]={fix:q.fix,setup:function(j){j.type=q.name},handle:function(j,b,d){if(a.DOM._isKSNode(j))j=j[0];var f=b.relatedTarget;try{for(;f&&f!==j;)f=f.parentNode;f!==j&&o._handle(j,b,d)}catch(c){}}}})});
KISSY.add("event-focusin",function(a){var o=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(q){o.special[q.name]={fix:q.fix,capture:true,setup:function(j){j.type=q.name}}})});
KISSY.add("node",function(a){function o(j,b,d){if(!(this instanceof o))return new o(j,b,d);if(j){if(a.isString(j)){j=q.create(j,b,d);if(j.nodeType===11)return new a.NodeList(j.childNodes)}else if(j instanceof o)return j;else j=j;this[0]=j}else this.length=0}var q=a.DOM;o.TYPE="-ks-Node";a.augment(o,{length:1,getDOMNode:function(){return this[0]},nodeType:o.TYPE});a.one=function(j,b){var d=a.get(j,b);return d?new o(d):null};a.Node=o});
KISSY.add("nodelist",function(a){function o(b){if(!(this instanceof o))return new o(b);j.push.apply(this,a.makeArray(b)||[])}var q=a.DOM,j=Array.prototype;a.mix(o.prototype,{length:0,item:function(b){var d=null;if(q._isElementNode(this[b]))d=new a.Node(this[b]);return d},getDOMNodes:function(){return j.slice.call(this)},each:function(b,d){var f=this.length,c=0,m;for(m=new a.Node(this[0]);c<f&&b.call(d||m,m,c,this)!==false;m=new a.Node(this[++c]));return this}});a.all=function(b,d){return new o(a.query(b,
d,true))};a.NodeList=o});
KISSY.add("node-attach",function(a,o){function q(l,e,h,g){l=[this[l?t:p]()].concat(a.makeArray(e));if(e[h]===o)return g.apply(b,l);else{g.apply(b,l);return this}}function j(l,e){a.each(l,function(h){a.each([m,v],function(g,i){g[h]=function(k){switch(e){case u:return function(){return q.call(this,i,arguments,1,k)};case w:return function(){return q.call(this,i,arguments,0,k)};case n:return function(){var r=this[i?t:p]();return(r=k.apply(b,[r].concat(a.makeArray(arguments))))?new (a[a.isArray(r)?"NodeList":
"Node"])(r):null};default:return function(){var r=this[i?t:p]();r=k.apply(b,[r].concat(a.makeArray(arguments)));return r===o?this:r}}}(b[h])})})}var b=a.DOM,d=a.Event,f=b._nodeTypeIs,c=b._isKSNode,m=a.Node.prototype,v=a.NodeList.prototype,p="getDOMNode",t=p+"s",u=1,w=2,n=4;a.mix(m,{one:function(l){return a.one(l,this[0])},all:function(l){return a.all(l,this[0])}});j(["data","removeData"],u);j(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);j(["attr","removeAttr"],u);j(["val","text"],
w);j(["css"],u);j(["width","height"],w);j(["offset"],w);j(["scrollIntoView"]);j(["parent","next","prev","siblings","children"],n);j(["contains"]);j(["html"],w);j(["remove"]);a.each(["insertBefore","insertAfter"],function(l){m[l]=function(e){b[l].call(b,this[0],e);return this}});a.each([m,v],function(l,e){a.mix(l,{append:function(h){h&&a.each(this,function(g){var i;if(e||a.isString(h))i=b.create(h);else{if(f(h,1)||f(h,3))i=h;if(c(h))i=h[0]}g.appendChild(i)});return this},appendTo:function(h){if((h=
a.get(h))&&h.appendChild)a.each(this,function(g){h.appendChild(g)});return this}})});a.each([m,v],function(l){a.mix(l,a.EventTarget);l._supportSpecialEvent=true;l._addEvent=function(e,h,g){for(var i=0,k=this.length;i<k;i++)d._simpleAdd(this[i],e,h,g)};l._removeEvent=function(e,h,g){for(var i=0,k=this.length;i<k;i++)d._simpleRemove(this[i],e,h,g)};delete l.fire})});
KISSY.add("cookie",function(a){var o=document,q=encodeURIComponent,j=decodeURIComponent;a.Cookie={get:function(b){var d;if(a.isString(b)&&b!=="")if(b=o.cookie.match("(?:^| )"+b+"(?:(?:=([^;]*))|;|$)"))d=b[1]?j(b[1]):"";return d},set:function(b,d,f,c,m,v){d=q(d);var p=f;if(typeof p==="number"){p=new Date;p.setTime(p.getTime()+f*864E5)}if(p instanceof Date)d+="; expires="+p.toUTCString();if(a.isString(c)&&c!=="")d+="; domain="+c;if(a.isString(m)&&m!=="")d+="; path="+m;if(v)d+="; secure";o.cookie=b+
"="+d},remove:function(b,d,f,c){this.set(b,"",0,d,f,c)}}});
KISSY.add("json",function(a){function o(p){return p<10?"0"+p:p}function q(p){d.lastIndex=0;return d.test(p)?'"'+p.replace(d,function(t){var u=m[t];return typeof u==="string"?u:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+p+'"'}function j(p,t){var u,w,n,l,e=f,h,g=t[p];if(g&&typeof g==="object"&&typeof g.toJSON==="function")g=g.toJSON(p);if(typeof v==="function")g=v.call(t,p,g);switch(typeof g){case "string":return q(g);case "number":return isFinite(g)?String(g):"null";case "boolean":case "null":return String(g);
case "object":if(!g)return"null";f+=c;h=[];if(Object.prototype.toString.apply(g)==="[object Array]"){l=g.length;for(u=0;u<l;u+=1)h[u]=j(u,g)||"null";n=h.length===0?"[]":f?"[\n"+f+h.join(",\n"+f)+"\n"+e+"]":"["+h.join(",")+"]";f=e;return n}if(v&&typeof v==="object"){l=v.length;for(u=0;u<l;u+=1){w=v[u];if(typeof w==="string")if(n=j(w,g))h.push(q(w)+(f?": ":":")+n)}}else for(w in g)if(Object.hasOwnProperty.call(g,w))if(n=j(w,g))h.push(q(w)+(f?": ":":")+n);n=h.length===0?"{}":f?"{\n"+f+h.join(",\n"+f)+
"\n"+e+"}":"{"+h.join(",")+"}";f=e;return n}}a=a.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,c,m={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;if(typeof a.stringify!=="function")a.stringify=function(p,t,u){var w;c=f="";if(typeof u==="number")for(w=0;w<u;w+=1)c+=" ";else if(typeof u==="string")c=u;if((v=t)&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number"))throw Error("JSON.stringify");return j("",{"":p})};if(typeof a.parse!==
"function")a.parse=function(p,t){function u(n,l){var e,h,g=n[l];if(g&&typeof g==="object")for(e in g)if(Object.hasOwnProperty.call(g,e)){h=u(g,e);if(h!==undefined)g[e]=h;else delete g[e]}return t.call(n,l,g)}var w;p=String(p);b.lastIndex=0;if(b.test(p))p=p.replace(b,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(p.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){w=eval("("+p+")");return typeof t==="function"?u({"":w},""):w}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(a){var o=Math,q=o.PI,j=o.pow,b=o.sin,d=1.70158,f={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(j(2,10*(c-=1))*b((c-0.075)*2*q/0.3))},
elasticOut:function(c){if(c===0||c===1)return c;return j(2,-10*c)*b((c-0.075)*2*q/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*j(2,10*(c-=1))*b((c-0.1125)*2*q/0.45);return j(2,-10*(c-=1))*b((c-0.1125)*2*q/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((d+1)*c-d)},backOut:function(c){return(c-=1)*c*((d+1)*c+d)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((d*=1.525)+1)*c-d);return 0.5*((c-=2)*c*(((d*=1.525)+1)*c+d)+2)},bounceIn:function(c){return 1-
f.bounceOut(1-c)},bounceOut:function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return f.bounceIn(c*2)*0.5;return f.bounceOut(c*2-1)*0.5+0.5}};f.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=f});
KISSY.add("anim",function(a,o){function q(e,h,g,i,k,r){if(e=a.get(e)){if(!(this instanceof q))return new q(e,h,g,i,k,r);var x=a.isPlainObject(g);h=h;this.domEl=e;if(a.isPlainObject(h))h=a.param(h,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var s={},y=u.length,z;t.innerHTML='<div style="'+h+'"></div>';for(e=t.firstChild.style;y--;)if(z=e[u[y]])s[u[y]]=d(z);this.props=s;this.targetStyle=h;if(x)x=a.merge(l,g);else{x=a.clone(l);if(g)x.duration=p(g)||1;if(a.isString(i)||
a.isFunction(i))x.easing=i;if(a.isFunction(k))x.complete=k;if(r!==o)x.nativeSupport=r}this.config=x;if(x.nativeSupport&&j()&&a.isString(i=x.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(i)||(i=v.NativeTimeFunction[i])){x.easing=i;this.transitionName=j()}a.isFunction(k)&&this.on(n,k)}}function j(){var e="transition",h;if(t.style[e]!==o)h=e;else a.each(["Webkit","Moz","O"],function(g){if(t.style[e=g+"Transition"]!==o){h=e;return false}});j=function(){return h};return h}function b(e,h,g){a.UA.ie&&g.indexOf(w)>
-1&&m.css(e,w,h[w].v);e.style.cssText+=";"+g}function d(e){var h=p(e);e=(e+"").replace(/^[-\d.]+/,"");return isNaN(h)?{v:e,u:"",f:c}:{v:h,u:e,f:f}}function f(e,h,g){return(e+(h-e)*g).toFixed(3)}function c(e,h,g){for(var i=2,k,r,x=[],s=[];k=3,r=arguments[i-1],i--;)if(r.substr(0,4)==="rgb(")for(r=r.match(/\d+/g);k--;)x.push(~~r[k]);else if(r.substr(0,1)==="#"){if(r.length===4)r="#"+r.substr(1,1)+r.substr(1,1)+r.substr(2,1)+r.substr(2,1)+r.substr(3,1)+r.substr(3,1);for(;k--;)x.push(parseInt(r.substr(1+
k*2,2),16))}else return h;for(;k--;){i=~~(x[k+3]+(x[k]-x[k+3])*g);s.push(i<0?0:i>255?255:i)}return"rgb("+s.join(",")+")"}var m=a.DOM,v=a.Easing,p=parseFloat,t=m.create("<div>"),u="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
w="opacity",n="complete",l={duration:1,easing:"easeNone",nativeSupport:true};a.augment(q,a.EventTarget,{run:function(){var e=this,h=e.config,g=e.domEl,i,k,r,x,s=e.props,y={},z;for(z in s)y[z]=d(m.css(g,z));if(e.fire("start")!==false){e.stop();if(e.transitionName)e._nativeRun();else{i=h.duration*1E3;r=a.now();x=r+i;k=h.easing;if(a.isString(k))k=v[k]||v.easeNone;e.timer=a.later(h=function(){var A=a.now(),C=A>x?1:(A-r)/i,D,B,E;for(z in s){D=y[z];B=s[z];if(B.v==0)B.u=D.u;if(D.u!==B.u)D.v=0;m.css(g,z,
B.f(D.v,B.v,k(C))+B.u)}if(e.fire("step")===false||(E=A>x)){e.stop();E&&e.fire(n)}},13,true);h()}return e}},_nativeRun:function(){var e=this,h=e.config,g=e.domEl,i=e.props,k=h.duration*1E3;h=h.easing;var r=e.transitionName,x={};x[r+"Property"]="all";x[r+"Duration"]=k+"ms";x[r+"TimingFunction"]=h;m.css(g,x);a.later(function(){b(g,i,e.targetStyle)},0);a.later(function(){e.stop(true)},k)},stop:function(e){if(this.transitionName)this._nativeStop(e);else{if(this.timer){this.timer.cancel();this.timer=o}if(e){b(this.domEl,
this.props,this.targetStyle);this.fire(n)}}return this},_nativeStop:function(e){var h=this.domEl,g=this.transitionName,i=this.props,k;if(e){m.css(h,g+"Property","none");this.fire(n)}else{for(k in i)m.css(h,k,m._getComputedStyle(h,k));m.css(h,g+"Property","none")}}});q.supportTransition=function(){return!!j()};a.Anim=q});
KISSY.add("anim-node-plugin",function(a,o){function q(n,l,e,h,g){if(l==="toggle"){g=j.css(n,d)===f?1:0;l="show"}if(g)j.css(n,d,j.data(n,d)||"");var i={};a.each(w[l],function(k){if(k===c)j.css(n,c,m);else if(k===v){i.opacity=g?1:0;g&&j.css(n,v,0)}else if(k===p){i.height=g?j.css(n,p)||n.naturalHeight:0;g&&j.css(n,p,0)}else if(k===t){i.width=g?j.css(n,t)||n.naturalWidth:0;g&&j.css(n,t,0)}});(new a.Anim(n,i,e,"easeOut",function(){if(!g){var k=n.style,r=k[d];if(r!==f){r&&j.data(n,d,r);k[d]=f}j.css(n,{height:u,
width:u,overflow:u,opacity:1})}h&&a.isFunction(h)&&h()})).run()}var j=a.DOM,b=a.Anim,d="display",f="none",c="overflow",m="hidden",v="opacity",p="height",t="width",u="auto",w={show:[c,v,p,t],fade:[v],slide:[c,p]};a.each([a.Node.prototype,a.NodeList.prototype],function(n){n.animate=function(){var l=a.makeArray(arguments);a.each(this,function(e){b.apply(o,[e].concat(l)).run()});return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(l,e){n[e]=function(h,g){j[e]&&arguments.length===0?j[e](this):a.each(this,function(i){q(i,l[0],h,g,l[1])});return this}})})});
KISSY.add("attribute",function(a,o){function q(){}function j(b){b+="";return b.charAt(0).toUpperCase()+b.substring(1)}a.augment(q,{__initAttrs:function(){if(!this.__attrs){this.__attrs={};this.__attrVals={}}},getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(b,d){this.__initAttrs();this.__attrs[b]=a.clone(d||{});return this},addAttrs:function(b,d){var f=this;a.each(b,function(c,m){if(m in d)c.value=d[m];f.addAttr(m,c)});return f},hasAttr:function(b){return b&&b in(this.__attrs||
{})},removeAttr:function(b){if(this.hasAttr(b)){delete this.__attrs.name;delete this.__attrVals.name}return this},set:function(b,d){var f=this.get(b);if(f!==d)if(false!==this.__fireAttrChange("before",b,f,d)){this.__set(b,d);this.__fireAttrChange("after",b,f,this.__attrVals[b]);return this}},__fireAttrChange:function(b,d,f,c){return this.fire(b+j(d)+"Change",{attrName:d,prevVal:f,newVal:c})},__set:function(b,d){var f,c=this.__attrs[b];if(c=c&&c.setter)f=c.call(this,d);if(f!==o)d=f;this.__attrVals[b]=
d},get:function(b){var d;this.__initAttrs();d=(d=this.__attrs[b])&&d.getter;b=b in this.__attrVals?this.__attrVals[b]:this.__getDefAttrVal(b);if(d)b=d.call(this,b);return b},__getDefAttrVal:function(b){b=this.__attrs[b];var d;if(b){if(d=b.valueFn){d=d.call(this);if(d!==o)b.value=d;delete b.valueFn}return b.value}},reset:function(b){if(this.hasAttr(b))return this.set(b,this.__getDefAttrVal(b));for(b in this.__attrs)this.hasAttr(b)&&this.reset(b);return this}});a.Attribute=q;q.capitalFirst=j});
KISSY.add("base",function(a){function o(b){for(var d=this.constructor,f,c,m=[];d;){if(c=d.ATTRS)for(f in c)c.hasOwnProperty(f)&&!this.hasAttr(f)&&this.addAttr(f,c[f]);var v=d._kissycreate;v=v&&v._exts;c=[];if(v)c=v.concat();(v=d.prototype.init)&&c.push(v);c.length&&m.push.apply(m,c.reverse());if(b&&b[q]&&d.HTML_PARSER){c=b[q];v=d.HTML_PARSER;var p=void 0;for(p in v)if(v.hasOwnProperty(p)){var t=v[p];if(a.isFunction(t))this.__set(p,t.call(this,c));else if(a.isString(t))this.__set(p,c.one(t));else a.isArray(t)&&
t[0]&&this.__set(p,c.all(t[0]))}}d=d.superclass?d.superclass.constructor:null}if(b)for(f in b)b.hasOwnProperty(f)&&this.__set(f,b[f]);for(d=m.length-1;d>=0;d--)m[d]&&m[d].call(this,b);b&&b.autoRender&&this.renderer()}var q="srcNode",j=a.Attribute.capitalFirst;o.HTML_PARSER={};o.ATTRS={rendered:{value:false},render:{setter:function(b){if(a.isString(b))return a.one(b)}}};a.augment(o,a.EventTarget,a.Attribute,{renderer:function(b){var d=this.get("rendered");b=b||this.get("render");if(!d){this.renderUI(b);
this.bindUI();this.syncUI();this.set("rendered",true)}},renderUI:function(){this.fire("renderUI")},bindUI:function(){var b=this,d=b.getDefAttrs(),f;for(f in d)if(d.hasOwnProperty(f)){var c="_uiSet"+j(f);b[c]&&function(m,v){b.on("after"+j(m)+"Change",function(p){b[v](p.newVal)})}(f,c)}b.fire("bindUI")},syncUI:function(){var b=this.getDefAttrs(),d;for(d in b)if(b.hasOwnProperty(d)){var f="_uiSet"+j(d);this[f]&&this[f](this.get(d))}this.fire("syncUI")},destroy:function(){for(var b=this.constructor;b;){var d=
b._kissycreate;d=d&&d._exts;var f=b.prototype.destructor;f&&f.apply(this);if(d)for(var c=d.length-1;c>=0;c--)(f=d[c]&&d[c].prototype.__destructor)&&f.apply(this);b=b.superclass?b.superclass.constructor:null}this.fire("destroy");this.detach()}});o.create=function(b,d,f,c){function m(){o.apply(this,arguments)}if(a.isArray(b)){c=f;f=d;d=b;b=o}b=b||o;a.extend(m,b,f,c);if(d){m._kissycreate=m._kissycreate||{};m._kissycreate._exts=d;for(b=0;b<d.length;b++){c=(f=d[b])&&f.ATTRS;var v=f&&f.HTML_PARSER;if(c){m.ATTRS=
m.ATTRS||{};a.mix(m.ATTRS,c,false)}if(v){m.HTML_PARSER=m.HTML_PARSER||{};a.mix(m.HTML_PARSER,v,false)}f&&a.augment(m,f)}}return m};a.Base=o});KISSY.add("core");
