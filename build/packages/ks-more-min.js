/*
Copyright 2010, KISSY UI Library v1.1.0pre
MIT Licensed
build time: ${build.time}
*/
KISSY.add("json",function(h){function x(b){return b<10?"0"+b:b}function s(b){l.lastIndex=0;return l.test(b)?'"'+b.replace(l,function(d){var f=o[d];return typeof f==="string"?f:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function r(b,d){var f,p,v=k,t,a=d[b];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(b);if(typeof j==="function")a=j.call(d,b,a);switch(typeof a){case "string":return s(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";k+=e;t=[];if(Object.prototype.toString.apply(a)==="[object Array]"){p=a.length;for(b=0;b<p;b+=1)t[b]=r(b,a)||"null";d=t.length===0?"[]":k?"[\n"+k+t.join(",\n"+k)+"\n"+v+"]":"["+t.join(",")+"]";k=v;return d}if(j&&typeof j==="object"){p=j.length;for(b=0;b<p;b+=1){f=j[b];if(typeof f==="string")if(d=r(f,a))t.push(s(f)+(k?": ":":")+d)}}else for(f in a)if(Object.hasOwnProperty.call(a,f))if(d=r(f,a))t.push(s(f)+(k?": ":":")+d);d=t.length===0?"{}":k?"{\n"+k+t.join(",\n"+k)+
"\n"+v+"}":"{"+t.join(",")+"}";k=v;return d}}h=h.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+x(this.getUTCMonth()+1)+"-"+x(this.getUTCDate())+"T"+x(this.getUTCHours())+":"+x(this.getUTCMinutes())+":"+x(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var q=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,e,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;if(typeof h.stringify!=="function")h.stringify=function(b,d,f){var p;e=k="";if(typeof f==="number")for(p=0;p<f;p+=1)e+=" ";else if(typeof f==="string")e=f;if((j=d)&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number"))throw new Error("JSON.stringify");return r("",
{"":b})};if(typeof h.parse!=="function")h.parse=function(b,d){function f(p,v){var t,a,c=p[v];if(c&&typeof c==="object")for(t in c)if(Object.hasOwnProperty.call(c,t)){a=f(c,t);if(a!==undefined)c[t]=a;else delete c[t]}return d.call(p,v,c)}b=String(b);q.lastIndex=0;if(q.test(b))b=b.replace(q,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){b=eval("("+b+")");return typeof d==="function"?f({"":b},""):b}throw new SyntaxError("JSON.parse");}});
(function(){function h(a,c,g,i,n,m){n=0;for(var w=i.length;n<w;n++){var u=i[n];if(u){u=u[a];for(var y=false;u;){if(u.sizcache===g){y=i[u.sizset];break}if(u.nodeType===1&&!m){u.sizcache=g;u.sizset=n}if(u.nodeName.toLowerCase()===c){y=u;break}u=u[a]}i[n]=y}}}function x(a,c,g,i,n,m){n=0;for(var w=i.length;n<w;n++){var u=i[n];if(u){u=u[a];for(var y=false;u;){if(u.sizcache===g){y=i[u.sizset];break}if(u.nodeType===1){if(!m){u.sizcache=g;u.sizset=n}if(typeof c!=="string"){if(u===c){y=true;break}}else if(e.filter(c,
[u]).length>0){y=u;break}}u=u[a]}i[n]=y}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=0,q=Object.prototype.toString,l=false,k=true;[0,0].sort(function(){k=false;return 0});var e=function(a,c,g,i){g=g||[];var n=c=c||document;if(c.nodeType!==1&&c.nodeType!==9)return[];if(!a||typeof a!=="string")return g;var m=[],w,u,y,C,D=true,B=e.isXML(c),z=a,A;do{s.exec("");if(w=s.exec(z)){z=w[3];m.push(w[1]);if(w[2]){C=
w[3];break}}}while(w);if(m.length>1&&j.exec(a))if(m.length===2&&o.relative[m[0]])u=t(m[0]+m[1],c);else for(u=o.relative[m[0]]?[c]:e(m.shift(),c);m.length;){a=m.shift();if(o.relative[a])a+=m.shift();u=t(a,u)}else{if(!i&&m.length>1&&c.nodeType===9&&!B&&o.match.ID.test(m[0])&&!o.match.ID.test(m[m.length-1])){w=e.find(m.shift(),c,B);c=w.expr?e.filter(w.expr,w.set)[0]:w.set[0]}if(c){w=i?{expr:m.pop(),set:f(i)}:e.find(m.pop(),m.length===1&&(m[0]==="~"||m[0]==="+")&&c.parentNode?c.parentNode:c,B);u=w.expr?
e.filter(w.expr,w.set):w.set;if(m.length>0)y=f(u);else D=false;for(;m.length;){w=A=m.pop();if(o.relative[A])w=m.pop();else A="";if(w==null)w=c;o.relative[A](y,w,B)}}else y=[]}y||(y=u);y||e.error(A||a);if(q.call(y)==="[object Array]")if(D)if(c&&c.nodeType===1)for(a=0;y[a]!=null;a++){if(y[a]&&(y[a]===true||y[a].nodeType===1&&e.contains(c,y[a])))g.push(u[a])}else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&g.push(u[a]);else g.push.apply(g,y);else f(y,g);if(C){e(C,n,g,i);e.uniqueSort(g)}return g};
e.uniqueSort=function(a){if(v){l=k;a.sort(v);if(l)for(var c=1;c<a.length;c++)a[c]===a[c-1]&&a.splice(c--,1)}return a};e.matches=function(a,c){return e(a,null,null,c)};e.find=function(a,c,g){var i;if(!a)return[];for(var n=0,m=o.order.length;n<m;n++){var w=o.order[n],u;if(u=o.leftMatch[w].exec(a)){var y=u[1];u.splice(1,1);if(y.substr(y.length-1)!=="\\"){u[1]=(u[1]||"").replace(/\\/g,"");i=o.find[w](u,c,g);if(i!=null){a=a.replace(o.match[w],"");break}}}}i||(i=c.getElementsByTagName("*"));return{set:i,
expr:a}};e.filter=function(a,c,g,i){for(var n=a,m=[],w=c,u,y,C=c&&c[0]&&e.isXML(c[0]);a&&c.length;){for(var D in o.filter)if((u=o.leftMatch[D].exec(a))!=null&&u[2]){var B=o.filter[D],z,A;A=u[1];y=false;u.splice(1,1);if(A.substr(A.length-1)!=="\\"){if(w===m)m=[];if(o.preFilter[D])if(u=o.preFilter[D](u,w,g,m,i,C)){if(u===true)continue}else y=z=true;if(u)for(var E=0;(A=w[E])!=null;E++)if(A){z=B(A,u,E,w);var F=i^!!z;if(g&&z!=null)if(F)y=true;else w[E]=false;else if(F){m.push(A);y=true}}if(z!==undefined){g||
(w=m);a=a.replace(o.match[D],"");if(!y)return[];break}}}if(a===n)if(y==null)e.error(a);else break;n=a}return w};e.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var o=e.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,c){var g=typeof c==="string",i=g&&!/\W/.test(c);g=g&&!i;if(i)c=c.toLowerCase();i=0;for(var n=a.length,m;i<n;i++)if(m=a[i]){for(;(m=m.previousSibling)&&m.nodeType!==1;);a[i]=g||m&&m.nodeName.toLowerCase()===
c?m||false:m===c}g&&e.filter(c,a,true)},">":function(a,c){var g=typeof c==="string",i,n=0,m=a.length;if(g&&!/\W/.test(c))for(c=c.toLowerCase();n<m;n++){if(i=a[n]){g=i.parentNode;a[n]=g.nodeName.toLowerCase()===c?g:false}}else{for(;n<m;n++)if(i=a[n])a[n]=g?i.parentNode:i.parentNode===c;g&&e.filter(c,a,true)}},"":function(a,c,g){var i=r++,n=x,m;if(typeof c==="string"&&!/\W/.test(c)){m=c=c.toLowerCase();n=h}n("parentNode",c,i,a,m,g)},"~":function(a,c,g){var i=r++,n=x,m;if(typeof c==="string"&&!/\W/.test(c)){m=
c=c.toLowerCase();n=h}n("previousSibling",c,i,a,m,g)}},find:{ID:function(a,c,g){if(typeof c.getElementById!=="undefined"&&!g)return(a=c.getElementById(a[1]))?[a]:[]},NAME:function(a,c){if(typeof c.getElementsByName!=="undefined"){var g=[];c=c.getElementsByName(a[1]);for(var i=0,n=c.length;i<n;i++)c[i].getAttribute("name")===a[1]&&g.push(c[i]);return g.length===0?null:g}},TAG:function(a,c){return c.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,c,g,i,n,m){a=" "+a[1].replace(/\\/g,"")+" ";
if(m)return a;m=0;for(var w;(w=c[m])!=null;m++)if(w)if(n^(w.className&&(" "+w.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))g||i.push(w);else if(g)c[m]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var c=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=c[1]+(c[2]||1)-0;a[3]=c[3]-0}a[0]=r++;return a},ATTR:function(a,c,g,i,n,m){c=
a[1].replace(/\\/g,"");if(!m&&o.attrMap[c])a[1]=o.attrMap[c];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,c,g,i,n){if(a[1]==="not")if((s.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=e(a[3],null,null,c);else{a=e.filter(a[3],c,g,true^n);g||i.push.apply(i,a);return false}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,c,g){return!!e(g[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,c){return c===0},last:function(a,c,g,i){return c===i.length-1},even:function(a,c){return c%2===0},odd:function(a,c){return c%2===1},lt:function(a,c,g){return c<g[3]-0},gt:function(a,c,g){return c>g[3]-0},nth:function(a,c,g){return g[3]-
0===c},eq:function(a,c,g){return g[3]-0===c}},filter:{PSEUDO:function(a,c,g,i){var n=c[1],m=o.filters[n];if(m)return m(a,g,c,i);else if(n==="contains")return(a.textContent||a.innerText||e.getText([a])||"").indexOf(c[3])>=0;else if(n==="not"){c=c[3];g=0;for(i=c.length;g<i;g++)if(c[g]===a)return false;return true}else e.error("Syntax error, unrecognized expression: "+n)},CHILD:function(a,c){var g=c[1],i=a;switch(g){case "only":case "first":for(;i=i.previousSibling;)if(i.nodeType===1)return false;if(g===
"first")return true;i=a;case "last":for(;i=i.nextSibling;)if(i.nodeType===1)return false;return true;case "nth":g=c[2];var n=c[3];if(g===1&&n===0)return true;c=c[0];var m=a.parentNode;if(m&&(m.sizcache!==c||!a.nodeIndex)){var w=0;for(i=m.firstChild;i;i=i.nextSibling)if(i.nodeType===1)i.nodeIndex=++w;m.sizcache=c}a=a.nodeIndex-n;return g===0?a===0:a%g===0&&a/g>=0}},ID:function(a,c){return a.nodeType===1&&a.getAttribute("id")===c},TAG:function(a,c){return c==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
c},CLASS:function(a,c){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(c)>-1},ATTR:function(a,c){var g=c[1];a=o.attrHandle[g]?o.attrHandle[g](a):a[g]!=null?a[g]:a.getAttribute(g);g=a+"";var i=c[2];c=c[4];return a==null?i==="!=":i==="="?g===c:i==="*="?g.indexOf(c)>=0:i==="~="?(" "+g+" ").indexOf(c)>=0:!c?g&&a!==false:i==="!="?g!==c:i==="^="?g.indexOf(c)===0:i==="$="?g.substr(g.length-c.length)===c:i==="|="?g===c||g.substr(0,c.length+1)===c+"-":false},POS:function(a,c,g,i){var n=o.setFilters[c[2]];
if(n)return n(a,g,c,i)}}},j=o.match.POS,b=function(a,c){return"\\"+(c-0+1)};for(var d in o.match){o.match[d]=new RegExp(o.match[d].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[d]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[d].source.replace(/\\(\d+)/g,b))}var f=function(a,c){a=Array.prototype.slice.call(a,0);if(c){c.push.apply(c,a);return c}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(p){f=function(a,c){c=c||[];var g=0;if(q.call(a)==="[object Array]")Array.prototype.push.apply(c,
a);else if(typeof a.length==="number")for(var i=a.length;g<i;g++)c.push(a[g]);else for(;a[g];g++)c.push(a[g]);return c}}var v;if(document.documentElement.compareDocumentPosition)v=function(a,c){if(!a.compareDocumentPosition||!c.compareDocumentPosition){if(a==c)l=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(c)&4?-1:a===c?0:1;if(a===0)l=true;return a};else if("sourceIndex"in document.documentElement)v=function(a,c){if(!a.sourceIndex||!c.sourceIndex){if(a==c)l=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-c.sourceIndex;if(a===0)l=true;return a};else if(document.createRange)v=function(a,c){if(!a.ownerDocument||!c.ownerDocument){if(a==c)l=true;return a.ownerDocument?-1:1}var g=a.ownerDocument.createRange(),i=c.ownerDocument.createRange();g.setStart(a,0);g.setEnd(a,0);i.setStart(c,0);i.setEnd(c,0);a=g.compareBoundaryPoints(Range.START_TO_END,i);if(a===0)l=true;return a};e.getText=function(a){for(var c="",g,i=0;a[i];i++){g=a[i];if(g.nodeType===3||g.nodeType===4)c+=g.nodeValue;else if(g.nodeType!==
8)c+=e.getText(g.childNodes)}return c};(function(){var a=document.createElement("div"),c="script"+(new Date).getTime();a.innerHTML="<a name='"+c+"'/>";var g=document.documentElement;g.insertBefore(a,g.firstChild);if(document.getElementById(c)){o.find.ID=function(i,n,m){if(typeof n.getElementById!=="undefined"&&!m)return(n=n.getElementById(i[1]))?n.id===i[1]||typeof n.getAttributeNode!=="undefined"&&n.getAttributeNode("id").nodeValue===i[1]?[n]:undefined:[]};o.filter.ID=function(i,n){var m=typeof i.getAttributeNode!==
"undefined"&&i.getAttributeNode("id");return i.nodeType===1&&m&&m.nodeValue===n}}g.removeChild(a);g=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)o.find.TAG=function(c,g){g=g.getElementsByTagName(c[1]);if(c[1]==="*"){c=[];for(var i=0;g[i];i++)g[i].nodeType===1&&c.push(g[i]);g=c}return g};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")o.attrHandle.href=function(c){return c.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=e,c=document.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!(c.querySelectorAll&&c.querySelectorAll(".TEST").length===0)){e=function(i,n,m,w){n=n||document;if(!w&&n.nodeType===9&&!e.isXML(n))try{return f(n.querySelectorAll(i),m)}catch(u){}return a(i,n,m,w)};for(var g in a)e[g]=a[g];c=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(c,g,i){if(typeof g.getElementsByClassName!=="undefined"&&!i)return g.getElementsByClassName(c[1])};a=null}}})();e.contains=document.compareDocumentPosition?function(a,c){return!!(a.compareDocumentPosition(c)&16)}:function(a,c){return a!==c&&(a.contains?a.contains(c):true)};e.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var t=function(a,c){var g=[],i="",n;for(c=c.nodeType?[c]:c;n=o.match.PSEUDO.exec(a);){i+=n[0];a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;n=0;for(var m=c.length;n<m;n++)e(a,c[n],g);return e.filter(i,g)};KISSY.ExternalSelector=e;KISSY.ExternalSelector._filter=function(a,c){return e.matches(c,KISSY.query(a))}})();
KISSY.add("anim-easing",function(h){var x=Math,s=x.PI,r=x.pow,q=x.sin,l=1.70158,k={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(r(2,10*(e-=1))*q((e-0.075)*2*s/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return r(2,-10*e)*q((e-0.075)*2*s/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*r(2,10*(e-=1))*q((e-0.1125)*2*s/0.45);return r(2,-10*(e-=1))*q((e-0.1125)*2*s/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((l+1)*e-l)},backOut:function(e){return(e-=1)*e*((l+1)*e+l)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((l*=1.525)+1)*e-l);return 0.5*((e-=2)*e*(((l*=1.525)+1)*e+l)+2)},bounceIn:function(e){return 1-
k.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return k.bounceIn(e*2)*0.5;return k.bounceOut(e*2-1)*0.5+0.5}};h.Easing=k});
KISSY.add("anim",function(h,x){function s(t,a,c,g,i){if(t=h.get(t)){if(!(this instanceof s))return new s(t,a,c,g,i);var n=h.isPlainObject(c);a=a;this.domEl=t;if(h.isPlainObject(a))a=h.param(a,";").replace(/=/g,":");this.props=r(a);this.targetStyle=a;if(n)t=h.merge(v,c);else{t=h.clone(v);c&&(t.duration=b(c,10)||1);h.isString(g)&&(g=j[g]);h.isFunction(g)&&(t.easing=g);h.isFunction(i)&&(t.complete=i)}this.config=t;h.isFunction(i)&&this.on(p,i)}}function r(t){var a={},c=f.length,g;d.innerHTML='<div style="'+
t+'"></div>';for(t=d.childNodes[0].style;c--;)if(g=t[f[c]])a[f[c]]=q(g);return a}function q(t){var a=b(t);t=(t+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:t,u:"",f:k}:{v:a,u:t,f:l}}function l(t,a,c){return(t+(a-t)*c).toFixed(3)}function k(t,a,c){for(var g=2,i,n,m=[],w=[];i=3,n=arguments[g-1],g--;)if(e(n,0,4)==="rgb(")for(n=n.match(/\d+/g);i--;)m.push(~~n[i]);else if(e(n,0)==="#"){if(n.length===4)n="#"+e(n,1)+e(n,1)+e(n,2)+e(n,2)+e(n,3)+e(n,3);for(;i--;)m.push(parseInt(e(n,1+i*2,2),16))}else return a;
for(;i--;){g=~~(m[i+3]+(m[i]-m[i+3])*c);w.push(g<0?0:g>255?255:g)}return"rgb("+w.join(",")+")"}function e(t,a,c){return t.substr(a,c||1)}var o=h.DOM,j=h.Easing,b=parseFloat,d=o.create("<div>"),f="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
p="complete",v={duration:1,easing:j.easeNone};h.augment(s,h.EventTarget,{run:function(){var t=this,a=t.config,c=t.domEl,g=a.duration*1E3,i=a.easing,n=h.now(),m=n+g,w=t.props,u={},y;for(y in w)u[y]=q(o.css(c,y));if(t.fire("start")!==false){t.stop();t.timer=h.later(a=function(){var C=h.now(),D=C>m?1:(C-n)/g,B,z,A;for(y in w){B=u[y];z=w[y];if(B.u!==z.u)B.v=0;o.css(c,y,z.f(B.v,z.v,i(D))+z.u)}if(t.fire("step")===false||(A=C>m)){t.stop();A&&t.fire(p)}},13,true);a();return t}},stop:function(t){var a=this.domEl,
c=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=x}if(t){h.UA.ie&&c.indexOf("opacity")>-1&&o.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+c;this.fire(p)}return this}});h.Anim=s});KISSY.add("anim-node-plugin",function(h,x){var s=h.Anim;h.each([h.Node.prototype,h.NodeList.prototype],function(r){r.animate=function(){var q=h.makeArray(arguments);h.each(this,function(l){s.apply(x,[l].concat(q)).run()});return this}})});
KISSY.add("datalazyload",function(h,x){function s(d,f){if(!(this instanceof s))return new s(d,f);if(f===x){f=d;d=[k]}h.isArray(d)||(d=[h.get(d)||k]);this.containers=d;this.config=h.merge(b,f);this._init()}var r=h.DOM,q=h.Event,l=window,k=document,e={AUTO:"auto",MANUAL:"manual"},o="scroll",j="resize",b={mod:e.MANUAL,diff:"default",placeholder:"none"};h.augment(s,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var d=
this.containers,f,p,v,t=[],a=[];f=0;for(p=d.length;f<p;++f){v=h.query("img",d[f]);t=t.concat(h.filter(v,this._filterImg,this));v=h.query("textarea",d[f]);a=a.concat(h.filter(v,this._filterArea,this))}this.images=t;this.areas=a},_filterImg:function(d){var f=d.getAttribute("data-lazyload-src"),p=this.threshold,v=this.config.placeholder;if(this.config.mod===e.MANUAL){if(f){if(v!=="none")d.src=v;return true}}else if(r.offset(d).top>p&&!f){r.attr(d,"data-lazyload-src",d.src);if(v!=="none")d.src=v;else d.removeAttribute("src");
return true}},_filterArea:function(d){return r.hasClass(d,"ks-datalazyload")},_initLoadEvent:function(){function d(){p||(p=setTimeout(function(){f();p=null},100))}function f(){v._loadItems();if(v._getItemsLength()===0){q.remove(l,o,d);q.remove(l,j,d)}}var p,v=this;q.on(l,o,d);q.on(l,j,function(){v.threshold=v._getThreshold();d()});v._getItemsLength()&&h.ready(function(){f()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=h.filter(this.images,this._loadImg,
this)},_loadImg:function(d){var f=this.threshold+r.scrollTop();if(r.offset(d).top<=f)this._loadImgSrc(d);else return true},_loadImgSrc:function(d,f){f=f||"data-lazyload-src";var p=d.getAttribute(f);if(p&&d.src!=p){d.src=p;d.removeAttribute(f)}},_loadAreas:function(){this.areas=h.filter(this.areas,this._loadArea,this)},_loadArea:function(d){var f=r.offset(d).top;if(!f&&r.css(d,"none")=="none")f=r.offset(d.parentNode).top;if(f<=this.threshold+r.scrollTop())this._loadAreaData(d.parentNode,d);else return true},
_loadAreaData:function(d,f){f.style.display="none";f.className="";var p=r.create("<div>");d.insertBefore(p,f);r.html(p,f.value,true)},_getThreshold:function(){var d=this.config.diff,f=r.viewportHeight();return d==="default"?2*f:f+d},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(d,f,p){var v=this,t,a;h.isArray(d)||(d=[h.get(d)]);h.each(d,function(c){switch(f){case "textarea-data":if((t=h.get("textarea",c))&&r.hasClass(t,p||"ks-datalazyload-custom"))v._loadAreaData(c,
t);break;default:a=c.nodeName==="IMG"?[c]:h.query("img",c);h.each(a,function(g){v._loadImgSrc(g,p||"data-lazyload-src-custom")})}})}});h.mix(s,s.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);h.DataLazyload=s});
KISSY.add("switchable",function(h,x){function s(l,k){k=k||{};if(!("markupType"in k))if(k.panelCls)k.markupType=1;else if(k.panels)k.markupType=2;k=h.merge(s.Config,k);this.container=h.get(l);this.config=k;this.activeIndex=k.activeIndex;this._init()}var r=h.DOM,q=h.Event;s.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"active",steps:1,viewSize:[]};s.Plugins=[];h.augment(s,h.EventTarget,{_init:function(){var l=this,k=l.config;if(l.fire("beforeInit")!==false){l._parseMarkup();k.hasTriggers&&l._bindTriggers();h.each(s.Plugins,function(e){e.init&&e.init(l)});l.fire("init")}},_parseMarkup:function(){var l=this.container,k=this.config,e,o=[],j=[];switch(k.markupType){case 0:if(e=h.get("."+k.navCls,l))o=r.children(e);e=h.get("."+k.contentCls,l);j=r.children(e);break;case 1:o=h.query("."+k.triggerCls,
l);j=h.query("."+k.panelCls,l);break;case 2:o=k.triggers;j=k.panels;break}l=j.length;this.length=l/k.steps;if(k.hasTriggers&&l>0&&o.length===0)o=this._generateTriggersMarkup(this.length);this.triggers=h.makeArray(o);this.panels=h.makeArray(j);this.content=e||j[0].parentNode},_generateTriggersMarkup:function(l){var k=this.config,e=r.create("<ul>"),o,j;e.className=k.navCls;for(j=0;j<l;j++){o=r.create("<li>");if(j===this.activeIndex)o.className=k.activeTriggerCls;o.innerHTML=j+1;e.appendChild(o)}this.container.appendChild(e);
return r.children(e)},_bindTriggers:function(){var l=this,k=l.config,e=l.triggers,o,j,b=e.length;for(j=0;j<b;j++)(function(d){o=e[d];q.on(o,"click focus",function(){l._onFocusTrigger(d)});if(k.triggerType==="mouse"){q.on(o,"mouseenter",function(){l._onMouseEnterTrigger(d)});q.on(o,"mouseleave",function(){l._onMouseLeaveTrigger(d)})}})(j)},_onFocusTrigger:function(l){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(l)}},_onMouseEnterTrigger:function(l){var k=this;if(k._triggerIsValid())k.switchTimer=
h.later(function(){k.switchTo(l)},k.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(l){return this.activeIndex!==l},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=x}},switchTo:function(l,k){var e=this.config,o=this.triggers,j=this.panels,b=this.activeIndex,d=e.steps,f=b*d,p=l*d;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:l})===false)return this;if(e.hasTriggers)this._switchTrigger(b>
-1?o[b]:null,o[l]);if(k===x)k=l>b?"forward":"backward";this._switchView(j.slice(f,f+d),j.slice(p,p+d),l,k);this.activeIndex=l;return this},_switchTrigger:function(l,k){var e=this.config.activeTriggerCls;l&&r.removeClass(l,e);r.addClass(k,e)},_switchView:function(l,k,e){r.css(l,"display","none");r.css(k,"display","block");this._fireOnSwitch(e)},_fireOnSwitch:function(l){this.fire("switch",{currentIndex:l})},prev:function(){var l=this.activeIndex;this.switchTo(l>0?l-1:this.length-1,"backward")},next:function(){var l=
this.activeIndex;this.switchTo(l<this.length-1?l+1:0,"forward")}});h.Switchable=s});
KISSY.add("switchable-autoplay",function(h,x){var s=h.Event,r=h.Switchable;h.mix(r.Config,{autoplay:false,interval:5,pauseOnHover:true});r.Plugins.push({name:"autoplay",init:function(q){var l=q.config,k=l.interval*1E3,e;if(l.autoplay){if(l.pauseOnHover){s.on(q.container,"mouseenter",function(){if(e){e.cancel();e=x}q.paused=true});s.on(q.container,"mouseleave",function(){e=h.later(function(){q.paused=false;e=x},k)})}q.autoplayTimer=h.later(function(){q.paused||q.switchTo(q.activeIndex<q.length-1?q.activeIndex+
1:0,"forward")},k,true)}}})});
KISSY.add("switchable-effect",function(h,x){var s=h.DOM,r=h.Anim,q=h.Switchable,l;h.mix(q.Config,{effect:"none",duration:0.5,easing:"easeNone"});q.Effects={none:function(k,e,o){s.css(k,"display","none");s.css(e,"display","block");o()},fade:function(k,e,o){k.length!==1&&h.error("fade effect only supports steps == 1.");var j=this,b=j.config,d=k[0],f=e[0];j.anim&&j.anim.stop(true);s.css(f,"opacity",1);j.anim=(new r(d,{opacity:0},b.duration,b.easing,function(){j.anim=x;s.css(f,"z-index",9);s.css(d,"z-index",
1);o()})).run()},scroll:function(k,e,o,j){var b=this;k=b.config;e=k.effect==="scrollx";var d={};d[e?"left":"top"]=-(b.viewSize[e?0:1]*j)+"px";b.anim&&b.anim.stop();b.anim=(new r(b.content,d,k.duration,k.easing,function(){b.anim=x;o()})).run()}};l=q.Effects;l.scrollx=l.scrolly=l.scroll;q.Plugins.push({name:"effect",init:function(k){var e=k.config,o=e.effect,j=k.panels,b=k.content,d=e.steps,f=k.activeIndex,p=j.length;k.viewSize=[e.viewSize[0]||j[0].offsetWidth*d,e.viewSize[1]||j[0].offsetHeight*d];
if(o!=="none"){h.each(j,function(c){s.css(c,"display","block")});switch(o){case "scrollx":case "scrolly":s.css(b,"position","absolute");s.css(b.parentNode,"position","relative");if(o==="scrollx"){s.css(j,"float","left");s.width(b,k.viewSize[0]*(p/d))}break;case "fade":var v=f*d,t=v+d-1,a;h.each(j,function(c,g){a=g>=v&&g<=t;s.css(c,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});h.augment(q,{_switchView:function(k,e,o,j){var b=this,d=b.config.effect;(h.isFunction(d)?d:l[d]).call(b,k,
e,function(){b._fireOnSwitch(o)},o,j)}})});
KISSY.add("switchable-circular",function(h,x){function s(a,c,g,i,n){var m=this;a=m.config;c=m.length;var w=m.activeIndex,u=a.scrollType===v,y=u?o:j,C=m.viewSize[u?0:1];u=-C*i;var D={},B,z=n===p;if(B=z&&w===0&&i===c-1||n===f&&w===c-1&&i===0)u=r.call(m,m.panels,i,z,y,C);D[y]=u+d;m.anim&&m.anim.stop();m.anim=(new h.Anim(m.content,D,a.duration,a.easing,function(){B&&q.call(m,m.panels,i,z,y,C);m.anim=x;g()})).run()}function r(a,c,g,i,n){var m=this.config.steps;c=this.length;var w=g?c-1:0,u=(w+1)*m;for(m=
w*m;m<u;m++){l.css(a[m],k,e);l.css(a[m],i,(g?-1:1)*n*c)}return g?n:-n*c}function q(a,c,g,i,n){var m=this.config.steps;c=this.length;var w=g?c-1:0,u=(w+1)*m;for(m=w*m;m<u;m++){l.css(a[m],k,b);l.css(a[m],i,b)}l.css(this.content,i,g?-n*(c-1):b)}var l=h.DOM,k="position",e="relative",o="left",j="top",b="",d="px",f="forward",p="backward",v="scrollx",t=h.Switchable;h.mix(t.Config,{circular:false});t.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===v||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=s}}})});
KISSY.add("switchable-lazyload",function(h){var x=h.DOM,s="beforeSwitch",r="img-src",q="textarea-data",l={},k=h.Switchable;l[r]="data-lazyload-src-custom";l[q]="ks-datalazyload-custom";h.mix(k.Config,{lazyDataType:"",lazyDataFlag:""});k.Plugins.push({name:"lazyload",init:function(e){function o(v){var t=d.steps;v=v.toIndex*t;b.loadCustomLazyData(e.panels.slice(v,v+t),f,p);j()&&e.detach(s,o)}function j(){var v,t,a,c=f===r;if(v=c?"img":f===q?"textarea":""){v=h.query(v,e.container);t=0;for(a=v.length;t<
a;t++)if(c?x.attr(v[t],p):x.hasClass(v[t],p))return false}return true}var b=h.DataLazyload,d=e.config,f=d.lazyDataType,p=d.lazyDataFlag||l[f];!b||!f||!p||e.on(s,o)}})});KISSY.add("tabs",function(h){function x(s,r){if(!(this instanceof x))return new x(s,r);x.superclass.constructor.call(this,s,r)}h.extend(x,h.Switchable);h.Tabs=x});
KISSY.add("slide",function(h){function x(r,q){if(!(this instanceof x))return new x(r,q);x.superclass.constructor.call(this,r,h.merge(s,q))}var s={autoplay:true,circular:true};h.extend(x,h.Switchable);h.Slide=x});
KISSY.add("carousel",function(h,x){function s(b,d){var f=this;if(!(f instanceof s))return new s(b,d);f.on("init",function(){r(f)});s.superclass.constructor.call(f,b,h.merge(j,d))}function r(b){var d=b.config,f=d.disableBtnCls;h.each(["prev","next"],function(p){var v=b[p+"Btn"]=h.get(k+d[p+"BtnCls"],b.container);l.on(v,"click",function(t){t.preventDefault();q.hasClass(v,f)||b[p]()})});d.circular||b.on("switch",function(p){p=p.currentIndex;p=p===0?b[e]:p===b.length-1?b[o]:x;q.removeClass([b[e],b[o]],
f);p&&q.addClass(p,f)});l.on(b.panels,"click focus",function(){b.fire("itemSelected",{item:this})})}var q=h.DOM,l=h.Event,k=".",e="prevBtn",o="nextBtn",j={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};h.extend(s,h.Switchable);h.Carousel=s});
KISSY.add("accordion",function(h){function x(q,l){if(!(this instanceof x))return new x(q,l);x.superclass.constructor.call(this,q,h.merge(r,l))}var s=h.DOM,r={triggerType:"click",multiple:false};h.extend(x,h.Switchable);h.Accordion=x;h.augment(x,{_triggerIsValid:function(q){return this.activeIndex!==q||this.config.multiple},_switchView:function(q,l,k){var e=this.config,o=l[0];if(e.multiple){s.toggleClass(this.triggers[k],e.activeTriggerCls);s.css(o,"display",o.style.display=="none"?"block":"none");
this._fireOnSwitch(k)}else x.superclass._switchView.call(this,q,l,k)}})});
KISSY.add("suggest",function(h,x){function s(b,d,f){if(!(this instanceof s))return new s(b,d,f);this.textInput=h.get(b);this.dataSource=d;this.JSONDataSource=h.isPlainObject(d)?d:null;this.returnedData=null;this.config=h.merge(j,f||{});this.container=null;this.queryParams=this.query="";this._timer=null;this._isRunning=false;this.dataScript=null;this._dataCache={};this._latestScriptTime="";this._onKeyboardSelecting=this._scriptDataIsOut=false;this.selectedItem=null;this._init()}var r=h.DOM,q=h.Event,
l=window,k=document,e=k.getElementsByTagName("head")[0],o=h.UA.ie,j={containerCls:"",containerWidth:"",resultFormat:"\u7ea6%result%\u6761\u7ed3\u679c",showCloseBtn:false,closeBtnText:"\u5173\u95ed",useShim:o===6,timerDelay:200,autoFocus:false,submitFormOnClickSelect:true};h.augment(s,h.EventTarget,{_init:function(){this._initTextInput();this._initContainer();this.config.useShim&&this._initShim();this._initStyle();this._initResizeEvent()},_initTextInput:function(){var b=this;b.textInput.setAttribute("autocomplete",
"off");q.on(b.textInput,"blur",function(){b.stop();b.hide()});b.config.autoFocus&&b.textInput.focus();var d=0;q.on(b.textInput,"keydown",function(f){f=f.keyCode;switch(f){case 27:b.hide();b.textInput.value=b.query;b.query.length===0&&b.textInput.blur();break;case 13:b.textInput.blur();b._onKeyboardSelecting&&b.textInput.value==b._getSelectedItemKey()&&b.fire("itemSelect");b._submitForm();break;case 40:case 38:if(d++==0){b._isRunning&&b.stop();b._onKeyboardSelecting=true;b.selectItem(f===40)}else if(d==
3)d=0;break}if(f!=40&&f!=38){b._isRunning||b.start();b._onKeyboardSelecting=false}});q.on(b.textInput,"keyup",function(){d=0})},_initContainer:function(){var b=k.createElement("div"),d=this.config.containerCls;b.className="ks-suggest-container";if(d)b.className+=" "+d;b.style.position="absolute";b.style.visibility="hidden";this.container=b;this._setContainerRegion();this._initContainerEvent();k.body.insertBefore(b,k.body.firstChild)},_setContainerRegion:function(){var b=this.textInput,d=r.offset(b),
f=this.container;r.offset(f,{left:d.left,top:d.top+b.offsetHeight-1});r.width(f,this.config.containerWidth||b.offsetWidth-2)},_initContainerEvent:function(){var b=this;q.on(b.container,"mousemove",function(f){f=f.target;if(f.nodeName!=="LI")f=r.parent(f,".li");if(r.contains(b.container,f))if(f!==b.selectedItem){b._removeSelectedItem();b._setSelectedItem(f)}});var d=null;q.on(b.container,"mousedown",function(f){d=f.target;b.textInput.onbeforedeactivate=function(){l.event.returnValue=false;b.textInput.onbeforedeactivate=
null};return false});q.on(b.container,"mouseup",function(f){if(b._isInContainer([f.pageX,f.pageY])){f=f.target;if(f==d)if(f.className=="ks-suggest-close-btn")b.hide();else{if(f.nodeName!="LI")f=r.parent(f,".li");if(r.contains(b.container,f)){b._updateInputFromSelectItem(f);b.fire("itemSelect");b.textInput.blur();b._submitForm()}}}})},_submitForm:function(){if(this.config.submitFormOnClickSelect){var b=this.textInput.form;if(b){if(k.createEvent){var d=k.createEvent("MouseEvents");d.initEvent("submit",
true,false);b.dispatchEvent(d)}else k.createEventObject&&b.fireEvent("onsubmit");b.submit()}}},_isInContainer:function(b){var d=this._getContainerRegion();return b[0]>=d.left&&b[0]<=d.right&&b[1]>=d.top&&b[1]<=d.bottom},_initShim:function(){var b=k.createElement("iframe");b.src="about:blank";b.className="ks-suggest-shim";b.style.position="absolute";b.style.visibility="hidden";b.style.border="none";this.container.shim=b;this._setShimRegion();k.body.insertBefore(b,k.body.firstChild)},_setShimRegion:function(){var b=
this.container,d=b.shim;if(d){d.style.left=parseInt(b.style.left)-2+"px";d.style.top=b.style.top;d.style.width=parseInt(b.style.width)+2+"px"}},_initStyle:function(){h.get("#ks-suggest-style")||r.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container li.selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container li.selected span{color:#FFF;cursor:default}.ks-suggest-bottom{padding:0 5px 5px}.ks-suggest-close-btn{float:right}.ks-suggest-container li,.suggest-bottom{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initResizeEvent:function(){var b=this,d;q.on(l,"resize",function(){d&&clearTimeout(d);d=setTimeout(function(){b._setContainerRegion();b._setShimRegion()},50)})},start:function(){var b=this;s.focusInstance=b;b._timer=setTimeout(function(){b.updateContent();b._timer=setTimeout(arguments.callee,b.config.timerDelay)},b.config.timerDelay);b._isRunning=true},stop:function(){s.focusInstance=null;clearTimeout(this._timer);this._isRunning=false},show:function(){if(!this.isVisible()){var b=
this.container,d=b.shim;b.style.visibility="";if(d){if(!d.style.height)d.style.height=b.offsetHeight-2+"px";d.style.visibility=""}}},hide:function(){if(this.isVisible()){var b=this.container,d=b.shim;if(d)d.style.visibility="hidden";b.style.visibility="hidden"}},isVisible:function(){return this.container.style.visibility!="hidden"},updateContent:function(){if(this._needUpdate()){this._updateQueryValueFromInput();var b=this.query;if(h.trim(b).length)if(this._dataCache[b]!==x){this.returnedData="using cache";
this._fillContainer(this._dataCache[b]);this._displayContainer()}else this.JSONDataSource?this.handleResponse(this.JSONDataSource[b]):this.requestData();else{this._fillContainer("");this.hide()}}},_needUpdate:function(){return this.textInput.value!=this.query},requestData:function(){var b=this;if(!o)b.dataScript=null;if(!b.dataScript){var d=k.createElement("script");d.charset="utf-8";e.insertBefore(d,e.firstChild);b.dataScript=d;if(!o){var f=(new Date).getTime();b._latestScriptTime=f;d.setAttribute("time",
f);q.on(d,"load",function(){b._scriptDataIsOut=d.getAttribute("time")!=b._latestScriptTime})}}b.queryParams="q="+encodeURIComponent(b.query)+"&code=utf-8&callback=g_ks_suggest_callback";b.fire("dataRequest");b.dataScript.src=b.dataSource+"?"+b.queryParams},handleResponse:function(b){if(!this._scriptDataIsOut){this.returnedData=b;this.fire("dataReturn");this.returnedData=this.formatData(this.returnedData);var d="";b=this.returnedData.length;if(b>0){d=k.createElement("ol");for(var f=0;f<b;++f){var p=
this.returnedData[f],v=this.formatItem(p.key,p.result);v.setAttribute("key",p.key);r.addClass(v,f%2?"even":"odd");d.appendChild(v)}d=d}this._fillContainer(d);b>0&&this.appendBottom();h.trim(this.container.innerHTML)&&this.fire("show");this._dataCache[this.query]=this.container.innerHTML;this._displayContainer()}},formatData:function(b){var d=[];if(!b)return d;if(h.isArray(b.result))b=b.result;var f=b.length;if(!f)return d;for(var p,v=0;v<f;++v){p=b[v];d[v]=typeof p==="string"?{key:p}:h.isArray(p)&&
p.length>=2?{key:p[0],result:p[1]}:p}return d},formatItem:function(b,d){var f=k.createElement("li"),p=k.createElement("span");p.className="ks-suggest-key";p.appendChild(k.createTextNode(b));f.appendChild(p);if(d!==x){b=this.config.resultFormat.replace("%result%",d);if(h.trim(b)){d=k.createElement("span");d.className="ks-suggest-result";d.appendChild(k.createTextNode(b));f.appendChild(d)}}return f},appendBottom:function(){var b=k.createElement("div");b.className="ks-suggest-bottom";if(this.config.showCloseBtn){var d=
k.createElement("a");d.href="javascript: void(0)";d.setAttribute("target","_self");d.className="ks-suggest-close-btn";d.appendChild(k.createTextNode(this.config.closeBtnText));b.appendChild(d)}h.trim(b.innerHTML)&&this.container.appendChild(b)},_fillContainer:function(b){if(b.nodeType==1){this.container.innerHTML="";this.container.appendChild(b)}else this.container.innerHTML=b;this.selectedItem=null},_displayContainer:function(){h.trim(this.container.innerHTML)?this.show():this.hide()},selectItem:function(b){var d=
this.container.getElementsByTagName("li");if(d.length!=0)if(this.isVisible()){if(this.selectedItem){b=r[b?"next":"prev"](this.selectedItem);if(!b)this.textInput.value=this.query}else b=d[b?0:d.length-1];this._removeSelectedItem();if(b){this._setSelectedItem(b);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){r.removeClass(this.selectedItem,"selected");this.selectedItem=null},_setSelectedItem:function(b){r.addClass(b,"selected");this.selectedItem=b},_getSelectedItemKey:function(){if(!this.selectedItem)return"";
return this.selectedItem.getAttribute("key")},_updateQueryValueFromInput:function(){this.query=this.textInput.value},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)},_getContainerRegion:function(){var b=this.container,d=r.offset(b),f=d.left;d=d.top;return{left:f,top:d,right:f+b.offsetWidth-1,bottom:d+b.offsetHeight-1}}});l.g_ks_suggest_callback=function(b){s.focusInstance&&setTimeout(function(){s.focusInstance.handleResponse(b)},0)};h.Suggest=
s});
KISSY.add("flash-ua",function(h){function x(){var j;if(navigator.plugins&&navigator.mimeTypes.length)j=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{j=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(b){}if(j)return s(j)}function s(j){return j.match(/(\d)+/g)}function r(j){var b=h.isString(j)?s(j):j;j=j;if(h.isArray(b))j=parseFloat(b[0]+"."+q(b[1],3)+q(b[2],5));return j||0}function q(j,b){for(var d=(j+"").length;d++<b;)j="0"+
j;return j}var l=h.UA,k,e,o=true;l.fpv=function(j){if(j||o){o=false;k=x();e=r(k)}return k};l.fpvGEQ=function(j,b){o&&l.fpv(b);return!!e&&e>=r(j)}});KISSY.add("flash",function(h){h.Flash={swfs:{length:0}}});
KISSY.add("flash-embed",function(h){function x(j,b,d){var f=r.create("<param>");r.attr(f,{name:b,value:d});j.appendChild(f)}var s=h.UA,r=h.DOM,q=h.Flash,l=/object|embed/i,k=encodeURIComponent,e={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},o={params:{},attrs:{width:215,height:138},version:9};h.mix(q,{fpv:s.fpv,fpvGEQ:s.fpvGEQ,len:function(){return q.swfs.length},
add:function(j,b,d){var f,p;b=q._normalize(b);b=h.merge(o,b);b.attrs=h.merge(o.attrs,b.attrs);if(j=h.get(j)){if(!j.id)j.id=h.guid("ks-flash-");p=b.attrs.id="#"+j.id;if(s.fpv()){if(!s.fpvGEQ(b.version)){this._callback(d,0,p,j);if(!((f=b.xi)&&h.isString(f)))return;b.src=f}if(l.test(j.nodeName))this._register(j,b,d);else b.src?this._embed(j,b,d):this._callback(d,-3,p,j)}else this._callback(d,-1,p,j)}else this._callback(d,-2)},get:function(j){return q.swfs[j]},remove:function(j){if(j=q.get(j)){r.remove(j);
delete q.swfs["#"+j.id];q.swfs.length-=1}},contains:function(j){var b=q.swfs,d,f=false;if(h.isString(j))f=j in b;else for(d in b)if(b[d]===j){f=true;break}return f},_register:function(j,b,d){b=b.attrs.id;q._addSWF(b,j);q._callback(d,1,b,j)},_embed:function(j,b,d){var f=q._createSWF(b.src,b.attrs,b.params);if(s.ie)j.outerHTML=f.outerHTML;else j.parentNode.replaceChild(f,j);q._register(j,b,d)},_callback:function(j,b,d,f){b&&h.isFunction(j)&&j({status:b,id:d,swf:f})},_addSWF:function(j,b){if(j&&b){q.swfs[j]=
b;q.swfs.length+=1}},_createSWF:function(j,b,d){var f=r.create("<object>"),p;r.attr(f,b);if(s.ie){r.attr(f,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");x(f,"movie",j)}else r.attr(f,{type:"application/x-shockwave-flash",data:j,name:b.id});for(p in d)p in e&&x(f,p,d[p]);d.flashvars&&x(f,"flashvars",q.toFlashVars(d.flashvars));return f},_normalize:function(j){var b,d,f,p=j;if(h.isPlainObject(j)){p={};for(f in j){b=f.toLowerCase();d=j[f];if(b!=="flashvars")d=q._normalize(d);p[b]=d}}return p},
toFlashVars:function(j){if(!h.isPlainObject(j))return"";var b,d,f=[];for(b in j){d=j[b];if(h.isString(d))d='"'+k(d)+'"';else{d=h.JSON.stringify(d);if(!d)continue;d=d.replace(/:"([^"]+)/g,function(p,v){return':"'+k(v)})}f.push(b+"="+d)}return f.join("&")}})});
