/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(d,c,t){var i={mix:function(b,j,s,z){if(!j||!b)return b;if(s===t)s=true;var n,r,y;if(z&&(y=z.length))for(n=0;n<y;n++){r=z[n];if(r in j)if(s||!(r in b))b[r]=j[r]}else for(r in j)if(s||!(r in b))b[r]=j[r];return b}},m=d&&d[c]||{},p=0;d=m.__HOST||(m.__HOST=d||{});c=d[c]=i.mix(m,i,false);c.mix(c,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"20110411223841",merge:function(){var b={},j,s=arguments.length;for(j=0;j<s;j++)c.mix(b,arguments[j]);return b},augment:function(){var b=
arguments,j=b.length-2,s=b[0],z=b[j],n=b[j+1],r=1;if(!c.isArray(n)){z=n;n=t;j++}if(!c.isBoolean(z)){z=t;j++}for(;r<j;r++)c.mix(s.prototype,b[r].prototype||b[r],z,n);return s},extend:function(b,j,s,z){if(!j||!b)return b;var n=Object.create?function(x,B){return Object.create(x,{constructor:{value:B}})}:function(x,B){function e(){}e.prototype=x;var f=new e;f.constructor=B;return f},r=j.prototype,y;y=n(r,b);b.prototype=c.mix(y,b.prototype);b.superclass=n(r,j);s&&c.mix(y,s);z&&c.mix(b,z);return b},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var b=arguments,j=b.length,s=null,z,n,r,y=b[j-1]===true&&j--;for(z=0;z<j;z++){r=(""+b[z]).split(".");s=y?d:this;for(n=d[r[0]]===s?1:0;n<r.length;++n)s=s[r[n]]=s[r[n]]||{}}return s},app:function(b,j){var s=c.isString(b),z=s?d[b]||{}:b,n=0,r=c.__APP_INIT_METHODS.length;for(c.mix(z,this,true,c.__APP_MEMBERS);n<r;n++)c[c.__APP_INIT_METHODS[n]].call(z);c.mix(z,c.isFunction(j)?j():j);s&&(d[b]=z);return z},config:function(b){for(var j in b)this["_"+
j]&&this["_"+j](b[j])},log:function(b,j,s){if(c.Config.debug){if(s)b=s+": "+b;if(d.console!==t&&console.log)console[j&&console[j]?j:"log"](b)}},error:function(b){if(c.Config.debug)throw b;},guid:function(b){return(b||"")+p++}});c.__init();return c})(this,"KISSY");
(function(d,c){var t=d.__HOST,i=Object.prototype.toString,m=Array.prototype.indexOf,p=Array.prototype.lastIndexOf,b=Array.prototype.filter,j=String.prototype.trim,s=/^\s+|\s+$/g,z={};d.mix(d,{type:function(n){return n==null?String(n):z[i.call(n)]||"object"},isNull:function(n){return n===null},isUndefined:function(n){return n===c},isEmptyObject:function(n){for(var r in n)return false;return true},isPlainObject:function(n){return n&&i.call(n)==="[object Object]"&&"isPrototypeOf"in n},clone:function(n,
r,y){var x=n,B,e,f=y||{};if(n&&((B=d.isArray(n))||d.isPlainObject(n))){if(n["__~ks_cloned"])return f[n["__~ks_cloned"]];n["__~ks_cloned"]=x=d.guid();f[x]=n;if(B)x=r?d.filter(n,r):n.concat();else{x={};for(e in n)if(e!=="__~ks_cloned"&&n.hasOwnProperty(e)&&(!r||r.call(n,n[e],e,n)!==false))x[e]=d.clone(n[e],r,f)}}if(!y){d.each(f,function(g){if(g["__~ks_cloned"])try{delete g["__~ks_cloned"]}catch(k){g["__~ks_cloned"]=c}});f=c}return x},trim:j?function(n){return n==c?"":j.call(n)}:function(n){return n==
c?"":n.toString().replace(s,"")},substitute:function(n,r,y){if(!d.isString(n)||!d.isPlainObject(r))return n;return n.replace(y||/\\?\{([^{}]+)\}/g,function(x,B){if(x.charAt(0)==="\\")return x.slice(1);return r[B]!==c?r[B]:""})},each:function(n,r,y){var x,B=0,e=n&&n.length,f=e===c||d.type(n)==="function";y=y||t;if(f)for(x in n){if(r.call(y,n[x],x,n)===false)break}else for(x=n[0];B<e&&r.call(y,x,B,n)!==false;x=n[++B]);return n},indexOf:m?function(n,r){return m.call(r,n)}:function(n,r){for(var y=0,x=
r.length;y<x;++y)if(r[y]===n)return y;return-1},lastIndexOf:p?function(n,r){return p.call(r,n)}:function(n,r){for(var y=r.length-1;y>=0;y--)if(r[y]===n)break;return y},unique:function(n,r){r&&n.reverse();for(var y=n.slice(),x=0,B,e;x<y.length;){for(e=y[x];(B=d.lastIndexOf(e,y))!==x;)y.splice(B,1);x+=1}r&&y.reverse();return y},inArray:function(n,r){return d.indexOf(n,r)>-1},filter:b?function(n,r,y){return b.call(n,r,y||this)}:function(n,r,y){var x=[];d.each(n,function(B,e,f){if(r.call(y||this,B,e,
f))x.push(B)});return x},now:function(){return(new Date).getTime()}});d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(n,r){z["[object "+n+"]"]=r=n.toLowerCase();d["is"+n]=function(y){return d.type(y)==r}})})(KISSY);
(function(d,c){function t(a){a=a.split("/");for(var o=[],h,u=0;u<a.length;u++){h=a[u];if(h!=".")h==".."?o.pop():o.push(h)}return o.join("/")}function i(a,o){if(!o)return o;if(d.isArray(o)){for(var h=0;h<o.length;h++)o[h]=i(a,o[h]);return o}if(o.lastIndexOf("../",0)==0||o.lastIndexOf("./",0)==0){h=y;var u;if((u=a.lastIndexOf("/"))!=-1)h=a.substring(0,u+1);return t(h+o)}else return o.indexOf("./")!=-1||o.indexOf("../")!=-1?t(o):o}function m(a){return a.replace(/(-min)?\.js[^/]*$/i,y)}function p(a){if(a.charAt(a.length-
1)!="/")a+="/";a=d.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=q+a;return t(a)}function b(a){for(var o=0;o<a.length;o++)if(a[o].match(/\/$/))a[o]+="index";return a}function j(a){var o=a.src,h=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=o.split(a);var u,w=a[0];h=w.indexOf(h);if(h==-1)u=o.replace(v,"$1");else{u=w.substring(0,h);o=w.substring(h+2,w.length);if(o.match(A))u+=o.replace(v,"$1");else d.each(a,function(C){if(C.match(A)){u+=
C.replace(v,"$1");return false}})}if(!u.match(/^(http(s)?)|(file):/i)&&u.lastIndexOf("/",0)!=0)u=q+u;return u}if(!d.use){var s=d.__HOST,z=!s.getSelection&&s.ActiveXObject,n=s.document,r=n.getElementsByTagName("head")[0]||n.documentElement,y="",x=2,B=3,e=4,f=d.mix,g=n.createElement("script").readyState?function(a,o){var h=a.onreadystatechange;a.onreadystatechange=function(){var u=a.readyState;if(u==="loaded"||u==="complete"){a.onreadystatechange=null;h&&h();o.call(this)}}}:function(a,o){a.addEventListener("load",
o,false)},k=/\.css(?:\?|$)/i,l=encodeURIComponent(d.buildTime),q=location.href.replace(/[^/]*$/i,y);s={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,o,h){var u=this.Env.mods,w;if(d.isString(a)&&!h&&d.isPlainObject(o)){w={};w[a]=o;a=w}if(d.isPlainObject(a)){d.each(a,function(D,F){D.name=F;u[F]&&f(D,u[F],false)});f(u,a);return this}if(d.isString(a)){var C;if(h&&(C=h.host)){a=u[C];if(!a){d.error("module "+C+" can not be found !");return this}if(this.__isAttached(C))o.call(this,
this);else{a.fns=a.fns||[];a.fns.push(o)}return this}this.__registerModule(a,o,h);if(h&&h.attach===false)return this;o=u[a];a=i(a,o.requires);if(this.__isAttached(a))this.__attachMod(o);else if(this.Config.debug&&!o)for(a=d.makeArray(a).length-1;a>=0;a--);return this}if(d.isFunction(a)){h=o;o=a;if(z){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,o,h):d.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,o,h)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:o,config:h};return this}d.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),o,h,u=0;u<a.length;u++){h=a[u];if(h.readyState=="interactive"){o=h;break}}o||d.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=o.src;if(a.lastIndexOf(this.Config.base,0)==0)return m(a.substring(this.Config.base.length));o=this.__packages;for(var w in o){h=o[w].path;if(o.hasOwnProperty(w))if(a.lastIndexOf(h,
0)==0)return m(a.substring(h.length))}d.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,o,h){h=h||{};var u=this.Env.mods,w=u[a]||{};f(w,{name:a,status:x});w.fns=w.fns||[];w.fns.push(o);f(u[a]=w,h)},_packages:function(a){var o;o=this.__packages=this.__packages||{};d.each(a,function(h){o[h.name]=h;if(h.path)h.path=p(h.path);if(h.tag)h.tag=encodeURIComponent(h.tag)})},_combine:function(a,o){var h=this,u;if(d.isObject(a))d.each(a,function(w,C){d.each(w,function(D){h._combine(D,
C)})});else{u=h.__combines=h.__combines||{};if(o)u[a]=o;else return u[a]||a}},__mixMods:function(a){var o=this.Env.mods,h=a.Env.mods,u;for(u in h)this.__mixMod(o,h,u,a)},__mixMod:function(a,o,h,u){var w=a[h]||{},C=w.status;d.mix(w,d.clone(o[h]));if(C)w.status=C;u&&this.__buildPath(w,u.Config.base);a[h]=w},use:function(a,o,h){a=a.replace(/\s+/g,y).split(",");b(a);h=h||{};var u=this,w;h.global&&u.__mixMods(h.global);if(u.__isAttached(a)){var C=u.__getModules(a);o&&o.apply(u,C)}else{d.each(a,function(D){u.__attachModByName(D,
function(){if(!w&&u.__isAttached(a)){w=true;var F=u.__getModules(a);o&&o.apply(u,F)}},h)});return u}},__getModules:function(a){var o=this,h=[o];d.each(a,function(u){h.push(o.require(u))});return h},require:function(a){a=this.Env.mods[a];var o=this.onRequire&&this.onRequire(a);if(o!==undefined)return o;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var o=this._combine(a.name),h=this.__packages||{},u="",w;for(w in h)if(h.hasOwnProperty(w))if(o.lastIndexOf(w,0)==
0)if(w.length>u)u=w;h=(o=h[u])&&o.path||this.Config.base;if(o&&o.charset)a.charset=o.charset;a.tag=o?o.tag:l;return a.packagepath=h},__attachModByName:function(a,o,h){var u=this.Env.mods,w=u[a];if(!w){w=this.Config.componentJsName||function(C){return C+"-min.js"};w={path:d.isFunction(w)?w(this._combine(a)):w,charset:"utf-8"};u[a]=w}w.name=a;w&&w.status===e||this.__attach(w,o,h)},__attach:function(a,o,h){function u(){if(!F&&w.__isAttached(a.requires)){a.status===x&&w.__attachMod(a);if(a.status===e){F=
true;o()}}}var w=this,C=w.Env.mods,D=(a.requires||[]).concat();a.requires=D;d.each(D,function(G,E,J){G=J[E]=i(a.name,G);(E=C[G])&&E.status===e||w.__attachModByName(G,u,h)});w.__buildPath(a,w.__getPackagePath(a));w.__load(a,function(){if(w.__currentModule){w.__registerModule(a.name,w.__currentModule.def,w.__currentModule.config);w.__currentModule=null}a.requires=a.requires||[];var G=[];d.each(a.requires,function(E,J,K){E=K[J]=i(a.name,E);J=C[E];K=d.inArray(E,D);J&&J.status===e||K||w.__attachModByName(E,
u,h);if(!K&&(!J||J.status<x))G.push(E)});G.length!=0&&G.unshift(a.name);if(d.isString(a.csspath)||d.isString(a.cssfullpath)){w.__buildPath(a,w.__getPackagePath(a));d.getScript(a.cssfullpath)}u()},h);var F=false},__attachMod:function(a){var o=this,h=a.fns;h&&d.each(h,function(u){u=d.isFunction(u)?u.apply(o,o.__getModules(a.requires)):u;a.value=a.value||u});a.status=e},__isAttached:function(a){var o=this.Env.mods,h=true;d.each(a,function(u){u=o[u];if(!u||u.status!==e)return h=false});return h},__load:function(a,
o,h){function u(){D[C]=x;if(a.status!==B){h.global&&w.__mixMod(w.Env.mods,h.global.Env.mods,a.name,h.global);if(a.status!==e)a.status=x;o()}}var w=this,C=a.fullpath,D=d.Env._loadQueue,F=D[C];a.status=a.status||0;if(a.status<1&&F)a.status=F.nodeName?1:x;if(d.isString(a.cssfullpath)){w.getScript(a.cssfullpath);a.cssfullpath=a.csspath=x}if(a.status<1&&C){a.status=1;if(z){w.__startLoadModuleName=a.name;w.__startLoadTime=Number(+new Date)}F=w.getScript(C,{success:function(){u()},error:function(){a.status=
B;D[C]=x},charset:a.charset});k.test(C)||(D[C]=F)}else a.status===1?g(F,u):o()},__buildPath:function(a,o){function h(w,C){if(!a[w]&&a[C]){a[C]=i(a.name,a[C]);a[w]=(o||u.base)+a[C]}if(a[w]&&u.debug)a[w]=a[w].replace(/-min/ig,y);if(a[w]&&!a[w].match(/\?t=/)&&a.tag)a[w]+="?t="+a.tag}var u=this.Config;h("fullpath","path");h("cssfullpath","csspath")},getScript:function(a,o,h){var u=/\.css(?:\?|$)/i.test(a),w=n.createElement(u?"link":"script"),C=o,D,F,G;if(d.isPlainObject(C)){o=C.success;D=C.error;F=C.timeout;
h=C.charset}if(u){w.href=a;w.rel="stylesheet"}else{w.src=a;w.async=true}if(h)w.charset=h;if(u)d.isFunction(o)&&o.call(w);else g(w,function(){if(G){G.cancel();G=c}d.isFunction(o)&&o.call(w)});if(d.isFunction(D))G=d.later(function(){G=c;D()},(F||this.Config.timeout)*1E3);r.insertBefore(w,r.firstChild);return w}};f(d,s);var v=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,A=/(seed|kissy)(-min)?\.js/i;d.__initLoader=function(){var a=n.getElementsByTagName("script");a=j(a[a.length-1]);this.Env.mods={};this.Env._loadQueue=
{};if(!this.Config.base)this.Config.base=p(a);if(!this.Config.timeout)this.Config.timeout=10};d.__initLoader();d.each(s,function(a,o){d.__APP_MEMBERS.push(o)});d.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(d,c){function t(e){var f=typeof e;return e===null||f!=="object"&&f!=="function"}function i(e){return Array.prototype.slice.call(e)}var m=d.__HOST,p=m.document,b=p.documentElement,j=encodeURIComponent("[]"),s=false,z=[],n=false,r=/^#?([\w-]+)$/,y=/^(\w+)\[\]$/,x=/\S/;d.mix(d,{isWindow:function(e){return d.type(e)==="object"&&"setInterval"in e},makeArray:function(e){if(e===null||e===c)return[];if(d.isArray(e))return e;if(typeof e.length!=="number"||d.isString(e)||d.isFunction(e))return[e];
return i(e)},param:function(e,f){if(!d.isPlainObject(e))return"";f=f||"&";var g=[],k,l;for(k in e){l=e[k];k=encodeURIComponent(k);if(t(l))g.push(k,"=",encodeURIComponent(l+""),f);else if(d.isArray(l)&&l.length)for(var q=0,v=l.length;q<v;++q)t(l[q])&&g.push(k,j+"=",encodeURIComponent(l[q]+""),f)}g.pop();return g.join("")},unparam:function(e,f){if(typeof e!=="string"||(e=d.trim(e)).length===0)return{};for(var g={},k=e.split(f||"&"),l,q,v,A,a=0,o=k.length;a<o;++a){l=k[a].split("=");q=decodeURIComponent(l[0]);
try{v=decodeURIComponent(l[1]||"")}catch(h){v=l[1]||""}if((A=q.match(y))&&A[1]){g[A[1]]=g[A[1]]||[];g[A[1]].push(v)}else g[q]=v}return g},globalEval:function(e){if(e&&x.test(e)){var f=p.getElementsByTagName("head")[0]||b,g=p.createElement("script");g.text=e;f.insertBefore(g,f.firstChild);f.removeChild(g)}},later:function(e,f,g,k,l){f=f||0;k=k||{};var q=e,v=d.makeArray(l),A;if(d.isString(e))q=k[e];q||d.error("method undefined");e=function(){q.apply(k,v)};A=g?setInterval(e,f):setTimeout(e,f);return{id:A,
interval:g,cancel:function(){this.interval?clearInterval(A):clearTimeout(A)}}},ready:function(e){n||this._bindReady();s?e.call(m,this):z.push(e);return this},_bindReady:function(){var e=this,f=p.documentElement.doScroll,g=f?"onreadystatechange":"DOMContentLoaded",k=function(){e._fireReady()};n=true;if(p.readyState==="complete")return k();if(p.addEventListener){var l=function(){p.removeEventListener(g,l,false);k()};p.addEventListener(g,l,false);m.addEventListener("load",k,false)}else{var q=function(){if(p.readyState===
"complete"){p.detachEvent(g,q);k()}};p.attachEvent(g,q);m.attachEvent("onload",k);var v=false;try{v=m.frameElement==null}catch(A){}if(f&&v){var a=function(){try{f("left");k()}catch(o){setTimeout(a,1)}};a()}}},_fireReady:function(){if(!s){s=true;if(z){for(var e,f=0;e=z[f++];)e.call(m,this);z=null}}},available:function(e,f){if((e=(e+"").match(r)[1])&&d.isFunction(f))var g=1,k=d.later(function(){if(p.getElementById(e)&&(f()||1)||++g>500)k.cancel()},40,true)}});try{i(b.childNodes)}catch(B){i=function(e){for(var f=
[],g=e.length-1;g>=0;g--)f[g]=e[g];return f}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)d.Config.debug=true})(KISSY);(function(d){d.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var d=navigator.userAgent,c="",t="",i,m={},p=function(b){var j=0;return parseFloat(b.replace(/\./g,function(){return j++===0?".":""}))};if((i=d.match(/AppleWebKit\/([\d.]*)/))&&i[1]){m[c="webkit"]=p(i[1]);if((i=d.match(/Chrome\/([\d.]*)/))&&i[1])m[t="chrome"]=p(i[1]);else if((i=d.match(/\/([\d.]*) Safari/))&&i[1])m[t="safari"]=p(i[1]);if(/ Mobile\//.test(d))m.mobile="apple";else if(i=d.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))m.mobile=i[0].toLowerCase()}else if((i=
d.match(/Presto\/([\d.]*)/))&&i[1]){m[c="presto"]=p(i[1]);if((i=d.match(/Opera\/([\d.]*)/))&&i[1]){m[t="opera"]=p(i[1]);if((i=d.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])m[t]=p(i[1]);if((i=d.match(/Opera Mini[^;]*/))&&i)m.mobile=i[0].toLowerCase();else if((i=d.match(/Opera Mobi[^;]*/))&&i)m.mobile=i[0]}}else if((i=d.match(/MSIE\s([^;]*)/))&&i[1]){m[c="trident"]=0.1;m[t="ie"]=p(i[1]);if((i=d.match(/Trident\/([\d.]*)/))&&i[1])m[c]=p(i[1])}else if(i=d.match(/Gecko/)){m[c="gecko"]=0.1;if((i=d.match(/rv:([\d.]*)/))&&
i[1])m[c]=p(i[1]);if((i=d.match(/Firefox\/([\d.]*)/))&&i[1])m[t="firefox"]=p(i[1])}m.core=c;m.shell=t;m._numberify=p;return m});
KISSY.add("ua/extra",function(d,c){var t=navigator.userAgent,i,m,p={},b=c._numberify;if(t.match(/360SE/))p[m="se360"]=3;else if(t.match(/Maxthon/)&&(i=window.external)){m="maxthon";try{p[m]=b(i.max_version)}catch(j){p[m]=0.1}}else if(i=t.match(/TencentTraveler\s([\d.]*)/))p[m="tt"]=i[1]?b(i[1]):0.1;else if(t.match(/TheWorld/))p[m="theworld"]=3;else if(i=t.match(/SE\s([\d.]*)/))p[m="sougou"]=i[1]?b(i[1]):0.1;m&&(p.shell=m);d.mix(c,p);return c},{requires:["ua/base"]});
KISSY.add("ua",function(d,c){return c},{requires:["ua/extra"]});KISSY.add("dom/base",function(d,c){function t(i,m){return i&&i.nodeType===m}return{_isElementNode:function(i){return t(i,1)},_isKSNode:function(i){var m=d.require("node/node");return m&&t(i,m.TYPE)},_getWin:function(i){return i&&"scrollTo"in i&&i.document?i:t(i,9)?i.defaultView||i.parentWindow:i===c?window:false},_nodeTypeIs:t}});
KISSY.add("dom/attr",function(d,c,t,i){var m=document.documentElement,p=!m.hasAttribute,b=m.textContent!==i?"textContent":"innerText",j=c._isElementNode,s=/^(?:href|src|style)/,z=/^(?:href|src|colspan|rowspan)/,n=/\r/g,r=/^(?:radio|checkbox)/,y={readonly:"readOnly"},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};p&&d.mix(y,{"for":"htmlFor","class":"className"});var B={tabindex:{getter:function(e){return e.tabIndex},setter:function(e,f){if(isNaN(parseInt(f))){e.removeAttribute("tabindex");
e.removeAttribute("tabIndex")}else e.tabIndex=f}},style:{getter:function(e){return e.style.cssText},setter:function(e,f){e.style.cssText=f}},checked:{setter:function(e,f){e.checked=!!f}},disabled:{setter:function(e,f){e.disabled=!!f}}};d.mix(c,{attr:function(e,f,g,k){if(d.isPlainObject(f)){k=g;for(var l in f)c.attr(e,l,f[l],k)}else if(f=d.trim(f)){f=f.toLowerCase();if(k&&x[f])return c[f](e,g);f=y[f]||f;var q=B[f];if(g===i){e=c.get(e);if(!j(e))return i;if(q&&q.getter)return q.getter(e);var v;s.test(f)||
(v=e[f]);if(v===i)v=e.getAttribute(f);if(p)if(z.test(f))v=e.getAttribute(f,2);return v===null?i:v}d.each(c.query(e),function(A){if(j(A))q&&q.setter?q.setter(A,g):A.setAttribute(f,""+g)})}},removeAttr:function(e,f){f=f.toLowerCase();d.each(c.query(e),function(g){if(j(g)){c.attr(g,f,"");g.removeAttribute(f)}})},hasAttr:p?function(e,f){f=f.toLowerCase();var g=c.get(e).getAttributeNode(f);return!!(g&&g.specified)}:function(e,f){f=f.toLowerCase();return c.get(e).hasAttribute(f)},val:function(e,f){if(f===
i){var g=c.get(e);if(!j(g))return i;if(g&&g.nodeName.toUpperCase()==="option".toUpperCase())return(g.attributes.value||{}).specified?g.value:g.text;if(g&&g.nodeName.toUpperCase()==="select".toUpperCase()){var k=g.selectedIndex,l=g.options;if(k<0)return null;else if(g.type==="select-one")return c.val(l[k]);g=[];for(var q=0,v=l.length;q<v;++q)l[q].selected&&g.push(c.val(l[q]));return g}if(t.webkit&&r.test(g.type))return g.getAttribute("value")===null?"on":g.value;return(g.value||"").replace(n,"")}d.each(c.query(e),
function(A){if(A&&A.nodeName.toUpperCase()==="select".toUpperCase()){if(d.isNumber(f))f+="";var a=d.makeArray(f),o=A.options,h;q=0;for(v=o.length;q<v;++q){h=o[q];h.selected=d.inArray(c.val(h),a)}if(!a.length)A.selectedIndex=-1}else if(j(A))A.value=f})},text:function(e,f){if(f===i){var g=c.get(e);if(j(g))return g[b]||"";else if(c._nodeTypeIs(g,3))return g.nodeValue}else d.each(c.query(e),function(k){if(j(k))k[b]=f;else if(c._nodeTypeIs(k,3))k.nodeValue=f})}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(d,c,t){function i(b,j,s,z){if(!(j=d.trim(j)))return z?false:t;b=c.query(b);var n=0,r=b.length;j=j.split(m);for(var y;n<r;n++){y=b[n];if(c._isElementNode(y)){y=s(y,j,j.length);if(y!==t)return y}}if(z)return false;return t}var m=/[\.\s]\s*\.?/,p=/[\n\t]/g;d.mix(c,{hasClass:function(b,j){return i(b,j,function(s,z,n){if(s=s.className){s=" "+s+" ";for(var r=0,y=true;r<n;r++)if(s.indexOf(" "+z[r]+" ")<0){y=false;break}if(y)return true}},true)},addClass:function(b,j){i(b,j,
function(s,z,n){var r=s.className;if(r){var y=" "+r+" ";r=r;for(var x=0;x<n;x++)if(y.indexOf(" "+z[x]+" ")<0)r+=" "+z[x];s.className=d.trim(r)}else s.className=j},t)},removeClass:function(b,j){i(b,j,function(s,z,n){var r=s.className;if(r)if(n){r=(" "+r+" ").replace(p," ");for(var y=0,x;y<n;y++)for(x=" "+z[y]+" ";r.indexOf(x)>=0;)r=r.replace(x," ");s.className=d.trim(r)}else s.className=""},t)},replaceClass:function(b,j,s){c.removeClass(b,j);c.addClass(b,s)},toggleClass:function(b,j,s){var z=d.isBoolean(s),
n;i(b,j,function(r,y,x){for(var B=0,e;B<x;B++){e=y[B];n=z?!s:c.hasClass(r,e);c[n?"removeClass":"addClass"](r,e)}},t)}});return c},{requires:["dom/base"]});
KISSY.add("dom/create",function(d,c,t,i){function m(a){var o=a.cloneNode(true);if(t.ie<8)o.innerHTML=a.innerHTML;return o}function p(a,o,h,u){if(h){var w=d.guid("ks-tmp-"),C=RegExp(B);o+='<span id="'+w+'"></span>';d.available(w,function(){var D=c.get("head"),F,G,E,J,K,I;for(C.lastIndex=0;F=C.exec(o);)if((E=(G=F[1])?G.match(f):false)&&E[2]){F=j.createElement("script");F.src=E[2];if((J=G.match(g))&&J[2])F.charset=J[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)d.globalEval(I);(K=j.getElementById(w))&&
c.remove(K);d.isFunction(u)&&u()});b(a,o)}else{b(a,o);d.isFunction(u)&&u()}}function b(a,o){o=(o+"").replace(B,"");try{a.innerHTML=o}catch(h){for(;a.firstChild;)a.removeChild(a.firstChild);o&&a.appendChild(c.create(o))}}var j=document,s=t.ie,z=c._nodeTypeIs,n=c._isElementNode,r=c._isKSNode,y=j.createElement("div"),x=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,g=/\scharset=(['"])(.*?)\1/i;d.mix(c,{create:function(a,
o,h){if(z(a,1)||z(a,3))return m(a);if(r(a))return m(a[0]);if(!(a=d.trim(a)))return null;var u=null;u=c._creators;var w,C="div",D;if(w=e.exec(a))u=(h||j).createElement(w[1]);else{if((w=x.exec(a))&&(D=w[1])&&d.isFunction(u[D=D.toLowerCase()]))C=D;a=u[C](a,h).childNodes;if(a.length===1)h=a[0].parentNode.removeChild(a[0]);else{a=a;D=h||j;h=null;if(a&&(a.push||a.item)&&a[0]){D=D||a[0].ownerDocument;h=D.createDocumentFragment();if(a.item)a=d.makeArray(a);D=0;for(u=a.length;D<u;D++)h.appendChild(a[D])}h=
h}u=h}h=u;n(h)&&d.isPlainObject(o)&&c.attr(h,o,true);return h},_creators:{div:function(a,o){var h=o?o.createElement("div"):y;h.innerHTML=a;return h}},html:function(a,o,h,u){if(o===i){a=c.get(a);if(n(a))return a.innerHTML}else d.each(c.query(a),function(w){n(w)&&p(w,o,h,u)})},remove:function(a){d.each(c.query(a),function(o){n(o)&&o.parentNode&&o.parentNode.removeChild(o)})}});if(s||t.gecko||t.webkit){var k=c._creators,l=c.create,q=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,v={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},A;for(A in v)(function(a){k[A]=function(o,h){return l("<"+a+">"+o+"</"+a+">",null,h)}})(v[A]);if(s){k.script=function(a,o){var h=o?o.createElement("div"):y;h.innerHTML="-"+a;h.removeChild(h.firstChild);return h};if(s<8)k.tbody=function(a,o){var h=l("<table>"+a+"</table>",null,o),u=h.children.tags("tbody")[0];h.children.length>1&&u&&!q.test(a)&&u.parentNode.removeChild(u);return h}}d.mix(k,{optgroup:k.option,th:k.td,thead:k.tbody,tfoot:k.tbody,
caption:k.tbody,colgroup:k.tbody})}return c},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(d,c,t){var i=window,m="_ks_data_"+d.now(),p={},b={},j={EMBED:1,OBJECT:1,APPLET:1};d.mix(c,{data:function(s,z,n){if(d.isPlainObject(z))for(var r in z)c.data(s,r,z[r]);else if(n===t){s=c.get(s);var y;if(!(!s||j[s.nodeName])){if(s==i)s=b;y=(r=s&&s.nodeType)?p:s;s=y[r?s[m]:m];if(d.isString(z)&&s)return s[z];return s}}else c.query(s).each(function(x){if(!(!x||j[x.nodeName])){if(x==i)x=b;var B=p,e;if(x&&x.nodeType){if(!(e=x[m]))e=x[m]=d.guid()}else{e=m;B=x}if(z&&n!==t){B[e]||
(B[e]={});B[e][z]=n}}})},removeData:function(s,z){c.query(s).each(function(n){if(n){if(n==i)n=b;var r,y=p,x,B=n&&n.nodeType;if(B)r=n[m];else{y=n;r=m}if(r){x=y[r];if(z){if(x){delete x[z];d.isEmptyObject(x)&&c.removeData(n)}}else{if(B)n.removeAttribute&&n.removeAttribute(m);else try{delete n[m]}catch(e){}B&&delete y[r]}}}})}});return c},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(d,c){d.mix(c,{insertBefore:function(t,i){if((t=c.get(t))&&(i=c.get(i))&&i.parentNode)i.parentNode.insertBefore(t,i);return t},insertAfter:function(t,i){if((t=c.get(t))&&(i=c.get(i))&&i.parentNode)i.nextSibling?i.parentNode.insertBefore(t,i.nextSibling):i.parentNode.appendChild(t);return t},append:function(t,i){if((t=c.get(t))&&(i=c.get(i)))i.appendChild&&i.appendChild(t)},prepend:function(t,i){if((t=c.get(t))&&(i=c.get(i)))i.firstChild?c.insertBefore(t,i.firstChild):
i.appendChild(t)}});return c},{requires:["dom/base"]});
KISSY.add("dom/offset",function(d,c,t,i){function m(l){var q=0,v=0,A=z(l[x]);if(l[k]){l=l[k]();q=l[B];v=l[e];if(t.mobile!=="apple"){q+=c[f](A);v+=c[g](A)}}return{left:q,top:v}}var p=window,b=document,j=c._isElementNode,s=c._nodeTypeIs,z=c._getWin,n=b.compatMode==="CSS1Compat",r=Math.max,y=parseInt,x="ownerDocument",B="left",e="top",f="scrollLeft",g="scrollTop",k="getBoundingClientRect";d.mix(c,{offset:function(l,q){if(!(l=c.get(l))||!l[x])return null;if(q===i)return m(l);var v=l;if(c.css(v,"position")===
"static")v.style.position="relative";var A=m(v),a={},o,h;for(h in q){o=y(c.css(v,h),10)||0;a[h]=o+q[h]-A[h]}c.css(v,a)},scrollIntoView:function(l,q,v,A){if((l=c.get(l))&&l[x]){A=A===i?true:!!A;v=v===i?true:!!v;if(!q||q===p)return l.scrollIntoView(v);q=c.get(q);if(s(q,9))q=z(q);var a=q&&"scrollTo"in q&&q.document,o=c.offset(l),h=a?{left:c.scrollLeft(q),top:c.scrollTop(q)}:c.offset(q),u={left:o[B]-h[B],top:o[e]-h[e]};o=a?c.viewportHeight(q):q.clientHeight;h=a?c.viewportWidth(q):q.clientWidth;var w=
c[f](q),C=c[g](q),D=w+h,F=C+o,G=l.offsetHeight;l=l.offsetWidth;var E=u.left+w-(y(c.css(q,"borderLeftWidth"))||0);u=u.top+C-(y(c.css(q,"borderTopWidth"))||0);var J=E+l,K=u+G,I,H;if(G>o||u<C||v)I=u;else if(K>F)I=K-o;if(A)if(l>h||E<w||v)H=E;else if(J>D)H=J-h;if(a){if(I!==i||H!==i)q.scrollTo(H,I)}else{if(I!==i)q[g]=I;if(H!==i)q[f]=H}}}});d.each(["Left","Top"],function(l,q){var v="scroll"+l;c[v]=function(A){var a=0,o=z(A),h;if(o&&(h=o.document))a=o[q?"pageYOffset":"pageXOffset"]||h.documentElement[v]||
h.body[v];else if(j(A=c.get(A)))a=A[v];return a}});d.each(["Width","Height"],function(l){c["doc"+l]=function(q){q=q||b;return r(n?q.documentElement["scroll"+l]:q.body["scroll"+l],c["viewport"+l](q))};c["viewport"+l]=function(q){var v="inner"+l;q=z(q);var A=q.document;return v in q?q[v]:n?A.documentElement["client"+l]:A.body["client"+l]}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(d,c,t,i){function m(g,k){var l=c.get(g),q=k===s?l.offsetWidth:l.offsetHeight;d.each(k===s?["Left","Right"]:["Top","Bottom"],function(v){q-=parseFloat(c._getComputedStyle(l,"padding"+v))||0;q-=parseFloat(c._getComputedStyle(l,"border"+v+"Width"))||0});return q}function p(g,k,l){var q=l;if(l===z&&r.test(k)){q=0;if(d.inArray(c.css(g,"position"),["absolute","fixed"])){l=g[k==="left"?"offsetLeft":"offsetTop"];if(t.ie===8||t.opera)l-=n(c.css(g.offsetParent,"border-"+k+"-width"))||
0;q=l-(n(c.css(g,"margin-"+k))||0)}}return q}var b=document,j=b.documentElement,s="width",z="auto",n=parseInt,r=/^(?:left|top)/,y=/^(?:width|height|top|left|right|bottom|margin|padding)/i,x=/-([a-z])/ig,B=function(g,k){return k.toUpperCase()},e={},f={};d.mix(c,{_CUSTOM_STYLES:e,_getComputedStyle:function(g,k){var l="",q=g.ownerDocument;if(g.style)l=q.defaultView.getComputedStyle(g,null)[k];return l},css:function(g,k,l){if(d.isPlainObject(k))for(var q in k)c.css(g,q,k[q]);else{if(k.indexOf("-")>0)k=
k.replace(x,B);k=e[k]||k;if(l===i){g=c.get(g);q="";if(g&&g.style){q=k.get?k.get(g):g.style[k];if(q===""&&!k.get)q=p(g,k,c._getComputedStyle(g,k))}return q===i?"":q}else{if(l===null||l==="")l="";else if(!isNaN(new Number(l))&&y.test(k))l+="px";(k===s||k==="height")&&parseFloat(l)<0||d.each(c.query(g),function(v){if(v&&v.style){k.set?k.set(v,l):v.style[k]=l;if(l==="")v.style.cssText||v.removeAttribute("style")}})}}},width:function(g,k){if(k===i)return m(g,s);else c.css(g,s,k)},height:function(g,k){if(k===
i)return m(g,"height");else c.css(g,"height",k)},show:function(g){c.query(g).each(function(k){if(k){k.style.display=c.data(k,"display")||"";if(c.css(k,"display")==="none"){var l=k.tagName,q=f[l],v;if(!q){v=b.createElement(l);b.body.appendChild(v);q=c.css(v,"display");c.remove(v);f[l]=q}c.data(k,"display",q);k.style.display=q}}})},hide:function(g){c.query(g).each(function(k){if(k){var l=k.style,q=l.display;if(q!=="none"){q&&c.data(k,"display",q);l.display="none"}}})},toggle:function(g){c.query(g).each(function(k){if(k)k.style.display===
"none"?c.show(k):c.hide(k)})},addStyleSheet:function(g,k){var l;if(k&&(k=k.replace("#","")))l=c.get("#"+k);if(!l){l=c.create("<style>",{id:k});c.get("head").appendChild(l);if(l.styleSheet)l.styleSheet.cssText=g;else l.appendChild(b.createTextNode(g))}},unselectable:function(g){c.query(g).each(function(k){if(k)if(t.gecko)k.style.MozUserSelect="none";else if(t.webkit)k.style.KhtmlUserSelect="none";else if(t.ie||t.opera){var l=0,q=k.getElementsByTagName("*");for(k.setAttribute("unselectable","on");k=
q[l++];)switch(k.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:k.setAttribute("unselectable","on")}}})}});if(j.style.cssFloat!==i)e["float"]="cssFloat";else if(j.style.styleFloat!==i)e["float"]="styleFloat";return c},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(d,c,t){function i(f,g){var k,l,q=[],v;l=d.require("sizzle");g=m(g);if(d.isString(f)){f=d.trim(f);if(B.test(f)){if(l=p(f.slice(1),g))q=[l]}else if(k=e.exec(f)){l=k[1];v=k[2];k=k[3];if(g=l?p(l,g):g)if(k)if(!l||f.indexOf(n)!==-1)q=j(k,v,g);else{if((l=p(l,g))&&c.hasClass(l,k))q=[l]}else if(v)q=b(v,g)}else if(l)q=l(f,g);else s(f)}else if(f&&(f[y]||f[x]))q=f[y]?[f[y]()]:f[x]();else if(f&&(d.isArray(f)||f&&!f.nodeType&&f.item&&!f.setTimeout))q=f;else if(f)q=[f];if(q&&!q.nodeType&&
q.item&&!q.setTimeout)q=d.makeArray(q);q.each=function(A,a){return d.each(q,A,a)};return q}function m(f){if(f===t)f=z;else if(d.isString(f)&&B.test(f))f=p(f.slice(1),z);else if(f&&f.nodeType!==1&&f.nodeType!==9)f=null;return f}function p(f,g){if(g.nodeType!==9)g=g.ownerDocument;return g.getElementById(f)}function b(f,g){return g.getElementsByTagName(f)}function j(f,g,k){k=f=k.getElementsByClassName(f);var l=0,q=0,v=f.length,A;if(g&&g!==r){k=[];for(g=g.toUpperCase();l<v;++l){A=f[l];if(A.tagName===
g)k[q++]=A}}return k}function s(f){d.error("Unsupported selector: "+f)}var z=document,n=" ",r="*",y="getDOMNode",x=y+"s",B=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var f=z.createElement("div");f.appendChild(z.createComment(""));if(f.getElementsByTagName(r).length>0)b=function(g,k){var l=k.getElementsByTagName(g);if(g===r){for(var q=[],v=0,A=0,a;a=l[v++];)if(a.nodeType===1)q[A++]=a;l=q}return l}})();z.getElementsByClassName||(j=z.querySelectorAll?function(f,g,k){return k.querySelectorAll((g?
g:"")+"."+f)}:function(f,g,k){g=k.getElementsByTagName(g||r);k=[];var l=0,q=0,v=g.length,A,a;for(f=n+f+n;l<v;++l){A=g[l];if((a=A.className)&&(n+a+n).indexOf(f)>-1)k[q++]=A}return k});d.mix(c,{query:i,get:function(f,g){return i(f,g)[0]||null},filter:function(f,g,k){k=i(f,k);var l=d.require("sizzle"),q,v,A,a=[];if(d.isString(g)&&(q=e.exec(g))&&!q[1]){v=q[2];A=q[3];g=function(o){return!(v&&o.tagName!==v.toUpperCase()||A&&!c.hasClass(o,A))}}if(d.isFunction(g))a=d.filter(k,g);else if(g&&l)a=l._filter(f,
g+"");else s(g);return a},test:function(f,g,k){f=i(f,k);return f.length&&c.filter(f,g,k).length===f.length}});return c},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(d,c,t,i,m){if(!t.ie)return c;t=document;i=t.documentElement;var p=c._CUSTOM_STYLES,b=/^-?\d+(?:px)?$/i,j=/^-?\d/,s=/^(?:width|height)$/;try{if(i.style.opacity==m&&i.filters)p.opacity={get:function(n){var r=100;try{r=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(y){try{r=n.filters("alpha").opacity}catch(x){}}return r/100+""},set:function(n,r){var y=n.style,x=(n.currentStyle||0).filter||"";y.zoom=1;if(x)x=d.trim(x.replace(/alpha\(opacity[=:][^)]+\),?/ig,
""));if(x&&r!=1)x+=", ";y.filter=x+(r!=1?"alpha(opacity="+r*100+")":"")}}}catch(z){}if(!(t.defaultView||{}).getComputedStyle&&i.currentStyle)c._getComputedStyle=function(n,r){var y=n.style,x=n.currentStyle[r];if(s.test(r))x=c[r](n)+"px";else if(!b.test(x)&&j.test(x)){var B=y.left,e=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;y.left=r==="fontSize"?"1em":x||0;x=y.pixelLeft+"px";y.left=B;n.runtimeStyle.left=e}return x};return c},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(d,c,t){function i(b,j,s,z){if(!(b=c.get(b)))return null;if(j===t)j=1;var n=null,r,y;if(d.isNumber(j)&&j>=0){if(j===0)return b;r=0;y=j;j=function(){return++r===y}}for(;b=b[s];)if(p(b)&&(!j||c.test(b,j))&&(!z||z(b))){n=b;break}return n}function m(b,j,s){var z=[];var n=b=c.get(b);if(b&&s)n=b.parentNode;if(n){s=0;for(n=n.firstChild;n;n=n.nextSibling)if(p(n)&&n!==b&&(!j||c.test(n,j)))z[s++]=n}return z}var p=c._isElementNode;d.mix(c,{parent:function(b,j){return i(b,j,
"parentNode",function(s){return s.nodeType!=11})},next:function(b,j){return i(b,j,"nextSibling",t)},prev:function(b,j){return i(b,j,"previousSibling",t)},siblings:function(b,j){return m(b,j,true)},children:function(b,j){return m(b,j,t)},contains:function(b,j){var s=false;if((b=c.get(b))&&(j=c.get(j)))if(b.contains){if(j.nodeType===3){j=j.parentNode;if(j===b)return true}if(j)return b.contains(j)}else if(b.compareDocumentPosition)return!!(b.compareDocumentPosition(j)&16);else for(;!s&&(j=j.parentNode);)s=
j==b;return s}});return c},{requires:["dom/base"]});KISSY.add("dom",function(d,c){return c},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(d,c){function t(p,b,j){this.currentTarget=p;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=j;this.target=p}this.currentTarget=p;this.fixed=true}var i=document,m="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");d.augment(t,
{_fix:function(){var p=this.originalEvent,b=m.length,j,s=this.currentTarget;for(s=s.nodeType===9?s:s.ownerDocument||i;b;){j=m[--b];this[j]=p[j]}if(!this.target)this.target=this.srcElement||i;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===c&&this.clientX!==c){p=s.documentElement;b=s.body;this.pageX=this.clientX+(p&&p.scrollLeft||b&&b.scrollLeft||
0)-(p&&p.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(p&&p.scrollTop||b&&b.scrollTop||0)-(p&&p.clientTop||b&&b.clientTop||0)}if(this.which===c)this.which=this.charCode!==c?this.charCode:this.keyCode;if(this.metaKey===c)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==c)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var p=this.originalEvent;if(p.preventDefault)p.preventDefault();else p.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var p=
this.originalEvent;if(p.stopPropagation)p.stopPropagation();else p.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var p=this.originalEvent;p.stopImmediatePropagation?p.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(p){p?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return t});
KISSY.add("event/base",function(d,c,t,i){function m(e,f,g,k,l){if(d.isString(f))f=c.query(f);if(d.isArray(f)){d.each(f,function(q){B[e](q,g,k,l)});return true}if((g=d.trim(g))&&g.indexOf(r)>0){d.each(g.split(r),function(q){B[e](f,q,k,l)});return true}return i}function p(e){return e&&e.nodeType!==3&&e.nodeType!==8?c.data(e,n):-1}function b(e,f){e&&e.nodeType!==3&&e.nodeType!==8&&c.data(e,n,f)}var j=document,s=j.addEventListener?function(e,f,g,k){e.addEventListener&&e.addEventListener(f,g,!!k)}:function(e,
f,g){e.attachEvent&&e.attachEvent("on"+f,g)},z=j.removeEventListener?function(e,f,g,k){e.removeEventListener&&e.removeEventListener(f,g,!!k)}:function(e,f,g){e.detachEvent&&e.detachEvent("on"+f,g)},n="ksEventTargetId",r=" ",y=d.now(),x={},B={EVENT_GUID:n,special:{},add:function(e,f,g,k){if(!m("add",e,f,g,k)){var l=p(e),q,v,A,a,o;if(!(l===-1||!f||!d.isFunction(g))){if(!l){b(e,l=y++);x[l]={target:e,events:{}}}v=x[l].events;if(!v[f]){q=((l=!e.isCustomEventTarget)||e._supportSpecialEvent)&&B.special[f]||
{};A=function(h,u){if(!h||!h.fixed)h=new t(e,h,f);if(d.isPlainObject(u)){var w=h.type;d.mix(h,u);h.type=w}q.setup&&q.setup(h);return(q.handle||B._handle)(e,h)};v[f]={handle:A,listeners:[]};a=q.fix||f;o=q.capture;q.init&&q.init.apply(null,d.makeArray(arguments));l&&q.fix!==false&&s(e,a,A,o)}v[f].listeners.push({fn:g,scope:k||e})}}},__getListeners:function(e,f){var g,k=[];if(g=(B.__getEvents(e)||{})[f])k=g.listeners;return k},__getEvents:function(e){var f=p(e),g;if(f!==-1)if(f&&(g=x[f]))if(g.target===
e)return g.events||{}},remove:function(e,f,g,k){if(!m("remove",e,f,g,k)){var l=B.__getEvents(e),q=p(e),v,A,a,o,h,u,w=(!e.isCustomEventTarget||e._supportSpecialEvent)&&B.special[f]||{};if(l!==i){k=k||e;if(v=l[f]){A=v.listeners;a=A.length;if(d.isFunction(g)&&a){h=o=0;for(u=[];o<a;++o)if(g!==A[o].fn||k!==A[o].scope)u[h++]=A[o];v.listeners=u;a=u.length}if(g===i||a===0){if(!e.isCustomEventTarget){w=B.special[f]||{};if(w.fix!==false)z(e,w.fix||f,v.handle)}delete l[f]}}w.destroy&&w.destroy.apply(null,d.makeArray(arguments));
if(f===i||d.isEmptyObject(l)){for(f in l)B.remove(e,f);delete x[q];c.removeData(e,n)}}}},_handle:function(e,f){var g=B.__getListeners(e,f.type);g=g.slice(0);for(var k,l,q=0,v=g.length;q<v;++q){k=g[q];k=k.fn.call(k.scope,f);if(l!==false)l=k;if(k!==i){f.result=k;k===false&&f.halt()}if(f.isImmediatePropagationStopped)break}return l},_getCache:function(e){return x[e]},__getID:p,_simpleAdd:s,_simpleRemove:z};B.on=B.add;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(d,c,t,i){return{isCustomEventTarget:true,fire:function(m,p){var b=t.data(this,c.EVENT_GUID)||-1;if((b=((c._getCache(b)||{}).events||{})[m])&&d.isFunction(b.handle))return b.handle(i,p)},on:function(m,p,b){c.add(this,m,p,b);return this},detach:function(m,p,b){c.remove(this,m,p,b);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(d,c){document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){c.special[t.name]={fix:t.fix,capture:true,setup:function(i){i.type=t.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(d,c,t,i){i.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(m){c.special[m.name]={fix:m.fix,setup:function(p){p.type=m.name},handle:function(p,b){if(t._isKSNode(p))p=p[0];var j=b.relatedTarget;try{for(;j&&j!==p;)j=j.parentNode;j!==p&&c._handle(p,b)}catch(s){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(d,c,t){c.Target=t;return c},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(d,c,t){function i(m,p,b){if(!(this instanceof i))return new i(m,p,b);if(!m){this.length=0;return t}if(d.isString(m)){m=c.create(m,p,b);if(m.nodeType===11)return new (d.require("node/nodelist"))(m.childNodes)}else if(m instanceof i)return m;else m=m;this[0]=m;return t}i.TYPE="-ks-Node";d.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});i.one=function(m,p){var b=c.get(m,p);return b?new i(b,t,t):null};return i},{requires:["dom"]});
KISSY.add("node/nodelist",function(d,c,t,i){function m(j){if(!(this instanceof m))return new m(j);p.push.apply(this,d.makeArray(j)||[]);return i}var p=Array.prototype,b=c._isElementNode;d.mix(m.prototype,{length:0,item:function(j){var s=null,z,n;if(b(j)){z=0;for(n=this.length;z<n;z++)if(j===this[z]){j=z;break}}if(b(this[j]))s=new t(this[j]);return s},getDOMNodes:function(){return p.slice.call(this)},each:function(j,s){var z=this.length,n=0,r;for(r=new t(this[0]);n<z&&j.call(s||r,r,n,this)!==false;r=
new t(this[++n]));return this}});m.all=function(j,s){return new m(c.query(j,s,true))};return m},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(d,c,t,i,m,p){function b(v,A,a,o){v=[this[v?g:f]()].concat(d.makeArray(A));if(A[a]===p&&(a!=1||d.isString(A[0])))return o.apply(c,v);o.apply(c,v);return this}function j(v,A){d.each(v,function(a){d.each([B,e],function(o,h){o[a]=function(u){switch(A){case k:return function(){return b.call(this,h,arguments,1,u)};case l:return function(){return b.call(this,h,arguments,0,u)};case q:return function(){var w=this[h?g:f]();return(w=u.apply(c,[w].concat(d.makeArray(arguments))))?
new (d.isArray(w)?m:i)(w):null};default:return function(){var w=this[h?g:f]();w=u.apply(c,[w].concat(d.makeArray(arguments)));return w===p?this:w}}}(c[a])})})}function s(v,A,a){v&&d.each(this,function(o){var h;if(A||d.isString(v))h=c.create(v);else{if(r(v,1)||r(v,3))h=v;if(y(v))h=v[0]}c[a](h,o)});return this}function z(v,A){if((v=c.get(v))&&v.appendChild)d.each(this,function(a){c[A](a,v)});return this}function n(v,A){v.__wrap=v.__wrap||[];v.__wrap.push(A)}var r=c._nodeTypeIs,y=c._isKSNode,x=d.require("event/target"),
B=i.prototype,e=m.prototype,f="getDOMNode",g=f+"s",k=1,l=2,q=4;d.mix(B,{one:function(v){return i.one(v,this[0])},all:function(v){return m.all(v,this[0])}});j(["data","removeData"],k);j(["hasClass","addClass","removeClass","replaceClass","toggleClass"],p);j(["attr","removeAttr"],k);j(["val","text"],l);j(["css"],k);j(["width","height"],l);j(["offset"],l);j(["scrollIntoView"],p);j(["parent","next","prev","siblings","children"],q);j(["contains"],p);j(["html","unselectable"],l);j(["remove"],p);d.each(["insertBefore",
"insertAfter"],function(v){B[v]=function(A){c[v].call(c,this[0],A);return this}});d.each([B,e],function(v,A){d.each(["append","prepend"],function(a){v[a]=function(o){return s.call(this,o,A,a)};v[a+"To"]=function(o){return z.call(this,o,a)}})});d.augment(i,x,{fire:null,on:function(v,A,a){function o(u){var w=d.makeArray(arguments);w.shift();u.target=new i(u.target);if(u.relatedTarget)u.relatedTarget=new i(u.relatedTarget);w.unshift(u);return A.apply(a||h,w)}var h=this;t.add(this[0],v,o,a);n(A,o);return this},
detach:function(v,A,a){if(d.isFunction(A)){A=A.__wrap||[];for(var o=0;o<A.length;o++)t.remove(this[0],v,A[o],a)}else t.remove(this[0],v,A,a);return this}});d.augment(m,x,{fire:null});B._supportSpecialEvent=true;d.each({on:"add",detach:"remove"},function(v,A){e[A]=function(a,o,h){for(var u=0;u<this.length;u++)this.item(u).on(a,o,h)}})},{requires:["dom","event","node/node","node/nodelist"]});KISSY.add("node",function(d,c,t){c.List=t;return c},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function d(r){return r<10?"0"+r:r}function c(r){b.lastIndex=0;return b.test(r)?'"'+r.replace(b,function(y){var x=z[y];return typeof x==="string"?x:"\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'}function t(r,y){var x,B,e,f,g=j,k,l=y[r];if(l&&typeof l==="object"&&typeof l.toJSON==="function")l=l.toJSON(r);if(typeof n==="function")l=n.call(y,r,l);switch(typeof l){case "string":return c(l);case "number":return isFinite(l)?String(l):"null";case "boolean":case "null":return String(l);
case "object":if(!l)return"null";j+=s;k=[];if(Object.prototype.toString.apply(l)==="[object Array]"){f=l.length;for(x=0;x<f;x+=1)k[x]=t(x,l)||"null";e=k.length===0?"[]":j?"[\n"+j+k.join(",\n"+j)+"\n"+g+"]":"["+k.join(",")+"]";j=g;return e}if(n&&typeof n==="object"){f=n.length;for(x=0;x<f;x+=1){B=n[x];if(typeof B==="string")if(e=t(B,l))k.push(c(B)+(j?": ":":")+e)}}else for(B in l)if(Object.hasOwnProperty.call(l,B))if(e=t(B,l))k.push(c(B)+(j?": ":":")+e);e=k.length===0?"{}":j?"{\n"+j+k.join(",\n"+j)+
"\n"+g+"}":"{"+k.join(",")+"}";j=g;return e}}var i=window,m=i.JSON;if(!m)m=i.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,s,z={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;if(typeof m.stringify!=="function")m.stringify=function(r,y,x){var B;s=j="";if(typeof x==="number")for(B=0;B<x;B+=1)s+=" ";else if(typeof x==="string")s=x;if((n=y)&&typeof y!=="function"&&(typeof y!=="object"||typeof y.length!=="number"))throw Error("JSON.stringify");return t("",{"":r})};if(typeof m.parse!==
"function")m.parse=function(r,y){function x(e,f){var g,k,l=e[f];if(l&&typeof l==="object")for(g in l)if(Object.hasOwnProperty.call(l,g)){k=x(l,g);if(k!==undefined)l[g]=k;else delete l[g]}return y.call(e,f,l)}var B;r=String(r);p.lastIndex=0;if(p.test(r))r=r.replace(p,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(r.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+r+")");return typeof y==="function"?x({"":B},""):B}throw new SyntaxError("JSON.parse");};return m});KISSY.add("json",function(d,c){return{parse:function(t){if(t==null||t==="")return null;return c.parse(t)},stringify:c.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(d,c,t,i){function m(h){h=d.merge(o,h);if(!h.url)return i;if(h.data&&!d.isString(h.data))h.data=d.param(h.data);h.context=h.context||h;var u,w=l,C,D=h.type.toUpperCase();if(h.dataType===x){u=h.jsonpCallback||x+d.now();h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+(h.jsonp+"="+u);h.dataType=B;var F=j[u];j[u]=function(I){if(d.isFunction(F))F(I);else{j[u]=i;try{delete j[u]}catch(H){}}p([l,q],I,w,E,h)}}if(h.data&&D===z)h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+h.data;
if(h.dataType===B){b(f,h);D=d.getScript(h.url,u?null:function(){p([l,q],e,w,E,h)});b(g,h);return D}var G=false,E=h.xhr();b(f,h);E.open(D,h.url,h.async);try{if(h.data||h.contentType)E.setRequestHeader(r,h.contentType);E.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*; q=0.01":h.accepts._default)}catch(J){}E.onreadystatechange=function(I){if(!E||E.readyState===0||I==="abort"){G||p(q,null,v,E,h);G=true;if(E)E.onreadystatechange=s}else if(!G&&E&&(E.readyState===
4||I===A)){G=true;E.onreadystatechange=s;var H;if(I===A)H=A;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?l:v}w=H;try{H=E;var M=h.dataType,N=e,O,L=H;if(!d.isString(L)){N=H.getResponseHeader(r)||e;L=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&L.documentElement.nodeName===a)throw a;}if(d.isString(L))if(M===y||!M&&N.indexOf(y)>=0)L=t.parse(L);C=L}catch(Q){w=a}p([w===l?l:v,q],C,w,E,h);if(I===A){E.abort();b(k,h)}if(h.async)E=
null}};b(g,h);try{E.send(D===n?h.data:null)}catch(K){p([v,q],C,v,E,h)}h.async||b(q,h);return E}function p(h,u,w,C,D){if(d.isArray(h))d.each(h,function(F){p(F,u,w,C,D)});else{w===h&&D[h]&&D[h].call(D.context,u,w,C);b(h,D)}}function b(h,u){m.fire(h,{ajaxConfig:u})}var j=window,s=function(){},z="GET",n="POST",r="Content-Type",y="json",x=y+"p",B="script",e="",f="start",g="send",k="stop",l="success",q="complete",v="error",A="timeout",a="parsererror",o={type:z,url:e,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:j.ActiveXObject?function(){if(j.XmlHttpRequest)try{return new j.XMLHttpRequest}catch(h){}try{return new j.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}}:function(){return new j.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};d.mix(m,c.Target);d.mix(m,{get:function(h,u,w,C,D){if(d.isFunction(u)){C=w;w=u}return m({type:D||
z,url:h,data:u,success:function(F,G,E){w&&w.call(this,F,G,E)},dataType:C})},post:function(h,u,w,C){if(d.isFunction(u)){C=w;w=u;u=i}return m.get(h,u,w,C,n)},jsonp:function(h,u,w){if(d.isFunction(u)){w=u;u=null}return m.get(h,u,w,x)}});return m},{requires:["event","json"]});KISSY.add("ajax",function(d,c){return c},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var d=Math,c=d.PI,t=d.pow,i=d.sin,m=1.70158,p={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(t(2,10*(b-=1))*i((b-0.075)*2*c/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return t(2,-10*b)*i((b-0.075)*2*c/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*t(2,10*(b-=1))*i((b-0.1125)*2*c/0.45);return t(2,-10*(b-=1))*i((b-0.1125)*2*c/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((m+1)*b-m)},backOut:function(b){return(b-=1)*b*((m+1)*b+m)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((m*=1.525)+1)*b-m);return 0.5*((b-=2)*b*(((m*=1.525)+1)*b+m)+2)},bounceIn:function(b){return 1-p.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return p.bounceIn(b*2)*0.5;return p.bounceOut(b*2-1)*0.5+0.5}};p.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return p});
KISSY.add("anim/manager",function(d){function c(i){i[t]=i[t]||d.guid("anim-");return i[t]}var t=d.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(i){var m=c(i);if(!this.runnings[m]){this.runnings[m]=i;this.startTimer()}},stop:function(i){this.notRun(i)},notRun:function(i){delete this.runnings[c(i)];d.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(i){this.notRun(i)},resume:function(i){this.start(i)},startTimer:function(){var i=this;if(!i.timer)i.timer=setTimeout(function(){if(i.runFrames())i.stopTimer();
else{i.timer=null;i.startTimer()}},i.interval)},stopTimer:function(){var i=this.timer;if(i){clearTimeout(i);this.timer=null}},runFrames:function(){var i=true,m=this.runnings,p;for(p in m)if(m.hasOwnProperty(p)){i=false;m[p]._runFrame()}return i}}});
KISSY.add("anim/base",function(d,c,t,i,m,p,b){function j(e,f,g,k,l,q){if(!(e=c.get(e)))return b;if(!(this instanceof j))return new j(e,f,g,k,l,q);var v=d.isPlainObject(g);f=f;this.domEl=e;if(d.isPlainObject(f))f=String(d.param(f,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var A=f,a=e;e={};var o=n.length,h=c.insertAfter(a.cloneNode(false),a);a=h.style;for(z(h,A);o--;){A=n[o];if(a[A])e[A]=(j.PROP_OPS[A]||j.PROP_OPS["*"]).getter(h,A)}c.remove(h);this.props=
e;this.targetStyle=f;if(v)v=d.merge(y,g);else{v=d.clone(y);if(g)v.duration=parseFloat(g)||1;if(d.isString(k)||d.isFunction(k))v.easing=k;if(d.isFunction(l))v.complete=l;if(q!==b)v.nativeSupport=q}this.config=v;if(v.nativeSupport&&B()&&d.isString(k=v.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(k)||(k=i.NativeTimeFunction[k])){v.easing=k;this.transitionName=B()}if(d.isFunction(l))this.callback=l;return b}function s(e,f){return f}function z(e,f){if(m.ie&&f.indexOf(r)>-1){var g=f.match(/opacity\s*:\s*([^;]+)(;|$)/);
g&&c.css(e,r,parseFloat(g[1]))}e.style.cssText+=";"+f}var n,r,y,x;t=t.Target;n="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
r="opacity";y={duration:1,easing:"easeNone",nativeSupport:true};j.PROPS=n;j.PROP_OPS={"*":{getter:function(e,f){var g=c.css(e,f),k=parseFloat(g);g=(g+"").replace(/^[-\d.]+/,"");if(isNaN(k))return{v:g,u:"",f:s};return{v:k,u:g,f:this.interpolate}},setter:function(e,f,g){return c.css(e,f,g)},interpolate:function(e,f,g){return(e+(f-e)*g).toFixed(3)}}};d.augment(j,t,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,run:function(){var e=this.config,f=this.domEl,g,k=this.props,l={},q;if(this.fire("start")!==
false){this.stop();this.duration=g=e.duration*1E3;if(this.transitionName)this._nativeRun();else{for(q in k)l[q]=(j.PROP_OPS[q]||j.PROP_OPS["*"]).getter(f,q);this.source=l;f=d.now();g=f+g;e=e.easing;if(d.isString(e))e=i[e]||i.easeNone;this.start=f;this.finish=g;this.easing=e;p.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var e=this.domEl,f=this.finish,g=this.start,k=this.duration,l=d.now(),q=this.source,
v=this.easing,A=this.props,a;g=l-g;k=l>f?1:g/k;var o,h;this.elapsedTime=g;for(a in A){g=q[a];o=A[a];if(o.v==0)o.u=g.u;if(g.u!==o.u){g.v=0;g.u=o.u}g=o.f(g.v,o.v,v(k))+o.u;(j.PROP_OPS[a]||j.PROP_OPS["*"]).setter(e,a,g)}if(this.fire("step")===false||(h=l>f)){this.stop();h&&this._complete()}},_nativeRun:function(){var e=this,f=e.domEl,g=e.duration,k=e.config.easing,l=e.transitionName,q={};q[l+"Property"]="all";q[l+"Duration"]=g+"ms";q[l+"TimingFunction"]=k;c.css(f,q);d.later(function(){z(f,e.targetStyle)},
0);d.later(function(){e.stop(true)},g)},stop:function(e){if(this.transitionName)this._nativeStop(e);else{if(e){z(this.domEl,this.targetStyle);this._complete()}p.stop(this)}this.isRunning=false;return this},_nativeStop:function(e){var f=this.domEl,g=this.transitionName,k=this.props,l;if(e){c.css(f,g+"Property","none");this._complete()}else{for(l in k)c.css(f,l,c._getComputedStyle(f,l));c.css(f,g+"Property","none")}}});j.supportTransition=function(){if(x)return x;var e="transition",f,g=document.body;
if(g.style[e]!==b)f=e;else d.each(["Webkit","Moz","O"],function(k){if(g.style[e=k+"Transition"]!==b){f=e;return false}});return x=f};var B=j.supportTransition;return j},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(d,c,t,i,m){function p(e,f,g,k,l){if(f==="toggle"){l=c.css(e,j)===s?1:0;f="show"}if(l)c.css(e,j,c.data(e,j)||"");var q={},v={};d.each(B[f],function(A){if(A===z){q[z]=c.css(e,z);c.css(e,z,n)}else if(A===r){q[r]=c.css(e,r);v.opacity=l?1:0;l&&c.css(e,r,0)}else if(A===y){q[y]=c.css(e,y);v.height=l?c.css(e,y)||e.naturalHeight:0;l&&c.css(e,y,0)}else if(A===x){q[x]=c.css(e,x);v.width=l?c.css(e,x)||e.naturalWidth:0;l&&c.css(e,x,0)}});(new t(e,v,g,"easeOut",function(){if(!l){var A=
e.style,a=A[j];if(a!==s){a&&c.data(e,j,a);A[j]=s}q[y]&&c.css(e,{height:q[y]});q[x]&&c.css(e,{width:q[x]});q[r]&&c.css(e,{opacity:q[r]});q[z]&&c.css(e,{overflow:q[z]})}k&&d.isFunction(k)&&k()})).run()}i=d.require("node/node").prototype;var b=d.require("node/nodelist").prototype,j="display",s="none",z="overflow",n="hidden",r="opacity",y="height",x="width",B={show:[z,r,y,x],fade:[r],slide:[z,y]};d.each([i,b],function(e){e.animate=function(){var f=d.makeArray(arguments);d.each(this,function(g){t.apply(m,
[g].concat(f)).run()});return this};d.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(f,g){e[g]=function(k,l){c[g]&&arguments.length===0?c[g](this):d.each(this,function(q){p(q,f[0],k,l,f[1])});return this}})})},{requires:["dom","anim/base","node"]});
KISSY.add("anim/color",function(d,c,t){var i=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,m=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,p=t.PROP_OPS;t=t.PROPS;p.color={getter:function(b,j){var s;var z=c.css(b,j);if(s=z.match(i))s=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])];else if(s=z.match(m)){for(z=1;z<s.length;z++)if(s[z].length<2)s[z]+=s[z];s=[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}else s=[255,255,255];return{v:s,u:"",f:this.interpolate}},setter:p["*"].setter,
interpolate:function(b,j,s){var z=p["*"].interpolate;return"rgb("+[Math.floor(z(b[0],j[0],s)),Math.floor(z(b[1],j[1],s)),Math.floor(z(b[2],j[2],s))].join(", ")+")"}};d.each(t,function(b){if(b.match(/color$/i))p[b]=p.color})},{requires:["dom","./base"]});KISSY.add("anim",function(d,c,t){c.Easing=t;return c},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color"]});
KISSY.add("base/attribute",function(d,c){function t(){this.__attrs={};this.__attrVals={}}function i(m){m+="";return m.charAt(0).toUpperCase()+m.substring(1)}d.augment(t,{__getDefAttrs:function(){return d.clone(this.__attrs)},addAttr:function(m,p,b){if(this.__attrs[m])d.mix(this.__attrs[m],p,b);else this.__attrs[m]=d.clone(p||{});return this},hasAttr:function(m){return m&&this.__attrs.hasOwnProperty(m)},removeAttr:function(m){if(this.hasAttr(m)){delete this.__attrs[m];delete this.__attrVals[m]}return this},
set:function(m,p){var b=this.get(m);if(b!==p)if(false!==this.__fireAttrChange("before",m,b,p)){this.__set(m,p);this.__fireAttrChange("after",m,b,this.__attrVals[m]);return this}},__fireAttrChange:function(m,p,b,j){return this.fire(m+i(p)+"Change",{attrName:p,prevVal:b,newVal:j})},__set:function(m,p){var b,j=this.__attrs[m];if(j=j&&j.setter)b=j.call(this,p);if(b!==c)p=b;this.__attrVals[m]=p},get:function(m){var p;p=(p=this.__attrs[m])&&p.getter;m=m in this.__attrVals?this.__attrVals[m]:this.__getDefAttrVal(m);
if(p)m=p.call(this,m);return m},__getDefAttrVal:function(m){m=this.__attrs[m];var p;if(m){if(p=m.valueFn){p=p.call(this);if(p!==c)m.value=p;delete m.valueFn}return m.value}},reset:function(m){if(this.hasAttr(m))return this.set(m,this.__getDefAttrVal(m));for(m in this.__attrs)this.hasAttr(m)&&this.reset(m);return this}});t.__capitalFirst=i;return t});
KISSY.add("base/base",function(d,c){function t(i){c.call(this);for(var m=this.constructor;m;){var p=m.ATTRS;if(p){var b=void 0;for(b in p)p.hasOwnProperty(b)&&this.addAttr(b,p[b],false)}m=m.superclass?m.superclass.constructor:null}if(i)for(var j in i)i.hasOwnProperty(j)&&this.__set(j,i[j])}d.augment(t,d.require("event/target"),c);return t},{requires:["base/attribute","event"]});KISSY.add("base",function(d,c){return c},{requires:["base/base"]});
KISSY.add("cookie/base",function(d){function c(p){return d.isString(p)&&p!==""}var t=document,i=encodeURIComponent,m=decodeURIComponent;return{get:function(p){var b;if(c(p))if(p=String(t.cookie).match(RegExp("(?:^| )"+p+"(?:(?:=([^;]*))|;|$)")))b=p[1]?m(p[1]):"";return b},set:function(p,b,j,s,z,n){b=String(i(b));var r=j;if(typeof r==="number"){r=new Date;r.setTime(r.getTime()+j*864E5)}if(r instanceof Date)b+="; expires="+r.toUTCString();if(c(s))b+="; domain="+s;if(c(z))b+="; path="+z;if(n)b+="; secure";
t.cookie=p+"="+b},remove:function(p,b,j,s){this.set(p,"",0,b,j,s)}}});KISSY.add("cookie",function(d,c){return c},{requires:["cookie/base"]});KISSY.add("core",function(d,c,t,i,m,p,b,j,s,z){c={UA:c,DOM:t,Event:i,EventTarget:i.Target,Node:m,NodeList:m.List,JSON:p,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:j,Easing:j.Easing,Base:s,Cookie:z,one:m.one,all:m.List.all,get:t.get,query:t.query};d.mix(d,c);return c},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
