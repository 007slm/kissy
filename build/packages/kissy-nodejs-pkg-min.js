/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(){var c=require("jsdom").jsdom;document=c("<html><head></head><body></body></html>");window=document.createWindow();location=window.location;navigator=window.navigator;KISSY={__HOST:window};exports.KISSY=window.KISSY=KISSY})();
(function(c){function d(k){for(var b=0;b<k.length;b++)if(k[b].match(/\/$/))k[b]+="index";return k}function r(k,b){if(!b)return b;if(c.isArray(b)){for(var g=0;g<b.length;g++)b[g]=r(k,b[g]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){g="";var v;if((v=k.lastIndexOf("/"))!=-1)g=k.substring(0,v+1);return i.normalize(g+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?i.normalize(b):b}var i=require("path");c.Env={};c.Env.mods={};var j=c.Env.mods;(function(k,b){for(var g in b)if(b.hasOwnProperty(g))k[g]=
b[g]})(c,{Config:{base:__filename.replace(/[^/]*$/i,"")},add:function(k,b,g){j[k]={name:k,fn:b};c.mix(j[k],g)},_packages:function(k){var b;b=this.__packages=this.__packages||{};for(var g=0;g<k.length;g++){var v=k[g];b[v.name]=v;if(v.path&&!v.path.match(/\/$/))v.path+="/"}},_getPath:function(k){var b=this.__packages=this.__packages||{},g="",v;for(v in b)if(b.hasOwnProperty(v))if(k.lastIndexOf(v,0)==0)if(v.length>g)g=v;return(b[g]&&b[g].path||this.Config.base)+k},_combine:function(k,b){var g=this,v;
if(c.isObject(k))c.each(k,function(y,u){c.each(y,function(x){g._combine(x,u)})});else{v=g.__combines=g.__combines||{};if(b)v[k]=b;else return v[k]||k}},require:function(k){k=j[k];var b=this.onRequire&&this.onRequire(k);if(b!==undefined)return b;return k&&k.value},_attach:function(k){var b=this._getPath(this._combine(k)),g=j[k];g||require(b);g=j[k];if(!g.attached){g.requires=g.requires||[];b=g.requires;r(k,b);k=[this];for(var v=0;v<b.length;v++){this._attach(b[v]);k.push(this.require(b[v]))}g.value=
g.fn.apply(null,k);g.attached=true}},use:function(k,b){k=k.replace(/\s+/g,"").split(",");d(k);var g=this,v=[this];c.each(k,function(y){g._attach(y);v.push(g.require(y))});b&&b.apply(null,v)}})})(KISSY);
(function(c,d){var r=this,i={mix:function(b,g,v,y){if(!g||!b)return b;if(v===d)v=true;var u,x,z;if(y&&(z=y.length))for(u=0;u<z;u++){x=y[u];if(x in g)if(v||!(x in b))b[x]=g[x]}else for(x in g)if(v||!(x in b))b[x]=g[x];return b}},j=r&&r[c]||{},k=0;r=j.__HOST||(j.__HOST=r||{});c=r[c]=i.mix(j,i,false);c.mix(c,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"20110427214546",merge:function(){var b={},g,v=arguments.length;for(g=0;g<v;g++)c.mix(b,arguments[g]);return b},
augment:function(){var b=c.makeArray(arguments),g=b.length-2,v=b[0],y=b[g],u=b[g+1],x=1;if(!c.isArray(u)){y=u;u=d;g++}if(!c.isBoolean(y)){y=d;g++}for(;x<g;x++)c.mix(v.prototype,b[x].prototype||b[x],y,u);return v},extend:function(b,g,v,y){if(!g||!b)return b;var u=Object.create?function(A,B){return Object.create(A,{constructor:{value:B}})}:function(A,B){function s(){}s.prototype=A;var o=new s;o.constructor=B;return o},x=g.prototype,z;z=u(x,b);b.prototype=c.mix(z,b.prototype);b.superclass=u(x,g);v&&
c.mix(z,v);y&&c.mix(b,y);return b},__init:function(){this.Config=this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var b=c.makeArray(arguments),g=b.length,v=null,y,u,x,z=b[g-1]===true&&g--;for(y=0;y<g;y++){x=(""+b[y]).split(".");v=z?r:this;for(u=r[x[0]]===v?1:0;u<x.length;++u)v=v[x[u]]=v[x[u]]||{}}return v},app:function(b,g){var v=c.isString(b),y=v?r[b]||{}:b,u=0,x=c.__APP_INIT_METHODS.length;for(c.mix(y,this,true,c.__APP_MEMBERS);u<x;u++)c[c.__APP_INIT_METHODS[u]].call(y);
c.mix(y,c.isFunction(g)?g():g);v&&(r[b]=y);return y},config:function(b){for(var g in b)this["_"+g]&&this["_"+g](b[g])},log:function(b,g,v){if(c.Config.debug){if(v)b=v+": "+b;if(r.console!==d&&console.log)console[g&&console[g]?g:"log"](b)}},error:function(b){if(c.Config.debug)throw b;},guid:function(b){return(b||"")+k++}});c.__init();return c})("KISSY");
(function(c,d){function r(){if(m)return m;var f="";c.each(o,function(t){f+=t+"|"});f=f.slice(0,-1);return m=RegExp(f,"g")}function i(){if(l)return l;var f="";c.each(q,function(t){f+=t+"|"});f+="&#(\\d{1,5});";return l=RegExp(f,"g")}function j(f){var t=typeof f;return f===null||t!=="object"&&t!=="function"}var k=c.__HOST,b=Object.prototype.toString,g=Array.prototype,v=g.indexOf,y=g.lastIndexOf,u=g.filter,x=String.prototype.trim,z=/^\s+|\s+$/g,A=encodeURIComponent("[]"),B=/^(\w+)\[\]$/,s={},o={"&amp;":"&",
"&gt;":">","&lt;":"<","&quot;":'"'},q={},m,l,n;for(n in o)q[o[n]]=n;c.mix(c,{type:function(f){return f==null?String(f):s[b.call(f)]||"object"},isNull:function(f){return f===null},isUndefined:function(f){return f===d},isEmptyObject:function(f){for(var t in f)if(t!==d)return false;return true},isPlainObject:function(f){return f&&b.call(f)==="[object Object]"&&"isPrototypeOf"in f},clone:function(f,t,a){var h=f,e,p,w=a||{};if(f&&((e=c.isArray(f))||c.isPlainObject(f))){if(f["__~ks_cloned"])return w[f["__~ks_cloned"]];
f["__~ks_cloned"]=h=c.guid();w[h]=f;if(e)h=t?c.filter(f,t):f.concat();else{h={};for(p in f)if(p!=="__~ks_cloned"&&f.hasOwnProperty(p)&&(!t||t.call(f,f[p],p,f)!==false))h[p]=c.clone(f[p],t,w)}}if(!a){c.each(w,function(C){if(C["__~ks_cloned"])try{delete C["__~ks_cloned"]}catch(D){C["__~ks_cloned"]=d}});w=d}return h},trim:x?function(f){return f==d?"":x.call(f)}:function(f){return f==d?"":f.toString().replace(z,"")},substitute:function(f,t,a){if(!c.isString(f)||!c.isPlainObject(t))return f;return f.replace(a||
/\\?\{([^{}]+)\}/g,function(h,e){if(h.charAt(0)==="\\")return h.slice(1);return t[e]!==d?t[e]:""})},each:function(f,t,a){var h,e=0,p=f&&f.length,w=p===d||c.type(f)==="function";a=a||k;if(w)for(h in f){if(t.call(a,f[h],h,f)===false)break}else for(h=f[0];e<p&&t.call(a,h,e,f)!==false;h=f[++e]);return f},indexOf:v?function(f,t){return v.call(t,f)}:function(f,t){for(var a=0,h=t.length;a<h;++a)if(t[a]===f)return a;return-1},lastIndexOf:y?function(f,t){return y.call(t,f)}:function(f,t){for(var a=t.length-
1;a>=0;a--)if(t[a]===f)break;return a},unique:function(f,t){t&&f.reverse();for(var a=f.slice(),h=0,e,p;h<a.length;){for(p=a[h];(e=c.lastIndexOf(p,a))!==h;)a.splice(e,1);h+=1}t&&a.reverse();return a},inArray:function(f,t){return c.indexOf(f,t)>-1},filter:u?function(f,t,a){return u.call(f,t,a||this)}:function(f,t,a){var h=[];c.each(f,function(e,p,w){if(t.call(a||this,e,p,w))h.push(e)});return h},now:function(){return(new Date).getTime()},fromUnicode:function(f){return f.replace(/\\u([a-f\d]{4})/ig,
function(t,a){return String.fromCharCode(parseInt(a,16))})},escapeHTML:function(f){return f.replace(r(),function(t){return q[t]})},unEscapeHTML:function(f){return f.replace(i(),function(t,a){return o[t]||String.fromCharCode(+a)})},makeArray:function(f){if(f===null||f===d)return[];if(c.isArray(f))return f;if(typeof f.length!=="number"||c.isString(f)||c.isFunction(f))return[f];for(var t=[],a=0,h=f.length;a<h;a++)t[a]=f[a];return t},param:function(f,t){if(!c.isPlainObject(f))return"";t=t||"&";var a=
[],h,e;for(h in f){e=f[h];h=encodeURIComponent(h);if(j(e))a.push(h,"=",encodeURIComponent(e+""),t);else if(c.isArray(e)&&e.length)for(var p=0,w=e.length;p<w;++p)j(e[p])&&a.push(h,A+"=",encodeURIComponent(e[p]+""),t)}a.pop();return a.join("")},unparam:function(f,t){if(typeof f!=="string"||(f=c.trim(f)).length===0)return{};for(var a={},h=f.split(t||"&"),e,p,w,C,D=0,F=h.length;D<F;++D){e=h[D].split("=");p=decodeURIComponent(e[0]);try{w=decodeURIComponent(e[1]||"")}catch(G){w=e[1]||""}if((C=p.match(B))&&
C[1]){a[C[1]]=a[C[1]]||[];a[C[1]].push(w)}else a[p]=w}return a},later:function(f,t,a,h,e){t=t||0;h=h||{};var p=f,w=c.makeArray(e),C;if(c.isString(f))p=h[f];p||c.error("method undefined");f=function(){p.apply(h,w)};C=a?setInterval(f,t):setTimeout(f,t);return{id:C,interval:a,cancel:function(){this.interval?clearInterval(C):clearTimeout(C)}}}});c.mix(c,{isBoolean:j,isNumber:j,isString:j,isFunction:j,isArray:j,isDate:j,isRegExp:j,isObject:j});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(f,t){s["[object "+f+"]"]=t=f.toLowerCase();c["is"+f]=function(a){return c.type(a)==t}})})(KISSY);
(function(c,d){function r(a){a=a.split("/");for(var h=[],e,p=0;p<a.length;p++){e=a[p];if(e!=".")e==".."?h.pop():h.push(e)}return h.join("/")}function i(a,h){if(!h)return h;if(c.isArray(h)){for(var e=0;e<h.length;e++)h[e]=i(a,h[e]);return h}if(h.lastIndexOf("../",0)==0||h.lastIndexOf("./",0)==0){e=z;var p;if((p=a.lastIndexOf("/"))!=-1)e=a.substring(0,p+1);return r(e+h)}else return h.indexOf("./")!=-1||h.indexOf("../")!=-1?r(h):h}function j(a){return a.replace(/(-min)?\.js[^/]*$/i,z)}function k(a){if(a.charAt(a.length-
1)!="/")a+="/";a=c.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=n+a;return r(a)}function b(a){for(var h=0;h<a.length;h++)if(a[h].match(/\/$/))a[h]+="index";return a}function g(a){var h=a.src,e=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=h.split(a);var p,w=a[0];e=w.indexOf(e);if(e==-1)p=h.replace(f,"$1");else{p=w.substring(0,e);h=w.substring(e+2,w.length);if(h.match(t))p+=h.replace(f,"$1");else c.each(a,function(C){if(C.match(t)){p+=
C.replace(f,"$1");return false}})}if(!p.match(/^(http(s)?)|(file):/i)&&p.lastIndexOf("/",0)!=0)p=n+p;return p}if(!c.use){var v=c.__HOST,y=!v.getSelection&&v.ActiveXObject,u=v.document,x=u.getElementsByTagName("head")[0]||u.documentElement,z="",A=2,B=3,s=4,o=c.mix,q=u.addEventListener?function(a,h){a.addEventListener("load",h,false)}:function(a,h){var e=a.onreadystatechange;a.onreadystatechange=function(){var p=a.readyState;if(p==="loaded"||p==="complete"){a.onreadystatechange=null;e&&e();h.call(this)}}},
m=/\.css(?:\?|$)/i,l=encodeURIComponent(c.buildTime),n=location.href.replace(/[^/]*$/i,z);v={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,h,e){var p=this.Env.mods,w;if(c.isString(a)&&!e&&c.isPlainObject(h)){w={};w[a]=h;a=w}if(c.isPlainObject(a)){c.each(a,function(D,F){D.name=F;p[F]&&o(D,p[F],false)});o(p,a);return this}if(c.isString(a)){var C;if(e&&(C=e.host)){a=p[C];if(!a){c.error("module "+C+" can not be found !");return this}if(this.__isAttached(C))h.call(this,
this);else{a.fns=a.fns||[];a.fns.push(h)}return this}this.__registerModule(a,h,e);if(e&&e.attach===false)return this;h=p[a];a=i(a,h.requires);if(this.__isAttached(a))this.__attachMod(h);else if(this.Config.debug&&!h)for(a=c.makeArray(a).length-1;a>=0;a--);return this}if(c.isFunction(a)){e=h;h=a;if(y){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,h,e):c.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,h,e)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:h,config:e};return this}c.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),h,e,p=0;p<a.length;p++){e=a[p];if(e.readyState=="interactive"){h=e;break}}h||c.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=h.src;if(a.lastIndexOf(this.Config.base,0)==0)return j(a.substring(this.Config.base.length));h=this.__packages;for(var w in h){e=h[w].path;if(h.hasOwnProperty(w)&&
a.lastIndexOf(e,0)==0)return j(a.substring(e.length))}c.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,h,e){e=e||{};var p=this.Env.mods,w=p[a]||{};o(w,{name:a,status:A});w.fns=w.fns||[];w.fns.push(h);o(p[a]=w,e)},_packages:function(a){var h;h=this.__packages=this.__packages||{};c.each(a,function(e){h[e.name]=e;if(e.path)e.path=k(e.path);if(e.tag)e.tag=encodeURIComponent(e.tag)})},_combine:function(a,h){var e=this,p;if(c.isObject(a))c.each(a,function(w,C){c.each(w,function(D){e._combine(D,
C)})});else{p=e.__combines=e.__combines||{};if(h)p[a]=h;else return p[a]||a}},__mixMods:function(a){var h=this.Env.mods,e=a.Env.mods,p;for(p in e)this.__mixMod(h,e,p,a)},__mixMod:function(a,h,e,p){var w=a[e]||{},C=w.status;c.mix(w,c.clone(h[e]));if(C)w.status=C;p&&this.__buildPath(w,p.Config.base);a[e]=w},use:function(a,h,e){a=a.replace(/\s+/g,z).split(",");b(a);e=e||{};var p=this,w;e.global&&p.__mixMods(e.global);if(p.__isAttached(a)){var C=p.__getModules(a);h&&h.apply(p,C)}else{c.each(a,function(D){p.__attachModByName(D,
function(){if(!w&&p.__isAttached(a)){w=true;var F=p.__getModules(a);h&&h.apply(p,F)}},e)});return p}},__getModules:function(a){var h=this,e=[h];c.each(a,function(p){e.push(h.require(p))});return e},require:function(a){a=this.Env.mods[a];var h=this.onRequire&&this.onRequire(a);if(h!==undefined)return h;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var h=this._combine(a.name),e=this.__packages||{},p="",w;for(w in e)if(e.hasOwnProperty(w)&&h.lastIndexOf(w,0)==
0&&w.length>p)p=w;e=(h=e[p])&&h.path||this.Config.base;if(h&&h.charset)a.charset=h.charset;a.tag=h?h.tag:l;return a.packagepath=e},__attachModByName:function(a,h,e){var p=this.Env.mods,w=p[a];if(!w){w=this.Config.componentJsName||function(C){return C+"-min.js"};w={path:c.isFunction(w)?w(this._combine(a)):w,charset:"utf-8"};p[a]=w}w.name=a;w&&w.status===s||this.__attach(w,h,e)},__attach:function(a,h,e){function p(){if(!F&&w.__isAttached(a.requires)){a.status===A&&w.__attachMod(a);if(a.status===s){F=
true;h()}}}var w=this,C=w.Env.mods,D=(a.requires||[]).concat();a.requires=D;c.each(D,function(G,E,J){G=J[E]=i(a.name,G);(E=C[G])&&E.status===s||w.__attachModByName(G,p,e)});w.__buildPath(a,w.__getPackagePath(a));w.__load(a,function(){if(w.__currentModule){w.__registerModule(a.name,w.__currentModule.def,w.__currentModule.config);w.__currentModule=null}a.requires=a.requires||[];var G=[];c.each(a.requires,function(E,J,K){E=K[J]=i(a.name,E);J=C[E];K=c.inArray(E,D);J&&J.status===s||K||w.__attachModByName(E,
p,e);if(!K&&(!J||J.status<A))G.push(E)});G.length!=0&&G.unshift(a.name);if(c.isString(a.csspath)||c.isString(a.cssfullpath)){w.__buildPath(a,w.__getPackagePath(a));c.getScript(a.cssfullpath)}p()},e);var F=false},__attachMod:function(a){var h=this,e=a.fns;e&&c.each(e,function(p){p=c.isFunction(p)?p.apply(h,h.__getModules(a.requires)):p;a.value=a.value||p});a.status=s},__isAttached:function(a){var h=this.Env.mods,e=true;c.each(a,function(p){p=h[p];if(!p||p.status!==s)return e=false});return e},__load:function(a,
h,e){function p(){e.global&&C.__mixMod(C.Env.mods,e.global.Env.mods,a.name,e.global)}function w(){F[D]=A;if(a.status!==B){p();if(a.status!==s)a.status=A;h()}}var C=this,D=a.fullpath,F=c.Env._loadQueue,G=F[D];a.status=a.status||0;if(a.status<1&&G)a.status=G.nodeName?1:A;if(c.isString(a.cssfullpath)){c.getScript(a.cssfullpath);a.cssfullpath=a.csspath=A}if(a.status<1&&D){a.status=1;if(y){C.__startLoadModuleName=a.name;C.__startLoadTime=Number(+new Date)}G=c.getScript(D,{success:function(){p();if(!(a.fns&&
a.fns.length>0))a.status=B;w()},error:function(){a.status=B;w()},charset:a.charset});m.test(D)||(F[D]=G)}else a.status===1?q(G,w):h()},__buildPath:function(a,h){function e(w,C){if(!a[w]&&a[C]){a[C]=i(a.name,a[C]);a[w]=(h||p.base)+a[C]}if(a[w]&&p.debug)a[w]=a[w].replace(/-min/ig,z);if(a[w]&&!a[w].match(/\?t=/)&&a.tag)a[w]+="?t="+a.tag}var p=this.Config;e("fullpath","path");e("cssfullpath","csspath")},getScript:function(a,h,e){var p=/\.css(?:\?|$)/i.test(a),w=u.createElement(p?"link":"script"),C=h,
D,F,G;if(c.isPlainObject(C)){h=C.success;D=C.error;F=C.timeout;e=C.charset}if(p){w.href=a;w.rel="stylesheet"}else{w.src=a;w.async=true}if(e)w.charset=e;if(p)c.isFunction(h)&&h.call(w);else q(w,function(){if(G){G.cancel();G=d}c.isFunction(h)&&h.call(w)});if(c.isFunction(D)){u.addEventListener&&w.addEventListener("error",function(){if(G){G.cancel();G=d}D.call(w)},false);G=c.later(function(){G=d;D()},(F||this.Config.timeout)*1E3)}x.insertBefore(w,x.firstChild);return w}};o(c,v);var f=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,
t=/(seed|kissy)(-min)?\.js/i;c.__initLoader=function(){var a=u.getElementsByTagName("script");a=g(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=k(a);if(!this.Config.timeout)this.Config.timeout=10};c.__initLoader();c.each(v,function(a,h){c.__APP_MEMBERS.push(h)});c.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(c){var d=c.__HOST,r=d.document,i=r.documentElement,j=false,k=[],b=false,g=/^#?([\w-]+)$/,v=/\S/;c.mix(c,{isWindow:function(y){return c.type(y)==="object"&&"setInterval"in y&&"document"in y&&y.document.nodeType==9},globalEval:function(y){if(y&&v.test(y)){var u=r.getElementsByTagName("head")[0]||i,x=r.createElement("script");x.text=y;u.insertBefore(x,u.firstChild);u.removeChild(x)}},ready:function(y){b||this._bindReady();j?y.call(d,this):k.push(y);return this},_bindReady:function(){var y=
this,u=r.documentElement.doScroll,x=u?"onreadystatechange":"DOMContentLoaded",z=function(){y._fireReady()};b=true;if(r.readyState==="complete")return z();if(r.addEventListener){var A=function(){r.removeEventListener(x,A,false);z()};r.addEventListener(x,A,false);d.addEventListener("load",z,false)}else{var B=function(){if(r.readyState==="complete"){r.detachEvent(x,B);z()}};r.attachEvent(x,B);d.attachEvent("onload",z);var s=false;try{s=d.frameElement==null}catch(o){}if(u&&s){var q=function(){try{u("left");
z()}catch(m){setTimeout(q,1)}};q()}}},_fireReady:function(){if(!j){j=true;if(k){for(var y,u=0;y=k[u++];)y.call(d,this);k=null}}},available:function(y,u){if((y=(y+"").match(g)[1])&&c.isFunction(u))var x=1,z=c.later(function(){if(r.getElementById(y)&&(u()||1)||++x>500)z.cancel()},40,true)}});if(location&&(location.search||"").indexOf("ks-debug")!==-1)c.Config.debug=true})(KISSY);(function(c){c.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var c=navigator.userAgent,d="",r="",i,j={},k=function(b){var g=0;return parseFloat(b.replace(/\./g,function(){return g++===0?".":""}))};if((i=c.match(/AppleWebKit\/([\d.]*)/))&&i[1]){j[d="webkit"]=k(i[1]);if((i=c.match(/Chrome\/([\d.]*)/))&&i[1])j[r="chrome"]=k(i[1]);else if((i=c.match(/\/([\d.]*) Safari/))&&i[1])j[r="safari"]=k(i[1]);if(/ Mobile\//.test(c))j.mobile="apple";else if(i=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=i[0].toLowerCase()}else if((i=
c.match(/Presto\/([\d.]*)/))&&i[1]){j[d="presto"]=k(i[1]);if((i=c.match(/Opera\/([\d.]*)/))&&i[1]){j[r="opera"]=k(i[1]);if((i=c.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])j[r]=k(i[1]);if((i=c.match(/Opera Mini[^;]*/))&&i)j.mobile=i[0].toLowerCase();else if((i=c.match(/Opera Mobi[^;]*/))&&i)j.mobile=i[0]}}else if((i=c.match(/MSIE\s([^;]*)/))&&i[1]){j[d="trident"]=0.1;j[r="ie"]=k(i[1]);if((i=c.match(/Trident\/([\d.]*)/))&&i[1])j[d]=k(i[1])}else if(i=c.match(/Gecko/)){j[d="gecko"]=0.1;if((i=c.match(/rv:([\d.]*)/))&&
i[1])j[d]=k(i[1]);if((i=c.match(/Firefox\/([\d.]*)/))&&i[1])j[r="firefox"]=k(i[1])}j.core=d;j.shell=r;j._numberify=k;return j});
KISSY.add("ua/extra",function(c,d){var r=navigator.userAgent,i,j,k={},b=d._numberify;if(r.match(/360SE/))k[j="se360"]=3;else if(r.match(/Maxthon/)&&(i=window.external)){j="maxthon";try{k[j]=b(i.max_version)}catch(g){k[j]=0.1}}else if(i=r.match(/TencentTraveler\s([\d.]*)/))k[j="tt"]=i[1]?b(i[1]):0.1;else if(r.match(/TheWorld/))k[j="theworld"]=3;else if(i=r.match(/SE\s([\d.]*)/))k[j="sougou"]=i[1]?b(i[1]):0.1;j&&(k.shell=j);c.mix(d,k);return d},{requires:["ua/base"]});
KISSY.add("ua",function(c,d){return d},{requires:["ua/extra"]});KISSY.add("dom/base",function(c,d){function r(i,j){return i&&i.nodeType===j}return{_isElementNode:function(i){return r(i,1)},_isKSNode:function(i){var j=c.require("node/node");return j&&r(i,j.TYPE)},_getWin:function(i){return i&&"scrollTo"in i&&i.document?i:r(i,9)?i.defaultView||i.parentWindow:i===d?window:false},_nodeTypeIs:r}});
KISSY.add("dom/attr",function(c,d,r,i){var j=document.documentElement,k=!j.hasAttribute,b=j.textContent!==i?"textContent":"innerText",g=d._isElementNode,v=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,u=/\r/g,x=/^(?:radio|checkbox)/,z={readonly:"readOnly"},A={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};k&&c.mix(z,{"for":"htmlFor","class":"className"});var B={tabindex:{getter:function(s){return s.tabIndex},setter:function(s,o){if(isNaN(parseInt(o))){s.removeAttribute("tabindex");
s.removeAttribute("tabIndex")}else s.tabIndex=o}},style:{getter:function(s){return s.style.cssText},setter:function(s,o){s.style.cssText=o}},checked:{setter:function(s,o){s.checked=!!o}},disabled:{setter:function(s,o){s.disabled=!!o}}};c.mix(d,{attr:function(s,o,q,m){if(c.isPlainObject(o)){m=q;for(var l in o)d.attr(s,l,o[l],m)}else if(o=c.trim(o)){o=o.toLowerCase();if(m&&A[o])return d[o](s,q);o=z[o]||o;var n=B[o];if(q===i){s=d.get(s);if(!g(s))return i;if(n&&n.getter)return n.getter(s);var f;v.test(o)||
(f=s[o]);if(f===i)f=s.getAttribute(o);if(k)if(y.test(o))f=s.getAttribute(o,2);return f===null?i:f}c.each(d.query(s),function(t){if(g(t))n&&n.setter?n.setter(t,q):t.setAttribute(o,""+q)})}},removeAttr:function(s,o){o=o.toLowerCase();c.each(d.query(s),function(q){if(g(q)){d.attr(q,o,"");q.removeAttribute(o)}})},hasAttr:k?function(s,o){o=o.toLowerCase();var q=d.get(s).getAttributeNode(o);return!!(q&&q.specified)}:function(s,o){o=o.toLowerCase();return d.get(s).hasAttribute(o)},val:function(s,o){if(o===
i){var q=d.get(s);if(!g(q))return i;if(q&&q.nodeName.toUpperCase()==="option".toUpperCase())return(q.attributes.value||{}).specified?q.value:q.text;if(q&&q.nodeName.toUpperCase()==="select".toUpperCase()){var m=q.selectedIndex,l=q.options;if(m<0)return null;else if(q.type==="select-one")return d.val(l[m]);q=[];for(var n=0,f=l.length;n<f;++n)l[n].selected&&q.push(d.val(l[n]));return q}if(r.webkit&&x.test(q.type))return q.getAttribute("value")===null?"on":q.value;return(q.value||"").replace(u,"")}c.each(d.query(s),
function(t){if(t&&t.nodeName.toUpperCase()==="select".toUpperCase()){if(c.isNumber(o))o+="";var a=c.makeArray(o),h=t.options,e;n=0;for(f=h.length;n<f;++n){e=h[n];e.selected=c.inArray(d.val(e),a)}if(!a.length)t.selectedIndex=-1}else if(g(t))t.value=o})},text:function(s,o){if(o===i){var q=d.get(s);if(g(q))return q[b]||"";else if(d._nodeTypeIs(q,3))return q.nodeValue}else c.each(d.query(s),function(m){if(g(m))m[b]=o;else if(d._nodeTypeIs(m,3))m.nodeValue=o})}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(c,d,r){function i(b,g,v,y){if(!(g=c.trim(g)))return y?false:r;b=d.query(b);var u=0,x=b.length;g=g.split(j);for(var z;u<x;u++){z=b[u];if(d._isElementNode(z)){z=v(z,g,g.length);if(z!==r)return z}}if(y)return false;return r}var j=/[\.\s]\s*\.?/,k=/[\n\t]/g;c.mix(d,{hasClass:function(b,g){return i(b,g,function(v,y,u){if(v=v.className){v=" "+v+" ";for(var x=0,z=true;x<u;x++)if(v.indexOf(" "+y[x]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(b,g){i(b,g,
function(v,y,u){var x=v.className;if(x){var z=" "+x+" ";x=x;for(var A=0;A<u;A++)if(z.indexOf(" "+y[A]+" ")<0)x+=" "+y[A];v.className=c.trim(x)}else v.className=g},r)},removeClass:function(b,g){i(b,g,function(v,y,u){var x=v.className;if(x)if(u){x=(" "+x+" ").replace(k," ");for(var z=0,A;z<u;z++)for(A=" "+y[z]+" ";x.indexOf(A)>=0;)x=x.replace(A," ");v.className=c.trim(x)}else v.className=""},r)},replaceClass:function(b,g,v){d.removeClass(b,g);d.addClass(b,v)},toggleClass:function(b,g,v){var y=c.isBoolean(v),
u;i(b,g,function(x,z,A){for(var B=0,s;B<A;B++){s=z[B];u=y?!v:d.hasClass(x,s);d[u?"removeClass":"addClass"](x,s)}},r)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,d,r,i){function j(a){var h=a.cloneNode(true);if(r.ie<8)h.innerHTML=a.innerHTML;return h}function k(a,h,e,p){if(e){var w=c.guid("ks-tmp-"),C=RegExp(B);h+='<span id="'+w+'"></span>';c.available(w,function(){var D=d.get("head"),F,G,E,J,K,I;for(C.lastIndex=0;F=C.exec(h);)if((E=(G=F[1])?G.match(o):false)&&E[2]){F=g.createElement("script");F.src=E[2];if((J=G.match(q))&&J[2])F.charset=J[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)c.globalEval(I);(K=g.getElementById(w))&&
d.remove(K);c.isFunction(p)&&p()});b(a,h)}else{b(a,h);c.isFunction(p)&&p()}}function b(a,h){h=(h+"").replace(B,"");try{a.innerHTML=h}catch(e){for(;a.firstChild;)a.removeChild(a.firstChild);h&&a.appendChild(d.create(h))}}var g=document,v=r.ie,y=d._nodeTypeIs,u=d._isElementNode,x=d._isKSNode,z=g.createElement("div"),A=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,s=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/\ssrc=(['"])(.*?)\1/i,q=/\scharset=(['"])(.*?)\1/i;c.mix(d,{create:function(a,
h,e){if(y(a,1)||y(a,3))return j(a);if(x(a))return j(a[0]);if(!(a=c.trim(a)))return null;var p=null;p=d._creators;var w,C="div",D;if(w=s.exec(a))p=(e||g).createElement(w[1]);else{if((w=A.exec(a))&&(D=w[1])&&c.isFunction(p[D=D.toLowerCase()]))C=D;a=p[C](a,e).childNodes;if(a.length===1)e=a[0].parentNode.removeChild(a[0]);else{a=a;D=e||g;e=null;if(a&&(a.push||a.item)&&a[0]){D=D||a[0].ownerDocument;e=D.createDocumentFragment();if(a.item)a=c.makeArray(a);D=0;for(p=a.length;D<p;D++)e.appendChild(a[D])}e=
e}p=e}e=p;u(e)&&c.isPlainObject(h)&&d.attr(e,h,true);return e},_creators:{div:function(a,h){var e=h?h.createElement("div"):z;e.innerHTML=a;return e}},html:function(a,h,e,p){if(h===i){a=d.get(a);if(u(a))return a.innerHTML}else c.each(d.query(a),function(w){u(w)&&k(w,h,e,p)})},remove:function(a){c.each(d.query(a),function(h){u(h)&&h.parentNode&&h.parentNode.removeChild(h)})}});if(v||r.gecko||r.webkit){var m=d._creators,l=d.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,f={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},t;for(t in f)(function(a){m[t]=function(h,e){return l("<"+a+">"+h+"</"+a+">",null,e)}})(f[t]);if(v){m.script=function(a,h){var e=h?h.createElement("div"):z;e.innerHTML="-"+a;e.removeChild(e.firstChild);return e};if(v<8)m.tbody=function(a,h){var e=l("<table>"+a+"</table>",null,h),p=e.children.tags("tbody")[0];e.children.length>1&&p&&!n.test(a)&&p.parentNode.removeChild(p);return e}}c.mix(m,{optgroup:m.option,th:m.td,thead:m.tbody,tfoot:m.tbody,
caption:m.tbody,colgroup:m.tbody})}return d},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(c,d,r){var i=window,j="_ks_data_"+c.now(),k={},b={},g={EMBED:1,OBJECT:1,APPLET:1};c.mix(d,{data:function(v,y,u){if(c.isPlainObject(y))for(var x in y)d.data(v,x,y[x]);else if(u===r){v=d.get(v);var z;if(!(!v||g[v.nodeName])){if(v==i)v=b;z=(x=v&&v.nodeType)?k:v;v=z[x?v[j]:j];if(c.isString(y)&&v)return v[y];return v}}else d.query(v).each(function(A){if(!(!A||g[A.nodeName])){if(A==i)A=b;var B=k,s;if(A&&A.nodeType){if(!(s=A[j]))s=A[j]=c.guid()}else{s=j;B=A}if(y&&u!==r){B[s]||
(B[s]={});B[s][y]=u}}})},removeData:function(v,y){d.query(v).each(function(u){if(u){if(u==i)u=b;var x,z=k,A,B=u&&u.nodeType;if(B)x=u[j];else{z=u;x=j}if(x){A=z[x];if(y){if(A){delete A[y];c.isEmptyObject(A)&&d.removeData(u)}}else{if(B)u.removeAttribute&&u.removeAttribute(j);else try{delete u[j]}catch(s){}B&&delete z[x]}}}})}});return d},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(c,d){c.mix(d,{insertBefore:function(r,i){if((r=d.get(r))&&(i=d.get(i))&&i.parentNode)i.parentNode.insertBefore(r,i);return r},insertAfter:function(r,i){if((r=d.get(r))&&(i=d.get(i))&&i.parentNode)i.nextSibling?i.parentNode.insertBefore(r,i.nextSibling):i.parentNode.appendChild(r);return r},append:function(r,i){if((r=d.get(r))&&(i=d.get(i)))i.appendChild&&i.appendChild(r)},prepend:function(r,i){if((r=d.get(r))&&(i=d.get(i)))i.firstChild?d.insertBefore(r,i.firstChild):
i.appendChild(r)}});return d},{requires:["dom/base"]});
KISSY.add("dom/offset",function(c,d,r,i){function j(l){var n=0,f=0,t=y(l[A]);if(l[m]){l=l[m]();n=l[B];f=l[s];if(r.mobile!=="apple"){n+=d[o](t);f+=d[q](t)}}return{left:n,top:f}}var k=window,b=document,g=d._isElementNode,v=d._nodeTypeIs,y=d._getWin,u=b.compatMode==="CSS1Compat",x=Math.max,z=parseInt,A="ownerDocument",B="left",s="top",o="scrollLeft",q="scrollTop",m="getBoundingClientRect";c.mix(d,{offset:function(l,n){if(!(l=d.get(l))||!l[A])return null;if(n===i)return j(l);var f=l;if(d.css(f,"position")===
"static")f.style.position="relative";var t=j(f),a={},h,e;for(e in n){h=z(d.css(f,e),10)||0;a[e]=h+n[e]-t[e]}d.css(f,a)},scrollIntoView:function(l,n,f,t){if((l=d.get(l))&&l[A]){t=t===i?true:!!t;f=f===i?true:!!f;if(!n||n===k)return l.scrollIntoView(f);n=d.get(n);if(v(n,9))n=y(n);var a=n&&"scrollTo"in n&&n.document,h=d.offset(l),e=a?{left:d.scrollLeft(n),top:d.scrollTop(n)}:d.offset(n),p={left:h[B]-e[B],top:h[s]-e[s]};h=a?d.viewportHeight(n):n.clientHeight;e=a?d.viewportWidth(n):n.clientWidth;var w=
d[o](n),C=d[q](n),D=w+e,F=C+h,G=l.offsetHeight;l=l.offsetWidth;var E=p.left+w-(z(d.css(n,"borderLeftWidth"))||0);p=p.top+C-(z(d.css(n,"borderTopWidth"))||0);var J=E+l,K=p+G,I,H;if(G>h||p<C||f)I=p;else if(K>F)I=K-h;if(t)if(l>e||E<w||f)H=E;else if(J>D)H=J-e;if(a){if(I!==i||H!==i)n.scrollTo(H,I)}else{if(I!==i)n[q]=I;if(H!==i)n[o]=H}}}});c.each(["Left","Top"],function(l,n){var f="scroll"+l;d[f]=function(t){var a=0,h=y(t),e;if(h&&(e=h.document))a=h[n?"pageYOffset":"pageXOffset"]||e.documentElement[f]||
e.body[f];else if(g(t=d.get(t)))a=t[f];return a}});c.each(["Width","Height"],function(l){d["doc"+l]=function(n){n=n||b;return x(u?n.documentElement["scroll"+l]:n.body["scroll"+l],d["viewport"+l](n))};d["viewport"+l]=function(n){var f="inner"+l;n=y(n);var t=n.document;return f in n?n[f]:u?t.documentElement["client"+l]:t.body["client"+l]}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(c,d,r,i){function j(q,m){var l=d.get(q),n=m===v?l.offsetWidth:l.offsetHeight;c.each(m===v?["Left","Right"]:["Top","Bottom"],function(f){n-=parseFloat(d._getComputedStyle(l,"padding"+f))||0;n-=parseFloat(d._getComputedStyle(l,"border"+f+"Width"))||0});return n}function k(q,m,l){var n=l;if(l===y&&x.test(m)){n=0;if(c.inArray(d.css(q,"position"),["absolute","fixed"])){l=q[m==="left"?"offsetLeft":"offsetTop"];if(r.ie===8||r.opera)l-=u(d.css(q.offsetParent,"border-"+m+"-width"))||
0;n=l-(u(d.css(q,"margin-"+m))||0)}}return n}var b=document,g=b.documentElement,v="width",y="auto",u=parseInt,x=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,A=/-([a-z])/ig,B=function(q,m){return m.toUpperCase()},s={},o={};c.mix(d,{_CUSTOM_STYLES:s,_getComputedStyle:function(q,m){var l="",n=q.ownerDocument;if(q.style)l=n.defaultView.getComputedStyle(q,null)[m];return l},css:function(q,m,l){if(c.isPlainObject(m))for(var n in m)d.css(q,n,m[n]);else{if(m.indexOf("-")>0)m=
m.replace(A,B);m=s[m]||m;if(l===i){q=d.get(q);n="";if(q&&q.style){n=m.get?m.get(q):q.style[m];if(n===""&&!m.get)n=k(q,m,d._getComputedStyle(q,m))}return n===i?"":n}else{if(l===null||l==="")l="";else if(!isNaN(new Number(l))&&z.test(m))l+="px";(m===v||m==="height")&&parseFloat(l)<0||c.each(d.query(q),function(f){if(f&&f.style){m.set?m.set(f,l):f.style[m]=l;if(l==="")f.style.cssText||f.removeAttribute("style")}})}}},width:function(q,m){if(m===i)return j(q,v);else d.css(q,v,m)},height:function(q,m){if(m===
i)return j(q,"height");else d.css(q,"height",m)},show:function(q){d.query(q).each(function(m){if(m){m.style.display=d.data(m,"display")||"";if(d.css(m,"display")==="none"){var l=m.tagName,n=o[l],f;if(!n){f=b.createElement(l);b.body.appendChild(f);n=d.css(f,"display");d.remove(f);o[l]=n}d.data(m,"display",n);m.style.display=n}}})},hide:function(q){d.query(q).each(function(m){if(m){var l=m.style,n=l.display;if(n!=="none"){n&&d.data(m,"display",n);l.display="none"}}})},toggle:function(q){d.query(q).each(function(m){if(m)d.css.display===
"none"?d.show(m):d.hide(m)})},addStyleSheet:function(q,m){var l;if(m&&(m=m.replace("#","")))l=d.get("#"+m);if(!l){l=d.create("<style>",{id:m});d.get("head").appendChild(l);if(l.styleSheet)l.styleSheet.cssText=q;else l.appendChild(b.createTextNode(q))}},unselectable:function(q){d.query(q).each(function(m){if(m)if(r.gecko)m.style.MozUserSelect="none";else if(r.webkit)m.style.KhtmlUserSelect="none";else if(r.ie||r.opera){var l=0,n=m.getElementsByTagName("*");for(m.setAttribute("unselectable","on");m=
n[l++];)switch(m.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:m.setAttribute("unselectable","on")}}})}});if(g.style.cssFloat!==i)s["float"]="cssFloat";else if(g.style.styleFloat!==i)s["float"]="styleFloat";return d},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,d,r){function i(o,q){var m,l,n=[],f;l=c.require("sizzle");q=j(q);if(c.isString(o)){o=c.trim(o);if(B.test(o)){if(l=k(o.slice(1),q))n=[l]}else if(m=s.exec(o)){l=m[1];f=m[2];m=m[3];if(q=l?k(l,q):q)if(m)if(!l||o.indexOf(u)!==-1)n=g(m,f,q);else{if((l=k(l,q))&&d.hasClass(l,m))n=[l]}else if(f)n=b(f,q)}else if(l)n=l(o,q);else v(o)}else if(o&&(o[z]||o[A]))n=o[z]?[o[z]()]:o[A]();else if(o&&(c.isArray(o)||o&&!o.nodeType&&o.item&&!o.setTimeout))n=o;else if(o)n=[o];if(n&&!n.nodeType&&
n.item&&!n.setTimeout)n=c.makeArray(n);n.each=function(t,a){return c.each(n,t,a)};return n}function j(o){if(o===r)o=y;else if(c.isString(o)&&B.test(o))o=k(o.slice(1),y);else if(o&&o.nodeType!==1&&o.nodeType!==9)o=null;return o}function k(o,q){if(q.nodeType!==9)q=q.ownerDocument;return q.getElementById(o)}function b(o,q){return q.getElementsByTagName(o)}function g(o,q,m){m=o=m.getElementsByClassName(o);var l=0,n=0,f=o.length,t;if(q&&q!==x){m=[];for(q=q.toUpperCase();l<f;++l){t=o[l];if(t.tagName===
q)m[n++]=t}}return m}function v(o){c.error("Unsupported selector: "+o)}var y=document,u=" ",x="*",z="getDOMNode",A=z+"s",B=/^#[\w-]+$/,s=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var o=y.createElement("div");o.appendChild(y.createComment(""));if(o.getElementsByTagName(x).length>0)b=function(q,m){var l=m.getElementsByTagName(q);if(q===x){for(var n=[],f=0,t=0,a;a=l[f++];)if(a.nodeType===1)n[t++]=a;l=n}return l}})();y.getElementsByClassName||(g=y.querySelectorAll?function(o,q,m){return m.querySelectorAll((q?
q:"")+"."+o)}:function(o,q,m){q=m.getElementsByTagName(q||x);m=[];var l=0,n=0,f=q.length,t,a;for(o=u+o+u;l<f;++l){t=q[l];if((a=t.className)&&(u+a+u).indexOf(o)>-1)m[n++]=t}return m});c.mix(d,{query:i,get:function(o,q){return i(o,q)[0]||null},filter:function(o,q,m){m=i(o,m);var l=c.require("sizzle"),n,f,t,a=[];if(c.isString(q)&&(n=s.exec(q))&&!n[1]){f=n[2];t=n[3];q=function(h){return!(f&&h.tagName!==f.toUpperCase()||t&&!d.hasClass(h,t))}}if(c.isFunction(q))a=c.filter(m,q);else if(q&&l)a=l._filter(o,
q+"");else v(q);return a},test:function(o,q,m){o=i(o,m);return o.length&&d.filter(o,q,m).length===o.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(c,d,r,i,j){if(!r.ie)return d;r=document;i=r.documentElement;var k=d._CUSTOM_STYLES,b=/^-?\d+(?:px)?$/i,g=/^-?\d/,v=/^(?:width|height)$/;try{if(i.style.opacity==j&&i.filters)k.opacity={get:function(u){var x=100;try{x=u.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{x=u.filters("alpha").opacity}catch(A){}}return x/100+""},set:function(u,x){var z=u.style,A=(u.currentStyle||0).filter||"";z.zoom=1;if(A)A=c.trim(A.replace(/alpha\(opacity[=:][^)]+\),?/ig,
""));if(A&&x!=1)A+=", ";z.filter=A+(x!=1?"alpha(opacity="+x*100+")":"")}}}catch(y){}if(!(r.defaultView||{}).getComputedStyle&&i.currentStyle)d._getComputedStyle=function(u,x){var z=u.style,A=u.currentStyle[x];if(v.test(x))A=d[x](u)+"px";else if(!b.test(A)&&g.test(A)){var B=z.left,s=u.runtimeStyle.left;u.runtimeStyle.left=u.currentStyle.left;z.left=x==="fontSize"?"1em":A||0;A=z.pixelLeft+"px";z.left=B;u.runtimeStyle.left=s}return A};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,d,r){function i(b,g,v,y){if(!(b=d.get(b)))return null;if(g===r)g=1;var u=null,x,z;if(c.isNumber(g)&&g>=0){if(g===0)return b;x=0;z=g;g=function(){return++x===z}}for(;b=b[v];)if(k(b)&&(!g||d.test(b,g))&&(!y||y(b))){u=b;break}return u}function j(b,g,v){var y=[];var u=b=d.get(b);if(b&&v)u=b.parentNode;if(u){v=0;for(u=u.firstChild;u;u=u.nextSibling)if(k(u)&&u!==b&&(!g||d.test(u,g)))y[v++]=u}return y}var k=d._isElementNode;c.mix(d,{parent:function(b,g){return i(b,g,
"parentNode",function(v){return v.nodeType!=11})},next:function(b,g){return i(b,g,"nextSibling",r)},prev:function(b,g){return i(b,g,"previousSibling",r)},siblings:function(b,g){return j(b,g,true)},children:function(b,g){return j(b,g,r)},contains:function(b,g){var v=false;if((b=d.get(b))&&(g=d.get(g)))if(b.contains){if(g.nodeType===3){g=g.parentNode;if(g===b)return true}if(g)return b.contains(g)}else if(b.compareDocumentPosition)return!!(b.compareDocumentPosition(g)&16);else for(;!v&&(g=g.parentNode);)v=
g==b;return v}});return d},{requires:["dom/base"]});KISSY.add("dom",function(c,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(c,d){function r(k,b,g){this.currentTarget=k;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=g;this.target=k}this.currentTarget=k;this.fixed=true}var i=document,j="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(r,
{_fix:function(){var k=this.originalEvent,b=j.length,g,v=this.currentTarget;for(v=v.nodeType===9?v:v.ownerDocument||i;b;){g=j[--b];this[g]=k[g]}if(!this.target)this.target=this.srcElement||i;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===d&&this.clientX!==d){k=v.documentElement;b=v.body;this.pageX=this.clientX+(k&&k.scrollLeft||b&&b.scrollLeft||
0)-(k&&k.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||b&&b.scrollTop||0)-(k&&k.clientTop||b&&b.clientTop||0)}if(this.which===d)this.which=this.charCode!==d?this.charCode:this.keyCode;if(this.metaKey===d)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==d)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return r});
KISSY.add("event/base",function(c,d,r,i){function j(s,o,q,m,l){if(c.isString(o))o=d.query(o);if(c.isArray(o)){c.each(o,function(n){B[s](n,q,m,l)});return true}if((q=c.trim(q))&&q.indexOf(x)>0){c.each(q.split(x),function(n){B[s](o,n,m,l)});return true}return i}function k(s){return s&&s.nodeType!==3&&s.nodeType!==8?d.data(s,u):-1}function b(s,o){s&&s.nodeType!==3&&s.nodeType!==8&&d.data(s,u,o)}var g=document,v=g.addEventListener?function(s,o,q,m){s.addEventListener&&s.addEventListener(o,q,!!m)}:function(s,
o,q){s.attachEvent&&s.attachEvent("on"+o,q)},y=g.removeEventListener?function(s,o,q,m){s.removeEventListener&&s.removeEventListener(o,q,!!m)}:function(s,o,q){s.detachEvent&&s.detachEvent("on"+o,q)},u="ksEventTargetId",x=" ",z=c.now(),A={},B={EVENT_GUID:u,special:{},add:function(s,o,q,m){if(!j("add",s,o,q,m)){var l=k(s),n,f,t,a,h;if(!(l===-1||!o||!c.isFunction(q))){if(!l){b(s,l=z++);A[l]={target:s,events:{}}}f=A[l].events;if(!f[o]){n=((l=!s.isCustomEventTarget)||s._supportSpecialEvent)&&B.special[o]||
{};t=function(e,p){if(!e||!e.fixed)e=new r(s,e,o);if(c.isPlainObject(p)){var w=e.type;c.mix(e,p);e.type=w}n.setup&&n.setup(e);return(n.handle||B._handle)(s,e)};f[o]={handle:t,listeners:[]};a=n.fix||o;h=n.capture;n.init&&n.init.apply(null,c.makeArray(arguments));l&&n.fix!==false&&v(s,a,t,h)}f[o].listeners.push({fn:q,scope:m||s})}}},__getListeners:function(s,o){var q,m=[];if(q=(B.__getEvents(s)||{})[o])m=q.listeners;return m},__getEvents:function(s){var o=k(s),q;if(o!==-1)if(o&&(q=A[o]))if(q.target===
s)return q.events||{}},remove:function(s,o,q,m){if(!j("remove",s,o,q,m)){var l=B.__getEvents(s),n=k(s),f,t,a,h,e,p,w=(!s.isCustomEventTarget||s._supportSpecialEvent)&&B.special[o]||{};if(l!==i){m=m||s;if(f=l[o]){t=f.listeners;a=t.length;if(c.isFunction(q)&&a){e=h=0;for(p=[];h<a;++h)if(q!==t[h].fn||m!==t[h].scope)p[e++]=t[h];f.listeners=p;a=p.length}if(q===i||a===0){if(!s.isCustomEventTarget){w=B.special[o]||{};if(w.fix!==false)y(s,w.fix||o,f.handle)}delete l[o]}}w.destroy&&w.destroy.apply(null,c.makeArray(arguments));
if(o===i||c.isEmptyObject(l)){for(o in l)B.remove(s,o);delete A[n];d.removeData(s,u)}}}},_handle:function(s,o){var q=B.__getListeners(s,o.type);q=q.slice(0);for(var m,l,n=0,f=q.length;n<f;++n){m=q[n];m=m.fn.call(m.scope,o);if(l!==false)l=m;if(m!==i){o.result=m;m===false&&o.halt()}if(o.isImmediatePropagationStopped)break}return l},_getCache:function(s){return A[s]},__getID:k,_simpleAdd:v,_simpleRemove:y};B.on=B.add;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,d,r,i){return{isCustomEventTarget:true,fire:function(j,k){var b=r.data(this,d.EVENT_GUID)||-1;if((b=((d._getCache(b)||{}).events||{})[j])&&c.isFunction(b.handle))return b.handle(i,k)},on:function(j,k,b){d.add(this,j,k,b);return this},detach:function(j,k,b){d.remove(this,j,k,b);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(c,d){document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(r){d.special[r.name]={fix:r.fix,capture:true,setup:function(i){i.type=r.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(c,d,r,i){i.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(j){d.special[j.name]={fix:j.fix,setup:function(k){k.type=j.name},handle:function(k,b){if(r._isKSNode(k))k=k[0];var g=b.relatedTarget;try{for(;g&&g!==k;)g=g.parentNode;g!==k&&d._handle(k,b)}catch(v){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(c,d,r){d.Target=r;return d},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(c,d,r){function i(j,k,b){if(!(this instanceof i))return new i(j,k,b);if(!j){this.length=0;return r}if(c.isString(j)){j=d.create(j,k,b);if(j.nodeType===11)return new (c.require("node/nodelist"))(j.childNodes)}else if(j instanceof i)return j;else j=j;this[0]=j;return r}i.TYPE="-ks-Node";c.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});i.one=function(j,k){var b=d.get(j,k);return b?new i(b,r,r):null};return i},{requires:["dom"]});
KISSY.add("node/nodelist",function(c,d,r,i){function j(g){if(!(this instanceof j))return new j(g);k.push.apply(this,c.makeArray(g)||[]);return i}var k=Array.prototype,b=d._isElementNode;c.mix(j.prototype,{length:0,item:function(g){var v=null,y,u;if(b(g)){y=0;for(u=this.length;y<u;y++)if(g===this[y]){g=y;break}}if(b(this[g]))v=new r(this[g]);return v},getDOMNodes:function(){return k.slice.call(this)},each:function(g,v){var y=this.length,u=0,x;for(x=new r(this[0]);u<y&&g.call(v||x,x,u,this)!==false;x=
new r(this[++u]));return this}});j.all=function(g,v){return new j(d.query(g,v,true))};return j},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(c,d,r,i,j,k){function b(f,t,a,h){f=[this[f?q:o]()].concat(c.makeArray(t));if(t[a]===k&&(a!=1||c.isString(t[0])))return h.apply(d,f);h.apply(d,f);return this}function g(f,t){c.each(f,function(a){c.each([B,s],function(h,e){h[a]=function(p){switch(t){case m:return function(){return b.call(this,e,arguments,1,p)};case l:return function(){return b.call(this,e,arguments,0,p)};case n:return function(){var w=this[e?q:o]();return(w=p.apply(d,[w].concat(c.makeArray(arguments))))?
new (c.isArray(w)?j:i)(w):null};default:return function(){var w=this[e?q:o]();w=p.apply(d,[w].concat(c.makeArray(arguments)));return w===k?this:w}}}(d[a])})})}function v(f,t,a){f&&c.each(this,function(h){var e;if(t||c.isString(f))e=d.create(f);else{if(x(f,1)||x(f,3))e=f;if(z(f))e=f[0]}d[a](e,h)});return this}function y(f,t){if((f=d.get(f))&&f.appendChild)c.each(this,function(a){d[t](a,f)});return this}function u(f,t){f.__wrap=f.__wrap||[];f.__wrap.push(t)}var x=d._nodeTypeIs,z=d._isKSNode,A=c.require("event/target"),
B=i.prototype,s=j.prototype,o="getDOMNode",q=o+"s",m=1,l=2,n=4;c.mix(B,{one:function(f){return i.one(f,this[0])},all:function(f){return j.all(f,this[0])}});g(["data","removeData"],m);g(["hasClass","addClass","removeClass","replaceClass","toggleClass"],k);g(["attr","removeAttr"],m);g(["val","text"],l);g(["css"],m);g(["width","height"],l);g(["offset"],l);g(["scrollIntoView"],k);g(["parent","next","prev","siblings","children"],n);g(["contains"],k);g(["html","unselectable"],l);g(["remove"],k);c.each(["insertBefore",
"insertAfter"],function(f){B[f]=function(t){d[f].call(d,this[0],t);return this}});c.each([B,s],function(f,t){c.each(["append","prepend"],function(a){f[a]=function(h){return v.call(this,h,t,a)};f[a+"To"]=function(h){return y.call(this,h,a)}})});c.augment(i,A,{fire:null,on:function(f,t,a){function h(p){var w=c.makeArray(arguments);w.shift();p.target=new i(p.target);if(p.relatedTarget)p.relatedTarget=new i(p.relatedTarget);w.unshift(p);return t.apply(a||e,w)}var e=this;r.add(this[0],f,h,a);u(t,h);return this},
detach:function(f,t,a){if(c.isFunction(t)){t=t.__wrap||[];for(var h=0;h<t.length;h++)r.remove(this[0],f,t[h],a)}else r.remove(this[0],f,t,a);return this}});c.augment(j,A,{fire:null});B._supportSpecialEvent=true;c.each({on:"add",detach:"remove"},function(f,t){s[t]=function(a,h,e){for(var p=0;p<this.length;p++)this.item(p).on(a,h,e)}})},{requires:["dom","event","./node","./nodelist"]});KISSY.add("node",function(c,d,r){d.List=r;return d},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function c(x){return x<10?"0"+x:x}function d(x){b.lastIndex=0;return b.test(x)?'"'+x.replace(b,function(z){var A=y[z];return typeof A==="string"?A:"\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function r(x,z){var A,B,s,o,q=g,m,l=z[x];if(l&&typeof l==="object"&&typeof l.toJSON==="function")l=l.toJSON(x);if(typeof u==="function")l=u.call(z,x,l);switch(typeof l){case "string":return d(l);case "number":return isFinite(l)?String(l):"null";case "boolean":case "null":return String(l);
case "object":if(!l)return"null";g+=v;m=[];if(Object.prototype.toString.apply(l)==="[object Array]"){o=l.length;for(A=0;A<o;A+=1)m[A]=r(A,l)||"null";s=m.length===0?"[]":g?"[\n"+g+m.join(",\n"+g)+"\n"+q+"]":"["+m.join(",")+"]";g=q;return s}if(u&&typeof u==="object"){o=u.length;for(A=0;A<o;A+=1){B=u[A];if(typeof B==="string")if(s=r(B,l))m.push(d(B)+(g?": ":":")+s)}}else for(B in l)if(Object.hasOwnProperty.call(l,B))if(s=r(B,l))m.push(d(B)+(g?": ":":")+s);s=m.length===0?"{}":g?"{\n"+g+m.join(",\n"+g)+
"\n"+q+"}":"{"+m.join(",")+"}";g=q;return s}}var i=window,j=i.JSON;if(!j)j=i.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,v,y={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof j.stringify!=="function")j.stringify=function(x,z,A){var B;v=g="";if(typeof A==="number")for(B=0;B<A;B+=1)v+=" ";else if(typeof A==="string")v=A;if((u=z)&&typeof z!=="function"&&(typeof z!=="object"||typeof z.length!=="number"))throw Error("JSON.stringify");return r("",{"":x})};if(typeof j.parse!==
"function")j.parse=function(x,z){function A(s,o){var q,m,l=s[o];if(l&&typeof l==="object")for(q in l)if(Object.hasOwnProperty.call(l,q)){m=A(l,q);if(m!==undefined)l[q]=m;else delete l[q]}return z.call(s,o,l)}var B;x=String(x);k.lastIndex=0;if(k.test(x))x=x.replace(k,function(s){return"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+x+")");return typeof z==="function"?A({"":B},""):B}throw new SyntaxError("JSON.parse");};return j});KISSY.add("json",function(c,d){return{parse:function(r){if(r==null||r==="")return null;return d.parse(r)},stringify:d.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(c,d,r,i){function j(e){e=c.merge(h,e);if(!e.url)return i;if(e.data&&!c.isString(e.data))e.data=c.param(e.data);e.context=e.context||e;var p,w=l,C,D=e.type.toUpperCase();if(e.dataType===A){p=e.jsonpCallback||c.guid(A);e.url=e.url+(e.url.indexOf("?")===-1?"?":"&")+(e.jsonp+"="+p);e.dataType=B;var F=g[p];g[p]=function(I){if(c.isFunction(F))F(I);else{g[p]=i;try{delete g[p]}catch(H){}}k([l,n],I,w,E,e)}}if(e.data&&D===y)e.url=e.url+(e.url.indexOf("?")===-1?"?":"&")+e.data;
if(e.dataType===B){b(o,e);D=c.getScript(e.url,p?null:function(){k([l,n],s,w,E,e)});b(q,e);return D}var G=false,E=e.xhr();b(o,e);E.open(D,e.url,e.async);try{if(e.data||e.contentType)E.setRequestHeader(x,e.contentType);E.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*; q=0.01":e.accepts._default)}catch(J){}E.onreadystatechange=function(I){if(!E||E.readyState===0||I==="abort"){G||k(n,null,f,E,e);G=true;if(E)E.onreadystatechange=v}else if(!G&&E&&(E.readyState===
4||I===t)){G=true;E.onreadystatechange=v;var H;if(I===t)H=t;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?l:f}w=H;try{H=E;var M=e.dataType,N=s,O,L=H;if(!c.isString(L)){N=H.getResponseHeader(x)||s;L=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&L.documentElement.nodeName===a)throw a;}if(c.isString(L))if(M===z||!M&&N.indexOf(z)>=0)L=r.parse(L);C=L}catch(Q){w=a}k([w===l?l:f,n],C,w,E,e);if(I===t){E.abort();b(m,e)}if(e.async)E=
null}};b(q,e);try{E.send(D===u?e.data:null)}catch(K){k([f,n],C,f,E,e)}e.async||b(n,e);return E}function k(e,p,w,C,D){if(c.isArray(e))c.each(e,function(F){k(F,p,w,C,D)});else{w===e&&D[e]&&D[e].call(D.context,p,w,C);b(e,D)}}function b(e,p){j.fire(e,{ajaxConfig:p})}var g=window,v=function(){},y="GET",u="POST",x="Content-Type",z="json",A=z+"p",B="script",s="",o="start",q="send",m="stop",l="success",n="complete",f="error",t="timeout",a="parsererror",h={type:y,url:s,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:g.ActiveXObject?function(){if(g.XmlHttpRequest)try{return new g.XMLHttpRequest}catch(e){}try{return new g.ActiveXObject("Microsoft.XMLHTTP")}catch(p){}}:function(){return new g.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};c.mix(j,d.Target);c.mix(j,{get:function(e,p,w,C,D){if(c.isFunction(p)){C=w;w=p}return j({type:D||
y,url:e,data:p,success:function(F,G,E){w&&w.call(this,F,G,E)},dataType:C})},post:function(e,p,w,C){if(c.isFunction(p)){C=w;w=p;p=i}return j.get(e,p,w,C,u)},jsonp:function(e,p,w){if(c.isFunction(p)){w=p;p=null}return j.get(e,p,w,A)}});return j},{requires:["event","json"]});KISSY.add("ajax",function(c,d){return d},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var c=Math,d=c.PI,r=c.pow,i=c.sin,j=1.70158,k={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(r(2,10*(b-=1))*i((b-0.075)*2*d/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return r(2,-10*b)*i((b-0.075)*2*d/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*r(2,10*(b-=1))*i((b-0.1125)*2*d/0.45);return r(2,-10*(b-=1))*i((b-0.1125)*2*d/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((j+1)*b-j)},backOut:function(b){return(b-=1)*b*((j+1)*b+j)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((j*=1.525)+1)*b-j);return 0.5*((b-=2)*b*(((j*=1.525)+1)*b+j)+2)},bounceIn:function(b){return 1-k.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return k.bounceIn(b*2)*0.5;return k.bounceOut(b*2-1)*0.5+0.5}};k.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return k});
KISSY.add("anim/manager",function(c){function d(i){i[r]=i[r]||c.guid("anim-");return i[r]}var r=c.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(i){var j=d(i);if(!this.runnings[j]){this.runnings[j]=i;this.startTimer()}},stop:function(i){this.notRun(i)},notRun:function(i){delete this.runnings[d(i)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(i){this.notRun(i)},resume:function(i){this.start(i)},startTimer:function(){var i=this;if(!i.timer)i.timer=setTimeout(function(){if(i.runFrames())i.stopTimer();
else{i.timer=null;i.startTimer()}},i.interval)},stopTimer:function(){var i=this.timer;if(i){clearTimeout(i);this.timer=null}},runFrames:function(){var i=true,j=this.runnings,k;for(k in j)if(j.hasOwnProperty(k)){i=false;j[k]._runFrame()}return i}}});
KISSY.add("anim/base",function(c,d,r,i,j,k,b){function g(m,l,n,f,t,a){if(!(m=d.get(m)))return b;if(!(this instanceof g))return new g(m,l,n,f,t,a);var h=c.isPlainObject(n);l=l;this.domEl=m;if(c.isPlainObject(l))l=String(c.param(l,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=l,p=m,w;m={};var C=x.length;p=d.insertAfter(p.cloneNode(true),p);w=p.style;for(y(p,e);C--;){var D=x[C];if(w[D])m[D]=(o[D]||o["*"]).getter(p,D)}e=u(e);for(var F in e)m[F]=(o[F]||
o["*"]).getter(p,F);d.remove(p);this.props=m;this.targetStyle=l;if(h)h=c.merge(B,n);else{h=c.clone(B);if(n)h.duration=parseFloat(n)||1;if(c.isString(f)||c.isFunction(f))h.easing=f;if(c.isFunction(t))h.complete=t;if(a!==b)h.nativeSupport=a}if(!c.isEmptyObject(u(l)))h.nativeSupport=false;this.config=h;if(h.nativeSupport&&q()&&c.isString(f=h.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(f)||(f=i.NativeTimeFunction[f])){h.easing=f;this.transitionName=q()}if(c.isFunction(t))this.callback=t;return b}function v(m,
l){return l}function y(m,l){if(j.ie&&l.indexOf(A)>-1){var n=l.match(/opacity\s*:\s*([^;]+)(;|$)/);n&&d.css(m,A,parseFloat(n[1]))}m.style.cssText+=";"+l;n=u(l);for(var f in n)m[f]=n[f]}function u(m){for(var l={},n=0;n<z.length;n++){var f=z[n].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(f=m.match(RegExp(f+"\\s*:([^;]+)(;|$)")))l[z[n]]=c.trim(f[1])}return l}var x,z,A,B,s;r=r.Target;x="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
z=[];A="opacity";B={duration:1,easing:"easeNone",nativeSupport:true};g.PROPS=x;g.CUSTOM_ATTRS=z;g.PROP_OPS={"*":{getter:function(m,l){var n=d.css(m,l),f=parseFloat(n);n=(n+"").replace(/^[-\d.]+/,"");if(isNaN(f))return{v:n,u:"",f:v};return{v:f,u:n,f:this.interpolate}},setter:function(m,l,n){return d.css(m,l,n)},interpolate:function(m,l,n){return(m+(l-m)*n).toFixed(3)}}};var o=g.PROP_OPS;c.augment(g,r,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,run:function(){var m=this.config,l=this.domEl,
n,f=this.props,t={},a;if(this.fire("start")!==false){this.stop();this.duration=n=m.duration*1E3;if(this.transitionName)this._nativeRun();else{for(a in f)t[a]=(o[a]||o["*"]).getter(l,a);this.source=t;l=c.now();n=l+n;m=m.easing;if(c.isString(m))m=i[m]||i.easeNone;this.start=l;this.finish=n;this.easing=m;k.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var m=this.domEl,l=this.finish,n=this.start,f=this.duration,
t=c.now(),a=this.source,h=this.easing,e=this.props,p;n=t-n;f=t>l?1:n/f;var w,C;this.elapsedTime=n;for(p in e){n=a[p];w=e[p];if(w.v==0)w.u=n.u;if(n.u!==w.u){n.v=0;n.u=w.u}n=w.f(n.v,w.v,h(f))+w.u;(o[p]||o["*"]).setter(m,p,n)}if(this.fire("step")===false||(C=t>l)){this.stop();C&&this._complete()}},_nativeRun:function(){var m=this,l=m.domEl,n=m.duration,f=m.config.easing,t=m.transitionName,a={};a[t+"Property"]="all";a[t+"Duration"]=n+"ms";a[t+"TimingFunction"]=f;d.css(l,a);c.later(function(){y(l,m.targetStyle)},
0);c.later(function(){m.stop(true)},n)},stop:function(m){if(this.transitionName)this._nativeStop(m);else{if(m){y(this.domEl,this.targetStyle);this._complete()}k.stop(this)}this.isRunning=false;return this},_nativeStop:function(m){var l=this.domEl,n=this.transitionName,f=this.props,t;if(m){d.css(l,n+"Property","none");this._complete()}else{for(t in f)d.css(l,t,d._getComputedStyle(l,t));d.css(l,n+"Property","none")}}});g.supportTransition=function(){if(s)return s;var m="transition",l,n=document.body;
if(n.style[m]!==b)l=m;else c.each(["Webkit","Moz","O"],function(f){if(n.style[m=f+"Transition"]!==b){l=m;return false}});return s=l};var q=g.supportTransition;return g},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(c,d,r,i,j){function k(s,o,q,m,l){if(o==="toggle"){l=d.css(s,g)===v?1:0;o="show"}if(l)d.css(s,g,d.data(s,g)||"");var n={},f={};c.each(B[o],function(t){if(t===y){n[y]=d.css(s,y);d.css(s,y,u)}else if(t===x){n[x]=d.css(s,x);f.opacity=l?1:0;l&&d.css(s,x,0)}else if(t===z){n[z]=d.css(s,z);f.height=l?d.css(s,z)||s.naturalHeight:0;l&&d.css(s,z,0)}else if(t===A){n[A]=d.css(s,A);f.width=l?d.css(s,A)||s.naturalWidth:0;l&&d.css(s,A,0)}});(new r(s,f,q,"easeOut",function(){if(!l){var t=
s.style,a=t[g];if(a!==v){a&&d.data(s,g,a);t[g]=v}n[z]&&d.css(s,{height:n[z]});n[A]&&d.css(s,{width:n[A]});n[x]&&d.css(s,{opacity:n[x]});n[y]&&d.css(s,{overflow:n[y]})}m&&c.isFunction(m)&&m()})).run()}i=c.require("node/node").prototype;var b=c.require("node/nodelist").prototype,g="display",v="none",y="overflow",u="hidden",x="opacity",z="height",A="width",B={show:[y,x,z,A],fade:[x],slide:[y,z]};c.each([i,b],function(s){s.animate=function(){var o=c.makeArray(arguments);c.each(this,function(q){r.apply(j,
[q].concat(o)).run()});return this};c.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(o,q){s[q]=function(m,l){d[q]&&arguments.length===0?d[q](this):c.each(this,function(n){k(n,o[0],m,l,o[1])});return this}})})},{requires:["dom","anim/base","node"]});
KISSY.add("anim/color",function(c,d,r){function i(y){y=y.toLowerCase();var u;if(u=y.match(k))return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])];else if(u=y.match(b)){for(y=1;y<u.length;y++)if(u[y].length<2)u[y]+=u[y];return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}if(j[y])return j[y];return[255,255,255]}var j={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},k=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),v=r.PROP_OPS;r=r.PROPS;r.push.apply(r,g);v.color={getter:function(y,u){return{v:i(d.css(y,u)),u:"",f:this.interpolate}},setter:v["*"].setter,interpolate:function(y,u,x){var z=
v["*"].interpolate;return"rgb("+[Math.floor(z(y[0],u[0],x)),Math.floor(z(y[1],u[1],x)),Math.floor(z(y[2],u[2],x))].join(", ")+")"}};c.each(g,function(y){v[y]=v.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(c,d,r){var i=r.PROP_OPS;r.CUSTOM_ATTRS.push("scrollLeft","scrollTop");i.scrollLeft=i.scrollTop={getter:function(j,k){return{v:j[k],u:"",f:i["*"].interpolate}},setter:function(j,k,b){j[k]=b}}},{requires:["dom","./base"]});
KISSY.add("anim",function(c,d,r){d.Easing=r;return d},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color","anim/scroll"]});
KISSY.add("base/attribute",function(c,d){function r(){this.__attrs={};this.__attrVals={}}function i(j){j+="";return j.charAt(0).toUpperCase()+j.substring(1)}c.augment(r,{__getDefAttrs:function(){return c.clone(this.__attrs)},addAttr:function(j,k,b){if(this.__attrs[j])c.mix(this.__attrs[j],k,b);else this.__attrs[j]=c.clone(k||{});return this},hasAttr:function(j){return j&&this.__attrs.hasOwnProperty(j)},removeAttr:function(j){if(this.hasAttr(j)){delete this.__attrs[j];delete this.__attrVals[j]}return this},
set:function(j,k){var b=this.get(j);if(b!==k)if(false!==this.__fireAttrChange("before",j,b,k)){this.__set(j,k);this.__fireAttrChange("after",j,b,this.__attrVals[j]);return this}},__fireAttrChange:function(j,k,b,g){return this.fire(j+i(k)+"Change",{attrName:k,prevVal:b,newVal:g})},__set:function(j,k){var b,g=this.__attrs[j];if(g=g&&g.setter)b=g.call(this,k);if(b!==d)k=b;this.__attrVals[j]=k},get:function(j){var k;k=(k=this.__attrs[j])&&k.getter;j=j in this.__attrVals?this.__attrVals[j]:this.__getDefAttrVal(j);
if(k)j=k.call(this,j);return j},__getDefAttrVal:function(j){j=this.__attrs[j];var k;if(j){if(k=j.valueFn){k=k.call(this);if(k!==d)j.value=k;delete j.valueFn}return j.value}},reset:function(j){if(this.hasAttr(j))return this.set(j,this.__getDefAttrVal(j));for(j in this.__attrs)this.hasAttr(j)&&this.reset(j);return this}});r.__capitalFirst=i;return r});
KISSY.add("base/base",function(c,d){function r(i){d.call(this);for(var j=this.constructor;j;){var k=j.ATTRS;if(k){var b=void 0;for(b in k)k.hasOwnProperty(b)&&this.addAttr(b,k[b],false)}j=j.superclass?j.superclass.constructor:null}if(i)for(var g in i)i.hasOwnProperty(g)&&this.__set(g,i[g])}c.augment(r,c.require("event/target"),d);return r},{requires:["base/attribute","event"]});KISSY.add("base",function(c,d){return d},{requires:["base/base"]});
KISSY.add("cookie/base",function(c){var d=document,r=encodeURIComponent,i=decodeURIComponent;return{get:function(j){var k;if(c.isString(j)&&j!=="")if(j=String(d.cookie).match(RegExp("(?:^| )"+j+"(?:(?:=([^;]*))|;|$)")))k=j[1]?i(j[1]):"";return k},set:function(j,k,b,g,v,y){k=String(r(k));var u=b;if(typeof u==="number"){u=new Date;u.setTime(u.getTime()+b*864E5)}if(u instanceof Date)k+="; expires="+u.toUTCString();if(c.isString(g)&&g!=="")k+="; domain="+g;if(c.isString(v)&&v!=="")k+="; path="+v;if(y)k+=
"; secure";d.cookie=j+"="+k},remove:function(j,k,b,g){this.set(j,"",0,k,b,g)}}});KISSY.add("cookie",function(c,d){return d},{requires:["cookie/base"]});KISSY.add("core",function(c,d,r,i,j,k,b,g,v,y){d={UA:d,DOM:r,Event:i,EventTarget:i.Target,Node:j,NodeList:j.List,JSON:k,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:g,Easing:g.Easing,Base:v,Cookie:y,one:j.one,all:j.List.all,get:r.get,query:r.query};c.mix(c,d);return d},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
