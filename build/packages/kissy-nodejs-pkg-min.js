/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(){var c=require("jsdom").jsdom;document=c("<html><head></head><body></body></html>");window=document.createWindow();location=window.location;navigator=window.navigator;KISSY={__HOST:window};exports.KISSY=window.KISSY=KISSY})();
(function(c){function d(i){for(var a=0;a<i.length;a++)if(i[a].match(/\/$/))i[a]+="index";return i}function v(i,a){if(!a)return a;if(c.isArray(a)){for(var e=0;e<a.length;e++)a[e]=v(i,a[e]);return a}if(a.lastIndexOf("../",0)==0||a.lastIndexOf("./",0)==0){e="";var s;if((s=i.lastIndexOf("/"))!=-1)e=i.substring(0,s+1);return o.normalize(e+a)}else return a.indexOf("./")!=-1||a.indexOf("../")!=-1?o.normalize(a):a}var o=require("path");c.Env={};c.Env.mods={};var n=c.Env.mods;(function(i,a){for(var e in a)if(a.hasOwnProperty(e))i[e]=
a[e]})(c,{Config:{base:__filename.replace(/[^/]*$/i,"")},add:function(i,a,e){n[i]={name:i,fn:a};c.mix(n[i],e)},_packages:function(i){var a;a=this.__packages=this.__packages||{};for(var e=0;e<i.length;e++){var s=i[e];a[s.name]=s;if(s.path&&!s.path.match(/\/$/))s.path+="/"}},_getPath:function(i){var a=this.__packages=this.__packages||{},e="",s;for(s in a)if(a.hasOwnProperty(s))if(i.lastIndexOf(s,0)==0)if(s.length>e)e=s;return(a[e]&&a[e].path||this.Config.base)+i},_combine:function(i,a){var e=this,s;
if(c.isObject(i))c.each(i,function(z,p){c.each(z,function(r){e._combine(r,p)})});else{s=e.__combines=e.__combines||{};if(a)s[i]=a;else return s[i]||i}},require:function(i){i=n[i];var a=this.onRequire&&this.onRequire(i);if(a!==undefined)return a;return i&&i.value},_attach:function(i){var a=this._getPath(this._combine(i)),e=n[i];e||require(a);e=n[i];if(!e.attached){e.requires=e.requires||[];a=e.requires;v(i,a);i=[this];for(var s=0;s<a.length;s++){this._attach(a[s]);i.push(this.require(a[s]))}e.value=
e.fn.apply(null,i);e.attached=true}},use:function(i,a){i=i.replace(/\s+/g,"").split(",");d(i);var e=this,s=[this];c.each(i,function(z){e._attach(z);s.push(e.require(z))});a&&a.apply(null,s)}})})(KISSY);
(function(c,d,v){var o={mix:function(a,e,s,z){if(!e||!a)return a;if(s===v)s=true;var p,r,x;if(z&&(x=z.length))for(p=0;p<x;p++){r=z[p];if(r in e)if(s||!(r in a))a[r]=e[r]}else for(r in e)if(s||!(r in a))a[r]=e[r];return a}},n=c&&c[d]||{},i=0;c=n.__HOST||(n.__HOST=c||{});d=c[d]=o.mix(n,o,false);d.mix(d,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"20110330203256",merge:function(){var a={},e,s=arguments.length;for(e=0;e<s;e++)d.mix(a,arguments[e]);return a},augment:function(){var a=
arguments,e=a.length-2,s=a[0],z=a[e],p=a[e+1],r=1;if(!d.isArray(p)){z=p;p=v;e++}if(!d.isBoolean(z)){z=v;e++}for(;r<e;r++)d.mix(s.prototype,a[r].prototype||a[r],z,p);return s},extend:function(a,e,s,z){if(!e||!a)return a;var p=Object.create?function(A,B){return Object.create(A,{constructor:{value:B}})}:function(A,B){function j(){}j.prototype=A;var h=new j;h.constructor=B;return h},r=e.prototype,x;x=p(r,a);a.prototype=d.mix(x,a.prototype);a.superclass=p(r,e);s&&d.mix(x,s);z&&d.mix(a,z);return a},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var a=arguments,e=a.length,s=null,z,p,r,x=a[e-1]===true&&e--;for(z=0;z<e;z++){r=(""+a[z]).split(".");s=x?c:this;for(p=c[r[0]]===s?1:0;p<r.length;++p)s=s[r[p]]=s[r[p]]||{}}return s},app:function(a,e){var s=d.isString(a),z=s?c[a]||{}:a,p=0,r=d.__APP_INIT_METHODS.length;for(d.mix(z,this,true,d.__APP_MEMBERS);p<r;p++)d[d.__APP_INIT_METHODS[p]].call(z);d.mix(z,d.isFunction(e)?e():e);s&&(c[a]=z);return z},config:function(a){for(var e in a)this["_"+
e]&&this["_"+e](a[e])},log:function(a,e,s){if(d.Config.debug){if(s)a=s+": "+a;if(c.console!==v&&console.log)console[e&&console[e]?e:"log"](a)}},error:function(a){if(d.Config.debug)throw a;},guid:function(a){return(a||"")+i++}});d.__init();return d})(this,"KISSY");
(function(c,d){var v=c.__HOST,o=Object.prototype.toString,n=Array.prototype.indexOf,i=Array.prototype.lastIndexOf,a=Array.prototype.filter,e=String.prototype.trim,s=/^\s+|\s+$/g,z={};c.mix(c,{type:function(p){return p==null?String(p):z[o.call(p)]||"object"},isNull:function(p){return p===null},isUndefined:function(p){return p===d},isEmptyObject:function(p){for(var r in p)return false;return true},isPlainObject:function(p){return p&&o.call(p)==="[object Object]"&&"isPrototypeOf"in p},clone:function(p,
r,x){var A=p,B,j,h=x||{};if(p&&((B=c.isArray(p))||c.isPlainObject(p))){if(p["__~ks_cloned"])return h[p["__~ks_cloned"]];p["__~ks_cloned"]=A=c.guid();h[A]=p;if(B)A=r?c.filter(p,r):p.concat();else{A={};for(j in p)if(j!=="__~ks_cloned"&&p.hasOwnProperty(j)&&(!r||r.call(p,p[j],j,p)!==false))A[j]=c.clone(p[j],r,h)}}if(!x){c.each(h,function(l){if(l["__~ks_cloned"])try{delete l["__~ks_cloned"]}catch(g){l["__~ks_cloned"]=d}});h=d}return A},trim:e?function(p){return p==d?"":e.call(p)}:function(p){return p==
d?"":p.toString().replace(s,"")},substitute:function(p,r,x){if(!c.isString(p)||!c.isPlainObject(r))return p;return p.replace(x||/\\?\{([^{}]+)\}/g,function(A,B){if(A.charAt(0)==="\\")return A.slice(1);return r[B]!==d?r[B]:""})},each:function(p,r,x){var A,B=0,j=p&&p.length,h=j===d||c.type(p)==="function";x=x||v;if(h)for(A in p){if(r.call(x,p[A],A,p)===false)break}else for(A=p[0];B<j&&r.call(x,A,B,p)!==false;A=p[++B]);return p},indexOf:n?function(p,r){return n.call(r,p)}:function(p,r){for(var x=0,A=
r.length;x<A;++x)if(r[x]===p)return x;return-1},lastIndexOf:i?function(p,r){return i.call(r,p)}:function(p,r){for(var x=r.length-1;x>=0;x--)if(r[x]===p)break;return x},unique:function(p,r){r&&p.reverse();for(var x=p.slice(),A=0,B,j;A<x.length;){for(j=x[A];(B=c.lastIndexOf(j,x))!==A;)x.splice(B,1);A+=1}r&&x.reverse();return x},inArray:function(p,r){return c.indexOf(p,r)>-1},filter:a?function(p,r,x){return a.call(p,r,x||this)}:function(p,r,x){var A=[];c.each(p,function(B,j,h){if(r.call(x||this,B,j,
h))A.push(B)});return A},now:function(){return(new Date).getTime()}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(p,r){z["[object "+p+"]"]=r=p.toLowerCase();c["is"+p]=function(x){return c.type(x)==r}})})(KISSY);
(function(c,d){function v(b){b=b.split("/");for(var m=[],f,u=0;u<b.length;u++){f=b[u];if(f!=".")f==".."?m.pop():m.push(f)}return m.join("/")}function o(b,m){if(!m)return m;if(c.isArray(m)){for(var f=0;f<m.length;f++)m[f]=o(b,m[f]);return m}if(m.lastIndexOf("../",0)==0||m.lastIndexOf("./",0)==0){f=x;var u;if((u=b.lastIndexOf("/"))!=-1)f=b.substring(0,u+1);return v(f+m)}else return m.indexOf("./")!=-1||m.indexOf("../")!=-1?v(m):m}function n(b){return b.replace(/(-min)?\.js[^/]*$/i,x)}function i(b){if(b.charAt(b.length-
1)!="/")b+="/";b=c.trim(b);if(!b.match(/^(http(s)?)|(file):/i)&&b.lastIndexOf("/",0)!=0)b=q+b;return v(b)}function a(b){for(var m=0;m<b.length;m++)if(b[m].match(/\/$/))b[m]+="index";return b}function e(b){var m=b.src,f=b.getAttribute("data-combo-prefix")||"??";b=b.getAttribute("data-combo-sep")||",";b=m.split(b);var u,w=b[0];f=w.indexOf(f);if(f==-1)u=m.replace(t,"$1");else{u=w.substring(0,f);m=w.substring(f+2,w.length);if(m.match(y))u+=m.replace(t,"$1");else c.each(b,function(C){if(C.match(y)){u+=
C.replace(t,"$1");return false}})}if(!u.match(/^(http(s)?)|(file):/i)&&u.lastIndexOf("/",0)!=0)u=q+u;return u}if(!c.use){var s=c.__HOST,z=!s.getSelection&&s.ActiveXObject,p=s.document,r=p.getElementsByTagName("head")[0]||p.documentElement,x="",A=2,B=3,j=4,h=c.mix,l=p.createElement("script").readyState?function(b,m){var f=b.onreadystatechange;b.onreadystatechange=function(){var u=b.readyState;if(u==="loaded"||u==="complete"){b.onreadystatechange=null;f&&f();m.call(this)}}}:function(b,m){b.addEventListener("load",
m,false)},g=/\.css(?:\?|$)/i,k=encodeURIComponent(c.buildTime),q=location.href.replace(/[^/]*$/i,x);s={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(b,m,f){var u=this.Env.mods,w;if(c.isString(b)&&!f&&c.isPlainObject(m)){w={};w[b]=m;b=w}if(c.isPlainObject(b)){c.each(b,function(D,F){D.name=F;u[F]&&h(D,u[F],false)});h(u,b);return this}if(c.isString(b)){var C;if(f&&(C=f.host)){b=u[C];if(!b){c.error("module "+C+" can not be found !");return this}if(this.__isAttached(C))m.call(this,
this);else{b.fns=b.fns||[];b.fns.push(m)}return this}this.__registerModule(b,m,f);if(f&&f.attach===false)return this;m=u[b];b=o(b,m.requires);if(this.__isAttached(b))this.__attachMod(m);else if(this.Config.debug&&!m)for(b=c.makeArray(b).length-1;b>=0;b--);return this}if(c.isFunction(b)){f=m;m=b;if(z){if(+new Date-this.__startLoadTime<15)(b=this.__startLoadModuleName)?this.__registerModule(b,m,f):c.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{b=this.__findModuleNameByInteractive();this.__registerModule(b,m,f)}this.__startLoadModuleName=
null;this.__startLoadTime=0}else this.__currentModule={def:m,config:f};return this}c.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var b=document.getElementsByTagName("script"),m,f,u=0;u<b.length;u++){f=b[u];if(f.readyState=="interactive"){m=f;break}}m||c.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");b=m.src;if(b.lastIndexOf(this.Config.base,0)==0)return n(b.substring(this.Config.base.length));m=this.__packages;for(var w in m){f=m[w].path;if(m.hasOwnProperty(w))if(b.lastIndexOf(f,
0)==0)return n(b.substring(f.length))}c.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+b)},__registerModule:function(b,m,f){f=f||{};var u=this.Env.mods,w=u[b]||{};h(w,{name:b,status:A});w.fns=w.fns||[];w.fns.push(m);h(u[b]=w,f)},_packages:function(b){var m;m=this.__packages=this.__packages||{};c.each(b,function(f){m[f.name]=f;if(f.path)f.path=i(f.path);if(f.tag)f.tag=encodeURIComponent(f.tag)})},_combine:function(b,m){var f=this,u;if(c.isObject(b))c.each(b,function(w,C){c.each(w,function(D){f._combine(D,
C)})});else{u=f.__combines=f.__combines||{};if(m)u[b]=m;else return u[b]||b}},__mixMods:function(b){var m=this.Env.mods,f=b.Env.mods,u;for(u in f)this.__mixMod(m,f,u,b)},__mixMod:function(b,m,f,u){var w=b[f]||{},C=w.status;c.mix(w,c.clone(m[f]));if(C)w.status=C;u&&this.__buildPath(w,u.Config.base);b[f]=w},use:function(b,m,f){b=b.replace(/\s+/g,x).split(",");a(b);f=f||{};var u=this,w;f.global&&u.__mixMods(f.global);if(u.__isAttached(b)){var C=u.__getModules(b);m&&m.apply(u,C)}else{c.each(b,function(D){u.__attachModByName(D,
function(){if(!w&&u.__isAttached(b)){w=true;var F=u.__getModules(b);m&&m.apply(u,F)}},f)});return u}},__getModules:function(b){var m=this,f=[m];c.each(b,function(u){f.push(m.require(u))});return f},require:function(b){b=this.Env.mods[b];var m=this.onRequire&&this.onRequire(b);if(m!==undefined)return m;return b&&b.value},__getPackagePath:function(b){if(b.packagepath)return b.packagepath;var m=this._combine(b.name),f=this.__packages||{},u="",w;for(w in f)if(f.hasOwnProperty(w))if(m.lastIndexOf(w,0)==
0)if(w.length>u)u=w;f=(m=f[u])&&m.path||this.Config.base;if(m&&m.charset)b.charset=m.charset;b.tag=m?m.tag:k;return b.packagepath=f},__attachModByName:function(b,m,f){var u=this.Env.mods,w=u[b];if(!w){w=this.Config.componentJsName||function(C){return C+"-min.js"};w={path:c.isFunction(w)?w(this._combine(b)):w,charset:"utf-8"};u[b]=w}w.name=b;w&&w.status===j||this.__attach(w,m,f)},__attach:function(b,m,f){function u(){if(!F&&w.__isAttached(b.requires)){b.status===A&&w.__attachMod(b);if(b.status===j){F=
true;m()}}}var w=this,C=w.Env.mods,D=(b.requires||[]).concat();b.requires=D;c.each(D,function(G,E,J){G=J[E]=o(b.name,G);(E=C[G])&&E.status===j||w.__attachModByName(G,u,f)});w.__buildPath(b,w.__getPackagePath(b));w.__load(b,function(){if(w.__currentModule){w.__registerModule(b.name,w.__currentModule.def,w.__currentModule.config);w.__currentModule=null}b.requires=b.requires||[];var G=[];c.each(b.requires,function(E,J,K){E=K[J]=o(b.name,E);J=C[E];K=c.inArray(E,D);J&&J.status===j||K||w.__attachModByName(E,
u,f);if(!K&&(!J||J.status<A))G.push(E)});G.length!=0&&G.unshift(b.name);if(c.isString(b.csspath)||c.isString(b.cssfullpath)){w.__buildPath(b,w.__getPackagePath(b));c.getScript(b.cssfullpath)}u()},f);var F=false},__attachMod:function(b){var m=this,f=b.fns;f&&c.each(f,function(u){u=c.isFunction(u)?u.apply(m,m.__getModules(b.requires)):u;b.value=b.value||u});b.status=j},__isAttached:function(b){var m=this.Env.mods,f=true;c.each(b,function(u){u=m[u];if(!u||u.status!==j)return f=false});return f},__load:function(b,
m,f){function u(){D[C]=A;if(b.status!==B){f.global&&w.__mixMod(w.Env.mods,f.global.Env.mods,b.name,f.global);if(b.status!==j)b.status=A;m()}}var w=this,C=b.fullpath,D=c.Env._loadQueue,F=D[C];b.status=b.status||0;if(b.status<1&&F)b.status=F.nodeName?1:A;if(c.isString(b.cssfullpath)){w.getScript(b.cssfullpath);b.cssfullpath=b.csspath=A}if(b.status<1&&C){b.status=1;if(z){w.__startLoadModuleName=b.name;w.__startLoadTime=Number(+new Date)}F=w.getScript(C,{success:function(){u()},error:function(){b.status=
B;D[C]=A},charset:b.charset});g.test(C)||(D[C]=F)}else b.status===1?l(F,u):m()},__buildPath:function(b,m){function f(w,C){if(!b[w]&&b[C]){b[C]=o(b.name,b[C]);b[w]=(m||u.base)+b[C]}if(b[w]&&u.debug)b[w]=b[w].replace(/-min/ig,x);if(b[w]&&!b[w].match(/\?t=/)&&b.tag)b[w]+="?t="+b.tag}var u=this.Config;f("fullpath","path");f("cssfullpath","csspath")},getScript:function(b,m,f){var u=/\.css(?:\?|$)/i.test(b),w=p.createElement(u?"link":"script"),C=m,D,F,G;if(c.isPlainObject(C)){m=C.success;D=C.error;F=C.timeout;
f=C.charset}if(u){w.href=b;w.rel="stylesheet"}else{w.src=b;w.async=true}if(f)w.charset=f;if(u)c.isFunction(m)&&m.call(w);else l(w,function(){if(G){G.cancel();G=d}c.isFunction(m)&&m.call(w)});if(c.isFunction(D))G=c.later(function(){G=d;D()},(F||this.Config.timeout)*1E3);r.insertBefore(w,r.firstChild);return w}};h(c,s);var t=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,y=/(seed|kissy)(-min)?\.js/i;c.__initLoader=function(){var b=p.getElementsByTagName("script");b=e(b[b.length-1]);this.Env.mods={};this.Env._loadQueue=
{};if(!this.Config.base)this.Config.base=i(b);if(!this.Config.timeout)this.Config.timeout=10};c.__initLoader();c.each(s,function(b,m){c.__APP_MEMBERS.push(m)});c.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(c,d){function v(j){var h=typeof j;return j===null||h!=="object"&&h!=="function"}function o(j){return Array.prototype.slice.call(j)}var n=c.__HOST,i=n.document,a=i.documentElement,e=encodeURIComponent("[]"),s=false,z=[],p=false,r=/^#?([\w-]+)$/,x=/^(\w+)\[\]$/,A=/\S/;c.mix(c,{isWindow:function(j){return c.type(j)==="object"&&"setInterval"in j},makeArray:function(j){if(j===null||j===d)return[];if(c.isArray(j))return j;if(typeof j.length!=="number"||c.isString(j)||c.isFunction(j))return[j];
return o(j)},param:function(j,h){if(!c.isPlainObject(j))return"";h=h||"&";var l=[],g,k;for(g in j){k=j[g];g=encodeURIComponent(g);if(v(k))l.push(g,"=",encodeURIComponent(k+""),h);else if(c.isArray(k)&&k.length)for(var q=0,t=k.length;q<t;++q)v(k[q])&&l.push(g,e+"=",encodeURIComponent(k[q]+""),h)}l.pop();return l.join("")},unparam:function(j,h){if(typeof j!=="string"||(j=c.trim(j)).length===0)return{};for(var l={},g=j.split(h||"&"),k,q,t,y,b=0,m=g.length;b<m;++b){k=g[b].split("=");q=decodeURIComponent(k[0]);
try{t=decodeURIComponent(k[1]||"")}catch(f){t=k[1]||""}if((y=q.match(x))&&y[1]){l[y[1]]=l[y[1]]||[];l[y[1]].push(t)}else l[q]=t}return l},globalEval:function(j){if(j&&A.test(j)){var h=i.getElementsByTagName("head")[0]||a,l=i.createElement("script");l.text=j;h.insertBefore(l,h.firstChild);h.removeChild(l)}},later:function(j,h,l,g,k){h=h||0;g=g||{};var q=j,t=c.makeArray(k),y;if(c.isString(j))q=g[j];q||c.error("method undefined");j=function(){q.apply(g,t)};y=l?setInterval(j,h):setTimeout(j,h);return{id:y,
interval:l,cancel:function(){this.interval?clearInterval(y):clearTimeout(y)}}},ready:function(j){p||this._bindReady();s?j.call(n,this):z.push(j);return this},_bindReady:function(){var j=this,h=i.documentElement.doScroll,l=h?"onreadystatechange":"DOMContentLoaded",g=function(){j._fireReady()};p=true;if(i.readyState==="complete")return g();if(i.addEventListener){var k=function(){i.removeEventListener(l,k,false);g()};i.addEventListener(l,k,false);n.addEventListener("load",g,false)}else{var q=function(){if(i.readyState===
"complete"){i.detachEvent(l,q);g()}};i.attachEvent(l,q);n.attachEvent("onload",g);var t=false;try{t=n.frameElement==null}catch(y){}if(h&&t){var b=function(){try{h("left");g()}catch(m){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!s){s=true;if(z){for(var j,h=0;j=z[h++];)j.call(n,this);z=null}}},available:function(j,h){if((j=(j+"").match(r)[1])&&c.isFunction(h))var l=1,g=c.later(function(){if(i.getElementById(j)&&(h()||1)||++l>500)g.cancel()},40,true)}});try{o(a.childNodes)}catch(B){o=function(j){for(var h=
[],l=j.length-1;l>=0;l--)h[l]=j[l];return h}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)c.Config.debug=true})(KISSY);(function(c){c.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var c=navigator.userAgent,d="",v="",o,n={},i=function(a){var e=0;return parseFloat(a.replace(/\./g,function(){return e++===0?".":""}))};if((o=c.match(/AppleWebKit\/([\d.]*)/))&&o[1]){n[d="webkit"]=i(o[1]);if((o=c.match(/Chrome\/([\d.]*)/))&&o[1])n[v="chrome"]=i(o[1]);else if((o=c.match(/\/([\d.]*) Safari/))&&o[1])n[v="safari"]=i(o[1]);if(/ Mobile\//.test(c))n.mobile="apple";else if(o=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))n.mobile=o[0].toLowerCase()}else if((o=
c.match(/Presto\/([\d.]*)/))&&o[1]){n[d="presto"]=i(o[1]);if((o=c.match(/Opera\/([\d.]*)/))&&o[1]){n[v="opera"]=i(o[1]);if((o=c.match(/Opera\/.* Version\/([\d.]*)/))&&o[1])n[v]=i(o[1]);if((o=c.match(/Opera Mini[^;]*/))&&o)n.mobile=o[0].toLowerCase();else if((o=c.match(/Opera Mobi[^;]*/))&&o)n.mobile=o[0]}}else if((o=c.match(/MSIE\s([^;]*)/))&&o[1]){n[d="trident"]=0.1;n[v="ie"]=i(o[1]);if((o=c.match(/Trident\/([\d.]*)/))&&o[1])n[d]=i(o[1])}else if(o=c.match(/Gecko/)){n[d="gecko"]=0.1;if((o=c.match(/rv:([\d.]*)/))&&
o[1])n[d]=i(o[1]);if((o=c.match(/Firefox\/([\d.]*)/))&&o[1])n[v="firefox"]=i(o[1])}n.core=d;n.shell=v;n._numberify=i;return n});
KISSY.add("ua/extra",function(c,d){var v=navigator.userAgent,o,n,i={},a=d._numberify;if(v.match(/360SE/))i[n="se360"]=3;else if(v.match(/Maxthon/)&&(o=window.external)){n="maxthon";try{i[n]=a(o.max_version)}catch(e){i[n]=0.1}}else if(o=v.match(/TencentTraveler\s([\d.]*)/))i[n="tt"]=o[1]?a(o[1]):0.1;else if(v.match(/TheWorld/))i[n="theworld"]=3;else if(o=v.match(/SE\s([\d.]*)/))i[n="sougou"]=o[1]?a(o[1]):0.1;n&&(i.shell=n);c.mix(d,i);return d},{requires:["ua/base"]});
KISSY.add("ua",function(c,d){return d},{requires:["ua/extra"]});KISSY.add("dom/base",function(c,d){function v(o,n){return o&&o.nodeType===n}return{_isElementNode:function(o){return v(o,1)},_isKSNode:function(o){var n=c.require("node/node");return n&&v(o,n.TYPE)},_getWin:function(o){return o&&"scrollTo"in o&&o.document?o:v(o,9)?o.defaultView||o.parentWindow:o===d?window:false},_nodeTypeIs:v}});
KISSY.add("dom/attr",function(c,d,v,o){var n=document.documentElement,i=!n.hasAttribute,a=n.textContent!==o?"textContent":"innerText",e=d._isElementNode,s=/^(?:href|src|style)/,z=/^(?:href|src|colspan|rowspan)/,p=/\r/g,r=/^(?:radio|checkbox)/,x={readonly:"readOnly"},A={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};i&&c.mix(x,{"for":"htmlFor","class":"className"});var B={tabindex:{getter:function(j){return j.tabIndex},setter:function(j,h){if(isNaN(parseInt(h))){j.removeAttribute("tabindex");
j.removeAttribute("tabIndex")}else j.tabIndex=h}},style:{getter:function(j){return j.style.cssText},setter:function(j,h){j.style.cssText=h}},checked:{setter:function(j,h){j.checked=!!h}},disabled:{setter:function(j,h){j.disabled=!!h}}};c.mix(d,{attr:function(j,h,l,g){if(c.isPlainObject(h)){g=l;for(var k in h)d.attr(j,k,h[k],g)}else if(h=c.trim(h)){h=h.toLowerCase();if(g&&A[h])return d[h](j,l);h=x[h]||h;var q=B[h];if(l===o){j=d.get(j);if(!e(j))return o;if(q&&q.getter)return q.getter(j);var t;s.test(h)||
(t=j[h]);if(t===o)t=j.getAttribute(h);if(i)if(z.test(h))t=j.getAttribute(h,2);return t===null?o:t}c.each(d.query(j),function(y){if(e(y))q&&q.setter?q.setter(y,l):y.setAttribute(h,""+l)})}},removeAttr:function(j,h){h=h.toLowerCase();c.each(d.query(j),function(l){if(e(l)){d.attr(l,h,"");l.removeAttribute(h)}})},hasAttr:i?function(j,h){h=h.toLowerCase();var l=d.get(j).getAttributeNode(h);return!!(l&&l.specified)}:function(j,h){h=h.toLowerCase();return d.get(j).hasAttribute(h)},val:function(j,h){if(h===
o){var l=d.get(j);if(!e(l))return o;if(l&&l.nodeName.toUpperCase()==="option".toUpperCase())return(l.attributes.value||{}).specified?l.value:l.text;if(l&&l.nodeName.toUpperCase()==="select".toUpperCase()){var g=l.selectedIndex,k=l.options;if(g<0)return null;else if(l.type==="select-one")return d.val(k[g]);l=[];for(var q=0,t=k.length;q<t;++q)k[q].selected&&l.push(d.val(k[q]));return l}if(v.webkit&&r.test(l.type))return l.getAttribute("value")===null?"on":l.value;return(l.value||"").replace(p,"")}c.each(d.query(j),
function(y){if(y&&y.nodeName.toUpperCase()==="select".toUpperCase()){if(c.isNumber(h))h+="";var b=c.makeArray(h),m=y.options,f;q=0;for(t=m.length;q<t;++q){f=m[q];f.selected=c.inArray(d.val(f),b)}if(!b.length)y.selectedIndex=-1}else if(e(y))y.value=h})},text:function(j,h){if(h===o){var l=d.get(j);if(e(l))return l[a]||"";else if(d._nodeTypeIs(l,3))return l.nodeValue}else c.each(d.query(j),function(g){if(e(g))g[a]=h;else if(d._nodeTypeIs(g,3))g.nodeValue=h})}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(c,d,v){function o(a,e,s,z){if(!(e=c.trim(e)))return z?false:v;a=d.query(a);var p=0,r=a.length;e=e.split(n);for(var x;p<r;p++){x=a[p];if(d._isElementNode(x)){x=s(x,e,e.length);if(x!==v)return x}}if(z)return false;return v}var n=/[\.\s]\s*\.?/,i=/[\n\t]/g;c.mix(d,{hasClass:function(a,e){return o(a,e,function(s,z,p){if(s=s.className){s=" "+s+" ";for(var r=0,x=true;r<p;r++)if(s.indexOf(" "+z[r]+" ")<0){x=false;break}if(x)return true}},true)},addClass:function(a,e){o(a,e,
function(s,z,p){var r=s.className;if(r){var x=" "+r+" ";r=r;for(var A=0;A<p;A++)if(x.indexOf(" "+z[A]+" ")<0)r+=" "+z[A];s.className=c.trim(r)}else s.className=e},v)},removeClass:function(a,e){o(a,e,function(s,z,p){var r=s.className;if(r)if(p){r=(" "+r+" ").replace(i," ");for(var x=0,A;x<p;x++)for(A=" "+z[x]+" ";r.indexOf(A)>=0;)r=r.replace(A," ");s.className=c.trim(r)}else s.className=""},v)},replaceClass:function(a,e,s){d.removeClass(a,e);d.addClass(a,s)},toggleClass:function(a,e,s){var z=c.isBoolean(s),
p;o(a,e,function(r,x,A){for(var B=0,j;B<A;B++){j=x[B];p=z?!s:d.hasClass(r,j);d[p?"removeClass":"addClass"](r,j)}},v)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,d,v,o){function n(b){var m=b.cloneNode(true);if(v.ie<8)m.innerHTML=b.innerHTML;return m}function i(b,m,f,u){if(f){var w=c.guid("ks-tmp-"),C=RegExp(B);m+='<span id="'+w+'"></span>';c.available(w,function(){var D=d.get("head"),F,G,E,J,K,I;for(C.lastIndex=0;F=C.exec(m);)if((E=(G=F[1])?G.match(h):false)&&E[2]){F=e.createElement("script");F.src=E[2];if((J=G.match(l))&&J[2])F.charset=J[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)c.globalEval(I);(K=e.getElementById(w))&&
d.remove(K);c.isFunction(u)&&u()});a(b,m)}else{a(b,m);c.isFunction(u)&&u()}}function a(b,m){m=(m+"").replace(B,"");try{b.innerHTML=m}catch(f){for(;b.firstChild;)b.removeChild(b.firstChild);m&&b.appendChild(d.create(m))}}var e=document,s=v.ie,z=d._nodeTypeIs,p=d._isElementNode,r=d._isKSNode,x=e.createElement("div"),A=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,j=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,h=/\ssrc=(['"])(.*?)\1/i,l=/\scharset=(['"])(.*?)\1/i;c.mix(d,{create:function(b,
m,f){if(z(b,1)||z(b,3))return n(b);if(r(b))return n(b[0]);if(!(b=c.trim(b)))return null;var u=null;u=d._creators;var w,C="div",D;if(w=j.exec(b))u=(f||e).createElement(w[1]);else{if((w=A.exec(b))&&(D=w[1])&&c.isFunction(u[D=D.toLowerCase()]))C=D;b=u[C](b,f).childNodes;if(b.length===1)f=b[0].parentNode.removeChild(b[0]);else{b=b;D=f||e;f=null;if(b&&(b.push||b.item)&&b[0]){D=D||b[0].ownerDocument;f=D.createDocumentFragment();if(b.item)b=c.makeArray(b);D=0;for(u=b.length;D<u;D++)f.appendChild(b[D])}f=
f}u=f}f=u;p(f)&&c.isPlainObject(m)&&d.attr(f,m,true);return f},_creators:{div:function(b,m){var f=m?m.createElement("div"):x;f.innerHTML=b;return f}},html:function(b,m,f,u){if(m===o){b=d.get(b);if(p(b))return b.innerHTML}else c.each(d.query(b),function(w){p(w)&&i(w,m,f,u)})},remove:function(b){c.each(d.query(b),function(m){p(m)&&m.parentNode&&m.parentNode.removeChild(m)})}});if(s||v.gecko||v.webkit){var g=d._creators,k=d.create,q=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,t={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in t)(function(b){g[y]=function(m,f){return k("<"+b+">"+m+"</"+b+">",null,f)}})(t[y]);if(s){g.script=function(b,m){var f=m?m.createElement("div"):x;f.innerHTML="-"+b;f.removeChild(f.firstChild);return f};if(s<8)g.tbody=function(b,m){var f=k("<table>"+b+"</table>",null,m),u=f.children.tags("tbody")[0];f.children.length>1&&u&&!q.test(b)&&u.parentNode.removeChild(u);return f}}c.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,
caption:g.tbody,colgroup:g.tbody})}return d},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(c,d,v){var o=window,n="_ks_data_"+c.now(),i={},a={},e={EMBED:1,OBJECT:1,APPLET:1};c.mix(d,{data:function(s,z,p){if(c.isPlainObject(z))for(var r in z)d.data(s,r,z[r]);else if(p===v){s=d.get(s);var x;if(!(!s||e[s.nodeName])){if(s==o)s=a;x=(r=s&&s.nodeType)?i:s;s=x[r?s[n]:n];if(c.isString(z)&&s)return s[z];return s}}else d.query(s).each(function(A){if(!(!A||e[A.nodeName])){if(A==o)A=a;var B=i,j;if(A&&A.nodeType){if(!(j=A[n]))j=A[n]=c.guid()}else{j=n;B=A}if(z&&p!==v){B[j]||
(B[j]={});B[j][z]=p}}})},removeData:function(s,z){d.query(s).each(function(p){if(p){if(p==o)p=a;var r,x=i,A,B=p&&p.nodeType;if(B)r=p[n];else{x=p;r=n}if(r){A=x[r];if(z){if(A){delete A[z];c.isEmptyObject(A)&&d.removeData(p)}}else{if(B)p.removeAttribute&&p.removeAttribute(n);else try{delete p[n]}catch(j){}B&&delete x[r]}}}})}});return d},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(c,d){c.mix(d,{insertBefore:function(v,o){if((v=d.get(v))&&(o=d.get(o))&&o.parentNode)o.parentNode.insertBefore(v,o);return v},insertAfter:function(v,o){if((v=d.get(v))&&(o=d.get(o))&&o.parentNode)o.nextSibling?o.parentNode.insertBefore(v,o.nextSibling):o.parentNode.appendChild(v);return v},append:function(v,o){if((v=d.get(v))&&(o=d.get(o)))o.appendChild&&o.appendChild(v)},prepend:function(v,o){if((v=d.get(v))&&(o=d.get(o)))o.firstChild?d.insertBefore(v,o.firstChild):
o.appendChild(v)}});return d},{requires:["dom/base"]});
KISSY.add("dom/offset",function(c,d,v,o){function n(k){var q=0,t=0,y=z(k[A]);if(k[g]){k=k[g]();q=k[B];t=k[j];if(v.mobile!=="apple"){q+=d[h](y);t+=d[l](y)}}return{left:q,top:t}}var i=window,a=document,e=d._isElementNode,s=d._nodeTypeIs,z=d._getWin,p=a.compatMode==="CSS1Compat",r=Math.max,x=parseInt,A="ownerDocument",B="left",j="top",h="scrollLeft",l="scrollTop",g="getBoundingClientRect";c.mix(d,{offset:function(k,q){if(!(k=d.get(k))||!k[A])return null;if(q===o)return n(k);var t=k;if(d.css(t,"position")===
"static")t.style.position="relative";var y=n(t),b={},m,f;for(f in q){m=x(d.css(t,f),10)||0;b[f]=m+q[f]-y[f]}d.css(t,b)},scrollIntoView:function(k,q,t,y){if((k=d.get(k))&&k[A]){y=y===o?true:!!y;t=t===o?true:!!t;if(!q||q===i)return k.scrollIntoView(t);q=d.get(q);if(s(q,9))q=z(q);var b=q&&"scrollTo"in q&&q.document,m=d.offset(k),f=b?{left:d.scrollLeft(q),top:d.scrollTop(q)}:d.offset(q),u={left:m[B]-f[B],top:m[j]-f[j]};m=b?d.viewportHeight(q):q.clientHeight;f=b?d.viewportWidth(q):q.clientWidth;var w=
d[h](q),C=d[l](q),D=w+f,F=C+m,G=k.offsetHeight;k=k.offsetWidth;var E=u.left+w-(x(d.css(q,"borderLeftWidth"))||0);u=u.top+C-(x(d.css(q,"borderTopWidth"))||0);var J=E+k,K=u+G,I,H;if(G>m||u<C||t)I=u;else if(K>F)I=K-m;if(y)if(k>f||E<w||t)H=E;else if(J>D)H=J-f;if(b){if(I!==o||H!==o)q.scrollTo(H,I)}else{if(I!==o)q[l]=I;if(H!==o)q[h]=H}}}});c.each(["Left","Top"],function(k,q){var t="scroll"+k;d[t]=function(y){var b=0,m=z(y),f;if(m&&(f=m.document))b=m[q?"pageYOffset":"pageXOffset"]||f.documentElement[t]||
f.body[t];else if(e(y=d.get(y)))b=y[t];return b}});c.each(["Width","Height"],function(k){d["doc"+k]=function(q){q=q||a;return r(p?q.documentElement["scroll"+k]:q.body["scroll"+k],d["viewport"+k](q))};d["viewport"+k]=function(q){var t="inner"+k;q=z(q);var y=q.document;return t in q?q[t]:p?y.documentElement["client"+k]:y.body["client"+k]}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(c,d,v,o){function n(l,g){var k=d.get(l),q=g===s?k.offsetWidth:k.offsetHeight;c.each(g===s?["Left","Right"]:["Top","Bottom"],function(t){q-=parseFloat(d._getComputedStyle(k,"padding"+t))||0;q-=parseFloat(d._getComputedStyle(k,"border"+t+"Width"))||0});return q}function i(l,g,k){var q=k;if(k===z&&r.test(g)){q=0;if(c.inArray(d.css(l,"position"),["absolute","fixed"])){k=l[g==="left"?"offsetLeft":"offsetTop"];if(v.ie===8||v.opera)k-=p(d.css(l.offsetParent,"border-"+g+"-width"))||
0;q=k-(p(d.css(l,"margin-"+g))||0)}}return q}var a=document,e=a.documentElement,s="width",z="auto",p=parseInt,r=/^(?:left|top)/,x=/^(?:width|height|top|left|right|bottom|margin|padding)/i,A=/-([a-z])/ig,B=function(l,g){return g.toUpperCase()},j={},h={};c.mix(d,{_CUSTOM_STYLES:j,_getComputedStyle:function(l,g){var k="",q=l.ownerDocument;if(l.style)k=q.defaultView.getComputedStyle(l,null)[g];return k},css:function(l,g,k){if(c.isPlainObject(g))for(var q in g)d.css(l,q,g[q]);else{if(g.indexOf("-")>0)g=
g.replace(A,B);g=j[g]||g;if(k===o){l=d.get(l);q="";if(l&&l.style){q=g.get?g.get(l):l.style[g];if(q===""&&!g.get)q=i(l,g,d._getComputedStyle(l,g))}return q===o?"":q}else{if(k===null||k==="")k="";else if(!isNaN(new Number(k))&&x.test(g))k+="px";(g===s||g==="height")&&parseFloat(k)<0||c.each(d.query(l),function(t){if(t&&t.style){g.set?g.set(t,k):t.style[g]=k;if(k==="")t.style.cssText||t.removeAttribute("style")}})}}},width:function(l,g){if(g===o)return n(l,s);else d.css(l,s,g)},height:function(l,g){if(g===
o)return n(l,"height");else d.css(l,"height",g)},show:function(l){d.query(l).each(function(g){if(g){g.style.display=d.data(g,"display")||"";if(d.css(g,"display")==="none"){var k=g.tagName,q=h[k],t;if(!q){t=a.createElement(k);a.body.appendChild(t);q=d.css(t,"display");d.remove(t);h[k]=q}d.data(g,"display",q);g.style.display=q}}})},hide:function(l){d.query(l).each(function(g){if(g){var k=g.style,q=k.display;if(q!=="none"){q&&d.data(g,"display",q);k.display="none"}}})},toggle:function(l){d.query(l).each(function(g){if(g)g.style.display===
"none"?d.show(g):d.hide(g)})},addStyleSheet:function(l,g){var k;if(g&&(g=g.replace("#","")))k=d.get("#"+g);if(!k){k=d.create("<style>",{id:g});d.get("head").appendChild(k);if(k.styleSheet)k.styleSheet.cssText=l;else k.appendChild(a.createTextNode(l))}},unselectable:function(l){d.query(l).each(function(g){if(g)if(v.gecko)g.style.MozUserSelect="none";else if(v.webkit)g.style.KhtmlUserSelect="none";else if(v.ie||v.opera){var k=0,q=g.getElementsByTagName("*");for(g.setAttribute("unselectable","on");g=
q[k++];)switch(g.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:g.setAttribute("unselectable","on")}}})}});if(e.style.cssFloat!==o)j["float"]="cssFloat";else if(e.style.styleFloat!==o)j["float"]="styleFloat";return d},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,d,v){function o(h,l){var g,k,q=[],t;k=c.require("sizzle");l=n(l);if(c.isString(h)){h=c.trim(h);if(B.test(h)){if(k=i(h.slice(1),l))q=[k]}else if(g=j.exec(h)){k=g[1];t=g[2];g=g[3];if(l=k?i(k,l):l)if(g)if(!k||h.indexOf(p)!==-1)q=e(g,t,l);else{if((k=i(k,l))&&d.hasClass(k,g))q=[k]}else if(t)q=a(t,l)}else if(k)q=k(h,l);else s(h)}else if(h&&(h[x]||h[A]))q=h[x]?[h[x]()]:h[A]();else if(h&&(c.isArray(h)||h&&!h.nodeType&&h.item&&!h.setTimeout))q=h;else if(h)q=[h];if(q&&!q.nodeType&&
q.item&&!q.setTimeout)q=c.makeArray(q);q.each=function(y,b){return c.each(q,y,b)};return q}function n(h){if(h===v)h=z;else if(c.isString(h)&&B.test(h))h=i(h.slice(1),z);else if(h&&h.nodeType!==1&&h.nodeType!==9)h=null;return h}function i(h,l){if(l.nodeType!==9)l=l.ownerDocument;return l.getElementById(h)}function a(h,l){return l.getElementsByTagName(h)}function e(h,l,g){g=h=g.getElementsByClassName(h);var k=0,q=0,t=h.length,y;if(l&&l!==r){g=[];for(l=l.toUpperCase();k<t;++k){y=h[k];if(y.tagName===
l)g[q++]=y}}return g}function s(h){c.error("Unsupported selector: "+h)}var z=document,p=" ",r="*",x="getDOMNode",A=x+"s",B=/^#[\w-]+$/,j=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var h=z.createElement("div");h.appendChild(z.createComment(""));if(h.getElementsByTagName(r).length>0)a=function(l,g){var k=g.getElementsByTagName(l);if(l===r){for(var q=[],t=0,y=0,b;b=k[t++];)if(b.nodeType===1)q[y++]=b;k=q}return k}})();z.getElementsByClassName||(e=z.querySelectorAll?function(h,l,g){return g.querySelectorAll((l?
l:"")+"."+h)}:function(h,l,g){l=g.getElementsByTagName(l||r);g=[];var k=0,q=0,t=l.length,y,b;for(h=p+h+p;k<t;++k){y=l[k];if((b=y.className)&&(p+b+p).indexOf(h)>-1)g[q++]=y}return g});c.mix(d,{query:o,get:function(h,l){return o(h,l)[0]||null},filter:function(h,l,g){g=o(h,g);var k=c.require("sizzle"),q,t,y,b=[];if(c.isString(l)&&(q=j.exec(l))&&!q[1]){t=q[2];y=q[3];l=function(m){return!(t&&m.tagName!==t.toUpperCase()||y&&!d.hasClass(m,y))}}if(c.isFunction(l))b=c.filter(g,l);else if(l&&k)b=k._filter(h,
l+"");else s(l);return b},test:function(h,l,g){h=o(h,g);return h.length&&d.filter(h,l,g).length===h.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(c,d,v,o,n){if(!v.ie)return d;c=document;v=c.documentElement;o=d._CUSTOM_STYLES;var i=/^-?\d+(?:px)?$/i,a=/^-?\d/,e=/^(?:width|height)$/;try{if(v.style.opacity==n&&v.filters)o.opacity={get:function(z){var p=100;try{p=z.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{p=z.filters("alpha").opacity}catch(x){}}return p/100+""},set:function(z,p){var r=z.style,x=(z.currentStyle||0).filter||"";r.zoom=1;if(x)x=x.replace(/alpha\(opacity=.+\)/ig,"");if(x&&p!=
1)x+=", ";r.filter=x+(p!=1?"alpha(opacity="+p*100+")":"")}}}catch(s){}if(!(c.defaultView||{}).getComputedStyle&&v.currentStyle)d._getComputedStyle=function(z,p){var r=z.style,x=z.currentStyle[p];if(e.test(p))x=d[p](z)+"px";else if(!i.test(x)&&a.test(x)){var A=r.left,B=z.runtimeStyle.left;z.runtimeStyle.left=z.currentStyle.left;r.left=p==="fontSize"?"1em":x||0;x=r.pixelLeft+"px";r.left=A;z.runtimeStyle.left=B}return x};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,d,v){function o(a,e,s,z){if(!(a=d.get(a)))return null;if(e===v)e=1;var p=null,r,x;if(c.isNumber(e)&&e>=0){if(e===0)return a;r=0;x=e;e=function(){return++r===x}}for(;a=a[s];)if(i(a)&&(!e||d.test(a,e))&&(!z||z(a))){p=a;break}return p}function n(a,e,s){var z=[];var p=a=d.get(a);if(a&&s)p=a.parentNode;if(p){s=0;for(p=p.firstChild;p;p=p.nextSibling)if(i(p)&&p!==a&&(!e||d.test(p,e)))z[s++]=p}return z}var i=d._isElementNode;c.mix(d,{parent:function(a,e){return o(a,e,
"parentNode",function(s){return s.nodeType!=11})},next:function(a,e){return o(a,e,"nextSibling",v)},prev:function(a,e){return o(a,e,"previousSibling",v)},siblings:function(a,e){return n(a,e,true)},children:function(a,e){return n(a,e,v)},contains:function(a,e){var s=false;if((a=d.get(a))&&(e=d.get(e)))if(a.contains){if(e.nodeType===3){e=e.parentNode;if(e===a)return true}if(e)return a.contains(e)}else if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(e)&16);else for(;!s&&(e=e.parentNode);)s=
e==a;return s}});return d},{requires:["dom/base"]});KISSY.add("dom",function(c,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(c,d){function v(i,a,e){this.currentTarget=i;this.originalEvent=a||{};if(a){this.type=a.type;this._fix()}else{this.type=e;this.target=i}this.currentTarget=i;this.fixed=true}var o=document,n="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(v,
{_fix:function(){var i=this.originalEvent,a=n.length,e,s=this.currentTarget;for(s=s.nodeType===9?s:s.ownerDocument||o;a;){e=n[--a];this[e]=i[e]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===d&&this.clientX!==d){i=s.documentElement;a=s.body;this.pageX=this.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||
0)-(i&&i.clientLeft||a&&a.clientLeft||0);this.pageY=this.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}if(this.which===d)this.which=this.charCode!==d?this.charCode:this.keyCode;if(this.metaKey===d)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==d)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var i=this.originalEvent;if(i.preventDefault)i.preventDefault();else i.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var i=
this.originalEvent;if(i.stopPropagation)i.stopPropagation();else i.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var i=this.originalEvent;i.stopImmediatePropagation?i.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(i){i?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return v});
KISSY.add("event/base",function(c,d,v,o){function n(j,h,l,g,k){if(c.isString(h))h=d.query(h);if(c.isArray(h)){c.each(h,function(q){B[j](q,l,g,k)});return true}if((l=c.trim(l))&&l.indexOf(r)>0){c.each(l.split(r),function(q){B[j](h,q,g,k)});return true}return o}function i(j){return j&&j.nodeType!==3&&j.nodeType!==8?d.data(j,p):-1}function a(j,h){j&&j.nodeType!==3&&j.nodeType!==8&&d.data(j,p,h)}var e=document,s=e.addEventListener?function(j,h,l,g){j.addEventListener&&j.addEventListener(h,l,!!g)}:function(j,
h,l){j.attachEvent&&j.attachEvent("on"+h,l)},z=e.removeEventListener?function(j,h,l,g){j.removeEventListener&&j.removeEventListener(h,l,!!g)}:function(j,h,l){j.detachEvent&&j.detachEvent("on"+h,l)},p="ksEventTargetId",r=" ",x=c.now(),A={},B={EVENT_GUID:p,special:{},add:function(j,h,l,g){if(!n("add",j,h,l,g)){var k=i(j),q,t,y,b,m;if(!(k===-1||!h||!c.isFunction(l))){if(!k){a(j,k=x++);A[k]={target:j,events:{}}}t=A[k].events;if(!t[h]){q=((k=!j.isCustomEventTarget)||j._supportSpecialEvent)&&B.special[h]||
{};y=function(f,u){if(!f||!f.fixed)f=new v(j,f,h);if(c.isPlainObject(u)){var w=f.type;c.mix(f,u);f.type=w}q.setup&&q.setup(f);return(q.handle||B._handle)(j,f)};t[h]={handle:y,listeners:[]};b=q.fix||h;m=q.capture;q.init&&q.init.apply(null,c.makeArray(arguments));k&&q.fix!==false&&s(j,b,y,m)}t[h].listeners.push({fn:l,scope:g||j})}}},__getListeners:function(j,h){var l,g=[];if(l=(B.__getEvents(j)||{})[h])g=l.listeners;return g},__getEvents:function(j){var h=i(j),l;if(h!==-1)if(h&&(l=A[h]))if(l.target===
j)return l.events||{}},remove:function(j,h,l,g){if(!n("remove",j,h,l,g)){var k=B.__getEvents(j),q=i(j),t,y,b,m,f,u,w=(!j.isCustomEventTarget||j._supportSpecialEvent)&&B.special[h]||{};if(k!==o){g=g||j;if(t=k[h]){y=t.listeners;b=y.length;if(c.isFunction(l)&&b){f=m=0;for(u=[];m<b;++m)if(l!==y[m].fn||g!==y[m].scope)u[f++]=y[m];t.listeners=u;b=u.length}if(l===o||b===0){if(!j.isCustomEventTarget){w=B.special[h]||{};if(w.fix!==false)z(j,w.fix||h,t.handle)}delete k[h]}}w.destroy&&w.destroy.apply(null,c.makeArray(arguments));
if(h===o||c.isEmptyObject(k)){for(h in k)B.remove(j,h);delete A[q];d.removeData(j,p)}}}},_handle:function(j,h){var l=B.__getListeners(j,h.type);l=l.slice(0);for(var g,k,q=0,t=l.length;q<t;++q){g=l[q];g=g.fn.call(g.scope,h);if(k!==false)k=g;if(g!==o){h.result=g;g===false&&h.halt()}if(h.isImmediatePropagationStopped)break}return k},_getCache:function(j){return A[j]},__getID:i,_simpleAdd:s,_simpleRemove:z};B.on=B.add;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,d,v,o){return{isCustomEventTarget:true,fire:function(n,i){var a=v.data(this,d.EVENT_GUID)||-1;if((a=((d._getCache(a)||{}).events||{})[n])&&c.isFunction(a.handle))return a.handle(o,i)},on:function(n,i,a){d.add(this,n,i,a);return this},detach:function(n,i,a){d.remove(this,n,i,a);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(c,d){document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(v){d.special[v.name]={fix:v.fix,capture:true,setup:function(o){o.type=v.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(c,d,v,o){o.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){d.special[n.name]={fix:n.fix,setup:function(i){i.type=n.name},handle:function(i,a){if(v._isKSNode(i))i=i[0];var e=a.relatedTarget;try{for(;e&&e!==i;)e=e.parentNode;e!==i&&d._handle(i,a)}catch(s){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(c,d,v){d.Target=v;return d},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(c,d,v){function o(n,i,a){if(!(this instanceof o))return new o(n,i,a);if(!n){this.length=0;return v}if(c.isString(n)){n=d.create(n,i,a);if(n.nodeType===11)return new (c.require("node/nodelist"))(n.childNodes)}else if(n instanceof o)return n;else n=n;this[0]=n;return v}o.TYPE="-ks-Node";c.augment(o,{length:1,getDOMNode:function(){return this[0]},nodeType:o.TYPE});o.one=function(n,i){var a=d.get(n,i);return a?new o(a,v,v):null};return o},{requires:["dom"]});
KISSY.add("node/nodelist",function(c,d,v,o){function n(e){if(!(this instanceof n))return new n(e);i.push.apply(this,c.makeArray(e)||[]);return o}var i=Array.prototype,a=d._isElementNode;c.mix(n.prototype,{length:0,item:function(e){var s=null,z,p;if(a(e)){z=0;for(p=this.length;z<p;z++)if(e===this[z]){e=z;break}}if(a(this[e]))s=new v(this[e]);return s},getDOMNodes:function(){return i.slice.call(this)},each:function(e,s){var z=this.length,p=0,r;for(r=new v(this[0]);p<z&&e.call(s||r,r,p,this)!==false;r=
new v(this[++p]));return this}});n.all=function(e,s){return new n(d.query(e,s,true))};return n},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(c,d,v,o,n,i){function a(t,y,b,m){t=[this[t?l:h]()].concat(c.makeArray(y));if(y[b]===i&&(b!=1||c.isString(y[0])))return m.apply(d,t);m.apply(d,t);return this}function e(t,y){c.each(t,function(b){c.each([B,j],function(m,f){m[b]=function(u){switch(y){case g:return function(){return a.call(this,f,arguments,1,u)};case k:return function(){return a.call(this,f,arguments,0,u)};case q:return function(){var w=this[f?l:h]();return(w=u.apply(d,[w].concat(c.makeArray(arguments))))?
new (c.isArray(w)?n:o)(w):null};default:return function(){var w=this[f?l:h]();w=u.apply(d,[w].concat(c.makeArray(arguments)));return w===i?this:w}}}(d[b])})})}function s(t,y,b){t&&c.each(this,function(m){var f;if(y||c.isString(t))f=d.create(t);else{if(r(t,1)||r(t,3))f=t;if(x(t))f=t[0]}d[b](f,m)});return this}function z(t,y){if((t=d.get(t))&&t.appendChild)c.each(this,function(b){d[y](b,t)});return this}function p(t,y){t.__wrap=t.__wrap||[];t.__wrap.push(y)}var r=d._nodeTypeIs,x=d._isKSNode,A=c.require("event/target"),
B=o.prototype,j=n.prototype,h="getDOMNode",l=h+"s",g=1,k=2,q=4;c.mix(B,{one:function(t){return o.one(t,this[0])},all:function(t){return n.all(t,this[0])}});e(["data","removeData"],g);e(["hasClass","addClass","removeClass","replaceClass","toggleClass"],i);e(["attr","removeAttr"],g);e(["val","text"],k);e(["css"],g);e(["width","height"],k);e(["offset"],k);e(["scrollIntoView"],i);e(["parent","next","prev","siblings","children"],q);e(["contains"],i);e(["html","unselectable"],k);e(["remove"],i);c.each(["insertBefore",
"insertAfter"],function(t){B[t]=function(y){d[t].call(d,this[0],y);return this}});c.each([B,j],function(t,y){c.each(["append","prepend"],function(b){t[b]=function(m){return s.call(this,m,y,b)};t[b+"To"]=function(m){return z.call(this,m,b)}})});c.augment(o,A,{fire:null,on:function(t,y,b){function m(u){var w=c.makeArray(arguments);w.shift();u.target=new o(u.target);if(u.relatedTarget)u.relatedTarget=new o(u.relatedTarget);w.unshift(u);return y.apply(b||f,w)}var f=this;v.add(this[0],t,m,b);p(y,m);return this},
detach:function(t,y,b){if(c.isFunction(y)){y=y.__wrap||[];for(var m=0;m<y.length;m++)v.remove(this[0],t,y[m],b)}else v.remove(this[0],t,y,b);return this}});c.augment(n,A,{fire:null});B._supportSpecialEvent=true;c.each({on:"add",detach:"remove"},function(t,y){j[y]=function(b,m,f){for(var u=0;u<this.length;u++)this.item(u).on(b,m,f)}})},{requires:["dom","event","node/node","node/nodelist"]});KISSY.add("node",function(c,d,v){d.List=v;return d},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function c(r){return r<10?"0"+r:r}function d(r){a.lastIndex=0;return a.test(r)?'"'+r.replace(a,function(x){var A=z[x];return typeof A==="string"?A:"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'}function v(r,x){var A,B,j,h,l=e,g,k=x[r];if(k&&typeof k==="object"&&typeof k.toJSON==="function")k=k.toJSON(r);if(typeof p==="function")k=p.call(x,r,k);switch(typeof k){case "string":return d(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);
case "object":if(!k)return"null";e+=s;g=[];if(Object.prototype.toString.apply(k)==="[object Array]"){h=k.length;for(A=0;A<h;A+=1)g[A]=v(A,k)||"null";j=g.length===0?"[]":e?"[\n"+e+g.join(",\n"+e)+"\n"+l+"]":"["+g.join(",")+"]";e=l;return j}if(p&&typeof p==="object"){h=p.length;for(A=0;A<h;A+=1){B=p[A];if(typeof B==="string")if(j=v(B,k))g.push(d(B)+(e?": ":":")+j)}}else for(B in k)if(Object.hasOwnProperty.call(k,B))if(j=v(B,k))g.push(d(B)+(e?": ":":")+j);j=g.length===0?"{}":e?"{\n"+e+g.join(",\n"+e)+
"\n"+l+"}":"{"+g.join(",")+"}";e=l;return j}}var o=window,n=o.JSON;if(!n)n=o.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var i=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,s,z={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;if(typeof n.stringify!=="function")n.stringify=function(r,x,A){var B;s=e="";if(typeof A==="number")for(B=0;B<A;B+=1)s+=" ";else if(typeof A==="string")s=A;if((p=x)&&typeof x!=="function"&&(typeof x!=="object"||typeof x.length!=="number"))throw Error("JSON.stringify");return v("",{"":r})};if(typeof n.parse!==
"function")n.parse=function(r,x){function A(j,h){var l,g,k=j[h];if(k&&typeof k==="object")for(l in k)if(Object.hasOwnProperty.call(k,l)){g=A(k,l);if(g!==undefined)k[l]=g;else delete k[l]}return x.call(j,h,k)}var B;r=String(r);i.lastIndex=0;if(i.test(r))r=r.replace(i,function(j){return"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(r.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+r+")");return typeof x==="function"?A({"":B},""):B}throw new SyntaxError("JSON.parse");};return n});KISSY.add("json",function(c,d){return{parse:function(v){if(v==null||v==="")return null;return d.parse(v)},stringify:d.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(c,d,v,o){function n(f){f=c.merge(m,f);if(!f.url)return o;if(f.data&&!c.isString(f.data))f.data=c.param(f.data);f.context=f.context||f;var u,w=k,C,D=f.type.toUpperCase();if(f.dataType===A){u=f.jsonpCallback||A+c.now();f.url=f.url+(f.url.indexOf("?")===-1?"?":"&")+(f.jsonp+"="+u);f.dataType=B;var F=e[u];e[u]=function(I){if(c.isFunction(F))F(I);else{e[u]=o;try{delete e[u]}catch(H){}}i([k,q],I,w,E,f)}}if(f.data&&D===z)f.url=f.url+(f.url.indexOf("?")===-1?"?":"&")+f.data;
if(f.dataType===B){a(h,f);D=c.getScript(f.url,u?null:function(){i([k,q],j,w,E,f)});a(l,f);return D}var G=false,E=f.xhr();a(h,f);E.open(D,f.url,f.async);try{if(f.data||f.contentType)E.setRequestHeader(r,f.contentType);E.setRequestHeader("Accept",f.dataType&&f.accepts[f.dataType]?f.accepts[f.dataType]+", */*; q=0.01":f.accepts._default)}catch(J){}E.onreadystatechange=function(I){if(!E||E.readyState===0||I==="abort"){G||i(q,null,t,E,f);G=true;if(E)E.onreadystatechange=s}else if(!G&&E&&(E.readyState===
4||I===y)){G=true;E.onreadystatechange=s;var H;if(I===y)H=y;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?k:t}w=H;try{H=E;var M=f.dataType,N=j,O,L=H;if(!c.isString(L)){N=H.getResponseHeader(r)||j;L=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&L.documentElement.nodeName===b)throw b;}if(c.isString(L))if(M===x||!M&&N.indexOf(x)>=0)L=v.parse(L);C=L}catch(Q){w=b}i([w===k?k:t,q],C,w,E,f);if(I===y){E.abort();a(g,f)}if(f.async)E=
null}};a(l,f);try{E.send(D===p?f.data:null)}catch(K){i([t,q],C,t,E,f)}f.async||a(q,f);return E}function i(f,u,w,C,D){if(c.isArray(f))c.each(f,function(F){i(F,u,w,C,D)});else{w===f&&D[f]&&D[f].call(D.context,u,w,C);a(f,D)}}function a(f,u){n.fire(f,{ajaxConfig:u})}var e=window,s=function(){},z="GET",p="POST",r="Content-Type",x="json",A=x+"p",B="script",j="",h="start",l="send",g="stop",k="success",q="complete",t="error",y="timeout",b="parsererror",m={type:z,url:j,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:e.ActiveXObject?function(){if(e.XmlHttpRequest)try{return new e.XMLHttpRequest}catch(f){}try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}}:function(){return new e.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};c.mix(n,d.Target);c.mix(n,{get:function(f,u,w,C,D){if(c.isFunction(u)){C=w;w=u}return n({type:D||
z,url:f,data:u,success:function(F,G,E){w&&w.call(this,F,G,E)},dataType:C})},post:function(f,u,w,C){if(c.isFunction(u)){C=w;w=u;u=o}return n.get(f,u,w,C,p)},jsonp:function(f,u,w){if(c.isFunction(u)){w=u;u=null}return n.get(f,u,w,A)}});return n},{requires:["event","json"]});KISSY.add("ajax",function(c,d){return d},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var c=Math,d=c.PI,v=c.pow,o=c.sin,n=1.70158,i={easeNone:function(a){return a},easeIn:function(a){return a*a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return(a*=2)<1?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return(a*=2)<1?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){if(a===0||a===1)return a;return-(v(2,10*(a-=1))*o((a-0.075)*2*d/0.3))},elasticOut:function(a){if(a===
0||a===1)return a;return v(2,-10*a)*o((a-0.075)*2*d/0.3)+1},elasticBoth:function(a){if(a===0||(a*=2)===2)return a;if(a<1)return-0.5*v(2,10*(a-=1))*o((a-0.1125)*2*d/0.45);return v(2,-10*(a-=1))*o((a-0.1125)*2*d/0.45)*0.5+1},backIn:function(a){if(a===1)a-=0.0010;return a*a*((n+1)*a-n)},backOut:function(a){return(a-=1)*a*((n+1)*a+n)+1},backBoth:function(a){if((a*=2)<1)return 0.5*a*a*(((n*=1.525)+1)*a-n);return 0.5*((a-=2)*a*(((n*=1.525)+1)*a+n)+2)},bounceIn:function(a){return 1-i.bounceOut(1-a)},bounceOut:function(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){if(a<0.5)return i.bounceIn(a*2)*0.5;return i.bounceOut(a*2-1)*0.5+0.5}};i.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return i});
KISSY.add("anim/base",function(c,d,v,o,n,i){function a(g,k,q,t,y,b){if(!(g=d.get(g)))return i;if(!(this instanceof a))return new a(g,k,q,t,y,b);var m=c.isPlainObject(q);k=k;this.domEl=g;if(c.isPlainObject(k))k=String(c.param(k,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var f={},u=B.length,w;A.innerHTML='<div style="'+k+'"></div>';for(g=A.firstChild.style;u--;)if(w=g[B[u]])f[B[u]]=z(w);this.props=f;this.targetStyle=k;if(m)m=c.merge(l,q);else{m=c.clone(l);
if(q)m.duration=x(q)||1;if(c.isString(t)||c.isFunction(t))m.easing=t;if(c.isFunction(y))m.complete=y;if(b!==i)m.nativeSupport=b}this.config=m;if(m.nativeSupport&&e()&&c.isString(t=m.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(t)||(t=o.NativeTimeFunction[t])){m.easing=t;this.transitionName=e()}c.isFunction(y)&&this.on(h,y);return i}function e(){var g="transition",k;if(A.style[g]!==i)k=g;else c.each(["Webkit","Moz","O"],function(q){if(A.style[g=q+"Transition"]!==i){k=g;return false}});e=function(){return k};
return k}function s(g,k,q){n.ie&&q.indexOf(j)>-1&&d.css(g,j,k[j].v);g.style.cssText+=";"+q}function z(g){var k=x(g);g=(g+"").replace(/^[-\d.]+/,"");return isNaN(k)?{v:g,u:"",f:r}:{v:k,u:g,f:p}}function p(g,k,q){return(g+(k-g)*q).toFixed(3)}function r(g,k,q){for(var t=2,y,b,m=[],f=[];y=3,b=arguments[t-1],t--;)if(b.substr(0,4)==="rgb(")for(b=b.match(/\d+/g);y--;)m.push(~~b[y]);else if(b.substr(0,i||1)==="#"){if(b.length===4)b="#"+b.substr(1,i||1)+b.substr(1,i||1)+b.substr(2,i||1)+b.substr(2,i||1)+b.substr(3,
i||1)+b.substr(3,i||1);for(;y--;)m.push(parseInt(b.substr(1+y*2,2),16))}else return k;for(;y--;){t=~~(m[y+3]+(m[y]-m[y+3])*q);f.push(t<0?0:t>255?255:t)}return"rgb("+f.join(",")+")"}var x=parseFloat;v=c.require("event/target");var A=d.create("<div>"),B="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
j="opacity",h="complete",l={duration:1,easing:"easeNone",nativeSupport:true};c.augment(a,v,{run:function(){var g=this,k=g.config,q=g.domEl,t,y,b,m,f=g.props,u={},w;for(w in f)u[w]=z(d.css(q,w));if(g.fire("start")!==false){g.stop();if(g.transitionName)g._nativeRun();else{t=k.duration*1E3;b=c.now();m=b+t;y=k.easing;if(c.isString(y))y=o[y]||o.easeNone;g.timer=c.later(k=function(){var C=c.now(),D=C>m?1:(C-b)/t,F,G,E;for(w in f){F=u[w];G=f[w];if(G.v==0)G.u=F.u;if(F.u!==G.u)F.v=0;d.css(q,w,G.f(F.v,G.v,
y(D))+G.u)}if(g.fire("step")===false||(E=C>m)){g.stop();E&&g.fire(h)}},13,true);k()}return g}},_nativeRun:function(){var g=this,k=g.config,q=g.domEl,t=g.props,y=k.duration*1E3;k=k.easing;var b=g.transitionName,m={};m[b+"Property"]="all";m[b+"Duration"]=y+"ms";m[b+"TimingFunction"]=k;d.css(q,m);c.later(function(){s(q,t,g.targetStyle)},0);c.later(function(){g.stop(true)},y)},stop:function(g){if(this.transitionName)this._nativeStop(g);else{if(this.timer){this.timer.cancel();this.timer=i}if(g){s(this.domEl,
this.props,this.targetStyle);this.fire(h)}}return this},_nativeStop:function(g){var k=this.domEl,q=this.transitionName,t=this.props,y;if(g){d.css(k,q+"Property","none");this.fire(h)}else{for(y in t)d.css(k,y,d._getComputedStyle(k,y));d.css(k,q+"Property","none")}}});a.supportTransition=function(){return!!e()};return a},{requires:["dom","event","anim/easing","ua"]});
KISSY.add("anim/node-plugin",function(c,d,v,o,n){function i(j,h,l,g,k){if(h==="toggle"){k=d.css(j,e)===s?1:0;h="show"}if(k)d.css(j,e,d.data(j,e)||"");var q={},t={};c.each(B[h],function(y){if(y===z){q[z]=d.css(j,z);d.css(j,z,p)}else if(y===r){q[r]=d.css(j,r);t.opacity=k?1:0;k&&d.css(j,r,0)}else if(y===x){q[x]=d.css(j,x);t.height=k?d.css(j,x)||j.naturalHeight:0;k&&d.css(j,x,0)}else if(y===A){q[A]=d.css(j,A);t.width=k?d.css(j,A)||j.naturalWidth:0;k&&d.css(j,A,0)}});(new v(j,t,l,"easeOut",function(){if(!k){var y=
j.style,b=y[e];if(b!==s){b&&d.data(j,e,b);y[e]=s}q[x]&&d.css(j,{height:q[x]});q[A]&&d.css(j,{width:q[A]});q[r]&&d.css(j,{opacity:q[r]});q[z]&&d.css(j,{overflow:q[z]})}g&&c.isFunction(g)&&g()})).run()}o=c.require("node/node").prototype;var a=c.require("node/nodelist").prototype,e="display",s="none",z="overflow",p="hidden",r="opacity",x="height",A="width",B={show:[z,r,x,A],fade:[r],slide:[z,x]};c.each([o,a],function(j){j.animate=function(){var h=c.makeArray(arguments);c.each(this,function(l){v.apply(n,
[l].concat(h)).run()});return this};c.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(h,l){j[l]=function(g,k){d[l]&&arguments.length===0?d[l](this):c.each(this,function(q){i(q,h[0],g,k,h[1])});return this}})})},{requires:["dom","anim/base","node"]});KISSY.add("anim",function(c,d,v){d.Easing=v;return d},{requires:["anim/base","anim/easing","anim/node-plugin"]});
KISSY.add("base/attribute",function(c,d){function v(){this.__attrs={};this.__attrVals={}}function o(n){n+="";return n.charAt(0).toUpperCase()+n.substring(1)}c.augment(v,{__getDefAttrs:function(){return c.clone(this.__attrs)},addAttr:function(n,i,a){if(this.__attrs[n])c.mix(this.__attrs[n],i,a);else this.__attrs[n]=c.clone(i||{});return this},hasAttr:function(n){return n&&this.__attrs.hasOwnProperty(n)},removeAttr:function(n){if(this.hasAttr(n)){delete this.__attrs[n];delete this.__attrVals[n]}return this},
set:function(n,i){var a=this.get(n);if(a!==i)if(false!==this.__fireAttrChange("before",n,a,i)){this.__set(n,i);this.__fireAttrChange("after",n,a,this.__attrVals[n]);return this}},__fireAttrChange:function(n,i,a,e){return this.fire(n+o(i)+"Change",{attrName:i,prevVal:a,newVal:e})},__set:function(n,i){var a,e=this.__attrs[n];if(e=e&&e.setter)a=e.call(this,i);if(a!==d)i=a;this.__attrVals[n]=i},get:function(n){var i;i=(i=this.__attrs[n])&&i.getter;n=n in this.__attrVals?this.__attrVals[n]:this.__getDefAttrVal(n);
if(i)n=i.call(this,n);return n},__getDefAttrVal:function(n){n=this.__attrs[n];var i;if(n){if(i=n.valueFn){i=i.call(this);if(i!==d)n.value=i;delete n.valueFn}return n.value}},reset:function(n){if(this.hasAttr(n))return this.set(n,this.__getDefAttrVal(n));for(n in this.__attrs)this.hasAttr(n)&&this.reset(n);return this}});v.__capitalFirst=o;return v});
KISSY.add("base/base",function(c,d){function v(o){d.call(this);for(var n=this.constructor;n;){var i=n.ATTRS;if(i){var a=void 0;for(a in i)i.hasOwnProperty(a)&&this.addAttr(a,i[a],false)}n=n.superclass?n.superclass.constructor:null}if(o)for(var e in o)o.hasOwnProperty(e)&&this.__set(e,o[e])}c.augment(v,c.require("event/target"),d);return v},{requires:["base/attribute","event"]});KISSY.add("base",function(c,d){return d},{requires:["base/base"]});
KISSY.add("cookie/base",function(c){function d(i){return c.isString(i)&&i!==""}var v=document,o=encodeURIComponent,n=decodeURIComponent;return{get:function(i){var a;if(d(i))if(i=String(v.cookie).match(RegExp("(?:^| )"+i+"(?:(?:=([^;]*))|;|$)")))a=i[1]?n(i[1]):"";return a},set:function(i,a,e,s,z,p){a=String(o(a));var r=e;if(typeof r==="number"){r=new Date;r.setTime(r.getTime()+e*864E5)}if(r instanceof Date)a+="; expires="+r.toUTCString();if(d(s))a+="; domain="+s;if(d(z))a+="; path="+z;if(p)a+="; secure";
v.cookie=i+"="+a},remove:function(i,a,e,s){this.set(i,"",0,a,e,s)}}});KISSY.add("cookie",function(c,d){return d},{requires:["cookie/base"]});KISSY.add("core",function(c,d,v,o,n,i,a,e,s,z){d={UA:d,DOM:v,Event:o,EventTarget:o.Target,Node:n,NodeList:n.List,JSON:i,Ajax:a,IO:a,ajax:a,io:a,jsonp:a.jsonp,Anim:e,Easing:e.Easing,Base:s,Cookie:z,one:n.one,all:n.List.all,get:v.get,query:v.query};c.mix(c,d);return d},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
