/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(a,r,s){var k={mix:function(i,e,t,w){if(!e||!i)return i;if(t===s)t=true;var m,q,v;if(w&&(v=w.length))for(m=0;m<v;m++){q=w[m];if(q in e)if(t||!(q in i))i[q]=e[q]}else for(q in e)if(t||!(q in i))i[q]=e[q];return i}},h=a&&a[r]||{},l=0;a=h.__HOST||(h.__HOST=a||{});r=a[r]=k.mix(h,k,false);r.mix(r,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var i={},e,t=arguments.length;for(e=0;e<t;e++)r.mix(i,arguments[e]);return i},augment:function(){var i=arguments,
e=i.length-2,t=i[0],w=i[e],m=i[e+1],q=1;if(!r.isArray(m)){w=m;m=s;e++}if(!r.isBoolean(w)){w=s;e++}for(;q<e;q++)r.mix(t.prototype,i[q].prototype||i[q],w,m);return t},extend:function(i,e,t,w){if(!e||!i)return i;var m=Object.create?function(g,o){return Object.create(g,{constructor:{value:o}})}:function(g,o){function f(){}f.prototype=g;var c=new f;c.constructor=o;return c},q=e.prototype,v;i.prototype=v=m(q,i);i.superclass=m(q,e);t&&r.mix(v,t);w&&r.mix(i,w);return i},__init:function(){this.Config=this.Config||
{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var i=arguments,e=i.length,t=null,w,m,q,v=i[e-1]===true&&e--;for(w=0;w<e;w++){q=(""+i[w]).split(".");t=v?a:this;for(m=a[q[0]]===t?1:0;m<q.length;++m)t=t[q[m]]=t[q[m]]||{}}return t},app:function(i,e){var t=r.isString(i),w=t?a[i]||{}:i,m=0,q=r.__APP_INIT_METHODS.length;for(r.mix(w,this,true,r.__APP_MEMBERS);m<q;m++)r[r.__APP_INIT_METHODS[m]].call(w);r.mix(w,r.isFunction(e)?e():e);t&&(a[i]=w);return w},log:function(i,e,t){if(r.Config.debug){if(t)i=
t+": "+i;if(a.console!==s&&console.log)console[e&&console[e]?e:"log"](i)}},error:function(i){if(r.Config.debug)throw i;},guid:function(i){return(i||"")+l++}});r.__init();return r})(this,"KISSY");
(function(a,r){var s=a.__HOST,k=Object.prototype.toString,h=Array.prototype.indexOf,l=Array.prototype.lastIndexOf,i=Array.prototype.filter,e=String.prototype.trim,t=/^\s+|\s+$/g,w={};a.mix(a,{type:function(m){return m==null?String(m):w[k.call(m)]||"object"},isNull:function(m){return m===null},isUndefined:function(m){return m===r},isEmptyObject:function(m){for(var q in m)return false;return true},isPlainObject:function(m){return m&&k.call(m)==="[object Object]"&&"isPrototypeOf"in m},clone:function(m){var q=
m,v,g;if(m&&((v=a.isArray(m))||a.isPlainObject(m))){q=v?[]:{};for(g in m)if(m.hasOwnProperty(g))q[g]=a.clone(m[g])}return q},trim:e?function(m){return m==r?"":e.call(m)}:function(m){return m==r?"":m.toString().replace(t,"")},substitute:function(m,q,v){if(!a.isString(m)||!a.isPlainObject(q))return m;return m.replace(v||/\\?\{([^{}]+)\}/g,function(g,o){if(g.charAt(0)==="\\")return g.slice(1);return q[o]!==r?q[o]:""})},each:function(m,q,v){var g,o=0,f=m.length,c=f===r||a.type(m)==="function";v=v||s;
if(c)for(g in m){if(q.call(v,m[g],g,m)===false)break}else for(g=m[0];o<f&&q.call(v,g,o,m)!==false;g=m[++o]);return m},indexOf:h?function(m,q){return h.call(q,m)}:function(m,q){for(var v=0,g=q.length;v<g;++v)if(q[v]===m)return v;return-1},lastIndexOf:l?function(m,q){return l.call(q,m)}:function(m,q){for(var v=q.length-1;v>=0;v--)if(q[v]===m)break;return v},unique:function(m,q){q&&m.reverse();for(var v=m.slice(),g=0,o,f;g<v.length;){for(f=v[g];(o=a.lastIndexOf(f,v))!==g;)v.splice(o,1);g+=1}q&&v.reverse();
return v},inArray:function(m,q){return a.indexOf(m,q)>-1},filter:i?function(m,q,v){return i.call(m,q,v)}:function(m,q,v){var g=[];a.each(m,function(o,f,c){q.call(v,o,f,c)&&g.push(o)});return g},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(m,q){w["[object "+m+"]"]=q=m.toLowerCase();a["is"+m]=function(v){return a.type(v)==q}})})(KISSY);
(function(a,r){function s(f){var c=typeof f;return f===null||c!=="object"&&c!=="function"}function k(f){return Array.prototype.slice.call(f)}var h=a.__HOST,l=h.document,i=l.documentElement,e=encodeURIComponent("[]"),t=false,w=[],m=false,q=/^#?([\w-]+)$/,v=/^(\w+)\[\]$/,g=/\S/;a.mix(a,{isWindow:function(f){return a.type(f)==="object"&&"setInterval"in f},makeArray:function(f){if(f===null||f===r)return[];if(a.isArray(f))return f;if(typeof f.length!=="number"||a.isString(f)||a.isFunction(f))return[f];
return k(f)},param:function(f,c){if(!a.isPlainObject(f))return"";c=c||"&";var b=[],d,j;for(d in f){j=f[d];d=encodeURIComponent(d);if(s(j))b.push(d,"=",encodeURIComponent(j+""),c);else if(a.isArray(j)&&j.length)for(var n=0,u=j.length;n<u;++n)s(j[n])&&b.push(d,e+"=",encodeURIComponent(j[n]+""),c)}b.pop();return b.join("")},unparam:function(f,c){if(typeof f!=="string"||(f=a.trim(f)).length===0)return{};for(var b={},d=f.split(c||"&"),j,n,u,y,p=0,x=d.length;p<x;++p){j=d[p].split("=");n=decodeURIComponent(j[0]);
try{u=decodeURIComponent(j[1]||"")}catch(z){u=j[1]||""}if((y=n.match(v))&&y[1]){b[y[1]]=b[y[1]]||[];b[y[1]].push(u)}else b[n]=u}return b},globalEval:function(f){if(f&&g.test(f)){var c=l.getElementsByTagName("head")[0]||i,b=l.createElement("script");b.text=f;c.insertBefore(b,c.firstChild);c.removeChild(b)}},later:function(f,c,b,d,j){c=c||0;d=d||{};var n=f,u=a.makeArray(j),y;if(a.isString(f))n=d[f];n||a.error("method undefined");f=function(){n.apply(d,u)};y=b?setInterval(f,c):setTimeout(f,c);return{id:y,
interval:b,cancel:function(){this.interval?clearInterval(y):clearTimeout(y)}}},ready:function(f){m||this._bindReady();t?f.call(h,this):w.push(f);return this},_bindReady:function(){var f=this,c=l.documentElement.doScroll,b=c?"onreadystatechange":"DOMContentLoaded",d=function(){f._fireReady()};m=true;if(l.readyState==="complete")return d();if(l.addEventListener){var j=function(){l.removeEventListener(b,j,false);d()};l.addEventListener(b,j,false);h.addEventListener("load",d,false)}else{var n=function(){if(l.readyState===
"complete"){l.detachEvent(b,n);d()}};l.attachEvent(b,n);h.attachEvent("onload",d);var u=false;try{u=h.frameElement==null}catch(y){}if(c&&u){var p=function(){try{c("left");d()}catch(x){setTimeout(p,1)}};p()}}},_fireReady:function(){if(!t){t=true;if(w){for(var f,c=0;f=w[c++];)f.call(h,this);w=null}}},available:function(f,c){if((f=(f+"").match(q)[1])&&a.isFunction(c))var b=1,d=a.later(function(){if(l.getElementById(f)&&(c()||1)||++b>500)d.cancel()},40,true)}});try{k(i.childNodes)}catch(o){k=function(f){for(var c=
[],b=f.length-1;b>=0;b--)c[b]=f[b];return c}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,r){var s=a.__HOST.document,k=s.getElementsByTagName("head")[0]||s.documentElement,h=2,l=3,i=4,e=a.mix,t=s.createElement("script").readyState?function(g,o){var f=g.onreadystatechange;g.onreadystatechange=function(){var c=g.readyState;if(c==="loaded"||c==="complete"){g.onreadystatechange=null;f&&f();o.call(this)}}}:function(g,o){g.addEventListener("load",o,false)},w=/\.css(?:\?|$)/i,m;m={add:function(g,o,f){var c=this.Env.mods,b;if(a.isString(g)&&!f&&a.isPlainObject(o)){b={};b[g]=o;g=b}if(a.isPlainObject(g)){a.each(g,
function(d,j){d.name=j;c[j]&&e(d,c[j],false)});e(c,g)}else{f=f||{};b=c[g]||{};g=f.host||b.host||g;b=c[g]||{};e(b,{name:g,status:h});if(!b.fns)b.fns=[];o&&b.fns.push(o);e(c[g]=b,f);b.attach!==false&&this.__isAttached(b.requires)&&this.__attachMod(b)}return this},use:function(g,o,f){g=g.replace(/\s+/g,"").split(",");f=f||{};var c=this,b;f=(f||0).global;var d,j=g.length,n;f&&c.__mixMods(f);if(c.__isAttached(g))o&&o(c);else{for(d=0;d<j&&(b=g[d]);d++)c.__attachModByName(b,function(){if(!n&&c.__isAttached(g)){n=
true;o&&o(c)}},f);return c}},__attachModByName:function(g,o,f){var c=this.Env.mods,b=g.indexOf("+css")!=-1;g=b?g.replace(/\+css/g,""):g;var d=c[g];if(!d){d=a.Config.componentJsName||function(j){return j+"-pkg-min.js"};d=a.isFunction(d)?d(g):d;d={path:g+"/"+d,charset:"utf-8"};c[g]=d}if(b){c=a.Config.componentCssName||function(j){return j+"-min.css"};c=a.isFunction(c)?c(g):c;d.csspath=g+"/"+c}d&&d.status===i||this.__attach(d,o,f)},__attach:function(g,o,f){function c(){for(var x=g.requires||[],z=x.length-
1;z>=0;z--){var A=x[z],C=d[A];C&&C.status===i||a.inArray(A,j)||b.__attachModByName(A,c,f)}if(!p&&b.__isAttached(x)){g.status===h&&b.__attachMod(g);if(g.status===i){p=true;o()}}}for(var b=this,d=b.Env.mods,j=(g.requires||[]).concat(),n=0,u=j.length;n<u;n++){var y=d[j[n]];y&&y.status===i||b.__attachModByName(j[n],c,f)}b.__buildPath(g);b.__load(g,c,f);var p=false},__mixMods:function(g){var o=this.Env.mods,f=g.Env.mods,c;for(c in f)this.__mixMod(o,f,c,g)},__mixMod:function(g,o,f,c){var b=g[f]||{},d=b.status;
a.mix(b,a.clone(o[f]));if(d)b.status=d;c&&this.__buildPath(b,c.Config.base);g[f]=b},__attachMod:function(g){var o=this;if(g.fns){a.each(g.fns,function(f){f&&f(o)});g.fns=r}g.status=i},__isAttached:function(g){for(var o=this.Env.mods,f,c=(g=a.makeArray(g)).length-1;c>=0;c--){f=g[c].replace(/\+css/,"");f=o[f]||{};if(f.status!==i)return false}return true},__load:function(g,o,f){function c(){j[d]=h;if(g.status!==l){f&&b.__mixMod(b.Env.mods,f.Env.mods,g.name,f);if(g.status!==i)g.status=h;o()}}var b=this,
d=g.fullpath,j=a.Env._loadQueue,n=j[d];g.status=g.status||0;if(g.status<1&&n)g.status=n.nodeName?1:h;if(a.isString(g.cssfullpath)){b.getScript(g.cssfullpath);g.cssfullpath=h}if(g.status<1&&d){g.status=1;n=b.getScript(d,{success:function(){KISSY.log(g.name+" is loaded.","info");c()},error:function(){g.status=l;j[d]=h},charset:g.charset});w.test(d)||(j[d]=n)}else g.status===1?t(n,c):o()},__buildPath:function(g,o){function f(b,d){if(!g[d]&&g[b])g[d]=(o||c.base)+g[b];if(g[d]&&c.debug)g[d]=g[d].replace(/-min/g,
"")}var c=this.Config;f("path","fullpath");g.cssfullpath!==h&&f("csspath","cssfullpath")},getScript:function(g,o,f){var c=w.test(g),b=s.createElement(c?"link":"script"),d=o,j,n,u;if(a.isPlainObject(d)){o=d.success;j=d.error;n=d.timeout;f=d.charset}if(c){b.href=g;b.rel="stylesheet"}else{b.src=g;b.async=true}if(f)b.charset=f;if(c)a.isFunction(o)&&o.call(b);else t(b,function(){if(u){u.cancel();u=r}a.isFunction(o)&&o.call(b);k&&b.parentNode&&k.removeChild(b)});if(a.isFunction(j))u=a.later(function(){u=
r;j()},(n||this.Config.timeout)*1E3);k.insertBefore(b,k.firstChild);return b}};e(a,m);var q=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,v=/(seed|kissy)(-min)?\.js/;a.__initLoader=function(){var g=s.getElementsByTagName("script");g=g[g.length-1];var o=g.src,f=g.getAttribute("data-combo-prefix")||"??";g=g.getAttribute("data-combo-sep")||",";g=o.split(g);var c=g[0];f=c.indexOf(f);if(f==-1)o=o.replace(q,"$1");else{o=c.substring(0,f);f=c.substring(f+2,c.length);if(f.match(v))o+=f.replace(q,"$1");else for(f=1;f<
g.length;f++){c=g[f];if(c.match(v)){o+=c.replace(q,"$1");break}}}g=o;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=g;if(!this.Config.timeout)this.Config.timeout=10};a.__initLoader();a.each(m,function(g,o){a.__APP_MEMBERS.push(o)});a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
KISSY.add("ua",function(a){var r=navigator.userAgent,s="",k="",h,l={},i=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return t++===0?".":""}))};if((h=r.match(/AppleWebKit\/([\d.]*)/))&&h[1]){l[s="webkit"]=i(h[1]);if((h=r.match(/Chrome\/([\d.]*)/))&&h[1])l[k="chrome"]=i(h[1]);else if((h=r.match(/\/([\d.]*) Safari/))&&h[1])l[k="safari"]=i(h[1]);if(/ Mobile\//.test(r))l.mobile="apple";else if(h=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=h[0].toLowerCase()}else if((h=
r.match(/Presto\/([\d.]*)/))&&h[1]){l[s="presto"]=i(h[1]);if((h=r.match(/Opera\/([\d.]*)/))&&h[1]){l[k="opera"]=i(h[1]);if((h=r.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])l[k]=i(h[1]);if((h=r.match(/Opera Mini[^;]*/))&&h)l.mobile=h[0].toLowerCase();else if((h=r.match(/Opera Mobi[^;]*/))&&h)l.mobile=h[0]}}else if((h=r.match(/MSIE\s([^;]*)/))&&h[1]){l[s="trident"]=0.1;l[k="ie"]=i(h[1]);if((h=r.match(/Trident\/([\d.]*)/))&&h[1])l[s]=i(h[1])}else if(h=r.match(/Gecko/)){l[s="gecko"]=0.1;if((h=r.match(/rv:([\d.]*)/))&&
h[1])l[s]=i(h[1]);if((h=r.match(/Firefox\/([\d.]*)/))&&h[1])l[k="firefox"]=i(h[1])}l.core=s;l.shell=k;l._numberify=i;a.UA=l});
KISSY.add("ua-extra",function(a){var r=a.UA,s=navigator.userAgent,k,h,l={},i=r._numberify;if(s.match(/360SE/))l[h="se360"]=3;else if(s.match(/Maxthon/)&&(k=window.external)){h="maxthon";try{l[h]=i(k.max_version)}catch(e){l[h]=0.1}}else if(k=s.match(/TencentTraveler\s([\d.]*)/))l[h="tt"]=k[1]?i(k[1]):0.1;else if(s.match(/TheWorld/))l[h="theworld"]=3;else if(k=s.match(/SE\s([\d.]*)/))l[h="sougou"]=k[1]?i(k[1]):0.1;h&&(l.shell=h);a.mix(r,l)});
KISSY.add("dom",function(a,r){function s(k,h){return k&&k.nodeType===h}a.DOM={_isElementNode:function(k){return s(k,1)},_isKSNode:function(k){return a.Node&&s(k,a.Node.TYPE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:s(k,9)?k.defaultView||k.parentWindow:k===r?window:false},_nodeTypeIs:s}});
KISSY.add("selector",function(a,r){function s(c,b){var d,j,n=[],u;b=k(b);if(a.isString(c)){c=a.trim(c);if(o.test(c)){if(j=h(c.slice(1),b))n=[j]}else if(d=f.exec(c)){j=d[1];u=d[2];d=d[3];if(b=j?h(j,b):b)if(d)if(!j||c.indexOf(m)!==-1)n=i(d,u,b);else{if((j=h(j,b))&&w.hasClass(j,d))n=[j]}else if(u)n=l(u,b)}else if(a.ExternalSelector)return a.ExternalSelector(c,b);else e(c)}else if(c&&(c[v]||c[g]))n=c[v]?[c[v]()]:c[g]();else if(c&&(a.isArray(c)||c&&!c.nodeType&&c.item&&c!=window))n=c;else if(c)n=[c];if(n&&
!n.nodeType&&n.item&&n!=window)n=a.makeArray(n);n.each=function(y,p){return a.each(n,y,p)};return n}function k(c){if(c===r)c=t;else if(a.isString(c)&&o.test(c))c=h(c.slice(1),t);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function h(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function l(c,b){return b.getElementsByTagName(c)}function i(c,b,d){d=c=d.getElementsByClassName(c);var j=0,n=0,u=c.length,y;if(b&&b!==q){d=[];for(b=b.toUpperCase();j<u;++j){y=c[j];if(y.tagName===
b)d[n++]=y}}return d}function e(c){a.error("Unsupported selector: "+c)}var t=document,w=a.DOM,m=" ",q="*",v="getDOMNode",g=v+"s",o=/^#[\w-]+$/,f=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=t.createElement("div");c.appendChild(t.createComment(""));if(c.getElementsByTagName(q).length>0)l=function(b,d){var j=d.getElementsByTagName(b);if(b===q){for(var n=[],u=0,y=0,p;p=j[u++];)if(p.nodeType===1)n[y++]=p;j=n}return j}})();t.getElementsByClassName||(i=t.querySelectorAll?function(c,b,
d){return d.querySelectorAll((b?b:"")+"."+c)}:function(c,b,d){b=d.getElementsByTagName(b||q);d=[];var j=0,n=0,u=b.length,y,p;for(c=m+c+m;j<u;++j){y=b[j];if((p=y.className)&&(m+p+m).indexOf(c)>-1)d[n++]=y}return d});a.query=s;a.get=function(c,b){return s(c,b)[0]||null};a.mix(w,{query:s,get:a.get,filter:function(c,b){var d=s(c),j,n,u,y=[];if(a.isString(b)&&(j=f.exec(b))&&!j[1]){n=j[2];u=j[3];b=function(p){return!(n&&p.tagName!==n.toUpperCase()||u&&!w.hasClass(p,u))}}if(a.isFunction(b))y=a.filter(d,
b);else if(b&&a.ExternalSelector)y=a.ExternalSelector._filter(c,b+"");else e(b);return y},test:function(c,b){var d=s(c);return d.length&&w.filter(d,b).length===d.length}})});
KISSY.add("dom-data",function(a,r){var s=window,k=a.DOM,h="_ks_data_"+a.now(),l={},i={},e={EMBED:1,OBJECT:1,APPLET:1};a.mix(k,{data:function(t,w,m){if(a.isPlainObject(w))for(var q in w)k.data(t,q,w[q]);else if(m===r){t=a.get(t);var v;if(!(!t||e[t.nodeName])){if(t==s)t=i;v=(q=t&&t.nodeType)?l:t;t=v[q?t[h]:h];if(a.isString(w)&&t)return t[w];return t}}else a.query(t).each(function(g){if(!(!g||e[g.nodeName])){if(g==s)g=i;var o=l,f;if(g&&g.nodeType){if(!(f=g[h]))f=g[h]=a.guid()}else{f=h;o=g}if(w&&m!==
r){o[f]||(o[f]={});o[f][w]=m}}})},removeData:function(t,w){a.query(t).each(function(m){if(m){if(m==s)m=i;var q,v=l,g,o=m&&m.nodeType;if(o)q=m[h];else{v=m;q=h}if(q){g=v[q];if(w){if(g){delete g[w];a.isEmptyObject(g)&&k.removeData(m)}}else{if(o)m.removeAttribute&&m.removeAttribute(h);else try{delete m[h]}catch(f){}o&&delete v[q]}}}})}})});
KISSY.add("dom-class",function(a,r){function s(i,e,t,w){if(!(e=a.trim(e)))return w?false:r;i=a.query(i);var m=0,q=i.length;e=e.split(h);for(var v;m<q;m++){v=i[m];if(k._isElementNode(v)){v=t(v,e,e.length);if(v!==r)return v}}if(w)return false}var k=a.DOM,h=/[\.\s]\s*\.?/,l=/[\n\t]/g;a.mix(k,{hasClass:function(i,e){return s(i,e,function(t,w,m){if(t=t.className){t=" "+t+" ";for(var q=0,v=true;q<m;q++)if(t.indexOf(" "+w[q]+" ")<0){v=false;break}if(v)return true}},true)},addClass:function(i,e){s(i,e,function(t,
w,m){var q=t.className;if(q){var v=" "+q+" ";q=q;for(var g=0;g<m;g++)if(v.indexOf(" "+w[g]+" ")<0)q+=" "+w[g];t.className=a.trim(q)}else t.className=e})},removeClass:function(i,e){s(i,e,function(t,w,m){var q=t.className;if(q)if(m){q=(" "+q+" ").replace(l," ");for(var v=0,g;v<m;v++)for(g=" "+w[v]+" ";q.indexOf(g)>=0;)q=q.replace(g," ");t.className=a.trim(q)}else t.className=""})},replaceClass:function(i,e,t){k.removeClass(i,e);k.addClass(i,t)},toggleClass:function(i,e,t){var w=a.isBoolean(t),m;s(i,
e,function(q,v,g){for(var o=0,f;o<g;o++){f=v[o];m=w?!t:k.hasClass(q,f);k[m?"removeClass":"addClass"](q,f)}})}})});
KISSY.add("dom-attr",function(a,r){var s=a.UA,k=document.documentElement,h=!k.hasAttribute,l=k.textContent!==r?"textContent":"innerText",i=a.DOM,e=i._isElementNode,t=/^(?:href|src|style)/,w=/^(?:href|src|colspan|rowspan)/,m=/\r/g,q=/^(?:radio|checkbox)/,v={readonly:"readOnly"},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};h&&a.mix(v,{"for":"htmlFor","class":"className"});a.mix(i,{attr:function(o,f,c,b){if(a.isPlainObject(f)){b=c;for(var d in f)i.attr(o,d,f[d],b)}else if(f=a.trim(f)){f=
f.toLowerCase();if(b&&g[f])return i[f](o,c);f=v[f]||f;if(c===r){o=a.get(o);if(!e(o))return r;var j;t.test(f)||(j=o[f]);if(j===r)j=o.getAttribute(f);if(h)if(w.test(f))j=o.getAttribute(f,2);else if(f==="style")j=o.style.cssText;return j===null?r:j}a.each(a.query(o),function(n){if(e(n))if(f==="style")n.style.cssText=c;else{if(f==="checked")n[f]=!!c;n.setAttribute(f,""+c)}})}},removeAttr:function(o,f){a.each(a.query(o),function(c){if(e(c)){i.attr(c,f,"");c.removeAttribute(f)}})},val:function(o,f){if(f===
r){var c=a.get(o);if(!e(c))return r;if(c&&c.nodeName.toUpperCase()==="option".toUpperCase())return(c.attributes.value||{}).specified?c.value:c.text;if(c&&c.nodeName.toUpperCase()==="select".toUpperCase()){var b=c.selectedIndex,d=c.options;if(b<0)return null;else if(c.type==="select-one")return i.val(d[b]);c=[];for(var j=0,n=d.length;j<n;++j)d[j].selected&&c.push(i.val(d[j]));return c}if(s.webkit&&q.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(m,"")}a.each(a.query(o),
function(u){if(u&&u.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(f))f+="";var y=a.makeArray(f),p=u.options,x;j=0;for(n=p.length;j<n;++j){x=p[j];x.selected=a.inArray(i.val(x),y)}if(!y.length)u.selectedIndex=-1}else if(e(u))u.value=f})},text:function(o,f){if(f===r){var c=a.get(o);if(e(c))return c[l]||"";else if(i._nodeTypeIs(c,3))return c.nodeValue}else a.each(a.query(o),function(b){if(e(b))b[l]=f;else if(i._nodeTypeIs(b,3))b.nodeValue=f})}})});
KISSY.add("dom-style",function(a,r){function s(b,d){var j=a.get(b),n=d===t?j.offsetWidth:j.offsetHeight;a.each(d===t?["Left","Right"]:["Top","Bottom"],function(u){n-=parseFloat(h._getComputedStyle(j,"padding"+u))||0;n-=parseFloat(h._getComputedStyle(j,"border"+u+"Width"))||0});return n}function k(b,d,j){var n=j;if(j===w&&q.test(d)){n=0;if(a.inArray(h.css(b,"position"),["absolute","fixed"])){j=b[d==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)j-=m(h.css(b.offsetParent,"border-"+d+"-width"))||
0;n=j-(m(h.css(b,"margin-"+d))||0)}}return n}var h=a.DOM,l=a.UA,i=document,e=i.documentElement,t="width",w="auto",m=parseInt,q=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,g=/-([a-z])/ig,o=function(b,d){return d.toUpperCase()},f={},c={};a.mix(h,{_CUSTOM_STYLES:f,_getComputedStyle:function(b,d){var j="",n=b.ownerDocument;if(b.style)j=n.defaultView.getComputedStyle(b,null)[d];return j},css:function(b,d,j){if(a.isPlainObject(d))for(var n in d)h.css(b,n,d[n]);else{if(d.indexOf("-")>
0)d=d.replace(g,o);d=f[d]||d;if(j===r){b=a.get(b);n="";if(b&&b.style){n=d.get?d.get(b):b.style[d];if(n===""&&!d.get)n=k(b,d,h._getComputedStyle(b,d))}return n===r?"":n}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&v.test(d))j+="px";(d===t||d==="height")&&parseFloat(j)<0||a.each(a.query(b),function(u){if(u&&u.style){d.set?d.set(u,j):u.style[d]=j;if(j==="")u.style.cssText||u.removeAttribute("style")}})}}},width:function(b,d){if(d===r)return s(b,t);else h.css(b,t,d)},height:function(b,
d){if(d===r)return s(b,"height");else h.css(b,"height",d)},show:function(b){a.query(b).each(function(d){if(d){d.style.display=h.data(d,"display")||"";if(h.css(d,"display")==="none"){var j=d.tagName,n=c[j],u;if(!n){u=i.createElement(j);i.body.appendChild(u);n=h.css(u,"display");h.remove(u);c[j]=n}h.data(d,"display",n);d.style.display=n}}})},hide:function(b){a.query(b).each(function(d){if(d){var j=d.style,n=j.display;if(n!=="none"){n&&h.data(d,"display",n);j.display="none"}}})},toggle:function(b){a.query(b).each(function(d){if(d)d.style.display===
"none"?h.show(d):h.hide(d)})},addStyleSheet:function(b,d){var j;if(d&&(d=d.replace("#","")))j=a.get("#"+d);if(!j){j=h.create("<style>",{id:d});a.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=b;else j.appendChild(i.createTextNode(b))}}});if(e.style.cssFloat!==r)f["float"]="cssFloat";else if(e.style.styleFloat!==r)f["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,r){if(a.UA.ie){var s=a.DOM,k=document,h=k.documentElement,l=s._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,e=/^-?\d/,t=/^(?:width|height)$/;try{if(h.style.opacity===r&&h.filters)l.opacity={get:function(m){var q=100;try{q=m.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(v){try{q=m.filters("alpha").opacity}catch(g){}}return q/100+""},set:function(m,q){var v=m.style,g=(m.currentStyle||0).filter||"";v.zoom=1;if(g)if(g=g.replace(/alpha\(opacity=.+\)/ig,""))g+=", ";
v.filter=g+"alpha(opacity="+q*100+")"}}}catch(w){}if(!(k.defaultView||{}).getComputedStyle&&h.currentStyle)s._getComputedStyle=function(m,q){var v=m.style,g=m.currentStyle[q];if(t.test(q))g=s[q](m)+"px";else if(!i.test(g)&&e.test(g)){var o=v.left,f=m.runtimeStyle.left;m.runtimeStyle.left=m.currentStyle.left;v.left=q==="fontSize"?"1em":g||0;g=v.pixelLeft+"px";v.left=o;m.runtimeStyle.left=f}return g}}});
KISSY.add("dom-offset",function(a,r){function s(j){var n=0,u=0,y=w(j[g]);if(j[d]){j=j[d]();n=j[o];u=j[f];if(h.mobile!=="apple"){n+=k[c](y);u+=k[b](y)}}return{left:n,top:u}}var k=a.DOM,h=a.UA,l=window,i=document,e=k._isElementNode,t=k._nodeTypeIs,w=k._getWin,m=i.compatMode==="CSS1Compat",q=Math.max,v=parseInt,g="ownerDocument",o="left",f="top",c="scrollLeft",b="scrollTop",d="getBoundingClientRect";a.mix(k,{offset:function(j,n){if(!(j=a.get(j))||!j[g])return null;if(n===r)return s(j);var u=j;if(k.css(u,
"position")==="static")u.style.position="relative";var y=s(u),p={},x,z;for(z in n){x=v(k.css(u,z),10)||0;p[z]=x+n[z]-y[z]}k.css(u,p)},scrollIntoView:function(j,n,u,y){if((j=a.get(j))&&j[g]){y=y===r?true:!!y;u=u===r?true:!!u;if(!n||n===l)return j.scrollIntoView(u);n=a.get(n);if(t(n,9))n=w(n);var p=n&&"scrollTo"in n&&n.document,x=k.offset(j),z=p?{left:k.scrollLeft(n),top:k.scrollTop(n)}:k.offset(n),A={left:x[o]-z[o],top:x[f]-z[f]};x=p?k.viewportHeight(n):n.clientHeight;z=p?k.viewportWidth(n):n.clientWidth;
var C=k[c](n),E=k[b](n),D=C+z,B=E+x,K=j.offsetHeight;j=j.offsetWidth;var J=A.left+C-(v(k.css(n,"borderLeftWidth"))||0);A=A.top+E-(v(k.css(n,"borderTopWidth"))||0);var G=J+j,F=A+K,H,I;if(K>x||A<E||u)H=A;else if(F>B)H=F-x;if(y)if(j>z||J<C||u)I=J;else if(G>D)I=G-z;if(p){if(H!==r||I!==r)n.scrollTo(I,H)}else{if(H!==r)n[b]=H;if(I!==r)n[c]=I}}}});a.each(["Left","Top"],function(j,n){var u="scroll"+j;k[u]=function(y){var p=0,x=w(y),z;if(x&&(z=x.document))p=x[n?"pageYOffset":"pageXOffset"]||z.documentElement[u]||
z.body[u];else if(e(y=a.get(y)))p=y[u];return p}});a.each(["Width","Height"],function(j){k["doc"+j]=function(n){n=n||i;return q(m?n.documentElement["scroll"+j]:n.body["scroll"+j],k["viewport"+j](n))};k["viewport"+j]=function(n){var u="inner"+j;n=w(n);var y=n.document;return u in n?n[u]:m?y.documentElement["client"+j]:y.body["client"+j]}})});
KISSY.add("dom-traversal",function(a,r){function s(i,e,t,w){if(!(i=a.get(i)))return null;if(e===r)e=1;var m=null,q,v;if(a.isNumber(e)&&e>=0){if(e===0)return i;q=0;v=e;e=function(){return++q===v}}for(;i=i[t];)if(l(i)&&(!e||h.test(i,e))&&(!w||w(i))){m=i;break}return m}function k(i,e,t){var w=[];var m=i=a.get(i);if(i&&t)m=i.parentNode;if(m){t=0;for(m=m.firstChild;m;m=m.nextSibling)if(l(m)&&m!==i&&(!e||h.test(m,e)))w[t++]=m}return w}var h=a.DOM,l=h._isElementNode;a.mix(h,{parent:function(i,e){return s(i,
e,"parentNode",function(t){return t.nodeType!=11})},next:function(i,e){return s(i,e,"nextSibling")},prev:function(i,e){return s(i,e,"previousSibling")},siblings:function(i,e){return k(i,e,true)},children:function(i,e){return k(i,e)},contains:function(i,e){var t=false;if((i=a.get(i))&&(e=a.get(e)))if(i.contains){if(e.nodeType===3){e=e.parentNode;if(e===i)return true}if(e)return i.contains(e)}else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(e)&16);else for(;!t&&(e=e.parentNode);)t=
e==i;return t}})});
KISSY.add("dom-create",function(a,r){function s(p){var x=p.cloneNode(true);if(e.ie<8)x.innerHTML=p.innerHTML;return x}function k(p,x,z,A){if(z){var C=a.guid("ks-tmp-"),E=RegExp(o);x+='<span id="'+C+'"></span>';a.available(C,function(){var D=a.get("head"),B,K,J,G,F,H;for(E.lastIndex=0;B=E.exec(x);)if((J=(K=B[1])?K.match(c):false)&&J[2]){B=l.createElement("script");B.src=J[2];if((G=K.match(b))&&G[2])B.charset=G[2];B.async=true;D.appendChild(B)}else if((H=B[2])&&H.length>0)a.globalEval(H);(F=l.getElementById(C))&&
i.remove(F);a.isFunction(A)&&A()});h(p,x)}else{h(p,x);a.isFunction(A)&&A()}}function h(p,x){x=(x+"").replace(o,"");try{p.innerHTML=x}catch(z){for(;p.firstChild;)p.removeChild(p.firstChild);x&&p.appendChild(i.create(x))}}var l=document,i=a.DOM,e=a.UA,t=e.ie,w=i._nodeTypeIs,m=i._isElementNode,q=i._isKSNode,v=l.createElement("div"),g=/<(\w+)/,o=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(i,{create:function(p,
x,z){if(w(p,1)||w(p,3))return s(p);if(q(p))return s(p[0]);if(!(p=a.trim(p)))return null;var A=null;A=i._creators;var C,E="div",D;if(C=f.exec(p))A=(z||l).createElement(C[1]);else{if((C=g.exec(p))&&(D=C[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;p=A[E](p,z).childNodes;if(p.length===1)z=p[0].parentNode.removeChild(p[0]);else{p=p;D=z||l;z=null;if(p&&(p.push||p.item)&&p[0]){D=D||p[0].ownerDocument;z=D.createDocumentFragment();if(p.item)p=a.makeArray(p);D=0;for(A=p.length;D<A;D++)z.appendChild(p[D])}z=
z}A=z}z=A;m(z)&&a.isPlainObject(x)&&i.attr(z,x,true);return z},_creators:{div:function(p,x){var z=x?x.createElement("div"):v;z.innerHTML=p;return z}},html:function(p,x,z,A){if(x===r){p=a.get(p);if(m(p))return p.innerHTML}else a.each(a.query(p),function(C){m(C)&&k(C,x,z,A)})},remove:function(p){a.each(a.query(p),function(x){m(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(t||e.gecko||e.webkit){var d=i._creators,j=i.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,u={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in u)(function(p){d[y]=function(x,z){return j("<"+p+">"+x+"</"+p+">",null,z)}})(u[y]);if(t){d.script=function(p,x){var z=x?x.createElement("div"):v;z.innerHTML="-"+p;z.removeChild(z.firstChild);return z};if(t<8)d.tbody=function(p,x){var z=j("<table>"+p+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!n.test(p)&&A.parentNode.removeChild(A);return z}}a.mix(d,{optgroup:d.option,th:d.td,thead:d.tbody,tfoot:d.tbody,
caption:d.tbody,colgroup:d.tbody})}});
KISSY.add("dom-insertion",function(a){var r=a.DOM;a.mix(r,{insertBefore:function(s,k){if((s=a.get(s))&&(k=a.get(k))&&k.parentNode)k.parentNode.insertBefore(s,k);return s},insertAfter:function(s,k){if((s=a.get(s))&&(k=a.get(k))&&k.parentNode)k.nextSibling?k.parentNode.insertBefore(s,k.nextSibling):k.parentNode.appendChild(s);return s},append:function(s,k){if((s=a.get(s))&&(k=a.get(k)))k.appendChild&&k.appendChild(s)},prepend:function(s,k){if((s=a.get(s))&&(k=a.get(k)))k.firstChild?r.insertBefore(s,
k.firstChild):k.appendChild(s)}})});
KISSY.add("event",function(a,r){function s(o,f,c,b,d){if(a.isString(f))f=a.query(f);if(a.isArray(f)){a.each(f,function(n){g[o](n,c,b,d)});return true}if((c=a.trim(c))&&c.indexOf(m)>0){a.each(c.split(m),function(n){g[o](f,n,b,d)});return true}if(f.getDOMNodes){for(var j=0;j<f.length;j++)g[o](f.item(j),c,b,d);return true}}function k(o,f){h(o)&&i.data(o,w,f)}function h(o){return o&&o.nodeType!==3&&o.nodeType!==8}var l=document,i=a.DOM,e=l.addEventListener?function(o,f,c,b){o.addEventListener&&o.addEventListener(f,
c,!!b)}:function(o,f,c){o.attachEvent&&o.attachEvent("on"+f,c)},t=l.removeEventListener?function(o,f,c,b){o.removeEventListener&&o.removeEventListener(f,c,!!b)}:function(o,f,c){o.detachEvent&&o.detachEvent("on"+f,c)},w="ksEventTargetId",m=" ",q=a.now(),v={},g={EVENT_GUID:w,special:{},add:function(o,f,c,b){if(!s("add",o,f,c,b)){var d=h(o)?i.data(o,w):-1,j,n,u,y,p;if(!(d===-1||!f||!a.isFunction(c))){if(!d){k(o,d=q++);v[d]={target:o,events:{}}}n=v[d].events;if(!n[f]){j=((d=!o.isCustomEventTarget)||o._supportSpecialEvent)&&
g.special[f]||{};u=function(x,z){if(!x||!x.fixed)x=new a.EventObject(o,x,f);a.isPlainObject(z)&&a.mix(x,z);j.setup&&j.setup(x);return(j.handle||g._handle)(o,x,n[f].listeners)};n[f]={handle:u,listeners:[]};y=j.fix||f;p=j.capture;if(d)e(o,y,u,p);else o._addEvent&&o._addEvent(y,u,p)}n[f].listeners.push({fn:c,scope:b||o})}}},remove:function(o,f,c,b){if(!s("remove",o,f,c,b)){var d=h(o)?i.data(o,w):-1,j,n,u,y,p,x,z;if(d!==-1)if(d&&(j=v[d]))if(j.target===o){b=b||o;j=j.events||{};if(n=j[f]){u=n.listeners;
x=u.length;if(a.isFunction(c)&&x){p=y=0;for(z=[];y<x;++y)if(c!==u[y].fn||b!==u[y].scope)z[p++]=u[y];n.listeners=z;x=z.length}if(c===r||x===0){if(o.isCustomEventTarget)o._removeEvent&&o._removeEvent(f,n.handle);else{c=g.special[f]||{};t(o,c.fix||f,n.handle)}delete j[f]}}if(f===r||a.isEmptyObject(j)){for(f in j)g.remove(o,f);delete v[d];i.removeData(o,w)}}}},_handle:function(o,f,c){c=c.slice(0);var b;o=0;for(var d=c.length;o<d;++o){b=c[o];b=b.fn.call(b.scope,f);if(b!==r){f.result=b;b===false&&f.halt()}if(f.isImmediatePropagationStopped)break}return b},
_getCache:function(o){return v[o]},_simpleAdd:e,_simpleRemove:t};g.on=g.add;a.Event=g});
KISSY.add("event-object",function(a,r){function s(l,i,e){this.currentTarget=l;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=e;this.target=l}if(l.isCustomEventTarget)if(a.DOM._isKSNode(l))this.target=new a.Node(this.target);this.currentTarget=l;this.fixed=true}var k=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(s,
{_fix:function(){var l=this.originalEvent,i=h.length,e,t=this.currentTarget;for(t=t.nodeType===9?t:t.ownerDocument||k;i;){e=h[--i];this[e]=l[e]}if(!this.target)this.target=this.srcElement||k;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){l=t.documentElement;i=t.body;this.pageX=this.clientX+(l&&l.scrollLeft||i&&i.scrollLeft||
0)-(l&&l.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||i&&i.scrollTop||0)-(l&&l.clientTop||i&&i.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=s});
KISSY.add("event-target",function(a,r){var s=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(k,h){var l=a.DOM.data(this,s.EVENT_GUID)||-1;if((l=((s._getCache(l)||{}).events||{})[k])&&a.isFunction(l.handle))return l.handle(r,h);return this},on:function(k,h,l){s.add(this,k,h,l);return this},detach:function(k,h,l){s.remove(this,k,h,l);return this}}});
KISSY.add("event-mouseenter",function(a){var r=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){r.special[s.name]={fix:s.fix,setup:function(k){k.type=s.name},handle:function(k,h,l){if(a.DOM._isKSNode(k))k=k[0];var i=h.relatedTarget;try{for(;i&&i!==k;)i=i.parentNode;i!==k&&r._handle(k,h,l)}catch(e){}}}})});
KISSY.add("event-focusin",function(a){var r=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){r.special[s.name]={fix:s.fix,capture:true,setup:function(k){k.type=s.name}}})});
KISSY.add("node",function(a){function r(k,h,l){if(!(this instanceof r))return new r(k,h,l);if(k){if(a.isString(k)){k=s.create(k,h,l);if(k.nodeType===11)return new a.NodeList(k.childNodes)}else if(k instanceof r)return k;else k=k;this[0]=k}else this.length=0}var s=a.DOM;r.TYPE="-ks-Node";a.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});a.one=function(k,h){var l=a.get(k,h);return l?new r(l):null};a.Node=r});
KISSY.add("nodelist",function(a){function r(h){if(!(this instanceof r))return new r(h);s.push.apply(this,a.makeArray(h)||[])}var s=Array.prototype,k=a.DOM._isElementNode;a.mix(r.prototype,{length:0,item:function(h){var l=null,i,e;if(k(h)){i=0;for(e=this.length;i<e;i++)if(h===this[i]){h=i;break}}if(k(this[h]))l=new a.Node(this[h]);return l},getDOMNodes:function(){return s.slice.call(this)},each:function(h,l){var i=this.length,e=0,t;for(t=new a.Node(this[0]);e<i&&h.call(l||t,t,e,this)!==false;t=new a.Node(this[++e]));
return this}});a.all=function(h,l){return new r(a.query(h,l,true))};a.NodeList=r});
KISSY.add("node-attach",function(a,r){function s(b,d,j,n){b=[this[b?g:v]()].concat(a.makeArray(d));if(d[j]===r)return n.apply(i,b);else{n.apply(i,b);return this}}function k(b,d){a.each(b,function(j){a.each([m,q],function(n,u){n[j]=function(y){switch(d){case o:return function(){return s.call(this,u,arguments,1,y)};case f:return function(){return s.call(this,u,arguments,0,y)};case c:return function(){var p=this[u?g:v]();return(p=y.apply(i,[p].concat(a.makeArray(arguments))))?new (a[a.isArray(p)?"NodeList":
"Node"])(p):null};default:return function(){var p=this[u?g:v]();p=y.apply(i,[p].concat(a.makeArray(arguments)));return p===r?this:p}}}(i[j])})})}function h(b,d,j){b&&a.each(this,function(n){var u;if(d||a.isString(b))u=i.create(b);else{if(t(b,1)||t(b,3))u=b;if(w(b))u=b[0]}i[j](u,n)});return this}function l(b,d){if((b=a.get(b))&&b.appendChild)a.each(this,function(j){i[d](j,b)});return this}var i=a.DOM,e=a.Event,t=i._nodeTypeIs,w=i._isKSNode,m=a.Node.prototype,q=a.NodeList.prototype,v="getDOMNode",g=
v+"s",o=1,f=2,c=4;a.mix(m,{one:function(b){return a.one(b,this[0])},all:function(b){return a.all(b,this[0])}});k(["data","removeData"],o);k(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);k(["attr","removeAttr"],o);k(["val","text"],f);k(["css"],o);k(["width","height"],f);k(["offset"],f);k(["scrollIntoView"]);k(["parent","next","prev","siblings","children"],c);k(["contains"]);k(["html"],f);k(["remove"]);a.each(["insertBefore","insertAfter"],function(b){m[b]=function(d){i[b].call(i,
this[0],d);return this}});a.each([m,q],function(b,d){a.each(["append","prepend"],function(j){b[j]=function(n){return h.call(this,n,d,j)};b[j+"To"]=function(n){return l.call(this,n,j)}})});a.mix(m,a.EventTarget);m._supportSpecialEvent=true;m._addEvent=function(b,d,j){e._simpleAdd(this[0],b,d,j)};m._removeEvent=function(b,d,j){e._simpleRemove(this[0],b,d,j)};delete m.fire;a.mix(q,a.EventTarget);delete q.fire});if(!this.JSON)this.JSON={};
(function(){function a(w){return w<10?"0"+w:w}function r(w){h.lastIndex=0;return h.test(w)?'"'+w.replace(h,function(m){var q=e[m];return typeof q==="string"?q:"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function s(w,m){var q,v,g,o,f=l,c,b=m[w];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(w);if(typeof t==="function")b=t.call(m,w,b);switch(typeof b){case "string":return r(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";l+=i;c=[];if(Object.prototype.toString.apply(b)==="[object Array]"){o=b.length;for(q=0;q<o;q+=1)c[q]=s(q,b)||"null";g=c.length===0?"[]":l?"[\n"+l+c.join(",\n"+l)+"\n"+f+"]":"["+c.join(",")+"]";l=f;return g}if(t&&typeof t==="object"){o=t.length;for(q=0;q<o;q+=1){v=t[q];if(typeof v==="string")if(g=s(v,b))c.push(r(v)+(l?": ":":")+g)}}else for(v in b)if(Object.hasOwnProperty.call(b,v))if(g=s(v,b))c.push(r(v)+(l?": ":":")+g);g=c.length===0?"{}":l?"{\n"+l+c.join(",\n"+l)+
"\n"+f+"}":"{"+c.join(",")+"}";l=f;return g}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,i,e={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof JSON.stringify!=="function")JSON.stringify=function(w,m,q){var v;i=l="";if(typeof q==="number")for(v=0;v<q;v+=1)i+=" ";else if(typeof q==="string")i=q;if((t=m)&&typeof m!=="function"&&(typeof m!=="object"||typeof m.length!=="number"))throw Error("JSON.stringify");return s("",{"":w})};
if(typeof JSON.parse!=="function")JSON.parse=function(w,m){function q(g,o){var f,c,b=g[o];if(b&&typeof b==="object")for(f in b)if(Object.hasOwnProperty.call(b,f)){c=q(b,f);if(c!==undefined)b[f]=c;else delete b[f]}return m.call(g,o,b)}var v;w=String(w);k.lastIndex=0;if(k.test(w))w=w.replace(k,function(g){return"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){v=eval("("+w+")");return typeof m==="function"?q({"":v},""):v}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var r=window.JSON;a.JSON={parse:function(s){if(s==null||s==="")return null;return r.parse(s)},stringify:r.stringify}});
KISSY.add("ajax",function(a,r){function s(p){p=a.merge(y,p);if(p.url){if(p.data&&!a.isString(p.data))p.data=a.param(p.data);p.context=p.context||p;var x,z=b,A,C=p.type.toUpperCase();if(p.dataType===q){x=p.jsonpCallback||q+a.now();p.url=p.url+(p.url.indexOf("?")===-1?"?":"&")+(p.jsonp+"="+x);p.dataType=v;var E=l[x];l[x]=function(G){if(a.isFunction(E))E(G);else{l[x]=r;try{delete l[x]}catch(F){}}k([b,d],G,z,B,p)}}if(p.data&&C===e)p.url=p.url+(p.url.indexOf("?")===-1?"?":"&")+p.data;if(p.dataType===v){h(o,
p);C=a.getScript(p.url,x?null:function(){k([b,d],g,z,B,p)});h(f,p);return C}var D=false,B=p.xhr();h(o,p);B.open(C,p.url,p.async);try{if(p.data||p.contentType)B.setRequestHeader(w,p.contentType);B.setRequestHeader("Accept",p.dataType&&p.accepts[p.dataType]?p.accepts[p.dataType]+", */*; q=0.01":p.accepts._default)}catch(K){}B.onreadystatechange=function(G){if(!B||B.readyState===0||G==="abort"){D||k(d,null,j,B,p);D=true;if(B)B.onreadystatechange=i}else if(!D&&B&&(B.readyState===4||G===n)){D=true;B.onreadystatechange=
i;var F;if(G===n)F=n;else{a:{try{F=B.status>=200&&B.status<300||B.status===304||B.status===1223;break a}catch(H){}F=false}F=F?b:j}z=F;try{F=B;var I=p.dataType,M=g,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(w)||g;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===u)throw u;}if(a.isString(L))if(I===m||!I&&M.indexOf(m)>=0)L=a.JSON.parse(L);A=L}catch(O){z=u}k([z===b?b:j,d],A,z,B,p);if(G===n){B.abort();h(c,p)}if(p.async)B=null}};h(f,p);try{B.send(C===
t?p.data:null)}catch(J){k([j,d],A,j,B,p)}p.async||h(d,p);return B}}function k(p,x,z,A,C){if(a.isArray(p))a.each(p,function(E){k(E,x,z,A,C)});else{z===p&&C[p]&&C[p].call(C.context,x,z,A);h(p,C)}}function h(p,x){s.fire(p,{ajaxConfig:x})}var l=window,i=function(){},e="GET",t="POST",w="Content-Type",m="json",q=m+"p",v="script",g="",o="start",f="send",c="stop",b="success",d="complete",j="error",n="timeout",u="parsererror",y={type:e,url:g,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:l.ActiveXObject?function(){if(l.XmlHttpRequest)try{return new l.XMLHttpRequest}catch(p){}try{return new l.ActiveXObject("Microsoft.XMLHTTP")}catch(x){}}:function(){return new l.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(s,a.EventTarget);a.mix(s,{get:function(p,x,z,A,C){if(a.isFunction(x)){A=z;z=x}return s({type:C||e,
url:p,data:x,success:function(E,D,B){z&&z.call(this,E,D,B)},dataType:A})},post:function(p,x,z,A){if(a.isFunction(x)){A=z;z=x;x=r}return s.get(p,x,z,A,t)},jsonp:function(p,x,z){if(a.isFunction(x)){z=x;x=null}return s.get(p,x,z,q)}});s.getScript=a.getScript;a.io=a.ajax=s.ajax=s;a.jsonp=s.jsonp;a.IO=s});
KISSY.add("anim-easing",function(a){var r=Math,s=r.PI,k=r.pow,h=r.sin,l=1.70158,i={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(k(2,10*(e-=1))*h((e-0.075)*2*s/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return k(2,-10*e)*h((e-0.075)*2*s/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*k(2,10*(e-=1))*h((e-0.1125)*2*s/0.45);return k(2,-10*(e-=1))*h((e-0.1125)*2*s/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((l+1)*e-l)},backOut:function(e){return(e-=1)*e*((l+1)*e+l)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((l*=1.525)+1)*e-l);return 0.5*((e-=2)*e*(((l*=1.525)+1)*e+l)+2)},bounceIn:function(e){return 1-
i.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return i.bounceIn(e*2)*0.5;return i.bounceOut(e*2-1)*0.5+0.5}};i.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=i});
KISSY.add("anim",function(a,r){function s(c,b,d,j,n,u){if(c=a.get(c)){if(!(this instanceof s))return new s(c,b,d,j,n,u);var y=a.isPlainObject(d);b=b;this.domEl=c;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var p={},x=v.length,z;q.innerHTML='<div style="'+b+'"></div>';for(c=q.firstChild.style;x--;)if(z=c[v[x]])p[v[x]]=l(z);this.props=p;this.targetStyle=b;if(y)y=a.merge(f,d);else{y=a.clone(f);if(d)y.duration=m(d)||1;if(a.isString(j)||
a.isFunction(j))y.easing=j;if(a.isFunction(n))y.complete=n;if(u!==r)y.nativeSupport=u}this.config=y;if(y.nativeSupport&&k()&&a.isString(j=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=w.NativeTimeFunction[j])){y.easing=j;this.transitionName=k()}a.isFunction(n)&&this.on(o,n)}}function k(){var c="transition",b;if(q.style[c]!==r)b=c;else a.each(["Webkit","Moz","O"],function(d){if(q.style[c=d+"Transition"]!==r){b=c;return false}});k=function(){return b};return b}function h(c,b,d){a.UA.ie&&d.indexOf(g)>
-1&&t.css(c,g,b[g].v);c.style.cssText+=";"+d}function l(c){var b=m(c);c=(c+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:c,u:"",f:e}:{v:b,u:c,f:i}}function i(c,b,d){return(c+(b-c)*d).toFixed(3)}function e(c,b,d){for(var j=2,n,u,y=[],p=[];n=3,u=arguments[j-1],j--;)if(u.substr(0,4)==="rgb(")for(u=u.match(/\d+/g);n--;)y.push(~~u[n]);else if(u.substr(0,1)==="#"){if(u.length===4)u="#"+u.substr(1,1)+u.substr(1,1)+u.substr(2,1)+u.substr(2,1)+u.substr(3,1)+u.substr(3,1);for(;n--;)y.push(parseInt(u.substr(1+
n*2,2),16))}else return b;for(;n--;){j=~~(y[n+3]+(y[n]-y[n+3])*d);p.push(j<0?0:j>255?255:j)}return"rgb("+p.join(",")+")"}var t=a.DOM,w=a.Easing,m=parseFloat,q=t.create("<div>"),v="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
g="opacity",o="complete",f={duration:1,easing:"easeNone",nativeSupport:true};a.augment(s,a.EventTarget,{run:function(){var c=this,b=c.config,d=c.domEl,j,n,u,y,p=c.props,x={},z;for(z in p)x[z]=l(t.css(d,z));if(c.fire("start")!==false){c.stop();if(c.transitionName)c._nativeRun();else{j=b.duration*1E3;u=a.now();y=u+j;n=b.easing;if(a.isString(n))n=w[n]||w.easeNone;c.timer=a.later(b=function(){var A=a.now(),C=A>y?1:(A-u)/j,E,D,B;for(z in p){E=x[z];D=p[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;t.css(d,z,
D.f(E.v,D.v,n(C))+D.u)}if(c.fire("step")===false||(B=A>y)){c.stop();B&&c.fire(o)}},13,true);b()}return c}},_nativeRun:function(){var c=this,b=c.config,d=c.domEl,j=c.props,n=b.duration*1E3;b=b.easing;var u=c.transitionName,y={};y[u+"Property"]="all";y[u+"Duration"]=n+"ms";y[u+"TimingFunction"]=b;t.css(d,y);a.later(function(){h(d,j,c.targetStyle)},0);a.later(function(){c.stop(true)},n)},stop:function(c){if(this.transitionName)this._nativeStop(c);else{if(this.timer){this.timer.cancel();this.timer=r}if(c){h(this.domEl,
this.props,this.targetStyle);this.fire(o)}}return this},_nativeStop:function(c){var b=this.domEl,d=this.transitionName,j=this.props,n;if(c){t.css(b,d+"Property","none");this.fire(o)}else{for(n in j)t.css(b,n,t._getComputedStyle(b,n));t.css(b,d+"Property","none")}}});s.supportTransition=function(){return!!k()};a.Anim=s});
KISSY.add("anim-node-plugin",function(a,r){function s(g,o,f,c,b){if(o==="toggle"){b=k.css(g,l)===i?1:0;o="show"}if(b)k.css(g,l,k.data(g,l)||"");var d={},j={};a.each(v[o],function(n){if(n===e){d[e]=k.css(g,e);k.css(g,e,t)}else if(n===w){d[w]=k.css(g,w);j.opacity=b?1:0;b&&k.css(g,w,0)}else if(n===m){d[m]=k.css(g,m);j.height=b?k.css(g,m)||g.naturalHeight:0;b&&k.css(g,m,0)}else if(n===q){d[q]=k.css(g,q);j.width=b?k.css(g,q)||g.naturalWidth:0;b&&k.css(g,q,0)}});(new a.Anim(g,j,f,"easeOut",function(){if(!b){var n=
g.style,u=n[l];if(u!==i){u&&k.data(g,l,u);n[l]=i}d[m]&&k.css(g,{height:d[m]});d[q]&&k.css(g,{height:d[q]});d[w]&&k.css(g,{height:d[w]});d[e]&&k.css(g,{height:d[e]})}c&&a.isFunction(c)&&c()})).run()}var k=a.DOM,h=a.Anim,l="display",i="none",e="overflow",t="hidden",w="opacity",m="height",q="width",v={show:[e,w,m,q],fade:[w],slide:[e,m]};a.each([a.Node.prototype,a.NodeList.prototype],function(g){g.animate=function(){var o=a.makeArray(arguments);a.each(this,function(f){h.apply(r,[f].concat(o)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(o,f){g[f]=function(c,b){k[f]&&arguments.length===0?k[f](this):a.each(this,function(d){s(d,o[0],c,b,o[1])});return this}})})});
KISSY.add("cookie",function(a){var r=document,s=encodeURIComponent,k=decodeURIComponent;a.Cookie={get:function(h){var l;if(a.isString(h)&&h!=="")if(h=r.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))l=h[1]?k(h[1]):"";return l},set:function(h,l,i,e,t,w){l=s(l);var m=i;if(typeof m==="number"){m=new Date;m.setTime(m.getTime()+i*864E5)}if(m instanceof Date)l+="; expires="+m.toUTCString();if(a.isString(e)&&e!=="")l+="; domain="+e;if(a.isString(t)&&t!=="")l+="; path="+t;if(w)l+="; secure";r.cookie=h+
"="+l},remove:function(h,l,i,e){this.set(h,"",0,l,i,e)}}});
KISSY.add("attribute",function(a,r){function s(){this.__attrs={};this.__attrVals={}}function k(h){h+="";return h.charAt(0).toUpperCase()+h.substring(1)}a.augment(s,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(h,l){this.__attrs[h]=a.clone(l||{});return this},hasAttr:function(h){return h&&h in(this.__attrs||{})},removeAttr:function(h){if(this.hasAttr(h)){delete this.__attrs[h];delete this.__attrVals[h]}return this},set:function(h,l){var i=this.get(h);if(i!==l)if(false!==
this.__fireAttrChange("before",h,i,l)){this.__set(h,l);this.__fireAttrChange("after",h,i,this.__attrVals[h]);return this}},__fireAttrChange:function(h,l,i,e){return this.fire(h+k(l)+"Change",{attrName:l,prevVal:i,newVal:e})},__set:function(h,l){var i,e=this.__attrs[h];if(e=e&&e.setter)i=e.call(this,l);if(i!==r)l=i;this.__attrVals[h]=l},get:function(h){var l;l=(l=this.__attrs[h])&&l.getter;h=h in this.__attrVals?this.__attrVals[h]:this.__getDefAttrVal(h);if(l)h=l.call(this,h);return h},__getDefAttrVal:function(h){h=
this.__attrs[h];var l;if(h){if(l=h.valueFn){l=l.call(this);if(l!==r)h.value=l;delete h.valueFn}return h.value}},reset:function(h){if(this.hasAttr(h))return this.set(h,this.__getDefAttrVal(h));for(h in this.__attrs)this.hasAttr(h)&&this.reset(h);return this}});a.Attribute=s;s.__capitalFirst=k});
KISSY.add("base",function(a){function r(s){a.Attribute.call(this);for(var k=this.constructor;k;){var h=k.ATTRS;if(h){var l=void 0;for(l in h)h.hasOwnProperty(l)&&!this.hasAttr(l)&&this.addAttr(l,h[l])}k=k.superclass?k.superclass.constructor:null}if(s)for(var i in s)s.hasOwnProperty(i)&&this.__set(i,s[i])}a.augment(r,a.EventTarget,a.Attribute);a.Base=r});
