/*
Copyright 2010, KISSY UI Library v1.1.0pre
MIT Licensed
build time: ${build.time}
*/
(function(d,s,n){if(d[s]===n)d[s]={};s=d[s];var r=d.document,q=function(p,c,e,j){if(!c||!p)return p;if(e===n)e=true;var t,v,u;if(j&&(u=j.length))for(t=0;t<u;t++){v=j[t];if(v in c)if(e||!(v in p))p[v]=c[v]}else for(v in c)if(e||!(v in p))p[v]=c[v];return p},k=false,i=[],f=false,o=/^#?([\w-]+)$/;q(s,{version:"1.1.0pre",_init:function(){this.Env={mods:{},guid:0}},add:function(p,c){this.Env.mods[p]={name:p,fn:c};c(this);return this},ready:function(p){f||this._bindReady();k?p.call(d,this):i.push(p);return this},
_bindReady:function(){var p=this,c=r.documentElement.doScroll,e=c?"onreadystatechange":"DOMContentLoaded",j=function(){p._fireReady()};f=true;if(r.readyState==="complete")return j();if(r.addEventListener){var t=function(){r.removeEventListener(e,t,false);j()};r.addEventListener(e,t,false);d.addEventListener("load",j,false)}else{var v=function(){if(r.readyState==="complete"){r.detachEvent(e,v);j()}};r.attachEvent(e,v);d.attachEvent("onload",j);if(d==d.top){var u=function(){try{c("left");j()}catch(a){setTimeout(u,
1)}};u()}}},_fireReady:function(){if(!k){k=true;if(i){for(var p,c=0;p=i[c++];)p.call(d,this);i=null}}},available:function(p,c){if((p=(p+"").match(o)[1])&&s.isFunction(c))var e=1,j=s.later(function(){if(r.getElementById(p)&&(c()||1)||++e>500)j.cancel()},40,true)},mix:q,merge:function(){var p={},c,e=arguments.length;for(c=0;c<e;++c)q(p,arguments[c]);return p},augment:function(){var p=arguments,c=p.length-2,e=p[0],j=p[c],t=p[c+1],v=1;if(!s.isArray(t)){j=t;t=n;c++}if(!s.isBoolean(j)){j=n;c++}for(;v<c;v++)q(e.prototype,
p[v].prototype||p[v],j,t);return e},extend:function(p,c,e,j){if(!c||!p)return p;var t=Object.prototype,v=c.prototype,u=function(a){function b(){}b.prototype=a;return new b}(v);p.prototype=u;u.constructor=p;p.superclass=v;if(c!==Object&&v.constructor===t.constructor)v.constructor=c;e&&q(u,e);j&&q(p,j);return p},namespace:function(){var p=arguments.length,c=null,e,j,t;for(e=0;e<p;++e){t=(""+arguments[e]).split(".");c=this;for(j=d[t[0]]===c?1:0;j<t.length;++j)c=c[t[j]]=c[t[j]]||{}}return c},app:function(p,
c){var e=d[p]||{};q(e,this,true,["_init","add","namespace"]);e._init();return q(d[p]=e,typeof c==="function"?c():c)},log:function(p,c,e){if(this.Config.debug){if(e)p=e+": "+p;if(d.console!==n&&console.log)console[c&&console[c]?c:"log"](p)}return this},error:function(p){if(this.Config.debug)throw p;},guid:function(p){var c=this.Env.guid++ +"";return p?p+c:c}});s._init();s.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(d,s){function n(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var r=window,q=document,k=location,i=Array.prototype,f=i.indexOf,o=i.filter,p=String.prototype.trim,c=Object.prototype.toString,e=encodeURIComponent,j=decodeURIComponent,t=/^\s+|\s+$/g,v=/^(\w+)\[\]$/,u=/\S/;d.mix(d,{isUndefined:function(a){return a===s},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&c.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return c.call(a)==="[object Function]"},isArray:function(a){return c.call(a)==="[object Array]"},trim:p?function(a){return a==s?"":p.call(a)}:function(a){return a==s?"":a.toString().replace(t,"")},each:function(a,b,g){for(var h=a&&a.length||0,m=0;m<h;++m)b.call(g||r,a[m],m,a)},indexOf:f?function(a,
b){return f.call(b,a)}:function(a,b){for(var g=0,h=b.length;g<h;++g)if(b[g]===a)return g;return-1},inArray:function(a,b){return d.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===s)return[];if(d.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||d.isFunction(a))return[a];if(a.item&&d.UA.ie){for(var b=[],g=0,h=a.length;g<h;++g)b[g]=a[g];return b}return i.slice.call(a)},filter:o?function(a,b,g){return o.call(a,b,g)}:function(a,b,g){var h=[];d.each(a,function(m,l,w){b.call(g,
m,l,w)&&h.push(m)});return h},param:function(a,b){if(!d.isPlainObject(a))return"";b=b||"&";var g=[],h,m;for(h in a){m=a[h];h=e(h);if(n(m))g.push(h,"=",e(m+""),b);else if(d.isArray(m)&&m.length)for(var l=0,w=m.length;l<w;++l)n(m[l])&&g.push(h,"[]=",e(m[l]+""),b)}g.pop();return g.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=d.trim(a)).length===0)return{};var g={};a=a.split(b||"&");for(var h,m,l,w=0,x=a.length;w<x;++w){b=a[w].split("=");h=j(b[0]);try{m=j(b[1]||"")}catch(A){m=b[1]||""}if((l=
h.match(v))&&l[1]){g[l[1]]=g[l[1]]||[];g[l[1]].push(m)}else g[h]=m}return g},later:function(a,b,g,h,m){b=b||0;h=h||{};var l=a,w=d.makeArray(m),x;if(typeof a==="string")l=h[a];l||d.error("method undefined");a=function(){l.apply(h,w)};x=g?setInterval(a,b):setTimeout(a,b);return{id:x,interval:g,cancel:function(){this.interval?clearInterval(x):clearTimeout(x)}}},clone:function(a){var b=a,g,h;if(a&&((g=d.isArray(a))||d.isPlainObject(a))){b=g?[]:{};for(h in a)if(a.hasOwnProperty(h))b[h]=d.clone(a[h])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&u.test(a)){var b=q.getElementsByTagName("head")[0]||q.documentElement,g=q.createElement("script");g.text=a;b.insertBefore(g,b.firstChild);b.removeChild(g)}}});if(k&&k.search&&k.search.indexOf("ks-debug")!==-1)d.Config.debug=true});
KISSY.add("kissy-ua",function(d){var s=navigator.userAgent,n,r={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},q=function(k){var i=0;return parseFloat(k.replace(/\./g,function(){return i++===0?".":""}))};if((n=s.match(/AppleWebKit\/([\d.]*)/))&&n[1]){r.webkit=q(n[1]);if((n=s.match(/Chrome\/([\d.]*)/))&&n[1])r.chrome=q(n[1]);else if((n=s.match(/\/([\d.]*) Safari/))&&n[1])r.safari=q(n[1]);if(/ Mobile\//.test(s))r.mobile="Apple";else if(n=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))r.mobile=
n[0]}else if((n=s.match(/Opera\/.* Version\/([\d.]*)/))&&n[1]){r.opera=q(n[1]);if(s.match(/Opera Mini[^;]*/))r.mobile=n[0]}else if((n=s.match(/MSIE\s([^;]*)/))&&n[1])r.ie=q(n[1]);else if(n=s.match(/Gecko/)){r.gecko=1;if((n=s.match(/rv:([\d.]*)/))&&n[1])r.gecko=q(n[1]);if((n=s.match(/Firefox\/([\d.]*)/))&&n[1])r.firefox=q(n[1])}d.UA=r});
KISSY.add("dom",function(d){var s={_isSupportedNode:function(n){return s._isElementNode(n)||s._isTextNode(n)},_isElementNode:function(n){return n&&n.nodeType===1},_isTextNode:function(n){return n&&n.nodeType===3},_isKSNode:function(n){return n&&d.Node&&n.nodeType===d.Node.TYPE}};d.DOM=s});
KISSY.add("selector",function(d,s){function n(a,b){var g,h=[],m,l;b=r(b);if(d.isString(a)){a=d.trim(a);if(v.test(a)){if(a=q(a.slice(1),b))h=[a]}else if(g=u.exec(a)){m=g[1];l=g[2];g=g[3];if(b=m?q(m,b):b)if(g)if(!m||a.indexOf(c)!==-1)h=i(g,l,b);else{if((a=q(m,b))&&p.hasClass(a,g))h=[a]}else if(l)h=k(l,b)}else if(d.ExternalSelector)return d.ExternalSelector(a,b);else f(a)}else if(a&&(a[j]||a[t]))h=a[j]?[a[j]()]:a[t]();else if(a&&a.nodeType)h=[a];else if(a&&(d.isArray(a)||a.item))h=a;if(h.item)h=d.makeArray(h);
return h}function r(a){if(a===s)a=o;else if(d.isString(a)&&v.test(a))a=q(a.slice(1),o);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function q(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function k(a,b){return b.getElementsByTagName(a)}function i(a,b,g){g=a=g.getElementsByClassName(a);var h=0,m=0,l=a.length,w;if(b&&b!==e){g=[];for(b=b.toUpperCase();h<l;++h){w=a[h];if(w.tagName===b)g[m++]=w}}return g}function f(a){d.error("Unsupported selector: "+a)}var o=document,
p=d.DOM,c=" ",e="*",j="getDOMNode",t=j+"s",v=/^#[\w-]+$/,u=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=o.createElement("div");a.appendChild(o.createComment(""));if(a.getElementsByTagName(e).length>0)k=function(b,g){g=g.getElementsByTagName(b);if(b===e){b=[];for(var h=0,m=0,l;l=g[h++];)if(l.nodeType===1)b[m++]=l;g=b}return g}})();o.getElementsByClassName||(i=o.querySelectorAll?function(a,b,g){return g.querySelectorAll((b?b:"")+"."+a)}:function(a,b,g){b=g.getElementsByTagName(b||
e);g=[];var h=0,m=0,l=b.length,w,x;for(a=c+a+c;h<l;++h){w=b[h];if((x=w.className)&&(c+x+c).indexOf(a)>-1)g[m++]=w}return g});d.query=n;d.get=function(a,b){return n(a,b)[0]||null};d.mix(p,{query:n,get:d.get,filter:function(a,b){var g=n(a),h,m,l,w=[];if(d.isString(b)&&(h=u.exec(b))&&!h[1]){m=h[2];l=h[3];b=function(x){return!(m&&x.tagName!==m.toUpperCase()||l&&!p.hasClass(x,l))}}if(d.isFunction(b))w=d.filter(g,b);else if(b&&d.ExternalSelector)w=d.ExternalSelector._filter(a,b);else f(b);return w},test:function(a,
b){a=n(a);return p.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(d,s){function n(i,f,o,p){if(!(f=d.trim(f)))return p?false:s;i=d.query(i);var c=0,e=i.length;f=f.split(q);for(var j;c<e;c++){j=i[c];if(r._isElementNode(j)){j=o(j,f,f.length);if(j!==s)return j}}if(p)return false}var r=d.DOM,q=/[\.\s]\s*\.?/,k=/[\n\t]/g;d.mix(r,{hasClass:function(i,f){return n(i,f,function(o,p,c){if(o=o.className){o=" "+o+" ";for(var e=0,j=true;e<c;e++)if(o.indexOf(" "+p[e]+" ")<0){j=false;break}if(j)return true}},true)},addClass:function(i,f){n(i,f,function(o,
p,c){var e=o.className;if(e){var j=" "+e+" ";e=e;for(var t=0;t<c;t++)if(j.indexOf(" "+p[t]+" ")<0)e+=" "+p[t];o.className=d.trim(e)}else o.className=f})},removeClass:function(i,f){n(i,f,function(o,p,c){var e=o.className;if(e)if(c){e=(" "+e+" ").replace(k," ");for(var j=0,t;j<c;j++)for(t=" "+p[j]+" ";e.indexOf(t)>=0;)e=e.replace(t," ");o.className=d.trim(e)}else o.className=""})},replaceClass:function(i,f,o){r.removeClass(i,f);r.addClass(i,o)},toggleClass:function(i,f,o){var p=d.isBoolean(o),c;n(i,
f,function(e,j,t){for(var v=0,u;v<t;v++){u=j[v];c=p?!o:r.hasClass(e,u);r[c?"removeClass":"addClass"](e,u)}})}})});
KISSY.add("dom-attr",function(d,s){function n(u,a){return a&&a.nodeName.toUpperCase()===u.toUpperCase()}var r=d.UA,q=r.ie,k=q&&q<8,i=document.documentElement.textContent!==s?"textContent":"innerText",f=d.DOM,o=f._isElementNode,p=f._isTextNode,c=/href|src|style/,e=/href|src|colspan|rowspan/,j=/\r/g,t=/radio|checkbox/,v={readonly:"readOnly"};k&&d.mix(v,{"for":"htmlFor","class":"className"});d.mix(f,{attr:function(u,a,b){if(d.isPlainObject(a))for(var g in a)f.attr(u,g,a[g]);else if(a=d.trim(a)){a=a.toLowerCase();
a=v[a]||a;if(b===s){u=d.get(u);if(!o(u))return s;var h;c.test(a)||(h=u[a]);if(h===s)h=u.getAttribute(a);if(k)if(e.test(a))h=u.getAttribute(a,2);else if(a==="style")h=u.style.cssText;return h===null?s:h}d.each(d.query(u),function(m){if(o(m))if(k&&a==="style")m.style.cssText=b;else{if(a==="checked")m[a]=!!b;m.setAttribute(a,""+b)}})}},removeAttr:function(u,a){d.each(d.query(u),function(b){if(o(b)){f.attr(b,a,"");b.removeAttribute(a)}})},val:function(u,a){if(a===s){var b=d.get(u);if(!o(b))return s;if(n("option",
b))return(b.attributes.value||{}).specified?b.value:b.text;if(n("select",b)){var g=b.selectedIndex;u=b.options;if(g<0)return null;else if(b.type==="select-one")return f.val(u[g]);b=[];for(var h=0,m=u.length;h<m;++h)u[h].selected&&b.push(f.val(u[h]));return b}if(r.webkit&&t.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(j,"")}d.each(d.query(u),function(l){if(n("select",l)){if(d.isNumber(a))a+="";var w=d.makeArray(a),x=l.options,A;h=0;for(m=x.length;h<m;++h){A=
x[h];A.selected=d.inArray(f.val(A),w)}if(!w.length)l.selectedIndex=-1}else if(o(l))l.value=a})},text:function(u,a){if(a===s){u=d.get(u);if(o(u))return u[i]||"";else if(p(u))return u.nodeValue}else d.each(d.query(u),function(b){if(o(b))b[i]=a;else if(p(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(d,s){function n(a,b){var g=d.get(a),h=b===o?g.offsetWidth:g.offsetHeight;d.each(b===o?["Left","Right"]:["Top","Bottom"],function(m){h-=parseFloat(q._getComputedStyle(g,"padding"+m))||0;h-=parseFloat(q._getComputedStyle(g,"border"+m+"Width"))||0});return h}function r(a,b,g){var h=g;if(g===p&&e.test(b)){h=0;if(q.css(a,"position")==="absolute"){g=a[b==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)g-=c(q.css(a.offsetParent,"border-"+b+"-width"))||0;h=g-(c(q.css(a,
"margin-"+b))||0)}}return h}var q=d.DOM,k=d.UA,i=document,f=i.documentElement,o="width",p="auto",c=parseInt,e=/^left|top$/,j=/width|height|top|left|right|bottom|margin|padding/i,t=/-([a-z])/ig,v=function(a,b){return b.toUpperCase()},u={};d.mix(q,{_CUSTOM_STYLES:u,_getComputedStyle:function(a,b){var g="",h=a.ownerDocument;if(a.style)g=h.defaultView.getComputedStyle(a,null)[b];return g},css:function(a,b,g){if(d.isPlainObject(b))for(var h in b)q.css(a,h,b[h]);else{if(b.indexOf("-")>0)b=b.replace(t,v);
b=u[b]||b;if(g===s){a=d.get(a);h="";if(a&&a.style){h=b.get?b.get(a):a.style[b];if(h===""&&!b.get)h=r(a,b,q._getComputedStyle(a,b))}return h===s?"":h}else{if(g===null||g==="")g="";else if(!isNaN(new Number(g))&&j.test(b))g+="px";(b===o||b==="height")&&parseFloat(g)<0||d.each(d.query(a),function(m){if(m&&m.style){b.set?b.set(m,g):(m.style[b]=g);if(g==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(a,b){if(b===s)return n(a,o);else q.css(a,o,b)},height:function(a,b){if(b===s)return n(a,
"height");else q.css(a,"height",b)},addStyleSheet:function(a,b){var g;if(b)g=d.get(b);g||(g=q.create("<style>",{id:b}));d.get("head").appendChild(g);if(g.styleSheet)g.styleSheet.cssText=a;else g.appendChild(i.createTextNode(a))}});if(f.style.cssFloat!==s)u["float"]="cssFloat";else if(f.style.styleFloat!==s)u["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(d,s){if(d.UA.ie){var n=d.DOM,r=document,q=r.documentElement,k=n._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,f=/^-?\d/,o=/^width|height$/;try{if(q.style.opacity===s&&q.filters)k.opacity={get:function(c){var e=100;try{e=c.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(j){try{e=c.filters("alpha").opacity}catch(t){}}return e/100+""},set:function(c,e){c=c.style;c.zoom=1;c.filter="alpha(opacity="+e*100+")"}}}catch(p){d.log("IE filters ActiveX is disabled. ex = "+p)}if(!(r.defaultView||
{}).getComputedStyle&&q.currentStyle)n._getComputedStyle=function(c,e){var j=c.style,t=c.currentStyle[e];if(o.test(e))t=n[e](c)+"px";else if(!i.test(t)&&f.test(t)){var v=j.left,u=c.runtimeStyle.left;c.runtimeStyle.left=c.currentStyle.left;j.left=e==="fontSize"?"1em":t||0;t=j.pixelLeft+"px";j.left=v;c.runtimeStyle.left=u}return t}}});
KISSY.add("dom-offset",function(d,s){function n(l){var w=0,x=0,A=q(l[u]);if(l[m]){l=l[m]();w=l[a]+k[g](A);x=l[b]+k[h](A)}return{left:w,top:x}}function r(l,w){if(k.css(l,j)==="static")l.style[j]=t;var x=n(l),A={},y,z;for(z in w){y=e(k.css(l,z),10)||0;A[z]=y+w[z]-x[z]}k.css(l,A)}function q(l){return l&&"scrollTo"in l&&l[v]?l:l&&l.nodeType===9?l.defaultView||l.parentWindow:false}var k=d.DOM,i=window,f=document,o=k._isElementNode,p=f.compatMode==="CSS1Compat",c=Math.max,e=parseInt,j="position",t="relative",
v="document",u="ownerDocument",a="left",b="top",g="scrollLeft",h="scrollTop",m="getBoundingClientRect";d.mix(k,{offset:function(l,w){if(!(l=d.get(l))||!l[u])return null;if(w===s)return n(l);r(l,w)},scrollIntoView:function(l,w,x,A){if((l=d.get(l))&&l[u]){w=d.get(w);A=A===s?true:!!A;x=x===s?true:!!x;if(!o(w))return l.scrollIntoView(x);var y=k.offset(l),z=k.offset(w),B={left:y[a]-z[a],top:y[b]-z[b]};y=w.clientHeight;z=w.clientWidth;var C=k[g](w),D=k[h](w),E=C+z,F=D+y,G=l.offsetHeight;l=l.offsetWidth;
var H=B.left+C-(e(k.css(w,"borderLeftWidth"))||0);B=B.top+D-(e(k.css(w,"borderTopWidth"))||0);var I=H+l,J=B+G;if(G>y||B<D||x)w[h]=B;else if(J>F)w[h]=J-y;if(A)if(l>z||H<C||x)w[g]=H;else if(I>E)w[g]=I-z}}});d.each(["Left","Top"],function(l,w){var x="scroll"+l;k[x]=function(A){var y=0,z=A===s?i:q(A),B;if(z&&(B=z[v]))y=z[w?"pageYOffset":"pageXOffset"]||B.documentElement[x]||B.body[x];else if(o(A=d.get(A)))y=A[x];return y}});d.each(["Width","Height"],function(l){k["doc"+l]=function(w){w=w||f;return c(p?
w.documentElement["scroll"+l]:w.body["scroll"+l],k["viewport"+l](w))};k["viewport"+l]=function(w){var x="inner"+l;w=q(w)||i;var A=w[v];return x in w?w[x]:p?A.documentElement["client"+l]:A.body["client"+l]}})});
KISSY.add("dom-traversal",function(d,s){function n(i,f,o,p){if(!(i=d.get(i)))return null;if(f===s)f=1;var c=null,e,j;if(d.isNumber(f)&&f>=0){if(f===0)return i;e=0;j=f;f=function(){return++e===j}}for(;i=i[o];)if(k(i)&&(!f||q.test(i,f))&&(!p||p(i))){c=i;break}return c}function r(i,f,o){var p=[];var c=i=d.get(i);if(i&&o)c=i.parentNode;if(c){o=0;for(c=c.firstChild;c;c=c.nextSibling)if(k(c)&&c!==i&&(!f||q.test(c,f)))p[o++]=c}return p}var q=d.DOM,k=q._isElementNode;d.mix(q,{parent:function(i,f){return n(i,
f,"parentNode",function(o){return o.nodeType!=11})},next:function(i,f){return n(i,f,"nextSibling")},prev:function(i,f){return n(i,f,"previousSibling")},siblings:function(i,f){return r(i,f,true)},children:function(i,f){return r(i,f)},contains:function(i,f){var o=false;if((i=d.get(i))&&(f=d.get(f)))if(i.contains)return i.contains(f);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(f)&16);else for(;!o&&(f=f.parentNode);)o=f==i;return o}})});
KISSY.add("dom-create",function(d,s){function n(y,z){j(y)&&d.isPlainObject(z)&&o.attr(y,z);return y}function r(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=d.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}else d.log("Unable to convert "+y+" to fragment.");return B}function q(y){var z=y.cloneNode(true);if(p.ie<8)z.innerHTML=y.innerHTML;return z}function k(y,z,B,C){if(B){var D=d.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+
D+'"></span>';d.available(D,function(){var F=d.get("head"),G,H,I,J,L,K;for(E.lastIndex=0;G=E.exec(z);)if((I=(H=G[1])?H.match(g):false)&&I[2]){G=f.createElement("script");G.src=I[2];if((J=H.match(h))&&J[2])G.charset=J[2];G.async=true;F.appendChild(G)}else if((K=G[2])&&K.length>0)d.globalEval(K);(L=f.getElementById(D))&&o.remove(L);d.isFunction(C)&&C()});i(y,z)}else{i(y,z);d.isFunction(C)&&C()}}function i(y,z){z=z.replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(o.create(z))}}var f=document,o=d.DOM,p=d.UA,c=p.ie,e=o._isSupportedNode,j=o._isElementNode,t=o._isKSNode,v=f.createElement("div"),u=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/\ssrc=(['"])(.*?)\1/i,h=/\scharset=(['"])(.*?)\1/i;d.mix(o,{create:function(y,z,B){if(e(y))return q(y);if(t(y))return q(y[0]);if(!(y=d.trim(y)))return null;var C=null;C=o._creators;var D,E="div",F;if(D=b.exec(y))C=(B||f).createElement(D[1]);else{if((D=u.exec(y))&&(F=
D[1])&&d.isFunction(C[F=F.toLowerCase()]))E=F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):r(y,B||f)}return n(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):v;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===s){y=d.get(y);if(j(y))return y.innerHTML}else d.each(d.query(y),function(D){j(D)&&k(D,z,B,C)})},remove:function(y){d.each(d.query(y),function(z){j(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(p.gecko||c){var m=o._creators,l=o.create,w=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
x={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in x)(function(y){m[A]=function(z,B){return l("<"+y+">"+z+"</"+y+">",null,B)}})(x[A]);if(c){m.script=function(y,z){z=z?z.createElement("div"):v;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(c<8)m.tbody=function(y,z){z=l("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!w.test(y)&&B.parentNode.removeChild(B);return z}}d.mix(m,{optgroup:m.option,th:m.td,
thead:m.tbody,tfoot:m.tbody,caption:m.tbody,colgroup:m.tbody})}});KISSY.add("dom-insertion",function(d){d.mix(d.DOM,{insertBefore:function(s,n){if((s=d.get(s))&&(n=d.get(n))&&n.parentNode)n.parentNode.insertBefore(s,n);return s},insertAfter:function(s,n){if((s=d.get(s))&&(n=d.get(n))&&n.parentNode)n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s);return s}})});
KISSY.add("event",function(d,s){function n(a,b,g,h,m){if(d.isString(b))b=d.query(b);if(d.isArray(b)){d.each(b,function(l){u[a](l,g,h,m)});return true}if((g=d.trim(g))&&g.indexOf(j)>0){d.each(g.split(j),function(l){u[a](b,l,h,m)});return true}}function r(a){return i(a)?a[e]:-1}function q(a,b){if(!i(a))return d.error("Text or comment node is not valid event target.");try{a[e]=b}catch(g){d.error(g)}}function k(a){try{a[e]=s;delete a[e]}catch(b){}}function i(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var f=window,o=document,p=o.addEventListener?function(a,b,g,h){a.addEventListener&&a.addEventListener(b,g,!!h)}:function(a,b,g){a.attachEvent&&a.attachEvent("on"+b,g)},c=o.removeEventListener?function(a,b,g,h){a.removeEventListener&&a.removeEventListener(b,g,!!h)}:function(a,b,g){a.detachEvent&&a.detachEvent("on"+b,g)},e="ksEventTargetId",j=" ",t=d.now(),v={},u={EVENT_GUID:e,special:{},add:function(a,b,g,h){if(!n("add",a,b,g,h)){var m=r(a),l,w;if(!(m===-1||!b||!d.isFunction(g))){if(!m){q(a,m=t++);
v[m]={target:a,events:{}}}w=v[m].events;l=!a.isCustomEventTarget&&u.special[b]||{};if(!w[b]){m=function(x,A){if(!x||!x.fixed){x=new d.EventObject(a,x,b);d.isPlainObject(A)&&d.mix(x,A)}l.setup&&l.setup(x);return(l.handle||u._handle)(a,x,w[b].listeners)};w[b]={handle:m,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,m);else p(a,l.fix||b,m,l.capture)}w[b].listeners.push({fn:g,scope:h})}}},remove:function(a,b,g){if(!n("remove",a,b,g)){var h=r(a),m,l,w,x,A,y;if(h!==-1)if(h&&(m=v[h]))if(m.target===
a){m=m.events||{};if(l=m[b]){w=l.listeners;A=w.length;if(d.isFunction(g)&&A&&d.inArray(g,w)){y=[];for(x=0;x<A;++x)g!==w[x]&&y.push(w[x]);A=y.length}if(g===s||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,l.handle);else c(a,b,l.handle);delete m[b]}}if(b===s||d.isEmptyObject(m)){for(b in m)u.remove(a,b);delete v[h];k(a)}}}},_handle:function(a,b,g){g=g.slice(0);for(var h,m=0,l=g.length;m<l;++m){h=g[m];h=h.fn.call(h.scope||a,b);if(h===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return h},
_getCache:function(a){return v[a]},_simpleAdd:p,_simpleRemove:c};u.on=u.add;d.Event=u;f.attachEvent&&!f.addEventListener&&f.attachEvent("onunload",function(){var a,b;for(a in v)if(b=v[a].target)try{u.remove(b)}catch(g){}})});
KISSY.add("event-object",function(d,s){function n(k,i,f){this.currentTarget=k;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=f;this.target=k}this.fixed=true}var r=document,q="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");d.mix(n.prototype,
{_fix:function(){for(var k=this.originalEvent,i=q.length,f;i;){f=q[--i];this[f]=k[f]}if(!this.target)this.target=this.srcElement||r;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===s&&this.clientX!==s){k=r.documentElement;i=r.body;this.pageX=this.clientX+(k&&k.scrollLeft||i&&i.scrollLeft||0)-(k&&k.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+
(k&&k.scrollTop||i&&i.scrollTop||0)-(k&&k.clientTop||i&&i.clientTop||0)}if(this.which===s)this.which=this.charCode!==s?this.charCode:this.keyCode;if(this.metaKey===s)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==s)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=this.originalEvent;if(k.stopPropagation)k.stopPropagation();
else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});d.EventObject=n});
KISSY.add("event-target",function(d,s){var n=d.Event,r=n.EVENT_GUID;d.EventTarget={isCustomEventTarget:true,fire:function(q,k){if((q=((n._getCache(this[r]||-1)||{}).events||{})[q])&&d.isFunction(q.handle))return q.handle(s,k)},on:function(q,k,i){n.add(this,q,k,i)},detach:function(q,k){n.remove(this,q,k)}}});
KISSY.add("event-mouseenter",function(d){var s=d.Event;d.UA.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){s.special[n.name]={fix:n.fix,setup:function(r){r.type=n.name},handle:function(r,q,k){var i=q.relatedTarget;try{for(;i&&i!==r;)i=i.parentNode;i!==r&&s._handle(r,q,k)}catch(f){}}}})});
KISSY.add("event-focusin",function(d){var s=d.Event;document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){s.special[n.name]={fix:n.fix,capture:true,setup:function(r){r.type=n.name}}})});
KISSY.add("node",function(d){function s(r,q,k){var i;if(!(this instanceof s))return new s(r,q,k);if(r){if(n._isSupportedNode(r))i=r;else if(typeof r==="string")i=n.create(r,q,k);this[0]=i}else this.length=0}var n=d.DOM;s.TYPE="-ks-Node";d.augment(s,{length:1,getDOMNode:function(){return this[0]},nodeType:s.TYPE});d.one=function(r,q){return(r=d.get(r,q))?new s(r):null};d.Node=s});
KISSY.add("nodelist",function(d){function s(q){if(!(this instanceof s))return new s(q);r.push.apply(this,q||[])}var n=d.DOM,r=Array.prototype;d.mix(s.prototype,{length:0,item:function(q){var k=null;if(n._isElementNode(this[q]))k=new d.Node(this[q]);return k},getDOMNodes:function(){return r.slice.call(this)},each:function(q,k){for(var i=this.length,f=0,o;f<i;++f){o=new d.Node(this[f]);q.call(k||o,o,f,this)}return this}});d.all=function(q,k){return new s(d.query(q,k,true))};d.NodeList=s});
KISSY.add("node-attach",function(d,s){function n(t,arguments,v,u){var a=[this[t?p:o]()].concat(d.makeArray(arguments));if(arguments[v]===s)return u.apply(q,a);else{u.apply(q,a);return this}}function r(t,v){d.each(t,function(u){d.each([i,f],function(a,b){a[u]=function(g){switch(v){case c:return function(){return n.call(this,b,arguments,1,g)};case e:return function(){return n.call(this,b,arguments,0,g)};case j:return function(){var h=this[b?p:o]();return(h=g.apply(q,[h].concat(d.makeArray(arguments))))?
new (d[d.isArray(h)?"NodeList":"Node"])(h):null};default:return function(){var h=this[b?p:o]();h=g.apply(q,[h].concat(d.makeArray(arguments)));return h===s?this:h}}}(q[u])})})}var q=d.DOM,k=d.Event,i=d.Node.prototype,f=d.NodeList.prototype,o="getDOMNode",p=o+"s",c=1,e=2,j=4;d.mix(i,{one:function(t){return d.one(t,this[0])},all:function(t){return d.all(t,this[0])}});r(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);r(["attr","removeAttr"],c);r(["val","text"],e);r(["css"],c);r(["width",
"height"],e);r(["offset"],e);r(["scrollIntoView"]);r(["parent","next","prev","siblings","children"],j);r(["contains"]);r(["html"],e);r(["remove"]);d.each(["insertBefore","insertAfter"],function(t){i[t]=function(v){q[t].call(q,this[0],v);return this}});d.each([i,f],function(t){d.mix(t,{append:function(v){v&&d.each(this,function(u){u.appendChild(q.create(v))});return this},appendTo:function(v){if((v=d.get(v))&&v.appendChild)d.each(this,function(u){v.appendChild(u)});return this}})});d.each([i,f],function(t){d.mix(t,
d.EventTarget);t._addEvent=function(v,u){for(var a=0,b=this.length;a<b;a++)k._simpleAdd(this[a],v,u)};t._removeEvent=function(v,u){for(var a=0,b=this.length;a<b;a++)k._simpleRemove(this[a],v,u)};delete t.fire})});
KISSY.add("ajax",function(d){var s=document,n=s.createElement("script").readyState?function(r,q){r.onreadystatechange=function(){var k=r.readyState;if(k==="loaded"||k==="complete"){r.onreadystatechange=null;q.call(this)}}}:function(r,q){r.onload=q};d.Ajax={request:function(){d.error("not implemented")},getScript:function(r,q,k){var i=d.get("head")||s.documentElement,f=s.createElement("script");f.src=r;if(k)f.charset=k;f.async=true;d.isFunction(q)&&n(f,q);i.appendChild(f)}}});
KISSY.add("anim-easing",function(d){var s=Math,n=s.PI,r=s.pow,q=s.sin,k=1.70158,i={easeNone:function(f){return f},easeIn:function(f){return f*f},easeOut:function(f){return(2-f)*f},easeBoth:function(f){return(f*=2)<1?0.5*f*f:0.5*(1- --f*(f-2))},easeInStrong:function(f){return f*f*f*f},easeOutStrong:function(f){return 1- --f*f*f*f},easeBothStrong:function(f){return(f*=2)<1?0.5*f*f*f*f:0.5*(2-(f-=2)*f*f*f)},elasticIn:function(f){if(f===0||f===1)return f;return-(r(2,10*(f-=1))*q((f-0.075)*2*n/0.3))},
elasticOut:function(f){if(f===0||f===1)return f;return r(2,-10*f)*q((f-0.075)*2*n/0.3)+1},elasticBoth:function(f){if(f===0||(f*=2)===2)return f;if(f<1)return-0.5*r(2,10*(f-=1))*q((f-0.1125)*2*n/0.45);return r(2,-10*(f-=1))*q((f-0.1125)*2*n/0.45)*0.5+1},backIn:function(f){if(f===1)f-=0.0010;return f*f*((k+1)*f-k)},backOut:function(f){return(f-=1)*f*((k+1)*f+k)+1},backBoth:function(f){if((f*=2)<1)return 0.5*f*f*(((k*=1.525)+1)*f-k);return 0.5*((f-=2)*f*(((k*=1.525)+1)*f+k)+2)},bounceIn:function(f){return 1-
i.bounceOut(1-f)},bounceOut:function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375},bounceBoth:function(f){if(f<0.5)return i.bounceIn(f*2)*0.5;return i.bounceOut(f*2-1)*0.5+0.5}};d.Easing=i});
KISSY.add("anim",function(d,s){function n(u,a,b,g,h){if(u=d.get(u)){if(!(this instanceof n))return new n(u,a,b,g,h);var m=d.isPlainObject(b);a=a;this.domEl=u;if(d.isPlainObject(a))a=d.param(a,";").replace(/=/g,":");this.props=r(a);this.targetStyle=a;if(m)u=d.merge(v,b);else{u=d.clone(v);b&&(u.duration=c(b,10)||1);d.isString(g)&&(g=p[g]);d.isFunction(g)&&(u.easing=g);d.isFunction(h)&&(u.complete=h)}this.config=u;d.isFunction(h)&&this.on(t,h)}}function r(u){var a={},b=j.length,g;e.innerHTML='<div style="'+
u+'"></div>';for(u=e.childNodes[0].style;b--;)if(g=u[j[b]])a[j[b]]=q(g);return a}function q(u){var a=c(u);u=(u+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:u,u:"",f:i}:{v:a,u:u,f:k}}function k(u,a,b){return(u+(a-u)*b).toFixed(3)}function i(u,a,b){for(var g=2,h,m,l=[],w=[];h=3,m=arguments[g-1],g--;)if(f(m,0,4)==="rgb(")for(m=m.match(/\d+/g);h--;)l.push(~~m[h]);else if(f(m,0)==="#"){if(m.length===4)m="#"+f(m,1)+f(m,1)+f(m,2)+f(m,2)+f(m,3)+f(m,3);for(;h--;)l.push(parseInt(f(m,1+h*2,2),16))}else return a;
for(;h--;){g=~~(l[h+3]+(l[h]-l[h+3])*b);w.push(g<0?0:g>255?255:g)}return"rgb("+w.join(",")+")"}function f(u,a,b){return u.substr(a,b||1)}var o=d.DOM,p=d.Easing,c=parseFloat,e=o.create("<div>"),j="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
t="complete",v={duration:1,easing:p.easeNone};d.augment(n,d.EventTarget,{run:function(){var u=this,a=u.config,b=u.domEl,g=a.duration*1E3,h=a.easing,m=d.now(),l=m+g,w=u.props,x={},A;for(A in w)x[A]=q(o.css(b,A));if(u.fire("start")!==false){u.stop();u.timer=d.later(a=function(){var y=d.now(),z=y>l?1:(y-m)/g,B,C,D;for(A in w){B=x[A];C=w[A];if(B.u!==C.u)B.v=0;o.css(b,A,C.f(B.v,C.v,h(z))+C.u)}if(u.fire("step")===false||(D=y>l)){u.stop();D&&u.fire(t)}},13,true);a();return u}},stop:function(u){var a=this.domEl,
b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=s}if(u){d.UA.ie&&b.indexOf("opacity")>-1&&o.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(t)}return this}});d.Anim=n});KISSY.add("anim-node-plugin",function(d,s){var n=d.Anim;d.each([d.Node.prototype,d.NodeList.prototype],function(r){r.animate=function(){var q=d.makeArray(arguments);d.each(this,function(k){n.apply(s,[k].concat(q)).run()});return this}})});
KISSY.add("cookie",function(d){function s(k){return d.isString(k)&&k!==""}var n=document,r=encodeURIComponent,q=decodeURIComponent;d.Cookie={get:function(k){var i;if(s(k))if(k=n.cookie.match("(?:^| )"+k+"(?:(?:=([^;]*))|;|$)"))i=k[1]?q(k[1]):"";return i},set:function(k,i,f,o,p,c){i=r(i);var e=f;if(typeof e==="number"){e=new Date;e.setTime(e.getTime()+f*864E5)}if(e instanceof Date)i+="; expires="+e.toUTCString();if(s(o))i+="; domain="+o;if(s(p))i+="; path="+p;if(c)i+="; secure";n.cookie=k+"="+i},remove:function(k,
i,f,o){this.set(k,"",0,i,f,o)}}});
KISSY.add("json",function(d){function s(c){return c<10?"0"+c:c}function n(c){k.lastIndex=0;return k.test(c)?'"'+c.replace(k,function(e){var j=o[e];return typeof j==="string"?j:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function r(c,e){var j,t,v=i,u,a=e[c];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(c);if(typeof p==="function")a=p.call(e,c,a);switch(typeof a){case "string":return n(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=f;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){t=a.length;for(c=0;c<t;c+=1)u[c]=r(c,a)||"null";e=u.length===0?"[]":i?"[\n"+i+u.join(",\n"+i)+"\n"+v+"]":"["+u.join(",")+"]";i=v;return e}if(p&&typeof p==="object"){t=p.length;for(c=0;c<t;c+=1){j=p[c];if(typeof j==="string")if(e=r(j,a))u.push(n(j)+(i?": ":":")+e)}}else for(j in a)if(Object.hasOwnProperty.call(a,j))if(e=r(j,a))u.push(n(j)+(i?": ":":")+e);e=u.length===0?"{}":i?"{\n"+i+u.join(",\n"+i)+
"\n"+v+"}":"{"+u.join(",")+"}";i=v;return e}}d=d.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var q=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,f,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;if(typeof d.stringify!=="function")d.stringify=function(c,e,j){var t;f=i="";if(typeof j==="number")for(t=0;t<j;t+=1)f+=" ";else if(typeof j==="string")f=j;if((p=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw new Error("JSON.stringify");return r("",
{"":c})};if(typeof d.parse!=="function")d.parse=function(c,e){function j(t,v){var u,a,b=t[v];if(b&&typeof b==="object")for(u in b)if(Object.hasOwnProperty.call(b,u)){a=j(b,u);if(a!==undefined)b[u]=a;else delete b[u]}return e.call(t,v,b)}c=String(c);q.lastIndex=0;if(q.test(c))c=c.replace(q,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){c=eval("("+c+")");return typeof e==="function"?j({"":c},""):c}throw new SyntaxError("JSON.parse");}});
(function(){function d(a,b,g,h,m,l){m=0;for(var w=h.length;m<w;m++){var x=h[m];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===g){A=h[x.sizset];break}if(x.nodeType===1&&!l){x.sizcache=g;x.sizset=m}if(x.nodeName.toLowerCase()===b){A=x;break}x=x[a]}h[m]=A}}}function s(a,b,g,h,m,l){m=0;for(var w=h.length;m<w;m++){var x=h[m];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===g){A=h[x.sizset];break}if(x.nodeType===1){if(!l){x.sizcache=g;x.sizset=m}if(typeof b!=="string"){if(x===b){A=true;break}}else if(f.filter(b,
[x]).length>0){A=x;break}}x=x[a]}h[m]=A}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=0,q=Object.prototype.toString,k=false,i=true;[0,0].sort(function(){i=false;return 0});var f=function(a,b,g,h){g=g||[];var m=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return g;var l=[],w,x,A,y,z=true,B=f.isXML(b),C=a,D;do{n.exec("");if(w=n.exec(C)){C=w[3];l.push(w[1]);if(w[2]){y=
w[3];break}}}while(w);if(l.length>1&&p.exec(a))if(l.length===2&&o.relative[l[0]])x=u(l[0]+l[1],b);else for(x=o.relative[l[0]]?[b]:f(l.shift(),b);l.length;){a=l.shift();if(o.relative[a])a+=l.shift();x=u(a,x)}else{if(!h&&l.length>1&&b.nodeType===9&&!B&&o.match.ID.test(l[0])&&!o.match.ID.test(l[l.length-1])){w=f.find(l.shift(),b,B);b=w.expr?f.filter(w.expr,w.set)[0]:w.set[0]}if(b){w=h?{expr:l.pop(),set:j(h)}:f.find(l.pop(),l.length===1&&(l[0]==="~"||l[0]==="+")&&b.parentNode?b.parentNode:b,B);x=w.expr?
f.filter(w.expr,w.set):w.set;if(l.length>0)A=j(x);else z=false;for(;l.length;){w=D=l.pop();if(o.relative[D])w=l.pop();else D="";if(w==null)w=b;o.relative[D](A,w,B)}}else A=[]}A||(A=x);A||f.error(D||a);if(q.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&f.contains(b,A[a])))g.push(x[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&g.push(x[a]);else g.push.apply(g,A);else j(A,g);if(y){f(y,m,g,h);f.uniqueSort(g)}return g};
f.uniqueSort=function(a){if(v){k=i;a.sort(v);if(k)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};f.matches=function(a,b){return f(a,null,null,b)};f.find=function(a,b,g){var h;if(!a)return[];for(var m=0,l=o.order.length;m<l;m++){var w=o.order[m],x;if(x=o.leftMatch[w].exec(a)){var A=x[1];x.splice(1,1);if(A.substr(A.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");h=o.find[w](x,b,g);if(h!=null){a=a.replace(o.match[w],"");break}}}}h||(h=b.getElementsByTagName("*"));return{set:h,
expr:a}};f.filter=function(a,b,g,h){for(var m=a,l=[],w=b,x,A,y=b&&b[0]&&f.isXML(b[0]);a&&b.length;){for(var z in o.filter)if((x=o.leftMatch[z].exec(a))!=null&&x[2]){var B=o.filter[z],C,D;D=x[1];A=false;x.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(w===l)l=[];if(o.preFilter[z])if(x=o.preFilter[z](x,w,g,l,h,y)){if(x===true)continue}else A=C=true;if(x)for(var E=0;(D=w[E])!=null;E++)if(D){C=B(D,x,E,w);var F=h^!!C;if(g&&C!=null)if(F)A=true;else w[E]=false;else if(F){l.push(D);A=true}}if(C!==undefined){g||
(w=l);a=a.replace(o.match[z],"");if(!A)return[];break}}}if(a===m)if(A==null)f.error(a);else break;m=a}return w};f.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var o=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var g=typeof b==="string",h=g&&!/\W/.test(b);g=g&&!h;if(h)b=b.toLowerCase();h=0;for(var m=a.length,l;h<m;h++)if(l=a[h]){for(;(l=l.previousSibling)&&l.nodeType!==1;);a[h]=g||l&&l.nodeName.toLowerCase()===
b?l||false:l===b}g&&f.filter(b,a,true)},">":function(a,b){var g=typeof b==="string",h,m=0,l=a.length;if(g&&!/\W/.test(b))for(b=b.toLowerCase();m<l;m++){if(h=a[m]){g=h.parentNode;a[m]=g.nodeName.toLowerCase()===b?g:false}}else{for(;m<l;m++)if(h=a[m])a[m]=g?h.parentNode:h.parentNode===b;g&&f.filter(b,a,true)}},"":function(a,b,g){var h=r++,m=s,l;if(typeof b==="string"&&!/\W/.test(b)){l=b=b.toLowerCase();m=d}m("parentNode",b,h,a,l,g)},"~":function(a,b,g){var h=r++,m=s,l;if(typeof b==="string"&&!/\W/.test(b)){l=
b=b.toLowerCase();m=d}m("previousSibling",b,h,a,l,g)}},find:{ID:function(a,b,g){if(typeof b.getElementById!=="undefined"&&!g)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var g=[];b=b.getElementsByName(a[1]);for(var h=0,m=b.length;h<m;h++)b[h].getAttribute("name")===a[1]&&g.push(b[h]);return g.length===0?null:g}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,g,h,m,l){a=" "+a[1].replace(/\\/g,"")+" ";
if(l)return a;l=0;for(var w;(w=b[l])!=null;l++)if(w)if(m^(w.className&&(" "+w.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))g||h.push(w);else if(g)b[l]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=r++;return a},ATTR:function(a,b,g,h,m,l){b=
a[1].replace(/\\/g,"");if(!l&&o.attrMap[b])a[1]=o.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,g,h,m){if(a[1]==="not")if((n.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=f(a[3],null,null,b);else{a=f.filter(a[3],b,g,true^m);g||h.push.apply(h,a);return false}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,g){return!!f(g[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,g,h){return b===h.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,g){return b<g[3]-0},gt:function(a,b,g){return b>g[3]-0},nth:function(a,b,g){return g[3]-
0===b},eq:function(a,b,g){return g[3]-0===b}},filter:{PSEUDO:function(a,b,g,h){var m=b[1],l=o.filters[m];if(l)return l(a,g,b,h);else if(m==="contains")return(a.textContent||a.innerText||f.getText([a])||"").indexOf(b[3])>=0;else if(m==="not"){b=b[3];g=0;for(h=b.length;g<h;g++)if(b[g]===a)return false;return true}else f.error("Syntax error, unrecognized expression: "+m)},CHILD:function(a,b){var g=b[1],h=a;switch(g){case "only":case "first":for(;h=h.previousSibling;)if(h.nodeType===1)return false;if(g===
"first")return true;h=a;case "last":for(;h=h.nextSibling;)if(h.nodeType===1)return false;return true;case "nth":g=b[2];var m=b[3];if(g===1&&m===0)return true;b=b[0];var l=a.parentNode;if(l&&(l.sizcache!==b||!a.nodeIndex)){var w=0;for(h=l.firstChild;h;h=h.nextSibling)if(h.nodeType===1)h.nodeIndex=++w;l.sizcache=b}a=a.nodeIndex-m;return g===0?a===0:a%g===0&&a/g>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var g=b[1];a=o.attrHandle[g]?o.attrHandle[g](a):a[g]!=null?a[g]:a.getAttribute(g);g=a+"";var h=b[2];b=b[4];return a==null?h==="!=":h==="="?g===b:h==="*="?g.indexOf(b)>=0:h==="~="?(" "+g+" ").indexOf(b)>=0:!b?g&&a!==false:h==="!="?g!==b:h==="^="?g.indexOf(b)===0:h==="$="?g.substr(g.length-b.length)===b:h==="|="?g===b||g.substr(0,b.length+1)===b+"-":false},POS:function(a,b,g,h){var m=o.setFilters[b[2]];
if(m)return m(a,g,b,h)}}},p=o.match.POS,c=function(a,b){return"\\"+(b-0+1)};for(var e in o.match){o.match[e]=new RegExp(o.match[e].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[e]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[e].source.replace(/\\(\d+)/g,c))}var j=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(t){j=function(a,b){b=b||[];var g=0;if(q.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var h=a.length;g<h;g++)b.push(a[g]);else for(;a[g];g++)b.push(a[g]);return b}}var v;if(document.documentElement.compareDocumentPosition)v=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)k=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)k=true;return a};else if("sourceIndex"in document.documentElement)v=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)k=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)k=true;return a};else if(document.createRange)v=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)k=true;return a.ownerDocument?-1:1}var g=a.ownerDocument.createRange(),h=b.ownerDocument.createRange();g.setStart(a,0);g.setEnd(a,0);h.setStart(b,0);h.setEnd(b,0);a=g.compareBoundaryPoints(Range.START_TO_END,h);if(a===0)k=true;return a};f.getText=function(a){for(var b="",g,h=0;a[h];h++){g=a[h];if(g.nodeType===3||g.nodeType===4)b+=g.nodeValue;else if(g.nodeType!==
8)b+=f.getText(g.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var g=document.documentElement;g.insertBefore(a,g.firstChild);if(document.getElementById(b)){o.find.ID=function(h,m,l){if(typeof m.getElementById!=="undefined"&&!l)return(m=m.getElementById(h[1]))?m.id===h[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===h[1]?[m]:undefined:[]};o.filter.ID=function(h,m){var l=typeof h.getAttributeNode!==
"undefined"&&h.getAttributeNode("id");return h.nodeType===1&&l&&l.nodeValue===m}}g.removeChild(a);g=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)o.find.TAG=function(b,g){g=g.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var h=0;g[h];h++)g[h].nodeType===1&&b.push(g[h]);g=b}return g};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")o.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=f,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){f=function(h,m,l,w){m=m||document;if(!w&&m.nodeType===9&&!f.isXML(m))try{return j(m.querySelectorAll(h),l)}catch(x){}return a(h,m,l,w)};for(var g in a)f[g]=a[g];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(b,g,h){if(typeof g.getElementsByClassName!=="undefined"&&!h)return g.getElementsByClassName(b[1])};a=null}}})();f.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};f.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var u=function(a,b){var g=[],h="",m;for(b=b.nodeType?[b]:b;m=o.match.PSEUDO.exec(a);){h+=m[0];a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;m=0;for(var l=b.length;m<l;m++)f(a,b[m],g);return f.filter(h,g)};KISSY.ExternalSelector=f;KISSY.ExternalSelector._filter=function(a,b){return f.matches(b,KISSY.query(a))}})();
KISSY.add("datalazyload",function(d,s){function n(e,j){if(!(this instanceof n))return new n(e,j);if(j===s){j=e;e=[i]}d.isArray(e)||(e=[d.get(e)||i]);this.containers=e;this.config=d.merge(c,j);this._init()}var r=d.DOM,q=d.Event,k=window,i=document,f={AUTO:"auto",MANUAL:"manual"},o="scroll",p="resize",c={mod:f.MANUAL,diff:"default",placeholder:"none"};d.augment(n,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var e=
this.containers,j,t,v,u=[],a=[];j=0;for(t=e.length;j<t;++j){v=d.query("img",e[j]);u=u.concat(d.filter(v,this._filterImg,this));v=d.query("textarea",e[j]);a=a.concat(d.filter(v,this._filterArea,this))}this.images=u;this.areas=a},_filterImg:function(e){var j=e.getAttribute("data-lazyload-src"),t=this.threshold,v=this.config.placeholder;if(this.config.mod===f.MANUAL){if(j){if(v!=="none")e.src=v;return true}}else if(r.offset(e).top>t&&!j){r.attr(e,"data-lazyload-src",e.src);if(v!=="none")e.src=v;else e.removeAttribute("src");
return true}},_filterArea:function(e){return r.hasClass(e,"ks-datalazyload")},_initLoadEvent:function(){function e(){t||(t=setTimeout(function(){j();t=null},100))}function j(){v._loadItems();if(v._getItemsLength()===0){q.remove(k,o,e);q.remove(k,p,e)}}var t,v=this;q.on(k,o,e);q.on(k,p,function(){v.threshold=v._getThreshold();e()});v._getItemsLength()&&d.ready(function(){j()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=d.filter(this.images,this._loadImg,
this)},_loadImg:function(e){var j=this.threshold+r.scrollTop();if(r.offset(e).top<=j)this._loadImgSrc(e);else return true},_loadImgSrc:function(e,j){j=j||"data-lazyload-src";var t=e.getAttribute(j);if(t&&e.src!=t){e.src=t;e.removeAttribute(j)}},_loadAreas:function(){this.areas=d.filter(this.areas,this._loadArea,this)},_loadArea:function(e){var j=r.offset(e).top;if(!j&&r.css(e,"none")=="none")j=r.offset(e.parentNode).top;if(j<=this.threshold+r.scrollTop())this._loadAreaData(e.parentNode,e);else return true},
_loadAreaData:function(e,j){j.style.display="none";j.className="";var t=r.create("<div>");e.insertBefore(t,j);r.html(t,j.value,true)},_getThreshold:function(){var e=this.config.diff,j=r.viewportHeight();return e==="default"?2*j:j+e},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(e,j,t){var v=this,u,a;d.isArray(e)||(e=[d.get(e)]);d.each(e,function(b){switch(j){case "textarea-data":if((u=d.get("textarea",b))&&r.hasClass(u,t||"ks-datalazyload-custom"))v._loadAreaData(b,
u);break;default:a=b.nodeName==="IMG"?[b]:d.query("img",b);d.each(a,function(g){v._loadImgSrc(g,t||"data-lazyload-src-custom")})}})}});d.mix(n,n.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);d.DataLazyload=n});
KISSY.add("switchable",function(d,s){function n(k,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=d.merge(n.Config,i);this.container=d.get(k);this.config=i;this.activeIndex=i.activeIndex;this._init()}var r=d.DOM,q=d.Event;n.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"active",steps:1,viewSize:[]};n.Plugins=[];d.augment(n,d.EventTarget,{_init:function(){var k=this,i=k.config;if(k.fire("beforeInit")!==false){k._parseMarkup();i.hasTriggers&&k._bindTriggers();d.each(n.Plugins,function(f){f.init&&f.init(k)});k.fire("init")}},_parseMarkup:function(){var k=this.container,i=this.config,f,o=[],p=[];switch(i.markupType){case 0:if(f=d.get("."+i.navCls,k))o=r.children(f);f=d.get("."+i.contentCls,k);p=r.children(f);break;case 1:o=d.query("."+i.triggerCls,
k);p=d.query("."+i.panelCls,k);break;case 2:o=i.triggers;p=i.panels;break}k=p.length;this.length=k/i.steps;if(i.hasTriggers&&k>0&&o.length===0)o=this._generateTriggersMarkup(this.length);this.triggers=d.makeArray(o);this.panels=d.makeArray(p);this.content=f||p[0].parentNode},_generateTriggersMarkup:function(k){var i=this.config,f=r.create("<ul>"),o,p;f.className=i.navCls;for(p=0;p<k;p++){o=r.create("<li>");if(p===this.activeIndex)o.className=i.activeTriggerCls;o.innerHTML=p+1;f.appendChild(o)}this.container.appendChild(f);
return r.children(f)},_bindTriggers:function(){var k=this,i=k.config,f=k.triggers,o,p,c=f.length;for(p=0;p<c;p++)(function(e){o=f[e];q.on(o,"click focus",function(){k._onFocusTrigger(e)});if(i.triggerType==="mouse"){q.on(o,"mouseenter",function(){k._onMouseEnterTrigger(e)});q.on(o,"mouseleave",function(){k._onMouseLeaveTrigger(e)})}})(p)},_onFocusTrigger:function(k){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(k)}},_onMouseEnterTrigger:function(k){var i=this;if(i._triggerIsValid())i.switchTimer=
d.later(function(){i.switchTo(k)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(k){return this.activeIndex!==k},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=s}},switchTo:function(k,i){var f=this.config,o=this.triggers,p=this.panels,c=this.activeIndex,e=f.steps,j=c*e,t=k*e;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:k})===false)return this;if(f.hasTriggers)this._switchTrigger(c>
-1?o[c]:null,o[k]);if(i===s)i=k>c?"forward":"backward";this._switchView(p.slice(j,j+e),p.slice(t,t+e),k,i);this.activeIndex=k;return this},_switchTrigger:function(k,i){var f=this.config.activeTriggerCls;k&&r.removeClass(k,f);r.addClass(i,f)},_switchView:function(k,i,f){r.css(k,"display","none");r.css(i,"display","block");this._fireOnSwitch(f)},_fireOnSwitch:function(k){this.fire("switch",{currentIndex:k})},prev:function(){var k=this.activeIndex;this.switchTo(k>0?k-1:this.length-1,"backward")},next:function(){var k=
this.activeIndex;this.switchTo(k<this.length-1?k+1:0,"forward")}});d.Switchable=n});
KISSY.add("switchable-autoplay",function(d,s){var n=d.Event,r=d.Switchable;d.mix(r.Config,{autoplay:false,interval:5,pauseOnHover:true});r.Plugins.push({name:"autoplay",init:function(q){var k=q.config,i=k.interval*1E3,f;if(k.autoplay){if(k.pauseOnHover){n.on(q.container,"mouseenter",function(){if(f){f.cancel();f=s}q.paused=true});n.on(q.container,"mouseleave",function(){f=d.later(function(){q.paused=false;f=s},i)})}q.autoplayTimer=d.later(function(){q.paused||q.switchTo(q.activeIndex<q.length-1?q.activeIndex+
1:0,"forward")},i,true)}}})});
KISSY.add("switchable-effect",function(d,s){var n=d.DOM,r=d.Anim,q=d.Switchable,k;d.mix(q.Config,{effect:"none",duration:0.5,easing:"easeNone"});q.Effects={none:function(i,f,o){n.css(i,"display","none");n.css(f,"display","block");o()},fade:function(i,f,o){i.length!==1&&d.error("fade effect only supports steps == 1.");var p=this,c=p.config,e=i[0],j=f[0];p.anim&&p.anim.stop(true);n.css(j,"opacity",1);p.anim=(new r(e,{opacity:0},c.duration,c.easing,function(){p.anim=s;n.css(j,"z-index",9);n.css(e,"z-index",
1);o()})).run()},scroll:function(i,f,o,p){var c=this;i=c.config;f=i.effect==="scrollx";var e={};e[f?"left":"top"]=-(c.viewSize[f?0:1]*p)+"px";c.anim&&c.anim.stop();c.anim=(new r(c.content,e,i.duration,i.easing,function(){c.anim=s;o()})).run()}};k=q.Effects;k.scrollx=k.scrolly=k.scroll;q.Plugins.push({name:"effect",init:function(i){var f=i.config,o=f.effect,p=i.panels,c=i.content,e=f.steps,j=i.activeIndex,t=p.length;i.viewSize=[f.viewSize[0]||p[0].offsetWidth*e,f.viewSize[1]||p[0].offsetHeight*e];
if(o!=="none"){d.each(p,function(b){n.css(b,"display","block")});switch(o){case "scrollx":case "scrolly":n.css(c,"position","absolute");n.css(c.parentNode,"position","relative");if(o==="scrollx"){n.css(p,"float","left");n.width(c,i.viewSize[0]*(t/e))}break;case "fade":var v=j*e,u=v+e-1,a;d.each(p,function(b,g){a=g>=v&&g<=u;n.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});d.augment(q,{_switchView:function(i,f,o,p){var c=this,e=c.config.effect;(d.isFunction(e)?e:k[e]).call(c,i,
f,function(){c._fireOnSwitch(o)},o,p)}})});
KISSY.add("switchable-circular",function(d,s){function n(a,b,g,h,m){var l=this;a=l.config;b=l.length;var w=l.activeIndex,x=a.scrollType===v,A=x?o:p,y=l.viewSize[x?0:1];x=-y*h;var z={},B,C=m===t;if(B=C&&w===0&&h===b-1||m===j&&w===b-1&&h===0)x=r.call(l,l.panels,h,C,A,y);z[A]=x+e;l.anim&&l.anim.stop();l.anim=(new d.Anim(l.content,z,a.duration,a.easing,function(){B&&q.call(l,l.panels,h,C,A,y);l.anim=s;g()})).run()}function r(a,b,g,h,m){var l=this.config.steps;b=this.length;var w=g?b-1:0,x=(w+1)*l;for(l=
w*l;l<x;l++){k.css(a[l],i,f);k.css(a[l],h,(g?-1:1)*m*b)}return g?m:-m*b}function q(a,b,g,h,m){var l=this.config.steps;b=this.length;var w=g?b-1:0,x=(w+1)*l;for(l=w*l;l<x;l++){k.css(a[l],i,c);k.css(a[l],h,c)}k.css(this.content,h,g?-m*(b-1):c)}var k=d.DOM,i="position",f="relative",o="left",p="top",c="",e="px",j="forward",t="backward",v="scrollx",u=d.Switchable;d.mix(u.Config,{circular:false});u.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===v||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=n}}})});
KISSY.add("switchable-lazyload",function(d){var s=d.DOM,n="beforeSwitch",r="img-src",q="textarea-data",k={},i=d.Switchable;k[r]="data-lazyload-src-custom";k[q]="ks-datalazyload-custom";d.mix(i.Config,{lazyDataType:"",lazyDataFlag:""});i.Plugins.push({name:"lazyload",init:function(f){function o(v){var u=e.steps;v=v.toIndex*u;c.loadCustomLazyData(f.panels.slice(v,v+u),j,t);p()&&f.detach(n,o)}function p(){var v,u,a,b=j===r;if(v=b?"img":j===q?"textarea":""){v=d.query(v,f.container);u=0;for(a=v.length;u<
a;u++)if(b?s.attr(v[u],t):s.hasClass(v[u],t))return false}return true}var c=d.DataLazyload,e=f.config,j=e.lazyDataType,t=e.lazyDataFlag||k[j];!c||!j||!t||f.on(n,o)}})});KISSY.add("tabs",function(d){function s(n,r){if(!(this instanceof s))return new s(n,r);s.superclass.constructor.call(this,n,r)}d.extend(s,d.Switchable);d.Tabs=s});
KISSY.add("slide",function(d){function s(r,q){if(!(this instanceof s))return new s(r,q);s.superclass.constructor.call(this,r,d.merge(n,q))}var n={autoplay:true,circular:true};d.extend(s,d.Switchable);d.Slide=s});
KISSY.add("carousel",function(d,s){function n(c,e){var j=this;if(!(j instanceof n))return new n(c,e);j.on("init",function(){r(j)});n.superclass.constructor.call(j,c,d.merge(p,e))}function r(c){var e=c.config,j=e.disableBtnCls;d.each(["prev","next"],function(t){var v=c[t+"Btn"]=d.get(i+e[t+"BtnCls"],c.container);k.on(v,"click",function(u){u.preventDefault();q.hasClass(v,j)||c[t]()})});e.circular||c.on("switch",function(t){t=t.currentIndex;t=t===0?c[f]:t===c.length-1?c[o]:s;q.removeClass([c[f],c[o]],
j);t&&q.addClass(t,j)});k.on(c.panels,"click focus",function(){c.fire("itemSelected",{item:this})})}var q=d.DOM,k=d.Event,i=".",f="prevBtn",o="nextBtn",p={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};d.extend(n,d.Switchable);d.Carousel=n});
KISSY.add("accordion",function(d){function s(q,k){if(!(this instanceof s))return new s(q,k);s.superclass.constructor.call(this,q,d.merge(r,k))}var n=d.DOM,r={triggerType:"click",multiple:false};d.extend(s,d.Switchable);d.Accordion=s;d.augment(s,{_triggerIsValid:function(q){return this.activeIndex!==q||this.config.multiple},_switchView:function(q,k,i){var f=this.config,o=k[0];if(f.multiple){n.toggleClass(this.triggers[i],f.activeTriggerCls);n.css(o,"display",o.style.display=="none"?"block":"none");
this._fireOnSwitch(i)}else s.superclass._switchView.call(this,q,k,i)}})});
KISSY.add("suggest",function(d,s){function n(c,e,j){if(!(this instanceof n))return new n(c,e,j);this.textInput=d.get(c);this.dataSource=e;this.JSONDataSource=d.isPlainObject(e)?e:null;this.returnedData=null;this.config=d.merge(p,j||{});this.container=null;this.queryParams=this.query="";this._timer=null;this._isRunning=false;this.dataScript=null;this._dataCache={};this._latestScriptTime="";this._onKeyboardSelecting=this._scriptDataIsOut=false;this.selectedItem=null;this._init()}var r=d.DOM,q=d.Event,
k=window,i=document,f=i.getElementsByTagName("head")[0],o=d.UA.ie,p={containerCls:"",containerWidth:"",resultFormat:"\u7ea6%result%\u6761\u7ed3\u679c",showCloseBtn:false,closeBtnText:"\u5173\u95ed",useShim:o===6,timerDelay:200,autoFocus:false,submitFormOnClickSelect:true};d.augment(n,d.EventTarget,{_init:function(){this._initTextInput();this._initContainer();this.config.useShim&&this._initShim();this._initStyle();this._initResizeEvent()},_initTextInput:function(){var c=this;c.textInput.setAttribute("autocomplete",
"off");q.on(c.textInput,"blur",function(){c.stop();c.hide()});c.config.autoFocus&&c.textInput.focus();var e=0;q.on(c.textInput,"keydown",function(j){j=j.keyCode;switch(j){case 27:c.hide();c.textInput.value=c.query;c.query.length===0&&c.textInput.blur();break;case 13:c.textInput.blur();c._onKeyboardSelecting&&c.textInput.value==c._getSelectedItemKey()&&c.fire("itemSelect");c._submitForm();break;case 40:case 38:if(e++==0){c._isRunning&&c.stop();c._onKeyboardSelecting=true;c.selectItem(j===40)}else if(e==
3)e=0;break}if(j!=40&&j!=38){c._isRunning||c.start();c._onKeyboardSelecting=false}});q.on(c.textInput,"keyup",function(){e=0})},_initContainer:function(){var c=i.createElement("div"),e=this.config.containerCls;c.className="ks-suggest-container";if(e)c.className+=" "+e;c.style.position="absolute";c.style.visibility="hidden";this.container=c;this._setContainerRegion();this._initContainerEvent();i.body.insertBefore(c,i.body.firstChild)},_setContainerRegion:function(){var c=this.textInput,e=r.offset(c),
j=this.container;r.offset(j,{left:e.left,top:e.top+c.offsetHeight-1});r.width(j,this.config.containerWidth||c.offsetWidth-2)},_initContainerEvent:function(){var c=this;q.on(c.container,"mousemove",function(j){j=j.target;if(j.nodeName!=="LI")j=r.parent(j,".li");if(r.contains(c.container,j))if(j!==c.selectedItem){c._removeSelectedItem();c._setSelectedItem(j)}});var e=null;q.on(c.container,"mousedown",function(j){e=j.target;c.textInput.onbeforedeactivate=function(){k.event.returnValue=false;c.textInput.onbeforedeactivate=
null};return false});q.on(c.container,"mouseup",function(j){if(c._isInContainer([j.pageX,j.pageY])){j=j.target;if(j==e)if(j.className=="ks-suggest-close-btn")c.hide();else{if(j.nodeName!="LI")j=r.parent(j,".li");if(r.contains(c.container,j)){c._updateInputFromSelectItem(j);c.fire("itemSelect");c.textInput.blur();c._submitForm()}}}})},_submitForm:function(){if(this.config.submitFormOnClickSelect){var c=this.textInput.form;if(c){if(i.createEvent){var e=i.createEvent("MouseEvents");e.initEvent("submit",
true,false);c.dispatchEvent(e)}else i.createEventObject&&c.fireEvent("onsubmit");c.submit()}}},_isInContainer:function(c){var e=this._getContainerRegion();return c[0]>=e.left&&c[0]<=e.right&&c[1]>=e.top&&c[1]<=e.bottom},_initShim:function(){var c=i.createElement("iframe");c.src="about:blank";c.className="ks-suggest-shim";c.style.position="absolute";c.style.visibility="hidden";c.style.border="none";this.container.shim=c;this._setShimRegion();i.body.insertBefore(c,i.body.firstChild)},_setShimRegion:function(){var c=
this.container,e=c.shim;if(e){e.style.left=parseInt(c.style.left)-2+"px";e.style.top=c.style.top;e.style.width=parseInt(c.style.width)+2+"px"}},_initStyle:function(){d.get("#ks-suggest-style")||r.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container li.selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container li.selected span{color:#FFF;cursor:default}.ks-suggest-bottom{padding:0 5px 5px}.ks-suggest-close-btn{float:right}.ks-suggest-container li,.suggest-bottom{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initResizeEvent:function(){var c=this,e;q.on(k,"resize",function(){e&&clearTimeout(e);e=setTimeout(function(){c._setContainerRegion();c._setShimRegion()},50)})},start:function(){var c=this;n.focusInstance=c;c._timer=setTimeout(function(){c.updateContent();c._timer=setTimeout(arguments.callee,c.config.timerDelay)},c.config.timerDelay);c._isRunning=true},stop:function(){n.focusInstance=null;clearTimeout(this._timer);this._isRunning=false},show:function(){if(!this.isVisible()){var c=
this.container,e=c.shim;c.style.visibility="";if(e){if(!e.style.height)e.style.height=c.offsetHeight-2+"px";e.style.visibility=""}}},hide:function(){if(this.isVisible()){var c=this.container,e=c.shim;if(e)e.style.visibility="hidden";c.style.visibility="hidden"}},isVisible:function(){return this.container.style.visibility!="hidden"},updateContent:function(){if(this._needUpdate()){this._updateQueryValueFromInput();var c=this.query;if(d.trim(c).length)if(this._dataCache[c]!==s){this.returnedData="using cache";
this._fillContainer(this._dataCache[c]);this._displayContainer()}else this.JSONDataSource?this.handleResponse(this.JSONDataSource[c]):this.requestData();else{this._fillContainer("");this.hide()}}},_needUpdate:function(){return this.textInput.value!=this.query},requestData:function(){var c=this;if(!o)c.dataScript=null;if(!c.dataScript){var e=i.createElement("script");e.charset="utf-8";f.insertBefore(e,f.firstChild);c.dataScript=e;if(!o){var j=(new Date).getTime();c._latestScriptTime=j;e.setAttribute("time",
j);q.on(e,"load",function(){c._scriptDataIsOut=e.getAttribute("time")!=c._latestScriptTime})}}c.queryParams="q="+encodeURIComponent(c.query)+"&code=utf-8&callback=g_ks_suggest_callback";c.fire("dataRequest");c.dataScript.src=c.dataSource+"?"+c.queryParams},handleResponse:function(c){if(!this._scriptDataIsOut){this.returnedData=c;this.fire("dataReturn");this.returnedData=this.formatData(this.returnedData);var e="";c=this.returnedData.length;if(c>0){e=i.createElement("ol");for(var j=0;j<c;++j){var t=
this.returnedData[j],v=this.formatItem(t.key,t.result);v.setAttribute("key",t.key);r.addClass(v,j%2?"even":"odd");e.appendChild(v)}e=e}this._fillContainer(e);c>0&&this.appendBottom();d.trim(this.container.innerHTML)&&this.fire("show");this._dataCache[this.query]=this.container.innerHTML;this._displayContainer()}},formatData:function(c){var e=[];if(!c)return e;if(d.isArray(c.result))c=c.result;var j=c.length;if(!j)return e;for(var t,v=0;v<j;++v){t=c[v];e[v]=typeof t==="string"?{key:t}:d.isArray(t)&&
t.length>=2?{key:t[0],result:t[1]}:t}return e},formatItem:function(c,e){var j=i.createElement("li"),t=i.createElement("span");t.className="ks-suggest-key";t.appendChild(i.createTextNode(c));j.appendChild(t);if(e!==s){c=this.config.resultFormat.replace("%result%",e);if(d.trim(c)){e=i.createElement("span");e.className="ks-suggest-result";e.appendChild(i.createTextNode(c));j.appendChild(e)}}return j},appendBottom:function(){var c=i.createElement("div");c.className="ks-suggest-bottom";if(this.config.showCloseBtn){var e=
i.createElement("a");e.href="javascript: void(0)";e.setAttribute("target","_self");e.className="ks-suggest-close-btn";e.appendChild(i.createTextNode(this.config.closeBtnText));c.appendChild(e)}d.trim(c.innerHTML)&&this.container.appendChild(c)},_fillContainer:function(c){if(c.nodeType==1){this.container.innerHTML="";this.container.appendChild(c)}else this.container.innerHTML=c;this.selectedItem=null},_displayContainer:function(){d.trim(this.container.innerHTML)?this.show():this.hide()},selectItem:function(c){var e=
this.container.getElementsByTagName("li");if(e.length!=0)if(this.isVisible()){if(this.selectedItem){c=r[c?"next":"prev"](this.selectedItem);if(!c)this.textInput.value=this.query}else c=e[c?0:e.length-1];this._removeSelectedItem();if(c){this._setSelectedItem(c);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){r.removeClass(this.selectedItem,"selected");this.selectedItem=null},_setSelectedItem:function(c){r.addClass(c,"selected");this.selectedItem=c},_getSelectedItemKey:function(){if(!this.selectedItem)return"";
return this.selectedItem.getAttribute("key")},_updateQueryValueFromInput:function(){this.query=this.textInput.value},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)},_getContainerRegion:function(){var c=this.container,e=r.offset(c),j=e.left;e=e.top;return{left:j,top:e,right:j+c.offsetWidth-1,bottom:e+c.offsetHeight-1}}});k.g_ks_suggest_callback=function(c){n.focusInstance&&setTimeout(function(){n.focusInstance.handleResponse(c)},0)};d.Suggest=
n});
KISSY.add("flash-ua",function(d){function s(){var p;if(navigator.plugins&&navigator.mimeTypes.length)p=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{p=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(c){}if(p)return n(p)}function n(p){return p.match(/(\d)+/g)}function r(p){var c=d.isString(p)?n(p):p;p=p;if(d.isArray(c))p=parseFloat(c[0]+"."+q(c[1],3)+q(c[2],5));return p||0}function q(p,c){for(var e=(p+"").length;e++<c;)p="0"+
p;return p}var k=d.UA,i,f,o=true;k.fpv=function(p){if(p||o){o=false;i=s();f=r(i)}return i};k.fpvGEQ=function(p,c){o&&k.fpv(c);return!!f&&f>=r(p)}});KISSY.add("flash",function(d){d.Flash={swfs:{length:0}}});
KISSY.add("flash-embed",function(d){function s(c,e,j){var t=q.create("<param>");q.attr(t,{name:e,value:j});c.appendChild(t)}function n(c){if(d.isString(c))return f(c);return d.JSON.stringify(c).replace(/:"([^"]+)/g,function(e,j){return':"'+f(j)})}var r=d.UA,q=d.DOM,k=d.Flash,i=/object|embed/i,f=encodeURIComponent,o={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},
p={params:{},attrs:{width:215,height:138},version:9};d.mix(k,{fpv:r.fpv,fpvGEQ:r.fpvGEQ,len:function(){return k.swfs.length},add:function(c,e,j){var t,v;e=d.merge(p,e);e.attrs=d.merge(p.attrs,e.attrs);if(c=d.get(c)){if(!c.id)c.id=d.guid("ks-flash-");v=e.attrs.id="#"+c.id;if(r.fpv()){if(!r.fpvGEQ(e.version)){this._callback(j,0,v,c);if(!((t=e.xi)&&d.isString(t)))return;e.src=t}if(i.test(c.nodeName))this._register(c,e,j);else e.src?this._embed(c,e,j):this._callback(j,-3,v,c)}else this._callback(j,-1,
v,c)}else this._callback(j,-2)},get:function(c){return k.swfs[c]},remove:function(c){if(c=k.get(c)){q.remove(c);delete k.swfs["#"+c.id];k.swfs.length-=1}},contains:function(c){var e=k.swfs,j,t=false;if(d.isString(c))t=c in e;else for(j in e)if(e[j]===c){t=true;break}return t},_register:function(c,e,j){e=e.attrs.id;k._addSWF(e,c);k._callback(j,1,e,c)},_embed:function(c,e,j){var t=k._createSWF(e.src,e.attrs,e.params);if(r.ie)c.outerHTML=t.outerHTML;else c.parentNode.replaceChild(t,c);k._register(c,
e,j)},_callback:function(c,e,j,t){e&&d.isFunction(c)&&c({status:e,id:j,swf:t})},_addSWF:function(c,e){if(c&&e){k.swfs[c]=e;k.swfs.length+=1}},_createSWF:function(c,e,j){var t=q.create("<object>"),v;q.attr(t,e);if(r.ie){q.attr(t,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");s(t,"movie",c)}else q.attr(t,{type:"application/x-shockwave-flash",data:c,name:e.id});for(v in j)v in o&&s(t,v,j[v]);j.flashvars&&s(t,"flashvars",n(j.flashvars));return t}})});
