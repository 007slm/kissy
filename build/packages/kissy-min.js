/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Sep 28 13:25
*/
(function(b,k,t){if(b[k]===t)b[k]={};k=b[k];var l=b.document,n=location,p=function(e,m,q,h){if(!m||!e)return e;if(q===t)q=true;var f,a,c;if(h&&(c=h.length))for(f=0;f<c;f++){a=h[f];if(a in m)if(q||!(a in e))e[a]=m[a]}else for(a in m)if(q||!(a in e))e[a]=m[a];return e},o=false,g=[],w=false,z=/^#?([\w-]+)$/,v=0;p(k,{version:"1.1.5",__init:function(){this.Env={mods:{},_loadQueue:{}};var e=l.getElementsByTagName("script");this.Config={debug:"",base:e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(e){w||this._bindReady();o?e.call(b,this):g.push(e);return this},_bindReady:function(){var e=this,m=l.documentElement.doScroll,q=m?"onreadystatechange":"DOMContentLoaded",h=function(){e._fireReady()};w=true;if(l.readyState==="complete")return h();if(l.addEventListener){var f=function(){l.removeEventListener(q,f,false);h()};l.addEventListener(q,f,false);b.addEventListener("load",h,false)}else{var a=function(){if(l.readyState==="complete"){l.detachEvent(q,a);h()}};l.attachEvent(q,
a);b.attachEvent("onload",h);if(b==b.top){var c=function(){try{m("left");h()}catch(i){setTimeout(c,1)}};c()}}},_fireReady:function(){if(!o){o=true;if(g){for(var e,m=0;e=g[m++];)e.call(b,this);g=null}}},available:function(e,m){if((e=(e+"").match(z)[1])&&k.isFunction(m))var q=1,h=k.later(function(){if(l.getElementById(e)&&(m()||1)||++q>500)h.cancel()},40,true)},mix:p,merge:function(){var e={},m,q=arguments.length;for(m=0;m<q;++m)p(e,arguments[m]);return e},augment:function(){var e=arguments,m=e.length-
2,q=e[0],h=e[m],f=e[m+1],a=1;if(!k.isArray(f)){h=f;f=t;m++}if(!k.isBoolean(h)){h=t;m++}for(;a<m;a++)p(q.prototype,e[a].prototype||e[a],h,f);return q},extend:function(e,m,q,h){if(!m||!e)return e;var f=Object.prototype,a=m.prototype,c=function(i){function j(){}j.prototype=i;return new j}(a);e.prototype=c;c.constructor=e;e.superclass=a;if(m!==Object&&a.constructor===f.constructor)a.constructor=m;q&&p(c,q);h&&p(e,h);return e},namespace:function(){var e=arguments,m=e.length,q=null,h,f,a,c=e[m-1]===true&&
m--;for(h=0;h<m;++h){a=(""+e[h]).split(".");q=c?b:this;for(f=b[a[0]]===q?1:0;f<a.length;++f)q=q[a[f]]=q[a[f]]||{}}return q},app:function(e,m){var q=k.isString(e),h=q?b[e]||{}:e;p(h,this,true,k.__APP_MEMBERS);h.__init();p(h,k.isFunction(m)?m():m);q&&(b[e]=h);return h},log:function(e,m,q){if(k.Config.debug){if(q)e=q+": "+e;if(b.console!==t&&console.log)console[m&&console[m]?m:"log"](e)}},error:function(e){if(k.Config.debug)throw e;},guid:function(e){var m=v++ +"";return e?e+m:m}});k.__init();k.__APP_MEMBERS=
["__init","namespace"];if(n&&(n.search||"").indexOf("ks-debug")!==-1)k.Config.debug=true})(window,"KISSY");
(function(b,k,t){function l(d){var r=typeof d;return d===null||r!=="object"&&r!=="function"}function n(d){return g.slice.call(d)}var p=document,o=p.documentElement,g=Array.prototype,w=g.indexOf,z=g.lastIndexOf,v=g.filter,e=String.prototype.trim,m=Object.prototype.toString,q=encodeURIComponent,h=decodeURIComponent,f=q("[]"),a=/^\s+|\s+$/g,c=/^(\w+)\[\]$/,i=/\S/;k.mix(k,{isUndefined:function(d){return d===t},isBoolean:function(d){return m.call(d)==="[object Boolean]"},isString:function(d){return m.call(d)===
"[object String]"},isNumber:function(d){return m.call(d)==="[object Number]"&&isFinite(d)},isPlainObject:function(d){return d&&m.call(d)==="[object Object]"&&!d.nodeType&&!d.setInterval},isEmptyObject:function(d){for(var r in d)return false;return true},isFunction:function(d){return m.call(d)==="[object Function]"},isArray:function(d){return m.call(d)==="[object Array]"},trim:e?function(d){return d==t?"":e.call(d)}:function(d){return d==t?"":d.toString().replace(a,"")},substitute:function(d,r,u){if(!k.isString(d)||
!k.isPlainObject(r))return d;return d.replace(u||/\\?\{([^{}]+)\}/g,function(s,x){if(s.charAt(0)==="\\")return s.slice(1);return r[x]!==t?r[x]:""})},each:function(d,r,u){var s,x=0,y=d.length,A=y===t||k.isFunction(d);u=u||b;if(A)for(s in d){if(r.call(u,d[s],s,d)===false)break}else for(s=d[0];x<y&&r.call(u,s,x,d)!==false;s=d[++x]);return d},indexOf:w?function(d,r){return w.call(r,d)}:function(d,r){for(var u=0,s=r.length;u<s;++u)if(r[u]===d)return u;return-1},lastIndexOf:z?function(d,r){return z.call(r,
d)}:function(d,r){for(var u=r.length-1;u>=0;u--)if(r[u]===d)break;return u},unique:function(d,r){r&&d.reverse();for(var u=d.slice(),s=0,x,y;s<u.length;){for(y=u[s];(x=k.lastIndexOf(y,u))!==s;)u.splice(x,1);s+=1}r&&u.reverse();return u},inArray:function(d,r){return k.indexOf(d,r)>-1},makeArray:function(d){if(d===null||d===t)return[];if(k.isArray(d))return d;if(typeof d.length!=="number"||k.isString(d)||k.isFunction(d))return[d];return n(d)},filter:v?function(d,r,u){return v.call(d,r,u)}:function(d,
r,u){var s=[];k.each(d,function(x,y,A){r.call(u,x,y,A)&&s.push(x)});return s},param:function(d,r){if(!k.isPlainObject(d))return"";r=r||"&";var u=[],s,x;for(s in d){x=d[s];s=q(s);if(l(x))u.push(s,"=",q(x+""),r);else if(k.isArray(x)&&x.length)for(var y=0,A=x.length;y<A;++y)l(x[y])&&u.push(s,f+"=",q(x[y]+""),r)}u.pop();return u.join("")},unparam:function(d,r){if(typeof d!=="string"||(d=k.trim(d)).length===0)return{};for(var u={},s=d.split(r||"&"),x,y,A,B,D=0,C=s.length;D<C;++D){x=s[D].split("=");y=h(x[0]);
try{A=h(x[1]||"")}catch(E){A=x[1]||""}if((B=y.match(c))&&B[1]){u[B[1]]=u[B[1]]||[];u[B[1]].push(A)}else u[y]=A}return u},later:function(d,r,u,s,x){r=r||0;s=s||{};var y=d,A=k.makeArray(x),B;if(k.isString(d))y=s[d];y||k.error("method undefined");d=function(){y.apply(s,A)};B=u?setInterval(d,r):setTimeout(d,r);return{id:B,interval:u,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(d){var r=d,u,s;if(d&&((u=k.isArray(d))||k.isPlainObject(d))){r=u?[]:{};for(s in d)if(d.hasOwnProperty(s))r[s]=
k.clone(d[s])}return r},now:function(){return(new Date).getTime()},globalEval:function(d){if(d&&i.test(d)){var r=p.getElementsByTagName("head")[0]||o,u=p.createElement("script");u.text=d;r.insertBefore(u,r.firstChild);r.removeChild(u)}}});try{n(o.childNodes)}catch(j){n=function(d){for(var r=[],u=d.length-1;u>=0;u--)r[u]=d[u];return r}}})(window,KISSY);
(function(b,k,t){var l=b.document,n=l.getElementsByTagName("head")[0]||l.documentElement,p=2,o=3,g=4,w=k.mix,z=l.createElement("script").readyState?function(e,m){var q=e.onreadystatechange;e.onreadystatechange=function(){var h=e.readyState;if(h==="loaded"||h==="complete"){e.onreadystatechange=null;q&&q();m.call(this)}}}:function(e,m){e.addEventListener("load",m,false)},v=/\.css(?:\?|$)/i;b={add:function(e,m,q){var h=this.Env.mods,f;if(k.isString(e)&&!q&&k.isPlainObject(m)){f={};f[e]=m;e=f}if(k.isPlainObject(e)){k.each(e,
function(a,c){a.name=c;h[c]&&w(a,h[c],false)});w(h,e)}else{q=q||{};f=h[e]||{};e=q.host||f.host||e;f=h[e]||{};w(f,{name:e,status:p});if(!f.fns)f.fns=[];m&&f.fns.push(m);w(h[e]=f,q);f.attach!==false&&this.__isAttached(f.requires)&&this.__attachMod(f)}return this},use:function(e,m,q){e=e.replace(/\s+/g,"").split(",");q=q||{};var h=this,f=h.Env.mods,a=(q||0).global,c,i=e.length,j,d,r;a&&h.__mixMods(a);if(h.__isAttached(e))m&&m(h);else{for(c=0;c<i&&(j=f[e[c]]);c++)if(j.status!==g){if(q.order&&c>0){if(!j.requires)j.requires=
[];j._requires=j.requires.concat();d=e[c-1];if(!k.inArray(d,j.requires)&&!k.inArray(j.name,f[d].requires||[]))j.requires.push(d)}h.__attach(j,function(){if(!r&&h.__isAttached(e)){r=true;if(j._requires)j.requires=j._requires;m&&m(h)}},a)}return h}},__attach:function(e,m,q){function h(){if(f.__isAttached(a)){e.status===p&&f.__attachMod(e);e.status===g&&m()}}for(var f=this,a=e.requires||[],c=0,i=a.length;c<i;c++)f.__attach(f.Env.mods[a[c]],h,q);f.__buildPath(e);f.__load(e,h,q)},__mixMods:function(e){var m=
this.Env.mods,q=e.Env.mods,h;for(h in q)this.__mixMod(m,q,h,e)},__mixMod:function(e,m,q,h){var f=e[q]||{},a=f.status;k.mix(f,k.clone(m[q]));if(a)f.status=a;h&&this.__buildPath(f,h.Config.base);e[q]=f},__attachMod:function(e){var m=this;if(e.fns){k.each(e.fns,function(q){q&&q(m)});e.fns=t}e.status=g},__isAttached:function(e){for(var m=this.Env.mods,q,h=(e=k.makeArray(e)).length-1;h>=0&&(q=m[e[h]]);h--)if(q.status!==g)return false;return true},__load:function(e,m,q){function h(){c[a]=p;if(e.status!==
o){q&&f.__mixMod(f.Env.mods,q.Env.mods,e.name,q);if(e.status!==g)e.status=p;m()}}var f=this,a=e.fullpath,c=k.Env._loadQueue,i=c[a];e.status=e.status||0;if(e.status<1&&i)e.status=i.nodeName?1:p;if(k.isString(e.cssfullpath)){f.getScript(e.cssfullpath);e.cssfullpath=p}if(e.status<1&&a){e.status=1;i=f.getScript(a,{success:function(){KISSY.log(e.name+" is loaded.","info");h()},error:function(){e.status=o;c[a]=p},charset:e.charset});v.test(a)||(c[a]=i)}else e.status===1?z(i,h):m()},__buildPath:function(e,
m){function q(f,a){if(!e[a]&&e[f])e[a]=(m||h.base)+e[f];if(e[a]&&h.debug)e[a]=e[a].replace(/-min/g,"")}var h=this.Config;q("path","fullpath");e.cssfullpath!==p&&q("csspath","cssfullpath")},getScript:function(e,m,q){var h=v.test(e),f=l.createElement(h?"link":"script"),a=m,c,i,j;if(k.isPlainObject(a)){m=a.success;c=a.error;i=a.timeout;q=a.charset}if(h){f.href=e;f.rel="stylesheet"}else{f.src=e;f.async=true}if(q)f.charset=q;if(k.isFunction(m))h?m.call(f):z(f,function(){if(j){j.cancel();j=t}m.call(f)});
if(k.isFunction(c))j=k.later(function(){j=t;c()},(i||this.Config.timeout)*1E3);n.insertBefore(f,n.firstChild);return f}};w(k,b);k.each(b,function(e,m){k.__APP_MEMBERS.push(m)})})(window,KISSY);(function(b){var k={core:{path:"packages/core-min.js",charset:"utf-8"}};b.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(t){k[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});k.calendar.csspath="calendar/default-min.css";b.add(k)})(KISSY);
KISSY.add("ua",function(b){var k=navigator.userAgent,t="",l="",n,p={},o=function(g){var w=0;return parseFloat(g.replace(/\./g,function(){return w++===0?".":""}))};if((n=k.match(/AppleWebKit\/([\d.]*)/))&&n[1]){p[t="webkit"]=o(n[1]);if((n=k.match(/Chrome\/([\d.]*)/))&&n[1])p[l="chrome"]=o(n[1]);else if((n=k.match(/\/([\d.]*) Safari/))&&n[1])p[l="safari"]=o(n[1]);if(/ Mobile\//.test(k))p.mobile="apple";else if(n=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))p.mobile=n[0].toLowerCase()}else if((n=
k.match(/Presto\/([\d.]*)/))&&n[1]){p[t="presto"]=o(n[1]);if((n=k.match(/Opera\/([\d.]*)/))&&n[1]){p[l="opera"]=o(n[1]);if((n=k.match(/Opera\/.* Version\/([\d.]*)/))&&n[1])p[l]=o(n[1]);if((n=k.match(/Opera Mini[^;]*/))&&n)p.mobile=n[0].toLowerCase();else if((n=k.match(/Opera Mobi[^;]*/))&&n)p.mobile=n[0]}}else if((n=k.match(/MSIE\s([^;]*)/))&&n[1]){p[t="trident"]=0.1;p[l="ie"]=o(n[1]);if((n=k.match(/Trident\/([\d.]*)/))&&n[1])p[t]=o(n[1])}else if(n=k.match(/Gecko/)){p[t="gecko"]=0.1;if((n=k.match(/rv:([\d.]*)/))&&
n[1])p[t]=o(n[1]);if((n=k.match(/Firefox\/([\d.]*)/))&&n[1])p[l="firefox"]=o(n[1])}p.core=t;p.shell=l;p._numberify=o;b.UA=p});
KISSY.add("ua-extra",function(b){var k=b.UA,t=navigator.userAgent,l,n,p={},o=k._numberify;if(t.match(/360SE/))p[n="se360"]=3;else if(t.match(/Maxthon/)&&(l=window.external)){n="maxthon";try{p[n]=o(l.max_version)}catch(g){p[n]=0.1}}else if(l=t.match(/TencentTraveler\s([\d.]*)/))p[n="tt"]=l[1]?o(l[1]):0.1;else if(t.match(/TheWorld/))p[n="theworld"]=3;else if(l=t.match(/SE\s([\d.]*)/))p[n="sougou"]=l[1]?o(l[1]):0.1;n&&(p.shell=n);b.mix(k,p)});
KISSY.add("dom",function(b,k){function t(l,n){return l&&l.nodeType===n}b.DOM={_isElementNode:function(l){return t(l,1)},_isKSNode:function(l){return b.Node&&t(l,b.Node.TYPE)},_getWin:function(l){return l&&"scrollTo"in l&&l.document?l:t(l,9)?l.defaultView||l.parentWindow:l===k?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(b,k){function t(a,c){var i,j,d=[],r;c=l(c);if(b.isString(a)){a=b.trim(a);if(h.test(a)){if(j=n(a.slice(1),c))d=[j]}else if(i=f.exec(a)){j=i[1];r=i[2];i=i[3];if(c=j?n(j,c):c)if(i)if(!j||a.indexOf(v)!==-1)d=o(i,r,c);else{if((j=n(j,c))&&z.hasClass(j,i))d=[j]}else if(r)d=p(r,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else g(a)}else if(a&&(a[m]||a[q]))d=a[m]?[a[m]()]:a[q]();else if(a&&(b.isArray(a)||a&&!a.nodeType&&a.item&&a!=window))d=a;else if(a)d=[a];if(d&&
!d.nodeType&&d.item&&d!=window)d=b.makeArray(d);d.each=function(u,s){return b.each(d,u,s)};return d}function l(a){if(a===k)a=w;else if(b.isString(a)&&h.test(a))a=n(a.slice(1),w);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function n(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function p(a,c){return c.getElementsByTagName(a)}function o(a,c,i){i=a=i.getElementsByClassName(a);var j=0,d=0,r=a.length,u;if(c&&c!==e){i=[];for(c=c.toUpperCase();j<r;++j){u=a[j];if(u.tagName===
c)i[d++]=u}}return i}function g(a){b.error("Unsupported selector: "+a)}var w=document,z=b.DOM,v=" ",e="*",m="getDOMNode",q=m+"s",h=/^#[\w-]+$/,f=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=w.createElement("div");a.appendChild(w.createComment(""));if(a.getElementsByTagName(e).length>0)p=function(c,i){var j=i.getElementsByTagName(c);if(c===e){for(var d=[],r=0,u=0,s;s=j[r++];)if(s.nodeType===1)d[u++]=s;j=d}return j}})();w.getElementsByClassName||(o=w.querySelectorAll?function(a,c,
i){return i.querySelectorAll((c?c:"")+"."+a)}:function(a,c,i){c=i.getElementsByTagName(c||e);i=[];var j=0,d=0,r=c.length,u,s;for(a=v+a+v;j<r;++j){u=c[j];if((s=u.className)&&(v+s+v).indexOf(a)>-1)i[d++]=u}return i});b.query=t;b.get=function(a,c){return t(a,c)[0]||null};b.mix(z,{query:t,get:b.get,filter:function(a,c){var i=t(a),j,d,r,u=[];if(b.isString(c)&&(j=f.exec(c))&&!j[1]){d=j[2];r=j[3];c=function(s){return!(d&&s.tagName!==d.toUpperCase()||r&&!z.hasClass(s,r))}}if(b.isFunction(c))u=b.filter(i,
c);else if(c&&b.ExternalSelector)u=b.ExternalSelector._filter(a,c);else g(c);return u},test:function(a,c){var i=t(a);return z.filter(i,c).length===i.length}})});
KISSY.add("dom-data",function(b,k){var t=window,l=b.DOM,n="_ks_data_"+b.now(),p={},o={},g={EMBED:1,OBJECT:1,APPLET:1};b.mix(l,{data:function(w,z,v){if(b.isPlainObject(z))for(var e in z)l.data(w,e,z[e]);else if(v===k){w=b.get(w);var m;if(!(!w||g[w.nodeName])){if(w==t)w=o;m=(e=w&&w.nodeType)?p:w;w=m[e?w[n]:n];if(b.isString(z)&&w)return w[z];return w}}else b.query(w).each(function(q){if(!(!q||g[q.nodeName])){if(q==t)q=o;var h=p,f;if(q&&q.nodeType){if(!(f=q[n]))f=q[n]=b.guid()}else{f=n;h=q}if(z&&v!==
k){h[f]||(h[f]={});h[f][z]=v}}})},removeData:function(w,z){b.query(w).each(function(v){if(v){if(v==t)v=o;var e,m=p,q,h=v&&v.nodeType;if(h)e=v[n];else{m=v;e=n}if(e){q=m[e];if(z){if(q){delete q[z];b.isEmptyObject(q)&&l.removeData(v)}}else{if(h)v.removeAttribute&&v.removeAttribute(n);else try{delete v[n]}catch(f){}h&&delete m[e]}}}})}})});
KISSY.add("dom-class",function(b,k){function t(o,g,w,z){if(!(g=b.trim(g)))return z?false:k;o=b.query(o);var v=0,e=o.length;g=g.split(n);for(var m;v<e;v++){m=o[v];if(l._isElementNode(m)){m=w(m,g,g.length);if(m!==k)return m}}if(z)return false}var l=b.DOM,n=/[\.\s]\s*\.?/,p=/[\n\t]/g;b.mix(l,{hasClass:function(o,g){return t(o,g,function(w,z,v){if(w=w.className){w=" "+w+" ";for(var e=0,m=true;e<v;e++)if(w.indexOf(" "+z[e]+" ")<0){m=false;break}if(m)return true}},true)},addClass:function(o,g){t(o,g,function(w,
z,v){var e=w.className;if(e){var m=" "+e+" ";e=e;for(var q=0;q<v;q++)if(m.indexOf(" "+z[q]+" ")<0)e+=" "+z[q];w.className=b.trim(e)}else w.className=g})},removeClass:function(o,g){t(o,g,function(w,z,v){var e=w.className;if(e)if(v){e=(" "+e+" ").replace(p," ");for(var m=0,q;m<v;m++)for(q=" "+z[m]+" ";e.indexOf(q)>=0;)e=e.replace(q," ");w.className=b.trim(e)}else w.className=""})},replaceClass:function(o,g,w){l.removeClass(o,g);l.addClass(o,w)},toggleClass:function(o,g,w){var z=b.isBoolean(w),v;t(o,
g,function(e,m,q){for(var h=0,f;h<q;h++){f=m[h];v=z?!w:l.hasClass(e,f);l[v?"removeClass":"addClass"](e,f)}})}})});
KISSY.add("dom-attr",function(b,k){var t=b.UA,l=t.ie,n=l&&l<8,p=document.documentElement.textContent!==k?"textContent":"innerText",o=b.DOM,g=o._isElementNode,w=/^(?:href|src|style)/,z=/^(?:href|src|colspan|rowspan)/,v=/\r/g,e=/^(?:radio|checkbox)/,m={readonly:"readOnly"},q={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};n&&b.mix(m,{"for":"htmlFor","class":"className"});b.mix(o,{attr:function(h,f,a,c){if(b.isPlainObject(f)){c=a;for(var i in f)o.attr(h,i,f[i],c)}else if(f=b.trim(f)){f=
f.toLowerCase();if(c&&q[f])return o[f](h,a);f=m[f]||f;if(a===k){h=b.get(h);if(!g(h))return k;var j;w.test(f)||(j=h[f]);if(j===k)j=h.getAttribute(f);if(n)if(z.test(f))j=h.getAttribute(f,2);else if(f==="style")j=h.style.cssText;return j===null?k:j}b.each(b.query(h),function(d){if(g(d))if(f==="style")d.style.cssText=a;else{if(f==="checked")d[f]=!!a;d.setAttribute(f,""+a)}})}},removeAttr:function(h,f){b.each(b.query(h),function(a){if(g(a)){o.attr(a,f,"");a.removeAttribute(f)}})},val:function(h,f){if(f===
k){var a=b.get(h);if(!g(a))return k;if(a&&a.nodeName.toUpperCase()==="option".toUpperCase())return(a.attributes.value||{}).specified?a.value:a.text;if(a&&a.nodeName.toUpperCase()==="select".toUpperCase()){var c=a.selectedIndex,i=a.options;if(c<0)return null;else if(a.type==="select-one")return o.val(i[c]);a=[];for(var j=0,d=i.length;j<d;++j)i[j].selected&&a.push(o.val(i[j]));return a}if(t.webkit&&e.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(v,"")}b.each(b.query(h),
function(r){if(r&&r.nodeName.toUpperCase()==="select".toUpperCase()){if(b.isNumber(f))f+="";var u=b.makeArray(f),s=r.options,x;j=0;for(d=s.length;j<d;++j){x=s[j];x.selected=b.inArray(o.val(x),u)}if(!u.length)r.selectedIndex=-1}else if(g(r))r.value=f})},text:function(h,f){if(f===k){var a=b.get(h);if(g(a))return a[p]||"";else if(o._nodeTypeIs(a,3))return a.nodeValue}else b.each(b.query(h),function(c){if(g(c))c[p]=f;else if(o._nodeTypeIs(c,3))c.nodeValue=f})}})});
KISSY.add("dom-style",function(b,k){function t(a,c){var i=b.get(a),j=c===w?i.offsetWidth:i.offsetHeight;b.each(c===w?["Left","Right"]:["Top","Bottom"],function(d){j-=parseFloat(n._getComputedStyle(i,"padding"+d))||0;j-=parseFloat(n._getComputedStyle(i,"border"+d+"Width"))||0});return j}function l(a,c,i){var j=i;if(i===z&&e.test(c)){j=0;if(n.css(a,"position")==="absolute"){i=a[c==="left"?"offsetLeft":"offsetTop"];if(p.ie===8||p.opera)i-=v(n.css(a.offsetParent,"border-"+c+"-width"))||0;j=i-(v(n.css(a,
"margin-"+c))||0)}}return j}var n=b.DOM,p=b.UA,o=document,g=o.documentElement,w="width",z="auto",v=parseInt,e=/^(?:left|top)/,m=/^(?:width|height|top|left|right|bottom|margin|padding)/i,q=/-([a-z])/ig,h=function(a,c){return c.toUpperCase()},f={};b.mix(n,{_CUSTOM_STYLES:f,_getComputedStyle:function(a,c){var i="",j=a.ownerDocument;if(a.style)i=j.defaultView.getComputedStyle(a,null)[c];return i},css:function(a,c,i){if(b.isPlainObject(c))for(var j in c)n.css(a,j,c[j]);else{if(c.indexOf("-")>0)c=c.replace(q,
h);c=f[c]||c;if(i===k){a=b.get(a);j="";if(a&&a.style){j=c.get?c.get(a):a.style[c];if(j===""&&!c.get)j=l(a,c,n._getComputedStyle(a,c))}return j===k?"":j}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&m.test(c))i+="px";(c===w||c==="height")&&parseFloat(i)<0||b.each(b.query(a),function(d){if(d&&d.style){c.set?c.set(d,i):d.style[c]=i;if(i==="")d.style.cssText||d.removeAttribute("style")}})}}},width:function(a,c){if(c===k)return t(a,w);else n.css(a,w,c)},height:function(a,c){if(c===k)return t(a,
"height");else n.css(a,"height",c)},show:function(a){b.query(a).each(function(c){if(c)c.style.display=n.data(c,"display")||""})},hide:function(a){b.query(a).each(function(c){if(c){var i=c.style,j=i.display;if(j!=="none"){j&&n.data(c,"display",j);i.display="none"}}})},toggle:function(a){b.query(a).each(function(c){if(c)c.style.display==="none"?n.show(c):n.hide(c)})},addStyleSheet:function(a,c){var i;if(c)i=b.get("#"+c);if(!i){i=n.create("<style>",{id:c});b.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=
a;else i.appendChild(o.createTextNode(a))}}});if(g.style.cssFloat!==k)f["float"]="cssFloat";else if(g.style.styleFloat!==k)f["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,k){if(b.UA.ie){var t=b.DOM,l=document,n=l.documentElement,p=t._CUSTOM_STYLES,o=/^-?\d+(?:px)?$/i,g=/^-?\d/,w=/^(?:width|height)$/;try{if(n.style.opacity===k&&n.filters)p.opacity={get:function(v){var e=100;try{e=v.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(m){try{e=v.filters("alpha").opacity}catch(q){}}return e/100+""},set:function(v,e){var m=v.style,q=(v.currentStyle||0).filter||"";m.zoom=1;if(q)if(q=q.replace(/alpha\(opacity=.+\)/ig,""))q+=", ";
m.filter=q+"alpha(opacity="+e*100+")"}}}catch(z){}if(!(l.defaultView||{}).getComputedStyle&&n.currentStyle)t._getComputedStyle=function(v,e){var m=v.style,q=v.currentStyle[e];if(w.test(e))q=t[e](v)+"px";else if(!o.test(q)&&g.test(q)){var h=m.left,f=v.runtimeStyle.left;v.runtimeStyle.left=v.currentStyle.left;m.left=e==="fontSize"?"1em":q||0;q=m.pixelLeft+"px";m.left=h;v.runtimeStyle.left=f}return q}}});
KISSY.add("dom-offset",function(b,k){function t(j){var d=0,r=0,u=z(j[q]);if(j[i]){j=j[i]();d=j[h];r=j[f];if(n.mobile!=="apple"){d+=l[a](u);r+=l[c](u)}}return{left:d,top:r}}var l=b.DOM,n=b.UA,p=window,o=document,g=l._isElementNode,w=l._nodeTypeIs,z=l._getWin,v=o.compatMode==="CSS1Compat",e=Math.max,m=parseInt,q="ownerDocument",h="left",f="top",a="scrollLeft",c="scrollTop",i="getBoundingClientRect";b.mix(l,{offset:function(j,d){if(!(j=b.get(j))||!j[q])return null;if(d===k)return t(j);var r=j;if(l.css(r,
"position")==="static")r.style.position="relative";var u=t(r),s={},x,y;for(y in d){x=m(l.css(r,y),10)||0;s[y]=x+d[y]-u[y]}l.css(r,s)},scrollIntoView:function(j,d,r,u){if((j=b.get(j))&&j[q]){u=u===k?true:!!u;r=r===k?true:!!r;if(!d||d===p)return j.scrollIntoView(r);d=b.get(d);if(w(d,9))d=z(d);var s=d&&"scrollTo"in d&&d.document,x=l.offset(j),y=s?{left:l.scrollLeft(d),top:l.scrollTop(d)}:l.offset(d),A={left:x[h]-y[h],top:x[f]-y[f]};x=s?l.viewportHeight(d):d.clientHeight;y=s?l.viewportWidth(d):d.clientWidth;
var B=l[a](d),D=l[c](d),C=B+y,E=D+x,H=j.offsetHeight;j=j.offsetWidth;var G=A.left+B-(m(l.css(d,"borderLeftWidth"))||0);A=A.top+D-(m(l.css(d,"borderTopWidth"))||0);var I=G+j,K=A+H,F,J;if(H>x||A<D||r)F=A;else if(K>E)F=K-x;if(u)if(j>y||G<B||r)J=G;else if(I>C)J=I-y;if(s){if(F!==k||J!==k)d.scrollTo(J,F)}else{if(F!==k)d[c]=F;if(J!==k)d[a]=J}}}});b.each(["Left","Top"],function(j,d){var r="scroll"+j;l[r]=function(u){var s=0,x=z(u),y;if(x&&(y=x.document))s=x[d?"pageYOffset":"pageXOffset"]||y.documentElement[r]||
y.body[r];else if(g(u=b.get(u)))s=u[r];return s}});b.each(["Width","Height"],function(j){l["doc"+j]=function(d){d=d||o;return e(v?d.documentElement["scroll"+j]:d.body["scroll"+j],l["viewport"+j](d))};l["viewport"+j]=function(d){var r="inner"+j;d=z(d);var u=d.document;return r in d?d[r]:v?u.documentElement["client"+j]:u.body["client"+j]}})});
KISSY.add("dom-traversal",function(b,k){function t(o,g,w,z){if(!(o=b.get(o)))return null;if(g===k)g=1;var v=null,e,m;if(b.isNumber(g)&&g>=0){if(g===0)return o;e=0;m=g;g=function(){return++e===m}}for(;o=o[w];)if(p(o)&&(!g||n.test(o,g))&&(!z||z(o))){v=o;break}return v}function l(o,g,w){var z=[];var v=o=b.get(o);if(o&&w)v=o.parentNode;if(v){w=0;for(v=v.firstChild;v;v=v.nextSibling)if(p(v)&&v!==o&&(!g||n.test(v,g)))z[w++]=v}return z}var n=b.DOM,p=n._isElementNode;b.mix(n,{parent:function(o,g){return t(o,
g,"parentNode",function(w){return w.nodeType!=11})},next:function(o,g){return t(o,g,"nextSibling")},prev:function(o,g){return t(o,g,"previousSibling")},siblings:function(o,g){return l(o,g,true)},children:function(o,g){return l(o,g)},contains:function(o,g){var w=false;if((o=b.get(o))&&(g=b.get(g)))if(o.contains)return o.contains(g);else if(o.compareDocumentPosition)return!!(o.compareDocumentPosition(g)&16);else for(;!w&&(g=g.parentNode);)w=g==o;return w}})});
KISSY.add("dom-create",function(b,k){function t(s){var x=s.cloneNode(true);if(g.ie<8)x.innerHTML=s.innerHTML;return x}function l(s,x,y,A){if(y){var B=b.guid("ks-tmp-"),D=RegExp(h);x+='<span id="'+B+'"></span>';b.available(B,function(){var C=b.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(x);)if((G=(H=E[1])?H.match(a):false)&&G[2]){E=p.createElement("script");E.src=G[2];if((I=H.match(c))&&I[2])E.charset=I[2];E.async=true;C.appendChild(E)}else if((F=E[2])&&F.length>0)b.globalEval(F);(K=p.getElementById(B))&&
o.remove(K);b.isFunction(A)&&A()});n(s,x)}else{n(s,x);b.isFunction(A)&&A()}}function n(s,x){x=(x+"").replace(h,"");try{s.innerHTML=x}catch(y){for(;s.firstChild;)s.removeChild(s.firstChild);x&&s.appendChild(o.create(x))}}var p=document,o=b.DOM,g=b.UA,w=g.ie,z=o._nodeTypeIs,v=o._isElementNode,e=o._isKSNode,m=p.createElement("div"),q=/<(\w+)/,h=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,a=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;b.mix(o,{create:function(s,
x,y){if(z(s,1)||z(s,3))return t(s);if(e(s))return t(s[0]);if(!(s=b.trim(s)))return null;var A=null;A=o._creators;var B,D="div",C;if(B=f.exec(s))A=(y||p).createElement(B[1]);else{if((B=q.exec(s))&&(C=B[1])&&b.isFunction(A[C=C.toLowerCase()]))D=C;s=A[D](s,y).childNodes;if(s.length===1)y=s[0].parentNode.removeChild(s[0]);else{s=s;C=y||p;y=null;if(s&&(s.push||s.item)&&s[0]){C=C||s[0].ownerDocument;y=C.createDocumentFragment();if(s.item)s=b.makeArray(s);C=0;for(A=s.length;C<A;C++)y.appendChild(s[C])}y=
y}A=y}y=A;v(y)&&b.isPlainObject(x)&&o.attr(y,x,true);return y},_creators:{div:function(s,x){var y=x?x.createElement("div"):m;y.innerHTML=s;return y}},html:function(s,x,y,A){if(x===k){s=b.get(s);if(v(s))return s.innerHTML}else b.each(b.query(s),function(B){v(B)&&l(B,x,y,A)})},remove:function(s){b.each(b.query(s),function(x){v(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(g.gecko||w){var i=o._creators,j=o.create,d=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",td:"tr",
tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},u;for(u in r)(function(s){i[u]=function(x,y){return j("<"+s+">"+x+"</"+s+">",null,y)}})(r[u]);if(w){i.script=function(s,x){var y=x?x.createElement("div"):m;y.innerHTML="-"+s;y.removeChild(y.firstChild);return y};if(w<8)i.tbody=function(s,x){var y=j("<table>"+s+"</table>",null,x),A=y.children.tags("tbody")[0];y.children.length>1&&A&&!d.test(s)&&A.parentNode.removeChild(A);return y}}b.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,
caption:i.tbody,colgroup:i.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(k,t){if((k=b.get(k))&&(t=b.get(t))&&t.parentNode)t.parentNode.insertBefore(k,t);return k},insertAfter:function(k,t){if((k=b.get(k))&&(t=b.get(t))&&t.parentNode)t.nextSibling?t.parentNode.insertBefore(k,t.nextSibling):t.parentNode.appendChild(k);return k}})});
KISSY.add("event",function(b,k){function t(h,f,a,c,i){if(b.isString(f))f=b.query(f);if(b.isArray(f)){b.each(f,function(j){q[h](j,a,c,i)});return true}if((a=b.trim(a))&&a.indexOf(v)>0){b.each(a.split(v),function(j){q[h](f,j,c,i)});return true}}function l(h,f){n(h)&&o.data(h,z,f)}function n(h){return h&&h.nodeType!==3&&h.nodeType!==8}var p=document,o=b.DOM,g=p.addEventListener?function(h,f,a,c){h.addEventListener&&h.addEventListener(f,a,!!c)}:function(h,f,a){h.attachEvent&&h.attachEvent("on"+f,a)},
w=p.removeEventListener?function(h,f,a,c){h.removeEventListener&&h.removeEventListener(f,a,!!c)}:function(h,f,a){h.detachEvent&&h.detachEvent("on"+f,a)},z="ksEventTargetId",v=" ",e=b.now(),m={},q={EVENT_GUID:z,special:{},add:function(h,f,a,c){if(!t("add",h,f,a,c)){var i=n(h)?o.data(h,z):-1,j,d,r,u,s;if(!(i===-1||!f||!b.isFunction(a))){if(!i){l(h,i=e++);m[i]={target:h,events:{}}}d=m[i].events;if(!d[f]){j=((i=!h.isCustomEventTarget)||h._supportSpecialEvent)&&q.special[f]||{};r=function(x,y){if(!x||
!x.fixed){x=new b.EventObject(h,x,f);b.isPlainObject(y)&&b.mix(x,y)}j.setup&&j.setup(x);return(j.handle||q._handle)(h,x,d[f].listeners)};d[f]={handle:r,listeners:[]};u=j.fix||f;s=j.capture;if(i)g(h,u,r,s);else h._addEvent&&h._addEvent(u,r,s)}d[f].listeners.push({fn:a,scope:c||h})}}},remove:function(h,f,a,c){if(!t("remove",h,f,a,c)){var i=n(h)?o.data(h,z):-1,j,d,r,u,s,x,y;if(i!==-1)if(i&&(j=m[i]))if(j.target===h){c=c||h;j=j.events||{};if(d=j[f]){r=d.listeners;x=r.length;if(b.isFunction(a)&&x){s=u=
0;for(y=[];u<x;++u)if(a!==r[u].fn||c!==r[u].scope)y[s++]=r[u];d.listeners=y;x=y.length}if(a===k||x===0){if(h.isCustomEventTarget)h._addEvent&&h._removeEvent(f,d.handle);else{a=q.special[f]||{};w(h,a.fix||f,d.handle)}delete j[f]}}if(f===k||b.isEmptyObject(j)){for(f in j)q.remove(h,f);delete m[i];o.removeData(h,z)}}}},_handle:function(h,f,a){a=a.slice(0);for(var c,i=0,j=a.length;i<j;++i){c=a[i];c=c.fn.call(c.scope||h,f);if(c===false&&h.isCustomEventTarget||f.isImmediatePropagationStopped)break}return c},
_getCache:function(h){return m[h]},_simpleAdd:g,_simpleRemove:w};q.on=q.add;b.Event=q});
KISSY.add("event-object",function(b,k){function t(p,o,g){this.currentTarget=p;this.originalEvent=o||{};if(o){this.type=o.type;this._fix()}else{this.type=g;this.target=p}this.currentTarget=p;this.fixed=true}var l=document,n="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(t,
{_fix:function(){var p=this.originalEvent,o=n.length,g,w=this.currentTarget;for(w=w.nodeType===9?w:w.ownerDocument||l;o;){g=n[--o];this[g]=p[g]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){p=w.documentElement;o=w.body;this.pageX=this.clientX+(p&&p.scrollLeft||o&&o.scrollLeft||
0)-(p&&p.clientLeft||o&&o.clientLeft||0);this.pageY=this.clientY+(p&&p.scrollTop||o&&o.scrollTop||0)-(p&&p.clientTop||o&&o.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var p=this.originalEvent;if(p.preventDefault)p.preventDefault();else p.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var p=
this.originalEvent;if(p.stopPropagation)p.stopPropagation();else p.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var p=this.originalEvent;p.stopImmediatePropagation?p.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(p){p?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=t});
KISSY.add("event-target",function(b,k){var t=b.Event;b.EventTarget={isCustomEventTarget:true,fire:function(l,n){var p=b.DOM.data(this,t.EVENT_GUID)||-1;if((p=((t._getCache(p)||{}).events||{})[l])&&b.isFunction(p.handle))return p.handle(k,n);return this},on:function(l,n,p){t.add(this,l,n,p);return this},detach:function(l,n,p){t.remove(this,l,n,p);return this}}});
KISSY.add("event-mouseenter",function(b){var k=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){k.special[t.name]={fix:t.fix,setup:function(l){l.type=t.name},handle:function(l,n,p){if(b.DOM._isKSNode(l))l=l[0];var o=n.relatedTarget;try{for(;o&&o!==l;)o=o.parentNode;o!==l&&k._handle(l,n,p)}catch(g){}}}})});
KISSY.add("event-focusin",function(b){var k=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){k.special[t.name]={fix:t.fix,capture:true,setup:function(l){l.type=t.name}}})});
KISSY.add("node",function(b){function k(l,n,p){if(!(this instanceof k))return new k(l,n,p);if(l){if(b.isString(l)){l=t.create(l,n,p);if(l.nodeType===11)return new b.NodeList(l.childNodes)}else if(l instanceof k)return l;else l=l;this[0]=l}else this.length=0}var t=b.DOM;k.TYPE="-ks-Node";b.augment(k,{length:1,getDOMNode:function(){return this[0]},nodeType:k.TYPE});b.one=function(l,n){var p=b.get(l,n);return p?new k(p):null};b.Node=k});
KISSY.add("nodelist",function(b){function k(n){if(!(this instanceof k))return new k(n);l.push.apply(this,b.makeArray(n)||[])}var t=b.DOM,l=Array.prototype;b.mix(k.prototype,{length:0,item:function(n){var p=null;if(t._isElementNode(this[n]))p=new b.Node(this[n]);return p},getDOMNodes:function(){return l.slice.call(this)},each:function(n,p){var o=this.length,g=0,w;for(w=new b.Node(this[0]);g<o&&n.call(p||w,w,g,this)!==false;w=new b.Node(this[++g]));return this}});b.all=function(n,p){return new k(b.query(n,
p,true))};b.NodeList=k});
KISSY.add("node-attach",function(b,k){function t(f,a,c,i){f=[this[f?e:v]()].concat(b.makeArray(a));if(a[c]===k)return i.apply(n,f);else{i.apply(n,f);return this}}function l(f,a){b.each(f,function(c){b.each([w,z],function(i,j){i[c]=function(d){switch(a){case m:return function(){return t.call(this,j,arguments,1,d)};case q:return function(){return t.call(this,j,arguments,0,d)};case h:return function(){var r=this[j?e:v]();return(r=d.apply(n,[r].concat(b.makeArray(arguments))))?new (b[b.isArray(r)?"NodeList":
"Node"])(r):null};default:return function(){var r=this[j?e:v]();r=d.apply(n,[r].concat(b.makeArray(arguments)));return r===k?this:r}}}(n[c])})})}var n=b.DOM,p=b.Event,o=n._nodeTypeIs,g=n._isKSNode,w=b.Node.prototype,z=b.NodeList.prototype,v="getDOMNode",e=v+"s",m=1,q=2,h=4;b.mix(w,{one:function(f){return b.one(f,this[0])},all:function(f){return b.all(f,this[0])}});l(["data","removeData"],m);l(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);l(["attr","removeAttr"],m);l(["val","text"],
q);l(["css"],m);l(["width","height"],q);l(["offset"],q);l(["scrollIntoView"]);l(["parent","next","prev","siblings","children"],h);l(["contains"]);l(["html"],q);l(["remove"]);b.each(["insertBefore","insertAfter"],function(f){w[f]=function(a){n[f].call(n,this[0],a);return this}});b.each([w,z],function(f,a){b.mix(f,{append:function(c){c&&b.each(this,function(i){var j;if(a||b.isString(c))j=n.create(c);else{if(o(c,1)||o(c,3))j=c;if(g(c))j=c[0]}i.appendChild(j)});return this},appendTo:function(c){if((c=
b.get(c))&&c.appendChild)b.each(this,function(i){c.appendChild(i)});return this}})});b.each([w,z],function(f){b.mix(f,b.EventTarget);f._supportSpecialEvent=true;f._addEvent=function(a,c,i){for(var j=0,d=this.length;j<d;j++)p._simpleAdd(this[j],a,c,i)};f._removeEvent=function(a,c,i){for(var j=0,d=this.length;j<d;j++)p._simpleRemove(this[j],a,c,i)};delete f.fire})});
KISSY.add("cookie",function(b){var k=document,t=encodeURIComponent,l=decodeURIComponent;b.Cookie={get:function(n){var p;if(b.isString(n)&&n!=="")if(n=k.cookie.match("(?:^| )"+n+"(?:(?:=([^;]*))|;|$)"))p=n[1]?l(n[1]):"";return p},set:function(n,p,o,g,w,z){p=t(p);var v=o;if(typeof v==="number"){v=new Date;v.setTime(v.getTime()+o*864E5)}if(v instanceof Date)p+="; expires="+v.toUTCString();if(b.isString(g)&&g!=="")p+="; domain="+g;if(b.isString(w)&&w!=="")p+="; path="+w;if(z)p+="; secure";k.cookie=n+
"="+p},remove:function(n,p,o,g){this.set(n,"",0,p,o,g)}}});
KISSY.add("json",function(b){function k(v){return v<10?"0"+v:v}function t(v){p.lastIndex=0;return p.test(v)?'"'+v.replace(p,function(e){var m=w[e];return typeof m==="string"?m:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function l(v,e){var m,q,h,f,a=o,c,i=e[v];if(i&&typeof i==="object"&&typeof i.toJSON==="function")i=i.toJSON(v);if(typeof z==="function")i=z.call(e,v,i);switch(typeof i){case "string":return t(i);case "number":return isFinite(i)?String(i):"null";case "boolean":case "null":return String(i);
case "object":if(!i)return"null";o+=g;c=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(m=0;m<f;m+=1)c[m]=l(m,i)||"null";h=c.length===0?"[]":o?"[\n"+o+c.join(",\n"+o)+"\n"+a+"]":"["+c.join(",")+"]";o=a;return h}if(z&&typeof z==="object"){f=z.length;for(m=0;m<f;m+=1){q=z[m];if(typeof q==="string")if(h=l(q,i))c.push(t(q)+(o?": ":":")+h)}}else for(q in i)if(Object.hasOwnProperty.call(i,q))if(h=l(q,i))c.push(t(q)+(o?": ":":")+h);h=c.length===0?"{}":o?"{\n"+o+c.join(",\n"+o)+
"\n"+a+"}":"{"+c.join(",")+"}";o=a;return h}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,g,w={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;if(typeof b.stringify!=="function")b.stringify=function(v,e,m){var q;g=o="";if(typeof m==="number")for(q=0;q<m;q+=1)g+=" ";else if(typeof m==="string")g=m;if((z=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw Error("JSON.stringify");return l("",{"":v})};if(typeof b.parse!==
"function")b.parse=function(v,e){function m(h,f){var a,c,i=h[f];if(i&&typeof i==="object")for(a in i)if(Object.hasOwnProperty.call(i,a)){c=m(i,a);if(c!==undefined)i[a]=c;else delete i[a]}return e.call(h,f,i)}var q;v=String(v);n.lastIndex=0;if(n.test(v))v=v.replace(n,function(h){return"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(v.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){q=eval("("+v+")");return typeof e==="function"?m({"":q},""):q}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var k=Math,t=k.PI,l=k.pow,n=k.sin,p=1.70158,o={easeNone:function(g){return g},easeIn:function(g){return g*g},easeOut:function(g){return(2-g)*g},easeBoth:function(g){return(g*=2)<1?0.5*g*g:0.5*(1- --g*(g-2))},easeInStrong:function(g){return g*g*g*g},easeOutStrong:function(g){return 1- --g*g*g*g},easeBothStrong:function(g){return(g*=2)<1?0.5*g*g*g*g:0.5*(2-(g-=2)*g*g*g)},elasticIn:function(g){if(g===0||g===1)return g;return-(l(2,10*(g-=1))*n((g-0.075)*2*t/0.3))},
elasticOut:function(g){if(g===0||g===1)return g;return l(2,-10*g)*n((g-0.075)*2*t/0.3)+1},elasticBoth:function(g){if(g===0||(g*=2)===2)return g;if(g<1)return-0.5*l(2,10*(g-=1))*n((g-0.1125)*2*t/0.45);return l(2,-10*(g-=1))*n((g-0.1125)*2*t/0.45)*0.5+1},backIn:function(g){if(g===1)g-=0.0010;return g*g*((p+1)*g-p)},backOut:function(g){return(g-=1)*g*((p+1)*g+p)+1},backBoth:function(g){if((g*=2)<1)return 0.5*g*g*(((p*=1.525)+1)*g-p);return 0.5*((g-=2)*g*(((p*=1.525)+1)*g+p)+2)},bounceIn:function(g){return 1-
o.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+0.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+0.9375:7.5625*(g-=2.625/2.75)*g+0.984375},bounceBoth:function(g){if(g<0.5)return o.bounceIn(g*2)*0.5;return o.bounceOut(g*2-1)*0.5+0.5}};o.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
b.Easing=o});
KISSY.add("anim",function(b,k){function t(a,c,i,j,d,r){if(a=b.get(a)){if(!(this instanceof t))return new t(a,c,i,j,d,r);var u=b.isPlainObject(i);c=c;this.domEl=a;if(b.isPlainObject(c))c=b.param(c,";").replace(/=/g,":");var s={},x=m.length,y;e.innerHTML='<div style="'+c+'"></div>';for(a=e.firstChild.style;x--;)if(y=a[m[x]])s[m[x]]=p(y);this.props=s;this.targetStyle=c;if(u)u=b.merge(f,i);else{u=b.clone(f);if(i)u.duration=v(i)||1;if(b.isString(j)||b.isFunction(j))u.easing=j;if(b.isFunction(d))u.complete=d;
if(r!==k)u.nativeSupport=r}this.config=u;if(u.nativeSupport&&l()&&b.isString(j=u.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=z.NativeTimeFunction[j])){u.easing=j;this.transitionName=l()}b.isFunction(d)&&this.on(h,d)}}function l(){var a="transition",c;if(e.style[a]!==k)c=a;else b.each(["Webkit","Moz","O"],function(i){if(e.style[a=i+"Transition"]!==k){c=a;return false}});l=function(){return c};return c}function n(a,c,i){b.UA.ie&&i.indexOf(q)>-1&&w.css(a,q,c[q].v);a.style.cssText+=";"+i}function p(a){var c=
v(a);a=(a+"").replace(/^[-\d.]+/,"");return isNaN(c)?{v:a,u:"",f:g}:{v:c,u:a,f:o}}function o(a,c,i){return(a+(c-a)*i).toFixed(3)}function g(a,c,i){for(var j=2,d,r,u=[],s=[];d=3,r=arguments[j-1],j--;)if(r.substr(0,4)==="rgb(")for(r=r.match(/\d+/g);d--;)u.push(~~r[d]);else if(r.substr(0,1)==="#"){if(r.length===4)r="#"+r.substr(1,1)+r.substr(1,1)+r.substr(2,1)+r.substr(2,1)+r.substr(3,1)+r.substr(3,1);for(;d--;)u.push(parseInt(r.substr(1+d*2,2),16))}else return c;for(;d--;){j=~~(u[d+3]+(u[d]-u[d+3])*
i);s.push(j<0?0:j>255?255:j)}return"rgb("+s.join(",")+")"}var w=b.DOM,z=b.Easing,v=parseFloat,e=w.create("<div>"),m="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
q="opacity",h="complete",f={duration:1,easing:"easeNone",nativeSupport:true};b.augment(t,b.EventTarget,{run:function(){var a=this,c=a.config,i=a.domEl,j,d,r,u,s=a.props,x={},y;for(y in s)x[y]=p(w.css(i,y));if(a.fire("start")!==false){a.stop();if(a.transitionName)a._nativeRun();else{j=c.duration*1E3;r=b.now();u=r+j;d=c.easing;if(b.isString(d))d=z[d]||z.easeNone;a.timer=b.later(c=function(){var A=b.now(),B=A>u?1:(A-r)/j,D,C,E;for(y in s){D=x[y];C=s[y];if(C.v==0)C.u=D.u;if(D.u!==C.u)D.v=0;w.css(i,y,
C.f(D.v,C.v,d(B))+C.u)}if(a.fire("step")===false||(E=A>u)){a.stop();E&&a.fire(h)}},13,true);c()}return a}},_nativeRun:function(){var a=this,c=a.config,i=a.domEl,j=a.props,d=c.duration*1E3;c=c.easing;var r=a.transitionName,u={};u[r+"Property"]="all";u[r+"Duration"]=d+"ms";u[r+"TimingFunction"]=c;w.css(i,u);b.later(function(){n(i,j,a.targetStyle)},0);b.later(function(){a.stop(true)},d)},stop:function(a){if(this.transitionName)this._nativeStop(a);else{if(this.timer){this.timer.cancel();this.timer=k}if(a){n(this.domEl,
this.props,this.targetStyle);this.fire(h)}}return this},_nativeStop:function(a){var c=this.domEl,i=this.transitionName,j=this.props,d;if(a){w.css(c,i+"Property","none");this.fire(h)}else{for(d in j)w.css(c,d,w._getComputedStyle(c,d));w.css(c,i+"Property","none")}}});t.supportTransition=function(){return!!l()};b.Anim=t});
KISSY.add("anim-node-plugin",function(b,k){function t(h,f,a,c,i){if(f==="toggle")f=(i=l.css(h,p)===o?1:0)?"show":"hide";if(i)l.css(h,p,l.data(h,p)||"");var j={};b.each(q[f],function(d){if(d===g)l.css(h,g,w);else if(d===z){j.opacity=i?1:0;i&&l.css(h,z,0)}else if(d===v){j.height=i?l.css(h,v)||h.naturalHeight:0;i&&l.css(h,v,0)}else if(d===e){j.width=i?l.css(h,e)||h.naturalWidth:0;i&&l.css(h,e,0)}});(new b.Anim(h,j,a,"easeOut",function(){if(!i){var d=h.style,r=d[p];if(r!==o){r&&l.data(h,p,r);d[p]=o}l.css(h,
{height:m,width:m,overflow:m,opacity:1})}c&&b.isFunction(c)&&c()})).run()}var l=b.DOM,n=b.Anim,p="display",o="none",g="overflow",w="hidden",z="opacity",v="height",e="width",m="auto",q={show:[g,z,v,e],fade:[z],slide:[g,v]};b.each([b.Node.prototype,b.NodeList.prototype],function(h){h.animate=function(){var f=b.makeArray(arguments);b.each(this,function(a){n.apply(k,[a].concat(f)).run()});return this};b.each({show:["show",1],hide:["hide",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(f,a){h[a]=function(c,i){l[a]&&arguments.length===0?l[a](this):b.each(this,function(j){t(j,f[0],c,i,f[1])});return this}})})});KISSY.add("core");
