/*
Copyright 2010, KISSY UI Library v1.1.0pre
MIT Licensed
build time: ${build.time}
*/
(function(d,s,n){if(d[s]===n)d[s]={};s=d[s];var r=d.document,p=function(k,c,e,j){if(!c||!k)return k;if(e===n)e=true;var u,w,t;if(j&&(t=j.length))for(u=0;u<t;u++){w=j[u];if(w in c)if(e||!(w in k))k[w]=c[w]}else for(w in c)if(e||!(w in k))k[w]=c[w];return k},l=false,i=[],f=false,q=/^#?([\w-]+)$/;p(s,{version:"1.1.0pre",_init:function(){this.Env={mods:{},guid:0}},add:function(k,c){this.Env.mods[k]={name:k,fn:c};c(this);return this},ready:function(k){f||this._bindReady();l?k.call(d,this):i.push(k);return this},
_bindReady:function(){var k=this,c=r.documentElement.doScroll,e=c?"onreadystatechange":"DOMContentLoaded",j=function(){k._fireReady()};f=true;if(r.readyState==="complete")return j();if(r.addEventListener){var u=function(){r.removeEventListener(e,u,false);j()};r.addEventListener(e,u,false);d.addEventListener("load",j,false)}else{var w=function(){if(r.readyState==="complete"){r.detachEvent(e,w);j()}};r.attachEvent(e,w);d.attachEvent("onload",j);if(d==d.top){var t=function(){try{c("left");j()}catch(a){setTimeout(t,
1)}};t()}}},_fireReady:function(){if(!l){l=true;if(i){for(var k,c=0;k=i[c++];)k.call(d,this);i=null}}},available:function(k,c){if((k=(k+"").match(q)[1])&&s.isFunction(c))var e=1,j=s.later(function(){if(r.getElementById(k)&&(c()||1)||++e>500)j.cancel()},40,true)},mix:p,merge:function(){var k={},c,e=arguments.length;for(c=0;c<e;++c)p(k,arguments[c]);return k},augment:function(){var k=arguments,c=k.length-2,e=k[0],j=k[c],u=k[c+1],w=1;if(!s.isArray(u)){j=u;u=n;c++}if(!s.isBoolean(j)){j=n;c++}for(;w<c;w++)p(e.prototype,
k[w].prototype||k[w],j,u);return e},extend:function(k,c,e,j){if(!c||!k)return k;var u=Object.prototype,w=c.prototype,t=function(a){function b(){}b.prototype=a;return new b}(w);k.prototype=t;t.constructor=k;k.superclass=w;if(c!==Object&&w.constructor===u.constructor)w.constructor=c;e&&p(t,e);j&&p(k,j);return k},namespace:function(){var k=arguments.length,c=null,e,j,u;for(e=0;e<k;++e){u=(""+arguments[e]).split(".");c=this;for(j=d[u[0]]===c?1:0;j<u.length;++j)c=c[u[j]]=c[u[j]]||{}}return c},app:function(k,
c){var e=d[k]||{};p(e,this,true,["_init","add","namespace"]);e._init();return p(d[k]=e,typeof c==="function"?c():c)},log:function(k,c,e){if(this.Config.debug){if(e)k=e+": "+k;if(d.console!==n&&console.log)console[c&&console[c]?c:"log"](k)}return this},error:function(k){if(this.Config.debug)throw k;},guid:function(k){var c=this.Env.guid++ +"";return k?k+c:c}});s._init();s.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(d,s){function n(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var r=window,p=document,l=location,i=Array.prototype,f=i.indexOf,q=i.filter,k=String.prototype.trim,c=Object.prototype.toString,e=encodeURIComponent,j=decodeURIComponent,u=/^\s+|\s+$/g,w=/^(\w+)\[\]$/,t=/\S/;d.mix(d,{isUndefined:function(a){return a===s},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&c.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return c.call(a)==="[object Function]"},isArray:function(a){return c.call(a)==="[object Array]"},trim:k?function(a){return a==s?"":k.call(a)}:function(a){return a==s?"":a.toString().replace(u,"")},each:function(a,b,g){for(var h=a&&a.length||0,o=0;o<h;++o)b.call(g||r,a[o],o,a)},indexOf:f?function(a,
b){return f.call(b,a)}:function(a,b){for(var g=0,h=b.length;g<h;++g)if(b[g]===a)return g;return-1},inArray:function(a,b){return d.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===s)return[];if(d.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||d.isFunction(a))return[a];if(a.item&&d.UA.ie){for(var b=[],g=0,h=a.length;g<h;++g)b[g]=a[g];return b}return i.slice.call(a)},filter:q?function(a,b,g){return q.call(a,b,g)}:function(a,b,g){var h=[];d.each(a,function(o,m,v){b.call(g,
o,m,v)&&h.push(o)});return h},param:function(a,b){if(!d.isPlainObject(a))return"";b=b||"&";var g=[],h,o;for(h in a){o=a[h];h=e(h);if(n(o))g.push(h,"=",e(o+""),b);else if(d.isArray(o)&&o.length)for(var m=0,v=o.length;m<v;++m)n(o[m])&&g.push(h,"[]=",e(o[m]+""),b)}g.pop();return g.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=d.trim(a)).length===0)return{};var g={};a=a.split(b||"&");for(var h,o,m,v=0,x=a.length;v<x;++v){b=a[v].split("=");h=j(b[0]);try{o=j(b[1]||"")}catch(A){o=b[1]||""}if((m=
h.match(w))&&m[1]){g[m[1]]=g[m[1]]||[];g[m[1]].push(o)}else g[h]=o}return g},later:function(a,b,g,h,o){b=b||0;h=h||{};var m=a,v=d.makeArray(o),x;if(typeof a==="string")m=h[a];m||d.error("method undefined");a=function(){m.apply(h,v)};x=g?setInterval(a,b):setTimeout(a,b);return{id:x,interval:g,cancel:function(){this.interval?clearInterval(x):clearTimeout(x)}}},clone:function(a){var b=a,g,h;if(a&&((g=d.isArray(a))||d.isPlainObject(a))){b=g?[]:{};for(h in a)if(a.hasOwnProperty(h))b[h]=d.clone(a[h])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&t.test(a)){var b=p.getElementsByTagName("head")[0]||p.documentElement,g=p.createElement("script");g.text=a;b.insertBefore(g,b.firstChild);b.removeChild(g)}}});if(l&&l.search&&l.search.indexOf("ks-debug")!==-1)d.Config.debug=true});
KISSY.add("kissy-ua",function(d){var s=navigator.userAgent,n,r={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},p=function(l){var i=0;return parseFloat(l.replace(/\./g,function(){return i++===0?".":""}))};if((n=s.match(/AppleWebKit\/([\d.]*)/))&&n[1]){r.webkit=p(n[1]);if((n=s.match(/Chrome\/([\d.]*)/))&&n[1])r.chrome=p(n[1]);else if((n=s.match(/\/([\d.]*) Safari/))&&n[1])r.safari=p(n[1]);if(/ Mobile\//.test(s))r.mobile="Apple";else if(n=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))r.mobile=
n[0]}else if((n=s.match(/Opera\/.* Version\/([\d.]*)/))&&n[1]){r.opera=p(n[1]);if(s.match(/Opera Mini[^;]*/))r.mobile=n[0]}else if((n=s.match(/MSIE\s([^;]*)/))&&n[1])r.ie=p(n[1]);else if(n=s.match(/Gecko/)){r.gecko=1;if((n=s.match(/rv:([\d.]*)/))&&n[1])r.gecko=p(n[1]);if((n=s.match(/Firefox\/([\d.]*)/))&&n[1])r.firefox=p(n[1])}d.UA=r});
KISSY.add("dom",function(d){var s={_isSupportedNode:function(n){return s._isElementNode(n)||s._isTextNode(n)},_isElementNode:function(n){return n&&n.nodeType===1},_isTextNode:function(n){return n&&n.nodeType===3},_isKSNode:function(n){return n&&d.Node&&n.nodeType===d.Node.TYPE}};d.DOM=s});
KISSY.add("selector",function(d,s){function n(a,b){var g,h=[],o,m;b=r(b);if(d.isString(a)){a=d.trim(a);if(w.test(a)){if(a=p(a.slice(1),b))h=[a]}else if(g=t.exec(a)){o=g[1];m=g[2];g=g[3];if(b=o?p(o,b):b)if(g)if(!o||a.indexOf(c)!==-1)h=i(g,m,b);else{if((a=p(o,b))&&k.hasClass(a,g))h=[a]}else if(m)h=l(m,b)}else if(d.ExternalSelector)return d.ExternalSelector(a,b);else f(a)}else if(a&&(a[j]||a[u]))h=a[j]?[a[j]()]:a[u]();else if(a&&a.nodeType)h=[a];else if(a&&(d.isArray(a)||a.item))h=a;if(h.item)h=d.makeArray(h);
return h}function r(a){if(a===s)a=q;else if(d.isString(a)&&w.test(a))a=p(a.slice(1),q);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function p(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function l(a,b){return b.getElementsByTagName(a)}function i(a,b,g){g=a=g.getElementsByClassName(a);var h=0,o=0,m=a.length,v;if(b&&b!==e){g=[];for(b=b.toUpperCase();h<m;++h){v=a[h];if(v.tagName===b)g[o++]=v}}return g}function f(a){d.error("Unsupported selector: "+a)}var q=document,
k=d.DOM,c=" ",e="*",j="getDOMNode",u=j+"s",w=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=q.createElement("div");a.appendChild(q.createComment(""));if(a.getElementsByTagName(e).length>0)l=function(b,g){g=g.getElementsByTagName(b);if(b===e){b=[];for(var h=0,o=0,m;m=g[h++];)if(m.nodeType===1)b[o++]=m;g=b}return g}})();q.getElementsByClassName||(i=q.querySelectorAll?function(a,b,g){return g.querySelectorAll((b?b:"")+"."+a)}:function(a,b,g){b=g.getElementsByTagName(b||
e);g=[];var h=0,o=0,m=b.length,v,x;for(a=c+a+c;h<m;++h){v=b[h];if((x=v.className)&&(c+x+c).indexOf(a)>-1)g[o++]=v}return g});d.query=n;d.get=function(a,b){return n(a,b)[0]||null};d.mix(k,{query:n,get:d.get,filter:function(a,b){var g=n(a),h,o,m,v=[];if(d.isString(b)&&(h=t.exec(b))&&!h[1]){o=h[2];m=h[3];b=function(x){return!(o&&x.tagName!==o.toUpperCase()||m&&!k.hasClass(x,m))}}if(d.isFunction(b))v=d.filter(g,b);else if(b&&d.ExternalSelector)v=d.ExternalSelector._filter(a,b);else f(b);return v},test:function(a,
b){a=n(a);return k.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(d,s){function n(i,f,q,k){if(!(f=d.trim(f)))return k?false:s;i=d.query(i);var c=0,e=i.length;f=f.split(p);for(var j;c<e;c++){j=i[c];if(r._isElementNode(j)){j=q(j,f,f.length);if(j!==s)return j}}if(k)return false}var r=d.DOM,p=/[\.\s]\s*\.?/,l=/[\n\t]/g;d.mix(r,{hasClass:function(i,f){return n(i,f,function(q,k,c){if(q=q.className){q=" "+q+" ";for(var e=0,j=true;e<c;e++)if(q.indexOf(" "+k[e]+" ")<0){j=false;break}if(j)return true}},true)},addClass:function(i,f){n(i,f,function(q,
k,c){var e=q.className;if(e){var j=" "+e+" ";e=e;for(var u=0;u<c;u++)if(j.indexOf(" "+k[u]+" ")<0)e+=" "+k[u];q.className=d.trim(e)}else q.className=f})},removeClass:function(i,f){n(i,f,function(q,k,c){var e=q.className;if(e)if(c){e=(" "+e+" ").replace(l," ");for(var j=0,u;j<c;j++)for(u=" "+k[j]+" ";e.indexOf(u)>=0;)e=e.replace(u," ");q.className=d.trim(e)}else q.className=""})},replaceClass:function(i,f,q){r.removeClass(i,f);r.addClass(i,q)},toggleClass:function(i,f,q){var k=d.isBoolean(q),c;n(i,
f,function(e,j,u){for(var w=0,t;w<u;w++){t=j[w];c=k?!q:r.hasClass(e,t);r[c?"removeClass":"addClass"](e,t)}})}})});
KISSY.add("dom-attr",function(d,s){function n(t,a){return a&&a.nodeName.toUpperCase()===t.toUpperCase()}var r=d.UA,p=r.ie,l=p&&p<8,i=document.documentElement.textContent!==s?"textContent":"innerText",f=d.DOM,q=f._isElementNode,k=f._isTextNode,c=/href|src|style/,e=/href|src|colspan|rowspan/,j=/\r/g,u=/radio|checkbox/,w={readonly:"readOnly"};l&&d.mix(w,{"for":"htmlFor","class":"className"});d.mix(f,{attr:function(t,a,b){if(d.isPlainObject(a))for(var g in a)f.attr(t,g,a[g]);else if(a=d.trim(a)){a=a.toLowerCase();
a=w[a]||a;if(b===s){t=d.get(t);if(!q(t))return s;var h;c.test(a)||(h=t[a]);if(h===s)h=t.getAttribute(a);if(l)if(e.test(a))h=t.getAttribute(a,2);else if(a==="style")h=t.style.cssText;return h===null?s:h}d.each(d.query(t),function(o){if(q(o))if(l&&a==="style")o.style.cssText=b;else{if(a==="checked")o[a]=!!b;o.setAttribute(a,""+b)}})}},removeAttr:function(t,a){d.each(d.query(t),function(b){if(q(b)){f.attr(b,a,"");b.removeAttribute(a)}})},val:function(t,a){if(a===s){var b=d.get(t);if(!q(b))return s;if(n("option",
b))return(b.attributes.value||{}).specified?b.value:b.text;if(n("select",b)){var g=b.selectedIndex;t=b.options;if(g<0)return null;else if(b.type==="select-one")return f.val(t[g]);b=[];for(var h=0,o=t.length;h<o;++h)t[h].selected&&b.push(f.val(t[h]));return b}if(r.webkit&&u.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(j,"")}d.each(d.query(t),function(m){if(n("select",m)){if(d.isNumber(a))a+="";var v=d.makeArray(a),x=m.options,A;h=0;for(o=x.length;h<o;++h){A=
x[h];A.selected=d.inArray(f.val(A),v)}if(!v.length)m.selectedIndex=-1}else if(q(m))m.value=a})},text:function(t,a){if(a===s){t=d.get(t);if(q(t))return t[i]||"";else if(k(t))return t.nodeValue}else d.each(d.query(t),function(b){if(q(b))b[i]=a;else if(k(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(d,s){function n(a,b){var g=d.get(a),h=b===q?g.offsetWidth:g.offsetHeight;d.each(b===q?["Left","Right"]:["Top","Bottom"],function(o){h-=parseFloat(p._getComputedStyle(g,"padding"+o))||0;h-=parseFloat(p._getComputedStyle(g,"border"+o+"Width"))||0});return h}function r(a,b,g){var h=g;if(g===k&&e.test(b)){h=0;if(p.css(a,"position")==="absolute"){g=a[b==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)g-=c(p.css(a.offsetParent,"border-"+b+"-width"))||0;h=g-(c(p.css(a,
"margin-"+b))||0)}}return h}var p=d.DOM,l=d.UA,i=document,f=i.documentElement,q="width",k="auto",c=parseInt,e=/^left|top$/,j=/width|height|top|left|right|bottom|margin|padding/i,u=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},t={};d.mix(p,{_CUSTOM_STYLES:t,_getComputedStyle:function(a,b){var g="",h=a.ownerDocument;if(a.style)g=h.defaultView.getComputedStyle(a,null)[b];return g},css:function(a,b,g){if(d.isPlainObject(b))for(var h in b)p.css(a,h,b[h]);else{if(b.indexOf("-")>0)b=b.replace(u,w);
b=t[b]||b;if(g===s){a=d.get(a);h="";if(a&&a.style){h=b.get?b.get(a):a.style[b];if(h===""&&!b.get)h=r(a,b,p._getComputedStyle(a,b))}return h===s?"":h}else{if(g===null||g==="")g="";else if(!isNaN(new Number(g))&&j.test(b))g+="px";(b===q||b==="height")&&parseFloat(g)<0||d.each(d.query(a),function(o){if(o&&o.style){b.set?b.set(o,g):(o.style[b]=g);if(g==="")o.style.cssText||o.removeAttribute("style")}})}}},width:function(a,b){if(b===s)return n(a,q);else p.css(a,q,b)},height:function(a,b){if(b===s)return n(a,
"height");else p.css(a,"height",b)},addStyleSheet:function(a,b){var g;if(b)g=d.get(b);g||(g=p.create("<style>",{id:b}));d.get("head").appendChild(g);if(g.styleSheet)g.styleSheet.cssText=a;else g.appendChild(i.createTextNode(a))}});if(f.style.cssFloat!==s)t["float"]="cssFloat";else if(f.style.styleFloat!==s)t["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(d,s){if(d.UA.ie){var n=d.DOM,r=document,p=r.documentElement,l=n._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,f=/^-?\d/,q=/^width|height$/;try{if(p.style.opacity===s&&p.filters)l.opacity={get:function(c){var e=100;try{e=c.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(j){try{e=c.filters("alpha").opacity}catch(u){}}return e/100+""},set:function(c,e){c=c.style;c.zoom=1;c.filter="alpha(opacity="+e*100+")"}}}catch(k){d.log("IE filters ActiveX is disabled. ex = "+k)}if(!(r.defaultView||
{}).getComputedStyle&&p.currentStyle)n._getComputedStyle=function(c,e){var j=c.style,u=c.currentStyle[e];if(q.test(e))u=n[e](c)+"px";else if(!i.test(u)&&f.test(u)){var w=j.left,t=c.runtimeStyle.left;c.runtimeStyle.left=c.currentStyle.left;j.left=e==="fontSize"?"1em":u||0;u=j.pixelLeft+"px";j.left=w;c.runtimeStyle.left=t}return u}}});
KISSY.add("dom-offset",function(d,s){function n(m){var v=0,x=0,A=p(m[t]);if(m[o]){m=m[o]();v=m[a]+l[g](A);x=m[b]+l[h](A)}return{left:v,top:x}}function r(m,v){if(l.css(m,j)==="static")m.style[j]=u;var x=n(m),A={},y,z;for(z in v){y=e(l.css(m,z),10)||0;A[z]=y+v[z]-x[z]}l.css(m,A)}function p(m){return m&&"scrollTo"in m&&m[w]?m:m&&m.nodeType===9?m.defaultView||m.parentWindow:false}var l=d.DOM,i=window,f=document,q=l._isElementNode,k=f.compatMode==="CSS1Compat",c=Math.max,e=parseInt,j="position",u="relative",
w="document",t="ownerDocument",a="left",b="top",g="scrollLeft",h="scrollTop",o="getBoundingClientRect";d.mix(l,{offset:function(m,v){if(!(m=d.get(m))||!m[t])return null;if(v===s)return n(m);r(m,v)},scrollIntoView:function(m,v,x,A){if((m=d.get(m))&&m[t]){v=d.get(v);A=A===s?true:!!A;x=x===s?true:!!x;if(!q(v))return m.scrollIntoView(x);var y=l.offset(m),z=l.offset(v),B={left:y[a]-z[a],top:y[b]-z[b]};y=v.clientHeight;z=v.clientWidth;var C=l[g](v),D=l[h](v),E=C+z,F=D+y,G=m.offsetHeight;m=m.offsetWidth;
var H=B.left+C-(e(l.css(v,"borderLeftWidth"))||0);B=B.top+D-(e(l.css(v,"borderTopWidth"))||0);var I=H+m,J=B+G;if(G>y||B<D||x)v[h]=B;else if(J>F)v[h]=J-y;if(A)if(m>z||H<C||x)v[g]=H;else if(I>E)v[g]=I-z}}});d.each(["Left","Top"],function(m,v){var x="scroll"+m;l[x]=function(A){var y=0,z=A===s?i:p(A),B;if(z&&(B=z[w]))y=z[v?"pageYOffset":"pageXOffset"]||B.documentElement[x]||B.body[x];else if(q(A=d.get(A)))y=A[x];return y}});d.each(["Width","Height"],function(m){l["doc"+m]=function(v){v=v||f;return c(k?
v.documentElement["scroll"+m]:v.body["scroll"+m],l["viewport"+m](v))};l["viewport"+m]=function(v){var x="inner"+m;v=p(v)||i;var A=v[w];return x in v?v[x]:k?A.documentElement["client"+m]:A.body["client"+m]}})});
KISSY.add("dom-traversal",function(d,s){function n(i,f,q,k){if(!(i=d.get(i)))return null;if(f===s)f=1;var c=null,e,j;if(d.isNumber(f)&&f>=0){if(f===0)return i;e=0;j=f;f=function(){return++e===j}}for(;i=i[q];)if(l(i)&&(!f||p.test(i,f))&&(!k||k(i))){c=i;break}return c}function r(i,f,q){var k=[];var c=i=d.get(i);if(i&&q)c=i.parentNode;if(c){q=0;for(c=c.firstChild;c;c=c.nextSibling)if(l(c)&&c!==i&&(!f||p.test(c,f)))k[q++]=c}return k}var p=d.DOM,l=p._isElementNode;d.mix(p,{parent:function(i,f){return n(i,
f,"parentNode",function(q){return q.nodeType!=11})},next:function(i,f){return n(i,f,"nextSibling")},prev:function(i,f){return n(i,f,"previousSibling")},siblings:function(i,f){return r(i,f,true)},children:function(i,f){return r(i,f)},contains:function(i,f){var q=false;if((i=d.get(i))&&(f=d.get(f)))if(i.contains)return i.contains(f);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(f)&16);else for(;!q&&(f=f.parentNode);)q=f==i;return q}})});
KISSY.add("dom-create",function(d,s){function n(y,z){j(y)&&d.isPlainObject(z)&&q.attr(y,z);return y}function r(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=d.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}else d.log("Unable to convert "+y+" to fragment.");return B}function p(y){var z=y.cloneNode(true);if(k.ie<8)z.innerHTML=y.innerHTML;return z}function l(y,z,B,C){if(B){var D=d.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+
D+'"></span>';d.available(D,function(){var F=d.get("head"),G,H,I,J,L,K;for(E.lastIndex=0;G=E.exec(z);)if((I=(H=G[1])?H.match(g):false)&&I[2]){G=f.createElement("script");G.src=I[2];if((J=H.match(h))&&J[2])G.charset=J[2];G.async=true;F.appendChild(G)}else if((K=G[2])&&K.length>0)d.globalEval(K);(L=f.getElementById(D))&&q.remove(L);d.isFunction(C)&&C()});i(y,z)}else{i(y,z);d.isFunction(C)&&C()}}function i(y,z){z=z.replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(q.create(z))}}var f=document,q=d.DOM,k=d.UA,c=k.ie,e=q._isSupportedNode,j=q._isElementNode,u=q._isKSNode,w=f.createElement("div"),t=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/\ssrc=(['"])(.*?)\1/i,h=/\scharset=(['"])(.*?)\1/i;d.mix(q,{create:function(y,z,B){if(e(y))return p(y);if(u(y))return p(y[0]);if(!(y=d.trim(y)))return null;var C=null;C=q._creators;var D,E="div",F;if(D=b.exec(y))C=(B||f).createElement(D[1]);else{if((D=t.exec(y))&&(F=
D[1])&&d.isFunction(C[F=F.toLowerCase()]))E=F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):r(y,B||f)}return n(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):w;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===s){y=d.get(y);if(j(y))return y.innerHTML}else d.each(d.query(y),function(D){j(D)&&l(D,z,B,C)})},remove:function(y){d.each(d.query(y),function(z){j(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(k.gecko||c){var o=q._creators,m=q.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
x={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in x)(function(y){o[A]=function(z,B){return m("<"+y+">"+z+"</"+y+">",null,B)}})(x[A]);if(c){o.script=function(y,z){z=z?z.createElement("div"):w;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(c<8)o.tbody=function(y,z){z=m("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!v.test(y)&&B.parentNode.removeChild(B);return z}}d.mix(o,{optgroup:o.option,th:o.td,
thead:o.tbody,tfoot:o.tbody,caption:o.tbody,colgroup:o.tbody})}});KISSY.add("dom-insertion",function(d){d.mix(d.DOM,{insertBefore:function(s,n){if((s=d.get(s))&&(n=d.get(n))&&n.parentNode)n.parentNode.insertBefore(s,n);return s},insertAfter:function(s,n){if((s=d.get(s))&&(n=d.get(n))&&n.parentNode)n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s);return s}})});
KISSY.add("event",function(d,s){function n(a,b,g,h,o){if(d.isString(b))b=d.query(b);if(d.isArray(b)){d.each(b,function(m){t[a](m,g,h,o)});return true}if((g=d.trim(g))&&g.indexOf(j)>0){d.each(g.split(j),function(m){t[a](b,m,h,o)});return true}}function r(a){return i(a)?a[e]:-1}function p(a,b){if(!i(a))return d.error("Text or comment node is not valid event target.");try{a[e]=b}catch(g){d.error(g)}}function l(a){try{a[e]=s;delete a[e]}catch(b){}}function i(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var f=window,q=document,k=q.addEventListener?function(a,b,g,h){a.addEventListener&&a.addEventListener(b,g,!!h)}:function(a,b,g){a.attachEvent&&a.attachEvent("on"+b,g)},c=q.removeEventListener?function(a,b,g,h){a.removeEventListener&&a.removeEventListener(b,g,!!h)}:function(a,b,g){a.detachEvent&&a.detachEvent("on"+b,g)},e="ksEventTargetId",j=" ",u=d.now(),w={},t={EVENT_GUID:e,special:{},add:function(a,b,g,h){if(!n("add",a,b,g,h)){var o=r(a),m,v;if(!(o===-1||!b||!d.isFunction(g))){if(!o){p(a,o=u++);
w[o]={target:a,events:{}}}v=w[o].events;m=!a.isCustomEventTarget&&t.special[b]||{};if(!v[b]){o=function(x,A){if(!x||!x.fixed){x=new d.EventObject(a,x,b);d.isPlainObject(A)&&d.mix(x,A)}m.setup&&m.setup(x);return(m.handle||t._handle)(a,x,v[b].listeners)};v[b]={handle:o,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,o);else k(a,m.fix||b,o,m.capture)}v[b].listeners.push({fn:g,scope:h})}}},remove:function(a,b,g){if(!n("remove",a,b,g)){var h=r(a),o,m,v,x,A,y;if(h!==-1)if(h&&(o=w[h]))if(o.target===
a){o=o.events||{};if(m=o[b]){v=m.listeners;A=v.length;if(d.isFunction(g)&&A&&d.inArray(g,v)){y=[];for(x=0;x<A;++x)g!==v[x]&&y.push(v[x]);A=y.length}if(g===s||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,m.handle);else c(a,b,m.handle);delete o[b]}}if(b===s||d.isEmptyObject(o)){for(b in o)t.remove(a,b);delete w[h];l(a)}}}},_handle:function(a,b,g){g=g.slice(0);for(var h,o=0,m=g.length;o<m;++o){h=g[o];h=h.fn.call(h.scope||a,b);if(h===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return h},
_getCache:function(a){return w[a]},_simpleAdd:k,_simpleRemove:c};t.on=t.add;d.Event=t;f.attachEvent&&!f.addEventListener&&f.attachEvent("onunload",function(){var a,b;for(a in w)if(b=w[a].target)try{t.remove(b)}catch(g){}})});
KISSY.add("event-object",function(d,s){function n(l,i,f){this.currentTarget=l;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=f;this.target=l}this.fixed=true}var r=document,p="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");d.mix(n.prototype,
{_fix:function(){for(var l=this.originalEvent,i=p.length,f;i;){f=p[--i];this[f]=l[f]}if(!this.target)this.target=this.srcElement||r;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===s&&this.clientX!==s){l=r.documentElement;i=r.body;this.pageX=this.clientX+(l&&l.scrollLeft||i&&i.scrollLeft||0)-(l&&l.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+
(l&&l.scrollTop||i&&i.scrollTop||0)-(l&&l.clientTop||i&&i.clientTop||0)}if(this.which===s)this.which=this.charCode!==s?this.charCode:this.keyCode;if(this.metaKey===s)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==s)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=this.originalEvent;if(l.stopPropagation)l.stopPropagation();
else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});d.EventObject=n});
KISSY.add("event-target",function(d,s){var n=d.Event,r=n.EVENT_GUID;d.EventTarget={isCustomEventTarget:true,fire:function(p,l){if((p=((n._getCache(this[r]||-1)||{}).events||{})[p])&&d.isFunction(p.handle))return p.handle(s,l)},on:function(p,l,i){n.add(this,p,l,i)},detach:function(p,l){n.remove(this,p,l)}}});
KISSY.add("event-mouseenter",function(d){var s=d.Event;d.UA.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){s.special[n.name]={fix:n.fix,setup:function(r){r.type=n.name},handle:function(r,p,l){var i=p.relatedTarget;try{for(;i&&i!==r;)i=i.parentNode;i!==r&&s._handle(r,p,l)}catch(f){}}}})});
KISSY.add("event-focusin",function(d){var s=d.Event;document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){s.special[n.name]={fix:n.fix,capture:true,setup:function(r){r.type=n.name}}})});
KISSY.add("node",function(d){function s(r,p,l){var i;if(!(this instanceof s))return new s(r,p,l);if(r){if(n._isSupportedNode(r))i=r;else if(typeof r==="string")i=n.create(r,p,l);this[0]=i}else this.length=0}var n=d.DOM;s.TYPE="-ks-Node";d.augment(s,{length:1,getDOMNode:function(){return this[0]},nodeType:s.TYPE});d.one=function(r,p){return(r=d.get(r,p))?new s(r):null};d.Node=s});
KISSY.add("nodelist",function(d){function s(p){if(!(this instanceof s))return new s(p);r.push.apply(this,p||[])}var n=d.DOM,r=Array.prototype;d.mix(s.prototype,{length:0,item:function(p){var l=null;if(n._isElementNode(this[p]))l=new d.Node(this[p]);return l},getDOMNodes:function(){return r.slice.call(this)},each:function(p,l){for(var i=this.length,f=0,q;f<i;++f){q=new d.Node(this[f]);p.call(l||q,q,f,this)}return this}});d.all=function(p,l){return new s(d.query(p,l,true))};d.NodeList=s});
KISSY.add("node-attach",function(d,s){function n(u,arguments,w,t){var a=[this[u?k:q]()].concat(d.makeArray(arguments));if(arguments[w]===s)return t.apply(p,a);else{t.apply(p,a);return this}}function r(u,w){d.each(u,function(t){d.each([i,f],function(a,b){a[t]=function(g){switch(w){case c:return function(){return n.call(this,b,arguments,1,g)};case e:return function(){return n.call(this,b,arguments,0,g)};case j:return function(){var h=this[b?k:q]();return(h=g.apply(p,[h].concat(d.makeArray(arguments))))?
new (d[d.isArray(h)?"NodeList":"Node"])(h):null};default:return function(){var h=this[b?k:q]();h=g.apply(p,[h].concat(d.makeArray(arguments)));return h===s?this:h}}}(p[t])})})}var p=d.DOM,l=d.Event,i=d.Node.prototype,f=d.NodeList.prototype,q="getDOMNode",k=q+"s",c=1,e=2,j=4;d.mix(i,{one:function(u){return d.one(u,this[0])},all:function(u){return d.all(u,this[0])}});r(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);r(["attr","removeAttr"],c);r(["val","text"],e);r(["css"],c);r(["width",
"height"],e);r(["offset"],e);r(["scrollIntoView"]);r(["parent","next","prev","siblings","children"],j);r(["contains"]);r(["html"],e);r(["remove"]);d.each(["insertBefore","insertAfter"],function(u){i[u]=function(w){p[u].call(p,this[0],w);return this}});d.each([i,f],function(u){d.mix(u,{append:function(w){w&&d.each(this,function(t){t.appendChild(p.create(w))});return this},appendTo:function(w){if((w=d.get(w))&&w.appendChild)d.each(this,function(t){w.appendChild(t)});return this}})});d.each([i,f],function(u){d.mix(u,
d.EventTarget);u._addEvent=function(w,t){for(var a=0,b=this.length;a<b;a++)l._simpleAdd(this[a],w,t)};u._removeEvent=function(w,t){for(var a=0,b=this.length;a<b;a++)l._simpleRemove(this[a],w,t)};delete u.fire})});
KISSY.add("ajax",function(d){var s=document,n=s.createElement("script").readyState?function(r,p){r.onreadystatechange=function(){var l=r.readyState;if(l==="loaded"||l==="complete"){r.onreadystatechange=null;p.call(this)}}}:function(r,p){r.onload=p};d.Ajax={request:function(){d.error("not implemented")},getScript:function(r,p,l){var i=d.get("head")||s.documentElement,f=s.createElement("script");f.src=r;if(l)f.charset=l;f.async=true;d.isFunction(p)&&n(f,p);i.appendChild(f)}}});
KISSY.add("cookie",function(d){function s(l){return d.isString(l)&&l!==""}var n=document,r=encodeURIComponent,p=decodeURIComponent;d.Cookie={get:function(l){var i;if(s(l))if(l=n.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))i=l[1]?p(l[1]):"";return i},set:function(l,i,f,q,k,c){i=r(i);var e=f;if(typeof e==="number"){e=new Date;e.setTime(e.getTime()+f*864E5)}if(e instanceof Date)i+="; expires="+e.toUTCString();if(s(q))i+="; domain="+q;if(s(k))i+="; path="+k;if(c)i+="; secure";n.cookie=l+"="+i},remove:function(l,
i,f,q){this.set(l,"",0,i,f,q)}}});
KISSY.add("json",function(d){function s(c){return c<10?"0"+c:c}function n(c){l.lastIndex=0;return l.test(c)?'"'+c.replace(l,function(e){var j=q[e];return typeof j==="string"?j:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function r(c,e){var j,u,w=i,t,a=e[c];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(c);if(typeof k==="function")a=k.call(e,c,a);switch(typeof a){case "string":return n(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=f;t=[];if(Object.prototype.toString.apply(a)==="[object Array]"){u=a.length;for(c=0;c<u;c+=1)t[c]=r(c,a)||"null";e=t.length===0?"[]":i?"[\n"+i+t.join(",\n"+i)+"\n"+w+"]":"["+t.join(",")+"]";i=w;return e}if(k&&typeof k==="object"){u=k.length;for(c=0;c<u;c+=1){j=k[c];if(typeof j==="string")if(e=r(j,a))t.push(n(j)+(i?": ":":")+e)}}else for(j in a)if(Object.hasOwnProperty.call(a,j))if(e=r(j,a))t.push(n(j)+(i?": ":":")+e);e=t.length===0?"{}":i?"{\n"+i+t.join(",\n"+i)+
"\n"+w+"}":"{"+t.join(",")+"}";i=w;return e}}d=d.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,f,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof d.stringify!=="function")d.stringify=function(c,e,j){var u;f=i="";if(typeof j==="number")for(u=0;u<j;u+=1)f+=" ";else if(typeof j==="string")f=j;if((k=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw new Error("JSON.stringify");return r("",
{"":c})};if(typeof d.parse!=="function")d.parse=function(c,e){function j(u,w){var t,a,b=u[w];if(b&&typeof b==="object")for(t in b)if(Object.hasOwnProperty.call(b,t)){a=j(b,t);if(a!==undefined)b[t]=a;else delete b[t]}return e.call(u,w,b)}c=String(c);p.lastIndex=0;if(p.test(c))c=c.replace(p,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){c=eval("("+c+")");return typeof e==="function"?j({"":c},""):c}throw new SyntaxError("JSON.parse");}});
(function(){function d(a,b,g,h,o,m){o=0;for(var v=h.length;o<v;o++){var x=h[o];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===g){A=h[x.sizset];break}if(x.nodeType===1&&!m){x.sizcache=g;x.sizset=o}if(x.nodeName.toLowerCase()===b){A=x;break}x=x[a]}h[o]=A}}}function s(a,b,g,h,o,m){o=0;for(var v=h.length;o<v;o++){var x=h[o];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===g){A=h[x.sizset];break}if(x.nodeType===1){if(!m){x.sizcache=g;x.sizset=o}if(typeof b!=="string"){if(x===b){A=true;break}}else if(f.filter(b,
[x]).length>0){A=x;break}}x=x[a]}h[o]=A}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=0,p=Object.prototype.toString,l=false,i=true;[0,0].sort(function(){i=false;return 0});var f=function(a,b,g,h){g=g||[];var o=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return g;var m=[],v,x,A,y,z=true,B=f.isXML(b),C=a,D;do{n.exec("");if(v=n.exec(C)){C=v[3];m.push(v[1]);if(v[2]){y=
v[3];break}}}while(v);if(m.length>1&&k.exec(a))if(m.length===2&&q.relative[m[0]])x=t(m[0]+m[1],b);else for(x=q.relative[m[0]]?[b]:f(m.shift(),b);m.length;){a=m.shift();if(q.relative[a])a+=m.shift();x=t(a,x)}else{if(!h&&m.length>1&&b.nodeType===9&&!B&&q.match.ID.test(m[0])&&!q.match.ID.test(m[m.length-1])){v=f.find(m.shift(),b,B);b=v.expr?f.filter(v.expr,v.set)[0]:v.set[0]}if(b){v=h?{expr:m.pop(),set:j(h)}:f.find(m.pop(),m.length===1&&(m[0]==="~"||m[0]==="+")&&b.parentNode?b.parentNode:b,B);x=v.expr?
f.filter(v.expr,v.set):v.set;if(m.length>0)A=j(x);else z=false;for(;m.length;){v=D=m.pop();if(q.relative[D])v=m.pop();else D="";if(v==null)v=b;q.relative[D](A,v,B)}}else A=[]}A||(A=x);A||f.error(D||a);if(p.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&f.contains(b,A[a])))g.push(x[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&g.push(x[a]);else g.push.apply(g,A);else j(A,g);if(y){f(y,o,g,h);f.uniqueSort(g)}return g};
f.uniqueSort=function(a){if(w){l=i;a.sort(w);if(l)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};f.matches=function(a,b){return f(a,null,null,b)};f.find=function(a,b,g){var h;if(!a)return[];for(var o=0,m=q.order.length;o<m;o++){var v=q.order[o],x;if(x=q.leftMatch[v].exec(a)){var A=x[1];x.splice(1,1);if(A.substr(A.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");h=q.find[v](x,b,g);if(h!=null){a=a.replace(q.match[v],"");break}}}}h||(h=b.getElementsByTagName("*"));return{set:h,
expr:a}};f.filter=function(a,b,g,h){for(var o=a,m=[],v=b,x,A,y=b&&b[0]&&f.isXML(b[0]);a&&b.length;){for(var z in q.filter)if((x=q.leftMatch[z].exec(a))!=null&&x[2]){var B=q.filter[z],C,D;D=x[1];A=false;x.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(v===m)m=[];if(q.preFilter[z])if(x=q.preFilter[z](x,v,g,m,h,y)){if(x===true)continue}else A=C=true;if(x)for(var E=0;(D=v[E])!=null;E++)if(D){C=B(D,x,E,v);var F=h^!!C;if(g&&C!=null)if(F)A=true;else v[E]=false;else if(F){m.push(D);A=true}}if(C!==undefined){g||
(v=m);a=a.replace(q.match[z],"");if(!A)return[];break}}}if(a===o)if(A==null)f.error(a);else break;o=a}return v};f.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var q=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var g=typeof b==="string",h=g&&!/\W/.test(b);g=g&&!h;if(h)b=b.toLowerCase();h=0;for(var o=a.length,m;h<o;h++)if(m=a[h]){for(;(m=m.previousSibling)&&m.nodeType!==1;);a[h]=g||m&&m.nodeName.toLowerCase()===
b?m||false:m===b}g&&f.filter(b,a,true)},">":function(a,b){var g=typeof b==="string",h,o=0,m=a.length;if(g&&!/\W/.test(b))for(b=b.toLowerCase();o<m;o++){if(h=a[o]){g=h.parentNode;a[o]=g.nodeName.toLowerCase()===b?g:false}}else{for(;o<m;o++)if(h=a[o])a[o]=g?h.parentNode:h.parentNode===b;g&&f.filter(b,a,true)}},"":function(a,b,g){var h=r++,o=s,m;if(typeof b==="string"&&!/\W/.test(b)){m=b=b.toLowerCase();o=d}o("parentNode",b,h,a,m,g)},"~":function(a,b,g){var h=r++,o=s,m;if(typeof b==="string"&&!/\W/.test(b)){m=
b=b.toLowerCase();o=d}o("previousSibling",b,h,a,m,g)}},find:{ID:function(a,b,g){if(typeof b.getElementById!=="undefined"&&!g)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var g=[];b=b.getElementsByName(a[1]);for(var h=0,o=b.length;h<o;h++)b[h].getAttribute("name")===a[1]&&g.push(b[h]);return g.length===0?null:g}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,g,h,o,m){a=" "+a[1].replace(/\\/g,"")+" ";
if(m)return a;m=0;for(var v;(v=b[m])!=null;m++)if(v)if(o^(v.className&&(" "+v.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))g||h.push(v);else if(g)b[m]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=r++;return a},ATTR:function(a,b,g,h,o,m){b=
a[1].replace(/\\/g,"");if(!m&&q.attrMap[b])a[1]=q.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,g,h,o){if(a[1]==="not")if((n.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=f(a[3],null,null,b);else{a=f.filter(a[3],b,g,true^o);g||h.push.apply(h,a);return false}else if(q.match.POS.test(a[0])||q.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,g){return!!f(g[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,g,h){return b===h.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,g){return b<g[3]-0},gt:function(a,b,g){return b>g[3]-0},nth:function(a,b,g){return g[3]-
0===b},eq:function(a,b,g){return g[3]-0===b}},filter:{PSEUDO:function(a,b,g,h){var o=b[1],m=q.filters[o];if(m)return m(a,g,b,h);else if(o==="contains")return(a.textContent||a.innerText||f.getText([a])||"").indexOf(b[3])>=0;else if(o==="not"){b=b[3];g=0;for(h=b.length;g<h;g++)if(b[g]===a)return false;return true}else f.error("Syntax error, unrecognized expression: "+o)},CHILD:function(a,b){var g=b[1],h=a;switch(g){case "only":case "first":for(;h=h.previousSibling;)if(h.nodeType===1)return false;if(g===
"first")return true;h=a;case "last":for(;h=h.nextSibling;)if(h.nodeType===1)return false;return true;case "nth":g=b[2];var o=b[3];if(g===1&&o===0)return true;b=b[0];var m=a.parentNode;if(m&&(m.sizcache!==b||!a.nodeIndex)){var v=0;for(h=m.firstChild;h;h=h.nextSibling)if(h.nodeType===1)h.nodeIndex=++v;m.sizcache=b}a=a.nodeIndex-o;return g===0?a===0:a%g===0&&a/g>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var g=b[1];a=q.attrHandle[g]?q.attrHandle[g](a):a[g]!=null?a[g]:a.getAttribute(g);g=a+"";var h=b[2];b=b[4];return a==null?h==="!=":h==="="?g===b:h==="*="?g.indexOf(b)>=0:h==="~="?(" "+g+" ").indexOf(b)>=0:!b?g&&a!==false:h==="!="?g!==b:h==="^="?g.indexOf(b)===0:h==="$="?g.substr(g.length-b.length)===b:h==="|="?g===b||g.substr(0,b.length+1)===b+"-":false},POS:function(a,b,g,h){var o=q.setFilters[b[2]];
if(o)return o(a,g,b,h)}}},k=q.match.POS,c=function(a,b){return"\\"+(b-0+1)};for(var e in q.match){q.match[e]=new RegExp(q.match[e].source+/(?![^\[]*\])(?![^\(]*\))/.source);q.leftMatch[e]=new RegExp(/(^(?:.|\r|\n)*?)/.source+q.match[e].source.replace(/\\(\d+)/g,c))}var j=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(u){j=function(a,b){b=b||[];var g=0;if(p.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var h=a.length;g<h;g++)b.push(a[g]);else for(;a[g];g++)b.push(a[g]);return b}}var w;if(document.documentElement.compareDocumentPosition)w=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)l=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)l=true;return a};else if("sourceIndex"in document.documentElement)w=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)l=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)l=true;return a};else if(document.createRange)w=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)l=true;return a.ownerDocument?-1:1}var g=a.ownerDocument.createRange(),h=b.ownerDocument.createRange();g.setStart(a,0);g.setEnd(a,0);h.setStart(b,0);h.setEnd(b,0);a=g.compareBoundaryPoints(Range.START_TO_END,h);if(a===0)l=true;return a};f.getText=function(a){for(var b="",g,h=0;a[h];h++){g=a[h];if(g.nodeType===3||g.nodeType===4)b+=g.nodeValue;else if(g.nodeType!==
8)b+=f.getText(g.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var g=document.documentElement;g.insertBefore(a,g.firstChild);if(document.getElementById(b)){q.find.ID=function(h,o,m){if(typeof o.getElementById!=="undefined"&&!m)return(o=o.getElementById(h[1]))?o.id===h[1]||typeof o.getAttributeNode!=="undefined"&&o.getAttributeNode("id").nodeValue===h[1]?[o]:undefined:[]};q.filter.ID=function(h,o){var m=typeof h.getAttributeNode!==
"undefined"&&h.getAttributeNode("id");return h.nodeType===1&&m&&m.nodeValue===o}}g.removeChild(a);g=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)q.find.TAG=function(b,g){g=g.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var h=0;g[h];h++)g[h].nodeType===1&&b.push(g[h]);g=b}return g};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")q.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=f,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){f=function(h,o,m,v){o=o||document;if(!v&&o.nodeType===9&&!f.isXML(o))try{return j(o.querySelectorAll(h),m)}catch(x){}return a(h,o,m,v)};for(var g in a)f[g]=a[g];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){q.order.splice(1,0,"CLASS");q.find.CLASS=function(b,g,h){if(typeof g.getElementsByClassName!=="undefined"&&!h)return g.getElementsByClassName(b[1])};a=null}}})();f.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};f.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var t=function(a,b){var g=[],h="",o;for(b=b.nodeType?[b]:b;o=q.match.PSEUDO.exec(a);){h+=o[0];a=a.replace(q.match.PSEUDO,"")}a=q.relative[a]?a+"*":a;o=0;for(var m=b.length;o<m;o++)f(a,b[o],g);return f.filter(h,g)};KISSY.ExternalSelector=f;KISSY.ExternalSelector._filter=function(a,b){return f.matches(b,KISSY.query(a))}})();
KISSY.add("anim-easing",function(d){var s=Math,n=s.PI,r=s.pow,p=s.sin,l=1.70158,i={easeNone:function(f){return f},easeIn:function(f){return f*f},easeOut:function(f){return(2-f)*f},easeBoth:function(f){return(f*=2)<1?0.5*f*f:0.5*(1- --f*(f-2))},easeInStrong:function(f){return f*f*f*f},easeOutStrong:function(f){return 1- --f*f*f*f},easeBothStrong:function(f){return(f*=2)<1?0.5*f*f*f*f:0.5*(2-(f-=2)*f*f*f)},elasticIn:function(f){if(f===0||f===1)return f;return-(r(2,10*(f-=1))*p((f-0.075)*2*n/0.3))},
elasticOut:function(f){if(f===0||f===1)return f;return r(2,-10*f)*p((f-0.075)*2*n/0.3)+1},elasticBoth:function(f){if(f===0||(f*=2)===2)return f;if(f<1)return-0.5*r(2,10*(f-=1))*p((f-0.1125)*2*n/0.45);return r(2,-10*(f-=1))*p((f-0.1125)*2*n/0.45)*0.5+1},backIn:function(f){if(f===1)f-=0.0010;return f*f*((l+1)*f-l)},backOut:function(f){return(f-=1)*f*((l+1)*f+l)+1},backBoth:function(f){if((f*=2)<1)return 0.5*f*f*(((l*=1.525)+1)*f-l);return 0.5*((f-=2)*f*(((l*=1.525)+1)*f+l)+2)},bounceIn:function(f){return 1-
i.bounceOut(1-f)},bounceOut:function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375},bounceBoth:function(f){if(f<0.5)return i.bounceIn(f*2)*0.5;return i.bounceOut(f*2-1)*0.5+0.5}};d.Easing=i});
KISSY.add("anim",function(d,s){function n(t,a,b,g,h){if(t=d.get(t)){if(!(this instanceof n))return new n(t,a,b,g,h);var o=d.isPlainObject(b);a=a;this.domEl=t;if(d.isPlainObject(a))a=d.param(a,";").replace(/=/g,":");this.props=r(a);this.targetStyle=a;if(o)t=d.merge(w,b);else{t=d.clone(w);b&&(t.duration=c(b,10)||1);d.isString(g)&&(g=k[g]);d.isFunction(g)&&(t.easing=g);d.isFunction(h)&&(t.complete=h)}this.config=t;d.isFunction(h)&&this.on(u,h)}}function r(t){var a={},b=j.length,g;e.innerHTML='<div style="'+
t+'"></div>';for(t=e.childNodes[0].style;b--;)if(g=t[j[b]])a[j[b]]=p(g);return a}function p(t){var a=c(t);t=(t+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:t,u:"",f:i}:{v:a,u:t,f:l}}function l(t,a,b){return(t+(a-t)*b).toFixed(3)}function i(t,a,b){for(var g=2,h,o,m=[],v=[];h=3,o=arguments[g-1],g--;)if(f(o,0,4)==="rgb(")for(o=o.match(/\d+/g);h--;)m.push(~~o[h]);else if(f(o,0)==="#"){if(o.length===4)o="#"+f(o,1)+f(o,1)+f(o,2)+f(o,2)+f(o,3)+f(o,3);for(;h--;)m.push(parseInt(f(o,1+h*2,2),16))}else return a;
for(;h--;){g=~~(m[h+3]+(m[h]-m[h+3])*b);v.push(g<0?0:g>255?255:g)}return"rgb("+v.join(",")+")"}function f(t,a,b){return t.substr(a,b||1)}var q=d.DOM,k=d.Easing,c=parseFloat,e=q.create("<div>"),j="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="complete",w={duration:1,easing:k.easeNone};d.augment(n,d.EventTarget,{run:function(){var t=this,a=t.config,b=t.domEl,g=a.duration*1E3,h=a.easing,o=d.now(),m=o+g,v=t.props,x={},A;for(A in v)x[A]=p(q.css(b,A));if(t.fire("start")!==false){t.stop();t.timer=d.later(a=function(){var y=d.now(),z=y>m?1:(y-o)/g,B,C,D;for(A in v){B=x[A];C=v[A];if(B.u!==C.u)B.v=0;q.css(b,A,C.f(B.v,C.v,h(z))+C.u)}if(t.fire("step")===false||(D=y>m)){t.stop();D&&t.fire(u)}},13,true);a();return t}},stop:function(t){var a=this.domEl,
b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=s}if(t){d.UA.ie&&b.indexOf("opacity")>-1&&q.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(u)}return this}});d.Anim=n});KISSY.add("anim-node-plugin",function(d,s){var n=d.Anim;d.each([d.Node.prototype,d.NodeList.prototype],function(r){r.animate=function(){var p=d.makeArray(arguments);d.each(this,function(l){n.apply(s,[l].concat(p)).run()});return this}})});
KISSY.add("datalazyload",function(d,s){function n(e,j){if(!(this instanceof n))return new n(e,j);if(j===s){j=e;e=[i]}d.isArray(e)||(e=[d.get(e)||i]);this.containers=e;this.config=d.merge(c,j);this._init()}var r=d.DOM,p=d.Event,l=window,i=document,f={AUTO:"auto",MANUAL:"manual"},q="scroll",k="resize",c={mod:f.MANUAL,diff:"default",placeholder:"none"};d.augment(n,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var e=
this.containers,j,u,w,t=[],a=[];j=0;for(u=e.length;j<u;++j){w=d.query("img",e[j]);t=t.concat(d.filter(w,this._filterImg,this));w=d.query("textarea",e[j]);a=a.concat(d.filter(w,this._filterArea,this))}this.images=t;this.areas=a},_filterImg:function(e){var j=e.getAttribute("data-lazyload-src"),u=this.threshold,w=this.config.placeholder;if(this.config.mod===f.MANUAL){if(j){if(w!=="none")e.src=w;return true}}else if(r.offset(e).top>u&&!j){r.attr(e,"data-lazyload-src",e.src);if(w!=="none")e.src=w;else e.removeAttribute("src");
return true}},_filterArea:function(e){return r.hasClass(e,"ks-datalazyload")},_initLoadEvent:function(){function e(){u||(u=setTimeout(function(){j();u=null},100))}function j(){w._loadItems();if(w._getItemsLength()===0){p.remove(l,q,e);p.remove(l,k,e)}}var u,w=this;p.on(l,q,e);p.on(l,k,function(){w.threshold=w._getThreshold();e()});w._getItemsLength()&&d.ready(function(){j()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=d.filter(this.images,this._loadImg,
this)},_loadImg:function(e){var j=this.threshold+r.scrollTop();if(r.offset(e).top<=j)this._loadImgSrc(e);else return true},_loadImgSrc:function(e,j){j=j||"data-lazyload-src";var u=e.getAttribute(j);if(u&&e.src!=u){e.src=u;e.removeAttribute(j)}},_loadAreas:function(){this.areas=d.filter(this.areas,this._loadArea,this)},_loadArea:function(e){var j=r.offset(e).top;if(!j&&r.css(e,"none")=="none")j=r.offset(e.parentNode).top;if(j<=this.threshold+r.scrollTop())this._loadAreaData(e.parentNode,e);else return true},
_loadAreaData:function(e,j){j.style.display="none";j.className="";var u=r.create("<div>");e.insertBefore(u,j);r.html(u,j.value,true)},_getThreshold:function(){var e=this.config.diff,j=r.viewportHeight();return e==="default"?2*j:j+e},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(e,j,u){var w=this,t,a;d.isArray(e)||(e=[d.get(e)]);d.each(e,function(b){switch(j){case "textarea-data":if((t=d.get("textarea",b))&&r.hasClass(t,u||"ks-datalazyload-custom"))w._loadAreaData(b,
t);break;default:a=b.nodeName==="IMG"?[b]:d.query("img",b);d.each(a,function(g){w._loadImgSrc(g,u||"data-lazyload-src-custom")})}})}});d.mix(n,n.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);d.DataLazyload=n});
KISSY.add("switchable",function(d,s){function n(l,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=d.merge(n.Config,i);this.container=d.get(l);this.config=i;this.activeIndex=i.activeIndex;this._init()}var r=d.DOM,p=d.Event;n.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"active",steps:1,viewSize:[]};n.Plugins=[];d.augment(n,d.EventTarget,{_init:function(){var l=this,i=l.config;if(l.fire("beforeInit")!==false){l._parseMarkup();i.hasTriggers&&l._bindTriggers();d.each(n.Plugins,function(f){f.init&&f.init(l)});l.fire("init")}},_parseMarkup:function(){var l=this.container,i=this.config,f,q=[],k=[];switch(i.markupType){case 0:if(f=d.get("."+i.navCls,l))q=r.children(f);f=d.get("."+i.contentCls,l);k=r.children(f);break;case 1:q=d.query("."+i.triggerCls,
l);k=d.query("."+i.panelCls,l);break;case 2:q=i.triggers;k=i.panels;break}l=k.length;this.length=l/i.steps;if(i.hasTriggers&&l>0&&q.length===0)q=this._generateTriggersMarkup(this.length);this.triggers=d.makeArray(q);this.panels=d.makeArray(k);this.content=f||k[0].parentNode},_generateTriggersMarkup:function(l){var i=this.config,f=r.create("<ul>"),q,k;f.className=i.navCls;for(k=0;k<l;k++){q=r.create("<li>");if(k===this.activeIndex)q.className=i.activeTriggerCls;q.innerHTML=k+1;f.appendChild(q)}this.container.appendChild(f);
return r.children(f)},_bindTriggers:function(){var l=this,i=l.config,f=l.triggers,q,k,c=f.length;for(k=0;k<c;k++)(function(e){q=f[e];p.on(q,"click focus",function(){l._onFocusTrigger(e)});if(i.triggerType==="mouse"){p.on(q,"mouseenter",function(){l._onMouseEnterTrigger(e)});p.on(q,"mouseleave",function(){l._onMouseLeaveTrigger(e)})}})(k)},_onFocusTrigger:function(l){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(l)}},_onMouseEnterTrigger:function(l){var i=this;if(i._triggerIsValid())i.switchTimer=
d.later(function(){i.switchTo(l)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(l){return this.activeIndex!==l},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=s}},switchTo:function(l,i){var f=this.config,q=this.triggers,k=this.panels,c=this.activeIndex,e=f.steps,j=c*e,u=l*e;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:l})===false)return this;if(f.hasTriggers)this._switchTrigger(c>
-1?q[c]:null,q[l]);if(i===s)i=l>c?"forward":"backward";this._switchView(k.slice(j,j+e),k.slice(u,u+e),l,i);this.activeIndex=l;return this},_switchTrigger:function(l,i){var f=this.config.activeTriggerCls;l&&r.removeClass(l,f);r.addClass(i,f)},_switchView:function(l,i,f){r.css(l,"display","none");r.css(i,"display","block");this._fireOnSwitch(f)},_fireOnSwitch:function(l){this.fire("switch",{currentIndex:l})},prev:function(){var l=this.activeIndex;this.switchTo(l>0?l-1:this.length-1,"backward")},next:function(){var l=
this.activeIndex;this.switchTo(l<this.length-1?l+1:0,"forward")}});d.Switchable=n});
KISSY.add("switchable-autoplay",function(d,s){var n=d.Event,r=d.Switchable;d.mix(r.Config,{autoplay:false,interval:5,pauseOnHover:true});r.Plugins.push({name:"autoplay",init:function(p){var l=p.config,i=l.interval*1E3,f;if(l.autoplay){if(l.pauseOnHover){n.on(p.container,"mouseenter",function(){if(f){f.cancel();f=s}p.paused=true});n.on(p.container,"mouseleave",function(){f=d.later(function(){p.paused=false;f=s},i)})}p.autoplayTimer=d.later(function(){p.paused||p.switchTo(p.activeIndex<p.length-1?p.activeIndex+
1:0,"forward")},i,true)}}})});
KISSY.add("switchable-effect",function(d,s){var n=d.DOM,r=d.Anim,p=d.Switchable,l;d.mix(p.Config,{effect:"none",duration:0.5,easing:"easeNone"});p.Effects={none:function(i,f,q){n.css(i,"display","none");n.css(f,"display","block");q()},fade:function(i,f,q){i.length!==1&&d.error("fade effect only supports steps == 1.");var k=this,c=k.config,e=i[0],j=f[0];k.anim&&k.anim.stop(true);n.css(j,"opacity",1);k.anim=(new r(e,{opacity:0},c.duration,c.easing,function(){k.anim=s;n.css(j,"z-index",9);n.css(e,"z-index",
1);q()})).run()},scroll:function(i,f,q,k){var c=this;i=c.config;f=i.effect==="scrollx";var e={};e[f?"left":"top"]=-(c.viewSize[f?0:1]*k)+"px";c.anim&&c.anim.stop();c.anim=(new r(c.content,e,i.duration,i.easing,function(){c.anim=s;q()})).run()}};l=p.Effects;l.scrollx=l.scrolly=l.scroll;p.Plugins.push({name:"effect",init:function(i){var f=i.config,q=f.effect,k=i.panels,c=i.content,e=f.steps,j=i.activeIndex,u=k.length;i.viewSize=[f.viewSize[0]||k[0].offsetWidth*e,f.viewSize[1]||k[0].offsetHeight*e];
if(q!=="none"){d.each(k,function(b){n.css(b,"display","block")});switch(q){case "scrollx":case "scrolly":n.css(c,"position","absolute");n.css(c.parentNode,"position","relative");if(q==="scrollx"){n.css(k,"float","left");n.width(c,i.viewSize[0]*(u/e))}break;case "fade":var w=j*e,t=w+e-1,a;d.each(k,function(b,g){a=g>=w&&g<=t;n.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});d.augment(p,{_switchView:function(i,f,q,k){var c=this,e=c.config.effect;(d.isFunction(e)?e:l[e]).call(c,i,
f,function(){c._fireOnSwitch(q)},q,k)}})});
KISSY.add("switchable-circular",function(d,s){function n(a,b,g,h,o){var m=this;a=m.config;b=m.length;var v=m.activeIndex,x=a.scrollType===w,A=x?q:k,y=m.viewSize[x?0:1];x=-y*h;var z={},B,C=o===u;if(B=C&&v===0&&h===b-1||o===j&&v===b-1&&h===0)x=r.call(m,m.panels,h,C,A,y);z[A]=x+e;m.anim&&m.anim.stop();m.anim=(new d.Anim(m.content,z,a.duration,a.easing,function(){B&&p.call(m,m.panels,h,C,A,y);m.anim=s;g()})).run()}function r(a,b,g,h,o){var m=this.config.steps;b=this.length;var v=g?b-1:0,x=(v+1)*m;for(m=
v*m;m<x;m++){l.css(a[m],i,f);l.css(a[m],h,(g?-1:1)*o*b)}return g?o:-o*b}function p(a,b,g,h,o){var m=this.config.steps;b=this.length;var v=g?b-1:0,x=(v+1)*m;for(m=v*m;m<x;m++){l.css(a[m],i,c);l.css(a[m],h,c)}l.css(this.content,h,g?-o*(b-1):c)}var l=d.DOM,i="position",f="relative",q="left",k="top",c="",e="px",j="forward",u="backward",w="scrollx",t=d.Switchable;d.mix(t.Config,{circular:false});t.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===w||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=n}}})});
KISSY.add("switchable-lazyload",function(d){var s=d.DOM,n="beforeSwitch",r="img-src",p="textarea-data",l={},i=d.Switchable;l[r]="data-lazyload-src-custom";l[p]="ks-datalazyload-custom";d.mix(i.Config,{lazyDataType:"",lazyDataFlag:""});i.Plugins.push({name:"lazyload",init:function(f){function q(w){var t=e.steps;w=w.toIndex*t;c.loadCustomLazyData(f.panels.slice(w,w+t),j,u);k()&&f.detach(n,q)}function k(){var w,t,a,b=j===r;if(w=b?"img":j===p?"textarea":""){w=d.query(w,f.container);t=0;for(a=w.length;t<
a;t++)if(b?s.attr(w[t],u):s.hasClass(w[t],u))return false}return true}var c=d.DataLazyload,e=f.config,j=e.lazyDataType,u=e.lazyDataFlag||l[j];!c||!j||!u||f.on(n,q)}})});KISSY.add("tabs",function(d){function s(n,r){if(!(this instanceof s))return new s(n,r);s.superclass.constructor.call(this,n,r)}d.extend(s,d.Switchable);d.Tabs=s});
KISSY.add("slide",function(d){function s(r,p){if(!(this instanceof s))return new s(r,p);s.superclass.constructor.call(this,r,d.merge(n,p))}var n={autoplay:true,circular:true};d.extend(s,d.Switchable);d.Slide=s});
KISSY.add("carousel",function(d,s){function n(c,e){var j=this;if(!(j instanceof n))return new n(c,e);j.on("init",function(){r(j)});n.superclass.constructor.call(j,c,d.merge(k,e))}function r(c){var e=c.config,j=e.disableBtnCls;d.each(["prev","next"],function(u){var w=c[u+"Btn"]=d.get(i+e[u+"BtnCls"],c.container);l.on(w,"click",function(t){t.preventDefault();p.hasClass(w,j)||c[u]()})});e.circular||c.on("switch",function(u){u=u.currentIndex;u=u===0?c[f]:u===c.length-1?c[q]:s;p.removeClass([c[f],c[q]],
j);u&&p.addClass(u,j)});l.on(c.panels,"click focus",function(){c.fire("itemSelected",{item:this})})}var p=d.DOM,l=d.Event,i=".",f="prevBtn",q="nextBtn",k={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};d.extend(n,d.Switchable);d.Carousel=n});
KISSY.add("accordion",function(d){function s(p,l){if(!(this instanceof s))return new s(p,l);s.superclass.constructor.call(this,p,d.merge(r,l))}var n=d.DOM,r={triggerType:"click",multiple:false};d.extend(s,d.Switchable);d.Accordion=s;d.augment(s,{_triggerIsValid:function(p){return this.activeIndex!==p||this.config.multiple},_switchView:function(p,l,i){var f=this.config,q=l[0];if(f.multiple){n.toggleClass(this.triggers[i],f.activeTriggerCls);n.css(q,"display",q.style.display=="none"?"block":"none");
this._fireOnSwitch(i)}else s.superclass._switchView.call(this,p,l,i)}})});
KISSY.add("suggest",function(d,s){function n(c,e,j){if(!(this instanceof n))return new n(c,e,j);this.textInput=d.get(c);this.dataSource=e;this.JSONDataSource=d.isPlainObject(e)?e:null;this.returnedData=null;this.config=d.merge(k,j||{});this.container=null;this.queryParams=this.query="";this._timer=null;this._isRunning=false;this.dataScript=null;this._dataCache={};this._latestScriptTime="";this._onKeyboardSelecting=this._scriptDataIsOut=false;this.selectedItem=null;this._init()}var r=d.DOM,p=d.Event,
l=window,i=document,f=i.getElementsByTagName("head")[0],q=d.UA.ie,k={containerCls:"",containerWidth:"",resultFormat:"\u7ea6%result%\u6761\u7ed3\u679c",showCloseBtn:false,closeBtnText:"\u5173\u95ed",useShim:q===6,timerDelay:200,autoFocus:false,submitFormOnClickSelect:true};d.augment(n,d.EventTarget,{_init:function(){this._initTextInput();this._initContainer();this.config.useShim&&this._initShim();this._initStyle();this._initResizeEvent()},_initTextInput:function(){var c=this;c.textInput.setAttribute("autocomplete",
"off");p.on(c.textInput,"blur",function(){c.stop();c.hide()});c.config.autoFocus&&c.textInput.focus();var e=0;p.on(c.textInput,"keydown",function(j){j=j.keyCode;switch(j){case 27:c.hide();c.textInput.value=c.query;c.query.length===0&&c.textInput.blur();break;case 13:c.textInput.blur();c._onKeyboardSelecting&&c.textInput.value==c._getSelectedItemKey()&&c.fire("itemSelect");c._submitForm();break;case 40:case 38:if(e++==0){c._isRunning&&c.stop();c._onKeyboardSelecting=true;c.selectItem(j===40)}else if(e==
3)e=0;break}if(j!=40&&j!=38){c._isRunning||c.start();c._onKeyboardSelecting=false}});p.on(c.textInput,"keyup",function(){e=0})},_initContainer:function(){var c=i.createElement("div"),e=this.config.containerCls;c.className="ks-suggest-container";if(e)c.className+=" "+e;c.style.position="absolute";c.style.visibility="hidden";this.container=c;this._setContainerRegion();this._initContainerEvent();i.body.insertBefore(c,i.body.firstChild)},_setContainerRegion:function(){var c=this.textInput,e=r.offset(c),
j=this.container;r.offset(j,{left:e.left,top:e.top+c.offsetHeight-1});r.width(j,this.config.containerWidth||c.offsetWidth-2)},_initContainerEvent:function(){var c=this;p.on(c.container,"mousemove",function(j){j=j.target;if(j.nodeName!=="LI")j=r.parent(j,".li");if(r.contains(c.container,j))if(j!==c.selectedItem){c._removeSelectedItem();c._setSelectedItem(j)}});var e=null;p.on(c.container,"mousedown",function(j){e=j.target;c.textInput.onbeforedeactivate=function(){l.event.returnValue=false;c.textInput.onbeforedeactivate=
null};return false});p.on(c.container,"mouseup",function(j){if(c._isInContainer([j.pageX,j.pageY])){j=j.target;if(j==e)if(j.className=="ks-suggest-close-btn")c.hide();else{if(j.nodeName!="LI")j=r.parent(j,".li");if(r.contains(c.container,j)){c._updateInputFromSelectItem(j);c.fire("itemSelect");c.textInput.blur();c._submitForm()}}}})},_submitForm:function(){if(this.config.submitFormOnClickSelect){var c=this.textInput.form;if(c){if(i.createEvent){var e=i.createEvent("MouseEvents");e.initEvent("submit",
true,false);c.dispatchEvent(e)}else i.createEventObject&&c.fireEvent("onsubmit");c.submit()}}},_isInContainer:function(c){var e=this._getContainerRegion();return c[0]>=e.left&&c[0]<=e.right&&c[1]>=e.top&&c[1]<=e.bottom},_initShim:function(){var c=i.createElement("iframe");c.src="about:blank";c.className="ks-suggest-shim";c.style.position="absolute";c.style.visibility="hidden";c.style.border="none";this.container.shim=c;this._setShimRegion();i.body.insertBefore(c,i.body.firstChild)},_setShimRegion:function(){var c=
this.container,e=c.shim;if(e){e.style.left=parseInt(c.style.left)-2+"px";e.style.top=c.style.top;e.style.width=parseInt(c.style.width)+2+"px"}},_initStyle:function(){d.get("#ks-suggest-style")||r.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container li.selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container li.selected span{color:#FFF;cursor:default}.ks-suggest-bottom{padding:0 5px 5px}.ks-suggest-close-btn{float:right}.ks-suggest-container li,.suggest-bottom{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initResizeEvent:function(){var c=this,e;p.on(l,"resize",function(){e&&clearTimeout(e);e=setTimeout(function(){c._setContainerRegion();c._setShimRegion()},50)})},start:function(){var c=this;n.focusInstance=c;c._timer=setTimeout(function(){c.updateContent();c._timer=setTimeout(arguments.callee,c.config.timerDelay)},c.config.timerDelay);c._isRunning=true},stop:function(){n.focusInstance=null;clearTimeout(this._timer);this._isRunning=false},show:function(){if(!this.isVisible()){var c=
this.container,e=c.shim;c.style.visibility="";if(e){if(!e.style.height)e.style.height=c.offsetHeight-2+"px";e.style.visibility=""}}},hide:function(){if(this.isVisible()){var c=this.container,e=c.shim;if(e)e.style.visibility="hidden";c.style.visibility="hidden"}},isVisible:function(){return this.container.style.visibility!="hidden"},updateContent:function(){if(this._needUpdate()){this._updateQueryValueFromInput();var c=this.query;if(d.trim(c).length)if(this._dataCache[c]!==s){this.returnedData="using cache";
this._fillContainer(this._dataCache[c]);this._displayContainer()}else this.JSONDataSource?this.handleResponse(this.JSONDataSource[c]):this.requestData();else{this._fillContainer("");this.hide()}}},_needUpdate:function(){return this.textInput.value!=this.query},requestData:function(){var c=this;if(!q)c.dataScript=null;if(!c.dataScript){var e=i.createElement("script");e.charset="utf-8";f.insertBefore(e,f.firstChild);c.dataScript=e;if(!q){var j=(new Date).getTime();c._latestScriptTime=j;e.setAttribute("time",
j);p.on(e,"load",function(){c._scriptDataIsOut=e.getAttribute("time")!=c._latestScriptTime})}}c.queryParams="q="+encodeURIComponent(c.query)+"&code=utf-8&callback=g_ks_suggest_callback";c.fire("dataRequest");c.dataScript.src=c.dataSource+"?"+c.queryParams},handleResponse:function(c){if(!this._scriptDataIsOut){this.returnedData=c;this.fire("dataReturn");this.returnedData=this.formatData(this.returnedData);var e="";c=this.returnedData.length;if(c>0){e=i.createElement("ol");for(var j=0;j<c;++j){var u=
this.returnedData[j],w=this.formatItem(u.key,u.result);w.setAttribute("key",u.key);r.addClass(w,j%2?"even":"odd");e.appendChild(w)}e=e}this._fillContainer(e);c>0&&this.appendBottom();d.trim(this.container.innerHTML)&&this.fire("show");this._dataCache[this.query]=this.container.innerHTML;this._displayContainer()}},formatData:function(c){var e=[];if(!c)return e;if(d.isArray(c.result))c=c.result;var j=c.length;if(!j)return e;for(var u,w=0;w<j;++w){u=c[w];e[w]=typeof u==="string"?{key:u}:d.isArray(u)&&
u.length>=2?{key:u[0],result:u[1]}:u}return e},formatItem:function(c,e){var j=i.createElement("li"),u=i.createElement("span");u.className="ks-suggest-key";u.appendChild(i.createTextNode(c));j.appendChild(u);if(e!==s){c=this.config.resultFormat.replace("%result%",e);if(d.trim(c)){e=i.createElement("span");e.className="ks-suggest-result";e.appendChild(i.createTextNode(c));j.appendChild(e)}}return j},appendBottom:function(){var c=i.createElement("div");c.className="ks-suggest-bottom";if(this.config.showCloseBtn){var e=
i.createElement("a");e.href="javascript: void(0)";e.setAttribute("target","_self");e.className="ks-suggest-close-btn";e.appendChild(i.createTextNode(this.config.closeBtnText));c.appendChild(e)}d.trim(c.innerHTML)&&this.container.appendChild(c)},_fillContainer:function(c){if(c.nodeType==1){this.container.innerHTML="";this.container.appendChild(c)}else this.container.innerHTML=c;this.selectedItem=null},_displayContainer:function(){d.trim(this.container.innerHTML)?this.show():this.hide()},selectItem:function(c){var e=
this.container.getElementsByTagName("li");if(e.length!=0)if(this.isVisible()){if(this.selectedItem){c=r[c?"next":"prev"](this.selectedItem);if(!c)this.textInput.value=this.query}else c=e[c?0:e.length-1];this._removeSelectedItem();if(c){this._setSelectedItem(c);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){r.removeClass(this.selectedItem,"selected");this.selectedItem=null},_setSelectedItem:function(c){r.addClass(c,"selected");this.selectedItem=c},_getSelectedItemKey:function(){if(!this.selectedItem)return"";
return this.selectedItem.getAttribute("key")},_updateQueryValueFromInput:function(){this.query=this.textInput.value},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)},_getContainerRegion:function(){var c=this.container,e=r.offset(c),j=e.left;e=e.top;return{left:j,top:e,right:j+c.offsetWidth-1,bottom:e+c.offsetHeight-1}}});l.g_ks_suggest_callback=function(c){n.focusInstance&&setTimeout(function(){n.focusInstance.handleResponse(c)},0)};d.Suggest=
n});
KISSY.add("flash-ua",function(d){function s(){var k;if(navigator.plugins&&navigator.mimeTypes.length)k=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{k=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(c){}if(k)return n(k)}function n(k){return k.match(/(\d)+/g)}function r(k){var c=d.isString(k)?n(k):k;k=k;if(d.isArray(c))k=parseFloat(c[0]+"."+p(c[1],3)+p(c[2],5));return k||0}function p(k,c){for(var e=(k+"").length;e++<c;)k="0"+
k;return k}var l=d.UA,i,f,q=true;l.fpv=function(k){if(k||q){q=false;i=s();f=r(i)}return i};l.fpvGEQ=function(k,c){q&&l.fpv(c);return!!f&&f>=r(k)}});KISSY.add("flash",function(d){d.Flash={swfs:{length:0}}});
KISSY.add("flash-embed",function(d){function s(k,c,e){var j=r.create("<param>");r.attr(j,{name:c,value:e});k.appendChild(j)}var n=d.UA,r=d.DOM,p=d.Flash,l=/object|embed/i,i=encodeURIComponent,f={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},q={params:{},attrs:{width:215,height:138},version:9};d.mix(p,{fpv:n.fpv,fpvGEQ:n.fpvGEQ,len:function(){return p.swfs.length},
add:function(k,c,e){var j,u;c=p._normalize(c);c=d.merge(q,c);c.attrs=d.merge(q.attrs,c.attrs);if(k=d.get(k)){if(!k.id)k.id=d.guid("ks-flash-");u=c.attrs.id="#"+k.id;if(n.fpv()){if(!n.fpvGEQ(c.version)){this._callback(e,0,u,k);if(!((j=c.xi)&&d.isString(j)))return;c.src=j}if(l.test(k.nodeName))this._register(k,c,e);else c.src?this._embed(k,c,e):this._callback(e,-3,u,k)}else this._callback(e,-1,u,k)}else this._callback(e,-2)},get:function(k){return p.swfs[k]},remove:function(k){if(k=p.get(k)){r.remove(k);
delete p.swfs["#"+k.id];p.swfs.length-=1}},contains:function(k){var c=p.swfs,e,j=false;if(d.isString(k))j=k in c;else for(e in c)if(c[e]===k){j=true;break}return j},_register:function(k,c,e){c=c.attrs.id;p._addSWF(c,k);p._callback(e,1,c,k)},_embed:function(k,c,e){var j=p._createSWF(c.src,c.attrs,c.params);if(n.ie)k.outerHTML=j.outerHTML;else k.parentNode.replaceChild(j,k);p._register(k,c,e)},_callback:function(k,c,e,j){c&&d.isFunction(k)&&k({status:c,id:e,swf:j})},_addSWF:function(k,c){if(k&&c){p.swfs[k]=
c;p.swfs.length+=1}},_createSWF:function(k,c,e){var j=r.create("<object>"),u;r.attr(j,c);if(n.ie){r.attr(j,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");s(j,"movie",k)}else r.attr(j,{type:"application/x-shockwave-flash",data:k,name:c.id});for(u in e)u in f&&s(j,u,e[u]);e.flashvars&&s(j,"flashvars",p.toFlashVars(e.flashvars));return j},_normalize:function(k){var c,e,j,u=k;if(d.isPlainObject(k)){u={};for(j in k){c=j.toLowerCase();e=k[j];if(c!=="flashvars")e=p._normalize(e);u[c]=e}}return u},
toFlashVars:function(k){if(!d.isPlainObject(k))return"";var c,e,j=[];for(c in k){e=k[c];if(d.isString(e))e='"'+i(e)+'"';else{e=d.JSON.stringify(e);if(!e)continue;e=e.replace(/:"([^"]+)/g,function(u,w){return':"'+i(w)})}j.push(c+"="+e)}return j.join("&")}})});
