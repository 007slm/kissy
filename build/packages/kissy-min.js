/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(a,v){var u={mix:function(g,d,t,o){if(!d||!g)return g;if(t===v)t=true;var n,e,s;if(o&&(s=o.length))for(n=0;n<s;n++){e=o[n];if(e in d)if(t||!(e in g))g[e]=d[e]}else for(e in d)if(t||!(e in g))g[e]=d[e];return g}},k=this,f=k[a]||{},l=0;if(!f.mix)f.mix=u.mix;a=k[a]=f;a.mix(a,{__HOST:k,__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var g={},d,t=arguments.length;for(d=0;d<t;++d)a.mix(g,arguments[d]);return g},augment:function(){var g=arguments,d=
g.length-2,t=g[0],o=g[d],n=g[d+1],e=1;if(!a.isArray(n)){o=n;n=v;d++}if(!a.isBoolean(o)){o=v;d++}for(;e<d;e++)a.mix(t.prototype,g[e].prototype||g[e],o,n);return t},extend:function(g,d,t,o){if(!d||!g)return g;var n=Object.prototype,e=d.prototype,s=function(r){function q(){}q.prototype=r;return new q}(e);g.prototype=s;s.constructor=g;g.superclass=e;if(d!==Object&&e.constructor===n.constructor)e.constructor=d;t&&a.mix(s,t);o&&a.mix(g,o);return g},__init:function(){this.Config=this.Config||{};this.Env=
this.Env||{};this.Config.debug=""},namespace:function(){var g=arguments,d=g.length,t=null,o,n,e,s=g[d-1]===true&&d--;for(o=0;o<d;++o){e=(""+g[o]).split(".");t=s?k:this;for(n=k[e[0]]===t?1:0;n<e.length;++n)t=t[e[n]]=t[e[n]]||{}}return t},app:function(g,d){var t=a.isString(g),o=t?k[g]||{}:g,n=0,e=a.__APP_INIT_METHODS.length;for(a.mix(o,this,true,a.__APP_MEMBERS);n<e;++n)a[a.__APP_INIT_METHODS[n]].call(o);a.mix(o,a.isFunction(d)?d():d);t&&(k[g]=o);return o},log:function(g,d,t){if(a.Config.debug){if(t)g=
t+": "+g;if(k.console!==v&&console.log)console[d&&console[d]?d:"log"](g)}},error:function(g){if(a.Config.debug)throw g;},guid:function(g){return(g||"")+l++}});a.__init()})("KISSY");
(function(a,v){var u=a.__HOST,k=Array.prototype.indexOf,f=Array.prototype.lastIndexOf,l=Array.prototype.filter,g=String.prototype.trim,d=/^\s+|\s+$/g,t={};a.mix(a,{type:function(o){return o==null?String(o):t[Object.prototype.toString.call(o)]||"object"},isNull:function(o){return o===null},isUndefined:function(o){return o===v},isEmptyObject:function(o){for(var n in o)return false;return true},isPlainObject:function(o){return a.type(o)==="object"&&"isPrototypeOf"in o},clone:function(o){var n=o,e,s;
if(o&&((e=a.isArray(o))||a.isPlainObject(o))){n=e?[]:{};for(s in o)if(o.hasOwnProperty(s))n[s]=a.clone(o[s])}return n},trim:g?function(o){return o==v?"":g.call(o)}:function(o){return o==v?"":o.toString().replace(d,"")},substitute:function(o,n,e){if(!a.isString(o)||!a.isPlainObject(n))return o;return o.replace(e||/\\?\{([^{}]+)\}/g,function(s,r){if(s.charAt(0)==="\\")return s.slice(1);return n[r]!==v?n[r]:""})},each:function(o,n,e){var s,r=0,q=o.length,h=q===v||a.type(o)==="function";e=e||u;if(h)for(s in o){if(n.call(e,
o[s],s,o)===false)break}else for(s=o[0];r<q&&n.call(e,s,r,o)!==false;s=o[++r]);return o},indexOf:k?function(o,n){return k.call(n,o)}:function(o,n){for(var e=0,s=n.length;e<s;++e)if(n[e]===o)return e;return-1},lastIndexOf:f?function(o,n){return f.call(n,o)}:function(o,n){for(var e=n.length-1;e>=0;e--)if(n[e]===o)break;return e},unique:function(o,n){n&&o.reverse();for(var e=o.slice(),s=0,r,q;s<e.length;){for(q=e[s];(r=a.lastIndexOf(q,e))!==s;)e.splice(r,1);s+=1}n&&e.reverse();return e},inArray:function(o,
n){return a.indexOf(o,n)>-1},filter:l?function(o,n,e){return l.call(o,n,e)}:function(o,n,e){var s=[];a.each(o,function(r,q,h){n.call(e,r,q,h)&&s.push(r)});return s},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(o,n){t["[object "+o+"]"]=n=o.toLowerCase();a["is"+o]=function(e){return a.type(e)==n}})})(KISSY);
(function(a,v){function u(h){var c=typeof h;return h===null||c!=="object"&&c!=="function"}function k(h){return Array.prototype.slice.call(h)}var f=a.__HOST,l=f.document,g=l.documentElement,d=encodeURIComponent("[]"),t=false,o=[],n=false,e=/^#?([\w-]+)$/,s=/^(\w+)\[\]$/,r=/\S/;a.mix(a,{isWindow:function(h){return a.type(h)==="object"&&"setInterval"in h},makeArray:function(h){if(h===null||h===v)return[];if(a.isArray(h))return h;if(typeof h.length!=="number"||a.isString(h)||a.isFunction(h))return[h];
return k(h)},unparam:function(h,c){if(typeof h!=="string"||(h=a.trim(h)).length===0)return{};for(var b={},j=h.split(c||"&"),i,m,w,y,p=0,x=j.length;p<x;++p){i=j[p].split("=");m=decodeURIComponent(i[0]);try{w=decodeURIComponent(i[1]||"")}catch(z){w=i[1]||""}if((y=m.match(s))&&y[1]){b[y[1]]=b[y[1]]||[];b[y[1]].push(w)}else b[m]=w}return b},param:function(h,c){if(!a.isPlainObject(h))return"";c=c||"&";var b=[],j,i;for(j in h){i=h[j];j=encodeURIComponent(j);if(u(i))b.push(j,"=",encodeURIComponent(i+""),
c);else if(a.isArray(i)&&i.length)for(var m=0,w=i.length;m<w;++m)u(i[m])&&b.push(j,d+"=",encodeURIComponent(i[m]+""),c)}b.pop();return b.join("")},later:function(h,c,b,j,i){c=c||0;j=j||{};var m=h,w=a.makeArray(i),y;if(a.isString(h))m=j[h];m||a.error("method undefined");h=function(){m.apply(j,w)};y=b?setInterval(h,c):setTimeout(h,c);return{id:y,interval:b,cancel:function(){this.interval?clearInterval(y):clearTimeout(y)}}},globalEval:function(h){if(h&&r.test(h)){var c=l.getElementsByTagName("head")[0]||
g,b=l.createElement("script");b.text=h;c.insertBefore(b,c.firstChild);c.removeChild(b)}},ready:function(h){n||this._bindReady();t?h.call(f,this):o.push(h);return this},_bindReady:function(){var h=this,c=l.documentElement.doScroll,b=c?"onreadystatechange":"DOMContentLoaded",j=function(){h._fireReady()};n=true;if(l.readyState==="complete")return j();if(l.addEventListener){var i=function(){l.removeEventListener(b,i,false);j()};l.addEventListener(b,i,false);f.addEventListener("load",j,false)}else{var m=
function(){if(l.readyState==="complete"){l.detachEvent(b,m);j()}};l.attachEvent(b,m);f.attachEvent("onload",j);var w=false;try{w=f.frameElement==null}catch(y){}if(c&&w){var p=function(){try{c("left");j()}catch(x){setTimeout(p,1)}};p()}}},_fireReady:function(){if(!t){t=true;if(o){for(var h,c=0;h=o[c++];)h.call(f,this);o=null}}},available:function(h,c){if((h=(h+"").match(e)[1])&&a.isFunction(c))var b=1,j=a.later(function(){if(l.getElementById(h)&&(c()||1)||++b>500)j.cancel()},40,true)}});try{k(g.childNodes)}catch(q){k=
function(h){for(var c=[],b=h.length-1;b>=0;b--)c[b]=h[b];return c}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,v){var u=a.__HOST.document,k=u.getElementsByTagName("head")[0]||u.documentElement,f=2,l=3,g=4,d=a.mix,t=u.createElement("script").readyState?function(e,s){var r=e.onreadystatechange;e.onreadystatechange=function(){var q=e.readyState;if(q==="loaded"||q==="complete"){e.onreadystatechange=null;r&&r();s.call(this)}}}:function(e,s){e.addEventListener("load",s,false)},o=/\.css(?:\?|$)/i,n;n={add:function(e,s,r){var q=this.Env.mods,h;if(a.isString(e)&&!r&&a.isPlainObject(s)){h={};h[e]=s;e=h}if(a.isPlainObject(e)){a.each(e,
function(c,b){c.name=b;q[b]&&d(c,q[b],false)});d(q,e)}else{r=r||{};h=q[e]||{};e=r.host||h.host||e;h=q[e]||{};d(h,{name:e,status:f});if(!h.fns)h.fns=[];s&&h.fns.push(s);d(q[e]=h,r);h.attach!==false&&this.__isAttached(h.requires)&&this.__attachMod(h)}return this},use:function(e,s,r){e=e.replace(/\s+/g,"").split(",");r=r||{};var q=this,h=q.Env.mods,c=(r||0).global,b,j=e.length,i,m,w;c&&q.__mixMods(c);if(q.__isAttached(e))s&&s(q);else{for(b=0;b<j&&(i=h[e[b]]);b++)if(i.status!==g){if(r.order&&b>0){if(!i.requires)i.requires=
[];i._requires=i.requires.concat();m=e[b-1];if(!a.inArray(m,i.requires)&&!a.inArray(i.name,h[m].requires||[]))i.requires.push(m)}q.__attach(i,function(){if(i._requires){i.requires=i._requires;delete i._requires}if(!w&&q.__isAttached(e)){w=true;s&&s(q)}},c)}return q}},__attach:function(e,s,r){function q(){c=e.requires||[];if(h.__isAttached(c)){e.status===f&&h.__attachMod(e);e.status===g&&s()}}for(var h=this,c=e.requires||[],b=0,j=c.length;b<j;b++)h.__attach(h.Env.mods[c[b]],q,r);h.__buildPath(e);h.__load(e,
q,r)},__mixMods:function(e){var s=this.Env.mods,r=e.Env.mods,q;for(q in r)this.__mixMod(s,r,q,e)},__mixMod:function(e,s,r,q){var h=e[r]||{},c=h.status;a.mix(h,a.clone(s[r]));if(c)h.status=c;q&&this.__buildPath(h,q.Config.base);e[r]=h},__attachMod:function(e){var s=this;if(e.fns){a.each(e.fns,function(r){r&&r(s)});e.fns=v}e.status=g},__isAttached:function(e){for(var s=this.Env.mods,r,q=(e=a.makeArray(e)).length-1;q>=0&&(r=s[e[q]]);q--)if(r.status!==g)return false;return true},__load:function(e,s,r){function q(){b[c]=
f;if(e.status!==l){r&&h.__mixMod(h.Env.mods,r.Env.mods,e.name,r);if(e.status!==g)e.status=f;s()}}var h=this,c=e.fullpath,b=a.Env._loadQueue,j=b[c];e.status=e.status||0;if(e.status<1&&j)e.status=j.nodeName?1:f;if(a.isString(e.cssfullpath)){h.getScript(e.cssfullpath);e.cssfullpath=f}if(e.status<1&&c){e.status=1;j=h.getScript(c,{success:function(){KISSY.log(e.name+" is loaded.","info");q()},error:function(){e.status=l;b[c]=f},charset:e.charset});o.test(c)||(b[c]=j)}else e.status===1?t(j,q):s()},__buildPath:function(e,
s){function r(h,c){if(!e[c]&&e[h])e[c]=(s||q.base)+e[h];if(e[c]&&q.debug)e[c]=e[c].replace(/-min/g,"")}var q=this.Config;r("path","fullpath");e.cssfullpath!==f&&r("csspath","cssfullpath")},getScript:function(e,s,r){var q=o.test(e),h=u.createElement(q?"link":"script"),c=s,b,j,i;if(a.isPlainObject(c)){s=c.success;b=c.error;j=c.timeout;r=c.charset}if(q){h.href=e;h.rel="stylesheet"}else{h.src=e;h.async=true}if(r)h.charset=r;if(q)a.isFunction(s)&&s.call(h);else t(h,function(){if(i){i.cancel();i=v}a.isFunction(s)&&
s.call(h);k&&h.parentNode&&k.removeChild(h)});if(a.isFunction(b))i=a.later(function(){i=v;b()},(j||this.Config.timeout)*1E3);k.insertBefore(h,k.firstChild);return h}};d(a,n);a.__initLoader=function(){var e=u.getElementsByTagName("script");e=e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,"$1");this.Env.mods={};this.Env._loadQueue={};this.Config.base=e;this.Config.timeout=10};a.__initLoader();a.each(n,function(e,s){a.__APP_MEMBERS.push(s)});a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
(function(a){var v={core:{path:"packages/core-min.js",charset:"utf-8"}};a.each(["sizzle","dd","datalazyload","flash","switchable","suggest","calendar","uibase","overlay","imagezoom"],function(u){v[u]={path:u+"/"+u+"-pkg-min.js",requires:["core"],charset:"utf-8"}});v.calendar.csspath="calendar/default-min.css";v.overlay.requires=["uibase"];a.add(v)})(KISSY);
KISSY.add("ua",function(a){var v=navigator.userAgent,u="",k="",f,l={},g=function(d){var t=0;return parseFloat(d.replace(/\./g,function(){return t++===0?".":""}))};if((f=v.match(/AppleWebKit\/([\d.]*)/))&&f[1]){l[u="webkit"]=g(f[1]);if((f=v.match(/Chrome\/([\d.]*)/))&&f[1])l[k="chrome"]=g(f[1]);else if((f=v.match(/\/([\d.]*) Safari/))&&f[1])l[k="safari"]=g(f[1]);if(/ Mobile\//.test(v))l.mobile="apple";else if(f=v.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=f[0].toLowerCase()}else if((f=
v.match(/Presto\/([\d.]*)/))&&f[1]){l[u="presto"]=g(f[1]);if((f=v.match(/Opera\/([\d.]*)/))&&f[1]){l[k="opera"]=g(f[1]);if((f=v.match(/Opera\/.* Version\/([\d.]*)/))&&f[1])l[k]=g(f[1]);if((f=v.match(/Opera Mini[^;]*/))&&f)l.mobile=f[0].toLowerCase();else if((f=v.match(/Opera Mobi[^;]*/))&&f)l.mobile=f[0]}}else if((f=v.match(/MSIE\s([^;]*)/))&&f[1]){l[u="trident"]=0.1;l[k="ie"]=g(f[1]);if((f=v.match(/Trident\/([\d.]*)/))&&f[1])l[u]=g(f[1])}else if(f=v.match(/Gecko/)){l[u="gecko"]=0.1;if((f=v.match(/rv:([\d.]*)/))&&
f[1])l[u]=g(f[1]);if((f=v.match(/Firefox\/([\d.]*)/))&&f[1])l[k="firefox"]=g(f[1])}l.core=u;l.shell=k;l._numberify=g;a.UA=l});
KISSY.add("ua-extra",function(a){var v=a.UA,u=navigator.userAgent,k,f,l={},g=v._numberify;if(u.match(/360SE/))l[f="se360"]=3;else if(u.match(/Maxthon/)&&(k=window.external)){f="maxthon";try{l[f]=g(k.max_version)}catch(d){l[f]=0.1}}else if(k=u.match(/TencentTraveler\s([\d.]*)/))l[f="tt"]=k[1]?g(k[1]):0.1;else if(u.match(/TheWorld/))l[f="theworld"]=3;else if(k=u.match(/SE\s([\d.]*)/))l[f="sougou"]=k[1]?g(k[1]):0.1;f&&(l.shell=f);a.mix(v,l)});
KISSY.add("dom",function(a,v){function u(k,f){return k&&k.nodeType===f}a.DOM={_isElementNode:function(k){return u(k,1)},_isKSNode:function(k){return a.Node&&u(k,a.Node.TYPE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:u(k,9)?k.defaultView||k.parentWindow:k===v?window:false},_nodeTypeIs:u}});
KISSY.add("selector",function(a,v){function u(c,b){var j,i,m=[],w;b=k(b);if(a.isString(c)){c=a.trim(c);if(q.test(c)){if(i=f(c.slice(1),b))m=[i]}else if(j=h.exec(c)){i=j[1];w=j[2];j=j[3];if(b=i?f(i,b):b)if(j)if(!i||c.indexOf(n)!==-1)m=g(j,w,b);else{if((i=f(i,b))&&o.hasClass(i,j))m=[i]}else if(w)m=l(w,b)}else if(a.ExternalSelector)return a.ExternalSelector(c,b);else d(c)}else if(c&&(c[s]||c[r]))m=c[s]?[c[s]()]:c[r]();else if(c&&(a.isArray(c)||c&&!c.nodeType&&c.item&&c!=window))m=c;else if(c)m=[c];if(m&&
!m.nodeType&&m.item&&m!=window)m=a.makeArray(m);m.each=function(y,p){return a.each(m,y,p)};return m}function k(c){if(c===v)c=t;else if(a.isString(c)&&q.test(c))c=f(c.slice(1),t);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function f(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function l(c,b){return b.getElementsByTagName(c)}function g(c,b,j){j=c=j.getElementsByClassName(c);var i=0,m=0,w=c.length,y;if(b&&b!==e){j=[];for(b=b.toUpperCase();i<w;++i){y=c[i];if(y.tagName===
b)j[m++]=y}}return j}function d(c){a.error("Unsupported selector: "+c)}var t=document,o=a.DOM,n=" ",e="*",s="getDOMNode",r=s+"s",q=/^#[\w-]+$/,h=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=t.createElement("div");c.appendChild(t.createComment(""));if(c.getElementsByTagName(e).length>0)l=function(b,j){var i=j.getElementsByTagName(b);if(b===e){for(var m=[],w=0,y=0,p;p=i[w++];)if(p.nodeType===1)m[y++]=p;i=m}return i}})();t.getElementsByClassName||(g=t.querySelectorAll?function(c,b,
j){return j.querySelectorAll((b?b:"")+"."+c)}:function(c,b,j){b=j.getElementsByTagName(b||e);j=[];var i=0,m=0,w=b.length,y,p;for(c=n+c+n;i<w;++i){y=b[i];if((p=y.className)&&(n+p+n).indexOf(c)>-1)j[m++]=y}return j});a.query=u;a.get=function(c,b){return u(c,b)[0]||null};a.mix(o,{query:u,get:a.get,filter:function(c,b){var j=u(c),i,m,w,y=[];if(a.isString(b)&&(i=h.exec(b))&&!i[1]){m=i[2];w=i[3];b=function(p){return!(m&&p.tagName!==m.toUpperCase()||w&&!o.hasClass(p,w))}}if(a.isFunction(b))y=a.filter(j,
b);else if(b&&a.ExternalSelector)y=a.ExternalSelector._filter(c,b+"");else d(b);return y},test:function(c,b){var j=u(c);return j.length&&o.filter(j,b).length===j.length}})});
KISSY.add("dom-data",function(a,v){var u=window,k=a.DOM,f="_ks_data_"+a.now(),l={},g={},d={EMBED:1,OBJECT:1,APPLET:1};a.mix(k,{data:function(t,o,n){if(a.isPlainObject(o))for(var e in o)k.data(t,e,o[e]);else if(n===v){t=a.get(t);var s;if(!(!t||d[t.nodeName])){if(t==u)t=g;s=(e=t&&t.nodeType)?l:t;t=s[e?t[f]:f];if(a.isString(o)&&t)return t[o];return t}}else a.query(t).each(function(r){if(!(!r||d[r.nodeName])){if(r==u)r=g;var q=l,h;if(r&&r.nodeType){if(!(h=r[f]))h=r[f]=a.guid()}else{h=f;q=r}if(o&&n!==
v){q[h]||(q[h]={});q[h][o]=n}}})},removeData:function(t,o){a.query(t).each(function(n){if(n){if(n==u)n=g;var e,s=l,r,q=n&&n.nodeType;if(q)e=n[f];else{s=n;e=f}if(e){r=s[e];if(o){if(r){delete r[o];a.isEmptyObject(r)&&k.removeData(n)}}else{if(q)n.removeAttribute&&n.removeAttribute(f);else try{delete n[f]}catch(h){}q&&delete s[e]}}}})}})});
KISSY.add("dom-class",function(a,v){function u(g,d,t,o){if(!(d=a.trim(d)))return o?false:v;g=a.query(g);var n=0,e=g.length;d=d.split(f);for(var s;n<e;n++){s=g[n];if(k._isElementNode(s)){s=t(s,d,d.length);if(s!==v)return s}}if(o)return false}var k=a.DOM,f=/[\.\s]\s*\.?/,l=/[\n\t]/g;a.mix(k,{hasClass:function(g,d){return u(g,d,function(t,o,n){if(t=t.className){t=" "+t+" ";for(var e=0,s=true;e<n;e++)if(t.indexOf(" "+o[e]+" ")<0){s=false;break}if(s)return true}},true)},addClass:function(g,d){u(g,d,function(t,
o,n){var e=t.className;if(e){var s=" "+e+" ";e=e;for(var r=0;r<n;r++)if(s.indexOf(" "+o[r]+" ")<0)e+=" "+o[r];t.className=a.trim(e)}else t.className=d})},removeClass:function(g,d){u(g,d,function(t,o,n){var e=t.className;if(e)if(n){e=(" "+e+" ").replace(l," ");for(var s=0,r;s<n;s++)for(r=" "+o[s]+" ";e.indexOf(r)>=0;)e=e.replace(r," ");t.className=a.trim(e)}else t.className=""})},replaceClass:function(g,d,t){k.removeClass(g,d);k.addClass(g,t)},toggleClass:function(g,d,t){var o=a.isBoolean(t),n;u(g,
d,function(e,s,r){for(var q=0,h;q<r;q++){h=s[q];n=o?!t:k.hasClass(e,h);k[n?"removeClass":"addClass"](e,h)}})}})});
KISSY.add("dom-attr",function(a,v){var u=a.UA,k=document.documentElement,f=!k.hasAttribute,l=k.textContent!==v?"textContent":"innerText",g=a.DOM,d=g._isElementNode,t=/^(?:href|src|style)/,o=/^(?:href|src|colspan|rowspan)/,n=/\r/g,e=/^(?:radio|checkbox)/,s={readonly:"readOnly"},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};f&&a.mix(s,{"for":"htmlFor","class":"className"});a.mix(g,{attr:function(q,h,c,b){if(a.isPlainObject(h)){b=c;for(var j in h)g.attr(q,j,h[j],b)}else if(h=a.trim(h)){h=
h.toLowerCase();if(b&&r[h])return g[h](q,c);h=s[h]||h;if(c===v){q=a.get(q);if(!d(q))return v;var i;t.test(h)||(i=q[h]);if(i===v)i=q.getAttribute(h);if(f)if(o.test(h))i=q.getAttribute(h,2);else if(h==="style")i=q.style.cssText;return i===null?v:i}a.each(a.query(q),function(m){if(d(m))if(h==="style")m.style.cssText=c;else{if(h==="checked")m[h]=!!c;m.setAttribute(h,""+c)}})}},removeAttr:function(q,h){a.each(a.query(q),function(c){if(d(c)){g.attr(c,h,"");c.removeAttribute(h)}})},val:function(q,h){if(h===
v){var c=a.get(q);if(!d(c))return v;if(c&&c.nodeName.toUpperCase()==="option".toUpperCase())return(c.attributes.value||{}).specified?c.value:c.text;if(c&&c.nodeName.toUpperCase()==="select".toUpperCase()){var b=c.selectedIndex,j=c.options;if(b<0)return null;else if(c.type==="select-one")return g.val(j[b]);c=[];for(var i=0,m=j.length;i<m;++i)j[i].selected&&c.push(g.val(j[i]));return c}if(u.webkit&&e.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(n,"")}a.each(a.query(q),
function(w){if(w&&w.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(h))h+="";var y=a.makeArray(h),p=w.options,x;i=0;for(m=p.length;i<m;++i){x=p[i];x.selected=a.inArray(g.val(x),y)}if(!y.length)w.selectedIndex=-1}else if(d(w))w.value=h})},text:function(q,h){if(h===v){var c=a.get(q);if(d(c))return c[l]||"";else if(g._nodeTypeIs(c,3))return c.nodeValue}else a.each(a.query(q),function(b){if(d(b))b[l]=h;else if(g._nodeTypeIs(b,3))b.nodeValue=h})}})});
KISSY.add("dom-style",function(a,v){function u(b,j){var i=a.get(b),m=j===t?i.offsetWidth:i.offsetHeight;a.each(j===t?["Left","Right"]:["Top","Bottom"],function(w){m-=parseFloat(f._getComputedStyle(i,"padding"+w))||0;m-=parseFloat(f._getComputedStyle(i,"border"+w+"Width"))||0});return m}function k(b,j,i){var m=i;if(i===o&&e.test(j)){m=0;if(a.inArray(f.css(b,"position"),["absolute","fixed"])){i=b[j==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)i-=n(f.css(b.offsetParent,"border-"+j+"-width"))||
0;m=i-(n(f.css(b,"margin-"+j))||0)}}return m}var f=a.DOM,l=a.UA,g=document,d=g.documentElement,t="width",o="auto",n=parseInt,e=/^(?:left|top)/,s=/^(?:width|height|top|left|right|bottom|margin|padding)/i,r=/-([a-z])/ig,q=function(b,j){return j.toUpperCase()},h={},c={};a.mix(f,{_CUSTOM_STYLES:h,_getComputedStyle:function(b,j){var i="",m=b.ownerDocument;if(b.style)i=m.defaultView.getComputedStyle(b,null)[j];return i},css:function(b,j,i){if(a.isPlainObject(j))for(var m in j)f.css(b,m,j[m]);else{if(j.indexOf("-")>
0)j=j.replace(r,q);j=h[j]||j;if(i===v){b=a.get(b);m="";if(b&&b.style){m=j.get?j.get(b):b.style[j];if(m===""&&!j.get)m=k(b,j,f._getComputedStyle(b,j))}return m===v?"":m}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&s.test(j))i+="px";(j===t||j==="height")&&parseFloat(i)<0||a.each(a.query(b),function(w){if(w&&w.style){j.set?j.set(w,i):w.style[j]=i;if(i==="")w.style.cssText||w.removeAttribute("style")}})}}},width:function(b,j){if(j===v)return u(b,t);else f.css(b,t,j)},height:function(b,
j){if(j===v)return u(b,"height");else f.css(b,"height",j)},show:function(b){a.query(b).each(function(j){if(j){j.style.display=f.data(j,"display")||"";if(f.css(j,"display")==="none"){var i=j.tagName,m=c[i],w;if(!m){w=g.createElement(i);g.body.appendChild(w);m=f.css(w,"display");f.remove(w);c[i]=m}f.data(j,"display",m);j.style.display=m}}})},hide:function(b){a.query(b).each(function(j){if(j){var i=j.style,m=i.display;if(m!=="none"){m&&f.data(j,"display",m);i.display="none"}}})},toggle:function(b){a.query(b).each(function(j){if(j)j.style.display===
"none"?f.show(j):f.hide(j)})},addStyleSheet:function(b,j){var i;if(j&&(j=j.replace("#","")))i=a.get("#"+j);if(!i){i=f.create("<style>",{id:j});a.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=b;else i.appendChild(g.createTextNode(b))}}});if(d.style.cssFloat!==v)h["float"]="cssFloat";else if(d.style.styleFloat!==v)h["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,v){if(a.UA.ie){var u=a.DOM,k=document,f=k.documentElement,l=u._CUSTOM_STYLES,g=/^-?\d+(?:px)?$/i,d=/^-?\d/,t=/^(?:width|height)$/;try{if(f.style.opacity===v&&f.filters)l.opacity={get:function(n){var e=100;try{e=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(s){try{e=n.filters("alpha").opacity}catch(r){}}return e/100+""},set:function(n,e){var s=n.style,r=(n.currentStyle||0).filter||"";s.zoom=1;if(r)if(r=r.replace(/alpha\(opacity=.+\)/ig,""))r+=", ";
s.filter=r+"alpha(opacity="+e*100+")"}}}catch(o){}if(!(k.defaultView||{}).getComputedStyle&&f.currentStyle)u._getComputedStyle=function(n,e){var s=n.style,r=n.currentStyle[e];if(t.test(e))r=u[e](n)+"px";else if(!g.test(r)&&d.test(r)){var q=s.left,h=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;s.left=e==="fontSize"?"1em":r||0;r=s.pixelLeft+"px";s.left=q;n.runtimeStyle.left=h}return r}}});
KISSY.add("dom-offset",function(a,v){function u(i){var m=0,w=0,y=o(i[r]);if(i[j]){i=i[j]();m=i[q];w=i[h];if(f.mobile!=="apple"){m+=k[c](y);w+=k[b](y)}}return{left:m,top:w}}var k=a.DOM,f=a.UA,l=window,g=document,d=k._isElementNode,t=k._nodeTypeIs,o=k._getWin,n=g.compatMode==="CSS1Compat",e=Math.max,s=parseInt,r="ownerDocument",q="left",h="top",c="scrollLeft",b="scrollTop",j="getBoundingClientRect";a.mix(k,{offset:function(i,m){if(!(i=a.get(i))||!i[r])return null;if(m===v)return u(i);var w=i;if(k.css(w,
"position")==="static")w.style.position="relative";var y=u(w),p={},x,z;for(z in m){x=s(k.css(w,z),10)||0;p[z]=x+m[z]-y[z]}k.css(w,p)},scrollIntoView:function(i,m,w,y){if((i=a.get(i))&&i[r]){y=y===v?true:!!y;w=w===v?true:!!w;if(!m||m===l)return i.scrollIntoView(w);m=a.get(m);if(t(m,9))m=o(m);var p=m&&"scrollTo"in m&&m.document,x=k.offset(i),z=p?{left:k.scrollLeft(m),top:k.scrollTop(m)}:k.offset(m),A={left:x[q]-z[q],top:x[h]-z[h]};x=p?k.viewportHeight(m):m.clientHeight;z=p?k.viewportWidth(m):m.clientWidth;
var C=k[c](m),E=k[b](m),D=C+z,B=E+x,K=i.offsetHeight;i=i.offsetWidth;var J=A.left+C-(s(k.css(m,"borderLeftWidth"))||0);A=A.top+E-(s(k.css(m,"borderTopWidth"))||0);var G=J+i,F=A+K,H,I;if(K>x||A<E||w)H=A;else if(F>B)H=F-x;if(y)if(i>z||J<C||w)I=J;else if(G>D)I=G-z;if(p){if(H!==v||I!==v)m.scrollTo(I,H)}else{if(H!==v)m[b]=H;if(I!==v)m[c]=I}}}});a.each(["Left","Top"],function(i,m){var w="scroll"+i;k[w]=function(y){var p=0,x=o(y),z;if(x&&(z=x.document))p=x[m?"pageYOffset":"pageXOffset"]||z.documentElement[w]||
z.body[w];else if(d(y=a.get(y)))p=y[w];return p}});a.each(["Width","Height"],function(i){k["doc"+i]=function(m){m=m||g;return e(n?m.documentElement["scroll"+i]:m.body["scroll"+i],k["viewport"+i](m))};k["viewport"+i]=function(m){var w="inner"+i;m=o(m);var y=m.document;return w in m?m[w]:n?y.documentElement["client"+i]:y.body["client"+i]}})});
KISSY.add("dom-traversal",function(a,v){function u(g,d,t,o){if(!(g=a.get(g)))return null;if(d===v)d=1;var n=null,e,s;if(a.isNumber(d)&&d>=0){if(d===0)return g;e=0;s=d;d=function(){return++e===s}}for(;g=g[t];)if(l(g)&&(!d||f.test(g,d))&&(!o||o(g))){n=g;break}return n}function k(g,d,t){var o=[];var n=g=a.get(g);if(g&&t)n=g.parentNode;if(n){t=0;for(n=n.firstChild;n;n=n.nextSibling)if(l(n)&&n!==g&&(!d||f.test(n,d)))o[t++]=n}return o}var f=a.DOM,l=f._isElementNode;a.mix(f,{parent:function(g,d){return u(g,
d,"parentNode",function(t){return t.nodeType!=11})},next:function(g,d){return u(g,d,"nextSibling")},prev:function(g,d){return u(g,d,"previousSibling")},siblings:function(g,d){return k(g,d,true)},children:function(g,d){return k(g,d)},contains:function(g,d){var t=false;if((g=a.get(g))&&(d=a.get(d)))if(g.contains){if(d.nodeType===3){d=d.parentNode;if(d===g)return true}if(d)return g.contains(d)}else if(g.compareDocumentPosition)return!!(g.compareDocumentPosition(d)&16);else for(;!t&&(d=d.parentNode);)t=
d==g;return t}})});
KISSY.add("dom-create",function(a,v){function u(p){var x=p.cloneNode(true);if(d.ie<8)x.innerHTML=p.innerHTML;return x}function k(p,x,z,A){if(z){var C=a.guid("ks-tmp-"),E=RegExp(q);x+='<span id="'+C+'"></span>';a.available(C,function(){var D=a.get("head"),B,K,J,G,F,H;for(E.lastIndex=0;B=E.exec(x);)if((J=(K=B[1])?K.match(c):false)&&J[2]){B=l.createElement("script");B.src=J[2];if((G=K.match(b))&&G[2])B.charset=G[2];B.async=true;D.appendChild(B)}else if((H=B[2])&&H.length>0)a.globalEval(H);(F=l.getElementById(C))&&
g.remove(F);a.isFunction(A)&&A()});f(p,x)}else{f(p,x);a.isFunction(A)&&A()}}function f(p,x){x=(x+"").replace(q,"");try{p.innerHTML=x}catch(z){for(;p.firstChild;)p.removeChild(p.firstChild);x&&p.appendChild(g.create(x))}}var l=document,g=a.DOM,d=a.UA,t=d.ie,o=g._nodeTypeIs,n=g._isElementNode,e=g._isKSNode,s=l.createElement("div"),r=/<(\w+)/,q=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(g,{create:function(p,
x,z){if(o(p,1)||o(p,3))return u(p);if(e(p))return u(p[0]);if(!(p=a.trim(p)))return null;var A=null;A=g._creators;var C,E="div",D;if(C=h.exec(p))A=(z||l).createElement(C[1]);else{if((C=r.exec(p))&&(D=C[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;p=A[E](p,z).childNodes;if(p.length===1)z=p[0].parentNode.removeChild(p[0]);else{p=p;D=z||l;z=null;if(p&&(p.push||p.item)&&p[0]){D=D||p[0].ownerDocument;z=D.createDocumentFragment();if(p.item)p=a.makeArray(p);D=0;for(A=p.length;D<A;D++)z.appendChild(p[D])}z=
z}A=z}z=A;n(z)&&a.isPlainObject(x)&&g.attr(z,x,true);return z},_creators:{div:function(p,x){var z=x?x.createElement("div"):s;z.innerHTML=p;return z}},html:function(p,x,z,A){if(x===v){p=a.get(p);if(n(p))return p.innerHTML}else a.each(a.query(p),function(C){n(C)&&k(C,x,z,A)})},remove:function(p){a.each(a.query(p),function(x){n(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(t||d.gecko||d.webkit){var j=g._creators,i=g.create,m=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,w={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in w)(function(p){j[y]=function(x,z){return i("<"+p+">"+x+"</"+p+">",null,z)}})(w[y]);if(t){j.script=function(p,x){var z=x?x.createElement("div"):s;z.innerHTML="-"+p;z.removeChild(z.firstChild);return z};if(t<8)j.tbody=function(p,x){var z=i("<table>"+p+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!m.test(p)&&A.parentNode.removeChild(A);return z}}a.mix(j,{optgroup:j.option,th:j.td,thead:j.tbody,tfoot:j.tbody,
caption:j.tbody,colgroup:j.tbody})}});
KISSY.add("dom-insertion",function(a){var v=a.DOM;a.mix(v,{insertBefore:function(u,k){if((u=a.get(u))&&(k=a.get(k))&&k.parentNode)k.parentNode.insertBefore(u,k);return u},insertAfter:function(u,k){if((u=a.get(u))&&(k=a.get(k))&&k.parentNode)k.nextSibling?k.parentNode.insertBefore(u,k.nextSibling):k.parentNode.appendChild(u);return u},append:function(u,k){if((u=a.get(u))&&(k=a.get(k)))k.appendChild&&k.appendChild(u)},prepend:function(u,k){if((u=a.get(u))&&(k=a.get(k)))k.firstChild?v.insertBefore(u,
k.firstChild):k.appendChild(u)}})});
KISSY.add("event",function(a,v){function u(q,h,c,b,j){if(a.isString(h))h=a.query(h);if(a.isArray(h)){a.each(h,function(m){r[q](m,c,b,j)});return true}if((c=a.trim(c))&&c.indexOf(n)>0){a.each(c.split(n),function(m){r[q](h,m,b,j)});return true}if(h.getDOMNodes){for(var i=0;i<h.length;i++)r[q](h.item(i),c,b,j);return true}}function k(q,h){f(q)&&g.data(q,o,h)}function f(q){return q&&q.nodeType!==3&&q.nodeType!==8}var l=document,g=a.DOM,d=l.addEventListener?function(q,h,c,b){q.addEventListener&&q.addEventListener(h,
c,!!b)}:function(q,h,c){q.attachEvent&&q.attachEvent("on"+h,c)},t=l.removeEventListener?function(q,h,c,b){q.removeEventListener&&q.removeEventListener(h,c,!!b)}:function(q,h,c){q.detachEvent&&q.detachEvent("on"+h,c)},o="ksEventTargetId",n=" ",e=a.now(),s={},r={EVENT_GUID:o,special:{},add:function(q,h,c,b){if(!u("add",q,h,c,b)){var j=f(q)?g.data(q,o):-1,i,m,w,y,p;if(!(j===-1||!h||!a.isFunction(c))){if(!j){k(q,j=e++);s[j]={target:q,events:{}}}m=s[j].events;if(!m[h]){i=((j=!q.isCustomEventTarget)||q._supportSpecialEvent)&&
r.special[h]||{};w=function(x,z){if(!x||!x.fixed)x=new a.EventObject(q,x,h);a.isPlainObject(z)&&a.mix(x,z);i.setup&&i.setup(x);return(i.handle||r._handle)(q,x,m[h].listeners)};m[h]={handle:w,listeners:[]};y=i.fix||h;p=i.capture;if(j)d(q,y,w,p);else q._addEvent&&q._addEvent(y,w,p)}m[h].listeners.push({fn:c,scope:b||q})}}},remove:function(q,h,c,b){if(!u("remove",q,h,c,b)){var j=f(q)?g.data(q,o):-1,i,m,w,y,p,x,z;if(j!==-1)if(j&&(i=s[j]))if(i.target===q){b=b||q;i=i.events||{};if(m=i[h]){w=m.listeners;
x=w.length;if(a.isFunction(c)&&x){p=y=0;for(z=[];y<x;++y)if(c!==w[y].fn||b!==w[y].scope)z[p++]=w[y];m.listeners=z;x=z.length}if(c===v||x===0){if(q.isCustomEventTarget)q._removeEvent&&q._removeEvent(h,m.handle);else{c=r.special[h]||{};t(q,c.fix||h,m.handle)}delete i[h]}}if(h===v||a.isEmptyObject(i)){for(h in i)r.remove(q,h);delete s[j];g.removeData(q,o)}}}},_handle:function(q,h,c){c=c.slice(0);for(var b,j=0,i=c.length;j<i;++j){b=c[j];b=b.fn.call(b.scope,h);if(b===false&&q.isCustomEventTarget||h.isImmediatePropagationStopped)break}return b},
_getCache:function(q){return s[q]},_simpleAdd:d,_simpleRemove:t};r.on=r.add;a.Event=r});
KISSY.add("event-object",function(a,v){function u(l,g,d){this.currentTarget=l;this.originalEvent=g||{};if(g){this.type=g.type;this._fix()}else{this.type=d;this.target=l}if(l.isCustomEventTarget)if(a.DOM._isKSNode(l))this.target=new a.Node(this.target);this.currentTarget=l;this.fixed=true}var k=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(u,
{_fix:function(){var l=this.originalEvent,g=f.length,d,t=this.currentTarget;for(t=t.nodeType===9?t:t.ownerDocument||k;g;){d=f[--g];this[d]=l[d]}if(!this.target)this.target=this.srcElement||k;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===v&&this.clientX!==v){l=t.documentElement;g=t.body;this.pageX=this.clientX+(l&&l.scrollLeft||g&&g.scrollLeft||
0)-(l&&l.clientLeft||g&&g.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||g&&g.scrollTop||0)-(l&&l.clientTop||g&&g.clientTop||0)}if(this.which===v)this.which=this.charCode!==v?this.charCode:this.keyCode;if(this.metaKey===v)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==v)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=u});
KISSY.add("event-target",function(a,v){var u=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(k,f){var l=a.DOM.data(this,u.EVENT_GUID)||-1;if((l=((u._getCache(l)||{}).events||{})[k])&&a.isFunction(l.handle))return l.handle(v,f);return this},on:function(k,f,l){u.add(this,k,f,l);return this},detach:function(k,f,l){u.remove(this,k,f,l);return this}}});
KISSY.add("event-mouseenter",function(a){var v=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(u){v.special[u.name]={fix:u.fix,setup:function(k){k.type=u.name},handle:function(k,f,l){if(a.DOM._isKSNode(k))k=k[0];var g=f.relatedTarget;try{for(;g&&g!==k;)g=g.parentNode;g!==k&&v._handle(k,f,l)}catch(d){}}}})});
KISSY.add("event-focusin",function(a){var v=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(u){v.special[u.name]={fix:u.fix,capture:true,setup:function(k){k.type=u.name}}})});
KISSY.add("node",function(a){function v(k,f,l){if(!(this instanceof v))return new v(k,f,l);if(k){if(a.isString(k)){k=u.create(k,f,l);if(k.nodeType===11)return new a.NodeList(k.childNodes)}else if(k instanceof v)return k;else k=k;this[0]=k}else this.length=0}var u=a.DOM;v.TYPE="-ks-Node";a.augment(v,{length:1,getDOMNode:function(){return this[0]},nodeType:v.TYPE});a.one=function(k,f){var l=a.get(k,f);return l?new v(l):null};a.Node=v});
KISSY.add("nodelist",function(a){function v(f){if(!(this instanceof v))return new v(f);u.push.apply(this,a.makeArray(f)||[])}var u=Array.prototype,k=a.DOM._isElementNode;a.mix(v.prototype,{length:0,item:function(f){var l=null,g,d;if(k(f)){g=0;for(d=this.length;g<d;g++)if(f===this[g]){f=g;break}}if(k(this[f]))l=new a.Node(this[f]);return l},getDOMNodes:function(){return u.slice.call(this)},each:function(f,l){var g=this.length,d=0,t;for(t=new a.Node(this[0]);d<g&&f.call(l||t,t,d,this)!==false;t=new a.Node(this[++d]));
return this}});a.all=function(f,l){return new v(a.query(f,l,true))};a.NodeList=v});
KISSY.add("node-attach",function(a,v){function u(b,j,i,m){b=[this[b?r:s]()].concat(a.makeArray(j));if(j[i]===v)return m.apply(g,b);else{m.apply(g,b);return this}}function k(b,j){a.each(b,function(i){a.each([n,e],function(m,w){m[i]=function(y){switch(j){case q:return function(){return u.call(this,w,arguments,1,y)};case h:return function(){return u.call(this,w,arguments,0,y)};case c:return function(){var p=this[w?r:s]();return(p=y.apply(g,[p].concat(a.makeArray(arguments))))?new (a[a.isArray(p)?"NodeList":
"Node"])(p):null};default:return function(){var p=this[w?r:s]();p=y.apply(g,[p].concat(a.makeArray(arguments)));return p===v?this:p}}}(g[i])})})}function f(b,j,i){b&&a.each(this,function(m){var w;if(j||a.isString(b))w=g.create(b);else{if(t(b,1)||t(b,3))w=b;if(o(b))w=b[0]}g[i](w,m)});return this}function l(b,j){if((b=a.get(b))&&b.appendChild)a.each(this,function(i){g[j](i,b)});return this}var g=a.DOM,d=a.Event,t=g._nodeTypeIs,o=g._isKSNode,n=a.Node.prototype,e=a.NodeList.prototype,s="getDOMNode",r=
s+"s",q=1,h=2,c=4;a.mix(n,{one:function(b){return a.one(b,this[0])},all:function(b){return a.all(b,this[0])}});k(["data","removeData"],q);k(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);k(["attr","removeAttr"],q);k(["val","text"],h);k(["css"],q);k(["width","height"],h);k(["offset"],h);k(["scrollIntoView"]);k(["parent","next","prev","siblings","children"],c);k(["contains"]);k(["html"],h);k(["remove"]);a.each(["insertBefore","insertAfter"],function(b){n[b]=function(j){g[b].call(g,
this[0],j);return this}});a.each([n,e],function(b,j){a.each(["append","prepend"],function(i){b[i]=function(m){return f.call(this,m,j,i)};b[i+"To"]=function(m){return l.call(this,m,i)}})});a.mix(n,a.EventTarget);n._supportSpecialEvent=true;n._addEvent=function(b,j,i){d._simpleAdd(this[0],b,j,i)};n._removeEvent=function(b,j,i){d._simpleRemove(this[0],b,j,i)};delete n.fire;a.mix(e,a.EventTarget);delete e.fire});if(!this.JSON)this.JSON={};
(function(){function a(o){return o<10?"0"+o:o}function v(o){f.lastIndex=0;return f.test(o)?'"'+o.replace(f,function(n){var e=d[n];return typeof e==="string"?e:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function u(o,n){var e,s,r,q,h=l,c,b=n[o];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(o);if(typeof t==="function")b=t.call(n,o,b);switch(typeof b){case "string":return v(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";l+=g;c=[];if(Object.prototype.toString.apply(b)==="[object Array]"){q=b.length;for(e=0;e<q;e+=1)c[e]=u(e,b)||"null";r=c.length===0?"[]":l?"[\n"+l+c.join(",\n"+l)+"\n"+h+"]":"["+c.join(",")+"]";l=h;return r}if(t&&typeof t==="object"){q=t.length;for(e=0;e<q;e+=1){s=t[e];if(typeof s==="string")if(r=u(s,b))c.push(v(s)+(l?": ":":")+r)}}else for(s in b)if(Object.hasOwnProperty.call(b,s))if(r=u(s,b))c.push(v(s)+(l?": ":":")+r);r=c.length===0?"{}":l?"{\n"+l+c.join(",\n"+l)+
"\n"+h+"}":"{"+c.join(",")+"}";l=h;return r}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,g,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof JSON.stringify!=="function")JSON.stringify=function(o,n,e){var s;g=l="";if(typeof e==="number")for(s=0;s<e;s+=1)g+=" ";else if(typeof e==="string")g=e;if((t=n)&&typeof n!=="function"&&(typeof n!=="object"||typeof n.length!=="number"))throw Error("JSON.stringify");return u("",{"":o})};
if(typeof JSON.parse!=="function")JSON.parse=function(o,n){function e(r,q){var h,c,b=r[q];if(b&&typeof b==="object")for(h in b)if(Object.hasOwnProperty.call(b,h)){c=e(b,h);if(c!==undefined)b[h]=c;else delete b[h]}return n.call(r,q,b)}var s;o=String(o);k.lastIndex=0;if(k.test(o))o=o.replace(k,function(r){return"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){s=eval("("+o+")");return typeof n==="function"?e({"":s},""):s}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var v=window.JSON;a.JSON={parse:function(u){if(u==null||u==="")return null;return v.parse(u)},stringify:v.stringify}});
KISSY.add("ajax",function(a,v){function u(p){p=a.merge(y,p);if(p.url){if(p.data&&!a.isString(p.data))p.data=a.param(p.data);p.context=p.context||p;var x,z=b,A,C=p.type.toUpperCase();if(p.dataType===e){x=p.jsonpCallback||e+a.now();p.url=p.url+(p.url.indexOf("?")===-1?"?":"&")+(p.jsonp+"="+x);p.dataType=s;var E=l[x];l[x]=function(G){if(a.isFunction(E))E(G);else{l[x]=v;try{delete l[x]}catch(F){}}k([b,j],G,z,B,p)}}if(p.data&&C===d)p.url=p.url+(p.url.indexOf("?")===-1?"?":"&")+p.data;if(p.dataType===s){f(q,
p);C=a.getScript(p.url,x?null:function(){k([b,j],r,z,B,p)});f(h,p);return C}var D=false,B=p.xhr();f(q,p);B.open(C,p.url,p.async);try{if(p.data||p.contentType)B.setRequestHeader(o,p.contentType);B.setRequestHeader("Accept",p.dataType&&p.accepts[p.dataType]?p.accepts[p.dataType]+", */*; q=0.01":p.accepts._default)}catch(K){}B.onreadystatechange=function(G){if(!B||B.readyState===0||G==="abort"){D||k(j,null,i,B,p);D=true;if(B)B.onreadystatechange=g}else if(!D&&B&&(B.readyState===4||G===m)){D=true;B.onreadystatechange=
g;var F;if(G===m)F=m;else{a:{try{F=B.status>=200&&B.status<300||B.status===304||B.status===1223;break a}catch(H){}F=false}F=F?b:i}z=F;try{F=B;var I=p.dataType,M=r,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(o)||r;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===w)throw w;}if(a.isString(L))if(I===n||!I&&M.indexOf(n)>=0)L=a.JSON.parse(L);A=L}catch(O){z=w}k([z===b?b:i,j],A,z,B,p);if(G===m){B.abort();f(c,p)}if(p.async)B=null}};f(h,p);try{B.send(C===
t?p.data:null)}catch(J){k([i,j],A,i,B,p)}p.async||f(j,p);return B}}function k(p,x,z,A,C){if(a.isArray(p))a.each(p,function(E){k(E,x,z,A,C)});else{z===p&&C[p]&&C[p].call(C.context,x,z,A);f(p,C)}}function f(p,x){u.fire(p,{ajaxConfig:x})}var l=window,g=function(){},d="GET",t="POST",o="Content-Type",n="json",e=n+"p",s="script",r="",q="start",h="send",c="stop",b="success",j="complete",i="error",m="timeout",w="parsererror",y={type:d,url:r,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:l.XMLHttpRequest?function(){return new l.XMLHttpRequest}:function(){try{return new l.ActiveXObject(a.UA.ie==6?"Msxml2.XMLHTTP.5.0":"Microsoft.XMLHTTP")}catch(p){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(u,a.EventTarget);a.mix(u,{get:function(p,x,z,A,C){if(a.isFunction(x)){A=z;z=x}return u({type:C||d,url:p,data:x,success:function(E,
D,B){z&&z.call(this,E,D,B)},dataType:A})},post:function(p,x,z,A){if(a.isFunction(x)){A=z;z=x;x=v}return u.get(p,x,z,A,t)},jsonp:function(p,x,z){if(a.isFunction(x)){z=x;x=null}return u.get(p,x,z,e)}});u.getScript=a.getScript;a.io=a.ajax=u.ajax=u;a.jsonp=u.jsonp;a.IO=u});
KISSY.add("anim-easing",function(a){var v=Math,u=v.PI,k=v.pow,f=v.sin,l=1.70158,g={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(k(2,10*(d-=1))*f((d-0.075)*2*u/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return k(2,-10*d)*f((d-0.075)*2*u/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*k(2,10*(d-=1))*f((d-0.1125)*2*u/0.45);return k(2,-10*(d-=1))*f((d-0.1125)*2*u/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((l+1)*d-l)},backOut:function(d){return(d-=1)*d*((l+1)*d+l)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((l*=1.525)+1)*d-l);return 0.5*((d-=2)*d*(((l*=1.525)+1)*d+l)+2)},bounceIn:function(d){return 1-
g.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return g.bounceIn(d*2)*0.5;return g.bounceOut(d*2-1)*0.5+0.5}};g.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=g});
KISSY.add("anim",function(a,v){function u(c,b,j,i,m,w){if(c=a.get(c)){if(!(this instanceof u))return new u(c,b,j,i,m,w);var y=a.isPlainObject(j);b=b;this.domEl=c;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var p={},x=s.length,z;e.innerHTML='<div style="'+b+'"></div>';for(c=e.firstChild.style;x--;)if(z=c[s[x]])p[s[x]]=l(z);this.props=p;this.targetStyle=b;if(y)y=a.merge(h,j);else{y=a.clone(h);if(j)y.duration=n(j)||1;if(a.isString(i)||
a.isFunction(i))y.easing=i;if(a.isFunction(m))y.complete=m;if(w!==v)y.nativeSupport=w}this.config=y;if(y.nativeSupport&&k()&&a.isString(i=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(i)||(i=o.NativeTimeFunction[i])){y.easing=i;this.transitionName=k()}a.isFunction(m)&&this.on(q,m)}}function k(){var c="transition",b;if(e.style[c]!==v)b=c;else a.each(["Webkit","Moz","O"],function(j){if(e.style[c=j+"Transition"]!==v){b=c;return false}});k=function(){return b};return b}function f(c,b,j){a.UA.ie&&j.indexOf(r)>
-1&&t.css(c,r,b[r].v);c.style.cssText+=";"+j}function l(c){var b=n(c);c=(c+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:c,u:"",f:d}:{v:b,u:c,f:g}}function g(c,b,j){return(c+(b-c)*j).toFixed(3)}function d(c,b,j){for(var i=2,m,w,y=[],p=[];m=3,w=arguments[i-1],i--;)if(w.substr(0,4)==="rgb(")for(w=w.match(/\d+/g);m--;)y.push(~~w[m]);else if(w.substr(0,1)==="#"){if(w.length===4)w="#"+w.substr(1,1)+w.substr(1,1)+w.substr(2,1)+w.substr(2,1)+w.substr(3,1)+w.substr(3,1);for(;m--;)y.push(parseInt(w.substr(1+
m*2,2),16))}else return b;for(;m--;){i=~~(y[m+3]+(y[m]-y[m+3])*j);p.push(i<0?0:i>255?255:i)}return"rgb("+p.join(",")+")"}var t=a.DOM,o=a.Easing,n=parseFloat,e=t.create("<div>"),s="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
r="opacity",q="complete",h={duration:1,easing:"easeNone",nativeSupport:true};a.augment(u,a.EventTarget,{run:function(){var c=this,b=c.config,j=c.domEl,i,m,w,y,p=c.props,x={},z;for(z in p)x[z]=l(t.css(j,z));if(c.fire("start")!==false){c.stop();if(c.transitionName)c._nativeRun();else{i=b.duration*1E3;w=a.now();y=w+i;m=b.easing;if(a.isString(m))m=o[m]||o.easeNone;c.timer=a.later(b=function(){var A=a.now(),C=A>y?1:(A-w)/i,E,D,B;for(z in p){E=x[z];D=p[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;t.css(j,z,
D.f(E.v,D.v,m(C))+D.u)}if(c.fire("step")===false||(B=A>y)){c.stop();B&&c.fire(q)}},13,true);b()}return c}},_nativeRun:function(){var c=this,b=c.config,j=c.domEl,i=c.props,m=b.duration*1E3;b=b.easing;var w=c.transitionName,y={};y[w+"Property"]="all";y[w+"Duration"]=m+"ms";y[w+"TimingFunction"]=b;t.css(j,y);a.later(function(){f(j,i,c.targetStyle)},0);a.later(function(){c.stop(true)},m)},stop:function(c){if(this.transitionName)this._nativeStop(c);else{if(this.timer){this.timer.cancel();this.timer=v}if(c){f(this.domEl,
this.props,this.targetStyle);this.fire(q)}}return this},_nativeStop:function(c){var b=this.domEl,j=this.transitionName,i=this.props,m;if(c){t.css(b,j+"Property","none");this.fire(q)}else{for(m in i)t.css(b,m,t._getComputedStyle(b,m));t.css(b,j+"Property","none")}}});u.supportTransition=function(){return!!k()};a.Anim=u});
KISSY.add("anim-node-plugin",function(a,v){function u(r,q,h,c,b){if(q==="toggle"){b=k.css(r,l)===g?1:0;q="show"}if(b)k.css(r,l,k.data(r,l)||"");var j={},i={};a.each(s[q],function(m){if(m===d){j[d]=k.css(r,d);k.css(r,d,t)}else if(m===o){j[o]=k.css(r,o);i.opacity=b?1:0;b&&k.css(r,o,0)}else if(m===n){j[n]=k.css(r,n);i.height=b?k.css(r,n)||r.naturalHeight:0;b&&k.css(r,n,0)}else if(m===e){j[e]=k.css(r,e);i.width=b?k.css(r,e)||r.naturalWidth:0;b&&k.css(r,e,0)}});(new a.Anim(r,i,h,"easeOut",function(){if(!b){var m=
r.style,w=m[l];if(w!==g){w&&k.data(r,l,w);m[l]=g}j[n]&&k.css(r,{height:j[n]});j[e]&&k.css(r,{height:j[e]});j[o]&&k.css(r,{height:j[o]});j[d]&&k.css(r,{height:j[d]})}c&&a.isFunction(c)&&c()})).run()}var k=a.DOM,f=a.Anim,l="display",g="none",d="overflow",t="hidden",o="opacity",n="height",e="width",s={show:[d,o,n,e],fade:[o],slide:[d,n]};a.each([a.Node.prototype,a.NodeList.prototype],function(r){r.animate=function(){var q=a.makeArray(arguments);a.each(this,function(h){f.apply(v,[h].concat(q)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(q,h){r[h]=function(c,b){k[h]&&arguments.length===0?k[h](this):a.each(this,function(j){u(j,q[0],c,b,q[1])});return this}})})});
KISSY.add("cookie",function(a){var v=document,u=encodeURIComponent,k=decodeURIComponent;a.Cookie={get:function(f){var l;if(a.isString(f)&&f!=="")if(f=v.cookie.match("(?:^| )"+f+"(?:(?:=([^;]*))|;|$)"))l=f[1]?k(f[1]):"";return l},set:function(f,l,g,d,t,o){l=u(l);var n=g;if(typeof n==="number"){n=new Date;n.setTime(n.getTime()+g*864E5)}if(n instanceof Date)l+="; expires="+n.toUTCString();if(a.isString(d)&&d!=="")l+="; domain="+d;if(a.isString(t)&&t!=="")l+="; path="+t;if(o)l+="; secure";v.cookie=f+
"="+l},remove:function(f,l,g,d){this.set(f,"",0,l,g,d)}}});
KISSY.add("attribute",function(a,v){function u(){this.__attrs={};this.__attrVals={}}function k(f){f+="";return f.charAt(0).toUpperCase()+f.substring(1)}a.augment(u,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(f,l){this.__attrs[f]=a.clone(l||{});return this},addAttrs:function(f,l){var g=this;a.each(f,function(d,t){if(t in l)d.value=l[t];g.addAttr(t,d)});return g},hasAttr:function(f){return f&&f in(this.__attrs||{})},removeAttr:function(f){if(this.hasAttr(f)){delete this.__attrs[f];
delete this.__attrVals[f]}return this},set:function(f,l){var g=this.get(f);if(g!==l)if(false!==this.__fireAttrChange("before",f,g,l)){this.__set(f,l);this.__fireAttrChange("after",f,g,this.__attrVals[f]);return this}},__fireAttrChange:function(f,l,g,d){return this.fire(f+k(l)+"Change",{attrName:l,prevVal:g,newVal:d})},__set:function(f,l){var g,d=this.__attrs[f];if(d=d&&d.setter)g=d.call(this,l);if(g!==v)l=g;this.__attrVals[f]=l},get:function(f){var l;l=(l=this.__attrs[f])&&l.getter;f=f in this.__attrVals?
this.__attrVals[f]:this.__getDefAttrVal(f);if(l)f=l.call(this,f);return f},__getDefAttrVal:function(f){f=this.__attrs[f];var l;if(f){if(l=f.valueFn){l=l.call(this);if(l!==v)f.value=l;delete f.valueFn}return f.value}},reset:function(f){if(this.hasAttr(f))return this.set(f,this.__getDefAttrVal(f));for(f in this.__attrs)this.hasAttr(f)&&this.reset(f);return this}});a.Attribute=u;u.__capitalFirst=k});
KISSY.add("base",function(a){function v(u){a.Attribute.call(this);for(var k=this.constructor;k;){var f=k.ATTRS;if(f){var l=void 0;for(l in f)f.hasOwnProperty(l)&&!this.hasAttr(l)&&this.addAttr(l,f[l])}k=k.superclass?k.superclass.constructor:null}if(u)for(var g in u)u.hasOwnProperty(g)&&this.__set(g,u[g])}a.augment(v,a.EventTarget,a.Attribute);a.Base=v});KISSY.add("core");
