/*
Copyright 2010, KISSY UI Library v1.1.2dev
MIT Licensed
build time: ${build.time}
*/
(function(d,s,n){if(d[s]===n)d[s]={};s=d[s];var t=d.document,p=function(k,g,j,q){if(!g||!k)return k;if(j===n)j=true;var w,x,v;if(q&&(v=q.length))for(w=0;w<v;w++){x=q[w];if(x in g)if(j||!(x in k))k[x]=g[x]}else for(x in g)if(j||!(x in k))k[x]=g[x];return k},l=false,i=[],e=false,o=/^#?([\w-]+)$/;p(s,{version:"1.1.2dev",_init:function(){this.Env={mods:{},guid:0}},add:function(k,g){this.Env.mods[k]={name:k,fn:g};g(this);return this},ready:function(k){e||this._bindReady();l?k.call(d,this):i.push(k);return this},
_bindReady:function(){var k=this,g=t.documentElement.doScroll,j=g?"onreadystatechange":"DOMContentLoaded",q=function(){k._fireReady()};e=true;if(t.readyState==="complete")return q();if(t.addEventListener){var w=function(){t.removeEventListener(j,w,false);q()};t.addEventListener(j,w,false);d.addEventListener("load",q,false)}else{var x=function(){if(t.readyState==="complete"){t.detachEvent(j,x);q()}};t.attachEvent(j,x);d.attachEvent("onload",q);if(d==d.top){var v=function(){try{g("left");q()}catch(a){setTimeout(v,
1)}};v()}}},_fireReady:function(){if(!l){l=true;if(i){for(var k,g=0;k=i[g++];)k.call(d,this);i=null}}},available:function(k,g){if((k=(k+"").match(o)[1])&&s.isFunction(g))var j=1,q=s.later(function(){if(t.getElementById(k)&&(g()||1)||++j>500)q.cancel()},40,true)},mix:p,merge:function(){var k={},g,j=arguments.length;for(g=0;g<j;++g)p(k,arguments[g]);return k},augment:function(){var k=arguments,g=k.length-2,j=k[0],q=k[g],w=k[g+1],x=1;if(!s.isArray(w)){q=w;w=n;g++}if(!s.isBoolean(q)){q=n;g++}for(;x<g;x++)p(j.prototype,
k[x].prototype||k[x],q,w);return j},extend:function(k,g,j,q){if(!g||!k)return k;var w=Object.prototype,x=g.prototype,v=function(a){function b(){}b.prototype=a;return new b}(x);k.prototype=v;v.constructor=k;k.superclass=x;if(g!==Object&&x.constructor===w.constructor)x.constructor=g;j&&p(v,j);q&&p(k,q);return k},namespace:function(){var k=arguments.length,g=null,j,q,w;for(j=0;j<k;++j){w=(""+arguments[j]).split(".");g=this;for(q=d[w[0]]===g?1:0;q<w.length;++q)g=g[w[q]]=g[w[q]]||{}}return g},app:function(k,
g){var j=d[k]||{};p(j,this,true,["_init","add","namespace"]);j._init();return p(d[k]=j,typeof g==="function"?g():g)},log:function(k,g,j){if(this.Config.debug){if(j)k=j+": "+k;if(d.console!==n&&console.log)console[g&&console[g]?g:"log"](k)}return this},error:function(k){if(this.Config.debug)throw k;},guid:function(k){var g=this.Env.guid++ +"";return k?k+g:g}});s._init();s.Config={debug:""}})(window,"KISSY");
KISSY.add("lang",function(d,s){function n(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var t=window,p=document,l=location,i=Array.prototype,e=i.indexOf,o=i.filter,k=String.prototype.trim,g=Object.prototype.toString,j=encodeURIComponent,q=decodeURIComponent,w=/^\s+|\s+$/g,x=/^(\w+)\[\]$/,v=/\S/;d.mix(d,{isUndefined:function(a){return a===s},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&
isFinite(a)},isPlainObject:function(a){return a&&g.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return g.call(a)==="[object Function]"},isArray:function(a){return g.call(a)==="[object Array]"},trim:k?function(a){return a==s?"":k.call(a)}:function(a){return a==s?"":a.toString().replace(w,"")},substitute:function(a,b,f){if(!d.isString(a)||!d.isPlainObject(b))return a;return a.replace(f||/\\?\{([^{}]+)\}/g,
function(c,h){if(c.charAt(0)==="\\")return c.slice(1);return b[h]!==s?b[h]:""})},each:function(a,b,f){for(var c=a&&a.length||0,h=0;h<c;++h)b.call(f||t,a[h],h,a)},indexOf:e?function(a,b){return e.call(b,a)}:function(a,b){for(var f=0,c=b.length;f<c;++f)if(b[f]===a)return f;return-1},inArray:function(a,b){return d.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===s)return[];if(d.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||d.isFunction(a))return[a];if(a.item&&d.UA.ie){for(var b=
[],f=0,c=a.length;f<c;++f)b[f]=a[f];return b}return i.slice.call(a)},filter:o?function(a,b,f){return o.call(a,b,f)}:function(a,b,f){var c=[];d.each(a,function(h,m,r){b.call(f,h,m,r)&&c.push(h)});return c},param:function(a,b){if(!d.isPlainObject(a))return"";b=b||"&";var f=[],c,h;for(c in a){h=a[c];c=j(c);if(n(h))f.push(c,"=",j(h+""),b);else if(d.isArray(h)&&h.length)for(var m=0,r=h.length;m<r;++m)n(h[m])&&f.push(c,"[]=",j(h[m]+""),b)}f.pop();return f.join("")},unparam:function(a,b){if(typeof a!=="string"||
(a=d.trim(a)).length===0)return{};var f={};a=a.split(b||"&");for(var c,h,m,r=0,u=a.length;r<u;++r){b=a[r].split("=");c=q(b[0]);try{h=q(b[1]||"")}catch(A){h=b[1]||""}if((m=c.match(x))&&m[1]){f[m[1]]=f[m[1]]||[];f[m[1]].push(h)}else f[c]=h}return f},later:function(a,b,f,c,h){b=b||0;c=c||{};var m=a,r=d.makeArray(h),u;if(typeof a==="string")m=c[a];m||d.error("method undefined");a=function(){m.apply(c,r)};u=f?setInterval(a,b):setTimeout(a,b);return{id:u,interval:f,cancel:function(){this.interval?clearInterval(u):
clearTimeout(u)}}},clone:function(a){var b=a,f,c;if(a&&((f=d.isArray(a))||d.isPlainObject(a))){b=f?[]:{};for(c in a)if(a.hasOwnProperty(c))b[c]=d.clone(a[c])}return b},now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&v.test(a)){var b=p.getElementsByTagName("head")[0]||p.documentElement,f=p.createElement("script");f.text=a;b.insertBefore(f,b.firstChild);b.removeChild(f)}}});if(l&&l.search&&l.search.indexOf("ks-debug")!==-1)d.Config.debug=true});
KISSY.add("ua",function(d){var s=navigator.userAgent,n,t={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},p=function(l){var i=0;return parseFloat(l.replace(/\./g,function(){return i++===0?".":""}))};if((n=s.match(/AppleWebKit\/([\d.]*)/))&&n[1]){t.webkit=p(n[1]);if((n=s.match(/Chrome\/([\d.]*)/))&&n[1])t.chrome=p(n[1]);else if((n=s.match(/\/([\d.]*) Safari/))&&n[1])t.safari=p(n[1]);if(/ Mobile\//.test(s))t.mobile="Apple";else if(n=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))t.mobile=
n[0]}else if((n=s.match(/Opera\/.* Version\/([\d.]*)/))&&n[1]){t.opera=p(n[1]);if(s.match(/Opera Mini[^;]*/))t.mobile=n[0]}else if((n=s.match(/MSIE\s([^;]*)/))&&n[1])t.ie=p(n[1]);else if(n=s.match(/Gecko/)){t.gecko=1;if((n=s.match(/rv:([\d.]*)/))&&n[1])t.gecko=p(n[1]);if((n=s.match(/Firefox\/([\d.]*)/))&&n[1])t.firefox=p(n[1])}t._numberify=p;d.UA=t});
KISSY.add("dom",function(d){var s={_isSupportedNode:function(n){return s._isElementNode(n)||s._isTextNode(n)},_isElementNode:function(n){return n&&n.nodeType===1},_isTextNode:function(n){return n&&n.nodeType===3},_isKSNode:function(n){return n&&d.Node&&n.nodeType===d.Node.TYPE}};d.DOM=s});
KISSY.add("selector",function(d,s){function n(a,b){var f,c=[],h,m;b=t(b);if(d.isString(a)){a=d.trim(a);if(x.test(a)){if(a=p(a.slice(1),b))c=[a]}else if(f=v.exec(a)){h=f[1];m=f[2];f=f[3];if(b=h?p(h,b):b)if(f)if(!h||a.indexOf(g)!==-1)c=i(f,m,b);else{if((a=p(h,b))&&k.hasClass(a,f))c=[a]}else if(m)c=l(m,b)}else if(d.ExternalSelector)return d.ExternalSelector(a,b);else e(a)}else if(a&&(a[q]||a[w]))c=a[q]?[a[q]()]:a[w]();else if(a&&a.nodeType)c=[a];else if(a&&(d.isArray(a)||a.item))c=a;if(c.item)c=d.makeArray(c);
return c}function t(a){if(a===s)a=o;else if(d.isString(a)&&x.test(a))a=p(a.slice(1),o);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function p(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function l(a,b){return b.getElementsByTagName(a)}function i(a,b,f){f=a=f.getElementsByClassName(a);var c=0,h=0,m=a.length,r;if(b&&b!==j){f=[];for(b=b.toUpperCase();c<m;++c){r=a[c];if(r.tagName===b)f[h++]=r}}return f}function e(a){d.error("Unsupported selector: "+a)}var o=document,
k=d.DOM,g=" ",j="*",q="getDOMNode",w=q+"s",x=/^#[\w-]+$/,v=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=o.createElement("div");a.appendChild(o.createComment(""));if(a.getElementsByTagName(j).length>0)l=function(b,f){f=f.getElementsByTagName(b);if(b===j){b=[];for(var c=0,h=0,m;m=f[c++];)if(m.nodeType===1)b[h++]=m;f=b}return f}})();o.getElementsByClassName||(i=o.querySelectorAll?function(a,b,f){return f.querySelectorAll((b?b:"")+"."+a)}:function(a,b,f){b=f.getElementsByTagName(b||
j);f=[];var c=0,h=0,m=b.length,r,u;for(a=g+a+g;c<m;++c){r=b[c];if((u=r.className)&&(g+u+g).indexOf(a)>-1)f[h++]=r}return f});d.query=n;d.get=function(a,b){return n(a,b)[0]||null};d.mix(k,{query:n,get:d.get,filter:function(a,b){var f=n(a),c,h,m,r=[];if(d.isString(b)&&(c=v.exec(b))&&!c[1]){h=c[2];m=c[3];b=function(u){return!(h&&u.tagName!==h.toUpperCase()||m&&!k.hasClass(u,m))}}if(d.isFunction(b))r=d.filter(f,b);else if(b&&d.ExternalSelector)r=d.ExternalSelector._filter(a,b);else e(b);return r},test:function(a,
b){a=n(a);return k.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(d,s){function n(i,e,o,k){if(!(e=d.trim(e)))return k?false:s;i=d.query(i);var g=0,j=i.length;e=e.split(p);for(var q;g<j;g++){q=i[g];if(t._isElementNode(q)){q=o(q,e,e.length);if(q!==s)return q}}if(k)return false}var t=d.DOM,p=/[\.\s]\s*\.?/,l=/[\n\t]/g;d.mix(t,{hasClass:function(i,e){return n(i,e,function(o,k,g){if(o=o.className){o=" "+o+" ";for(var j=0,q=true;j<g;j++)if(o.indexOf(" "+k[j]+" ")<0){q=false;break}if(q)return true}},true)},addClass:function(i,e){n(i,e,function(o,
k,g){var j=o.className;if(j){var q=" "+j+" ";j=j;for(var w=0;w<g;w++)if(q.indexOf(" "+k[w]+" ")<0)j+=" "+k[w];o.className=d.trim(j)}else o.className=e})},removeClass:function(i,e){n(i,e,function(o,k,g){var j=o.className;if(j)if(g){j=(" "+j+" ").replace(l," ");for(var q=0,w;q<g;q++)for(w=" "+k[q]+" ";j.indexOf(w)>=0;)j=j.replace(w," ");o.className=d.trim(j)}else o.className=""})},replaceClass:function(i,e,o){t.removeClass(i,e);t.addClass(i,o)},toggleClass:function(i,e,o){var k=d.isBoolean(o),g;n(i,
e,function(j,q,w){for(var x=0,v;x<w;x++){v=q[x];g=k?!o:t.hasClass(j,v);t[g?"removeClass":"addClass"](j,v)}})}})});
KISSY.add("dom-attr",function(d,s){function n(v,a){return a&&a.nodeName.toUpperCase()===v.toUpperCase()}var t=d.UA,p=t.ie,l=p&&p<8,i=document.documentElement.textContent!==s?"textContent":"innerText",e=d.DOM,o=e._isElementNode,k=e._isTextNode,g=/href|src|style/,j=/href|src|colspan|rowspan/,q=/\r/g,w=/radio|checkbox/,x={readonly:"readOnly"};l&&d.mix(x,{"for":"htmlFor","class":"className"});d.mix(e,{attr:function(v,a,b){if(d.isPlainObject(a))for(var f in a)e.attr(v,f,a[f]);else if(a=d.trim(a)){a=a.toLowerCase();
a=x[a]||a;if(b===s){v=d.get(v);if(!o(v))return s;var c;g.test(a)||(c=v[a]);if(c===s)c=v.getAttribute(a);if(l)if(j.test(a))c=v.getAttribute(a,2);else if(a==="style")c=v.style.cssText;return c===null?s:c}d.each(d.query(v),function(h){if(o(h))if(a==="style")h.style.cssText=b;else{if(a==="checked")h[a]=!!b;h.setAttribute(a,""+b)}})}},removeAttr:function(v,a){d.each(d.query(v),function(b){if(o(b)){e.attr(b,a,"");b.removeAttribute(a)}})},val:function(v,a){if(a===s){var b=d.get(v);if(!o(b))return s;if(n("option",
b))return(b.attributes.value||{}).specified?b.value:b.text;if(n("select",b)){var f=b.selectedIndex;v=b.options;if(f<0)return null;else if(b.type==="select-one")return e.val(v[f]);b=[];for(var c=0,h=v.length;c<h;++c)v[c].selected&&b.push(e.val(v[c]));return b}if(t.webkit&&w.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(q,"")}d.each(d.query(v),function(m){if(n("select",m)){if(d.isNumber(a))a+="";var r=d.makeArray(a),u=m.options,A;c=0;for(h=u.length;c<h;++c){A=
u[c];A.selected=d.inArray(e.val(A),r)}if(!r.length)m.selectedIndex=-1}else if(o(m))m.value=a})},text:function(v,a){if(a===s){v=d.get(v);if(o(v))return v[i]||"";else if(k(v))return v.nodeValue}else d.each(d.query(v),function(b){if(o(b))b[i]=a;else if(k(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(d,s){function n(a,b){var f=d.get(a),c=b===o?f.offsetWidth:f.offsetHeight;d.each(b===o?["Left","Right"]:["Top","Bottom"],function(h){c-=parseFloat(p._getComputedStyle(f,"padding"+h))||0;c-=parseFloat(p._getComputedStyle(f,"border"+h+"Width"))||0});return c}function t(a,b,f){var c=f;if(f===k&&j.test(b)){c=0;if(p.css(a,"position")==="absolute"){f=a[b==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)f-=g(p.css(a.offsetParent,"border-"+b+"-width"))||0;c=f-(g(p.css(a,
"margin-"+b))||0)}}return c}var p=d.DOM,l=d.UA,i=document,e=i.documentElement,o="width",k="auto",g=parseInt,j=/^left|top$/,q=/width|height|top|left|right|bottom|margin|padding/i,w=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},v={};d.mix(p,{_CUSTOM_STYLES:v,_getComputedStyle:function(a,b){var f="",c=a.ownerDocument;if(a.style)f=c.defaultView.getComputedStyle(a,null)[b];return f},css:function(a,b,f){if(d.isPlainObject(b))for(var c in b)p.css(a,c,b[c]);else{if(b.indexOf("-")>0)b=b.replace(w,x);
b=v[b]||b;if(f===s){a=d.get(a);c="";if(a&&a.style){c=b.get?b.get(a):a.style[b];if(c===""&&!b.get)c=t(a,b,p._getComputedStyle(a,b))}return c===s?"":c}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&q.test(b))f+="px";(b===o||b==="height")&&parseFloat(f)<0||d.each(d.query(a),function(h){if(h&&h.style){b.set?b.set(h,f):(h.style[b]=f);if(f==="")h.style.cssText||h.removeAttribute("style")}})}}},width:function(a,b){if(b===s)return n(a,o);else p.css(a,o,b)},height:function(a,b){if(b===s)return n(a,
"height");else p.css(a,"height",b)},addStyleSheet:function(a,b){var f;if(b)f=d.get(b);f||(f=p.create("<style>",{id:b}));d.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=a;else f.appendChild(i.createTextNode(a))}});if(e.style.cssFloat!==s)v["float"]="cssFloat";else if(e.style.styleFloat!==s)v["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(d,s){if(d.UA.ie){var n=d.DOM,t=document,p=t.documentElement,l=n._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,e=/^-?\d/,o=/^width|height$/;try{if(p.style.opacity===s&&p.filters)l.opacity={get:function(g){var j=100;try{j=g.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{j=g.filters("alpha").opacity}catch(w){}}return j/100+""},set:function(g,j){g=g.style;g.zoom=1;g.filter="alpha(opacity="+j*100+")"}}}catch(k){d.log("IE filters ActiveX is disabled. ex = "+k)}if(!(t.defaultView||
{}).getComputedStyle&&p.currentStyle)n._getComputedStyle=function(g,j){var q=g.style,w=g.currentStyle[j];if(o.test(j))w=n[j](g)+"px";else if(!i.test(w)&&e.test(w)){var x=q.left,v=g.runtimeStyle.left;g.runtimeStyle.left=g.currentStyle.left;q.left=j==="fontSize"?"1em":w||0;w=q.pixelLeft+"px";q.left=x;g.runtimeStyle.left=v}return w}}});
KISSY.add("dom-offset",function(d,s){function n(r){var u=0,A=0,y=p(r[a]);if(r[m]){r=r[m]();u=r[b];A=r[f];if(i.mobile!=="Apple"){u+=l[c](y);A+=l[h](y)}}return{left:u,top:A}}function t(r,u){if(l.css(r,w)==="static")r.style[w]=x;var A=n(r),y={},z,B;for(B in u){z=q(l.css(r,B),10)||0;y[B]=z+u[B]-A[B]}l.css(r,y)}function p(r){return r&&"scrollTo"in r&&r[v]?r:r&&r.nodeType===9?r.defaultView||r.parentWindow:false}var l=d.DOM,i=d.UA,e=window,o=document,k=l._isElementNode,g=o.compatMode==="CSS1Compat",j=Math.max,
q=parseInt,w="position",x="relative",v="document",a="ownerDocument",b="left",f="top",c="scrollLeft",h="scrollTop",m="getBoundingClientRect";d.mix(l,{offset:function(r,u){if(!(r=d.get(r))||!r[a])return null;if(u===s)return n(r);t(r,u)},scrollIntoView:function(r,u,A){if((r=d.get(r))&&r[a]){u=d.get(u);A=A===s?true:!!A;if(!u||u===e)return r.scrollIntoView(A);if(u.nodeType&&u.nodeType==9)u=p(u);var y=!("scrollTo"in u&&u[v]),z=l.offset(r),B=y?u.scrollLeft:l.scrollLeft(u),C=y?u.scrollTop:l.scrollTop(u),
D=y?l.offset(u):{left:B,top:C},E={left:z.left-D.left,top:z.top-D.top};z=r.offsetHeight;D=r.offsetWidth;var F=E.left+B;C=E.top+C;r=F+r.offsetWidth;E=y?u.clientHeight:l.viewportHeight(u);var G=y?u.clientWidth:l.viewportWidth(u),J=B+G,H=0,I=0;if(z>E||A)if(y)u.scrollTop=C;else I=C;else if(y)u.scrollTop=C-(E-z);else I=C-(E-z);if(D>G||F<B)if(y)u.scrollLeft=F;else H=F;else if(r>J)if(y)u.scrollLeft=F;else H=F;if(!y&&(H||I))u.scrollTo(H,I)}}});d.each(["Left","Top"],function(r,u){var A="scroll"+r;l[A]=function(y){var z=
0,B=y===s?e:p(y),C;if(B&&(C=B[v]))z=B[u?"pageYOffset":"pageXOffset"]||C.documentElement[A]||C.body[A];else if(k(y=d.get(y)))z=y[A];return z}});d.each(["Width","Height"],function(r){l["doc"+r]=function(u){u=u||o;return j(g?u.documentElement["scroll"+r]:u.body["scroll"+r],l["viewport"+r](u))};l["viewport"+r]=function(u){var A="inner"+r;u=p(u)||e;var y=u[v];return A in u?u[A]:g?y.documentElement["client"+r]:y.body["client"+r]}})});
KISSY.add("dom-traversal",function(d,s){function n(i,e,o,k){if(!(i=d.get(i)))return null;if(e===s)e=1;var g=null,j,q;if(d.isNumber(e)&&e>=0){if(e===0)return i;j=0;q=e;e=function(){return++j===q}}for(;i=i[o];)if(l(i)&&(!e||p.test(i,e))&&(!k||k(i))){g=i;break}return g}function t(i,e,o){var k=[];var g=i=d.get(i);if(i&&o)g=i.parentNode;if(g){o=0;for(g=g.firstChild;g;g=g.nextSibling)if(l(g)&&g!==i&&(!e||p.test(g,e)))k[o++]=g}return k}var p=d.DOM,l=p._isElementNode;d.mix(p,{parent:function(i,e){return n(i,
e,"parentNode",function(o){return o.nodeType!=11})},next:function(i,e){return n(i,e,"nextSibling")},prev:function(i,e){return n(i,e,"previousSibling")},siblings:function(i,e){return t(i,e,true)},children:function(i,e){return t(i,e)},contains:function(i,e){var o=false;if((i=d.get(i))&&(e=d.get(e)))if(i.contains)return i.contains(e);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(e)&16);else for(;!o&&(e=e.parentNode);)o=e==i;return o}})});
KISSY.add("dom-create",function(d,s){function n(y,z){q(y)&&d.isPlainObject(z)&&o.attr(y,z);return y}function t(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=d.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}else d.log("Unable to convert "+y+" to fragment.");return B}function p(y){var z=y.cloneNode(true);if(k.ie<8)z.innerHTML=y.innerHTML;return z}function l(y,z,B,C){if(B){var D=d.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+
D+'"></span>';d.available(D,function(){var F=d.get("head"),G,J,H,I,L,K;for(E.lastIndex=0;G=E.exec(z);)if((H=(J=G[1])?J.match(f):false)&&H[2]){G=e.createElement("script");G.src=H[2];if((I=J.match(c))&&I[2])G.charset=I[2];G.async=true;F.appendChild(G)}else if((K=G[2])&&K.length>0)d.globalEval(K);(L=e.getElementById(D))&&o.remove(L);d.isFunction(C)&&C()});i(y,z)}else{i(y,z);d.isFunction(C)&&C()}}function i(y,z){z=(z+"").replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(o.create(z))}}var e=document,o=d.DOM,k=d.UA,g=k.ie,j=o._isSupportedNode,q=o._isElementNode,w=o._isKSNode,x=e.createElement("div"),v=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;d.mix(o,{create:function(y,z,B){if(j(y))return p(y);if(w(y))return p(y[0]);if(!(y=d.trim(y)))return null;var C=null;C=o._creators;var D,E="div",F;if(D=b.exec(y))C=(B||e).createElement(D[1]);else{if((D=v.exec(y))&&(F=
D[1])&&d.isFunction(C[F=F.toLowerCase()]))E=F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):t(y,B||e)}return n(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):x;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===s){y=d.get(y);if(q(y))return y.innerHTML}else d.each(d.query(y),function(D){q(D)&&l(D,z,B,C)})},remove:function(y){d.each(d.query(y),function(z){q(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(k.gecko||g){var h=o._creators,m=o.create,r=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
u={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in u)(function(y){h[A]=function(z,B){return m("<"+y+">"+z+"</"+y+">",null,B)}})(u[A]);if(g){h.script=function(y,z){z=z?z.createElement("div"):x;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(g<8)h.tbody=function(y,z){z=m("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!r.test(y)&&B.parentNode.removeChild(B);return z}}d.mix(h,{optgroup:h.option,th:h.td,
thead:h.tbody,tfoot:h.tbody,caption:h.tbody,colgroup:h.tbody})}});KISSY.add("dom-insertion",function(d){d.mix(d.DOM,{insertBefore:function(s,n){if((s=d.get(s))&&(n=d.get(n))&&n.parentNode)n.parentNode.insertBefore(s,n);return s},insertAfter:function(s,n){if((s=d.get(s))&&(n=d.get(n))&&n.parentNode)n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s);return s}})});
KISSY.add("event",function(d,s){function n(b){return b&&"scrollTo"in b&&b.document?b:b&&b.nodeType===9?b.defaultView||b.parentWindow:false}function t(b,f,c,h,m){if(d.isString(f))f=d.query(f);if(d.isArray(f)){d.each(f,function(r){a[b](r,c,h,m)});return true}if((c=d.trim(c))&&c.indexOf(w)>0){d.each(c.split(w),function(r){a[b](f,r,h,m)});return true}}function p(b){return e(b)?b[q]:-1}function l(b,f){if(!e(b))return d.error("Text or comment node is not valid event target.");try{b[q]=f}catch(c){d.error(c)}}
function i(b){try{b[q]=s;delete b[q]}catch(f){}}function e(b){return b&&b.nodeType!==3&&b.nodeType!==8}var o=document,k=window,g=o.addEventListener?function(b,f,c,h){b.addEventListener&&b.addEventListener(f,c,!!h)}:function(b,f,c){b.attachEvent&&b.attachEvent("on"+f,c)},j=o.removeEventListener?function(b,f,c,h){b.removeEventListener&&b.removeEventListener(f,c,!!h)}:function(b,f,c){b.detachEvent&&b.detachEvent("on"+f,c)},q="ksEventTargetId",w=" ",x=d.now(),v={},a={EVENT_GUID:q,special:{},add:function(b,
f,c,h){if(!t("add",b,f,c,h)){h=h||n(b)||k;var m=p(b),r,u,A,y,z;if(!(m===-1||!f||!d.isFunction(c))){if(!m){l(b,m=x++);v[m]={target:b,events:{}}}u=v[m].events;if(!u[f]){r=((m=!b.isCustomEventTarget)||b._supportSpecialEvent)&&a.special[f]||{};A=function(B,C){if(!B||!B.fixed){B=new d.EventObject(b,B,f);d.isPlainObject(C)&&d.mix(B,C)}r.setup&&r.setup(B);return(r.handle||a._handle)(b,B,u[f].listeners)};u[f]={handle:A,listeners:[]};y=r.fix||f;z=r.capture;if(m)g(b,y,A,z);else b._addEvent&&b._addEvent(y,A,
z)}u[f].listeners.push({fn:c,scope:h})}}},remove:function(b,f,c,h){h=h||n(b)||k;if(!t("remove",b,f,c,h)){var m=p(b),r,u,A,y,z,B,C;if(m!==-1)if(m&&(r=v[m]))if(r.target===b){r=r.events||{};if(u=r[f]){A=u.listeners;B=A.length;if(d.isFunction(c)&&B){z=y=0;for(C=[];y<B;++y)if(c!==A[y].fn||h!==A[y].scope)C[z++]=A[y];u.listeners=C;B=C.length}if(c===s||B===0){if(b.isCustomEventTarget)b._addEvent&&b._removeEvent(f,u.handle);else j(b,f,u.handle);delete r[f]}}if(f===s||d.isEmptyObject(r)){for(f in r)a.remove(b,
f);delete v[m];i(b)}}}},_handle:function(b,f,c){c=c.slice(0);for(var h,m=0,r=c.length;m<r;++m){h=c[m];h=h.fn.call(h.scope||b,f);if(h===false&&b.isCustomEventTarget||f.isImmediatePropagationStopped)break}return h},_getCache:function(b){return v[b]},_simpleAdd:g,_simpleRemove:j};a.on=a.add;d.Event=a});
KISSY.add("event-object",function(d,s){function n(l,i,e){this.currentTarget=l;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=e;this.target=l}this.currentTarget=l;this.fixed=true}var t=document,p="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
d.augment(n,{_fix:function(){var l=this.originalEvent,i=p.length,e,o=this.currentTarget;for(o=o.nodeType===9?o:o.ownerDocument||t;i;){e=p[--i];this[e]=l[e]}if(!this.target)this.target=this.srcElement||t;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===s&&this.clientX!==s){l=o.documentElement;i=o.body;this.pageX=this.clientX+(l&&l.scrollLeft||i&&i.scrollLeft||
0)-(l&&l.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||i&&i.scrollTop||0)-(l&&l.clientTop||i&&i.clientTop||0)}if(this.which===s)this.which=this.charCode!==s?this.charCode:this.keyCode;if(this.metaKey===s)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==s)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});d.EventObject=n});
KISSY.add("event-target",function(d,s){var n=d.Event,t=n.EVENT_GUID;d.EventTarget={isCustomEventTarget:true,fire:function(p,l){if((p=((n._getCache(this[t]||-1)||{}).events||{})[p])&&d.isFunction(p.handle))return p.handle(s,l);return this},on:function(p,l,i){n.add(this,p,l,i);return this},detach:function(p,l){n.remove(this,p,l);return this}}});
KISSY.add("event-mouseenter",function(d){var s=d.Event;d.UA.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){s.special[n.name]={fix:n.fix,setup:function(t){t.type=n.name},handle:function(t,p,l){var i=p.relatedTarget;try{for(;i&&i!==t;)i=i.parentNode;i!==t&&s._handle(t,p,l)}catch(e){}}}})});
KISSY.add("event-focusin",function(d){var s=d.Event;document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){s.special[n.name]={fix:n.fix,capture:true,setup:function(t){t.type=n.name}}})});
KISSY.add("node",function(d){function s(t,p,l){var i;if(!(this instanceof s))return new s(t,p,l);if(t){if(n._isSupportedNode(t))i=t;else if(d.isString(t))i=n.create(t,p,l);this[0]=i}else this.length=0}var n=d.DOM;s.TYPE="-ks-Node";d.augment(s,{length:1,getDOMNode:function(){return this[0]},nodeType:s.TYPE});d.one=function(t,p){return(t=d.get(t,p))?new s(t):null};d.Node=s});
KISSY.add("nodelist",function(d){function s(p){if(!(this instanceof s))return new s(p);t.push.apply(this,p||[])}var n=d.DOM,t=Array.prototype;d.mix(s.prototype,{length:0,item:function(p){var l=null;if(n._isElementNode(this[p]))l=new d.Node(this[p]);return l},getDOMNodes:function(){return t.slice.call(this)},each:function(p,l){for(var i=this.length,e=0,o;e<i;++e){o=new d.Node(this[e]);p.call(l||o,o,e,this)}return this}});d.all=function(p,l){return new s(d.query(p,l,true))};d.NodeList=s});
KISSY.add("node-attach",function(d,s){function n(w,arguments,x,v){var a=[this[w?k:o]()].concat(d.makeArray(arguments));if(arguments[x]===s)return v.apply(p,a);else{v.apply(p,a);return this}}function t(w,x){d.each(w,function(v){d.each([i,e],function(a,b){a[v]=function(f){switch(x){case g:return function(){return n.call(this,b,arguments,1,f)};case j:return function(){return n.call(this,b,arguments,0,f)};case q:return function(){var c=this[b?k:o]();return(c=f.apply(p,[c].concat(d.makeArray(arguments))))?
new (d[d.isArray(c)?"NodeList":"Node"])(c):null};default:return function(){var c=this[b?k:o]();c=f.apply(p,[c].concat(d.makeArray(arguments)));return c===s?this:c}}}(p[v])})})}var p=d.DOM,l=d.Event,i=d.Node.prototype,e=d.NodeList.prototype,o="getDOMNode",k=o+"s",g=1,j=2,q=4;d.mix(i,{one:function(w){return d.one(w,this[0])},all:function(w){return d.all(w,this[0])}});t(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);t(["attr","removeAttr"],g);t(["val","text"],j);t(["css"],g);t(["width",
"height"],j);t(["offset"],j);t(["scrollIntoView"]);t(["parent","next","prev","siblings","children"],q);t(["contains"]);t(["html"],j);t(["remove"]);d.each(["insertBefore","insertAfter"],function(w){i[w]=function(x){p[w].call(p,this[0],x);return this}});d.each([i,e],function(w){d.mix(w,{append:function(x){x&&d.each(this,function(v){v.appendChild(p.create(x))});return this},appendTo:function(x){if((x=d.get(x))&&x.appendChild)d.each(this,function(v){x.appendChild(v)});return this}})});d.each([i,e],function(w){d.mix(w,
d.EventTarget,{_supportSpecialEvent:true});w._addEvent=function(x,v,a){for(var b=0,f=this.length;b<f;b++)l._simpleAdd(this[b],x,v,a)};w._removeEvent=function(x,v,a){for(var b=0,f=this.length;b<f;b++)l._simpleRemove(this[b],x,v,a)};delete w.fire})});
KISSY.add("ajax",function(d){var s=document,n=s.createElement("script").readyState?function(t,p){t.onreadystatechange=function(){var l=t.readyState;if(l==="loaded"||l==="complete"){t.onreadystatechange=null;p.call(this)}}}:function(t,p){t.onload=p};d.mix(d,{getScript:function(t,p,l){var i=d.get("head")||s.documentElement,e=s.createElement("script");e.src=t;if(l)e.charset=l;e.async=true;d.isFunction(p)&&n(e,p);i.insertBefore(e,i.firstChild)}})});
KISSY.add("cookie",function(d){function s(l){return d.isString(l)&&l!==""}var n=document,t=encodeURIComponent,p=decodeURIComponent;d.Cookie={get:function(l){var i;if(s(l))if(l=n.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))i=l[1]?p(l[1]):"";return i},set:function(l,i,e,o,k,g){i=t(i);var j=e;if(typeof j==="number"){j=new Date;j.setTime(j.getTime()+e*864E5)}if(j instanceof Date)i+="; expires="+j.toUTCString();if(s(o))i+="; domain="+o;if(s(k))i+="; path="+k;if(g)i+="; secure";n.cookie=l+"="+i},remove:function(l,
i,e,o){this.set(l,"",0,i,e,o)}}});
KISSY.add("json",function(d){function s(g){return g<10?"0"+g:g}function n(g){l.lastIndex=0;return l.test(g)?'"'+g.replace(l,function(j){var q=o[j];return typeof q==="string"?q:"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+g+'"'}function t(g,j){var q,w,x=i,v,a=j[g];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(g);if(typeof k==="function")a=k.call(j,g,a);switch(typeof a){case "string":return n(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=e;v=[];if(Object.prototype.toString.apply(a)==="[object Array]"){w=a.length;for(g=0;g<w;g+=1)v[g]=t(g,a)||"null";j=v.length===0?"[]":i?"[\n"+i+v.join(",\n"+i)+"\n"+x+"]":"["+v.join(",")+"]";i=x;return j}if(k&&typeof k==="object"){w=k.length;for(g=0;g<w;g+=1){q=k[g];if(typeof q==="string")if(j=t(q,a))v.push(n(q)+(i?": ":":")+j)}}else for(q in a)if(Object.hasOwnProperty.call(a,q))if(j=t(q,a))v.push(n(q)+(i?": ":":")+j);j=v.length===0?"{}":i?"{\n"+i+v.join(",\n"+i)+
"\n"+x+"}":"{"+v.join(",")+"}";i=x;return j}}d=d.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,e,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof d.stringify!=="function")d.stringify=function(g,j,q){var w;e=i="";if(typeof q==="number")for(w=0;w<q;w+=1)e+=" ";else if(typeof q==="string")e=q;if((k=j)&&typeof j!=="function"&&(typeof j!=="object"||typeof j.length!=="number"))throw new Error("JSON.stringify");return t("",
{"":g})};if(typeof d.parse!=="function")d.parse=function(g,j){function q(w,x){var v,a,b=w[x];if(b&&typeof b==="object")for(v in b)if(Object.hasOwnProperty.call(b,v)){a=q(b,v);if(a!==undefined)b[v]=a;else delete b[v]}return j.call(w,x,b)}g=String(g);p.lastIndex=0;if(p.test(g))g=g.replace(p,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(g.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){g=eval("("+g+")");return typeof j==="function"?q({"":g},""):g}throw new SyntaxError("JSON.parse");}});
(function(){function d(a,b,f,c,h,m){h=0;for(var r=c.length;h<r;h++){var u=c[h];if(u){u=u[a];for(var A=false;u;){if(u.sizcache===f){A=c[u.sizset];break}if(u.nodeType===1&&!m){u.sizcache=f;u.sizset=h}if(u.nodeName.toLowerCase()===b){A=u;break}u=u[a]}c[h]=A}}}function s(a,b,f,c,h,m){h=0;for(var r=c.length;h<r;h++){var u=c[h];if(u){u=u[a];for(var A=false;u;){if(u.sizcache===f){A=c[u.sizset];break}if(u.nodeType===1){if(!m){u.sizcache=f;u.sizset=h}if(typeof b!=="string"){if(u===b){A=true;break}}else if(e.filter(b,
[u]).length>0){A=u;break}}u=u[a]}c[h]=A}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=0,p=Object.prototype.toString,l=false,i=true;[0,0].sort(function(){i=false;return 0});var e=function(a,b,f,c){f=f||[];var h=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return f;var m=[],r,u,A,y,z=true,B=e.isXML(b),C=a,D;do{n.exec("");if(r=n.exec(C)){C=r[3];m.push(r[1]);if(r[2]){y=
r[3];break}}}while(r);if(m.length>1&&k.exec(a))if(m.length===2&&o.relative[m[0]])u=v(m[0]+m[1],b);else for(u=o.relative[m[0]]?[b]:e(m.shift(),b);m.length;){a=m.shift();if(o.relative[a])a+=m.shift();u=v(a,u)}else{if(!c&&m.length>1&&b.nodeType===9&&!B&&o.match.ID.test(m[0])&&!o.match.ID.test(m[m.length-1])){r=e.find(m.shift(),b,B);b=r.expr?e.filter(r.expr,r.set)[0]:r.set[0]}if(b){r=c?{expr:m.pop(),set:q(c)}:e.find(m.pop(),m.length===1&&(m[0]==="~"||m[0]==="+")&&b.parentNode?b.parentNode:b,B);u=r.expr?
e.filter(r.expr,r.set):r.set;if(m.length>0)A=q(u);else z=false;for(;m.length;){r=D=m.pop();if(o.relative[D])r=m.pop();else D="";if(r==null)r=b;o.relative[D](A,r,B)}}else A=[]}A||(A=u);A||e.error(D||a);if(p.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&e.contains(b,A[a])))f.push(u[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&f.push(u[a]);else f.push.apply(f,A);else q(A,f);if(y){e(y,h,f,c);e.uniqueSort(f)}return f};
e.uniqueSort=function(a){if(x){l=i;a.sort(x);if(l)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};e.matches=function(a,b){return e(a,null,null,b)};e.find=function(a,b,f){var c;if(!a)return[];for(var h=0,m=o.order.length;h<m;h++){var r=o.order[h],u;if(u=o.leftMatch[r].exec(a)){var A=u[1];u.splice(1,1);if(A.substr(A.length-1)!=="\\"){u[1]=(u[1]||"").replace(/\\/g,"");c=o.find[r](u,b,f);if(c!=null){a=a.replace(o.match[r],"");break}}}}c||(c=b.getElementsByTagName("*"));return{set:c,
expr:a}};e.filter=function(a,b,f,c){for(var h=a,m=[],r=b,u,A,y=b&&b[0]&&e.isXML(b[0]);a&&b.length;){for(var z in o.filter)if((u=o.leftMatch[z].exec(a))!=null&&u[2]){var B=o.filter[z],C,D;D=u[1];A=false;u.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(r===m)m=[];if(o.preFilter[z])if(u=o.preFilter[z](u,r,f,m,c,y)){if(u===true)continue}else A=C=true;if(u)for(var E=0;(D=r[E])!=null;E++)if(D){C=B(D,u,E,r);var F=c^!!C;if(f&&C!=null)if(F)A=true;else r[E]=false;else if(F){m.push(D);A=true}}if(C!==undefined){f||
(r=m);a=a.replace(o.match[z],"");if(!A)return[];break}}}if(a===h)if(A==null)e.error(a);else break;h=a}return r};e.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var o=e.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var f=typeof b==="string",c=f&&!/\W/.test(b);f=f&&!c;if(c)b=b.toLowerCase();c=0;for(var h=a.length,m;c<h;c++)if(m=a[c]){for(;(m=m.previousSibling)&&m.nodeType!==1;);a[c]=f||m&&m.nodeName.toLowerCase()===
b?m||false:m===b}f&&e.filter(b,a,true)},">":function(a,b){var f=typeof b==="string",c,h=0,m=a.length;if(f&&!/\W/.test(b))for(b=b.toLowerCase();h<m;h++){if(c=a[h]){f=c.parentNode;a[h]=f.nodeName.toLowerCase()===b?f:false}}else{for(;h<m;h++)if(c=a[h])a[h]=f?c.parentNode:c.parentNode===b;f&&e.filter(b,a,true)}},"":function(a,b,f){var c=t++,h=s,m;if(typeof b==="string"&&!/\W/.test(b)){m=b=b.toLowerCase();h=d}h("parentNode",b,c,a,m,f)},"~":function(a,b,f){var c=t++,h=s,m;if(typeof b==="string"&&!/\W/.test(b)){m=
b=b.toLowerCase();h=d}h("previousSibling",b,c,a,m,f)}},find:{ID:function(a,b,f){if(typeof b.getElementById!=="undefined"&&!f)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var f=[];b=b.getElementsByName(a[1]);for(var c=0,h=b.length;c<h;c++)b[c].getAttribute("name")===a[1]&&f.push(b[c]);return f.length===0?null:f}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,f,c,h,m){a=" "+a[1].replace(/\\/g,"")+" ";
if(m)return a;m=0;for(var r;(r=b[m])!=null;m++)if(r)if(h^(r.className&&(" "+r.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))f||c.push(r);else if(f)b[m]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=t++;return a},ATTR:function(a,b,f,c,h,m){b=
a[1].replace(/\\/g,"");if(!m&&o.attrMap[b])a[1]=o.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,f,c,h){if(a[1]==="not")if((n.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=e(a[3],null,null,b);else{a=e.filter(a[3],b,f,true^h);f||c.push.apply(c,a);return false}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,f){return!!e(f[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,f,c){return b===c.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,f){return b<f[3]-0},gt:function(a,b,f){return b>f[3]-0},nth:function(a,b,f){return f[3]-
0===b},eq:function(a,b,f){return f[3]-0===b}},filter:{PSEUDO:function(a,b,f,c){var h=b[1],m=o.filters[h];if(m)return m(a,f,b,c);else if(h==="contains")return(a.textContent||a.innerText||e.getText([a])||"").indexOf(b[3])>=0;else if(h==="not"){b=b[3];f=0;for(c=b.length;f<c;f++)if(b[f]===a)return false;return true}else e.error("Syntax error, unrecognized expression: "+h)},CHILD:function(a,b){var f=b[1],c=a;switch(f){case "only":case "first":for(;c=c.previousSibling;)if(c.nodeType===1)return false;if(f===
"first")return true;c=a;case "last":for(;c=c.nextSibling;)if(c.nodeType===1)return false;return true;case "nth":f=b[2];var h=b[3];if(f===1&&h===0)return true;b=b[0];var m=a.parentNode;if(m&&(m.sizcache!==b||!a.nodeIndex)){var r=0;for(c=m.firstChild;c;c=c.nextSibling)if(c.nodeType===1)c.nodeIndex=++r;m.sizcache=b}a=a.nodeIndex-h;return f===0?a===0:a%f===0&&a/f>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var f=b[1];a=o.attrHandle[f]?o.attrHandle[f](a):a[f]!=null?a[f]:a.getAttribute(f);f=a+"";var c=b[2];b=b[4];return a==null?c==="!=":c==="="?f===b:c==="*="?f.indexOf(b)>=0:c==="~="?(" "+f+" ").indexOf(b)>=0:!b?f&&a!==false:c==="!="?f!==b:c==="^="?f.indexOf(b)===0:c==="$="?f.substr(f.length-b.length)===b:c==="|="?f===b||f.substr(0,b.length+1)===b+"-":false},POS:function(a,b,f,c){var h=o.setFilters[b[2]];
if(h)return h(a,f,b,c)}}},k=o.match.POS,g=function(a,b){return"\\"+(b-0+1)};for(var j in o.match){o.match[j]=new RegExp(o.match[j].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[j]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[j].source.replace(/\\(\d+)/g,g))}var q=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(w){q=function(a,b){b=b||[];var f=0;if(p.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var c=a.length;f<c;f++)b.push(a[f]);else for(;a[f];f++)b.push(a[f]);return b}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)l=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)l=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)l=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)l=true;return a};else if(document.createRange)x=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)l=true;return a.ownerDocument?-1:1}var f=a.ownerDocument.createRange(),c=b.ownerDocument.createRange();f.setStart(a,0);f.setEnd(a,0);c.setStart(b,0);c.setEnd(b,0);a=f.compareBoundaryPoints(Range.START_TO_END,c);if(a===0)l=true;return a};e.getText=function(a){for(var b="",f,c=0;a[c];c++){f=a[c];if(f.nodeType===3||f.nodeType===4)b+=f.nodeValue;else if(f.nodeType!==
8)b+=e.getText(f.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var f=document.documentElement;f.insertBefore(a,f.firstChild);if(document.getElementById(b)){o.find.ID=function(c,h,m){if(typeof h.getElementById!=="undefined"&&!m)return(h=h.getElementById(c[1]))?h.id===c[1]||typeof h.getAttributeNode!=="undefined"&&h.getAttributeNode("id").nodeValue===c[1]?[h]:undefined:[]};o.filter.ID=function(c,h){var m=typeof c.getAttributeNode!==
"undefined"&&c.getAttributeNode("id");return c.nodeType===1&&m&&m.nodeValue===h}}f.removeChild(a);f=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)o.find.TAG=function(b,f){f=f.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var c=0;f[c];c++)f[c].nodeType===1&&b.push(f[c]);f=b}return f};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")o.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=e,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){e=function(c,h,m,r){h=h||document;if(!r&&h.nodeType===9&&!e.isXML(h))try{return q(h.querySelectorAll(c),m)}catch(u){}return a(c,h,m,r)};for(var f in a)e[f]=a[f];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(b,f,c){if(typeof f.getElementsByClassName!=="undefined"&&!c)return f.getElementsByClassName(b[1])};a=null}}})();e.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};e.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var v=function(a,b){var f=[],c="",h;for(b=b.nodeType?[b]:b;h=o.match.PSEUDO.exec(a);){c+=h[0];a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;h=0;for(var m=b.length;h<m;h++)e(a,b[h],f);return e.filter(c,f)};KISSY.ExternalSelector=e;KISSY.ExternalSelector._filter=function(a,b){return e.matches(b,KISSY.query(a))}})();
KISSY.add("anim-easing",function(d){var s=Math,n=s.PI,t=s.pow,p=s.sin,l=1.70158,i={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(t(2,10*(e-=1))*p((e-0.075)*2*n/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return t(2,-10*e)*p((e-0.075)*2*n/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*t(2,10*(e-=1))*p((e-0.1125)*2*n/0.45);return t(2,-10*(e-=1))*p((e-0.1125)*2*n/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((l+1)*e-l)},backOut:function(e){return(e-=1)*e*((l+1)*e+l)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((l*=1.525)+1)*e-l);return 0.5*((e-=2)*e*(((l*=1.525)+1)*e+l)+2)},bounceIn:function(e){return 1-
i.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return i.bounceIn(e*2)*0.5;return i.bounceOut(e*2-1)*0.5+0.5}};d.Easing=i});
KISSY.add("anim",function(d,s){function n(v,a,b,f,c){if(v=d.get(v)){if(!(this instanceof n))return new n(v,a,b,f,c);var h=d.isPlainObject(b);a=a;this.domEl=v;if(d.isPlainObject(a))a=d.param(a,";").replace(/=/g,":");this.props=t(a);this.targetStyle=a;if(h)v=d.merge(x,b);else{v=d.clone(x);b&&(v.duration=g(b,10)||1);d.isString(f)&&(f=k[f]);d.isFunction(f)&&(v.easing=f);d.isFunction(c)&&(v.complete=c)}this.config=v;d.isFunction(c)&&this.on(w,c)}}function t(v){var a={},b=q.length,f;j.innerHTML='<div style="'+
v+'"></div>';for(v=j.firstChild.style;b--;)if(f=v[q[b]])a[q[b]]=p(f);return a}function p(v){var a=g(v);v=(v+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:v,u:"",f:i}:{v:a,u:v,f:l}}function l(v,a,b){return(v+(a-v)*b).toFixed(3)}function i(v,a,b){for(var f=2,c,h,m=[],r=[];c=3,h=arguments[f-1],f--;)if(e(h,0,4)==="rgb(")for(h=h.match(/\d+/g);c--;)m.push(~~h[c]);else if(e(h,0)==="#"){if(h.length===4)h="#"+e(h,1)+e(h,1)+e(h,2)+e(h,2)+e(h,3)+e(h,3);for(;c--;)m.push(parseInt(e(h,1+c*2,2),16))}else return a;
for(;c--;){f=~~(m[c+3]+(m[c]-m[c+3])*b);r.push(f<0?0:f>255?255:f)}return"rgb("+r.join(",")+")"}function e(v,a,b){return v.substr(a,b||1)}var o=d.DOM,k=d.Easing,g=parseFloat,j=o.create("<div>"),q="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
w="complete",x={duration:1,easing:k.easeNone};d.augment(n,d.EventTarget,{run:function(){var v=this,a=v.config,b=v.domEl,f=a.duration*1E3,c=a.easing,h=d.now(),m=h+f,r=v.props,u={},A;for(A in r)u[A]=p(o.css(b,A));if(v.fire("start")!==false){v.stop();v.timer=d.later(a=function(){var y=d.now(),z=y>m?1:(y-h)/f,B,C,D;for(A in r){B=u[A];C=r[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;o.css(b,A,C.f(B.v,C.v,c(z))+C.u)}if(v.fire("step")===false||(D=y>m)){v.stop();D&&v.fire(w)}},13,true);a();return v}},stop:function(v){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=s}if(v){d.UA.ie&&b.indexOf("opacity")>-1&&o.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(w)}return this}});d.Anim=n});KISSY.add("anim-node-plugin",function(d,s){var n=d.Anim;d.each([d.Node.prototype,d.NodeList.prototype],function(t){t.animate=function(){var p=d.makeArray(arguments);d.each(this,function(l){n.apply(s,[l].concat(p)).run()});return this}})});
KISSY.add("datalazyload",function(d,s){function n(g,j){if(!(this instanceof n))return new n(g,j);if(j===s){j=g;g=[i]}d.isArray(g)||(g=[d.get(g)||i]);this.containers=g;this.config=d.merge(k,j);this._init()}var t=d.DOM,p=d.Event,l=window,i=document,e="scroll",o="resize",k={mod:"manual",diff:"default",placeholder:"none"};d.augment(n,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var g=this.containers,j,
q,w,x=[],v=[];j=0;for(q=g.length;j<q;++j){w=d.query("img",g[j]);x=x.concat(d.filter(w,this._filterImg,this));w=d.query("textarea",g[j]);v=v.concat(d.filter(w,this._filterArea,this))}this.images=x;this.areas=v},_filterImg:function(g){var j=g.getAttribute("data-ks-lazyload"),q=this.threshold,w=this.config.placeholder;if(this.config.mod==="manual"){if(j){if(w!=="none")g.src=w;return true}}else if(t.offset(g).top>q&&!j){t.attr(g,"data-ks-lazyload",g.src);if(w!=="none")g.src=w;else g.removeAttribute("src");
return true}},_filterArea:function(g){return t.hasClass(g,"ks-datalazyload")},_initLoadEvent:function(){function g(){q||(q=d.later(function(){j();q=null},100))}function j(){w._loadItems();if(w._getItemsLength()===0){p.remove(l,e,g);p.remove(l,o,g)}}var q,w=this;p.on(l,e,g);p.on(l,o,function(){w.threshold=w._getThreshold();g()});w._getItemsLength()&&d.ready(function(){j()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=d.filter(this.images,this._loadImg,
this)},_loadImg:function(g){var j=this.threshold+t.scrollTop();if(t.offset(g).top<=j)this._loadImgSrc(g);else return true},_loadImgSrc:function(g,j){j=j||"data-ks-lazyload";var q=g.getAttribute(j);if(q&&g.src!=q){g.src=q;g.removeAttribute(j)}},_loadAreas:function(){this.areas=d.filter(this.areas,this._loadArea,this)},_loadArea:function(g){var j=t.css(g,"display")==="none";if(t.offset(j?g.parentNode:g).top<=this.threshold+t.scrollTop())this._loadAreaData(g.parentNode,g);else return true},_loadAreaData:function(g,
j){j.style.display="none";j.className="";var q=t.create("<div>");g.insertBefore(q,j);t.html(q,j.value,true)},_getThreshold:function(){var g=this.config.diff,j=t.viewportHeight();return g==="default"?2*j:j+g},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(g,j){var q=this,w,x;d.isArray(g)||(g=[d.get(g)]);d.each(g,function(v){switch(j){case "img-src":x=v.nodeName==="IMG"?[v]:d.query("img",v);d.each(x,function(a){q._loadImgSrc(a,"data-ks-lazyload-custom")});
break;default:(w=d.get("textarea",v))&&t.hasClass(w,"ks-datalazyload-custom")&&q._loadAreaData(v,w)}})}});d.mix(n,n.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);d.DataLazyload=n});
KISSY.add("flash-ua",function(d){function s(){var k;if(navigator.plugins&&navigator.mimeTypes.length)k=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{k=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(g){}if(k)return n(k)}function n(k){return k.match(/(\d)+/g)}function t(k){var g=d.isString(k)?n(k):k;k=k;if(d.isArray(g))k=parseFloat(g[0]+"."+p(g[1],3)+p(g[2],5));return k||0}function p(k,g){for(var j=(k+"").length;j++<g;)k="0"+
k;return k}var l=d.UA,i,e,o=true;l.fpv=function(k){if(k||o){o=false;i=s();e=t(i)}return i};l.fpvGEQ=function(k,g){o&&l.fpv(g);return!!e&&e>=t(k)}});KISSY.add("flash",function(d){d.Flash={swfs:{},length:0}});
KISSY.add("flash-embed",function(d){function s(k,g,j){var q=t.create("<param>");t.attr(q,{name:g,value:j});k.appendChild(q)}var n=d.UA,t=d.DOM,p=d.Flash,l=/object|embed/i,i=encodeURIComponent,e={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},o={params:{},attrs:{width:215,height:138},version:9};d.mix(p,{fpv:n.fpv,fpvGEQ:n.fpvGEQ,add:function(k,g,j){var q,
w;g=p._normalize(g);g=d.merge(o,g);g.attrs=d.merge(o.attrs,g.attrs);if(k=d.get(k)){if(!k.id)k.id=d.guid("ks-flash-");w=g.attrs.id=k.id;if(n.fpv()){if(!n.fpvGEQ(g.version)){this._callback(j,0,w,k);if(!((q=g.xi)&&d.isString(q)))return;g.src=q}if(l.test(k.nodeName))this._register(k,g,j);else g.src?this._embed(k,g,j):this._callback(j,-3,w,k)}else this._callback(j,-1,w,k)}else this._callback(j,-2)},get:function(k){return p.swfs[k]},remove:function(k){if(k=p.get("#"+k)){t.remove(k);delete p.swfs[k.id];
p.length-=1}},contains:function(k){var g=p.swfs,j,q=false;if(d.isString(k))q=k in g;else for(j in g)if(g[j]===k){q=true;break}return q},_register:function(k,g,j){g=g.attrs.id;k=(t.query("object",k)||[])[0]||k;p._addSWF(g,k);p._callback(j,1,g,k)},_embed:function(k,g,j){var q=p._createSWF(g.src,g.attrs,g.params);if(n.ie)k.outerHTML=q.outerHTML;else k.parentNode.replaceChild(q,k);k=d.get("#"+k.id);p._register(k,g,j)},_callback:function(k,g,j,q){g&&d.isFunction(k)&&k({status:g,id:j,swf:q})},_addSWF:function(k,
g){if(k&&g){p.swfs[k]=g;p.length+=1}},_createSWF:function(k,g,j){var q=t.create("<object>"),w;t.attr(q,g);if(n.ie){t.attr(q,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");s(q,"movie",k)}else t.attr(q,{type:"application/x-shockwave-flash",data:k,name:g.id});for(w in j)w in e&&s(q,w,j[w]);j.flashvars&&s(q,"flashvars",p.toFlashVars(j.flashvars));return q},_normalize:function(k){var g,j,q,w=k;if(d.isPlainObject(k)){w={};for(q in k){g=q.toLowerCase();j=k[q];if(g!=="flashvars")j=p._normalize(j);
w[g]=j}}return w},toFlashVars:function(k){if(!d.isPlainObject(k))return"";var g,j,q=[];for(g in k){j=k[g];if(d.isString(j))j=i(j);else{j=d.JSON.stringify(j);if(!j)continue;j=j.replace(/:"([^"]+)/g,function(w,x){return':"'+i(x)})}q.push(g+"="+j)}return q.join("&").replace(/"/g,"'")}})});
KISSY.add("switchable",function(d,s){function n(l,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=d.merge(n.Config,i);this.container=d.get(l);this.config=i;this.activeIndex=i.activeIndex;this._init()}var t=d.DOM,p=d.Event;n.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};n.Plugins=[];d.augment(n,d.EventTarget,{_init:function(){var l=this,i=l.config;if(l.fire("beforeInit")!==false){l._parseMarkup();i.hasTriggers&&l._bindTriggers();d.each(n.Plugins,function(e){e.init&&e.init(l)});l.fire("init")}},_parseMarkup:function(){var l=this.container,i=this.config,e,o=[],k=[];switch(i.markupType){case 0:if(e=d.get("."+i.navCls,l))o=t.children(e);e=d.get("."+i.contentCls,l);k=t.children(e);break;case 1:o=d.query("."+i.triggerCls,
l);k=d.query("."+i.panelCls,l);break;case 2:o=i.triggers;k=i.panels;break}l=k.length;this.length=l/i.steps;if(i.hasTriggers&&l>0&&o.length===0)o=this._generateTriggersMarkup(this.length);this.triggers=d.makeArray(o);this.panels=d.makeArray(k);this.content=e||k[0].parentNode},_generateTriggersMarkup:function(l){var i=this.config,e=t.create("<ul>"),o,k;e.className=i.navCls;for(k=0;k<l;k++){o=t.create("<li>");if(k===this.activeIndex)o.className=i.activeTriggerCls;o.innerHTML=k+1;e.appendChild(o)}this.container.appendChild(e);
return t.children(e)},_bindTriggers:function(){var l=this,i=l.config,e=l.triggers,o,k,g=e.length;for(k=0;k<g;k++)(function(j){o=e[j];p.on(o,"click focus",function(){l._onFocusTrigger(j)});if(i.triggerType==="mouse"){p.on(o,"mouseenter",function(){l._onMouseEnterTrigger(j)});p.on(o,"mouseleave",function(){l._onMouseLeaveTrigger(j)})}})(k)},_onFocusTrigger:function(l){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(l)}},_onMouseEnterTrigger:function(l){var i=this;if(i._triggerIsValid())i.switchTimer=
d.later(function(){i.switchTo(l)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(l){return this.activeIndex!==l},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=s}},switchTo:function(l,i){var e=this.config,o=this.triggers,k=this.panels,g=this.activeIndex,j=e.steps,q=g*j,w=l*j;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:l})===false)return this;if(e.hasTriggers)this._switchTrigger(g>
-1?o[g]:null,o[l]);if(i===s)i=l>g?"forward":"backward";this._switchView(k.slice(q,q+j),k.slice(w,w+j),l,i);this.activeIndex=l;return this},_switchTrigger:function(l,i){var e=this.config.activeTriggerCls;l&&t.removeClass(l,e);t.addClass(i,e)},_switchView:function(l,i,e){t.css(l,"display","none");t.css(i,"display","block");this._fireOnSwitch(e)},_fireOnSwitch:function(l){this.fire("switch",{currentIndex:l})},prev:function(){var l=this.activeIndex;this.switchTo(l>0?l-1:this.length-1,"backward")},next:function(){var l=
this.activeIndex;this.switchTo(l<this.length-1?l+1:0,"forward")}});d.Switchable=n});
KISSY.add("switchable-autoplay",function(d,s){var n=d.Event,t=d.Switchable;d.mix(t.Config,{autoplay:false,interval:5,pauseOnHover:true});t.Plugins.push({name:"autoplay",init:function(p){function l(){o=d.later(function(){p.paused||p.switchTo(p.activeIndex<p.length-1?p.activeIndex+1:0,"forward")},e,true)}var i=p.config,e=i.interval*1E3,o;if(i.autoplay){if(i.pauseOnHover){n.on(p.container,"mouseenter",function(){if(o){o.cancel();o=s}p.paused=true});n.on(p.container,"mouseleave",function(){p.paused=false;
l()})}l()}}})});
KISSY.add("switchable-effect",function(d,s){var n=d.DOM,t=d.Anim,p=d.Switchable,l;d.mix(p.Config,{effect:"none",duration:0.5,easing:"easeNone"});p.Effects={none:function(i,e,o){n.css(i,"display","none");n.css(e,"display","block");o()},fade:function(i,e,o){i.length!==1&&d.error("fade effect only supports steps == 1.");var k=this,g=k.config,j=i[0],q=e[0];k.anim&&k.anim.stop(true);n.css(q,"opacity",1);k.anim=(new t(j,{opacity:0},g.duration,g.easing,function(){k.anim=s;n.css(q,"z-index",9);n.css(j,"z-index",
1);o()})).run()},scroll:function(i,e,o,k){var g=this;i=g.config;e=i.effect==="scrollx";var j={};j[e?"left":"top"]=-(g.viewSize[e?0:1]*k)+"px";g.anim&&g.anim.stop();g.anim=(new t(g.content,j,i.duration,i.easing,function(){g.anim=s;o()})).run()}};l=p.Effects;l.scrollx=l.scrolly=l.scroll;p.Plugins.push({name:"effect",init:function(i){var e=i.config,o=e.effect,k=i.panels,g=i.content,j=e.steps,q=i.activeIndex,w=k.length;i.viewSize=[e.viewSize[0]||k[0].offsetWidth*j,e.viewSize[1]||k[0].offsetHeight*j];
if(o!=="none"){d.each(k,function(b){n.css(b,"display","block")});switch(o){case "scrollx":case "scrolly":n.css(g,"position","absolute");n.css(g.parentNode,"position","relative");if(o==="scrollx"){n.css(k,"float","left");n.width(g,i.viewSize[0]*(w/j))}break;case "fade":var x=q*j,v=x+j-1,a;d.each(k,function(b,f){a=f>=x&&f<=v;n.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});d.augment(p,{_switchView:function(i,e,o,k){var g=this,j=g.config.effect;(d.isFunction(j)?j:l[j]).call(g,i,
e,function(){g._fireOnSwitch(o)},o,k)}})});
KISSY.add("switchable-circular",function(d,s){function n(a,b,f,c,h){var m=this;a=m.config;b=m.length;var r=m.activeIndex,u=a.scrollType===x,A=u?o:k,y=m.viewSize[u?0:1];u=-y*c;var z={},B,C=h===w;if(B=C&&r===0&&c===b-1||h===q&&r===b-1&&c===0)u=t.call(m,m.panels,c,C,A,y);z[A]=u+j;m.anim&&m.anim.stop();m.anim=(new d.Anim(m.content,z,a.duration,a.easing,function(){B&&p.call(m,m.panels,c,C,A,y);m.anim=s;f()})).run()}function t(a,b,f,c,h){var m=this.config.steps;b=this.length;var r=f?b-1:0,u=(r+1)*m;for(m=
r*m;m<u;m++){l.css(a[m],i,e);l.css(a[m],c,(f?-1:1)*h*b)}return f?h:-h*b}function p(a,b,f,c,h){var m=this.config.steps;b=this.length;var r=f?b-1:0,u=(r+1)*m;for(m=r*m;m<u;m++){l.css(a[m],i,g);l.css(a[m],c,g)}l.css(this.content,c,f?-h*(b-1):g)}var l=d.DOM,i="position",e="relative",o="left",k="top",g="",j="px",q="forward",w="backward",x="scrollx",v=d.Switchable;d.mix(v.Config,{circular:false});v.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=n}}})});
KISSY.add("switchable-lazyload",function(d){var s=d.DOM,n="beforeSwitch",t="img-src",p="area-data",l={},i=d.Switchable;l[t]="data-ks-lazyload-custom";l[p]="ks-datalazyload-custom";d.mix(i.Config,{lazyDataType:p});i.Plugins.push({name:"lazyload",init:function(e){function o(x){var v=j.steps;x=x.toIndex*v;g.loadCustomLazyData(e.panels.slice(x,x+v),q);k()&&e.detach(n,o)}function k(){var x,v,a,b=q===t;if(x=b?"img":q===p?"textarea":""){x=d.query(x,e.container);v=0;for(a=x.length;v<a;v++)if(b?s.attr(x[v],
w):s.hasClass(x[v],w))return false}return true}var g=d.DataLazyload,j=e.config,q=j.lazyDataType,w=l[q];!g||!q||!w||e.on(n,o)}})});KISSY.add("switchable-autorender",function(d){d.Switchable.autoRender=function(s,n,t){n="."+(n||"KS_");t=t||"data-ks-switchable";d.each(["Switchable","Tabs","Slide","Carousel","Accordion"],function(p){d.each(d.query(n+p,s),function(l){try{var i=l.getAttribute(t);if(i)i=i.replace(/'/g,'"');new d[p](l,d.JSON.parse(i))}catch(e){d.log("Switchable.autoRender: "+e,"warn")}})})}});
KISSY.add("tabs",function(d){function s(n,t){if(!(this instanceof s))return new s(n,t);s.superclass.constructor.call(this,n,t)}d.extend(s,d.Switchable);d.Tabs=s});KISSY.add("slide",function(d){function s(t,p){if(!(this instanceof s))return new s(t,p);s.superclass.constructor.call(this,t,d.merge(n,p))}var n={autoplay:true,circular:true};d.extend(s,d.Switchable);d.Slide=s});
KISSY.add("carousel",function(d,s){function n(g,j){var q=this;if(!(q instanceof n))return new n(g,j);q.on("init",function(){t(q)});n.superclass.constructor.call(q,g,d.merge(k,j))}function t(g){var j=g.config,q=j.disableBtnCls;d.each(["prev","next"],function(w){var x=g[w+"Btn"]=d.get(i+j[w+"BtnCls"],g.container);l.on(x,"click",function(v){v.preventDefault();p.hasClass(x,q)||g[w]()})});j.circular||g.on("switch",function(w){w=w.currentIndex;w=w===0?g[e]:w===g.length-1?g[o]:s;p.removeClass([g[e],g[o]],
q);w&&p.addClass(w,q)});l.on(g.panels,"click focus",function(){g.fire("itemSelected",{item:this})})}var p=d.DOM,l=d.Event,i=".",e="prevBtn",o="nextBtn",k={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};d.extend(n,d.Switchable);d.Carousel=n});
KISSY.add("accordion",function(d){function s(p,l){if(!(this instanceof s))return new s(p,l);s.superclass.constructor.call(this,p,d.merge(t,l))}var n=d.DOM,t={markupType:1,triggerType:"click",multiple:false};d.extend(s,d.Switchable);d.Accordion=s;d.augment(s,{_triggerIsValid:function(p){return this.activeIndex!==p||this.config.multiple},_switchView:function(p,l,i){var e=this.config,o=l[0];if(e.multiple){n.toggleClass(this.triggers[i],e.activeTriggerCls);n.css(o,"display",o.style.display=="none"?"block":
"none");this._fireOnSwitch(i)}else s.superclass._switchView.call(this,p,l,i)}})});
KISSY.add("suggest",function(d,s){function n(c,h,m){if(!(this instanceof n))return new n(c,h,m);this.textInput=d.get(c);h+=h.indexOf("?")===-1?"?":"&";this.dataSource=h+"code=utf-8&callback="+w;this.config=d.merge(f,m);this.queryParams=this.query=x;this._dataCache={};this._init()}function t(c){c.style.visibility=x}function p(c){c.style.visibility=v}function l(c,h){if(h.nodeType===1){i.html(c,x);c.appendChild(h)}else i.html(c,h)}var i=d.DOM,e=d.Event,o=window,k=document,g,j=d.get("head"),q=d.UA.ie,
w="g_ks_suggest_callback",x="",v="hidden",a=parseInt,b=/^(input|button|a)$/i,f={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:q===6,submitOnSelect:true};d.augment(n,d.EventTarget,{_init:function(){g=k.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var c=this,h=c.textInput,m=false,r=0;i.attr(h,"autocomplete","off");c.config.autoFocus&&h.focus();e.on(h,"keydown",function(u){u=
u.keyCode;if(u===27){c.hide();h.value=c.query}else if(u>32&&u<41)if(h.value){if(u===40||u===38)if(r++===0){c._isRunning&&c.stop();m=true;c._selectItem(u===40)}else if(r==3)r=0}else h.blur();else if(u===13){h.blur();if(m)if(h.value==c._getSelectedItemKey())if(c.fire("itemSelect")===false)return;c._submitForm()}else{c._isRunning||c.start();m=false}});e.on(h,"keyup",function(){r=0});e.on(h,"blur",function(){c.stop();d.later(function(){c._focusing||c.hide()},0)})},_initContainer:function(){var c=i.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),h=i.create("<div>",{"class":"ks-suggest-content"}),m=i.create("<div>",{"class":"ks-suggest-footer"});c.appendChild(h);c.appendChild(m);g.insertBefore(c,g.firstChild);this.container=c;this.content=h;this.footer=m;this._initContainerEvent()},_setContainerRegion:function(){var c=this.textInput,h=i.offset(c),m=this.container;i.offset(m,{left:h.left,top:h.top+c.offsetHeight-1});i.width(m,this.config.containerWidth||
c.offsetWidth-2)},_initContainerEvent:function(){var c=this,h=c.textInput,m=c.container,r=c.content,u=c.footer,A,y;e.on(r,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");if(i.contains(r,z))if(z!==c.selectedItem){c._removeSelectedItem();c._setSelectedItem(z)}});e.on(r,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");A=z});e.on(m,"mousedown",function(z){if(!b.test(z.target.nodeName)){h.onbeforedeactivate=function(){o.event.returnValue=false;h.onbeforedeactivate=
null};z.preventDefault()}});e.on(r,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=i.parent(B,"li");if(B==A)if(i.contains(r,B)){c._updateInputFromSelectItem(B);if(c.fire("itemSelect")!==false){h.blur();c._submitForm()}}}});e.on(u,"focusin",function(){c._focusing=true;c._removeSelectedItem();y=false});e.on(u,"focusout",function(){c._focusing=false;d.later(function(){if(y)c.hide();else c._focusing||c.textInput.focus()},0)});e.on(c.container,"mouseleave",function(){y=true});
e.on(u,"click",function(z){i.hasClass(z.target,"ks-suggest-closebtn")&&c.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var c=this.textInput.form;if(c)if(this.fire("beforeSubmit",{form:c})!==false){if(k.createEvent){var h=k.createEvent("MouseEvents");h.initEvent("submit",true,false);c.dispatchEvent(h)}else k.createEventObject&&c.fireEvent("onsubmit");c.submit()}}},_initShim:function(){var c=i.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=c;g.insertBefore(c,g.firstChild)},_setShimRegion:function(){var c=this.container,h=c.style,m=c.shim;m&&i.css(m,{left:a(h.left)-2,top:h.top,width:a(h.width)+2,height:i.height(c)-2})},_initStyle:function(){d.get("#ks-suggest-style")||i.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var c=this;e.on(o,"resize",function(){c._setContainerRegion();c._setShimRegion()})},start:function(){var c=this;if(c.fire("beforeStart")!==false){n.focusInstance=c;c._timer=d.later(function(){c._updateContent();c._timer=d.later(arguments.callee,200)},200);c._isRunning=true}},stop:function(){n.focusInstance=s;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var c=this.container,h=c.shim;this._setContainerRegion();
t(c);if(h){this._setShimRegion();t(h)}}},hide:function(){if(this.isVisible()){var c=this.container,h=c.shim;h&&p(h);p(c)}},isVisible:function(){return this.container.style.visibility!=v},_updateContent:function(){var c=this.textInput;if(c.value!=this.query){c=this.query=c.value;if(d.trim(c))if(this._dataCache[c]!==s){this._fillContainer(this._dataCache[c]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var c=this,h;if(!q)c.dataScript=
s;if(!c.dataScript){h=k.createElement("script");h.charset="utf-8";h.async=true;j.insertBefore(h,j.firstChild);c.dataScript=h;if(!q){var m=d.now();c._latestScriptTime=m;i.attr(h,"data-time",m);e.on(h,"load",function(){c._scriptDataIsOut=i.attr(h,"data-time")!=c._latestScriptTime})}}c.queryParams="q="+encodeURIComponent(c.query);if(c.fire("beforeDataRequest")!==false)c.dataScript.src=c.dataSource+"&"+c.queryParams},_handleResponse:function(c){var h=x,m,r,u,A;if(!this._scriptDataIsOut){this.returnedData=
c;if(this.fire("dataReturn",{data:c})!==false){c=this._formatData(this.returnedData);if((m=c.length)>0){r=i.create("<ol>");for(h=0;h<m;++h){u=c[h];u=this._formatItem(A=u.key,u.result);i.attr(u,"key",A);i.addClass(u,h%2?"ks-even":"ks-odd");r.appendChild(u)}h=r}this._fillContainer(h);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=i.html(this.content);this._displayContainer()}}}},_formatData:function(c){var h=[],m,r,u,A=0;if(!c)return h;if(d.isArray(c.result))c=c.result;if(!(m=c.length))return h;
for(u=0;u<m;++u){r=c[u];if(d.isString(r))h[A++]={key:r};else if(d.isArray(r)&&r.length>1)h[A++]={key:r[0],result:r[1]}}return h},_formatItem:function(c,h){var m=i.create("<li>"),r=i.create("<span>",{"class":"ks-suggest-key"});i.html(r,c);m.appendChild(r);if(h){c=this.config.resultFormat.replace("%result%",h);if(d.trim(c)){h=i.create("<span>",{"class":"ks-suggest-result"});i.html(h,c);m.appendChild(h)}}return m},_fillContainer:function(c,h){this._fillContent(c||x);this._fillFooter(h||x)},_fillContent:function(c){l(this.content,
c);this.selectedItem=s},_fillFooter:function(c){var h=this.config,m=this.footer;l(m,c);if(h.closeBtn){c=i.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});i.html(c,h.closeBtnText);m.appendChild(c)}this.fire("updateFooter",{footer:m,query:this.query});i.css(m,"display",i.text(m)?x:"none")},_displayContainer:function(){d.trim(i.text(this.container))?this.show():this.hide()},_selectItem:function(c){var h=d.query("li",this.container);if(h.length!==0)if(this.isVisible()){if(this.selectedItem){c=
i[c?"next":"prev"](this.selectedItem);if(!c)this.textInput.value=this.query}else c=h[c?0:h.length-1];this._removeSelectedItem();if(c){this._setSelectedItem(c);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){i.removeClass(this.selectedItem,"ks-selected");this.selectedItem=s},_setSelectedItem:function(c){i.addClass(c,"ks-selected");this.selectedItem=c;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return i.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});o[w]=function(c){n.focusInstance&&d.later(function(){n.focusInstance._handleResponse(c)},0)};n.version=1.1;d.Suggest=n});
