/*
Copyright 2010, KISSY UI Library v1.1.1dev
MIT Licensed
build time: ${build.time}
*/
(function(c,r,o){if(c[r]===o)c[r]={};r=c[r];var s=c.document,p=function(j,e,h,q){if(!e||!j)return j;if(h===o)h=true;var u,w,t;if(q&&(t=q.length))for(u=0;u<t;u++){w=q[u];if(w in e)if(h||!(w in j))j[w]=e[w]}else for(w in e)if(h||!(w in j))j[w]=e[w];return j},k=false,i=[],d=false,m=/^#?([\w-]+)$/;p(r,{version:"1.1.0",_init:function(){this.Env={mods:{},guid:0}},add:function(j,e){this.Env.mods[j]={name:j,fn:e};e(this);return this},ready:function(j){d||this._bindReady();k?j.call(c,this):i.push(j);return this},
_bindReady:function(){var j=this,e=s.documentElement.doScroll,h=e?"onreadystatechange":"DOMContentLoaded",q=function(){j._fireReady()};d=true;if(s.readyState==="complete")return q();if(s.addEventListener){var u=function(){s.removeEventListener(h,u,false);q()};s.addEventListener(h,u,false);c.addEventListener("load",q,false)}else{var w=function(){if(s.readyState==="complete"){s.detachEvent(h,w);q()}};s.attachEvent(h,w);c.attachEvent("onload",q);if(c==c.top){var t=function(){try{e("left");q()}catch(a){setTimeout(t,
1)}};t()}}},_fireReady:function(){if(!k){k=true;if(i){for(var j,e=0;j=i[e++];)j.call(c,this);i=null}}},available:function(j,e){if((j=(j+"").match(m)[1])&&r.isFunction(e))var h=1,q=r.later(function(){if(s.getElementById(j)&&(e()||1)||++h>500)q.cancel()},40,true)},mix:p,merge:function(){var j={},e,h=arguments.length;for(e=0;e<h;++e)p(j,arguments[e]);return j},augment:function(){var j=arguments,e=j.length-2,h=j[0],q=j[e],u=j[e+1],w=1;if(!r.isArray(u)){q=u;u=o;e++}if(!r.isBoolean(q)){q=o;e++}for(;w<e;w++)p(h.prototype,
j[w].prototype||j[w],q,u);return h},extend:function(j,e,h,q){if(!e||!j)return j;var u=Object.prototype,w=e.prototype,t=function(a){function b(){}b.prototype=a;return new b}(w);j.prototype=t;t.constructor=j;j.superclass=w;if(e!==Object&&w.constructor===u.constructor)w.constructor=e;h&&p(t,h);q&&p(j,q);return j},namespace:function(){var j=arguments.length,e=null,h,q,u;for(h=0;h<j;++h){u=(""+arguments[h]).split(".");e=this;for(q=c[u[0]]===e?1:0;q<u.length;++q)e=e[u[q]]=e[u[q]]||{}}return e},app:function(j,
e){var h=c[j]||{};p(h,this,true,["_init","add","namespace"]);h._init();return p(c[j]=h,typeof e==="function"?e():e)},log:function(j,e,h){if(this.Config.debug){if(h)j=h+": "+j;if(c.console!==o&&console.log)console[e&&console[e]?e:"log"](j)}return this},error:function(j){if(this.Config.debug)throw j;},guid:function(j){var e=this.Env.guid++ +"";return j?j+e:e}});r._init();r.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(c,r){function o(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var s=window,p=document,k=location,i=Array.prototype,d=i.indexOf,m=i.filter,j=String.prototype.trim,e=Object.prototype.toString,h=encodeURIComponent,q=decodeURIComponent,u=/^\s+|\s+$/g,w=/^(\w+)\[\]$/,t=/\S/;c.mix(c,{isUndefined:function(a){return a===r},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&e.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return e.call(a)==="[object Function]"},isArray:function(a){return e.call(a)==="[object Array]"},trim:j?function(a){return a==r?"":j.call(a)}:function(a){return a==r?"":a.toString().replace(u,"")},each:function(a,b,f){for(var g=a&&a.length||0,n=0;n<g;++n)b.call(f||s,a[n],n,a)},indexOf:d?function(a,
b){return d.call(b,a)}:function(a,b){for(var f=0,g=b.length;f<g;++f)if(b[f]===a)return f;return-1},inArray:function(a,b){return c.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===r)return[];if(c.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||c.isFunction(a))return[a];if(a.item&&c.UA.ie){for(var b=[],f=0,g=a.length;f<g;++f)b[f]=a[f];return b}return i.slice.call(a)},filter:m?function(a,b,f){return m.call(a,b,f)}:function(a,b,f){var g=[];c.each(a,function(n,l,v){b.call(f,
n,l,v)&&g.push(n)});return g},param:function(a,b){if(!c.isPlainObject(a))return"";b=b||"&";var f=[],g,n;for(g in a){n=a[g];g=h(g);if(o(n))f.push(g,"=",h(n+""),b);else if(c.isArray(n)&&n.length)for(var l=0,v=n.length;l<v;++l)o(n[l])&&f.push(g,"[]=",h(n[l]+""),b)}f.pop();return f.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=c.trim(a)).length===0)return{};var f={};a=a.split(b||"&");for(var g,n,l,v=0,x=a.length;v<x;++v){b=a[v].split("=");g=q(b[0]);try{n=q(b[1]||"")}catch(A){n=b[1]||""}if((l=
g.match(w))&&l[1]){f[l[1]]=f[l[1]]||[];f[l[1]].push(n)}else f[g]=n}return f},later:function(a,b,f,g,n){b=b||0;g=g||{};var l=a,v=c.makeArray(n),x;if(typeof a==="string")l=g[a];l||c.error("method undefined");a=function(){l.apply(g,v)};x=f?setInterval(a,b):setTimeout(a,b);return{id:x,interval:f,cancel:function(){this.interval?clearInterval(x):clearTimeout(x)}}},clone:function(a){var b=a,f,g;if(a&&((f=c.isArray(a))||c.isPlainObject(a))){b=f?[]:{};for(g in a)if(a.hasOwnProperty(g))b[g]=c.clone(a[g])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&t.test(a)){var b=p.getElementsByTagName("head")[0]||p.documentElement,f=p.createElement("script");f.text=a;b.insertBefore(f,b.firstChild);b.removeChild(f)}}});if(k&&k.search&&k.search.indexOf("ks-debug")!==-1)c.Config.debug=true});
KISSY.add("kissy-ua",function(c){var r=navigator.userAgent,o,s={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},p=function(k){var i=0;return parseFloat(k.replace(/\./g,function(){return i++===0?".":""}))};if((o=r.match(/AppleWebKit\/([\d.]*)/))&&o[1]){s.webkit=p(o[1]);if((o=r.match(/Chrome\/([\d.]*)/))&&o[1])s.chrome=p(o[1]);else if((o=r.match(/\/([\d.]*) Safari/))&&o[1])s.safari=p(o[1]);if(/ Mobile\//.test(r))s.mobile="Apple";else if(o=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))s.mobile=
o[0]}else if((o=r.match(/Opera\/.* Version\/([\d.]*)/))&&o[1]){s.opera=p(o[1]);if(r.match(/Opera Mini[^;]*/))s.mobile=o[0]}else if((o=r.match(/MSIE\s([^;]*)/))&&o[1])s.ie=p(o[1]);else if(o=r.match(/Gecko/)){s.gecko=1;if((o=r.match(/rv:([\d.]*)/))&&o[1])s.gecko=p(o[1]);if((o=r.match(/Firefox\/([\d.]*)/))&&o[1])s.firefox=p(o[1])}c.UA=s});
KISSY.add("dom",function(c){var r={_isSupportedNode:function(o){return r._isElementNode(o)||r._isTextNode(o)},_isElementNode:function(o){return o&&o.nodeType===1},_isTextNode:function(o){return o&&o.nodeType===3},_isKSNode:function(o){return o&&c.Node&&o.nodeType===c.Node.TYPE}};c.DOM=r});
KISSY.add("selector",function(c,r){function o(a,b){var f,g=[],n,l;b=s(b);if(c.isString(a)){a=c.trim(a);if(w.test(a)){if(a=p(a.slice(1),b))g=[a]}else if(f=t.exec(a)){n=f[1];l=f[2];f=f[3];if(b=n?p(n,b):b)if(f)if(!n||a.indexOf(e)!==-1)g=i(f,l,b);else{if((a=p(n,b))&&j.hasClass(a,f))g=[a]}else if(l)g=k(l,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else d(a)}else if(a&&(a[q]||a[u]))g=a[q]?[a[q]()]:a[u]();else if(a&&a.nodeType)g=[a];else if(a&&(c.isArray(a)||a.item))g=a;if(g.item)g=c.makeArray(g);
return g}function s(a){if(a===r)a=m;else if(c.isString(a)&&w.test(a))a=p(a.slice(1),m);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function p(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function k(a,b){return b.getElementsByTagName(a)}function i(a,b,f){f=a=f.getElementsByClassName(a);var g=0,n=0,l=a.length,v;if(b&&b!==h){f=[];for(b=b.toUpperCase();g<l;++g){v=a[g];if(v.tagName===b)f[n++]=v}}return f}function d(a){c.error("Unsupported selector: "+a)}var m=document,
j=c.DOM,e=" ",h="*",q="getDOMNode",u=q+"s",w=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=m.createElement("div");a.appendChild(m.createComment(""));if(a.getElementsByTagName(h).length>0)k=function(b,f){f=f.getElementsByTagName(b);if(b===h){b=[];for(var g=0,n=0,l;l=f[g++];)if(l.nodeType===1)b[n++]=l;f=b}return f}})();m.getElementsByClassName||(i=m.querySelectorAll?function(a,b,f){return f.querySelectorAll((b?b:"")+"."+a)}:function(a,b,f){b=f.getElementsByTagName(b||
h);f=[];var g=0,n=0,l=b.length,v,x;for(a=e+a+e;g<l;++g){v=b[g];if((x=v.className)&&(e+x+e).indexOf(a)>-1)f[n++]=v}return f});c.query=o;c.get=function(a,b){return o(a,b)[0]||null};c.mix(j,{query:o,get:c.get,filter:function(a,b){var f=o(a),g,n,l,v=[];if(c.isString(b)&&(g=t.exec(b))&&!g[1]){n=g[2];l=g[3];b=function(x){return!(n&&x.tagName!==n.toUpperCase()||l&&!j.hasClass(x,l))}}if(c.isFunction(b))v=c.filter(f,b);else if(b&&c.ExternalSelector)v=c.ExternalSelector._filter(a,b);else d(b);return v},test:function(a,
b){a=o(a);return j.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(c,r){function o(i,d,m,j){if(!(d=c.trim(d)))return j?false:r;i=c.query(i);var e=0,h=i.length;d=d.split(p);for(var q;e<h;e++){q=i[e];if(s._isElementNode(q)){q=m(q,d,d.length);if(q!==r)return q}}if(j)return false}var s=c.DOM,p=/[\.\s]\s*\.?/,k=/[\n\t]/g;c.mix(s,{hasClass:function(i,d){return o(i,d,function(m,j,e){if(m=m.className){m=" "+m+" ";for(var h=0,q=true;h<e;h++)if(m.indexOf(" "+j[h]+" ")<0){q=false;break}if(q)return true}},true)},addClass:function(i,d){o(i,d,function(m,
j,e){var h=m.className;if(h){var q=" "+h+" ";h=h;for(var u=0;u<e;u++)if(q.indexOf(" "+j[u]+" ")<0)h+=" "+j[u];m.className=c.trim(h)}else m.className=d})},removeClass:function(i,d){o(i,d,function(m,j,e){var h=m.className;if(h)if(e){h=(" "+h+" ").replace(k," ");for(var q=0,u;q<e;q++)for(u=" "+j[q]+" ";h.indexOf(u)>=0;)h=h.replace(u," ");m.className=c.trim(h)}else m.className=""})},replaceClass:function(i,d,m){s.removeClass(i,d);s.addClass(i,m)},toggleClass:function(i,d,m){var j=c.isBoolean(m),e;o(i,
d,function(h,q,u){for(var w=0,t;w<u;w++){t=q[w];e=j?!m:s.hasClass(h,t);s[e?"removeClass":"addClass"](h,t)}})}})});
KISSY.add("dom-attr",function(c,r){function o(t,a){return a&&a.nodeName.toUpperCase()===t.toUpperCase()}var s=c.UA,p=s.ie,k=p&&p<8,i=document.documentElement.textContent!==r?"textContent":"innerText",d=c.DOM,m=d._isElementNode,j=d._isTextNode,e=/href|src|style/,h=/href|src|colspan|rowspan/,q=/\r/g,u=/radio|checkbox/,w={readonly:"readOnly"};k&&c.mix(w,{"for":"htmlFor","class":"className"});c.mix(d,{attr:function(t,a,b){if(c.isPlainObject(a))for(var f in a)d.attr(t,f,a[f]);else if(a=c.trim(a)){a=a.toLowerCase();
a=w[a]||a;if(b===r){t=c.get(t);if(!m(t))return r;var g;e.test(a)||(g=t[a]);if(g===r)g=t.getAttribute(a);if(k)if(h.test(a))g=t.getAttribute(a,2);else if(a==="style")g=t.style.cssText;return g===null?r:g}c.each(c.query(t),function(n){if(m(n))if(k&&a==="style")n.style.cssText=b;else{if(a==="checked")n[a]=!!b;n.setAttribute(a,""+b)}})}},removeAttr:function(t,a){c.each(c.query(t),function(b){if(m(b)){d.attr(b,a,"");b.removeAttribute(a)}})},val:function(t,a){if(a===r){var b=c.get(t);if(!m(b))return r;if(o("option",
b))return(b.attributes.value||{}).specified?b.value:b.text;if(o("select",b)){var f=b.selectedIndex;t=b.options;if(f<0)return null;else if(b.type==="select-one")return d.val(t[f]);b=[];for(var g=0,n=t.length;g<n;++g)t[g].selected&&b.push(d.val(t[g]));return b}if(s.webkit&&u.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(q,"")}c.each(c.query(t),function(l){if(o("select",l)){if(c.isNumber(a))a+="";var v=c.makeArray(a),x=l.options,A;g=0;for(n=x.length;g<n;++g){A=
x[g];A.selected=c.inArray(d.val(A),v)}if(!v.length)l.selectedIndex=-1}else if(m(l))l.value=a})},text:function(t,a){if(a===r){t=c.get(t);if(m(t))return t[i]||"";else if(j(t))return t.nodeValue}else c.each(c.query(t),function(b){if(m(b))b[i]=a;else if(j(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,r){function o(a,b){var f=c.get(a),g=b===m?f.offsetWidth:f.offsetHeight;c.each(b===m?["Left","Right"]:["Top","Bottom"],function(n){g-=parseFloat(p._getComputedStyle(f,"padding"+n))||0;g-=parseFloat(p._getComputedStyle(f,"border"+n+"Width"))||0});return g}function s(a,b,f){var g=f;if(f===j&&h.test(b)){g=0;if(p.css(a,"position")==="absolute"){f=a[b==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)f-=e(p.css(a.offsetParent,"border-"+b+"-width"))||0;g=f-(e(p.css(a,
"margin-"+b))||0)}}return g}var p=c.DOM,k=c.UA,i=document,d=i.documentElement,m="width",j="auto",e=parseInt,h=/^left|top$/,q=/width|height|top|left|right|bottom|margin|padding/i,u=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},t={};c.mix(p,{_CUSTOM_STYLES:t,_getComputedStyle:function(a,b){var f="",g=a.ownerDocument;if(a.style)f=g.defaultView.getComputedStyle(a,null)[b];return f},css:function(a,b,f){if(c.isPlainObject(b))for(var g in b)p.css(a,g,b[g]);else{if(b.indexOf("-")>0)b=b.replace(u,w);
b=t[b]||b;if(f===r){a=c.get(a);g="";if(a&&a.style){g=b.get?b.get(a):a.style[b];if(g===""&&!b.get)g=s(a,b,p._getComputedStyle(a,b))}return g===r?"":g}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&q.test(b))f+="px";(b===m||b==="height")&&parseFloat(f)<0||c.each(c.query(a),function(n){if(n&&n.style){b.set?b.set(n,f):(n.style[b]=f);if(f==="")n.style.cssText||n.removeAttribute("style")}})}}},width:function(a,b){if(b===r)return o(a,m);else p.css(a,m,b)},height:function(a,b){if(b===r)return o(a,
"height");else p.css(a,"height",b)},addStyleSheet:function(a,b){var f;if(b)f=c.get(b);f||(f=p.create("<style>",{id:b}));c.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=a;else f.appendChild(i.createTextNode(a))}});if(d.style.cssFloat!==r)t["float"]="cssFloat";else if(d.style.styleFloat!==r)t["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,r){if(c.UA.ie){var o=c.DOM,s=document,p=s.documentElement,k=o._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,d=/^-?\d/,m=/^width|height$/;try{if(p.style.opacity===r&&p.filters)k.opacity={get:function(e){var h=100;try{h=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{h=e.filters("alpha").opacity}catch(u){}}return h/100+""},set:function(e,h){e=e.style;e.zoom=1;e.filter="alpha(opacity="+h*100+")"}}}catch(j){c.log("IE filters ActiveX is disabled. ex = "+j)}if(!(s.defaultView||
{}).getComputedStyle&&p.currentStyle)o._getComputedStyle=function(e,h){var q=e.style,u=e.currentStyle[h];if(m.test(h))u=o[h](e)+"px";else if(!i.test(u)&&d.test(u)){var w=q.left,t=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;q.left=h==="fontSize"?"1em":u||0;u=q.pixelLeft+"px";q.left=w;e.runtimeStyle.left=t}return u}}});
KISSY.add("dom-offset",function(c,r){function o(l){var v=0,x=0,A=p(l[t]);if(l[n]){l=l[n]();v=l[a]+k[f](A);x=l[b]+k[g](A)}return{left:v,top:x}}function s(l,v){if(k.css(l,q)==="static")l.style[q]=u;var x=o(l),A={},y,z;for(z in v){y=h(k.css(l,z),10)||0;A[z]=y+v[z]-x[z]}k.css(l,A)}function p(l){return l&&"scrollTo"in l&&l[w]?l:l&&l.nodeType===9?l.defaultView||l.parentWindow:false}var k=c.DOM,i=window,d=document,m=k._isElementNode,j=d.compatMode==="CSS1Compat",e=Math.max,h=parseInt,q="position",u="relative",
w="document",t="ownerDocument",a="left",b="top",f="scrollLeft",g="scrollTop",n="getBoundingClientRect";c.mix(k,{offset:function(l,v){if(!(l=c.get(l))||!l[t])return null;if(v===r)return o(l);s(l,v)},scrollIntoView:function(l,v,x,A){if((l=c.get(l))&&l[t]){v=c.get(v);A=A===r?true:!!A;x=x===r?true:!!x;if(!m(v))return l.scrollIntoView(x);var y=k.offset(l),z=k.offset(v),B={left:y[a]-z[a],top:y[b]-z[b]};y=v.clientHeight;z=v.clientWidth;var C=k[f](v),D=k[g](v),E=C+z,F=D+y,G=l.offsetHeight;l=l.offsetWidth;
var H=B.left+C-(h(k.css(v,"borderLeftWidth"))||0);B=B.top+D-(h(k.css(v,"borderTopWidth"))||0);var I=H+l,J=B+G;if(G>y||B<D||x)v[g]=B;else if(J>F)v[g]=J-y;if(A)if(l>z||H<C||x)v[f]=H;else if(I>E)v[f]=I-z}}});c.each(["Left","Top"],function(l,v){var x="scroll"+l;k[x]=function(A){var y=0,z=A===r?i:p(A),B;if(z&&(B=z[w]))y=z[v?"pageYOffset":"pageXOffset"]||B.documentElement[x]||B.body[x];else if(m(A=c.get(A)))y=A[x];return y}});c.each(["Width","Height"],function(l){k["doc"+l]=function(v){v=v||d;return e(j?
v.documentElement["scroll"+l]:v.body["scroll"+l],k["viewport"+l](v))};k["viewport"+l]=function(v){var x="inner"+l;v=p(v)||i;var A=v[w];return x in v?v[x]:j?A.documentElement["client"+l]:A.body["client"+l]}})});
KISSY.add("dom-traversal",function(c,r){function o(i,d,m,j){if(!(i=c.get(i)))return null;if(d===r)d=1;var e=null,h,q;if(c.isNumber(d)&&d>=0){if(d===0)return i;h=0;q=d;d=function(){return++h===q}}for(;i=i[m];)if(k(i)&&(!d||p.test(i,d))&&(!j||j(i))){e=i;break}return e}function s(i,d,m){var j=[];var e=i=c.get(i);if(i&&m)e=i.parentNode;if(e){m=0;for(e=e.firstChild;e;e=e.nextSibling)if(k(e)&&e!==i&&(!d||p.test(e,d)))j[m++]=e}return j}var p=c.DOM,k=p._isElementNode;c.mix(p,{parent:function(i,d){return o(i,
d,"parentNode",function(m){return m.nodeType!=11})},next:function(i,d){return o(i,d,"nextSibling")},prev:function(i,d){return o(i,d,"previousSibling")},siblings:function(i,d){return s(i,d,true)},children:function(i,d){return s(i,d)},contains:function(i,d){var m=false;if((i=c.get(i))&&(d=c.get(d)))if(i.contains)return i.contains(d);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(d)&16);else for(;!m&&(d=d.parentNode);)m=d==i;return m}})});
KISSY.add("dom-create",function(c,r){function o(y,z){q(y)&&c.isPlainObject(z)&&m.attr(y,z);return y}function s(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=c.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}else c.log("Unable to convert "+y+" to fragment.");return B}function p(y){var z=y.cloneNode(true);if(j.ie<8)z.innerHTML=y.innerHTML;return z}function k(y,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+
D+'"></span>';c.available(D,function(){var F=c.get("head"),G,H,I,J,L,K;for(E.lastIndex=0;G=E.exec(z);)if((I=(H=G[1])?H.match(f):false)&&I[2]){G=d.createElement("script");G.src=I[2];if((J=H.match(g))&&J[2])G.charset=J[2];G.async=true;F.appendChild(G)}else if((K=G[2])&&K.length>0)c.globalEval(K);(L=d.getElementById(D))&&m.remove(L);c.isFunction(C)&&C()});i(y,z)}else{i(y,z);c.isFunction(C)&&C()}}function i(y,z){z=(z+"").replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(m.create(z))}}var d=document,m=c.DOM,j=c.UA,e=j.ie,h=m._isSupportedNode,q=m._isElementNode,u=m._isKSNode,w=d.createElement("div"),t=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,g=/\scharset=(['"])(.*?)\1/i;c.mix(m,{create:function(y,z,B){if(h(y))return p(y);if(u(y))return p(y[0]);if(!(y=c.trim(y)))return null;var C=null;C=m._creators;var D,E="div",F;if(D=b.exec(y))C=(B||d).createElement(D[1]);else{if((D=t.exec(y))&&(F=
D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):s(y,B||d)}return o(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):w;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===r){y=c.get(y);if(q(y))return y.innerHTML}else c.each(c.query(y),function(D){q(D)&&k(D,z,B,C)})},remove:function(y){c.each(c.query(y),function(z){q(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(j.gecko||e){var n=m._creators,l=m.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
x={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in x)(function(y){n[A]=function(z,B){return l("<"+y+">"+z+"</"+y+">",null,B)}})(x[A]);if(e){n.script=function(y,z){z=z?z.createElement("div"):w;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(e<8)n.tbody=function(y,z){z=l("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!v.test(y)&&B.parentNode.removeChild(B);return z}}c.mix(n,{optgroup:n.option,th:n.td,
thead:n.tbody,tfoot:n.tbody,caption:n.tbody,colgroup:n.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(r,o){if((r=c.get(r))&&(o=c.get(o))&&o.parentNode)o.parentNode.insertBefore(r,o);return r},insertAfter:function(r,o){if((r=c.get(r))&&(o=c.get(o))&&o.parentNode)o.nextSibling?o.parentNode.insertBefore(r,o.nextSibling):o.parentNode.appendChild(r);return r}})});
KISSY.add("event",function(c,r){function o(a,b,f,g,n){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(l){t[a](l,f,g,n)});return true}if((f=c.trim(f))&&f.indexOf(q)>0){c.each(f.split(q),function(l){t[a](b,l,g,n)});return true}}function s(a){return i(a)?a[h]:-1}function p(a,b){if(!i(a))return c.error("Text or comment node is not valid event target.");try{a[h]=b}catch(f){c.error(f)}}function k(a){try{a[h]=r;delete a[h]}catch(b){}}function i(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var d=window,m=document,j=m.addEventListener?function(a,b,f,g){a.addEventListener&&a.addEventListener(b,f,!!g)}:function(a,b,f){a.attachEvent&&a.attachEvent("on"+b,f)},e=m.removeEventListener?function(a,b,f,g){a.removeEventListener&&a.removeEventListener(b,f,!!g)}:function(a,b,f){a.detachEvent&&a.detachEvent("on"+b,f)},h="ksEventTargetId",q=" ",u=c.now(),w={},t={EVENT_GUID:h,special:{},add:function(a,b,f,g){if(!o("add",a,b,f,g)){var n=s(a),l,v;if(!(n===-1||!b||!c.isFunction(f))){if(!n){p(a,n=u++);
w[n]={target:a,events:{}}}v=w[n].events;l=!a.isCustomEventTarget&&t.special[b]||{};if(!v[b]){n=function(x,A){if(!x||!x.fixed){x=new c.EventObject(a,x,b);c.isPlainObject(A)&&c.mix(x,A)}l.setup&&l.setup(x);return(l.handle||t._handle)(a,x,v[b].listeners)};v[b]={handle:n,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,n);else j(a,l.fix||b,n,l.capture)}v[b].listeners.push({fn:f,scope:g})}}},remove:function(a,b,f){if(!o("remove",a,b,f)){var g=s(a),n,l,v,x,A,y;if(g!==-1)if(g&&(n=w[g]))if(n.target===
a){n=n.events||{};if(l=n[b]){v=l.listeners;A=v.length;if(c.isFunction(f)&&A&&c.inArray(f,v)){y=[];for(x=0;x<A;++x)f!==v[x]&&y.push(v[x]);A=y.length}if(f===r||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,l.handle);else e(a,b,l.handle);delete n[b]}}if(b===r||c.isEmptyObject(n)){for(b in n)t.remove(a,b);delete w[g];k(a)}}}},_handle:function(a,b,f){f=f.slice(0);for(var g,n=0,l=f.length;n<l;++n){g=f[n];g=g.fn.call(g.scope||a,b);if(g===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return g},
_getCache:function(a){return w[a]},_simpleAdd:j,_simpleRemove:e};t.on=t.add;c.Event=t;d.attachEvent&&!d.addEventListener&&d.attachEvent("onunload",function(){var a,b;for(a in w)if(b=w[a].target)try{t.remove(b)}catch(f){}})});
KISSY.add("event-object",function(c,r){function o(k,i,d){this.currentTarget=k;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=d;this.target=k}this.fixed=true}var s=document,p="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(o,
{_fix:function(){for(var k=this.originalEvent,i=p.length,d,m=this.currentTarget.nodeType===9?this.currentTarget:this.currentTarget.ownerDocument||s;i;){d=p[--i];this[d]=k[d]}if(!this.target)this.target=this.srcElement||s;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){k=m.documentElement;m=m.body;this.pageX=this.clientX+(k&&
k.scrollLeft||m&&m.scrollLeft||0)-(k&&k.clientLeft||m&&m.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||m&&m.scrollTop||0)-(k&&k.clientTop||m&&m.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=
true},stopPropagation:function(){var k=this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=o});
KISSY.add("event-target",function(c,r){var o=c.Event,s=o.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(p,k){if((p=((o._getCache(this[s]||-1)||{}).events||{})[p])&&c.isFunction(p.handle))return p.handle(r,k)},on:function(p,k,i){o.add(this,p,k,i)},detach:function(p,k){o.remove(this,p,k)}}});
KISSY.add("event-mouseenter",function(c){var r=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(o){r.special[o.name]={fix:o.fix,setup:function(s){s.type=o.name},handle:function(s,p,k){var i=p.relatedTarget;try{for(;i&&i!==s;)i=i.parentNode;i!==s&&r._handle(s,p,k)}catch(d){}}}})});
KISSY.add("event-focusin",function(c){var r=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(o){r.special[o.name]={fix:o.fix,capture:true,setup:function(s){s.type=o.name}}})});
KISSY.add("node",function(c){function r(s,p,k){var i;if(!(this instanceof r))return new r(s,p,k);if(s){if(o._isSupportedNode(s))i=s;else if(typeof s==="string")i=o.create(s,p,k);this[0]=i}else this.length=0}var o=c.DOM;r.TYPE="-ks-Node";c.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});c.one=function(s,p){return(s=c.get(s,p))?new r(s):null};c.Node=r});
KISSY.add("nodelist",function(c){function r(p){if(!(this instanceof r))return new r(p);s.push.apply(this,p||[])}var o=c.DOM,s=Array.prototype;c.mix(r.prototype,{length:0,item:function(p){var k=null;if(o._isElementNode(this[p]))k=new c.Node(this[p]);return k},getDOMNodes:function(){return s.slice.call(this)},each:function(p,k){for(var i=this.length,d=0,m;d<i;++d){m=new c.Node(this[d]);p.call(k||m,m,d,this)}return this}});c.all=function(p,k){return new r(c.query(p,k,true))};c.NodeList=r});
KISSY.add("node-attach",function(c,r){function o(u,arguments,w,t){var a=[this[u?j:m]()].concat(c.makeArray(arguments));if(arguments[w]===r)return t.apply(p,a);else{t.apply(p,a);return this}}function s(u,w){c.each(u,function(t){c.each([i,d],function(a,b){a[t]=function(f){switch(w){case e:return function(){return o.call(this,b,arguments,1,f)};case h:return function(){return o.call(this,b,arguments,0,f)};case q:return function(){var g=this[b?j:m]();return(g=f.apply(p,[g].concat(c.makeArray(arguments))))?
new (c[c.isArray(g)?"NodeList":"Node"])(g):null};default:return function(){var g=this[b?j:m]();g=f.apply(p,[g].concat(c.makeArray(arguments)));return g===r?this:g}}}(p[t])})})}var p=c.DOM,k=c.Event,i=c.Node.prototype,d=c.NodeList.prototype,m="getDOMNode",j=m+"s",e=1,h=2,q=4;c.mix(i,{one:function(u){return c.one(u,this[0])},all:function(u){return c.all(u,this[0])}});s(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);s(["attr","removeAttr"],e);s(["val","text"],h);s(["css"],e);s(["width",
"height"],h);s(["offset"],h);s(["scrollIntoView"]);s(["parent","next","prev","siblings","children"],q);s(["contains"]);s(["html"],h);s(["remove"]);c.each(["insertBefore","insertAfter"],function(u){i[u]=function(w){p[u].call(p,this[0],w);return this}});c.each([i,d],function(u){c.mix(u,{append:function(w){w&&c.each(this,function(t){t.appendChild(p.create(w))});return this},appendTo:function(w){if((w=c.get(w))&&w.appendChild)c.each(this,function(t){w.appendChild(t)});return this}})});c.each([i,d],function(u){c.mix(u,
c.EventTarget);u._addEvent=function(w,t){for(var a=0,b=this.length;a<b;a++)k._simpleAdd(this[a],w,t)};u._removeEvent=function(w,t){for(var a=0,b=this.length;a<b;a++)k._simpleRemove(this[a],w,t)};delete u.fire})});
KISSY.add("ajax",function(c){var r=document,o=r.createElement("script").readyState?function(s,p){s.onreadystatechange=function(){var k=s.readyState;if(k==="loaded"||k==="complete"){s.onreadystatechange=null;p.call(this)}}}:function(s,p){s.onload=p};c.mix(c,{getScript:function(s,p,k){var i=c.get("head")||r.documentElement,d=r.createElement("script");d.src=s;if(k)d.charset=k;d.async=true;c.isFunction(p)&&o(d,p);i.appendChild(d)}})});
KISSY.add("cookie",function(c){function r(k){return c.isString(k)&&k!==""}var o=document,s=encodeURIComponent,p=decodeURIComponent;c.Cookie={get:function(k){var i;if(r(k))if(k=o.cookie.match("(?:^| )"+k+"(?:(?:=([^;]*))|;|$)"))i=k[1]?p(k[1]):"";return i},set:function(k,i,d,m,j,e){i=s(i);var h=d;if(typeof h==="number"){h=new Date;h.setTime(h.getTime()+d*864E5)}if(h instanceof Date)i+="; expires="+h.toUTCString();if(r(m))i+="; domain="+m;if(r(j))i+="; path="+j;if(e)i+="; secure";o.cookie=k+"="+i},remove:function(k,
i,d,m){this.set(k,"",0,i,d,m)}}});
KISSY.add("json",function(c){function r(e){return e<10?"0"+e:e}function o(e){k.lastIndex=0;return k.test(e)?'"'+e.replace(k,function(h){var q=m[h];return typeof q==="string"?q:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function s(e,h){var q,u,w=i,t,a=h[e];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(e);if(typeof j==="function")a=j.call(h,e,a);switch(typeof a){case "string":return o(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=d;t=[];if(Object.prototype.toString.apply(a)==="[object Array]"){u=a.length;for(e=0;e<u;e+=1)t[e]=s(e,a)||"null";h=t.length===0?"[]":i?"[\n"+i+t.join(",\n"+i)+"\n"+w+"]":"["+t.join(",")+"]";i=w;return h}if(j&&typeof j==="object"){u=j.length;for(e=0;e<u;e+=1){q=j[e];if(typeof q==="string")if(h=s(q,a))t.push(o(q)+(i?": ":":")+h)}}else for(q in a)if(Object.hasOwnProperty.call(a,q))if(h=s(q,a))t.push(o(q)+(i?": ":":")+h);h=t.length===0?"{}":i?"{\n"+i+t.join(",\n"+i)+
"\n"+w+"}":"{"+t.join(",")+"}";i=w;return h}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,d,m={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;if(typeof c.stringify!=="function")c.stringify=function(e,h,q){var u;d=i="";if(typeof q==="number")for(u=0;u<q;u+=1)d+=" ";else if(typeof q==="string")d=q;if((j=h)&&typeof h!=="function"&&(typeof h!=="object"||typeof h.length!=="number"))throw new Error("JSON.stringify");return s("",
{"":e})};if(typeof c.parse!=="function")c.parse=function(e,h){function q(u,w){var t,a,b=u[w];if(b&&typeof b==="object")for(t in b)if(Object.hasOwnProperty.call(b,t)){a=q(b,t);if(a!==undefined)b[t]=a;else delete b[t]}return h.call(u,w,b)}e=String(e);p.lastIndex=0;if(p.test(e))e=e.replace(p,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e=eval("("+e+")");return typeof h==="function"?q({"":e},""):e}throw new SyntaxError("JSON.parse");}});
(function(){function c(a,b,f,g,n,l){n=0;for(var v=g.length;n<v;n++){var x=g[n];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===f){A=g[x.sizset];break}if(x.nodeType===1&&!l){x.sizcache=f;x.sizset=n}if(x.nodeName.toLowerCase()===b){A=x;break}x=x[a]}g[n]=A}}}function r(a,b,f,g,n,l){n=0;for(var v=g.length;n<v;n++){var x=g[n];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===f){A=g[x.sizset];break}if(x.nodeType===1){if(!l){x.sizcache=f;x.sizset=n}if(typeof b!=="string"){if(x===b){A=true;break}}else if(d.filter(b,
[x]).length>0){A=x;break}}x=x[a]}g[n]=A}}}var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s=0,p=Object.prototype.toString,k=false,i=true;[0,0].sort(function(){i=false;return 0});var d=function(a,b,f,g){f=f||[];var n=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return f;var l=[],v,x,A,y,z=true,B=d.isXML(b),C=a,D;do{o.exec("");if(v=o.exec(C)){C=v[3];l.push(v[1]);if(v[2]){y=
v[3];break}}}while(v);if(l.length>1&&j.exec(a))if(l.length===2&&m.relative[l[0]])x=t(l[0]+l[1],b);else for(x=m.relative[l[0]]?[b]:d(l.shift(),b);l.length;){a=l.shift();if(m.relative[a])a+=l.shift();x=t(a,x)}else{if(!g&&l.length>1&&b.nodeType===9&&!B&&m.match.ID.test(l[0])&&!m.match.ID.test(l[l.length-1])){v=d.find(l.shift(),b,B);b=v.expr?d.filter(v.expr,v.set)[0]:v.set[0]}if(b){v=g?{expr:l.pop(),set:q(g)}:d.find(l.pop(),l.length===1&&(l[0]==="~"||l[0]==="+")&&b.parentNode?b.parentNode:b,B);x=v.expr?
d.filter(v.expr,v.set):v.set;if(l.length>0)A=q(x);else z=false;for(;l.length;){v=D=l.pop();if(m.relative[D])v=l.pop();else D="";if(v==null)v=b;m.relative[D](A,v,B)}}else A=[]}A||(A=x);A||d.error(D||a);if(p.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&d.contains(b,A[a])))f.push(x[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&f.push(x[a]);else f.push.apply(f,A);else q(A,f);if(y){d(y,n,f,g);d.uniqueSort(f)}return f};
d.uniqueSort=function(a){if(w){k=i;a.sort(w);if(k)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};d.matches=function(a,b){return d(a,null,null,b)};d.find=function(a,b,f){var g;if(!a)return[];for(var n=0,l=m.order.length;n<l;n++){var v=m.order[n],x;if(x=m.leftMatch[v].exec(a)){var A=x[1];x.splice(1,1);if(A.substr(A.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");g=m.find[v](x,b,f);if(g!=null){a=a.replace(m.match[v],"");break}}}}g||(g=b.getElementsByTagName("*"));return{set:g,
expr:a}};d.filter=function(a,b,f,g){for(var n=a,l=[],v=b,x,A,y=b&&b[0]&&d.isXML(b[0]);a&&b.length;){for(var z in m.filter)if((x=m.leftMatch[z].exec(a))!=null&&x[2]){var B=m.filter[z],C,D;D=x[1];A=false;x.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(v===l)l=[];if(m.preFilter[z])if(x=m.preFilter[z](x,v,f,l,g,y)){if(x===true)continue}else A=C=true;if(x)for(var E=0;(D=v[E])!=null;E++)if(D){C=B(D,x,E,v);var F=g^!!C;if(f&&C!=null)if(F)A=true;else v[E]=false;else if(F){l.push(D);A=true}}if(C!==undefined){f||
(v=l);a=a.replace(m.match[z],"");if(!A)return[];break}}}if(a===n)if(A==null)d.error(a);else break;n=a}return v};d.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var m=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var f=typeof b==="string",g=f&&!/\W/.test(b);f=f&&!g;if(g)b=b.toLowerCase();g=0;for(var n=a.length,l;g<n;g++)if(l=a[g]){for(;(l=l.previousSibling)&&l.nodeType!==1;);a[g]=f||l&&l.nodeName.toLowerCase()===
b?l||false:l===b}f&&d.filter(b,a,true)},">":function(a,b){var f=typeof b==="string",g,n=0,l=a.length;if(f&&!/\W/.test(b))for(b=b.toLowerCase();n<l;n++){if(g=a[n]){f=g.parentNode;a[n]=f.nodeName.toLowerCase()===b?f:false}}else{for(;n<l;n++)if(g=a[n])a[n]=f?g.parentNode:g.parentNode===b;f&&d.filter(b,a,true)}},"":function(a,b,f){var g=s++,n=r,l;if(typeof b==="string"&&!/\W/.test(b)){l=b=b.toLowerCase();n=c}n("parentNode",b,g,a,l,f)},"~":function(a,b,f){var g=s++,n=r,l;if(typeof b==="string"&&!/\W/.test(b)){l=
b=b.toLowerCase();n=c}n("previousSibling",b,g,a,l,f)}},find:{ID:function(a,b,f){if(typeof b.getElementById!=="undefined"&&!f)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var f=[];b=b.getElementsByName(a[1]);for(var g=0,n=b.length;g<n;g++)b[g].getAttribute("name")===a[1]&&f.push(b[g]);return f.length===0?null:f}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,f,g,n,l){a=" "+a[1].replace(/\\/g,"")+" ";
if(l)return a;l=0;for(var v;(v=b[l])!=null;l++)if(v)if(n^(v.className&&(" "+v.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))f||g.push(v);else if(f)b[l]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=s++;return a},ATTR:function(a,b,f,g,n,l){b=
a[1].replace(/\\/g,"");if(!l&&m.attrMap[b])a[1]=m.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,f,g,n){if(a[1]==="not")if((o.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=d(a[3],null,null,b);else{a=d.filter(a[3],b,f,true^n);f||g.push.apply(g,a);return false}else if(m.match.POS.test(a[0])||m.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,f){return!!d(f[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,f,g){return b===g.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,f){return b<f[3]-0},gt:function(a,b,f){return b>f[3]-0},nth:function(a,b,f){return f[3]-
0===b},eq:function(a,b,f){return f[3]-0===b}},filter:{PSEUDO:function(a,b,f,g){var n=b[1],l=m.filters[n];if(l)return l(a,f,b,g);else if(n==="contains")return(a.textContent||a.innerText||d.getText([a])||"").indexOf(b[3])>=0;else if(n==="not"){b=b[3];f=0;for(g=b.length;f<g;f++)if(b[f]===a)return false;return true}else d.error("Syntax error, unrecognized expression: "+n)},CHILD:function(a,b){var f=b[1],g=a;switch(f){case "only":case "first":for(;g=g.previousSibling;)if(g.nodeType===1)return false;if(f===
"first")return true;g=a;case "last":for(;g=g.nextSibling;)if(g.nodeType===1)return false;return true;case "nth":f=b[2];var n=b[3];if(f===1&&n===0)return true;b=b[0];var l=a.parentNode;if(l&&(l.sizcache!==b||!a.nodeIndex)){var v=0;for(g=l.firstChild;g;g=g.nextSibling)if(g.nodeType===1)g.nodeIndex=++v;l.sizcache=b}a=a.nodeIndex-n;return f===0?a===0:a%f===0&&a/f>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var f=b[1];a=m.attrHandle[f]?m.attrHandle[f](a):a[f]!=null?a[f]:a.getAttribute(f);f=a+"";var g=b[2];b=b[4];return a==null?g==="!=":g==="="?f===b:g==="*="?f.indexOf(b)>=0:g==="~="?(" "+f+" ").indexOf(b)>=0:!b?f&&a!==false:g==="!="?f!==b:g==="^="?f.indexOf(b)===0:g==="$="?f.substr(f.length-b.length)===b:g==="|="?f===b||f.substr(0,b.length+1)===b+"-":false},POS:function(a,b,f,g){var n=m.setFilters[b[2]];
if(n)return n(a,f,b,g)}}},j=m.match.POS,e=function(a,b){return"\\"+(b-0+1)};for(var h in m.match){m.match[h]=new RegExp(m.match[h].source+/(?![^\[]*\])(?![^\(]*\))/.source);m.leftMatch[h]=new RegExp(/(^(?:.|\r|\n)*?)/.source+m.match[h].source.replace(/\\(\d+)/g,e))}var q=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(u){q=function(a,b){b=b||[];var f=0;if(p.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var g=a.length;f<g;f++)b.push(a[f]);else for(;a[f];f++)b.push(a[f]);return b}}var w;if(document.documentElement.compareDocumentPosition)w=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)k=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)k=true;return a};else if("sourceIndex"in document.documentElement)w=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)k=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)k=true;return a};else if(document.createRange)w=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)k=true;return a.ownerDocument?-1:1}var f=a.ownerDocument.createRange(),g=b.ownerDocument.createRange();f.setStart(a,0);f.setEnd(a,0);g.setStart(b,0);g.setEnd(b,0);a=f.compareBoundaryPoints(Range.START_TO_END,g);if(a===0)k=true;return a};d.getText=function(a){for(var b="",f,g=0;a[g];g++){f=a[g];if(f.nodeType===3||f.nodeType===4)b+=f.nodeValue;else if(f.nodeType!==
8)b+=d.getText(f.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var f=document.documentElement;f.insertBefore(a,f.firstChild);if(document.getElementById(b)){m.find.ID=function(g,n,l){if(typeof n.getElementById!=="undefined"&&!l)return(n=n.getElementById(g[1]))?n.id===g[1]||typeof n.getAttributeNode!=="undefined"&&n.getAttributeNode("id").nodeValue===g[1]?[n]:undefined:[]};m.filter.ID=function(g,n){var l=typeof g.getAttributeNode!==
"undefined"&&g.getAttributeNode("id");return g.nodeType===1&&l&&l.nodeValue===n}}f.removeChild(a);f=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)m.find.TAG=function(b,f){f=f.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var g=0;f[g];g++)f[g].nodeType===1&&b.push(f[g]);f=b}return f};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")m.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=d,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){d=function(g,n,l,v){n=n||document;if(!v&&n.nodeType===9&&!d.isXML(n))try{return q(n.querySelectorAll(g),l)}catch(x){}return a(g,n,l,v)};for(var f in a)d[f]=a[f];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){m.order.splice(1,0,"CLASS");m.find.CLASS=function(b,f,g){if(typeof f.getElementsByClassName!=="undefined"&&!g)return f.getElementsByClassName(b[1])};a=null}}})();d.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};d.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var t=function(a,b){var f=[],g="",n;for(b=b.nodeType?[b]:b;n=m.match.PSEUDO.exec(a);){g+=n[0];a=a.replace(m.match.PSEUDO,"")}a=m.relative[a]?a+"*":a;n=0;for(var l=b.length;n<l;n++)d(a,b[n],f);return d.filter(g,f)};KISSY.ExternalSelector=d;KISSY.ExternalSelector._filter=function(a,b){return d.matches(b,KISSY.query(a))}})();
KISSY.add("anim-easing",function(c){var r=Math,o=r.PI,s=r.pow,p=r.sin,k=1.70158,i={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(s(2,10*(d-=1))*p((d-0.075)*2*o/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return s(2,-10*d)*p((d-0.075)*2*o/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*s(2,10*(d-=1))*p((d-0.1125)*2*o/0.45);return s(2,-10*(d-=1))*p((d-0.1125)*2*o/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((k+1)*d-k)},backOut:function(d){return(d-=1)*d*((k+1)*d+k)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((k*=1.525)+1)*d-k);return 0.5*((d-=2)*d*(((k*=1.525)+1)*d+k)+2)},bounceIn:function(d){return 1-
i.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return i.bounceIn(d*2)*0.5;return i.bounceOut(d*2-1)*0.5+0.5}};c.Easing=i});
KISSY.add("anim",function(c,r){function o(t,a,b,f,g){if(t=c.get(t)){if(!(this instanceof o))return new o(t,a,b,f,g);var n=c.isPlainObject(b);a=a;this.domEl=t;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=s(a);this.targetStyle=a;if(n)t=c.merge(w,b);else{t=c.clone(w);b&&(t.duration=e(b,10)||1);c.isString(f)&&(f=j[f]);c.isFunction(f)&&(t.easing=f);c.isFunction(g)&&(t.complete=g)}this.config=t;c.isFunction(g)&&this.on(u,g)}}function s(t){var a={},b=q.length,f;h.innerHTML='<div style="'+
t+'"></div>';for(t=h.firstChild.style;b--;)if(f=t[q[b]])a[q[b]]=p(f);return a}function p(t){var a=e(t);t=(t+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:t,u:"",f:i}:{v:a,u:t,f:k}}function k(t,a,b){return(t+(a-t)*b).toFixed(3)}function i(t,a,b){for(var f=2,g,n,l=[],v=[];g=3,n=arguments[f-1],f--;)if(d(n,0,4)==="rgb(")for(n=n.match(/\d+/g);g--;)l.push(~~n[g]);else if(d(n,0)==="#"){if(n.length===4)n="#"+d(n,1)+d(n,1)+d(n,2)+d(n,2)+d(n,3)+d(n,3);for(;g--;)l.push(parseInt(d(n,1+g*2,2),16))}else return a;
for(;g--;){f=~~(l[g+3]+(l[g]-l[g+3])*b);v.push(f<0?0:f>255?255:f)}return"rgb("+v.join(",")+")"}function d(t,a,b){return t.substr(a,b||1)}var m=c.DOM,j=c.Easing,e=parseFloat,h=m.create("<div>"),q="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="complete",w={duration:1,easing:j.easeNone};c.augment(o,c.EventTarget,{run:function(){var t=this,a=t.config,b=t.domEl,f=a.duration*1E3,g=a.easing,n=c.now(),l=n+f,v=t.props,x={},A;for(A in v)x[A]=p(m.css(b,A));if(t.fire("start")!==false){t.stop();t.timer=c.later(a=function(){var y=c.now(),z=y>l?1:(y-n)/f,B,C,D;for(A in v){B=x[A];C=v[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;m.css(b,A,C.f(B.v,C.v,g(z))+C.u)}if(t.fire("step")===false||(D=y>l)){t.stop();D&&t.fire(u)}},13,true);a();return t}},stop:function(t){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=r}if(t){c.UA.ie&&b.indexOf("opacity")>-1&&m.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(u)}return this}});c.Anim=o});KISSY.add("anim-node-plugin",function(c,r){var o=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(s){s.animate=function(){var p=c.makeArray(arguments);c.each(this,function(k){o.apply(r,[k].concat(p)).run()});return this}})});
KISSY.add("datalazyload",function(c,r){function o(e,h){if(!(this instanceof o))return new o(e,h);if(h===r){h=e;e=[i]}c.isArray(e)||(e=[c.get(e)||i]);this.containers=e;this.config=c.merge(j,h);this._init()}var s=c.DOM,p=c.Event,k=window,i=document,d="scroll",m="resize",j={mod:"manual",diff:"default",placeholder:"none"};c.augment(o,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var e=this.containers,h,
q,u,w=[],t=[];h=0;for(q=e.length;h<q;++h){u=c.query("img",e[h]);w=w.concat(c.filter(u,this._filterImg,this));u=c.query("textarea",e[h]);t=t.concat(c.filter(u,this._filterArea,this))}this.images=w;this.areas=t},_filterImg:function(e){var h=e.getAttribute("data-ks-lazyload"),q=this.threshold,u=this.config.placeholder;if(this.config.mod==="manual"){if(h){if(u!=="none")e.src=u;return true}}else if(s.offset(e).top>q&&!h){s.attr(e,"data-ks-lazyload",e.src);if(u!=="none")e.src=u;else e.removeAttribute("src");
return true}},_filterArea:function(e){return s.hasClass(e,"ks-datalazyload")},_initLoadEvent:function(){function e(){q||(q=setTimeout(function(){h();q=null},100))}function h(){u._loadItems();if(u._getItemsLength()===0){p.remove(k,d,e);p.remove(k,m,e)}}var q,u=this;p.on(k,d,e);p.on(k,m,function(){u.threshold=u._getThreshold();e()});u._getItemsLength()&&c.ready(function(){h()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=c.filter(this.images,this._loadImg,
this)},_loadImg:function(e){var h=this.threshold+s.scrollTop();if(s.offset(e).top<=h)this._loadImgSrc(e);else return true},_loadImgSrc:function(e,h){h=h||"data-ks-lazyload";var q=e.getAttribute(h);if(q&&e.src!=q){e.src=q;e.removeAttribute(h)}},_loadAreas:function(){this.areas=c.filter(this.areas,this._loadArea,this)},_loadArea:function(e){var h=s.css(e,"display")==="none";if(s.offset(h?e.parentNode:e).top<=this.threshold+s.scrollTop())this._loadAreaData(e.parentNode,e);else return true},_loadAreaData:function(e,
h){h.style.display="none";h.className="";var q=s.create("<div>");e.insertBefore(q,h);s.html(q,h.value,true)},_getThreshold:function(){var e=this.config.diff,h=s.viewportHeight();return e==="default"?2*h:h+e},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(e,h){var q=this,u,w;c.isArray(e)||(e=[c.get(e)]);c.each(e,function(t){switch(h){case "img-src":w=t.nodeName==="IMG"?[t]:c.query("img",t);c.each(w,function(a){q._loadImgSrc(a,"data-ks-lazyload-custom")});
break;default:(u=c.get("textarea",t))&&s.hasClass(u,"ks-datalazyload-custom")&&q._loadAreaData(t,u)}})}});c.mix(o,o.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=o});
KISSY.add("flash-ua",function(c){function r(){var j;if(navigator.plugins&&navigator.mimeTypes.length)j=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{j=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(e){}if(j)return o(j)}function o(j){return j.match(/(\d)+/g)}function s(j){var e=c.isString(j)?o(j):j;j=j;if(c.isArray(e))j=parseFloat(e[0]+"."+p(e[1],3)+p(e[2],5));return j||0}function p(j,e){for(var h=(j+"").length;h++<e;)j="0"+
j;return j}var k=c.UA,i,d,m=true;k.fpv=function(j){if(j||m){m=false;i=r();d=s(i)}return i};k.fpvGEQ=function(j,e){m&&k.fpv(e);return!!d&&d>=s(j)}});KISSY.add("flash",function(c){c.Flash={swfs:{length:0}}});
KISSY.add("flash-embed",function(c){function r(j,e,h){var q=s.create("<param>");s.attr(q,{name:e,value:h});j.appendChild(q)}var o=c.UA,s=c.DOM,p=c.Flash,k=/object|embed/i,i=encodeURIComponent,d={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},m={params:{},attrs:{width:215,height:138},version:9};c.mix(p,{fpv:o.fpv,fpvGEQ:o.fpvGEQ,len:function(){return p.swfs.length},
add:function(j,e,h){var q,u;e=p._normalize(e);e=c.merge(m,e);e.attrs=c.merge(m.attrs,e.attrs);if(j=c.get(j)){if(!j.id)j.id=c.guid("ks-flash-");u=e.attrs.id="#"+j.id;if(o.fpv()){if(!o.fpvGEQ(e.version)){this._callback(h,0,u,j);if(!((q=e.xi)&&c.isString(q)))return;e.src=q}if(k.test(j.nodeName))this._register(j,e,h);else e.src?this._embed(j,e,h):this._callback(h,-3,u,j)}else this._callback(h,-1,u,j)}else this._callback(h,-2)},get:function(j){return p.swfs[j]},remove:function(j){if(j=p.get(j)){s.remove(j);
delete p.swfs["#"+j.id];p.swfs.length-=1}},contains:function(j){var e=p.swfs,h,q=false;if(c.isString(j))q=j in e;else for(h in e)if(e[h]===j){q=true;break}return q},_register:function(j,e,h){e=e.attrs.id;p._addSWF(e,j);p._callback(h,1,e,j)},_embed:function(j,e,h){var q=p._createSWF(e.src,e.attrs,e.params);if(o.ie)j.outerHTML=q.outerHTML;else j.parentNode.replaceChild(q,j);p._register(j,e,h)},_callback:function(j,e,h,q){e&&c.isFunction(j)&&j({status:e,id:h,swf:q})},_addSWF:function(j,e){if(j&&e){p.swfs[j]=
e;p.swfs.length+=1}},_createSWF:function(j,e,h){var q=s.create("<object>"),u;s.attr(q,e);if(o.ie){s.attr(q,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");r(q,"movie",j)}else s.attr(q,{type:"application/x-shockwave-flash",data:j,name:e.id});for(u in h)u in d&&r(q,u,h[u]);h.flashvars&&r(q,"flashvars",p.toFlashVars(h.flashvars));return q},_normalize:function(j){var e,h,q,u=j;if(c.isPlainObject(j)){u={};for(q in j){e=q.toLowerCase();h=j[q];if(e!=="flashvars")h=p._normalize(h);u[e]=h}}return u},
toFlashVars:function(j){if(!c.isPlainObject(j))return"";var e,h,q=[];for(e in j){h=j[e];if(c.isString(h))h='"'+i(h)+'"';else{h=c.JSON.stringify(h);if(!h)continue;h=h.replace(/:"([^"]+)/g,function(u,w){return':"'+i(w)})}q.push(e+"="+h)}return q.join("&")}})});
KISSY.add("switchable",function(c,r){function o(k,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=c.merge(o.Config,i);this.container=c.get(k);this.config=i;this.activeIndex=i.activeIndex;this._init()}var s=c.DOM,p=c.Event;o.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};o.Plugins=[];c.augment(o,c.EventTarget,{_init:function(){var k=this,i=k.config;if(k.fire("beforeInit")!==false){k._parseMarkup();i.hasTriggers&&k._bindTriggers();c.each(o.Plugins,function(d){d.init&&d.init(k)});k.fire("init")}},_parseMarkup:function(){var k=this.container,i=this.config,d,m=[],j=[];switch(i.markupType){case 0:if(d=c.get("."+i.navCls,k))m=s.children(d);d=c.get("."+i.contentCls,k);j=s.children(d);break;case 1:m=c.query("."+i.triggerCls,
k);j=c.query("."+i.panelCls,k);break;case 2:m=i.triggers;j=i.panels;break}k=j.length;this.length=k/i.steps;if(i.hasTriggers&&k>0&&m.length===0)m=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(m);this.panels=c.makeArray(j);this.content=d||j[0].parentNode},_generateTriggersMarkup:function(k){var i=this.config,d=s.create("<ul>"),m,j;d.className=i.navCls;for(j=0;j<k;j++){m=s.create("<li>");if(j===this.activeIndex)m.className=i.activeTriggerCls;m.innerHTML=j+1;d.appendChild(m)}this.container.appendChild(d);
return s.children(d)},_bindTriggers:function(){var k=this,i=k.config,d=k.triggers,m,j,e=d.length;for(j=0;j<e;j++)(function(h){m=d[h];p.on(m,"click focus",function(){k._onFocusTrigger(h)});if(i.triggerType==="mouse"){p.on(m,"mouseenter",function(){k._onMouseEnterTrigger(h)});p.on(m,"mouseleave",function(){k._onMouseLeaveTrigger(h)})}})(j)},_onFocusTrigger:function(k){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(k)}},_onMouseEnterTrigger:function(k){var i=this;if(i._triggerIsValid())i.switchTimer=
c.later(function(){i.switchTo(k)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(k){return this.activeIndex!==k},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=r}},switchTo:function(k,i){var d=this.config,m=this.triggers,j=this.panels,e=this.activeIndex,h=d.steps,q=e*h,u=k*h;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:k})===false)return this;if(d.hasTriggers)this._switchTrigger(e>
-1?m[e]:null,m[k]);if(i===r)i=k>e?"forward":"backward";this._switchView(j.slice(q,q+h),j.slice(u,u+h),k,i);this.activeIndex=k;return this},_switchTrigger:function(k,i){var d=this.config.activeTriggerCls;k&&s.removeClass(k,d);s.addClass(i,d)},_switchView:function(k,i,d){s.css(k,"display","none");s.css(i,"display","block");this._fireOnSwitch(d)},_fireOnSwitch:function(k){this.fire("switch",{currentIndex:k})},prev:function(){var k=this.activeIndex;this.switchTo(k>0?k-1:this.length-1,"backward")},next:function(){var k=
this.activeIndex;this.switchTo(k<this.length-1?k+1:0,"forward")}});c.Switchable=o});
KISSY.add("switchable-autoplay",function(c,r){var o=c.Event,s=c.Switchable;c.mix(s.Config,{autoplay:false,interval:5,pauseOnHover:true});s.Plugins.push({name:"autoplay",init:function(p){function k(){m=c.later(function(){p.paused||p.switchTo(p.activeIndex<p.length-1?p.activeIndex+1:0,"forward")},d,true)}var i=p.config,d=i.interval*1E3,m;if(i.autoplay){if(i.pauseOnHover){o.on(p.container,"mouseenter",function(){if(m){m.cancel();m=r}p.paused=true});o.on(p.container,"mouseleave",function(){p.paused=false;
k()})}k()}}})});
KISSY.add("switchable-effect",function(c,r){var o=c.DOM,s=c.Anim,p=c.Switchable,k;c.mix(p.Config,{effect:"none",duration:0.5,easing:"easeNone"});p.Effects={none:function(i,d,m){o.css(i,"display","none");o.css(d,"display","block");m()},fade:function(i,d,m){i.length!==1&&c.error("fade effect only supports steps == 1.");var j=this,e=j.config,h=i[0],q=d[0];j.anim&&j.anim.stop(true);o.css(q,"opacity",1);j.anim=(new s(h,{opacity:0},e.duration,e.easing,function(){j.anim=r;o.css(q,"z-index",9);o.css(h,"z-index",
1);m()})).run()},scroll:function(i,d,m,j){var e=this;i=e.config;d=i.effect==="scrollx";var h={};h[d?"left":"top"]=-(e.viewSize[d?0:1]*j)+"px";e.anim&&e.anim.stop();e.anim=(new s(e.content,h,i.duration,i.easing,function(){e.anim=r;m()})).run()}};k=p.Effects;k.scrollx=k.scrolly=k.scroll;p.Plugins.push({name:"effect",init:function(i){var d=i.config,m=d.effect,j=i.panels,e=i.content,h=d.steps,q=i.activeIndex,u=j.length;i.viewSize=[d.viewSize[0]||j[0].offsetWidth*h,d.viewSize[1]||j[0].offsetHeight*h];
if(m!=="none"){c.each(j,function(b){o.css(b,"display","block")});switch(m){case "scrollx":case "scrolly":o.css(e,"position","absolute");o.css(e.parentNode,"position","relative");if(m==="scrollx"){o.css(j,"float","left");o.width(e,i.viewSize[0]*(u/h))}break;case "fade":var w=q*h,t=w+h-1,a;c.each(j,function(b,f){a=f>=w&&f<=t;o.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(p,{_switchView:function(i,d,m,j){var e=this,h=e.config.effect;(c.isFunction(h)?h:k[h]).call(e,i,
d,function(){e._fireOnSwitch(m)},m,j)}})});
KISSY.add("switchable-circular",function(c,r){function o(a,b,f,g,n){var l=this;a=l.config;b=l.length;var v=l.activeIndex,x=a.scrollType===w,A=x?m:j,y=l.viewSize[x?0:1];x=-y*g;var z={},B,C=n===u;if(B=C&&v===0&&g===b-1||n===q&&v===b-1&&g===0)x=s.call(l,l.panels,g,C,A,y);z[A]=x+h;l.anim&&l.anim.stop();l.anim=(new c.Anim(l.content,z,a.duration,a.easing,function(){B&&p.call(l,l.panels,g,C,A,y);l.anim=r;f()})).run()}function s(a,b,f,g,n){var l=this.config.steps;b=this.length;var v=f?b-1:0,x=(v+1)*l;for(l=
v*l;l<x;l++){k.css(a[l],i,d);k.css(a[l],g,(f?-1:1)*n*b)}return f?n:-n*b}function p(a,b,f,g,n){var l=this.config.steps;b=this.length;var v=f?b-1:0,x=(v+1)*l;for(l=v*l;l<x;l++){k.css(a[l],i,e);k.css(a[l],g,e)}k.css(this.content,g,f?-n*(b-1):e)}var k=c.DOM,i="position",d="relative",m="left",j="top",e="",h="px",q="forward",u="backward",w="scrollx",t=c.Switchable;c.mix(t.Config,{circular:false});t.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===w||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=o}}})});
KISSY.add("switchable-lazyload",function(c){var r=c.DOM,o="beforeSwitch",s="img-src",p="area-data",k={},i=c.Switchable;k[s]="data-ks-lazyload-custom";k[p]="ks-datalazyload-custom";c.mix(i.Config,{lazyDataType:p});i.Plugins.push({name:"lazyload",init:function(d){function m(w){var t=h.steps;w=w.toIndex*t;e.loadCustomLazyData(d.panels.slice(w,w+t),q);j()&&d.detach(o,m)}function j(){var w,t,a,b=q===s;if(w=b?"img":q===p?"textarea":""){w=c.query(w,d.container);t=0;for(a=w.length;t<a;t++)if(b?r.attr(w[t],
u):r.hasClass(w[t],u))return false}return true}var e=c.DataLazyload,h=d.config,q=h.lazyDataType,u=k[q];!e||!q||!u||d.on(o,m)}})});
KISSY.add("switchable-countdown",function(c,r){var o=c.DOM,s=c.Event,p=c.Anim,k=c.Switchable;c.mix(k.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});k.Plugins.push({name:"countdown",init:function(i){function d(){m();w=(new p(h[i.activeIndex],u,e-0.5)).run()}function m(){if(w){w.stop();w=r}}var j=i.config,e=j.interval,h=[],q=j.countdownFromStyle,u=j.countdownToStyle,w;if(!(!j.autoplay||!j.hasTriggers||!j.countdown)){c.each(i.triggers,function(t,a){t.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
t.innerHTML+"</div>";h[a]=t.firstChild});if(j.pauseOnHover){s.on(i.container,"mouseenter",function(){m();var t=h[i.activeIndex];if(q)w=(new p(t,q,0.2,"easeOut")).run();else o.removeAttr(t,"style")});s.on(i.container,"mouseleave",function(){m();o.removeAttr(h[i.activeIndex],"style");setTimeout(d,200)})}i.on("beforeSwitch",function(){m();o.removeAttr(h[i.activeIndex],"style")});i.on("switch",function(){i.paused||d()});d(i.activeIndex)}}})});
KISSY.add("switchable-autorender",function(c){c.Switchable.autoRender=function(r,o,s){o="."+(o||"KS_");s=s||"data-ks-switchable";c.each(["Switchable","Tabs","Slide","Carousel","Accordion"],function(p){c.each(c.query(o+p,r),function(k){try{var i=k.getAttribute(s);if(i)i=i.replace(/'/g,'"');new c[p](k,c.JSON.parse(i))}catch(d){c.log("Switchable.autoRender: "+d,"warn")}})})}});
KISSY.add("tabs",function(c){function r(o,s){if(!(this instanceof r))return new r(o,s);r.superclass.constructor.call(this,o,s)}c.extend(r,c.Switchable);c.Tabs=r});KISSY.add("slide",function(c){function r(s,p){if(!(this instanceof r))return new r(s,p);r.superclass.constructor.call(this,s,c.merge(o,p))}var o={autoplay:true,circular:true};c.extend(r,c.Switchable);c.Slide=r});
KISSY.add("carousel",function(c,r){function o(e,h){var q=this;if(!(q instanceof o))return new o(e,h);q.on("init",function(){s(q)});o.superclass.constructor.call(q,e,c.merge(j,h))}function s(e){var h=e.config,q=h.disableBtnCls;c.each(["prev","next"],function(u){var w=e[u+"Btn"]=c.get(i+h[u+"BtnCls"],e.container);k.on(w,"click",function(t){t.preventDefault();p.hasClass(w,q)||e[u]()})});h.circular||e.on("switch",function(u){u=u.currentIndex;u=u===0?e[d]:u===e.length-1?e[m]:r;p.removeClass([e[d],e[m]],
q);u&&p.addClass(u,q)});k.on(e.panels,"click focus",function(){e.fire("itemSelected",{item:this})})}var p=c.DOM,k=c.Event,i=".",d="prevBtn",m="nextBtn",j={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(o,c.Switchable);c.Carousel=o});
KISSY.add("accordion",function(c){function r(p,k){if(!(this instanceof r))return new r(p,k);r.superclass.constructor.call(this,p,c.merge(s,k))}var o=c.DOM,s={markupType:1,triggerType:"click",multiple:false};c.extend(r,c.Switchable);c.Accordion=r;c.augment(r,{_triggerIsValid:function(p){return this.activeIndex!==p||this.config.multiple},_switchView:function(p,k,i){var d=this.config,m=k[0];if(d.multiple){o.toggleClass(this.triggers[i],d.activeTriggerCls);o.css(m,"display",m.style.display=="none"?"block":
"none");this._fireOnSwitch(i)}else r.superclass._switchView.call(this,p,k,i)}})});
