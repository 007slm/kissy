/*
Copyright 2010, KISSY UI Library v1.1.1dev
MIT Licensed
build time: ${build.time}
*/
(function(c,r,o){if(c[r]===o)c[r]={};r=c[r];var s=c.document,p=function(l,f,j,q){if(!f||!l)return l;if(j===o)j=true;var u,w,t;if(q&&(t=q.length))for(u=0;u<t;u++){w=q[u];if(w in f)if(j||!(w in l))l[w]=f[w]}else for(w in f)if(j||!(w in l))l[w]=f[w];return l},h=false,i=[],e=false,n=/^#?([\w-]+)$/;p(r,{version:"1.1.0",_init:function(){this.Env={mods:{},guid:0}},add:function(l,f){this.Env.mods[l]={name:l,fn:f};f(this);return this},ready:function(l){e||this._bindReady();h?l.call(c,this):i.push(l);return this},
_bindReady:function(){var l=this,f=s.documentElement.doScroll,j=f?"onreadystatechange":"DOMContentLoaded",q=function(){l._fireReady()};e=true;if(s.readyState==="complete")return q();if(s.addEventListener){var u=function(){s.removeEventListener(j,u,false);q()};s.addEventListener(j,u,false);c.addEventListener("load",q,false)}else{var w=function(){if(s.readyState==="complete"){s.detachEvent(j,w);q()}};s.attachEvent(j,w);c.attachEvent("onload",q);if(c==c.top){var t=function(){try{f("left");q()}catch(a){setTimeout(t,
1)}};t()}}},_fireReady:function(){if(!h){h=true;if(i){for(var l,f=0;l=i[f++];)l.call(c,this);i=null}}},available:function(l,f){if((l=(l+"").match(n)[1])&&r.isFunction(f))var j=1,q=r.later(function(){if(s.getElementById(l)&&(f()||1)||++j>500)q.cancel()},40,true)},mix:p,merge:function(){var l={},f,j=arguments.length;for(f=0;f<j;++f)p(l,arguments[f]);return l},augment:function(){var l=arguments,f=l.length-2,j=l[0],q=l[f],u=l[f+1],w=1;if(!r.isArray(u)){q=u;u=o;f++}if(!r.isBoolean(q)){q=o;f++}for(;w<f;w++)p(j.prototype,
l[w].prototype||l[w],q,u);return j},extend:function(l,f,j,q){if(!f||!l)return l;var u=Object.prototype,w=f.prototype,t=function(a){function b(){}b.prototype=a;return new b}(w);l.prototype=t;t.constructor=l;l.superclass=w;if(f!==Object&&w.constructor===u.constructor)w.constructor=f;j&&p(t,j);q&&p(l,q);return l},namespace:function(){var l=arguments.length,f=null,j,q,u;for(j=0;j<l;++j){u=(""+arguments[j]).split(".");f=this;for(q=c[u[0]]===f?1:0;q<u.length;++q)f=f[u[q]]=f[u[q]]||{}}return f},app:function(l,
f){var j=c[l]||{};p(j,this,true,["_init","add","namespace"]);j._init();return p(c[l]=j,typeof f==="function"?f():f)},log:function(l,f,j){if(this.Config.debug){if(j)l=j+": "+l;if(c.console!==o&&console.log)console[f&&console[f]?f:"log"](l)}return this},error:function(l){if(this.Config.debug)throw l;},guid:function(l){var f=this.Env.guid++ +"";return l?l+f:f}});r._init();r.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(c,r){function o(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var s=window,p=document,h=location,i=Array.prototype,e=i.indexOf,n=i.filter,l=String.prototype.trim,f=Object.prototype.toString,j=encodeURIComponent,q=decodeURIComponent,u=/^\s+|\s+$/g,w=/^(\w+)\[\]$/,t=/\S/;c.mix(c,{isUndefined:function(a){return a===r},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&f.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return f.call(a)==="[object Function]"},isArray:function(a){return f.call(a)==="[object Array]"},trim:l?function(a){return a==r?"":l.call(a)}:function(a){return a==r?"":a.toString().replace(u,"")},each:function(a,b,d){for(var g=a&&a.length||0,m=0;m<g;++m)b.call(d||s,a[m],m,a)},indexOf:e?function(a,
b){return e.call(b,a)}:function(a,b){for(var d=0,g=b.length;d<g;++d)if(b[d]===a)return d;return-1},inArray:function(a,b){return c.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===r)return[];if(c.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||c.isFunction(a))return[a];if(a.item&&c.UA.ie){for(var b=[],d=0,g=a.length;d<g;++d)b[d]=a[d];return b}return i.slice.call(a)},filter:n?function(a,b,d){return n.call(a,b,d)}:function(a,b,d){var g=[];c.each(a,function(m,k,v){b.call(d,
m,k,v)&&g.push(m)});return g},param:function(a,b){if(!c.isPlainObject(a))return"";b=b||"&";var d=[],g,m;for(g in a){m=a[g];g=j(g);if(o(m))d.push(g,"=",j(m+""),b);else if(c.isArray(m)&&m.length)for(var k=0,v=m.length;k<v;++k)o(m[k])&&d.push(g,"[]=",j(m[k]+""),b)}d.pop();return d.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=c.trim(a)).length===0)return{};var d={};a=a.split(b||"&");for(var g,m,k,v=0,x=a.length;v<x;++v){b=a[v].split("=");g=q(b[0]);try{m=q(b[1]||"")}catch(y){m=b[1]||""}if((k=
g.match(w))&&k[1]){d[k[1]]=d[k[1]]||[];d[k[1]].push(m)}else d[g]=m}return d},later:function(a,b,d,g,m){b=b||0;g=g||{};var k=a,v=c.makeArray(m),x;if(typeof a==="string")k=g[a];k||c.error("method undefined");a=function(){k.apply(g,v)};x=d?setInterval(a,b):setTimeout(a,b);return{id:x,interval:d,cancel:function(){this.interval?clearInterval(x):clearTimeout(x)}}},clone:function(a){var b=a,d,g;if(a&&((d=c.isArray(a))||c.isPlainObject(a))){b=d?[]:{};for(g in a)if(a.hasOwnProperty(g))b[g]=c.clone(a[g])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&t.test(a)){var b=p.getElementsByTagName("head")[0]||p.documentElement,d=p.createElement("script");d.text=a;b.insertBefore(d,b.firstChild);b.removeChild(d)}}});if(h&&h.search&&h.search.indexOf("ks-debug")!==-1)c.Config.debug=true});
KISSY.add("kissy-ua",function(c){var r=navigator.userAgent,o,s={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},p=function(h){var i=0;return parseFloat(h.replace(/\./g,function(){return i++===0?".":""}))};if((o=r.match(/AppleWebKit\/([\d.]*)/))&&o[1]){s.webkit=p(o[1]);if((o=r.match(/Chrome\/([\d.]*)/))&&o[1])s.chrome=p(o[1]);else if((o=r.match(/\/([\d.]*) Safari/))&&o[1])s.safari=p(o[1]);if(/ Mobile\//.test(r))s.mobile="Apple";else if(o=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))s.mobile=
o[0]}else if((o=r.match(/Opera\/.* Version\/([\d.]*)/))&&o[1]){s.opera=p(o[1]);if(r.match(/Opera Mini[^;]*/))s.mobile=o[0]}else if((o=r.match(/MSIE\s([^;]*)/))&&o[1])s.ie=p(o[1]);else if(o=r.match(/Gecko/)){s.gecko=1;if((o=r.match(/rv:([\d.]*)/))&&o[1])s.gecko=p(o[1]);if((o=r.match(/Firefox\/([\d.]*)/))&&o[1])s.firefox=p(o[1])}c.UA=s});
KISSY.add("dom",function(c){var r={_isSupportedNode:function(o){return r._isElementNode(o)||r._isTextNode(o)},_isElementNode:function(o){return o&&o.nodeType===1},_isTextNode:function(o){return o&&o.nodeType===3},_isKSNode:function(o){return o&&c.Node&&o.nodeType===c.Node.TYPE}};c.DOM=r});
KISSY.add("selector",function(c,r){function o(a,b){var d,g=[],m,k;b=s(b);if(c.isString(a)){a=c.trim(a);if(w.test(a)){if(a=p(a.slice(1),b))g=[a]}else if(d=t.exec(a)){m=d[1];k=d[2];d=d[3];if(b=m?p(m,b):b)if(d)if(!m||a.indexOf(f)!==-1)g=i(d,k,b);else{if((a=p(m,b))&&l.hasClass(a,d))g=[a]}else if(k)g=h(k,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else e(a)}else if(a&&(a[q]||a[u]))g=a[q]?[a[q]()]:a[u]();else if(a&&a.nodeType)g=[a];else if(a&&(c.isArray(a)||a.item))g=a;if(g.item)g=c.makeArray(g);
return g}function s(a){if(a===r)a=n;else if(c.isString(a)&&w.test(a))a=p(a.slice(1),n);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function p(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function h(a,b){return b.getElementsByTagName(a)}function i(a,b,d){d=a=d.getElementsByClassName(a);var g=0,m=0,k=a.length,v;if(b&&b!==j){d=[];for(b=b.toUpperCase();g<k;++g){v=a[g];if(v.tagName===b)d[m++]=v}}return d}function e(a){c.error("Unsupported selector: "+a)}var n=document,
l=c.DOM,f=" ",j="*",q="getDOMNode",u=q+"s",w=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=n.createElement("div");a.appendChild(n.createComment(""));if(a.getElementsByTagName(j).length>0)h=function(b,d){d=d.getElementsByTagName(b);if(b===j){b=[];for(var g=0,m=0,k;k=d[g++];)if(k.nodeType===1)b[m++]=k;d=b}return d}})();n.getElementsByClassName||(i=n.querySelectorAll?function(a,b,d){return d.querySelectorAll((b?b:"")+"."+a)}:function(a,b,d){b=d.getElementsByTagName(b||
j);d=[];var g=0,m=0,k=b.length,v,x;for(a=f+a+f;g<k;++g){v=b[g];if((x=v.className)&&(f+x+f).indexOf(a)>-1)d[m++]=v}return d});c.query=o;c.get=function(a,b){return o(a,b)[0]||null};c.mix(l,{query:o,get:c.get,filter:function(a,b){var d=o(a),g,m,k,v=[];if(c.isString(b)&&(g=t.exec(b))&&!g[1]){m=g[2];k=g[3];b=function(x){return!(m&&x.tagName!==m.toUpperCase()||k&&!l.hasClass(x,k))}}if(c.isFunction(b))v=c.filter(d,b);else if(b&&c.ExternalSelector)v=c.ExternalSelector._filter(a,b);else e(b);return v},test:function(a,
b){a=o(a);return l.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(c,r){function o(i,e,n,l){if(!(e=c.trim(e)))return l?false:r;i=c.query(i);var f=0,j=i.length;e=e.split(p);for(var q;f<j;f++){q=i[f];if(s._isElementNode(q)){q=n(q,e,e.length);if(q!==r)return q}}if(l)return false}var s=c.DOM,p=/[\.\s]\s*\.?/,h=/[\n\t]/g;c.mix(s,{hasClass:function(i,e){return o(i,e,function(n,l,f){if(n=n.className){n=" "+n+" ";for(var j=0,q=true;j<f;j++)if(n.indexOf(" "+l[j]+" ")<0){q=false;break}if(q)return true}},true)},addClass:function(i,e){o(i,e,function(n,
l,f){var j=n.className;if(j){var q=" "+j+" ";j=j;for(var u=0;u<f;u++)if(q.indexOf(" "+l[u]+" ")<0)j+=" "+l[u];n.className=c.trim(j)}else n.className=e})},removeClass:function(i,e){o(i,e,function(n,l,f){var j=n.className;if(j)if(f){j=(" "+j+" ").replace(h," ");for(var q=0,u;q<f;q++)for(u=" "+l[q]+" ";j.indexOf(u)>=0;)j=j.replace(u," ");n.className=c.trim(j)}else n.className=""})},replaceClass:function(i,e,n){s.removeClass(i,e);s.addClass(i,n)},toggleClass:function(i,e,n){var l=c.isBoolean(n),f;o(i,
e,function(j,q,u){for(var w=0,t;w<u;w++){t=q[w];f=l?!n:s.hasClass(j,t);s[f?"removeClass":"addClass"](j,t)}})}})});
KISSY.add("dom-attr",function(c,r){function o(t,a){return a&&a.nodeName.toUpperCase()===t.toUpperCase()}var s=c.UA,p=s.ie,h=p&&p<8,i=document.documentElement.textContent!==r?"textContent":"innerText",e=c.DOM,n=e._isElementNode,l=e._isTextNode,f=/href|src|style/,j=/href|src|colspan|rowspan/,q=/\r/g,u=/radio|checkbox/,w={readonly:"readOnly"};h&&c.mix(w,{"for":"htmlFor","class":"className"});c.mix(e,{attr:function(t,a,b){if(c.isPlainObject(a))for(var d in a)e.attr(t,d,a[d]);else if(a=c.trim(a)){a=a.toLowerCase();
a=w[a]||a;if(b===r){t=c.get(t);if(!n(t))return r;var g;f.test(a)||(g=t[a]);if(g===r)g=t.getAttribute(a);if(h)if(j.test(a))g=t.getAttribute(a,2);else if(a==="style")g=t.style.cssText;return g===null?r:g}c.each(c.query(t),function(m){if(n(m))if(a==="style")m.style.cssText=b;else{if(a==="checked")m[a]=!!b;m.setAttribute(a,""+b)}})}},removeAttr:function(t,a){c.each(c.query(t),function(b){if(n(b)){e.attr(b,a,"");b.removeAttribute(a)}})},val:function(t,a){if(a===r){var b=c.get(t);if(!n(b))return r;if(o("option",
b))return(b.attributes.value||{}).specified?b.value:b.text;if(o("select",b)){var d=b.selectedIndex;t=b.options;if(d<0)return null;else if(b.type==="select-one")return e.val(t[d]);b=[];for(var g=0,m=t.length;g<m;++g)t[g].selected&&b.push(e.val(t[g]));return b}if(s.webkit&&u.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(q,"")}c.each(c.query(t),function(k){if(o("select",k)){if(c.isNumber(a))a+="";var v=c.makeArray(a),x=k.options,y;g=0;for(m=x.length;g<m;++g){y=
x[g];y.selected=c.inArray(e.val(y),v)}if(!v.length)k.selectedIndex=-1}else if(n(k))k.value=a})},text:function(t,a){if(a===r){t=c.get(t);if(n(t))return t[i]||"";else if(l(t))return t.nodeValue}else c.each(c.query(t),function(b){if(n(b))b[i]=a;else if(l(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,r){function o(a,b){var d=c.get(a),g=b===n?d.offsetWidth:d.offsetHeight;c.each(b===n?["Left","Right"]:["Top","Bottom"],function(m){g-=parseFloat(p._getComputedStyle(d,"padding"+m))||0;g-=parseFloat(p._getComputedStyle(d,"border"+m+"Width"))||0});return g}function s(a,b,d){var g=d;if(d===l&&j.test(b)){g=0;if(p.css(a,"position")==="absolute"){d=a[b==="left"?"offsetLeft":"offsetTop"];if(h.ie===8||h.opera)d-=f(p.css(a.offsetParent,"border-"+b+"-width"))||0;g=d-(f(p.css(a,
"margin-"+b))||0)}}return g}var p=c.DOM,h=c.UA,i=document,e=i.documentElement,n="width",l="auto",f=parseInt,j=/^left|top$/,q=/width|height|top|left|right|bottom|margin|padding/i,u=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},t={};c.mix(p,{_CUSTOM_STYLES:t,_getComputedStyle:function(a,b){var d="",g=a.ownerDocument;if(a.style)d=g.defaultView.getComputedStyle(a,null)[b];return d},css:function(a,b,d){if(c.isPlainObject(b))for(var g in b)p.css(a,g,b[g]);else{if(b.indexOf("-")>0)b=b.replace(u,w);
b=t[b]||b;if(d===r){a=c.get(a);g="";if(a&&a.style){g=b.get?b.get(a):a.style[b];if(g===""&&!b.get)g=s(a,b,p._getComputedStyle(a,b))}return g===r?"":g}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&q.test(b))d+="px";(b===n||b==="height")&&parseFloat(d)<0||c.each(c.query(a),function(m){if(m&&m.style){b.set?b.set(m,d):(m.style[b]=d);if(d==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(a,b){if(b===r)return o(a,n);else p.css(a,n,b)},height:function(a,b){if(b===r)return o(a,
"height");else p.css(a,"height",b)},addStyleSheet:function(a,b){var d;if(b)d=c.get(b);d||(d=p.create("<style>",{id:b}));c.get("head").appendChild(d);if(d.styleSheet)d.styleSheet.cssText=a;else d.appendChild(i.createTextNode(a))}});if(e.style.cssFloat!==r)t["float"]="cssFloat";else if(e.style.styleFloat!==r)t["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,r){if(c.UA.ie){var o=c.DOM,s=document,p=s.documentElement,h=o._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,e=/^-?\d/,n=/^width|height$/;try{if(p.style.opacity===r&&p.filters)h.opacity={get:function(f){var j=100;try{j=f.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{j=f.filters("alpha").opacity}catch(u){}}return j/100+""},set:function(f,j){f=f.style;f.zoom=1;f.filter="alpha(opacity="+j*100+")"}}}catch(l){c.log("IE filters ActiveX is disabled. ex = "+l)}if(!(s.defaultView||
{}).getComputedStyle&&p.currentStyle)o._getComputedStyle=function(f,j){var q=f.style,u=f.currentStyle[j];if(n.test(j))u=o[j](f)+"px";else if(!i.test(u)&&e.test(u)){var w=q.left,t=f.runtimeStyle.left;f.runtimeStyle.left=f.currentStyle.left;q.left=j==="fontSize"?"1em":u||0;u=q.pixelLeft+"px";q.left=w;f.runtimeStyle.left=t}return u}}});
KISSY.add("dom-offset",function(c,r){function o(k){var v=0,x=0,y=p(k[t]);if(k[m]){k=k[m]();v=k[a]+h[d](y);x=k[b]+h[g](y)}return{left:v,top:x}}function s(k,v){if(h.css(k,q)==="static")k.style[q]=u;var x=o(k),y={},z,A;for(A in v){z=j(h.css(k,A),10)||0;y[A]=z+v[A]-x[A]}h.css(k,y)}function p(k){return k&&"scrollTo"in k&&k[w]?k:k&&k.nodeType===9?k.defaultView||k.parentWindow:false}var h=c.DOM,i=window,e=document,n=h._isElementNode,l=e.compatMode==="CSS1Compat",f=Math.max,j=parseInt,q="position",u="relative",
w="document",t="ownerDocument",a="left",b="top",d="scrollLeft",g="scrollTop",m="getBoundingClientRect";c.mix(h,{offset:function(k,v){if(!(k=c.get(k))||!k[t])return null;if(v===r)return o(k);s(k,v)},scrollIntoView:function(k,v,x,y){if((k=c.get(k))&&k[t]){v=c.get(v);y=y===r?true:!!y;x=x===r?true:!!x;if(!n(v))return k.scrollIntoView(x);var z=h.offset(k),A=h.offset(v),B={left:z[a]-A[a],top:z[b]-A[b]};z=v.clientHeight;A=v.clientWidth;var C=h[d](v),D=h[g](v),E=C+A,F=D+z,G=k.offsetHeight;k=k.offsetWidth;
var H=B.left+C-(j(h.css(v,"borderLeftWidth"))||0);B=B.top+D-(j(h.css(v,"borderTopWidth"))||0);var I=H+k,J=B+G;if(G>z||B<D||x)v[g]=B;else if(J>F)v[g]=J-z;if(y)if(k>A||H<C||x)v[d]=H;else if(I>E)v[d]=I-A}}});c.each(["Left","Top"],function(k,v){var x="scroll"+k;h[x]=function(y){var z=0,A=y===r?i:p(y),B;if(A&&(B=A[w]))z=A[v?"pageYOffset":"pageXOffset"]||B.documentElement[x]||B.body[x];else if(n(y=c.get(y)))z=y[x];return z}});c.each(["Width","Height"],function(k){h["doc"+k]=function(v){v=v||e;return f(l?
v.documentElement["scroll"+k]:v.body["scroll"+k],h["viewport"+k](v))};h["viewport"+k]=function(v){var x="inner"+k;v=p(v)||i;var y=v[w];return x in v?v[x]:l?y.documentElement["client"+k]:y.body["client"+k]}})});
KISSY.add("dom-traversal",function(c,r){function o(i,e,n,l){if(!(i=c.get(i)))return null;if(e===r)e=1;var f=null,j,q;if(c.isNumber(e)&&e>=0){if(e===0)return i;j=0;q=e;e=function(){return++j===q}}for(;i=i[n];)if(h(i)&&(!e||p.test(i,e))&&(!l||l(i))){f=i;break}return f}function s(i,e,n){var l=[];var f=i=c.get(i);if(i&&n)f=i.parentNode;if(f){n=0;for(f=f.firstChild;f;f=f.nextSibling)if(h(f)&&f!==i&&(!e||p.test(f,e)))l[n++]=f}return l}var p=c.DOM,h=p._isElementNode;c.mix(p,{parent:function(i,e){return o(i,
e,"parentNode",function(n){return n.nodeType!=11})},next:function(i,e){return o(i,e,"nextSibling")},prev:function(i,e){return o(i,e,"previousSibling")},siblings:function(i,e){return s(i,e,true)},children:function(i,e){return s(i,e)},contains:function(i,e){var n=false;if((i=c.get(i))&&(e=c.get(e)))if(i.contains)return i.contains(e);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(e)&16);else for(;!n&&(e=e.parentNode);)n=e==i;return n}})});
KISSY.add("dom-create",function(c,r){function o(z,A){q(z)&&c.isPlainObject(A)&&n.attr(z,A);return z}function s(z,A){var B=null,C;if(z&&(z.push||z.item)&&z[0]){A=A||z[0].ownerDocument;B=A.createDocumentFragment();if(z.item)z=c.makeArray(z);A=0;for(C=z.length;A<C;A++)B.appendChild(z[A])}else c.log("Unable to convert "+z+" to fragment.");return B}function p(z){var A=z.cloneNode(true);if(l.ie<8)A.innerHTML=z.innerHTML;return A}function h(z,A,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);A+='<span id="'+
D+'"></span>';c.available(D,function(){var F=c.get("head"),G,H,I,J,L,K;for(E.lastIndex=0;G=E.exec(A);)if((I=(H=G[1])?H.match(d):false)&&I[2]){G=e.createElement("script");G.src=I[2];if((J=H.match(g))&&J[2])G.charset=J[2];G.async=true;F.appendChild(G)}else if((K=G[2])&&K.length>0)c.globalEval(K);(L=e.getElementById(D))&&n.remove(L);c.isFunction(C)&&C()});i(z,A)}else{i(z,A);c.isFunction(C)&&C()}}function i(z,A){A=(A+"").replace(a,"");try{z.innerHTML=A}catch(B){for(;z.firstChild;)z.removeChild(z.firstChild);
A&&z.appendChild(n.create(A))}}var e=document,n=c.DOM,l=c.UA,f=l.ie,j=n._isSupportedNode,q=n._isElementNode,u=n._isKSNode,w=e.createElement("div"),t=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,d=/\ssrc=(['"])(.*?)\1/i,g=/\scharset=(['"])(.*?)\1/i;c.mix(n,{create:function(z,A,B){if(j(z))return p(z);if(u(z))return p(z[0]);if(!(z=c.trim(z)))return null;var C=null;C=n._creators;var D,E="div",F;if(D=b.exec(z))C=(B||e).createElement(D[1]);else{if((D=t.exec(z))&&(F=
D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=F;z=C[E](z,B).childNodes;C=z.length===1?z[0].parentNode.removeChild(z[0]):s(z,B||e)}return o(C,A)},_creators:{div:function(z,A){A=A?A.createElement("div"):w;A.innerHTML=z;return A}},html:function(z,A,B,C){if(A===r){z=c.get(z);if(q(z))return z.innerHTML}else c.each(c.query(z),function(D){q(D)&&h(D,A,B,C)})},remove:function(z){c.each(c.query(z),function(A){q(A)&&A.parentNode&&A.parentNode.removeChild(A)})}});if(l.gecko||f){var m=n._creators,k=n.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
x={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var y in x)(function(z){m[y]=function(A,B){return k("<"+z+">"+A+"</"+z+">",null,B)}})(x[y]);if(f){m.script=function(z,A){A=A?A.createElement("div"):w;A.innerHTML="-"+z;A.removeChild(A.firstChild);return A};if(f<8)m.tbody=function(z,A){A=k("<table>"+z+"</table>",null,A);var B=A.children.tags("tbody")[0];A.children.length>1&&B&&!v.test(z)&&B.parentNode.removeChild(B);return A}}c.mix(m,{optgroup:m.option,th:m.td,
thead:m.tbody,tfoot:m.tbody,caption:m.tbody,colgroup:m.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(r,o){if((r=c.get(r))&&(o=c.get(o))&&o.parentNode)o.parentNode.insertBefore(r,o);return r},insertAfter:function(r,o){if((r=c.get(r))&&(o=c.get(o))&&o.parentNode)o.nextSibling?o.parentNode.insertBefore(r,o.nextSibling):o.parentNode.appendChild(r);return r}})});
KISSY.add("event",function(c,r){function o(a,b,d,g,m){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(k){t[a](k,d,g,m)});return true}if((d=c.trim(d))&&d.indexOf(q)>0){c.each(d.split(q),function(k){t[a](b,k,g,m)});return true}}function s(a){return i(a)?a[j]:-1}function p(a,b){if(!i(a))return c.error("Text or comment node is not valid event target.");try{a[j]=b}catch(d){c.error(d)}}function h(a){try{a[j]=r;delete a[j]}catch(b){}}function i(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var e=window,n=document,l=n.addEventListener?function(a,b,d,g){a.addEventListener&&a.addEventListener(b,d,!!g)}:function(a,b,d){a.attachEvent&&a.attachEvent("on"+b,d)},f=n.removeEventListener?function(a,b,d,g){a.removeEventListener&&a.removeEventListener(b,d,!!g)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)},j="ksEventTargetId",q=" ",u=c.now(),w={},t={EVENT_GUID:j,special:{},add:function(a,b,d,g){if(!o("add",a,b,d,g)){var m=s(a),k,v;if(!(m===-1||!b||!c.isFunction(d))){if(!m){p(a,m=u++);
w[m]={target:a,events:{}}}v=w[m].events;k=!a.isCustomEventTarget&&t.special[b]||{};if(!v[b]){m=function(x,y){if(!x||!x.fixed){x=new c.EventObject(a,x,b);c.isPlainObject(y)&&c.mix(x,y)}k.setup&&k.setup(x);return(k.handle||t._handle)(a,x,v[b].listeners)};v[b]={handle:m,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,m);else l(a,k.fix||b,m,k.capture)}v[b].listeners.push({fn:d,scope:g})}}},remove:function(a,b,d){if(!o("remove",a,b,d)){var g=s(a),m,k,v,x,y,z;if(g!==-1)if(g&&(m=w[g]))if(m.target===
a){m=m.events||{};if(k=m[b]){v=k.listeners;y=v.length;if(c.isFunction(d)&&y&&c.inArray(d,v)){z=[];for(x=0;x<y;++x)d!==v[x]&&z.push(v[x]);y=z.length}if(d===r||y===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,k.handle);else f(a,b,k.handle);delete m[b]}}if(b===r||c.isEmptyObject(m)){for(b in m)t.remove(a,b);delete w[g];h(a)}}}},_handle:function(a,b,d){d=d.slice(0);for(var g,m=0,k=d.length;m<k;++m){g=d[m];g=g.fn.call(g.scope||a,b);if(g===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return g},
_getCache:function(a){return w[a]},_simpleAdd:l,_simpleRemove:f};t.on=t.add;c.Event=t;e.attachEvent&&!e.addEventListener&&e.attachEvent("onunload",function(){var a,b;for(a in w)if(b=w[a].target)try{t.remove(b)}catch(d){}})});
KISSY.add("event-object",function(c,r){function o(h,i,e){this.currentTarget=h;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=e;this.target=h}this.fixed=true}var s=document,p="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(o,
{_fix:function(){for(var h=this.originalEvent,i=p.length,e,n=this.currentTarget.ownerDocument||s;i;){e=p[--i];this[e]=h[e]}if(!this.target)this.target=this.srcElement||s;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){h=n.documentElement;n=n.body;this.pageX=this.clientX+(h&&h.scrollLeft||n&&n.scrollLeft||0)-(h&&h.clientLeft||
n&&n.clientLeft||0);this.pageY=this.clientY+(h&&h.scrollTop||n&&n.scrollTop||0)-(h&&h.clientTop||n&&n.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=
this.originalEvent;if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=o});
KISSY.add("event-target",function(c,r){var o=c.Event,s=o.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(p,h){if((p=((o._getCache(this[s]||-1)||{}).events||{})[p])&&c.isFunction(p.handle))return p.handle(r,h)},on:function(p,h,i){o.add(this,p,h,i)},detach:function(p,h){o.remove(this,p,h)}}});
KISSY.add("event-mouseenter",function(c){var r=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(o){r.special[o.name]={fix:o.fix,setup:function(s){s.type=o.name},handle:function(s,p,h){var i=p.relatedTarget;try{for(;i&&i!==s;)i=i.parentNode;i!==s&&r._handle(s,p,h)}catch(e){}}}})});
KISSY.add("event-focusin",function(c){var r=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(o){r.special[o.name]={fix:o.fix,capture:true,setup:function(s){s.type=o.name}}})});
KISSY.add("node",function(c){function r(s,p,h){var i;if(!(this instanceof r))return new r(s,p,h);if(s){if(o._isSupportedNode(s))i=s;else if(typeof s==="string")i=o.create(s,p,h);this[0]=i}else this.length=0}var o=c.DOM;r.TYPE="-ks-Node";c.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});c.one=function(s,p){return(s=c.get(s,p))?new r(s):null};c.Node=r});
KISSY.add("nodelist",function(c){function r(p){if(!(this instanceof r))return new r(p);s.push.apply(this,p||[])}var o=c.DOM,s=Array.prototype;c.mix(r.prototype,{length:0,item:function(p){var h=null;if(o._isElementNode(this[p]))h=new c.Node(this[p]);return h},getDOMNodes:function(){return s.slice.call(this)},each:function(p,h){for(var i=this.length,e=0,n;e<i;++e){n=new c.Node(this[e]);p.call(h||n,n,e,this)}return this}});c.all=function(p,h){return new r(c.query(p,h,true))};c.NodeList=r});
KISSY.add("node-attach",function(c,r){function o(u,arguments,w,t){var a=[this[u?l:n]()].concat(c.makeArray(arguments));if(arguments[w]===r)return t.apply(p,a);else{t.apply(p,a);return this}}function s(u,w){c.each(u,function(t){c.each([i,e],function(a,b){a[t]=function(d){switch(w){case f:return function(){return o.call(this,b,arguments,1,d)};case j:return function(){return o.call(this,b,arguments,0,d)};case q:return function(){var g=this[b?l:n]();return(g=d.apply(p,[g].concat(c.makeArray(arguments))))?
new (c[c.isArray(g)?"NodeList":"Node"])(g):null};default:return function(){var g=this[b?l:n]();g=d.apply(p,[g].concat(c.makeArray(arguments)));return g===r?this:g}}}(p[t])})})}var p=c.DOM,h=c.Event,i=c.Node.prototype,e=c.NodeList.prototype,n="getDOMNode",l=n+"s",f=1,j=2,q=4;c.mix(i,{one:function(u){return c.one(u,this[0])},all:function(u){return c.all(u,this[0])}});s(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);s(["attr","removeAttr"],f);s(["val","text"],j);s(["css"],f);s(["width",
"height"],j);s(["offset"],j);s(["scrollIntoView"]);s(["parent","next","prev","siblings","children"],q);s(["contains"]);s(["html"],j);s(["remove"]);c.each(["insertBefore","insertAfter"],function(u){i[u]=function(w){p[u].call(p,this[0],w);return this}});c.each([i,e],function(u){c.mix(u,{append:function(w){w&&c.each(this,function(t){t.appendChild(p.create(w))});return this},appendTo:function(w){if((w=c.get(w))&&w.appendChild)c.each(this,function(t){w.appendChild(t)});return this}})});c.each([i,e],function(u){c.mix(u,
c.EventTarget);u._addEvent=function(w,t){for(var a=0,b=this.length;a<b;a++)h._simpleAdd(this[a],w,t)};u._removeEvent=function(w,t){for(var a=0,b=this.length;a<b;a++)h._simpleRemove(this[a],w,t)};delete u.fire})});
KISSY.add("ajax",function(c){var r=document,o=r.createElement("script").readyState?function(s,p){s.onreadystatechange=function(){var h=s.readyState;if(h==="loaded"||h==="complete"){s.onreadystatechange=null;p.call(this)}}}:function(s,p){s.onload=p};c.mix(c,{getScript:function(s,p,h){var i=c.get("head")||r.documentElement,e=r.createElement("script");e.src=s;if(h)e.charset=h;e.async=true;c.isFunction(p)&&o(e,p);i.appendChild(e)}})});
KISSY.add("cookie",function(c){function r(h){return c.isString(h)&&h!==""}var o=document,s=encodeURIComponent,p=decodeURIComponent;c.Cookie={get:function(h){var i;if(r(h))if(h=o.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))i=h[1]?p(h[1]):"";return i},set:function(h,i,e,n,l,f){i=s(i);var j=e;if(typeof j==="number"){j=new Date;j.setTime(j.getTime()+e*864E5)}if(j instanceof Date)i+="; expires="+j.toUTCString();if(r(n))i+="; domain="+n;if(r(l))i+="; path="+l;if(f)i+="; secure";o.cookie=h+"="+i},remove:function(h,
i,e,n){this.set(h,"",0,i,e,n)}}});
KISSY.add("json",function(c){function r(f){return f<10?"0"+f:f}function o(f){h.lastIndex=0;return h.test(f)?'"'+f.replace(h,function(j){var q=n[j];return typeof q==="string"?q:"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function s(f,j){var q,u,w=i,t,a=j[f];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(f);if(typeof l==="function")a=l.call(j,f,a);switch(typeof a){case "string":return o(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=e;t=[];if(Object.prototype.toString.apply(a)==="[object Array]"){u=a.length;for(f=0;f<u;f+=1)t[f]=s(f,a)||"null";j=t.length===0?"[]":i?"[\n"+i+t.join(",\n"+i)+"\n"+w+"]":"["+t.join(",")+"]";i=w;return j}if(l&&typeof l==="object"){u=l.length;for(f=0;f<u;f+=1){q=l[f];if(typeof q==="string")if(j=s(q,a))t.push(o(q)+(i?": ":":")+j)}}else for(q in a)if(Object.hasOwnProperty.call(a,q))if(j=s(q,a))t.push(o(q)+(i?": ":":")+j);j=t.length===0?"{}":i?"{\n"+i+t.join(",\n"+i)+
"\n"+w+"}":"{"+t.join(",")+"}";i=w;return j}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,e,n={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;if(typeof c.stringify!=="function")c.stringify=function(f,j,q){var u;e=i="";if(typeof q==="number")for(u=0;u<q;u+=1)e+=" ";else if(typeof q==="string")e=q;if((l=j)&&typeof j!=="function"&&(typeof j!=="object"||typeof j.length!=="number"))throw new Error("JSON.stringify");return s("",
{"":f})};if(typeof c.parse!=="function")c.parse=function(f,j){function q(u,w){var t,a,b=u[w];if(b&&typeof b==="object")for(t in b)if(Object.hasOwnProperty.call(b,t)){a=q(b,t);if(a!==undefined)b[t]=a;else delete b[t]}return j.call(u,w,b)}f=String(f);p.lastIndex=0;if(p.test(f))f=f.replace(p,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){f=eval("("+f+")");return typeof j==="function"?q({"":f},""):f}throw new SyntaxError("JSON.parse");}});
(function(){function c(a,b,d,g,m,k){m=0;for(var v=g.length;m<v;m++){var x=g[m];if(x){x=x[a];for(var y=false;x;){if(x.sizcache===d){y=g[x.sizset];break}if(x.nodeType===1&&!k){x.sizcache=d;x.sizset=m}if(x.nodeName.toLowerCase()===b){y=x;break}x=x[a]}g[m]=y}}}function r(a,b,d,g,m,k){m=0;for(var v=g.length;m<v;m++){var x=g[m];if(x){x=x[a];for(var y=false;x;){if(x.sizcache===d){y=g[x.sizset];break}if(x.nodeType===1){if(!k){x.sizcache=d;x.sizset=m}if(typeof b!=="string"){if(x===b){y=true;break}}else if(e.filter(b,
[x]).length>0){y=x;break}}x=x[a]}g[m]=y}}}var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s=0,p=Object.prototype.toString,h=false,i=true;[0,0].sort(function(){i=false;return 0});var e=function(a,b,d,g){d=d||[];var m=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return d;var k=[],v,x,y,z,A=true,B=e.isXML(b),C=a,D;do{o.exec("");if(v=o.exec(C)){C=v[3];k.push(v[1]);if(v[2]){z=
v[3];break}}}while(v);if(k.length>1&&l.exec(a))if(k.length===2&&n.relative[k[0]])x=t(k[0]+k[1],b);else for(x=n.relative[k[0]]?[b]:e(k.shift(),b);k.length;){a=k.shift();if(n.relative[a])a+=k.shift();x=t(a,x)}else{if(!g&&k.length>1&&b.nodeType===9&&!B&&n.match.ID.test(k[0])&&!n.match.ID.test(k[k.length-1])){v=e.find(k.shift(),b,B);b=v.expr?e.filter(v.expr,v.set)[0]:v.set[0]}if(b){v=g?{expr:k.pop(),set:q(g)}:e.find(k.pop(),k.length===1&&(k[0]==="~"||k[0]==="+")&&b.parentNode?b.parentNode:b,B);x=v.expr?
e.filter(v.expr,v.set):v.set;if(k.length>0)y=q(x);else A=false;for(;k.length;){v=D=k.pop();if(n.relative[D])v=k.pop();else D="";if(v==null)v=b;n.relative[D](y,v,B)}}else y=[]}y||(y=x);y||e.error(D||a);if(p.call(y)==="[object Array]")if(A)if(b&&b.nodeType===1)for(a=0;y[a]!=null;a++){if(y[a]&&(y[a]===true||y[a].nodeType===1&&e.contains(b,y[a])))d.push(x[a])}else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&d.push(x[a]);else d.push.apply(d,y);else q(y,d);if(z){e(z,m,d,g);e.uniqueSort(d)}return d};
e.uniqueSort=function(a){if(w){h=i;a.sort(w);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};e.matches=function(a,b){return e(a,null,null,b)};e.find=function(a,b,d){var g;if(!a)return[];for(var m=0,k=n.order.length;m<k;m++){var v=n.order[m],x;if(x=n.leftMatch[v].exec(a)){var y=x[1];x.splice(1,1);if(y.substr(y.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");g=n.find[v](x,b,d);if(g!=null){a=a.replace(n.match[v],"");break}}}}g||(g=b.getElementsByTagName("*"));return{set:g,
expr:a}};e.filter=function(a,b,d,g){for(var m=a,k=[],v=b,x,y,z=b&&b[0]&&e.isXML(b[0]);a&&b.length;){for(var A in n.filter)if((x=n.leftMatch[A].exec(a))!=null&&x[2]){var B=n.filter[A],C,D;D=x[1];y=false;x.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(v===k)k=[];if(n.preFilter[A])if(x=n.preFilter[A](x,v,d,k,g,z)){if(x===true)continue}else y=C=true;if(x)for(var E=0;(D=v[E])!=null;E++)if(D){C=B(D,x,E,v);var F=g^!!C;if(d&&C!=null)if(F)y=true;else v[E]=false;else if(F){k.push(D);y=true}}if(C!==undefined){d||
(v=k);a=a.replace(n.match[A],"");if(!y)return[];break}}}if(a===m)if(y==null)e.error(a);else break;m=a}return v};e.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var n=e.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var d=typeof b==="string",g=d&&!/\W/.test(b);d=d&&!g;if(g)b=b.toLowerCase();g=0;for(var m=a.length,k;g<m;g++)if(k=a[g]){for(;(k=k.previousSibling)&&k.nodeType!==1;);a[g]=d||k&&k.nodeName.toLowerCase()===
b?k||false:k===b}d&&e.filter(b,a,true)},">":function(a,b){var d=typeof b==="string",g,m=0,k=a.length;if(d&&!/\W/.test(b))for(b=b.toLowerCase();m<k;m++){if(g=a[m]){d=g.parentNode;a[m]=d.nodeName.toLowerCase()===b?d:false}}else{for(;m<k;m++)if(g=a[m])a[m]=d?g.parentNode:g.parentNode===b;d&&e.filter(b,a,true)}},"":function(a,b,d){var g=s++,m=r,k;if(typeof b==="string"&&!/\W/.test(b)){k=b=b.toLowerCase();m=c}m("parentNode",b,g,a,k,d)},"~":function(a,b,d){var g=s++,m=r,k;if(typeof b==="string"&&!/\W/.test(b)){k=
b=b.toLowerCase();m=c}m("previousSibling",b,g,a,k,d)}},find:{ID:function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var d=[];b=b.getElementsByName(a[1]);for(var g=0,m=b.length;g<m;g++)b[g].getAttribute("name")===a[1]&&d.push(b[g]);return d.length===0?null:d}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,d,g,m,k){a=" "+a[1].replace(/\\/g,"")+" ";
if(k)return a;k=0;for(var v;(v=b[k])!=null;k++)if(v)if(m^(v.className&&(" "+v.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))d||g.push(v);else if(d)b[k]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=s++;return a},ATTR:function(a,b,d,g,m,k){b=
a[1].replace(/\\/g,"");if(!k&&n.attrMap[b])a[1]=n.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,d,g,m){if(a[1]==="not")if((o.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=e(a[3],null,null,b);else{a=e.filter(a[3],b,d,true^m);d||g.push.apply(g,a);return false}else if(n.match.POS.test(a[0])||n.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!e(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,d,g){return b===g.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-
0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(a,b,d,g){var m=b[1],k=n.filters[m];if(k)return k(a,d,b,g);else if(m==="contains")return(a.textContent||a.innerText||e.getText([a])||"").indexOf(b[3])>=0;else if(m==="not"){b=b[3];d=0;for(g=b.length;d<g;d++)if(b[d]===a)return false;return true}else e.error("Syntax error, unrecognized expression: "+m)},CHILD:function(a,b){var d=b[1],g=a;switch(d){case "only":case "first":for(;g=g.previousSibling;)if(g.nodeType===1)return false;if(d===
"first")return true;g=a;case "last":for(;g=g.nextSibling;)if(g.nodeType===1)return false;return true;case "nth":d=b[2];var m=b[3];if(d===1&&m===0)return true;b=b[0];var k=a.parentNode;if(k&&(k.sizcache!==b||!a.nodeIndex)){var v=0;for(g=k.firstChild;g;g=g.nextSibling)if(g.nodeType===1)g.nodeIndex=++v;k.sizcache=b}a=a.nodeIndex-m;return d===0?a===0:a%d===0&&a/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var d=b[1];a=n.attrHandle[d]?n.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d);d=a+"";var g=b[2];b=b[4];return a==null?g==="!=":g==="="?d===b:g==="*="?d.indexOf(b)>=0:g==="~="?(" "+d+" ").indexOf(b)>=0:!b?d&&a!==false:g==="!="?d!==b:g==="^="?d.indexOf(b)===0:g==="$="?d.substr(d.length-b.length)===b:g==="|="?d===b||d.substr(0,b.length+1)===b+"-":false},POS:function(a,b,d,g){var m=n.setFilters[b[2]];
if(m)return m(a,d,b,g)}}},l=n.match.POS,f=function(a,b){return"\\"+(b-0+1)};for(var j in n.match){n.match[j]=new RegExp(n.match[j].source+/(?![^\[]*\])(?![^\(]*\))/.source);n.leftMatch[j]=new RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[j].source.replace(/\\(\d+)/g,f))}var q=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(u){q=function(a,b){b=b||[];var d=0;if(p.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var g=a.length;d<g;d++)b.push(a[d]);else for(;a[d];d++)b.push(a[d]);return b}}var w;if(document.documentElement.compareDocumentPosition)w=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)h=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)h=true;return a};else if("sourceIndex"in document.documentElement)w=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)h=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)h=true;return a};else if(document.createRange)w=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)h=true;return a.ownerDocument?-1:1}var d=a.ownerDocument.createRange(),g=b.ownerDocument.createRange();d.setStart(a,0);d.setEnd(a,0);g.setStart(b,0);g.setEnd(b,0);a=d.compareBoundaryPoints(Range.START_TO_END,g);if(a===0)h=true;return a};e.getText=function(a){for(var b="",d,g=0;a[g];g++){d=a[g];if(d.nodeType===3||d.nodeType===4)b+=d.nodeValue;else if(d.nodeType!==
8)b+=e.getText(d.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var d=document.documentElement;d.insertBefore(a,d.firstChild);if(document.getElementById(b)){n.find.ID=function(g,m,k){if(typeof m.getElementById!=="undefined"&&!k)return(m=m.getElementById(g[1]))?m.id===g[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===g[1]?[m]:undefined:[]};n.filter.ID=function(g,m){var k=typeof g.getAttributeNode!==
"undefined"&&g.getAttributeNode("id");return g.nodeType===1&&k&&k.nodeValue===m}}d.removeChild(a);d=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)n.find.TAG=function(b,d){d=d.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var g=0;d[g];g++)d[g].nodeType===1&&b.push(d[g]);d=b}return d};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")n.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=e,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){e=function(g,m,k,v){m=m||document;if(!v&&m.nodeType===9&&!e.isXML(m))try{return q(m.querySelectorAll(g),k)}catch(x){}return a(g,m,k,v)};for(var d in a)e[d]=a[d];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){n.order.splice(1,0,"CLASS");n.find.CLASS=function(b,d,g){if(typeof d.getElementsByClassName!=="undefined"&&!g)return d.getElementsByClassName(b[1])};a=null}}})();e.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};e.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var t=function(a,b){var d=[],g="",m;for(b=b.nodeType?[b]:b;m=n.match.PSEUDO.exec(a);){g+=m[0];a=a.replace(n.match.PSEUDO,"")}a=n.relative[a]?a+"*":a;m=0;for(var k=b.length;m<k;m++)e(a,b[m],d);return e.filter(g,d)};KISSY.ExternalSelector=e;KISSY.ExternalSelector._filter=function(a,b){return e.matches(b,KISSY.query(a))}})();
KISSY.add("anim-easing",function(c){var r=Math,o=r.PI,s=r.pow,p=r.sin,h=1.70158,i={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(s(2,10*(e-=1))*p((e-0.075)*2*o/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return s(2,-10*e)*p((e-0.075)*2*o/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*s(2,10*(e-=1))*p((e-0.1125)*2*o/0.45);return s(2,-10*(e-=1))*p((e-0.1125)*2*o/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((h+1)*e-h)},backOut:function(e){return(e-=1)*e*((h+1)*e+h)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((h*=1.525)+1)*e-h);return 0.5*((e-=2)*e*(((h*=1.525)+1)*e+h)+2)},bounceIn:function(e){return 1-
i.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return i.bounceIn(e*2)*0.5;return i.bounceOut(e*2-1)*0.5+0.5}};c.Easing=i});
KISSY.add("anim",function(c,r){function o(t,a,b,d,g){if(t=c.get(t)){if(!(this instanceof o))return new o(t,a,b,d,g);var m=c.isPlainObject(b);a=a;this.domEl=t;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=s(a);this.targetStyle=a;if(m)t=c.merge(w,b);else{t=c.clone(w);b&&(t.duration=f(b,10)||1);c.isString(d)&&(d=l[d]);c.isFunction(d)&&(t.easing=d);c.isFunction(g)&&(t.complete=g)}this.config=t;c.isFunction(g)&&this.on(u,g)}}function s(t){var a={},b=q.length,d;j.innerHTML='<div style="'+
t+'"></div>';for(t=j.firstChild.style;b--;)if(d=t[q[b]])a[q[b]]=p(d);return a}function p(t){var a=f(t);t=(t+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:t,u:"",f:i}:{v:a,u:t,f:h}}function h(t,a,b){return(t+(a-t)*b).toFixed(3)}function i(t,a,b){for(var d=2,g,m,k=[],v=[];g=3,m=arguments[d-1],d--;)if(e(m,0,4)==="rgb(")for(m=m.match(/\d+/g);g--;)k.push(~~m[g]);else if(e(m,0)==="#"){if(m.length===4)m="#"+e(m,1)+e(m,1)+e(m,2)+e(m,2)+e(m,3)+e(m,3);for(;g--;)k.push(parseInt(e(m,1+g*2,2),16))}else return a;
for(;g--;){d=~~(k[g+3]+(k[g]-k[g+3])*b);v.push(d<0?0:d>255?255:d)}return"rgb("+v.join(",")+")"}function e(t,a,b){return t.substr(a,b||1)}var n=c.DOM,l=c.Easing,f=parseFloat,j=n.create("<div>"),q="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="complete",w={duration:1,easing:l.easeNone};c.augment(o,c.EventTarget,{run:function(){var t=this,a=t.config,b=t.domEl,d=a.duration*1E3,g=a.easing,m=c.now(),k=m+d,v=t.props,x={},y;for(y in v)x[y]=p(n.css(b,y));if(t.fire("start")!==false){t.stop();t.timer=c.later(a=function(){var z=c.now(),A=z>k?1:(z-m)/d,B,C,D;for(y in v){B=x[y];C=v[y];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;n.css(b,y,C.f(B.v,C.v,g(A))+C.u)}if(t.fire("step")===false||(D=z>k)){t.stop();D&&t.fire(u)}},13,true);a();return t}},stop:function(t){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=r}if(t){c.UA.ie&&b.indexOf("opacity")>-1&&n.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(u)}return this}});c.Anim=o});KISSY.add("anim-node-plugin",function(c,r){var o=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(s){s.animate=function(){var p=c.makeArray(arguments);c.each(this,function(h){o.apply(r,[h].concat(p)).run()});return this}})});
KISSY.add("datalazyload",function(c,r){function o(f,j){if(!(this instanceof o))return new o(f,j);if(j===r){j=f;f=[i]}c.isArray(f)||(f=[c.get(f)||i]);this.containers=f;this.config=c.merge(l,j);this._init()}var s=c.DOM,p=c.Event,h=window,i=document,e="scroll",n="resize",l={mod:"manual",diff:"default",placeholder:"none"};c.augment(o,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var f=this.containers,j,
q,u,w=[],t=[];j=0;for(q=f.length;j<q;++j){u=c.query("img",f[j]);w=w.concat(c.filter(u,this._filterImg,this));u=c.query("textarea",f[j]);t=t.concat(c.filter(u,this._filterArea,this))}this.images=w;this.areas=t},_filterImg:function(f){var j=f.getAttribute("data-ks-lazyload"),q=this.threshold,u=this.config.placeholder;if(this.config.mod==="manual"){if(j){if(u!=="none")f.src=u;return true}}else if(s.offset(f).top>q&&!j){s.attr(f,"data-ks-lazyload",f.src);if(u!=="none")f.src=u;else f.removeAttribute("src");
return true}},_filterArea:function(f){return s.hasClass(f,"ks-datalazyload")},_initLoadEvent:function(){function f(){q||(q=setTimeout(function(){j();q=null},100))}function j(){u._loadItems();if(u._getItemsLength()===0){p.remove(h,e,f);p.remove(h,n,f)}}var q,u=this;p.on(h,e,f);p.on(h,n,function(){u.threshold=u._getThreshold();f()});u._getItemsLength()&&c.ready(function(){j()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=c.filter(this.images,this._loadImg,
this)},_loadImg:function(f){var j=this.threshold+s.scrollTop();if(s.offset(f).top<=j)this._loadImgSrc(f);else return true},_loadImgSrc:function(f,j){j=j||"data-ks-lazyload";var q=f.getAttribute(j);if(q&&f.src!=q){f.src=q;f.removeAttribute(j)}},_loadAreas:function(){this.areas=c.filter(this.areas,this._loadArea,this)},_loadArea:function(f){var j=s.css(f,"display")==="none";if(s.offset(j?f.parentNode:f).top<=this.threshold+s.scrollTop())this._loadAreaData(f.parentNode,f);else return true},_loadAreaData:function(f,
j){j.style.display="none";j.className="";var q=s.create("<div>");f.insertBefore(q,j);s.html(q,j.value,true)},_getThreshold:function(){var f=this.config.diff,j=s.viewportHeight();return f==="default"?2*j:j+f},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(f,j){var q=this,u,w;c.isArray(f)||(f=[c.get(f)]);c.each(f,function(t){switch(j){case "img-src":w=t.nodeName==="IMG"?[t]:c.query("img",t);c.each(w,function(a){q._loadImgSrc(a,"data-ks-lazyload-custom")});
break;default:(u=c.get("textarea",t))&&s.hasClass(u,"ks-datalazyload-custom")&&q._loadAreaData(t,u)}})}});c.mix(o,o.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=o});
KISSY.add("flash-ua",function(c){function r(){var l;if(navigator.plugins&&navigator.mimeTypes.length)l=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{l=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(f){}if(l)return o(l)}function o(l){return l.match(/(\d)+/g)}function s(l){var f=c.isString(l)?o(l):l;l=l;if(c.isArray(f))l=parseFloat(f[0]+"."+p(f[1],3)+p(f[2],5));return l||0}function p(l,f){for(var j=(l+"").length;j++<f;)l="0"+
l;return l}var h=c.UA,i,e,n=true;h.fpv=function(l){if(l||n){n=false;i=r();e=s(i)}return i};h.fpvGEQ=function(l,f){n&&h.fpv(f);return!!e&&e>=s(l)}});KISSY.add("flash",function(c){c.Flash={swfs:{length:0}}});
KISSY.add("flash-embed",function(c){function r(l,f,j){var q=s.create("<param>");s.attr(q,{name:f,value:j});l.appendChild(q)}var o=c.UA,s=c.DOM,p=c.Flash,h=/object|embed/i,i=encodeURIComponent,e={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},n={params:{},attrs:{width:215,height:138},version:9};c.mix(p,{fpv:o.fpv,fpvGEQ:o.fpvGEQ,len:function(){return p.swfs.length},
add:function(l,f,j){var q,u;f=p._normalize(f);f=c.merge(n,f);f.attrs=c.merge(n.attrs,f.attrs);if(l=c.get(l)){if(!l.id)l.id=c.guid("ks-flash-");u=f.attrs.id="#"+l.id;if(o.fpv()){if(!o.fpvGEQ(f.version)){this._callback(j,0,u,l);if(!((q=f.xi)&&c.isString(q)))return;f.src=q}if(h.test(l.nodeName))this._register(l,f,j);else f.src?this._embed(l,f,j):this._callback(j,-3,u,l)}else this._callback(j,-1,u,l)}else this._callback(j,-2)},get:function(l){return p.swfs[l]},remove:function(l){if(l=p.get(l)){s.remove(l);
delete p.swfs["#"+l.id];p.swfs.length-=1}},contains:function(l){var f=p.swfs,j,q=false;if(c.isString(l))q=l in f;else for(j in f)if(f[j]===l){q=true;break}return q},_register:function(l,f,j){f=f.attrs.id;p._addSWF(f,l);p._callback(j,1,f,l)},_embed:function(l,f,j){var q=p._createSWF(f.src,f.attrs,f.params);if(o.ie)l.outerHTML=q.outerHTML;else l.parentNode.replaceChild(q,l);p._register(l,f,j)},_callback:function(l,f,j,q){f&&c.isFunction(l)&&l({status:f,id:j,swf:q})},_addSWF:function(l,f){if(l&&f){p.swfs[l]=
f;p.swfs.length+=1}},_createSWF:function(l,f,j){var q=s.create("<object>"),u;s.attr(q,f);if(o.ie){s.attr(q,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");r(q,"movie",l)}else s.attr(q,{type:"application/x-shockwave-flash",data:l,name:f.id});for(u in j)u in e&&r(q,u,j[u]);j.flashvars&&r(q,"flashvars",p.toFlashVars(j.flashvars));return q},_normalize:function(l){var f,j,q,u=l;if(c.isPlainObject(l)){u={};for(q in l){f=q.toLowerCase();j=l[q];if(f!=="flashvars")j=p._normalize(j);u[f]=j}}return u},
toFlashVars:function(l){if(!c.isPlainObject(l))return"";var f,j,q=[];for(f in l){j=l[f];if(c.isString(j))j='"'+i(j)+'"';else{j=c.JSON.stringify(j);if(!j)continue;j=j.replace(/:"([^"]+)/g,function(u,w){return':"'+i(w)})}q.push(f+"="+j)}return q.join("&")}})});
KISSY.add("switchable",function(c,r){function o(h,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=c.merge(o.Config,i);this.container=c.get(h);this.config=i;this.activeIndex=i.activeIndex;this._init()}var s=c.DOM,p=c.Event;o.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};o.Plugins=[];c.augment(o,c.EventTarget,{_init:function(){var h=this,i=h.config;if(h.fire("beforeInit")!==false){h._parseMarkup();i.hasTriggers&&h._bindTriggers();c.each(o.Plugins,function(e){e.init&&e.init(h)});h.fire("init")}},_parseMarkup:function(){var h=this.container,i=this.config,e,n=[],l=[];switch(i.markupType){case 0:if(e=c.get("."+i.navCls,h))n=s.children(e);e=c.get("."+i.contentCls,h);l=s.children(e);break;case 1:n=c.query("."+i.triggerCls,
h);l=c.query("."+i.panelCls,h);break;case 2:n=i.triggers;l=i.panels;break}h=l.length;this.length=h/i.steps;if(i.hasTriggers&&h>0&&n.length===0)n=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(n);this.panels=c.makeArray(l);this.content=e||l[0].parentNode},_generateTriggersMarkup:function(h){var i=this.config,e=s.create("<ul>"),n,l;e.className=i.navCls;for(l=0;l<h;l++){n=s.create("<li>");if(l===this.activeIndex)n.className=i.activeTriggerCls;n.innerHTML=l+1;e.appendChild(n)}this.container.appendChild(e);
return s.children(e)},_bindTriggers:function(){var h=this,i=h.config,e=h.triggers,n,l,f=e.length;for(l=0;l<f;l++)(function(j){n=e[j];p.on(n,"click focus",function(){h._onFocusTrigger(j)});if(i.triggerType==="mouse"){p.on(n,"mouseenter",function(){h._onMouseEnterTrigger(j)});p.on(n,"mouseleave",function(){h._onMouseLeaveTrigger(j)})}})(l)},_onFocusTrigger:function(h){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(h)}},_onMouseEnterTrigger:function(h){var i=this;if(i._triggerIsValid())i.switchTimer=
c.later(function(){i.switchTo(h)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(h){return this.activeIndex!==h},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=r}},switchTo:function(h,i){var e=this.config,n=this.triggers,l=this.panels,f=this.activeIndex,j=e.steps,q=f*j,u=h*j;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:h})===false)return this;if(e.hasTriggers)this._switchTrigger(f>
-1?n[f]:null,n[h]);if(i===r)i=h>f?"forward":"backward";this._switchView(l.slice(q,q+j),l.slice(u,u+j),h,i);this.activeIndex=h;return this},_switchTrigger:function(h,i){var e=this.config.activeTriggerCls;h&&s.removeClass(h,e);s.addClass(i,e)},_switchView:function(h,i,e){s.css(h,"display","none");s.css(i,"display","block");this._fireOnSwitch(e)},_fireOnSwitch:function(h){this.fire("switch",{currentIndex:h})},prev:function(){var h=this.activeIndex;this.switchTo(h>0?h-1:this.length-1,"backward")},next:function(){var h=
this.activeIndex;this.switchTo(h<this.length-1?h+1:0,"forward")}});c.Switchable=o});
KISSY.add("switchable-autoplay",function(c,r){var o=c.Event,s=c.Switchable;c.mix(s.Config,{autoplay:false,interval:5,pauseOnHover:true});s.Plugins.push({name:"autoplay",init:function(p){function h(){n=c.later(function(){p.paused||p.switchTo(p.activeIndex<p.length-1?p.activeIndex+1:0,"forward")},e,true)}var i=p.config,e=i.interval*1E3,n;if(i.autoplay){if(i.pauseOnHover){o.on(p.container,"mouseenter",function(){if(n){n.cancel();n=r}p.paused=true});o.on(p.container,"mouseleave",function(){p.paused=false;
h()})}h()}}})});
KISSY.add("switchable-effect",function(c,r){var o=c.DOM,s=c.Anim,p=c.Switchable,h;c.mix(p.Config,{effect:"none",duration:0.5,easing:"easeNone"});p.Effects={none:function(i,e,n){o.css(i,"display","none");o.css(e,"display","block");n()},fade:function(i,e,n){i.length!==1&&c.error("fade effect only supports steps == 1.");var l=this,f=l.config,j=i[0],q=e[0];l.anim&&l.anim.stop(true);o.css(q,"opacity",1);l.anim=(new s(j,{opacity:0},f.duration,f.easing,function(){l.anim=r;o.css(q,"z-index",9);o.css(j,"z-index",
1);n()})).run()},scroll:function(i,e,n,l){var f=this;i=f.config;e=i.effect==="scrollx";var j={};j[e?"left":"top"]=-(f.viewSize[e?0:1]*l)+"px";f.anim&&f.anim.stop();f.anim=(new s(f.content,j,i.duration,i.easing,function(){f.anim=r;n()})).run()}};h=p.Effects;h.scrollx=h.scrolly=h.scroll;p.Plugins.push({name:"effect",init:function(i){var e=i.config,n=e.effect,l=i.panels,f=i.content,j=e.steps,q=i.activeIndex,u=l.length;i.viewSize=[e.viewSize[0]||l[0].offsetWidth*j,e.viewSize[1]||l[0].offsetHeight*j];
if(n!=="none"){c.each(l,function(b){o.css(b,"display","block")});switch(n){case "scrollx":case "scrolly":o.css(f,"position","absolute");o.css(f.parentNode,"position","relative");if(n==="scrollx"){o.css(l,"float","left");o.width(f,i.viewSize[0]*(u/j))}break;case "fade":var w=q*j,t=w+j-1,a;c.each(l,function(b,d){a=d>=w&&d<=t;o.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(p,{_switchView:function(i,e,n,l){var f=this,j=f.config.effect;(c.isFunction(j)?j:h[j]).call(f,i,
e,function(){f._fireOnSwitch(n)},n,l)}})});
KISSY.add("switchable-circular",function(c,r){function o(a,b,d,g,m){var k=this;a=k.config;b=k.length;var v=k.activeIndex,x=a.scrollType===w,y=x?n:l,z=k.viewSize[x?0:1];x=-z*g;var A={},B,C=m===u;if(B=C&&v===0&&g===b-1||m===q&&v===b-1&&g===0)x=s.call(k,k.panels,g,C,y,z);A[y]=x+j;k.anim&&k.anim.stop();k.anim=(new c.Anim(k.content,A,a.duration,a.easing,function(){B&&p.call(k,k.panels,g,C,y,z);k.anim=r;d()})).run()}function s(a,b,d,g,m){var k=this.config.steps;b=this.length;var v=d?b-1:0,x=(v+1)*k;for(k=
v*k;k<x;k++){h.css(a[k],i,e);h.css(a[k],g,(d?-1:1)*m*b)}return d?m:-m*b}function p(a,b,d,g,m){var k=this.config.steps;b=this.length;var v=d?b-1:0,x=(v+1)*k;for(k=v*k;k<x;k++){h.css(a[k],i,f);h.css(a[k],g,f)}h.css(this.content,g,d?-m*(b-1):f)}var h=c.DOM,i="position",e="relative",n="left",l="top",f="",j="px",q="forward",u="backward",w="scrollx",t=c.Switchable;c.mix(t.Config,{circular:false});t.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===w||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=o}}})});
KISSY.add("switchable-lazyload",function(c){var r=c.DOM,o="beforeSwitch",s="img-src",p="area-data",h={},i=c.Switchable;h[s]="data-ks-lazyload-custom";h[p]="ks-datalazyload-custom";c.mix(i.Config,{lazyDataType:p});i.Plugins.push({name:"lazyload",init:function(e){function n(w){var t=j.steps;w=w.toIndex*t;f.loadCustomLazyData(e.panels.slice(w,w+t),q);l()&&e.detach(o,n)}function l(){var w,t,a,b=q===s;if(w=b?"img":q===p?"textarea":""){w=c.query(w,e.container);t=0;for(a=w.length;t<a;t++)if(b?r.attr(w[t],
u):r.hasClass(w[t],u))return false}return true}var f=c.DataLazyload,j=e.config,q=j.lazyDataType,u=h[q];!f||!q||!u||e.on(o,n)}})});
KISSY.add("switchable-countdown",function(c,r){var o=c.DOM,s=c.Event,p=c.Anim,h=c.Switchable;c.mix(h.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});h.Plugins.push({name:"countdown",init:function(i){function e(){n();w=(new p(j[i.activeIndex],u,f-0.5)).run()}function n(){if(w){w.stop();w=r}}var l=i.config,f=l.interval,j=[],q=l.countdownFromStyle,u=l.countdownToStyle,w;if(!(!l.autoplay||!l.hasTriggers||!l.countdown)){c.each(i.triggers,function(t,a){t.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
t.innerHTML+"</div>";j[a]=t.firstChild});if(l.pauseOnHover){s.on(i.container,"mouseenter",function(){n();var t=j[i.activeIndex];if(q)w=(new p(t,q,0.2,"easeOut")).run();else o.removeAttr(t,"style")});s.on(i.container,"mouseleave",function(){n();o.removeAttr(j[i.activeIndex],"style");setTimeout(e,200)})}i.on("beforeSwitch",function(){n();o.removeAttr(j[i.activeIndex],"style")});i.on("switch",function(){i.paused||e()});e(i.activeIndex)}}})});
KISSY.add("switchable-autorender",function(c){c.Switchable.autoRender=function(r,o,s){o="."+(o||"KS_");s=s||"data-ks-switchable";c.each(["Switchable","Tabs","Slide","Carousel","Accordion"],function(p){c.each(c.query(o+p,r),function(h){try{var i=h.getAttribute(s);if(i)i=i.replace(/'/g,'"');new c[p](h,c.JSON.parse(i))}catch(e){c.log("Switchable.autoRender: "+e,"warn")}})})}});
KISSY.add("tabs",function(c){function r(o,s){if(!(this instanceof r))return new r(o,s);r.superclass.constructor.call(this,o,s)}c.extend(r,c.Switchable);c.Tabs=r});KISSY.add("slide",function(c){function r(s,p){if(!(this instanceof r))return new r(s,p);r.superclass.constructor.call(this,s,c.merge(o,p))}var o={autoplay:true,circular:true};c.extend(r,c.Switchable);c.Slide=r});
KISSY.add("carousel",function(c,r){function o(f,j){var q=this;if(!(q instanceof o))return new o(f,j);q.on("init",function(){s(q)});o.superclass.constructor.call(q,f,c.merge(l,j))}function s(f){var j=f.config,q=j.disableBtnCls;c.each(["prev","next"],function(u){var w=f[u+"Btn"]=c.get(i+j[u+"BtnCls"],f.container);h.on(w,"click",function(t){t.preventDefault();p.hasClass(w,q)||f[u]()})});j.circular||f.on("switch",function(u){u=u.currentIndex;u=u===0?f[e]:u===f.length-1?f[n]:r;p.removeClass([f[e],f[n]],
q);u&&p.addClass(u,q)});h.on(f.panels,"click focus",function(){f.fire("itemSelected",{item:this})})}var p=c.DOM,h=c.Event,i=".",e="prevBtn",n="nextBtn",l={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(o,c.Switchable);c.Carousel=o});
KISSY.add("accordion",function(c){function r(p,h){if(!(this instanceof r))return new r(p,h);r.superclass.constructor.call(this,p,c.merge(s,h))}var o=c.DOM,s={markupType:1,triggerType:"click",multiple:false};c.extend(r,c.Switchable);c.Accordion=r;c.augment(r,{_triggerIsValid:function(p){return this.activeIndex!==p||this.config.multiple},_switchView:function(p,h,i){var e=this.config,n=h[0];if(e.multiple){o.toggleClass(this.triggers[i],e.activeTriggerCls);o.css(n,"display",n.style.display=="none"?"block":
"none");this._fireOnSwitch(i)}else r.superclass._switchView.call(this,p,h,i)}})});
KISSY.add("suggest",function(c,r){function o(b,d,g){if(!(this instanceof o))return new o(b,d,g);this.textInput=c.get(b);d+=d.indexOf("?")===-1?"?":"&";this.dataSource=d+"code=utf-8&callback="+q;this.config=c.merge(a,g);this.queryParams=this.query=u;this._dataCache={};this._init()}function s(b){b.style.visibility=u}function p(b){b.style.visibility=w}var h=c.DOM,i=c.Event,e=window,n=document,l,f=c.get("head"),j=c.UA.ie,q="g_ks_suggest_callback",u="",w="hidden",t=parseInt,a={containerCls:u,resultFormat:"\u7ea6%result%\u6761\u7ed3\u679c",
closeBtnText:"\u5173\u95ed",shim:j===6,submitOnSelect:true};c.augment(o,c.EventTarget,{_init:function(){l=n.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var b=this,d=b.textInput,g=false,m=0;h.attr(d,"autocomplete","off");b.config.autoFocus&&d.focus();i.on(d,"keydown",function(k){k=k.keyCode;if(k===27){b.hide();d.value=b.query}else if(k>32&&k<41)if(d.value){if(k===40||k===38)if(m++===0){b._isRunning&&
b.stop();g=true;b._selectItem(k===40)}else if(m==3)m=0}else d.blur();else if(k===13){d.blur();if(g)if(d.value==b._getSelectedItemKey())if(b.fire("itemSelect")===false)return;b._submitForm()}else{b._isRunning||b.start();g=false}});i.on(d,"keyup",function(){m=0});i.on(d,"blur",function(){b.stop();c.later(function(){b._focusing||b.hide()},0)})},_initContainer:function(){var b=h.create("<div>",{"class":"ks-suggest-container "+this.config.containerCls,style:"position: absolute; visibility: hidden"}),d=
h.create("<div>",{"class":"ks-suggest-content"}),g=h.create("<div>",{"class":"ks-suggest-footer"});b.appendChild(d);b.appendChild(g);l.insertBefore(b,l.firstChild);this.container=b;this.content=d;this.footer=g;this._setContainerRegion();this._initContainerEvent()},_setContainerRegion:function(){var b=this.textInput,d=h.offset(b),g=this.container;h.offset(g,{left:d.left,top:d.top+b.offsetHeight-1});h.width(g,this.config.containerWidth||b.offsetWidth-2)},_initContainerEvent:function(){var b=this,d=
b.textInput,g=b.container,m=b.content,k=b.footer,v,x;i.on(m,"mousemove",function(y){y=y.target;if(y.nodeName!=="LI")y=h.parent(y,"li");if(h.contains(m,y))if(y!==b.selectedItem){b._removeSelectedItem();b._setSelectedItem(y)}});i.on(m,"mousedown",function(y){y=y.target;if(y.nodeName!=="LI")y=h.parent(y,"li");v=y});i.on(g,"mousedown",function(y){if(y.target.nodeName!=="INPUT"){d.onbeforedeactivate=function(){e.event.returnValue=false;d.onbeforedeactivate=null};y.preventDefault()}});i.on(m,"mouseup",
function(y){y=y.target;if(h.parent(y,".ks-suggest-content")){if(y.nodeName!=="LI")y=h.parent(y,"li");if(y==v)if(h.contains(m,y)){b._updateInputFromSelectItem(y);if(b.fire("itemSelect")!==false){d.blur();b._submitForm()}}}});i.on(k,"focusin",function(){b._focusing=true;b._removeSelectedItem();x=false});i.on(k,"focusout",function(){b._focusing=false;c.later(function(){if(x)b.hide();else b._focusing||b.textInput.focus()},0)});i.on(b.container,"mouseleave",function(){x=true});i.on(k,"click",function(y){h.hasClass(y.target,
"ks-suggest-closebtn")&&b.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var b=this.textInput.form;if(b)if(this.fire("beforeSubmit",{form:b})!==false){if(n.createEvent){var d=n.createEvent("MouseEvents");d.initEvent("submit",true,false);b.dispatchEvent(d)}else n.createEventObject&&b.fireEvent("onsubmit");b.submit()}}},_initShim:function(){var b=h.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});this.container.shim=
b;this._setShimRegion();l.insertBefore(b,l.firstChild)},_setShimRegion:function(){var b=this.container.style,d=this.container.shim;d&&h.css(d,{left:t(b.left)-2,top:b.top,width:t(b.width)+2})},_initStyle:function(){c.get("#ks-suggest-style")||h.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var b=this;i.on(e,"resize",function(){b._setContainerRegion();b._setShimRegion()})},start:function(){var b=this;if(b.fire("beforeStart")!==false){o.focusInstance=b;b._timer=c.later(function(){b._updateContent();b._timer=c.later(arguments.callee,200)},200);b._isRunning=true}},stop:function(){o.focusInstance=r;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var b=this.container,d=b.shim;s(b);if(d){d.style.height||
h.height(d,b.offsetHeight-2);s(d)}}},hide:function(){if(this.isVisible()){var b=this.container,d=b.shim;d&&p(d);p(b)}},isVisible:function(){return this.container.style.visibility!=w},_updateContent:function(){var b=this.textInput;if(b.value!=this.query){b=this.query=b.value;if(c.trim(b))if(this._dataCache[b]!==r){this._fillContent(this._dataCache[b]);this._displayContainer()}else this._requestData();else{this._fillContent(u);this.hide()}}},_requestData:function(){var b=this,d;if(!j)b.dataScript=r;
if(!b.dataScript){d=n.createElement("script");d.charset="utf-8";d.async=true;f.insertBefore(d,f.firstChild);b.dataScript=d;if(!j){var g=c.now();b._latestScriptTime=g;h.attr(d,"data-time",g);i.on(d,"load",function(){b._scriptDataIsOut=h.attr(d,"data-time")!=b._latestScriptTime})}}b.queryParams="q="+encodeURIComponent(b.query);if(b.fire("beforeDataRequest")!==false)b.dataScript.src=b.dataSource+"&"+b.queryParams},_handleResponse:function(b){var d=u,g,m,k,v;if(!this._scriptDataIsOut){this.returnedData=
b;if(this.fire("dataReturn",{data:b})!==false){b=this._formatData(this.returnedData);if((g=b.length)>0){m=h.create("<ol>");for(d=0;d<g;++d){k=b[d];k=this._formatItem(v=k.key,k.result);h.attr(k,"key",v);h.addClass(k,d%2?"ks-even":"ks-odd");m.appendChild(k)}d=m}this._fillContent(d);this._fillFooter();if(this.fire("beforeShow")!==false){this._dataCache[this.query]=d;this._displayContainer()}}}},_formatData:function(b){var d=[],g,m,k,v=0;if(!b)return d;if(c.isArray(b.result))b=b.result;if(!(g=b.length))return d;
for(k=0;k<g;++k){m=b[k];if(c.isString(m))d[v++]={key:m};else if(c.isArray(m)&&m.length>1)d[v++]={key:m[0],result:m[1]}}return d},_formatItem:function(b,d){var g=h.create("<li>"),m=h.create("<span>",{"class":"ks-suggest-key"});h.html(m,b);g.appendChild(m);if(d){b=this.config.resultFormat.replace("%result%",d);if(c.trim(b)){d=h.create("<span>",{"class":"ks-suggest-result"});h.html(d,b);g.appendChild(d)}}return g},_fillFooter:function(){var b=this.config,d=this.footer,g;if(b.closeBtn){g=h.create("<a>",
{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});h.html(g,b.closeBtnText);d.appendChild(g)}this.fire("updateFooter")},_fillContent:function(b){var d=this.content;if(b.nodeType===1){h.html(d,u);d.appendChild(b)}else h.html(d,b);this.selectedItem=r},_displayContainer:function(){c.trim(h.html(this.container))?this.show():this.hide()},_selectItem:function(b){var d=c.query("li",this.container);if(d.length!==0)if(this.isVisible()){if(this.selectedItem){b=h[b?"next":"prev"](this.selectedItem);
if(!b)this.textInput.value=this.query}else b=d[b?0:d.length-1];this._removeSelectedItem();if(b){this._setSelectedItem(b);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){h.removeClass(this.selectedItem,"ks-selected");this.selectedItem=r},_setSelectedItem:function(b){h.addClass(b,"ks-selected");this.selectedItem=b;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return u;return h.attr(this.selectedItem,"key")},_updateInputFromSelectItem:function(){this.textInput.value=
this._getSelectedItemKey(this.selectedItem)||this.query}});e[q]=function(b){o.focusInstance&&c.later(function(){o.focusInstance._handleResponse(b)},0)};o.version=1.1;c.Suggest=o});
