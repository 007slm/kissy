/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Sep 30 18:00
*/
(function(a,k,t){if(a[k]===t)a[k]={};k=a[k];var l=a.document,m=location,p=function(e,n,r,j){if(!n||!e)return e;if(r===t)r=true;var g,b,d;if(j&&(d=j.length))for(g=0;g<d;g++){b=j[g];if(b in n)if(r||!(b in e))e[b]=n[b]}else for(b in n)if(r||!(b in e))e[b]=n[b];return e},o=false,i=[],w=false,z=/^#?([\w-]+)$/,v=0;p(k,{version:"1.1.5",__init:function(){this.Env={mods:{},_loadQueue:{}};var e=l.getElementsByTagName("script");this.Config={debug:"",base:e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(e){w||this._bindReady();o?e.call(a,this):i.push(e);return this},_bindReady:function(){var e=this,n=l.documentElement.doScroll,r=n?"onreadystatechange":"DOMContentLoaded",j=function(){e._fireReady()};w=true;if(l.readyState==="complete")return j();if(l.addEventListener){var g=function(){l.removeEventListener(r,g,false);j()};l.addEventListener(r,g,false);a.addEventListener("load",j,false)}else{var b=function(){if(l.readyState==="complete"){l.detachEvent(r,b);j()}};l.attachEvent(r,
b);a.attachEvent("onload",j);if(a==a.top){var d=function(){try{n("left");j()}catch(f){setTimeout(d,1)}};d()}}},_fireReady:function(){if(!o){o=true;if(i){for(var e,n=0;e=i[n++];)e.call(a,this);i=null}}},available:function(e,n){if((e=(e+"").match(z)[1])&&k.isFunction(n))var r=1,j=k.later(function(){if(l.getElementById(e)&&(n()||1)||++r>500)j.cancel()},40,true)},mix:p,merge:function(){var e={},n,r=arguments.length;for(n=0;n<r;++n)p(e,arguments[n]);return e},augment:function(){var e=arguments,n=e.length-
2,r=e[0],j=e[n],g=e[n+1],b=1;if(!k.isArray(g)){j=g;g=t;n++}if(!k.isBoolean(j)){j=t;n++}for(;b<n;b++)p(r.prototype,e[b].prototype||e[b],j,g);return r},extend:function(e,n,r,j){if(!n||!e)return e;var g=Object.prototype,b=n.prototype,d=function(f){function h(){}h.prototype=f;return new h}(b);e.prototype=d;d.constructor=e;e.superclass=b;if(n!==Object&&b.constructor===g.constructor)b.constructor=n;r&&p(d,r);j&&p(e,j);return e},namespace:function(){var e=arguments,n=e.length,r=null,j,g,b,d=e[n-1]===true&&
n--;for(j=0;j<n;++j){b=(""+e[j]).split(".");r=d?a:this;for(g=a[b[0]]===r?1:0;g<b.length;++g)r=r[b[g]]=r[b[g]]||{}}return r},app:function(e,n){var r=k.isString(e),j=r?a[e]||{}:e;p(j,this,true,k.__APP_MEMBERS);j.__init();p(j,k.isFunction(n)?n():n);r&&(a[e]=j);return j},log:function(e,n,r){if(k.Config.debug){if(r)e=r+": "+e;if(a.console!==t&&console.log)console[n&&console[n]?n:"log"](e)}},error:function(e){if(k.Config.debug)throw e;},guid:function(e){var n=v++ +"";return e?e+n:n}});k.__init();k.__APP_MEMBERS=
["__init","namespace"];if(m&&(m.search||"").indexOf("ks-debug")!==-1)k.Config.debug=true})(window,"KISSY");
(function(a,k,t){function l(c){var q=typeof c;return c===null||q!=="object"&&q!=="function"}function m(c){return i.slice.call(c)}var p=document,o=p.documentElement,i=Array.prototype,w=i.indexOf,z=i.lastIndexOf,v=i.filter,e=String.prototype.trim,n=Object.prototype.toString,r=encodeURIComponent,j=decodeURIComponent,g=r("[]"),b=/^\s+|\s+$/g,d=/^(\w+)\[\]$/,f=/\S/;k.mix(k,{isUndefined:function(c){return c===t},isBoolean:function(c){return n.call(c)==="[object Boolean]"},isString:function(c){return n.call(c)===
"[object String]"},isNumber:function(c){return n.call(c)==="[object Number]"&&isFinite(c)},isPlainObject:function(c){return c&&n.call(c)==="[object Object]"&&!c.nodeType&&!c.setInterval},isEmptyObject:function(c){for(var q in c)return false;return true},isFunction:function(c){return n.call(c)==="[object Function]"},isArray:function(c){return n.call(c)==="[object Array]"},trim:e?function(c){return c==t?"":e.call(c)}:function(c){return c==t?"":c.toString().replace(b,"")},substitute:function(c,q,u){if(!k.isString(c)||
!k.isPlainObject(q))return c;return c.replace(u||/\\?\{([^{}]+)\}/g,function(s,x){if(s.charAt(0)==="\\")return s.slice(1);return q[x]!==t?q[x]:""})},each:function(c,q,u){var s,x=0,y=c.length,A=y===t||k.isFunction(c);u=u||a;if(A)for(s in c){if(q.call(u,c[s],s,c)===false)break}else for(s=c[0];x<y&&q.call(u,s,x,c)!==false;s=c[++x]);return c},indexOf:w?function(c,q){return w.call(q,c)}:function(c,q){for(var u=0,s=q.length;u<s;++u)if(q[u]===c)return u;return-1},lastIndexOf:z?function(c,q){return z.call(q,
c)}:function(c,q){for(var u=q.length-1;u>=0;u--)if(q[u]===c)break;return u},unique:function(c,q){q&&c.reverse();for(var u=c.slice(),s=0,x,y;s<u.length;){for(y=u[s];(x=k.lastIndexOf(y,u))!==s;)u.splice(x,1);s+=1}q&&u.reverse();return u},inArray:function(c,q){return k.indexOf(c,q)>-1},makeArray:function(c){if(c===null||c===t)return[];if(k.isArray(c))return c;if(typeof c.length!=="number"||k.isString(c)||k.isFunction(c))return[c];return m(c)},filter:v?function(c,q,u){return v.call(c,q,u)}:function(c,
q,u){var s=[];k.each(c,function(x,y,A){q.call(u,x,y,A)&&s.push(x)});return s},param:function(c,q){if(!k.isPlainObject(c))return"";q=q||"&";var u=[],s,x;for(s in c){x=c[s];s=r(s);if(l(x))u.push(s,"=",r(x+""),q);else if(k.isArray(x)&&x.length)for(var y=0,A=x.length;y<A;++y)l(x[y])&&u.push(s,g+"=",r(x[y]+""),q)}u.pop();return u.join("")},unparam:function(c,q){if(typeof c!=="string"||(c=k.trim(c)).length===0)return{};for(var u={},s=c.split(q||"&"),x,y,A,B,D=0,C=s.length;D<C;++D){x=s[D].split("=");y=j(x[0]);
try{A=j(x[1]||"")}catch(E){A=x[1]||""}if((B=y.match(d))&&B[1]){u[B[1]]=u[B[1]]||[];u[B[1]].push(A)}else u[y]=A}return u},later:function(c,q,u,s,x){q=q||0;s=s||{};var y=c,A=k.makeArray(x),B;if(k.isString(c))y=s[c];y||k.error("method undefined");c=function(){y.apply(s,A)};B=u?setInterval(c,q):setTimeout(c,q);return{id:B,interval:u,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(c){var q=c,u,s;if(c&&((u=k.isArray(c))||k.isPlainObject(c))){q=u?[]:{};for(s in c)if(c.hasOwnProperty(s))q[s]=
k.clone(c[s])}return q},now:function(){return(new Date).getTime()},globalEval:function(c){if(c&&f.test(c)){var q=p.getElementsByTagName("head")[0]||o,u=p.createElement("script");u.text=c;q.insertBefore(u,q.firstChild);q.removeChild(u)}}});try{m(o.childNodes)}catch(h){m=function(c){for(var q=[],u=c.length-1;u>=0;u--)q[u]=c[u];return q}}})(window,KISSY);
(function(a,k,t){var l=a.document,m=l.getElementsByTagName("head")[0]||l.documentElement,p=2,o=3,i=4,w=k.mix,z=l.createElement("script").readyState?function(e,n){var r=e.onreadystatechange;e.onreadystatechange=function(){var j=e.readyState;if(j==="loaded"||j==="complete"){e.onreadystatechange=null;r&&r();n.call(this)}}}:function(e,n){e.addEventListener("load",n,false)},v=/\.css(?:\?|$)/i;a={add:function(e,n,r){var j=this.Env.mods,g;if(k.isString(e)&&!r&&k.isPlainObject(n)){g={};g[e]=n;e=g}if(k.isPlainObject(e)){k.each(e,
function(b,d){b.name=d;j[d]&&w(b,j[d],false)});w(j,e)}else{r=r||{};g=j[e]||{};e=r.host||g.host||e;g=j[e]||{};w(g,{name:e,status:p});if(!g.fns)g.fns=[];n&&g.fns.push(n);w(j[e]=g,r);g.attach!==false&&this.__isAttached(g.requires)&&this.__attachMod(g)}return this},use:function(e,n,r){e=e.replace(/\s+/g,"").split(",");r=r||{};var j=this,g=j.Env.mods,b=(r||0).global,d,f=e.length,h,c,q;b&&j.__mixMods(b);if(j.__isAttached(e))n&&n(j);else{for(d=0;d<f&&(h=g[e[d]]);d++)if(h.status!==i){if(r.order&&d>0){if(!h.requires)h.requires=
[];h._requires=h.requires.concat();c=e[d-1];if(!k.inArray(c,h.requires)&&!k.inArray(h.name,g[c].requires||[]))h.requires.push(c)}j.__attach(h,function(){if(!q&&j.__isAttached(e)){q=true;if(h._requires)h.requires=h._requires;n&&n(j)}},b)}return j}},__attach:function(e,n,r){function j(){if(g.__isAttached(b)){e.status===p&&g.__attachMod(e);e.status===i&&n()}}for(var g=this,b=e.requires||[],d=0,f=b.length;d<f;d++)g.__attach(g.Env.mods[b[d]],j,r);g.__buildPath(e);g.__load(e,j,r)},__mixMods:function(e){var n=
this.Env.mods,r=e.Env.mods,j;for(j in r)this.__mixMod(n,r,j,e)},__mixMod:function(e,n,r,j){var g=e[r]||{},b=g.status;k.mix(g,k.clone(n[r]));if(b)g.status=b;j&&this.__buildPath(g,j.Config.base);e[r]=g},__attachMod:function(e){var n=this;if(e.fns){k.each(e.fns,function(r){r&&r(n)});e.fns=t}e.status=i},__isAttached:function(e){for(var n=this.Env.mods,r,j=(e=k.makeArray(e)).length-1;j>=0&&(r=n[e[j]]);j--)if(r.status!==i)return false;return true},__load:function(e,n,r){function j(){d[b]=p;if(e.status!==
o){r&&g.__mixMod(g.Env.mods,r.Env.mods,e.name,r);if(e.status!==i)e.status=p;n()}}var g=this,b=e.fullpath,d=k.Env._loadQueue,f=d[b];e.status=e.status||0;if(e.status<1&&f)e.status=f.nodeName?1:p;if(k.isString(e.cssfullpath)){g.getScript(e.cssfullpath);e.cssfullpath=p}if(e.status<1&&b){e.status=1;f=g.getScript(b,{success:function(){KISSY.log(e.name+" is loaded.","info");j()},error:function(){e.status=o;d[b]=p},charset:e.charset});v.test(b)||(d[b]=f)}else e.status===1?z(f,j):n()},__buildPath:function(e,
n){function r(g,b){if(!e[b]&&e[g])e[b]=(n||j.base)+e[g];if(e[b]&&j.debug)e[b]=e[b].replace(/-min/g,"")}var j=this.Config;r("path","fullpath");e.cssfullpath!==p&&r("csspath","cssfullpath")},getScript:function(e,n,r){var j=v.test(e),g=l.createElement(j?"link":"script"),b=n,d,f,h;if(k.isPlainObject(b)){n=b.success;d=b.error;f=b.timeout;r=b.charset}if(j){g.href=e;g.rel="stylesheet"}else{g.src=e;g.async=true}if(r)g.charset=r;if(k.isFunction(n))j?n.call(g):z(g,function(){if(h){h.cancel();h=t}n.call(g)});
if(k.isFunction(d))h=k.later(function(){h=t;d()},(f||this.Config.timeout)*1E3);m.insertBefore(g,m.firstChild);return g}};w(k,a);k.each(a,function(e,n){k.__APP_MEMBERS.push(n)})})(window,KISSY);(function(a){var k={core:{path:"packages/core-min.js",charset:"utf-8"}};a.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(t){k[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});k.calendar.csspath="calendar/default-min.css";a.add(k)})(KISSY);
KISSY.add("ua",function(a){var k=navigator.userAgent,t="",l="",m,p={},o=function(i){var w=0;return parseFloat(i.replace(/\./g,function(){return w++===0?".":""}))};if((m=k.match(/AppleWebKit\/([\d.]*)/))&&m[1]){p[t="webkit"]=o(m[1]);if((m=k.match(/Chrome\/([\d.]*)/))&&m[1])p[l="chrome"]=o(m[1]);else if((m=k.match(/\/([\d.]*) Safari/))&&m[1])p[l="safari"]=o(m[1]);if(/ Mobile\//.test(k))p.mobile="apple";else if(m=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))p.mobile=m[0].toLowerCase()}else if((m=
k.match(/Presto\/([\d.]*)/))&&m[1]){p[t="presto"]=o(m[1]);if((m=k.match(/Opera\/([\d.]*)/))&&m[1]){p[l="opera"]=o(m[1]);if((m=k.match(/Opera\/.* Version\/([\d.]*)/))&&m[1])p[l]=o(m[1]);if((m=k.match(/Opera Mini[^;]*/))&&m)p.mobile=m[0].toLowerCase();else if((m=k.match(/Opera Mobi[^;]*/))&&m)p.mobile=m[0]}}else if((m=k.match(/MSIE\s([^;]*)/))&&m[1]){p[t="trident"]=0.1;p[l="ie"]=o(m[1]);if((m=k.match(/Trident\/([\d.]*)/))&&m[1])p[t]=o(m[1])}else if(m=k.match(/Gecko/)){p[t="gecko"]=0.1;if((m=k.match(/rv:([\d.]*)/))&&
m[1])p[t]=o(m[1]);if((m=k.match(/Firefox\/([\d.]*)/))&&m[1])p[l="firefox"]=o(m[1])}p.core=t;p.shell=l;p._numberify=o;a.UA=p});
KISSY.add("ua-extra",function(a){var k=a.UA,t=navigator.userAgent,l,m,p={},o=k._numberify;if(t.match(/360SE/))p[m="se360"]=3;else if(t.match(/Maxthon/)&&(l=window.external)){m="maxthon";try{p[m]=o(l.max_version)}catch(i){p[m]=0.1}}else if(l=t.match(/TencentTraveler\s([\d.]*)/))p[m="tt"]=l[1]?o(l[1]):0.1;else if(t.match(/TheWorld/))p[m="theworld"]=3;else if(l=t.match(/SE\s([\d.]*)/))p[m="sougou"]=l[1]?o(l[1]):0.1;m&&(p.shell=m);a.mix(k,p)});
KISSY.add("dom",function(a,k){function t(l,m){return l&&l.nodeType===m}a.DOM={_isElementNode:function(l){return t(l,1)},_isKSNode:function(l){return a.Node&&t(l,a.Node.TYPE)},_getWin:function(l){return l&&"scrollTo"in l&&l.document?l:t(l,9)?l.defaultView||l.parentWindow:l===k?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(a,k){function t(b,d){var f,h,c=[],q;d=l(d);if(a.isString(b)){b=a.trim(b);if(j.test(b)){if(h=m(b.slice(1),d))c=[h]}else if(f=g.exec(b)){h=f[1];q=f[2];f=f[3];if(d=h?m(h,d):d)if(f)if(!h||b.indexOf(v)!==-1)c=o(f,q,d);else{if((h=m(h,d))&&z.hasClass(h,f))c=[h]}else if(q)c=p(q,d)}else if(a.ExternalSelector)return a.ExternalSelector(b,d);else i(b)}else if(b&&(b[n]||b[r]))c=b[n]?[b[n]()]:b[r]();else if(b&&(a.isArray(b)||b&&!b.nodeType&&b.item&&b!=window))c=b;else if(b)c=[b];if(c&&
!c.nodeType&&c.item&&c!=window)c=a.makeArray(c);c.each=function(u,s){return a.each(c,u,s)};return c}function l(b){if(b===k)b=w;else if(a.isString(b)&&j.test(b))b=m(b.slice(1),w);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function m(b,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(b)}function p(b,d){return d.getElementsByTagName(b)}function o(b,d,f){f=b=f.getElementsByClassName(b);var h=0,c=0,q=b.length,u;if(d&&d!==e){f=[];for(d=d.toUpperCase();h<q;++h){u=b[h];if(u.tagName===
d)f[c++]=u}}return f}function i(b){a.error("Unsupported selector: "+b)}var w=document,z=a.DOM,v=" ",e="*",n="getDOMNode",r=n+"s",j=/^#[\w-]+$/,g=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=w.createElement("div");b.appendChild(w.createComment(""));if(b.getElementsByTagName(e).length>0)p=function(d,f){var h=f.getElementsByTagName(d);if(d===e){for(var c=[],q=0,u=0,s;s=h[q++];)if(s.nodeType===1)c[u++]=s;h=c}return h}})();w.getElementsByClassName||(o=w.querySelectorAll?function(b,d,
f){return f.querySelectorAll((d?d:"")+"."+b)}:function(b,d,f){d=f.getElementsByTagName(d||e);f=[];var h=0,c=0,q=d.length,u,s;for(b=v+b+v;h<q;++h){u=d[h];if((s=u.className)&&(v+s+v).indexOf(b)>-1)f[c++]=u}return f});a.query=t;a.get=function(b,d){return t(b,d)[0]||null};a.mix(z,{query:t,get:a.get,filter:function(b,d){var f=t(b),h,c,q,u=[];if(a.isString(d)&&(h=g.exec(d))&&!h[1]){c=h[2];q=h[3];d=function(s){return!(c&&s.tagName!==c.toUpperCase()||q&&!z.hasClass(s,q))}}if(a.isFunction(d))u=a.filter(f,
d);else if(d&&a.ExternalSelector)u=a.ExternalSelector._filter(b,d);else i(d);return u},test:function(b,d){var f=t(b);return z.filter(f,d).length===f.length}})});
KISSY.add("dom-data",function(a,k){var t=window,l=a.DOM,m="_ks_data_"+a.now(),p={},o={},i={EMBED:1,OBJECT:1,APPLET:1};a.mix(l,{data:function(w,z,v){if(a.isPlainObject(z))for(var e in z)l.data(w,e,z[e]);else if(v===k){w=a.get(w);var n;if(!(!w||i[w.nodeName])){if(w==t)w=o;n=(e=w&&w.nodeType)?p:w;w=n[e?w[m]:m];if(a.isString(z)&&w)return w[z];return w}}else a.query(w).each(function(r){if(!(!r||i[r.nodeName])){if(r==t)r=o;var j=p,g;if(r&&r.nodeType){if(!(g=r[m]))g=r[m]=a.guid()}else{g=m;j=r}if(z&&v!==
k){j[g]||(j[g]={});j[g][z]=v}}})},removeData:function(w,z){a.query(w).each(function(v){if(v){if(v==t)v=o;var e,n=p,r,j=v&&v.nodeType;if(j)e=v[m];else{n=v;e=m}if(e){r=n[e];if(z){if(r){delete r[z];a.isEmptyObject(r)&&l.removeData(v)}}else{if(j)v.removeAttribute&&v.removeAttribute(m);else try{delete v[m]}catch(g){}j&&delete n[e]}}}})}})});
KISSY.add("dom-class",function(a,k){function t(o,i,w,z){if(!(i=a.trim(i)))return z?false:k;o=a.query(o);var v=0,e=o.length;i=i.split(m);for(var n;v<e;v++){n=o[v];if(l._isElementNode(n)){n=w(n,i,i.length);if(n!==k)return n}}if(z)return false}var l=a.DOM,m=/[\.\s]\s*\.?/,p=/[\n\t]/g;a.mix(l,{hasClass:function(o,i){return t(o,i,function(w,z,v){if(w=w.className){w=" "+w+" ";for(var e=0,n=true;e<v;e++)if(w.indexOf(" "+z[e]+" ")<0){n=false;break}if(n)return true}},true)},addClass:function(o,i){t(o,i,function(w,
z,v){var e=w.className;if(e){var n=" "+e+" ";e=e;for(var r=0;r<v;r++)if(n.indexOf(" "+z[r]+" ")<0)e+=" "+z[r];w.className=a.trim(e)}else w.className=i})},removeClass:function(o,i){t(o,i,function(w,z,v){var e=w.className;if(e)if(v){e=(" "+e+" ").replace(p," ");for(var n=0,r;n<v;n++)for(r=" "+z[n]+" ";e.indexOf(r)>=0;)e=e.replace(r," ");w.className=a.trim(e)}else w.className=""})},replaceClass:function(o,i,w){l.removeClass(o,i);l.addClass(o,w)},toggleClass:function(o,i,w){var z=a.isBoolean(w),v;t(o,
i,function(e,n,r){for(var j=0,g;j<r;j++){g=n[j];v=z?!w:l.hasClass(e,g);l[v?"removeClass":"addClass"](e,g)}})}})});
KISSY.add("dom-attr",function(a,k){var t=a.UA,l=t.ie,m=l&&l<8,p=document.documentElement.textContent!==k?"textContent":"innerText",o=a.DOM,i=o._isElementNode,w=/^(?:href|src|style)/,z=/^(?:href|src|colspan|rowspan)/,v=/\r/g,e=/^(?:radio|checkbox)/,n={readonly:"readOnly"},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};m&&a.mix(n,{"for":"htmlFor","class":"className"});a.mix(o,{attr:function(j,g,b,d){if(a.isPlainObject(g)){d=b;for(var f in g)o.attr(j,f,g[f],d)}else if(g=a.trim(g)){g=
g.toLowerCase();if(d&&r[g])return o[g](j,b);g=n[g]||g;if(b===k){j=a.get(j);if(!i(j))return k;var h;w.test(g)||(h=j[g]);if(h===k)h=j.getAttribute(g);if(m)if(z.test(g))h=j.getAttribute(g,2);else if(g==="style")h=j.style.cssText;return h===null?k:h}a.each(a.query(j),function(c){if(i(c))if(g==="style")c.style.cssText=b;else{if(g==="checked")c[g]=!!b;c.setAttribute(g,""+b)}})}},removeAttr:function(j,g){a.each(a.query(j),function(b){if(i(b)){o.attr(b,g,"");b.removeAttribute(g)}})},val:function(j,g){if(g===
k){var b=a.get(j);if(!i(b))return k;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var d=b.selectedIndex,f=b.options;if(d<0)return null;else if(b.type==="select-one")return o.val(f[d]);b=[];for(var h=0,c=f.length;h<c;++h)f[h].selected&&b.push(o.val(f[h]));return b}if(t.webkit&&e.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(v,"")}a.each(a.query(j),
function(q){if(q&&q.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(g))g+="";var u=a.makeArray(g),s=q.options,x;h=0;for(c=s.length;h<c;++h){x=s[h];x.selected=a.inArray(o.val(x),u)}if(!u.length)q.selectedIndex=-1}else if(i(q))q.value=g})},text:function(j,g){if(g===k){var b=a.get(j);if(i(b))return b[p]||"";else if(o._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(j),function(d){if(i(d))d[p]=g;else if(o._nodeTypeIs(d,3))d.nodeValue=g})}})});
KISSY.add("dom-style",function(a,k){function t(d,f){var h=a.get(d),c=f===w?h.offsetWidth:h.offsetHeight;a.each(f===w?["Left","Right"]:["Top","Bottom"],function(q){c-=parseFloat(m._getComputedStyle(h,"padding"+q))||0;c-=parseFloat(m._getComputedStyle(h,"border"+q+"Width"))||0});return c}function l(d,f,h){var c=h;if(h===z&&e.test(f)){c=0;if(m.css(d,"position")==="absolute"){h=d[f==="left"?"offsetLeft":"offsetTop"];if(p.ie===8||p.opera)h-=v(m.css(d.offsetParent,"border-"+f+"-width"))||0;c=h-(v(m.css(d,
"margin-"+f))||0)}}return c}var m=a.DOM,p=a.UA,o=document,i=o.documentElement,w="width",z="auto",v=parseInt,e=/^(?:left|top)/,n=/^(?:width|height|top|left|right|bottom|margin|padding)/i,r=/-([a-z])/ig,j=function(d,f){return f.toUpperCase()},g={},b={};a.mix(m,{_CUSTOM_STYLES:g,_getComputedStyle:function(d,f){var h="",c=d.ownerDocument;if(d.style)h=c.defaultView.getComputedStyle(d,null)[f];return h},css:function(d,f,h){if(a.isPlainObject(f))for(var c in f)m.css(d,c,f[c]);else{if(f.indexOf("-")>0)f=
f.replace(r,j);f=g[f]||f;if(h===k){d=a.get(d);c="";if(d&&d.style){c=f.get?f.get(d):d.style[f];if(c===""&&!f.get)c=l(d,f,m._getComputedStyle(d,f))}return c===k?"":c}else{if(h===null||h==="")h="";else if(!isNaN(new Number(h))&&n.test(f))h+="px";(f===w||f==="height")&&parseFloat(h)<0||a.each(a.query(d),function(q){if(q&&q.style){f.set?f.set(q,h):q.style[f]=h;if(h==="")q.style.cssText||q.removeAttribute("style")}})}}},width:function(d,f){if(f===k)return t(d,w);else m.css(d,w,f)},height:function(d,f){if(f===
k)return t(d,"height");else m.css(d,"height",f)},show:function(d){a.query(d).each(function(f){if(f){f.style.display=m.data(f,"display")||"";if(m.css(f,"display")==="none"){var h=f.tagName,c=b[h],q;if(!c){q=o.createElement(h);o.body.appendChild(q);c=m.css(q,"display");m.remove(q);b[h]=c}m.data(f,"display",c);f.style.display=c}}})},hide:function(d){a.query(d).each(function(f){if(f){var h=f.style,c=h.display;if(c!=="none"){c&&m.data(f,"display",c);h.display="none"}}})},toggle:function(d){a.query(d).each(function(f){if(f)f.style.display===
"none"?m.show(f):m.hide(f)})},addStyleSheet:function(d,f){var h;if(f)h=a.get("#"+f);if(!h){h=m.create("<style>",{id:f});a.get("head").appendChild(h);if(h.styleSheet)h.styleSheet.cssText=d;else h.appendChild(o.createTextNode(d))}}});if(i.style.cssFloat!==k)g["float"]="cssFloat";else if(i.style.styleFloat!==k)g["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,k){if(a.UA.ie){var t=a.DOM,l=document,m=l.documentElement,p=t._CUSTOM_STYLES,o=/^-?\d+(?:px)?$/i,i=/^-?\d/,w=/^(?:width|height)$/;try{if(m.style.opacity===k&&m.filters)p.opacity={get:function(v){var e=100;try{e=v.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(n){try{e=v.filters("alpha").opacity}catch(r){}}return e/100+""},set:function(v,e){var n=v.style,r=(v.currentStyle||0).filter||"";n.zoom=1;if(r)if(r=r.replace(/alpha\(opacity=.+\)/ig,""))r+=", ";
n.filter=r+"alpha(opacity="+e*100+")"}}}catch(z){}if(!(l.defaultView||{}).getComputedStyle&&m.currentStyle)t._getComputedStyle=function(v,e){var n=v.style,r=v.currentStyle[e];if(w.test(e))r=t[e](v)+"px";else if(!o.test(r)&&i.test(r)){var j=n.left,g=v.runtimeStyle.left;v.runtimeStyle.left=v.currentStyle.left;n.left=e==="fontSize"?"1em":r||0;r=n.pixelLeft+"px";n.left=j;v.runtimeStyle.left=g}return r}}});
KISSY.add("dom-offset",function(a,k){function t(h){var c=0,q=0,u=z(h[r]);if(h[f]){h=h[f]();c=h[j];q=h[g];if(m.mobile!=="apple"){c+=l[b](u);q+=l[d](u)}}return{left:c,top:q}}var l=a.DOM,m=a.UA,p=window,o=document,i=l._isElementNode,w=l._nodeTypeIs,z=l._getWin,v=o.compatMode==="CSS1Compat",e=Math.max,n=parseInt,r="ownerDocument",j="left",g="top",b="scrollLeft",d="scrollTop",f="getBoundingClientRect";a.mix(l,{offset:function(h,c){if(!(h=a.get(h))||!h[r])return null;if(c===k)return t(h);var q=h;if(l.css(q,
"position")==="static")q.style.position="relative";var u=t(q),s={},x,y;for(y in c){x=n(l.css(q,y),10)||0;s[y]=x+c[y]-u[y]}l.css(q,s)},scrollIntoView:function(h,c,q,u){if((h=a.get(h))&&h[r]){u=u===k?true:!!u;q=q===k?true:!!q;if(!c||c===p)return h.scrollIntoView(q);c=a.get(c);if(w(c,9))c=z(c);var s=c&&"scrollTo"in c&&c.document,x=l.offset(h),y=s?{left:l.scrollLeft(c),top:l.scrollTop(c)}:l.offset(c),A={left:x[j]-y[j],top:x[g]-y[g]};x=s?l.viewportHeight(c):c.clientHeight;y=s?l.viewportWidth(c):c.clientWidth;
var B=l[b](c),D=l[d](c),C=B+y,E=D+x,H=h.offsetHeight;h=h.offsetWidth;var G=A.left+B-(n(l.css(c,"borderLeftWidth"))||0);A=A.top+D-(n(l.css(c,"borderTopWidth"))||0);var I=G+h,K=A+H,F,J;if(H>x||A<D||q)F=A;else if(K>E)F=K-x;if(u)if(h>y||G<B||q)J=G;else if(I>C)J=I-y;if(s){if(F!==k||J!==k)c.scrollTo(J,F)}else{if(F!==k)c[d]=F;if(J!==k)c[b]=J}}}});a.each(["Left","Top"],function(h,c){var q="scroll"+h;l[q]=function(u){var s=0,x=z(u),y;if(x&&(y=x.document))s=x[c?"pageYOffset":"pageXOffset"]||y.documentElement[q]||
y.body[q];else if(i(u=a.get(u)))s=u[q];return s}});a.each(["Width","Height"],function(h){l["doc"+h]=function(c){c=c||o;return e(v?c.documentElement["scroll"+h]:c.body["scroll"+h],l["viewport"+h](c))};l["viewport"+h]=function(c){var q="inner"+h;c=z(c);var u=c.document;return q in c?c[q]:v?u.documentElement["client"+h]:u.body["client"+h]}})});
KISSY.add("dom-traversal",function(a,k){function t(o,i,w,z){if(!(o=a.get(o)))return null;if(i===k)i=1;var v=null,e,n;if(a.isNumber(i)&&i>=0){if(i===0)return o;e=0;n=i;i=function(){return++e===n}}for(;o=o[w];)if(p(o)&&(!i||m.test(o,i))&&(!z||z(o))){v=o;break}return v}function l(o,i,w){var z=[];var v=o=a.get(o);if(o&&w)v=o.parentNode;if(v){w=0;for(v=v.firstChild;v;v=v.nextSibling)if(p(v)&&v!==o&&(!i||m.test(v,i)))z[w++]=v}return z}var m=a.DOM,p=m._isElementNode;a.mix(m,{parent:function(o,i){return t(o,
i,"parentNode",function(w){return w.nodeType!=11})},next:function(o,i){return t(o,i,"nextSibling")},prev:function(o,i){return t(o,i,"previousSibling")},siblings:function(o,i){return l(o,i,true)},children:function(o,i){return l(o,i)},contains:function(o,i){var w=false;if((o=a.get(o))&&(i=a.get(i)))if(o.contains)return o.contains(i);else if(o.compareDocumentPosition)return!!(o.compareDocumentPosition(i)&16);else for(;!w&&(i=i.parentNode);)w=i==o;return w}})});
KISSY.add("dom-create",function(a,k){function t(s){var x=s.cloneNode(true);if(i.ie<8)x.innerHTML=s.innerHTML;return x}function l(s,x,y,A){if(y){var B=a.guid("ks-tmp-"),D=RegExp(j);x+='<span id="'+B+'"></span>';a.available(B,function(){var C=a.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(x);)if((G=(H=E[1])?H.match(b):false)&&G[2]){E=p.createElement("script");E.src=G[2];if((I=H.match(d))&&I[2])E.charset=I[2];E.async=true;C.appendChild(E)}else if((F=E[2])&&F.length>0)a.globalEval(F);(K=p.getElementById(B))&&
o.remove(K);a.isFunction(A)&&A()});m(s,x)}else{m(s,x);a.isFunction(A)&&A()}}function m(s,x){x=(x+"").replace(j,"");try{s.innerHTML=x}catch(y){for(;s.firstChild;)s.removeChild(s.firstChild);x&&s.appendChild(o.create(x))}}var p=document,o=a.DOM,i=a.UA,w=i.ie,z=o._nodeTypeIs,v=o._isElementNode,e=o._isKSNode,n=p.createElement("div"),r=/<(\w+)/,j=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,g=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;a.mix(o,{create:function(s,
x,y){if(z(s,1)||z(s,3))return t(s);if(e(s))return t(s[0]);if(!(s=a.trim(s)))return null;var A=null;A=o._creators;var B,D="div",C;if(B=g.exec(s))A=(y||p).createElement(B[1]);else{if((B=r.exec(s))&&(C=B[1])&&a.isFunction(A[C=C.toLowerCase()]))D=C;s=A[D](s,y).childNodes;if(s.length===1)y=s[0].parentNode.removeChild(s[0]);else{s=s;C=y||p;y=null;if(s&&(s.push||s.item)&&s[0]){C=C||s[0].ownerDocument;y=C.createDocumentFragment();if(s.item)s=a.makeArray(s);C=0;for(A=s.length;C<A;C++)y.appendChild(s[C])}y=
y}A=y}y=A;v(y)&&a.isPlainObject(x)&&o.attr(y,x,true);return y},_creators:{div:function(s,x){var y=x?x.createElement("div"):n;y.innerHTML=s;return y}},html:function(s,x,y,A){if(x===k){s=a.get(s);if(v(s))return s.innerHTML}else a.each(a.query(s),function(B){v(B)&&l(B,x,y,A)})},remove:function(s){a.each(a.query(s),function(x){v(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(i.gecko||w){var f=o._creators,h=o.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,q={option:"select",td:"tr",
tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},u;for(u in q)(function(s){f[u]=function(x,y){return h("<"+s+">"+x+"</"+s+">",null,y)}})(q[u]);if(w){f.script=function(s,x){var y=x?x.createElement("div"):n;y.innerHTML="-"+s;y.removeChild(y.firstChild);return y};if(w<8)f.tbody=function(s,x){var y=h("<table>"+s+"</table>",null,x),A=y.children.tags("tbody")[0];y.children.length>1&&A&&!c.test(s)&&A.parentNode.removeChild(A);return y}}a.mix(f,{optgroup:f.option,th:f.td,thead:f.tbody,tfoot:f.tbody,
caption:f.tbody,colgroup:f.tbody})}});KISSY.add("dom-insertion",function(a){a.mix(a.DOM,{insertBefore:function(k,t){if((k=a.get(k))&&(t=a.get(t))&&t.parentNode)t.parentNode.insertBefore(k,t);return k},insertAfter:function(k,t){if((k=a.get(k))&&(t=a.get(t))&&t.parentNode)t.nextSibling?t.parentNode.insertBefore(k,t.nextSibling):t.parentNode.appendChild(k);return k}})});
KISSY.add("event",function(a,k){function t(j,g,b,d,f){if(a.isString(g))g=a.query(g);if(a.isArray(g)){a.each(g,function(h){r[j](h,b,d,f)});return true}if((b=a.trim(b))&&b.indexOf(v)>0){a.each(b.split(v),function(h){r[j](g,h,d,f)});return true}}function l(j,g){m(j)&&o.data(j,z,g)}function m(j){return j&&j.nodeType!==3&&j.nodeType!==8}var p=document,o=a.DOM,i=p.addEventListener?function(j,g,b,d){j.addEventListener&&j.addEventListener(g,b,!!d)}:function(j,g,b){j.attachEvent&&j.attachEvent("on"+g,b)},
w=p.removeEventListener?function(j,g,b,d){j.removeEventListener&&j.removeEventListener(g,b,!!d)}:function(j,g,b){j.detachEvent&&j.detachEvent("on"+g,b)},z="ksEventTargetId",v=" ",e=a.now(),n={},r={EVENT_GUID:z,special:{},add:function(j,g,b,d){if(!t("add",j,g,b,d)){var f=m(j)?o.data(j,z):-1,h,c,q,u,s;if(!(f===-1||!g||!a.isFunction(b))){if(!f){l(j,f=e++);n[f]={target:j,events:{}}}c=n[f].events;if(!c[g]){h=((f=!j.isCustomEventTarget)||j._supportSpecialEvent)&&r.special[g]||{};q=function(x,y){if(!x||
!x.fixed){x=new a.EventObject(j,x,g);a.isPlainObject(y)&&a.mix(x,y)}h.setup&&h.setup(x);return(h.handle||r._handle)(j,x,c[g].listeners)};c[g]={handle:q,listeners:[]};u=h.fix||g;s=h.capture;if(f)i(j,u,q,s);else j._addEvent&&j._addEvent(u,q,s)}c[g].listeners.push({fn:b,scope:d||j})}}},remove:function(j,g,b,d){if(!t("remove",j,g,b,d)){var f=m(j)?o.data(j,z):-1,h,c,q,u,s,x,y;if(f!==-1)if(f&&(h=n[f]))if(h.target===j){d=d||j;h=h.events||{};if(c=h[g]){q=c.listeners;x=q.length;if(a.isFunction(b)&&x){s=u=
0;for(y=[];u<x;++u)if(b!==q[u].fn||d!==q[u].scope)y[s++]=q[u];c.listeners=y;x=y.length}if(b===k||x===0){if(j.isCustomEventTarget)j._addEvent&&j._removeEvent(g,c.handle);else{b=r.special[g]||{};w(j,b.fix||g,c.handle)}delete h[g]}}if(g===k||a.isEmptyObject(h)){for(g in h)r.remove(j,g);delete n[f];o.removeData(j,z)}}}},_handle:function(j,g,b){b=b.slice(0);for(var d,f=0,h=b.length;f<h;++f){d=b[f];d=d.fn.call(d.scope||j,g);if(d===false&&j.isCustomEventTarget||g.isImmediatePropagationStopped)break}return d},
_getCache:function(j){return n[j]},_simpleAdd:i,_simpleRemove:w};r.on=r.add;a.Event=r});
KISSY.add("event-object",function(a,k){function t(p,o,i){this.currentTarget=p;this.originalEvent=o||{};if(o){this.type=o.type;this._fix()}else{this.type=i;this.target=p}this.currentTarget=p;this.fixed=true}var l=document,m="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(t,
{_fix:function(){var p=this.originalEvent,o=m.length,i,w=this.currentTarget;for(w=w.nodeType===9?w:w.ownerDocument||l;o;){i=m[--o];this[i]=p[i]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){p=w.documentElement;o=w.body;this.pageX=this.clientX+(p&&p.scrollLeft||o&&o.scrollLeft||
0)-(p&&p.clientLeft||o&&o.clientLeft||0);this.pageY=this.clientY+(p&&p.scrollTop||o&&o.scrollTop||0)-(p&&p.clientTop||o&&o.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var p=this.originalEvent;if(p.preventDefault)p.preventDefault();else p.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var p=
this.originalEvent;if(p.stopPropagation)p.stopPropagation();else p.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var p=this.originalEvent;p.stopImmediatePropagation?p.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(p){p?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=t});
KISSY.add("event-target",function(a,k){var t=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(l,m){var p=a.DOM.data(this,t.EVENT_GUID)||-1;if((p=((t._getCache(p)||{}).events||{})[l])&&a.isFunction(p.handle))return p.handle(k,m);return this},on:function(l,m,p){t.add(this,l,m,p);return this},detach:function(l,m,p){t.remove(this,l,m,p);return this}}});
KISSY.add("event-mouseenter",function(a){var k=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){k.special[t.name]={fix:t.fix,setup:function(l){l.type=t.name},handle:function(l,m,p){if(a.DOM._isKSNode(l))l=l[0];var o=m.relatedTarget;try{for(;o&&o!==l;)o=o.parentNode;o!==l&&k._handle(l,m,p)}catch(i){}}}})});
KISSY.add("event-focusin",function(a){var k=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){k.special[t.name]={fix:t.fix,capture:true,setup:function(l){l.type=t.name}}})});
KISSY.add("node",function(a){function k(l,m,p){if(!(this instanceof k))return new k(l,m,p);if(l){if(a.isString(l)){l=t.create(l,m,p);if(l.nodeType===11)return new a.NodeList(l.childNodes)}else if(l instanceof k)return l;else l=l;this[0]=l}else this.length=0}var t=a.DOM;k.TYPE="-ks-Node";a.augment(k,{length:1,getDOMNode:function(){return this[0]},nodeType:k.TYPE});a.one=function(l,m){var p=a.get(l,m);return p?new k(p):null};a.Node=k});
KISSY.add("nodelist",function(a){function k(m){if(!(this instanceof k))return new k(m);l.push.apply(this,a.makeArray(m)||[])}var t=a.DOM,l=Array.prototype;a.mix(k.prototype,{length:0,item:function(m){var p=null;if(t._isElementNode(this[m]))p=new a.Node(this[m]);return p},getDOMNodes:function(){return l.slice.call(this)},each:function(m,p){var o=this.length,i=0,w;for(w=new a.Node(this[0]);i<o&&m.call(p||w,w,i,this)!==false;w=new a.Node(this[++i]));return this}});a.all=function(m,p){return new k(a.query(m,
p,true))};a.NodeList=k});
KISSY.add("node-attach",function(a,k){function t(g,b,d,f){g=[this[g?e:v]()].concat(a.makeArray(b));if(b[d]===k)return f.apply(m,g);else{f.apply(m,g);return this}}function l(g,b){a.each(g,function(d){a.each([w,z],function(f,h){f[d]=function(c){switch(b){case n:return function(){return t.call(this,h,arguments,1,c)};case r:return function(){return t.call(this,h,arguments,0,c)};case j:return function(){var q=this[h?e:v]();return(q=c.apply(m,[q].concat(a.makeArray(arguments))))?new (a[a.isArray(q)?"NodeList":
"Node"])(q):null};default:return function(){var q=this[h?e:v]();q=c.apply(m,[q].concat(a.makeArray(arguments)));return q===k?this:q}}}(m[d])})})}var m=a.DOM,p=a.Event,o=m._nodeTypeIs,i=m._isKSNode,w=a.Node.prototype,z=a.NodeList.prototype,v="getDOMNode",e=v+"s",n=1,r=2,j=4;a.mix(w,{one:function(g){return a.one(g,this[0])},all:function(g){return a.all(g,this[0])}});l(["data","removeData"],n);l(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);l(["attr","removeAttr"],n);l(["val","text"],
r);l(["css"],n);l(["width","height"],r);l(["offset"],r);l(["scrollIntoView"]);l(["parent","next","prev","siblings","children"],j);l(["contains"]);l(["html"],r);l(["remove"]);a.each(["insertBefore","insertAfter"],function(g){w[g]=function(b){m[g].call(m,this[0],b);return this}});a.each([w,z],function(g,b){a.mix(g,{append:function(d){d&&a.each(this,function(f){var h;if(b||a.isString(d))h=m.create(d);else{if(o(d,1)||o(d,3))h=d;if(i(d))h=d[0]}f.appendChild(h)});return this},appendTo:function(d){if((d=
a.get(d))&&d.appendChild)a.each(this,function(f){d.appendChild(f)});return this}})});a.each([w,z],function(g){a.mix(g,a.EventTarget);g._supportSpecialEvent=true;g._addEvent=function(b,d,f){for(var h=0,c=this.length;h<c;h++)p._simpleAdd(this[h],b,d,f)};g._removeEvent=function(b,d,f){for(var h=0,c=this.length;h<c;h++)p._simpleRemove(this[h],b,d,f)};delete g.fire})});
KISSY.add("cookie",function(a){var k=document,t=encodeURIComponent,l=decodeURIComponent;a.Cookie={get:function(m){var p;if(a.isString(m)&&m!=="")if(m=k.cookie.match("(?:^| )"+m+"(?:(?:=([^;]*))|;|$)"))p=m[1]?l(m[1]):"";return p},set:function(m,p,o,i,w,z){p=t(p);var v=o;if(typeof v==="number"){v=new Date;v.setTime(v.getTime()+o*864E5)}if(v instanceof Date)p+="; expires="+v.toUTCString();if(a.isString(i)&&i!=="")p+="; domain="+i;if(a.isString(w)&&w!=="")p+="; path="+w;if(z)p+="; secure";k.cookie=m+
"="+p},remove:function(m,p,o,i){this.set(m,"",0,p,o,i)}}});
KISSY.add("json",function(a){function k(v){return v<10?"0"+v:v}function t(v){p.lastIndex=0;return p.test(v)?'"'+v.replace(p,function(e){var n=w[e];return typeof n==="string"?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function l(v,e){var n,r,j,g,b=o,d,f=e[v];if(f&&typeof f==="object"&&typeof f.toJSON==="function")f=f.toJSON(v);if(typeof z==="function")f=z.call(e,v,f);switch(typeof f){case "string":return t(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);
case "object":if(!f)return"null";o+=i;d=[];if(Object.prototype.toString.apply(f)==="[object Array]"){g=f.length;for(n=0;n<g;n+=1)d[n]=l(n,f)||"null";j=d.length===0?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+b+"]":"["+d.join(",")+"]";o=b;return j}if(z&&typeof z==="object"){g=z.length;for(n=0;n<g;n+=1){r=z[n];if(typeof r==="string")if(j=l(r,f))d.push(t(r)+(o?": ":":")+j)}}else for(r in f)if(Object.hasOwnProperty.call(f,r))if(j=l(r,f))d.push(t(r)+(o?": ":":")+j);j=d.length===0?"{}":o?"{\n"+o+d.join(",\n"+o)+
"\n"+b+"}":"{"+d.join(",")+"}";o=b;return j}}a=a.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var m=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,i,w={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;if(typeof a.stringify!=="function")a.stringify=function(v,e,n){var r;i=o="";if(typeof n==="number")for(r=0;r<n;r+=1)i+=" ";else if(typeof n==="string")i=n;if((z=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw Error("JSON.stringify");return l("",{"":v})};if(typeof a.parse!==
"function")a.parse=function(v,e){function n(j,g){var b,d,f=j[g];if(f&&typeof f==="object")for(b in f)if(Object.hasOwnProperty.call(f,b)){d=n(f,b);if(d!==undefined)f[b]=d;else delete f[b]}return e.call(j,g,f)}var r;v=String(v);m.lastIndex=0;if(m.test(v))v=v.replace(m,function(j){return"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(v.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){r=eval("("+v+")");return typeof e==="function"?n({"":r},""):r}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(a){var k=Math,t=k.PI,l=k.pow,m=k.sin,p=1.70158,o={easeNone:function(i){return i},easeIn:function(i){return i*i},easeOut:function(i){return(2-i)*i},easeBoth:function(i){return(i*=2)<1?0.5*i*i:0.5*(1- --i*(i-2))},easeInStrong:function(i){return i*i*i*i},easeOutStrong:function(i){return 1- --i*i*i*i},easeBothStrong:function(i){return(i*=2)<1?0.5*i*i*i*i:0.5*(2-(i-=2)*i*i*i)},elasticIn:function(i){if(i===0||i===1)return i;return-(l(2,10*(i-=1))*m((i-0.075)*2*t/0.3))},
elasticOut:function(i){if(i===0||i===1)return i;return l(2,-10*i)*m((i-0.075)*2*t/0.3)+1},elasticBoth:function(i){if(i===0||(i*=2)===2)return i;if(i<1)return-0.5*l(2,10*(i-=1))*m((i-0.1125)*2*t/0.45);return l(2,-10*(i-=1))*m((i-0.1125)*2*t/0.45)*0.5+1},backIn:function(i){if(i===1)i-=0.0010;return i*i*((p+1)*i-p)},backOut:function(i){return(i-=1)*i*((p+1)*i+p)+1},backBoth:function(i){if((i*=2)<1)return 0.5*i*i*(((p*=1.525)+1)*i-p);return 0.5*((i-=2)*i*(((p*=1.525)+1)*i+p)+2)},bounceIn:function(i){return 1-
o.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+0.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+0.9375:7.5625*(i-=2.625/2.75)*i+0.984375},bounceBoth:function(i){if(i<0.5)return o.bounceIn(i*2)*0.5;return o.bounceOut(i*2-1)*0.5+0.5}};o.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=o});
KISSY.add("anim",function(a,k){function t(b,d,f,h,c,q){if(b=a.get(b)){if(!(this instanceof t))return new t(b,d,f,h,c,q);var u=a.isPlainObject(f);d=d;this.domEl=b;if(a.isPlainObject(d))d=a.param(d,";").replace(/=/g,":");var s={},x=n.length,y;e.innerHTML='<div style="'+d+'"></div>';for(b=e.firstChild.style;x--;)if(y=b[n[x]])s[n[x]]=p(y);this.props=s;this.targetStyle=d;if(u)u=a.merge(g,f);else{u=a.clone(g);if(f)u.duration=v(f)||1;if(a.isString(h)||a.isFunction(h))u.easing=h;if(a.isFunction(c))u.complete=c;
if(q!==k)u.nativeSupport=q}this.config=u;if(u.nativeSupport&&l()&&a.isString(h=u.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(h)||(h=z.NativeTimeFunction[h])){u.easing=h;this.transitionName=l()}a.isFunction(c)&&this.on(j,c)}}function l(){var b="transition",d;if(e.style[b]!==k)d=b;else a.each(["Webkit","Moz","O"],function(f){if(e.style[b=f+"Transition"]!==k){d=b;return false}});l=function(){return d};return d}function m(b,d,f){a.UA.ie&&f.indexOf(r)>-1&&w.css(b,r,d[r].v);b.style.cssText+=";"+f}function p(b){var d=
v(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(d)?{v:b,u:"",f:i}:{v:d,u:b,f:o}}function o(b,d,f){return(b+(d-b)*f).toFixed(3)}function i(b,d,f){for(var h=2,c,q,u=[],s=[];c=3,q=arguments[h-1],h--;)if(q.substr(0,4)==="rgb(")for(q=q.match(/\d+/g);c--;)u.push(~~q[c]);else if(q.substr(0,1)==="#"){if(q.length===4)q="#"+q.substr(1,1)+q.substr(1,1)+q.substr(2,1)+q.substr(2,1)+q.substr(3,1)+q.substr(3,1);for(;c--;)u.push(parseInt(q.substr(1+c*2,2),16))}else return d;for(;c--;){h=~~(u[c+3]+(u[c]-u[c+3])*
f);s.push(h<0?0:h>255?255:h)}return"rgb("+s.join(",")+")"}var w=a.DOM,z=a.Easing,v=parseFloat,e=w.create("<div>"),n="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
r="opacity",j="complete",g={duration:1,easing:"easeNone",nativeSupport:true};a.augment(t,a.EventTarget,{run:function(){var b=this,d=b.config,f=b.domEl,h,c,q,u,s=b.props,x={},y;for(y in s)x[y]=p(w.css(f,y));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{h=d.duration*1E3;q=a.now();u=q+h;c=d.easing;if(a.isString(c))c=z[c]||z.easeNone;b.timer=a.later(d=function(){var A=a.now(),B=A>u?1:(A-q)/h,D,C,E;for(y in s){D=x[y];C=s[y];if(C.v==0)C.u=D.u;if(D.u!==C.u)D.v=0;w.css(f,y,
C.f(D.v,C.v,c(B))+C.u)}if(b.fire("step")===false||(E=A>u)){b.stop();E&&b.fire(j)}},13,true);d()}return b}},_nativeRun:function(){var b=this,d=b.config,f=b.domEl,h=b.props,c=d.duration*1E3;d=d.easing;var q=b.transitionName,u={};u[q+"Property"]="all";u[q+"Duration"]=c+"ms";u[q+"TimingFunction"]=d;w.css(f,u);a.later(function(){m(f,h,b.targetStyle)},0);a.later(function(){b.stop(true)},c)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=k}if(b){m(this.domEl,
this.props,this.targetStyle);this.fire(j)}}return this},_nativeStop:function(b){var d=this.domEl,f=this.transitionName,h=this.props,c;if(b){w.css(d,f+"Property","none");this.fire(j)}else{for(c in h)w.css(d,c,w._getComputedStyle(d,c));w.css(d,f+"Property","none")}}});t.supportTransition=function(){return!!l()};a.Anim=t});
KISSY.add("anim-node-plugin",function(a,k){function t(j,g,b,d,f){if(g==="toggle"){f=l.css(j,p)===o?1:0;g="show"}if(f)l.css(j,p,l.data(j,p)||"");var h={};a.each(r[g],function(c){if(c===i)l.css(j,i,w);else if(c===z){h.opacity=f?1:0;f&&l.css(j,z,0)}else if(c===v){h.height=f?l.css(j,v)||j.naturalHeight:0;f&&l.css(j,v,0)}else if(c===e){h.width=f?l.css(j,e)||j.naturalWidth:0;f&&l.css(j,e,0)}});(new a.Anim(j,h,b,"easeOut",function(){if(!f){var c=j.style,q=c[p];if(q!==o){q&&l.data(j,p,q);c[p]=o}l.css(j,{height:n,
width:n,overflow:n,opacity:1})}d&&a.isFunction(d)&&d()})).run()}var l=a.DOM,m=a.Anim,p="display",o="none",i="overflow",w="hidden",z="opacity",v="height",e="width",n="auto",r={show:[i,z,v,e],fade:[z],slide:[i,v]};a.each([a.Node.prototype,a.NodeList.prototype],function(j){j.animate=function(){var g=a.makeArray(arguments);a.each(this,function(b){m.apply(k,[b].concat(g)).run()});return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(g,b){j[b]=function(d,f){l[b]&&arguments.length===0?l[b](this):a.each(this,function(h){t(h,g[0],d,f,g[1])});return this}})})});KISSY.add("core");
