/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Nov 9 20:09
*/
(function(a,n,v){if(a[n]===v)a[n]={};n=a[n];var o=a.document,d=location,i=function(g,p,r,m){if(!p||!g)return g;if(r===v)r=true;var k,b,f;if(m&&(f=m.length))for(k=0;k<f;k++){b=m[k];if(b in p)if(r||!(b in g))g[b]=p[b]}else for(b in p)if(r||!(b in g))g[b]=p[b];return g},l=false,e=[],s=false,y=/^#?([\w-]+)$/,t=0;i(n,{version:"1.1.5",__init:function(){this.Env={mods:{},_loadQueue:{}};var g=o.getElementsByTagName("script");this.Config={debug:"",base:g[g.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(g){s||this._bindReady();l?g.call(a,this):e.push(g);return this},_bindReady:function(){var g=this,p=o.documentElement.doScroll,r=p?"onreadystatechange":"DOMContentLoaded",m=function(){g._fireReady()};s=true;if(o.readyState==="complete")return m();if(o.addEventListener){var k=function(){o.removeEventListener(r,k,false);m()};o.addEventListener(r,k,false);a.addEventListener("load",m,false)}else{var b=function(){if(o.readyState==="complete"){o.detachEvent(r,b);m()}};o.attachEvent(r,
b);a.attachEvent("onload",m);if(a==a.top){var f=function(){try{p("left");m()}catch(h){setTimeout(f,1)}};f()}}},_fireReady:function(){if(!l){l=true;if(e){for(var g,p=0;g=e[p++];)g.call(a,this);e=null}}},available:function(g,p){if((g=(g+"").match(y)[1])&&n.isFunction(p))var r=1,m=n.later(function(){if(o.getElementById(g)&&(p()||1)||++r>500)m.cancel()},40,true)},mix:i,merge:function(){var g={},p,r=arguments.length;for(p=0;p<r;++p)i(g,arguments[p]);return g},augment:function(){var g=arguments,p=g.length-
2,r=g[0],m=g[p],k=g[p+1],b=1;if(!n.isArray(k)){m=k;k=v;p++}if(!n.isBoolean(m)){m=v;p++}for(;b<p;b++)i(r.prototype,g[b].prototype||g[b],m,k);return r},extend:function(g,p,r,m){if(!p||!g)return g;var k=Object.prototype,b=p.prototype,f=function(h){function j(){}j.prototype=h;return new j}(b);g.prototype=f;f.constructor=g;g.superclass=b;if(p!==Object&&b.constructor===k.constructor)b.constructor=p;r&&i(f,r);m&&i(g,m);return g},namespace:function(){var g=arguments,p=g.length,r=null,m,k,b,f=g[p-1]===true&&
p--;for(m=0;m<p;++m){b=(""+g[m]).split(".");r=f?a:this;for(k=a[b[0]]===r?1:0;k<b.length;++k)r=r[b[k]]=r[b[k]]||{}}return r},app:function(g,p){var r=n.isString(g),m=r?a[g]||{}:g;i(m,this,true,n.__APP_MEMBERS);m.__init();i(m,n.isFunction(p)?p():p);r&&(a[g]=m);return m},log:function(g,p,r){if(n.Config.debug){if(r)g=r+": "+g;if(a.console!==v&&console.log)console[p&&console[p]?p:"log"](g)}},error:function(g){if(n.Config.debug)throw g;},guid:function(g){var p=t++ +"";return g?g+p:p}});n.__init();n.__APP_MEMBERS=
["__init","namespace"];if(d&&(d.search||"").indexOf("ks-debug")!==-1)n.Config.debug=true})(window,"KISSY");
(function(a,n,v){function o(c){var q=typeof c;return c===null||q!=="object"&&q!=="function"}function d(c){return e.slice.call(c)}var i=document,l=i.documentElement,e=Array.prototype,s=e.indexOf,y=e.lastIndexOf,t=e.filter,g=String.prototype.trim,p=Object.prototype.toString,r=encodeURIComponent,m=decodeURIComponent,k=r("[]"),b=/^\s+|\s+$/g,f=/^(\w+)\[\]$/,h=/\S/;n.mix(n,{isUndefined:function(c){return c===v},isBoolean:function(c){return p.call(c)==="[object Boolean]"},isString:function(c){return p.call(c)===
"[object String]"},isNumber:function(c){return p.call(c)==="[object Number]"&&isFinite(c)},isPlainObject:function(c){return c&&p.call(c)==="[object Object]"&&!c.nodeType&&!c.setInterval},isEmptyObject:function(c){for(var q in c)return false;return true},isFunction:function(c){return p.call(c)==="[object Function]"},isArray:function(c){return p.call(c)==="[object Array]"},trim:g?function(c){return c==v?"":g.call(c)}:function(c){return c==v?"":c.toString().replace(b,"")},substitute:function(c,q,w){if(!n.isString(c)||
!n.isPlainObject(q))return c;return c.replace(w||/\\?\{([^{}]+)\}/g,function(u,x){if(u.charAt(0)==="\\")return u.slice(1);return q[x]!==v?q[x]:""})},each:function(c,q,w){var u,x=0,z=c.length,A=z===v||n.isFunction(c);w=w||a;if(A)for(u in c){if(q.call(w,c[u],u,c)===false)break}else for(u=c[0];x<z&&q.call(w,u,x,c)!==false;u=c[++x]);return c},indexOf:s?function(c,q){return s.call(q,c)}:function(c,q){for(var w=0,u=q.length;w<u;++w)if(q[w]===c)return w;return-1},lastIndexOf:y?function(c,q){return y.call(q,
c)}:function(c,q){for(var w=q.length-1;w>=0;w--)if(q[w]===c)break;return w},unique:function(c,q){q&&c.reverse();for(var w=c.slice(),u=0,x,z;u<w.length;){for(z=w[u];(x=n.lastIndexOf(z,w))!==u;)w.splice(x,1);u+=1}q&&w.reverse();return w},inArray:function(c,q){return n.indexOf(c,q)>-1},makeArray:function(c){if(c===null||c===v)return[];if(n.isArray(c))return c;if(typeof c.length!=="number"||n.isString(c)||n.isFunction(c))return[c];return d(c)},filter:t?function(c,q,w){return t.call(c,q,w)}:function(c,
q,w){var u=[];n.each(c,function(x,z,A){q.call(w,x,z,A)&&u.push(x)});return u},param:function(c,q){if(!n.isPlainObject(c))return"";q=q||"&";var w=[],u,x;for(u in c){x=c[u];u=r(u);if(o(x))w.push(u,"=",r(x+""),q);else if(n.isArray(x)&&x.length)for(var z=0,A=x.length;z<A;++z)o(x[z])&&w.push(u,k+"=",r(x[z]+""),q)}w.pop();return w.join("")},unparam:function(c,q){if(typeof c!=="string"||(c=n.trim(c)).length===0)return{};for(var w={},u=c.split(q||"&"),x,z,A,B,D=0,C=u.length;D<C;++D){x=u[D].split("=");z=m(x[0]);
try{A=m(x[1]||"")}catch(E){A=x[1]||""}if((B=z.match(f))&&B[1]){w[B[1]]=w[B[1]]||[];w[B[1]].push(A)}else w[z]=A}return w},later:function(c,q,w,u,x){q=q||0;u=u||{};var z=c,A=n.makeArray(x),B;if(n.isString(c))z=u[c];z||n.error("method undefined");c=function(){z.apply(u,A)};B=w?setInterval(c,q):setTimeout(c,q);return{id:B,interval:w,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(c){var q=c,w,u;if(c&&((w=n.isArray(c))||n.isPlainObject(c))){q=w?[]:{};for(u in c)if(c.hasOwnProperty(u))q[u]=
n.clone(c[u])}return q},now:function(){return(new Date).getTime()},globalEval:function(c){if(c&&h.test(c)){var q=i.getElementsByTagName("head")[0]||l,w=i.createElement("script");w.text=c;q.insertBefore(w,q.firstChild);q.removeChild(w)}}});try{d(l.childNodes)}catch(j){d=function(c){for(var q=[],w=c.length-1;w>=0;w--)q[w]=c[w];return q}}})(window,KISSY);
(function(a,n,v){var o=a.document,d=o.getElementsByTagName("head")[0]||o.documentElement,i=2,l=3,e=4,s=n.mix,y=o.createElement("script").readyState?function(g,p){var r=g.onreadystatechange;g.onreadystatechange=function(){var m=g.readyState;if(m==="loaded"||m==="complete"){g.onreadystatechange=null;r&&r();p.call(this)}}}:function(g,p){g.addEventListener("load",p,false)},t=/\.css(?:\?|$)/i;a={add:function(g,p,r){var m=this.Env.mods,k;if(n.isString(g)&&!r&&n.isPlainObject(p)){k={};k[g]=p;g=k}if(n.isPlainObject(g)){n.each(g,
function(b,f){b.name=f;m[f]&&s(b,m[f],false)});s(m,g)}else{r=r||{};k=m[g]||{};g=r.host||k.host||g;k=m[g]||{};s(k,{name:g,status:i});if(!k.fns)k.fns=[];p&&k.fns.push(p);s(m[g]=k,r);k.attach!==false&&this.__isAttached(k.requires)&&this.__attachMod(k)}return this},use:function(g,p,r){g=g.replace(/\s+/g,"").split(",");r=r||{};var m=this,k=m.Env.mods,b=(r||0).global,f,h=g.length,j,c,q;b&&m.__mixMods(b);if(m.__isAttached(g))p&&p(m);else{for(f=0;f<h&&(j=k[g[f]]);f++)if(j.status!==e){if(r.order&&f>0){if(!j.requires)j.requires=
[];j._requires=j.requires.concat();c=g[f-1];if(!n.inArray(c,j.requires)&&!n.inArray(j.name,k[c].requires||[]))j.requires.push(c)}m.__attach(j,function(){if(j._requires){j.requires=j._requires;delete j._requires}if(!q&&m.__isAttached(g)){q=true;p&&p(m)}},b)}return m}},__attach:function(g,p,r){function m(){if(k.__isAttached(b)){g.status===i&&k.__attachMod(g);g.status===e&&p()}}for(var k=this,b=g.requires||[],f=0,h=b.length;f<h;f++)k.__attach(k.Env.mods[b[f]],m,r);k.__buildPath(g);k.__load(g,m,r)},__mixMods:function(g){var p=
this.Env.mods,r=g.Env.mods,m;for(m in r)this.__mixMod(p,r,m,g)},__mixMod:function(g,p,r,m){var k=g[r]||{},b=k.status;n.mix(k,n.clone(p[r]));if(b)k.status=b;m&&this.__buildPath(k,m.Config.base);g[r]=k},__attachMod:function(g){var p=this;if(g.fns){n.each(g.fns,function(r){r&&r(p)});g.fns=v}g.status=e},__isAttached:function(g){for(var p=this.Env.mods,r,m=(g=n.makeArray(g)).length-1;m>=0&&(r=p[g[m]]);m--)if(r.status!==e)return false;return true},__load:function(g,p,r){function m(){f[b]=i;if(g.status!==
l){r&&k.__mixMod(k.Env.mods,r.Env.mods,g.name,r);if(g.status!==e)g.status=i;p()}}var k=this,b=g.fullpath,f=n.Env._loadQueue,h=f[b];g.status=g.status||0;if(g.status<1&&h)g.status=h.nodeName?1:i;if(n.isString(g.cssfullpath)){k.getScript(g.cssfullpath);g.cssfullpath=i}if(g.status<1&&b){g.status=1;h=k.getScript(b,{success:function(){KISSY.log(g.name+" is loaded.","info");m()},error:function(){g.status=l;f[b]=i},charset:g.charset});t.test(b)||(f[b]=h)}else g.status===1?y(h,m):p()},__buildPath:function(g,
p){function r(k,b){if(!g[b]&&g[k])g[b]=(p||m.base)+g[k];if(g[b]&&m.debug)g[b]=g[b].replace(/-min/g,"")}var m=this.Config;r("path","fullpath");g.cssfullpath!==i&&r("csspath","cssfullpath")},getScript:function(g,p,r){var m=t.test(g),k=o.createElement(m?"link":"script"),b=p,f,h,j;if(n.isPlainObject(b)){p=b.success;f=b.error;h=b.timeout;r=b.charset}if(m){k.href=g;k.rel="stylesheet"}else{k.src=g;k.async=true}if(r)k.charset=r;if(n.isFunction(p))m?p.call(k):y(k,function(){if(j){j.cancel();j=v}p.call(k)});
if(n.isFunction(f))j=n.later(function(){j=v;f()},(h||this.Config.timeout)*1E3);d.insertBefore(k,d.firstChild);return k}};s(n,a);n.each(a,function(g,p){n.__APP_MEMBERS.push(p)})})(window,KISSY);(function(a){var n={core:{path:"packages/core-min.js",charset:"utf-8"}};a.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(v){n[v]={path:v+"/"+v+"-pkg-min.js",requires:["core"],charset:"utf-8"}});n.calendar.csspath="calendar/default-min.css";a.add(n)})(KISSY);
KISSY.add("ua",function(a){var n=navigator.userAgent,v="",o="",d,i={},l=function(e){var s=0;return parseFloat(e.replace(/\./g,function(){return s++===0?".":""}))};if((d=n.match(/AppleWebKit\/([\d.]*)/))&&d[1]){i[v="webkit"]=l(d[1]);if((d=n.match(/Chrome\/([\d.]*)/))&&d[1])i[o="chrome"]=l(d[1]);else if((d=n.match(/\/([\d.]*) Safari/))&&d[1])i[o="safari"]=l(d[1]);if(/ Mobile\//.test(n))i.mobile="apple";else if(d=n.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))i.mobile=d[0].toLowerCase()}else if((d=
n.match(/Presto\/([\d.]*)/))&&d[1]){i[v="presto"]=l(d[1]);if((d=n.match(/Opera\/([\d.]*)/))&&d[1]){i[o="opera"]=l(d[1]);if((d=n.match(/Opera\/.* Version\/([\d.]*)/))&&d[1])i[o]=l(d[1]);if((d=n.match(/Opera Mini[^;]*/))&&d)i.mobile=d[0].toLowerCase();else if((d=n.match(/Opera Mobi[^;]*/))&&d)i.mobile=d[0]}}else if((d=n.match(/MSIE\s([^;]*)/))&&d[1]){i[v="trident"]=0.1;i[o="ie"]=l(d[1]);if((d=n.match(/Trident\/([\d.]*)/))&&d[1])i[v]=l(d[1])}else if(d=n.match(/Gecko/)){i[v="gecko"]=0.1;if((d=n.match(/rv:([\d.]*)/))&&
d[1])i[v]=l(d[1]);if((d=n.match(/Firefox\/([\d.]*)/))&&d[1])i[o="firefox"]=l(d[1])}i.core=v;i.shell=o;i._numberify=l;a.UA=i});
KISSY.add("ua-extra",function(a){var n=a.UA,v=navigator.userAgent,o,d,i={},l=n._numberify;if(v.match(/360SE/))i[d="se360"]=3;else if(v.match(/Maxthon/)&&(o=window.external)){d="maxthon";try{i[d]=l(o.max_version)}catch(e){i[d]=0.1}}else if(o=v.match(/TencentTraveler\s([\d.]*)/))i[d="tt"]=o[1]?l(o[1]):0.1;else if(v.match(/TheWorld/))i[d="theworld"]=3;else if(o=v.match(/SE\s([\d.]*)/))i[d="sougou"]=o[1]?l(o[1]):0.1;d&&(i.shell=d);a.mix(n,i)});
KISSY.add("dom",function(a,n){function v(o,d){return o&&o.nodeType===d}a.DOM={_isElementNode:function(o){return v(o,1)},_isKSNode:function(o){return a.Node&&v(o,a.Node.TYPE)},_getWin:function(o){return o&&"scrollTo"in o&&o.document?o:v(o,9)?o.defaultView||o.parentWindow:o===n?window:false},_nodeTypeIs:v}});
KISSY.add("selector",function(a,n){function v(b,f){var h,j,c=[],q;f=o(f);if(a.isString(b)){b=a.trim(b);if(m.test(b)){if(j=d(b.slice(1),f))c=[j]}else if(h=k.exec(b)){j=h[1];q=h[2];h=h[3];if(f=j?d(j,f):f)if(h)if(!j||b.indexOf(t)!==-1)c=l(h,q,f);else{if((j=d(j,f))&&y.hasClass(j,h))c=[j]}else if(q)c=i(q,f)}else if(a.ExternalSelector)return a.ExternalSelector(b,f);else e(b)}else if(b&&(b[p]||b[r]))c=b[p]?[b[p]()]:b[r]();else if(b&&(a.isArray(b)||b&&!b.nodeType&&b.item&&b!=window))c=b;else if(b)c=[b];if(c&&
!c.nodeType&&c.item&&c!=window)c=a.makeArray(c);c.each=function(w,u){return a.each(c,w,u)};return c}function o(b){if(b===n)b=s;else if(a.isString(b)&&m.test(b))b=d(b.slice(1),s);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function d(b,f){if(f.nodeType!==9)f=f.ownerDocument;return f.getElementById(b)}function i(b,f){return f.getElementsByTagName(b)}function l(b,f,h){h=b=h.getElementsByClassName(b);var j=0,c=0,q=b.length,w;if(f&&f!==g){h=[];for(f=f.toUpperCase();j<q;++j){w=b[j];if(w.tagName===
f)h[c++]=w}}return h}function e(b){a.error("Unsupported selector: "+b)}var s=document,y=a.DOM,t=" ",g="*",p="getDOMNode",r=p+"s",m=/^#[\w-]+$/,k=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=s.createElement("div");b.appendChild(s.createComment(""));if(b.getElementsByTagName(g).length>0)i=function(f,h){var j=h.getElementsByTagName(f);if(f===g){for(var c=[],q=0,w=0,u;u=j[q++];)if(u.nodeType===1)c[w++]=u;j=c}return j}})();s.getElementsByClassName||(l=s.querySelectorAll?function(b,f,
h){return h.querySelectorAll((f?f:"")+"."+b)}:function(b,f,h){f=h.getElementsByTagName(f||g);h=[];var j=0,c=0,q=f.length,w,u;for(b=t+b+t;j<q;++j){w=f[j];if((u=w.className)&&(t+u+t).indexOf(b)>-1)h[c++]=w}return h});a.query=v;a.get=function(b,f){return v(b,f)[0]||null};a.mix(y,{query:v,get:a.get,filter:function(b,f){var h=v(b),j,c,q,w=[];if(a.isString(f)&&(j=k.exec(f))&&!j[1]){c=j[2];q=j[3];f=function(u){return!(c&&u.tagName!==c.toUpperCase()||q&&!y.hasClass(u,q))}}if(a.isFunction(f))w=a.filter(h,
f);else if(f&&a.ExternalSelector)w=a.ExternalSelector._filter(b,f);else e(f);return w},test:function(b,f){var h=v(b);return y.filter(h,f).length===h.length}})});
KISSY.add("dom-data",function(a,n){var v=window,o=a.DOM,d="_ks_data_"+a.now(),i={},l={},e={EMBED:1,OBJECT:1,APPLET:1};a.mix(o,{data:function(s,y,t){if(a.isPlainObject(y))for(var g in y)o.data(s,g,y[g]);else if(t===n){s=a.get(s);var p;if(!(!s||e[s.nodeName])){if(s==v)s=l;p=(g=s&&s.nodeType)?i:s;s=p[g?s[d]:d];if(a.isString(y)&&s)return s[y];return s}}else a.query(s).each(function(r){if(!(!r||e[r.nodeName])){if(r==v)r=l;var m=i,k;if(r&&r.nodeType){if(!(k=r[d]))k=r[d]=a.guid()}else{k=d;m=r}if(y&&t!==
n){m[k]||(m[k]={});m[k][y]=t}}})},removeData:function(s,y){a.query(s).each(function(t){if(t){if(t==v)t=l;var g,p=i,r,m=t&&t.nodeType;if(m)g=t[d];else{p=t;g=d}if(g){r=p[g];if(y){if(r){delete r[y];a.isEmptyObject(r)&&o.removeData(t)}}else{if(m)t.removeAttribute&&t.removeAttribute(d);else try{delete t[d]}catch(k){}m&&delete p[g]}}}})}})});
KISSY.add("dom-class",function(a,n){function v(l,e,s,y){if(!(e=a.trim(e)))return y?false:n;l=a.query(l);var t=0,g=l.length;e=e.split(d);for(var p;t<g;t++){p=l[t];if(o._isElementNode(p)){p=s(p,e,e.length);if(p!==n)return p}}if(y)return false}var o=a.DOM,d=/[\.\s]\s*\.?/,i=/[\n\t]/g;a.mix(o,{hasClass:function(l,e){return v(l,e,function(s,y,t){if(s=s.className){s=" "+s+" ";for(var g=0,p=true;g<t;g++)if(s.indexOf(" "+y[g]+" ")<0){p=false;break}if(p)return true}},true)},addClass:function(l,e){v(l,e,function(s,
y,t){var g=s.className;if(g){var p=" "+g+" ";g=g;for(var r=0;r<t;r++)if(p.indexOf(" "+y[r]+" ")<0)g+=" "+y[r];s.className=a.trim(g)}else s.className=e})},removeClass:function(l,e){v(l,e,function(s,y,t){var g=s.className;if(g)if(t){g=(" "+g+" ").replace(i," ");for(var p=0,r;p<t;p++)for(r=" "+y[p]+" ";g.indexOf(r)>=0;)g=g.replace(r," ");s.className=a.trim(g)}else s.className=""})},replaceClass:function(l,e,s){o.removeClass(l,e);o.addClass(l,s)},toggleClass:function(l,e,s){var y=a.isBoolean(s),t;v(l,
e,function(g,p,r){for(var m=0,k;m<r;m++){k=p[m];t=y?!s:o.hasClass(g,k);o[t?"removeClass":"addClass"](g,k)}})}})});
KISSY.add("dom-attr",function(a,n){var v=a.UA,o=document.documentElement,d=!o.hasAttribute,i=o.textContent!==n?"textContent":"innerText",l=a.DOM,e=l._isElementNode,s=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,t=/\r/g,g=/^(?:radio|checkbox)/,p={readonly:"readOnly"},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};d&&a.mix(p,{"for":"htmlFor","class":"className"});a.mix(l,{attr:function(m,k,b,f){if(a.isPlainObject(k)){f=b;for(var h in k)l.attr(m,h,k[h],f)}else if(k=a.trim(k)){k=
k.toLowerCase();if(f&&r[k])return l[k](m,b);k=p[k]||k;if(b===n){m=a.get(m);if(!e(m))return n;var j;s.test(k)||(j=m[k]);if(j===n)j=m.getAttribute(k);if(d)if(y.test(k))j=m.getAttribute(k,2);else if(k==="style")j=m.style.cssText;return j===null?n:j}a.each(a.query(m),function(c){if(e(c))if(k==="style")c.style.cssText=b;else{if(k==="checked")c[k]=!!b;c.setAttribute(k,""+b)}})}},removeAttr:function(m,k){a.each(a.query(m),function(b){if(e(b)){l.attr(b,k,"");b.removeAttribute(k)}})},val:function(m,k){if(k===
n){var b=a.get(m);if(!e(b))return n;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var f=b.selectedIndex,h=b.options;if(f<0)return null;else if(b.type==="select-one")return l.val(h[f]);b=[];for(var j=0,c=h.length;j<c;++j)h[j].selected&&b.push(l.val(h[j]));return b}if(v.webkit&&g.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(t,"")}a.each(a.query(m),
function(q){if(q&&q.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(k))k+="";var w=a.makeArray(k),u=q.options,x;j=0;for(c=u.length;j<c;++j){x=u[j];x.selected=a.inArray(l.val(x),w)}if(!w.length)q.selectedIndex=-1}else if(e(q))q.value=k})},text:function(m,k){if(k===n){var b=a.get(m);if(e(b))return b[i]||"";else if(l._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(m),function(f){if(e(f))f[i]=k;else if(l._nodeTypeIs(f,3))f.nodeValue=k})}})});
KISSY.add("dom-style",function(a,n){function v(f,h){var j=a.get(f),c=h===s?j.offsetWidth:j.offsetHeight;a.each(h===s?["Left","Right"]:["Top","Bottom"],function(q){c-=parseFloat(d._getComputedStyle(j,"padding"+q))||0;c-=parseFloat(d._getComputedStyle(j,"border"+q+"Width"))||0});return c}function o(f,h,j){var c=j;if(j===y&&g.test(h)){c=0;if(d.css(f,"position")==="absolute"){j=f[h==="left"?"offsetLeft":"offsetTop"];if(i.ie===8||i.opera)j-=t(d.css(f.offsetParent,"border-"+h+"-width"))||0;c=j-(t(d.css(f,
"margin-"+h))||0)}}return c}var d=a.DOM,i=a.UA,l=document,e=l.documentElement,s="width",y="auto",t=parseInt,g=/^(?:left|top)/,p=/^(?:width|height|top|left|right|bottom|margin|padding)/i,r=/-([a-z])/ig,m=function(f,h){return h.toUpperCase()},k={},b={};a.mix(d,{_CUSTOM_STYLES:k,_getComputedStyle:function(f,h){var j="",c=f.ownerDocument;if(f.style)j=c.defaultView.getComputedStyle(f,null)[h];return j},css:function(f,h,j){if(a.isPlainObject(h))for(var c in h)d.css(f,c,h[c]);else{if(h.indexOf("-")>0)h=
h.replace(r,m);h=k[h]||h;if(j===n){f=a.get(f);c="";if(f&&f.style){c=h.get?h.get(f):f.style[h];if(c===""&&!h.get)c=o(f,h,d._getComputedStyle(f,h))}return c===n?"":c}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&p.test(h))j+="px";(h===s||h==="height")&&parseFloat(j)<0||a.each(a.query(f),function(q){if(q&&q.style){h.set?h.set(q,j):q.style[h]=j;if(j==="")q.style.cssText||q.removeAttribute("style")}})}}},width:function(f,h){if(h===n)return v(f,s);else d.css(f,s,h)},height:function(f,h){if(h===
n)return v(f,"height");else d.css(f,"height",h)},show:function(f){a.query(f).each(function(h){if(h){h.style.display=d.data(h,"display")||"";if(d.css(h,"display")==="none"){var j=h.tagName,c=b[j],q;if(!c){q=l.createElement(j);l.body.appendChild(q);c=d.css(q,"display");d.remove(q);b[j]=c}d.data(h,"display",c);h.style.display=c}}})},hide:function(f){a.query(f).each(function(h){if(h){var j=h.style,c=j.display;if(c!=="none"){c&&d.data(h,"display",c);j.display="none"}}})},toggle:function(f){a.query(f).each(function(h){if(h)h.style.display===
"none"?d.show(h):d.hide(h)})},addStyleSheet:function(f,h){var j;if(h)j=a.get("#"+h);if(!j){j=d.create("<style>",{id:h});a.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=f;else j.appendChild(l.createTextNode(f))}}});if(e.style.cssFloat!==n)k["float"]="cssFloat";else if(e.style.styleFloat!==n)k["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,n){if(a.UA.ie){var v=a.DOM,o=document,d=o.documentElement,i=v._CUSTOM_STYLES,l=/^-?\d+(?:px)?$/i,e=/^-?\d/,s=/^(?:width|height)$/;try{if(d.style.opacity===n&&d.filters)i.opacity={get:function(t){var g=100;try{g=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(p){try{g=t.filters("alpha").opacity}catch(r){}}return g/100+""},set:function(t,g){var p=t.style,r=(t.currentStyle||0).filter||"";p.zoom=1;if(r)if(r=r.replace(/alpha\(opacity=.+\)/ig,""))r+=", ";
p.filter=r+"alpha(opacity="+g*100+")"}}}catch(y){}if(!(o.defaultView||{}).getComputedStyle&&d.currentStyle)v._getComputedStyle=function(t,g){var p=t.style,r=t.currentStyle[g];if(s.test(g))r=v[g](t)+"px";else if(!l.test(r)&&e.test(r)){var m=p.left,k=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left;p.left=g==="fontSize"?"1em":r||0;r=p.pixelLeft+"px";p.left=m;t.runtimeStyle.left=k}return r}}});
KISSY.add("dom-offset",function(a,n){function v(j){var c=0,q=0,w=y(j[r]);if(j[h]){j=j[h]();c=j[m];q=j[k];if(d.mobile!=="apple"){c+=o[b](w);q+=o[f](w)}}return{left:c,top:q}}var o=a.DOM,d=a.UA,i=window,l=document,e=o._isElementNode,s=o._nodeTypeIs,y=o._getWin,t=l.compatMode==="CSS1Compat",g=Math.max,p=parseInt,r="ownerDocument",m="left",k="top",b="scrollLeft",f="scrollTop",h="getBoundingClientRect";a.mix(o,{offset:function(j,c){if(!(j=a.get(j))||!j[r])return null;if(c===n)return v(j);var q=j;if(o.css(q,
"position")==="static")q.style.position="relative";var w=v(q),u={},x,z;for(z in c){x=p(o.css(q,z),10)||0;u[z]=x+c[z]-w[z]}o.css(q,u)},scrollIntoView:function(j,c,q,w){if((j=a.get(j))&&j[r]){w=w===n?true:!!w;q=q===n?true:!!q;if(!c||c===i)return j.scrollIntoView(q);c=a.get(c);if(s(c,9))c=y(c);var u=c&&"scrollTo"in c&&c.document,x=o.offset(j),z=u?{left:o.scrollLeft(c),top:o.scrollTop(c)}:o.offset(c),A={left:x[m]-z[m],top:x[k]-z[k]};x=u?o.viewportHeight(c):c.clientHeight;z=u?o.viewportWidth(c):c.clientWidth;
var B=o[b](c),D=o[f](c),C=B+z,E=D+x,H=j.offsetHeight;j=j.offsetWidth;var G=A.left+B-(p(o.css(c,"borderLeftWidth"))||0);A=A.top+D-(p(o.css(c,"borderTopWidth"))||0);var I=G+j,K=A+H,F,J;if(H>x||A<D||q)F=A;else if(K>E)F=K-x;if(w)if(j>z||G<B||q)J=G;else if(I>C)J=I-z;if(u){if(F!==n||J!==n)c.scrollTo(J,F)}else{if(F!==n)c[f]=F;if(J!==n)c[b]=J}}}});a.each(["Left","Top"],function(j,c){var q="scroll"+j;o[q]=function(w){var u=0,x=y(w),z;if(x&&(z=x.document))u=x[c?"pageYOffset":"pageXOffset"]||z.documentElement[q]||
z.body[q];else if(e(w=a.get(w)))u=w[q];return u}});a.each(["Width","Height"],function(j){o["doc"+j]=function(c){c=c||l;return g(t?c.documentElement["scroll"+j]:c.body["scroll"+j],o["viewport"+j](c))};o["viewport"+j]=function(c){var q="inner"+j;c=y(c);var w=c.document;return q in c?c[q]:t?w.documentElement["client"+j]:w.body["client"+j]}})});
KISSY.add("dom-traversal",function(a,n){function v(l,e,s,y){if(!(l=a.get(l)))return null;if(e===n)e=1;var t=null,g,p;if(a.isNumber(e)&&e>=0){if(e===0)return l;g=0;p=e;e=function(){return++g===p}}for(;l=l[s];)if(i(l)&&(!e||d.test(l,e))&&(!y||y(l))){t=l;break}return t}function o(l,e,s){var y=[];var t=l=a.get(l);if(l&&s)t=l.parentNode;if(t){s=0;for(t=t.firstChild;t;t=t.nextSibling)if(i(t)&&t!==l&&(!e||d.test(t,e)))y[s++]=t}return y}var d=a.DOM,i=d._isElementNode;a.mix(d,{parent:function(l,e){return v(l,
e,"parentNode",function(s){return s.nodeType!=11})},next:function(l,e){return v(l,e,"nextSibling")},prev:function(l,e){return v(l,e,"previousSibling")},siblings:function(l,e){return o(l,e,true)},children:function(l,e){return o(l,e)},contains:function(l,e){var s=false;if((l=a.get(l))&&(e=a.get(e)))if(l.contains)return l.contains(e);else if(l.compareDocumentPosition)return!!(l.compareDocumentPosition(e)&16);else for(;!s&&(e=e.parentNode);)s=e==l;return s}})});
KISSY.add("dom-create",function(a,n){function v(u){var x=u.cloneNode(true);if(e.ie<8)x.innerHTML=u.innerHTML;return x}function o(u,x,z,A){if(z){var B=a.guid("ks-tmp-"),D=RegExp(m);x+='<span id="'+B+'"></span>';a.available(B,function(){var C=a.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(x);)if((G=(H=E[1])?H.match(b):false)&&G[2]){E=i.createElement("script");E.src=G[2];if((I=H.match(f))&&I[2])E.charset=I[2];E.async=true;C.appendChild(E)}else if((F=E[2])&&F.length>0)a.globalEval(F);(K=i.getElementById(B))&&
l.remove(K);a.isFunction(A)&&A()});d(u,x)}else{d(u,x);a.isFunction(A)&&A()}}function d(u,x){x=(x+"").replace(m,"");try{u.innerHTML=x}catch(z){for(;u.firstChild;)u.removeChild(u.firstChild);x&&u.appendChild(l.create(x))}}var i=document,l=a.DOM,e=a.UA,s=e.ie,y=l._nodeTypeIs,t=l._isElementNode,g=l._isKSNode,p=i.createElement("div"),r=/<(\w+)/,m=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,k=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,f=/\scharset=(['"])(.*?)\1/i;a.mix(l,{create:function(u,
x,z){if(y(u,1)||y(u,3))return v(u);if(g(u))return v(u[0]);if(!(u=a.trim(u)))return null;var A=null;A=l._creators;var B,D="div",C;if(B=k.exec(u))A=(z||i).createElement(B[1]);else{if((B=r.exec(u))&&(C=B[1])&&a.isFunction(A[C=C.toLowerCase()]))D=C;u=A[D](u,z).childNodes;if(u.length===1)z=u[0].parentNode.removeChild(u[0]);else{u=u;C=z||i;z=null;if(u&&(u.push||u.item)&&u[0]){C=C||u[0].ownerDocument;z=C.createDocumentFragment();if(u.item)u=a.makeArray(u);C=0;for(A=u.length;C<A;C++)z.appendChild(u[C])}z=
z}A=z}z=A;t(z)&&a.isPlainObject(x)&&l.attr(z,x,true);return z},_creators:{div:function(u,x){var z=x?x.createElement("div"):p;z.innerHTML=u;return z}},html:function(u,x,z,A){if(x===n){u=a.get(u);if(t(u))return u.innerHTML}else a.each(a.query(u),function(B){t(B)&&o(B,x,z,A)})},remove:function(u){a.each(a.query(u),function(x){t(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(s||e.gecko||e.webkit){var h=l._creators,j=l.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,q={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in q)(function(u){h[w]=function(x,z){return j("<"+u+">"+x+"</"+u+">",null,z)}})(q[w]);if(s){h.script=function(u,x){var z=x?x.createElement("div"):p;z.innerHTML="-"+u;z.removeChild(z.firstChild);return z};if(s<8)h.tbody=function(u,x){var z=j("<table>"+u+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!c.test(u)&&A.parentNode.removeChild(A);return z}}a.mix(h,{optgroup:h.option,th:h.td,thead:h.tbody,tfoot:h.tbody,
caption:h.tbody,colgroup:h.tbody})}});KISSY.add("dom-insertion",function(a){a.mix(a.DOM,{insertBefore:function(n,v){if((n=a.get(n))&&(v=a.get(v))&&v.parentNode)v.parentNode.insertBefore(n,v);return n},insertAfter:function(n,v){if((n=a.get(n))&&(v=a.get(v))&&v.parentNode)v.nextSibling?v.parentNode.insertBefore(n,v.nextSibling):v.parentNode.appendChild(n);return n}})});
KISSY.add("event",function(a,n){function v(m,k,b,f,h){if(a.isString(k))k=a.query(k);if(a.isArray(k)){a.each(k,function(j){r[m](j,b,f,h)});return true}if((b=a.trim(b))&&b.indexOf(t)>0){a.each(b.split(t),function(j){r[m](k,j,f,h)});return true}}function o(m,k){d(m)&&l.data(m,y,k)}function d(m){return m&&m.nodeType!==3&&m.nodeType!==8}var i=document,l=a.DOM,e=i.addEventListener?function(m,k,b,f){m.addEventListener&&m.addEventListener(k,b,!!f)}:function(m,k,b){m.attachEvent&&m.attachEvent("on"+k,b)},
s=i.removeEventListener?function(m,k,b,f){m.removeEventListener&&m.removeEventListener(k,b,!!f)}:function(m,k,b){m.detachEvent&&m.detachEvent("on"+k,b)},y="ksEventTargetId",t=" ",g=a.now(),p={},r={EVENT_GUID:y,special:{},add:function(m,k,b,f){if(!v("add",m,k,b,f)){var h=d(m)?l.data(m,y):-1,j,c,q,w,u;if(!(h===-1||!k||!a.isFunction(b))){if(!h){o(m,h=g++);p[h]={target:m,events:{}}}c=p[h].events;if(!c[k]){j=((h=!m.isCustomEventTarget)||m._supportSpecialEvent)&&r.special[k]||{};q=function(x,z){if(!x||
!x.fixed){x=new a.EventObject(m,x,k);a.isPlainObject(z)&&a.mix(x,z)}j.setup&&j.setup(x);return(j.handle||r._handle)(m,x,c[k].listeners)};c[k]={handle:q,listeners:[]};w=j.fix||k;u=j.capture;if(h)e(m,w,q,u);else m._addEvent&&m._addEvent(w,q,u)}c[k].listeners.push({fn:b,scope:f||m})}}},remove:function(m,k,b,f){if(!v("remove",m,k,b,f)){var h=d(m)?l.data(m,y):-1,j,c,q,w,u,x,z;if(h!==-1)if(h&&(j=p[h]))if(j.target===m){f=f||m;j=j.events||{};if(c=j[k]){q=c.listeners;x=q.length;if(a.isFunction(b)&&x){u=w=
0;for(z=[];w<x;++w)if(b!==q[w].fn||f!==q[w].scope)z[u++]=q[w];c.listeners=z;x=z.length}if(b===n||x===0){if(m.isCustomEventTarget)m._addEvent&&m._removeEvent(k,c.handle);else{b=r.special[k]||{};s(m,b.fix||k,c.handle)}delete j[k]}}if(k===n||a.isEmptyObject(j)){for(k in j)r.remove(m,k);delete p[h];l.removeData(m,y)}}}},_handle:function(m,k,b){b=b.slice(0);for(var f,h=0,j=b.length;h<j;++h){f=b[h];f=f.fn.call(f.scope||m,k);if(f===false&&m.isCustomEventTarget||k.isImmediatePropagationStopped)break}return f},
_getCache:function(m){return p[m]},_simpleAdd:e,_simpleRemove:s};r.on=r.add;a.Event=r});
KISSY.add("event-object",function(a,n){function v(i,l,e){this.currentTarget=i;this.originalEvent=l||{};if(l){this.type=l.type;this._fix()}else{this.type=e;this.target=i}this.currentTarget=i;this.fixed=true}var o=document,d="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(v,
{_fix:function(){var i=this.originalEvent,l=d.length,e,s=this.currentTarget;for(s=s.nodeType===9?s:s.ownerDocument||o;l;){e=d[--l];this[e]=i[e]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===n&&this.clientX!==n){i=s.documentElement;l=s.body;this.pageX=this.clientX+(i&&i.scrollLeft||l&&l.scrollLeft||
0)-(i&&i.clientLeft||l&&l.clientLeft||0);this.pageY=this.clientY+(i&&i.scrollTop||l&&l.scrollTop||0)-(i&&i.clientTop||l&&l.clientTop||0)}if(this.which===n)this.which=this.charCode!==n?this.charCode:this.keyCode;if(this.metaKey===n)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==n)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var i=this.originalEvent;if(i.preventDefault)i.preventDefault();else i.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var i=
this.originalEvent;if(i.stopPropagation)i.stopPropagation();else i.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var i=this.originalEvent;i.stopImmediatePropagation?i.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(i){i?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=v});
KISSY.add("event-target",function(a,n){var v=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(o,d){var i=a.DOM.data(this,v.EVENT_GUID)||-1;if((i=((v._getCache(i)||{}).events||{})[o])&&a.isFunction(i.handle))return i.handle(n,d);return this},on:function(o,d,i){v.add(this,o,d,i);return this},detach:function(o,d,i){v.remove(this,o,d,i);return this}}});
KISSY.add("event-mouseenter",function(a){var n=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(v){n.special[v.name]={fix:v.fix,setup:function(o){o.type=v.name},handle:function(o,d,i){if(a.DOM._isKSNode(o))o=o[0];var l=d.relatedTarget;try{for(;l&&l!==o;)l=l.parentNode;l!==o&&n._handle(o,d,i)}catch(e){}}}})});
KISSY.add("event-focusin",function(a){var n=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(v){n.special[v.name]={fix:v.fix,capture:true,setup:function(o){o.type=v.name}}})});
KISSY.add("node",function(a){function n(o,d,i){if(!(this instanceof n))return new n(o,d,i);if(o){if(a.isString(o)){o=v.create(o,d,i);if(o.nodeType===11)return new a.NodeList(o.childNodes)}else if(o instanceof n)return o;else o=o;this[0]=o}else this.length=0}var v=a.DOM;n.TYPE="-ks-Node";a.augment(n,{length:1,getDOMNode:function(){return this[0]},nodeType:n.TYPE});a.one=function(o,d){var i=a.get(o,d);return i?new n(i):null};a.Node=n});
KISSY.add("nodelist",function(a){function n(d){if(!(this instanceof n))return new n(d);o.push.apply(this,a.makeArray(d)||[])}var v=a.DOM,o=Array.prototype;a.mix(n.prototype,{length:0,item:function(d){var i=null;if(v._isElementNode(this[d]))i=new a.Node(this[d]);return i},getDOMNodes:function(){return o.slice.call(this)},each:function(d,i){var l=this.length,e=0,s;for(s=new a.Node(this[0]);e<l&&d.call(i||s,s,e,this)!==false;s=new a.Node(this[++e]));return this}});a.all=function(d,i){return new n(a.query(d,
i,true))};a.NodeList=n});
KISSY.add("node-attach",function(a,n){function v(k,b,f,h){k=[this[k?g:t]()].concat(a.makeArray(b));if(b[f]===n)return h.apply(d,k);else{h.apply(d,k);return this}}function o(k,b){a.each(k,function(f){a.each([s,y],function(h,j){h[f]=function(c){switch(b){case p:return function(){return v.call(this,j,arguments,1,c)};case r:return function(){return v.call(this,j,arguments,0,c)};case m:return function(){var q=this[j?g:t]();return(q=c.apply(d,[q].concat(a.makeArray(arguments))))?new (a[a.isArray(q)?"NodeList":
"Node"])(q):null};default:return function(){var q=this[j?g:t]();q=c.apply(d,[q].concat(a.makeArray(arguments)));return q===n?this:q}}}(d[f])})})}var d=a.DOM,i=a.Event,l=d._nodeTypeIs,e=d._isKSNode,s=a.Node.prototype,y=a.NodeList.prototype,t="getDOMNode",g=t+"s",p=1,r=2,m=4;a.mix(s,{one:function(k){return a.one(k,this[0])},all:function(k){return a.all(k,this[0])}});o(["data","removeData"],p);o(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);o(["attr","removeAttr"],p);o(["val","text"],
r);o(["css"],p);o(["width","height"],r);o(["offset"],r);o(["scrollIntoView"]);o(["parent","next","prev","siblings","children"],m);o(["contains"]);o(["html"],r);o(["remove"]);a.each(["insertBefore","insertAfter"],function(k){s[k]=function(b){d[k].call(d,this[0],b);return this}});a.each([s,y],function(k,b){a.mix(k,{append:function(f){f&&a.each(this,function(h){var j;if(b||a.isString(f))j=d.create(f);else{if(l(f,1)||l(f,3))j=f;if(e(f))j=f[0]}h.appendChild(j)});return this},appendTo:function(f){if((f=
a.get(f))&&f.appendChild)a.each(this,function(h){f.appendChild(h)});return this}})});a.each([s,y],function(k){a.mix(k,a.EventTarget);k._supportSpecialEvent=true;k._addEvent=function(b,f,h){for(var j=0,c=this.length;j<c;j++)i._simpleAdd(this[j],b,f,h)};k._removeEvent=function(b,f,h){for(var j=0,c=this.length;j<c;j++)i._simpleRemove(this[j],b,f,h)};delete k.fire})});
KISSY.add("cookie",function(a){var n=document,v=encodeURIComponent,o=decodeURIComponent;a.Cookie={get:function(d){var i;if(a.isString(d)&&d!=="")if(d=n.cookie.match("(?:^| )"+d+"(?:(?:=([^;]*))|;|$)"))i=d[1]?o(d[1]):"";return i},set:function(d,i,l,e,s,y){i=v(i);var t=l;if(typeof t==="number"){t=new Date;t.setTime(t.getTime()+l*864E5)}if(t instanceof Date)i+="; expires="+t.toUTCString();if(a.isString(e)&&e!=="")i+="; domain="+e;if(a.isString(s)&&s!=="")i+="; path="+s;if(y)i+="; secure";n.cookie=d+
"="+i},remove:function(d,i,l,e){this.set(d,"",0,i,l,e)}}});
KISSY.add("json",function(a){function n(t){return t<10?"0"+t:t}function v(t){i.lastIndex=0;return i.test(t)?'"'+t.replace(i,function(g){var p=s[g];return typeof p==="string"?p:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function o(t,g){var p,r,m,k,b=l,f,h=g[t];if(h&&typeof h==="object"&&typeof h.toJSON==="function")h=h.toJSON(t);if(typeof y==="function")h=y.call(g,t,h);switch(typeof h){case "string":return v(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";l+=e;f=[];if(Object.prototype.toString.apply(h)==="[object Array]"){k=h.length;for(p=0;p<k;p+=1)f[p]=o(p,h)||"null";m=f.length===0?"[]":l?"[\n"+l+f.join(",\n"+l)+"\n"+b+"]":"["+f.join(",")+"]";l=b;return m}if(y&&typeof y==="object"){k=y.length;for(p=0;p<k;p+=1){r=y[p];if(typeof r==="string")if(m=o(r,h))f.push(v(r)+(l?": ":":")+m)}}else for(r in h)if(Object.hasOwnProperty.call(h,r))if(m=o(r,h))f.push(v(r)+(l?": ":":")+m);m=f.length===0?"{}":l?"{\n"+l+f.join(",\n"+l)+
"\n"+b+"}":"{"+f.join(",")+"}";l=b;return m}}a=a.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,e,s={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if(typeof a.stringify!=="function")a.stringify=function(t,g,p){var r;e=l="";if(typeof p==="number")for(r=0;r<p;r+=1)e+=" ";else if(typeof p==="string")e=p;if((y=g)&&typeof g!=="function"&&(typeof g!=="object"||typeof g.length!=="number"))throw Error("JSON.stringify");return o("",{"":t})};if(typeof a.parse!==
"function")a.parse=function(t,g){function p(m,k){var b,f,h=m[k];if(h&&typeof h==="object")for(b in h)if(Object.hasOwnProperty.call(h,b)){f=p(h,b);if(f!==undefined)h[b]=f;else delete h[b]}return g.call(m,k,h)}var r;t=String(t);d.lastIndex=0;if(d.test(t))t=t.replace(d,function(m){return"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){r=eval("("+t+")");return typeof g==="function"?p({"":r},""):r}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(a){var n=Math,v=n.PI,o=n.pow,d=n.sin,i=1.70158,l={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(o(2,10*(e-=1))*d((e-0.075)*2*v/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return o(2,-10*e)*d((e-0.075)*2*v/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*o(2,10*(e-=1))*d((e-0.1125)*2*v/0.45);return o(2,-10*(e-=1))*d((e-0.1125)*2*v/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((i+1)*e-i)},backOut:function(e){return(e-=1)*e*((i+1)*e+i)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((i*=1.525)+1)*e-i);return 0.5*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)},bounceIn:function(e){return 1-
l.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return l.bounceIn(e*2)*0.5;return l.bounceOut(e*2-1)*0.5+0.5}};l.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=l});
KISSY.add("anim",function(a,n){function v(b,f,h,j,c,q){if(b=a.get(b)){if(!(this instanceof v))return new v(b,f,h,j,c,q);var w=a.isPlainObject(h);f=f;this.domEl=b;if(a.isPlainObject(f))f=a.param(f,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var u={},x=p.length,z;g.innerHTML='<div style="'+f+'"></div>';for(b=g.firstChild.style;x--;)if(z=b[p[x]])u[p[x]]=i(z);this.props=u;this.targetStyle=f;if(w)w=a.merge(k,h);else{w=a.clone(k);if(h)w.duration=t(h)||1;if(a.isString(j)||
a.isFunction(j))w.easing=j;if(a.isFunction(c))w.complete=c;if(q!==n)w.nativeSupport=q}this.config=w;if(w.nativeSupport&&o()&&a.isString(j=w.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=y.NativeTimeFunction[j])){w.easing=j;this.transitionName=o()}a.isFunction(c)&&this.on(m,c)}}function o(){var b="transition",f;if(g.style[b]!==n)f=b;else a.each(["Webkit","Moz","O"],function(h){if(g.style[b=h+"Transition"]!==n){f=b;return false}});o=function(){return f};return f}function d(b,f,h){a.UA.ie&&h.indexOf(r)>
-1&&s.css(b,r,f[r].v);b.style.cssText+=";"+h}function i(b){var f=t(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(f)?{v:b,u:"",f:e}:{v:f,u:b,f:l}}function l(b,f,h){return(b+(f-b)*h).toFixed(3)}function e(b,f,h){for(var j=2,c,q,w=[],u=[];c=3,q=arguments[j-1],j--;)if(q.substr(0,4)==="rgb(")for(q=q.match(/\d+/g);c--;)w.push(~~q[c]);else if(q.substr(0,1)==="#"){if(q.length===4)q="#"+q.substr(1,1)+q.substr(1,1)+q.substr(2,1)+q.substr(2,1)+q.substr(3,1)+q.substr(3,1);for(;c--;)w.push(parseInt(q.substr(1+
c*2,2),16))}else return f;for(;c--;){j=~~(w[c+3]+(w[c]-w[c+3])*h);u.push(j<0?0:j>255?255:j)}return"rgb("+u.join(",")+")"}var s=a.DOM,y=a.Easing,t=parseFloat,g=s.create("<div>"),p="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
r="opacity",m="complete",k={duration:1,easing:"easeNone",nativeSupport:true};a.augment(v,a.EventTarget,{run:function(){var b=this,f=b.config,h=b.domEl,j,c,q,w,u=b.props,x={},z;for(z in u)x[z]=i(s.css(h,z));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{j=f.duration*1E3;q=a.now();w=q+j;c=f.easing;if(a.isString(c))c=y[c]||y.easeNone;b.timer=a.later(f=function(){var A=a.now(),B=A>w?1:(A-q)/j,D,C,E;for(z in u){D=x[z];C=u[z];if(C.v==0)C.u=D.u;if(D.u!==C.u)D.v=0;s.css(h,z,
C.f(D.v,C.v,c(B))+C.u)}if(b.fire("step")===false||(E=A>w)){b.stop();E&&b.fire(m)}},13,true);f()}return b}},_nativeRun:function(){var b=this,f=b.config,h=b.domEl,j=b.props,c=f.duration*1E3;f=f.easing;var q=b.transitionName,w={};w[q+"Property"]="all";w[q+"Duration"]=c+"ms";w[q+"TimingFunction"]=f;s.css(h,w);a.later(function(){d(h,j,b.targetStyle)},0);a.later(function(){b.stop(true)},c)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=n}if(b){d(this.domEl,
this.props,this.targetStyle);this.fire(m)}}return this},_nativeStop:function(b){var f=this.domEl,h=this.transitionName,j=this.props,c;if(b){s.css(f,h+"Property","none");this.fire(m)}else{for(c in j)s.css(f,c,s._getComputedStyle(f,c));s.css(f,h+"Property","none")}}});v.supportTransition=function(){return!!o()};a.Anim=v});
KISSY.add("anim-node-plugin",function(a,n){function v(m,k,b,f,h){if(k==="toggle"){h=o.css(m,i)===l?1:0;k="show"}if(h)o.css(m,i,o.data(m,i)||"");var j={};a.each(r[k],function(c){if(c===e)o.css(m,e,s);else if(c===y){j.opacity=h?1:0;h&&o.css(m,y,0)}else if(c===t){j.height=h?o.css(m,t)||m.naturalHeight:0;h&&o.css(m,t,0)}else if(c===g){j.width=h?o.css(m,g)||m.naturalWidth:0;h&&o.css(m,g,0)}});(new a.Anim(m,j,b,"easeOut",function(){if(!h){var c=m.style,q=c[i];if(q!==l){q&&o.data(m,i,q);c[i]=l}o.css(m,{height:p,
width:p,overflow:p,opacity:1})}f&&a.isFunction(f)&&f()})).run()}var o=a.DOM,d=a.Anim,i="display",l="none",e="overflow",s="hidden",y="opacity",t="height",g="width",p="auto",r={show:[e,y,t,g],fade:[y],slide:[e,t]};a.each([a.Node.prototype,a.NodeList.prototype],function(m){m.animate=function(){var k=a.makeArray(arguments);a.each(this,function(b){d.apply(n,[b].concat(k)).run()});return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(k,b){m[b]=function(f,h){o[b]&&arguments.length===0?o[b](this):a.each(this,function(j){v(j,k[0],f,h,k[1])});return this}})})});
KISSY.add("attribute",function(a,n){function v(){}function o(d){d+="";return d.charAt(0).toUpperCase()+d.substring(1)}a.augment(v,{__initAttrs:function(){if(!this.__attrs){this.__attrs={};this.__attrVals={}}},getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(d,i){this.__initAttrs();this.__attrs[d]=a.clone(i||{});return this},addAttrs:function(d,i){var l=this;a.each(d,function(e,s){if(s in i)e.value=i[s];l.addAttr(s,e)});return l},hasAttr:function(d){return d&&d in(this.__attrs||
{})},removeAttr:function(d){if(this.hasAttr(d)){delete this.__attrs.name;delete this.__attrVals.name}return this},set:function(d,i){var l=this.get(d);if(l!==i)if(false!==this.__fireAttrChange("before",d,l,i)){this.__set(d,i);this.__fireAttrChange("after",d,l,this.__attrVals[d]);return this}},__fireAttrChange:function(d,i,l,e){return this.fire(d+o(i)+"Change",{attrName:i,prevVal:l,newVal:e})},__set:function(d,i){var l,e=this.__attrs[d];if(e=e&&e.setter)l=e.call(this,i);if(l!==n)i=l;this.__attrVals[d]=
i},get:function(d){var i;this.__initAttrs();i=(i=this.__attrs[d])&&i.getter;d=d in this.__attrVals?this.__attrVals[d]:this.__getDefAttrVal(d);if(i)d=i.call(this,d);return d},__getDefAttrVal:function(d){d=this.__attrs[d];var i;if(d){if(i=d.valueFn){i=i.call(this);if(i!==n)d.value=i;delete d.valueFn}return d.value}},reset:function(d){if(this.hasAttr(d))return this.set(d,this.__getDefAttrVal(d));for(d in this.__attrs)this.hasAttr(d)&&this.reset(d);return this}});a.Attribute=v;v.capitalFirst=o});
KISSY.add("base",function(a){function n(d){for(var i=this.constructor,l,e;i;){if(e=i.ATTRS)for(l in e)e.hasOwnProperty(l)&&!this.hasAttr(l)&&this.addAttr(l,e[l]);if(e=(e=i._kissycreate)&&e._exts)for(var s=0;s<e.length;s++)e[s]&&e[s].call(this,d);if(d&&d[v]&&i.HTML_PARSER){e=d[v];s=i.HTML_PARSER;var y=void 0;for(y in s)if(s.hasOwnProperty(y)){var t=s[y];if(a.isFunction(t))this.set(y,t.call(this,e));else if(a.isString(t))this.set(y,e.one(t));else a.isArray(t)&&t[0]&&this.set(y,e.all(t[0]))}}i=i.superclass?
i.superclass.constructor:null}if(d)for(l in d)d.hasOwnProperty(l)&&this.__set(l,d[l]);this.init&&this.init();d&&d.autoRender&&this.renderer()}var v="srcNode",o=a.Attribute.capitalFirst;n.HTML_PARSER={};n.ATTRS={rendered:{value:false},render:{setter:function(d){if(a.isString(d))return a.one(d)}}};a.augment(n,a.EventTarget,a.Attribute,{renderer:function(){var d=this.get("render");if(!this.get("rendered")){this.renderUI(d);this.bindUI();this.syncUI();this.set("rendered",true)}},renderUI:function(){this.fire("renderUI")},
bindUI:function(){var d=this,i=d.getDefAttrs(),l;for(l in i)if(i.hasOwnProperty(l)){var e="_uiSet"+o(l);d[e]&&function(s,y){d.on("after"+o(s)+"Change",function(t){d[y](t.newVal)})}(l,e)}d.fire("bindUI")},syncUI:function(){var d=this.getDefAttrs(),i;for(i in d)if(d.hasOwnProperty(i)){var l="_uiSet"+o(i);this[l]&&this[l](this.get(i))}this.fire("syncUI")},destroy:function(){this.detach();this.fire("destroy")}});n.create=function(d,i,l,e){function s(){s.superclass.constructor.apply(this,arguments)}if(a.isArray(d)){e=
l;l=i;i=d;d=n}d=d||n;a.extend(s,d,l,e);if(i){s._kissycreate=s._kissycreate||{};s._kissycreate._exts=i;for(d=0;d<i.length;d++){e=(l=i[d])&&l.ATTRS;var y=l&&l.HTML_PARSER;if(e&&l){s.ATTRS=s.ATTRS||{};s.HTML_PARSER=s.HTML_PARSER||{};a.mix(s.ATTRS,e,false);a.mix(s.HTML_PARSER,y,false);a.augment(s,i[d])}}}return s};a.Base=n});KISSY.add("core");
