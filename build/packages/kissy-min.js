/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
(function(a,r,v){var l={mix:function(d,t,o,h){if(!t||!d)return d;if(o===v)o=true;var q,w,x;if(h&&(x=h.length))for(q=0;q<x;q++){w=h[q];w in t&&g(w,d,t,o)}else for(w in t)g(w,d,t,o);return d}},g=function(d,t,o,h){if(h||!(d in t))t[d]=o[d]},i=a&&a[r]||{},m=0;a=i.__HOST||(i.__HOST=a||{});r=a[r]=l.mix(i,l,false);r.mix(r,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.8dev",merge:function(){var d={},t,o=arguments.length;for(t=0;t<o;t++)r.mix(d,arguments[t]);return d},augment:function(){var d=
arguments,t=d.length-2,o=d[0],h=d[t],q=d[t+1],w=1;if(!r.isArray(q)){h=q;q=v;t++}if(!r.isBoolean(h)){h=v;t++}for(;w<t;w++)r.mix(o.prototype,d[w].prototype||d[w],h,q);return o},extend:function(d,t,o,h){if(!t||!d)return d;var q=Object.create?function(z,e){return Object.create(z,{constructor:{value:e}})}:function(z,e){function j(){}j.prototype=z;z=new j;z.constructor=e;return z},w=t.prototype,x;x=q(w,d);d.prototype=r.mix(x,d.prototype);d.superclass=q(w,t);o&&r.mix(x,o);h&&r.mix(d,h);return d},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var d=arguments,t=d.length,o=null,h,q,w,x=d[t-1]===true&&t--;for(h=0;h<t;h++){w=(""+d[h]).split(".");o=x?a:this;for(q=a[w[0]]===o?1:0;q<w.length;++q)o=o[w[q]]=o[w[q]]||{}}return o},app:function(d,t){var o=r.isString(d),h=o?a[d]||{}:d,q=0,w=r.__APP_INIT_METHODS.length;for(r.mix(h,this,true,r.__APP_MEMBERS);q<w;q++)r[r.__APP_INIT_METHODS[q]].call(h);r.mix(h,r.isFunction(t)?t():t);o&&(a[d]=h);return h},log:function(d,
t,o){if(r.Config.debug){if(o)d=o+": "+d;if(a.console!==v&&console.log)console[t&&console[t]?t:"log"](d)}},error:function(d){if(r.Config.debug)throw d;},guid:function(d){return(d||"")+m++}});r.__init();return r})(this,"KISSY");
(function(a,r){var v=a.__HOST,l=Object.prototype.toString,g=Array.prototype.indexOf,i=Array.prototype.lastIndexOf,m=Array.prototype.filter,d=String.prototype.trim,t=/^\s+|\s+$/g,o={};a.mix(a,{type:function(h){return h==null?String(h):o[l.call(h)]||"object"},isNull:function(h){return h===null},isUndefined:function(h){return h===r},isEmptyObject:function(h){for(var q in h)return false;return true},isPlainObject:function(h){return h&&l.call(h)==="[object Object]"&&"isPrototypeOf"in h},clone:function(h,
q,w){var x=h,z,e,j=w||{};if(h&&((z=a.isArray(h))||a.isPlainObject(h))){if(h["__~ks_cloned"])return j[h["__~ks_cloned"]];h["__~ks_cloned"]=x=a.guid();j[x]=h;if(z)x=q?a.filter(h,q):h.concat();else{x={};for(e in h)if(e!=="__~ks_cloned"&&h.hasOwnProperty(e)&&(!q||q.call(h,h[e],e,h)!==false))x[e]=a.clone(h[e],q,j)}}if(!w){a.each(j,function(c){if(c["__~ks_cloned"])try{delete c["__~ks_cloned"]}catch(b){c["__~ks_cloned"]=r}});j=r}return x},trim:d?function(h){return h==r?"":d.call(h)}:function(h){return h==
r?"":h.toString().replace(t,"")},substitute:function(h,q,w){if(!a.isString(h)||!a.isPlainObject(q))return h;return h.replace(w||/\\?\{([^{}]+)\}/g,function(x,z){if(x.charAt(0)==="\\")return x.slice(1);return q[z]!==r?q[z]:""})},each:function(h,q,w){var x,z=0,e=h.length,j=e===r||a.type(h)==="function";w=w||v;if(j)for(x in h){if(q.call(w,h[x],x,h)===false)break}else for(x=h[0];z<e&&q.call(w,x,z,h)!==false;x=h[++z]);return h},indexOf:g?function(h,q){return g.call(q,h)}:function(h,q){for(var w=0,x=q.length;w<
x;++w)if(q[w]===h)return w;return-1},lastIndexOf:i?function(h,q){return i.call(q,h)}:function(h,q){for(var w=q.length-1;w>=0;w--)if(q[w]===h)break;return w},unique:function(h,q){q&&h.reverse();h=h.slice();for(var w=0,x,z;w<h.length;){for(z=h[w];(x=a.lastIndexOf(z,h))!==w;)h.splice(x,1);w+=1}q&&h.reverse();return h},inArray:function(h,q){return a.indexOf(h,q)>-1},filter:m?function(h,q,w){return m.call(h,q,w||this)}:function(h,q,w){var x=[];a.each(h,function(z,e,j){if(q.call(w||this,z,e,j))x.push(z)});
return x},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(h,q){o["[object "+h+"]"]=q=h.toLowerCase();a["is"+h]=function(w){return a.type(w)==q}})})(KISSY);
(function(a,r){function v(e){var j=typeof e;return e===null||j!=="object"&&j!=="function"}function l(e){return Array.prototype.slice.call(e)}var g=a.__HOST,i=g.document,m=i.documentElement,d=encodeURIComponent("[]"),t=false,o=[],h=false,q=/^#?([\w-]+)$/,w=/^(\w+)\[\]$/,x=/\S/;a.mix(a,{isWindow:function(e){return a.type(e)==="object"&&"setInterval"in e},makeArray:function(e){if(e===null||e===r)return[];if(a.isArray(e))return e;if(typeof e.length!=="number"||a.isString(e)||a.isFunction(e))return[e];
return l(e)},param:function(e,j){if(!a.isPlainObject(e))return"";j=j||"&";var c=[],b,f;for(b in e){f=e[b];b=encodeURIComponent(b);if(v(f))c.push(b,"=",encodeURIComponent(f+""),j);else if(a.isArray(f)&&f.length)for(var k=0,p=f.length;k<p;++k)v(f[k])&&c.push(b,d+"=",encodeURIComponent(f[k]+""),j)}c.pop();return c.join("")},unparam:function(e,j){if(typeof e!=="string"||(e=a.trim(e)).length===0)return{};var c={};e=e.split(j||"&");for(var b,f,k,p=0,s=e.length;p<s;++p){j=e[p].split("=");b=decodeURIComponent(j[0]);
try{f=decodeURIComponent(j[1]||"")}catch(u){f=j[1]||""}if((k=b.match(w))&&k[1]){c[k[1]]=c[k[1]]||[];c[k[1]].push(f)}else c[b]=f}return c},globalEval:function(e){if(e&&x.test(e)){var j=i.getElementsByTagName("head")[0]||m,c=i.createElement("script");c.text=e;j.insertBefore(c,j.firstChild);j.removeChild(c)}},later:function(e,j,c,b,f){j=j||0;b=b||{};var k=e,p=a.makeArray(f),s;if(a.isString(e))k=b[e];k||a.error("method undefined");e=function(){k.apply(b,p)};s=c?setInterval(e,j):setTimeout(e,j);return{id:s,
interval:c,cancel:function(){this.interval?clearInterval(s):clearTimeout(s)}}},ready:function(e){h||this._bindReady();t?e.call(g,this):o.push(e);return this},_bindReady:function(){var e=this,j=i.documentElement.doScroll,c=j?"onreadystatechange":"DOMContentLoaded",b=function(){e._fireReady()};h=true;if(i.readyState==="complete")return b();if(i.addEventListener){var f=function(){i.removeEventListener(c,f,false);b()};i.addEventListener(c,f,false);g.addEventListener("load",b,false)}else{var k=function(){if(i.readyState===
"complete"){i.detachEvent(c,k);b()}};i.attachEvent(c,k);g.attachEvent("onload",b);var p=false;try{p=g.frameElement==null}catch(s){}if(j&&p){var u=function(){try{j("left");b()}catch(B){setTimeout(u,1)}};u()}}},_fireReady:function(){if(!t){t=true;if(o){for(var e,j=0;e=o[j++];)e.call(g,this);o=null}}},available:function(e,j){if((e=(e+"").match(q)[1])&&a.isFunction(j))var c=1,b=a.later(function(){if(i.getElementById(e)&&(j()||1)||++c>500)b.cancel()},40,true)}});try{l(m.childNodes)}catch(z){l=function(e){for(var j=
[],c=e.length-1;c>=0;c--)j[c]=e[c];return j}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,r){function v(e){var j=e.src,c=e.getAttribute("data-combo-prefix")||"??";e=e.getAttribute("data-combo-sep")||",";e=j.split(e);var b=e[0];c=b.indexOf(c);if(c==-1)j=j.replace(x,"$1");else{j=b.substring(0,c);c=b.substring(c+2,b.length);if(c.match(z))j+=c.replace(x,"$1");else for(c=1;c<e.length;c++){b=e[c];if(b.match(z)){j+=b.replace(x,"$1");break}}}if(!l(j,"/")&&!j.match(/^(http(s)?)|(file):/i))j=window.location.href.replace(/[^/]*$/,"")+j;return j}function l(e,j){return e.lastIndexOf(j,
0)==0}var g=a.__HOST.document,i=g.getElementsByTagName("head")[0]||g.documentElement,m=2,d=3,t=4,o=a.mix,h=g.createElement("script").readyState?function(e,j){var c=e.onreadystatechange;e.onreadystatechange=function(){var b=e.readyState;if(b==="loaded"||b==="complete"){e.onreadystatechange=null;c&&c();j.call(this)}}}:function(e,j){e.addEventListener("load",j,false)},q=/\.css(?:\?|$)/i,w;w={add:function(e,j,c){var b=this.Env.mods,f;if(a.isString(e)&&!c&&a.isPlainObject(j)){f={};f[e]=j;e=f}if(a.isPlainObject(e)){a.each(e,
function(k,p){k.name=p;b[p]&&o(k,b[p],false)});o(b,e)}else{c=c||{};f=b[e]||{};e=c.host||f.host||e;f=b[e]||{};o(f,{name:e,status:m});if(!f.fns)f.fns=[];j&&f.fns.push(j);o(b[e]=f,c);f.attach!==false&&this.__isAttached(f.requires)&&this.__attachMod(f)}return this},use:function(e,j,c){e=e.replace(/\s+/g,"").split(",");c=c||{};var b=this,f;c=(c||0).global;var k,p=e.length,s;c&&b.__mixMods(c);if(b.__isAttached(e))j&&j(b);else{for(k=0;k<p&&(f=e[k]);k++)b.__attachModByName(f,function(){if(!s&&b.__isAttached(e)){s=
true;j&&j(b)}},c);return b}},__attachModByName:function(e,j,c){var b=this.Env.mods,f=e.indexOf("+css")!=-1;e=f?e.replace(/\+css/g,""):e;var k=b[e];if(!k){k=this.Config.componentJsName||function(p){return p+"-pkg-min.js?t=20110330123752"};k=a.isFunction(k)?k(e):k;k={path:e+"/"+k,charset:"utf-8"};b[e]=k}if(f){b=this.Config.componentCssName||function(p){return p+"-min.css?t=20110330123752"};b=a.isFunction(b)?b(e):b;k.csspath=e+"/"+b}k.name=e;k&&k.status===t||this.__attach(k,j,c)},__attach:function(e,j,c){function b(){if(!y&&
f.__isAttached(e.requires)){e.status===m&&f.__attachMod(e);if(e.status===t){y=true;j()}}}for(var f=this,k=f.Env.mods,p=(e.requires||[]).concat(),s=0,u=p.length;s<u;s++){var B=k[p[s]];B&&B.status===t||f.__attachModByName(p[s],b,c)}f.__buildPath(e);f.__load(e,function(){for(var n=e.requires||[],A=[],C=n.length-1;C>=0;C--){var D=n[C],E=k[D],G=a.inArray(D,p);E&&E.status===t||G||f.__attachModByName(D,b,c);G||A.push(D)}A.length!=0&&A.unshift(e.name);b()},c);var y=false},__mixMods:function(e){var j=this.Env.mods,
c=e.Env.mods,b;for(b in c)this.__mixMod(j,c,b,e)},__mixMod:function(e,j,c,b){var f=e[c]||{},k=f.status;a.mix(f,a.clone(j[c]));if(k)f.status=k;b&&this.__buildPath(f,b.Config.base);e[c]=f},__attachMod:function(e){var j=this;if(e.fns){a.each(e.fns,function(c){c&&c(j)});e.fns=r}e.status=t},__isAttached:function(e){for(var j=this.Env.mods,c,b=(e=a.makeArray(e)).length-1;b>=0;b--){c=e[b].replace(/\+css/,"");c=j[c]||{};if(c.status!==t)return false}return true},__load:function(e,j,c){function b(){f();if(e.status!==
d){c&&k.__mixMod(k.Env.mods,c.Env.mods,e.name,c);if(e.status!==t)e.status=m;j()}}function f(){s[p]=m}var k=this,p=e.fullpath,s=a.Env._loadQueue,u=s[p];e.status=e.status||0;if(e.status<1&&u)e.status=u.nodeName?1:m;if(a.isString(e.cssfullpath)){k.getScript(e.cssfullpath);e.cssfullpath=m}if(e.status<1&&p){e.status=1;u=k.getScript(p,{success:function(){KISSY.log(e.name+" is loaded.","info");b()},error:function(){e.status=d;f()},charset:e.charset});q.test(p)||(s[p]=u)}else e.status===1?h(u,b):j()},__buildPath:function(e,
j){function c(f,k){if(!e[k]&&e[f])e[k]=(j||b.base)+e[f];if(e[k]&&b.debug)e[k]=e[k].replace(/-min/g,"")}var b=this.Config;c("path","fullpath");e.cssfullpath!==m&&c("csspath","cssfullpath")},getScript:function(e,j,c){var b=q.test(e),f=g.createElement(b?"link":"script"),k=j,p,s,u;if(a.isPlainObject(k)){j=k.success;p=k.error;s=k.timeout;c=k.charset}if(b){f.href=e;f.rel="stylesheet"}else{f.src=e;f.async=true}if(c)f.charset=c;if(b)a.isFunction(j)&&j.call(f);else h(f,function(){if(u){u.cancel();u=r}a.isFunction(j)&&
j.call(f);i&&f.parentNode&&i.removeChild(f)});if(a.isFunction(p))u=a.later(function(){u=r;p()},(s||this.Config.timeout)*1E3);i.insertBefore(f,i.firstChild);return f}};o(a,w);var x=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,z=/(seed|kissy)(-min)?\.js/;a.__initLoader=function(){var e=g.getElementsByTagName("script");e=v(e[e.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=e;if(!this.Config.timeout)this.Config.timeout=10};a.__initLoader();a.each(w,function(e,j){a.__APP_MEMBERS.push(j)});
a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
KISSY.add("ua",function(a){var r=navigator.userAgent,v="",l="",g,i={},m=function(d){var t=0;return parseFloat(d.replace(/\./g,function(){return t++===0?".":""}))};if((g=r.match(/AppleWebKit\/([\d.]*)/))&&g[1]){i[v="webkit"]=m(g[1]);if((g=r.match(/Chrome\/([\d.]*)/))&&g[1])i[l="chrome"]=m(g[1]);else if((g=r.match(/\/([\d.]*) Safari/))&&g[1])i[l="safari"]=m(g[1]);if(/ Mobile\//.test(r))i.mobile="apple";else if(g=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))i.mobile=g[0].toLowerCase()}else if((g=
r.match(/Presto\/([\d.]*)/))&&g[1]){i[v="presto"]=m(g[1]);if((g=r.match(/Opera\/([\d.]*)/))&&g[1]){i[l="opera"]=m(g[1]);if((g=r.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])i[l]=m(g[1]);if((g=r.match(/Opera Mini[^;]*/))&&g)i.mobile=g[0].toLowerCase();else if((g=r.match(/Opera Mobi[^;]*/))&&g)i.mobile=g[0]}}else if((g=r.match(/MSIE\s([^;]*)/))&&g[1]){i[v="trident"]=0.1;i[l="ie"]=m(g[1]);if((g=r.match(/Trident\/([\d.]*)/))&&g[1])i[v]=m(g[1])}else if(g=r.match(/Gecko/)){i[v="gecko"]=0.1;if((g=r.match(/rv:([\d.]*)/))&&
g[1])i[v]=m(g[1]);if((g=r.match(/Firefox\/([\d.]*)/))&&g[1])i[l="firefox"]=m(g[1])}i.core=v;i.shell=l;i._numberify=m;a.UA=i});
KISSY.add("ua-extra",function(a){var r=a.UA,v=navigator.userAgent,l,g,i={},m=r._numberify;if(v.match(/360SE/))i[g="se360"]=3;else if(v.match(/Maxthon/)&&(l=window.external)){g="maxthon";try{i[g]=m(l.max_version)}catch(d){i[g]=0.1}}else if(l=v.match(/TencentTraveler\s([\d.]*)/))i[g="tt"]=l[1]?m(l[1]):0.1;else if(v.match(/TheWorld/))i[g="theworld"]=3;else if(l=v.match(/SE\s([\d.]*)/))i[g="sougou"]=l[1]?m(l[1]):0.1;g&&(i.shell=g);a.mix(r,i)});
KISSY.add("dom",function(a,r){function v(l,g){return l&&l.nodeType===g}a.DOM={_isElementNode:function(l){return v(l,1)},_isKSNode:function(l){return a.Node&&v(l,a.Node.TYPE)},_getWin:function(l){return l&&"scrollTo"in l&&l.document?l:v(l,9)?l.defaultView||l.parentWindow:l===r?window:false},_nodeTypeIs:v}});
KISSY.add("selector",function(a,r){function v(c,b){var f,k=[],p,s;b=g(b);if(a.isString(c)){c=a.trim(c);if(e.test(c)){if(c=i(c.slice(1),b))k=[c]}else if(f=j.exec(c)){p=f[1];s=f[2];f=f[3];if(b=p?i(p,b):b)if(f)if(!p||c.indexOf(q)!==-1)k=d(f,s,b);else{if((c=i(p,b))&&h.hasClass(c,f))k=[c]}else if(s)k=m(s,b)}else if(a.ExternalSelector)return a.ExternalSelector(c,b);else t(c)}else if(c&&(c[x]||c[z]))k=c[x]?[c[x]()]:c[z]();else if(c&&(a.isArray(c)||l(c)))k=c;else if(c)k=[c];if(l(k))k=a.makeArray(k);k.each=
function(u,B){return a.each(k,u,B)};return k}function l(c){return c&&!c.nodeType&&c.item&&!c.setTimeout}function g(c){if(c===r)c=o;else if(a.isString(c)&&e.test(c))c=i(c.slice(1),o);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function i(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function m(c,b){return b.getElementsByTagName(c)}function d(c,b,f){f=c=f.getElementsByClassName(c);var k=0,p=0,s=c.length,u;if(b&&b!==w){f=[];for(b=b.toUpperCase();k<s;++k){u=c[k];if(u.tagName===
b)f[p++]=u}}return f}function t(c){a.error("Unsupported selector: "+c)}var o=document,h=a.DOM,q=" ",w="*",x="getDOMNode",z=x+"s",e=/^#[\w-]+$/,j=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=o.createElement("div");c.appendChild(o.createComment(""));if(c.getElementsByTagName(w).length>0)m=function(b,f){f=f.getElementsByTagName(b);if(b===w){b=[];for(var k=0,p=0,s;s=f[k++];)if(s.nodeType===1)b[p++]=s;f=b}return f}})();o.getElementsByClassName||(d=o.querySelectorAll?function(c,b,f){return f.querySelectorAll((b?
b:"")+"."+c)}:function(c,b,f){b=f.getElementsByTagName(b||w);f=[];var k=0,p=0,s=b.length,u,B;for(c=q+c+q;k<s;++k){u=b[k];if((B=u.className)&&(q+B+q).indexOf(c)>-1)f[p++]=u}return f});a.query=v;a.get=function(c,b){return v(c,b)[0]||null};a.mix(h,{query:v,get:a.get,filter:function(c,b){var f=v(c),k,p,s,u=[];if(a.isString(b)&&(k=j.exec(b))&&!k[1]){p=k[2];s=k[3];b=function(B){return!(p&&B.tagName!==p.toUpperCase()||s&&!h.hasClass(B,s))}}if(a.isFunction(b))u=a.filter(f,b);else if(b&&a.ExternalSelector)u=
a.ExternalSelector._filter(c,b+"");else t(b);return u},test:function(c,b){c=v(c);return c.length&&h.filter(c,b).length===c.length}})});
KISSY.add("dom-data",function(a,r){function v(o){return o&&o.nodeType}var l=window,g=a.DOM,i="_ks_data_"+a.now(),m={},d={},t={EMBED:1,OBJECT:1,APPLET:1};a.mix(g,{data:function(o,h,q){if(a.isPlainObject(h))for(var w in h)g.data(o,w,h[w]);else if(q===r){o=a.get(o);var x;if(!(!o||t[o.nodeName])){if(o==l)o=d;x=(w=v(o))?m:o;o=x[w?o[i]:i];if(a.isString(h)&&o)return o[h];return o}}else a.query(o).each(function(z){if(!(!z||t[z.nodeName])){if(z==l)z=d;var e=m,j;if(v(z)){if(!(j=z[i]))j=z[i]=a.guid()}else{j=
i;e=z}if(h&&q!==r){e[j]||(e[j]={});e[j][h]=q}}})},removeData:function(o,h){a.query(o).each(function(q){if(q){if(q==l)q=d;var w,x=m,z,e=v(q);if(e)w=q[i];else{x=q;w=i}if(w){z=x[w];if(h){if(z){delete z[h];a.isEmptyObject(z)&&g.removeData(q)}}else{if(e)q.removeAttribute&&q.removeAttribute(i);else try{delete q[i]}catch(j){}e&&delete x[w]}}}})}})});
KISSY.add("dom-class",function(a,r){function v(m,d,t,o){if(!(d=a.trim(d)))return o?false:r;m=a.query(m);var h=0,q=m.length;d=d.split(g);for(var w;h<q;h++){w=m[h];if(l._isElementNode(w)){w=t(w,d,d.length);if(w!==r)return w}}if(o)return false}var l=a.DOM,g=/[\.\s]\s*\.?/,i=/[\n\t]/g;a.mix(l,{hasClass:function(m,d){return v(m,d,function(t,o,h){if(t=t.className){t=" "+t+" ";for(var q=0,w=true;q<h;q++)if(t.indexOf(" "+o[q]+" ")<0){w=false;break}if(w)return true}},true)},addClass:function(m,d){v(m,d,function(t,
o,h){var q=t.className;if(q){var w=" "+q+" ";q=q;for(var x=0;x<h;x++)if(w.indexOf(" "+o[x]+" ")<0)q+=" "+o[x];t.className=a.trim(q)}else t.className=d})},removeClass:function(m,d){v(m,d,function(t,o,h){var q=t.className;if(q)if(h){q=(" "+q+" ").replace(i," ");for(var w=0,x;w<h;w++)for(x=" "+o[w]+" ";q.indexOf(x)>=0;)q=q.replace(x," ");t.className=a.trim(q)}else t.className=""})},replaceClass:function(m,d,t){l.removeClass(m,d);l.addClass(m,t)},toggleClass:function(m,d,t){var o=a.isBoolean(t),h;v(m,
d,function(q,w,x){for(var z=0,e;z<x;z++){e=w[z];h=o?!t:l.hasClass(q,e);l[h?"removeClass":"addClass"](q,e)}})}})});
KISSY.add("dom-attr",function(a,r){function v(c,b){return b&&b.nodeName.toUpperCase()===c.toUpperCase()}var l=a.UA,g=document.documentElement,i=!g.hasAttribute,m=g.textContent!==r?"textContent":"innerText",d=a.DOM,t=d._isElementNode,o=function(c){return d._nodeTypeIs(c,3)},h=/^(?:href|src|style)/,q=/^(?:href|src|colspan|rowspan)/,w=/\r/g,x=/^(?:radio|checkbox)/,z={readonly:"readOnly"},e={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},j={tabindex:{getter:function(c){return c.tabIndex},
setter:function(c,b){if(isNaN(parseInt(b))){c.removeAttribute("tabindex");c.removeAttribute("tabIndex")}else c.tabIndex=b}},style:{getter:function(c){return c.style.cssText},setter:function(c,b){c.style.cssText=b}},checked:{setter:function(c,b){c.checked=!!b}},disabled:{setter:function(c,b){c.disabled=!!b}}};i&&a.mix(z,{"for":"htmlFor","class":"className"});a.mix(d,{attr:function(c,b,f,k){if(a.isPlainObject(b)){k=f;for(var p in b)d.attr(c,p,b[p],k)}else if(b=a.trim(b)){b=b.toLowerCase();if(k&&e[b])return d[b](c,
f);b=z[b]||b;var s=j[b];if(f===r){c=d.get(c);if(!t(c))return r;if(s&&s.getter)return s.getter(c);var u;h.test(b)||(u=c[b]);if(u===r)u=c.getAttribute(b);if(i)if(q.test(b))u=c.getAttribute(b,2);return u===null?r:u}a.each(d.query(c),function(B){if(t(B))s&&s.setter?s.setter(B,f):B.setAttribute(b,""+f)})}},removeAttr:function(c,b){a.each(a.query(c),function(f){if(t(f)){d.attr(f,b,"");f.removeAttribute(b)}})},val:function(c,b){if(b===r){var f=a.get(c);if(!t(f))return r;if(v("option",f))return(f.attributes.value||
{}).specified?f.value:f.text;if(v("select",f)){var k=f.selectedIndex;c=f.options;if(k<0)return null;else if(f.type==="select-one")return d.val(c[k]);f=[];for(var p=0,s=c.length;p<s;++p)c[p].selected&&f.push(d.val(c[p]));return f}if(l.webkit&&x.test(f.type))return f.getAttribute("value")===null?"on":f.value;return(f.value||"").replace(w,"")}a.each(a.query(c),function(u){if(v("select",u)){if(a.isNumber(b))b+="";var B=a.makeArray(b),y=u.options,n;p=0;for(s=y.length;p<s;++p){n=y[p];n.selected=a.inArray(d.val(n),
B)}if(!B.length)u.selectedIndex=-1}else if(t(u))u.value=b})},text:function(c,b){if(b===r){c=a.get(c);if(t(c))return c[m]||"";else if(o(c))return c.nodeValue}else a.each(a.query(c),function(f){if(t(f))f[m]=b;else if(o(f))f.nodeValue=b})}})});
KISSY.add("dom-style",function(a,r){function v(c,b){var f=a.get(c),k=b===t?f.offsetWidth:f.offsetHeight;a.each(b===t?["Left","Right"]:["Top","Bottom"],function(p){k-=parseFloat(g._getComputedStyle(f,"padding"+p))||0;k-=parseFloat(g._getComputedStyle(f,"border"+p+"Width"))||0});return k}function l(c,b,f){var k=f;if(f===o&&q.test(b)){k=0;if(a.inArray(g.css(c,"position"),["absolute","fixed"])){f=c[b==="left"?"offsetLeft":"offsetTop"];if(i.ie===8||i.opera)f-=h(g.css(c.offsetParent,"border-"+b+"-width"))||
0;k=f-(h(g.css(c,"margin-"+b))||0)}}return k}var g=a.DOM,i=a.UA,m=document,d=m.documentElement,t="width",o="auto",h=parseInt,q=/^(?:left|top)/,w=/^(?:width|height|top|left|right|bottom|margin|padding)/i,x=/-([a-z])/ig,z=function(c,b){return b.toUpperCase()},e={},j={};a.mix(g,{_CUSTOM_STYLES:e,_getComputedStyle:function(c,b){var f="",k=c.ownerDocument;if(c.style)f=k.defaultView.getComputedStyle(c,null)[b];return f},css:function(c,b,f){if(a.isPlainObject(b))for(var k in b)g.css(c,k,b[k]);else{if(b.indexOf("-")>
0)b=b.replace(x,z);b=e[b]||b;if(f===r){c=a.get(c);k="";if(c&&c.style){k=b.get?b.get(c):c.style[b];if(k===""&&!b.get)k=l(c,b,g._getComputedStyle(c,b))}return k===r?"":k}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&w.test(b))f+="px";(b===t||b==="height")&&parseFloat(f)<0||a.each(a.query(c),function(p){if(p&&p.style){b.set?b.set(p,f):(p.style[b]=f);if(f==="")p.style.cssText||p.removeAttribute("style")}})}}},width:function(c,b){if(b===r)return v(c,t);else g.css(c,t,b)},height:function(c,
b){if(b===r)return v(c,"height");else g.css(c,"height",b)},show:function(c){a.query(c).each(function(b){if(b){b.style.display=g.data(b,"display")||"";if(g.css(b,"display")==="none"){var f=b.tagName,k=j[f],p;if(!k){p=m.createElement(f);m.body.appendChild(p);k=g.css(p,"display");g.remove(p);j[f]=k}g.data(b,"display",k);b.style.display=k}}})},hide:function(c){a.query(c).each(function(b){if(b){var f=b.style,k=f.display;if(k!=="none"){k&&g.data(b,"display",k);f.display="none"}}})},toggle:function(c){a.query(c).each(function(b){if(b)b.style.display===
"none"?g.show(b):g.hide(b)})},addStyleSheet:function(c,b){var f;if(b&&(b=b.replace("#","")))f=a.get("#"+b);if(!f){f=g.create("<style>",{id:b});a.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=c;else f.appendChild(m.createTextNode(c))}}});if(d.style.cssFloat!==r)e["float"]="cssFloat";else if(d.style.styleFloat!==r)e["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,r){if(a.UA.ie){var v=a.DOM;a=document;var l=a.documentElement,g=v._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,m=/^-?\d/,d=/^(?:width|height)$/;try{if(l.style.opacity===r&&l.filters)g.opacity={get:function(o){var h=100;try{h=o.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{h=o.filters("alpha").opacity}catch(w){}}return h/100+""},set:function(o,h){var q=o.style;o=(o.currentStyle||0).filter||"";q.zoom=1;if(o)if(o=o.replace(/alpha\(opacity=.+\)/ig,""))o+=", ";
q.filter=o+"alpha(opacity="+h*100+")";if(h===1)q.filter=""}}}catch(t){}if(!(a.defaultView||{}).getComputedStyle&&l.currentStyle)v._getComputedStyle=function(o,h){var q=o.style,w=o.currentStyle[h];if(d.test(h))w=v[h](o)+"px";else if(!i.test(w)&&m.test(w)){var x=q.left,z=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left;q.left=h==="fontSize"?"1em":w||0;w=q.pixelLeft+"px";q.left=x;o.runtimeStyle.left=z}return w}}});
KISSY.add("dom-offset",function(a,r){function v(s){var u=0,B=0,y=h(s[j]);if(s[p]){s=s[p]();u=s[c];B=s[b];if(i.mobile!=="apple"){u+=g[f](y);B+=g[k](y)}}return{left:u,top:B}}function l(s,u){if(g.css(s,z)==="static")s.style[z]=e;var B=v(s),y={},n,A;for(A in u){n=x(g.css(s,A),10)||0;y[A]=n+u[A]-B[A]}g.css(s,y)}var g=a.DOM,i=a.UA,m=window,d=document,t=g._isElementNode,o=g._nodeTypeIs,h=g._getWin,q=d.compatMode==="CSS1Compat",w=Math.max,x=parseInt,z="position",e="relative",j="ownerDocument",c="left",b=
"top",f="scrollLeft",k="scrollTop",p="getBoundingClientRect";a.mix(g,{offset:function(s,u){if(!(s=a.get(s))||!s[j])return null;if(u===r)return v(s);l(s,u)},scrollIntoView:function(s,u,B,y){if((s=a.get(s))&&s[j]){y=y===r?true:!!y;B=B===r?true:!!B;if(!u||u===m)return s.scrollIntoView(B);u=a.get(u);if(o(u,9))u=h(u);var n=u&&"scrollTo"in u&&u.document,A=g.offset(s),C=n?{left:g.scrollLeft(u),top:g.scrollTop(u)}:g.offset(u),D={left:A[c]-C[c],top:A[b]-C[b]};A=n?g.viewportHeight(u):u.clientHeight;C=n?g.viewportWidth(u):
u.clientWidth;var E=g[f](u),G=g[k](u),H=E+C,F=G+A,L=s.offsetHeight;s=s.offsetWidth;var J=D.left+E-(x(g.css(u,"borderLeftWidth"))||0);D=D.top+G-(x(g.css(u,"borderTopWidth"))||0);var I=J+s,K=D+L,M,N;if(L>A||D<G||B)M=D;else if(K>F)M=K-A;if(y)if(s>C||J<E||B)N=J;else if(I>H)N=I-C;if(n){if(M!==r||N!==r)u.scrollTo(N,M)}else{if(M!==r)u[k]=M;if(N!==r)u[f]=N}}}});a.each(["Left","Top"],function(s,u){var B="scroll"+s;g[B]=function(y){var n=0,A=h(y),C;if(A&&(C=A.document))n=A[u?"pageYOffset":"pageXOffset"]||C.documentElement[B]||
C.body[B];else if(t(y=a.get(y)))n=y[B];return n}});a.each(["Width","Height"],function(s){g["doc"+s]=function(u){u=u||d;return w(q?u.documentElement["scroll"+s]:u.body["scroll"+s],g["viewport"+s](u))};g["viewport"+s]=function(u){var B="inner"+s;u=h(u);var y=u.document;return B in u?u[B]:q?y.documentElement["client"+s]:y.body["client"+s]}})});
KISSY.add("dom-traversal",function(a,r){function v(m,d,t,o){if(!(m=a.get(m)))return null;if(d===r)d=1;var h=null,q,w;if(a.isNumber(d)&&d>=0){if(d===0)return m;q=0;w=d;d=function(){return++q===w}}for(;m=m[t];)if(i(m)&&(!d||g.test(m,d))&&(!o||o(m))){h=m;break}return h}function l(m,d,t){var o=[];var h=m=a.get(m);if(m&&t)h=m.parentNode;if(h){t=0;for(h=h.firstChild;h;h=h.nextSibling)if(i(h)&&h!==m&&(!d||g.test(h,d)))o[t++]=h}return o}var g=a.DOM,i=g._isElementNode;a.mix(g,{parent:function(m,d){return v(m,
d,"parentNode",function(t){return t.nodeType!=11})},next:function(m,d){return v(m,d,"nextSibling")},prev:function(m,d){return v(m,d,"previousSibling")},siblings:function(m,d){return l(m,d,true)},children:function(m,d){return l(m,d)},contains:function(m,d){var t=false;if((m=a.get(m))&&(d=a.get(d)))if(m.contains){if(d.nodeType===3){d=d.parentNode;if(d===m)return true}if(d)return m.contains(d)}else if(m.compareDocumentPosition)return!!(m.compareDocumentPosition(d)&16);else for(;!t&&(d=d.parentNode);)t=
d==m;return t}})});
KISSY.add("dom-create",function(a,r){function v(y,n){w(y)&&a.isPlainObject(n)&&t.attr(y,n,true);return y}function l(y,n){var A=null,C;if(y&&(y.push||y.item)&&y[0]){n=n||y[0].ownerDocument;A=n.createDocumentFragment();if(y.item)y=a.makeArray(y);n=0;for(C=y.length;n<C;n++)A.appendChild(y[n])}return A}function g(y){var n=y.cloneNode(true);if(o.ie<8)n.innerHTML=y.innerHTML;return n}function i(y,n,A,C){if(A){var D=a.guid("ks-tmp-"),E=new RegExp(j);n+='<span id="'+D+'"></span>';a.available(D,function(){var G=
a.get("head"),H,F,L,J,I,K;for(E.lastIndex=0;H=E.exec(n);)if((L=(F=H[1])?F.match(b):false)&&L[2]){H=d.createElement("script");H.src=L[2];if((J=F.match(f))&&J[2])H.charset=J[2];H.async=true;G.appendChild(H)}else if((K=H[2])&&K.length>0)a.globalEval(K);(I=d.getElementById(D))&&t.remove(I);a.isFunction(C)&&C()});m(y,n)}else{m(y,n);a.isFunction(C)&&C()}}function m(y,n){n=(n+"").replace(j,"");try{y.innerHTML=n}catch(A){for(;y.firstChild;)y.removeChild(y.firstChild);n&&y.appendChild(t.create(n))}}var d=
document,t=a.DOM,o=a.UA,h=o.ie,q=t._nodeTypeIs,w=t._isElementNode,x=t._isKSNode,z=d.createElement("div"),e=/<(\w+)/,j=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,f=/\scharset=(['"])(.*?)\1/i;a.mix(t,{create:function(y,n,A){if(q(y,1)||q(y,3))return g(y);if(x(y))return g(y[0]);if(!(y=a.trim(y)))return null;var C=null;C=t._creators;var D,E="div",G;if(D=c.exec(y))C=(A||d).createElement(D[1]);else{if((D=e.exec(y))&&(G=D[1])&&a.isFunction(C[G=
G.toLowerCase()]))E=G;y=C[E](y,A).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):l(y,A||d)}return v(C,n)},_creators:{div:function(y,n){n=n?n.createElement("div"):z;n.innerHTML=y;return n}},html:function(y,n,A,C){if(n===r){y=a.get(y);if(w(y))return y.innerHTML}else a.each(a.query(y),function(D){w(D)&&i(D,n,A,C)})},remove:function(y){a.each(a.query(y),function(n){w(n)&&n.parentNode&&n.parentNode.removeChild(n)})}});if(h||o.gecko||o.webkit){var k=t._creators,p=t.create,s=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
u={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var B in u)(function(y){k[B]=function(n,A){return p("<"+y+">"+n+"</"+y+">",null,A)}})(u[B]);if(h){k.script=function(y,n){n=n?n.createElement("div"):z;n.innerHTML="-"+y;n.removeChild(n.firstChild);return n};if(h<8)k.tbody=function(y,n){n=p("<table>"+y+"</table>",null,n);var A=n.children.tags("tbody")[0];n.children.length>1&&A&&!s.test(y)&&A.parentNode.removeChild(A);return n}}a.mix(k,{optgroup:k.option,th:k.td,
thead:k.tbody,tfoot:k.tbody,caption:k.tbody,colgroup:k.tbody})}});
KISSY.add("dom-insertion",function(a){var r=a.DOM;a.mix(r,{insertBefore:function(v,l){if((v=a.get(v))&&(l=a.get(l))&&l.parentNode)l.parentNode.insertBefore(v,l);return v},insertAfter:function(v,l){if((v=a.get(v))&&(l=a.get(l))&&l.parentNode)l.nextSibling?l.parentNode.insertBefore(v,l.nextSibling):l.parentNode.appendChild(v);return v},append:function(v,l){if((v=a.get(v))&&(l=a.get(l)))l.appendChild&&l.appendChild(v)},prepend:function(v,l){if((v=a.get(v))&&(l=a.get(l)))l.firstChild?r.insertBefore(v,
l.firstChild):l.appendChild(v)}})});
KISSY.add("event",function(a,r){function v(j,c,b,f,k){if(a.isString(c))c=a.query(c);if(a.isArray(c)){a.each(c,function(p){e[j](p,b,f,k)});return true}if((b=a.trim(b))&&b.indexOf(w)>0){a.each(b.split(w),function(p){e[j](c,p,f,k)});return true}}function l(j){return m(j)?t.data(j,q):-1}function g(j,c){m(j)&&t.data(j,q,c)}function i(j){t.removeData(j,q)}function m(j){return j&&j.nodeType!==3&&j.nodeType!==8}var d=document,t=a.DOM,o=d.addEventListener?function(j,c,b,f){j.addEventListener&&j.addEventListener(c,
b,!!f)}:function(j,c,b){j.attachEvent&&j.attachEvent("on"+c,b)},h=d.removeEventListener?function(j,c,b,f){j.removeEventListener&&j.removeEventListener(c,b,!!f)}:function(j,c,b){j.detachEvent&&j.detachEvent("on"+c,b)},q="ksEventTargetId",w=" ",x=a.now(),z={},e={EVENT_GUID:q,special:{},add:function(j,c,b,f){if(!v("add",j,c,b,f)){var k=l(j),p,s,u,B,y;if(!(k===-1||!c||!a.isFunction(b))){if(!k){g(j,k=x++);z[k]={target:j,events:{}}}s=z[k].events;if(!s[c]){p=((k=!j.isCustomEventTarget)||j._supportSpecialEvent)&&
e.special[c]||{};u=function(n,A){if(!n||!n.fixed)n=new a.EventObject(j,n,c);if(a.isPlainObject(A)){var C=n.type;a.mix(n,A);n.type=C}p.setup&&p.setup(n);return(p.handle||e._handle)(j,n)};s[c]={handle:u,listeners:[]};B=p.fix||c;y=p.capture;p.init&&p.init.apply(null,a.makeArray(arguments));k&&p.fix!==false&&o(j,B,u,y)}s[c].listeners.push({fn:b,scope:f||j})}}},__getListeners:function(j,c){var b=[];if(j=(e.__getEvents(j)||{})[c])b=j.listeners;return b},__getEvents:function(j){var c=l(j),b;if(c!==-1)if(c&&
(b=z[c]))if(b.target===j)return b.events||{}},remove:function(j,c,b,f){if(!v("remove",j,c,b,f)){var k=e.__getEvents(j),p=l(j),s,u,B,y,n,A,C=(!j.isCustomEventTarget||j._supportSpecialEvent)&&e.special[c]||{};if(k!==undefined){f=f||j;if(s=k[c]){u=s.listeners;B=u.length;if(a.isFunction(b)&&B){n=y=0;for(A=[];y<B;++y)if(b!==u[y].fn||f!==u[y].scope)A[n++]=u[y];s.listeners=A;B=A.length}if(b===r||B===0){if(!j.isCustomEventTarget){C=e.special[c]||{};if(C.fix!==false)h(j,C.fix||c,s.handle)}delete k[c]}}C.destroy&&
C.destroy.apply(null,a.makeArray(arguments));if(c===r||a.isEmptyObject(k)){for(c in k)e.remove(j,c);delete z[p];i(j)}}}},_handle:function(j,c){j=e.__getListeners(j,c.type);j=j.slice(0);for(var b,f,k=0,p=j.length;k<p;++k){b=j[k];b=b.fn.call(b.scope,c);if(f!==false)f=b;if(b!==undefined){c.result=b;b===false&&c.halt()}if(c.isImmediatePropagationStopped)break}return f},_getCache:function(j){return z[j]},__getID:l,_simpleAdd:o,_simpleRemove:h};e.on=e.add;a.Event=e});
KISSY.add("event-object",function(a,r){function v(i,m,d){this.currentTarget=i;this.originalEvent=m||{};if(m){this.type=m.type;this._fix()}else{this.type=d;this.target=i}this.currentTarget=i;this.fixed=true}var l=document,g="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(v,{_fix:function(){var i=this.originalEvent,m=g.length,d,t=this.currentTarget;for(t=t.nodeType===9?t:t.ownerDocument||l;m;){d=g[--m];this[d]=i[d]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){i=t.documentElement;m=t.body;this.pageX=this.clientX+(i&&i.scrollLeft||m&&m.scrollLeft||
0)-(i&&i.clientLeft||m&&m.clientLeft||0);this.pageY=this.clientY+(i&&i.scrollTop||m&&m.scrollTop||0)-(i&&i.clientTop||m&&m.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var i=this.originalEvent;if(i.preventDefault)i.preventDefault();else i.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var i=
this.originalEvent;if(i.stopPropagation)i.stopPropagation();else i.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var i=this.originalEvent;i.stopImmediatePropagation?i.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(i){i?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=v});
KISSY.add("event-target",function(a,r){var v=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(l,g){var i=a.DOM.data(this,v.EVENT_GUID)||-1;if((l=((v._getCache(i)||{}).events||{})[l])&&a.isFunction(l.handle))return l.handle(r,g)},on:function(l,g,i){v.add(this,l,g,i);return this},detach:function(l,g,i){v.remove(this,l,g,i);return this}}});
KISSY.add("event-mouseenter",function(a){var r=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(v){r.special[v.name]={fix:v.fix,setup:function(l){l.type=v.name},handle:function(l,g){if(a.DOM._isKSNode(l))l=l[0];var i=g.relatedTarget;try{for(;i&&i!==l;)i=i.parentNode;i!==l&&r._handle(l,g)}catch(m){}}}})});
KISSY.add("event-focusin",function(a){var r=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(v){r.special[v.name]={fix:v.fix,capture:true,setup:function(l){l.type=v.name}}})});
KISSY.add("node",function(a){function r(l,g,i){if(!(this instanceof r))return new r(l,g,i);if(l){if(a.isString(l)){l=v.create(l,g,i);if(l.nodeType===11)return new a.NodeList(l.childNodes)}else if(l instanceof r)return l;else l=l;this[0]=l}else this.length=0}var v=a.DOM;r.TYPE="-ks-Node";a.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});a.one=function(l,g){return(l=a.get(l,g))?new r(l):null};a.Node=r});
KISSY.add("nodelist",function(a){function r(g){if(!(this instanceof r))return new r(g);v.push.apply(this,a.makeArray(g)||[])}var v=Array.prototype,l=a.DOM._isElementNode;a.mix(r.prototype,{length:0,item:function(g){var i=null,m,d;if(l(g)){m=0;for(d=this.length;m<d;m++)if(g===this[m]){g=m;break}}if(l(this[g]))i=new a.Node(this[g]);return i},getDOMNodes:function(){return v.slice.call(this)},each:function(g,i){var m=this.length,d=0,t;for(t=new a.Node(this[0]);d<m&&g.call(i||t,t,d,this)!==false;t=new a.Node(this[++d]));
return this}});a.all=function(g,i){return new r(a.query(g,i,true))};a.NodeList=r});
KISSY.add("node-attach",function(a,r){function v(p,s,u,B){p=[this[p?c:j]()].concat(a.makeArray(s));if(s[u]===r&&(u!=1||a.isString(s[0])))return B.apply(d,p);B.apply(d,p);return this}function l(p,s){a.each(p,function(u){a.each([z,e],function(B,y){B[u]=function(n){switch(s){case b:return function(){return v.call(this,y,arguments,1,n)};case f:return function(){return v.call(this,y,arguments,0,n)};case k:return function(){var A=this[y?c:j]();return(A=n.apply(d,[A].concat(a.makeArray(arguments))))?new (a[a.isArray(A)?
"NodeList":"Node"])(A):null};default:return function(){var A=this[y?c:j]();A=n.apply(d,[A].concat(a.makeArray(arguments)));return A===r?this:A}}}(d[u])})})}function g(p,s,u){p&&a.each(this,function(B){var y;if(s||a.isString(p))y=d.create(p);else{if(o(p,1)||o(p,3))y=p;if(h(p))y=p[0]}d[u](y,B)});return this}function i(p,s){if((p=a.get(p))&&p.appendChild)a.each(this,function(u){d[s](u,p)});return this}function m(p,s){p.__wrap=p.__wrap||[];p.__wrap.push(s)}var d=a.DOM,t=a.Event,o=d._nodeTypeIs,h=d._isKSNode,
q=a.EventTarget,w=a.Node,x=a.NodeList,z=w.prototype,e=x.prototype,j="getDOMNode",c=j+"s",b=1,f=2,k=4;a.mix(z,{one:function(p){return a.one(p,this[0])},all:function(p){return a.all(p,this[0])}});l(["data","removeData"],b);l(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);l(["attr","removeAttr"],b);l(["val","text"],f);l(["css"],b);l(["width","height"],f);l(["offset"],f);l(["scrollIntoView"]);l(["parent","next","prev","siblings","children"],k);l(["contains"]);l(["html"],f);l(["remove"]);
a.each(["insertBefore","insertAfter"],function(p){z[p]=function(s){d[p].call(d,this[0],s);return this}});a.each([z,e],function(p,s){a.each(["append","prepend"],function(u){p[u]=function(B){return g.call(this,B,s,u)};p[u+"To"]=function(B){return i.call(this,B,u)}})});a.augment(w,q,{fire:null,on:function(p,s,u){function B(n){var A=a.makeArray(arguments);A.shift();n.target=new w(n.target);if(n.relatedTarget)n.relatedTarget=new w(n.relatedTarget);A.unshift(n);return s.apply(u||y,A)}var y=this;t.add(this[0],
p,B,u);m(s,B);return this},detach:function(p,s,u){if(a.isFunction(s)){s=s.__wrap||[];for(var B=0;B<s.length;B++)t.remove(this[0],p,s[B],u)}else t.remove(this[0],p,s,u);return this}});a.augment(x,q,{fire:null});z._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(p,s){e[s]=function(u,B,y){for(var n=0;n<this.length;n++)this.item(n).on(u,B,y)}})});if(!this.JSON)this.JSON={};
(function(){function a(o){return o<10?"0"+o:o}function r(o){g.lastIndex=0;return g.test(o)?'"'+o.replace(g,function(h){var q=d[h];return typeof q==="string"?q:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function v(o,h){var q,w,x=i,z,e=h[o];if(e&&typeof e==="object"&&typeof e.toJSON==="function")e=e.toJSON(o);if(typeof t==="function")e=t.call(h,o,e);switch(typeof e){case "string":return r(e);case "number":return isFinite(e)?String(e):"null";case "boolean":case "null":return String(e);
case "object":if(!e)return"null";i+=m;z=[];if(Object.prototype.toString.apply(e)==="[object Array]"){w=e.length;for(o=0;o<w;o+=1)z[o]=v(o,e)||"null";h=z.length===0?"[]":i?"[\n"+i+z.join(",\n"+i)+"\n"+x+"]":"["+z.join(",")+"]";i=x;return h}if(t&&typeof t==="object"){w=t.length;for(o=0;o<w;o+=1){q=t[o];if(typeof q==="string")if(h=v(q,e))z.push(r(q)+(i?": ":":")+h)}}else for(q in e)if(Object.hasOwnProperty.call(e,q))if(h=v(q,e))z.push(r(q)+(i?": ":":")+h);h=z.length===0?"{}":i?"{\n"+i+z.join(",\n"+i)+
"\n"+x+"}":"{"+z.join(",")+"}";i=x;return h}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,m,d={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof JSON.stringify!=="function")JSON.stringify=function(o,h,q){var w;m=i="";if(typeof q==="number")for(w=0;w<q;w+=1)m+=" ";else if(typeof q==="string")m=q;if((t=h)&&typeof h!=="function"&&(typeof h!=="object"||typeof h.length!=="number"))throw new Error("JSON.stringify");return v("",
{"":o})};if(typeof JSON.parse!=="function")JSON.parse=function(o,h){function q(w,x){var z,e,j=w[x];if(j&&typeof j==="object")for(z in j)if(Object.hasOwnProperty.call(j,z)){e=q(j,z);if(e!==undefined)j[z]=e;else delete j[z]}return h.call(w,x,j)}o=String(o);l.lastIndex=0;if(l.test(o))o=o.replace(l,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){o=eval("("+o+")");return typeof h==="function"?q({"":o},""):o}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var r=window.JSON;a.JSON={parse:function(v){if(v==null||v==="")return null;return r.parse(v)},stringify:r.stringify}});
KISSY.add("ajax",function(a,r){function v(n){n=a.merge(y,n);if(n.url){if(n.data&&!a.isString(n.data))n.data=a.param(n.data);n.context=n.context||n;var A,C=k,D,E=n.type.toUpperCase();if(n.dataType===z){A=n.jsonpCallback||z+a.now();n.url=g(n.url,n.jsonp+"="+A);n.dataType=e;var G=t[A];t[A]=function(I){if(a.isFunction(G))G(I);else{t[A]=r;try{delete t[A]}catch(K){}}i([k,p],I,C,F,n)}}if(n.data&&E===h)n.url=g(n.url,n.data);if(n.dataType===e){m(c,n);E=a.getScript(n.url,A?null:function(){i([k,p],j,C,F,n)});
m(b,n);return E}var H=false,F=n.xhr();m(c,n);F.open(E,n.url,n.async);try{if(n.data||n.contentType)F.setRequestHeader(w,n.contentType);F.setRequestHeader("Accept",n.dataType&&n.accepts[n.dataType]?n.accepts[n.dataType]+", */*; q=0.01":n.accepts._default)}catch(L){}F.onreadystatechange=function(I){if(!F||F.readyState===0||I==="abort"){H||i(p,null,s,F,n);H=true;if(F)F.onreadystatechange=o}else if(!H&&F&&(F.readyState===4||I===u)){H=true;F.onreadystatechange=o;C=I===u?u:l(F)?k:s;try{D=d(F,n.dataType)}catch(K){C=
B}i([C===k?k:s,p],D,C,F,n);if(I===u){F.abort();m(f,n)}if(n.async)F=null}};m(b,n);try{F.send(E===q?n.data:null)}catch(J){i([s,p],D,s,F,n)}n.async||m(p,n);return F}}function l(n){try{return n.status>=200&&n.status<300||n.status===304||n.status===1223}catch(A){}return false}function g(n,A){return n+(n.indexOf("?")===-1?"?":"&")+A}function i(n,A,C,D,E){if(a.isArray(n))a.each(n,function(G){i(G,A,C,D,E)});else{C===n&&E[n]&&E[n].call(E.context,A,C,D);m(n,E)}}function m(n,A){v.fire(n,{ajaxConfig:A})}function d(n,
A){var C=j,D,E=n;if(!a.isString(E)){C=n.getResponseHeader(w)||j;E=(D=A==="xml"||!A&&C.indexOf("xml")>=0)?n.responseXML:n.responseText;if(D&&E.documentElement.nodeName===B)throw B;}if(a.isString(E))if(A===x||!A&&C.indexOf(x)>=0)E=a.JSON.parse(E);return E}var t=window,o=function(){},h="GET",q="POST",w="Content-Type",x="json",z=x+"p",e="script",j="",c="start",b="send",f="stop",k="success",p="complete",s="error",u="timeout",B="parsererror",y={type:h,url:j,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:t.ActiveXObject?function(){if(t.XmlHttpRequest)try{return new t.XMLHttpRequest}catch(n){}try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(A){}}:function(){return new t.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(v,a.EventTarget);a.mix(v,{get:function(n,A,C,D,E){if(a.isFunction(A)){D=C;C=A}return v({type:E||
h,url:n,data:A,success:function(G,H,F){C&&C.call(this,G,H,F)},dataType:D})},post:function(n,A,C,D){if(a.isFunction(A)){D=C;C=A;A=r}return v.get(n,A,C,D,q)},jsonp:function(n,A,C){if(a.isFunction(A)){C=A;A=null}return v.get(n,A,C,z)}});v.getScript=a.getScript;a.io=a.ajax=v.ajax=v;a.jsonp=v.jsonp;a.IO=v});
KISSY.add("anim-easing",function(a){var r=Math,v=r.PI,l=r.pow,g=r.sin,i=1.70158,m={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(l(2,10*(d-=1))*g((d-0.075)*2*v/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return l(2,-10*d)*g((d-0.075)*2*v/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*l(2,10*(d-=1))*g((d-0.1125)*2*v/0.45);return l(2,-10*(d-=1))*g((d-0.1125)*2*v/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((i+1)*d-i)},backOut:function(d){return(d-=1)*d*((i+1)*d+i)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((i*=1.525)+1)*d-i);return 0.5*((d-=2)*d*(((i*=1.525)+1)*d+i)+2)},bounceIn:function(d){return 1-
m.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return m.bounceIn(d*2)*0.5;return m.bounceOut(d*2-1)*0.5+0.5}};m.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=m});
KISSY.add("anim",function(a,r){function v(b,f,k,p,s,u){if(b=a.get(b)){if(!(this instanceof v))return new v(b,f,k,p,s,u);var B=a.isPlainObject(k);f=f;this.domEl=b;if(a.isPlainObject(f))f=a.param(f,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();this.props=i(f);this.targetStyle=f;if(B)b=a.merge(c,k);else{b=a.clone(c);if(k)b.duration=w(k)||1;if(a.isString(p)||a.isFunction(p))b.easing=p;if(a.isFunction(s))b.complete=s;if(u!==r)b.nativeSupport=u}this.config=b;
if(b.nativeSupport&&l()&&a.isString(p=b.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(p)||(p=q.NativeTimeFunction[p])){b.easing=p;this.transitionName=l()}a.isFunction(s)&&this.on(j,s)}}function l(){var b="transition",f;if(x.style[b]!==r)f=b;else a.each(["Webkit","Moz","O"],function(k){if(x.style[b=k+"Transition"]!==r){f=b;return false}});l=function(){return f};return f}function g(b,f,k){a.UA.ie&&k.indexOf(e)>-1&&h.css(b,e,f[e].v);b.style.cssText+=";"+k}function i(b){var f={},k=z.length,p;x.innerHTML=
'<div style="'+b+'"></div>';for(b=x.firstChild.style;k--;)if(p=b[z[k]])f[z[k]]=m(p);return f}function m(b){var f=w(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(f)?{v:b,u:"",f:t}:{v:f,u:b,f:d}}function d(b,f,k){return(b+(f-b)*k).toFixed(3)}function t(b,f,k){for(var p=2,s,u,B=[],y=[];s=3,u=arguments[p-1],p--;)if(o(u,0,4)==="rgb(")for(u=u.match(/\d+/g);s--;)B.push(~~u[s]);else if(o(u,0)==="#"){if(u.length===4)u="#"+o(u,1)+o(u,1)+o(u,2)+o(u,2)+o(u,3)+o(u,3);for(;s--;)B.push(parseInt(o(u,1+s*2,2),16))}else return f;
for(;s--;){p=~~(B[s+3]+(B[s]-B[s+3])*k);y.push(p<0?0:p>255?255:p)}return"rgb("+y.join(",")+")"}function o(b,f,k){return b.substr(f,k||1)}var h=a.DOM,q=a.Easing,w=parseFloat,x=h.create("<div>"),z="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
e="opacity",j="complete",c={duration:1,easing:"easeNone",nativeSupport:true};a.augment(v,a.EventTarget,{run:function(){var b=this,f=b.config,k=b.domEl,p,s,u,B,y=b.props,n={},A;for(A in y)n[A]=m(h.css(k,A));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{p=f.duration*1E3;u=a.now();B=u+p;s=f.easing;if(a.isString(s))s=q[s]||q.easeNone;b.timer=a.later(f=function(){var C=a.now(),D=C>B?1:(C-u)/p,E,G,H;for(A in y){E=n[A];G=y[A];if(G.v==0)G.u=E.u;if(E.u!==G.u)E.v=0;h.css(k,A,
G.f(E.v,G.v,s(D))+G.u)}if(b.fire("step")===false||(H=C>B)){b.stop();H&&b.fire(j)}},13,true);f()}return b}},_nativeRun:function(){var b=this,f=b.config,k=b.domEl,p=b.props,s=f.duration*1E3;f=f.easing;var u=b.transitionName,B={};B[u+"Property"]="all";B[u+"Duration"]=s+"ms";B[u+"TimingFunction"]=f;h.css(k,B);a.later(function(){g(k,p,b.targetStyle)},0);a.later(function(){b.stop(true)},s)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=r}if(b){g(this.domEl,
this.props,this.targetStyle);this.fire(j)}}return this},_nativeStop:function(b){var f=this.domEl,k=this.transitionName,p=this.props,s;if(b){h.css(f,k+"Property","none");this.fire(j)}else{for(s in p)h.css(f,s,h._getComputedStyle(f,s));h.css(f,k+"Property","none")}}});v.supportTransition=function(){return!!l()};a.Anim=v});
KISSY.add("anim-node-plugin",function(a,r){function v(x,z,e,j,c){if(z==="toggle"){c=l.css(x,i)===m?1:0;z="show"}if(c)l.css(x,i,l.data(x,i)||"");var b={},f={};a.each(w[z],function(k){if(k===d){b[d]=l.css(x,d);l.css(x,d,t)}else if(k===o){b[o]=l.css(x,o);f.opacity=c?1:0;c&&l.css(x,o,0)}else if(k===h){b[h]=l.css(x,h);f.height=c?l.css(x,h)||x.naturalHeight:0;c&&l.css(x,h,0)}else if(k===q){b[q]=l.css(x,q);f.width=c?l.css(x,q)||x.naturalWidth:0;c&&l.css(x,q,0)}});(new a.Anim(x,f,e,"easeOut",function(){if(!c){var k=
x.style,p=k[i];if(p!==m){p&&l.data(x,i,p);k[i]=m}b[h]&&l.css(x,{height:b[h]});b[q]&&l.css(x,{width:b[q]});b[o]&&l.css(x,{opacity:b[o]});b[d]&&l.css(x,{overflow:b[d]})}j&&a.isFunction(j)&&j()})).run()}var l=a.DOM,g=a.Anim,i="display",m="none",d="overflow",t="hidden",o="opacity",h="height",q="width",w={show:[d,o,h,q],fade:[o],slide:[d,h]};a.each([a.Node.prototype,a.NodeList.prototype],function(x){x.animate=function(){var z=a.makeArray(arguments);a.each(this,function(e){g.apply(r,[e].concat(z)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(z,e){x[e]=function(j,c){l[e]&&arguments.length===0?l[e](this):a.each(this,function(b){v(b,z[0],j,c,z[1])});return this}})})});
KISSY.add("cookie",function(a){function r(i){return a.isString(i)&&i!==""}var v=document,l=encodeURIComponent,g=decodeURIComponent;a.Cookie={get:function(i){var m;if(r(i))if(i=v.cookie.match("(?:^| )"+i+"(?:(?:=([^;]*))|;|$)"))m=i[1]?g(i[1]):"";return m},set:function(i,m,d,t,o,h){m=l(m);var q=d;if(typeof q==="number"){q=new Date;q.setTime(q.getTime()+d*864E5)}if(q instanceof Date)m+="; expires="+q.toUTCString();if(r(t))m+="; domain="+t;if(r(o))m+="; path="+o;if(h)m+="; secure";v.cookie=i+"="+m},remove:function(i,
m,d,t){this.set(i,"",0,m,d,t)}}});
KISSY.add("attribute",function(a,r){function v(){this.__attrs={};this.__attrVals={}}function l(g){g+="";return g.charAt(0).toUpperCase()+g.substring(1)}a.augment(v,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(g,i){this.__attrs[g]=a.clone(i||{});return this},hasAttr:function(g){return g&&this.__attrs.hasOwnProperty(g)},removeAttr:function(g){if(this.hasAttr(g)){delete this.__attrs[g];delete this.__attrVals[g]}return this},set:function(g,i){var m=this.get(g);if(m!==i)if(false!==
this.__fireAttrChange("before",g,m,i)){this.__set(g,i);this.__fireAttrChange("after",g,m,this.__attrVals[g]);return this}},__fireAttrChange:function(g,i,m,d){return this.fire(g+l(i)+"Change",{attrName:i,prevVal:m,newVal:d})},__set:function(g,i){var m,d=this.__attrs[g];if(d=d&&d.setter)m=d.call(this,i);if(m!==r)i=m;this.__attrVals[g]=i},get:function(g){var i;i=(i=this.__attrs[g])&&i.getter;g=g in this.__attrVals?this.__attrVals[g]:this.__getDefAttrVal(g);if(i)g=i.call(this,g);return g},__getDefAttrVal:function(g){g=
this.__attrs[g];var i;if(g){if(i=g.valueFn){i=i.call(this);if(i!==r)g.value=i;delete g.valueFn}return g.value}},reset:function(g){if(this.hasAttr(g))return this.set(g,this.__getDefAttrVal(g));for(g in this.__attrs)this.hasAttr(g)&&this.reset(g);return this}});a.Attribute=v;v.__capitalFirst=l});
KISSY.add("base",function(a){function r(g){a.Attribute.call(this);for(var i=this.constructor;i;){v(this,i.ATTRS);i=i.superclass?i.superclass.constructor:null}l(this,g)}function v(g,i){if(i)for(var m in i)i.hasOwnProperty(m)&&!g.hasAttr(m)&&g.addAttr(m,i[m])}function l(g,i){if(i)for(var m in i)i.hasOwnProperty(m)&&g.__set(m,i[m])}a.augment(r,a.EventTarget,a.Attribute);a.Base=r});KISSY.add("core");
