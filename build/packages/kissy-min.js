/*
Copyright 2010, KISSY UI Library v1.1.0
MIT Licensed
build time: Aug 2 22:52
*/
(function(c,s,n){if(c[s]===n)c[s]={};s=c[s];var t=c.document,p=function(j,e,h,q){if(!e||!j)return j;if(h===n)h=true;var u,w,r;if(q&&(r=q.length))for(u=0;u<r;u++){w=q[u];if(w in e)if(h||!(w in j))j[w]=e[w]}else for(w in e)if(h||!(w in j))j[w]=e[w];return j},k=false,i=[],d=false,o=/^#?([\w-]+)$/;p(s,{version:"1.1.0",_init:function(){this.Env={mods:{},guid:0}},add:function(j,e){this.Env.mods[j]={name:j,fn:e};e(this);return this},ready:function(j){d||this._bindReady();k?j.call(c,this):i.push(j);return this},
_bindReady:function(){var j=this,e=t.documentElement.doScroll,h=e?"onreadystatechange":"DOMContentLoaded",q=function(){j._fireReady()};d=true;if(t.readyState==="complete")return q();if(t.addEventListener){var u=function(){t.removeEventListener(h,u,false);q()};t.addEventListener(h,u,false);c.addEventListener("load",q,false)}else{var w=function(){if(t.readyState==="complete"){t.detachEvent(h,w);q()}};t.attachEvent(h,w);c.attachEvent("onload",q);if(c==c.top){var r=function(){try{e("left");q()}catch(a){setTimeout(r,
1)}};r()}}},_fireReady:function(){if(!k){k=true;if(i){for(var j,e=0;j=i[e++];)j.call(c,this);i=null}}},available:function(j,e){if((j=(j+"").match(o)[1])&&s.isFunction(e))var h=1,q=s.later(function(){if(t.getElementById(j)&&(e()||1)||++h>500)q.cancel()},40,true)},mix:p,merge:function(){var j={},e,h=arguments.length;for(e=0;e<h;++e)p(j,arguments[e]);return j},augment:function(){var j=arguments,e=j.length-2,h=j[0],q=j[e],u=j[e+1],w=1;if(!s.isArray(u)){q=u;u=n;e++}if(!s.isBoolean(q)){q=n;e++}for(;w<e;w++)p(h.prototype,
j[w].prototype||j[w],q,u);return h},extend:function(j,e,h,q){if(!e||!j)return j;var u=Object.prototype,w=e.prototype,r=function(a){function b(){}b.prototype=a;return new b}(w);j.prototype=r;r.constructor=j;j.superclass=w;if(e!==Object&&w.constructor===u.constructor)w.constructor=e;h&&p(r,h);q&&p(j,q);return j},namespace:function(){var j=arguments.length,e=null,h,q,u;for(h=0;h<j;++h){u=(""+arguments[h]).split(".");e=this;for(q=c[u[0]]===e?1:0;q<u.length;++q)e=e[u[q]]=e[u[q]]||{}}return e},app:function(j,
e){var h=c[j]||{};p(h,this,true,["_init","add","namespace"]);h._init();return p(c[j]=h,typeof e==="function"?e():e)},log:function(j,e,h){if(this.Config.debug){if(h)j=h+": "+j;if(c.console!==n&&console.log)console[e&&console[e]?e:"log"](j)}return this},error:function(j){if(this.Config.debug)throw j;},guid:function(j){var e=this.Env.guid++ +"";return j?j+e:e}});s._init();s.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(c,s){function n(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var t=window,p=document,k=location,i=Array.prototype,d=i.indexOf,o=i.filter,j=String.prototype.trim,e=Object.prototype.toString,h=encodeURIComponent,q=decodeURIComponent,u=/^\s+|\s+$/g,w=/^(\w+)\[\]$/,r=/\S/;c.mix(c,{isUndefined:function(a){return a===s},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&e.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return e.call(a)==="[object Function]"},isArray:function(a){return e.call(a)==="[object Array]"},trim:j?function(a){return a==s?"":j.call(a)}:function(a){return a==s?"":a.toString().replace(u,"")},each:function(a,b,f){for(var g=a&&a.length||0,m=0;m<g;++m)b.call(f||t,a[m],m,a)},indexOf:d?function(a,
b){return d.call(b,a)}:function(a,b){for(var f=0,g=b.length;f<g;++f)if(b[f]===a)return f;return-1},inArray:function(a,b){return c.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===s)return[];if(c.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||c.isFunction(a))return[a];if(a.item&&c.UA.ie){for(var b=[],f=0,g=a.length;f<g;++f)b[f]=a[f];return b}return i.slice.call(a)},filter:o?function(a,b,f){return o.call(a,b,f)}:function(a,b,f){var g=[];c.each(a,function(m,l,v){b.call(f,
m,l,v)&&g.push(m)});return g},param:function(a,b){if(!c.isPlainObject(a))return"";b=b||"&";var f=[],g,m;for(g in a){m=a[g];g=h(g);if(n(m))f.push(g,"=",h(m+""),b);else if(c.isArray(m)&&m.length)for(var l=0,v=m.length;l<v;++l)n(m[l])&&f.push(g,"[]=",h(m[l]+""),b)}f.pop();return f.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=c.trim(a)).length===0)return{};var f={};a=a.split(b||"&");for(var g,m,l,v=0,x=a.length;v<x;++v){b=a[v].split("=");g=q(b[0]);try{m=q(b[1]||"")}catch(A){m=b[1]||""}if((l=
g.match(w))&&l[1]){f[l[1]]=f[l[1]]||[];f[l[1]].push(m)}else f[g]=m}return f},later:function(a,b,f,g,m){b=b||0;g=g||{};var l=a,v=c.makeArray(m),x;if(typeof a==="string")l=g[a];l||c.error("method undefined");a=function(){l.apply(g,v)};x=f?setInterval(a,b):setTimeout(a,b);return{id:x,interval:f,cancel:function(){this.interval?clearInterval(x):clearTimeout(x)}}},clone:function(a){var b=a,f,g;if(a&&((f=c.isArray(a))||c.isPlainObject(a))){b=f?[]:{};for(g in a)if(a.hasOwnProperty(g))b[g]=c.clone(a[g])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&r.test(a)){var b=p.getElementsByTagName("head")[0]||p.documentElement,f=p.createElement("script");f.text=a;b.insertBefore(f,b.firstChild);b.removeChild(f)}}});if(k&&k.search&&k.search.indexOf("ks-debug")!==-1)c.Config.debug=true});
KISSY.add("kissy-ua",function(c){var s=navigator.userAgent,n,t={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},p=function(k){var i=0;return parseFloat(k.replace(/\./g,function(){return i++===0?".":""}))};if((n=s.match(/AppleWebKit\/([\d.]*)/))&&n[1]){t.webkit=p(n[1]);if((n=s.match(/Chrome\/([\d.]*)/))&&n[1])t.chrome=p(n[1]);else if((n=s.match(/\/([\d.]*) Safari/))&&n[1])t.safari=p(n[1]);if(/ Mobile\//.test(s))t.mobile="Apple";else if(n=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))t.mobile=
n[0]}else if((n=s.match(/Opera\/.* Version\/([\d.]*)/))&&n[1]){t.opera=p(n[1]);if(s.match(/Opera Mini[^;]*/))t.mobile=n[0]}else if((n=s.match(/MSIE\s([^;]*)/))&&n[1])t.ie=p(n[1]);else if(n=s.match(/Gecko/)){t.gecko=1;if((n=s.match(/rv:([\d.]*)/))&&n[1])t.gecko=p(n[1]);if((n=s.match(/Firefox\/([\d.]*)/))&&n[1])t.firefox=p(n[1])}c.UA=t});
KISSY.add("dom",function(c){var s={_isSupportedNode:function(n){return s._isElementNode(n)||s._isTextNode(n)},_isElementNode:function(n){return n&&n.nodeType===1},_isTextNode:function(n){return n&&n.nodeType===3},_isKSNode:function(n){return n&&c.Node&&n.nodeType===c.Node.TYPE}};c.DOM=s});
KISSY.add("selector",function(c,s){function n(a,b){var f,g=[],m,l;b=t(b);if(c.isString(a)){a=c.trim(a);if(w.test(a)){if(a=p(a.slice(1),b))g=[a]}else if(f=r.exec(a)){m=f[1];l=f[2];f=f[3];if(b=m?p(m,b):b)if(f)if(!m||a.indexOf(e)!==-1)g=i(f,l,b);else{if((a=p(m,b))&&j.hasClass(a,f))g=[a]}else if(l)g=k(l,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else d(a)}else if(a&&(a[q]||a[u]))g=a[q]?[a[q]()]:a[u]();else if(a&&a.nodeType)g=[a];else if(a&&(c.isArray(a)||a.item))g=a;if(g.item)g=c.makeArray(g);
return g}function t(a){if(a===s)a=o;else if(c.isString(a)&&w.test(a))a=p(a.slice(1),o);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function p(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function k(a,b){return b.getElementsByTagName(a)}function i(a,b,f){f=a=f.getElementsByClassName(a);var g=0,m=0,l=a.length,v;if(b&&b!==h){f=[];for(b=b.toUpperCase();g<l;++g){v=a[g];if(v.tagName===b)f[m++]=v}}return f}function d(a){c.error("Unsupported selector: "+a)}var o=document,
j=c.DOM,e=" ",h="*",q="getDOMNode",u=q+"s",w=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=o.createElement("div");a.appendChild(o.createComment(""));if(a.getElementsByTagName(h).length>0)k=function(b,f){f=f.getElementsByTagName(b);if(b===h){b=[];for(var g=0,m=0,l;l=f[g++];)if(l.nodeType===1)b[m++]=l;f=b}return f}})();o.getElementsByClassName||(i=o.querySelectorAll?function(a,b,f){return f.querySelectorAll((b?b:"")+"."+a)}:function(a,b,f){b=f.getElementsByTagName(b||
h);f=[];var g=0,m=0,l=b.length,v,x;for(a=e+a+e;g<l;++g){v=b[g];if((x=v.className)&&(e+x+e).indexOf(a)>-1)f[m++]=v}return f});c.query=n;c.get=function(a,b){return n(a,b)[0]||null};c.mix(j,{query:n,get:c.get,filter:function(a,b){var f=n(a),g,m,l,v=[];if(c.isString(b)&&(g=r.exec(b))&&!g[1]){m=g[2];l=g[3];b=function(x){return!(m&&x.tagName!==m.toUpperCase()||l&&!j.hasClass(x,l))}}if(c.isFunction(b))v=c.filter(f,b);else if(b&&c.ExternalSelector)v=c.ExternalSelector._filter(a,b);else d(b);return v},test:function(a,
b){a=n(a);return j.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(c,s){function n(i,d,o,j){if(!(d=c.trim(d)))return j?false:s;i=c.query(i);var e=0,h=i.length;d=d.split(p);for(var q;e<h;e++){q=i[e];if(t._isElementNode(q)){q=o(q,d,d.length);if(q!==s)return q}}if(j)return false}var t=c.DOM,p=/[\.\s]\s*\.?/,k=/[\n\t]/g;c.mix(t,{hasClass:function(i,d){return n(i,d,function(o,j,e){if(o=o.className){o=" "+o+" ";for(var h=0,q=true;h<e;h++)if(o.indexOf(" "+j[h]+" ")<0){q=false;break}if(q)return true}},true)},addClass:function(i,d){n(i,d,function(o,
j,e){var h=o.className;if(h){var q=" "+h+" ";h=h;for(var u=0;u<e;u++)if(q.indexOf(" "+j[u]+" ")<0)h+=" "+j[u];o.className=c.trim(h)}else o.className=d})},removeClass:function(i,d){n(i,d,function(o,j,e){var h=o.className;if(h)if(e){h=(" "+h+" ").replace(k," ");for(var q=0,u;q<e;q++)for(u=" "+j[q]+" ";h.indexOf(u)>=0;)h=h.replace(u," ");o.className=c.trim(h)}else o.className=""})},replaceClass:function(i,d,o){t.removeClass(i,d);t.addClass(i,o)},toggleClass:function(i,d,o){var j=c.isBoolean(o),e;n(i,
d,function(h,q,u){for(var w=0,r;w<u;w++){r=q[w];e=j?!o:t.hasClass(h,r);t[e?"removeClass":"addClass"](h,r)}})}})});
KISSY.add("dom-attr",function(c,s){function n(r,a){return a&&a.nodeName.toUpperCase()===r.toUpperCase()}var t=c.UA,p=t.ie,k=p&&p<8,i=document.documentElement.textContent!==s?"textContent":"innerText",d=c.DOM,o=d._isElementNode,j=d._isTextNode,e=/href|src|style/,h=/href|src|colspan|rowspan/,q=/\r/g,u=/radio|checkbox/,w={readonly:"readOnly"};k&&c.mix(w,{"for":"htmlFor","class":"className"});c.mix(d,{attr:function(r,a,b){if(c.isPlainObject(a))for(var f in a)d.attr(r,f,a[f]);else if(a=c.trim(a)){a=a.toLowerCase();
a=w[a]||a;if(b===s){r=c.get(r);if(!o(r))return s;var g;e.test(a)||(g=r[a]);if(g===s)g=r.getAttribute(a);if(k)if(h.test(a))g=r.getAttribute(a,2);else if(a==="style")g=r.style.cssText;return g===null?s:g}c.each(c.query(r),function(m){if(o(m))if(k&&a==="style")m.style.cssText=b;else{if(a==="checked")m[a]=!!b;m.setAttribute(a,""+b)}})}},removeAttr:function(r,a){c.each(c.query(r),function(b){if(o(b)){d.attr(b,a,"");b.removeAttribute(a)}})},val:function(r,a){if(a===s){var b=c.get(r);if(!o(b))return s;if(n("option",
b))return(b.attributes.value||{}).specified?b.value:b.text;if(n("select",b)){var f=b.selectedIndex;r=b.options;if(f<0)return null;else if(b.type==="select-one")return d.val(r[f]);b=[];for(var g=0,m=r.length;g<m;++g)r[g].selected&&b.push(d.val(r[g]));return b}if(t.webkit&&u.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(q,"")}c.each(c.query(r),function(l){if(n("select",l)){if(c.isNumber(a))a+="";var v=c.makeArray(a),x=l.options,A;g=0;for(m=x.length;g<m;++g){A=
x[g];A.selected=c.inArray(d.val(A),v)}if(!v.length)l.selectedIndex=-1}else if(o(l))l.value=a})},text:function(r,a){if(a===s){r=c.get(r);if(o(r))return r[i]||"";else if(j(r))return r.nodeValue}else c.each(c.query(r),function(b){if(o(b))b[i]=a;else if(j(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,s){function n(a,b){var f=c.get(a),g=b===o?f.offsetWidth:f.offsetHeight;c.each(b===o?["Left","Right"]:["Top","Bottom"],function(m){g-=parseFloat(p._getComputedStyle(f,"padding"+m))||0;g-=parseFloat(p._getComputedStyle(f,"border"+m+"Width"))||0});return g}function t(a,b,f){var g=f;if(f===j&&h.test(b)){g=0;if(p.css(a,"position")==="absolute"){f=a[b==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)f-=e(p.css(a.offsetParent,"border-"+b+"-width"))||0;g=f-(e(p.css(a,
"margin-"+b))||0)}}return g}var p=c.DOM,k=c.UA,i=document,d=i.documentElement,o="width",j="auto",e=parseInt,h=/^left|top$/,q=/width|height|top|left|right|bottom|margin|padding/i,u=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},r={};c.mix(p,{_CUSTOM_STYLES:r,_getComputedStyle:function(a,b){var f="",g=a.ownerDocument;if(a.style)f=g.defaultView.getComputedStyle(a,null)[b];return f},css:function(a,b,f){if(c.isPlainObject(b))for(var g in b)p.css(a,g,b[g]);else{if(b.indexOf("-")>0)b=b.replace(u,w);
b=r[b]||b;if(f===s){a=c.get(a);g="";if(a&&a.style){g=b.get?b.get(a):a.style[b];if(g===""&&!b.get)g=t(a,b,p._getComputedStyle(a,b))}return g===s?"":g}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&q.test(b))f+="px";(b===o||b==="height")&&parseFloat(f)<0||c.each(c.query(a),function(m){if(m&&m.style){b.set?b.set(m,f):(m.style[b]=f);if(f==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(a,b){if(b===s)return n(a,o);else p.css(a,o,b)},height:function(a,b){if(b===s)return n(a,
"height");else p.css(a,"height",b)},addStyleSheet:function(a,b){var f;if(b)f=c.get(b);f||(f=p.create("<style>",{id:b}));c.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=a;else f.appendChild(i.createTextNode(a))}});if(d.style.cssFloat!==s)r["float"]="cssFloat";else if(d.style.styleFloat!==s)r["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,s){if(c.UA.ie){var n=c.DOM,t=document,p=t.documentElement,k=n._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,d=/^-?\d/,o=/^width|height$/;try{if(p.style.opacity===s&&p.filters)k.opacity={get:function(e){var h=100;try{h=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{h=e.filters("alpha").opacity}catch(u){}}return h/100+""},set:function(e,h){e=e.style;e.zoom=1;e.filter="alpha(opacity="+h*100+")"}}}catch(j){c.log("IE filters ActiveX is disabled. ex = "+j)}if(!(t.defaultView||
{}).getComputedStyle&&p.currentStyle)n._getComputedStyle=function(e,h){var q=e.style,u=e.currentStyle[h];if(o.test(h))u=n[h](e)+"px";else if(!i.test(u)&&d.test(u)){var w=q.left,r=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;q.left=h==="fontSize"?"1em":u||0;u=q.pixelLeft+"px";q.left=w;e.runtimeStyle.left=r}return u}}});
KISSY.add("dom-offset",function(c,s){function n(l){var v=0,x=0,A=p(l[r]);if(l[m]){l=l[m]();v=l[a]+k[f](A);x=l[b]+k[g](A)}return{left:v,top:x}}function t(l,v){if(k.css(l,q)==="static")l.style[q]=u;var x=n(l),A={},y,z;for(z in v){y=h(k.css(l,z),10)||0;A[z]=y+v[z]-x[z]}k.css(l,A)}function p(l){return l&&"scrollTo"in l&&l[w]?l:l&&l.nodeType===9?l.defaultView||l.parentWindow:false}var k=c.DOM,i=window,d=document,o=k._isElementNode,j=d.compatMode==="CSS1Compat",e=Math.max,h=parseInt,q="position",u="relative",
w="document",r="ownerDocument",a="left",b="top",f="scrollLeft",g="scrollTop",m="getBoundingClientRect";c.mix(k,{offset:function(l,v){if(!(l=c.get(l))||!l[r])return null;if(v===s)return n(l);t(l,v)},scrollIntoView:function(l,v,x,A){if((l=c.get(l))&&l[r]){v=c.get(v);A=A===s?true:!!A;x=x===s?true:!!x;if(!o(v))return l.scrollIntoView(x);var y=k.offset(l),z=k.offset(v),B={left:y[a]-z[a],top:y[b]-z[b]};y=v.clientHeight;z=v.clientWidth;var C=k[f](v),D=k[g](v),E=C+z,F=D+y,G=l.offsetHeight;l=l.offsetWidth;
var H=B.left+C-(h(k.css(v,"borderLeftWidth"))||0);B=B.top+D-(h(k.css(v,"borderTopWidth"))||0);var I=H+l,J=B+G;if(G>y||B<D||x)v[g]=B;else if(J>F)v[g]=J-y;if(A)if(l>z||H<C||x)v[f]=H;else if(I>E)v[f]=I-z}}});c.each(["Left","Top"],function(l,v){var x="scroll"+l;k[x]=function(A){var y=0,z=A===s?i:p(A),B;if(z&&(B=z[w]))y=z[v?"pageYOffset":"pageXOffset"]||B.documentElement[x]||B.body[x];else if(o(A=c.get(A)))y=A[x];return y}});c.each(["Width","Height"],function(l){k["doc"+l]=function(v){v=v||d;return e(j?
v.documentElement["scroll"+l]:v.body["scroll"+l],k["viewport"+l](v))};k["viewport"+l]=function(v){var x="inner"+l;v=p(v)||i;var A=v[w];return x in v?v[x]:j?A.documentElement["client"+l]:A.body["client"+l]}})});
KISSY.add("dom-traversal",function(c,s){function n(i,d,o,j){if(!(i=c.get(i)))return null;if(d===s)d=1;var e=null,h,q;if(c.isNumber(d)&&d>=0){if(d===0)return i;h=0;q=d;d=function(){return++h===q}}for(;i=i[o];)if(k(i)&&(!d||p.test(i,d))&&(!j||j(i))){e=i;break}return e}function t(i,d,o){var j=[];var e=i=c.get(i);if(i&&o)e=i.parentNode;if(e){o=0;for(e=e.firstChild;e;e=e.nextSibling)if(k(e)&&e!==i&&(!d||p.test(e,d)))j[o++]=e}return j}var p=c.DOM,k=p._isElementNode;c.mix(p,{parent:function(i,d){return n(i,
d,"parentNode",function(o){return o.nodeType!=11})},next:function(i,d){return n(i,d,"nextSibling")},prev:function(i,d){return n(i,d,"previousSibling")},siblings:function(i,d){return t(i,d,true)},children:function(i,d){return t(i,d)},contains:function(i,d){var o=false;if((i=c.get(i))&&(d=c.get(d)))if(i.contains)return i.contains(d);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(d)&16);else for(;!o&&(d=d.parentNode);)o=d==i;return o}})});
KISSY.add("dom-create",function(c,s){function n(y,z){q(y)&&c.isPlainObject(z)&&o.attr(y,z);return y}function t(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=c.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}else c.log("Unable to convert "+y+" to fragment.");return B}function p(y){var z=y.cloneNode(true);if(j.ie<8)z.innerHTML=y.innerHTML;return z}function k(y,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+
D+'"></span>';c.available(D,function(){var F=c.get("head"),G,H,I,J,L,K;for(E.lastIndex=0;G=E.exec(z);)if((I=(H=G[1])?H.match(f):false)&&I[2]){G=d.createElement("script");G.src=I[2];if((J=H.match(g))&&J[2])G.charset=J[2];G.async=true;F.appendChild(G)}else if((K=G[2])&&K.length>0)c.globalEval(K);(L=d.getElementById(D))&&o.remove(L);c.isFunction(C)&&C()});i(y,z)}else{i(y,z);c.isFunction(C)&&C()}}function i(y,z){z=z.replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(o.create(z))}}var d=document,o=c.DOM,j=c.UA,e=j.ie,h=o._isSupportedNode,q=o._isElementNode,u=o._isKSNode,w=d.createElement("div"),r=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,g=/\scharset=(['"])(.*?)\1/i;c.mix(o,{create:function(y,z,B){if(h(y))return p(y);if(u(y))return p(y[0]);if(!(y=c.trim(y)))return null;var C=null;C=o._creators;var D,E="div",F;if(D=b.exec(y))C=(B||d).createElement(D[1]);else{if((D=r.exec(y))&&(F=
D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):t(y,B||d)}return n(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):w;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===s){y=c.get(y);if(q(y))return y.innerHTML}else c.each(c.query(y),function(D){q(D)&&k(D,z,B,C)})},remove:function(y){c.each(c.query(y),function(z){q(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(j.gecko||e){var m=o._creators,l=o.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
x={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in x)(function(y){m[A]=function(z,B){return l("<"+y+">"+z+"</"+y+">",null,B)}})(x[A]);if(e){m.script=function(y,z){z=z?z.createElement("div"):w;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(e<8)m.tbody=function(y,z){z=l("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!v.test(y)&&B.parentNode.removeChild(B);return z}}c.mix(m,{optgroup:m.option,th:m.td,
thead:m.tbody,tfoot:m.tbody,caption:m.tbody,colgroup:m.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(s,n){if((s=c.get(s))&&(n=c.get(n))&&n.parentNode)n.parentNode.insertBefore(s,n);return s},insertAfter:function(s,n){if((s=c.get(s))&&(n=c.get(n))&&n.parentNode)n.nextSibling?n.parentNode.insertBefore(s,n.nextSibling):n.parentNode.appendChild(s);return s}})});
KISSY.add("event",function(c,s){function n(a,b,f,g,m){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(l){r[a](l,f,g,m)});return true}if((f=c.trim(f))&&f.indexOf(q)>0){c.each(f.split(q),function(l){r[a](b,l,g,m)});return true}}function t(a){return i(a)?a[h]:-1}function p(a,b){if(!i(a))return c.error("Text or comment node is not valid event target.");try{a[h]=b}catch(f){c.error(f)}}function k(a){try{a[h]=s;delete a[h]}catch(b){}}function i(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var d=window,o=document,j=o.addEventListener?function(a,b,f,g){a.addEventListener&&a.addEventListener(b,f,!!g)}:function(a,b,f){a.attachEvent&&a.attachEvent("on"+b,f)},e=o.removeEventListener?function(a,b,f,g){a.removeEventListener&&a.removeEventListener(b,f,!!g)}:function(a,b,f){a.detachEvent&&a.detachEvent("on"+b,f)},h="ksEventTargetId",q=" ",u=c.now(),w={},r={EVENT_GUID:h,special:{},add:function(a,b,f,g){if(!n("add",a,b,f,g)){var m=t(a),l,v;if(!(m===-1||!b||!c.isFunction(f))){if(!m){p(a,m=u++);
w[m]={target:a,events:{}}}v=w[m].events;l=!a.isCustomEventTarget&&r.special[b]||{};if(!v[b]){m=function(x,A){if(!x||!x.fixed){x=new c.EventObject(a,x,b);c.isPlainObject(A)&&c.mix(x,A)}l.setup&&l.setup(x);return(l.handle||r._handle)(a,x,v[b].listeners)};v[b]={handle:m,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,m);else j(a,l.fix||b,m,l.capture)}v[b].listeners.push({fn:f,scope:g})}}},remove:function(a,b,f){if(!n("remove",a,b,f)){var g=t(a),m,l,v,x,A,y;if(g!==-1)if(g&&(m=w[g]))if(m.target===
a){m=m.events||{};if(l=m[b]){v=l.listeners;A=v.length;if(c.isFunction(f)&&A&&c.inArray(f,v)){y=[];for(x=0;x<A;++x)f!==v[x]&&y.push(v[x]);A=y.length}if(f===s||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,l.handle);else e(a,b,l.handle);delete m[b]}}if(b===s||c.isEmptyObject(m)){for(b in m)r.remove(a,b);delete w[g];k(a)}}}},_handle:function(a,b,f){f=f.slice(0);for(var g,m=0,l=f.length;m<l;++m){g=f[m];g=g.fn.call(g.scope||a,b);if(g===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return g},
_getCache:function(a){return w[a]},_simpleAdd:j,_simpleRemove:e};r.on=r.add;c.Event=r;d.attachEvent&&!d.addEventListener&&d.attachEvent("onunload",function(){var a,b;for(a in w)if(b=w[a].target)try{r.remove(b)}catch(f){}})});
KISSY.add("event-object",function(c,s){function n(k,i,d){this.currentTarget=k;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=d;this.target=k}this.fixed=true}var t=document,p="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.mix(n.prototype,
{_fix:function(){for(var k=this.originalEvent,i=p.length,d;i;){d=p[--i];this[d]=k[d]}if(!this.target)this.target=this.srcElement||t;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===s&&this.clientX!==s){k=t.documentElement;i=t.body;this.pageX=this.clientX+(k&&k.scrollLeft||i&&i.scrollLeft||0)-(k&&k.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+
(k&&k.scrollTop||i&&i.scrollTop||0)-(k&&k.clientTop||i&&i.clientTop||0)}if(this.which===s)this.which=this.charCode!==s?this.charCode:this.keyCode;if(this.metaKey===s)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==s)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=this.originalEvent;if(k.stopPropagation)k.stopPropagation();
else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=n});
KISSY.add("event-target",function(c,s){var n=c.Event,t=n.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(p,k){if((p=((n._getCache(this[t]||-1)||{}).events||{})[p])&&c.isFunction(p.handle))return p.handle(s,k)},on:function(p,k,i){n.add(this,p,k,i)},detach:function(p,k){n.remove(this,p,k)}}});
KISSY.add("event-mouseenter",function(c){var s=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){s.special[n.name]={fix:n.fix,setup:function(t){t.type=n.name},handle:function(t,p,k){var i=p.relatedTarget;try{for(;i&&i!==t;)i=i.parentNode;i!==t&&s._handle(t,p,k)}catch(d){}}}})});
KISSY.add("event-focusin",function(c){var s=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){s.special[n.name]={fix:n.fix,capture:true,setup:function(t){t.type=n.name}}})});
KISSY.add("node",function(c){function s(t,p,k){var i;if(!(this instanceof s))return new s(t,p,k);if(t){if(n._isSupportedNode(t))i=t;else if(typeof t==="string")i=n.create(t,p,k);this[0]=i}else this.length=0}var n=c.DOM;s.TYPE="-ks-Node";c.augment(s,{length:1,getDOMNode:function(){return this[0]},nodeType:s.TYPE});c.one=function(t,p){return(t=c.get(t,p))?new s(t):null};c.Node=s});
KISSY.add("nodelist",function(c){function s(p){if(!(this instanceof s))return new s(p);t.push.apply(this,p||[])}var n=c.DOM,t=Array.prototype;c.mix(s.prototype,{length:0,item:function(p){var k=null;if(n._isElementNode(this[p]))k=new c.Node(this[p]);return k},getDOMNodes:function(){return t.slice.call(this)},each:function(p,k){for(var i=this.length,d=0,o;d<i;++d){o=new c.Node(this[d]);p.call(k||o,o,d,this)}return this}});c.all=function(p,k){return new s(c.query(p,k,true))};c.NodeList=s});
KISSY.add("node-attach",function(c,s){function n(u,arguments,w,r){var a=[this[u?j:o]()].concat(c.makeArray(arguments));if(arguments[w]===s)return r.apply(p,a);else{r.apply(p,a);return this}}function t(u,w){c.each(u,function(r){c.each([i,d],function(a,b){a[r]=function(f){switch(w){case e:return function(){return n.call(this,b,arguments,1,f)};case h:return function(){return n.call(this,b,arguments,0,f)};case q:return function(){var g=this[b?j:o]();return(g=f.apply(p,[g].concat(c.makeArray(arguments))))?
new (c[c.isArray(g)?"NodeList":"Node"])(g):null};default:return function(){var g=this[b?j:o]();g=f.apply(p,[g].concat(c.makeArray(arguments)));return g===s?this:g}}}(p[r])})})}var p=c.DOM,k=c.Event,i=c.Node.prototype,d=c.NodeList.prototype,o="getDOMNode",j=o+"s",e=1,h=2,q=4;c.mix(i,{one:function(u){return c.one(u,this[0])},all:function(u){return c.all(u,this[0])}});t(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);t(["attr","removeAttr"],e);t(["val","text"],h);t(["css"],e);t(["width",
"height"],h);t(["offset"],h);t(["scrollIntoView"]);t(["parent","next","prev","siblings","children"],q);t(["contains"]);t(["html"],h);t(["remove"]);c.each(["insertBefore","insertAfter"],function(u){i[u]=function(w){p[u].call(p,this[0],w);return this}});c.each([i,d],function(u){c.mix(u,{append:function(w){w&&c.each(this,function(r){r.appendChild(p.create(w))});return this},appendTo:function(w){if((w=c.get(w))&&w.appendChild)c.each(this,function(r){w.appendChild(r)});return this}})});c.each([i,d],function(u){c.mix(u,
c.EventTarget);u._addEvent=function(w,r){for(var a=0,b=this.length;a<b;a++)k._simpleAdd(this[a],w,r)};u._removeEvent=function(w,r){for(var a=0,b=this.length;a<b;a++)k._simpleRemove(this[a],w,r)};delete u.fire})});
KISSY.add("ajax",function(c){var s=document,n=s.createElement("script").readyState?function(t,p){t.onreadystatechange=function(){var k=t.readyState;if(k==="loaded"||k==="complete"){t.onreadystatechange=null;p.call(this)}}}:function(t,p){t.onload=p};c.mix(c,{getScript:function(t,p,k){var i=c.get("head")||s.documentElement,d=s.createElement("script");d.src=t;if(k)d.charset=k;d.async=true;c.isFunction(p)&&n(d,p);i.appendChild(d)}})});
KISSY.add("cookie",function(c){function s(k){return c.isString(k)&&k!==""}var n=document,t=encodeURIComponent,p=decodeURIComponent;c.Cookie={get:function(k){var i;if(s(k))if(k=n.cookie.match("(?:^| )"+k+"(?:(?:=([^;]*))|;|$)"))i=k[1]?p(k[1]):"";return i},set:function(k,i,d,o,j,e){i=t(i);var h=d;if(typeof h==="number"){h=new Date;h.setTime(h.getTime()+d*864E5)}if(h instanceof Date)i+="; expires="+h.toUTCString();if(s(o))i+="; domain="+o;if(s(j))i+="; path="+j;if(e)i+="; secure";n.cookie=k+"="+i},remove:function(k,
i,d,o){this.set(k,"",0,i,d,o)}}});
KISSY.add("json",function(c){function s(e){return e<10?"0"+e:e}function n(e){k.lastIndex=0;return k.test(e)?'"'+e.replace(k,function(h){var q=o[h];return typeof q==="string"?q:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(e,h){var q,u,w=i,r,a=h[e];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(e);if(typeof j==="function")a=j.call(h,e,a);switch(typeof a){case "string":return n(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=d;r=[];if(Object.prototype.toString.apply(a)==="[object Array]"){u=a.length;for(e=0;e<u;e+=1)r[e]=t(e,a)||"null";h=r.length===0?"[]":i?"[\n"+i+r.join(",\n"+i)+"\n"+w+"]":"["+r.join(",")+"]";i=w;return h}if(j&&typeof j==="object"){u=j.length;for(e=0;e<u;e+=1){q=j[e];if(typeof q==="string")if(h=t(q,a))r.push(n(q)+(i?": ":":")+h)}}else for(q in a)if(Object.hasOwnProperty.call(a,q))if(h=t(q,a))r.push(n(q)+(i?": ":":")+h);h=r.length===0?"{}":i?"{\n"+i+r.join(",\n"+i)+
"\n"+w+"}":"{"+r.join(",")+"}";i=w;return h}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+s(this.getUTCMonth()+1)+"-"+s(this.getUTCDate())+"T"+s(this.getUTCHours())+":"+s(this.getUTCMinutes())+":"+s(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,d,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;if(typeof c.stringify!=="function")c.stringify=function(e,h,q){var u;d=i="";if(typeof q==="number")for(u=0;u<q;u+=1)d+=" ";else if(typeof q==="string")d=q;if((j=h)&&typeof h!=="function"&&(typeof h!=="object"||typeof h.length!=="number"))throw new Error("JSON.stringify");return t("",
{"":e})};if(typeof c.parse!=="function")c.parse=function(e,h){function q(u,w){var r,a,b=u[w];if(b&&typeof b==="object")for(r in b)if(Object.hasOwnProperty.call(b,r)){a=q(b,r);if(a!==undefined)b[r]=a;else delete b[r]}return h.call(u,w,b)}e=String(e);p.lastIndex=0;if(p.test(e))e=e.replace(p,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e=eval("("+e+")");return typeof h==="function"?q({"":e},""):e}throw new SyntaxError("JSON.parse");}});
(function(){function c(a,b,f,g,m,l){m=0;for(var v=g.length;m<v;m++){var x=g[m];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===f){A=g[x.sizset];break}if(x.nodeType===1&&!l){x.sizcache=f;x.sizset=m}if(x.nodeName.toLowerCase()===b){A=x;break}x=x[a]}g[m]=A}}}function s(a,b,f,g,m,l){m=0;for(var v=g.length;m<v;m++){var x=g[m];if(x){x=x[a];for(var A=false;x;){if(x.sizcache===f){A=g[x.sizset];break}if(x.nodeType===1){if(!l){x.sizcache=f;x.sizset=m}if(typeof b!=="string"){if(x===b){A=true;break}}else if(d.filter(b,
[x]).length>0){A=x;break}}x=x[a]}g[m]=A}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=0,p=Object.prototype.toString,k=false,i=true;[0,0].sort(function(){i=false;return 0});var d=function(a,b,f,g){f=f||[];var m=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return f;var l=[],v,x,A,y,z=true,B=d.isXML(b),C=a,D;do{n.exec("");if(v=n.exec(C)){C=v[3];l.push(v[1]);if(v[2]){y=
v[3];break}}}while(v);if(l.length>1&&j.exec(a))if(l.length===2&&o.relative[l[0]])x=r(l[0]+l[1],b);else for(x=o.relative[l[0]]?[b]:d(l.shift(),b);l.length;){a=l.shift();if(o.relative[a])a+=l.shift();x=r(a,x)}else{if(!g&&l.length>1&&b.nodeType===9&&!B&&o.match.ID.test(l[0])&&!o.match.ID.test(l[l.length-1])){v=d.find(l.shift(),b,B);b=v.expr?d.filter(v.expr,v.set)[0]:v.set[0]}if(b){v=g?{expr:l.pop(),set:q(g)}:d.find(l.pop(),l.length===1&&(l[0]==="~"||l[0]==="+")&&b.parentNode?b.parentNode:b,B);x=v.expr?
d.filter(v.expr,v.set):v.set;if(l.length>0)A=q(x);else z=false;for(;l.length;){v=D=l.pop();if(o.relative[D])v=l.pop();else D="";if(v==null)v=b;o.relative[D](A,v,B)}}else A=[]}A||(A=x);A||d.error(D||a);if(p.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&d.contains(b,A[a])))f.push(x[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&f.push(x[a]);else f.push.apply(f,A);else q(A,f);if(y){d(y,m,f,g);d.uniqueSort(f)}return f};
d.uniqueSort=function(a){if(w){k=i;a.sort(w);if(k)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};d.matches=function(a,b){return d(a,null,null,b)};d.find=function(a,b,f){var g;if(!a)return[];for(var m=0,l=o.order.length;m<l;m++){var v=o.order[m],x;if(x=o.leftMatch[v].exec(a)){var A=x[1];x.splice(1,1);if(A.substr(A.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");g=o.find[v](x,b,f);if(g!=null){a=a.replace(o.match[v],"");break}}}}g||(g=b.getElementsByTagName("*"));return{set:g,
expr:a}};d.filter=function(a,b,f,g){for(var m=a,l=[],v=b,x,A,y=b&&b[0]&&d.isXML(b[0]);a&&b.length;){for(var z in o.filter)if((x=o.leftMatch[z].exec(a))!=null&&x[2]){var B=o.filter[z],C,D;D=x[1];A=false;x.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(v===l)l=[];if(o.preFilter[z])if(x=o.preFilter[z](x,v,f,l,g,y)){if(x===true)continue}else A=C=true;if(x)for(var E=0;(D=v[E])!=null;E++)if(D){C=B(D,x,E,v);var F=g^!!C;if(f&&C!=null)if(F)A=true;else v[E]=false;else if(F){l.push(D);A=true}}if(C!==undefined){f||
(v=l);a=a.replace(o.match[z],"");if(!A)return[];break}}}if(a===m)if(A==null)d.error(a);else break;m=a}return v};d.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var o=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var f=typeof b==="string",g=f&&!/\W/.test(b);f=f&&!g;if(g)b=b.toLowerCase();g=0;for(var m=a.length,l;g<m;g++)if(l=a[g]){for(;(l=l.previousSibling)&&l.nodeType!==1;);a[g]=f||l&&l.nodeName.toLowerCase()===
b?l||false:l===b}f&&d.filter(b,a,true)},">":function(a,b){var f=typeof b==="string",g,m=0,l=a.length;if(f&&!/\W/.test(b))for(b=b.toLowerCase();m<l;m++){if(g=a[m]){f=g.parentNode;a[m]=f.nodeName.toLowerCase()===b?f:false}}else{for(;m<l;m++)if(g=a[m])a[m]=f?g.parentNode:g.parentNode===b;f&&d.filter(b,a,true)}},"":function(a,b,f){var g=t++,m=s,l;if(typeof b==="string"&&!/\W/.test(b)){l=b=b.toLowerCase();m=c}m("parentNode",b,g,a,l,f)},"~":function(a,b,f){var g=t++,m=s,l;if(typeof b==="string"&&!/\W/.test(b)){l=
b=b.toLowerCase();m=c}m("previousSibling",b,g,a,l,f)}},find:{ID:function(a,b,f){if(typeof b.getElementById!=="undefined"&&!f)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var f=[];b=b.getElementsByName(a[1]);for(var g=0,m=b.length;g<m;g++)b[g].getAttribute("name")===a[1]&&f.push(b[g]);return f.length===0?null:f}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,f,g,m,l){a=" "+a[1].replace(/\\/g,"")+" ";
if(l)return a;l=0;for(var v;(v=b[l])!=null;l++)if(v)if(m^(v.className&&(" "+v.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))f||g.push(v);else if(f)b[l]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=t++;return a},ATTR:function(a,b,f,g,m,l){b=
a[1].replace(/\\/g,"");if(!l&&o.attrMap[b])a[1]=o.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,f,g,m){if(a[1]==="not")if((n.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=d(a[3],null,null,b);else{a=d.filter(a[3],b,f,true^m);f||g.push.apply(g,a);return false}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,f){return!!d(f[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,f,g){return b===g.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,f){return b<f[3]-0},gt:function(a,b,f){return b>f[3]-0},nth:function(a,b,f){return f[3]-
0===b},eq:function(a,b,f){return f[3]-0===b}},filter:{PSEUDO:function(a,b,f,g){var m=b[1],l=o.filters[m];if(l)return l(a,f,b,g);else if(m==="contains")return(a.textContent||a.innerText||d.getText([a])||"").indexOf(b[3])>=0;else if(m==="not"){b=b[3];f=0;for(g=b.length;f<g;f++)if(b[f]===a)return false;return true}else d.error("Syntax error, unrecognized expression: "+m)},CHILD:function(a,b){var f=b[1],g=a;switch(f){case "only":case "first":for(;g=g.previousSibling;)if(g.nodeType===1)return false;if(f===
"first")return true;g=a;case "last":for(;g=g.nextSibling;)if(g.nodeType===1)return false;return true;case "nth":f=b[2];var m=b[3];if(f===1&&m===0)return true;b=b[0];var l=a.parentNode;if(l&&(l.sizcache!==b||!a.nodeIndex)){var v=0;for(g=l.firstChild;g;g=g.nextSibling)if(g.nodeType===1)g.nodeIndex=++v;l.sizcache=b}a=a.nodeIndex-m;return f===0?a===0:a%f===0&&a/f>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var f=b[1];a=o.attrHandle[f]?o.attrHandle[f](a):a[f]!=null?a[f]:a.getAttribute(f);f=a+"";var g=b[2];b=b[4];return a==null?g==="!=":g==="="?f===b:g==="*="?f.indexOf(b)>=0:g==="~="?(" "+f+" ").indexOf(b)>=0:!b?f&&a!==false:g==="!="?f!==b:g==="^="?f.indexOf(b)===0:g==="$="?f.substr(f.length-b.length)===b:g==="|="?f===b||f.substr(0,b.length+1)===b+"-":false},POS:function(a,b,f,g){var m=o.setFilters[b[2]];
if(m)return m(a,f,b,g)}}},j=o.match.POS,e=function(a,b){return"\\"+(b-0+1)};for(var h in o.match){o.match[h]=new RegExp(o.match[h].source+/(?![^\[]*\])(?![^\(]*\))/.source);o.leftMatch[h]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[h].source.replace(/\\(\d+)/g,e))}var q=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(u){q=function(a,b){b=b||[];var f=0;if(p.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var g=a.length;f<g;f++)b.push(a[f]);else for(;a[f];f++)b.push(a[f]);return b}}var w;if(document.documentElement.compareDocumentPosition)w=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)k=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)k=true;return a};else if("sourceIndex"in document.documentElement)w=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)k=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)k=true;return a};else if(document.createRange)w=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)k=true;return a.ownerDocument?-1:1}var f=a.ownerDocument.createRange(),g=b.ownerDocument.createRange();f.setStart(a,0);f.setEnd(a,0);g.setStart(b,0);g.setEnd(b,0);a=f.compareBoundaryPoints(Range.START_TO_END,g);if(a===0)k=true;return a};d.getText=function(a){for(var b="",f,g=0;a[g];g++){f=a[g];if(f.nodeType===3||f.nodeType===4)b+=f.nodeValue;else if(f.nodeType!==
8)b+=d.getText(f.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var f=document.documentElement;f.insertBefore(a,f.firstChild);if(document.getElementById(b)){o.find.ID=function(g,m,l){if(typeof m.getElementById!=="undefined"&&!l)return(m=m.getElementById(g[1]))?m.id===g[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===g[1]?[m]:undefined:[]};o.filter.ID=function(g,m){var l=typeof g.getAttributeNode!==
"undefined"&&g.getAttributeNode("id");return g.nodeType===1&&l&&l.nodeValue===m}}f.removeChild(a);f=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)o.find.TAG=function(b,f){f=f.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var g=0;f[g];g++)f[g].nodeType===1&&b.push(f[g]);f=b}return f};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")o.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=d,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){d=function(g,m,l,v){m=m||document;if(!v&&m.nodeType===9&&!d.isXML(m))try{return q(m.querySelectorAll(g),l)}catch(x){}return a(g,m,l,v)};for(var f in a)d[f]=a[f];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){o.order.splice(1,0,"CLASS");o.find.CLASS=function(b,f,g){if(typeof f.getElementsByClassName!=="undefined"&&!g)return f.getElementsByClassName(b[1])};a=null}}})();d.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};d.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var r=function(a,b){var f=[],g="",m;for(b=b.nodeType?[b]:b;m=o.match.PSEUDO.exec(a);){g+=m[0];a=a.replace(o.match.PSEUDO,"")}a=o.relative[a]?a+"*":a;m=0;for(var l=b.length;m<l;m++)d(a,b[m],f);return d.filter(g,f)};KISSY.ExternalSelector=d;KISSY.ExternalSelector._filter=function(a,b){return d.matches(b,KISSY.query(a))}})();
KISSY.add("anim-easing",function(c){var s=Math,n=s.PI,t=s.pow,p=s.sin,k=1.70158,i={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(t(2,10*(d-=1))*p((d-0.075)*2*n/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return t(2,-10*d)*p((d-0.075)*2*n/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*t(2,10*(d-=1))*p((d-0.1125)*2*n/0.45);return t(2,-10*(d-=1))*p((d-0.1125)*2*n/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((k+1)*d-k)},backOut:function(d){return(d-=1)*d*((k+1)*d+k)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((k*=1.525)+1)*d-k);return 0.5*((d-=2)*d*(((k*=1.525)+1)*d+k)+2)},bounceIn:function(d){return 1-
i.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return i.bounceIn(d*2)*0.5;return i.bounceOut(d*2-1)*0.5+0.5}};c.Easing=i});
KISSY.add("anim",function(c,s){function n(r,a,b,f,g){if(r=c.get(r)){if(!(this instanceof n))return new n(r,a,b,f,g);var m=c.isPlainObject(b);a=a;this.domEl=r;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=t(a);this.targetStyle=a;if(m)r=c.merge(w,b);else{r=c.clone(w);b&&(r.duration=e(b,10)||1);c.isString(f)&&(f=j[f]);c.isFunction(f)&&(r.easing=f);c.isFunction(g)&&(r.complete=g)}this.config=r;c.isFunction(g)&&this.on(u,g)}}function t(r){var a={},b=q.length,f;h.innerHTML='<div style="'+
r+'"></div>';for(r=h.firstChild.style;b--;)if(f=r[q[b]])a[q[b]]=p(f);return a}function p(r){var a=e(r);r=(r+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:r,u:"",f:i}:{v:a,u:r,f:k}}function k(r,a,b){return(r+(a-r)*b).toFixed(3)}function i(r,a,b){for(var f=2,g,m,l=[],v=[];g=3,m=arguments[f-1],f--;)if(d(m,0,4)==="rgb(")for(m=m.match(/\d+/g);g--;)l.push(~~m[g]);else if(d(m,0)==="#"){if(m.length===4)m="#"+d(m,1)+d(m,1)+d(m,2)+d(m,2)+d(m,3)+d(m,3);for(;g--;)l.push(parseInt(d(m,1+g*2,2),16))}else return a;
for(;g--;){f=~~(l[g+3]+(l[g]-l[g+3])*b);v.push(f<0?0:f>255?255:f)}return"rgb("+v.join(",")+")"}function d(r,a,b){return r.substr(a,b||1)}var o=c.DOM,j=c.Easing,e=parseFloat,h=o.create("<div>"),q="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="complete",w={duration:1,easing:j.easeNone};c.augment(n,c.EventTarget,{run:function(){var r=this,a=r.config,b=r.domEl,f=a.duration*1E3,g=a.easing,m=c.now(),l=m+f,v=r.props,x={},A;for(A in v)x[A]=p(o.css(b,A));if(r.fire("start")!==false){r.stop();r.timer=c.later(a=function(){var y=c.now(),z=y>l?1:(y-m)/f,B,C,D;for(A in v){B=x[A];C=v[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;o.css(b,A,C.f(B.v,C.v,g(z))+C.u)}if(r.fire("step")===false||(D=y>l)){r.stop();D&&r.fire(u)}},13,true);a();return r}},stop:function(r){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=s}if(r){c.UA.ie&&b.indexOf("opacity")>-1&&o.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(u)}return this}});c.Anim=n});KISSY.add("anim-node-plugin",function(c,s){var n=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(t){t.animate=function(){var p=c.makeArray(arguments);c.each(this,function(k){n.apply(s,[k].concat(p)).run()});return this}})});
KISSY.add("datalazyload",function(c,s){function n(e,h){if(!(this instanceof n))return new n(e,h);if(h===s){h=e;e=[i]}c.isArray(e)||(e=[c.get(e)||i]);this.containers=e;this.config=c.merge(j,h);this._init()}var t=c.DOM,p=c.Event,k=window,i=document,d="scroll",o="resize",j={mod:"manual",diff:"default",placeholder:"none"};c.augment(n,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var e=this.containers,h,
q,u,w=[],r=[];h=0;for(q=e.length;h<q;++h){u=c.query("img",e[h]);w=w.concat(c.filter(u,this._filterImg,this));u=c.query("textarea",e[h]);r=r.concat(c.filter(u,this._filterArea,this))}this.images=w;this.areas=r},_filterImg:function(e){var h=e.getAttribute("data-ks-lazyload"),q=this.threshold,u=this.config.placeholder;if(this.config.mod==="manual"){if(h){if(u!=="none")e.src=u;return true}}else if(t.offset(e).top>q&&!h){t.attr(e,"data-ks-lazyload",e.src);if(u!=="none")e.src=u;else e.removeAttribute("src");
return true}},_filterArea:function(e){return t.hasClass(e,"ks-datalazyload")},_initLoadEvent:function(){function e(){q||(q=setTimeout(function(){h();q=null},100))}function h(){u._loadItems();if(u._getItemsLength()===0){p.remove(k,d,e);p.remove(k,o,e)}}var q,u=this;p.on(k,d,e);p.on(k,o,function(){u.threshold=u._getThreshold();e()});u._getItemsLength()&&c.ready(function(){h()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=c.filter(this.images,this._loadImg,
this)},_loadImg:function(e){var h=this.threshold+t.scrollTop();if(t.offset(e).top<=h)this._loadImgSrc(e);else return true},_loadImgSrc:function(e,h){h=h||"data-ks-lazyload";var q=e.getAttribute(h);if(q&&e.src!=q){e.src=q;e.removeAttribute(h)}},_loadAreas:function(){this.areas=c.filter(this.areas,this._loadArea,this)},_loadArea:function(e){var h=t.offset(e).top;if(!h&&t.css(e,"none")=="none")h=t.offset(e.parentNode).top;if(h<=this.threshold+t.scrollTop())this._loadAreaData(e.parentNode,e);else return true},
_loadAreaData:function(e,h){h.style.display="none";h.className="";var q=t.create("<div>");e.insertBefore(q,h);t.html(q,h.value,true)},_getThreshold:function(){var e=this.config.diff,h=t.viewportHeight();return e==="default"?2*h:h+e},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(e,h){var q=this,u,w;c.isArray(e)||(e=[c.get(e)]);c.each(e,function(r){switch(h){case "img-src":w=r.nodeName==="IMG"?[r]:c.query("img",r);c.each(w,function(a){q._loadImgSrc(a,
"data-ks-lazyload-custom")});break;default:(u=c.get("textarea",r))&&t.hasClass(u,"ks-datalazyload-custom")&&q._loadAreaData(r,u)}})}});c.mix(n,n.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=n});
KISSY.add("flash-ua",function(c){function s(){var j;if(navigator.plugins&&navigator.mimeTypes.length)j=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{j=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(e){}if(j)return n(j)}function n(j){return j.match(/(\d)+/g)}function t(j){var e=c.isString(j)?n(j):j;j=j;if(c.isArray(e))j=parseFloat(e[0]+"."+p(e[1],3)+p(e[2],5));return j||0}function p(j,e){for(var h=(j+"").length;h++<e;)j="0"+
j;return j}var k=c.UA,i,d,o=true;k.fpv=function(j){if(j||o){o=false;i=s();d=t(i)}return i};k.fpvGEQ=function(j,e){o&&k.fpv(e);return!!d&&d>=t(j)}});KISSY.add("flash",function(c){c.Flash={swfs:{length:0}}});
KISSY.add("flash-embed",function(c){function s(j,e,h){var q=t.create("<param>");t.attr(q,{name:e,value:h});j.appendChild(q)}var n=c.UA,t=c.DOM,p=c.Flash,k=/object|embed/i,i=encodeURIComponent,d={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},o={params:{},attrs:{width:215,height:138},version:9};c.mix(p,{fpv:n.fpv,fpvGEQ:n.fpvGEQ,len:function(){return p.swfs.length},
add:function(j,e,h){var q,u;e=p._normalize(e);e=c.merge(o,e);e.attrs=c.merge(o.attrs,e.attrs);if(j=c.get(j)){if(!j.id)j.id=c.guid("ks-flash-");u=e.attrs.id="#"+j.id;if(n.fpv()){if(!n.fpvGEQ(e.version)){this._callback(h,0,u,j);if(!((q=e.xi)&&c.isString(q)))return;e.src=q}if(k.test(j.nodeName))this._register(j,e,h);else e.src?this._embed(j,e,h):this._callback(h,-3,u,j)}else this._callback(h,-1,u,j)}else this._callback(h,-2)},get:function(j){return p.swfs[j]},remove:function(j){if(j=p.get(j)){t.remove(j);
delete p.swfs["#"+j.id];p.swfs.length-=1}},contains:function(j){var e=p.swfs,h,q=false;if(c.isString(j))q=j in e;else for(h in e)if(e[h]===j){q=true;break}return q},_register:function(j,e,h){e=e.attrs.id;p._addSWF(e,j);p._callback(h,1,e,j)},_embed:function(j,e,h){var q=p._createSWF(e.src,e.attrs,e.params);if(n.ie)j.outerHTML=q.outerHTML;else j.parentNode.replaceChild(q,j);p._register(j,e,h)},_callback:function(j,e,h,q){e&&c.isFunction(j)&&j({status:e,id:h,swf:q})},_addSWF:function(j,e){if(j&&e){p.swfs[j]=
e;p.swfs.length+=1}},_createSWF:function(j,e,h){var q=t.create("<object>"),u;t.attr(q,e);if(n.ie){t.attr(q,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");s(q,"movie",j)}else t.attr(q,{type:"application/x-shockwave-flash",data:j,name:e.id});for(u in h)u in d&&s(q,u,h[u]);h.flashvars&&s(q,"flashvars",p.toFlashVars(h.flashvars));return q},_normalize:function(j){var e,h,q,u=j;if(c.isPlainObject(j)){u={};for(q in j){e=q.toLowerCase();h=j[q];if(e!=="flashvars")h=p._normalize(h);u[e]=h}}return u},
toFlashVars:function(j){if(!c.isPlainObject(j))return"";var e,h,q=[];for(e in j){h=j[e];if(c.isString(h))h='"'+i(h)+'"';else{h=c.JSON.stringify(h);if(!h)continue;h=h.replace(/:"([^"]+)/g,function(u,w){return':"'+i(w)})}q.push(e+"="+h)}return q.join("&")}})});
KISSY.add("switchable",function(c,s){function n(k,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=c.merge(n.Config,i);this.container=c.get(k);this.config=i;this.activeIndex=i.activeIndex;this._init()}var t=c.DOM,p=c.Event;n.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};n.Plugins=[];c.augment(n,c.EventTarget,{_init:function(){var k=this,i=k.config;if(k.fire("beforeInit")!==false){k._parseMarkup();i.hasTriggers&&k._bindTriggers();c.each(n.Plugins,function(d){d.init&&d.init(k)});k.fire("init")}},_parseMarkup:function(){var k=this.container,i=this.config,d,o=[],j=[];switch(i.markupType){case 0:if(d=c.get("."+i.navCls,k))o=t.children(d);d=c.get("."+i.contentCls,k);j=t.children(d);break;case 1:o=c.query("."+i.triggerCls,
k);j=c.query("."+i.panelCls,k);break;case 2:o=i.triggers;j=i.panels;break}k=j.length;this.length=k/i.steps;if(i.hasTriggers&&k>0&&o.length===0)o=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(o);this.panels=c.makeArray(j);this.content=d||j[0].parentNode},_generateTriggersMarkup:function(k){var i=this.config,d=t.create("<ul>"),o,j;d.className=i.navCls;for(j=0;j<k;j++){o=t.create("<li>");if(j===this.activeIndex)o.className=i.activeTriggerCls;o.innerHTML=j+1;d.appendChild(o)}this.container.appendChild(d);
return t.children(d)},_bindTriggers:function(){var k=this,i=k.config,d=k.triggers,o,j,e=d.length;for(j=0;j<e;j++)(function(h){o=d[h];p.on(o,"click focus",function(){k._onFocusTrigger(h)});if(i.triggerType==="mouse"){p.on(o,"mouseenter",function(){k._onMouseEnterTrigger(h)});p.on(o,"mouseleave",function(){k._onMouseLeaveTrigger(h)})}})(j)},_onFocusTrigger:function(k){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(k)}},_onMouseEnterTrigger:function(k){var i=this;if(i._triggerIsValid())i.switchTimer=
c.later(function(){i.switchTo(k)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(k){return this.activeIndex!==k},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=s}},switchTo:function(k,i){var d=this.config,o=this.triggers,j=this.panels,e=this.activeIndex,h=d.steps,q=e*h,u=k*h;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:k})===false)return this;if(d.hasTriggers)this._switchTrigger(e>
-1?o[e]:null,o[k]);if(i===s)i=k>e?"forward":"backward";this._switchView(j.slice(q,q+h),j.slice(u,u+h),k,i);this.activeIndex=k;return this},_switchTrigger:function(k,i){var d=this.config.activeTriggerCls;k&&t.removeClass(k,d);t.addClass(i,d)},_switchView:function(k,i,d){t.css(k,"display","none");t.css(i,"display","block");this._fireOnSwitch(d)},_fireOnSwitch:function(k){this.fire("switch",{currentIndex:k})},prev:function(){var k=this.activeIndex;this.switchTo(k>0?k-1:this.length-1,"backward")},next:function(){var k=
this.activeIndex;this.switchTo(k<this.length-1?k+1:0,"forward")}});c.Switchable=n});
KISSY.add("switchable-autoplay",function(c,s){var n=c.Event,t=c.Switchable;c.mix(t.Config,{autoplay:false,interval:5,pauseOnHover:true});t.Plugins.push({name:"autoplay",init:function(p){function k(){o=c.later(function(){p.paused||p.switchTo(p.activeIndex<p.length-1?p.activeIndex+1:0,"forward")},d,true)}var i=p.config,d=i.interval*1E3,o;if(i.autoplay){if(i.pauseOnHover){n.on(p.container,"mouseenter",function(){if(o){o.cancel();o=s}p.paused=true});n.on(p.container,"mouseleave",function(){p.paused=false;
k()})}k()}}})});
KISSY.add("switchable-effect",function(c,s){var n=c.DOM,t=c.Anim,p=c.Switchable,k;c.mix(p.Config,{effect:"none",duration:0.5,easing:"easeNone"});p.Effects={none:function(i,d,o){n.css(i,"display","none");n.css(d,"display","block");o()},fade:function(i,d,o){i.length!==1&&c.error("fade effect only supports steps == 1.");var j=this,e=j.config,h=i[0],q=d[0];j.anim&&j.anim.stop(true);n.css(q,"opacity",1);j.anim=(new t(h,{opacity:0},e.duration,e.easing,function(){j.anim=s;n.css(q,"z-index",9);n.css(h,"z-index",
1);o()})).run()},scroll:function(i,d,o,j){var e=this;i=e.config;d=i.effect==="scrollx";var h={};h[d?"left":"top"]=-(e.viewSize[d?0:1]*j)+"px";e.anim&&e.anim.stop();e.anim=(new t(e.content,h,i.duration,i.easing,function(){e.anim=s;o()})).run()}};k=p.Effects;k.scrollx=k.scrolly=k.scroll;p.Plugins.push({name:"effect",init:function(i){var d=i.config,o=d.effect,j=i.panels,e=i.content,h=d.steps,q=i.activeIndex,u=j.length;i.viewSize=[d.viewSize[0]||j[0].offsetWidth*h,d.viewSize[1]||j[0].offsetHeight*h];
if(o!=="none"){c.each(j,function(b){n.css(b,"display","block")});switch(o){case "scrollx":case "scrolly":n.css(e,"position","absolute");n.css(e.parentNode,"position","relative");if(o==="scrollx"){n.css(j,"float","left");n.width(e,i.viewSize[0]*(u/h))}break;case "fade":var w=q*h,r=w+h-1,a;c.each(j,function(b,f){a=f>=w&&f<=r;n.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(p,{_switchView:function(i,d,o,j){var e=this,h=e.config.effect;(c.isFunction(h)?h:k[h]).call(e,i,
d,function(){e._fireOnSwitch(o)},o,j)}})});
KISSY.add("switchable-circular",function(c,s){function n(a,b,f,g,m){var l=this;a=l.config;b=l.length;var v=l.activeIndex,x=a.scrollType===w,A=x?o:j,y=l.viewSize[x?0:1];x=-y*g;var z={},B,C=m===u;if(B=C&&v===0&&g===b-1||m===q&&v===b-1&&g===0)x=t.call(l,l.panels,g,C,A,y);z[A]=x+h;l.anim&&l.anim.stop();l.anim=(new c.Anim(l.content,z,a.duration,a.easing,function(){B&&p.call(l,l.panels,g,C,A,y);l.anim=s;f()})).run()}function t(a,b,f,g,m){var l=this.config.steps;b=this.length;var v=f?b-1:0,x=(v+1)*l;for(l=
v*l;l<x;l++){k.css(a[l],i,d);k.css(a[l],g,(f?-1:1)*m*b)}return f?m:-m*b}function p(a,b,f,g,m){var l=this.config.steps;b=this.length;var v=f?b-1:0,x=(v+1)*l;for(l=v*l;l<x;l++){k.css(a[l],i,e);k.css(a[l],g,e)}k.css(this.content,g,f?-m*(b-1):e)}var k=c.DOM,i="position",d="relative",o="left",j="top",e="",h="px",q="forward",u="backward",w="scrollx",r=c.Switchable;c.mix(r.Config,{circular:false});r.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===w||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=n}}})});
KISSY.add("switchable-lazyload",function(c){var s=c.DOM,n="beforeSwitch",t="img-src",p="area-data",k={},i=c.Switchable;k[t]="data-ks-lazyload-custom";k[p]="ks-datalazyload-custom";c.mix(i.Config,{lazyDataType:p});i.Plugins.push({name:"lazyload",init:function(d){function o(w){var r=h.steps;w=w.toIndex*r;e.loadCustomLazyData(d.panels.slice(w,w+r),q);j()&&d.detach(n,o)}function j(){var w,r,a,b=q===t;if(w=b?"img":q===p?"textarea":""){w=c.query(w,d.container);r=0;for(a=w.length;r<a;r++)if(b?s.attr(w[r],
u):s.hasClass(w[r],u))return false}return true}var e=c.DataLazyload,h=d.config,q=h.lazyDataType,u=k[q];!e||!q||!u||d.on(n,o)}})});
KISSY.add("switchable-countdown",function(c,s){var n=c.DOM,t=c.Event,p=c.Anim,k=c.Switchable;c.mix(k.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});k.Plugins.push({name:"countdown",init:function(i){function d(r){if(r===s)r=i.activeIndex;o();w=(new p(h[r],u,e-0.5)).run()}function o(){if(w){w.stop();w=s}}var j=i.config,e=j.interval,h=[],q=j.countdownFromStyle,u=j.countdownToStyle,w;if(!(!j.autoplay||!j.hasTriggers||!j.countdown)){c.each(i.triggers,function(r,a){r.innerHTML=
'<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+r.innerHTML+"</div>";h[a]=r.firstChild});if(j.pauseOnHover){t.on(i.container,"mouseenter",function(){o();var r=h[i.activeIndex];if(q)w=(new p(r,q,0.2,"easeOut")).run();else n.removeAttr(r,"style")});t.on(i.container,"mouseleave",function(){o();n.removeAttr(h[i.activeIndex],"style");setTimeout(function(){d()},200)})}i.on("beforeSwitch",function(){o();n.removeAttr(h[i.activeIndex],"style")});i.on("switch",function(r){i.paused||
d(r.currentIndex)});d()}}})});KISSY.add("switchable-autorender",function(c){c.Switchable.autoRender=function(s,n,t){n="."+(n||"KS_");t=t||"data-ks-switchable";c.each(["Switchable","Tabs","Slide","Carousel","Accordion"],function(p){c.each(c.query(n+p,s),function(k){try{var i=k.getAttribute(t);if(i)i=i.replace(/'/g,'"');new c[p](k,c.JSON.parse(i))}catch(d){c.log("Switchable.autoRender: "+d,"warn")}})})}});
KISSY.add("tabs",function(c){function s(n,t){if(!(this instanceof s))return new s(n,t);s.superclass.constructor.call(this,n,t)}c.extend(s,c.Switchable);c.Tabs=s});KISSY.add("slide",function(c){function s(t,p){if(!(this instanceof s))return new s(t,p);s.superclass.constructor.call(this,t,c.merge(n,p))}var n={autoplay:true,circular:true};c.extend(s,c.Switchable);c.Slide=s});
KISSY.add("carousel",function(c,s){function n(e,h){var q=this;if(!(q instanceof n))return new n(e,h);q.on("init",function(){t(q)});n.superclass.constructor.call(q,e,c.merge(j,h))}function t(e){var h=e.config,q=h.disableBtnCls;c.each(["prev","next"],function(u){var w=e[u+"Btn"]=c.get(i+h[u+"BtnCls"],e.container);k.on(w,"click",function(r){r.preventDefault();p.hasClass(w,q)||e[u]()})});h.circular||e.on("switch",function(u){u=u.currentIndex;u=u===0?e[d]:u===e.length-1?e[o]:s;p.removeClass([e[d],e[o]],
q);u&&p.addClass(u,q)});k.on(e.panels,"click focus",function(){e.fire("itemSelected",{item:this})})}var p=c.DOM,k=c.Event,i=".",d="prevBtn",o="nextBtn",j={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(n,c.Switchable);c.Carousel=n});
KISSY.add("accordion",function(c){function s(p,k){if(!(this instanceof s))return new s(p,k);s.superclass.constructor.call(this,p,c.merge(t,k))}var n=c.DOM,t={markupType:1,triggerType:"click",multiple:false};c.extend(s,c.Switchable);c.Accordion=s;c.augment(s,{_triggerIsValid:function(p){return this.activeIndex!==p||this.config.multiple},_switchView:function(p,k,i){var d=this.config,o=k[0];if(d.multiple){n.toggleClass(this.triggers[i],d.activeTriggerCls);n.css(o,"display",o.style.display=="none"?"block":
"none");this._fireOnSwitch(i)}else s.superclass._switchView.call(this,p,k,i)}})});
