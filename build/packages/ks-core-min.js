/*
Copyright 2010, KISSY UI Library v1.1.0pre
MIT Licensed
build time: ${build.time}
*/
(function(c,j,i){if(c[j]===i)c[j]={};j=c[j];var s=c.document,m=function(o,g,k,t){if(!g||!o)return o;if(k===i)k=true;var x,v,p;if(t&&(p=t.length))for(x=0;x<p;x++){v=t[x];if(v in g)if(k||!(v in o))o[v]=g[v]}else for(v in g)if(k||!(v in o))o[v]=g[v];return o},l=false,e=[],d=false,q=/^#?([\w-]+)$/;m(j,{version:"1.1.0pre",_init:function(){this.Env={mods:{},guid:0}},add:function(o,g){this.Env.mods[o]={name:o,fn:g};g(this);return this},ready:function(o){d||this._bindReady();l?o.call(c,this):e.push(o);return this},
_bindReady:function(){var o=this,g=s.documentElement.doScroll,k=g?"onreadystatechange":"DOMContentLoaded",t=function(){o._fireReady()};d=true;if(s.readyState==="complete")return t();if(s.addEventListener){var x=function(){s.removeEventListener(k,x,false);t()};s.addEventListener(k,x,false);c.addEventListener("load",t,false)}else{var v=function(){if(s.readyState==="complete"){s.detachEvent(k,v);t()}};s.attachEvent(k,v);c.attachEvent("onload",t);if(c==c.top){var p=function(){try{g("left");t()}catch(a){setTimeout(p,
1)}};p()}}},_fireReady:function(){if(!l){l=true;if(e){for(var o,g=0;o=e[g++];)o.call(c,this);e=null}}},available:function(o,g){if((o=(o+"").match(q)[1])&&j.isFunction(g))var k=1,t=j.later(function(){if(s.getElementById(o)&&(g()||1)||++k>500)t.cancel()},40,true)},mix:m,merge:function(){var o={},g,k=arguments.length;for(g=0;g<k;++g)m(o,arguments[g]);return o},augment:function(){var o=arguments,g=o.length-2,k=o[0],t=o[g],x=o[g+1],v=1;if(!j.isArray(x)){t=x;x=i;g++}if(!j.isBoolean(t)){t=i;g++}for(;v<g;v++)m(k.prototype,
o[v].prototype||o[v],t,x);return k},extend:function(o,g,k,t){if(!g||!o)return o;var x=Object.prototype,v=g.prototype,p=function(a){function b(){}b.prototype=a;return new b}(v);o.prototype=p;p.constructor=o;o.superclass=v;if(g!==Object&&v.constructor===x.constructor)v.constructor=g;k&&m(p,k);t&&m(o,t);return o},namespace:function(){var o=arguments.length,g=null,k,t,x;for(k=0;k<o;++k){x=(""+arguments[k]).split(".");g=this;for(t=c[x[0]]===g?1:0;t<x.length;++t)g=g[x[t]]=g[x[t]]||{}}return g},app:function(o,
g){var k=c[o]||{};m(k,this,true,["_init","add","namespace"]);k._init();return m(c[o]=k,typeof g==="function"?g():g)},log:function(o,g,k){if(this.Config.debug){if(k)o=k+": "+o;if(c.console!==i&&console.log)console[g&&console[g]?g:"log"](o)}return this},error:function(o){if(this.Config.debug)throw o;},guid:function(o){var g=this.Env.guid++ +"";return o?o+g:g}});j._init();j.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(c,j){function i(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var s=window,m=document,l=location,e=Array.prototype,d=e.indexOf,q=e.filter,o=String.prototype.trim,g=Object.prototype.toString,k=encodeURIComponent,t=decodeURIComponent,x=/^\s+|\s+$/g,v=/^(\w+)\[\]$/,p=/\S/;c.mix(c,{isUndefined:function(a){return a===j},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&g.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return g.call(a)==="[object Function]"},isArray:function(a){return g.call(a)==="[object Array]"},trim:o?function(a){return a==j?"":o.call(a)}:function(a){return a==j?"":a.toString().replace(x,"")},each:function(a,b,f){for(var h=a&&a.length||0,r=0;r<h;++r)b.call(f||s,a[r],r,a)},indexOf:d?function(a,
b){return d.call(b,a)}:function(a,b){for(var f=0,h=b.length;f<h;++f)if(b[f]===a)return f;return-1},inArray:function(a,b){return c.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===j)return[];if(c.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||c.isFunction(a))return[a];if(a.item&&c.UA.ie){for(var b=[],f=0,h=a.length;f<h;++f)b[f]=a[f];return b}return e.slice.call(a)},filter:q?function(a,b,f){return q.call(a,b,f)}:function(a,b,f){var h=[];c.each(a,function(r,n,w){b.call(f,
r,n,w)&&h.push(r)});return h},param:function(a,b){if(!c.isPlainObject(a))return"";b=b||"&";var f=[],h,r;for(h in a){r=a[h];h=k(h);if(i(r))f.push(h,"=",k(r+""),b);else if(c.isArray(r)&&r.length)for(var n=0,w=r.length;n<w;++n)i(r[n])&&f.push(h,"[]=",k(r[n]+""),b)}f.pop();return f.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=c.trim(a)).length===0)return{};var f={};a=a.split(b||"&");for(var h,r,n,w=0,z=a.length;w<z;++w){b=a[w].split("=");h=t(b[0]);try{r=t(b[1]||"")}catch(A){r=b[1]||""}if((n=
h.match(v))&&n[1]){f[n[1]]=f[n[1]]||[];f[n[1]].push(r)}else f[h]=r}return f},later:function(a,b,f,h,r){b=b||0;h=h||{};var n=a,w=c.makeArray(r),z;if(typeof a==="string")n=h[a];n||c.error("method undefined");a=function(){n.apply(h,w)};z=f?setInterval(a,b):setTimeout(a,b);return{id:z,interval:f,cancel:function(){this.interval?clearInterval(z):clearTimeout(z)}}},clone:function(a){var b=a,f,h;if(a&&((f=c.isArray(a))||c.isPlainObject(a))){b=f?[]:{};for(h in a)if(a.hasOwnProperty(h))b[h]=c.clone(a[h])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&p.test(a)){var b=m.getElementsByTagName("head")[0]||m.documentElement,f=m.createElement("script");f.text=a;b.insertBefore(f,b.firstChild);b.removeChild(f)}}});if(l&&l.search&&l.search.indexOf("ks-debug")!==-1)c.Config.debug=true});
KISSY.add("kissy-ua",function(c){var j=navigator.userAgent,i,s={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},m=function(l){var e=0;return parseFloat(l.replace(/\./g,function(){return e++===0?".":""}))};if((i=j.match(/AppleWebKit\/([\d.]*)/))&&i[1]){s.webkit=m(i[1]);if((i=j.match(/Chrome\/([\d.]*)/))&&i[1])s.chrome=m(i[1]);else if((i=j.match(/\/([\d.]*) Safari/))&&i[1])s.safari=m(i[1]);if(/ Mobile\//.test(j))s.mobile="Apple";else if(i=j.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))s.mobile=
i[0]}else if((i=j.match(/Opera\/.* Version\/([\d.]*)/))&&i[1]){s.opera=m(i[1]);if(j.match(/Opera Mini[^;]*/))s.mobile=i[0]}else if((i=j.match(/MSIE\s([^;]*)/))&&i[1])s.ie=m(i[1]);else if(i=j.match(/Gecko/)){s.gecko=1;if((i=j.match(/rv:([\d.]*)/))&&i[1])s.gecko=m(i[1]);if((i=j.match(/Firefox\/([\d.]*)/))&&i[1])s.firefox=m(i[1])}c.UA=s});
KISSY.add("dom",function(c){var j={_isSupportedNode:function(i){return j._isElementNode(i)||j._isTextNode(i)},_isElementNode:function(i){return i&&i.nodeType===1},_isTextNode:function(i){return i&&i.nodeType===3},_isKSNode:function(i){return i&&c.Node&&i.nodeType===c.Node.TYPE}};c.DOM=j});
KISSY.add("selector",function(c,j){function i(a,b){var f,h=[],r,n;b=s(b);if(c.isString(a)){a=c.trim(a);if(v.test(a)){if(a=m(a.slice(1),b))h=[a]}else if(f=p.exec(a)){r=f[1];n=f[2];f=f[3];if(b=r?m(r,b):b)if(f)if(!r||a.indexOf(g)!==-1)h=e(f,n,b);else{if((a=m(r,b))&&o.hasClass(a,f))h=[a]}else if(n)h=l(n,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else d(a)}else if(a&&(a[t]||a[x]))h=a[t]?[a[t]()]:a[x]();else if(a&&a.nodeType)h=[a];else if(a&&(c.isArray(a)||a.item))h=a;if(h.item)h=c.makeArray(h);
return h}function s(a){if(a===j)a=q;else if(c.isString(a)&&v.test(a))a=m(a.slice(1),q);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function m(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function l(a,b){return b.getElementsByTagName(a)}function e(a,b,f){f=a=f.getElementsByClassName(a);var h=0,r=0,n=a.length,w;if(b&&b!==k){f=[];for(b=b.toUpperCase();h<n;++h){w=a[h];if(w.tagName===b)f[r++]=w}}return f}function d(a){c.error("Unsupported selector: "+a)}var q=document,
o=c.DOM,g=" ",k="*",t="getDOMNode",x=t+"s",v=/^#[\w-]+$/,p=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=q.createElement("div");a.appendChild(q.createComment(""));if(a.getElementsByTagName(k).length>0)l=function(b,f){f=f.getElementsByTagName(b);if(b===k){b=[];for(var h=0,r=0,n;n=f[h++];)if(n.nodeType===1)b[r++]=n;f=b}return f}})();q.getElementsByClassName||(e=q.querySelectorAll?function(a,b,f){return f.querySelectorAll((b?b:"")+"."+a)}:function(a,b,f){b=f.getElementsByTagName(b||
k);f=[];var h=0,r=0,n=b.length,w,z;for(a=g+a+g;h<n;++h){w=b[h];if((z=w.className)&&(g+z+g).indexOf(a)>-1)f[r++]=w}return f});c.query=i;c.get=function(a,b){return i(a,b)[0]||null};c.mix(o,{query:i,get:c.get,filter:function(a,b){var f=i(a),h,r,n,w=[];if(c.isString(b)&&(h=p.exec(b))&&!h[1]){r=h[2];n=h[3];b=function(z){return!(r&&z.tagName!==r.toUpperCase()||n&&!o.hasClass(z,n))}}if(c.isFunction(b))w=c.filter(f,b);else if(b&&c.ExternalSelector)w=c.ExternalSelector._filter(a,b);else d(b);return w},test:function(a,
b){a=i(a);return o.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(c,j){function i(e,d,q,o){if(!(d=c.trim(d)))return o?false:j;e=c.query(e);var g=0,k=e.length;d=d.split(m);for(var t;g<k;g++){t=e[g];if(s._isElementNode(t)){t=q(t,d,d.length);if(t!==j)return t}}if(o)return false}var s=c.DOM,m=/[\.\s]\s*\.?/,l=/[\n\t]/g;c.mix(s,{hasClass:function(e,d){return i(e,d,function(q,o,g){if(q=q.className){q=" "+q+" ";for(var k=0,t=true;k<g;k++)if(q.indexOf(" "+o[k]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(e,d){i(e,d,function(q,
o,g){var k=q.className;if(k){var t=" "+k+" ";k=k;for(var x=0;x<g;x++)if(t.indexOf(" "+o[x]+" ")<0)k+=" "+o[x];q.className=c.trim(k)}else q.className=d})},removeClass:function(e,d){i(e,d,function(q,o,g){var k=q.className;if(k)if(g){k=(" "+k+" ").replace(l," ");for(var t=0,x;t<g;t++)for(x=" "+o[t]+" ";k.indexOf(x)>=0;)k=k.replace(x," ");q.className=c.trim(k)}else q.className=""})},replaceClass:function(e,d,q){s.removeClass(e,d);s.addClass(e,q)},toggleClass:function(e,d,q){var o=c.isBoolean(q),g;i(e,
d,function(k,t,x){for(var v=0,p;v<x;v++){p=t[v];g=o?!q:s.hasClass(k,p);s[g?"removeClass":"addClass"](k,p)}})}})});
KISSY.add("dom-attr",function(c,j){function i(p,a){return a&&a.nodeName.toUpperCase()===p.toUpperCase()}var s=c.UA,m=s.ie,l=m&&m<8,e=document.documentElement.textContent!==j?"textContent":"innerText",d=c.DOM,q=d._isElementNode,o=d._isTextNode,g=/href|src|style/,k=/href|src|colspan|rowspan/,t=/\r/g,x=/radio|checkbox/,v={readonly:"readOnly"};l&&c.mix(v,{"for":"htmlFor","class":"className"});c.mix(d,{attr:function(p,a,b){if(c.isPlainObject(a))for(var f in a)d.attr(p,f,a[f]);else if(a=c.trim(a)){a=a.toLowerCase();
a=v[a]||a;if(b===j){p=c.get(p);if(!q(p))return j;var h;g.test(a)||(h=p[a]);if(h===j)h=p.getAttribute(a);if(l)if(k.test(a))h=p.getAttribute(a,2);else if(a==="style")h=p.style.cssText;return h===null?j:h}c.each(c.query(p),function(r){if(q(r))if(l&&a==="style")r.style.cssText=b;else{if(a==="checked")r[a]=!!b;r.setAttribute(a,""+b)}})}},removeAttr:function(p,a){c.each(c.query(p),function(b){if(q(b)){d.attr(b,a,"");b.removeAttribute(a)}})},val:function(p,a){if(a===j){var b=c.get(p);if(!q(b))return j;if(i("option",
b))return(b.attributes.value||{}).specified?b.value:b.text;if(i("select",b)){var f=b.selectedIndex;p=b.options;if(f<0)return null;else if(b.type==="select-one")return d.val(p[f]);b=[];for(var h=0,r=p.length;h<r;++h)p[h].selected&&b.push(d.val(p[h]));return b}if(s.webkit&&x.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(t,"")}c.each(c.query(p),function(n){if(i("select",n)){if(c.isNumber(a))a+="";var w=c.makeArray(a),z=n.options,A;h=0;for(r=z.length;h<r;++h){A=
z[h];A.selected=c.inArray(d.val(A),w)}if(!w.length)n.selectedIndex=-1}else if(q(n))n.value=a})},text:function(p,a){if(a===j){p=c.get(p);if(q(p))return p[e]||"";else if(o(p))return p.nodeValue}else c.each(c.query(p),function(b){if(q(b))b[e]=a;else if(o(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,j){function i(a,b){var f=c.get(a),h=b===q?f.offsetWidth:f.offsetHeight;c.each(b===q?["Left","Right"]:["Top","Bottom"],function(r){h-=parseFloat(m._getComputedStyle(f,"padding"+r))||0;h-=parseFloat(m._getComputedStyle(f,"border"+r+"Width"))||0});return h}function s(a,b,f){var h=f;if(f===o&&k.test(b)){h=0;if(m.css(a,"position")==="absolute"){f=a[b==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)f-=g(m.css(a.offsetParent,"border-"+b+"-width"))||0;h=f-(g(m.css(a,
"margin-"+b))||0)}}return h}var m=c.DOM,l=c.UA,e=document,d=e.documentElement,q="width",o="auto",g=parseInt,k=/^left|top$/,t=/width|height|top|left|right|bottom|margin|padding/i,x=/-([a-z])/ig,v=function(a,b){return b.toUpperCase()},p={};c.mix(m,{_CUSTOM_STYLES:p,_getComputedStyle:function(a,b){var f="",h=a.ownerDocument;if(a.style)f=h.defaultView.getComputedStyle(a,null)[b];return f},css:function(a,b,f){if(c.isPlainObject(b))for(var h in b)m.css(a,h,b[h]);else{if(b.indexOf("-")>0)b=b.replace(x,v);
b=p[b]||b;if(f===j){a=c.get(a);h="";if(a&&a.style){h=b.get?b.get(a):a.style[b];if(h===""&&!b.get)h=s(a,b,m._getComputedStyle(a,b))}return h===j?"":h}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&t.test(b))f+="px";(b===q||b==="height")&&parseFloat(f)<0||c.each(c.query(a),function(r){if(r&&r.style){b.set?b.set(r,f):(r.style[b]=f);if(f==="")r.style.cssText||r.removeAttribute("style")}})}}},width:function(a,b){if(b===j)return i(a,q);else m.css(a,q,b)},height:function(a,b){if(b===j)return i(a,
"height");else m.css(a,"height",b)},addStyleSheet:function(a,b){var f;if(b)f=c.get(b);f||(f=m.create("<style>",{id:b}));c.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=a;else f.appendChild(e.createTextNode(a))}});if(d.style.cssFloat!==j)p["float"]="cssFloat";else if(d.style.styleFloat!==j)p["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,j){if(c.UA.ie){var i=c.DOM,s=document,m=s.documentElement,l=i._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,d=/^-?\d/,q=/^width|height$/;try{if(m.style.opacity===j&&m.filters)l.opacity={get:function(g){var k=100;try{k=g.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{k=g.filters("alpha").opacity}catch(x){}}return k/100+""},set:function(g,k){g=g.style;g.zoom=1;g.filter="alpha(opacity="+k*100+")"}}}catch(o){c.log("IE filters ActiveX is disabled. ex = "+o)}if(!(s.defaultView||
{}).getComputedStyle&&m.currentStyle)i._getComputedStyle=function(g,k){var t=g.style,x=g.currentStyle[k];if(q.test(k))x=i[k](g)+"px";else if(!e.test(x)&&d.test(x)){var v=t.left,p=g.runtimeStyle.left;g.runtimeStyle.left=g.currentStyle.left;t.left=k==="fontSize"?"1em":x||0;x=t.pixelLeft+"px";t.left=v;g.runtimeStyle.left=p}return x}}});
KISSY.add("dom-offset",function(c,j){function i(n){var w=0,z=0,A=m(n[p]);if(n[r]){n=n[r]();w=n[a]+l[f](A);z=n[b]+l[h](A)}return{left:w,top:z}}function s(n,w){if(l.css(n,t)==="static")n.style[t]=x;var z=i(n),A={},u,y;for(y in w){u=k(l.css(n,y),10)||0;A[y]=u+w[y]-z[y]}l.css(n,A)}function m(n){return n&&"scrollTo"in n&&n[v]?n:n&&n.nodeType===9?n.defaultView||n.parentWindow:false}var l=c.DOM,e=window,d=document,q=l._isElementNode,o=d.compatMode==="CSS1Compat",g=Math.max,k=parseInt,t="position",x="relative",
v="document",p="ownerDocument",a="left",b="top",f="scrollLeft",h="scrollTop",r="getBoundingClientRect";c.mix(l,{offset:function(n,w){if(!(n=c.get(n))||!n[p])return null;if(w===j)return i(n);s(n,w)},scrollIntoView:function(n,w,z,A){if((n=c.get(n))&&n[p]){w=c.get(w);A=A===j?true:!!A;z=z===j?true:!!z;if(!q(w))return n.scrollIntoView(z);var u=l.offset(n),y=l.offset(w),B={left:u[a]-y[a],top:u[b]-y[b]};u=w.clientHeight;y=w.clientWidth;var C=l[f](w),D=l[h](w),G=C+y,F=D+u,E=n.offsetHeight;n=n.offsetWidth;
var H=B.left+C-(k(l.css(w,"borderLeftWidth"))||0);B=B.top+D-(k(l.css(w,"borderTopWidth"))||0);var I=H+n,J=B+E;if(E>u||B<D||z)w[h]=B;else if(J>F)w[h]=J-u;if(A)if(n>y||H<C||z)w[f]=H;else if(I>G)w[f]=I-y}}});c.each(["Left","Top"],function(n,w){var z="scroll"+n;l[z]=function(A){var u=0,y=A===j?e:m(A),B;if(y&&(B=y[v]))u=y[w?"pageYOffset":"pageXOffset"]||B.documentElement[z]||B.body[z];else if(q(A=c.get(A)))u=A[z];return u}});c.each(["Width","Height"],function(n){l["doc"+n]=function(w){w=w||d;return g(o?
w.documentElement["scroll"+n]:w.body["scroll"+n],l["viewport"+n](w))};l["viewport"+n]=function(w){var z="inner"+n;w=m(w)||e;var A=w[v];return z in w?w[z]:o?A.documentElement["client"+n]:A.body["client"+n]}})});
KISSY.add("dom-traversal",function(c,j){function i(e,d,q,o){if(!(e=c.get(e)))return null;if(d===j)d=1;var g=null,k,t;if(c.isNumber(d)&&d>=0){if(d===0)return e;k=0;t=d;d=function(){return++k===t}}for(;e=e[q];)if(l(e)&&(!d||m.test(e,d))&&(!o||o(e))){g=e;break}return g}function s(e,d,q){var o=[];var g=e=c.get(e);if(e&&q)g=e.parentNode;if(g){q=0;for(g=g.firstChild;g;g=g.nextSibling)if(l(g)&&g!==e&&(!d||m.test(g,d)))o[q++]=g}return o}var m=c.DOM,l=m._isElementNode;c.mix(m,{parent:function(e,d){return i(e,
d,"parentNode",function(q){return q.nodeType!=11})},next:function(e,d){return i(e,d,"nextSibling")},prev:function(e,d){return i(e,d,"previousSibling")},siblings:function(e,d){return s(e,d,true)},children:function(e,d){return s(e,d)},contains:function(e,d){var q=false;if((e=c.get(e))&&(d=c.get(d)))if(e.contains)return e.contains(d);else if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(d)&16);else for(;!q&&(d=d.parentNode);)q=d==e;return q}})});
KISSY.add("dom-create",function(c,j){function i(u,y){t(u)&&c.isPlainObject(y)&&q.attr(u,y);return u}function s(u,y){var B=null,C;if(u&&(u.push||u.item)&&u[0]){y=y||u[0].ownerDocument;B=y.createDocumentFragment();if(u.item)u=c.makeArray(u);y=0;for(C=u.length;y<C;y++)B.appendChild(u[y])}else c.log("Unable to convert "+u+" to fragment.");return B}function m(u){var y=u.cloneNode(true);if(o.ie<8)y.innerHTML=u.innerHTML;return y}function l(u,y,B,C){if(B){var D=c.guid("ks-tmp-"),G=new RegExp(a);y+='<span id="'+
D+'"></span>';c.available(D,function(){var F=c.get("head"),E,H,I,J,L,K;for(G.lastIndex=0;E=G.exec(y);)if((I=(H=E[1])?H.match(f):false)&&I[2]){E=d.createElement("script");E.src=I[2];if((J=H.match(h))&&J[2])E.charset=J[2];E.async=true;F.appendChild(E)}else if((K=E[2])&&K.length>0)c.globalEval(K);(L=d.getElementById(D))&&q.remove(L);c.isFunction(C)&&C()});e(u,y)}else{e(u,y);c.isFunction(C)&&C()}}function e(u,y){y=y.replace(a,"");try{u.innerHTML=y}catch(B){for(;u.firstChild;)u.removeChild(u.firstChild);
y&&u.appendChild(q.create(y))}}var d=document,q=c.DOM,o=c.UA,g=o.ie,k=q._isSupportedNode,t=q._isElementNode,x=q._isKSNode,v=d.createElement("div"),p=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,h=/\scharset=(['"])(.*?)\1/i;c.mix(q,{create:function(u,y,B){if(k(u))return m(u);if(x(u))return m(u[0]);if(!(u=c.trim(u)))return null;var C=null;C=q._creators;var D,G="div",F;if(D=b.exec(u))C=(B||d).createElement(D[1]);else{if((D=p.exec(u))&&(F=
D[1])&&c.isFunction(C[F=F.toLowerCase()]))G=F;u=C[G](u,B).childNodes;C=u.length===1?u[0].parentNode.removeChild(u[0]):s(u,B||d)}return i(C,y)},_creators:{div:function(u,y){y=y?y.createElement("div"):v;y.innerHTML=u;return y}},html:function(u,y,B,C){if(y===j){u=c.get(u);if(t(u))return u.innerHTML}else c.each(c.query(u),function(D){t(D)&&l(D,y,B,C)})},remove:function(u){c.each(c.query(u),function(y){t(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(o.gecko||g){var r=q._creators,n=q.create,w=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
z={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in z)(function(u){r[A]=function(y,B){return n("<"+u+">"+y+"</"+u+">",null,B)}})(z[A]);if(g){r.script=function(u,y){y=y?y.createElement("div"):v;y.innerHTML="-"+u;y.removeChild(y.firstChild);return y};if(g<8)r.tbody=function(u,y){y=n("<table>"+u+"</table>",null,y);var B=y.children.tags("tbody")[0];y.children.length>1&&B&&!w.test(u)&&B.parentNode.removeChild(B);return y}}c.mix(r,{optgroup:r.option,th:r.td,
thead:r.tbody,tfoot:r.tbody,caption:r.tbody,colgroup:r.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(j,i){if((j=c.get(j))&&(i=c.get(i))&&i.parentNode)i.parentNode.insertBefore(j,i);return j},insertAfter:function(j,i){if((j=c.get(j))&&(i=c.get(i))&&i.parentNode)i.nextSibling?i.parentNode.insertBefore(j,i.nextSibling):i.parentNode.appendChild(j);return j}})});
KISSY.add("event",function(c,j){function i(a,b,f,h,r){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(n){p[a](n,f,h,r)});return true}if((f=c.trim(f))&&f.indexOf(t)>0){c.each(f.split(t),function(n){p[a](b,n,h,r)});return true}}function s(a){return e(a)?a[k]:-1}function m(a,b){if(!e(a))return c.error("Text or comment node is not valid event target.");try{a[k]=b}catch(f){c.error(f)}}function l(a){try{a[k]=j;delete a[k]}catch(b){}}function e(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var d=window,q=document,o=q.addEventListener?function(a,b,f,h){a.addEventListener&&a.addEventListener(b,f,!!h)}:function(a,b,f){a.attachEvent&&a.attachEvent("on"+b,f)},g=q.removeEventListener?function(a,b,f,h){a.removeEventListener&&a.removeEventListener(b,f,!!h)}:function(a,b,f){a.detachEvent&&a.detachEvent("on"+b,f)},k="ksEventTargetId",t=" ",x=c.now(),v={},p={EVENT_GUID:k,special:{},add:function(a,b,f,h){if(!i("add",a,b,f,h)){var r=s(a),n,w;if(!(r===-1||!b||!c.isFunction(f))){if(!r){m(a,r=x++);
v[r]={target:a,events:{}}}w=v[r].events;n=!a.isCustomEventTarget&&p.special[b]||{};if(!w[b]){r=function(z,A){if(!z||!z.fixed){z=new c.EventObject(a,z,b);c.isPlainObject(A)&&c.mix(z,A)}n.setup&&n.setup(z);return(n.handle||p._handle)(a,z,w[b].listeners)};w[b]={handle:r,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,r);else o(a,n.fix||b,r,n.capture)}w[b].listeners.push({fn:f,scope:h})}}},remove:function(a,b,f){if(!i("remove",a,b,f)){var h=s(a),r,n,w,z,A,u;if(h!==-1)if(h&&(r=v[h]))if(r.target===
a){r=r.events||{};if(n=r[b]){w=n.listeners;A=w.length;if(c.isFunction(f)&&A&&c.inArray(f,w)){u=[];for(z=0;z<A;++z)f!==w[z]&&u.push(w[z]);A=u.length}if(f===j||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,n.handle);else g(a,b,n.handle);delete r[b]}}if(b===j||c.isEmptyObject(r)){for(b in r)p.remove(a,b);delete v[h];l(a)}}}},_handle:function(a,b,f){f=f.slice(0);for(var h,r=0,n=f.length;r<n;++r){h=f[r];h=h.fn.call(h.scope||a,b);if(h===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return h},
_getCache:function(a){return v[a]},_simpleAdd:o,_simpleRemove:g};p.on=p.add;c.Event=p;d.attachEvent&&!d.addEventListener&&d.attachEvent("onunload",function(){var a,b;for(a in v)if(b=v[a].target)try{p.remove(b)}catch(f){}})});
KISSY.add("event-object",function(c,j){function i(l,e,d){this.currentTarget=l;this.originalEvent=e||{};if(e){this.type=e.type;this._fix()}else{this.type=d;this.target=l}this.fixed=true}var s=document,m="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.mix(i.prototype,
{_fix:function(){for(var l=this.originalEvent,e=m.length,d;e;){d=m[--e];this[d]=l[d]}if(!this.target)this.target=this.srcElement||s;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===j&&this.clientX!==j){l=s.documentElement;e=s.body;this.pageX=this.clientX+(l&&l.scrollLeft||e&&e.scrollLeft||0)-(l&&l.clientLeft||e&&e.clientLeft||0);this.pageY=this.clientY+
(l&&l.scrollTop||e&&e.scrollTop||0)-(l&&l.clientTop||e&&e.clientTop||0)}if(this.which===j)this.which=this.charCode!==j?this.charCode:this.keyCode;if(this.metaKey===j)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==j)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=this.originalEvent;if(l.stopPropagation)l.stopPropagation();
else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=i});
KISSY.add("event-target",function(c,j){var i=c.Event,s=i.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(m,l){if((m=((i._getCache(this[s]||-1)||{}).events||{})[m])&&c.isFunction(m.handle))return m.handle(j,l)},on:function(m,l,e){i.add(this,m,l,e)},detach:function(m,l){i.remove(this,m,l)}}});
KISSY.add("event-mouseenter",function(c){var j=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(i){j.special[i.name]={fix:i.fix,setup:function(s){s.type=i.name},handle:function(s,m,l){var e=m.relatedTarget;try{for(;e&&e!==s;)e=e.parentNode;e!==s&&j._handle(s,m,l)}catch(d){}}}})});
KISSY.add("event-focusin",function(c){var j=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(i){j.special[i.name]={fix:i.fix,capture:true,setup:function(s){s.type=i.name}}})});
KISSY.add("node",function(c){function j(s,m,l){var e;if(!(this instanceof j))return new j(s,m,l);if(s){if(i._isSupportedNode(s))e=s;else if(typeof s==="string")e=i.create(s,m,l);this[0]=e}else this.length=0}var i=c.DOM;j.TYPE="-ks-Node";c.augment(j,{length:1,getDOMNode:function(){return this[0]},nodeType:j.TYPE});c.one=function(s,m){return(s=c.get(s,m))?new j(s):null};c.Node=j});
KISSY.add("nodelist",function(c){function j(m){if(!(this instanceof j))return new j(m);s.push.apply(this,m||[])}var i=c.DOM,s=Array.prototype;c.mix(j.prototype,{length:0,item:function(m){var l=null;if(i._isElementNode(this[m]))l=new c.Node(this[m]);return l},getDOMNodes:function(){return s.slice.call(this)},each:function(m,l){for(var e=this.length,d=0,q;d<e;++d){q=new c.Node(this[d]);m.call(l||q,q,d,this)}return this}});c.all=function(m,l){return new j(c.query(m,l,true))};c.NodeList=j});
KISSY.add("node-attach",function(c,j){function i(x,arguments,v,p){var a=[this[x?o:q]()].concat(c.makeArray(arguments));if(arguments[v]===j)return p.apply(m,a);else{p.apply(m,a);return this}}function s(x,v){c.each(x,function(p){c.each([e,d],function(a,b){a[p]=function(f){switch(v){case g:return function(){return i.call(this,b,arguments,1,f)};case k:return function(){return i.call(this,b,arguments,0,f)};case t:return function(){var h=this[b?o:q]();return(h=f.apply(m,[h].concat(c.makeArray(arguments))))?
new (c[c.isArray(h)?"NodeList":"Node"])(h):null};default:return function(){var h=this[b?o:q]();h=f.apply(m,[h].concat(c.makeArray(arguments)));return h===j?this:h}}}(m[p])})})}var m=c.DOM,l=c.Event,e=c.Node.prototype,d=c.NodeList.prototype,q="getDOMNode",o=q+"s",g=1,k=2,t=4;c.mix(e,{one:function(x){return c.one(x,this[0])},all:function(x){return c.all(x,this[0])}});s(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);s(["attr","removeAttr"],g);s(["val","text"],k);s(["css"],g);s(["width",
"height"],k);s(["offset"],k);s(["scrollIntoView"]);s(["parent","next","prev","siblings","children"],t);s(["contains"]);s(["html"],k);s(["remove"]);c.each(["insertBefore","insertAfter"],function(x){e[x]=function(v){m[x].call(m,this[0],v);return this}});c.each([e,d],function(x){c.mix(x,{append:function(v){v&&c.each(this,function(p){p.appendChild(m.create(v))});return this},appendTo:function(v){if((v=c.get(v))&&v.appendChild)c.each(this,function(p){v.appendChild(p)});return this}})});c.each([e,d],function(x){c.mix(x,
c.EventTarget);x._addEvent=function(v,p){for(var a=0,b=this.length;a<b;a++)l._simpleAdd(this[a],v,p)};x._removeEvent=function(v,p){for(var a=0,b=this.length;a<b;a++)l._simpleRemove(this[a],v,p)};delete x.fire})});
KISSY.add("ajax",function(c){c.Ajax=c.Ajax||{};var j=document,i=j.createElement("script").readyState?function(e,d){e.onreadystatechange=function(){var q=e.readyState;if(q==="loaded"||q==="complete"){e.onreadystatechange=null;d.call(this)}}}:function(e,d){e.onload=d},s=0,m=function(){return s++},l=function(e){try{return!e.status&&location.protocol==="file:"||e.status>=200&&e.status<300||e.status===304||e.status===1223||e.status===0}catch(d){}return false};c.Ajax.io=function(e){var d={url:location.href,
global:true,type:"GET",contentType:"application/x-www-form-urlencoded",async:true,data:null,xhr:window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?function(){return new window.XMLHttpRequest}:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},complete:new Function,
success:new Function,failure:new Function,args:null};c.mix(d,e);var q,o;e=/=\?(&|$)/;var g=/\?/,k=d.type.toUpperCase();if(d.data&&typeof d.data!=="string"){var t="";for(var x in d.data)t+="&"+x+"="+d.data[x];d.data=t.replace(/^&/i,"")}if(d.dataType==="jsonp"){if(k==="GET")e.test(d.url)||(d.url+=(g.test(d.url)?"&":"?")+(d.jsonp||"callback")+"=?");else if(!d.data||!e.test(d.data))d.data=(d.data?d.data+"&":"")+(d.jsonp||"callback")+"=?";d.dataType="json";q="jsonp"+c.now();if(d.data)d.data=(d.data+"").replace(e,
"="+q+"$1");d.url=d.url.replace(e,"="+q+"$1");d.dataType="script";window[q]=window[q]||function(b){d.success(m(),b,d.args);d.complete(m(),b,d.args)}}if(d.data&&k==="GET")d.url+=(g.test(d.url)?"&":"?")+d.data;if(d.dataType==="script")q?c.Ajax.getScript(d.url,new Function):c.Ajax.getScript(d.url,function(){d.complete(m(),d.args);d.success(m(),d.args)});else{var v=false,p=d.xhr();p.open(k,d.url,d.async);try{if(d.data||d&&d.contentType)p.setRequestHeader("Content-Type",d.contentType);p.setRequestHeader("Accept",
d.dataType&&d.accepts[d.dataType]?d.accepts[d.dataType]+", */*":d.accepts._default)}catch(a){}p.onreadystatechange=function(b){if(!p||p.readyState===0||b==="abort"){v||d.complete(m(),p,d.args);v=true;if(p)p.onreadystatechange=new Function}else if(!v&&p&&(p.readyState===4||b==="timeout")){v=true;p.onreadystatechange=new Function;o=b==="timeout"?"timeout":!l(p)?"error":"success";if(o==="success")q||d.success(m(),p,d.args);else d.failure(m(),p,d.args);d.complete(m(),p,d.args);b==="timeout"&&p.abort();
if(d.async)p=null}};p.send(k==="POST"?d.data:null);return p}};c.mix(c.Ajax,{get:function(e,d){d.type="get";d.url=e;c.Ajax(d)},post:function(e,d){d.type="post";d.url=e;c.Ajax(d)},getScript:function(e,d,q){var o=c.get("head")||j.documentElement,g=j.createElement("script");g.src=e;if(q)g.charset=q;g.async=true;c.isFunction(d)&&i(g,d);o.appendChild(g)}});c.io=c.Ajax.io});
KISSY.add("cookie",function(c){function j(l){return c.isString(l)&&l!==""}var i=document,s=encodeURIComponent,m=decodeURIComponent;c.Cookie={get:function(l){var e;if(j(l))if(l=i.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))e=l[1]?m(l[1]):"";return e},set:function(l,e,d,q,o,g){e=s(e);var k=d;if(typeof k==="number"){k=new Date;k.setTime(k.getTime()+d*864E5)}if(k instanceof Date)e+="; expires="+k.toUTCString();if(j(q))e+="; domain="+q;if(j(o))e+="; path="+o;if(g)e+="; secure";i.cookie=l+"="+e},remove:function(l,
e,d,q){this.set(l,"",0,e,d,q)}}});
