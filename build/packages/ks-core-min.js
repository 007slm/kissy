/*
Copyright 2010, KISSY UI Library v1.1.0
MIT Licensed
build time: Jul 27 11:06
*/
(function(c,i,g){if(c[i]===g)c[i]={};i=c[i];var p=c.document,k=function(n,f,o,t){if(!f||!n)return n;if(o===g)o=true;var x,y,s;if(t&&(s=t.length))for(x=0;x<s;x++){y=t[x];if(y in f)if(o||!(y in n))n[y]=f[y]}else for(y in f)if(o||!(y in n))n[y]=f[y];return n},m=false,h=[],l=false,r=/^#?([\w-]+)$/;k(i,{version:"1.1.0",_init:function(){this.Env={mods:{},guid:0}},add:function(n,f){this.Env.mods[n]={name:n,fn:f};f(this);return this},ready:function(n){l||this._bindReady();m?n.call(c,this):h.push(n);return this},
_bindReady:function(){var n=this,f=p.documentElement.doScroll,o=f?"onreadystatechange":"DOMContentLoaded",t=function(){n._fireReady()};l=true;if(p.readyState==="complete")return t();if(p.addEventListener){var x=function(){p.removeEventListener(o,x,false);t()};p.addEventListener(o,x,false);c.addEventListener("load",t,false)}else{var y=function(){if(p.readyState==="complete"){p.detachEvent(o,y);t()}};p.attachEvent(o,y);c.attachEvent("onload",t);if(c==c.top){var s=function(){try{f("left");t()}catch(a){setTimeout(s,
1)}};s()}}},_fireReady:function(){if(!m){m=true;if(h){for(var n,f=0;n=h[f++];)n.call(c,this);h=null}}},available:function(n,f){if((n=(n+"").match(r)[1])&&i.isFunction(f))var o=1,t=i.later(function(){if(p.getElementById(n)&&(f()||1)||++o>500)t.cancel()},40,true)},mix:k,merge:function(){var n={},f,o=arguments.length;for(f=0;f<o;++f)k(n,arguments[f]);return n},augment:function(){var n=arguments,f=n.length-2,o=n[0],t=n[f],x=n[f+1],y=1;if(!i.isArray(x)){t=x;x=g;f++}if(!i.isBoolean(t)){t=g;f++}for(;y<f;y++)k(o.prototype,
n[y].prototype||n[y],t,x);return o},extend:function(n,f,o,t){if(!f||!n)return n;var x=Object.prototype,y=f.prototype,s=function(a){function b(){}b.prototype=a;return new b}(y);n.prototype=s;s.constructor=n;n.superclass=y;if(f!==Object&&y.constructor===x.constructor)y.constructor=f;o&&k(s,o);t&&k(n,t);return n},namespace:function(){var n=arguments.length,f=null,o,t,x;for(o=0;o<n;++o){x=(""+arguments[o]).split(".");f=this;for(t=c[x[0]]===f?1:0;t<x.length;++t)f=f[x[t]]=f[x[t]]||{}}return f},app:function(n,
f){var o=c[n]||{};k(o,this,true,["_init","add","namespace"]);o._init();return k(c[n]=o,typeof f==="function"?f():f)},log:function(n,f,o){if(this.Config.debug){if(o)n=o+": "+n;if(c.console!==g&&console.log)console[f&&console[f]?f:"log"](n)}return this},error:function(n){if(this.Config.debug)throw n;},guid:function(n){var f=this.Env.guid++ +"";return n?n+f:f}});i._init();i.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(c,i){function g(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var p=window,k=document,m=location,h=Array.prototype,l=h.indexOf,r=h.filter,n=String.prototype.trim,f=Object.prototype.toString,o=encodeURIComponent,t=decodeURIComponent,x=/^\s+|\s+$/g,y=/^(\w+)\[\]$/,s=/\S/;c.mix(c,{isUndefined:function(a){return a===i},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&f.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return f.call(a)==="[object Function]"},isArray:function(a){return f.call(a)==="[object Array]"},trim:n?function(a){return a==i?"":n.call(a)}:function(a){return a==i?"":a.toString().replace(x,"")},each:function(a,b,d){for(var e=a&&a.length||0,q=0;q<e;++q)b.call(d||p,a[q],q,a)},indexOf:l?function(a,
b){return l.call(b,a)}:function(a,b){for(var d=0,e=b.length;d<e;++d)if(b[d]===a)return d;return-1},inArray:function(a,b){return c.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===i)return[];if(c.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||c.isFunction(a))return[a];if(a.item&&c.UA.ie){for(var b=[],d=0,e=a.length;d<e;++d)b[d]=a[d];return b}return h.slice.call(a)},filter:r?function(a,b,d){return r.call(a,b,d)}:function(a,b,d){var e=[];c.each(a,function(q,j,v){b.call(d,
q,j,v)&&e.push(q)});return e},param:function(a,b){if(!c.isPlainObject(a))return"";b=b||"&";var d=[],e,q;for(e in a){q=a[e];e=o(e);if(g(q))d.push(e,"=",o(q+""),b);else if(c.isArray(q)&&q.length)for(var j=0,v=q.length;j<v;++j)g(q[j])&&d.push(e,"[]=",o(q[j]+""),b)}d.pop();return d.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=c.trim(a)).length===0)return{};var d={};a=a.split(b||"&");for(var e,q,j,v=0,z=a.length;v<z;++v){b=a[v].split("=");e=t(b[0]);try{q=t(b[1]||"")}catch(A){q=b[1]||""}if((j=
e.match(y))&&j[1]){d[j[1]]=d[j[1]]||[];d[j[1]].push(q)}else d[e]=q}return d},later:function(a,b,d,e,q){b=b||0;e=e||{};var j=a,v=c.makeArray(q),z;if(typeof a==="string")j=e[a];j||c.error("method undefined");a=function(){j.apply(e,v)};z=d?setInterval(a,b):setTimeout(a,b);return{id:z,interval:d,cancel:function(){this.interval?clearInterval(z):clearTimeout(z)}}},clone:function(a){var b=a,d,e;if(a&&((d=c.isArray(a))||c.isPlainObject(a))){b=d?[]:{};for(e in a)if(a.hasOwnProperty(e))b[e]=c.clone(a[e])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&s.test(a)){var b=k.getElementsByTagName("head")[0]||k.documentElement,d=k.createElement("script");d.text=a;b.insertBefore(d,b.firstChild);b.removeChild(d)}}});if(m&&m.search&&m.search.indexOf("ks-debug")!==-1)c.Config.debug=true});
KISSY.add("kissy-ua",function(c){var i=navigator.userAgent,g,p={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},k=function(m){var h=0;return parseFloat(m.replace(/\./g,function(){return h++===0?".":""}))};if((g=i.match(/AppleWebKit\/([\d.]*)/))&&g[1]){p.webkit=k(g[1]);if((g=i.match(/Chrome\/([\d.]*)/))&&g[1])p.chrome=k(g[1]);else if((g=i.match(/\/([\d.]*) Safari/))&&g[1])p.safari=k(g[1]);if(/ Mobile\//.test(i))p.mobile="Apple";else if(g=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))p.mobile=
g[0]}else if((g=i.match(/Opera\/.* Version\/([\d.]*)/))&&g[1]){p.opera=k(g[1]);if(i.match(/Opera Mini[^;]*/))p.mobile=g[0]}else if((g=i.match(/MSIE\s([^;]*)/))&&g[1])p.ie=k(g[1]);else if(g=i.match(/Gecko/)){p.gecko=1;if((g=i.match(/rv:([\d.]*)/))&&g[1])p.gecko=k(g[1]);if((g=i.match(/Firefox\/([\d.]*)/))&&g[1])p.firefox=k(g[1])}c.UA=p});
KISSY.add("dom",function(c){var i={_isSupportedNode:function(g){return i._isElementNode(g)||i._isTextNode(g)},_isElementNode:function(g){return g&&g.nodeType===1},_isTextNode:function(g){return g&&g.nodeType===3},_isKSNode:function(g){return g&&c.Node&&g.nodeType===c.Node.TYPE}};c.DOM=i});
KISSY.add("selector",function(c,i){function g(a,b){var d,e=[],q,j;b=p(b);if(c.isString(a)){a=c.trim(a);if(y.test(a)){if(a=k(a.slice(1)))e=[a]}else if(d=s.exec(a)){q=d[1];j=d[2];d=d[3];if(b=q?k(q):b)if(d)if(!q||a.indexOf(f)!==-1)e=h(d,j,b);else{if((a=k(q))&&n.hasClass(a,d))e=[a]}else if(j)e=m(b,j)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else l(a)}else if(a&&(a[t]||a[x]))e=a[t]?[a[t]()]:a[x]();else if(a&&a.nodeType)e=[a];else if(a&&(c.isArray(a)||a.item))e=a;if(e.item)e=c.makeArray(e);
return e}function p(a){if(a===i)a=r;else if(c.isString(a)&&y.test(a))a=k(a.slice(1));else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function k(a){return r.getElementById(a)}function m(a,b){return a.getElementsByTagName(b)}function h(a,b,d){d=a=d.getElementsByClassName(a);var e=0,q=0,j=a.length,v;if(b&&b!==o){d=[];for(b=b.toUpperCase();e<j;++e){v=a[e];if(v.tagName===b)d[q++]=v}}return d}function l(a){c.error("Unsupported selector: "+a)}var r=document,n=c.DOM,f=" ",o="*",t="getDOMNode",x=
t+"s",y=/^#[\w-]+$/,s=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=r.createElement("div");a.appendChild(r.createComment(""));if(a.getElementsByTagName(o).length>0)m=function(b,d){b=b.getElementsByTagName(d);if(d===o){d=[];for(var e=0,q=0,j;j=b[e++];)if(j.nodeType===1)d[q++]=j;b=d}return b}})();r.getElementsByClassName||(h=r.querySelectorAll?function(a,b,d){return d.querySelectorAll((b?b:"")+"."+a)}:function(a,b,d){b=d.getElementsByTagName(b||o);d=[];var e=0,q=0,j=b.length,v,z;for(a=
f+a+f;e<j;++e){v=b[e];if((z=v.className)&&(f+z+f).indexOf(a)>-1)d[q++]=v}return d});c.query=g;c.get=function(a,b){return g(a,b)[0]||null};c.mix(n,{query:g,get:c.get,filter:function(a,b){var d=g(a),e,q,j,v=[];if(c.isString(b)&&(e=s.exec(b))&&!e[1]){q=e[2];j=e[3];b=function(z){return!(q&&z.tagName!==q.toUpperCase()||j&&!n.hasClass(z,j))}}if(c.isFunction(b))v=c.filter(d,b);else if(b&&c.ExternalSelector)v=c.ExternalSelector._filter(a,b);else l(b);return v},test:function(a,b){a=g(a);return n.filter(a,
b).length===a.length}})});
KISSY.add("dom-class",function(c,i){function g(h,l,r,n){if(!(l=c.trim(l)))return n?false:i;h=c.query(h);var f=0,o=h.length;l=l.split(k);for(var t;f<o;f++){t=h[f];if(p._isElementNode(t)){t=r(t,l,l.length);if(t!==i)return t}}if(n)return false}var p=c.DOM,k=/[\.\s]\s*\.?/,m=/[\n\t]/g;c.mix(p,{hasClass:function(h,l){return g(h,l,function(r,n,f){if(r=r.className){r=" "+r+" ";for(var o=0,t=true;o<f;o++)if(r.indexOf(" "+n[o]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(h,l){g(h,l,function(r,
n,f){var o=r.className;if(o){var t=" "+o+" ";o=o;for(var x=0;x<f;x++)if(t.indexOf(" "+n[x]+" ")<0)o+=" "+n[x];r.className=c.trim(o)}else r.className=l})},removeClass:function(h,l){g(h,l,function(r,n,f){var o=r.className;if(o)if(f){o=(" "+o+" ").replace(m," ");for(var t=0,x;t<f;t++)for(x=" "+n[t]+" ";o.indexOf(x)>=0;)o=o.replace(x," ");r.className=c.trim(o)}else r.className=""})},replaceClass:function(h,l,r){p.removeClass(h,l);p.addClass(h,r)},toggleClass:function(h,l,r){var n=c.isBoolean(r),f;g(h,
l,function(o,t,x){for(var y=0,s;y<x;y++){s=t[y];f=n?!r:p.hasClass(o,s);p[f?"removeClass":"addClass"](o,s)}})}})});
KISSY.add("dom-attr",function(c,i){function g(s,a){return a&&a.nodeName.toUpperCase()===s.toUpperCase()}var p=c.UA,k=p.ie,m=k&&k<8,h=document.documentElement.textContent!==i?"textContent":"innerText",l=c.DOM,r=l._isElementNode,n=l._isTextNode,f=/href|src|style/,o=/href|src|colspan|rowspan/,t=/\r/g,x=/radio|checkbox/,y={readonly:"readOnly"};m&&c.mix(y,{"for":"htmlFor","class":"className"});c.mix(l,{attr:function(s,a,b){if(a=c.trim(a)){a=a.toLowerCase();a=y[a]||a;if(b===i){s=c.get(s);if(!r(s))return i;
var d;f.test(a)||(d=s[a]);if(d===i)d=s.getAttribute(a);if(m)if(o.test(a))d=s.getAttribute(a,2);else if(a==="style")d=s.style.cssText;return d===null?i:d}c.each(c.query(s),function(e){if(r(e))if(m&&a==="style")e.style.cssText=b;else e.setAttribute(a,""+b)})}},removeAttr:function(s,a){c.each(c.query(s),function(b){r(b)&&b.removeAttribute(a)})},val:function(s,a){if(a===i){var b=c.get(s);if(!r(b))return i;if(g("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(g("select",b)){var d=
b.selectedIndex;s=b.options;if(d<0)return null;else if(b.type==="select-one")return l.val(s[d]);b=[];for(var e=0,q=s.length;e<q;++e)s[e].selected&&b.push(l.val(s[e]));return b}if(p.webkit&&x.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(t,"")}c.each(c.query(s),function(j){if(g("select",j)){if(c.isNumber(a))a+="";var v=c.makeArray(a),z=j.options,A;e=0;for(q=z.length;e<q;++e){A=z[e];A.selected=c.inArray(l.val(A),v)}if(!v.length)j.selectedIndex=-1}else if(r(j))j.value=
a})},text:function(s,a){if(a===i){s=c.get(s);if(r(s))return s[h]||"";else if(n(s))return s.nodeValue}else c.each(c.query(s),function(b){if(r(b))b[h]=a;else if(n(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,i){function g(a,b){var d=c.get(a),e=b===r?d.offsetWidth:d.offsetHeight;c.each(b===r?["Left","Right"]:["Top","Bottom"],function(q){e-=parseFloat(k._getComputedStyle(d,"padding"+q))||0;e-=parseFloat(k._getComputedStyle(d,"border"+q+"Width"))||0});return e}function p(a,b,d){var e=d;if(d===n&&o.test(b)){e=0;if(k.css(a,"position")==="absolute"){d=a[b==="left"?"offsetLeft":"offsetTop"];if(m.ie===8||m.opera)d-=f(k.css(a.offsetParent,"border-"+b+"-width"))||0;e=d-(f(k.css(a,
"margin-"+b))||0)}}return e}var k=c.DOM,m=c.UA,h=document,l=h.documentElement,r="width",n="auto",f=parseInt,o=/^left|top$/,t=/width|height|top|left|right|bottom|margin|padding/i,x=/-([a-z])/ig,y=function(a,b){return b.toUpperCase()},s={};c.mix(k,{_CUSTOM_STYLES:s,_getComputedStyle:function(a,b){var d="",e=a.ownerDocument;if(a.style)d=e.defaultView.getComputedStyle(a,null)[b];return d},css:function(a,b,d){if(c.isPlainObject(b))for(var e in b)k.css(a,e,b[e]);else{if(b.indexOf("-")>0)b=b.replace(x,y);
b=s[b]||b;if(d===i){a=c.get(a);e="";if(a&&a.style){e=b.get?b.get(a):a.style[b];if(e===""&&!b.get)e=p(a,b,k._getComputedStyle(a,b))}return e===i?"":e}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&t.test(b))d+="px";(b===r||b==="height")&&parseFloat(d)<0||c.each(c.query(a),function(q){if(q&&q.style){b.set?b.set(q,d):(q.style[b]=d);if(d==="")q.style.cssText||q.removeAttribute("style")}})}}},width:function(a,b){if(b===i)return g(a,r);else k.css(a,r,b)},height:function(a,b){if(b===i)return g(a,
"height");else k.css(a,"height",b)},addStyleSheet:function(a,b){var d;if(b)d=c.get(b);d||(d=k.create("<style>",{id:b}));c.get("head").appendChild(d);if(d.styleSheet)d.styleSheet.cssText=a;else d.appendChild(h.createTextNode(a))}});if(l.style.cssFloat!==i)s["float"]="cssFloat";else if(l.style.styleFloat!==i)s["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,i){if(c.UA.ie){var g=c.DOM,p=document,k=p.documentElement,m=g._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,l=/^-?\d/,r=/^width|height$/;try{if(k.style.opacity===i&&k.filters)m.opacity={get:function(f){var o=100;try{o=f.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{o=f.filters("alpha").opacity}catch(x){}}return o/100+""},set:function(f,o){f=f.style;f.zoom=1;f.filter="alpha(opacity="+o*100+")"}}}catch(n){c.log("IE filters ActiveX is disabled. ex = "+n)}if(!(p.defaultView||
{}).getComputedStyle&&k.currentStyle)g._getComputedStyle=function(f,o){var t=f.style,x=f.currentStyle[o];if(r.test(o))x=g[o](f)+"px";else if(!h.test(x)&&l.test(x)){var y=t.left,s=f.runtimeStyle.left;f.runtimeStyle.left=f.currentStyle.left;t.left=o==="fontSize"?"1em":x||0;x=t.pixelLeft+"px";t.left=y;f.runtimeStyle.left=s}return x}}});
KISSY.add("dom-offset",function(c,i){function g(j){var v=0,z=0,A=k(j[s]);if(j[q]){j=j[q]();v=j[a]+m[d](A);z=j[b]+m[e](A)}return{left:v,top:z}}function p(j,v){if(m.css(j,t)==="static")j.style[t]=x;var z=g(j),A={},u,w;for(w in v){u=o(m.css(j,w),10)||0;A[w]=u+v[w]-z[w]}m.css(j,A)}function k(j){return j&&"scrollTo"in j&&j[y]?j:j&&j.nodeType===9?j.defaultView||j.parentWindow:false}var m=c.DOM,h=window,l=document,r=m._isElementNode,n=l.compatMode==="CSS1Compat",f=Math.max,o=parseInt,t="position",x="relative",
y="document",s="ownerDocument",a="left",b="top",d="scrollLeft",e="scrollTop",q="getBoundingClientRect";c.mix(m,{offset:function(j,v){if(!(j=c.get(j))||!j[s])return null;if(v===i)return g(j);p(j,v)},scrollIntoView:function(j,v,z,A){if((j=c.get(j))&&j[s]){v=c.get(v);A=A===i?true:!!A;z=z===i?true:!!z;if(!r(v))return j.scrollIntoView(z);var u=m.offset(j),w=m.offset(v),B={left:u[a]-w[a],top:u[b]-w[b]};u=v.clientHeight;w=v.clientWidth;var C=m[d](v),D=m[e](v),G=C+w,F=D+u,E=j.offsetHeight;j=j.offsetWidth;
var H=B.left+C-(o(m.css(v,"borderLeftWidth"))||0);B=B.top+D-(o(m.css(v,"borderTopWidth"))||0);var I=H+j,J=B+E;if(E>u||B<D||z)v[e]=B;else if(J>F)v[e]=J-u;if(A)if(j>w||H<C||z)v[d]=H;else if(I>G)v[d]=I-w}}});c.each(["Left","Top"],function(j,v){var z="scroll"+j;m[z]=function(A){var u=0,w=A===i?h:k(A),B;if(w&&(B=w[y]))u=w[v?"pageYOffset":"pageXOffset"]||B.documentElement[z]||B.body[z];else if(r(A=c.get(A)))u=A[z];return u}});c.each(["Width","Height"],function(j){m["doc"+j]=function(v){v=v||l;return f(n?
v.documentElement["scroll"+j]:v.body["scroll"+j],m["viewport"+j](v))};m["viewport"+j]=function(v){var z="inner"+j;v=k(v)||h;var A=v[y];return z in v?v[z]:n?A.documentElement["client"+j]:A.body["client"+j]}})});
KISSY.add("dom-traversal",function(c,i){function g(h,l,r,n){if(!(h=c.get(h)))return null;if(l===i)l=1;var f=null,o,t;if(c.isNumber(l)&&l>=0){if(l===0)return h;o=0;t=l;l=function(){return++o===t}}for(;h=h[r];)if(m(h)&&(!l||k.test(h,l))&&(!n||n(h))){f=h;break}return f}function p(h,l,r){var n=[];var f=h=c.get(h);if(h&&r)f=h.parentNode;if(f){r=0;for(f=f.firstChild;f;f=f.nextSibling)if(m(f)&&f!==h&&(!l||k.test(f,l)))n[r++]=f}return n}var k=c.DOM,m=k._isElementNode;c.mix(k,{parent:function(h,l){return g(h,
l,"parentNode",function(r){return r.nodeType!=11})},next:function(h,l){return g(h,l,"nextSibling")},prev:function(h,l){return g(h,l,"previousSibling")},siblings:function(h,l){return p(h,l,true)},children:function(h,l){return p(h,l)},contains:function(h,l){var r=false;if((h=c.get(h))&&(l=c.get(l)))if(h.contains)return h.contains(l);else if(h.compareDocumentPosition)return!!(h.compareDocumentPosition(l)&16);else for(;!r&&(l=l.parentNode);)r=l==h;return r}})});
KISSY.add("dom-create",function(c,i){function g(u,w){if(t(u)&&w)for(var B in w)r.attr(u,B,w[B]);return u}function p(u,w){var B=null,C;if(u&&(u.push||u.item)&&u[0]){w=w||u[0].ownerDocument;B=w.createDocumentFragment();if(u.item)u=c.makeArray(u);w=0;for(C=u.length;w<C;w++)B.appendChild(u[w])}else c.log("Unable to convert "+u+" to fragment.");return B}function k(u){var w=u.cloneNode(true);if(n.ie<8)w.innerHTML=u.innerHTML;return w}function m(u,w,B,C){if(B){var D=c.guid("ks-tmp-");w+='<span id="'+D+'"></span>';
var G=new RegExp(b);c.available(D,function(){var F=c.get("head"),E,H,I,J,L,K;for(G.lastIndex=0;E=G.exec(w);)if((I=(H=E[1])?H.match(d):false)&&I[2]){E=l.createElement("script");E.src=I[2];if((J=H.match(e))&&J[2])E.charset=J[2];E.async=true;F.appendChild(E)}else if((K=E[2])&&K.length>0)c.globalEval(K);(L=l.getElementById(D))&&r.remove(L);c.isFunction(C)&&C()});h(u,w)}else{h(u,w);c.isFunction(C)&&C()}}function h(u,w){w=w.replace(b,"");try{u.innerHTML=w}catch(B){for(;u.firstChild;)u.removeChild(u.firstChild);
w&&u.appendChild(r.create(w))}}var l=document,r=c.DOM,n=c.UA,f=n.ie,o=r._isSupportedNode,t=r._isElementNode,x=r._isKSNode,y=l.createElement("div"),s=/<(\w+)/,a=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/<script([^>]*)>([\s\S]*?)<\/script>/ig,d=/\ssrc=(['"])(.*?)\1/i,e=/\scharset=(['"])(.*?)\1/i;c.mix(r,{create:function(u,w,B){if(o(u))return k(u);if(x(u))return k(u[0]);if(!(u=c.trim(u)))return null;var C=null;C=r._creators;var D,G="div",F;if(D=a.exec(u))C=(B||l).createElement(D[1]);else{if((D=s.exec(u))&&(F=
D[1])&&c.isFunction(C[F=F.toLowerCase()]))G=F;u=C[G](u,B).childNodes;C=u.length===1?u[0].parentNode.removeChild(u[0]):p(u,B||l)}return g(C,w)},_creators:{div:function(u,w){w=w?w.createElement("div"):y;w.innerHTML=u;return w}},html:function(u,w,B,C){if(w===i){u=c.get(u);if(t(u))return u.innerHTML}else c.each(c.query(u),function(D){t(D)&&m(D,w,B,C)})},remove:function(u){c.each(c.query(u),function(w){t(w)&&w.parentNode&&w.parentNode.removeChild(w)})}});if(n.gecko||f){var q=r._creators,j=r.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
z={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in z)(function(u){q[A]=function(w,B){return j("<"+u+">"+w+"</"+u+">",null,B)}})(z[A]);if(f){q.script=function(u,w){w=w?w.createElement("div"):y;w.innerHTML="-"+u;w.removeChild(w.firstChild);return w};if(f<8)q.tbody=function(u,w){w=j("<table>"+u+"</table>",null,w);var B=w.children.tags("tbody")[0];w.children.length>1&&B&&!v.test(u)&&B.parentNode.removeChild(B);return w}}c.mix(q,{optgroup:q.option,th:q.td,
thead:q.tbody,tfoot:q.tbody,caption:q.tbody,colgroup:q.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(i,g){if((i=c.get(i))&&(g=c.get(g))&&g.parentNode)g.parentNode.insertBefore(i,g);return i},insertAfter:function(i,g){if((i=c.get(i))&&(g=c.get(g))&&g.parentNode)g.nextSibling?g.parentNode.insertBefore(i,g.nextSibling):g.parentNode.appendChild(i);return i}})});
KISSY.add("event",function(c,i){function g(a,b,d,e,q){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(j){s[a](j,d,e,q)});return true}if((d=c.trim(d))&&d.indexOf(t)>0){c.each(d.split(t),function(j){s[a](b,j,e,q)});return true}}function p(a){return h(a)?a[o]:-1}function k(a,b){if(!h(a))return c.error("Text or comment node is not valid event target.");try{a[o]=b}catch(d){c.error(d)}}function m(a){try{a[o]=i;delete a[o]}catch(b){}}function h(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var l=window,r=document,n=r.addEventListener?function(a,b,d,e){a.addEventListener&&a.addEventListener(b,d,!!e)}:function(a,b,d){a.attachEvent&&a.attachEvent("on"+b,d)},f=r.removeEventListener?function(a,b,d,e){a.removeEventListener&&a.removeEventListener(b,d,!!e)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)},o="ksEventTargetId",t=" ",x=c.now(),y={},s={EVENT_GUID:o,special:{},add:function(a,b,d,e){if(!g("add",a,b,d,e)){var q=p(a),j,v;if(!(q===-1||!b||!c.isFunction(d))){if(!q){k(a,q=x++);
y[q]={target:a,events:{}}}v=y[q].events;j=!a.isCustomEventTarget&&s.special[b]||{};if(!v[b]){q=function(z,A){if(!z||!z.fixed){z=new c.EventObject(a,z,b);c.isPlainObject(A)&&c.mix(z,A)}j.setup&&j.setup(z);return(j.handle||s._handle)(a,z,v[b].listeners)};v[b]={handle:q,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,q);else n(a,j.fix||b,q,j.capture)}v[b].listeners.push({fn:d,scope:e})}}},remove:function(a,b,d){if(!g("remove",a,b,d)){var e=p(a),q,j,v,z,A,u;if(e!==-1)if(e&&(q=y[e]))if(q.target===
a){q=q.events||{};if(j=q[b]){v=j.listeners;A=v.length;if(c.isFunction(d)&&A&&c.inArray(d,v)){u=[];for(z=0;z<A;++z)d!==v[z]&&u.push(v[z]);A=u.length}if(d===i||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,j.handle);else f(a,b,j.handle);delete q[b]}}if(b===i||c.isEmptyObject(q)){for(b in q)s.remove(a,b);delete y[e];m(a)}}}},_handle:function(a,b,d){d=d.slice(0);for(var e,q=0,j=d.length;q<j;++q){e=d[q];e=e.fn.call(e.scope||a,b);if(e===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return e},
_getCache:function(a){return y[a]},_simpleAdd:n,_simpleRemove:f};s.on=s.add;c.Event=s;l.attachEvent&&!l.addEventListener&&l.attachEvent("onunload",function(){var a,b;for(a in y)if(b=y[a].target)try{s.remove(b)}catch(d){}})});
KISSY.add("event-object",function(c,i){function g(m,h,l){this.currentTarget=m;this.originalEvent=h||{};if(h){this.type=h.type;this._fix()}else{this.type=l;this.target=m}this.fixed=true}var p=document,k="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.mix(g.prototype,
{_fix:function(){for(var m=this.originalEvent,h=k.length,l;h;){l=k[--h];this[l]=m[l]}if(!this.target)this.target=this.srcElement||p;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===i&&this.clientX!==i){m=p.documentElement;h=p.body;this.pageX=this.clientX+(m&&m.scrollLeft||h&&h.scrollLeft||0)-(m&&m.clientLeft||h&&h.clientLeft||0);this.pageY=this.clientY+
(m&&m.scrollTop||h&&h.scrollTop||0)-(m&&m.clientTop||h&&h.clientTop||0)}if(this.which===i)this.which=this.charCode!==i?this.charCode:this.keyCode;if(this.metaKey===i)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==i)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var m=this.originalEvent;if(m.preventDefault)m.preventDefault();else m.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var m=this.originalEvent;if(m.stopPropagation)m.stopPropagation();
else m.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var m=this.originalEvent;m.stopImmediatePropagation?m.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(m){m?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=g});
KISSY.add("event-target",function(c,i){var g=c.Event,p=g.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(k,m){if((k=((g._getCache(this[p]||-1)||{}).events||{})[k])&&c.isFunction(k.handle))return k.handle(i,m)},on:function(k,m,h){g.add(this,k,m,h)},detach:function(k,m){g.remove(this,k,m)}}});
KISSY.add("event-mouseenter",function(c){var i=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(g){i.special[g.name]={fix:g.fix,setup:function(p){p.type=g.name},handle:function(p,k,m){var h=k.relatedTarget;try{for(;h&&h!==p;)h=h.parentNode;h!==p&&i._handle(p,k,m)}catch(l){}}}})});
KISSY.add("event-focusin",function(c){var i=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(g){i.special[g.name]={fix:g.fix,capture:true,setup:function(p){p.type=g.name}}})});
KISSY.add("node",function(c){function i(p,k,m){var h;if(!(this instanceof i))return new i(p,k,m);if(!p)return null;if(g._isSupportedNode(p))h=p;else if(typeof p==="string")h=g.create(p,k,m);this[0]=h}var g=c.DOM;i.TYPE="-ks-Node";c.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});c.one=function(p,k){return new i(c.get(p,k))};c.Node=i});
KISSY.add("nodelist",function(c){function i(k){if(!(this instanceof i))return new i(k);p.push.apply(this,k||[])}var g=c.DOM,p=Array.prototype;c.mix(i.prototype,{length:0,item:function(k){var m=null;if(g._isElementNode(this[k]))m=new c.Node(this[k]);return m},getDOMNodes:function(){return p.slice.call(this)},each:function(k,m){for(var h=this.length,l=0,r;l<h;++l){r=new c.Node(this[l]);k.call(m||r,r,l,this)}return this}});c.all=function(k,m){return new i(c.query(k,m,true))};c.NodeList=i});
KISSY.add("node-attach",function(c,i){function g(x,arguments,y,s){var a=[this[x?n:r]()].concat(c.makeArray(arguments));if(arguments[y]===i)return s.apply(k,a);else{s.apply(k,a);return this}}function p(x,y){c.each(x,function(s){c.each([h,l],function(a,b){a[s]=function(d){switch(y){case f:return function(){return g.call(this,b,arguments,1,d)};case o:return function(){return g.call(this,b,arguments,0,d)};case t:return function(){var e=this[b?n:r]();return(e=d.apply(k,[e].concat(c.makeArray(arguments))))?
new (c[c.isArray(e)?"NodeList":"Node"])(e):null};default:return function(){var e=this[b?n:r]();e=d.apply(k,[e].concat(c.makeArray(arguments)));return e===i?this:e}}}(k[s])})})}var k=c.DOM,m=c.Event,h=c.Node.prototype,l=c.NodeList.prototype,r="getDOMNode",n=r+"s",f=1,o=2,t=4;c.mix(h,{one:function(x){return c.one(x,this[0])},all:function(x){return c.all(x,this[0])}});p(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);p(["attr","removeAttr"],f);p(["val","text"],o);p(["css"],f);p(["width",
"height"],o);p(["offset"],o);p(["scrollIntoView"]);p(["parent","next","prev","siblings","children"],t);p(["contains"]);p(["html"],o);p(["remove"]);c.each(["insertBefore","insertAfter"],function(x){h[x]=function(y){k[x].call(k,this[0],y);return this}});c.each([h,l],function(x){c.mix(x,{append:function(y){y&&c.each(this,function(s){s.appendChild(k.create(y))});return this},appendTo:function(y){if((y=c.get(y))&&y.appendChild)c.each(this,function(s){y.appendChild(s)});return this}})});c.each([h,l],function(x){c.mix(x,
c.EventTarget);x._addEvent=function(y,s){for(var a=0,b=this.length;a<b;a++)m._simpleAdd(this[a],y,s)};x._removeEvent=function(y,s){for(var a=0,b=this.length;a<b;a++)m._simpleRemove(this[a],y,s)};delete x.fire})});
KISSY.add("ajax",function(c){var i=document,g=i.createElement("script").readyState?function(p,k){p.onreadystatechange=function(){var m=p.readyState;if(m==="loaded"||m==="complete"){p.onreadystatechange=null;k.call(this)}}}:function(p,k){p.onload=k};c.Ajax={request:function(){c.error("not implemented")},getScript:function(p,k,m){var h=c.get("head")||i.documentElement,l=i.createElement("script");l.src=p;if(m)l.charset=m;l.async=true;c.isFunction(k)&&g(l,k);h.appendChild(l)}}});
