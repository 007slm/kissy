/*
Copyright 2010, KISSY UI Library v1.1.0pre
MIT Licensed
build time: ${build.time}
*/
(function(b,k,h){if(b[k]===h)b[k]={};k=b[k];var p=b.document,o=function(r,i,q,t){if(!i||!r)return r;if(q===h)q=true;var w,y,l;if(t&&(l=t.length))for(w=0;w<l;w++){y=t[w];if(y in i)if(q||!(y in r))r[y]=i[y]}else for(y in i)if(q||!(y in r))r[y]=i[y];return r},j=false,g=[],d=false,s=/^#?([\w-]+)$/;o(k,{version:"1.1.0pre",_init:function(){this.Env={mods:{},guid:0}},add:function(r,i){this.Env.mods[r]={name:r,fn:i};i(this);return this},ready:function(r){d||this._bindReady();j?r.call(b,this):g.push(r);return this},
_bindReady:function(){var r=this,i=p.documentElement.doScroll,q=i?"onreadystatechange":"DOMContentLoaded",t=function(){r._fireReady()};d=true;if(p.readyState==="complete")return t();if(p.addEventListener){var w=function(){p.removeEventListener(q,w,false);t()};p.addEventListener(q,w,false);b.addEventListener("load",t,false)}else{var y=function(){if(p.readyState==="complete"){p.detachEvent(q,y);t()}};p.attachEvent(q,y);b.attachEvent("onload",t);if(b==b.top){var l=function(){try{i("left");t()}catch(a){setTimeout(l,
1)}};l()}}},_fireReady:function(){if(!j){j=true;if(g){for(var r,i=0;r=g[i++];)r.call(b,this);g=null}}},available:function(r,i){if((r=(r+"").match(s)[1])&&k.isFunction(i))var q=1,t=k.later(function(){if(p.getElementById(r)&&(i()||1)||++q>500)t.cancel()},40,true)},mix:o,merge:function(){var r={},i,q=arguments.length;for(i=0;i<q;++i)o(r,arguments[i]);return r},augment:function(){var r=arguments,i=r.length-2,q=r[0],t=r[i],w=r[i+1],y=1;if(!k.isArray(w)){t=w;w=h;i++}if(!k.isBoolean(t)){t=h;i++}for(;y<i;y++)o(q.prototype,
r[y].prototype||r[y],t,w);return q},extend:function(r,i,q,t){if(!i||!r)return r;var w=Object.prototype,y=i.prototype,l=function(a){function c(){}c.prototype=a;return new c}(y);r.prototype=l;l.constructor=r;r.superclass=y;if(i!==Object&&y.constructor===w.constructor)y.constructor=i;q&&o(l,q);t&&o(r,t);return r},namespace:function(){var r=arguments.length,i=null,q,t,w;for(q=0;q<r;++q){w=(""+arguments[q]).split(".");i=this;for(t=b[w[0]]===i?1:0;t<w.length;++t)i=i[w[t]]=i[w[t]]||{}}return i},app:function(r,
i){var q=b[r]||{};o(q,this,true,["_init","add","namespace"]);q._init();return o(b[r]=q,typeof i==="function"?i():i)},log:function(r,i,q){if(this.Config.debug){if(q)r=q+": "+r;if(b.console!==h&&console.log)console[i&&console[i]?i:"log"](r)}return this},error:function(r){if(this.Config.debug)throw r;},guid:function(r){var i=this.Env.guid++ +"";return r?r+i:i}});k._init();k.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(b,k){function h(a){var c=typeof a;return a===null||c!=="object"&&c!=="function"}var p=window,o=document,j=location,g=Array.prototype,d=g.indexOf,s=g.filter,r=String.prototype.trim,i=Object.prototype.toString,q=encodeURIComponent,t=decodeURIComponent,w=/^\s+|\s+$/g,y=/^(\w+)\[\]$/,l=/\S/;b.mix(b,{isUndefined:function(a){return a===k},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&i.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var c in a)return false;return true},isFunction:function(a){return i.call(a)==="[object Function]"},isArray:function(a){return i.call(a)==="[object Array]"},trim:r?function(a){return a==k?"":r.call(a)}:function(a){return a==k?"":a.toString().replace(w,"")},each:function(a,c,e){for(var f=a&&a.length||0,m=0;m<f;++m)c.call(e||p,a[m],m,a)},indexOf:d?function(a,
c){return d.call(c,a)}:function(a,c){for(var e=0,f=c.length;e<f;++e)if(c[e]===a)return e;return-1},inArray:function(a,c){return b.indexOf(a,c)>-1},makeArray:function(a){if(a===null||a===k)return[];if(b.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||b.isFunction(a))return[a];if(a.item&&b.UA.ie){for(var c=[],e=0,f=a.length;e<f;++e)c[e]=a[e];return c}return g.slice.call(a)},filter:s?function(a,c,e){return s.call(a,c,e)}:function(a,c,e){var f=[];b.each(a,function(m,n,u){c.call(e,
m,n,u)&&f.push(m)});return f},param:function(a,c){if(!b.isPlainObject(a))return"";c=c||"&";var e=[],f,m;for(f in a){m=a[f];f=q(f);if(h(m))e.push(f,"=",q(m+""),c);else if(b.isArray(m)&&m.length)for(var n=0,u=m.length;n<u;++n)h(m[n])&&e.push(f,"[]=",q(m[n]+""),c)}e.pop();return e.join("")},unparam:function(a,c){if(typeof a!=="string"||(a=b.trim(a)).length===0)return{};var e={};a=a.split(c||"&");for(var f,m,n,u=0,z=a.length;u<z;++u){c=a[u].split("=");f=t(c[0]);try{m=t(c[1]||"")}catch(A){m=c[1]||""}if((n=
f.match(y))&&n[1]){e[n[1]]=e[n[1]]||[];e[n[1]].push(m)}else e[f]=m}return e},later:function(a,c,e,f,m){c=c||0;f=f||{};var n=a,u=b.makeArray(m),z;if(typeof a==="string")n=f[a];n||b.error("method undefined");a=function(){n.apply(f,u)};z=e?setInterval(a,c):setTimeout(a,c);return{id:z,interval:e,cancel:function(){this.interval?clearInterval(z):clearTimeout(z)}}},clone:function(a){var c=a,e,f;if(a&&((e=b.isArray(a))||b.isPlainObject(a))){c=e?[]:{};for(f in a)if(a.hasOwnProperty(f))c[f]=b.clone(a[f])}return c},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&l.test(a)){var c=o.getElementsByTagName("head")[0]||o.documentElement,e=o.createElement("script");e.text=a;c.insertBefore(e,c.firstChild);c.removeChild(e)}}});if(j&&j.search&&j.search.indexOf("ks-debug")!==-1)b.Config.debug=true});
KISSY.add("kissy-ua",function(b){var k=navigator.userAgent,h,p={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},o=function(j){var g=0;return parseFloat(j.replace(/\./g,function(){return g++===0?".":""}))};if((h=k.match(/AppleWebKit\/([\d.]*)/))&&h[1]){p.webkit=o(h[1]);if((h=k.match(/Chrome\/([\d.]*)/))&&h[1])p.chrome=o(h[1]);else if((h=k.match(/\/([\d.]*) Safari/))&&h[1])p.safari=o(h[1]);if(/ Mobile\//.test(k))p.mobile="Apple";else if(h=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))p.mobile=
h[0]}else if((h=k.match(/Opera\/.* Version\/([\d.]*)/))&&h[1]){p.opera=o(h[1]);if(k.match(/Opera Mini[^;]*/))p.mobile=h[0]}else if((h=k.match(/MSIE\s([^;]*)/))&&h[1])p.ie=o(h[1]);else if(h=k.match(/Gecko/)){p.gecko=1;if((h=k.match(/rv:([\d.]*)/))&&h[1])p.gecko=o(h[1]);if((h=k.match(/Firefox\/([\d.]*)/))&&h[1])p.firefox=o(h[1])}b.UA=p});
KISSY.add("dom",function(b){var k={_isSupportedNode:function(h){return k._isElementNode(h)||k._isTextNode(h)},_isElementNode:function(h){return h&&h.nodeType===1},_isTextNode:function(h){return h&&h.nodeType===3},_isKSNode:function(h){return h&&b.Node&&h.nodeType===b.Node.TYPE}};b.DOM=k});
KISSY.add("selector",function(b,k){function h(a,c){var e,f=[],m,n;c=p(c);if(b.isString(a)){a=b.trim(a);if(y.test(a)){if(a=o(a.slice(1),c))f=[a]}else if(e=l.exec(a)){m=e[1];n=e[2];e=e[3];if(c=m?o(m,c):c)if(e)if(!m||a.indexOf(i)!==-1)f=g(e,n,c);else{if((a=o(m,c))&&r.hasClass(a,e))f=[a]}else if(n)f=j(n,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else d(a)}else if(a&&(a[t]||a[w]))f=a[t]?[a[t]()]:a[w]();else if(a&&a.nodeType)f=[a];else if(a&&(b.isArray(a)||a.item))f=a;if(f.item)f=b.makeArray(f);
return f}function p(a){if(a===k)a=s;else if(b.isString(a)&&y.test(a))a=o(a.slice(1),s);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function o(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function j(a,c){return c.getElementsByTagName(a)}function g(a,c,e){e=a=e.getElementsByClassName(a);var f=0,m=0,n=a.length,u;if(c&&c!==q){e=[];for(c=c.toUpperCase();f<n;++f){u=a[f];if(u.tagName===c)e[m++]=u}}return e}function d(a){b.error("Unsupported selector: "+a)}var s=document,
r=b.DOM,i=" ",q="*",t="getDOMNode",w=t+"s",y=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=s.createElement("div");a.appendChild(s.createComment(""));if(a.getElementsByTagName(q).length>0)j=function(c,e){e=e.getElementsByTagName(c);if(c===q){c=[];for(var f=0,m=0,n;n=e[f++];)if(n.nodeType===1)c[m++]=n;e=c}return e}})();s.getElementsByClassName||(g=s.querySelectorAll?function(a,c,e){return e.querySelectorAll((c?c:"")+"."+a)}:function(a,c,e){c=e.getElementsByTagName(c||
q);e=[];var f=0,m=0,n=c.length,u,z;for(a=i+a+i;f<n;++f){u=c[f];if((z=u.className)&&(i+z+i).indexOf(a)>-1)e[m++]=u}return e});b.query=h;b.get=function(a,c){return h(a,c)[0]||null};b.mix(r,{query:h,get:b.get,filter:function(a,c){var e=h(a),f,m,n,u=[];if(b.isString(c)&&(f=l.exec(c))&&!f[1]){m=f[2];n=f[3];c=function(z){return!(m&&z.tagName!==m.toUpperCase()||n&&!r.hasClass(z,n))}}if(b.isFunction(c))u=b.filter(e,c);else if(c&&b.ExternalSelector)u=b.ExternalSelector._filter(a,c);else d(c);return u},test:function(a,
c){a=h(a);return r.filter(a,c).length===a.length}})});
KISSY.add("dom-class",function(b,k){function h(g,d,s,r){if(!(d=b.trim(d)))return r?false:k;g=b.query(g);var i=0,q=g.length;d=d.split(o);for(var t;i<q;i++){t=g[i];if(p._isElementNode(t)){t=s(t,d,d.length);if(t!==k)return t}}if(r)return false}var p=b.DOM,o=/[\.\s]\s*\.?/,j=/[\n\t]/g;b.mix(p,{hasClass:function(g,d){return h(g,d,function(s,r,i){if(s=s.className){s=" "+s+" ";for(var q=0,t=true;q<i;q++)if(s.indexOf(" "+r[q]+" ")<0){t=false;break}if(t)return true}},true)},addClass:function(g,d){h(g,d,function(s,
r,i){var q=s.className;if(q){var t=" "+q+" ";q=q;for(var w=0;w<i;w++)if(t.indexOf(" "+r[w]+" ")<0)q+=" "+r[w];s.className=b.trim(q)}else s.className=d})},removeClass:function(g,d){h(g,d,function(s,r,i){var q=s.className;if(q)if(i){q=(" "+q+" ").replace(j," ");for(var t=0,w;t<i;t++)for(w=" "+r[t]+" ";q.indexOf(w)>=0;)q=q.replace(w," ");s.className=b.trim(q)}else s.className=""})},replaceClass:function(g,d,s){p.removeClass(g,d);p.addClass(g,s)},toggleClass:function(g,d,s){var r=b.isBoolean(s),i;h(g,
d,function(q,t,w){for(var y=0,l;y<w;y++){l=t[y];i=r?!s:p.hasClass(q,l);p[i?"removeClass":"addClass"](q,l)}})}})});
KISSY.add("dom-attr",function(b,k){function h(l,a){return a&&a.nodeName.toUpperCase()===l.toUpperCase()}var p=b.UA,o=p.ie,j=o&&o<8,g=document.documentElement.textContent!==k?"textContent":"innerText",d=b.DOM,s=d._isElementNode,r=d._isTextNode,i=/href|src|style/,q=/href|src|colspan|rowspan/,t=/\r/g,w=/radio|checkbox/,y={readonly:"readOnly"};j&&b.mix(y,{"for":"htmlFor","class":"className"});b.mix(d,{attr:function(l,a,c){if(b.isPlainObject(a))for(var e in a)d.attr(l,e,a[e]);else if(a=b.trim(a)){a=a.toLowerCase();
a=y[a]||a;if(c===k){l=b.get(l);if(!s(l))return k;var f;i.test(a)||(f=l[a]);if(f===k)f=l.getAttribute(a);if(j)if(q.test(a))f=l.getAttribute(a,2);else if(a==="style")f=l.style.cssText;return f===null?k:f}b.each(b.query(l),function(m){if(s(m))if(j&&a==="style")m.style.cssText=c;else{if(a==="checked")m[a]=!!c;m.setAttribute(a,""+c)}})}},removeAttr:function(l,a){b.each(b.query(l),function(c){if(s(c)){d.attr(c,a,"");c.removeAttribute(a)}})},val:function(l,a){if(a===k){var c=b.get(l);if(!s(c))return k;if(h("option",
c))return(c.attributes.value||{}).specified?c.value:c.text;if(h("select",c)){var e=c.selectedIndex;l=c.options;if(e<0)return null;else if(c.type==="select-one")return d.val(l[e]);c=[];for(var f=0,m=l.length;f<m;++f)l[f].selected&&c.push(d.val(l[f]));return c}if(p.webkit&&w.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(t,"")}b.each(b.query(l),function(n){if(h("select",n)){if(b.isNumber(a))a+="";var u=b.makeArray(a),z=n.options,A;f=0;for(m=z.length;f<m;++f){A=
z[f];A.selected=b.inArray(d.val(A),u)}if(!u.length)n.selectedIndex=-1}else if(s(n))n.value=a})},text:function(l,a){if(a===k){l=b.get(l);if(s(l))return l[g]||"";else if(r(l))return l.nodeValue}else b.each(b.query(l),function(c){if(s(c))c[g]=a;else if(r(c))c.nodeValue=a})}})});
KISSY.add("dom-style",function(b,k){function h(a,c){var e=b.get(a),f=c===s?e.offsetWidth:e.offsetHeight;b.each(c===s?["Left","Right"]:["Top","Bottom"],function(m){f-=parseFloat(o._getComputedStyle(e,"padding"+m))||0;f-=parseFloat(o._getComputedStyle(e,"border"+m+"Width"))||0});return f}function p(a,c,e){var f=e;if(e===r&&q.test(c)){f=0;if(o.css(a,"position")==="absolute"){e=a[c==="left"?"offsetLeft":"offsetTop"];if(j.ie===8||j.opera)e-=i(o.css(a.offsetParent,"border-"+c+"-width"))||0;f=e-(i(o.css(a,
"margin-"+c))||0)}}return f}var o=b.DOM,j=b.UA,g=document,d=g.documentElement,s="width",r="auto",i=parseInt,q=/^left|top$/,t=/width|height|top|left|right|bottom|margin|padding/i,w=/-([a-z])/ig,y=function(a,c){return c.toUpperCase()},l={};b.mix(o,{_CUSTOM_STYLES:l,_getComputedStyle:function(a,c){var e="",f=a.ownerDocument;if(a.style)e=f.defaultView.getComputedStyle(a,null)[c];return e},css:function(a,c,e){if(b.isPlainObject(c))for(var f in c)o.css(a,f,c[f]);else{if(c.indexOf("-")>0)c=c.replace(w,y);
c=l[c]||c;if(e===k){a=b.get(a);f="";if(a&&a.style){f=c.get?c.get(a):a.style[c];if(f===""&&!c.get)f=p(a,c,o._getComputedStyle(a,c))}return f===k?"":f}else{if(e===null||e==="")e="";else if(!isNaN(new Number(e))&&t.test(c))e+="px";(c===s||c==="height")&&parseFloat(e)<0||b.each(b.query(a),function(m){if(m&&m.style){c.set?c.set(m,e):(m.style[c]=e);if(e==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(a,c){if(c===k)return h(a,s);else o.css(a,s,c)},height:function(a,c){if(c===k)return h(a,
"height");else o.css(a,"height",c)},addStyleSheet:function(a,c){var e;if(c)e=b.get(c);e||(e=o.create("<style>",{id:c}));b.get("head").appendChild(e);if(e.styleSheet)e.styleSheet.cssText=a;else e.appendChild(g.createTextNode(a))}});if(d.style.cssFloat!==k)l["float"]="cssFloat";else if(d.style.styleFloat!==k)l["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,k){if(b.UA.ie){var h=b.DOM,p=document,o=p.documentElement,j=h._CUSTOM_STYLES,g=/^-?\d+(?:px)?$/i,d=/^-?\d/,s=/^width|height$/;try{if(o.style.opacity===k&&o.filters)j.opacity={get:function(i){var q=100;try{q=i.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{q=i.filters("alpha").opacity}catch(w){}}return q/100+""},set:function(i,q){i=i.style;i.zoom=1;i.filter="alpha(opacity="+q*100+")"}}}catch(r){b.log("IE filters ActiveX is disabled. ex = "+r)}if(!(p.defaultView||
{}).getComputedStyle&&o.currentStyle)h._getComputedStyle=function(i,q){var t=i.style,w=i.currentStyle[q];if(s.test(q))w=h[q](i)+"px";else if(!g.test(w)&&d.test(w)){var y=t.left,l=i.runtimeStyle.left;i.runtimeStyle.left=i.currentStyle.left;t.left=q==="fontSize"?"1em":w||0;w=t.pixelLeft+"px";t.left=y;i.runtimeStyle.left=l}return w}}});
KISSY.add("dom-offset",function(b,k){function h(n){var u=0,z=0,A=o(n[l]);if(n[m]){n=n[m]();u=n[a]+j[e](A);z=n[c]+j[f](A)}return{left:u,top:z}}function p(n,u){if(j.css(n,t)==="static")n.style[t]=w;var z=h(n),A={},v,x;for(x in u){v=q(j.css(n,x),10)||0;A[x]=v+u[x]-z[x]}j.css(n,A)}function o(n){return n&&"scrollTo"in n&&n[y]?n:n&&n.nodeType===9?n.defaultView||n.parentWindow:false}var j=b.DOM,g=window,d=document,s=j._isElementNode,r=d.compatMode==="CSS1Compat",i=Math.max,q=parseInt,t="position",w="relative",
y="document",l="ownerDocument",a="left",c="top",e="scrollLeft",f="scrollTop",m="getBoundingClientRect";b.mix(j,{offset:function(n,u){if(!(n=b.get(n))||!n[l])return null;if(u===k)return h(n);p(n,u)},scrollIntoView:function(n,u,z,A){if((n=b.get(n))&&n[l]){u=b.get(u);A=A===k?true:!!A;z=z===k?true:!!z;if(!s(u))return n.scrollIntoView(z);var v=j.offset(n),x=j.offset(u),B={left:v[a]-x[a],top:v[c]-x[c]};v=u.clientHeight;x=u.clientWidth;var C=j[e](u),D=j[f](u),G=C+x,F=D+v,E=n.offsetHeight;n=n.offsetWidth;
var H=B.left+C-(q(j.css(u,"borderLeftWidth"))||0);B=B.top+D-(q(j.css(u,"borderTopWidth"))||0);var I=H+n,J=B+E;if(E>v||B<D||z)u[f]=B;else if(J>F)u[f]=J-v;if(A)if(n>x||H<C||z)u[e]=H;else if(I>G)u[e]=I-x}}});b.each(["Left","Top"],function(n,u){var z="scroll"+n;j[z]=function(A){var v=0,x=A===k?g:o(A),B;if(x&&(B=x[y]))v=x[u?"pageYOffset":"pageXOffset"]||B.documentElement[z]||B.body[z];else if(s(A=b.get(A)))v=A[z];return v}});b.each(["Width","Height"],function(n){j["doc"+n]=function(u){u=u||d;return i(r?
u.documentElement["scroll"+n]:u.body["scroll"+n],j["viewport"+n](u))};j["viewport"+n]=function(u){var z="inner"+n;u=o(u)||g;var A=u[y];return z in u?u[z]:r?A.documentElement["client"+n]:A.body["client"+n]}})});
KISSY.add("dom-traversal",function(b,k){function h(g,d,s,r){if(!(g=b.get(g)))return null;if(d===k)d=1;var i=null,q,t;if(b.isNumber(d)&&d>=0){if(d===0)return g;q=0;t=d;d=function(){return++q===t}}for(;g=g[s];)if(j(g)&&(!d||o.test(g,d))&&(!r||r(g))){i=g;break}return i}function p(g,d,s){var r=[];var i=g=b.get(g);if(g&&s)i=g.parentNode;if(i){s=0;for(i=i.firstChild;i;i=i.nextSibling)if(j(i)&&i!==g&&(!d||o.test(i,d)))r[s++]=i}return r}var o=b.DOM,j=o._isElementNode;b.mix(o,{parent:function(g,d){return h(g,
d,"parentNode",function(s){return s.nodeType!=11})},next:function(g,d){return h(g,d,"nextSibling")},prev:function(g,d){return h(g,d,"previousSibling")},siblings:function(g,d){return p(g,d,true)},children:function(g,d){return p(g,d)},contains:function(g,d){var s=false;if((g=b.get(g))&&(d=b.get(d)))if(g.contains)return g.contains(d);else if(g.compareDocumentPosition)return!!(g.compareDocumentPosition(d)&16);else for(;!s&&(d=d.parentNode);)s=d==g;return s}})});
KISSY.add("dom-create",function(b,k){function h(v,x){t(v)&&b.isPlainObject(x)&&s.attr(v,x);return v}function p(v,x){var B=null,C;if(v&&(v.push||v.item)&&v[0]){x=x||v[0].ownerDocument;B=x.createDocumentFragment();if(v.item)v=b.makeArray(v);x=0;for(C=v.length;x<C;x++)B.appendChild(v[x])}else b.log("Unable to convert "+v+" to fragment.");return B}function o(v){var x=v.cloneNode(true);if(r.ie<8)x.innerHTML=v.innerHTML;return x}function j(v,x,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(a);x+='<span id="'+
D+'"></span>';b.available(D,function(){var F=b.get("head"),E,H,I,J,L,K;for(G.lastIndex=0;E=G.exec(x);)if((I=(H=E[1])?H.match(e):false)&&I[2]){E=d.createElement("script");E.src=I[2];if((J=H.match(f))&&J[2])E.charset=J[2];E.async=true;F.appendChild(E)}else if((K=E[2])&&K.length>0)b.globalEval(K);(L=d.getElementById(D))&&s.remove(L);b.isFunction(C)&&C()});g(v,x)}else{g(v,x);b.isFunction(C)&&C()}}function g(v,x){x=x.replace(a,"");try{v.innerHTML=x}catch(B){for(;v.firstChild;)v.removeChild(v.firstChild);
x&&v.appendChild(s.create(x))}}var d=document,s=b.DOM,r=b.UA,i=r.ie,q=s._isSupportedNode,t=s._isElementNode,w=s._isKSNode,y=d.createElement("div"),l=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,f=/\scharset=(['"])(.*?)\1/i;b.mix(s,{create:function(v,x,B){if(q(v))return o(v);if(w(v))return o(v[0]);if(!(v=b.trim(v)))return null;var C=null;C=s._creators;var D,G="div",F;if(D=c.exec(v))C=(B||d).createElement(D[1]);else{if((D=l.exec(v))&&(F=
D[1])&&b.isFunction(C[F=F.toLowerCase()]))G=F;v=C[G](v,B).childNodes;C=v.length===1?v[0].parentNode.removeChild(v[0]):p(v,B||d)}return h(C,x)},_creators:{div:function(v,x){x=x?x.createElement("div"):y;x.innerHTML=v;return x}},html:function(v,x,B,C){if(x===k){v=b.get(v);if(t(v))return v.innerHTML}else b.each(b.query(v),function(D){t(D)&&j(D,x,B,C)})},remove:function(v){b.each(b.query(v),function(x){t(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(r.gecko||i){var m=s._creators,n=s.create,u=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
z={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in z)(function(v){m[A]=function(x,B){return n("<"+v+">"+x+"</"+v+">",null,B)}})(z[A]);if(i){m.script=function(v,x){x=x?x.createElement("div"):y;x.innerHTML="-"+v;x.removeChild(x.firstChild);return x};if(i<8)m.tbody=function(v,x){x=n("<table>"+v+"</table>",null,x);var B=x.children.tags("tbody")[0];x.children.length>1&&B&&!u.test(v)&&B.parentNode.removeChild(B);return x}}b.mix(m,{optgroup:m.option,th:m.td,
thead:m.tbody,tfoot:m.tbody,caption:m.tbody,colgroup:m.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(k,h){if((k=b.get(k))&&(h=b.get(h))&&h.parentNode)h.parentNode.insertBefore(k,h);return k},insertAfter:function(k,h){if((k=b.get(k))&&(h=b.get(h))&&h.parentNode)h.nextSibling?h.parentNode.insertBefore(k,h.nextSibling):h.parentNode.appendChild(k);return k}})});
KISSY.add("event",function(b,k){function h(a,c,e,f,m){if(b.isString(c))c=b.query(c);if(b.isArray(c)){b.each(c,function(n){l[a](n,e,f,m)});return true}if((e=b.trim(e))&&e.indexOf(t)>0){b.each(e.split(t),function(n){l[a](c,n,f,m)});return true}}function p(a){return g(a)?a[q]:-1}function o(a,c){if(!g(a))return b.error("Text or comment node is not valid event target.");try{a[q]=c}catch(e){b.error(e)}}function j(a){try{a[q]=k;delete a[q]}catch(c){}}function g(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var d=window,s=document,r=s.addEventListener?function(a,c,e,f){a.addEventListener&&a.addEventListener(c,e,!!f)}:function(a,c,e){a.attachEvent&&a.attachEvent("on"+c,e)},i=s.removeEventListener?function(a,c,e,f){a.removeEventListener&&a.removeEventListener(c,e,!!f)}:function(a,c,e){a.detachEvent&&a.detachEvent("on"+c,e)},q="ksEventTargetId",t=" ",w=b.now(),y={},l={EVENT_GUID:q,special:{},add:function(a,c,e,f){if(!h("add",a,c,e,f)){var m=p(a),n,u;if(!(m===-1||!c||!b.isFunction(e))){if(!m){o(a,m=w++);
y[m]={target:a,events:{}}}u=y[m].events;n=!a.isCustomEventTarget&&l.special[c]||{};if(!u[c]){m=function(z,A){if(!z||!z.fixed){z=new b.EventObject(a,z,c);b.isPlainObject(A)&&b.mix(z,A)}n.setup&&n.setup(z);return(n.handle||l._handle)(a,z,u[c].listeners)};u[c]={handle:m,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(c,m);else r(a,n.fix||c,m,n.capture)}u[c].listeners.push({fn:e,scope:f})}}},remove:function(a,c,e){if(!h("remove",a,c,e)){var f=p(a),m,n,u,z,A,v;if(f!==-1)if(f&&(m=y[f]))if(m.target===
a){m=m.events||{};if(n=m[c]){u=n.listeners;A=u.length;if(b.isFunction(e)&&A&&b.inArray(e,u)){v=[];for(z=0;z<A;++z)e!==u[z]&&v.push(u[z]);A=v.length}if(e===k||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(c,n.handle);else i(a,c,n.handle);delete m[c]}}if(c===k||b.isEmptyObject(m)){for(c in m)l.remove(a,c);delete y[f];j(a)}}}},_handle:function(a,c,e){e=e.slice(0);for(var f,m=0,n=e.length;m<n;++m){f=e[m];f=f.fn.call(f.scope||a,c);if(f===false&&a.isCustomEventTarget||c.isImmediatePropagationStopped)break}return f},
_getCache:function(a){return y[a]},_simpleAdd:r,_simpleRemove:i};l.on=l.add;b.Event=l;d.attachEvent&&!d.addEventListener&&d.attachEvent("onunload",function(){var a,c;for(a in y)if(c=y[a].target)try{l.remove(c)}catch(e){}})});
KISSY.add("event-object",function(b,k){function h(j,g,d){this.currentTarget=j;this.originalEvent=g||{};if(g){this.type=g.type;this._fix()}else{this.type=d;this.target=j}this.fixed=true}var p=document,o="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.mix(h.prototype,
{_fix:function(){for(var j=this.originalEvent,g=o.length,d;g;){d=o[--g];this[d]=j[d]}if(!this.target)this.target=this.srcElement||p;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){j=p.documentElement;g=p.body;this.pageX=this.clientX+(j&&j.scrollLeft||g&&g.scrollLeft||0)-(j&&j.clientLeft||g&&g.clientLeft||0);this.pageY=this.clientY+
(j&&j.scrollTop||g&&g.scrollTop||0)-(j&&j.clientTop||g&&g.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=this.originalEvent;if(j.stopPropagation)j.stopPropagation();
else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=h});
KISSY.add("event-target",function(b,k){var h=b.Event,p=h.EVENT_GUID;b.EventTarget={isCustomEventTarget:true,fire:function(o,j){if((o=((h._getCache(this[p]||-1)||{}).events||{})[o])&&b.isFunction(o.handle))return o.handle(k,j)},on:function(o,j,g){h.add(this,o,j,g)},detach:function(o,j){h.remove(this,o,j)}}});
KISSY.add("event-mouseenter",function(b){var k=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(h){k.special[h.name]={fix:h.fix,setup:function(p){p.type=h.name},handle:function(p,o,j){var g=o.relatedTarget;try{for(;g&&g!==p;)g=g.parentNode;g!==p&&k._handle(p,o,j)}catch(d){}}}})});
KISSY.add("event-focusin",function(b){var k=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(h){k.special[h.name]={fix:h.fix,capture:true,setup:function(p){p.type=h.name}}})});
KISSY.add("node",function(b){function k(p,o,j){var g;if(!(this instanceof k))return new k(p,o,j);if(p){if(h._isSupportedNode(p))g=p;else if(typeof p==="string")g=h.create(p,o,j);this[0]=g}else this.length=0}var h=b.DOM;k.TYPE="-ks-Node";b.augment(k,{length:1,getDOMNode:function(){return this[0]},nodeType:k.TYPE});b.one=function(p,o){return(p=b.get(p,o))?new k(p):null};b.Node=k});
KISSY.add("nodelist",function(b){function k(o){if(!(this instanceof k))return new k(o);p.push.apply(this,o||[])}var h=b.DOM,p=Array.prototype;b.mix(k.prototype,{length:0,item:function(o){var j=null;if(h._isElementNode(this[o]))j=new b.Node(this[o]);return j},getDOMNodes:function(){return p.slice.call(this)},each:function(o,j){for(var g=this.length,d=0,s;d<g;++d){s=new b.Node(this[d]);o.call(j||s,s,d,this)}return this}});b.all=function(o,j){return new k(b.query(o,j,true))};b.NodeList=k});
KISSY.add("node-attach",function(b,k){function h(w,arguments,y,l){var a=[this[w?r:s]()].concat(b.makeArray(arguments));if(arguments[y]===k)return l.apply(o,a);else{l.apply(o,a);return this}}function p(w,y){b.each(w,function(l){b.each([g,d],function(a,c){a[l]=function(e){switch(y){case i:return function(){return h.call(this,c,arguments,1,e)};case q:return function(){return h.call(this,c,arguments,0,e)};case t:return function(){var f=this[c?r:s]();return(f=e.apply(o,[f].concat(b.makeArray(arguments))))?
new (b[b.isArray(f)?"NodeList":"Node"])(f):null};default:return function(){var f=this[c?r:s]();f=e.apply(o,[f].concat(b.makeArray(arguments)));return f===k?this:f}}}(o[l])})})}var o=b.DOM,j=b.Event,g=b.Node.prototype,d=b.NodeList.prototype,s="getDOMNode",r=s+"s",i=1,q=2,t=4;b.mix(g,{one:function(w){return b.one(w,this[0])},all:function(w){return b.all(w,this[0])}});p(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);p(["attr","removeAttr"],i);p(["val","text"],q);p(["css"],i);p(["width",
"height"],q);p(["offset"],q);p(["scrollIntoView"]);p(["parent","next","prev","siblings","children"],t);p(["contains"]);p(["html"],q);p(["remove"]);b.each(["insertBefore","insertAfter"],function(w){g[w]=function(y){o[w].call(o,this[0],y);return this}});b.each([g,d],function(w){b.mix(w,{append:function(y){y&&b.each(this,function(l){l.appendChild(o.create(y))});return this},appendTo:function(y){if((y=b.get(y))&&y.appendChild)b.each(this,function(l){y.appendChild(l)});return this}})});b.each([g,d],function(w){b.mix(w,
b.EventTarget);w._addEvent=function(y,l){for(var a=0,c=this.length;a<c;a++)j._simpleAdd(this[a],y,l)};w._removeEvent=function(y,l){for(var a=0,c=this.length;a<c;a++)j._simpleRemove(this[a],y,l)};delete w.fire})});
KISSY.add("ajax",function(b){var k=document,h=k.createElement("script").readyState?function(p,o){p.onreadystatechange=function(){var j=p.readyState;if(j==="loaded"||j==="complete"){p.onreadystatechange=null;o.call(this)}}}:function(p,o){p.onload=o};b.Ajax={request:function(){b.error("not implemented")},getScript:function(p,o,j){var g=b.get("head")||k.documentElement,d=k.createElement("script");d.src=p;if(j)d.charset=j;d.async=true;b.isFunction(o)&&h(d,o);g.appendChild(d)}}});
KISSY.add("anim-easing",function(b){var k=Math,h=k.PI,p=k.pow,o=k.sin,j=1.70158,g={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(p(2,10*(d-=1))*o((d-0.075)*2*h/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return p(2,-10*d)*o((d-0.075)*2*h/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*p(2,10*(d-=1))*o((d-0.1125)*2*h/0.45);return p(2,-10*(d-=1))*o((d-0.1125)*2*h/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((j+1)*d-j)},backOut:function(d){return(d-=1)*d*((j+1)*d+j)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((j*=1.525)+1)*d-j);return 0.5*((d-=2)*d*(((j*=1.525)+1)*d+j)+2)},bounceIn:function(d){return 1-
g.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return g.bounceIn(d*2)*0.5;return g.bounceOut(d*2-1)*0.5+0.5}};b.Easing=g});
KISSY.add("anim",function(b,k){function h(l,a,c,e,f){if(l=b.get(l)){if(!(this instanceof h))return new h(l,a,c,e,f);var m=b.isPlainObject(c);a=a;this.domEl=l;if(b.isPlainObject(a))a=b.param(a,";").replace(/=/g,":");this.props=p(a);this.targetStyle=a;if(m)l=b.merge(y,c);else{l=b.clone(y);c&&(l.duration=i(c,10)||1);b.isString(e)&&(e=r[e]);b.isFunction(e)&&(l.easing=e);b.isFunction(f)&&(l.complete=f)}this.config=l;b.isFunction(f)&&this.on(w,f)}}function p(l){var a={},c=t.length,e;q.innerHTML='<div style="'+
l+'"></div>';for(l=q.childNodes[0].style;c--;)if(e=l[t[c]])a[t[c]]=o(e);return a}function o(l){var a=i(l);l=(l+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:l,u:"",f:g}:{v:a,u:l,f:j}}function j(l,a,c){return(l+(a-l)*c).toFixed(3)}function g(l,a,c){for(var e=2,f,m,n=[],u=[];f=3,m=arguments[e-1],e--;)if(d(m,0,4)==="rgb(")for(m=m.match(/\d+/g);f--;)n.push(~~m[f]);else if(d(m,0)==="#"){if(m.length===4)m="#"+d(m,1)+d(m,1)+d(m,2)+d(m,2)+d(m,3)+d(m,3);for(;f--;)n.push(parseInt(d(m,1+f*2,2),16))}else return a;
for(;f--;){e=~~(n[f+3]+(n[f]-n[f+3])*c);u.push(e<0?0:e>255?255:e)}return"rgb("+u.join(",")+")"}function d(l,a,c){return l.substr(a,c||1)}var s=b.DOM,r=b.Easing,i=parseFloat,q=s.create("<div>"),t="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
w="complete",y={duration:1,easing:r.easeNone};b.augment(h,b.EventTarget,{run:function(){var l=this,a=l.config,c=l.domEl,e=a.duration*1E3,f=a.easing,m=b.now(),n=m+e,u=l.props,z={},A;for(A in u)z[A]=o(s.css(c,A));if(l.fire("start")!==false){l.stop();l.timer=b.later(a=function(){var v=b.now(),x=v>n?1:(v-m)/e,B,C,D;for(A in u){B=z[A];C=u[A];if(B.u!==C.u)B.v=0;s.css(c,A,C.f(B.v,C.v,f(x))+C.u)}if(l.fire("step")===false||(D=v>n)){l.stop();D&&l.fire(w)}},13,true);a();return l}},stop:function(l){var a=this.domEl,
c=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=k}if(l){b.UA.ie&&c.indexOf("opacity")>-1&&s.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+c;this.fire(w)}return this}});b.Anim=h});KISSY.add("anim-node-plugin",function(b,k){var h=b.Anim;b.each([b.Node.prototype,b.NodeList.prototype],function(p){p.animate=function(){var o=b.makeArray(arguments);b.each(this,function(j){h.apply(k,[j].concat(o)).run()});return this}})});
KISSY.add("cookie",function(b){function k(j){return b.isString(j)&&j!==""}var h=document,p=encodeURIComponent,o=decodeURIComponent;b.Cookie={get:function(j){var g;if(k(j))if(j=h.cookie.match("(?:^| )"+j+"(?:(?:=([^;]*))|;|$)"))g=j[1]?o(j[1]):"";return g},set:function(j,g,d,s,r,i){g=p(g);var q=d;if(typeof q==="number"){q=new Date;q.setTime(q.getTime()+d*864E5)}if(q instanceof Date)g+="; expires="+q.toUTCString();if(k(s))g+="; domain="+s;if(k(r))g+="; path="+r;if(i)g+="; secure";h.cookie=j+"="+g},remove:function(j,
g,d,s){this.set(j,"",0,g,d,s)}}});
