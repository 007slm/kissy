/*
Copyright 2010, KISSY UI Library v1.1.2dev
MIT Licensed
build time: ${build.time}
*/
(function(c,i,h){if(c[i]===h)c[i]={};i=c[i];var o=c.document,k=function(m,g,n,u){if(!g||!m)return m;if(n===h)n=true;var x,z,t;if(u&&(t=u.length))for(x=0;x<t;x++){z=u[x];if(z in g)if(n||!(z in m))m[z]=g[z]}else for(z in g)if(n||!(z in m))m[z]=g[z];return m},j=false,f=[],l=false,p=/^#?([\w-]+)$/;k(i,{version:"1.1.2dev",_init:function(){this.Env={mods:{},guid:0}},add:function(m,g){this.Env.mods[m]={name:m,fn:g};g(this);return this},ready:function(m){l||this._bindReady();j?m.call(c,this):f.push(m);return this},
_bindReady:function(){var m=this,g=o.documentElement.doScroll,n=g?"onreadystatechange":"DOMContentLoaded",u=function(){m._fireReady()};l=true;if(o.readyState==="complete")return u();if(o.addEventListener){var x=function(){o.removeEventListener(n,x,false);u()};o.addEventListener(n,x,false);c.addEventListener("load",u,false)}else{var z=function(){if(o.readyState==="complete"){o.detachEvent(n,z);u()}};o.attachEvent(n,z);c.attachEvent("onload",u);if(c==c.top){var t=function(){try{g("left");u()}catch(b){setTimeout(t,
1)}};t()}}},_fireReady:function(){if(!j){j=true;if(f){for(var m,g=0;m=f[g++];)m.call(c,this);f=null}}},available:function(m,g){if((m=(m+"").match(p)[1])&&i.isFunction(g))var n=1,u=i.later(function(){if(o.getElementById(m)&&(g()||1)||++n>500)u.cancel()},40,true)},mix:k,merge:function(){var m={},g,n=arguments.length;for(g=0;g<n;++g)k(m,arguments[g]);return m},augment:function(){var m=arguments,g=m.length-2,n=m[0],u=m[g],x=m[g+1],z=1;if(!i.isArray(x)){u=x;x=h;g++}if(!i.isBoolean(u)){u=h;g++}for(;z<g;z++)k(n.prototype,
m[z].prototype||m[z],u,x);return n},extend:function(m,g,n,u){if(!g||!m)return m;var x=Object.prototype,z=g.prototype,t=function(b){function a(){}a.prototype=b;return new a}(z);m.prototype=t;t.constructor=m;m.superclass=z;if(g!==Object&&z.constructor===x.constructor)z.constructor=g;n&&k(t,n);u&&k(m,u);return m},namespace:function(){var m=arguments.length,g=null,n,u,x;for(n=0;n<m;++n){x=(""+arguments[n]).split(".");g=this;for(u=c[x[0]]===g?1:0;u<x.length;++u)g=g[x[u]]=g[x[u]]||{}}return g},app:function(m,
g){var n=c[m]||{};k(n,this,true,["_init","add","namespace"]);n._init();return k(c[m]=n,typeof g==="function"?g():g)},log:function(m,g,n){if(this.Config.debug){if(n)m=n+": "+m;if(c.console!==h&&console.log)console[g&&console[g]?g:"log"](m)}return this},error:function(m){if(this.Config.debug)throw m;},guid:function(m){var g=this.Env.guid++ +"";return m?m+g:g}});i._init();i.Config={debug:""}})(window,"KISSY");
KISSY.add("lang",function(c,i){function h(b){var a=typeof b;return b===null||a!=="object"&&a!=="function"}var o=window,k=document,j=location,f=Array.prototype,l=f.indexOf,p=f.filter,m=String.prototype.trim,g=Object.prototype.toString,n=encodeURIComponent,u=decodeURIComponent,x=/^\s+|\s+$/g,z=/^(\w+)\[\]$/,t=/\S/;c.mix(c,{isUndefined:function(b){return b===i},isBoolean:function(b){return typeof b==="boolean"},isString:function(b){return typeof b==="string"},isNumber:function(b){return typeof b==="number"&&
isFinite(b)},isPlainObject:function(b){return b&&g.call(b)==="[object Object]"&&!b.nodeType&&!b.setInterval},isEmptyObject:function(b){for(var a in b)return false;return true},isFunction:function(b){return g.call(b)==="[object Function]"},isArray:function(b){return g.call(b)==="[object Array]"},trim:m?function(b){return b==i?"":m.call(b)}:function(b){return b==i?"":b.toString().replace(x,"")},substitute:function(b,a,d){if(!c.isString(b)||!c.isPlainObject(a))return b;return b.replace(d||/\\?\{([^{}]+)\}/g,
function(e,q){if(e.charAt(0)==="\\")return e.slice(1);return a[q]!==i?a[q]:""})},each:function(b,a,d){for(var e=b&&b.length||0,q=0;q<e;++q)a.call(d||o,b[q],q,b)},indexOf:l?function(b,a){return l.call(a,b)}:function(b,a){for(var d=0,e=a.length;d<e;++d)if(a[d]===b)return d;return-1},inArray:function(b,a){return c.indexOf(b,a)>-1},makeArray:function(b){if(b===null||b===i)return[];if(c.isArray(b))return b;if(typeof b.length!=="number"||typeof b==="string"||c.isFunction(b))return[b];if(b.item&&c.UA.ie){for(var a=
[],d=0,e=b.length;d<e;++d)a[d]=b[d];return a}return f.slice.call(b)},filter:p?function(b,a,d){return p.call(b,a,d)}:function(b,a,d){var e=[];c.each(b,function(q,y,r){a.call(d,q,y,r)&&e.push(q)});return e},param:function(b,a){if(!c.isPlainObject(b))return"";a=a||"&";var d=[],e,q;for(e in b){q=b[e];e=n(e);if(h(q))d.push(e,"=",n(q+""),a);else if(c.isArray(q)&&q.length)for(var y=0,r=q.length;y<r;++y)h(q[y])&&d.push(e,"[]=",n(q[y]+""),a)}d.pop();return d.join("")},unparam:function(b,a){if(typeof b!=="string"||
(b=c.trim(b)).length===0)return{};var d={};b=b.split(a||"&");for(var e,q,y,r=0,v=b.length;r<v;++r){a=b[r].split("=");e=u(a[0]);try{q=u(a[1]||"")}catch(B){q=a[1]||""}if((y=e.match(z))&&y[1]){d[y[1]]=d[y[1]]||[];d[y[1]].push(q)}else d[e]=q}return d},later:function(b,a,d,e,q){a=a||0;e=e||{};var y=b,r=c.makeArray(q),v;if(typeof b==="string")y=e[b];y||c.error("method undefined");b=function(){y.apply(e,r)};v=d?setInterval(b,a):setTimeout(b,a);return{id:v,interval:d,cancel:function(){this.interval?clearInterval(v):
clearTimeout(v)}}},clone:function(b){var a=b,d,e;if(b&&((d=c.isArray(b))||c.isPlainObject(b))){a=d?[]:{};for(e in b)if(b.hasOwnProperty(e))a[e]=c.clone(b[e])}return a},now:function(){return(new Date).getTime()},globalEval:function(b){if(b&&t.test(b)){var a=k.getElementsByTagName("head")[0]||k.documentElement,d=k.createElement("script");d.text=b;a.insertBefore(d,a.firstChild);a.removeChild(d)}}});if(j&&j.search&&j.search.indexOf("ks-debug")!==-1)c.Config.debug=true});
KISSY.add("ua",function(c){var i=navigator.userAgent,h,o={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},k=function(j){var f=0;return parseFloat(j.replace(/\./g,function(){return f++===0?".":""}))};if((h=i.match(/AppleWebKit\/([\d.]*)/))&&h[1]){o.webkit=k(h[1]);if((h=i.match(/Chrome\/([\d.]*)/))&&h[1])o.chrome=k(h[1]);else if((h=i.match(/\/([\d.]*) Safari/))&&h[1])o.safari=k(h[1]);if(/ Mobile\//.test(i))o.mobile="Apple";else if(h=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))o.mobile=
h[0]}else if((h=i.match(/Opera\/.* Version\/([\d.]*)/))&&h[1]){o.opera=k(h[1]);if(i.match(/Opera Mini[^;]*/))o.mobile=h[0]}else if((h=i.match(/MSIE\s([^;]*)/))&&h[1])o.ie=k(h[1]);else if(h=i.match(/Gecko/)){o.gecko=1;if((h=i.match(/rv:([\d.]*)/))&&h[1])o.gecko=k(h[1]);if((h=i.match(/Firefox\/([\d.]*)/))&&h[1])o.firefox=k(h[1])}o._numberify=k;c.UA=o});
KISSY.add("dom",function(c){var i={_isSupportedNode:function(h){return i._isElementNode(h)||i._isTextNode(h)},_isElementNode:function(h){return h&&h.nodeType===1},_isTextNode:function(h){return h&&h.nodeType===3},_isKSNode:function(h){return h&&c.Node&&h.nodeType===c.Node.TYPE}};c.DOM=i});
KISSY.add("selector",function(c,i){function h(b,a){var d,e=[],q,y;a=o(a);if(c.isString(b)){b=c.trim(b);if(z.test(b)){if(b=k(b.slice(1),a))e=[b]}else if(d=t.exec(b)){q=d[1];y=d[2];d=d[3];if(a=q?k(q,a):a)if(d)if(!q||b.indexOf(g)!==-1)e=f(d,y,a);else{if((b=k(q,a))&&m.hasClass(b,d))e=[b]}else if(y)e=j(y,a)}else if(c.ExternalSelector)return c.ExternalSelector(b,a);else l(b)}else if(b&&(b[u]||b[x]))e=b[u]?[b[u]()]:b[x]();else if(b&&b.nodeType)e=[b];else if(b&&(c.isArray(b)||b.item))e=b;if(e.item)e=c.makeArray(e);
return e}function o(b){if(b===i)b=p;else if(c.isString(b)&&z.test(b))b=k(b.slice(1),p);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function k(b,a){if(a.nodeType!==9)a=a.ownerDocument;return a.getElementById(b)}function j(b,a){return a.getElementsByTagName(b)}function f(b,a,d){d=b=d.getElementsByClassName(b);var e=0,q=0,y=b.length,r;if(a&&a!==n){d=[];for(a=a.toUpperCase();e<y;++e){r=b[e];if(r.tagName===a)d[q++]=r}}return d}function l(b){c.error("Unsupported selector: "+b)}var p=document,
m=c.DOM,g=" ",n="*",u="getDOMNode",x=u+"s",z=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=p.createElement("div");b.appendChild(p.createComment(""));if(b.getElementsByTagName(n).length>0)j=function(a,d){d=d.getElementsByTagName(a);if(a===n){a=[];for(var e=0,q=0,y;y=d[e++];)if(y.nodeType===1)a[q++]=y;d=a}return d}})();p.getElementsByClassName||(f=p.querySelectorAll?function(b,a,d){return d.querySelectorAll((a?a:"")+"."+b)}:function(b,a,d){a=d.getElementsByTagName(a||
n);d=[];var e=0,q=0,y=a.length,r,v;for(b=g+b+g;e<y;++e){r=a[e];if((v=r.className)&&(g+v+g).indexOf(b)>-1)d[q++]=r}return d});c.query=h;c.get=function(b,a){return h(b,a)[0]||null};c.mix(m,{query:h,get:c.get,filter:function(b,a){var d=h(b),e,q,y,r=[];if(c.isString(a)&&(e=t.exec(a))&&!e[1]){q=e[2];y=e[3];a=function(v){return!(q&&v.tagName!==q.toUpperCase()||y&&!m.hasClass(v,y))}}if(c.isFunction(a))r=c.filter(d,a);else if(a&&c.ExternalSelector)r=c.ExternalSelector._filter(b,a);else l(a);return r},test:function(b,
a){b=h(b);return m.filter(b,a).length===b.length}})});
KISSY.add("dom-class",function(c,i){function h(f,l,p,m){if(!(l=c.trim(l)))return m?false:i;f=c.query(f);var g=0,n=f.length;l=l.split(k);for(var u;g<n;g++){u=f[g];if(o._isElementNode(u)){u=p(u,l,l.length);if(u!==i)return u}}if(m)return false}var o=c.DOM,k=/[\.\s]\s*\.?/,j=/[\n\t]/g;c.mix(o,{hasClass:function(f,l){return h(f,l,function(p,m,g){if(p=p.className){p=" "+p+" ";for(var n=0,u=true;n<g;n++)if(p.indexOf(" "+m[n]+" ")<0){u=false;break}if(u)return true}},true)},addClass:function(f,l){h(f,l,function(p,
m,g){var n=p.className;if(n){var u=" "+n+" ";n=n;for(var x=0;x<g;x++)if(u.indexOf(" "+m[x]+" ")<0)n+=" "+m[x];p.className=c.trim(n)}else p.className=l})},removeClass:function(f,l){h(f,l,function(p,m,g){var n=p.className;if(n)if(g){n=(" "+n+" ").replace(j," ");for(var u=0,x;u<g;u++)for(x=" "+m[u]+" ";n.indexOf(x)>=0;)n=n.replace(x," ");p.className=c.trim(n)}else p.className=""})},replaceClass:function(f,l,p){o.removeClass(f,l);o.addClass(f,p)},toggleClass:function(f,l,p){var m=c.isBoolean(p),g;h(f,
l,function(n,u,x){for(var z=0,t;z<x;z++){t=u[z];g=m?!p:o.hasClass(n,t);o[g?"removeClass":"addClass"](n,t)}})}})});
KISSY.add("dom-attr",function(c,i){function h(t,b){return b&&b.nodeName.toUpperCase()===t.toUpperCase()}var o=c.UA,k=o.ie,j=k&&k<8,f=document.documentElement.textContent!==i?"textContent":"innerText",l=c.DOM,p=l._isElementNode,m=l._isTextNode,g=/href|src|style/,n=/href|src|colspan|rowspan/,u=/\r/g,x=/radio|checkbox/,z={readonly:"readOnly"};j&&c.mix(z,{"for":"htmlFor","class":"className"});c.mix(l,{attr:function(t,b,a){if(c.isPlainObject(b))for(var d in b)l.attr(t,d,b[d]);else if(b=c.trim(b)){b=b.toLowerCase();
b=z[b]||b;if(a===i){t=c.get(t);if(!p(t))return i;var e;g.test(b)||(e=t[b]);if(e===i)e=t.getAttribute(b);if(j)if(n.test(b))e=t.getAttribute(b,2);else if(b==="style")e=t.style.cssText;return e===null?i:e}c.each(c.query(t),function(q){if(p(q))if(b==="style")q.style.cssText=a;else{if(b==="checked")q[b]=!!a;q.setAttribute(b,""+a)}})}},removeAttr:function(t,b){c.each(c.query(t),function(a){if(p(a)){l.attr(a,b,"");a.removeAttribute(b)}})},val:function(t,b){if(b===i){var a=c.get(t);if(!p(a))return i;if(h("option",
a))return(a.attributes.value||{}).specified?a.value:a.text;if(h("select",a)){var d=a.selectedIndex;t=a.options;if(d<0)return null;else if(a.type==="select-one")return l.val(t[d]);a=[];for(var e=0,q=t.length;e<q;++e)t[e].selected&&a.push(l.val(t[e]));return a}if(o.webkit&&x.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(u,"")}c.each(c.query(t),function(y){if(h("select",y)){if(c.isNumber(b))b+="";var r=c.makeArray(b),v=y.options,B;e=0;for(q=v.length;e<q;++e){B=
v[e];B.selected=c.inArray(l.val(B),r)}if(!r.length)y.selectedIndex=-1}else if(p(y))y.value=b})},text:function(t,b){if(b===i){t=c.get(t);if(p(t))return t[f]||"";else if(m(t))return t.nodeValue}else c.each(c.query(t),function(a){if(p(a))a[f]=b;else if(m(a))a.nodeValue=b})}})});
KISSY.add("dom-style",function(c,i){function h(b,a){var d=c.get(b),e=a===p?d.offsetWidth:d.offsetHeight;c.each(a===p?["Left","Right"]:["Top","Bottom"],function(q){e-=parseFloat(k._getComputedStyle(d,"padding"+q))||0;e-=parseFloat(k._getComputedStyle(d,"border"+q+"Width"))||0});return e}function o(b,a,d){var e=d;if(d===m&&n.test(a)){e=0;if(k.css(b,"position")==="absolute"){d=b[a==="left"?"offsetLeft":"offsetTop"];if(j.ie===8||j.opera)d-=g(k.css(b.offsetParent,"border-"+a+"-width"))||0;e=d-(g(k.css(b,
"margin-"+a))||0)}}return e}var k=c.DOM,j=c.UA,f=document,l=f.documentElement,p="width",m="auto",g=parseInt,n=/^left|top$/,u=/width|height|top|left|right|bottom|margin|padding/i,x=/-([a-z])/ig,z=function(b,a){return a.toUpperCase()},t={};c.mix(k,{_CUSTOM_STYLES:t,_getComputedStyle:function(b,a){var d="",e=b.ownerDocument;if(b.style)d=e.defaultView.getComputedStyle(b,null)[a];return d},css:function(b,a,d){if(c.isPlainObject(a))for(var e in a)k.css(b,e,a[e]);else{if(a.indexOf("-")>0)a=a.replace(x,z);
a=t[a]||a;if(d===i){b=c.get(b);e="";if(b&&b.style){e=a.get?a.get(b):b.style[a];if(e===""&&!a.get)e=o(b,a,k._getComputedStyle(b,a))}return e===i?"":e}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&u.test(a))d+="px";(a===p||a==="height")&&parseFloat(d)<0||c.each(c.query(b),function(q){if(q&&q.style){a.set?a.set(q,d):(q.style[a]=d);if(d==="")q.style.cssText||q.removeAttribute("style")}})}}},width:function(b,a){if(a===i)return h(b,p);else k.css(b,p,a)},height:function(b,a){if(a===i)return h(b,
"height");else k.css(b,"height",a)},addStyleSheet:function(b,a){var d;if(a)d=c.get(a);d||(d=k.create("<style>",{id:a}));c.get("head").appendChild(d);if(d.styleSheet)d.styleSheet.cssText=b;else d.appendChild(f.createTextNode(b))}});if(l.style.cssFloat!==i)t["float"]="cssFloat";else if(l.style.styleFloat!==i)t["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,i){if(c.UA.ie){var h=c.DOM,o=document,k=o.documentElement,j=h._CUSTOM_STYLES,f=/^-?\d+(?:px)?$/i,l=/^-?\d/,p=/^width|height$/;try{if(k.style.opacity===i&&k.filters)j.opacity={get:function(g){var n=100;try{n=g.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(u){try{n=g.filters("alpha").opacity}catch(x){}}return n/100+""},set:function(g,n){g=g.style;g.zoom=1;g.filter="alpha(opacity="+n*100+")"}}}catch(m){c.log("IE filters ActiveX is disabled. ex = "+m)}if(!(o.defaultView||
{}).getComputedStyle&&k.currentStyle)h._getComputedStyle=function(g,n){var u=g.style,x=g.currentStyle[n];if(p.test(n))x=h[n](g)+"px";else if(!f.test(x)&&l.test(x)){var z=u.left,t=g.runtimeStyle.left;g.runtimeStyle.left=g.currentStyle.left;u.left=n==="fontSize"?"1em":x||0;x=u.pixelLeft+"px";u.left=z;g.runtimeStyle.left=t}return x}}});
KISSY.add("dom-offset",function(c,i){function h(r){var v=0,B=0,s=k(r[b]);if(r[y]){r=r[y]();v=r[a];B=r[d];if(f.mobile!=="Apple"){v+=j[e](s);B+=j[q](s)}}return{left:v,top:B}}function o(r,v){if(j.css(r,x)==="static")r.style[x]=z;var B=h(r),s={},w,A;for(A in v){w=u(j.css(r,A),10)||0;s[A]=w+v[A]-B[A]}j.css(r,s)}function k(r){return r&&"scrollTo"in r&&r[t]?r:r&&r.nodeType===9?r.defaultView||r.parentWindow:false}var j=c.DOM,f=c.UA,l=window,p=document,m=j._isElementNode,g=p.compatMode==="CSS1Compat",n=Math.max,
u=parseInt,x="position",z="relative",t="document",b="ownerDocument",a="left",d="top",e="scrollLeft",q="scrollTop",y="getBoundingClientRect";c.mix(j,{offset:function(r,v){if(!(r=c.get(r))||!r[b])return null;if(v===i)return h(r);o(r,v)},scrollIntoView:function(r,v,B){if((r=c.get(r))&&r[b]){v=c.get(v);B=B===i?true:!!B;if(!v||v===l)return r.scrollIntoView(B);if(v.nodeType&&v.nodeType==9)v=k(v);var s=!("scrollTo"in v&&v[t]),w=j.offset(r),A=s?v.scrollLeft:j.scrollLeft(v),C=s?v.scrollTop:j.scrollTop(v),
D=s?j.offset(v):{left:A,top:C},F={left:w.left-D.left,top:w.top-D.top};w=r.offsetHeight;D=r.offsetWidth;var E=F.left+A;C=F.top+C;r=E+r.offsetWidth;F=s?v.clientHeight:j.viewportHeight(v);var G=s?v.clientWidth:j.viewportWidth(v),J=A+G,H=0,I=0;if(w>F||B)if(s)v.scrollTop=C;else I=C;else if(s)v.scrollTop=C-(F-w);else I=C-(F-w);if(D>G||E<A)if(s)v.scrollLeft=E;else H=E;else if(r>J)if(s)v.scrollLeft=E;else H=E;if(!s&&(H||I))v.scrollTo(H,I)}}});c.each(["Left","Top"],function(r,v){var B="scroll"+r;j[B]=function(s){var w=
0,A=s===i?l:k(s),C;if(A&&(C=A[t]))w=A[v?"pageYOffset":"pageXOffset"]||C.documentElement[B]||C.body[B];else if(m(s=c.get(s)))w=s[B];return w}});c.each(["Width","Height"],function(r){j["doc"+r]=function(v){v=v||p;return n(g?v.documentElement["scroll"+r]:v.body["scroll"+r],j["viewport"+r](v))};j["viewport"+r]=function(v){var B="inner"+r;v=k(v)||l;var s=v[t];return B in v?v[B]:g?s.documentElement["client"+r]:s.body["client"+r]}})});
KISSY.add("dom-traversal",function(c,i){function h(f,l,p,m){if(!(f=c.get(f)))return null;if(l===i)l=1;var g=null,n,u;if(c.isNumber(l)&&l>=0){if(l===0)return f;n=0;u=l;l=function(){return++n===u}}for(;f=f[p];)if(j(f)&&(!l||k.test(f,l))&&(!m||m(f))){g=f;break}return g}function o(f,l,p){var m=[];var g=f=c.get(f);if(f&&p)g=f.parentNode;if(g){p=0;for(g=g.firstChild;g;g=g.nextSibling)if(j(g)&&g!==f&&(!l||k.test(g,l)))m[p++]=g}return m}var k=c.DOM,j=k._isElementNode;c.mix(k,{parent:function(f,l){return h(f,
l,"parentNode",function(p){return p.nodeType!=11})},next:function(f,l){return h(f,l,"nextSibling")},prev:function(f,l){return h(f,l,"previousSibling")},siblings:function(f,l){return o(f,l,true)},children:function(f,l){return o(f,l)},contains:function(f,l){var p=false;if((f=c.get(f))&&(l=c.get(l)))if(f.contains)return f.contains(l);else if(f.compareDocumentPosition)return!!(f.compareDocumentPosition(l)&16);else for(;!p&&(l=l.parentNode);)p=l==f;return p}})});
KISSY.add("dom-create",function(c,i){function h(s,w){u(s)&&c.isPlainObject(w)&&p.attr(s,w);return s}function o(s,w){var A=null,C;if(s&&(s.push||s.item)&&s[0]){w=w||s[0].ownerDocument;A=w.createDocumentFragment();if(s.item)s=c.makeArray(s);w=0;for(C=s.length;w<C;w++)A.appendChild(s[w])}else c.log("Unable to convert "+s+" to fragment.");return A}function k(s){var w=s.cloneNode(true);if(m.ie<8)w.innerHTML=s.innerHTML;return w}function j(s,w,A,C){if(A){var D=c.guid("ks-tmp-"),F=new RegExp(b);w+='<span id="'+
D+'"></span>';c.available(D,function(){var E=c.get("head"),G,J,H,I,L,K;for(F.lastIndex=0;G=F.exec(w);)if((H=(J=G[1])?J.match(d):false)&&H[2]){G=l.createElement("script");G.src=H[2];if((I=J.match(e))&&I[2])G.charset=I[2];G.async=true;E.appendChild(G)}else if((K=G[2])&&K.length>0)c.globalEval(K);(L=l.getElementById(D))&&p.remove(L);c.isFunction(C)&&C()});f(s,w)}else{f(s,w);c.isFunction(C)&&C()}}function f(s,w){w=(w+"").replace(b,"");try{s.innerHTML=w}catch(A){for(;s.firstChild;)s.removeChild(s.firstChild);
w&&s.appendChild(p.create(w))}}var l=document,p=c.DOM,m=c.UA,g=m.ie,n=p._isSupportedNode,u=p._isElementNode,x=p._isKSNode,z=l.createElement("div"),t=/<(\w+)/,b=/<script([^>]*)>([\s\S]*?)<\/script>/ig,a=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,d=/\ssrc=(['"])(.*?)\1/i,e=/\scharset=(['"])(.*?)\1/i;c.mix(p,{create:function(s,w,A){if(n(s))return k(s);if(x(s))return k(s[0]);if(!(s=c.trim(s)))return null;var C=null;C=p._creators;var D,F="div",E;if(D=a.exec(s))C=(A||l).createElement(D[1]);else{if((D=t.exec(s))&&(E=
D[1])&&c.isFunction(C[E=E.toLowerCase()]))F=E;s=C[F](s,A).childNodes;C=s.length===1?s[0].parentNode.removeChild(s[0]):o(s,A||l)}return h(C,w)},_creators:{div:function(s,w){w=w?w.createElement("div"):z;w.innerHTML=s;return w}},html:function(s,w,A,C){if(w===i){s=c.get(s);if(u(s))return s.innerHTML}else c.each(c.query(s),function(D){u(D)&&j(D,w,A,C)})},remove:function(s){c.each(c.query(s),function(w){u(w)&&w.parentNode&&w.parentNode.removeChild(w)})}});if(m.gecko||g){var q=p._creators,y=p.create,r=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var B in v)(function(s){q[B]=function(w,A){return y("<"+s+">"+w+"</"+s+">",null,A)}})(v[B]);if(g){q.script=function(s,w){w=w?w.createElement("div"):z;w.innerHTML="-"+s;w.removeChild(w.firstChild);return w};if(g<8)q.tbody=function(s,w){w=y("<table>"+s+"</table>",null,w);var A=w.children.tags("tbody")[0];w.children.length>1&&A&&!r.test(s)&&A.parentNode.removeChild(A);return w}}c.mix(q,{optgroup:q.option,th:q.td,
thead:q.tbody,tfoot:q.tbody,caption:q.tbody,colgroup:q.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(i,h){if((i=c.get(i))&&(h=c.get(h))&&h.parentNode)h.parentNode.insertBefore(i,h);return i},insertAfter:function(i,h){if((i=c.get(i))&&(h=c.get(h))&&h.parentNode)h.nextSibling?h.parentNode.insertBefore(i,h.nextSibling):h.parentNode.appendChild(i);return i}})});
KISSY.add("event",function(c,i){function h(a){return a&&"scrollTo"in a&&a.document?a:a&&a.nodeType===9?a.defaultView||a.parentWindow:false}function o(a,d,e,q,y){if(c.isString(d))d=c.query(d);if(c.isArray(d)){c.each(d,function(r){b[a](r,e,q,y)});return true}if((e=c.trim(e))&&e.indexOf(x)>0){c.each(e.split(x),function(r){b[a](d,r,q,y)});return true}}function k(a){return l(a)?a[u]:-1}function j(a,d){if(!l(a))return c.error("Text or comment node is not valid event target.");try{a[u]=d}catch(e){c.error(e)}}
function f(a){try{a[u]=i;delete a[u]}catch(d){}}function l(a){return a&&a.nodeType!==3&&a.nodeType!==8}var p=document,m=window,g=p.addEventListener?function(a,d,e,q){a.addEventListener&&a.addEventListener(d,e,!!q)}:function(a,d,e){a.attachEvent&&a.attachEvent("on"+d,e)},n=p.removeEventListener?function(a,d,e,q){a.removeEventListener&&a.removeEventListener(d,e,!!q)}:function(a,d,e){a.detachEvent&&a.detachEvent("on"+d,e)},u="ksEventTargetId",x=" ",z=c.now(),t={},b={EVENT_GUID:u,special:{},add:function(a,
d,e,q){if(!o("add",a,d,e,q)){q=q||h(a)||m;var y=k(a),r,v,B,s,w;if(!(y===-1||!d||!c.isFunction(e))){if(!y){j(a,y=z++);t[y]={target:a,events:{}}}v=t[y].events;if(!v[d]){r=((y=!a.isCustomEventTarget)||a._supportSpecialEvent)&&b.special[d]||{};B=function(A,C){if(!A||!A.fixed){A=new c.EventObject(a,A,d);c.isPlainObject(C)&&c.mix(A,C)}r.setup&&r.setup(A);return(r.handle||b._handle)(a,A,v[d].listeners)};v[d]={handle:B,listeners:[]};s=r.fix||d;w=r.capture;if(y)g(a,s,B,w);else a._addEvent&&a._addEvent(s,B,
w)}v[d].listeners.push({fn:e,scope:q})}}},remove:function(a,d,e,q){q=q||h(a)||m;if(!o("remove",a,d,e,q)){var y=k(a),r,v,B,s,w,A,C;if(y!==-1)if(y&&(r=t[y]))if(r.target===a){r=r.events||{};if(v=r[d]){B=v.listeners;A=B.length;if(c.isFunction(e)&&A){w=s=0;for(C=[];s<A;++s)if(e!==B[s].fn||q!==B[s].scope)C[w++]=B[s];v.listeners=C;A=C.length}if(e===i||A===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(d,v.handle);else n(a,d,v.handle);delete r[d]}}if(d===i||c.isEmptyObject(r)){for(d in r)b.remove(a,
d);delete t[y];f(a)}}}},_handle:function(a,d,e){e=e.slice(0);for(var q,y=0,r=e.length;y<r;++y){q=e[y];q=q.fn.call(q.scope||a,d);if(q===false&&a.isCustomEventTarget||d.isImmediatePropagationStopped)break}return q},_getCache:function(a){return t[a]},_simpleAdd:g,_simpleRemove:n};b.on=b.add;c.Event=b});
KISSY.add("event-object",function(c,i){function h(j,f,l){this.currentTarget=j;this.originalEvent=f||{};if(f){this.type=f.type;this._fix()}else{this.type=l;this.target=j}this.currentTarget=j;this.fixed=true}var o=document,k="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
c.augment(h,{_fix:function(){var j=this.originalEvent,f=k.length,l,p=this.currentTarget;for(p=p.nodeType===9?p:p.ownerDocument||o;f;){l=k[--f];this[l]=j[l]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===i&&this.clientX!==i){j=p.documentElement;f=p.body;this.pageX=this.clientX+(j&&j.scrollLeft||f&&f.scrollLeft||
0)-(j&&j.clientLeft||f&&f.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||f&&f.scrollTop||0)-(j&&j.clientTop||f&&f.clientTop||0)}if(this.which===i)this.which=this.charCode!==i?this.charCode:this.keyCode;if(this.metaKey===i)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==i)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=h});
KISSY.add("event-target",function(c,i){var h=c.Event,o=h.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(k,j){if((k=((h._getCache(this[o]||-1)||{}).events||{})[k])&&c.isFunction(k.handle))return k.handle(i,j);return this},on:function(k,j,f){h.add(this,k,j,f);return this},detach:function(k,j){h.remove(this,k,j);return this}}});
KISSY.add("event-mouseenter",function(c){var i=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(h){i.special[h.name]={fix:h.fix,setup:function(o){o.type=h.name},handle:function(o,k,j){var f=k.relatedTarget;try{for(;f&&f!==o;)f=f.parentNode;f!==o&&i._handle(o,k,j)}catch(l){}}}})});
KISSY.add("event-focusin",function(c){var i=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(h){i.special[h.name]={fix:h.fix,capture:true,setup:function(o){o.type=h.name}}})});
KISSY.add("node",function(c){function i(o,k,j){var f;if(!(this instanceof i))return new i(o,k,j);if(o){if(h._isSupportedNode(o))f=o;else if(c.isString(o))f=h.create(o,k,j);this[0]=f}else this.length=0}var h=c.DOM;i.TYPE="-ks-Node";c.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});c.one=function(o,k){return(o=c.get(o,k))?new i(o):null};c.Node=i});
KISSY.add("nodelist",function(c){function i(k){if(!(this instanceof i))return new i(k);o.push.apply(this,k||[])}var h=c.DOM,o=Array.prototype;c.mix(i.prototype,{length:0,item:function(k){var j=null;if(h._isElementNode(this[k]))j=new c.Node(this[k]);return j},getDOMNodes:function(){return o.slice.call(this)},each:function(k,j){for(var f=this.length,l=0,p;l<f;++l){p=new c.Node(this[l]);k.call(j||p,p,l,this)}return this}});c.all=function(k,j){return new i(c.query(k,j,true))};c.NodeList=i});
KISSY.add("node-attach",function(c,i){function h(x,arguments,z,t){var b=[this[x?m:p]()].concat(c.makeArray(arguments));if(arguments[z]===i)return t.apply(k,b);else{t.apply(k,b);return this}}function o(x,z){c.each(x,function(t){c.each([f,l],function(b,a){b[t]=function(d){switch(z){case g:return function(){return h.call(this,a,arguments,1,d)};case n:return function(){return h.call(this,a,arguments,0,d)};case u:return function(){var e=this[a?m:p]();return(e=d.apply(k,[e].concat(c.makeArray(arguments))))?
new (c[c.isArray(e)?"NodeList":"Node"])(e):null};default:return function(){var e=this[a?m:p]();e=d.apply(k,[e].concat(c.makeArray(arguments)));return e===i?this:e}}}(k[t])})})}var k=c.DOM,j=c.Event,f=c.Node.prototype,l=c.NodeList.prototype,p="getDOMNode",m=p+"s",g=1,n=2,u=4;c.mix(f,{one:function(x){return c.one(x,this[0])},all:function(x){return c.all(x,this[0])}});o(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);o(["attr","removeAttr"],g);o(["val","text"],n);o(["css"],g);o(["width",
"height"],n);o(["offset"],n);o(["scrollIntoView"]);o(["parent","next","prev","siblings","children"],u);o(["contains"]);o(["html"],n);o(["remove"]);c.each(["insertBefore","insertAfter"],function(x){f[x]=function(z){k[x].call(k,this[0],z);return this}});c.each([f,l],function(x){c.mix(x,{append:function(z){z&&c.each(this,function(t){t.appendChild(k.create(z))});return this},appendTo:function(z){if((z=c.get(z))&&z.appendChild)c.each(this,function(t){z.appendChild(t)});return this}})});c.each([f,l],function(x){c.mix(x,
c.EventTarget,{_supportSpecialEvent:true});x._addEvent=function(z,t,b){for(var a=0,d=this.length;a<d;a++)j._simpleAdd(this[a],z,t,b)};x._removeEvent=function(z,t,b){for(var a=0,d=this.length;a<d;a++)j._simpleRemove(this[a],z,t,b)};delete x.fire})});
KISSY.add("ajax",function(c){var i=document,h=i.createElement("script").readyState?function(o,k){o.onreadystatechange=function(){var j=o.readyState;if(j==="loaded"||j==="complete"){o.onreadystatechange=null;k.call(this)}}}:function(o,k){o.onload=k};c.mix(c,{getScript:function(o,k,j){var f=c.get("head")||i.documentElement,l=i.createElement("script");l.src=o;if(j)l.charset=j;l.async=true;c.isFunction(k)&&h(l,k);f.insertBefore(l,f.firstChild)}})});
KISSY.add("cookie",function(c){function i(j){return c.isString(j)&&j!==""}var h=document,o=encodeURIComponent,k=decodeURIComponent;c.Cookie={get:function(j){var f;if(i(j))if(j=h.cookie.match("(?:^| )"+j+"(?:(?:=([^;]*))|;|$)"))f=j[1]?k(j[1]):"";return f},set:function(j,f,l,p,m,g){f=o(f);var n=l;if(typeof n==="number"){n=new Date;n.setTime(n.getTime()+l*864E5)}if(n instanceof Date)f+="; expires="+n.toUTCString();if(i(p))f+="; domain="+p;if(i(m))f+="; path="+m;if(g)f+="; secure";h.cookie=j+"="+f},remove:function(j,
f,l,p){this.set(j,"",0,f,l,p)}}});
