/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 14 17:57
*/
(function(c,r,t){if(c[r]===t)c[r]={};r=c[r];var v=c.document,n=location,j=function(e,m,p,s){if(!m||!e)return e;if(p===t)p=true;var q,a,b;if(s&&(b=s.length))for(q=0;q<b;q++){a=s[q];if(a in m)if(p||!(a in e))e[a]=m[a]}else for(a in m)if(p||!(a in e))e[a]=m[a];return e},k=false,g=[],u=false,l=/^#?([\w-]+)$/,h=0;j(r,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var e=v.getElementsByTagName("script");this.Config={debug:"",base:e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(e){u||this._bindReady();k?e.call(c,this):g.push(e);return this},_bindReady:function(){var e=this,m=v.documentElement.doScroll,p=m?"onreadystatechange":"DOMContentLoaded",s=function(){e._fireReady()};u=true;if(v.readyState==="complete")return s();if(v.addEventListener){var q=function(){v.removeEventListener(p,q,false);s()};v.addEventListener(p,q,false);c.addEventListener("load",s,false)}else{var a=function(){if(v.readyState==="complete"){v.detachEvent(p,a);s()}};v.attachEvent(p,
a);c.attachEvent("onload",s);if(c==c.top){var b=function(){try{m("left");s()}catch(i){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!k){k=true;if(g){for(var e,m=0;e=g[m++];)e.call(c,this);g=null}}},available:function(e,m){if((e=(e+"").match(l)[1])&&r.isFunction(m))var p=1,s=r.later(function(){if(v.getElementById(e)&&(m()||1)||++p>500)s.cancel()},40,true)},mix:j,merge:function(){var e={},m,p=arguments.length;for(m=0;m<p;++m)j(e,arguments[m]);return e},augment:function(){var e=arguments,m=e.length-
2,p=e[0],s=e[m],q=e[m+1],a=1;if(!r.isArray(q)){s=q;q=t;m++}if(!r.isBoolean(s)){s=t;m++}for(;a<m;a++)j(p.prototype,e[a].prototype||e[a],s,q);return p},extend:function(e,m,p,s){if(!m||!e)return e;var q=Object.prototype,a=m.prototype,b=function(i){function d(){}d.prototype=i;return new d}(a);e.prototype=b;b.constructor=e;e.superclass=a;if(m!==Object&&a.constructor===q.constructor)a.constructor=m;p&&j(b,p);s&&j(e,s);return e},namespace:function(){var e=arguments.length,m=null,p,s,q;for(p=0;p<e;++p){q=
(""+arguments[p]).split(".");m=this;for(s=c[q[0]]===m?1:0;s<q.length;++s)m=m[q[s]]=m[q[s]]||{}}return m},app:function(e,m){var p=r.isString(e),s=p?c[e]||{}:e;j(s,this,true,r.__APP_MEMBERS);s.__init();j(s,r.isFunction(m)?m():m);p&&(c[e]=s);return s},log:function(e,m,p){if(r.Config.debug){if(p)e=p+": "+e;if(c.console!==t&&console.log)console[m&&console[m]?m:"log"](e)}},error:function(e){if(r.Config.debug)throw e;},guid:function(e){var m=h++ +"";return e?e+m:m}});r.__init();r.__APP_MEMBERS=["__init",
"namespace"];if(n&&(n.search||"").indexOf("ks-debug")!==-1)r.Config.debug=true})(window,"KISSY");
(function(c,r,t){function v(f){var o=typeof f;return f===null||o!=="object"&&o!=="function"}function n(f){return g.slice.call(f)}var j=document,k=j.documentElement,g=Array.prototype,u=g.indexOf,l=g.lastIndexOf,h=g.filter,e=String.prototype.trim,m=Object.prototype.toString,p=encodeURIComponent,s=decodeURIComponent,q=p("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,i=/\S/;r.mix(r,{isUndefined:function(f){return f===t},isBoolean:function(f){return m.call(f)==="[object Boolean]"},isString:function(f){return m.call(f)===
"[object String]"},isNumber:function(f){return m.call(f)==="[object Number]"&&isFinite(f)},isPlainObject:function(f){return f&&m.call(f)==="[object Object]"&&!f.nodeType&&!f.setInterval},isEmptyObject:function(f){for(var o in f)return false;return true},isFunction:function(f){return m.call(f)==="[object Function]"},isArray:function(f){return m.call(f)==="[object Array]"},trim:e?function(f){return f==t?"":e.call(f)}:function(f){return f==t?"":f.toString().replace(a,"")},substitute:function(f,o,w){if(!r.isString(f)||
!r.isPlainObject(o))return f;return f.replace(w||/\\?\{([^{}]+)\}/g,function(x,y){if(x.charAt(0)==="\\")return x.slice(1);return o[y]!==t?o[y]:""})},each:function(f,o,w){var x,y=0,A=f.length,z=A===t||r.isFunction(f);w=w||c;if(z)for(x in f){if(o.call(w,f[x],x,f)===false)break}else for(x=f[0];y<A&&o.call(w,x,y,f)!==false;x=f[++y]);return f},indexOf:u?function(f,o){return u.call(o,f)}:function(f,o){for(var w=0,x=o.length;w<x;++w)if(o[w]===f)return w;return-1},lastIndexOf:l?function(f,o){return l.call(o,
f)}:function(f,o){for(var w=o.length-1;w>=0;w--)if(o[w]===f)break;return w},unique:function(f,o){o&&f.reverse();f=f.slice();for(var w=0,x,y;w<f.length;){for(y=f[w];(x=r.lastIndexOf(y,f))!==w;)f.splice(x,1);w+=1}o&&f.reverse();return f},inArray:function(f,o){return r.indexOf(f,o)>-1},makeArray:function(f){if(f===null||f===t)return[];if(r.isArray(f))return f;if(typeof f.length!=="number"||r.isString(f)||r.isFunction(f))return[f];return n(f)},filter:h?function(f,o,w){return h.call(f,o,w)}:function(f,
o,w){var x=[];r.each(f,function(y,A,z){o.call(w,y,A,z)&&x.push(y)});return x},param:function(f,o){if(!r.isPlainObject(f))return"";o=o||"&";var w=[],x,y;for(x in f){y=f[x];x=p(x);if(v(y))w.push(x,"=",p(y+""),o);else if(r.isArray(y)&&y.length)for(var A=0,z=y.length;A<z;++A)v(y[A])&&w.push(x,q+"=",p(y[A]+""),o)}w.pop();return w.join("")},unparam:function(f,o){if(typeof f!=="string"||(f=r.trim(f)).length===0)return{};var w={};f=f.split(o||"&");for(var x,y,A,z=0,B=f.length;z<B;++z){o=f[z].split("=");x=
s(o[0]);try{y=s(o[1]||"")}catch(C){y=o[1]||""}if((A=x.match(b))&&A[1]){w[A[1]]=w[A[1]]||[];w[A[1]].push(y)}else w[x]=y}return w},later:function(f,o,w,x,y){o=o||0;x=x||{};var A=f,z=r.makeArray(y),B;if(r.isString(f))A=x[f];A||r.error("method undefined");f=function(){A.apply(x,z)};B=w?setInterval(f,o):setTimeout(f,o);return{id:B,interval:w,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(f){var o=f,w,x;if(f&&((w=r.isArray(f))||r.isPlainObject(f))){o=w?[]:{};for(x in f)if(f.hasOwnProperty(x))o[x]=
r.clone(f[x])}return o},now:function(){return(new Date).getTime()},globalEval:function(f){if(f&&i.test(f)){var o=j.getElementsByTagName("head")[0]||k,w=j.createElement("script");w.text=f;o.insertBefore(w,o.firstChild);o.removeChild(w)}}});try{n(k.childNodes)}catch(d){n=function(f){for(var o=[],w=f.length-1;w>=0;w--)o[w]=f[w];return o}}})(window,KISSY);
(function(c,r,t){var v=c.document,n=v.getElementsByTagName("head")[0]||v.documentElement,j=2,k=3,g=4,u=r.mix,l=v.createElement("script").readyState?function(e,m){var p=e.onreadystatechange;e.onreadystatechange=function(){var s=e.readyState;if(s==="loaded"||s==="complete"){e.onreadystatechange=null;p&&p();m.call(this)}}}:function(e,m){e.addEventListener("load",m,false)},h=/\.css(?:\?|$)/i;c={add:function(e,m,p){var s=this.Env.mods,q;if(r.isString(e)&&!p&&r.isPlainObject(m)){q={};q[e]=m;e=q}if(r.isPlainObject(e)){r.each(e,
function(a,b){a.name=b;s[b]&&u(a,s[b],false)});u(s,e)}else{p=p||{};q=s[e]||{};e=p.host||q.host||e;q=s[e]||{};u(q,{name:e,status:j});if(!q.fns)q.fns=[];m&&q.fns.push(m);u(s[e]=q,p);q.attach!==false&&this.__isAttached(q.requires)&&this.__attachMod(q)}return this},use:function(e,m,p){e=e.replace(/\s+/g,"").split(",");p=p||{};var s=this,q=s.Env.mods,a=(p||0).global,b,i=e.length,d,f,o;a&&s.__mixMods(a);if(s.__isAttached(e))m&&m(s);else{for(b=0;b<i&&(d=q[e[b]]);b++)if(d.status!==g){if(p.order&&b>0){if(!d.requires)d.requires=
[];d._requires=d.requires.concat();f=e[b-1];if(!r.inArray(f,d.requires)&&!r.inArray(d.name,q[f].requires||[]))d.requires.push(f)}s.__attach(d,function(){if(!o&&s.__isAttached(e)){o=true;if(d._requires)d.requires=d._requires;m&&m(s)}},a)}return s}},__attach:function(e,m,p){function s(){if(q.__isAttached(a)){e.status===j&&q.__attachMod(e);e.status===g&&m()}}for(var q=this,a=e.requires||[],b=0,i=a.length;b<i;b++)q.__attach(q.Env.mods[a[b]],s,p);q.__buildPath(e);q.__load(e,s,p)},__mixMods:function(e){var m=
this.Env.mods,p=e.Env.mods,s;for(s in p)this.__mixMod(m,p,s,e)},__mixMod:function(e,m,p,s){var q=e[p]||{},a=q.status;r.mix(q,r.clone(m[p]));if(a)q.status=a;s&&this.__buildPath(q,s.Config.base);e[p]=q},__attachMod:function(e){var m=this;if(e.fns){r.each(e.fns,function(p){p&&p(m)});e.fns=t}e.status=g},__isAttached:function(e){for(var m=this.Env.mods,p,s=(e=r.makeArray(e)).length-1;s>=0&&(p=m[e[s]]);s--)if(p.status!==g)return false;return true},__load:function(e,m,p){function s(){q();if(e.status!==k){p&&
a.__mixMod(a.Env.mods,p.Env.mods,e.name,p);if(e.status!==g)e.status=j;m()}}function q(){i[b]=j}var a=this,b=e.fullpath,i=r.Env._loadQueue,d=i[b];e.status=e.status||0;if(e.status<1&&d)e.status=d.nodeName?1:j;if(r.isString(e.cssfullpath)){a.getScript(e.cssfullpath);e.cssfullpath=j}if(e.status<1&&b){e.status=1;d=a.getScript(b,{success:function(){KISSY.log(e.name+" is loaded.","info");s()},error:function(){e.status=k;q()},charset:e.charset});h.test(b)||(i[b]=d)}else e.status===1?l(d,s):m()},__buildPath:function(e,
m){function p(q,a){if(!e[a]&&e[q])e[a]=(m||s.base)+e[q];if(e[a]&&s.debug)e[a]=e[a].replace(/-min/g,"")}var s=this.Config;p("path","fullpath");e.cssfullpath!==j&&p("csspath","cssfullpath")},getScript:function(e,m,p){var s=h.test(e),q=v.createElement(s?"link":"script"),a=m,b,i,d;if(r.isPlainObject(a)){m=a.success;b=a.error;i=a.timeout;p=a.charset}if(s){q.href=e;q.rel="stylesheet"}else{q.src=e;q.async=true}if(p)q.charset=p;if(r.isFunction(m))s?m.call(q):l(q,function(){if(d){d.cancel();d=t}m.call(q)});
if(r.isFunction(b))d=r.later(function(){d=t;b()},(i||this.Config.timeout)*1E3);n.insertBefore(q,n.firstChild);return q}};u(r,c);r.each(c,function(e,m){r.__APP_MEMBERS.push(m)})})(window,KISSY);(function(c){var r={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom"],function(t){r[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});c.add(r)})(KISSY);
KISSY.add("ua",function(c){var r=navigator.userAgent,t="",v="",n,j={},k=function(g){var u=0;return parseFloat(g.replace(/\./g,function(){return u++===0?".":""}))};if((n=r.match(/AppleWebKit\/([\d.]*)/))&&n[1]){j[t="webkit"]=k(n[1]);if((n=r.match(/Chrome\/([\d.]*)/))&&n[1])j[v="chrome"]=k(n[1]);else if((n=r.match(/\/([\d.]*) Safari/))&&n[1])j[v="safari"]=k(n[1]);if(/ Mobile\//.test(r))j.mobile="apple";else if(n=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=n[0].toLowerCase()}else if((n=
r.match(/Presto\/([\d.]*)/))&&n[1]){j[t="presto"]=k(n[1]);if((n=r.match(/Opera\/([\d.]*)/))&&n[1]){j[v="opera"]=k(n[1]);if((n=r.match(/Opera\/.* Version\/([\d.]*)/))&&n[1])j[v]=k(n[1]);if((n=r.match(/Opera Mini[^;]*/))&&n)j.mobile=n[0].toLowerCase();else if((n=r.match(/Opera Mobi[^;]*/))&&n)j.mobile=n[0]}}else if((n=r.match(/MSIE\s([^;]*)/))&&n[1]){j[t="trident"]=0.1;j[v="ie"]=k(n[1]);if((n=r.match(/Trident\/([\d.]*)/))&&n[1])j[t]=k(n[1])}else if(n=r.match(/Gecko/)){j[t="gecko"]=0.1;if((n=r.match(/rv:([\d.]*)/))&&
n[1])j[t]=k(n[1]);if((n=r.match(/Firefox\/([\d.]*)/))&&n[1])j[v="firefox"]=k(n[1])}j.core=t;j.shell=v;j._numberify=k;c.UA=j});
KISSY.add("ua-extra",function(c){var r=c.UA,t=navigator.userAgent,v,n,j={},k=r._numberify;if(t.match(/360SE/))j[n="se360"]=3;else if(t.match(/Maxthon/)&&(v=window.external)){n="maxthon";try{j[n]=k(v.max_version)}catch(g){j[n]=0.1}}else if(v=t.match(/TencentTraveler\s([\d.]*)/))j[n="tt"]=v[1]?k(v[1]):0.1;else if(t.match(/TheWorld/))j[n="theworld"]=3;else if(v=t.match(/SE\s([\d.]*)/))j[n="sougou"]=v[1]?k(v[1]):0.1;n&&(j.shell=n);c.mix(r,j)});
KISSY.add("dom",function(c,r){function t(v,n){return v&&v.nodeType===n}c.DOM={_isElementNode:function(v){return t(v,1)},_isKSNode:function(v){return c.Node&&t(v,c.Node.TYPE)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:t(v,9)?v.defaultView||v.parentWindow:v===r?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(c,r){function t(b,i){var d,f=[],o,w;i=n(i);if(c.isString(b)){b=c.trim(b);if(q.test(b)){if(b=j(b.slice(1),i))f=[b]}else if(d=a.exec(b)){o=d[1];w=d[2];d=d[3];if(i=o?j(o,i):i)if(d)if(!o||b.indexOf(e)!==-1)f=g(d,w,i);else{if((b=j(o,i))&&h.hasClass(b,d))f=[b]}else if(w)f=k(w,i)}else if(c.ExternalSelector)return c.ExternalSelector(b,i);else u(b)}else if(b&&(b[p]||b[s]))f=b[p]?[b[p]()]:b[s]();else if(b&&(c.isArray(b)||v(b)))f=b;else if(b)f=[b];if(v(f))f=c.makeArray(f);f.each=
function(x,y){return c.each(f,x,y)};return f}function v(b){return b&&!b.nodeType&&(b.namedItem||c.isFunction(b.item))}function n(b){if(b===r)b=l;else if(c.isString(b)&&q.test(b))b=j(b.slice(1),l);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function j(b,i){if(i.nodeType!==9)i=i.ownerDocument;return i.getElementById(b)}function k(b,i){return i.getElementsByTagName(b)}function g(b,i,d){d=b=d.getElementsByClassName(b);var f=0,o=0,w=b.length,x;if(i&&i!==m){d=[];for(i=i.toUpperCase();f<w;++f){x=
b[f];if(x.tagName===i)d[o++]=x}}return d}function u(b){c.error("Unsupported selector: "+b)}var l=document,h=c.DOM,e=" ",m="*",p="getDOMNode",s=p+"s",q=/^#[\w-]+$/,a=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=l.createElement("div");b.appendChild(l.createComment(""));if(b.getElementsByTagName(m).length>0)k=function(i,d){d=d.getElementsByTagName(i);if(i===m){i=[];for(var f=0,o=0,w;w=d[f++];)if(w.nodeType===1)i[o++]=w;d=i}return d}})();l.getElementsByClassName||(g=l.querySelectorAll?
function(b,i,d){return d.querySelectorAll((i?i:"")+"."+b)}:function(b,i,d){i=d.getElementsByTagName(i||m);d=[];var f=0,o=0,w=i.length,x,y;for(b=e+b+e;f<w;++f){x=i[f];if((y=x.className)&&(e+y+e).indexOf(b)>-1)d[o++]=x}return d});c.query=t;c.get=function(b,i){return t(b,i)[0]||null};c.mix(h,{query:t,get:c.get,filter:function(b,i){var d=t(b),f,o,w,x=[];if(c.isString(i)&&(f=a.exec(i))&&!f[1]){o=f[2];w=f[3];i=function(y){return!(o&&y.tagName!==o.toUpperCase()||w&&!h.hasClass(y,w))}}if(c.isFunction(i))x=
c.filter(d,i);else if(i&&c.ExternalSelector)x=c.ExternalSelector._filter(b,i);else u(i);return x},test:function(b,i){b=t(b);return h.filter(b,i).length===b.length}})});
KISSY.add("dom-data",function(c,r){function t(l){return l&&l.nodeType}var v=window,n=c.DOM,j="_ks_data_"+c.now(),k={},g={},u={EMBED:1,OBJECT:1,APPLET:1};c.mix(n,{data:function(l,h,e){if(c.isPlainObject(h))for(var m in h)n.data(l,m,h[m]);else if(e===r){l=c.get(l);if(l==v)l=g;m=t(l);l=(m?k:l)[m?l[j]:j];if(c.isString(h)&&l)return l[h];return l}else c.query(l).each(function(p){if(!(!p||u[p.nodeName])){if(p==v)p=g;var s=k,q;if(t(p)){if(!(q=p[j]))q=p[j]=c.guid()}else{q=j;s=p}if(h&&e!==r){s[q]||(s[q]={});
s[q][h]=e}}})},removeData:function(l,h){c.query(l).each(function(e){if(e){if(e==v)e=g;var m,p=k,s,q=t(e);if(q)m=e[j];else{p=e;m=j}if(m){s=p[m];if(h){if(s){delete s[h];c.isEmptyObject(s)&&n.removeData(e)}}else{if(q)e.removeAttribute&&e.removeAttribute(j);else try{delete e[j]}catch(a){}q&&delete p[m]}}}})}})});
KISSY.add("dom-class",function(c,r){function t(k,g,u,l){if(!(g=c.trim(g)))return l?false:r;k=c.query(k);var h=0,e=k.length;g=g.split(n);for(var m;h<e;h++){m=k[h];if(v._isElementNode(m)){m=u(m,g,g.length);if(m!==r)return m}}if(l)return false}var v=c.DOM,n=/[\.\s]\s*\.?/,j=/[\n\t]/g;c.mix(v,{hasClass:function(k,g){return t(k,g,function(u,l,h){if(u=u.className){u=" "+u+" ";for(var e=0,m=true;e<h;e++)if(u.indexOf(" "+l[e]+" ")<0){m=false;break}if(m)return true}},true)},addClass:function(k,g){t(k,g,function(u,
l,h){var e=u.className;if(e){var m=" "+e+" ";e=e;for(var p=0;p<h;p++)if(m.indexOf(" "+l[p]+" ")<0)e+=" "+l[p];u.className=c.trim(e)}else u.className=g})},removeClass:function(k,g){t(k,g,function(u,l,h){var e=u.className;if(e)if(h){e=(" "+e+" ").replace(j," ");for(var m=0,p;m<h;m++)for(p=" "+l[m]+" ";e.indexOf(p)>=0;)e=e.replace(p," ");u.className=c.trim(e)}else u.className=""})},replaceClass:function(k,g,u){v.removeClass(k,g);v.addClass(k,u)},toggleClass:function(k,g,u){var l=c.isBoolean(u),h;t(k,
g,function(e,m,p){for(var s=0,q;s<p;s++){q=m[s];h=l?!u:v.hasClass(e,q);v[h?"removeClass":"addClass"](e,q)}})}})});
KISSY.add("dom-attr",function(c,r){function t(q,a){return a&&a.nodeName.toUpperCase()===q.toUpperCase()}var v=c.UA,n=v.ie,j=n&&n<8,k=document.documentElement.textContent!==r?"textContent":"innerText",g=c.DOM,u=g._isElementNode,l=function(q){return g._nodeTypeIs(q,3)},h=/href|src|style/,e=/href|src|colspan|rowspan/,m=/\r/g,p=/radio|checkbox/,s={readonly:"readOnly"};j&&c.mix(s,{"for":"htmlFor","class":"className"});c.mix(g,{attr:function(q,a,b){if(c.isPlainObject(a))for(var i in a)g.attr(q,i,a[i]);
else if(a=c.trim(a)){a=a.toLowerCase();a=s[a]||a;if(b===r){q=c.get(q);if(!u(q))return r;var d;h.test(a)||(d=q[a]);if(d===r)d=q.getAttribute(a);if(j)if(e.test(a))d=q.getAttribute(a,2);else if(a==="style")d=q.style.cssText;return d===null?r:d}c.each(c.query(q),function(f){if(u(f))if(a==="style")f.style.cssText=b;else{if(a==="checked")f[a]=!!b;f.setAttribute(a,""+b)}})}},removeAttr:function(q,a){c.each(c.query(q),function(b){if(u(b)){g.attr(b,a,"");b.removeAttribute(a)}})},val:function(q,a){if(a===r){var b=
c.get(q);if(!u(b))return r;if(t("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(t("select",b)){var i=b.selectedIndex;q=b.options;if(i<0)return null;else if(b.type==="select-one")return g.val(q[i]);b=[];for(var d=0,f=q.length;d<f;++d)q[d].selected&&b.push(g.val(q[d]));return b}if(v.webkit&&p.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(m,"")}c.each(c.query(q),function(o){if(t("select",o)){if(c.isNumber(a))a+="";var w=c.makeArray(a),
x=o.options,y;d=0;for(f=x.length;d<f;++d){y=x[d];y.selected=c.inArray(g.val(y),w)}if(!w.length)o.selectedIndex=-1}else if(u(o))o.value=a})},text:function(q,a){if(a===r){q=c.get(q);if(u(q))return q[k]||"";else if(l(q))return q.nodeValue}else c.each(c.query(q),function(b){if(u(b))b[k]=a;else if(l(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,r){function t(a,b){var i=c.get(a),d=b===u?i.offsetWidth:i.offsetHeight;c.each(b===u?["Left","Right"]:["Top","Bottom"],function(f){d-=parseFloat(n._getComputedStyle(i,"padding"+f))||0;d-=parseFloat(n._getComputedStyle(i,"border"+f+"Width"))||0});return d}function v(a,b,i){var d=i;if(i===l&&e.test(b)){d=0;if(n.css(a,"position")==="absolute"){i=a[b==="left"?"offsetLeft":"offsetTop"];if(j.ie===8||j.opera)i-=h(n.css(a.offsetParent,"border-"+b+"-width"))||0;d=i-(h(n.css(a,
"margin-"+b))||0)}}return d}var n=c.DOM,j=c.UA,k=document,g=k.documentElement,u="width",l="auto",h=parseInt,e=/^left|top$/,m=/width|height|top|left|right|bottom|margin|padding/i,p=/-([a-z])/ig,s=function(a,b){return b.toUpperCase()},q={};c.mix(n,{_CUSTOM_STYLES:q,_getComputedStyle:function(a,b){var i="",d=a.ownerDocument;if(a.style)i=d.defaultView.getComputedStyle(a,null)[b];return i},css:function(a,b,i){if(c.isPlainObject(b))for(var d in b)n.css(a,d,b[d]);else{if(b.indexOf("-")>0)b=b.replace(p,s);
b=q[b]||b;if(i===r){a=c.get(a);d="";if(a&&a.style){d=b.get?b.get(a):a.style[b];if(d===""&&!b.get)d=v(a,b,n._getComputedStyle(a,b))}return d===r?"":d}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&m.test(b))i+="px";(b===u||b==="height")&&parseFloat(i)<0||c.each(c.query(a),function(f){if(f&&f.style){b.set?b.set(f,i):(f.style[b]=i);if(i==="")f.style.cssText||f.removeAttribute("style")}})}}},width:function(a,b){if(b===r)return t(a,u);else n.css(a,u,b)},height:function(a,b){if(b===r)return t(a,
"height");else n.css(a,"height",b)},show:function(a){c.query(a).each(function(b){b.style.display=n.data(b,"display")||""})},hide:function(a){c.query(a).each(function(b){var i=b.style,d=i.display;if(d!=="none"){d&&n.data(b,"display",d);i.display="none"}})},toggle:function(a){c.query(a).each(function(b){if(b)b.style.display==="none"?n.show(b):n.hide(b)})},addStyleSheet:function(a,b){var i;if(b)i=c.get("#"+b);if(!i){i=n.create("<style>",{id:b});c.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=
a;else i.appendChild(k.createTextNode(a))}}});if(g.style.cssFloat!==r)q["float"]="cssFloat";else if(g.style.styleFloat!==r)q["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,r){if(c.UA.ie){var t=c.DOM;c=document;var v=c.documentElement,n=t._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,k=/^-?\d/,g=/^width|height$/;try{if(v.style.opacity===r&&v.filters)n.opacity={get:function(l){var h=100;try{h=l.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{h=l.filters("alpha").opacity}catch(m){}}return h/100+""},set:function(l,h){var e=l.style;l=(l.currentStyle||0).filter||"";e.zoom=1;if(l)if(l=l.replace(/alpha\(opacity=.+\)/ig,""))l+=", ";
e.filter=l+"alpha(opacity="+h*100+")"}}}catch(u){}if(!(c.defaultView||{}).getComputedStyle&&v.currentStyle)t._getComputedStyle=function(l,h){var e=l.style,m=l.currentStyle[h];if(g.test(h))m=t[h](l)+"px";else if(!j.test(m)&&k.test(m)){var p=e.left,s=l.runtimeStyle.left;l.runtimeStyle.left=l.currentStyle.left;e.left=h==="fontSize"?"1em":m||0;m=e.pixelLeft+"px";e.left=p;l.runtimeStyle.left=s}return m}}});
KISSY.add("dom-offset",function(c,r){function t(w){var x=0,y=0,A=h(w[a]);if(w[o]){w=w[o]();x=w[b];y=w[i];if(j.mobile!=="apple"){x+=n[d](A);y+=n[f](A)}}return{left:x,top:y}}function v(w,x){if(n.css(w,s)==="static")w.style[s]=q;var y=t(w),A={},z,B;for(B in x){z=p(n.css(w,B),10)||0;A[B]=z+x[B]-y[B]}n.css(w,A)}var n=c.DOM,j=c.UA,k=window,g=document,u=n._isElementNode,l=n._nodeTypeIs,h=n._getWin,e=g.compatMode==="CSS1Compat",m=Math.max,p=parseInt,s="position",q="relative",a="ownerDocument",b="left",i=
"top",d="scrollLeft",f="scrollTop",o="getBoundingClientRect";c.mix(n,{offset:function(w,x){if(!(w=c.get(w))||!w[a])return null;if(x===r)return t(w);v(w,x)},scrollIntoView:function(w,x,y,A){if((w=c.get(w))&&w[a]){A=A===r?true:!!A;y=y===r?true:!!y;if(!x||x===k)return w.scrollIntoView(y);x=c.get(x);if(l(x,9))x=h(x);var z=x&&"scrollTo"in x&&x.document,B=n.offset(w),C=z?{left:n.scrollLeft(x),top:n.scrollTop(x)}:n.offset(x),D={left:B[b]-C[b],top:B[i]-C[i]};B=z?n.viewportHeight(x):x.clientHeight;C=z?n.viewportWidth(x):
x.clientWidth;var E=n[d](x),F=n[f](x),G=E+C,M=F+B,I=w.offsetHeight;w=w.offsetWidth;var H=D.left+E-(p(n.css(x,"borderLeftWidth"))||0);D=D.top+F-(p(n.css(x,"borderTopWidth"))||0);var N=H+w,J=D+I,K,L;if(I>B||D<F||y)K=D;else if(J>M)K=J-B;if(A)if(w>C||H<E||y)L=H;else if(N>G)L=N-C;if(z){if(K!==r||L!==r)x.scrollTo(L,K)}else{if(K!==r)x[f]=K;if(L!==r)x[d]=L}}}});c.each(["Left","Top"],function(w,x){var y="scroll"+w;n[y]=function(A){var z=0,B=h(A),C;if(B&&(C=B.document))z=B[x?"pageYOffset":"pageXOffset"]||C.documentElement[y]||
C.body[y];else if(u(A=c.get(A)))z=A[y];return z}});c.each(["Width","Height"],function(w){n["doc"+w]=function(x){x=x||g;return m(e?x.documentElement["scroll"+w]:x.body["scroll"+w],n["viewport"+w](x))};n["viewport"+w]=function(x){var y="inner"+w;x=h(x);var A=x.document;return y in x?x[y]:e?A.documentElement["client"+w]:A.body["client"+w]}})});
KISSY.add("dom-traversal",function(c,r){function t(k,g,u,l){if(!(k=c.get(k)))return null;if(g===r)g=1;var h=null,e,m;if(c.isNumber(g)&&g>=0){if(g===0)return k;e=0;m=g;g=function(){return++e===m}}for(;k=k[u];)if(j(k)&&(!g||n.test(k,g))&&(!l||l(k))){h=k;break}return h}function v(k,g,u){var l=[];var h=k=c.get(k);if(k&&u)h=k.parentNode;if(h){u=0;for(h=h.firstChild;h;h=h.nextSibling)if(j(h)&&h!==k&&(!g||n.test(h,g)))l[u++]=h}return l}var n=c.DOM,j=n._isElementNode;c.mix(n,{parent:function(k,g){return t(k,
g,"parentNode",function(u){return u.nodeType!=11})},next:function(k,g){return t(k,g,"nextSibling")},prev:function(k,g){return t(k,g,"previousSibling")},siblings:function(k,g){return v(k,g,true)},children:function(k,g){return v(k,g)},contains:function(k,g){var u=false;if((k=c.get(k))&&(g=c.get(g)))if(k.contains)return k.contains(g);else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(g)&16);else for(;!u&&(g=g.parentNode);)u=g==k;return u}})});
KISSY.add("dom-create",function(c,r){function t(A,z){m(A)&&c.isPlainObject(z)&&u.attr(A,z);return A}function v(A,z){var B=null,C;if(A&&(A.push||A.item)&&A[0]){z=z||A[0].ownerDocument;B=z.createDocumentFragment();if(A.item)A=c.makeArray(A);z=0;for(C=A.length;z<C;z++)B.appendChild(A[z])}return B}function n(A){var z=A.cloneNode(true);if(l.ie<8)z.innerHTML=A.innerHTML;return z}function j(A,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+D+'"></span>';c.available(D,function(){var F=
c.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(i):false)&&I[2]){G=g.createElement("script");G.src=I[2];if((H=M.match(d))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)c.globalEval(J);(N=g.getElementById(D))&&u.remove(N);c.isFunction(C)&&C()});k(A,z)}else{k(A,z);c.isFunction(C)&&C()}}function k(A,z){z=(z+"").replace(a,"");try{A.innerHTML=z}catch(B){for(;A.firstChild;)A.removeChild(A.firstChild);z&&A.appendChild(u.create(z))}}var g=
document,u=c.DOM,l=c.UA,h=l.ie,e=u._nodeTypeIs,m=u._isElementNode,p=u._isKSNode,s=g.createElement("div"),q=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,i=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;c.mix(u,{create:function(A,z,B){if(e(A,1)||e(A,3))return n(A);if(p(A))return n(A[0]);if(!(A=c.trim(A)))return null;var C=null;C=u._creators;var D,E="div",F;if(D=b.exec(A))C=(B||g).createElement(D[1]);else{if((D=q.exec(A))&&(F=D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=
F;A=C[E](A,B).childNodes;C=A.length===1?A[0].parentNode.removeChild(A[0]):v(A,B||g)}return t(C,z)},_creators:{div:function(A,z){z=z?z.createElement("div"):s;z.innerHTML=A;return z}},html:function(A,z,B,C){if(z===r){A=c.get(A);if(m(A))return A.innerHTML}else c.each(c.query(A),function(D){m(D)&&j(D,z,B,C)})},remove:function(A){c.each(c.query(A),function(z){m(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(l.gecko||h){var f=u._creators,o=u.create,w=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
x={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var y in x)(function(A){f[y]=function(z,B){return o("<"+A+">"+z+"</"+A+">",null,B)}})(x[y]);if(h){f.script=function(A,z){z=z?z.createElement("div"):s;z.innerHTML="-"+A;z.removeChild(z.firstChild);return z};if(h<8)f.tbody=function(A,z){z=o("<table>"+A+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!w.test(A)&&B.parentNode.removeChild(B);return z}}c.mix(f,{optgroup:f.option,th:f.td,
thead:f.tbody,tfoot:f.tbody,caption:f.tbody,colgroup:f.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(r,t){if((r=c.get(r))&&(t=c.get(t))&&t.parentNode)t.parentNode.insertBefore(r,t);return r},insertAfter:function(r,t){if((r=c.get(r))&&(t=c.get(t))&&t.parentNode)t.nextSibling?t.parentNode.insertBefore(r,t.nextSibling):t.parentNode.appendChild(r);return r}})});
KISSY.add("event",function(c,r){function t(a,b,i,d,f){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(o){q[a](o,i,d,f)});return true}if((i=c.trim(i))&&i.indexOf(m)>0){c.each(i.split(m),function(o){q[a](b,o,d,f)});return true}}function v(a){return k(a)?u.data(a,e):-1}function n(a,b){k(a)&&u.data(a,e,b)}function j(a){u.removeData(a,e)}function k(a){return a&&a.nodeType!==3&&a.nodeType!==8}var g=document,u=c.DOM,l=g.addEventListener?function(a,b,i,d){a.addEventListener&&a.addEventListener(b,
i,!!d)}:function(a,b,i){a.attachEvent&&a.attachEvent("on"+b,i)},h=g.removeEventListener?function(a,b,i,d){a.removeEventListener&&a.removeEventListener(b,i,!!d)}:function(a,b,i){a.detachEvent&&a.detachEvent("on"+b,i)},e="ksEventTargetId",m=" ",p=c.now(),s={},q={EVENT_GUID:e,special:{},add:function(a,b,i,d){if(!t("add",a,b,i,d)){var f=v(a),o,w,x,y,A;if(!(f===-1||!b||!c.isFunction(i))){if(!f){n(a,f=p++);s[f]={target:a,events:{}}}w=s[f].events;if(!w[b]){o=((f=!a.isCustomEventTarget)||a._supportSpecialEvent)&&
q.special[b]||{};x=function(z,B){if(!z||!z.fixed){z=new c.EventObject(a,z,b);c.isPlainObject(B)&&c.mix(z,B)}o.setup&&o.setup(z);return(o.handle||q._handle)(a,z,w[b].listeners)};w[b]={handle:x,listeners:[]};y=o.fix||b;A=o.capture;if(f)l(a,y,x,A);else a._addEvent&&a._addEvent(y,x,A)}w[b].listeners.push({fn:i,scope:d||a})}}},remove:function(a,b,i,d){if(!t("remove",a,b,i,d)){var f=v(a),o,w,x,y,A,z,B;if(f!==-1)if(f&&(o=s[f]))if(o.target===a){d=d||a;o=o.events||{};if(w=o[b]){x=w.listeners;z=x.length;if(c.isFunction(i)&&
z){A=y=0;for(B=[];y<z;++y)if(i!==x[y].fn||d!==x[y].scope)B[A++]=x[y];w.listeners=B;z=B.length}if(i===r||z===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,w.handle);else{i=q.special[b]||{};h(a,i.fix||b,w.handle)}delete o[b]}}if(b===r||c.isEmptyObject(o)){for(b in o)q.remove(a,b);delete s[f];j(a)}}}},_handle:function(a,b,i){i=i.slice(0);for(var d,f=0,o=i.length;f<o;++f){d=i[f];d=d.fn.call(d.scope||a,b);if(d===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return d},
_getCache:function(a){return s[a]},_simpleAdd:l,_simpleRemove:h};q.on=q.add;c.Event=q});
KISSY.add("event-object",function(c,r){function t(j,k,g){this.currentTarget=j;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=g;this.target=j}this.currentTarget=j;this.fixed=true}var v=document,n="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(t,
{_fix:function(){var j=this.originalEvent,k=n.length,g,u=this.currentTarget;for(u=u.nodeType===9?u:u.ownerDocument||v;k;){g=n[--k];this[g]=j[g]}if(!this.target)this.target=this.srcElement||v;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){j=u.documentElement;k=u.body;this.pageX=this.clientX+(j&&j.scrollLeft||k&&k.scrollLeft||
0)-(j&&j.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||k&&k.scrollTop||0)-(j&&j.clientTop||k&&k.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=t});
KISSY.add("event-target",function(c,r){var t=c.Event;c.EventTarget={isCustomEventTarget:true,fire:function(v,n){var j=c.DOM.data(this,t.EVENT_GUID)||-1;if((v=((t._getCache(j)||{}).events||{})[v])&&c.isFunction(v.handle))return v.handle(r,n);return this},on:function(v,n,j){t.add(this,v,n,j);return this},detach:function(v,n,j){t.remove(this,v,n,j);return this}}});
KISSY.add("event-mouseenter",function(c){var r=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){r.special[t.name]={fix:t.fix,setup:function(v){v.type=t.name},handle:function(v,n,j){var k=n.relatedTarget;try{for(;k&&k!==v;)k=k.parentNode;k!==v&&r._handle(v,n,j)}catch(g){}}}})});
KISSY.add("event-focusin",function(c){var r=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){r.special[t.name]={fix:t.fix,capture:true,setup:function(v){v.type=t.name}}})});
KISSY.add("node",function(c){function r(n,j,k){var g;if(!(this instanceof r))return new r(n,j,k);if(n){if(v(n,1)||v(n,3))g=n;else if(c.isString(n))g=t.create(n,j,k);this[0]=g}else this.length=0}var t=c.DOM,v=t._nodeTypeIs;r.TYPE="-ks-Node";c.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});c.one=function(n,j){return(n=c.get(n,j))?new r(n):null};c.Node=r});
KISSY.add("nodelist",function(c){function r(n){if(!(this instanceof r))return new r(n);v.push.apply(this,n||[])}var t=c.DOM,v=Array.prototype;c.mix(r.prototype,{length:0,item:function(n){var j=null;if(t._isElementNode(this[n]))j=new c.Node(this[n]);return j},getDOMNodes:function(){return v.slice.call(this)},each:function(n,j){var k=this.length,g=0,u;for(u=new c.Node(this[0]);g<k&&n.call(j||u,u,g,this)!==false;u=new c.Node(this[++g]));return this}});c.all=function(n,j){return new r(c.query(n,j,true))};
c.NodeList=r});
KISSY.add("node-attach",function(c,r){function t(q,arguments,a,b){var i=[this[q?e:h]()].concat(c.makeArray(arguments));if(arguments[a]===r)return b.apply(n,i);else{b.apply(n,i);return this}}function v(q,a){c.each(q,function(b){c.each([u,l],function(i,d){i[b]=function(f){switch(a){case m:return function(){return t.call(this,d,arguments,1,f)};case p:return function(){return t.call(this,d,arguments,0,f)};case s:return function(){var o=this[d?e:h]();return(o=f.apply(n,[o].concat(c.makeArray(arguments))))?new (c[c.isArray(o)?
"NodeList":"Node"])(o):null};default:return function(){var o=this[d?e:h]();o=f.apply(n,[o].concat(c.makeArray(arguments)));return o===r?this:o}}}(n[b])})})}var n=c.DOM,j=c.Event,k=n._nodeTypeIs,g=n._isKSNode,u=c.Node.prototype,l=c.NodeList.prototype,h="getDOMNode",e=h+"s",m=1,p=2,s=4;c.mix(u,{one:function(q){return c.one(q,this[0])},all:function(q){return c.all(q,this[0])}});v(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);v(["attr","removeAttr"],m);v(["val","text"],p);v(["css"],
m);v(["width","height"],p);v(["offset"],p);v(["scrollIntoView"]);v(["parent","next","prev","siblings","children"],s);v(["contains"]);v(["html"],p);v(["remove"]);c.each(["insertBefore","insertAfter"],function(q){u[q]=function(a){n[q].call(n,this[0],a);return this}});c.each([u,l],function(q,a){c.mix(q,{append:function(b){b&&c.each(this,function(i){var d;if(a||c.isString(b))d=n.create(b);else{if(k(b,1)||k(b,3))d=b;if(g(b))d=b[0]}i.appendChild(d)});return this},appendTo:function(b){if((b=c.get(b))&&b.appendChild)c.each(this,
function(i){b.appendChild(i)});return this}})});c.each([u,l],function(q){c.mix(q,c.EventTarget,{_supportSpecialEvent:true});q._addEvent=function(a,b,i){for(var d=0,f=this.length;d<f;d++)j._simpleAdd(this[d],a,b,i)};q._removeEvent=function(a,b,i){for(var d=0,f=this.length;d<f;d++)j._simpleRemove(this[d],a,b,i)};delete q.fire})});
KISSY.add("cookie",function(c){function r(j){return c.isString(j)&&j!==""}var t=document,v=encodeURIComponent,n=decodeURIComponent;c.Cookie={get:function(j){var k;if(r(j))if(j=t.cookie.match("(?:^| )"+j+"(?:(?:=([^;]*))|;|$)"))k=j[1]?n(j[1]):"";return k},set:function(j,k,g,u,l,h){k=v(k);var e=g;if(typeof e==="number"){e=new Date;e.setTime(e.getTime()+g*864E5)}if(e instanceof Date)k+="; expires="+e.toUTCString();if(r(u))k+="; domain="+u;if(r(l))k+="; path="+l;if(h)k+="; secure";t.cookie=j+"="+k},remove:function(j,
k,g,u){this.set(j,"",0,k,g,u)}}});
KISSY.add("json",function(c){function r(h){return h<10?"0"+h:h}function t(h){j.lastIndex=0;return j.test(h)?'"'+h.replace(j,function(e){var m=u[e];return typeof m==="string"?m:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function v(h,e){var m,p,s=k,q,a=e[h];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(h);if(typeof l==="function")a=l.call(e,h,a);switch(typeof a){case "string":return t(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";k+=g;q=[];if(Object.prototype.toString.apply(a)==="[object Array]"){p=a.length;for(h=0;h<p;h+=1)q[h]=v(h,a)||"null";e=q.length===0?"[]":k?"[\n"+k+q.join(",\n"+k)+"\n"+s+"]":"["+q.join(",")+"]";k=s;return e}if(l&&typeof l==="object"){p=l.length;for(h=0;h<p;h+=1){m=l[h];if(typeof m==="string")if(e=v(m,a))q.push(t(m)+(k?": ":":")+e)}}else for(m in a)if(Object.hasOwnProperty.call(a,m))if(e=v(m,a))q.push(t(m)+(k?": ":":")+e);e=q.length===0?"{}":k?"{\n"+k+q.join(",\n"+k)+
"\n"+s+"}":"{"+q.join(",")+"}";k=s;return e}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,g,u={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;if(typeof c.stringify!=="function")c.stringify=function(h,e,m){var p;g=k="";if(typeof m==="number")for(p=0;p<m;p+=1)g+=" ";else if(typeof m==="string")g=m;if((l=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw new Error("JSON.stringify");return v("",
{"":h})};if(typeof c.parse!=="function")c.parse=function(h,e){function m(p,s){var q,a,b=p[s];if(b&&typeof b==="object")for(q in b)if(Object.hasOwnProperty.call(b,q)){a=m(b,q);if(a!==undefined)b[q]=a;else delete b[q]}return e.call(p,s,b)}h=String(h);n.lastIndex=0;if(n.test(h))h=h.replace(n,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){h=eval("("+h+")");return typeof e==="function"?m({"":h},""):h}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var r=Math,t=r.PI,v=r.pow,n=r.sin,j=1.70158,k={easeNone:function(g){return g},easeIn:function(g){return g*g},easeOut:function(g){return(2-g)*g},easeBoth:function(g){return(g*=2)<1?0.5*g*g:0.5*(1- --g*(g-2))},easeInStrong:function(g){return g*g*g*g},easeOutStrong:function(g){return 1- --g*g*g*g},easeBothStrong:function(g){return(g*=2)<1?0.5*g*g*g*g:0.5*(2-(g-=2)*g*g*g)},elasticIn:function(g){if(g===0||g===1)return g;return-(v(2,10*(g-=1))*n((g-0.075)*2*t/0.3))},
elasticOut:function(g){if(g===0||g===1)return g;return v(2,-10*g)*n((g-0.075)*2*t/0.3)+1},elasticBoth:function(g){if(g===0||(g*=2)===2)return g;if(g<1)return-0.5*v(2,10*(g-=1))*n((g-0.1125)*2*t/0.45);return v(2,-10*(g-=1))*n((g-0.1125)*2*t/0.45)*0.5+1},backIn:function(g){if(g===1)g-=0.0010;return g*g*((j+1)*g-j)},backOut:function(g){return(g-=1)*g*((j+1)*g+j)+1},backBoth:function(g){if((g*=2)<1)return 0.5*g*g*(((j*=1.525)+1)*g-j);return 0.5*((g-=2)*g*(((j*=1.525)+1)*g+j)+2)},bounceIn:function(g){return 1-
k.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+0.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+0.9375:7.5625*(g-=2.625/2.75)*g+0.984375},bounceBoth:function(g){if(g<0.5)return k.bounceIn(g*2)*0.5;return k.bounceOut(g*2-1)*0.5+0.5}};c.Easing=k});
KISSY.add("anim",function(c,r){function t(q,a,b,i,d){if(q=c.get(q)){if(!(this instanceof t))return new t(q,a,b,i,d);var f=c.isPlainObject(b);a=a;this.domEl=q;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=v(a);this.targetStyle=a;if(f)q=c.merge(s,b);else{q=c.clone(s);b&&(q.duration=h(b,10)||1);c.isString(i)&&(i=l[i]);c.isFunction(i)&&(q.easing=i);c.isFunction(d)&&(q.complete=d)}this.config=q;c.isFunction(d)&&this.on(p,d)}}function v(q){var a={},b=m.length,i;e.innerHTML='<div style="'+
q+'"></div>';for(q=e.firstChild.style;b--;)if(i=q[m[b]])a[m[b]]=n(i);return a}function n(q){var a=h(q);q=(q+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:q,u:"",f:k}:{v:a,u:q,f:j}}function j(q,a,b){return(q+(a-q)*b).toFixed(3)}function k(q,a,b){for(var i=2,d,f,o=[],w=[];d=3,f=arguments[i-1],i--;)if(g(f,0,4)==="rgb(")for(f=f.match(/\d+/g);d--;)o.push(~~f[d]);else if(g(f,0)==="#"){if(f.length===4)f="#"+g(f,1)+g(f,1)+g(f,2)+g(f,2)+g(f,3)+g(f,3);for(;d--;)o.push(parseInt(g(f,1+d*2,2),16))}else return a;
for(;d--;){i=~~(o[d+3]+(o[d]-o[d+3])*b);w.push(i<0?0:i>255?255:i)}return"rgb("+w.join(",")+")"}function g(q,a,b){return q.substr(a,b||1)}var u=c.DOM,l=c.Easing,h=parseFloat,e=u.create("<div>"),m="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
p="complete",s={duration:1,easing:l.easeNone};c.augment(t,c.EventTarget,{run:function(){var q=this,a=q.config,b=q.domEl,i=a.duration*1E3,d=a.easing,f=c.now(),o=f+i,w=q.props,x={},y;for(y in w)x[y]=n(u.css(b,y));if(q.fire("start")!==false){q.stop();q.timer=c.later(a=function(){var A=c.now(),z=A>o?1:(A-f)/i,B,C,D;for(y in w){B=x[y];C=w[y];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;u.css(b,y,C.f(B.v,C.v,d(z))+C.u)}if(q.fire("step")===false||(D=A>o)){q.stop();D&&q.fire(p)}},13,true);a();return q}},stop:function(q){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=r}if(q){c.UA.ie&&b.indexOf("opacity")>-1&&u.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(p)}return this}});c.Anim=t});KISSY.add("anim-node-plugin",function(c,r){var t=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(v){v.animate=function(){var n=c.makeArray(arguments);c.each(this,function(j){t.apply(r,[j].concat(n)).run()});return this}})});KISSY.add("core");
(function(){function c(a,b,i,d,f,o){f=0;for(var w=d.length;f<w;f++){var x=d[f];if(x){x=x[a];for(var y=false;x;){if(x.sizcache===i){y=d[x.sizset];break}if(x.nodeType===1&&!o){x.sizcache=i;x.sizset=f}if(x.nodeName.toLowerCase()===b){y=x;break}x=x[a]}d[f]=y}}}function r(a,b,i,d,f,o){f=0;for(var w=d.length;f<w;f++){var x=d[f];if(x){x=x[a];for(var y=false;x;){if(x.sizcache===i){y=d[x.sizset];break}if(x.nodeType===1){if(!o){x.sizcache=i;x.sizset=f}if(typeof b!=="string"){if(x===b){y=true;break}}else if(g.filter(b,
[x]).length>0){y=x;break}}x=x[a]}d[f]=y}}}var t=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,v=0,n=Object.prototype.toString,j=false,k=true;[0,0].sort(function(){k=false;return 0});var g=function(a,b,i,d){i=i||[];var f=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return i;var o=[],w,x,y,A,z=true,B=g.isXML(b),C=a,D;do{t.exec("");if(w=t.exec(C)){C=w[3];o.push(w[1]);if(w[2]){A=
w[3];break}}}while(w);if(o.length>1&&l.exec(a))if(o.length===2&&u.relative[o[0]])x=q(o[0]+o[1],b);else for(x=u.relative[o[0]]?[b]:g(o.shift(),b);o.length;){a=o.shift();if(u.relative[a])a+=o.shift();x=q(a,x)}else{if(!d&&o.length>1&&b.nodeType===9&&!B&&u.match.ID.test(o[0])&&!u.match.ID.test(o[o.length-1])){w=g.find(o.shift(),b,B);b=w.expr?g.filter(w.expr,w.set)[0]:w.set[0]}if(b){w=d?{expr:o.pop(),set:m(d)}:g.find(o.pop(),o.length===1&&(o[0]==="~"||o[0]==="+")&&b.parentNode?b.parentNode:b,B);x=w.expr?
g.filter(w.expr,w.set):w.set;if(o.length>0)y=m(x);else z=false;for(;o.length;){w=D=o.pop();if(u.relative[D])w=o.pop();else D="";if(w==null)w=b;u.relative[D](y,w,B)}}else y=[]}y||(y=x);y||g.error(D||a);if(n.call(y)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;y[a]!=null;a++){if(y[a]&&(y[a]===true||y[a].nodeType===1&&g.contains(b,y[a])))i.push(x[a])}else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&i.push(x[a]);else i.push.apply(i,y);else m(y,i);if(A){g(A,f,i,d);g.uniqueSort(i)}return i};
g.uniqueSort=function(a){if(s){j=k;a.sort(s);if(j)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};g.matches=function(a,b){return g(a,null,null,b)};g.find=function(a,b,i){var d;if(!a)return[];for(var f=0,o=u.order.length;f<o;f++){var w=u.order[f],x;if(x=u.leftMatch[w].exec(a)){var y=x[1];x.splice(1,1);if(y.substr(y.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");d=u.find[w](x,b,i);if(d!=null){a=a.replace(u.match[w],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,
expr:a}};g.filter=function(a,b,i,d){for(var f=a,o=[],w=b,x,y,A=b&&b[0]&&g.isXML(b[0]);a&&b.length;){for(var z in u.filter)if((x=u.leftMatch[z].exec(a))!=null&&x[2]){var B=u.filter[z],C,D;D=x[1];y=false;x.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(w===o)o=[];if(u.preFilter[z])if(x=u.preFilter[z](x,w,i,o,d,A)){if(x===true)continue}else y=C=true;if(x)for(var E=0;(D=w[E])!=null;E++)if(D){C=B(D,x,E,w);var F=d^!!C;if(i&&C!=null)if(F)y=true;else w[E]=false;else if(F){o.push(D);y=true}}if(C!==undefined){i||
(w=o);a=a.replace(u.match[z],"");if(!y)return[];break}}}if(a===f)if(y==null)g.error(a);else break;f=a}return w};g.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var u=g.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var i=typeof b==="string",d=i&&!/\W/.test(b);i=i&&!d;if(d)b=b.toLowerCase();d=0;for(var f=a.length,o;d<f;d++)if(o=a[d]){for(;(o=o.previousSibling)&&o.nodeType!==1;);a[d]=i||o&&o.nodeName.toLowerCase()===
b?o||false:o===b}i&&g.filter(b,a,true)},">":function(a,b){var i=typeof b==="string",d,f=0,o=a.length;if(i&&!/\W/.test(b))for(b=b.toLowerCase();f<o;f++){if(d=a[f]){i=d.parentNode;a[f]=i.nodeName.toLowerCase()===b?i:false}}else{for(;f<o;f++)if(d=a[f])a[f]=i?d.parentNode:d.parentNode===b;i&&g.filter(b,a,true)}},"":function(a,b,i){var d=v++,f=r,o;if(typeof b==="string"&&!/\W/.test(b)){o=b=b.toLowerCase();f=c}f("parentNode",b,d,a,o,i)},"~":function(a,b,i){var d=v++,f=r,o;if(typeof b==="string"&&!/\W/.test(b)){o=
b=b.toLowerCase();f=c}f("previousSibling",b,d,a,o,i)}},find:{ID:function(a,b,i){if(typeof b.getElementById!=="undefined"&&!i)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var i=[];b=b.getElementsByName(a[1]);for(var d=0,f=b.length;d<f;d++)b[d].getAttribute("name")===a[1]&&i.push(b[d]);return i.length===0?null:i}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,i,d,f,o){a=" "+a[1].replace(/\\/g,"")+" ";
if(o)return a;o=0;for(var w;(w=b[o])!=null;o++)if(w)if(f^(w.className&&(" "+w.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))i||d.push(w);else if(i)b[o]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=v++;return a},ATTR:function(a,b,i,d,f,o){b=
a[1].replace(/\\/g,"");if(!o&&u.attrMap[b])a[1]=u.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,i,d,f){if(a[1]==="not")if((t.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=g(a[3],null,null,b);else{a=g.filter(a[3],b,i,true^f);i||d.push.apply(d,a);return false}else if(u.match.POS.test(a[0])||u.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,i){return!!g(i[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,i,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,i){return b<i[3]-0},gt:function(a,b,i){return b>i[3]-0},nth:function(a,b,i){return i[3]-
0===b},eq:function(a,b,i){return i[3]-0===b}},filter:{PSEUDO:function(a,b,i,d){var f=b[1],o=u.filters[f];if(o)return o(a,i,b,d);else if(f==="contains")return(a.textContent||a.innerText||g.getText([a])||"").indexOf(b[3])>=0;else if(f==="not"){b=b[3];i=0;for(d=b.length;i<d;i++)if(b[i]===a)return false;return true}else g.error("Syntax error, unrecognized expression: "+f)},CHILD:function(a,b){var i=b[1],d=a;switch(i){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(i===
"first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":i=b[2];var f=b[3];if(i===1&&f===0)return true;b=b[0];var o=a.parentNode;if(o&&(o.sizcache!==b||!a.nodeIndex)){var w=0;for(d=o.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++w;o.sizcache=b}a=a.nodeIndex-f;return i===0?a===0:a%i===0&&a/i>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var i=b[1];a=u.attrHandle[i]?u.attrHandle[i](a):a[i]!=null?a[i]:a.getAttribute(i);i=a+"";var d=b[2];b=b[4];return a==null?d==="!=":d==="="?i===b:d==="*="?i.indexOf(b)>=0:d==="~="?(" "+i+" ").indexOf(b)>=0:!b?i&&a!==false:d==="!="?i!==b:d==="^="?i.indexOf(b)===0:d==="$="?i.substr(i.length-b.length)===b:d==="|="?i===b||i.substr(0,b.length+1)===b+"-":false},POS:function(a,b,i,d){var f=u.setFilters[b[2]];
if(f)return f(a,i,b,d)}}},l=u.match.POS,h=function(a,b){return"\\"+(b-0+1)};for(var e in u.match){u.match[e]=new RegExp(u.match[e].source+/(?![^\[]*\])(?![^\(]*\))/.source);u.leftMatch[e]=new RegExp(/(^(?:.|\r|\n)*?)/.source+u.match[e].source.replace(/\\(\d+)/g,h))}var m=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(p){m=function(a,b){b=b||[];var i=0;if(n.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var d=a.length;i<d;i++)b.push(a[i]);else for(;a[i];i++)b.push(a[i]);return b}}var s;if(document.documentElement.compareDocumentPosition)s=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)j=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)j=true;return a};else if("sourceIndex"in document.documentElement)s=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)j=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)j=true;return a};else if(document.createRange)s=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)j=true;return a.ownerDocument?-1:1}var i=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();i.setStart(a,0);i.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);a=i.compareBoundaryPoints(Range.START_TO_END,d);if(a===0)j=true;return a};g.getText=function(a){for(var b="",i,d=0;a[d];d++){i=a[d];if(i.nodeType===3||i.nodeType===4)b+=i.nodeValue;else if(i.nodeType!==
8)b+=g.getText(i.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var i=document.documentElement;i.insertBefore(a,i.firstChild);if(document.getElementById(b)){u.find.ID=function(d,f,o){if(typeof f.getElementById!=="undefined"&&!o)return(f=f.getElementById(d[1]))?f.id===d[1]||typeof f.getAttributeNode!=="undefined"&&f.getAttributeNode("id").nodeValue===d[1]?[f]:undefined:[]};u.filter.ID=function(d,f){var o=typeof d.getAttributeNode!==
"undefined"&&d.getAttributeNode("id");return d.nodeType===1&&o&&o.nodeValue===f}}i.removeChild(a);i=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)u.find.TAG=function(b,i){i=i.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var d=0;i[d];d++)i[d].nodeType===1&&b.push(i[d]);i=b}return i};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")u.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=g,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){g=function(d,f,o,w){f=f||document;if(!w&&f.nodeType===9&&!g.isXML(f))try{return m(f.querySelectorAll(d),o)}catch(x){}return a(d,f,o,w)};for(var i in a)g[i]=a[i];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){u.order.splice(1,0,"CLASS");u.find.CLASS=function(b,i,d){if(typeof i.getElementsByClassName!=="undefined"&&!d)return i.getElementsByClassName(b[1])};a=null}}})();g.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};g.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var q=function(a,b){var i=[],d="",f;for(b=b.nodeType?[b]:b;f=u.match.PSEUDO.exec(a);){d+=f[0];a=a.replace(u.match.PSEUDO,"")}a=u.relative[a]?a+"*":a;f=0;for(var o=b.length;f<o;f++)g(a,b[f],i);return g.filter(d,i)};KISSY.add("sizzle",function(a){a.ExternalSelector=g;a.ExternalSelector._filter=function(b,i){return g.matches(i,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(c,r){function t(h,e){if(!(this instanceof t))return new t(h,e);if(e===r){e=h;h=[k]}c.isArray(h)||(h=[c.get(h)||k]);this.containers=h;this.config=c.merge(l,e);this.callbacks={els:[],fns:[]};this._init()}var v=c.DOM,n=c.Event,j=window,k=document,g="scroll",u="resize",l={mod:"manual",diff:"default",placeholder:"none"};c.augment(t,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var h=this.containers,
e,m,p,s=[],q=[];e=0;for(m=h.length;e<m;++e){p=c.query("img",h[e]);s=s.concat(c.filter(p,this._filterImg,this));p=c.query("textarea",h[e]);q=q.concat(c.filter(p,this._filterArea,this))}this.images=s;this.areaes=q},_filterImg:function(h){var e=h.getAttribute("data-ks-lazyload"),m=this.threshold,p=this.config.placeholder;if(this.config.mod==="manual"){if(e){if(p!=="none")h.src=p;return true}}else if(v.offset(h).top>m&&!e){v.attr(h,"data-ks-lazyload",h.src);if(p!=="none")h.src=p;else h.removeAttribute("src");
return true}},_filterArea:function(h){return v.hasClass(h,"ks-datalazyload")},_initLoadEvent:function(){function h(){m||(m=c.later(function(){e();m=null},100))}function e(){p._loadItems();if(p._getItemsLength()===0){n.remove(j,g,h);n.remove(j,u,h)}}var m,p=this;n.on(j,g,h);n.on(j,u,function(){p.threshold=p._getThreshold();h()});p._getItemsLength()&&c.ready(function(){e()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=c.filter(this.images,
this._loadImg,this)},_loadImg:function(h){var e=this.threshold+v.scrollTop();if(v.offset(h).top<=e)this._loadImgSrc(h);else return true},_loadImgSrc:function(h,e){e=e||"data-ks-lazyload";var m=h.getAttribute(e);if(m&&h.src!=m){h.src=m;h.removeAttribute(e)}},_loadAreas:function(){this.areaes=c.filter(this.areaes,this._loadArea,this)},_loadArea:function(h){var e=v.css(h,"display")==="none";if(v.offset(e?h.parentNode:h).top<=this.threshold+v.scrollTop())this._loadAreaData(h.parentNode,h);else return true},
_loadAreaData:function(h,e){e.style.display="none";e.className="";var m=v.create("<div>");h.insertBefore(m,e);v.html(m,e.value,true)},_fireCallbacks:function(){var h=this.callbacks,e=h.els,m=h.fns,p=this.threshold+v.scrollTop(),s,q,a,b=[],i=[];for(s=0;(q=e[s])&&(a=m[s++]);)if(v.offset(q).top<=p)a.call(q);else{b.push(q);i.push(a)}h.els=b;h.fns=i},addCallback:function(h,e){var m=this.callbacks;if((h=c.get(h))&&c.isFunction(e)){m.els.push(h);m.fns.push(e)}},_getThreshold:function(){var h=this.config.diff,
e=v.viewportHeight();return h==="default"?2*e:e+ +h},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(h,e){var m=this,p,s;c.isArray(h)||(h=[c.get(h)]);c.each(h,function(q){switch(e){case "img-src":s=q.nodeName==="IMG"?[q]:c.query("img",q);c.each(s,function(a){m._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(p=c.get("textarea",q))&&v.hasClass(p,"ks-datalazyload-custom")&&m._loadAreaData(q,p)}})}});c.mix(t,t.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=t},{requires:["core"]});KISSY.add("flash",function(c){c.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(c){function r(){var l;if(navigator.plugins&&navigator.mimeTypes.length)l=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{l=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(h){}if(l)return t(l)}function t(l){return l.match(/(\d)+/g)}function v(l){var h=c.isString(l)?t(l):l;l=l;if(c.isArray(h))l=parseFloat(h[0]+"."+n(h[1],3)+n(h[2],5));return l||0}function n(l,h){for(var e=(l+"").length;e++<h;)l="0"+
l;return l}var j=c.UA,k,g,u=true;j.fpv=function(l){if(l||u){u=false;k=r();g=v(k)}return k};j.fpvGEQ=function(l,h){u&&j.fpv(h);return!!g&&g>=v(l)}},{host:"flash"});
KISSY.add("flash-embed",function(c){function r(l,h,e){var m=v.create("<param>");v.attr(m,{name:h,value:e});l.appendChild(m)}var t=c.UA,v=c.DOM,n=c.Flash,j=/object|embed/i,k=encodeURIComponent,g={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},u={params:{},attrs:{width:215,height:138},version:9};c.mix(n,{fpv:t.fpv,fpvGEQ:t.fpvGEQ,add:function(l,h,e){var m,
p;h=n._normalize(h);h=c.merge(u,h);h.attrs=c.merge(u.attrs,h.attrs);if(l=c.get(l)){if(!l.id)l.id=c.guid("ks-flash-");p=h.attrs.id=l.id;if(t.fpv()){if(!t.fpvGEQ(h.version)){this._callback(e,0,p,l);if(!((m=h.xi)&&c.isString(m)))return;h.src=m}if(j.test(l.nodeName))this._register(l,h,e);else h.src?this._embed(l,h,e):this._callback(e,-3,p,l)}else this._callback(e,-1,p,l)}else this._callback(e,-2)},get:function(l){return n.swfs[l]},remove:function(l){if(l=n.get("#"+l)){v.remove(l);delete n.swfs[l.id];
n.length-=1}},contains:function(l){var h=n.swfs,e,m=false;if(c.isString(l))m=l in h;else for(e in h)if(h[e]===l){m=true;break}return m},_register:function(l,h,e){h=h.attrs.id;if(t.gecko||t.opera)l=c.query("object",l)[0]||l;n._addSWF(h,l);n._callback(e,1,h,l)},_embed:function(l,h,e){var m=n._createSWF(h.src,h.attrs,h.params);if(t.ie)l.outerHTML=m.outerHTML;else l.parentNode.replaceChild(m,l);l=c.get("#"+l.id);n._register(l,h,e)},_callback:function(l,h,e,m){h&&c.isFunction(l)&&l({status:h,id:e,swf:m})},
_addSWF:function(l,h){if(l&&h){n.swfs[l]=h;n.length+=1}},_createSWF:function(l,h,e){var m=v.create("<object>"),p;v.attr(m,h);if(t.ie){v.attr(m,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");r(m,"movie",l)}else v.attr(m,{type:"application/x-shockwave-flash",data:l,name:h.id});for(p in e)p in g&&r(m,p,e[p]);e.flashvars&&r(m,"flashvars",n.toFlashVars(e.flashvars));return m},_normalize:function(l){var h,e,m,p=l;if(c.isPlainObject(l)){p={};for(m in l){h=m.toLowerCase();e=l[m];if(h!=="flashvars")e=
n._normalize(e);p[h]=e}}return p},toFlashVars:function(l){if(!c.isPlainObject(l))return"";var h,e,m=[];for(h in l){e=l[h];if(c.isString(e))e=k(e);else{e=c.JSON.stringify(e);if(!e)continue;e=e.replace(/:"([^"]+)/g,function(p,s){return':"'+k(s)})}m.push(h+"="+e)}return m.join("&").replace(/\"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(c,r){function t(j,k){k=k||{};if(!("markupType"in k))if(k.panelCls)k.markupType=1;else if(k.panels)k.markupType=2;k=c.merge(t.Config,k);this.container=c.get(j);this.config=k;this.activeIndex=k.activeIndex;this._init()}var v=c.DOM,n=c.Event;t.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};t.Plugins=[];c.augment(t,c.EventTarget,{_init:function(){var j=this,k=j.config;j._parseMarkup();k.switchTo&&j.switchTo(k.switchTo);k.hasTriggers&&j._bindTriggers();c.each(t.Plugins,function(g){g.init&&g.init(j)});j.fire("init")},_parseMarkup:function(){var j=this.container,k=this.config,g,u=[],l=[];switch(k.markupType){case 0:if(g=c.get("."+k.navCls,j))u=v.children(g);g=c.get("."+k.contentCls,j);l=v.children(g);break;case 1:u=c.query("."+k.triggerCls,
j);l=c.query("."+k.panelCls,j);break;case 2:u=k.triggers;l=k.panels;break}j=l.length;this.length=j/k.steps;if(k.hasTriggers&&j>0&&u.length===0)u=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(u);this.panels=c.makeArray(l);this.content=g||l[0].parentNode},_generateTriggersMarkup:function(j){var k=this.config,g=v.create("<ul>"),u,l;g.className=k.navCls;for(l=0;l<j;l++){u=v.create("<li>");if(l===this.activeIndex)u.className=k.activeTriggerCls;u.innerHTML=l+1;g.appendChild(u)}this.container.appendChild(g);
return v.children(g)},_bindTriggers:function(){var j=this,k=j.config,g=j.triggers,u,l,h=g.length;for(l=0;l<h;l++)(function(e){u=g[e];n.on(u,"click",function(){j._onFocusTrigger(e)});if(k.triggerType==="mouse"){n.on(u,"mouseenter",function(){j._onMouseEnterTrigger(e)});n.on(u,"mouseleave",function(){j._onMouseLeaveTrigger(e)})}})(l)},_onFocusTrigger:function(j){if(this._triggerIsValid(j)){this._cancelSwitchTimer();this.switchTo(j)}},_onMouseEnterTrigger:function(j){var k=this;if(k._triggerIsValid(j))k.switchTimer=
c.later(function(){k.switchTo(j)},k.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(j){return this.activeIndex!==j},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=r}},switchTo:function(j,k){var g=this.config,u=this.triggers,l=this.panels,h=this.activeIndex,e=g.steps,m=h*e,p=j*e;if(!this._triggerIsValid(j))return this;if(this.fire("beforeSwitch",{toIndex:j})===false)return this;if(g.hasTriggers)this._switchTrigger(h>
-1?u[h]:null,u[j]);if(k===r)k=j>h?"forward":"backward";this._switchView(l.slice(m,m+e),l.slice(p,p+e),j,k);this.activeIndex=j;return this},_switchTrigger:function(j,k){var g=this.config.activeTriggerCls;j&&v.removeClass(j,g);v.addClass(k,g)},_switchView:function(j,k,g){v.css(j,"display","none");v.css(k,"display","block");this._fireOnSwitch(g)},_fireOnSwitch:function(j){this.fire("switch",{currentIndex:j})},prev:function(){var j=this.activeIndex;this.switchTo(j>0?j-1:this.length-1,"backward")},next:function(){var j=
this.activeIndex;this.switchTo(j<this.length-1?j+1:0,"forward")}});c.Switchable=t},{requires:["core"]});
KISSY.add("autoplay",function(c,r){var t=c.Event,v=c.Switchable;c.mix(v.Config,{autoplay:false,interval:5,pauseOnHover:true});v.Plugins.push({name:"autoplay",init:function(n){function j(){u=c.later(function(){n.paused||n.switchTo(n.activeIndex<n.length-1?n.activeIndex+1:0,"forward")},g,true)}var k=n.config,g=k.interval*1E3,u;if(k.autoplay){if(k.pauseOnHover){t.on(n.container,"mouseenter",function(){if(u){u.cancel();u=r}n.paused=true});t.on(n.container,"mouseleave",function(){n.paused=false;j()})}j()}}})},
{host:"switchable"});
KISSY.add("effect",function(c,r){var t=c.DOM,v=c.Anim,n=c.Switchable,j;c.mix(n.Config,{effect:"none",duration:0.5,easing:"easeNone"});n.Effects={none:function(k,g,u){t.css(k,"display","none");t.css(g,"display","block");u()},fade:function(k,g,u){k.length!==1&&c.error("fade effect only supports steps == 1.");var l=this,h=l.config,e=k[0],m=g[0];l.anim&&l.anim.stop(true);t.css(m,"opacity",1);l.anim=(new v(e,{opacity:0},h.duration,h.easing,function(){l.anim=r;t.css(m,"z-index",9);t.css(e,"z-index",1);
u()})).run()},scroll:function(k,g,u,l){var h=this;k=h.config;g=k.effect==="scrollx";var e={};e[g?"left":"top"]=-(h.viewSize[g?0:1]*l)+"px";h.anim&&h.anim.stop();h.anim=(new v(h.content,e,k.duration,k.easing,function(){h.anim=r;u()})).run()}};j=n.Effects;j.scrollx=j.scrolly=j.scroll;n.Plugins.push({name:"effect",init:function(k){var g=k.config,u=g.effect,l=k.panels,h=k.content,e=g.steps,m=k.activeIndex,p=l.length;k.viewSize=[g.viewSize[0]||l[0].offsetWidth*e,g.viewSize[1]||l[0].offsetHeight*e];if(u!==
"none"){c.each(l,function(b){t.css(b,"display","block")});switch(u){case "scrollx":case "scrolly":t.css(h,"position","absolute");t.css(h.parentNode,"position","relative");if(u==="scrollx"){t.css(l,"float","left");t.width(h,k.viewSize[0]*(p/e))}break;case "fade":var s=m*e,q=s+e-1,a;c.each(l,function(b,i){a=i>=s&&i<=q;t.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(n,{_switchView:function(k,g,u,l){var h=this,e=h.config.effect;(c.isFunction(e)?e:j[e]).call(h,k,g,function(){h._fireOnSwitch(u)},
u,l)}})},{host:"switchable"});
KISSY.add("circular",function(c,r){function t(a,b,i,d,f){var o=this;a=o.config;b=o.length;var w=o.activeIndex,x=a.scrollType===s,y=x?u:l,A=o.viewSize[x?0:1];x=-A*d;var z={},B,C=f===p;if(B=C&&w===0&&d===b-1||f===m&&w===b-1&&d===0)x=v.call(o,o.panels,d,C,y,A);z[y]=x+e;o.anim&&o.anim.stop();o.anim=(new c.Anim(o.content,z,a.duration,a.easing,function(){B&&n.call(o,o.panels,d,C,y,A);o.anim=r;i()})).run()}function v(a,b,i,d,f){var o=this.config.steps;b=this.length;var w=i?b-1:0,x=(w+1)*o;for(o=w*o;o<x;o++){j.css(a[o],
k,g);j.css(a[o],d,(i?-1:1)*f*b)}return i?f:-f*b}function n(a,b,i,d,f){var o=this.config.steps;b=this.length;var w=i?b-1:0,x=(w+1)*o;for(o=w*o;o<x;o++){j.css(a[o],k,h);j.css(a[o],d,h)}j.css(this.content,d,i?-f*(b-1):h)}var j=c.DOM,k="position",g="relative",u="left",l="top",h="",e="px",m="forward",p="backward",s="scrollx",q=c.Switchable;c.mix(q.Config,{circular:false});q.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===s||a.effect==="scrolly")){a.scrollType=a.effect;
a.effect=t}}})},{host:"switchable"});
KISSY.add("lazyload",function(c){var r=c.DOM,t="beforeSwitch",v="img-src",n="area-data",j={},k=c.Switchable;j[v]="data-ks-lazyload-custom";j[n]="ks-datalazyload-custom";c.mix(k.Config,{lazyDataType:n});k.Plugins.push({name:"lazyload",init:function(g){function u(s){var q=e.steps;s=s.toIndex*q;h.loadCustomLazyData(g.panels.slice(s,s+q),m);l()&&g.detach(t,u)}function l(){var s,q,a,b=m===v;if(s=b?"img":m===n?"textarea":""){s=c.query(s,g.container);q=0;for(a=s.length;q<a;q++)if(b?r.attr(s[q],p):r.hasClass(s[q],
p))return false}return true}var h=c.DataLazyload,e=g.config,m=e.lazyDataType,p=j[m];!h||!m||!p||g.on(t,u)}})},{host:"switchable"});KISSY.add("autorender",function(c){c.Switchable.autoRender=function(r,t){r="."+(r||"KS_Widget");c.query(r,t).each(function(v){var n=v.getAttribute("data-widget-type"),j;if(n&&"Switchable Tabs Slide Carousel Accordion".indexOf(n)>-1)try{if(j=v.getAttribute("data-widget-config"))j=j.replace(/'/g,'"');new c[n](v,c.JSON.parse(j))}catch(k){}})}},{host:"switchable"});
KISSY.add("tabs",function(c){function r(t,v){if(!(this instanceof r))return new r(t,v);r.superclass.constructor.call(this,t,v)}c.extend(r,c.Switchable);c.Tabs=r},{host:"switchable"});KISSY.add("slide",function(c){function r(v,n){if(!(this instanceof r))return new r(v,n);r.superclass.constructor.call(this,v,c.merge(t,n))}var t={autoplay:true,circular:true};c.extend(r,c.Switchable);c.Slide=r},{host:"switchable"});
KISSY.add("carousel",function(c,r){function t(h,e){var m=this;if(!(m instanceof t))return new t(h,e);m.on("init",function(){v(m)});t.superclass.constructor.call(m,h,c.merge(l,e))}function v(h){var e=h.config,m=e.disableBtnCls;c.each(["prev","next"],function(p){var s=h[p+"Btn"]=c.get(k+e[p+"BtnCls"],h.container);j.on(s,"click",function(q){q.preventDefault();n.hasClass(s,m)||h[p]()})});e.circular||h.on("switch",function(p){p=p.currentIndex;p=p===0?h[g]:p===h.length-1?h[u]:r;n.removeClass([h[g],h[u]],
m);p&&n.addClass(p,m)});j.on(h.panels,"click focus",function(){h.fire("itemSelected",{item:this})})}var n=c.DOM,j=c.Event,k=".",g="prevBtn",u="nextBtn",l={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(t,c.Switchable);c.Carousel=t},{host:"switchable"});
KISSY.add("accordion",function(c){function r(n,j){if(!(this instanceof r))return new r(n,j);r.superclass.constructor.call(this,n,c.merge(v,j));if(this.config.multiple)this._switchTrigger=function(){}}var t=c.DOM,v={markupType:1,triggerType:"click",multiple:false};c.extend(r,c.Switchable);c.Accordion=r;c.augment(r,{_triggerIsValid:function(n){return this.activeIndex!==n||this.config.multiple},_switchView:function(n,j,k){var g=this.config,u=j[0];if(g.multiple){t.toggleClass(this.triggers[k],g.activeTriggerCls);
t.css(u,"display",u.style.display=="none"?"block":"none");this._fireOnSwitch(k)}else r.superclass._switchView.call(this,n,j,k)}})},{host:"switchable"});
KISSY.add("suggest",function(c,r){function t(d,f,o){if(!(this instanceof t))return new t(d,f,o);this.textInput=c.get(d);f+=f.indexOf("?")===-1?"?":"&";this.dataSource=f+"code=utf-8&callback="+p;this.config=c.merge(i,o);this.queryParams=this.query=s;this._dataCache={};this._init()}function v(d){d.style.visibility=s}function n(d){d.style.visibility=q}function j(d,f){if(f.nodeType===1){k.html(d,s);d.appendChild(f)}else k.html(d,f)}var k=c.DOM,g=c.Event,u=window,l=document,h,e=c.get("head"),m=c.UA.ie,
p="g_ks_suggest_callback",s="",q="hidden",a=parseInt,b=/^(input|button|a)$/i,i={containerCls:s,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:m===6,submitOnSelect:true};c.augment(t,c.EventTarget,{_init:function(){h=l.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var d=this,f=d.textInput,o=false,w=0;k.attr(f,"autocomplete","off");d.config.autoFocus&&f.focus();g.on(f,"keydown",function(x){x=
x.keyCode;if(x===27){d.hide();f.value=d.query}else if(x>32&&x<41)if(f.value){if(x===40||x===38)if(w++===0){d._isRunning&&d.stop();o=true;d._selectItem(x===40)}else if(w==3)w=0}else f.blur();else if(x===13){f.blur();if(o)if(f.value==d._getSelectedItemKey())if(d.fire("itemSelect")===false)return;d._submitForm()}else{d._isRunning||d.start();o=false}});g.on(f,"keyup",function(){w=0});g.on(f,"blur",function(){d.stop();c.later(function(){d._focusing||d.hide()},0)})},_initContainer:function(){var d=k.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),f=k.create("<div>",{"class":"ks-suggest-content"}),o=k.create("<div>",{"class":"ks-suggest-footer"});d.appendChild(f);d.appendChild(o);h.insertBefore(d,h.firstChild);this.container=d;this.content=f;this.footer=o;this._initContainerEvent()},_setContainerRegion:function(){var d=this.textInput,f=k.offset(d),o=this.container;k.offset(o,{left:f.left,top:f.top+d.offsetHeight-1});k.width(o,this.config.containerWidth||
d.offsetWidth-2)},_initContainerEvent:function(){var d=this,f=d.textInput,o=d.container,w=d.content,x=d.footer,y,A;g.on(w,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=k.parent(z,"li");if(k.contains(w,z))if(z!==d.selectedItem){d._removeSelectedItem();d._setSelectedItem(z)}});g.on(w,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=k.parent(z,"li");y=z});g.on(o,"mousedown",function(z){if(!b.test(z.target.nodeName)){f.onbeforedeactivate=function(){u.event.returnValue=false;f.onbeforedeactivate=
null};z.preventDefault()}});g.on(w,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=k.parent(B,"li");if(B==y)if(k.contains(w,B)){d._updateInputFromSelectItem(B);if(d.fire("itemSelect")!==false){f.blur();d._submitForm()}}}});g.on(x,"focusin",function(){d._focusing=true;d._removeSelectedItem();A=false});g.on(x,"focusout",function(){d._focusing=false;c.later(function(){if(A)d.hide();else d._focusing||d.textInput.focus()},0)});g.on(d.container,"mouseleave",function(){A=true});
g.on(x,"click",function(z){k.hasClass(z.target,"ks-suggest-closebtn")&&d.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var d=this.textInput.form;if(d)if(this.fire("beforeSubmit",{form:d})!==false){if(l.createEvent){var f=l.createEvent("MouseEvents");f.initEvent("submit",true,false);d.dispatchEvent(f)}else l.createEventObject&&d.fireEvent("onsubmit");d.submit()}}},_initShim:function(){var d=k.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=d;h.insertBefore(d,h.firstChild)},_setShimRegion:function(){var d=this.container,f=d.style,o=d.shim;o&&k.css(o,{left:a(f.left)-2,top:f.top,width:a(f.width)+2,height:k.height(d)-2})},_initStyle:function(){c.get("#ks-suggest-style")||k.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var d=this;g.on(u,"resize",function(){d._setContainerRegion();d._setShimRegion()})},start:function(){var d=this;if(d.fire("beforeStart")!==false){t.focusInstance=d;d._timer=c.later(function(){d._updateContent();d._timer=c.later(arguments.callee,200)},200);d._isRunning=true}},stop:function(){t.focusInstance=r;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var d=this.container,f=d.shim;this._setContainerRegion();
v(d);if(f){this._setShimRegion();v(f)}}},hide:function(){if(this.isVisible()){var d=this.container,f=d.shim;f&&n(f);n(d)}},isVisible:function(){return this.container.style.visibility!=q},_updateContent:function(){var d=this.textInput;if(d.value!=this.query){d=this.query=d.value;if(c.trim(d))if(this._dataCache[d]!==r){this._fillContainer(this._dataCache[d]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var d=this,f;if(!m)d.dataScript=
r;if(!d.dataScript){f=l.createElement("script");f.charset="utf-8";f.async=true;e.insertBefore(f,e.firstChild);d.dataScript=f;if(!m){var o=c.now();d._latestScriptTime=o;k.attr(f,"data-time",o);g.on(f,"load",function(){d._scriptDataIsOut=k.attr(f,"data-time")!=d._latestScriptTime})}}d.queryParams="q="+encodeURIComponent(d.query);if(d.fire("beforeDataRequest")!==false)d.dataScript.src=d.dataSource+"&"+d.queryParams},_handleResponse:function(d){var f=s,o,w,x,y;if(!this._scriptDataIsOut){this.returnedData=
d;if(this.fire("dataReturn",{data:d})!==false){d=this._formatData(this.returnedData);if((o=d.length)>0){w=k.create("<ol>");for(f=0;f<o;++f){x=d[f];x=this._formatItem(y=x.key,x.result);k.attr(x,"key",y);k.addClass(x,f%2?"ks-even":"ks-odd");w.appendChild(x)}f=w}this._fillContainer(f);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=k.html(this.content);this._displayContainer()}}}},_formatData:function(d){var f=[],o,w,x,y=0;if(!d)return f;if(c.isArray(d.result))d=d.result;if(!(o=d.length))return f;
for(x=0;x<o;++x){w=d[x];if(c.isString(w))f[y++]={key:w};else if(c.isArray(w)&&w.length>1)f[y++]={key:w[0],result:w[1]}}return f},_formatItem:function(d,f){var o=k.create("<li>"),w=k.create("<span>",{"class":"ks-suggest-key"});k.html(w,d);o.appendChild(w);if(f){d=this.config.resultFormat.replace("%result%",f);if(c.trim(d)){f=k.create("<span>",{"class":"ks-suggest-result"});k.html(f,d);o.appendChild(f)}}return o},_fillContainer:function(d,f){this._fillContent(d||s);this._fillFooter(f||s)},_fillContent:function(d){j(this.content,
d);this.selectedItem=r},_fillFooter:function(d){var f=this.config,o=this.footer;j(o,d);if(f.closeBtn){d=k.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});k.html(d,f.closeBtnText);o.appendChild(d)}this.fire("updateFooter",{footer:o,query:this.query});k.css(o,"display",k.text(o)?s:"none")},_displayContainer:function(){c.trim(k.text(this.container))?this.show():this.hide()},_selectItem:function(d){var f=c.query("li",this.container);if(f.length!==0)if(this.isVisible()){if(this.selectedItem){d=
k[d?"next":"prev"](this.selectedItem);if(!d)this.textInput.value=this.query}else d=f[d?0:f.length-1];this._removeSelectedItem();if(d){this._setSelectedItem(d);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){k.removeClass(this.selectedItem,"ks-selected");this.selectedItem=r},_setSelectedItem:function(d){k.addClass(d,"ks-selected");this.selectedItem=d;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return s;return k.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});u[p]=function(d){t.focusInstance&&c.later(function(){t.focusInstance._handleResponse(d)},0)};t.version=1.1;c.Suggest=t},{requires:["core"]});
KISSY.add("mask",function(c,r){function t(e){if(!(this instanceof t))return new t(e);e=c.merge(h,e);var m=e.shim,p=m?l:u+e.style,s=m?0:e.opacity,q=v("<iframe>",p,s,!m);if(!m&&k)this.layer=v("<div>",p,s,true);this.config=e;this.iframe=q}function v(e,m,p,s){e=j.create(e);j.attr(e,"style",m);j.css(e,"opacity",p);if(s){j.height(e,j.docHeight());g&&j.width(e,j.docWidth())}document.body.appendChild(e);return e}function n(e,m,p){if(e){j.width(e,m);j.height(e,p)}}var j=c.DOM,k=c.UA.ie,g=k===6,u="position:absolute;left:0;top:0;width:100%;border:0;background:black;z-index:9998;display:none;",
l="position:absolute;z-index:9997;border:0;display:none;",h={shim:false,opacity:0.6,style:""};c.augment(t,{show:function(){j.show([this.iframe,this.layer])},hide:function(){j.hide([this.iframe,this.layer])},toggle:function(){this[j.css(this.iframe,"display")!=="none"?"hide":"show"]()},setSize:function(e,m){n(this.iframe,e,m);n(this.layer,e,m)},setOffset:function(e,m){var p=e;if(m!==r)p={left:e,top:m};j.offset([this.iframe,this.layer],p)}});c.Mask=t});
KISSY.add("overlay",function(c,r){function t(l,h){h=h||{};if(c.isPlainObject(l))h=l;else h.container=l;this.container=c.get(h.container);this.trigger=c.get(h.trigger);h.align=c.merge(c.clone(g.align),h.align);this.config=c.merge(g,h);this._init()}var v=document,n=c.DOM,j=c.Event,k={TL:"tl",TC:"tc",TR:"tr",LC:"cl",CC:"cc",RC:"cr",BL:"bl",BC:"bc",BR:"br"},g={container:null,containerCls:"ks-overlay",bdCls:"ks-overlay-bd",trigger:null,triggerType:"click",width:0,height:0,zIndex:9999,xy:null,align:{node:null,
points:[k.CC,k.CC],offset:[0,0]},mask:false,shim:c.UA.ie===6},u;c.augment(t,c.EventTarget,{_init:function(){this.trigger&&this._bindTrigger()},_bindTrigger:function(){this.config.triggerType==="mouse"?this._bindTriggerMouse():this._bindTriggerClick()},_bindTriggerMouse:function(){var l=this,h=l.trigger,e;j.on(h,"mouseenter",function(){l._clearHiddenTimer();e=c.later(function(){l.show();e=r},100)});j.on(h,"mouseleave",function(){if(e){e.cancel();e=r}l._setHiddenTimer()})},_bindContainerMouse:function(){var l=
this;j.on(l.container,"mouseleave",function(){l._setHiddenTimer()});j.on(l.container,"mouseenter",function(){l._clearHiddenTimer()})},_setHiddenTimer:function(){var l=this;l._hiddenTimer=c.later(function(){l.hide()},120)},_clearHiddenTimer:function(){if(this._hiddenTimer){this._hiddenTimer.cancel();this._hiddenTimer=r}},_bindTriggerClick:function(){var l=this;j.on(l.trigger,"click",function(h){h.halt();l.show()})},show:function(){this._firstShow()},_firstShow:function(){this._prepareMarkup();this._realShow();
this._firstShow=this._realShow},_realShow:function(){this._toggle(false);this._setPosition()},_toggle:function(l){l||n.css(this.container,"display","block");n.css(this.container,"visibility",l?"hidden":"");this.shim&&this.shim.toggle();if(this.config.mask)u[l?"hide":"show"]();this[l?"_unbindUI":"_bindUI"]();this.fire(l?"hide":"show")},hide:function(){this._toggle(true)},_prepareMarkup:function(){var l=this.config,h=this.container;if(l.mask&&!u)u=new c.Mask;if(l.shim)this.shim=new c.Mask({shim:true});
if(h){this.body=c.get("."+l.bdCls,h)||h;h.style.cssText+="visibility:hidden;position:absolute;"}else{h=this.container=n.create(c.substitute('<div class="{containerCls}" style="visibility:hidden;position:absolute;"><div class="{bdCls}">{content}</div></div>',l));this.body=n.children(h)[0];v.body.appendChild(h)}n.css(h,"zIndex",l.zIndex);this.setBody(l.content);this._setSize();l.triggerType==="mouse"&&this._bindContainerMouse()},_setSize:function(l,h){var e=this.config;l=l||e.width;h=h||e.height;l&&
n.width(this.container,l);h&&n.height(this.container,h);this.shim&&this.shim.setSize(l,h)},_setPosition:function(){var l=this.config.xy;l?this.move(l):this.align()},move:function(l,h){if(c.isArray(l)){h=l[1];l=l[0]}l={left:l,top:h};n.offset(this.container,l);this.shim&&this.shim.setOffset(l)},align:function(l,h,e){var m=this.config.align;l=l||m.node;l=l==="trigger"?this.trigger:c.get(l);h=h||m.points;e=e===r?m.offset:e;m=n.offset(this.container);l=this._getAlignOffset(l,h[0]);h=this._getAlignOffset(this.container,
h[1]);h=[h.left-l.left,h.top-l.top];this.move(m.left-h[0]+ +e[0],m.top-h[1]+ +e[1])},_getAlignOffset:function(l,h){var e=h.charAt(0);h=h.charAt(1);var m,p,s;if(l){m=n.offset(l);p=l.offsetWidth;l=l.offsetHeight}else{m={left:n.scrollLeft(),top:n.scrollTop()};p=n.viewportWidth();l=n.viewportHeight()}s=m.left;m=m.top;if(e==="c")m+=l/2;else if(e==="b")m+=l;if(h==="c")s+=p/2;else if(h==="r")s+=p;return{left:s,top:m}},center:function(){this.move((n.viewportWidth()-n.width(this.container))/2+n.scrollLeft(),
(n.viewportHeight()-n.height(this.container))/2+n.scrollTop())},_bindUI:function(){j.on(v,"keydown",this._esc,this)},_unbindUI:function(){j.remove(v,"keydown",this._esc,this)},_esc:function(l){l.keyCode===27&&this.hide()},setBody:function(l){this._setContent("body",l)},_setContent:function(l,h){c.isString(h)&&n.html(this[l],h)}});c.Overlay=t});
KISSY.add("popup",function(c){function r(v,n){if(!(this instanceof r))return new r(v,n);n=n||{};if(c.isPlainObject(v))n=v;else n.container=v;n.align=c.merge(c.clone(t.align),n.align);r.superclass.constructor.call(this,c.merge(t,n))}var t={triggerType:"mouse",align:{node:"trigger",points:["cr","ct"],offset:[10,0]}};c.extend(r,c.Overlay);c.Popup=r},{host:"overlay"});
KISSY.add("dialog",function(c){function r(j,k){if(!(this instanceof r))return new r(j,k);k=k||{};if(c.isPlainObject(j))k=j;else k.container=j;k.align=c.merge(c.clone(n.align),k.align);r.superclass.constructor.call(this,c.merge(n,k));this.manager=c.DialogManager;this.manager.register(this)}var t=c.DOM,v=c.Event,n={header:"",footer:"",containerCls:"ks-overlay ks-dialog",hdCls:"ks-dialog-hd",bdCls:"ks-dialog-bd",ftCls:"ks-dialog-ft",closeBtnCls:"ks-dialog-close",width:400,height:300,closable:true};c.extend(r,
c.Overlay);c.Dialog=r;c.augment(r,c.EventTarget,{_prepareMarkup:function(){var j=this.config;r.superclass._prepareMarkup.call(this);this.header=c.get("."+j.hdCls,this.container);if(!this.header){this.header=t.create("<div>",{"class":j.hdCls});t.insertBefore(this.header,this.body)}this.setHeader(j.header);if(j.footer){this.footer=c.get("."+j.ftCls,this.container);if(!this.footer){this.footer=t.create("<div>",{"class":j.ftCls});this.container.appendChild(this.footer)}this.setFooter(j.footer)}j.closable&&
this._initClose()},_initClose:function(){var j=this,k=t.create("<div>",{"class":j.config.closeBtnCls});t.html(k,"close");v.on(k,"click",function(g){g.halt();j.hide()});j.header.appendChild(k)},setHeader:function(j){this._setContent("header",j)},setFooter:function(j){this._setContent("footer",j)}});c.DialogManager={register:function(j){j instanceof r&&this._dialog.push(j)},_dialog:[],hideAll:function(){c.each(this._dialog,function(j){j&&j.hide()})}}},{host:"overlay"});
KISSY.add("imagezoom",function(c,r){function t(p,s){var q=this,a;if(!(q instanceof t))return new t(p,s);if(q.image=p=c.get(p)){q.config=s=c.merge(m,s);if(!s.bigImageSrc)if((a=g.attr(p,"data-ks-imagezoom"))&&h.test(a))s.bigImageSrc=a;s.offset=c.makeArray(s.offset);if(s.preload)(new Image).src=s.bigImageSrc;v(p,function(){q._init()})}}function v(p,s){p.complete?s():u.on(p,"load",s)}function n(p){return{width:p.clientWidth,height:p.clientHeight}}function j(p){return g.create(l,{"class":p,style:"position:absolute"})}
var k=document,g=c.DOM,u=c.Event,l="<div>",h=/^.+\.(jpg|png|gif)$/i,e=Math.round,m={type:"standard",bigImageSrc:"",bigImageSize:[900,900],offset:10,preload:true,timeout:120,timeoutMsg:"\u56fe\u7247\u6682\u4e0d\u53ef\u7528",lensSize:[200,200],lensIcon:true};c.augment(t,c.EventTarget,{_init:function(){this._renderUI();this._bindUI()},_renderUI:function(){var p=this.config,s=this.image;this.imgRegion=c.merge(g.offset(s),n(s));this._renderLens();p.lensIcon&&this._renderIcon()},_renderLens:function(){var p=
this.config,s=j("ks-imagezoom-lens");g.width(s,p.lensSize[0]);g.height(s,p.lensSize[1]);g.hide(s);k.body.appendChild(s);this.lens=s},_renderIcon:function(){var p=this.imgRegion,s=j("ks-imagezoom-icon");k.body.appendChild(s);g.offset(s,{left:p.left+p.width-g.width(s),top:p.top+p.height-g.height(s)});this.lensIcon=s},_bindUI:function(){var p=this,s;u.on(p.image,"mouseenter",function(){s=c.later(function(){p.viewer||p._createViewer();p.show()},100)});u.on(p.image,"mouseleave",function(){if(s){s.cancel();
s=r}})},_createViewer:function(){var p=this,s=p.config,q,a,b;q=j("ks-imagezoom-viewer");a=g.create("<img>",{src:s.bigImageSrc});q.appendChild(a);k.body.appendChild(q);p.bigImage=a;p.viewer=q;if(!a.complete){b=c.later(function(){a.complete||p._showTimeoutMsg();b=r},s.timeout*1E3);v(a,function(){if(b){b.cancel();b=r}p._setViewerRegion()})}p._setViewerRegion()},_setViewerRegion:function(){var p=this.config,s=this.viewer,q=this.imgRegion,a=p.lensSize,b,i,d,f=this.bigImage,o;o=f?{width:p.bigImageSize[0],
height:p.bigImageSize[1]}:n(f);d=e(o.height*a[1]/q.height);a=e(o.width*a[0]/q.width);if(f){b=q.left+q.width+(p.offset[0]||0);i=q.top+(p.offset[1]||0)}if(a){g.width(s,a);g.height(s,d)}b!==r&&g.offset(s,{left:b,top:i})},_onMouseMove:function(p){var s=this.viewer,q=this.lens,a=this.imgRegion,b=a.left,i=a.top,d=a.width;a=a.height;var f=this.config.lensSize,o=f[0],w=f[1];if(p.pageX>b&&p.pageX<b+d&&p.pageY>i&&p.pageY<i+a){f=p.pageX-o/2;p=p.pageY-w/2;if(f<=b)f=b;else if(f>=d+b-o)f=d+b-o;if(p<=i)p=i;else if(p>=
a+i-w)p=a+i-w;q&&g.offset(q,{left:f,top:p});q=n(this.bigImage);s.scrollLeft=e((f-b)*q.width/d);s.scrollTop=e((p-i)*q.height/a)}else this.hide()},_showTimeoutMsg:function(){var p=this.config,s=this.viewer,q=c.get("p",s);if(!q){q=g.create("<p>");s.appendChild(q)}g.html(q,p.timeoutMsg)},show:function(){g.show([this.lens,this.viewer]);g.hide(this.lensIcon);u.on(k.body,"mousemove",this._onMouseMove,this)},hide:function(){g.hide([this.lens,this.viewer]);g.show(this.lensIcon);u.remove(k.body,"mousemove",
this._onMouseMove,this)}});c.ImageZoom=t});
