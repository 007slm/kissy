/*
Copyright 2010, KISSY UI Library v1.1.3
MIT Licensed
build time: Sep 13 10:16
*/
(function(c,q,t){if(c[q]===t)c[q]={};q=c[q];var r=c.document,l=location,o=function(f,n,w,x){if(!n||!f)return f;if(w===t)w=true;var m,a,b;if(x&&(b=x.length))for(m=0;m<b;m++){a=x[m];if(a in n)if(w||!(a in f))f[a]=n[a]}else for(a in n)if(w||!(a in f))f[a]=n[a];return f},j=false,h=[],s=false,k=/^#?([\w-]+)$/,g=0;o(q,{version:"1.1.3",__init:function(){this.Env={mods:{},_loadQueue:{}};var f=r.getElementsByTagName("script");this.Config={debug:"",base:f[f.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(f){s||this._bindReady();j?f.call(c,this):h.push(f);return this},_bindReady:function(){var f=this,n=r.documentElement.doScroll,w=n?"onreadystatechange":"DOMContentLoaded",x=function(){f._fireReady()};s=true;if(r.readyState==="complete")return x();if(r.addEventListener){var m=function(){r.removeEventListener(w,m,false);x()};r.addEventListener(w,m,false);c.addEventListener("load",x,false)}else{var a=function(){if(r.readyState==="complete"){r.detachEvent(w,a);x()}};r.attachEvent(w,
a);c.attachEvent("onload",x);if(c==c.top){var b=function(){try{n("left");x()}catch(i){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!j){j=true;if(h){for(var f,n=0;f=h[n++];)f.call(c,this);h=null}}},available:function(f,n){if((f=(f+"").match(k)[1])&&q.isFunction(n))var w=1,x=q.later(function(){if(r.getElementById(f)&&(n()||1)||++w>500)x.cancel()},40,true)},mix:o,merge:function(){var f={},n,w=arguments.length;for(n=0;n<w;++n)o(f,arguments[n]);return f},augment:function(){var f=arguments,n=f.length-
2,w=f[0],x=f[n],m=f[n+1],a=1;if(!q.isArray(m)){x=m;m=t;n++}if(!q.isBoolean(x)){x=t;n++}for(;a<n;a++)o(w.prototype,f[a].prototype||f[a],x,m);return w},extend:function(f,n,w,x){if(!n||!f)return f;var m=Object.prototype,a=n.prototype,b=function(i){function d(){}d.prototype=i;return new d}(a);f.prototype=b;b.constructor=f;f.superclass=a;if(n!==Object&&a.constructor===m.constructor)a.constructor=n;w&&o(b,w);x&&o(f,x);return f},namespace:function(){var f=arguments.length,n=null,w,x,m;for(w=0;w<f;++w){m=
(""+arguments[w]).split(".");n=this;for(x=c[m[0]]===n?1:0;x<m.length;++x)n=n[m[x]]=n[m[x]]||{}}return n},app:function(f,n){var w=q.isString(f),x=w?c[f]||{}:f;o(x,this,true,q.__APP_MEMBERS);x.__init();o(x,q.isFunction(n)?n():n);w&&(c[f]=x);return x},log:function(f,n,w){if(q.Config.debug){if(w)f=w+": "+f;if(c.console!==t&&console.log)console[n&&console[n]?n:"log"](f)}},error:function(f){if(q.Config.debug)throw f;},guid:function(f){var n=g++ +"";return f?f+n:n}});q.__init();q.__APP_MEMBERS=["__init",
"namespace"];if(l&&(l.search||"").indexOf("ks-debug")!==-1)q.Config.debug=true})(window,"KISSY");
(function(c,q,t){function r(e){var p=typeof e;return e===null||p!=="object"&&p!=="function"}function l(e){return h.slice.call(e)}var o=document,j=o.documentElement,h=Array.prototype,s=h.indexOf,k=h.lastIndexOf,g=h.filter,f=String.prototype.trim,n=Object.prototype.toString,w=encodeURIComponent,x=decodeURIComponent,m=w("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,i=/\S/;q.mix(q,{isUndefined:function(e){return e===t},isBoolean:function(e){return n.call(e)==="[object Boolean]"},isString:function(e){return n.call(e)===
"[object String]"},isNumber:function(e){return n.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&n.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var p in e)return false;return true},isFunction:function(e){return n.call(e)==="[object Function]"},isArray:function(e){return n.call(e)==="[object Array]"},trim:f?function(e){return e==t?"":f.call(e)}:function(e){return e==t?"":e.toString().replace(a,"")},substitute:function(e,p,u){if(!q.isString(e)||
!q.isPlainObject(p))return e;return e.replace(u||/\\?\{([^{}]+)\}/g,function(v,A){if(v.charAt(0)==="\\")return v.slice(1);return p[A]!==t?p[A]:""})},each:function(e,p,u){var v,A=0,y=e.length,z=y===t||q.isFunction(e);u=u||c;if(z)for(v in e){if(p.call(u,e[v],v,e)===false)break}else for(v=e[0];A<y&&p.call(u,v,A,e)!==false;v=e[++A]);return e},indexOf:s?function(e,p){return s.call(p,e)}:function(e,p){for(var u=0,v=p.length;u<v;++u)if(p[u]===e)return u;return-1},lastIndexOf:k?function(e,p){return k.call(p,
e)}:function(e,p){for(var u=p.length-1;u>=0;u--)if(p[u]===e)break;return u},unique:function(e,p){p&&e.reverse();e=e.slice();for(var u=0,v,A;u<e.length;){for(A=e[u];(v=q.lastIndexOf(A,e))!==u;)e.splice(v,1);u+=1}p&&e.reverse();return e},inArray:function(e,p){return q.indexOf(e,p)>-1},makeArray:function(e){if(e===null||e===t)return[];if(q.isArray(e))return e;if(typeof e.length!=="number"||q.isString(e)||q.isFunction(e))return[e];return l(e)},filter:g?function(e,p,u){return g.call(e,p,u)}:function(e,
p,u){var v=[];q.each(e,function(A,y,z){p.call(u,A,y,z)&&v.push(A)});return v},param:function(e,p){if(!q.isPlainObject(e))return"";p=p||"&";var u=[],v,A;for(v in e){A=e[v];v=w(v);if(r(A))u.push(v,"=",w(A+""),p);else if(q.isArray(A)&&A.length)for(var y=0,z=A.length;y<z;++y)r(A[y])&&u.push(v,m+"=",w(A[y]+""),p)}u.pop();return u.join("")},unparam:function(e,p){if(typeof e!=="string"||(e=q.trim(e)).length===0)return{};var u={};e=e.split(p||"&");for(var v,A,y,z=0,B=e.length;z<B;++z){p=e[z].split("=");v=
x(p[0]);try{A=x(p[1]||"")}catch(C){A=p[1]||""}if((y=v.match(b))&&y[1]){u[y[1]]=u[y[1]]||[];u[y[1]].push(A)}else u[v]=A}return u},later:function(e,p,u,v,A){p=p||0;v=v||{};var y=e,z=q.makeArray(A),B;if(q.isString(e))y=v[e];y||q.error("method undefined");e=function(){y.apply(v,z)};B=u?setInterval(e,p):setTimeout(e,p);return{id:B,interval:u,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var p=e,u,v;if(e&&((u=q.isArray(e))||q.isPlainObject(e))){p=u?[]:{};for(v in e)if(e.hasOwnProperty(v))p[v]=
q.clone(e[v])}return p},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&i.test(e)){var p=o.getElementsByTagName("head")[0]||j,u=o.createElement("script");u.text=e;p.insertBefore(u,p.firstChild);p.removeChild(u)}}});try{l(j.childNodes)}catch(d){l=function(e){for(var p=[],u=e.length-1;u>=0;u--)p[u]=e[u];return p}}})(window,KISSY);
(function(c,q,t){var r=c.document,l=r.getElementsByTagName("head")[0]||r.documentElement,o=2,j=3,h=4,s=q.mix,k=r.createElement("script").readyState?function(f,n){var w=f.onreadystatechange;f.onreadystatechange=function(){var x=f.readyState;if(x==="loaded"||x==="complete"){f.onreadystatechange=null;w&&w();n.call(this)}}}:function(f,n){f.addEventListener("load",n,false)},g=/\.css(?:\?|$)/i;c={add:function(f,n,w){var x=this.Env.mods,m;if(q.isString(f)&&!w&&q.isPlainObject(n)){m={};m[f]=n;f=m}if(q.isPlainObject(f)){q.each(f,
function(a,b){a.name=b;x[b]&&s(a,x[b],false)});s(x,f)}else{w=w||{};m=x[f]||{};f=w.host||m.host||f;m=x[f]||{};s(m,{name:f,status:o});if(!m.fns)m.fns=[];n&&m.fns.push(n);s(x[f]=m,w);m.attach!==false&&this.__isAttached(m.requires)&&this.__attachMod(m)}return this},use:function(f,n,w){f=f.replace(/\s+/g,"").split(",");w=w||{};var x=this,m=x.Env.mods,a=(w||0).global,b,i=f.length,d,e,p;a&&x.__mixMods(a);if(x.__isAttached(f))n&&n(x);else{for(b=0;b<i&&(d=m[f[b]]);b++)if(d.status!==h){if(w.order&&b>0){if(!d.requires)d.requires=
[];d._requires=d.requires.concat();e=f[b-1];if(!q.inArray(e,d.requires)&&!q.inArray(d.name,m[e].requires||[]))d.requires.push(e)}x.__attach(d,function(){if(!p&&x.__isAttached(f)){p=true;if(d._requires)d.requires=d._requires;n&&n(x)}},a)}return x}},__attach:function(f,n,w){function x(){if(m.__isAttached(a)){f.status===o&&m.__attachMod(f);f.status===h&&n()}}for(var m=this,a=f.requires||[],b=0,i=a.length;b<i;b++)m.__attach(m.Env.mods[a[b]],x,w);m.__buildPath(f);m.__load(f,x,w)},__mixMods:function(f){var n=
this.Env.mods,w=f.Env.mods,x;for(x in w)this.__mixMod(n,w,x,f)},__mixMod:function(f,n,w,x){var m=f[w]||{},a=m.status;q.mix(m,q.clone(n[w]));if(a)m.status=a;x&&this.__buildPath(m,x.Config.base);f[w]=m},__attachMod:function(f){var n=this;if(f.fns){q.each(f.fns,function(w){w&&w(n)});f.fns=t}f.status=h},__isAttached:function(f){for(var n=this.Env.mods,w,x=(f=q.makeArray(f)).length-1;x>=0&&(w=n[f[x]]);x--)if(w.status!==h)return false;return true},__load:function(f,n,w){function x(){m();if(f.status!==j){w&&
a.__mixMod(a.Env.mods,w.Env.mods,f.name,w);if(f.status!==h)f.status=o;n()}}function m(){i[b]=o}var a=this,b=f.fullpath,i=q.Env._loadQueue,d=i[b];f.status=f.status||0;if(f.status<1&&d)f.status=d.nodeName?1:o;if(q.isString(f.cssfullpath)){a.getScript(f.cssfullpath);f.cssfullpath=o}if(f.status<1&&b){f.status=1;d=a.getScript(b,{success:function(){KISSY.log(f.name+" is loaded.","info");x()},error:function(){f.status=j;m()},charset:f.charset});g.test(b)||(i[b]=d)}else f.status===1?k(d,x):n()},__buildPath:function(f,
n){function w(m,a){if(!f[a]&&f[m])f[a]=(n||x.base)+f[m];if(f[a]&&x.debug)f[a]=f[a].replace(/-min/g,"")}var x=this.Config;w("path","fullpath");f.cssfullpath!==o&&w("csspath","cssfullpath")},getScript:function(f,n,w){var x=g.test(f),m=r.createElement(x?"link":"script"),a=n,b,i,d;if(q.isPlainObject(a)){n=a.success;b=a.error;i=a.timeout;w=a.charset}if(x){m.href=f;m.rel="stylesheet"}else{m.src=f;m.async=true}if(w)m.charset=w;if(q.isFunction(n))x?n.call(m):k(m,function(){if(d){d.cancel();d=t}n.call(m)});
if(q.isFunction(b))d=q.later(function(){d=t;b()},(i||this.Config.timeout)*1E3);l.insertBefore(m,l.firstChild);return m}};s(q,c);q.each(c,function(f,n){q.__APP_MEMBERS.push(n)})})(window,KISSY);(function(c){var q={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay"],function(t){q[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});c.add(q)})(KISSY);
KISSY.add("ua",function(c){var q=navigator.userAgent,t="",r="",l,o={},j=function(h){var s=0;return parseFloat(h.replace(/\./g,function(){return s++===0?".":""}))};if((l=q.match(/AppleWebKit\/([\d.]*)/))&&l[1]){o[t="webkit"]=j(l[1]);if((l=q.match(/Chrome\/([\d.]*)/))&&l[1])o[r="chrome"]=j(l[1]);else if((l=q.match(/\/([\d.]*) Safari/))&&l[1])o[r="safari"]=j(l[1]);if(/ Mobile\//.test(q))o.mobile="apple";else if(l=q.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))o.mobile=l[0].toLowerCase()}else if((l=
q.match(/Presto\/([\d.]*)/))&&l[1]){o[t="presto"]=j(l[1]);if((l=q.match(/Opera\/([\d.]*)/))&&l[1]){o[r="opera"]=j(l[1]);if((l=q.match(/Opera\/.* Version\/([\d.]*)/))&&l[1])o[r]=j(l[1]);if((l=q.match(/Opera Mini[^;]*/))&&l)o.mobile=l[0].toLowerCase();else if((l=q.match(/Opera Mobi[^;]*/))&&l)o.mobile=l[0]}}else if((l=q.match(/MSIE\s([^;]*)/))&&l[1]){o[t="trident"]=0.1;o[r="ie"]=j(l[1]);if((l=q.match(/Trident\/([\d.]*)/))&&l[1])o[t]=j(l[1])}else if(l=q.match(/Gecko/)){o[t="gecko"]=0.1;if((l=q.match(/rv:([\d.]*)/))&&
l[1])o[t]=j(l[1]);if((l=q.match(/Firefox\/([\d.]*)/))&&l[1])o[r="firefox"]=j(l[1])}o.core=t;o.shell=r;o._numberify=j;c.UA=o});
KISSY.add("ua-extra",function(c){var q=c.UA,t=navigator.userAgent,r,l,o={},j=q._numberify;if(t.match(/360SE/))o[l="se360"]=3;else if(t.match(/Maxthon/)&&(r=window.external)){l="maxthon";try{o[l]=j(r.max_version)}catch(h){o[l]=0.1}}else if(r=t.match(/TencentTraveler\s([\d.]*)/))o[l="tt"]=r[1]?j(r[1]):0.1;else if(t.match(/TheWorld/))o[l="theworld"]=3;else if(r=t.match(/SE\s([\d.]*)/))o[l="sougou"]=r[1]?j(r[1]):0.1;l&&(o.shell=l);c.mix(q,o)});
KISSY.add("dom",function(c,q){function t(r,l){return r&&r.nodeType===l}c.DOM={_isElementNode:function(r){return t(r,1)},_isKSNode:function(r){return c.Node&&t(r,c.Node.TYPE)},_getWin:function(r){return r&&"scrollTo"in r&&r.document?r:t(r,9)?r.defaultView||r.parentWindow:r===q?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(c,q){function t(a,b){var i,d=[],e,p;b=r(b);if(c.isString(a)){a=c.trim(a);if(x.test(a)){if(a=l(a.slice(1),b))d=[a]}else if(i=m.exec(a)){e=i[1];p=i[2];i=i[3];if(b=e?l(e,b):b)if(i)if(!e||a.indexOf(g)!==-1)d=j(i,p,b);else{if((a=l(e,b))&&k.hasClass(a,i))d=[a]}else if(p)d=o(p,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else h(a)}else if(a&&(a[n]||a[w]))d=a[n]?[a[n]()]:a[w]();else if(a&&(c.isArray(a)||a.item&&!a.nodeType))d=a;else if(a)d=[a];if(d.item)d=c.makeArray(d);
d.each=function(u,v){return c.each(d,u,v)};return d}function r(a){if(a===q)a=s;else if(c.isString(a)&&x.test(a))a=l(a.slice(1),s);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function l(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function o(a,b){return b.getElementsByTagName(a)}function j(a,b,i){i=a=i.getElementsByClassName(a);var d=0,e=0,p=a.length,u;if(b&&b!==f){i=[];for(b=b.toUpperCase();d<p;++d){u=a[d];if(u.tagName===b)i[e++]=u}}return i}function h(a){c.error("Unsupported selector: "+
a)}var s=document,k=c.DOM,g=" ",f="*",n="getDOMNode",w=n+"s",x=/^#[\w-]+$/,m=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=s.createElement("div");a.appendChild(s.createComment(""));if(a.getElementsByTagName(f).length>0)o=function(b,i){i=i.getElementsByTagName(b);if(b===f){b=[];for(var d=0,e=0,p;p=i[d++];)if(p.nodeType===1)b[e++]=p;i=b}return i}})();s.getElementsByClassName||(j=s.querySelectorAll?function(a,b,i){return i.querySelectorAll((b?b:"")+"."+a)}:function(a,b,i){b=i.getElementsByTagName(b||
f);i=[];var d=0,e=0,p=b.length,u,v;for(a=g+a+g;d<p;++d){u=b[d];if((v=u.className)&&(g+v+g).indexOf(a)>-1)i[e++]=u}return i});c.query=t;c.get=function(a,b){return t(a,b)[0]||null};c.mix(k,{query:t,get:c.get,filter:function(a,b){var i=t(a),d,e,p,u=[];if(c.isString(b)&&(d=m.exec(b))&&!d[1]){e=d[2];p=d[3];b=function(v){return!(e&&v.tagName!==e.toUpperCase()||p&&!k.hasClass(v,p))}}if(c.isFunction(b))u=c.filter(i,b);else if(b&&c.ExternalSelector)u=c.ExternalSelector._filter(a,b);else h(b);return u},test:function(a,
b){a=t(a);return k.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(c,q){function t(j,h,s,k){if(!(h=c.trim(h)))return k?false:q;j=c.query(j);var g=0,f=j.length;h=h.split(l);for(var n;g<f;g++){n=j[g];if(r._isElementNode(n)){n=s(n,h,h.length);if(n!==q)return n}}if(k)return false}var r=c.DOM,l=/[\.\s]\s*\.?/,o=/[\n\t]/g;c.mix(r,{hasClass:function(j,h){return t(j,h,function(s,k,g){if(s=s.className){s=" "+s+" ";for(var f=0,n=true;f<g;f++)if(s.indexOf(" "+k[f]+" ")<0){n=false;break}if(n)return true}},true)},addClass:function(j,h){t(j,h,function(s,
k,g){var f=s.className;if(f){var n=" "+f+" ";f=f;for(var w=0;w<g;w++)if(n.indexOf(" "+k[w]+" ")<0)f+=" "+k[w];s.className=c.trim(f)}else s.className=h})},removeClass:function(j,h){t(j,h,function(s,k,g){var f=s.className;if(f)if(g){f=(" "+f+" ").replace(o," ");for(var n=0,w;n<g;n++)for(w=" "+k[n]+" ";f.indexOf(w)>=0;)f=f.replace(w," ");s.className=c.trim(f)}else s.className=""})},replaceClass:function(j,h,s){r.removeClass(j,h);r.addClass(j,s)},toggleClass:function(j,h,s){var k=c.isBoolean(s),g;t(j,
h,function(f,n,w){for(var x=0,m;x<w;x++){m=n[x];g=k?!s:r.hasClass(f,m);r[g?"removeClass":"addClass"](f,m)}})}})});
KISSY.add("dom-attr",function(c,q){function t(m,a){return a&&a.nodeName.toUpperCase()===m.toUpperCase()}var r=c.UA,l=r.ie,o=l&&l<8,j=document.documentElement.textContent!==q?"textContent":"innerText",h=c.DOM,s=h._isElementNode,k=function(m){return h._nodeTypeIs(m,3)},g=/href|src|style/,f=/href|src|colspan|rowspan/,n=/\r/g,w=/radio|checkbox/,x={readonly:"readOnly"};o&&c.mix(x,{"for":"htmlFor","class":"className"});c.mix(h,{attr:function(m,a,b){if(c.isPlainObject(a))for(var i in a)h.attr(m,i,a[i]);
else if(a=c.trim(a)){a=a.toLowerCase();a=x[a]||a;if(b===q){m=c.get(m);if(!s(m))return q;var d;g.test(a)||(d=m[a]);if(d===q)d=m.getAttribute(a);if(o)if(f.test(a))d=m.getAttribute(a,2);else if(a==="style")d=m.style.cssText;return d===null?q:d}c.each(c.query(m),function(e){if(s(e))if(a==="style")e.style.cssText=b;else{if(a==="checked")e[a]=!!b;e.setAttribute(a,""+b)}})}},removeAttr:function(m,a){c.each(c.query(m),function(b){if(s(b)){h.attr(b,a,"");b.removeAttribute(a)}})},val:function(m,a){if(a===q){var b=
c.get(m);if(!s(b))return q;if(t("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(t("select",b)){var i=b.selectedIndex;m=b.options;if(i<0)return null;else if(b.type==="select-one")return h.val(m[i]);b=[];for(var d=0,e=m.length;d<e;++d)m[d].selected&&b.push(h.val(m[d]));return b}if(r.webkit&&w.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(n,"")}c.each(c.query(m),function(p){if(t("select",p)){if(c.isNumber(a))a+="";var u=c.makeArray(a),
v=p.options,A;d=0;for(e=v.length;d<e;++d){A=v[d];A.selected=c.inArray(h.val(A),u)}if(!u.length)p.selectedIndex=-1}else if(s(p))p.value=a})},text:function(m,a){if(a===q){m=c.get(m);if(s(m))return m[j]||"";else if(k(m))return m.nodeValue}else c.each(c.query(m),function(b){if(s(b))b[j]=a;else if(k(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,q){function t(a,b){var i=c.get(a),d=b===s?i.offsetWidth:i.offsetHeight;c.each(b===s?["Left","Right"]:["Top","Bottom"],function(e){d-=parseFloat(l._getComputedStyle(i,"padding"+e))||0;d-=parseFloat(l._getComputedStyle(i,"border"+e+"Width"))||0});return d}function r(a,b,i){var d=i;if(i===k&&f.test(b)){d=0;if(l.css(a,"position")==="absolute"){i=a[b==="left"?"offsetLeft":"offsetTop"];if(o.ie===8||o.opera)i-=g(l.css(a.offsetParent,"border-"+b+"-width"))||0;d=i-(g(l.css(a,
"margin-"+b))||0)}}return d}var l=c.DOM,o=c.UA,j=document,h=j.documentElement,s="width",k="auto",g=parseInt,f=/^left|top$/,n=/width|height|top|left|right|bottom|margin|padding/i,w=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},m={};c.mix(l,{_CUSTOM_STYLES:m,_getComputedStyle:function(a,b){var i="",d=a.ownerDocument;if(a.style)i=d.defaultView.getComputedStyle(a,null)[b];return i},css:function(a,b,i){if(c.isPlainObject(b))for(var d in b)l.css(a,d,b[d]);else{if(b.indexOf("-")>0)b=b.replace(w,x);
b=m[b]||b;if(i===q){a=c.get(a);d="";if(a&&a.style){d=b.get?b.get(a):a.style[b];if(d===""&&!b.get)d=r(a,b,l._getComputedStyle(a,b))}return d===q?"":d}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&n.test(b))i+="px";(b===s||b==="height")&&parseFloat(i)<0||c.each(c.query(a),function(e){if(e&&e.style){b.set?b.set(e,i):(e.style[b]=i);if(i==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(a,b){if(b===q)return t(a,s);else l.css(a,s,b)},height:function(a,b){if(b===q)return t(a,
"height");else l.css(a,"height",b)},addStyleSheet:function(a,b){var i;if(b)i=c.get("#"+b);if(!i){i=l.create("<style>",{id:b});c.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=a;else i.appendChild(j.createTextNode(a))}}});if(h.style.cssFloat!==q)m["float"]="cssFloat";else if(h.style.styleFloat!==q)m["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,q){if(c.UA.ie){var t=c.DOM;c=document;var r=c.documentElement,l=t._CUSTOM_STYLES,o=/^-?\d+(?:px)?$/i,j=/^-?\d/,h=/^width|height$/;try{if(r.style.opacity===q&&r.filters)l.opacity={get:function(k){var g=100;try{g=k.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(f){try{g=k.filters("alpha").opacity}catch(n){}}return g/100+""},set:function(k,g){var f=k.style;k=(k.currentStyle||0).filter||"";f.zoom=1;if(k)if(k=k.replace(/alpha\(opacity=.+\)/ig,""))k+=", ";
f.filter=k+"alpha(opacity="+g*100+")"}}}catch(s){}if(!(c.defaultView||{}).getComputedStyle&&r.currentStyle)t._getComputedStyle=function(k,g){var f=k.style,n=k.currentStyle[g];if(h.test(g))n=t[g](k)+"px";else if(!o.test(n)&&j.test(n)){var w=f.left,x=k.runtimeStyle.left;k.runtimeStyle.left=k.currentStyle.left;f.left=g==="fontSize"?"1em":n||0;n=f.pixelLeft+"px";f.left=w;k.runtimeStyle.left=x}return n}}});
KISSY.add("dom-offset",function(c,q){function t(u){var v=0,A=0,y=g(u[a]);if(u[p]){u=u[p]();v=u[b];A=u[i];if(o.mobile!=="apple"){v+=l[d](y);A+=l[e](y)}}return{left:v,top:A}}function r(u,v){if(l.css(u,x)==="static")u.style[x]=m;var A=t(u),y={},z,B;for(B in v){z=w(l.css(u,B),10)||0;y[B]=z+v[B]-A[B]}l.css(u,y)}var l=c.DOM,o=c.UA,j=window,h=document,s=l._isElementNode,k=l._nodeTypeIs,g=l._getWin,f=h.compatMode==="CSS1Compat",n=Math.max,w=parseInt,x="position",m="relative",a="ownerDocument",b="left",i=
"top",d="scrollLeft",e="scrollTop",p="getBoundingClientRect";c.mix(l,{offset:function(u,v){if(!(u=c.get(u))||!u[a])return null;if(v===q)return t(u);r(u,v)},scrollIntoView:function(u,v,A,y){if((u=c.get(u))&&u[a]){y=y===q?true:!!y;A=A===q?true:!!A;if(!v||v===j)return u.scrollIntoView(A);v=c.get(v);if(k(v,9))v=g(v);var z=v&&"scrollTo"in v&&v.document,B=l.offset(u),C=z?{left:l.scrollLeft(v),top:l.scrollTop(v)}:l.offset(v),D={left:B[b]-C[b],top:B[i]-C[i]};B=z?l.viewportHeight(v):v.clientHeight;C=z?l.viewportWidth(v):
v.clientWidth;var E=l[d](v),F=l[e](v),G=E+C,M=F+B,I=u.offsetHeight;u=u.offsetWidth;var H=D.left+E-(w(l.css(v,"borderLeftWidth"))||0);D=D.top+F-(w(l.css(v,"borderTopWidth"))||0);var N=H+u,J=D+I,K,L;if(I>B||D<F||A)K=D;else if(J>M)K=J-B;if(y)if(u>C||H<E||A)L=H;else if(N>G)L=N-C;if(z){if(K!==q||L!==q)v.scrollTo(L,K)}else{if(K!==q)v[e]=K;if(L!==q)v[d]=L}}}});c.each(["Left","Top"],function(u,v){var A="scroll"+u;l[A]=function(y){var z=0,B=g(y),C;if(B&&(C=B.document))z=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(s(y=c.get(y)))z=y[A];return z}});c.each(["Width","Height"],function(u){l["doc"+u]=function(v){v=v||h;return n(f?v.documentElement["scroll"+u]:v.body["scroll"+u],l["viewport"+u](v))};l["viewport"+u]=function(v){var A="inner"+u;v=g(v);var y=v.document;return A in v?v[A]:f?y.documentElement["client"+u]:y.body["client"+u]}})});
KISSY.add("dom-traversal",function(c,q){function t(j,h,s,k){if(!(j=c.get(j)))return null;if(h===q)h=1;var g=null,f,n;if(c.isNumber(h)&&h>=0){if(h===0)return j;f=0;n=h;h=function(){return++f===n}}for(;j=j[s];)if(o(j)&&(!h||l.test(j,h))&&(!k||k(j))){g=j;break}return g}function r(j,h,s){var k=[];var g=j=c.get(j);if(j&&s)g=j.parentNode;if(g){s=0;for(g=g.firstChild;g;g=g.nextSibling)if(o(g)&&g!==j&&(!h||l.test(g,h)))k[s++]=g}return k}var l=c.DOM,o=l._isElementNode;c.mix(l,{parent:function(j,h){return t(j,
h,"parentNode",function(s){return s.nodeType!=11})},next:function(j,h){return t(j,h,"nextSibling")},prev:function(j,h){return t(j,h,"previousSibling")},siblings:function(j,h){return r(j,h,true)},children:function(j,h){return r(j,h)},contains:function(j,h){var s=false;if((j=c.get(j))&&(h=c.get(h)))if(j.contains)return j.contains(h);else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(h)&16);else for(;!s&&(h=h.parentNode);)s=h==j;return s}})});
KISSY.add("dom-create",function(c,q){function t(y,z){n(y)&&c.isPlainObject(z)&&s.attr(y,z);return y}function r(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=c.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}return B}function l(y){var z=y.cloneNode(true);if(k.ie<8)z.innerHTML=y.innerHTML;return z}function o(y,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+D+'"></span>';c.available(D,function(){var F=
c.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(i):false)&&I[2]){G=h.createElement("script");G.src=I[2];if((H=M.match(d))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)c.globalEval(J);(N=h.getElementById(D))&&s.remove(N);c.isFunction(C)&&C()});j(y,z)}else{j(y,z);c.isFunction(C)&&C()}}function j(y,z){z=(z+"").replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);z&&y.appendChild(s.create(z))}}var h=
document,s=c.DOM,k=c.UA,g=k.ie,f=s._nodeTypeIs,n=s._isElementNode,w=s._isKSNode,x=h.createElement("div"),m=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,i=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;c.mix(s,{create:function(y,z,B){if(f(y,1)||f(y,3))return l(y);if(w(y))return l(y[0]);if(!(y=c.trim(y)))return null;var C=null;C=s._creators;var D,E="div",F;if(D=b.exec(y))C=(B||h).createElement(D[1]);else{if((D=m.exec(y))&&(F=D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=
F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):r(y,B||h)}return t(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):x;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===q){y=c.get(y);if(n(y))return y.innerHTML}else c.each(c.query(y),function(D){n(D)&&o(D,z,B,C)})},remove:function(y){c.each(c.query(y),function(z){n(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(k.gecko||g){var e=s._creators,p=s.create,u=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in v)(function(y){e[A]=function(z,B){return p("<"+y+">"+z+"</"+y+">",null,B)}})(v[A]);if(g){e.script=function(y,z){z=z?z.createElement("div"):x;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(g<8)e.tbody=function(y,z){z=p("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!u.test(y)&&B.parentNode.removeChild(B);return z}}c.mix(e,{optgroup:e.option,th:e.td,
thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(q,t){if((q=c.get(q))&&(t=c.get(t))&&t.parentNode)t.parentNode.insertBefore(q,t);return q},insertAfter:function(q,t){if((q=c.get(q))&&(t=c.get(t))&&t.parentNode)t.nextSibling?t.parentNode.insertBefore(q,t.nextSibling):t.parentNode.appendChild(q);return q}})});
KISSY.add("event",function(c,q){function t(m,a,b,i,d){if(c.isString(a))a=c.query(a);if(c.isArray(a)){c.each(a,function(e){x[m](e,b,i,d)});return true}if((b=c.trim(b))&&b.indexOf(f)>0){c.each(b.split(f),function(e){x[m](a,e,i,d)});return true}}function r(m){return j(m)?m[g]:-1}function l(m,a){if(!j(m))return c.error("Text or comment node is not valid event target.");try{m[g]=a}catch(b){c.error(b)}}function o(m){try{m[g]=q;delete m[g]}catch(a){}}function j(m){return m&&m.nodeType!==3&&m.nodeType!==
8}var h=document,s=h.addEventListener?function(m,a,b,i){m.addEventListener&&m.addEventListener(a,b,!!i)}:function(m,a,b){m.attachEvent&&m.attachEvent("on"+a,b)},k=h.removeEventListener?function(m,a,b,i){m.removeEventListener&&m.removeEventListener(a,b,!!i)}:function(m,a,b){m.detachEvent&&m.detachEvent("on"+a,b)},g="ksEventTargetId",f=" ",n=c.now(),w={},x={EVENT_GUID:g,special:{},add:function(m,a,b,i){if(!t("add",m,a,b,i)){var d=r(m),e,p,u,v,A;if(!(d===-1||!a||!c.isFunction(b))){if(!d){l(m,d=n++);
w[d]={target:m,events:{}}}p=w[d].events;if(!p[a]){e=((d=!m.isCustomEventTarget)||m._supportSpecialEvent)&&x.special[a]||{};u=function(y,z){if(!y||!y.fixed){y=new c.EventObject(m,y,a);c.isPlainObject(z)&&c.mix(y,z)}e.setup&&e.setup(y);return(e.handle||x._handle)(m,y,p[a].listeners)};p[a]={handle:u,listeners:[]};v=e.fix||a;A=e.capture;if(d)s(m,v,u,A);else m._addEvent&&m._addEvent(v,u,A)}p[a].listeners.push({fn:b,scope:i||m})}}},remove:function(m,a,b,i){if(!t("remove",m,a,b,i)){var d=r(m),e,p,u,v,A,
y,z;if(d!==-1)if(d&&(e=w[d]))if(e.target===m){i=i||m;e=e.events||{};if(p=e[a]){u=p.listeners;y=u.length;if(c.isFunction(b)&&y){A=v=0;for(z=[];v<y;++v)if(b!==u[v].fn||i!==u[v].scope)z[A++]=u[v];p.listeners=z;y=z.length}if(b===q||y===0){if(m.isCustomEventTarget)m._addEvent&&m._removeEvent(a,p.handle);else{b=x.special[a]||{};k(m,b.fix||a,p.handle)}delete e[a]}}if(a===q||c.isEmptyObject(e)){for(a in e)x.remove(m,a);delete w[d];o(m)}}}},_handle:function(m,a,b){b=b.slice(0);for(var i,d=0,e=b.length;d<e;++d){i=
b[d];i=i.fn.call(i.scope||m,a);if(i===false&&m.isCustomEventTarget||a.isImmediatePropagationStopped)break}return i},_getCache:function(m){return w[m]},_simpleAdd:s,_simpleRemove:k};x.on=x.add;c.Event=x});
KISSY.add("event-object",function(c,q){function t(o,j,h){this.currentTarget=o;this.originalEvent=j||{};if(j){this.type=j.type;this._fix()}else{this.type=h;this.target=o}this.currentTarget=o;this.fixed=true}var r=document,l="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(t,
{_fix:function(){var o=this.originalEvent,j=l.length,h,s=this.currentTarget;for(s=s.nodeType===9?s:s.ownerDocument||r;j;){h=l[--j];this[h]=o[h]}if(!this.target)this.target=this.srcElement||r;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===q&&this.clientX!==q){o=s.documentElement;j=s.body;this.pageX=this.clientX+(o&&o.scrollLeft||j&&j.scrollLeft||
0)-(o&&o.clientLeft||j&&j.clientLeft||0);this.pageY=this.clientY+(o&&o.scrollTop||j&&j.scrollTop||0)-(o&&o.clientTop||j&&j.clientTop||0)}if(this.which===q)this.which=this.charCode!==q?this.charCode:this.keyCode;if(this.metaKey===q)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==q)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var o=this.originalEvent;if(o.preventDefault)o.preventDefault();else o.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var o=
this.originalEvent;if(o.stopPropagation)o.stopPropagation();else o.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var o=this.originalEvent;o.stopImmediatePropagation?o.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(o){o?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=t});
KISSY.add("event-target",function(c,q){var t=c.Event,r=t.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(l,o){if((l=((t._getCache(this[r]||-1)||{}).events||{})[l])&&c.isFunction(l.handle))return l.handle(q,o);return this},on:function(l,o,j){t.add(this,l,o,j);return this},detach:function(l,o,j){t.remove(this,l,o,j);return this}}});
KISSY.add("event-mouseenter",function(c){var q=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){q.special[t.name]={fix:t.fix,setup:function(r){r.type=t.name},handle:function(r,l,o){var j=l.relatedTarget;try{for(;j&&j!==r;)j=j.parentNode;j!==r&&q._handle(r,l,o)}catch(h){}}}})});
KISSY.add("event-focusin",function(c){var q=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){q.special[t.name]={fix:t.fix,capture:true,setup:function(r){r.type=t.name}}})});
KISSY.add("node",function(c){function q(l,o,j){var h;if(!(this instanceof q))return new q(l,o,j);if(l){if(r(l,1)||r(l,3))h=l;else if(c.isString(l))h=t.create(l,o,j);this[0]=h}else this.length=0}var t=c.DOM,r=t._nodeTypeIs;q.TYPE="-ks-Node";c.augment(q,{length:1,getDOMNode:function(){return this[0]},nodeType:q.TYPE});c.one=function(l,o){return(l=c.get(l,o))?new q(l):null};c.Node=q});
KISSY.add("nodelist",function(c){function q(l){if(!(this instanceof q))return new q(l);r.push.apply(this,l||[])}var t=c.DOM,r=Array.prototype;c.mix(q.prototype,{length:0,item:function(l){var o=null;if(t._isElementNode(this[l]))o=new c.Node(this[l]);return o},getDOMNodes:function(){return r.slice.call(this)},each:function(l,o){var j=this.length,h=0,s;for(s=new c.Node(this[0]);h<j&&l.call(o||s,s,h,this)!==false;s=new c.Node(this[++h]));return this}});c.all=function(l,o){return new q(c.query(l,o,true))};
c.NodeList=q});
KISSY.add("node-attach",function(c,q){function t(m,arguments,a,b){var i=[this[m?f:g]()].concat(c.makeArray(arguments));if(arguments[a]===q)return b.apply(l,i);else{b.apply(l,i);return this}}function r(m,a){c.each(m,function(b){c.each([s,k],function(i,d){i[b]=function(e){switch(a){case n:return function(){return t.call(this,d,arguments,1,e)};case w:return function(){return t.call(this,d,arguments,0,e)};case x:return function(){var p=this[d?f:g]();return(p=e.apply(l,[p].concat(c.makeArray(arguments))))?new (c[c.isArray(p)?
"NodeList":"Node"])(p):null};default:return function(){var p=this[d?f:g]();p=e.apply(l,[p].concat(c.makeArray(arguments)));return p===q?this:p}}}(l[b])})})}var l=c.DOM,o=c.Event,j=l._nodeTypeIs,h=l._isKSNode,s=c.Node.prototype,k=c.NodeList.prototype,g="getDOMNode",f=g+"s",n=1,w=2,x=4;c.mix(s,{one:function(m){return c.one(m,this[0])},all:function(m){return c.all(m,this[0])}});r(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);r(["attr","removeAttr"],n);r(["val","text"],w);r(["css"],
n);r(["width","height"],w);r(["offset"],w);r(["scrollIntoView"]);r(["parent","next","prev","siblings","children"],x);r(["contains"]);r(["html"],w);r(["remove"]);c.each(["insertBefore","insertAfter"],function(m){s[m]=function(a){l[m].call(l,this[0],a);return this}});c.each([s,k],function(m,a){c.mix(m,{append:function(b){b&&c.each(this,function(i){var d;if(a||c.isString(b))d=l.create(b);else{if(j(b,1)||j(b,3))d=b;if(h(b))d=b[0]}i.appendChild(d)});return this},appendTo:function(b){if((b=c.get(b))&&b.appendChild)c.each(this,
function(i){b.appendChild(i)});return this}})});c.each([s,k],function(m){c.mix(m,c.EventTarget,{_supportSpecialEvent:true});m._addEvent=function(a,b,i){for(var d=0,e=this.length;d<e;d++)o._simpleAdd(this[d],a,b,i)};m._removeEvent=function(a,b,i){for(var d=0,e=this.length;d<e;d++)o._simpleRemove(this[d],a,b,i)};delete m.fire})});
KISSY.add("cookie",function(c){function q(o){return c.isString(o)&&o!==""}var t=document,r=encodeURIComponent,l=decodeURIComponent;c.Cookie={get:function(o){var j;if(q(o))if(o=t.cookie.match("(?:^| )"+o+"(?:(?:=([^;]*))|;|$)"))j=o[1]?l(o[1]):"";return j},set:function(o,j,h,s,k,g){j=r(j);var f=h;if(typeof f==="number"){f=new Date;f.setTime(f.getTime()+h*864E5)}if(f instanceof Date)j+="; expires="+f.toUTCString();if(q(s))j+="; domain="+s;if(q(k))j+="; path="+k;if(g)j+="; secure";t.cookie=o+"="+j},remove:function(o,
j,h,s){this.set(o,"",0,j,h,s)}}});
KISSY.add("json",function(c){function q(g){return g<10?"0"+g:g}function t(g){o.lastIndex=0;return o.test(g)?'"'+g.replace(o,function(f){var n=s[f];return typeof n==="string"?n:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+g+'"'}function r(g,f){var n,w,x=j,m,a=f[g];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(g);if(typeof k==="function")a=k.call(f,g,a);switch(typeof a){case "string":return t(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";j+=h;m=[];if(Object.prototype.toString.apply(a)==="[object Array]"){w=a.length;for(g=0;g<w;g+=1)m[g]=r(g,a)||"null";f=m.length===0?"[]":j?"[\n"+j+m.join(",\n"+j)+"\n"+x+"]":"["+m.join(",")+"]";j=x;return f}if(k&&typeof k==="object"){w=k.length;for(g=0;g<w;g+=1){n=k[g];if(typeof n==="string")if(f=r(n,a))m.push(t(n)+(j?": ":":")+f)}}else for(n in a)if(Object.hasOwnProperty.call(a,n))if(f=r(n,a))m.push(t(n)+(j?": ":":")+f);f=m.length===0?"{}":j?"{\n"+j+m.join(",\n"+j)+
"\n"+x+"}":"{"+m.join(",")+"}";j=x;return f}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+q(this.getUTCMonth()+1)+"-"+q(this.getUTCDate())+"T"+q(this.getUTCHours())+":"+q(this.getUTCMinutes())+":"+q(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,h,s={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof c.stringify!=="function")c.stringify=function(g,f,n){var w;h=j="";if(typeof n==="number")for(w=0;w<n;w+=1)h+=" ";else if(typeof n==="string")h=n;if((k=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw new Error("JSON.stringify");return r("",
{"":g})};if(typeof c.parse!=="function")c.parse=function(g,f){function n(w,x){var m,a,b=w[x];if(b&&typeof b==="object")for(m in b)if(Object.hasOwnProperty.call(b,m)){a=n(b,m);if(a!==undefined)b[m]=a;else delete b[m]}return f.call(w,x,b)}g=String(g);l.lastIndex=0;if(l.test(g))g=g.replace(l,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(g.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){g=eval("("+g+")");return typeof f==="function"?n({"":g},""):g}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var q=Math,t=q.PI,r=q.pow,l=q.sin,o=1.70158,j={easeNone:function(h){return h},easeIn:function(h){return h*h},easeOut:function(h){return(2-h)*h},easeBoth:function(h){return(h*=2)<1?0.5*h*h:0.5*(1- --h*(h-2))},easeInStrong:function(h){return h*h*h*h},easeOutStrong:function(h){return 1- --h*h*h*h},easeBothStrong:function(h){return(h*=2)<1?0.5*h*h*h*h:0.5*(2-(h-=2)*h*h*h)},elasticIn:function(h){if(h===0||h===1)return h;return-(r(2,10*(h-=1))*l((h-0.075)*2*t/0.3))},
elasticOut:function(h){if(h===0||h===1)return h;return r(2,-10*h)*l((h-0.075)*2*t/0.3)+1},elasticBoth:function(h){if(h===0||(h*=2)===2)return h;if(h<1)return-0.5*r(2,10*(h-=1))*l((h-0.1125)*2*t/0.45);return r(2,-10*(h-=1))*l((h-0.1125)*2*t/0.45)*0.5+1},backIn:function(h){if(h===1)h-=0.0010;return h*h*((o+1)*h-o)},backOut:function(h){return(h-=1)*h*((o+1)*h+o)+1},backBoth:function(h){if((h*=2)<1)return 0.5*h*h*(((o*=1.525)+1)*h-o);return 0.5*((h-=2)*h*(((o*=1.525)+1)*h+o)+2)},bounceIn:function(h){return 1-
j.bounceOut(1-h)},bounceOut:function(h){return h<1/2.75?7.5625*h*h:h<2/2.75?7.5625*(h-=1.5/2.75)*h+0.75:h<2.5/2.75?7.5625*(h-=2.25/2.75)*h+0.9375:7.5625*(h-=2.625/2.75)*h+0.984375},bounceBoth:function(h){if(h<0.5)return j.bounceIn(h*2)*0.5;return j.bounceOut(h*2-1)*0.5+0.5}};c.Easing=j});
KISSY.add("anim",function(c,q){function t(m,a,b,i,d){if(m=c.get(m)){if(!(this instanceof t))return new t(m,a,b,i,d);var e=c.isPlainObject(b);a=a;this.domEl=m;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=r(a);this.targetStyle=a;if(e)m=c.merge(x,b);else{m=c.clone(x);b&&(m.duration=g(b,10)||1);c.isString(i)&&(i=k[i]);c.isFunction(i)&&(m.easing=i);c.isFunction(d)&&(m.complete=d)}this.config=m;c.isFunction(d)&&this.on(w,d)}}function r(m){var a={},b=n.length,i;f.innerHTML='<div style="'+
m+'"></div>';for(m=f.firstChild.style;b--;)if(i=m[n[b]])a[n[b]]=l(i);return a}function l(m){var a=g(m);m=(m+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:m,u:"",f:j}:{v:a,u:m,f:o}}function o(m,a,b){return(m+(a-m)*b).toFixed(3)}function j(m,a,b){for(var i=2,d,e,p=[],u=[];d=3,e=arguments[i-1],i--;)if(h(e,0,4)==="rgb(")for(e=e.match(/\d+/g);d--;)p.push(~~e[d]);else if(h(e,0)==="#"){if(e.length===4)e="#"+h(e,1)+h(e,1)+h(e,2)+h(e,2)+h(e,3)+h(e,3);for(;d--;)p.push(parseInt(h(e,1+d*2,2),16))}else return a;
for(;d--;){i=~~(p[d+3]+(p[d]-p[d+3])*b);u.push(i<0?0:i>255?255:i)}return"rgb("+u.join(",")+")"}function h(m,a,b){return m.substr(a,b||1)}var s=c.DOM,k=c.Easing,g=parseFloat,f=s.create("<div>"),n="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
w="complete",x={duration:1,easing:k.easeNone};c.augment(t,c.EventTarget,{run:function(){var m=this,a=m.config,b=m.domEl,i=a.duration*1E3,d=a.easing,e=c.now(),p=e+i,u=m.props,v={},A;for(A in u)v[A]=l(s.css(b,A));if(m.fire("start")!==false){m.stop();m.timer=c.later(a=function(){var y=c.now(),z=y>p?1:(y-e)/i,B,C,D;for(A in u){B=v[A];C=u[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;s.css(b,A,C.f(B.v,C.v,d(z))+C.u)}if(m.fire("step")===false||(D=y>p)){m.stop();D&&m.fire(w)}},13,true);a();return m}},stop:function(m){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=q}if(m){c.UA.ie&&b.indexOf("opacity")>-1&&s.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(w)}return this}});c.Anim=t});KISSY.add("anim-node-plugin",function(c,q){var t=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(r){r.animate=function(){var l=c.makeArray(arguments);c.each(this,function(o){t.apply(q,[o].concat(l)).run()});return this}})});KISSY.add("core");
(function(){function c(a,b,i,d,e,p){e=0;for(var u=d.length;e<u;e++){var v=d[e];if(v){v=v[a];for(var A=false;v;){if(v.sizcache===i){A=d[v.sizset];break}if(v.nodeType===1&&!p){v.sizcache=i;v.sizset=e}if(v.nodeName.toLowerCase()===b){A=v;break}v=v[a]}d[e]=A}}}function q(a,b,i,d,e,p){e=0;for(var u=d.length;e<u;e++){var v=d[e];if(v){v=v[a];for(var A=false;v;){if(v.sizcache===i){A=d[v.sizset];break}if(v.nodeType===1){if(!p){v.sizcache=i;v.sizset=e}if(typeof b!=="string"){if(v===b){A=true;break}}else if(h.filter(b,
[v]).length>0){A=v;break}}v=v[a]}d[e]=A}}}var t=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=0,l=Object.prototype.toString,o=false,j=true;[0,0].sort(function(){j=false;return 0});var h=function(a,b,i,d){i=i||[];var e=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return i;var p=[],u,v,A,y,z=true,B=h.isXML(b),C=a,D;do{t.exec("");if(u=t.exec(C)){C=u[3];p.push(u[1]);if(u[2]){y=
u[3];break}}}while(u);if(p.length>1&&k.exec(a))if(p.length===2&&s.relative[p[0]])v=m(p[0]+p[1],b);else for(v=s.relative[p[0]]?[b]:h(p.shift(),b);p.length;){a=p.shift();if(s.relative[a])a+=p.shift();v=m(a,v)}else{if(!d&&p.length>1&&b.nodeType===9&&!B&&s.match.ID.test(p[0])&&!s.match.ID.test(p[p.length-1])){u=h.find(p.shift(),b,B);b=u.expr?h.filter(u.expr,u.set)[0]:u.set[0]}if(b){u=d?{expr:p.pop(),set:n(d)}:h.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&b.parentNode?b.parentNode:b,B);v=u.expr?
h.filter(u.expr,u.set):u.set;if(p.length>0)A=n(v);else z=false;for(;p.length;){u=D=p.pop();if(s.relative[D])u=p.pop();else D="";if(u==null)u=b;s.relative[D](A,u,B)}}else A=[]}A||(A=v);A||h.error(D||a);if(l.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&h.contains(b,A[a])))i.push(v[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&i.push(v[a]);else i.push.apply(i,A);else n(A,i);if(y){h(y,e,i,d);h.uniqueSort(i)}return i};
h.uniqueSort=function(a){if(x){o=j;a.sort(x);if(o)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};h.matches=function(a,b){return h(a,null,null,b)};h.find=function(a,b,i){var d;if(!a)return[];for(var e=0,p=s.order.length;e<p;e++){var u=s.order[e],v;if(v=s.leftMatch[u].exec(a)){var A=v[1];v.splice(1,1);if(A.substr(A.length-1)!=="\\"){v[1]=(v[1]||"").replace(/\\/g,"");d=s.find[u](v,b,i);if(d!=null){a=a.replace(s.match[u],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,
expr:a}};h.filter=function(a,b,i,d){for(var e=a,p=[],u=b,v,A,y=b&&b[0]&&h.isXML(b[0]);a&&b.length;){for(var z in s.filter)if((v=s.leftMatch[z].exec(a))!=null&&v[2]){var B=s.filter[z],C,D;D=v[1];A=false;v.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(u===p)p=[];if(s.preFilter[z])if(v=s.preFilter[z](v,u,i,p,d,y)){if(v===true)continue}else A=C=true;if(v)for(var E=0;(D=u[E])!=null;E++)if(D){C=B(D,v,E,u);var F=d^!!C;if(i&&C!=null)if(F)A=true;else u[E]=false;else if(F){p.push(D);A=true}}if(C!==undefined){i||
(u=p);a=a.replace(s.match[z],"");if(!A)return[];break}}}if(a===e)if(A==null)h.error(a);else break;e=a}return u};h.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var s=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var i=typeof b==="string",d=i&&!/\W/.test(b);i=i&&!d;if(d)b=b.toLowerCase();d=0;for(var e=a.length,p;d<e;d++)if(p=a[d]){for(;(p=p.previousSibling)&&p.nodeType!==1;);a[d]=i||p&&p.nodeName.toLowerCase()===
b?p||false:p===b}i&&h.filter(b,a,true)},">":function(a,b){var i=typeof b==="string",d,e=0,p=a.length;if(i&&!/\W/.test(b))for(b=b.toLowerCase();e<p;e++){if(d=a[e]){i=d.parentNode;a[e]=i.nodeName.toLowerCase()===b?i:false}}else{for(;e<p;e++)if(d=a[e])a[e]=i?d.parentNode:d.parentNode===b;i&&h.filter(b,a,true)}},"":function(a,b,i){var d=r++,e=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=b=b.toLowerCase();e=c}e("parentNode",b,d,a,p,i)},"~":function(a,b,i){var d=r++,e=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=
b=b.toLowerCase();e=c}e("previousSibling",b,d,a,p,i)}},find:{ID:function(a,b,i){if(typeof b.getElementById!=="undefined"&&!i)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var i=[];b=b.getElementsByName(a[1]);for(var d=0,e=b.length;d<e;d++)b[d].getAttribute("name")===a[1]&&i.push(b[d]);return i.length===0?null:i}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,i,d,e,p){a=" "+a[1].replace(/\\/g,"")+" ";
if(p)return a;p=0;for(var u;(u=b[p])!=null;p++)if(u)if(e^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))i||d.push(u);else if(i)b[p]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=r++;return a},ATTR:function(a,b,i,d,e,p){b=
a[1].replace(/\\/g,"");if(!p&&s.attrMap[b])a[1]=s.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,i,d,e){if(a[1]==="not")if((t.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=h(a[3],null,null,b);else{a=h.filter(a[3],b,i,true^e);i||d.push.apply(d,a);return false}else if(s.match.POS.test(a[0])||s.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,i){return!!h(i[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,i,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,i){return b<i[3]-0},gt:function(a,b,i){return b>i[3]-0},nth:function(a,b,i){return i[3]-
0===b},eq:function(a,b,i){return i[3]-0===b}},filter:{PSEUDO:function(a,b,i,d){var e=b[1],p=s.filters[e];if(p)return p(a,i,b,d);else if(e==="contains")return(a.textContent||a.innerText||h.getText([a])||"").indexOf(b[3])>=0;else if(e==="not"){b=b[3];i=0;for(d=b.length;i<d;i++)if(b[i]===a)return false;return true}else h.error("Syntax error, unrecognized expression: "+e)},CHILD:function(a,b){var i=b[1],d=a;switch(i){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(i===
"first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":i=b[2];var e=b[3];if(i===1&&e===0)return true;b=b[0];var p=a.parentNode;if(p&&(p.sizcache!==b||!a.nodeIndex)){var u=0;for(d=p.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++u;p.sizcache=b}a=a.nodeIndex-e;return i===0?a===0:a%i===0&&a/i>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var i=b[1];a=s.attrHandle[i]?s.attrHandle[i](a):a[i]!=null?a[i]:a.getAttribute(i);i=a+"";var d=b[2];b=b[4];return a==null?d==="!=":d==="="?i===b:d==="*="?i.indexOf(b)>=0:d==="~="?(" "+i+" ").indexOf(b)>=0:!b?i&&a!==false:d==="!="?i!==b:d==="^="?i.indexOf(b)===0:d==="$="?i.substr(i.length-b.length)===b:d==="|="?i===b||i.substr(0,b.length+1)===b+"-":false},POS:function(a,b,i,d){var e=s.setFilters[b[2]];
if(e)return e(a,i,b,d)}}},k=s.match.POS,g=function(a,b){return"\\"+(b-0+1)};for(var f in s.match){s.match[f]=new RegExp(s.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source);s.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+s.match[f].source.replace(/\\(\d+)/g,g))}var n=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(w){n=function(a,b){b=b||[];var i=0;if(l.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var d=a.length;i<d;i++)b.push(a[i]);else for(;a[i];i++)b.push(a[i]);return b}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)o=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)o=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)o=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)o=true;return a};else if(document.createRange)x=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)o=true;return a.ownerDocument?-1:1}var i=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();i.setStart(a,0);i.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);a=i.compareBoundaryPoints(Range.START_TO_END,d);if(a===0)o=true;return a};h.getText=function(a){for(var b="",i,d=0;a[d];d++){i=a[d];if(i.nodeType===3||i.nodeType===4)b+=i.nodeValue;else if(i.nodeType!==
8)b+=h.getText(i.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var i=document.documentElement;i.insertBefore(a,i.firstChild);if(document.getElementById(b)){s.find.ID=function(d,e,p){if(typeof e.getElementById!=="undefined"&&!p)return(e=e.getElementById(d[1]))?e.id===d[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===d[1]?[e]:undefined:[]};s.filter.ID=function(d,e){var p=typeof d.getAttributeNode!==
"undefined"&&d.getAttributeNode("id");return d.nodeType===1&&p&&p.nodeValue===e}}i.removeChild(a);i=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)s.find.TAG=function(b,i){i=i.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var d=0;i[d];d++)i[d].nodeType===1&&b.push(i[d]);i=b}return i};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")s.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=h,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){h=function(d,e,p,u){e=e||document;if(!u&&e.nodeType===9&&!h.isXML(e))try{return n(e.querySelectorAll(d),p)}catch(v){}return a(d,e,p,u)};for(var i in a)h[i]=a[i];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){s.order.splice(1,0,"CLASS");s.find.CLASS=function(b,i,d){if(typeof i.getElementsByClassName!=="undefined"&&!d)return i.getElementsByClassName(b[1])};a=null}}})();h.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};h.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var m=function(a,b){var i=[],d="",e;for(b=b.nodeType?[b]:b;e=s.match.PSEUDO.exec(a);){d+=e[0];a=a.replace(s.match.PSEUDO,"")}a=s.relative[a]?a+"*":a;e=0;for(var p=b.length;e<p;e++)h(a,b[e],i);return h.filter(d,i)};KISSY.add("sizzle",function(a){a.ExternalSelector=h;a.ExternalSelector._filter=function(b,i){return h.matches(i,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(c,q){function t(g,f){if(!(this instanceof t))return new t(g,f);if(f===q){f=g;g=[j]}c.isArray(g)||(g=[c.get(g)||j]);this.containers=g;this.config=c.merge(k,f);this.callbacks={els:[],fns:[]};this._init()}var r=c.DOM,l=c.Event,o=window,j=document,h="scroll",s="resize",k={mod:"manual",diff:"default",placeholder:"none"};c.augment(t,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var g=this.containers,
f,n,w,x=[],m=[];f=0;for(n=g.length;f<n;++f){w=c.query("img",g[f]);x=x.concat(c.filter(w,this._filterImg,this));w=c.query("textarea",g[f]);m=m.concat(c.filter(w,this._filterArea,this))}this.images=x;this.areaes=m},_filterImg:function(g){var f=g.getAttribute("data-ks-lazyload"),n=this.threshold,w=this.config.placeholder;if(this.config.mod==="manual"){if(f){if(w!=="none")g.src=w;return true}}else if(r.offset(g).top>n&&!f){r.attr(g,"data-ks-lazyload",g.src);if(w!=="none")g.src=w;else g.removeAttribute("src");
return true}},_filterArea:function(g){return r.hasClass(g,"ks-datalazyload")},_initLoadEvent:function(){function g(){n||(n=c.later(function(){f();n=null},100))}function f(){w._loadItems();if(w._getItemsLength()===0){l.remove(o,h,g);l.remove(o,s,g)}}var n,w=this;l.on(o,h,g);l.on(o,s,function(){w.threshold=w._getThreshold();g()});w._getItemsLength()&&c.ready(function(){f()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=c.filter(this.images,
this._loadImg,this)},_loadImg:function(g){var f=this.threshold+r.scrollTop();if(r.offset(g).top<=f)this._loadImgSrc(g);else return true},_loadImgSrc:function(g,f){f=f||"data-ks-lazyload";var n=g.getAttribute(f);if(n&&g.src!=n){g.src=n;g.removeAttribute(f)}},_loadAreas:function(){this.areaes=c.filter(this.areaes,this._loadArea,this)},_loadArea:function(g){var f=r.css(g,"display")==="none";if(r.offset(f?g.parentNode:g).top<=this.threshold+r.scrollTop())this._loadAreaData(g.parentNode,g);else return true},
_loadAreaData:function(g,f){f.style.display="none";f.className="";var n=r.create("<div>");g.insertBefore(n,f);r.html(n,f.value,true)},_fireCallbacks:function(){var g=this.callbacks,f=g.els,n=g.fns,w=this.threshold+r.scrollTop(),x,m,a,b=[],i=[];for(x=0;(m=f[x])&&(a=n[x++]);)if(r.offset(m).top<=w)a.call(m);else{b.push(m);i.push(a)}g.els=b;g.fns=i},addCallback:function(g,f){var n=this.callbacks;if((g=c.get(g))&&c.isFunction(f)){n.els.push(g);n.fns.push(f)}},_getThreshold:function(){var g=this.config.diff,
f=r.viewportHeight();return g==="default"?2*f:f+ +g},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(g,f){var n=this,w,x;c.isArray(g)||(g=[c.get(g)]);c.each(g,function(m){switch(f){case "img-src":x=m.nodeName==="IMG"?[m]:c.query("img",m);c.each(x,function(a){n._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(w=c.get("textarea",m))&&r.hasClass(w,"ks-datalazyload-custom")&&n._loadAreaData(m,w)}})}});c.mix(t,t.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=t},{requires:["core"]});KISSY.add("flash",function(c){c.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(c){function q(){var k;if(navigator.plugins&&navigator.mimeTypes.length)k=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{k=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(g){}if(k)return t(k)}function t(k){return k.match(/(\d)+/g)}function r(k){var g=c.isString(k)?t(k):k;k=k;if(c.isArray(g))k=parseFloat(g[0]+"."+l(g[1],3)+l(g[2],5));return k||0}function l(k,g){for(var f=(k+"").length;f++<g;)k="0"+
k;return k}var o=c.UA,j,h,s=true;o.fpv=function(k){if(k||s){s=false;j=q();h=r(j)}return j};o.fpvGEQ=function(k,g){s&&o.fpv(g);return!!h&&h>=r(k)}},{host:"flash"});
KISSY.add("flash-embed",function(c){function q(k,g,f){var n=r.create("<param>");r.attr(n,{name:g,value:f});k.appendChild(n)}var t=c.UA,r=c.DOM,l=c.Flash,o=/object|embed/i,j=encodeURIComponent,h={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},s={params:{},attrs:{width:215,height:138},version:9};c.mix(l,{fpv:t.fpv,fpvGEQ:t.fpvGEQ,add:function(k,g,f){var n,
w;g=l._normalize(g);g=c.merge(s,g);g.attrs=c.merge(s.attrs,g.attrs);if(k=c.get(k)){if(!k.id)k.id=c.guid("ks-flash-");w=g.attrs.id=k.id;if(t.fpv()){if(!t.fpvGEQ(g.version)){this._callback(f,0,w,k);if(!((n=g.xi)&&c.isString(n)))return;g.src=n}if(o.test(k.nodeName))this._register(k,g,f);else g.src?this._embed(k,g,f):this._callback(f,-3,w,k)}else this._callback(f,-1,w,k)}else this._callback(f,-2)},get:function(k){return l.swfs[k]},remove:function(k){if(k=l.get("#"+k)){r.remove(k);delete l.swfs[k.id];
l.length-=1}},contains:function(k){var g=l.swfs,f,n=false;if(c.isString(k))n=k in g;else for(f in g)if(g[f]===k){n=true;break}return n},_register:function(k,g,f){g=g.attrs.id;if(t.gecko||t.opera)k=c.query("object",k)[0]||k;l._addSWF(g,k);l._callback(f,1,g,k)},_embed:function(k,g,f){var n=l._createSWF(g.src,g.attrs,g.params);if(t.ie)k.outerHTML=n.outerHTML;else k.parentNode.replaceChild(n,k);k=c.get("#"+k.id);l._register(k,g,f)},_callback:function(k,g,f,n){g&&c.isFunction(k)&&k({status:g,id:f,swf:n})},
_addSWF:function(k,g){if(k&&g){l.swfs[k]=g;l.length+=1}},_createSWF:function(k,g,f){var n=r.create("<object>"),w;r.attr(n,g);if(t.ie){r.attr(n,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");q(n,"movie",k)}else r.attr(n,{type:"application/x-shockwave-flash",data:k,name:g.id});for(w in f)w in h&&q(n,w,f[w]);f.flashvars&&q(n,"flashvars",l.toFlashVars(f.flashvars));return n},_normalize:function(k){var g,f,n,w=k;if(c.isPlainObject(k)){w={};for(n in k){g=n.toLowerCase();f=k[n];if(g!=="flashvars")f=
l._normalize(f);w[g]=f}}return w},toFlashVars:function(k){if(!c.isPlainObject(k))return"";var g,f,n=[];for(g in k){f=k[g];if(c.isString(f))f=j(f);else{f=c.JSON.stringify(f);if(!f)continue;f=f.replace(/:"([^"]+)/g,function(w,x){return':"'+j(x)})}n.push(g+"="+f)}return n.join("&").replace(/\"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(c,q){function t(o,j){j=j||{};if(!("markupType"in j))if(j.panelCls)j.markupType=1;else if(j.panels)j.markupType=2;j=c.merge(t.Config,j);this.container=c.get(o);this.config=j;this.activeIndex=j.activeIndex;this._init()}var r=c.DOM,l=c.Event;t.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};t.Plugins=[];c.augment(t,c.EventTarget,{_init:function(){var o=this,j=o.config;o._parseMarkup();j.switchTo&&o.switchTo(j.switchTo);j.hasTriggers&&o._bindTriggers();c.each(t.Plugins,function(h){h.init&&h.init(o)});o.fire("init")},_parseMarkup:function(){var o=this.container,j=this.config,h,s=[],k=[];switch(j.markupType){case 0:if(h=c.get("."+j.navCls,o))s=r.children(h);h=c.get("."+j.contentCls,o);k=r.children(h);break;case 1:s=c.query("."+j.triggerCls,
o);k=c.query("."+j.panelCls,o);break;case 2:s=j.triggers;k=j.panels;break}o=k.length;this.length=o/j.steps;if(j.hasTriggers&&o>0&&s.length===0)s=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(s);this.panels=c.makeArray(k);this.content=h||k[0].parentNode},_generateTriggersMarkup:function(o){var j=this.config,h=r.create("<ul>"),s,k;h.className=j.navCls;for(k=0;k<o;k++){s=r.create("<li>");if(k===this.activeIndex)s.className=j.activeTriggerCls;s.innerHTML=k+1;h.appendChild(s)}this.container.appendChild(h);
return r.children(h)},_bindTriggers:function(){var o=this,j=o.config,h=o.triggers,s,k,g=h.length;for(k=0;k<g;k++)(function(f){s=h[f];l.on(s,"click",function(){o._onFocusTrigger(f)});if(j.triggerType==="mouse"){l.on(s,"mouseenter",function(){o._onMouseEnterTrigger(f)});l.on(s,"mouseleave",function(){o._onMouseLeaveTrigger(f)})}})(k)},_onFocusTrigger:function(o){if(this._triggerIsValid(o)){this._cancelSwitchTimer();this.switchTo(o)}},_onMouseEnterTrigger:function(o){var j=this;if(j._triggerIsValid(o))j.switchTimer=
c.later(function(){j.switchTo(o)},j.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(o){return this.activeIndex!==o},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=q}},switchTo:function(o,j){var h=this.config,s=this.triggers,k=this.panels,g=this.activeIndex,f=h.steps,n=g*f,w=o*f;if(!this._triggerIsValid(o))return this;if(this.fire("beforeSwitch",{toIndex:o})===false)return this;if(h.hasTriggers)this._switchTrigger(g>
-1?s[g]:null,s[o]);if(j===q)j=o>g?"forward":"backward";this._switchView(k.slice(n,n+f),k.slice(w,w+f),o,j);this.activeIndex=o;return this},_switchTrigger:function(o,j){var h=this.config.activeTriggerCls;o&&r.removeClass(o,h);r.addClass(j,h)},_switchView:function(o,j,h){r.css(o,"display","none");r.css(j,"display","block");this._fireOnSwitch(h)},_fireOnSwitch:function(o){this.fire("switch",{currentIndex:o})},prev:function(){var o=this.activeIndex;this.switchTo(o>0?o-1:this.length-1,"backward")},next:function(){var o=
this.activeIndex;this.switchTo(o<this.length-1?o+1:0,"forward")}});c.Switchable=t},{requires:["core"]});
KISSY.add("autoplay",function(c,q){var t=c.Event,r=c.Switchable;c.mix(r.Config,{autoplay:false,interval:5,pauseOnHover:true});r.Plugins.push({name:"autoplay",init:function(l){function o(){s=c.later(function(){l.paused||l.switchTo(l.activeIndex<l.length-1?l.activeIndex+1:0,"forward")},h,true)}var j=l.config,h=j.interval*1E3,s;if(j.autoplay){if(j.pauseOnHover){t.on(l.container,"mouseenter",function(){if(s){s.cancel();s=q}l.paused=true});t.on(l.container,"mouseleave",function(){l.paused=false;o()})}o()}}})},
{host:"switchable"});
KISSY.add("effect",function(c,q){var t=c.DOM,r=c.Anim,l=c.Switchable,o;c.mix(l.Config,{effect:"none",duration:0.5,easing:"easeNone"});l.Effects={none:function(j,h,s){t.css(j,"display","none");t.css(h,"display","block");s()},fade:function(j,h,s){j.length!==1&&c.error("fade effect only supports steps == 1.");var k=this,g=k.config,f=j[0],n=h[0];k.anim&&k.anim.stop(true);t.css(n,"opacity",1);k.anim=(new r(f,{opacity:0},g.duration,g.easing,function(){k.anim=q;t.css(n,"z-index",9);t.css(f,"z-index",1);
s()})).run()},scroll:function(j,h,s,k){var g=this;j=g.config;h=j.effect==="scrollx";var f={};f[h?"left":"top"]=-(g.viewSize[h?0:1]*k)+"px";g.anim&&g.anim.stop();g.anim=(new r(g.content,f,j.duration,j.easing,function(){g.anim=q;s()})).run()}};o=l.Effects;o.scrollx=o.scrolly=o.scroll;l.Plugins.push({name:"effect",init:function(j){var h=j.config,s=h.effect,k=j.panels,g=j.content,f=h.steps,n=j.activeIndex,w=k.length;j.viewSize=[h.viewSize[0]||k[0].offsetWidth*f,h.viewSize[1]||k[0].offsetHeight*f];if(s!==
"none"){c.each(k,function(b){t.css(b,"display","block")});switch(s){case "scrollx":case "scrolly":t.css(g,"position","absolute");t.css(g.parentNode,"position","relative");if(s==="scrollx"){t.css(k,"float","left");t.width(g,j.viewSize[0]*(w/f))}break;case "fade":var x=n*f,m=x+f-1,a;c.each(k,function(b,i){a=i>=x&&i<=m;t.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(l,{_switchView:function(j,h,s,k){var g=this,f=g.config.effect;(c.isFunction(f)?f:o[f]).call(g,j,h,function(){g._fireOnSwitch(s)},
s,k)}})},{host:"switchable"});
KISSY.add("circular",function(c,q){function t(a,b,i,d,e){var p=this;a=p.config;b=p.length;var u=p.activeIndex,v=a.scrollType===x,A=v?s:k,y=p.viewSize[v?0:1];v=-y*d;var z={},B,C=e===w;if(B=C&&u===0&&d===b-1||e===n&&u===b-1&&d===0)v=r.call(p,p.panels,d,C,A,y);z[A]=v+f;p.anim&&p.anim.stop();p.anim=(new c.Anim(p.content,z,a.duration,a.easing,function(){B&&l.call(p,p.panels,d,C,A,y);p.anim=q;i()})).run()}function r(a,b,i,d,e){var p=this.config.steps;b=this.length;var u=i?b-1:0,v=(u+1)*p;for(p=u*p;p<v;p++){o.css(a[p],
j,h);o.css(a[p],d,(i?-1:1)*e*b)}return i?e:-e*b}function l(a,b,i,d,e){var p=this.config.steps;b=this.length;var u=i?b-1:0,v=(u+1)*p;for(p=u*p;p<v;p++){o.css(a[p],j,g);o.css(a[p],d,g)}o.css(this.content,d,i?-e*(b-1):g)}var o=c.DOM,j="position",h="relative",s="left",k="top",g="",f="px",n="forward",w="backward",x="scrollx",m=c.Switchable;c.mix(m.Config,{circular:false});m.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=a.effect;
a.effect=t}}})},{host:"switchable"});
KISSY.add("lazyload",function(c){var q=c.DOM,t="beforeSwitch",r="img-src",l="area-data",o={},j=c.Switchable;o[r]="data-ks-lazyload-custom";o[l]="ks-datalazyload-custom";c.mix(j.Config,{lazyDataType:l});j.Plugins.push({name:"lazyload",init:function(h){function s(x){var m=f.steps;x=x.toIndex*m;g.loadCustomLazyData(h.panels.slice(x,x+m),n);k()&&h.detach(t,s)}function k(){var x,m,a,b=n===r;if(x=b?"img":n===l?"textarea":""){x=c.query(x,h.container);m=0;for(a=x.length;m<a;m++)if(b?q.attr(x[m],w):q.hasClass(x[m],
w))return false}return true}var g=c.DataLazyload,f=h.config,n=f.lazyDataType,w=o[n];!g||!n||!w||h.on(t,s)}})},{host:"switchable"});KISSY.add("autorender",function(c){c.Switchable.autoRender=function(q,t){q="."+(q||"KS_Widget");c.query(q,t).each(function(r){var l=r.getAttribute("data-widget-type"),o;if(l&&"Switchable Tabs Slide Carousel Accordion".indexOf(l)>-1)try{if(o=r.getAttribute("data-widget-config"))o=o.replace(/'/g,'"');new c[l](r,c.JSON.parse(o))}catch(j){}})}},{host:"switchable"});
KISSY.add("tabs",function(c){function q(t,r){if(!(this instanceof q))return new q(t,r);q.superclass.constructor.call(this,t,r)}c.extend(q,c.Switchable);c.Tabs=q},{host:"switchable"});KISSY.add("slide",function(c){function q(r,l){if(!(this instanceof q))return new q(r,l);q.superclass.constructor.call(this,r,c.merge(t,l))}var t={autoplay:true,circular:true};c.extend(q,c.Switchable);c.Slide=q},{host:"switchable"});
KISSY.add("carousel",function(c,q){function t(g,f){var n=this;if(!(n instanceof t))return new t(g,f);n.on("init",function(){r(n)});t.superclass.constructor.call(n,g,c.merge(k,f))}function r(g){var f=g.config,n=f.disableBtnCls;c.each(["prev","next"],function(w){var x=g[w+"Btn"]=c.get(j+f[w+"BtnCls"],g.container);o.on(x,"click",function(m){m.preventDefault();l.hasClass(x,n)||g[w]()})});f.circular||g.on("switch",function(w){w=w.currentIndex;w=w===0?g[h]:w===g.length-1?g[s]:q;l.removeClass([g[h],g[s]],
n);w&&l.addClass(w,n)});o.on(g.panels,"click focus",function(){g.fire("itemSelected",{item:this})})}var l=c.DOM,o=c.Event,j=".",h="prevBtn",s="nextBtn",k={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(t,c.Switchable);c.Carousel=t},{host:"switchable"});
KISSY.add("accordion",function(c){function q(l,o){if(!(this instanceof q))return new q(l,o);q.superclass.constructor.call(this,l,c.merge(r,o));if(this.config.multiple)this._switchTrigger=function(){}}var t=c.DOM,r={markupType:1,triggerType:"click",multiple:false};c.extend(q,c.Switchable);c.Accordion=q;c.augment(q,{_triggerIsValid:function(l){return this.activeIndex!==l||this.config.multiple},_switchView:function(l,o,j){var h=this.config,s=o[0];if(h.multiple){t.toggleClass(this.triggers[j],h.activeTriggerCls);
t.css(s,"display",s.style.display=="none"?"block":"none");this._fireOnSwitch(j)}else q.superclass._switchView.call(this,l,o,j)}})},{host:"switchable"});
KISSY.add("suggest",function(c,q){function t(d,e,p){if(!(this instanceof t))return new t(d,e,p);this.textInput=c.get(d);e+=e.indexOf("?")===-1?"?":"&";this.dataSource=e+"code=utf-8&callback="+w;this.config=c.merge(i,p);this.queryParams=this.query=x;this._dataCache={};this._init()}function r(d){d.style.visibility=x}function l(d){d.style.visibility=m}function o(d,e){if(e.nodeType===1){j.html(d,x);d.appendChild(e)}else j.html(d,e)}var j=c.DOM,h=c.Event,s=window,k=document,g,f=c.get("head"),n=c.UA.ie,
w="g_ks_suggest_callback",x="",m="hidden",a=parseInt,b=/^(input|button|a)$/i,i={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:n===6,submitOnSelect:true};c.augment(t,c.EventTarget,{_init:function(){g=k.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var d=this,e=d.textInput,p=false,u=0;j.attr(e,"autocomplete","off");d.config.autoFocus&&e.focus();h.on(e,"keydown",function(v){v=
v.keyCode;if(v===27){d.hide();e.value=d.query}else if(v>32&&v<41)if(e.value){if(v===40||v===38)if(u++===0){d._isRunning&&d.stop();p=true;d._selectItem(v===40)}else if(u==3)u=0}else e.blur();else if(v===13){e.blur();if(p)if(e.value==d._getSelectedItemKey())if(d.fire("itemSelect")===false)return;d._submitForm()}else{d._isRunning||d.start();p=false}});h.on(e,"keyup",function(){u=0});h.on(e,"blur",function(){d.stop();c.later(function(){d._focusing||d.hide()},0)})},_initContainer:function(){var d=j.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),e=j.create("<div>",{"class":"ks-suggest-content"}),p=j.create("<div>",{"class":"ks-suggest-footer"});d.appendChild(e);d.appendChild(p);g.insertBefore(d,g.firstChild);this.container=d;this.content=e;this.footer=p;this._initContainerEvent()},_setContainerRegion:function(){var d=this.textInput,e=j.offset(d),p=this.container;j.offset(p,{left:e.left,top:e.top+d.offsetHeight-1});j.width(p,this.config.containerWidth||
d.offsetWidth-2)},_initContainerEvent:function(){var d=this,e=d.textInput,p=d.container,u=d.content,v=d.footer,A,y;h.on(u,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=j.parent(z,"li");if(j.contains(u,z))if(z!==d.selectedItem){d._removeSelectedItem();d._setSelectedItem(z)}});h.on(u,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=j.parent(z,"li");A=z});h.on(p,"mousedown",function(z){if(!b.test(z.target.nodeName)){e.onbeforedeactivate=function(){s.event.returnValue=false;e.onbeforedeactivate=
null};z.preventDefault()}});h.on(u,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=j.parent(B,"li");if(B==A)if(j.contains(u,B)){d._updateInputFromSelectItem(B);if(d.fire("itemSelect")!==false){e.blur();d._submitForm()}}}});h.on(v,"focusin",function(){d._focusing=true;d._removeSelectedItem();y=false});h.on(v,"focusout",function(){d._focusing=false;c.later(function(){if(y)d.hide();else d._focusing||d.textInput.focus()},0)});h.on(d.container,"mouseleave",function(){y=true});
h.on(v,"click",function(z){j.hasClass(z.target,"ks-suggest-closebtn")&&d.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var d=this.textInput.form;if(d)if(this.fire("beforeSubmit",{form:d})!==false){if(k.createEvent){var e=k.createEvent("MouseEvents");e.initEvent("submit",true,false);d.dispatchEvent(e)}else k.createEventObject&&d.fireEvent("onsubmit");d.submit()}}},_initShim:function(){var d=j.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=d;g.insertBefore(d,g.firstChild)},_setShimRegion:function(){var d=this.container,e=d.style,p=d.shim;p&&j.css(p,{left:a(e.left)-2,top:e.top,width:a(e.width)+2,height:j.height(d)-2})},_initStyle:function(){c.get("#ks-suggest-style")||j.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var d=this;h.on(s,"resize",function(){d._setContainerRegion();d._setShimRegion()})},start:function(){var d=this;if(d.fire("beforeStart")!==false){t.focusInstance=d;d._timer=c.later(function(){d._updateContent();d._timer=c.later(arguments.callee,200)},200);d._isRunning=true}},stop:function(){t.focusInstance=q;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var d=this.container,e=d.shim;this._setContainerRegion();
r(d);if(e){this._setShimRegion();r(e)}}},hide:function(){if(this.isVisible()){var d=this.container,e=d.shim;e&&l(e);l(d)}},isVisible:function(){return this.container.style.visibility!=m},_updateContent:function(){var d=this.textInput;if(d.value!=this.query){d=this.query=d.value;if(c.trim(d))if(this._dataCache[d]!==q){this._fillContainer(this._dataCache[d]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var d=this,e;if(!n)d.dataScript=
q;if(!d.dataScript){e=k.createElement("script");e.charset="utf-8";e.async=true;f.insertBefore(e,f.firstChild);d.dataScript=e;if(!n){var p=c.now();d._latestScriptTime=p;j.attr(e,"data-time",p);h.on(e,"load",function(){d._scriptDataIsOut=j.attr(e,"data-time")!=d._latestScriptTime})}}d.queryParams="q="+encodeURIComponent(d.query);if(d.fire("beforeDataRequest")!==false)d.dataScript.src=d.dataSource+"&"+d.queryParams},_handleResponse:function(d){var e=x,p,u,v,A;if(!this._scriptDataIsOut){this.returnedData=
d;if(this.fire("dataReturn",{data:d})!==false){d=this._formatData(this.returnedData);if((p=d.length)>0){u=j.create("<ol>");for(e=0;e<p;++e){v=d[e];v=this._formatItem(A=v.key,v.result);j.attr(v,"key",A);j.addClass(v,e%2?"ks-even":"ks-odd");u.appendChild(v)}e=u}this._fillContainer(e);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=j.html(this.content);this._displayContainer()}}}},_formatData:function(d){var e=[],p,u,v,A=0;if(!d)return e;if(c.isArray(d.result))d=d.result;if(!(p=d.length))return e;
for(v=0;v<p;++v){u=d[v];if(c.isString(u))e[A++]={key:u};else if(c.isArray(u)&&u.length>1)e[A++]={key:u[0],result:u[1]}}return e},_formatItem:function(d,e){var p=j.create("<li>"),u=j.create("<span>",{"class":"ks-suggest-key"});j.html(u,d);p.appendChild(u);if(e){d=this.config.resultFormat.replace("%result%",e);if(c.trim(d)){e=j.create("<span>",{"class":"ks-suggest-result"});j.html(e,d);p.appendChild(e)}}return p},_fillContainer:function(d,e){this._fillContent(d||x);this._fillFooter(e||x)},_fillContent:function(d){o(this.content,
d);this.selectedItem=q},_fillFooter:function(d){var e=this.config,p=this.footer;o(p,d);if(e.closeBtn){d=j.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});j.html(d,e.closeBtnText);p.appendChild(d)}this.fire("updateFooter",{footer:p,query:this.query});j.css(p,"display",j.text(p)?x:"none")},_displayContainer:function(){c.trim(j.text(this.container))?this.show():this.hide()},_selectItem:function(d){var e=c.query("li",this.container);if(e.length!==0)if(this.isVisible()){if(this.selectedItem){d=
j[d?"next":"prev"](this.selectedItem);if(!d)this.textInput.value=this.query}else d=e[d?0:e.length-1];this._removeSelectedItem();if(d){this._setSelectedItem(d);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){j.removeClass(this.selectedItem,"ks-selected");this.selectedItem=q},_setSelectedItem:function(d){j.addClass(d,"ks-selected");this.selectedItem=d;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return j.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});s[w]=function(d){t.focusInstance&&c.later(function(){t.focusInstance._handleResponse(d)},0)};t.version=1.1;c.Suggest=t},{requires:["core"]});
KISSY.add("mask",function(c,q){function t(k){if(!(this instanceof t))return new t(k);k=c.merge(s,k);var g=k.shim,f=r.create("<iframe>");r.attr(f,"style",g?h:j+k.style);var n;if(g)k.opacity=0;else{r.height(f,r.docHeight());o&&r.width(f,r.docWidth());if(l){n=r.create("<div>");r.attr(n,"style",j+k.style);r.height(n,r.docHeight());o&&r.width(n,r.docWidth())}}r.css(f,"opacity",k.opacity);document.body.appendChild(f);if(n){r.css(n,"opacity",k.opacity);document.body.appendChild(n);this.div=n}this.config=
k;this.iframe=f}var r=c.DOM,l=c.UA.ie,o=l===6,j="position:absolute;left:0;top:0;width:100%;border:0;background:black;z-index:9998;display:none;",h="position:absolute;z-index:9997;border:0;display:none;",s={shim:false,opacity:0.6,style:""};c.augment(t,{show:function(){r.css(this.iframe,"display","block");l&&r.css(this.div,"display","block")},hide:function(){r.css(this.iframe,"display","none");l&&r.css(this.div,"display","none")},toggle:function(){this[r.css(this.iframe,"display")!=="none"?"hide":"show"]()},
setSize:function(k,g){r.width(this.iframe,k);r.height(this.iframe,g);if(l){r.width(this.div,k);r.height(this.div,g)}},setOffset:function(k,g){var f=k;if(g!==q)f={left:k,top:g};r.offset(this.iframe,f);l&&r.offset(this.div,f)}});c.Mask=t});
KISSY.add("overlay",function(c,q){function t(k,g){g=g||{};if(c.isPlainObject(k))g=k;else g.container=k;this.container=c.get(g.container);this.trigger=c.get(g.trigger);g.align=c.merge(c.clone(h.align),g.align);this.config=c.merge(h,g);this._init()}var r=document,l=c.DOM,o=c.Event,j={TL:"tl",TC:"tc",TR:"tr",LC:"cl",CC:"cc",RC:"cr",BL:"bl",BC:"bc",BR:"br"},h={container:null,containerCls:"ks-overlay",bdCls:"ks-overlay-bd",trigger:null,triggerType:"click",width:0,height:0,zIndex:9999,xy:null,align:{node:null,
points:[j.CC,j.CC],offset:[0,0]},mask:false,shim:c.UA.ie===6},s;c.augment(t,c.EventTarget,{_init:function(){this.trigger&&this._bindTrigger()},_bindTrigger:function(){this.config.triggerType==="mouse"?this._bindTriggerMouse():this._bindTriggerClick()},_bindTriggerMouse:function(){var k=this,g=k.trigger,f;o.on(g,"mouseenter",function(){f=c.later(function(){k.show();f=q},100)});o.on(g,"mouseleave",function(){if(f){f.cancel();f=q}k.hide()})},_bindTriggerClick:function(){var k=this;o.on(k.trigger,"click",
function(){k.show()})},show:function(){this._firstShow()},_firstShow:function(){this._prepareMarkup();this._realShow();this._firstShow=this._realShow},_realShow:function(){this._setPosition();this._toggle(false)},_toggle:function(k){l.css(this.container,"visibility",k?"hidden":"");this.shim&&this.shim.toggle();if(this.config.mask)s[k?"hide":"show"]();this[k?"_unbindUI":"_bindUI"]();this.fire(k?"hide":"show")},hide:function(){this._toggle(true)},_prepareMarkup:function(){var k=this.config,g=this.container;
if(k.mask&&!s)s=new c.Mask;if(k.shim)this.shim=new c.Mask({shim:true});if(g){this.body=c.get("."+k.bdCls,g)||g;g.style.cssText+="position:absolute;visibility:hidden"}else{g=this.container=l.create(c.substitute('<div class="{containerCls}" style="position:absolute;visibility:hidden"><div class="{bdCls}">{content}</div></div>',k));this.body=l.children(g)[0];r.body.appendChild(g)}l.css(g,"zIndex",k.zIndex);l.css(g,"display","block");this.setBody(k.content);this._setSize()},_setSize:function(k,g){var f=
this.config;k=k||f.width;g=g||f.height;k&&l.width(this.container,k);g&&l.height(this.container,g);this.shim&&this.shim.setSize(k,g)},_setPosition:function(){var k=this.config.xy;k?this.move(k):this.align()},move:function(k,g){if(c.isArray(k)){g=k[1];k=k[0]}k={left:k,top:g};l.offset(this.container,k);this.shim&&this.shim.setOffset(k)},align:function(k,g,f){var n=this.config.align;k=k||n.node;k=k==="trigger"?this.trigger:c.get(k);g=g||n.points;f=f===q?n.offset:f;n=l.offset(this.container);k=this._getAlignOffset(k,
g[0]);g=this._getAlignOffset(this.container,g[1]);g=[g.left-k.left,g.top-k.top];this.move(n.left-g[0]+ +f[0],n.top-g[1]+ +f[1])},_getAlignOffset:function(k,g){var f=g.charAt(0);g=g.charAt(1);var n,w,x;if(k){n=l.offset(k);w=k.offsetWidth;k=k.offsetHeight}else{n={left:l.scrollLeft(),top:l.scrollTop()};w=l.viewportWidth();k=l.viewportHeight()}x=n.left;n=n.top;if(f==="c")n+=k/2;else if(f==="b")n+=k;if(g==="c")x+=w/2;else if(g==="r")x+=w;return{left:x,top:n}},center:function(){this.move((l.viewportWidth()-
l.width(this.container))/2+l.scrollLeft(),(l.viewportHeight()-l.height(this.container))/2+l.scrollTop())},_bindUI:function(){o.on(r,"keydown",this._esc,this)},_unbindUI:function(){o.remove(r,"keydown",this._esc,this)},_esc:function(k){k.keyCode===27&&this.hide()},setBody:function(k){c.isString(k)&&l.html(this.body,k)}});c.Overlay=t});
KISSY.add("popup",function(c){function q(r,l){if(!(this instanceof q))return new q(r,l);l=l||{};if(c.isPlainObject(r))l=r;else l.container=r;l.align=c.merge(c.clone(t.align),l.align);q.superclass.constructor.call(this,c.merge(t,l))}var t={triggerType:"mouse",align:{node:"trigger",points:["cr","ct"],offset:[10,0]}};c.extend(q,c.Overlay);c.Popup=q},{host:"overlay"});
