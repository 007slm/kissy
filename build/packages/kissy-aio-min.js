/*
Copyright 2010, KISSY UI Library v1.1.2dev
MIT Licensed
build time: ${build.time}
*/
(function(d,o,r){if(d[o]===r)d[o]={};o=d[o];var v=d.document,j=location,k=function(h,q,w,x){if(!q||!h)return h;if(w===r)w=true;var m,a,c;if(x&&(c=x.length))for(m=0;m<c;m++){a=x[m];if(a in q)if(w||!(a in h))h[a]=q[a]}else for(a in q)if(w||!(a in h))h[a]=q[a];return h},g=false,e=[],p=false,u=/^#?([\w-]+)$/,n=0;k(o,{version:"1.1.2dev",ready:function(h){p||this._bindReady();g?h.call(d,this):e.push(h);return this},_bindReady:function(){var h=this,q=v.documentElement.doScroll,w=q?"onreadystatechange":"DOMContentLoaded",
x=function(){h._fireReady()};p=true;if(v.readyState==="complete")return x();if(v.addEventListener){var m=function(){v.removeEventListener(w,m,false);x()};v.addEventListener(w,m,false);d.addEventListener("load",x,false)}else{var a=function(){if(v.readyState==="complete"){v.detachEvent(w,a);x()}};v.attachEvent(w,a);d.attachEvent("onload",x);if(d==d.top){var c=function(){try{q("left");x()}catch(i){setTimeout(c,1)}};c()}}},_fireReady:function(){if(!g){g=true;if(e){for(var h,q=0;h=e[q++];)h.call(d,this);
e=null}}},available:function(h,q){if((h=(h+"").match(u)[1])&&o.isFunction(q))var w=1,x=o.later(function(){if(v.getElementById(h)&&(q()||1)||++w>500)x.cancel()},40,true)},mix:k,merge:function(){var h={},q,w=arguments.length;for(q=0;q<w;++q)k(h,arguments[q]);return h},augment:function(){var h=arguments,q=h.length-2,w=h[0],x=h[q],m=h[q+1],a=1;if(!o.isArray(m)){x=m;m=r;q++}if(!o.isBoolean(x)){x=r;q++}for(;a<q;a++)k(w.prototype,h[a].prototype||h[a],x,m);return w},extend:function(h,q,w,x){if(!q||!h)return h;
var m=Object.prototype,a=q.prototype,c=function(i){function b(){}b.prototype=i;return new b}(a);h.prototype=c;c.constructor=h;h.superclass=a;if(q!==Object&&a.constructor===m.constructor)a.constructor=q;w&&k(c,w);x&&k(h,x);return h},namespace:function(){var h=arguments.length,q=null,w,x,m;for(w=0;w<h;++w){m=(""+arguments[w]).split(".");q=this;for(x=d[m[0]]===q?1:0;x<m.length;++x)q=q[m[x]]=q[m[x]]||{}}return q},app:function(h,q){var w=d[h]||{};k(w,this,true,o.Config.appMembers);w._init();return k(d[h]=
w,o.isFunction(q)?q():q)},log:function(h,q,w){if(o.Config.debug){if(w)h=w+": "+h;if(d.console!==r&&console.log)console[q&&console[q]?q:"log"](h)}},error:function(h){if(o.Config.debug)throw h;},guid:function(h){var q=n++ +"";return h?h+q:q}});o.Config={debug:"",appMembers:["namespace"]};if(j&&(j.search||"").indexOf("ks-debug")!==-1)o.Config.debug=true})(window,"KISSY");
(function(d,o,r){function v(b){var f=typeof b;return b===null||f!=="object"&&f!=="function"}function j(b){return e.slice.call(b)}var k=document,g=k.documentElement,e=Array.prototype,p=e.indexOf,u=e.lastIndexOf,n=e.filter,h=String.prototype.trim,q=Object.prototype.toString,w=encodeURIComponent,x=decodeURIComponent,m=/^\s+|\s+$/g,a=/^(\w+)\[\]$/,c=/\S/;o.mix(o,{isUndefined:function(b){return b===r},isBoolean:function(b){return typeof b==="boolean"},isString:function(b){return typeof b==="string"},isNumber:function(b){return typeof b===
"number"&&isFinite(b)},isPlainObject:function(b){return b&&q.call(b)==="[object Object]"&&!b.nodeType&&!b.setInterval},isEmptyObject:function(b){for(var f in b)return false;return true},isFunction:function(b){return q.call(b)==="[object Function]"},isArray:function(b){return q.call(b)==="[object Array]"},trim:h?function(b){return b==r?"":h.call(b)}:function(b){return b==r?"":b.toString().replace(m,"")},substitute:function(b,f,l){if(!o.isString(b)||!o.isPlainObject(f))return b;return b.replace(l||
/\\?\{([^{}]+)\}/g,function(s,t){if(s.charAt(0)==="\\")return s.slice(1);return f[t]!==r?f[t]:""})},each:function(b,f,l){var s,t=0,A=b.length,y=A===r||o.isFunction(b);l=l||d;if(y)for(s in b){if(f.call(l,b[s],s,b)===false)break}else for(s=b[0];t<A&&f.call(l,s,t,b)!==false;s=b[++t]);return b},indexOf:p?function(b,f){return p.call(f,b)}:function(b,f){for(var l=0,s=f.length;l<s;++l)if(f[l]===b)return l;return-1},lastIndexOf:u?function(b,f){return u.call(f,b)}:function(b,f){for(var l=f.length-1;l>=0;l--)if(f[l]===
b)break;return l},unique:function(b,f){f&&b.reverse();b=b.slice();for(var l=0,s,t;l<b.length;){for(t=b[l];(s=o.lastIndexOf(t,b))!==l;)b.splice(s,1);l+=1}f&&b.reverse();return b},inArray:function(b,f){return o.indexOf(b,f)>-1},makeArray:function(b){if(b===null||b===r)return[];if(o.isArray(b))return b;if(typeof b.length!=="number"||o.isString(b)||o.isFunction(b))return[b];return j(b)},filter:n?function(b,f,l){return n.call(b,f,l)}:function(b,f,l){var s=[];o.each(b,function(t,A,y){f.call(l,t,A,y)&&s.push(t)});
return s},param:function(b,f){if(!o.isPlainObject(b))return"";f=f||"&";var l=[],s,t;for(s in b){t=b[s];s=w(s);if(v(t))l.push(s,"=",w(t+""),f);else if(o.isArray(t)&&t.length)for(var A=0,y=t.length;A<y;++A)v(t[A])&&l.push(s,"[]=",w(t[A]+""),f)}l.pop();return l.join("")},unparam:function(b,f){if(typeof b!=="string"||(b=o.trim(b)).length===0)return{};var l={};b=b.split(f||"&");for(var s,t,A,y=0,z=b.length;y<z;++y){f=b[y].split("=");s=x(f[0]);try{t=x(f[1]||"")}catch(B){t=f[1]||""}if((A=s.match(a))&&A[1]){l[A[1]]=
l[A[1]]||[];l[A[1]].push(t)}else l[s]=t}return l},later:function(b,f,l,s,t){f=f||0;s=s||{};var A=b,y=o.makeArray(t),z;if(o.isString(b))A=s[b];A||o.error("method undefined");b=function(){A.apply(s,y)};z=l?setInterval(b,f):setTimeout(b,f);return{id:z,interval:l,cancel:function(){this.interval?clearInterval(z):clearTimeout(z)}}},clone:function(b){var f=b,l,s;if(b&&((l=o.isArray(b))||o.isPlainObject(b))){f=l?[]:{};for(s in b)if(b.hasOwnProperty(s))f[s]=o.clone(b[s])}return f},now:function(){return(new Date).getTime()},
globalEval:function(b){if(b&&c.test(b)){var f=k.getElementsByTagName("head")[0]||g,l=k.createElement("script");l.text=b;f.insertBefore(l,f.firstChild);f.removeChild(l)}}});try{j(g.childNodes)}catch(i){j=function(b){for(var f=[],l=b.length-1;l>=0;l--)f[l]=b[l];return f}}})(window,KISSY);
(function(d,o,r){var v=d.document,j=v.getElementsByTagName("head")[0]||v.documentElement,k=o.Config,g=2,e=4,p=o.mix,u=v.createElement("script").readyState?function(h,q){h.onreadystatechange=function(){var w=h.readyState;if(w==="loaded"||w==="complete"){h.onreadystatechange=null;q.call(this)}}}:function(h,q){h.onload=q},n=/\.css(?:\?|$)/i;p(o,{_init:function(){this.Env={mods:{}}},add:function(h,q,w){var x=this.Env.mods;if(o.isPlainObject(h)){o.each(h,function(m,a){m.name=a});p(x,h)}else{x[h]=x[h]||
{};p(x[h],{name:h,fn:q});p(x[h],w)}return this},use:function(h,q){h=h.replace(/\s+/g,"").split(",");for(var w=this,x=w.Env.mods,m=0,a=h.length,c,i;m<a&&(c=x[h[m++]]);)c.status!==e&&w._attach(c,function(){if(!i&&w._isAttached(h)){i=true;q&&q(w)}});return w},_attach:function(h,q){function w(){if(x._isAttached(m)){if(h.status===g){h.fn&&h.fn(x);h.status=e;o.log(h.name+".status = attached")}h.status===e&&q()}}for(var x=this,m=h.requires||[],a=0,c=m.length;a<c;a++)x._attach(x.Env.mods[m[a]],w);x._buildPath(h);
if(h.fullpath)x._load(h,w);else{h.status=g;w()}},_isAttached:function(h){for(var q=this.Env.mods,w,x=(h=o.makeArray(h)).length-1;x>=0&&(w=q[h[x]]);x--)if(w.status!==e)return false;return true},_load:function(h,q){var w;if((h.status||0)<1&&(w=h.fullpath)){h.status=1;this.getScript(w,{success:function(){if(h.status===1){o.log(h.name+" onload fired.");h.status=g;q()}},error:function(){h.status=3}})}},_buildPath:function(h){if(!h.fullpath&&h.path)h.fullpath=k.base+h.path},getScript:function(h,q,w){var x=
n.test(h),m=v.createElement(x?"link":"script"),a=q,c,i,b;if(o.isPlainObject(a)){q=a.success;c=a.error;i=a.timeout;w=a.charset}if(x){m.href=h;m.rel="stylesheet"}else{m.src=h;m.async=true}if(w)m.charset=w;if(o.isFunction(q))x?q.call(m):u(m,function(){if(b){b.cancel();b=r}q.call(m)});if(o.isFunction(c))b=o.later(function(){b=r;c()},(i||k.timeout)*1E3);j.insertBefore(m,j.firstChild);return o}});o._init();k.appMembers.push("_init","add","use","_attach","_isAttached");p(k,{base:"http://a.tbcdn.cn/s/kissy/1.1.2dev/build/",
timeout:10})})(window,KISSY);(function(d){var o={core:{path:"packages/core-min.js"}};d.each(["sizzle","datalazyload","flash","switchable","suggest"],function(r){o[r]={path:r+"/"+r+"-pkg-min.js",requires:["core"]}});d.add(o)})(KISSY);
KISSY.add("ua",function(d){var o=navigator.userAgent,r="",v="",j,k={webkit:0,trident:0,gecko:0,presto:0,chrome:0,safari:0,firefox:0,ie:0,opera:0},g=function(e){var p=0;return parseFloat(e.replace(/\./g,function(){return p++===0?".":""}))};if((j=o.match(/AppleWebKit\/([\d.]*)/))&&j[1]){k[r="webkit"]=g(j[1]);if((j=o.match(/Chrome\/([\d.]*)/))&&j[1])k[v="chrome"]=g(j[1]);else if((j=o.match(/\/([\d.]*) Safari/))&&j[1])k[v="safari"]=g(j[1]);if(/ Mobile\//.test(o))k.mobile="apple";else if(j=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=
j[0].toLowerCase()}else if((j=o.match(/Presto\/([\d.]*)/))&&j[1]){k[r="presto"]=g(j[1]);if((j=o.match(/Opera\/([\d.]*)/))&&j[1]){k[v="opera"]=g(j[1]);if((j=o.match(/Opera\/.* Version\/([\d.]*)/))&&j[1])k[v]=g(j[1]);if((j=o.match(/Opera Mini[^;]*/))&&j)k.mobile=j[0].toLowerCase();else if((j=o.match(/Opera Mobi[^;]*/))&&j)k.mobile=j[0]}}else if((j=o.match(/MSIE\s([^;]*)/))&&j[1]){k[r="trident"]=0.1;k[v="ie"]=g(j[1]);if((j=o.match(/Trident\/([\d.]*)/))&&j[1])k[r]=g(j[1])}else if(j=o.match(/Gecko/)){k[r=
"gecko"]=0.1;if((j=o.match(/rv:([\d.]*)/))&&j[1])k[r]=g(j[1]);if((j=o.match(/Firefox\/([\d.]*)/))&&j[1])k[v="firefox"]=g(j[1])}k.core=r;k.shell=v;k._numberify=g;d.UA=k});
KISSY.add("ua-extra",function(d){var o=d.UA,r=navigator.userAgent,v,j,k={},g=o._numberify;if(r.match(/360SE/))k[j="se360"]=3;else if(r.match(/Maxthon/)&&(v=window.external)){j="maxthon";try{k[j]=g(v.max_version)}catch(e){k[j]=0.1}}else if(v=r.match(/TencentTraveler\s([\d.]*)/))k[j="tt"]=v[1]?g(v[1]):0.1;else if(r.match(/TheWorld/))k[j="theworld"]=3;else if(v=r.match(/SE\s([\d.]*)/))k[j="sougou"]=v[1]?g(v[1]):0.1;j&&(k.shell=j);d.mix(o,k)});
KISSY.add("dom",function(d,o){function r(v,j){return v&&v.nodeType===j}d.DOM={_isElementNode:function(v){return r(v,1)},_isKSNode:function(v){return d.Node&&r(v,d.Node.TYPE)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:r(v,9)?v.defaultView||v.parentWindow:v===o?window:false},_nodeTypeIs:r}});
KISSY.add("selector",function(d,o){function r(a,c){var i,b=[],f,l;c=v(c);if(d.isString(a)){a=d.trim(a);if(x.test(a)){if(a=j(a.slice(1),c))b=[a]}else if(i=m.exec(a)){f=i[1];l=i[2];i=i[3];if(c=f?j(f,c):c)if(i)if(!f||a.indexOf(n)!==-1)b=g(i,l,c);else{if((a=j(f,c))&&u.hasClass(a,i))b=[a]}else if(l)b=k(l,c)}else if(d.ExternalSelector)return d.ExternalSelector(a,c);else e(a)}else if(a&&(a[q]||a[w]))b=a[q]?[a[q]()]:a[w]();else if(a&&(d.isArray(a)||a.item&&!a.nodeType))b=a;else if(a)b=[a];if(b.item)b=d.makeArray(b);
b.each=function(s,t){return d.each(b,s,t)};return b}function v(a){if(a===o)a=p;else if(d.isString(a)&&x.test(a))a=j(a.slice(1),p);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function j(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function k(a,c){return c.getElementsByTagName(a)}function g(a,c,i){i=a=i.getElementsByClassName(a);var b=0,f=0,l=a.length,s;if(c&&c!==h){i=[];for(c=c.toUpperCase();b<l;++b){s=a[b];if(s.tagName===c)i[f++]=s}}return i}function e(a){d.error("Unsupported selector: "+
a)}var p=document,u=d.DOM,n=" ",h="*",q="getDOMNode",w=q+"s",x=/^#[\w-]+$/,m=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=p.createElement("div");a.appendChild(p.createComment(""));if(a.getElementsByTagName(h).length>0)k=function(c,i){i=i.getElementsByTagName(c);if(c===h){c=[];for(var b=0,f=0,l;l=i[b++];)if(l.nodeType===1)c[f++]=l;i=c}return i}})();p.getElementsByClassName||(g=p.querySelectorAll?function(a,c,i){return i.querySelectorAll((c?c:"")+"."+a)}:function(a,c,i){c=i.getElementsByTagName(c||
h);i=[];var b=0,f=0,l=c.length,s,t;for(a=n+a+n;b<l;++b){s=c[b];if((t=s.className)&&(n+t+n).indexOf(a)>-1)i[f++]=s}return i});d.query=r;d.get=function(a,c){return r(a,c)[0]||null};d.mix(u,{query:r,get:d.get,filter:function(a,c){var i=r(a),b,f,l,s=[];if(d.isString(c)&&(b=m.exec(c))&&!b[1]){f=b[2];l=b[3];c=function(t){return!(f&&t.tagName!==f.toUpperCase()||l&&!u.hasClass(t,l))}}if(d.isFunction(c))s=d.filter(i,c);else if(c&&d.ExternalSelector)s=d.ExternalSelector._filter(a,c);else e(c);return s},test:function(a,
c){a=r(a);return u.filter(a,c).length===a.length}})});
KISSY.add("dom-class",function(d,o){function r(g,e,p,u){if(!(e=d.trim(e)))return u?false:o;g=d.query(g);var n=0,h=g.length;e=e.split(j);for(var q;n<h;n++){q=g[n];if(v._isElementNode(q)){q=p(q,e,e.length);if(q!==o)return q}}if(u)return false}var v=d.DOM,j=/[\.\s]\s*\.?/,k=/[\n\t]/g;d.mix(v,{hasClass:function(g,e){return r(g,e,function(p,u,n){if(p=p.className){p=" "+p+" ";for(var h=0,q=true;h<n;h++)if(p.indexOf(" "+u[h]+" ")<0){q=false;break}if(q)return true}},true)},addClass:function(g,e){r(g,e,function(p,
u,n){var h=p.className;if(h){var q=" "+h+" ";h=h;for(var w=0;w<n;w++)if(q.indexOf(" "+u[w]+" ")<0)h+=" "+u[w];p.className=d.trim(h)}else p.className=e})},removeClass:function(g,e){r(g,e,function(p,u,n){var h=p.className;if(h)if(n){h=(" "+h+" ").replace(k," ");for(var q=0,w;q<n;q++)for(w=" "+u[q]+" ";h.indexOf(w)>=0;)h=h.replace(w," ");p.className=d.trim(h)}else p.className=""})},replaceClass:function(g,e,p){v.removeClass(g,e);v.addClass(g,p)},toggleClass:function(g,e,p){var u=d.isBoolean(p),n;r(g,
e,function(h,q,w){for(var x=0,m;x<w;x++){m=q[x];n=u?!p:v.hasClass(h,m);v[n?"removeClass":"addClass"](h,m)}})}})});
KISSY.add("dom-attr",function(d,o){function r(m,a){return a&&a.nodeName.toUpperCase()===m.toUpperCase()}var v=d.UA,j=v.ie,k=j&&j<8,g=document.documentElement.textContent!==o?"textContent":"innerText",e=d.DOM,p=e._isElementNode,u=function(m){return e._nodeTypeIs(m,3)},n=/href|src|style/,h=/href|src|colspan|rowspan/,q=/\r/g,w=/radio|checkbox/,x={readonly:"readOnly"};k&&d.mix(x,{"for":"htmlFor","class":"className"});d.mix(e,{attr:function(m,a,c){if(d.isPlainObject(a))for(var i in a)e.attr(m,i,a[i]);
else if(a=d.trim(a)){a=a.toLowerCase();a=x[a]||a;if(c===o){m=d.get(m);if(!p(m))return o;var b;n.test(a)||(b=m[a]);if(b===o)b=m.getAttribute(a);if(k)if(h.test(a))b=m.getAttribute(a,2);else if(a==="style")b=m.style.cssText;return b===null?o:b}d.each(d.query(m),function(f){if(p(f))if(a==="style")f.style.cssText=c;else{if(a==="checked")f[a]=!!c;f.setAttribute(a,""+c)}})}},removeAttr:function(m,a){d.each(d.query(m),function(c){if(p(c)){e.attr(c,a,"");c.removeAttribute(a)}})},val:function(m,a){if(a===o){var c=
d.get(m);if(!p(c))return o;if(r("option",c))return(c.attributes.value||{}).specified?c.value:c.text;if(r("select",c)){var i=c.selectedIndex;m=c.options;if(i<0)return null;else if(c.type==="select-one")return e.val(m[i]);c=[];for(var b=0,f=m.length;b<f;++b)m[b].selected&&c.push(e.val(m[b]));return c}if(v.webkit&&w.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(q,"")}d.each(d.query(m),function(l){if(r("select",l)){if(d.isNumber(a))a+="";var s=d.makeArray(a),
t=l.options,A;b=0;for(f=t.length;b<f;++b){A=t[b];A.selected=d.inArray(e.val(A),s)}if(!s.length)l.selectedIndex=-1}else if(p(l))l.value=a})},text:function(m,a){if(a===o){m=d.get(m);if(p(m))return m[g]||"";else if(u(m))return m.nodeValue}else d.each(d.query(m),function(c){if(p(c))c[g]=a;else if(u(c))c.nodeValue=a})}})});
KISSY.add("dom-style",function(d,o){function r(a,c){var i=d.get(a),b=c===p?i.offsetWidth:i.offsetHeight;d.each(c===p?["Left","Right"]:["Top","Bottom"],function(f){b-=parseFloat(j._getComputedStyle(i,"padding"+f))||0;b-=parseFloat(j._getComputedStyle(i,"border"+f+"Width"))||0});return b}function v(a,c,i){var b=i;if(i===u&&h.test(c)){b=0;if(j.css(a,"position")==="absolute"){i=a[c==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)i-=n(j.css(a.offsetParent,"border-"+c+"-width"))||0;b=i-(n(j.css(a,
"margin-"+c))||0)}}return b}var j=d.DOM,k=d.UA,g=document,e=g.documentElement,p="width",u="auto",n=parseInt,h=/^left|top$/,q=/width|height|top|left|right|bottom|margin|padding/i,w=/-([a-z])/ig,x=function(a,c){return c.toUpperCase()},m={};d.mix(j,{_CUSTOM_STYLES:m,_getComputedStyle:function(a,c){var i="",b=a.ownerDocument;if(a.style)i=b.defaultView.getComputedStyle(a,null)[c];return i},css:function(a,c,i){if(d.isPlainObject(c))for(var b in c)j.css(a,b,c[b]);else{if(c.indexOf("-")>0)c=c.replace(w,x);
c=m[c]||c;if(i===o){a=d.get(a);b="";if(a&&a.style){b=c.get?c.get(a):a.style[c];if(b===""&&!c.get)b=v(a,c,j._getComputedStyle(a,c))}return b===o?"":b}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&q.test(c))i+="px";(c===p||c==="height")&&parseFloat(i)<0||d.each(d.query(a),function(f){if(f&&f.style){c.set?c.set(f,i):(f.style[c]=i);if(i==="")f.style.cssText||f.removeAttribute("style")}})}}},width:function(a,c){if(c===o)return r(a,p);else j.css(a,p,c)},height:function(a,c){if(c===o)return r(a,
"height");else j.css(a,"height",c)},addStyleSheet:function(a,c){var i;if(c)i=d.get(c);i||(i=j.create("<style>",{id:c}));d.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=a;else i.appendChild(g.createTextNode(a))}});if(e.style.cssFloat!==o)m["float"]="cssFloat";else if(e.style.styleFloat!==o)m["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(d,o){if(d.UA.ie){var r=d.DOM,v=document,j=v.documentElement,k=r._CUSTOM_STYLES,g=/^-?\d+(?:px)?$/i,e=/^-?\d/,p=/^width|height$/;try{if(j.style.opacity===o&&j.filters)k.opacity={get:function(n){var h=100;try{h=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{h=n.filters("alpha").opacity}catch(w){}}return h/100+""},set:function(n,h){n=n.style;n.zoom=1;n.filter="alpha(opacity="+h*100+")"}}}catch(u){d.log("IE filters ActiveX is disabled. ex = "+u)}if(!(v.defaultView||
{}).getComputedStyle&&j.currentStyle)r._getComputedStyle=function(n,h){var q=n.style,w=n.currentStyle[h];if(p.test(h))w=r[h](n)+"px";else if(!g.test(w)&&e.test(w)){var x=q.left,m=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;q.left=h==="fontSize"?"1em":w||0;w=q.pixelLeft+"px";q.left=x;n.runtimeStyle.left=m}return w}}});
KISSY.add("dom-offset",function(d,o){function r(s){var t=0,A=0,y=n(s[a]);if(s[l]){s=s[l]();t=s[c];A=s[i];if(k.mobile!=="apple"){t+=j[b](y);A+=j[f](y)}}return{left:t,top:A}}function v(s,t){if(j.css(s,x)==="static")s.style[x]=m;var A=r(s),y={},z,B;for(B in t){z=w(j.css(s,B),10)||0;y[B]=z+t[B]-A[B]}j.css(s,y)}var j=d.DOM,k=d.UA,g=window,e=document,p=j._isElementNode,u=j._nodeTypeIs,n=j._getWin,h=e.compatMode==="CSS1Compat",q=Math.max,w=parseInt,x="position",m="relative",a="ownerDocument",c="left",i=
"top",b="scrollLeft",f="scrollTop",l="getBoundingClientRect";d.mix(j,{offset:function(s,t){if(!(s=d.get(s))||!s[a])return null;if(t===o)return r(s);v(s,t)},scrollIntoView:function(s,t,A,y){if((s=d.get(s))&&s[a]){y=y===o?true:!!y;A=A===o?true:!!A;if(!t||t===g)return s.scrollIntoView(A);t=d.get(t);if(u(t,9))t=n(t);var z=t&&"scrollTo"in t&&t.document,B=j.offset(s),C=z?{left:j.scrollLeft(t),top:j.scrollTop(t)}:j.offset(t),D={left:B[c]-C[c],top:B[i]-C[i]};B=z?j.viewportHeight(t):t.clientHeight;C=z?j.viewportWidth(t):
t.clientWidth;var E=j[b](t),F=j[f](t),G=E+C,M=F+B,I=s.offsetHeight;s=s.offsetWidth;var H=D.left+E-(w(j.css(t,"borderLeftWidth"))||0);D=D.top+F-(w(j.css(t,"borderTopWidth"))||0);var N=H+s,J=D+I,K,L;if(I>B||D<F||A)K=D;else if(J>M)K=J-B;if(y)if(s>C||H<E||A)L=H;else if(N>G)L=N-C;if(z){if(K!==o||L!==o)t.scrollTo(L,K)}else{if(K!==o)t[f]=K;if(L!==o)t[b]=L}}}});d.each(["Left","Top"],function(s,t){var A="scroll"+s;j[A]=function(y){var z=0,B=n(y),C;if(B&&(C=B.document))z=B[t?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(p(y=d.get(y)))z=y[A];return z}});d.each(["Width","Height"],function(s){j["doc"+s]=function(t){t=t||e;return q(h?t.documentElement["scroll"+s]:t.body["scroll"+s],j["viewport"+s](t))};j["viewport"+s]=function(t){var A="inner"+s;t=n(t);var y=t.document;return A in t?t[A]:h?y.documentElement["client"+s]:y.body["client"+s]}})});
KISSY.add("dom-traversal",function(d,o){function r(g,e,p,u){if(!(g=d.get(g)))return null;if(e===o)e=1;var n=null,h,q;if(d.isNumber(e)&&e>=0){if(e===0)return g;h=0;q=e;e=function(){return++h===q}}for(;g=g[p];)if(k(g)&&(!e||j.test(g,e))&&(!u||u(g))){n=g;break}return n}function v(g,e,p){var u=[];var n=g=d.get(g);if(g&&p)n=g.parentNode;if(n){p=0;for(n=n.firstChild;n;n=n.nextSibling)if(k(n)&&n!==g&&(!e||j.test(n,e)))u[p++]=n}return u}var j=d.DOM,k=j._isElementNode;d.mix(j,{parent:function(g,e){return r(g,
e,"parentNode",function(p){return p.nodeType!=11})},next:function(g,e){return r(g,e,"nextSibling")},prev:function(g,e){return r(g,e,"previousSibling")},siblings:function(g,e){return v(g,e,true)},children:function(g,e){return v(g,e)},contains:function(g,e){var p=false;if((g=d.get(g))&&(e=d.get(e)))if(g.contains)return g.contains(e);else if(g.compareDocumentPosition)return!!(g.compareDocumentPosition(e)&16);else for(;!p&&(e=e.parentNode);)p=e==g;return p}})});
KISSY.add("dom-create",function(d,o){function r(y,z){q(y)&&d.isPlainObject(z)&&p.attr(y,z);return y}function v(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=d.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}else d.log("Unable to convert "+y+" to fragment.");return B}function j(y){var z=y.cloneNode(true);if(u.ie<8)z.innerHTML=y.innerHTML;return z}function k(y,z,B,C){if(B){var D=d.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+
D+'"></span>';d.available(D,function(){var F=d.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(i):false)&&I[2]){G=e.createElement("script");G.src=I[2];if((H=M.match(b))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)d.globalEval(J);(N=e.getElementById(D))&&p.remove(N);d.isFunction(C)&&C()});g(y,z)}else{g(y,z);d.isFunction(C)&&C()}}function g(y,z){z=(z+"").replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(p.create(z))}}var e=document,p=d.DOM,u=d.UA,n=u.ie,h=p._nodeTypeIs,q=p._isElementNode,w=p._isKSNode,x=e.createElement("div"),m=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,i=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;d.mix(p,{create:function(y,z,B){if(h(y,1)||h(y,3))return j(y);if(w(y))return j(y[0]);if(!(y=d.trim(y)))return null;var C=null;C=p._creators;var D,E="div",F;if(D=c.exec(y))C=(B||e).createElement(D[1]);else{if((D=m.exec(y))&&
(F=D[1])&&d.isFunction(C[F=F.toLowerCase()]))E=F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):v(y,B||e)}return r(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):x;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===o){y=d.get(y);if(q(y))return y.innerHTML}else d.each(d.query(y),function(D){q(D)&&k(D,z,B,C)})},remove:function(y){d.each(d.query(y),function(z){q(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(u.gecko||n){var f=p._creators,l=p.create,
s=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,t={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in t)(function(y){f[A]=function(z,B){return l("<"+y+">"+z+"</"+y+">",null,B)}})(t[A]);if(n){f.script=function(y,z){z=z?z.createElement("div"):x;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(n<8)f.tbody=function(y,z){z=l("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!s.test(y)&&B.parentNode.removeChild(B);
return z}}d.mix(f,{optgroup:f.option,th:f.td,thead:f.tbody,tfoot:f.tbody,caption:f.tbody,colgroup:f.tbody})}});KISSY.add("dom-insertion",function(d){d.mix(d.DOM,{insertBefore:function(o,r){if((o=d.get(o))&&(r=d.get(r))&&r.parentNode)r.parentNode.insertBefore(o,r);return o},insertAfter:function(o,r){if((o=d.get(o))&&(r=d.get(r))&&r.parentNode)r.nextSibling?r.parentNode.insertBefore(o,r.nextSibling):r.parentNode.appendChild(o);return o}})});
KISSY.add("event",function(d,o){function r(m,a,c,i,b){if(d.isString(a))a=d.query(a);if(d.isArray(a)){d.each(a,function(f){x[m](f,c,i,b)});return true}if((c=d.trim(c))&&c.indexOf(h)>0){d.each(c.split(h),function(f){x[m](a,f,i,b)});return true}}function v(m){return g(m)?m[n]:-1}function j(m,a){if(!g(m))return d.error("Text or comment node is not valid event target.");try{m[n]=a}catch(c){d.error(c)}}function k(m){try{m[n]=o;delete m[n]}catch(a){}}function g(m){return m&&m.nodeType!==3&&m.nodeType!==
8}var e=document,p=e.addEventListener?function(m,a,c,i){m.addEventListener&&m.addEventListener(a,c,!!i)}:function(m,a,c){m.attachEvent&&m.attachEvent("on"+a,c)},u=e.removeEventListener?function(m,a,c,i){m.removeEventListener&&m.removeEventListener(a,c,!!i)}:function(m,a,c){m.detachEvent&&m.detachEvent("on"+a,c)},n="ksEventTargetId",h=" ",q=d.now(),w={},x={EVENT_GUID:n,special:{},add:function(m,a,c,i){if(!r("add",m,a,c,i)){var b=v(m),f,l,s,t,A;if(!(b===-1||!a||!d.isFunction(c))){if(!b){j(m,b=q++);
w[b]={target:m,events:{}}}l=w[b].events;if(!l[a]){f=((b=!m.isCustomEventTarget)||m._supportSpecialEvent)&&x.special[a]||{};s=function(y,z){if(!y||!y.fixed){y=new d.EventObject(m,y,a);d.isPlainObject(z)&&d.mix(y,z)}f.setup&&f.setup(y);return(f.handle||x._handle)(m,y,l[a].listeners)};l[a]={handle:s,listeners:[]};t=f.fix||a;A=f.capture;if(b)p(m,t,s,A);else m._addEvent&&m._addEvent(t,s,A)}l[a].listeners.push({fn:c,scope:i||m})}}},remove:function(m,a,c,i){if(!r("remove",m,a,c,i)){var b=v(m),f,l,s,t,A,
y,z;if(b!==-1)if(b&&(f=w[b]))if(f.target===m){i=i||m;f=f.events||{};if(l=f[a]){s=l.listeners;y=s.length;if(d.isFunction(c)&&y){A=t=0;for(z=[];t<y;++t)if(c!==s[t].fn||i!==s[t].scope)z[A++]=s[t];l.listeners=z;y=z.length}if(c===o||y===0){if(m.isCustomEventTarget)m._addEvent&&m._removeEvent(a,l.handle);else u(m,a,l.handle);delete f[a]}}if(a===o||d.isEmptyObject(f)){for(a in f)x.remove(m,a);delete w[b];k(m)}}}},_handle:function(m,a,c){c=c.slice(0);for(var i,b=0,f=c.length;b<f;++b){i=c[b];i=i.fn.call(i.scope||
m,a);if(i===false&&m.isCustomEventTarget||a.isImmediatePropagationStopped)break}return i},_getCache:function(m){return w[m]},_simpleAdd:p,_simpleRemove:u};x.on=x.add;d.Event=x});
KISSY.add("event-object",function(d,o){function r(k,g,e){this.currentTarget=k;this.originalEvent=g||{};if(g){this.type=g.type;this._fix()}else{this.type=e;this.target=k}this.currentTarget=k;this.fixed=true}var v=document,j="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");d.augment(r,
{_fix:function(){var k=this.originalEvent,g=j.length,e,p=this.currentTarget;for(p=p.nodeType===9?p:p.ownerDocument||v;g;){e=j[--g];this[e]=k[e]}if(!this.target)this.target=this.srcElement||v;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===o&&this.clientX!==o){k=p.documentElement;g=p.body;this.pageX=this.clientX+(k&&k.scrollLeft||g&&g.scrollLeft||
0)-(k&&k.clientLeft||g&&g.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||g&&g.scrollTop||0)-(k&&k.clientTop||g&&g.clientTop||0)}if(this.which===o)this.which=this.charCode!==o?this.charCode:this.keyCode;if(this.metaKey===o)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==o)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});d.EventObject=r});
KISSY.add("event-target",function(d,o){var r=d.Event,v=r.EVENT_GUID;d.EventTarget={isCustomEventTarget:true,fire:function(j,k){if((j=((r._getCache(this[v]||-1)||{}).events||{})[j])&&d.isFunction(j.handle))return j.handle(o,k);return this},on:function(j,k,g){r.add(this,j,k,g);return this},detach:function(j,k,g){r.remove(this,j,k,g);return this}}});
KISSY.add("event-mouseenter",function(d){var o=d.Event;d.UA.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(r){o.special[r.name]={fix:r.fix,setup:function(v){v.type=r.name},handle:function(v,j,k){var g=j.relatedTarget;try{for(;g&&g!==v;)g=g.parentNode;g!==v&&o._handle(v,j,k)}catch(e){}}}})});
KISSY.add("event-focusin",function(d){var o=d.Event;document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(r){o.special[r.name]={fix:r.fix,capture:true,setup:function(v){v.type=r.name}}})});
KISSY.add("node",function(d){function o(j,k,g){var e;if(!(this instanceof o))return new o(j,k,g);if(j){if(v(j,1)||v(j,3))e=j;else if(d.isString(j))e=r.create(j,k,g);this[0]=e}else this.length=0}var r=d.DOM,v=r._nodeTypeIs;o.TYPE="-ks-Node";d.augment(o,{length:1,getDOMNode:function(){return this[0]},nodeType:o.TYPE});d.one=function(j,k){return(j=d.get(j,k))?new o(j):null};d.Node=o});
KISSY.add("nodelist",function(d){function o(j){if(!(this instanceof o))return new o(j);v.push.apply(this,j||[])}var r=d.DOM,v=Array.prototype;d.mix(o.prototype,{length:0,item:function(j){var k=null;if(r._isElementNode(this[j]))k=new d.Node(this[j]);return k},getDOMNodes:function(){return v.slice.call(this)},each:function(j,k){var g=this.length,e=0,p;for(p=new d.Node(this[0]);e<g&&j.call(k||p,p,e,this)!==false;p=new d.Node(this[++e]));return this}});d.all=function(j,k){return new o(d.query(j,k,true))};
d.NodeList=o});
KISSY.add("node-attach",function(d,o){function r(w,arguments,x,m){var a=[this[w?u:p]()].concat(d.makeArray(arguments));if(arguments[x]===o)return m.apply(j,a);else{m.apply(j,a);return this}}function v(w,x){d.each(w,function(m){d.each([g,e],function(a,c){a[m]=function(i){switch(x){case n:return function(){return r.call(this,c,arguments,1,i)};case h:return function(){return r.call(this,c,arguments,0,i)};case q:return function(){var b=this[c?u:p]();return(b=i.apply(j,[b].concat(d.makeArray(arguments))))?new (d[d.isArray(b)?
"NodeList":"Node"])(b):null};default:return function(){var b=this[c?u:p]();b=i.apply(j,[b].concat(d.makeArray(arguments)));return b===o?this:b}}}(j[m])})})}var j=d.DOM,k=d.Event,g=d.Node.prototype,e=d.NodeList.prototype,p="getDOMNode",u=p+"s",n=1,h=2,q=4;d.mix(g,{one:function(w){return d.one(w,this[0])},all:function(w){return d.all(w,this[0])}});v(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);v(["attr","removeAttr"],n);v(["val","text"],h);v(["css"],n);v(["width","height"],h);
v(["offset"],h);v(["scrollIntoView"]);v(["parent","next","prev","siblings","children"],q);v(["contains"]);v(["html"],h);v(["remove"]);d.each(["insertBefore","insertAfter"],function(w){g[w]=function(x){j[w].call(j,this[0],x);return this}});d.each([g,e],function(w){d.mix(w,{append:function(x){x&&d.each(this,function(m){m.appendChild(j.create(x))});return this},appendTo:function(x){if((x=d.get(x))&&x.appendChild)d.each(this,function(m){x.appendChild(m)});return this}})});d.each([g,e],function(w){d.mix(w,
d.EventTarget,{_supportSpecialEvent:true});w._addEvent=function(x,m,a){for(var c=0,i=this.length;c<i;c++)k._simpleAdd(this[c],x,m,a)};w._removeEvent=function(x,m,a){for(var c=0,i=this.length;c<i;c++)k._simpleRemove(this[c],x,m,a)};delete w.fire})});
KISSY.add("cookie",function(d){function o(k){return d.isString(k)&&k!==""}var r=document,v=encodeURIComponent,j=decodeURIComponent;d.Cookie={get:function(k){var g;if(o(k))if(k=r.cookie.match("(?:^| )"+k+"(?:(?:=([^;]*))|;|$)"))g=k[1]?j(k[1]):"";return g},set:function(k,g,e,p,u,n){g=v(g);var h=e;if(typeof h==="number"){h=new Date;h.setTime(h.getTime()+e*864E5)}if(h instanceof Date)g+="; expires="+h.toUTCString();if(o(p))g+="; domain="+p;if(o(u))g+="; path="+u;if(n)g+="; secure";r.cookie=k+"="+g},remove:function(k,
g,e,p){this.set(k,"",0,g,e,p)}}});
KISSY.add("json",function(d){function o(n){return n<10?"0"+n:n}function r(n){k.lastIndex=0;return k.test(n)?'"'+n.replace(k,function(h){var q=p[h];return typeof q==="string"?q:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function v(n,h){var q,w,x=g,m,a=h[n];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(n);if(typeof u==="function")a=u.call(h,n,a);switch(typeof a){case "string":return r(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";g+=e;m=[];if(Object.prototype.toString.apply(a)==="[object Array]"){w=a.length;for(n=0;n<w;n+=1)m[n]=v(n,a)||"null";h=m.length===0?"[]":g?"[\n"+g+m.join(",\n"+g)+"\n"+x+"]":"["+m.join(",")+"]";g=x;return h}if(u&&typeof u==="object"){w=u.length;for(n=0;n<w;n+=1){q=u[n];if(typeof q==="string")if(h=v(q,a))m.push(r(q)+(g?": ":":")+h)}}else for(q in a)if(Object.hasOwnProperty.call(a,q))if(h=v(q,a))m.push(r(q)+(g?": ":":")+h);h=m.length===0?"{}":g?"{\n"+g+m.join(",\n"+g)+
"\n"+x+"}":"{"+m.join(",")+"}";g=x;return h}}d=d.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,e,p={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof d.stringify!=="function")d.stringify=function(n,h,q){var w;e=g="";if(typeof q==="number")for(w=0;w<q;w+=1)e+=" ";else if(typeof q==="string")e=q;if((u=h)&&typeof h!=="function"&&(typeof h!=="object"||typeof h.length!=="number"))throw new Error("JSON.stringify");return v("",
{"":n})};if(typeof d.parse!=="function")d.parse=function(n,h){function q(w,x){var m,a,c=w[x];if(c&&typeof c==="object")for(m in c)if(Object.hasOwnProperty.call(c,m)){a=q(c,m);if(a!==undefined)c[m]=a;else delete c[m]}return h.call(w,x,c)}n=String(n);j.lastIndex=0;if(j.test(n))n=n.replace(j,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){n=eval("("+n+")");return typeof h==="function"?q({"":n},""):n}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(d){var o=Math,r=o.PI,v=o.pow,j=o.sin,k=1.70158,g={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(v(2,10*(e-=1))*j((e-0.075)*2*r/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return v(2,-10*e)*j((e-0.075)*2*r/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*v(2,10*(e-=1))*j((e-0.1125)*2*r/0.45);return v(2,-10*(e-=1))*j((e-0.1125)*2*r/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((k+1)*e-k)},backOut:function(e){return(e-=1)*e*((k+1)*e+k)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((k*=1.525)+1)*e-k);return 0.5*((e-=2)*e*(((k*=1.525)+1)*e+k)+2)},bounceIn:function(e){return 1-
g.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return g.bounceIn(e*2)*0.5;return g.bounceOut(e*2-1)*0.5+0.5}};d.Easing=g});
KISSY.add("anim",function(d,o){function r(m,a,c,i,b){if(m=d.get(m)){if(!(this instanceof r))return new r(m,a,c,i,b);var f=d.isPlainObject(c);a=a;this.domEl=m;if(d.isPlainObject(a))a=d.param(a,";").replace(/=/g,":");this.props=v(a);this.targetStyle=a;if(f)m=d.merge(x,c);else{m=d.clone(x);c&&(m.duration=n(c,10)||1);d.isString(i)&&(i=u[i]);d.isFunction(i)&&(m.easing=i);d.isFunction(b)&&(m.complete=b)}this.config=m;d.isFunction(b)&&this.on(w,b)}}function v(m){var a={},c=q.length,i;h.innerHTML='<div style="'+
m+'"></div>';for(m=h.firstChild.style;c--;)if(i=m[q[c]])a[q[c]]=j(i);return a}function j(m){var a=n(m);m=(m+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:m,u:"",f:g}:{v:a,u:m,f:k}}function k(m,a,c){return(m+(a-m)*c).toFixed(3)}function g(m,a,c){for(var i=2,b,f,l=[],s=[];b=3,f=arguments[i-1],i--;)if(e(f,0,4)==="rgb(")for(f=f.match(/\d+/g);b--;)l.push(~~f[b]);else if(e(f,0)==="#"){if(f.length===4)f="#"+e(f,1)+e(f,1)+e(f,2)+e(f,2)+e(f,3)+e(f,3);for(;b--;)l.push(parseInt(e(f,1+b*2,2),16))}else return a;
for(;b--;){i=~~(l[b+3]+(l[b]-l[b+3])*c);s.push(i<0?0:i>255?255:i)}return"rgb("+s.join(",")+")"}function e(m,a,c){return m.substr(a,c||1)}var p=d.DOM,u=d.Easing,n=parseFloat,h=p.create("<div>"),q="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
w="complete",x={duration:1,easing:u.easeNone};d.augment(r,d.EventTarget,{run:function(){var m=this,a=m.config,c=m.domEl,i=a.duration*1E3,b=a.easing,f=d.now(),l=f+i,s=m.props,t={},A;for(A in s)t[A]=j(p.css(c,A));if(m.fire("start")!==false){m.stop();m.timer=d.later(a=function(){var y=d.now(),z=y>l?1:(y-f)/i,B,C,D;for(A in s){B=t[A];C=s[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;p.css(c,A,C.f(B.v,C.v,b(z))+C.u)}if(m.fire("step")===false||(D=y>l)){m.stop();D&&m.fire(w)}},13,true);a();return m}},stop:function(m){var a=
this.domEl,c=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=o}if(m){d.UA.ie&&c.indexOf("opacity")>-1&&p.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+c;this.fire(w)}return this}});d.Anim=r});KISSY.add("anim-node-plugin",function(d,o){var r=d.Anim;d.each([d.Node.prototype,d.NodeList.prototype],function(v){v.animate=function(){var j=d.makeArray(arguments);d.each(this,function(k){r.apply(o,[k].concat(j)).run()});return this}})});
(function(){function d(a,c,i,b,f,l){f=0;for(var s=b.length;f<s;f++){var t=b[f];if(t){t=t[a];for(var A=false;t;){if(t.sizcache===i){A=b[t.sizset];break}if(t.nodeType===1&&!l){t.sizcache=i;t.sizset=f}if(t.nodeName.toLowerCase()===c){A=t;break}t=t[a]}b[f]=A}}}function o(a,c,i,b,f,l){f=0;for(var s=b.length;f<s;f++){var t=b[f];if(t){t=t[a];for(var A=false;t;){if(t.sizcache===i){A=b[t.sizset];break}if(t.nodeType===1){if(!l){t.sizcache=i;t.sizset=f}if(typeof c!=="string"){if(t===c){A=true;break}}else if(e.filter(c,
[t]).length>0){A=t;break}}t=t[a]}b[f]=A}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,v=0,j=Object.prototype.toString,k=false,g=true;[0,0].sort(function(){g=false;return 0});var e=function(a,c,i,b){i=i||[];var f=c=c||document;if(c.nodeType!==1&&c.nodeType!==9)return[];if(!a||typeof a!=="string")return i;var l=[],s,t,A,y,z=true,B=e.isXML(c),C=a,D;do{r.exec("");if(s=r.exec(C)){C=s[3];l.push(s[1]);if(s[2]){y=
s[3];break}}}while(s);if(l.length>1&&u.exec(a))if(l.length===2&&p.relative[l[0]])t=m(l[0]+l[1],c);else for(t=p.relative[l[0]]?[c]:e(l.shift(),c);l.length;){a=l.shift();if(p.relative[a])a+=l.shift();t=m(a,t)}else{if(!b&&l.length>1&&c.nodeType===9&&!B&&p.match.ID.test(l[0])&&!p.match.ID.test(l[l.length-1])){s=e.find(l.shift(),c,B);c=s.expr?e.filter(s.expr,s.set)[0]:s.set[0]}if(c){s=b?{expr:l.pop(),set:q(b)}:e.find(l.pop(),l.length===1&&(l[0]==="~"||l[0]==="+")&&c.parentNode?c.parentNode:c,B);t=s.expr?
e.filter(s.expr,s.set):s.set;if(l.length>0)A=q(t);else z=false;for(;l.length;){s=D=l.pop();if(p.relative[D])s=l.pop();else D="";if(s==null)s=c;p.relative[D](A,s,B)}}else A=[]}A||(A=t);A||e.error(D||a);if(j.call(A)==="[object Array]")if(z)if(c&&c.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&e.contains(c,A[a])))i.push(t[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&i.push(t[a]);else i.push.apply(i,A);else q(A,i);if(y){e(y,f,i,b);e.uniqueSort(i)}return i};
e.uniqueSort=function(a){if(x){k=g;a.sort(x);if(k)for(var c=1;c<a.length;c++)a[c]===a[c-1]&&a.splice(c--,1)}return a};e.matches=function(a,c){return e(a,null,null,c)};e.find=function(a,c,i){var b;if(!a)return[];for(var f=0,l=p.order.length;f<l;f++){var s=p.order[f],t;if(t=p.leftMatch[s].exec(a)){var A=t[1];t.splice(1,1);if(A.substr(A.length-1)!=="\\"){t[1]=(t[1]||"").replace(/\\/g,"");b=p.find[s](t,c,i);if(b!=null){a=a.replace(p.match[s],"");break}}}}b||(b=c.getElementsByTagName("*"));return{set:b,
expr:a}};e.filter=function(a,c,i,b){for(var f=a,l=[],s=c,t,A,y=c&&c[0]&&e.isXML(c[0]);a&&c.length;){for(var z in p.filter)if((t=p.leftMatch[z].exec(a))!=null&&t[2]){var B=p.filter[z],C,D;D=t[1];A=false;t.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(s===l)l=[];if(p.preFilter[z])if(t=p.preFilter[z](t,s,i,l,b,y)){if(t===true)continue}else A=C=true;if(t)for(var E=0;(D=s[E])!=null;E++)if(D){C=B(D,t,E,s);var F=b^!!C;if(i&&C!=null)if(F)A=true;else s[E]=false;else if(F){l.push(D);A=true}}if(C!==undefined){i||
(s=l);a=a.replace(p.match[z],"");if(!A)return[];break}}}if(a===f)if(A==null)e.error(a);else break;f=a}return s};e.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var p=e.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,c){var i=typeof c==="string",b=i&&!/\W/.test(c);i=i&&!b;if(b)c=c.toLowerCase();b=0;for(var f=a.length,l;b<f;b++)if(l=a[b]){for(;(l=l.previousSibling)&&l.nodeType!==1;);a[b]=i||l&&l.nodeName.toLowerCase()===
c?l||false:l===c}i&&e.filter(c,a,true)},">":function(a,c){var i=typeof c==="string",b,f=0,l=a.length;if(i&&!/\W/.test(c))for(c=c.toLowerCase();f<l;f++){if(b=a[f]){i=b.parentNode;a[f]=i.nodeName.toLowerCase()===c?i:false}}else{for(;f<l;f++)if(b=a[f])a[f]=i?b.parentNode:b.parentNode===c;i&&e.filter(c,a,true)}},"":function(a,c,i){var b=v++,f=o,l;if(typeof c==="string"&&!/\W/.test(c)){l=c=c.toLowerCase();f=d}f("parentNode",c,b,a,l,i)},"~":function(a,c,i){var b=v++,f=o,l;if(typeof c==="string"&&!/\W/.test(c)){l=
c=c.toLowerCase();f=d}f("previousSibling",c,b,a,l,i)}},find:{ID:function(a,c,i){if(typeof c.getElementById!=="undefined"&&!i)return(a=c.getElementById(a[1]))?[a]:[]},NAME:function(a,c){if(typeof c.getElementsByName!=="undefined"){var i=[];c=c.getElementsByName(a[1]);for(var b=0,f=c.length;b<f;b++)c[b].getAttribute("name")===a[1]&&i.push(c[b]);return i.length===0?null:i}},TAG:function(a,c){return c.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,c,i,b,f,l){a=" "+a[1].replace(/\\/g,"")+" ";
if(l)return a;l=0;for(var s;(s=c[l])!=null;l++)if(s)if(f^(s.className&&(" "+s.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))i||b.push(s);else if(i)c[l]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var c=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=c[1]+(c[2]||1)-0;a[3]=c[3]-0}a[0]=v++;return a},ATTR:function(a,c,i,b,f,l){c=
a[1].replace(/\\/g,"");if(!l&&p.attrMap[c])a[1]=p.attrMap[c];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,c,i,b,f){if(a[1]==="not")if((r.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=e(a[3],null,null,c);else{a=e.filter(a[3],c,i,true^f);i||b.push.apply(b,a);return false}else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,c,i){return!!e(i[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,c){return c===0},last:function(a,c,i,b){return c===b.length-1},even:function(a,c){return c%2===0},odd:function(a,c){return c%2===1},lt:function(a,c,i){return c<i[3]-0},gt:function(a,c,i){return c>i[3]-0},nth:function(a,c,i){return i[3]-
0===c},eq:function(a,c,i){return i[3]-0===c}},filter:{PSEUDO:function(a,c,i,b){var f=c[1],l=p.filters[f];if(l)return l(a,i,c,b);else if(f==="contains")return(a.textContent||a.innerText||e.getText([a])||"").indexOf(c[3])>=0;else if(f==="not"){c=c[3];i=0;for(b=c.length;i<b;i++)if(c[i]===a)return false;return true}else e.error("Syntax error, unrecognized expression: "+f)},CHILD:function(a,c){var i=c[1],b=a;switch(i){case "only":case "first":for(;b=b.previousSibling;)if(b.nodeType===1)return false;if(i===
"first")return true;b=a;case "last":for(;b=b.nextSibling;)if(b.nodeType===1)return false;return true;case "nth":i=c[2];var f=c[3];if(i===1&&f===0)return true;c=c[0];var l=a.parentNode;if(l&&(l.sizcache!==c||!a.nodeIndex)){var s=0;for(b=l.firstChild;b;b=b.nextSibling)if(b.nodeType===1)b.nodeIndex=++s;l.sizcache=c}a=a.nodeIndex-f;return i===0?a===0:a%i===0&&a/i>=0}},ID:function(a,c){return a.nodeType===1&&a.getAttribute("id")===c},TAG:function(a,c){return c==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
c},CLASS:function(a,c){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(c)>-1},ATTR:function(a,c){var i=c[1];a=p.attrHandle[i]?p.attrHandle[i](a):a[i]!=null?a[i]:a.getAttribute(i);i=a+"";var b=c[2];c=c[4];return a==null?b==="!=":b==="="?i===c:b==="*="?i.indexOf(c)>=0:b==="~="?(" "+i+" ").indexOf(c)>=0:!c?i&&a!==false:b==="!="?i!==c:b==="^="?i.indexOf(c)===0:b==="$="?i.substr(i.length-c.length)===c:b==="|="?i===c||i.substr(0,c.length+1)===c+"-":false},POS:function(a,c,i,b){var f=p.setFilters[c[2]];
if(f)return f(a,i,c,b)}}},u=p.match.POS,n=function(a,c){return"\\"+(c-0+1)};for(var h in p.match){p.match[h]=new RegExp(p.match[h].source+/(?![^\[]*\])(?![^\(]*\))/.source);p.leftMatch[h]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[h].source.replace(/\\(\d+)/g,n))}var q=function(a,c){a=Array.prototype.slice.call(a,0);if(c){c.push.apply(c,a);return c}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(w){q=function(a,c){c=c||[];var i=0;if(j.call(a)==="[object Array]")Array.prototype.push.apply(c,
a);else if(typeof a.length==="number")for(var b=a.length;i<b;i++)c.push(a[i]);else for(;a[i];i++)c.push(a[i]);return c}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,c){if(!a.compareDocumentPosition||!c.compareDocumentPosition){if(a==c)k=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(c)&4?-1:a===c?0:1;if(a===0)k=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,c){if(!a.sourceIndex||!c.sourceIndex){if(a==c)k=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-c.sourceIndex;if(a===0)k=true;return a};else if(document.createRange)x=function(a,c){if(!a.ownerDocument||!c.ownerDocument){if(a==c)k=true;return a.ownerDocument?-1:1}var i=a.ownerDocument.createRange(),b=c.ownerDocument.createRange();i.setStart(a,0);i.setEnd(a,0);b.setStart(c,0);b.setEnd(c,0);a=i.compareBoundaryPoints(Range.START_TO_END,b);if(a===0)k=true;return a};e.getText=function(a){for(var c="",i,b=0;a[b];b++){i=a[b];if(i.nodeType===3||i.nodeType===4)c+=i.nodeValue;else if(i.nodeType!==
8)c+=e.getText(i.childNodes)}return c};(function(){var a=document.createElement("div"),c="script"+(new Date).getTime();a.innerHTML="<a name='"+c+"'/>";var i=document.documentElement;i.insertBefore(a,i.firstChild);if(document.getElementById(c)){p.find.ID=function(b,f,l){if(typeof f.getElementById!=="undefined"&&!l)return(f=f.getElementById(b[1]))?f.id===b[1]||typeof f.getAttributeNode!=="undefined"&&f.getAttributeNode("id").nodeValue===b[1]?[f]:undefined:[]};p.filter.ID=function(b,f){var l=typeof b.getAttributeNode!==
"undefined"&&b.getAttributeNode("id");return b.nodeType===1&&l&&l.nodeValue===f}}i.removeChild(a);i=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)p.find.TAG=function(c,i){i=i.getElementsByTagName(c[1]);if(c[1]==="*"){c=[];for(var b=0;i[b];b++)i[b].nodeType===1&&c.push(i[b]);i=c}return i};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")p.attrHandle.href=function(c){return c.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=e,c=document.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!(c.querySelectorAll&&c.querySelectorAll(".TEST").length===0)){e=function(b,f,l,s){f=f||document;if(!s&&f.nodeType===9&&!e.isXML(f))try{return q(f.querySelectorAll(b),l)}catch(t){}return a(b,f,l,s)};for(var i in a)e[i]=a[i];c=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){p.order.splice(1,0,"CLASS");p.find.CLASS=function(c,i,b){if(typeof i.getElementsByClassName!=="undefined"&&!b)return i.getElementsByClassName(c[1])};a=null}}})();e.contains=document.compareDocumentPosition?function(a,c){return!!(a.compareDocumentPosition(c)&16)}:function(a,c){return a!==c&&(a.contains?a.contains(c):true)};e.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var m=function(a,c){var i=[],b="",f;for(c=c.nodeType?[c]:c;f=p.match.PSEUDO.exec(a);){b+=f[0];a=a.replace(p.match.PSEUDO,"")}a=p.relative[a]?a+"*":a;f=0;for(var l=c.length;f<l;f++)e(a,c[f],i);return e.filter(b,i)}})();KISSY.add("sizzle",function(d){d.ExternalSelector=Sizzle;d.ExternalSelector._filter=function(o,r){return Sizzle.matches(r,d.query(o))}},{requires:["core"]});
KISSY.add("flash-ua",function(d){function o(){var u;if(navigator.plugins&&navigator.mimeTypes.length)u=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{u=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(n){}if(u)return r(u)}function r(u){return u.match(/(\d)+/g)}function v(u){var n=d.isString(u)?r(u):u;u=u;if(d.isArray(n))u=parseFloat(n[0]+"."+j(n[1],3)+j(n[2],5));return u||0}function j(u,n){for(var h=(u+"").length;h++<n;)u="0"+
u;return u}var k=d.UA,g,e,p=true;k.fpv=function(u){if(u||p){p=false;g=o();e=v(g)}return g};k.fpvGEQ=function(u,n){p&&k.fpv(n);return!!e&&e>=v(u)}});KISSY.add("flash",function(d){d.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-embed",function(d){function o(u,n,h){var q=v.create("<param>");v.attr(q,{name:n,value:h});u.appendChild(q)}var r=d.UA,v=d.DOM,j=d.Flash,k=/object|embed/i,g=encodeURIComponent,e={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},p={params:{},attrs:{width:215,height:138},version:9};d.mix(j,{fpv:r.fpv,fpvGEQ:r.fpvGEQ,add:function(u,n,h){var q,
w;n=j._normalize(n);n=d.merge(p,n);n.attrs=d.merge(p.attrs,n.attrs);if(u=d.get(u)){if(!u.id)u.id=d.guid("ks-flash-");w=n.attrs.id=u.id;if(r.fpv()){if(!r.fpvGEQ(n.version)){this._callback(h,0,w,u);if(!((q=n.xi)&&d.isString(q)))return;n.src=q}if(k.test(u.nodeName))this._register(u,n,h);else n.src?this._embed(u,n,h):this._callback(h,-3,w,u)}else this._callback(h,-1,w,u)}else this._callback(h,-2)},get:function(u){return j.swfs[u]},remove:function(u){if(u=j.get("#"+u)){v.remove(u);delete j.swfs[u.id];
j.length-=1}},contains:function(u){var n=j.swfs,h,q=false;if(d.isString(u))q=u in n;else for(h in n)if(n[h]===u){q=true;break}return q},_register:function(u,n,h){n=n.attrs.id;if(r.gecko||r.opera)u=d.query("object",u)[0]||u;j._addSWF(n,u);j._callback(h,1,n,u)},_embed:function(u,n,h){var q=j._createSWF(n.src,n.attrs,n.params);if(r.ie)u.outerHTML=q.outerHTML;else u.parentNode.replaceChild(q,u);u=d.get("#"+u.id);j._register(u,n,h)},_callback:function(u,n,h,q){n&&d.isFunction(u)&&u({status:n,id:h,swf:q})},
_addSWF:function(u,n){if(u&&n){j.swfs[u]=n;j.length+=1}},_createSWF:function(u,n,h){var q=v.create("<object>"),w;v.attr(q,n);if(r.ie){v.attr(q,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");o(q,"movie",u)}else v.attr(q,{type:"application/x-shockwave-flash",data:u,name:n.id});for(w in h)w in e&&o(q,w,h[w]);h.flashvars&&o(q,"flashvars",j.toFlashVars(h.flashvars));return q},_normalize:function(u){var n,h,q,w=u;if(d.isPlainObject(u)){w={};for(q in u){n=q.toLowerCase();h=u[q];if(n!=="flashvars")h=
j._normalize(h);w[n]=h}}return w},toFlashVars:function(u){if(!d.isPlainObject(u))return"";var n,h,q=[];for(n in u){h=u[n];if(d.isString(h))h=g(h);else{h=d.JSON.stringify(h);if(!h)continue;h=h.replace(/:"([^"]+)/g,function(w,x){return':"'+g(x)})}q.push(n+"="+h)}return q.join("&").replace(/\"/g,"'")}})});
KISSY.add("switchable",function(d,o){function r(k,g){g=g||{};if(!("markupType"in g))if(g.panelCls)g.markupType=1;else if(g.panels)g.markupType=2;g=d.merge(r.Config,g);this.container=d.get(k);this.config=g;this.activeIndex=g.activeIndex;this._init()}var v=d.DOM,j=d.Event;r.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};r.Plugins=[];d.augment(r,d.EventTarget,{_init:function(){var k=this,g=k.config;if(k.fire("beforeInit")!==false){k._parseMarkup();g.hasTriggers&&k._bindTriggers();d.each(r.Plugins,function(e){e.init&&e.init(k)});k.fire("init")}},_parseMarkup:function(){var k=this.container,g=this.config,e,p=[],u=[];switch(g.markupType){case 0:if(e=d.get("."+g.navCls,k))p=v.children(e);e=d.get("."+g.contentCls,k);u=v.children(e);break;case 1:p=d.query("."+g.triggerCls,
k);u=d.query("."+g.panelCls,k);break;case 2:p=g.triggers;u=g.panels;break}k=u.length;this.length=k/g.steps;if(g.hasTriggers&&k>0&&p.length===0)p=this._generateTriggersMarkup(this.length);this.triggers=d.makeArray(p);this.panels=d.makeArray(u);this.content=e||u[0].parentNode},_generateTriggersMarkup:function(k){var g=this.config,e=v.create("<ul>"),p,u;e.className=g.navCls;for(u=0;u<k;u++){p=v.create("<li>");if(u===this.activeIndex)p.className=g.activeTriggerCls;p.innerHTML=u+1;e.appendChild(p)}this.container.appendChild(e);
return v.children(e)},_bindTriggers:function(){var k=this,g=k.config,e=k.triggers,p,u,n=e.length;for(u=0;u<n;u++)(function(h){p=e[h];j.on(p,"click focus",function(){k._onFocusTrigger(h)});if(g.triggerType==="mouse"){j.on(p,"mouseenter",function(){k._onMouseEnterTrigger(h)});j.on(p,"mouseleave",function(){k._onMouseLeaveTrigger(h)})}})(u)},_onFocusTrigger:function(k){if(this._triggerIsValid()){this._cancelSwitchTimer();this.switchTo(k)}},_onMouseEnterTrigger:function(k){var g=this;if(g._triggerIsValid())g.switchTimer=
d.later(function(){g.switchTo(k)},g.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(k){return this.activeIndex!==k},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=o}},switchTo:function(k,g){var e=this.config,p=this.triggers,u=this.panels,n=this.activeIndex,h=e.steps,q=n*h,w=k*h;if(!this._triggerIsValid())return this;if(this.fire("beforeSwitch",{toIndex:k})===false)return this;if(e.hasTriggers)this._switchTrigger(n>
-1?p[n]:null,p[k]);if(g===o)g=k>n?"forward":"backward";this._switchView(u.slice(q,q+h),u.slice(w,w+h),k,g);this.activeIndex=k;return this},_switchTrigger:function(k,g){var e=this.config.activeTriggerCls;k&&v.removeClass(k,e);v.addClass(g,e)},_switchView:function(k,g,e){v.css(k,"display","none");v.css(g,"display","block");this._fireOnSwitch(e)},_fireOnSwitch:function(k){this.fire("switch",{currentIndex:k})},prev:function(){var k=this.activeIndex;this.switchTo(k>0?k-1:this.length-1,"backward")},next:function(){var k=
this.activeIndex;this.switchTo(k<this.length-1?k+1:0,"forward")}});d.Switchable=r},{requires:["core"]});
KISSY.add("switchable-autoplay",function(d,o){var r=d.Event,v=d.Switchable;d.mix(v.Config,{autoplay:false,interval:5,pauseOnHover:true});v.Plugins.push({name:"autoplay",init:function(j){function k(){p=d.later(function(){j.paused||j.switchTo(j.activeIndex<j.length-1?j.activeIndex+1:0,"forward")},e,true)}var g=j.config,e=g.interval*1E3,p;if(g.autoplay){if(g.pauseOnHover){r.on(j.container,"mouseenter",function(){if(p){p.cancel();p=o}j.paused=true});r.on(j.container,"mouseleave",function(){j.paused=false;
k()})}k()}}})});
KISSY.add("switchable-effect",function(d,o){var r=d.DOM,v=d.Anim,j=d.Switchable,k;d.mix(j.Config,{effect:"none",duration:0.5,easing:"easeNone"});j.Effects={none:function(g,e,p){r.css(g,"display","none");r.css(e,"display","block");p()},fade:function(g,e,p){g.length!==1&&d.error("fade effect only supports steps == 1.");var u=this,n=u.config,h=g[0],q=e[0];u.anim&&u.anim.stop(true);r.css(q,"opacity",1);u.anim=(new v(h,{opacity:0},n.duration,n.easing,function(){u.anim=o;r.css(q,"z-index",9);r.css(h,"z-index",
1);p()})).run()},scroll:function(g,e,p,u){var n=this;g=n.config;e=g.effect==="scrollx";var h={};h[e?"left":"top"]=-(n.viewSize[e?0:1]*u)+"px";n.anim&&n.anim.stop();n.anim=(new v(n.content,h,g.duration,g.easing,function(){n.anim=o;p()})).run()}};k=j.Effects;k.scrollx=k.scrolly=k.scroll;j.Plugins.push({name:"effect",init:function(g){var e=g.config,p=e.effect,u=g.panels,n=g.content,h=e.steps,q=g.activeIndex,w=u.length;g.viewSize=[e.viewSize[0]||u[0].offsetWidth*h,e.viewSize[1]||u[0].offsetHeight*h];
if(p!=="none"){d.each(u,function(c){r.css(c,"display","block")});switch(p){case "scrollx":case "scrolly":r.css(n,"position","absolute");r.css(n.parentNode,"position","relative");if(p==="scrollx"){r.css(u,"float","left");r.width(n,g.viewSize[0]*(w/h))}break;case "fade":var x=q*h,m=x+h-1,a;d.each(u,function(c,i){a=i>=x&&i<=m;r.css(c,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});d.augment(j,{_switchView:function(g,e,p,u){var n=this,h=n.config.effect;(d.isFunction(h)?h:k[h]).call(n,g,
e,function(){n._fireOnSwitch(p)},p,u)}})});
KISSY.add("switchable-circular",function(d,o){function r(a,c,i,b,f){var l=this;a=l.config;c=l.length;var s=l.activeIndex,t=a.scrollType===x,A=t?p:u,y=l.viewSize[t?0:1];t=-y*b;var z={},B,C=f===w;if(B=C&&s===0&&b===c-1||f===q&&s===c-1&&b===0)t=v.call(l,l.panels,b,C,A,y);z[A]=t+h;l.anim&&l.anim.stop();l.anim=(new d.Anim(l.content,z,a.duration,a.easing,function(){B&&j.call(l,l.panels,b,C,A,y);l.anim=o;i()})).run()}function v(a,c,i,b,f){var l=this.config.steps;c=this.length;var s=i?c-1:0,t=(s+1)*l;for(l=
s*l;l<t;l++){k.css(a[l],g,e);k.css(a[l],b,(i?-1:1)*f*c)}return i?f:-f*c}function j(a,c,i,b,f){var l=this.config.steps;c=this.length;var s=i?c-1:0,t=(s+1)*l;for(l=s*l;l<t;l++){k.css(a[l],g,n);k.css(a[l],b,n)}k.css(this.content,b,i?-f*(c-1):n)}var k=d.DOM,g="position",e="relative",p="left",u="top",n="",h="px",q="forward",w="backward",x="scrollx",m=d.Switchable;d.mix(m.Config,{circular:false});m.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=r}}})});
KISSY.add("switchable-lazyload",function(d){var o=d.DOM,r="beforeSwitch",v="img-src",j="area-data",k={},g=d.Switchable;k[v]="data-ks-lazyload-custom";k[j]="ks-datalazyload-custom";d.mix(g.Config,{lazyDataType:j});g.Plugins.push({name:"lazyload",init:function(e){function p(x){var m=h.steps;x=x.toIndex*m;n.loadCustomLazyData(e.panels.slice(x,x+m),q);u()&&e.detach(r,p)}function u(){var x,m,a,c=q===v;if(x=c?"img":q===j?"textarea":""){x=d.query(x,e.container);m=0;for(a=x.length;m<a;m++)if(c?o.attr(x[m],
w):o.hasClass(x[m],w))return false}return true}var n=d.DataLazyload,h=e.config,q=h.lazyDataType,w=k[q];!n||!q||!w||e.on(r,p)}})});KISSY.add("switchable-autorender",function(d){d.Switchable.autoRender=function(o,r,v){r="."+(r||"KS_");v=v||"data-ks-switchable";d.each(["Switchable","Tabs","Slide","Carousel","Accordion"],function(j){d.each(d.query(r+j,o),function(k){try{var g=k.getAttribute(v);if(g)g=g.replace(/'/g,'"');new d[j](k,d.JSON.parse(g))}catch(e){d.log("Switchable.autoRender: "+e,"warn")}})})}});
KISSY.add("tabs",function(d){function o(r,v){if(!(this instanceof o))return new o(r,v);o.superclass.constructor.call(this,r,v)}d.extend(o,d.Switchable);d.Tabs=o});KISSY.add("slide",function(d){function o(v,j){if(!(this instanceof o))return new o(v,j);o.superclass.constructor.call(this,v,d.merge(r,j))}var r={autoplay:true,circular:true};d.extend(o,d.Switchable);d.Slide=o});
KISSY.add("carousel",function(d,o){function r(n,h){var q=this;if(!(q instanceof r))return new r(n,h);q.on("init",function(){v(q)});r.superclass.constructor.call(q,n,d.merge(u,h))}function v(n){var h=n.config,q=h.disableBtnCls;d.each(["prev","next"],function(w){var x=n[w+"Btn"]=d.get(g+h[w+"BtnCls"],n.container);k.on(x,"click",function(m){m.preventDefault();j.hasClass(x,q)||n[w]()})});h.circular||n.on("switch",function(w){w=w.currentIndex;w=w===0?n[e]:w===n.length-1?n[p]:o;j.removeClass([n[e],n[p]],
q);w&&j.addClass(w,q)});k.on(n.panels,"click focus",function(){n.fire("itemSelected",{item:this})})}var j=d.DOM,k=d.Event,g=".",e="prevBtn",p="nextBtn",u={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};d.extend(r,d.Switchable);d.Carousel=r});
KISSY.add("accordion",function(d){function o(j,k){if(!(this instanceof o))return new o(j,k);o.superclass.constructor.call(this,j,d.merge(v,k))}var r=d.DOM,v={markupType:1,triggerType:"click",multiple:false};d.extend(o,d.Switchable);d.Accordion=o;d.augment(o,{_triggerIsValid:function(j){return this.activeIndex!==j||this.config.multiple},_switchView:function(j,k,g){var e=this.config,p=k[0];if(e.multiple){r.toggleClass(this.triggers[g],e.activeTriggerCls);r.css(p,"display",p.style.display=="none"?"block":
"none");this._fireOnSwitch(g)}else o.superclass._switchView.call(this,j,k,g)}})});
KISSY.add("suggest",function(d,o){function r(b,f,l){if(!(this instanceof r))return new r(b,f,l);this.textInput=d.get(b);f+=f.indexOf("?")===-1?"?":"&";this.dataSource=f+"code=utf-8&callback="+w;this.config=d.merge(i,l);this.queryParams=this.query=x;this._dataCache={};this._init()}function v(b){b.style.visibility=x}function j(b){b.style.visibility=m}function k(b,f){if(f.nodeType===1){g.html(b,x);b.appendChild(f)}else g.html(b,f)}var g=d.DOM,e=d.Event,p=window,u=document,n,h=d.get("head"),q=d.UA.ie,
w="g_ks_suggest_callback",x="",m="hidden",a=parseInt,c=/^(input|button|a)$/i,i={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:q===6,submitOnSelect:true};d.augment(r,d.EventTarget,{_init:function(){n=u.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var b=this,f=b.textInput,l=false,s=0;g.attr(f,"autocomplete","off");b.config.autoFocus&&f.focus();e.on(f,"keydown",function(t){t=
t.keyCode;if(t===27){b.hide();f.value=b.query}else if(t>32&&t<41)if(f.value){if(t===40||t===38)if(s++===0){b._isRunning&&b.stop();l=true;b._selectItem(t===40)}else if(s==3)s=0}else f.blur();else if(t===13){f.blur();if(l)if(f.value==b._getSelectedItemKey())if(b.fire("itemSelect")===false)return;b._submitForm()}else{b._isRunning||b.start();l=false}});e.on(f,"keyup",function(){s=0});e.on(f,"blur",function(){b.stop();d.later(function(){b._focusing||b.hide()},0)})},_initContainer:function(){var b=g.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),f=g.create("<div>",{"class":"ks-suggest-content"}),l=g.create("<div>",{"class":"ks-suggest-footer"});b.appendChild(f);b.appendChild(l);n.insertBefore(b,n.firstChild);this.container=b;this.content=f;this.footer=l;this._initContainerEvent()},_setContainerRegion:function(){var b=this.textInput,f=g.offset(b),l=this.container;g.offset(l,{left:f.left,top:f.top+b.offsetHeight-1});g.width(l,this.config.containerWidth||
b.offsetWidth-2)},_initContainerEvent:function(){var b=this,f=b.textInput,l=b.container,s=b.content,t=b.footer,A,y;e.on(s,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=g.parent(z,"li");if(g.contains(s,z))if(z!==b.selectedItem){b._removeSelectedItem();b._setSelectedItem(z)}});e.on(s,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=g.parent(z,"li");A=z});e.on(l,"mousedown",function(z){if(!c.test(z.target.nodeName)){f.onbeforedeactivate=function(){p.event.returnValue=false;f.onbeforedeactivate=
null};z.preventDefault()}});e.on(s,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=g.parent(B,"li");if(B==A)if(g.contains(s,B)){b._updateInputFromSelectItem(B);if(b.fire("itemSelect")!==false){f.blur();b._submitForm()}}}});e.on(t,"focusin",function(){b._focusing=true;b._removeSelectedItem();y=false});e.on(t,"focusout",function(){b._focusing=false;d.later(function(){if(y)b.hide();else b._focusing||b.textInput.focus()},0)});e.on(b.container,"mouseleave",function(){y=true});
e.on(t,"click",function(z){g.hasClass(z.target,"ks-suggest-closebtn")&&b.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var b=this.textInput.form;if(b)if(this.fire("beforeSubmit",{form:b})!==false){if(u.createEvent){var f=u.createEvent("MouseEvents");f.initEvent("submit",true,false);b.dispatchEvent(f)}else u.createEventObject&&b.fireEvent("onsubmit");b.submit()}}},_initShim:function(){var b=g.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=b;n.insertBefore(b,n.firstChild)},_setShimRegion:function(){var b=this.container,f=b.style,l=b.shim;l&&g.css(l,{left:a(f.left)-2,top:f.top,width:a(f.width)+2,height:g.height(b)-2})},_initStyle:function(){d.get("#ks-suggest-style")||g.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var b=this;e.on(p,"resize",function(){b._setContainerRegion();b._setShimRegion()})},start:function(){var b=this;if(b.fire("beforeStart")!==false){r.focusInstance=b;b._timer=d.later(function(){b._updateContent();b._timer=d.later(arguments.callee,200)},200);b._isRunning=true}},stop:function(){r.focusInstance=o;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var b=this.container,f=b.shim;this._setContainerRegion();
v(b);if(f){this._setShimRegion();v(f)}}},hide:function(){if(this.isVisible()){var b=this.container,f=b.shim;f&&j(f);j(b)}},isVisible:function(){return this.container.style.visibility!=m},_updateContent:function(){var b=this.textInput;if(b.value!=this.query){b=this.query=b.value;if(d.trim(b))if(this._dataCache[b]!==o){this._fillContainer(this._dataCache[b]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var b=this,f;if(!q)b.dataScript=
o;if(!b.dataScript){f=u.createElement("script");f.charset="utf-8";f.async=true;h.insertBefore(f,h.firstChild);b.dataScript=f;if(!q){var l=d.now();b._latestScriptTime=l;g.attr(f,"data-time",l);e.on(f,"load",function(){b._scriptDataIsOut=g.attr(f,"data-time")!=b._latestScriptTime})}}b.queryParams="q="+encodeURIComponent(b.query);if(b.fire("beforeDataRequest")!==false)b.dataScript.src=b.dataSource+"&"+b.queryParams},_handleResponse:function(b){var f=x,l,s,t,A;if(!this._scriptDataIsOut){this.returnedData=
b;if(this.fire("dataReturn",{data:b})!==false){b=this._formatData(this.returnedData);if((l=b.length)>0){s=g.create("<ol>");for(f=0;f<l;++f){t=b[f];t=this._formatItem(A=t.key,t.result);g.attr(t,"key",A);g.addClass(t,f%2?"ks-even":"ks-odd");s.appendChild(t)}f=s}this._fillContainer(f);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=g.html(this.content);this._displayContainer()}}}},_formatData:function(b){var f=[],l,s,t,A=0;if(!b)return f;if(d.isArray(b.result))b=b.result;if(!(l=b.length))return f;
for(t=0;t<l;++t){s=b[t];if(d.isString(s))f[A++]={key:s};else if(d.isArray(s)&&s.length>1)f[A++]={key:s[0],result:s[1]}}return f},_formatItem:function(b,f){var l=g.create("<li>"),s=g.create("<span>",{"class":"ks-suggest-key"});g.html(s,b);l.appendChild(s);if(f){b=this.config.resultFormat.replace("%result%",f);if(d.trim(b)){f=g.create("<span>",{"class":"ks-suggest-result"});g.html(f,b);l.appendChild(f)}}return l},_fillContainer:function(b,f){this._fillContent(b||x);this._fillFooter(f||x)},_fillContent:function(b){k(this.content,
b);this.selectedItem=o},_fillFooter:function(b){var f=this.config,l=this.footer;k(l,b);if(f.closeBtn){b=g.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});g.html(b,f.closeBtnText);l.appendChild(b)}this.fire("updateFooter",{footer:l,query:this.query});g.css(l,"display",g.text(l)?x:"none")},_displayContainer:function(){d.trim(g.text(this.container))?this.show():this.hide()},_selectItem:function(b){var f=d.query("li",this.container);if(f.length!==0)if(this.isVisible()){if(this.selectedItem){b=
g[b?"next":"prev"](this.selectedItem);if(!b)this.textInput.value=this.query}else b=f[b?0:f.length-1];this._removeSelectedItem();if(b){this._setSelectedItem(b);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){g.removeClass(this.selectedItem,"ks-selected");this.selectedItem=o},_setSelectedItem:function(b){g.addClass(b,"ks-selected");this.selectedItem=b;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return g.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});p[w]=function(b){r.focusInstance&&d.later(function(){r.focusInstance._handleResponse(b)},0)};r.version=1.1;d.Suggest=r},{requires:["core"]});
