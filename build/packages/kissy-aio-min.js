/*
Copyright 2010, KISSY UI Library v1.1.3
MIT Licensed
build time: Sep 8 14:14
*/
(function(d,p,u){if(d[p]===u)d[p]={};p=d[p];var w=d.document,n=location,m=function(f,o,v,x){if(!o||!f)return f;if(v===u)v=true;var k,a,b;if(x&&(b=x.length))for(k=0;k<b;k++){a=x[k];if(a in o)if(v||!(a in f))f[a]=o[a]}else for(a in o)if(v||!(a in f))f[a]=o[a];return f},i=false,g=[],q=false,r=/^#?([\w-]+)$/,j=0;m(p,{version:"1.1.3",__init:function(){this.Env={mods:{},_loadQueue:{}};var f=w.getElementsByTagName("script");this.Config={debug:"",base:f[f.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(f){q||this._bindReady();i?f.call(d,this):g.push(f);return this},_bindReady:function(){var f=this,o=w.documentElement.doScroll,v=o?"onreadystatechange":"DOMContentLoaded",x=function(){f._fireReady()};q=true;if(w.readyState==="complete")return x();if(w.addEventListener){var k=function(){w.removeEventListener(v,k,false);x()};w.addEventListener(v,k,false);d.addEventListener("load",x,false)}else{var a=function(){if(w.readyState==="complete"){w.detachEvent(v,a);x()}};w.attachEvent(v,
a);d.attachEvent("onload",x);if(d==d.top){var b=function(){try{o("left");x()}catch(h){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!i){i=true;if(g){for(var f,o=0;f=g[o++];)f.call(d,this);g=null}}},available:function(f,o){if((f=(f+"").match(r)[1])&&p.isFunction(o))var v=1,x=p.later(function(){if(w.getElementById(f)&&(o()||1)||++v>500)x.cancel()},40,true)},mix:m,merge:function(){var f={},o,v=arguments.length;for(o=0;o<v;++o)m(f,arguments[o]);return f},augment:function(){var f=arguments,o=f.length-
2,v=f[0],x=f[o],k=f[o+1],a=1;if(!p.isArray(k)){x=k;k=u;o++}if(!p.isBoolean(x)){x=u;o++}for(;a<o;a++)m(v.prototype,f[a].prototype||f[a],x,k);return v},extend:function(f,o,v,x){if(!o||!f)return f;var k=Object.prototype,a=o.prototype,b=function(h){function c(){}c.prototype=h;return new c}(a);f.prototype=b;b.constructor=f;f.superclass=a;if(o!==Object&&a.constructor===k.constructor)a.constructor=o;v&&m(b,v);x&&m(f,x);return f},namespace:function(){var f=arguments.length,o=null,v,x,k;for(v=0;v<f;++v){k=
(""+arguments[v]).split(".");o=this;for(x=d[k[0]]===o?1:0;x<k.length;++x)o=o[k[x]]=o[k[x]]||{}}return o},app:function(f,o){var v=p.isString(f),x=v?d[f]||{}:f;m(x,this,true,p.__APP_MEMBERS);x.__init();m(x,p.isFunction(o)?o():o);v&&(d[f]=x);return x},log:function(f,o,v){if(p.Config.debug){if(v)f=v+": "+f;if(d.console!==u&&console.log)console[o&&console[o]?o:"log"](f)}},error:function(f){if(p.Config.debug)throw f;},guid:function(f){var o=j++ +"";return f?f+o:o}});p.__init();p.__APP_MEMBERS=["__init",
"namespace"];if(n&&(n.search||"").indexOf("ks-debug")!==-1)p.Config.debug=true})(window,"KISSY");
(function(d,p,u){function w(e){var l=typeof e;return e===null||l!=="object"&&l!=="function"}function n(e){return g.slice.call(e)}var m=document,i=m.documentElement,g=Array.prototype,q=g.indexOf,r=g.lastIndexOf,j=g.filter,f=String.prototype.trim,o=Object.prototype.toString,v=encodeURIComponent,x=decodeURIComponent,k=v("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,h=/\S/;p.mix(p,{isUndefined:function(e){return e===u},isBoolean:function(e){return o.call(e)==="[object Boolean]"},isString:function(e){return o.call(e)===
"[object String]"},isNumber:function(e){return o.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&o.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var l in e)return false;return true},isFunction:function(e){return o.call(e)==="[object Function]"},isArray:function(e){return o.call(e)==="[object Array]"},trim:f?function(e){return e==u?"":f.call(e)}:function(e){return e==u?"":e.toString().replace(a,"")},substitute:function(e,l,s){if(!p.isString(e)||
!p.isPlainObject(l))return e;return e.replace(s||/\\?\{([^{}]+)\}/g,function(t,A){if(t.charAt(0)==="\\")return t.slice(1);return l[A]!==u?l[A]:""})},each:function(e,l,s){var t,A=0,y=e.length,z=y===u||p.isFunction(e);s=s||d;if(z)for(t in e){if(l.call(s,e[t],t,e)===false)break}else for(t=e[0];A<y&&l.call(s,t,A,e)!==false;t=e[++A]);return e},indexOf:q?function(e,l){return q.call(l,e)}:function(e,l){for(var s=0,t=l.length;s<t;++s)if(l[s]===e)return s;return-1},lastIndexOf:r?function(e,l){return r.call(l,
e)}:function(e,l){for(var s=l.length-1;s>=0;s--)if(l[s]===e)break;return s},unique:function(e,l){l&&e.reverse();e=e.slice();for(var s=0,t,A;s<e.length;){for(A=e[s];(t=p.lastIndexOf(A,e))!==s;)e.splice(t,1);s+=1}l&&e.reverse();return e},inArray:function(e,l){return p.indexOf(e,l)>-1},makeArray:function(e){if(e===null||e===u)return[];if(p.isArray(e))return e;if(typeof e.length!=="number"||p.isString(e)||p.isFunction(e))return[e];return n(e)},filter:j?function(e,l,s){return j.call(e,l,s)}:function(e,
l,s){var t=[];p.each(e,function(A,y,z){l.call(s,A,y,z)&&t.push(A)});return t},param:function(e,l){if(!p.isPlainObject(e))return"";l=l||"&";var s=[],t,A;for(t in e){A=e[t];t=v(t);if(w(A))s.push(t,"=",v(A+""),l);else if(p.isArray(A)&&A.length)for(var y=0,z=A.length;y<z;++y)w(A[y])&&s.push(t,k+"=",v(A[y]+""),l)}s.pop();return s.join("")},unparam:function(e,l){if(typeof e!=="string"||(e=p.trim(e)).length===0)return{};var s={};e=e.split(l||"&");for(var t,A,y,z=0,B=e.length;z<B;++z){l=e[z].split("=");t=
x(l[0]);try{A=x(l[1]||"")}catch(C){A=l[1]||""}if((y=t.match(b))&&y[1]){s[y[1]]=s[y[1]]||[];s[y[1]].push(A)}else s[t]=A}return s},later:function(e,l,s,t,A){l=l||0;t=t||{};var y=e,z=p.makeArray(A),B;if(p.isString(e))y=t[e];y||p.error("method undefined");e=function(){y.apply(t,z)};B=s?setInterval(e,l):setTimeout(e,l);return{id:B,interval:s,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var l=e,s,t;if(e&&((s=p.isArray(e))||p.isPlainObject(e))){l=s?[]:{};for(t in e)if(e.hasOwnProperty(t))l[t]=
p.clone(e[t])}return l},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&h.test(e)){var l=m.getElementsByTagName("head")[0]||i,s=m.createElement("script");s.text=e;l.insertBefore(s,l.firstChild);l.removeChild(s)}}});try{n(i.childNodes)}catch(c){n=function(e){for(var l=[],s=e.length-1;s>=0;s--)l[s]=e[s];return l}}})(window,KISSY);
(function(d,p,u){var w=d.document,n=w.getElementsByTagName("head")[0]||w.documentElement,m=2,i=3,g=4,q=p.mix,r=w.createElement("script").readyState?function(f,o){var v=f.onreadystatechange;f.onreadystatechange=function(){var x=f.readyState;if(x==="loaded"||x==="complete"){f.onreadystatechange=null;v&&v();o.call(this)}}}:function(f,o){f.addEventListener("load",o,false)},j=/\.css(?:\?|$)/i;d={add:function(f,o,v){var x=this.Env.mods,k;if(p.isString(f)&&!v&&p.isPlainObject(o)){k={};k[f]=o;f=k}if(p.isPlainObject(f)){p.each(f,
function(a,b){a.name=b;x[b]&&q(a,x[b],false)});q(x,f)}else{v=v||{};k=x[f]||{};f=v.host||k.host||f;k=x[f]||{};q(k,{name:f,status:m});if(!k.fns)k.fns=[];o&&k.fns.push(o);q(x[f]=k,v);k.attach!==false&&this.__isAttached(k.requires)&&this.__attachMod(k)}return this},use:function(f,o,v){f=f.replace(/\s+/g,"").split(",");v=v||{};var x=this,k=x.Env.mods,a=(v||0).global,b,h=f.length,c,e,l;a&&x.__mixMods(a);if(x.__isAttached(f))o&&o(x);else{for(b=0;b<h&&(c=k[f[b]]);b++)if(c.status!==g){if(v.order&&b>0){if(!c.requires)c.requires=
[];c._requires=c.requires.concat();e=f[b-1];if(!p.inArray(e,c.requires)&&!p.inArray(c.name,k[e].requires||[]))c.requires.push(e)}x.__attach(c,function(){if(!l&&x.__isAttached(f)){l=true;if(c._requires)c.requires=c._requires;o&&o(x)}},a)}return x}},__attach:function(f,o,v){function x(){if(k.__isAttached(a)){f.status===m&&k.__attachMod(f);f.status===g&&o()}}for(var k=this,a=f.requires||[],b=0,h=a.length;b<h;b++)k.__attach(k.Env.mods[a[b]],x,v);k.__buildPath(f);k.__load(f,x,v)},__mixMods:function(f){var o=
this.Env.mods,v=f.Env.mods,x;for(x in v)this.__mixMod(o,v,x,f)},__mixMod:function(f,o,v,x){var k=f[v]||{},a=k.status;p.mix(k,p.clone(o[v]));if(a)k.status=a;x&&this.__buildPath(k,x.Config.base);f[v]=k},__attachMod:function(f){var o=this;if(f.fns){p.each(f.fns,function(v){v&&v(o)});f.fns=u}f.status=g},__isAttached:function(f){for(var o=this.Env.mods,v,x=(f=p.makeArray(f)).length-1;x>=0&&(v=o[f[x]]);x--)if(v.status!==g)return false;return true},__load:function(f,o,v){function x(){k();if(f.status!==i){v&&
a.__mixMod(a.Env.mods,v.Env.mods,f.name,v);if(f.status!==g)f.status=m;o()}}function k(){h[b]=m}var a=this,b=f.fullpath,h=p.Env._loadQueue,c=h[b];f.status=f.status||0;if(f.status<1&&c)f.status=c.nodeName?1:m;if(p.isString(f.cssfullpath)){a.getScript(f.cssfullpath);f.cssfullpath=m}if(f.status<1&&b){f.status=1;c=a.getScript(b,{success:function(){KISSY.log(f.name+" is loaded.","info");x()},error:function(){f.status=i;k()},charset:f.charset});j.test(b)||(h[b]=c)}else f.status===1?r(c,x):o()},__buildPath:function(f,
o){function v(k,a){if(!f[a]&&f[k])f[a]=(o||x.base)+f[k];if(f[a]&&x.debug)f[a]=f[a].replace(/-min/g,"")}var x=this.Config;v("path","fullpath");f.cssfullpath!==m&&v("csspath","cssfullpath")},getScript:function(f,o,v){var x=j.test(f),k=w.createElement(x?"link":"script"),a=o,b,h,c;if(p.isPlainObject(a)){o=a.success;b=a.error;h=a.timeout;v=a.charset}if(x){k.href=f;k.rel="stylesheet"}else{k.src=f;k.async=true}if(v)k.charset=v;if(p.isFunction(o))x?o.call(k):r(k,function(){if(c){c.cancel();c=u}o.call(k)});
if(p.isFunction(b))c=p.later(function(){c=u;b()},(h||this.Config.timeout)*1E3);n.insertBefore(k,n.firstChild);return k}};q(p,d);p.each(d,function(f,o){p.__APP_MEMBERS.push(o)})})(window,KISSY);(function(d){var p={core:{path:"packages/core-min.js",charset:"utf-8"}};d.each(["sizzle","datalazyload","flash","switchable","suggest"],function(u){p[u]={path:u+"/"+u+"-pkg-min.js",requires:["core"],charset:"utf-8"}});d.add(p)})(KISSY);
KISSY.add("ua",function(d){var p=navigator.userAgent,u="",w="",n,m={},i=function(g){var q=0;return parseFloat(g.replace(/\./g,function(){return q++===0?".":""}))};if((n=p.match(/AppleWebKit\/([\d.]*)/))&&n[1]){m[u="webkit"]=i(n[1]);if((n=p.match(/Chrome\/([\d.]*)/))&&n[1])m[w="chrome"]=i(n[1]);else if((n=p.match(/\/([\d.]*) Safari/))&&n[1])m[w="safari"]=i(n[1]);if(/ Mobile\//.test(p))m.mobile="apple";else if(n=p.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))m.mobile=n[0].toLowerCase()}else if((n=
p.match(/Presto\/([\d.]*)/))&&n[1]){m[u="presto"]=i(n[1]);if((n=p.match(/Opera\/([\d.]*)/))&&n[1]){m[w="opera"]=i(n[1]);if((n=p.match(/Opera\/.* Version\/([\d.]*)/))&&n[1])m[w]=i(n[1]);if((n=p.match(/Opera Mini[^;]*/))&&n)m.mobile=n[0].toLowerCase();else if((n=p.match(/Opera Mobi[^;]*/))&&n)m.mobile=n[0]}}else if((n=p.match(/MSIE\s([^;]*)/))&&n[1]){m[u="trident"]=0.1;m[w="ie"]=i(n[1]);if((n=p.match(/Trident\/([\d.]*)/))&&n[1])m[u]=i(n[1])}else if(n=p.match(/Gecko/)){m[u="gecko"]=0.1;if((n=p.match(/rv:([\d.]*)/))&&
n[1])m[u]=i(n[1]);if((n=p.match(/Firefox\/([\d.]*)/))&&n[1])m[w="firefox"]=i(n[1])}m.core=u;m.shell=w;m._numberify=i;d.UA=m});
KISSY.add("ua-extra",function(d){var p=d.UA,u=navigator.userAgent,w,n,m={},i=p._numberify;if(u.match(/360SE/))m[n="se360"]=3;else if(u.match(/Maxthon/)&&(w=window.external)){n="maxthon";try{m[n]=i(w.max_version)}catch(g){m[n]=0.1}}else if(w=u.match(/TencentTraveler\s([\d.]*)/))m[n="tt"]=w[1]?i(w[1]):0.1;else if(u.match(/TheWorld/))m[n="theworld"]=3;else if(w=u.match(/SE\s([\d.]*)/))m[n="sougou"]=w[1]?i(w[1]):0.1;n&&(m.shell=n);d.mix(p,m)});
KISSY.add("dom",function(d,p){function u(w,n){return w&&w.nodeType===n}d.DOM={_isElementNode:function(w){return u(w,1)},_isKSNode:function(w){return d.Node&&u(w,d.Node.TYPE)},_getWin:function(w){return w&&"scrollTo"in w&&w.document?w:u(w,9)?w.defaultView||w.parentWindow:w===p?window:false},_nodeTypeIs:u}});
KISSY.add("selector",function(d,p){function u(a,b){var h,c=[],e,l;b=w(b);if(d.isString(a)){a=d.trim(a);if(x.test(a)){if(a=n(a.slice(1),b))c=[a]}else if(h=k.exec(a)){e=h[1];l=h[2];h=h[3];if(b=e?n(e,b):b)if(h)if(!e||a.indexOf(j)!==-1)c=i(h,l,b);else{if((a=n(e,b))&&r.hasClass(a,h))c=[a]}else if(l)c=m(l,b)}else if(d.ExternalSelector)return d.ExternalSelector(a,b);else g(a)}else if(a&&(a[o]||a[v]))c=a[o]?[a[o]()]:a[v]();else if(a&&(d.isArray(a)||a.item&&!a.nodeType))c=a;else if(a)c=[a];if(c.item)c=d.makeArray(c);
c.each=function(s,t){return d.each(c,s,t)};return c}function w(a){if(a===p)a=q;else if(d.isString(a)&&x.test(a))a=n(a.slice(1),q);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function n(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function m(a,b){return b.getElementsByTagName(a)}function i(a,b,h){h=a=h.getElementsByClassName(a);var c=0,e=0,l=a.length,s;if(b&&b!==f){h=[];for(b=b.toUpperCase();c<l;++c){s=a[c];if(s.tagName===b)h[e++]=s}}return h}function g(a){d.error("Unsupported selector: "+
a)}var q=document,r=d.DOM,j=" ",f="*",o="getDOMNode",v=o+"s",x=/^#[\w-]+$/,k=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=q.createElement("div");a.appendChild(q.createComment(""));if(a.getElementsByTagName(f).length>0)m=function(b,h){h=h.getElementsByTagName(b);if(b===f){b=[];for(var c=0,e=0,l;l=h[c++];)if(l.nodeType===1)b[e++]=l;h=b}return h}})();q.getElementsByClassName||(i=q.querySelectorAll?function(a,b,h){return h.querySelectorAll((b?b:"")+"."+a)}:function(a,b,h){b=h.getElementsByTagName(b||
f);h=[];var c=0,e=0,l=b.length,s,t;for(a=j+a+j;c<l;++c){s=b[c];if((t=s.className)&&(j+t+j).indexOf(a)>-1)h[e++]=s}return h});d.query=u;d.get=function(a,b){return u(a,b)[0]||null};d.mix(r,{query:u,get:d.get,filter:function(a,b){var h=u(a),c,e,l,s=[];if(d.isString(b)&&(c=k.exec(b))&&!c[1]){e=c[2];l=c[3];b=function(t){return!(e&&t.tagName!==e.toUpperCase()||l&&!r.hasClass(t,l))}}if(d.isFunction(b))s=d.filter(h,b);else if(b&&d.ExternalSelector)s=d.ExternalSelector._filter(a,b);else g(b);return s},test:function(a,
b){a=u(a);return r.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(d,p){function u(i,g,q,r){if(!(g=d.trim(g)))return r?false:p;i=d.query(i);var j=0,f=i.length;g=g.split(n);for(var o;j<f;j++){o=i[j];if(w._isElementNode(o)){o=q(o,g,g.length);if(o!==p)return o}}if(r)return false}var w=d.DOM,n=/[\.\s]\s*\.?/,m=/[\n\t]/g;d.mix(w,{hasClass:function(i,g){return u(i,g,function(q,r,j){if(q=q.className){q=" "+q+" ";for(var f=0,o=true;f<j;f++)if(q.indexOf(" "+r[f]+" ")<0){o=false;break}if(o)return true}},true)},addClass:function(i,g){u(i,g,function(q,
r,j){var f=q.className;if(f){var o=" "+f+" ";f=f;for(var v=0;v<j;v++)if(o.indexOf(" "+r[v]+" ")<0)f+=" "+r[v];q.className=d.trim(f)}else q.className=g})},removeClass:function(i,g){u(i,g,function(q,r,j){var f=q.className;if(f)if(j){f=(" "+f+" ").replace(m," ");for(var o=0,v;o<j;o++)for(v=" "+r[o]+" ";f.indexOf(v)>=0;)f=f.replace(v," ");q.className=d.trim(f)}else q.className=""})},replaceClass:function(i,g,q){w.removeClass(i,g);w.addClass(i,q)},toggleClass:function(i,g,q){var r=d.isBoolean(q),j;u(i,
g,function(f,o,v){for(var x=0,k;x<v;x++){k=o[x];j=r?!q:w.hasClass(f,k);w[j?"removeClass":"addClass"](f,k)}})}})});
KISSY.add("dom-attr",function(d,p){function u(k,a){return a&&a.nodeName.toUpperCase()===k.toUpperCase()}var w=d.UA,n=w.ie,m=n&&n<8,i=document.documentElement.textContent!==p?"textContent":"innerText",g=d.DOM,q=g._isElementNode,r=function(k){return g._nodeTypeIs(k,3)},j=/href|src|style/,f=/href|src|colspan|rowspan/,o=/\r/g,v=/radio|checkbox/,x={readonly:"readOnly"};m&&d.mix(x,{"for":"htmlFor","class":"className"});d.mix(g,{attr:function(k,a,b){if(d.isPlainObject(a))for(var h in a)g.attr(k,h,a[h]);
else if(a=d.trim(a)){a=a.toLowerCase();a=x[a]||a;if(b===p){k=d.get(k);if(!q(k))return p;var c;j.test(a)||(c=k[a]);if(c===p)c=k.getAttribute(a);if(m)if(f.test(a))c=k.getAttribute(a,2);else if(a==="style")c=k.style.cssText;return c===null?p:c}d.each(d.query(k),function(e){if(q(e))if(a==="style")e.style.cssText=b;else{if(a==="checked")e[a]=!!b;e.setAttribute(a,""+b)}})}},removeAttr:function(k,a){d.each(d.query(k),function(b){if(q(b)){g.attr(b,a,"");b.removeAttribute(a)}})},val:function(k,a){if(a===p){var b=
d.get(k);if(!q(b))return p;if(u("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(u("select",b)){var h=b.selectedIndex;k=b.options;if(h<0)return null;else if(b.type==="select-one")return g.val(k[h]);b=[];for(var c=0,e=k.length;c<e;++c)k[c].selected&&b.push(g.val(k[c]));return b}if(w.webkit&&v.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(o,"")}d.each(d.query(k),function(l){if(u("select",l)){if(d.isNumber(a))a+="";var s=d.makeArray(a),
t=l.options,A;c=0;for(e=t.length;c<e;++c){A=t[c];A.selected=d.inArray(g.val(A),s)}if(!s.length)l.selectedIndex=-1}else if(q(l))l.value=a})},text:function(k,a){if(a===p){k=d.get(k);if(q(k))return k[i]||"";else if(r(k))return k.nodeValue}else d.each(d.query(k),function(b){if(q(b))b[i]=a;else if(r(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(d,p){function u(a,b){var h=d.get(a),c=b===q?h.offsetWidth:h.offsetHeight;d.each(b===q?["Left","Right"]:["Top","Bottom"],function(e){c-=parseFloat(n._getComputedStyle(h,"padding"+e))||0;c-=parseFloat(n._getComputedStyle(h,"border"+e+"Width"))||0});return c}function w(a,b,h){var c=h;if(h===r&&f.test(b)){c=0;if(n.css(a,"position")==="absolute"){h=a[b==="left"?"offsetLeft":"offsetTop"];if(m.ie===8||m.opera)h-=j(n.css(a.offsetParent,"border-"+b+"-width"))||0;c=h-(j(n.css(a,
"margin-"+b))||0)}}return c}var n=d.DOM,m=d.UA,i=document,g=i.documentElement,q="width",r="auto",j=parseInt,f=/^left|top$/,o=/width|height|top|left|right|bottom|margin|padding/i,v=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},k={};d.mix(n,{_CUSTOM_STYLES:k,_getComputedStyle:function(a,b){var h="",c=a.ownerDocument;if(a.style)h=c.defaultView.getComputedStyle(a,null)[b];return h},css:function(a,b,h){if(d.isPlainObject(b))for(var c in b)n.css(a,c,b[c]);else{if(b.indexOf("-")>0)b=b.replace(v,x);
b=k[b]||b;if(h===p){a=d.get(a);c="";if(a&&a.style){c=b.get?b.get(a):a.style[b];if(c===""&&!b.get)c=w(a,b,n._getComputedStyle(a,b))}return c===p?"":c}else{if(h===null||h==="")h="";else if(!isNaN(new Number(h))&&o.test(b))h+="px";(b===q||b==="height")&&parseFloat(h)<0||d.each(d.query(a),function(e){if(e&&e.style){b.set?b.set(e,h):(e.style[b]=h);if(h==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(a,b){if(b===p)return u(a,q);else n.css(a,q,b)},height:function(a,b){if(b===p)return u(a,
"height");else n.css(a,"height",b)},addStyleSheet:function(a,b){var h;if(b)h=d.get(b);h||(h=n.create("<style>",{id:b}));d.get("head").appendChild(h);if(h.styleSheet)h.styleSheet.cssText=a;else h.appendChild(i.createTextNode(a))}});if(g.style.cssFloat!==p)k["float"]="cssFloat";else if(g.style.styleFloat!==p)k["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(d,p){if(d.UA.ie){var u=d.DOM;d=document;var w=d.documentElement,n=u._CUSTOM_STYLES,m=/^-?\d+(?:px)?$/i,i=/^-?\d/,g=/^width|height$/;try{if(w.style.opacity===p&&w.filters)n.opacity={get:function(r){var j=100;try{j=r.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(f){try{j=r.filters("alpha").opacity}catch(o){}}return j/100+""},set:function(r,j){var f=r.style;r=(r.currentStyle||0).filter||"";f.zoom=1;if(r)if(r=r.replace(/alpha\(opacity=.+\)/ig,""))r+=", ";
f.filter=r+"alpha(opacity="+j*100+")"}}}catch(q){}if(!(d.defaultView||{}).getComputedStyle&&w.currentStyle)u._getComputedStyle=function(r,j){var f=r.style,o=r.currentStyle[j];if(g.test(j))o=u[j](r)+"px";else if(!m.test(o)&&i.test(o)){var v=f.left,x=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left;f.left=j==="fontSize"?"1em":o||0;o=f.pixelLeft+"px";f.left=v;r.runtimeStyle.left=x}return o}}});
KISSY.add("dom-offset",function(d,p){function u(s){var t=0,A=0,y=j(s[a]);if(s[l]){s=s[l]();t=s[b];A=s[h];if(m.mobile!=="apple"){t+=n[c](y);A+=n[e](y)}}return{left:t,top:A}}function w(s,t){if(n.css(s,x)==="static")s.style[x]=k;var A=u(s),y={},z,B;for(B in t){z=v(n.css(s,B),10)||0;y[B]=z+t[B]-A[B]}n.css(s,y)}var n=d.DOM,m=d.UA,i=window,g=document,q=n._isElementNode,r=n._nodeTypeIs,j=n._getWin,f=g.compatMode==="CSS1Compat",o=Math.max,v=parseInt,x="position",k="relative",a="ownerDocument",b="left",h=
"top",c="scrollLeft",e="scrollTop",l="getBoundingClientRect";d.mix(n,{offset:function(s,t){if(!(s=d.get(s))||!s[a])return null;if(t===p)return u(s);w(s,t)},scrollIntoView:function(s,t,A,y){if((s=d.get(s))&&s[a]){y=y===p?true:!!y;A=A===p?true:!!A;if(!t||t===i)return s.scrollIntoView(A);t=d.get(t);if(r(t,9))t=j(t);var z=t&&"scrollTo"in t&&t.document,B=n.offset(s),C=z?{left:n.scrollLeft(t),top:n.scrollTop(t)}:n.offset(t),D={left:B[b]-C[b],top:B[h]-C[h]};B=z?n.viewportHeight(t):t.clientHeight;C=z?n.viewportWidth(t):
t.clientWidth;var E=n[c](t),F=n[e](t),G=E+C,M=F+B,I=s.offsetHeight;s=s.offsetWidth;var H=D.left+E-(v(n.css(t,"borderLeftWidth"))||0);D=D.top+F-(v(n.css(t,"borderTopWidth"))||0);var N=H+s,J=D+I,K,L;if(I>B||D<F||A)K=D;else if(J>M)K=J-B;if(y)if(s>C||H<E||A)L=H;else if(N>G)L=N-C;if(z){if(K!==p||L!==p)t.scrollTo(L,K)}else{if(K!==p)t[e]=K;if(L!==p)t[c]=L}}}});d.each(["Left","Top"],function(s,t){var A="scroll"+s;n[A]=function(y){var z=0,B=j(y),C;if(B&&(C=B.document))z=B[t?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(q(y=d.get(y)))z=y[A];return z}});d.each(["Width","Height"],function(s){n["doc"+s]=function(t){t=t||g;return o(f?t.documentElement["scroll"+s]:t.body["scroll"+s],n["viewport"+s](t))};n["viewport"+s]=function(t){var A="inner"+s;t=j(t);var y=t.document;return A in t?t[A]:f?y.documentElement["client"+s]:y.body["client"+s]}})});
KISSY.add("dom-traversal",function(d,p){function u(i,g,q,r){if(!(i=d.get(i)))return null;if(g===p)g=1;var j=null,f,o;if(d.isNumber(g)&&g>=0){if(g===0)return i;f=0;o=g;g=function(){return++f===o}}for(;i=i[q];)if(m(i)&&(!g||n.test(i,g))&&(!r||r(i))){j=i;break}return j}function w(i,g,q){var r=[];var j=i=d.get(i);if(i&&q)j=i.parentNode;if(j){q=0;for(j=j.firstChild;j;j=j.nextSibling)if(m(j)&&j!==i&&(!g||n.test(j,g)))r[q++]=j}return r}var n=d.DOM,m=n._isElementNode;d.mix(n,{parent:function(i,g){return u(i,
g,"parentNode",function(q){return q.nodeType!=11})},next:function(i,g){return u(i,g,"nextSibling")},prev:function(i,g){return u(i,g,"previousSibling")},siblings:function(i,g){return w(i,g,true)},children:function(i,g){return w(i,g)},contains:function(i,g){var q=false;if((i=d.get(i))&&(g=d.get(g)))if(i.contains)return i.contains(g);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(g)&16);else for(;!q&&(g=g.parentNode);)q=g==i;return q}})});
KISSY.add("dom-create",function(d,p){function u(y,z){o(y)&&d.isPlainObject(z)&&q.attr(y,z);return y}function w(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=d.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}return B}function n(y){var z=y.cloneNode(true);if(r.ie<8)z.innerHTML=y.innerHTML;return z}function m(y,z,B,C){if(B){var D=d.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+D+'"></span>';d.available(D,function(){var F=
d.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(h):false)&&I[2]){G=g.createElement("script");G.src=I[2];if((H=M.match(c))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)d.globalEval(J);(N=g.getElementById(D))&&q.remove(N);d.isFunction(C)&&C()});i(y,z)}else{i(y,z);d.isFunction(C)&&C()}}function i(y,z){z=(z+"").replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);z&&y.appendChild(q.create(z))}}var g=
document,q=d.DOM,r=d.UA,j=r.ie,f=q._nodeTypeIs,o=q._isElementNode,v=q._isKSNode,x=g.createElement("div"),k=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,h=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;d.mix(q,{create:function(y,z,B){if(f(y,1)||f(y,3))return n(y);if(v(y))return n(y[0]);if(!(y=d.trim(y)))return null;var C=null;C=q._creators;var D,E="div",F;if(D=b.exec(y))C=(B||g).createElement(D[1]);else{if((D=k.exec(y))&&(F=D[1])&&d.isFunction(C[F=F.toLowerCase()]))E=
F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):w(y,B||g)}return u(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):x;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===p){y=d.get(y);if(o(y))return y.innerHTML}else d.each(d.query(y),function(D){o(D)&&m(D,z,B,C)})},remove:function(y){d.each(d.query(y),function(z){o(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(r.gecko||j){var e=q._creators,l=q.create,s=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
t={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in t)(function(y){e[A]=function(z,B){return l("<"+y+">"+z+"</"+y+">",null,B)}})(t[A]);if(j){e.script=function(y,z){z=z?z.createElement("div"):x;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(j<8)e.tbody=function(y,z){z=l("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!s.test(y)&&B.parentNode.removeChild(B);return z}}d.mix(e,{optgroup:e.option,th:e.td,
thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(d){d.mix(d.DOM,{insertBefore:function(p,u){if((p=d.get(p))&&(u=d.get(u))&&u.parentNode)u.parentNode.insertBefore(p,u);return p},insertAfter:function(p,u){if((p=d.get(p))&&(u=d.get(u))&&u.parentNode)u.nextSibling?u.parentNode.insertBefore(p,u.nextSibling):u.parentNode.appendChild(p);return p}})});
KISSY.add("event",function(d,p){function u(k,a,b,h,c){if(d.isString(a))a=d.query(a);if(d.isArray(a)){d.each(a,function(e){x[k](e,b,h,c)});return true}if((b=d.trim(b))&&b.indexOf(f)>0){d.each(b.split(f),function(e){x[k](a,e,h,c)});return true}}function w(k){return i(k)?k[j]:-1}function n(k,a){if(!i(k))return d.error("Text or comment node is not valid event target.");try{k[j]=a}catch(b){d.error(b)}}function m(k){try{k[j]=p;delete k[j]}catch(a){}}function i(k){return k&&k.nodeType!==3&&k.nodeType!==
8}var g=document,q=g.addEventListener?function(k,a,b,h){k.addEventListener&&k.addEventListener(a,b,!!h)}:function(k,a,b){k.attachEvent&&k.attachEvent("on"+a,b)},r=g.removeEventListener?function(k,a,b,h){k.removeEventListener&&k.removeEventListener(a,b,!!h)}:function(k,a,b){k.detachEvent&&k.detachEvent("on"+a,b)},j="ksEventTargetId",f=" ",o=d.now(),v={},x={EVENT_GUID:j,special:{},add:function(k,a,b,h){if(!u("add",k,a,b,h)){var c=w(k),e,l,s,t,A;if(!(c===-1||!a||!d.isFunction(b))){if(!c){n(k,c=o++);
v[c]={target:k,events:{}}}l=v[c].events;if(!l[a]){e=((c=!k.isCustomEventTarget)||k._supportSpecialEvent)&&x.special[a]||{};s=function(y,z){if(!y||!y.fixed){y=new d.EventObject(k,y,a);d.isPlainObject(z)&&d.mix(y,z)}e.setup&&e.setup(y);return(e.handle||x._handle)(k,y,l[a].listeners)};l[a]={handle:s,listeners:[]};t=e.fix||a;A=e.capture;if(c)q(k,t,s,A);else k._addEvent&&k._addEvent(t,s,A)}l[a].listeners.push({fn:b,scope:h||k})}}},remove:function(k,a,b,h){if(!u("remove",k,a,b,h)){var c=w(k),e,l,s,t,A,
y,z;if(c!==-1)if(c&&(e=v[c]))if(e.target===k){h=h||k;e=e.events||{};if(l=e[a]){s=l.listeners;y=s.length;if(d.isFunction(b)&&y){A=t=0;for(z=[];t<y;++t)if(b!==s[t].fn||h!==s[t].scope)z[A++]=s[t];l.listeners=z;y=z.length}if(b===p||y===0){if(k.isCustomEventTarget)k._addEvent&&k._removeEvent(a,l.handle);else{b=x.special[a]||{};r(k,b.fix||a,l.handle)}delete e[a]}}if(a===p||d.isEmptyObject(e)){for(a in e)x.remove(k,a);delete v[c];m(k)}}}},_handle:function(k,a,b){b=b.slice(0);for(var h,c=0,e=b.length;c<e;++c){h=
b[c];h=h.fn.call(h.scope||k,a);if(h===false&&k.isCustomEventTarget||a.isImmediatePropagationStopped)break}return h},_getCache:function(k){return v[k]},_simpleAdd:q,_simpleRemove:r};x.on=x.add;d.Event=x});
KISSY.add("event-object",function(d,p){function u(m,i,g){this.currentTarget=m;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=g;this.target=m}this.currentTarget=m;this.fixed=true}var w=document,n="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");d.augment(u,
{_fix:function(){var m=this.originalEvent,i=n.length,g,q=this.currentTarget;for(q=q.nodeType===9?q:q.ownerDocument||w;i;){g=n[--i];this[g]=m[g]}if(!this.target)this.target=this.srcElement||w;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===p&&this.clientX!==p){m=q.documentElement;i=q.body;this.pageX=this.clientX+(m&&m.scrollLeft||i&&i.scrollLeft||
0)-(m&&m.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(m&&m.scrollTop||i&&i.scrollTop||0)-(m&&m.clientTop||i&&i.clientTop||0)}if(this.which===p)this.which=this.charCode!==p?this.charCode:this.keyCode;if(this.metaKey===p)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==p)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var m=this.originalEvent;if(m.preventDefault)m.preventDefault();else m.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var m=
this.originalEvent;if(m.stopPropagation)m.stopPropagation();else m.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var m=this.originalEvent;m.stopImmediatePropagation?m.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(m){m?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});d.EventObject=u});
KISSY.add("event-target",function(d,p){var u=d.Event,w=u.EVENT_GUID;d.EventTarget={isCustomEventTarget:true,fire:function(n,m){if((n=((u._getCache(this[w]||-1)||{}).events||{})[n])&&d.isFunction(n.handle))return n.handle(p,m);return this},on:function(n,m,i){u.add(this,n,m,i);return this},detach:function(n,m,i){u.remove(this,n,m,i);return this}}});
KISSY.add("event-mouseenter",function(d){var p=d.Event;d.UA.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(u){p.special[u.name]={fix:u.fix,setup:function(w){w.type=u.name},handle:function(w,n,m){var i=n.relatedTarget;try{for(;i&&i!==w;)i=i.parentNode;i!==w&&p._handle(w,n,m)}catch(g){}}}})});
KISSY.add("event-focusin",function(d){var p=d.Event;document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(u){p.special[u.name]={fix:u.fix,capture:true,setup:function(w){w.type=u.name}}})});
KISSY.add("node",function(d){function p(n,m,i){var g;if(!(this instanceof p))return new p(n,m,i);if(n){if(w(n,1)||w(n,3))g=n;else if(d.isString(n))g=u.create(n,m,i);this[0]=g}else this.length=0}var u=d.DOM,w=u._nodeTypeIs;p.TYPE="-ks-Node";d.augment(p,{length:1,getDOMNode:function(){return this[0]},nodeType:p.TYPE});d.one=function(n,m){return(n=d.get(n,m))?new p(n):null};d.Node=p});
KISSY.add("nodelist",function(d){function p(n){if(!(this instanceof p))return new p(n);w.push.apply(this,n||[])}var u=d.DOM,w=Array.prototype;d.mix(p.prototype,{length:0,item:function(n){var m=null;if(u._isElementNode(this[n]))m=new d.Node(this[n]);return m},getDOMNodes:function(){return w.slice.call(this)},each:function(n,m){var i=this.length,g=0,q;for(q=new d.Node(this[0]);g<i&&n.call(m||q,q,g,this)!==false;q=new d.Node(this[++g]));return this}});d.all=function(n,m){return new p(d.query(n,m,true))};
d.NodeList=p});
KISSY.add("node-attach",function(d,p){function u(k,arguments,a,b){var h=[this[k?f:j]()].concat(d.makeArray(arguments));if(arguments[a]===p)return b.apply(n,h);else{b.apply(n,h);return this}}function w(k,a){d.each(k,function(b){d.each([q,r],function(h,c){h[b]=function(e){switch(a){case o:return function(){return u.call(this,c,arguments,1,e)};case v:return function(){return u.call(this,c,arguments,0,e)};case x:return function(){var l=this[c?f:j]();return(l=e.apply(n,[l].concat(d.makeArray(arguments))))?new (d[d.isArray(l)?
"NodeList":"Node"])(l):null};default:return function(){var l=this[c?f:j]();l=e.apply(n,[l].concat(d.makeArray(arguments)));return l===p?this:l}}}(n[b])})})}var n=d.DOM,m=d.Event,i=n._nodeTypeIs,g=n._isKSNode,q=d.Node.prototype,r=d.NodeList.prototype,j="getDOMNode",f=j+"s",o=1,v=2,x=4;d.mix(q,{one:function(k){return d.one(k,this[0])},all:function(k){return d.all(k,this[0])}});w(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);w(["attr","removeAttr"],o);w(["val","text"],v);w(["css"],
o);w(["width","height"],v);w(["offset"],v);w(["scrollIntoView"]);w(["parent","next","prev","siblings","children"],x);w(["contains"]);w(["html"],v);w(["remove"]);d.each(["insertBefore","insertAfter"],function(k){q[k]=function(a){n[k].call(n,this[0],a);return this}});d.each([q,r],function(k,a){d.mix(k,{append:function(b){b&&d.each(this,function(h){var c;if(a||d.isString(b))c=n.create(b);else{if(i(b,1)||i(b,3))c=b;if(g(b))c=b[0]}h.appendChild(c)});return this},appendTo:function(b){if((b=d.get(b))&&b.appendChild)d.each(this,
function(h){b.appendChild(h)});return this}})});d.each([q,r],function(k){d.mix(k,d.EventTarget,{_supportSpecialEvent:true});k._addEvent=function(a,b,h){for(var c=0,e=this.length;c<e;c++)m._simpleAdd(this[c],a,b,h)};k._removeEvent=function(a,b,h){for(var c=0,e=this.length;c<e;c++)m._simpleRemove(this[c],a,b,h)};delete k.fire})});
KISSY.add("cookie",function(d){function p(m){return d.isString(m)&&m!==""}var u=document,w=encodeURIComponent,n=decodeURIComponent;d.Cookie={get:function(m){var i;if(p(m))if(m=u.cookie.match("(?:^| )"+m+"(?:(?:=([^;]*))|;|$)"))i=m[1]?n(m[1]):"";return i},set:function(m,i,g,q,r,j){i=w(i);var f=g;if(typeof f==="number"){f=new Date;f.setTime(f.getTime()+g*864E5)}if(f instanceof Date)i+="; expires="+f.toUTCString();if(p(q))i+="; domain="+q;if(p(r))i+="; path="+r;if(j)i+="; secure";u.cookie=m+"="+i},remove:function(m,
i,g,q){this.set(m,"",0,i,g,q)}}});
KISSY.add("json",function(d){function p(j){return j<10?"0"+j:j}function u(j){m.lastIndex=0;return m.test(j)?'"'+j.replace(m,function(f){var o=q[f];return typeof o==="string"?o:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+j+'"'}function w(j,f){var o,v,x=i,k,a=f[j];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(j);if(typeof r==="function")a=r.call(f,j,a);switch(typeof a){case "string":return u(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=g;k=[];if(Object.prototype.toString.apply(a)==="[object Array]"){v=a.length;for(j=0;j<v;j+=1)k[j]=w(j,a)||"null";f=k.length===0?"[]":i?"[\n"+i+k.join(",\n"+i)+"\n"+x+"]":"["+k.join(",")+"]";i=x;return f}if(r&&typeof r==="object"){v=r.length;for(j=0;j<v;j+=1){o=r[j];if(typeof o==="string")if(f=w(o,a))k.push(u(o)+(i?": ":":")+f)}}else for(o in a)if(Object.hasOwnProperty.call(a,o))if(f=w(o,a))k.push(u(o)+(i?": ":":")+f);f=k.length===0?"{}":i?"{\n"+i+k.join(",\n"+i)+
"\n"+x+"}":"{"+k.join(",")+"}";i=x;return f}}d=d.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+p(this.getUTCMonth()+1)+"-"+p(this.getUTCDate())+"T"+p(this.getUTCHours())+":"+p(this.getUTCMinutes())+":"+p(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,g,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;if(typeof d.stringify!=="function")d.stringify=function(j,f,o){var v;g=i="";if(typeof o==="number")for(v=0;v<o;v+=1)g+=" ";else if(typeof o==="string")g=o;if((r=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw new Error("JSON.stringify");return w("",
{"":j})};if(typeof d.parse!=="function")d.parse=function(j,f){function o(v,x){var k,a,b=v[x];if(b&&typeof b==="object")for(k in b)if(Object.hasOwnProperty.call(b,k)){a=o(b,k);if(a!==undefined)b[k]=a;else delete b[k]}return f.call(v,x,b)}j=String(j);n.lastIndex=0;if(n.test(j))j=j.replace(n,function(v){return"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(j.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+j+")");return typeof f==="function"?o({"":j},""):j}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(d){var p=Math,u=p.PI,w=p.pow,n=p.sin,m=1.70158,i={easeNone:function(g){return g},easeIn:function(g){return g*g},easeOut:function(g){return(2-g)*g},easeBoth:function(g){return(g*=2)<1?0.5*g*g:0.5*(1- --g*(g-2))},easeInStrong:function(g){return g*g*g*g},easeOutStrong:function(g){return 1- --g*g*g*g},easeBothStrong:function(g){return(g*=2)<1?0.5*g*g*g*g:0.5*(2-(g-=2)*g*g*g)},elasticIn:function(g){if(g===0||g===1)return g;return-(w(2,10*(g-=1))*n((g-0.075)*2*u/0.3))},
elasticOut:function(g){if(g===0||g===1)return g;return w(2,-10*g)*n((g-0.075)*2*u/0.3)+1},elasticBoth:function(g){if(g===0||(g*=2)===2)return g;if(g<1)return-0.5*w(2,10*(g-=1))*n((g-0.1125)*2*u/0.45);return w(2,-10*(g-=1))*n((g-0.1125)*2*u/0.45)*0.5+1},backIn:function(g){if(g===1)g-=0.0010;return g*g*((m+1)*g-m)},backOut:function(g){return(g-=1)*g*((m+1)*g+m)+1},backBoth:function(g){if((g*=2)<1)return 0.5*g*g*(((m*=1.525)+1)*g-m);return 0.5*((g-=2)*g*(((m*=1.525)+1)*g+m)+2)},bounceIn:function(g){return 1-
i.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+0.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+0.9375:7.5625*(g-=2.625/2.75)*g+0.984375},bounceBoth:function(g){if(g<0.5)return i.bounceIn(g*2)*0.5;return i.bounceOut(g*2-1)*0.5+0.5}};d.Easing=i});
KISSY.add("anim",function(d,p){function u(k,a,b,h,c){if(k=d.get(k)){if(!(this instanceof u))return new u(k,a,b,h,c);var e=d.isPlainObject(b);a=a;this.domEl=k;if(d.isPlainObject(a))a=d.param(a,";").replace(/=/g,":");this.props=w(a);this.targetStyle=a;if(e)k=d.merge(x,b);else{k=d.clone(x);b&&(k.duration=j(b,10)||1);d.isString(h)&&(h=r[h]);d.isFunction(h)&&(k.easing=h);d.isFunction(c)&&(k.complete=c)}this.config=k;d.isFunction(c)&&this.on(v,c)}}function w(k){var a={},b=o.length,h;f.innerHTML='<div style="'+
k+'"></div>';for(k=f.firstChild.style;b--;)if(h=k[o[b]])a[o[b]]=n(h);return a}function n(k){var a=j(k);k=(k+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:k,u:"",f:i}:{v:a,u:k,f:m}}function m(k,a,b){return(k+(a-k)*b).toFixed(3)}function i(k,a,b){for(var h=2,c,e,l=[],s=[];c=3,e=arguments[h-1],h--;)if(g(e,0,4)==="rgb(")for(e=e.match(/\d+/g);c--;)l.push(~~e[c]);else if(g(e,0)==="#"){if(e.length===4)e="#"+g(e,1)+g(e,1)+g(e,2)+g(e,2)+g(e,3)+g(e,3);for(;c--;)l.push(parseInt(g(e,1+c*2,2),16))}else return a;
for(;c--;){h=~~(l[c+3]+(l[c]-l[c+3])*b);s.push(h<0?0:h>255?255:h)}return"rgb("+s.join(",")+")"}function g(k,a,b){return k.substr(a,b||1)}var q=d.DOM,r=d.Easing,j=parseFloat,f=q.create("<div>"),o="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
v="complete",x={duration:1,easing:r.easeNone};d.augment(u,d.EventTarget,{run:function(){var k=this,a=k.config,b=k.domEl,h=a.duration*1E3,c=a.easing,e=d.now(),l=e+h,s=k.props,t={},A;for(A in s)t[A]=n(q.css(b,A));if(k.fire("start")!==false){k.stop();k.timer=d.later(a=function(){var y=d.now(),z=y>l?1:(y-e)/h,B,C,D;for(A in s){B=t[A];C=s[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;q.css(b,A,C.f(B.v,C.v,c(z))+C.u)}if(k.fire("step")===false||(D=y>l)){k.stop();D&&k.fire(v)}},13,true);a();return k}},stop:function(k){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=p}if(k){d.UA.ie&&b.indexOf("opacity")>-1&&q.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(v)}return this}});d.Anim=u});KISSY.add("anim-node-plugin",function(d,p){var u=d.Anim;d.each([d.Node.prototype,d.NodeList.prototype],function(w){w.animate=function(){var n=d.makeArray(arguments);d.each(this,function(m){u.apply(p,[m].concat(n)).run()});return this}})});KISSY.add("core");
(function(){function d(a,b,h,c,e,l){e=0;for(var s=c.length;e<s;e++){var t=c[e];if(t){t=t[a];for(var A=false;t;){if(t.sizcache===h){A=c[t.sizset];break}if(t.nodeType===1&&!l){t.sizcache=h;t.sizset=e}if(t.nodeName.toLowerCase()===b){A=t;break}t=t[a]}c[e]=A}}}function p(a,b,h,c,e,l){e=0;for(var s=c.length;e<s;e++){var t=c[e];if(t){t=t[a];for(var A=false;t;){if(t.sizcache===h){A=c[t.sizset];break}if(t.nodeType===1){if(!l){t.sizcache=h;t.sizset=e}if(typeof b!=="string"){if(t===b){A=true;break}}else if(g.filter(b,
[t]).length>0){A=t;break}}t=t[a]}c[e]=A}}}var u=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,w=0,n=Object.prototype.toString,m=false,i=true;[0,0].sort(function(){i=false;return 0});var g=function(a,b,h,c){h=h||[];var e=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return h;var l=[],s,t,A,y,z=true,B=g.isXML(b),C=a,D;do{u.exec("");if(s=u.exec(C)){C=s[3];l.push(s[1]);if(s[2]){y=
s[3];break}}}while(s);if(l.length>1&&r.exec(a))if(l.length===2&&q.relative[l[0]])t=k(l[0]+l[1],b);else for(t=q.relative[l[0]]?[b]:g(l.shift(),b);l.length;){a=l.shift();if(q.relative[a])a+=l.shift();t=k(a,t)}else{if(!c&&l.length>1&&b.nodeType===9&&!B&&q.match.ID.test(l[0])&&!q.match.ID.test(l[l.length-1])){s=g.find(l.shift(),b,B);b=s.expr?g.filter(s.expr,s.set)[0]:s.set[0]}if(b){s=c?{expr:l.pop(),set:o(c)}:g.find(l.pop(),l.length===1&&(l[0]==="~"||l[0]==="+")&&b.parentNode?b.parentNode:b,B);t=s.expr?
g.filter(s.expr,s.set):s.set;if(l.length>0)A=o(t);else z=false;for(;l.length;){s=D=l.pop();if(q.relative[D])s=l.pop();else D="";if(s==null)s=b;q.relative[D](A,s,B)}}else A=[]}A||(A=t);A||g.error(D||a);if(n.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&g.contains(b,A[a])))h.push(t[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&h.push(t[a]);else h.push.apply(h,A);else o(A,h);if(y){g(y,e,h,c);g.uniqueSort(h)}return h};
g.uniqueSort=function(a){if(x){m=i;a.sort(x);if(m)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};g.matches=function(a,b){return g(a,null,null,b)};g.find=function(a,b,h){var c;if(!a)return[];for(var e=0,l=q.order.length;e<l;e++){var s=q.order[e],t;if(t=q.leftMatch[s].exec(a)){var A=t[1];t.splice(1,1);if(A.substr(A.length-1)!=="\\"){t[1]=(t[1]||"").replace(/\\/g,"");c=q.find[s](t,b,h);if(c!=null){a=a.replace(q.match[s],"");break}}}}c||(c=b.getElementsByTagName("*"));return{set:c,
expr:a}};g.filter=function(a,b,h,c){for(var e=a,l=[],s=b,t,A,y=b&&b[0]&&g.isXML(b[0]);a&&b.length;){for(var z in q.filter)if((t=q.leftMatch[z].exec(a))!=null&&t[2]){var B=q.filter[z],C,D;D=t[1];A=false;t.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(s===l)l=[];if(q.preFilter[z])if(t=q.preFilter[z](t,s,h,l,c,y)){if(t===true)continue}else A=C=true;if(t)for(var E=0;(D=s[E])!=null;E++)if(D){C=B(D,t,E,s);var F=c^!!C;if(h&&C!=null)if(F)A=true;else s[E]=false;else if(F){l.push(D);A=true}}if(C!==undefined){h||
(s=l);a=a.replace(q.match[z],"");if(!A)return[];break}}}if(a===e)if(A==null)g.error(a);else break;e=a}return s};g.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var q=g.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var h=typeof b==="string",c=h&&!/\W/.test(b);h=h&&!c;if(c)b=b.toLowerCase();c=0;for(var e=a.length,l;c<e;c++)if(l=a[c]){for(;(l=l.previousSibling)&&l.nodeType!==1;);a[c]=h||l&&l.nodeName.toLowerCase()===
b?l||false:l===b}h&&g.filter(b,a,true)},">":function(a,b){var h=typeof b==="string",c,e=0,l=a.length;if(h&&!/\W/.test(b))for(b=b.toLowerCase();e<l;e++){if(c=a[e]){h=c.parentNode;a[e]=h.nodeName.toLowerCase()===b?h:false}}else{for(;e<l;e++)if(c=a[e])a[e]=h?c.parentNode:c.parentNode===b;h&&g.filter(b,a,true)}},"":function(a,b,h){var c=w++,e=p,l;if(typeof b==="string"&&!/\W/.test(b)){l=b=b.toLowerCase();e=d}e("parentNode",b,c,a,l,h)},"~":function(a,b,h){var c=w++,e=p,l;if(typeof b==="string"&&!/\W/.test(b)){l=
b=b.toLowerCase();e=d}e("previousSibling",b,c,a,l,h)}},find:{ID:function(a,b,h){if(typeof b.getElementById!=="undefined"&&!h)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var h=[];b=b.getElementsByName(a[1]);for(var c=0,e=b.length;c<e;c++)b[c].getAttribute("name")===a[1]&&h.push(b[c]);return h.length===0?null:h}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,h,c,e,l){a=" "+a[1].replace(/\\/g,"")+" ";
if(l)return a;l=0;for(var s;(s=b[l])!=null;l++)if(s)if(e^(s.className&&(" "+s.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))h||c.push(s);else if(h)b[l]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=w++;return a},ATTR:function(a,b,h,c,e,l){b=
a[1].replace(/\\/g,"");if(!l&&q.attrMap[b])a[1]=q.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,h,c,e){if(a[1]==="not")if((u.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=g(a[3],null,null,b);else{a=g.filter(a[3],b,h,true^e);h||c.push.apply(c,a);return false}else if(q.match.POS.test(a[0])||q.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,h){return!!g(h[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,h,c){return b===c.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,h){return b<h[3]-0},gt:function(a,b,h){return b>h[3]-0},nth:function(a,b,h){return h[3]-
0===b},eq:function(a,b,h){return h[3]-0===b}},filter:{PSEUDO:function(a,b,h,c){var e=b[1],l=q.filters[e];if(l)return l(a,h,b,c);else if(e==="contains")return(a.textContent||a.innerText||g.getText([a])||"").indexOf(b[3])>=0;else if(e==="not"){b=b[3];h=0;for(c=b.length;h<c;h++)if(b[h]===a)return false;return true}else g.error("Syntax error, unrecognized expression: "+e)},CHILD:function(a,b){var h=b[1],c=a;switch(h){case "only":case "first":for(;c=c.previousSibling;)if(c.nodeType===1)return false;if(h===
"first")return true;c=a;case "last":for(;c=c.nextSibling;)if(c.nodeType===1)return false;return true;case "nth":h=b[2];var e=b[3];if(h===1&&e===0)return true;b=b[0];var l=a.parentNode;if(l&&(l.sizcache!==b||!a.nodeIndex)){var s=0;for(c=l.firstChild;c;c=c.nextSibling)if(c.nodeType===1)c.nodeIndex=++s;l.sizcache=b}a=a.nodeIndex-e;return h===0?a===0:a%h===0&&a/h>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var h=b[1];a=q.attrHandle[h]?q.attrHandle[h](a):a[h]!=null?a[h]:a.getAttribute(h);h=a+"";var c=b[2];b=b[4];return a==null?c==="!=":c==="="?h===b:c==="*="?h.indexOf(b)>=0:c==="~="?(" "+h+" ").indexOf(b)>=0:!b?h&&a!==false:c==="!="?h!==b:c==="^="?h.indexOf(b)===0:c==="$="?h.substr(h.length-b.length)===b:c==="|="?h===b||h.substr(0,b.length+1)===b+"-":false},POS:function(a,b,h,c){var e=q.setFilters[b[2]];
if(e)return e(a,h,b,c)}}},r=q.match.POS,j=function(a,b){return"\\"+(b-0+1)};for(var f in q.match){q.match[f]=new RegExp(q.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source);q.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+q.match[f].source.replace(/\\(\d+)/g,j))}var o=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(v){o=function(a,b){b=b||[];var h=0;if(n.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var c=a.length;h<c;h++)b.push(a[h]);else for(;a[h];h++)b.push(a[h]);return b}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)m=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)m=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)m=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)m=true;return a};else if(document.createRange)x=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)m=true;return a.ownerDocument?-1:1}var h=a.ownerDocument.createRange(),c=b.ownerDocument.createRange();h.setStart(a,0);h.setEnd(a,0);c.setStart(b,0);c.setEnd(b,0);a=h.compareBoundaryPoints(Range.START_TO_END,c);if(a===0)m=true;return a};g.getText=function(a){for(var b="",h,c=0;a[c];c++){h=a[c];if(h.nodeType===3||h.nodeType===4)b+=h.nodeValue;else if(h.nodeType!==
8)b+=g.getText(h.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var h=document.documentElement;h.insertBefore(a,h.firstChild);if(document.getElementById(b)){q.find.ID=function(c,e,l){if(typeof e.getElementById!=="undefined"&&!l)return(e=e.getElementById(c[1]))?e.id===c[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===c[1]?[e]:undefined:[]};q.filter.ID=function(c,e){var l=typeof c.getAttributeNode!==
"undefined"&&c.getAttributeNode("id");return c.nodeType===1&&l&&l.nodeValue===e}}h.removeChild(a);h=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)q.find.TAG=function(b,h){h=h.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var c=0;h[c];c++)h[c].nodeType===1&&b.push(h[c]);h=b}return h};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")q.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=g,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){g=function(c,e,l,s){e=e||document;if(!s&&e.nodeType===9&&!g.isXML(e))try{return o(e.querySelectorAll(c),l)}catch(t){}return a(c,e,l,s)};for(var h in a)g[h]=a[h];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){q.order.splice(1,0,"CLASS");q.find.CLASS=function(b,h,c){if(typeof h.getElementsByClassName!=="undefined"&&!c)return h.getElementsByClassName(b[1])};a=null}}})();g.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};g.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var k=function(a,b){var h=[],c="",e;for(b=b.nodeType?[b]:b;e=q.match.PSEUDO.exec(a);){c+=e[0];a=a.replace(q.match.PSEUDO,"")}a=q.relative[a]?a+"*":a;e=0;for(var l=b.length;e<l;e++)g(a,b[e],h);return g.filter(c,h)};KISSY.add("sizzle",function(a){a.ExternalSelector=g;a.ExternalSelector._filter=function(b,h){return g.matches(h,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(d,p){function u(j,f){if(!(this instanceof u))return new u(j,f);if(f===p){f=j;j=[i]}d.isArray(j)||(j=[d.get(j)||i]);this.containers=j;this.config=d.merge(r,f);this.callbacks={els:[],fns:[]};this._init()}var w=d.DOM,n=d.Event,m=window,i=document,g="scroll",q="resize",r={mod:"manual",diff:"default",placeholder:"none"};d.augment(u,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var j=this.containers,
f,o,v,x=[],k=[];f=0;for(o=j.length;f<o;++f){v=d.query("img",j[f]);x=x.concat(d.filter(v,this._filterImg,this));v=d.query("textarea",j[f]);k=k.concat(d.filter(v,this._filterArea,this))}this.images=x;this.areaes=k},_filterImg:function(j){var f=j.getAttribute("data-ks-lazyload"),o=this.threshold,v=this.config.placeholder;if(this.config.mod==="manual"){if(f){if(v!=="none")j.src=v;return true}}else if(w.offset(j).top>o&&!f){w.attr(j,"data-ks-lazyload",j.src);if(v!=="none")j.src=v;else j.removeAttribute("src");
return true}},_filterArea:function(j){return w.hasClass(j,"ks-datalazyload")},_initLoadEvent:function(){function j(){o||(o=d.later(function(){f();o=null},100))}function f(){v._loadItems();if(v._getItemsLength()===0){n.remove(m,g,j);n.remove(m,q,j)}}var o,v=this;n.on(m,g,j);n.on(m,q,function(){v.threshold=v._getThreshold();j()});v._getItemsLength()&&d.ready(function(){f()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=d.filter(this.images,
this._loadImg,this)},_loadImg:function(j){var f=this.threshold+w.scrollTop();if(w.offset(j).top<=f)this._loadImgSrc(j);else return true},_loadImgSrc:function(j,f){f=f||"data-ks-lazyload";var o=j.getAttribute(f);if(o&&j.src!=o){j.src=o;j.removeAttribute(f)}},_loadAreas:function(){this.areaes=d.filter(this.areaes,this._loadArea,this)},_loadArea:function(j){var f=w.css(j,"display")==="none";if(w.offset(f?j.parentNode:j).top<=this.threshold+w.scrollTop())this._loadAreaData(j.parentNode,j);else return true},
_loadAreaData:function(j,f){f.style.display="none";f.className="";var o=w.create("<div>");j.insertBefore(o,f);w.html(o,f.value,true)},_fireCallbacks:function(){var j=this.callbacks,f=j.els,o=j.fns,v=this.threshold+w.scrollTop(),x,k,a,b=[],h=[];for(x=0;(k=f[x])&&(a=o[x++]);)if(w.offset(k).top<=v)a.call(k);else{b.push(k);h.push(a)}j.els=b;j.fns=h},addCallback:function(j,f){var o=this.callbacks;if((j=d.get(j))&&d.isFunction(f)){o.els.push(j);o.fns.push(f)}},_getThreshold:function(){var j=this.config.diff,
f=w.viewportHeight();return j==="default"?2*f:f+ +j},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(j,f){var o=this,v,x;d.isArray(j)||(j=[d.get(j)]);d.each(j,function(k){switch(f){case "img-src":x=k.nodeName==="IMG"?[k]:d.query("img",k);d.each(x,function(a){o._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(v=d.get("textarea",k))&&w.hasClass(v,"ks-datalazyload-custom")&&o._loadAreaData(k,v)}})}});d.mix(u,u.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);d.DataLazyload=u},{requires:["core"]});KISSY.add("flash",function(d){d.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(d){function p(){var r;if(navigator.plugins&&navigator.mimeTypes.length)r=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{r=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(j){}if(r)return u(r)}function u(r){return r.match(/(\d)+/g)}function w(r){var j=d.isString(r)?u(r):r;r=r;if(d.isArray(j))r=parseFloat(j[0]+"."+n(j[1],3)+n(j[2],5));return r||0}function n(r,j){for(var f=(r+"").length;f++<j;)r="0"+
r;return r}var m=d.UA,i,g,q=true;m.fpv=function(r){if(r||q){q=false;i=p();g=w(i)}return i};m.fpvGEQ=function(r,j){q&&m.fpv(j);return!!g&&g>=w(r)}},{host:"flash"});
KISSY.add("flash-embed",function(d){function p(r,j,f){var o=w.create("<param>");w.attr(o,{name:j,value:f});r.appendChild(o)}var u=d.UA,w=d.DOM,n=d.Flash,m=/object|embed/i,i=encodeURIComponent,g={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},q={params:{},attrs:{width:215,height:138},version:9};d.mix(n,{fpv:u.fpv,fpvGEQ:u.fpvGEQ,add:function(r,j,f){var o,
v;j=n._normalize(j);j=d.merge(q,j);j.attrs=d.merge(q.attrs,j.attrs);if(r=d.get(r)){if(!r.id)r.id=d.guid("ks-flash-");v=j.attrs.id=r.id;if(u.fpv()){if(!u.fpvGEQ(j.version)){this._callback(f,0,v,r);if(!((o=j.xi)&&d.isString(o)))return;j.src=o}if(m.test(r.nodeName))this._register(r,j,f);else j.src?this._embed(r,j,f):this._callback(f,-3,v,r)}else this._callback(f,-1,v,r)}else this._callback(f,-2)},get:function(r){return n.swfs[r]},remove:function(r){if(r=n.get("#"+r)){w.remove(r);delete n.swfs[r.id];
n.length-=1}},contains:function(r){var j=n.swfs,f,o=false;if(d.isString(r))o=r in j;else for(f in j)if(j[f]===r){o=true;break}return o},_register:function(r,j,f){j=j.attrs.id;if(u.gecko||u.opera)r=d.query("object",r)[0]||r;n._addSWF(j,r);n._callback(f,1,j,r)},_embed:function(r,j,f){var o=n._createSWF(j.src,j.attrs,j.params);if(u.ie)r.outerHTML=o.outerHTML;else r.parentNode.replaceChild(o,r);r=d.get("#"+r.id);n._register(r,j,f)},_callback:function(r,j,f,o){j&&d.isFunction(r)&&r({status:j,id:f,swf:o})},
_addSWF:function(r,j){if(r&&j){n.swfs[r]=j;n.length+=1}},_createSWF:function(r,j,f){var o=w.create("<object>"),v;w.attr(o,j);if(u.ie){w.attr(o,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");p(o,"movie",r)}else w.attr(o,{type:"application/x-shockwave-flash",data:r,name:j.id});for(v in f)v in g&&p(o,v,f[v]);f.flashvars&&p(o,"flashvars",n.toFlashVars(f.flashvars));return o},_normalize:function(r){var j,f,o,v=r;if(d.isPlainObject(r)){v={};for(o in r){j=o.toLowerCase();f=r[o];if(j!=="flashvars")f=
n._normalize(f);v[j]=f}}return v},toFlashVars:function(r){if(!d.isPlainObject(r))return"";var j,f,o=[];for(j in r){f=r[j];if(d.isString(f))f=i(f);else{f=d.JSON.stringify(f);if(!f)continue;f=f.replace(/:"([^"]+)/g,function(v,x){return':"'+i(x)})}o.push(j+"="+f)}return o.join("&").replace(/\"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(d,p){function u(m,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=d.merge(u.Config,i);this.container=d.get(m);this.config=i;this.activeIndex=i.activeIndex;this._init()}var w=d.DOM,n=d.Event;u.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};u.Plugins=[];d.augment(u,d.EventTarget,{_init:function(){var m=this,i=m.config;m._parseMarkup();i.switchTo&&m.switchTo(i.switchTo);i.hasTriggers&&m._bindTriggers();d.each(u.Plugins,function(g){g.init&&g.init(m)})},_parseMarkup:function(){var m=this.container,i=this.config,g,q=[],r=[];switch(i.markupType){case 0:if(g=d.get("."+i.navCls,m))q=w.children(g);g=d.get("."+i.contentCls,m);r=w.children(g);break;case 1:q=d.query("."+i.triggerCls,m);r=d.query("."+
i.panelCls,m);break;case 2:q=i.triggers;r=i.panels;break}m=r.length;this.length=m/i.steps;if(i.hasTriggers&&m>0&&q.length===0)q=this._generateTriggersMarkup(this.length);this.triggers=d.makeArray(q);this.panels=d.makeArray(r);this.content=g||r[0].parentNode},_generateTriggersMarkup:function(m){var i=this.config,g=w.create("<ul>"),q,r;g.className=i.navCls;for(r=0;r<m;r++){q=w.create("<li>");if(r===this.activeIndex)q.className=i.activeTriggerCls;q.innerHTML=r+1;g.appendChild(q)}this.container.appendChild(g);
return w.children(g)},_bindTriggers:function(){var m=this,i=m.config,g=m.triggers,q,r,j=g.length;for(r=0;r<j;r++)(function(f){q=g[f];n.on(q,"click",function(){m._onFocusTrigger(f)});if(i.triggerType==="mouse"){n.on(q,"mouseenter",function(){m._onMouseEnterTrigger(f)});n.on(q,"mouseleave",function(){m._onMouseLeaveTrigger(f)})}})(r)},_onFocusTrigger:function(m){if(this._triggerIsValid(m)){this._cancelSwitchTimer();this.switchTo(m)}},_onMouseEnterTrigger:function(m){var i=this;if(i._triggerIsValid(m))i.switchTimer=
d.later(function(){i.switchTo(m)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(m){return this.activeIndex!==m},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=p}},switchTo:function(m,i){var g=this.config,q=this.triggers,r=this.panels,j=this.activeIndex,f=g.steps,o=j*f,v=m*f;if(!this._triggerIsValid(m))return this;if(this.fire("beforeSwitch",{toIndex:m})===false)return this;if(g.hasTriggers)this._switchTrigger(j>
-1?q[j]:null,q[m]);if(i===p)i=m>j?"forward":"backward";this._switchView(r.slice(o,o+f),r.slice(v,v+f),m,i);this.activeIndex=m;return this},_switchTrigger:function(m,i){var g=this.config.activeTriggerCls;m&&w.removeClass(m,g);w.addClass(i,g)},_switchView:function(m,i,g){w.css(m,"display","none");w.css(i,"display","block");this._fireOnSwitch(g)},_fireOnSwitch:function(m){this.fire("switch",{currentIndex:m})},prev:function(){var m=this.activeIndex;this.switchTo(m>0?m-1:this.length-1,"backward")},next:function(){var m=
this.activeIndex;this.switchTo(m<this.length-1?m+1:0,"forward")}});d.Switchable=u},{requires:["core"]});
KISSY.add("autoplay",function(d,p){var u=d.Event,w=d.Switchable;d.mix(w.Config,{autoplay:false,interval:5,pauseOnHover:true});w.Plugins.push({name:"autoplay",init:function(n){function m(){q=d.later(function(){n.paused||n.switchTo(n.activeIndex<n.length-1?n.activeIndex+1:0,"forward")},g,true)}var i=n.config,g=i.interval*1E3,q;if(i.autoplay){if(i.pauseOnHover){u.on(n.container,"mouseenter",function(){if(q){q.cancel();q=p}n.paused=true});u.on(n.container,"mouseleave",function(){n.paused=false;m()})}m()}}})},
{host:"switchable"});
KISSY.add("effect",function(d,p){var u=d.DOM,w=d.Anim,n=d.Switchable,m;d.mix(n.Config,{effect:"none",duration:0.5,easing:"easeNone"});n.Effects={none:function(i,g,q){u.css(i,"display","none");u.css(g,"display","block");q()},fade:function(i,g,q){i.length!==1&&d.error("fade effect only supports steps == 1.");var r=this,j=r.config,f=i[0],o=g[0];r.anim&&r.anim.stop(true);u.css(o,"opacity",1);r.anim=(new w(f,{opacity:0},j.duration,j.easing,function(){r.anim=p;u.css(o,"z-index",9);u.css(f,"z-index",1);
q()})).run()},scroll:function(i,g,q,r){var j=this;i=j.config;g=i.effect==="scrollx";var f={};f[g?"left":"top"]=-(j.viewSize[g?0:1]*r)+"px";j.anim&&j.anim.stop();j.anim=(new w(j.content,f,i.duration,i.easing,function(){j.anim=p;q()})).run()}};m=n.Effects;m.scrollx=m.scrolly=m.scroll;n.Plugins.push({name:"effect",init:function(i){var g=i.config,q=g.effect,r=i.panels,j=i.content,f=g.steps,o=i.activeIndex,v=r.length;i.viewSize=[g.viewSize[0]||r[0].offsetWidth*f,g.viewSize[1]||r[0].offsetHeight*f];if(q!==
"none"){d.each(r,function(b){u.css(b,"display","block")});switch(q){case "scrollx":case "scrolly":u.css(j,"position","absolute");u.css(j.parentNode,"position","relative");if(q==="scrollx"){u.css(r,"float","left");u.width(j,i.viewSize[0]*(v/f))}break;case "fade":var x=o*f,k=x+f-1,a;d.each(r,function(b,h){a=h>=x&&h<=k;u.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});d.augment(n,{_switchView:function(i,g,q,r){var j=this,f=j.config.effect;(d.isFunction(f)?f:m[f]).call(j,i,g,function(){j._fireOnSwitch(q)},
q,r)}})},{host:"switchable"});
KISSY.add("circular",function(d,p){function u(a,b,h,c,e){var l=this;a=l.config;b=l.length;var s=l.activeIndex,t=a.scrollType===x,A=t?q:r,y=l.viewSize[t?0:1];t=-y*c;var z={},B,C=e===v;if(B=C&&s===0&&c===b-1||e===o&&s===b-1&&c===0)t=w.call(l,l.panels,c,C,A,y);z[A]=t+f;l.anim&&l.anim.stop();l.anim=(new d.Anim(l.content,z,a.duration,a.easing,function(){B&&n.call(l,l.panels,c,C,A,y);l.anim=p;h()})).run()}function w(a,b,h,c,e){var l=this.config.steps;b=this.length;var s=h?b-1:0,t=(s+1)*l;for(l=s*l;l<t;l++){m.css(a[l],
i,g);m.css(a[l],c,(h?-1:1)*e*b)}return h?e:-e*b}function n(a,b,h,c,e){var l=this.config.steps;b=this.length;var s=h?b-1:0,t=(s+1)*l;for(l=s*l;l<t;l++){m.css(a[l],i,j);m.css(a[l],c,j)}m.css(this.content,c,h?-e*(b-1):j)}var m=d.DOM,i="position",g="relative",q="left",r="top",j="",f="px",o="forward",v="backward",x="scrollx",k=d.Switchable;d.mix(k.Config,{circular:false});k.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=a.effect;
a.effect=u}}})},{host:"switchable"});
KISSY.add("lazyload",function(d){var p=d.DOM,u="beforeSwitch",w="img-src",n="area-data",m={},i=d.Switchable;m[w]="data-ks-lazyload-custom";m[n]="ks-datalazyload-custom";d.mix(i.Config,{lazyDataType:n});i.Plugins.push({name:"lazyload",init:function(g){function q(x){var k=f.steps;x=x.toIndex*k;j.loadCustomLazyData(g.panels.slice(x,x+k),o);r()&&g.detach(u,q)}function r(){var x,k,a,b=o===w;if(x=b?"img":o===n?"textarea":""){x=d.query(x,g.container);k=0;for(a=x.length;k<a;k++)if(b?p.attr(x[k],v):p.hasClass(x[k],
v))return false}return true}var j=d.DataLazyload,f=g.config,o=f.lazyDataType,v=m[o];!j||!o||!v||g.on(u,q)}})},{host:"switchable"});KISSY.add("autorender",function(d){d.Switchable.autoRender=function(p,u){p="."+(p||"KS_Widget");d.query(p,u).each(function(w){var n=w.getAttribute("data-widget-type"),m;if(n&&"Switchable Tabs Slide Carousel Accordion".indexOf(n)>-1)try{if(m=w.getAttribute("data-widget-config"))m=m.replace(/'/g,'"');new d[n](w,d.JSON.parse(m))}catch(i){}})}},{host:"switchable"});
KISSY.add("tabs",function(d){function p(u,w){if(!(this instanceof p))return new p(u,w);p.superclass.constructor.call(this,u,w)}d.extend(p,d.Switchable);d.Tabs=p},{host:"switchable"});KISSY.add("slide",function(d){function p(w,n){if(!(this instanceof p))return new p(w,n);p.superclass.constructor.call(this,w,d.merge(u,n))}var u={autoplay:true,circular:true};d.extend(p,d.Switchable);d.Slide=p},{host:"switchable"});
KISSY.add("carousel",function(d,p){function u(j,f){var o=this;if(!(o instanceof u))return new u(j,f);o.on("init",function(){w(o)});u.superclass.constructor.call(o,j,d.merge(r,f))}function w(j){var f=j.config,o=f.disableBtnCls;d.each(["prev","next"],function(v){var x=j[v+"Btn"]=d.get(i+f[v+"BtnCls"],j.container);m.on(x,"click",function(k){k.preventDefault();n.hasClass(x,o)||j[v]()})});f.circular||j.on("switch",function(v){v=v.currentIndex;v=v===0?j[g]:v===j.length-1?j[q]:p;n.removeClass([j[g],j[q]],
o);v&&n.addClass(v,o)});m.on(j.panels,"click focus",function(){j.fire("itemSelected",{item:this})})}var n=d.DOM,m=d.Event,i=".",g="prevBtn",q="nextBtn",r={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};d.extend(u,d.Switchable);d.Carousel=u},{host:"switchable"});
KISSY.add("accordion",function(d){function p(n,m){if(!(this instanceof p))return new p(n,m);p.superclass.constructor.call(this,n,d.merge(w,m));if(this.config.multiple)this._switchTrigger=function(){}}var u=d.DOM,w={markupType:1,triggerType:"click",multiple:false};d.extend(p,d.Switchable);d.Accordion=p;d.augment(p,{_triggerIsValid:function(n){return this.activeIndex!==n||this.config.multiple},_switchView:function(n,m,i){var g=this.config,q=m[0];if(g.multiple){u.toggleClass(this.triggers[i],g.activeTriggerCls);
u.css(q,"display",q.style.display=="none"?"block":"none");this._fireOnSwitch(i)}else p.superclass._switchView.call(this,n,m,i)}})},{host:"switchable"});
KISSY.add("suggest",function(d,p){function u(c,e,l){if(!(this instanceof u))return new u(c,e,l);this.textInput=d.get(c);e+=e.indexOf("?")===-1?"?":"&";this.dataSource=e+"code=utf-8&callback="+v;this.config=d.merge(h,l);this.queryParams=this.query=x;this._dataCache={};this._init()}function w(c){c.style.visibility=x}function n(c){c.style.visibility=k}function m(c,e){if(e.nodeType===1){i.html(c,x);c.appendChild(e)}else i.html(c,e)}var i=d.DOM,g=d.Event,q=window,r=document,j,f=d.get("head"),o=d.UA.ie,
v="g_ks_suggest_callback",x="",k="hidden",a=parseInt,b=/^(input|button|a)$/i,h={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:o===6,submitOnSelect:true};d.augment(u,d.EventTarget,{_init:function(){j=r.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var c=this,e=c.textInput,l=false,s=0;i.attr(e,"autocomplete","off");c.config.autoFocus&&e.focus();g.on(e,"keydown",function(t){t=
t.keyCode;if(t===27){c.hide();e.value=c.query}else if(t>32&&t<41)if(e.value){if(t===40||t===38)if(s++===0){c._isRunning&&c.stop();l=true;c._selectItem(t===40)}else if(s==3)s=0}else e.blur();else if(t===13){e.blur();if(l)if(e.value==c._getSelectedItemKey())if(c.fire("itemSelect")===false)return;c._submitForm()}else{c._isRunning||c.start();l=false}});g.on(e,"keyup",function(){s=0});g.on(e,"blur",function(){c.stop();d.later(function(){c._focusing||c.hide()},0)})},_initContainer:function(){var c=i.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),e=i.create("<div>",{"class":"ks-suggest-content"}),l=i.create("<div>",{"class":"ks-suggest-footer"});c.appendChild(e);c.appendChild(l);j.insertBefore(c,j.firstChild);this.container=c;this.content=e;this.footer=l;this._initContainerEvent()},_setContainerRegion:function(){var c=this.textInput,e=i.offset(c),l=this.container;i.offset(l,{left:e.left,top:e.top+c.offsetHeight-1});i.width(l,this.config.containerWidth||
c.offsetWidth-2)},_initContainerEvent:function(){var c=this,e=c.textInput,l=c.container,s=c.content,t=c.footer,A,y;g.on(s,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");if(i.contains(s,z))if(z!==c.selectedItem){c._removeSelectedItem();c._setSelectedItem(z)}});g.on(s,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");A=z});g.on(l,"mousedown",function(z){if(!b.test(z.target.nodeName)){e.onbeforedeactivate=function(){q.event.returnValue=false;e.onbeforedeactivate=
null};z.preventDefault()}});g.on(s,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=i.parent(B,"li");if(B==A)if(i.contains(s,B)){c._updateInputFromSelectItem(B);if(c.fire("itemSelect")!==false){e.blur();c._submitForm()}}}});g.on(t,"focusin",function(){c._focusing=true;c._removeSelectedItem();y=false});g.on(t,"focusout",function(){c._focusing=false;d.later(function(){if(y)c.hide();else c._focusing||c.textInput.focus()},0)});g.on(c.container,"mouseleave",function(){y=true});
g.on(t,"click",function(z){i.hasClass(z.target,"ks-suggest-closebtn")&&c.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var c=this.textInput.form;if(c)if(this.fire("beforeSubmit",{form:c})!==false){if(r.createEvent){var e=r.createEvent("MouseEvents");e.initEvent("submit",true,false);c.dispatchEvent(e)}else r.createEventObject&&c.fireEvent("onsubmit");c.submit()}}},_initShim:function(){var c=i.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=c;j.insertBefore(c,j.firstChild)},_setShimRegion:function(){var c=this.container,e=c.style,l=c.shim;l&&i.css(l,{left:a(e.left)-2,top:e.top,width:a(e.width)+2,height:i.height(c)-2})},_initStyle:function(){d.get("#ks-suggest-style")||i.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var c=this;g.on(q,"resize",function(){c._setContainerRegion();c._setShimRegion()})},start:function(){var c=this;if(c.fire("beforeStart")!==false){u.focusInstance=c;c._timer=d.later(function(){c._updateContent();c._timer=d.later(arguments.callee,200)},200);c._isRunning=true}},stop:function(){u.focusInstance=p;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var c=this.container,e=c.shim;this._setContainerRegion();
w(c);if(e){this._setShimRegion();w(e)}}},hide:function(){if(this.isVisible()){var c=this.container,e=c.shim;e&&n(e);n(c)}},isVisible:function(){return this.container.style.visibility!=k},_updateContent:function(){var c=this.textInput;if(c.value!=this.query){c=this.query=c.value;if(d.trim(c))if(this._dataCache[c]!==p){this._fillContainer(this._dataCache[c]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var c=this,e;if(!o)c.dataScript=
p;if(!c.dataScript){e=r.createElement("script");e.charset="utf-8";e.async=true;f.insertBefore(e,f.firstChild);c.dataScript=e;if(!o){var l=d.now();c._latestScriptTime=l;i.attr(e,"data-time",l);g.on(e,"load",function(){c._scriptDataIsOut=i.attr(e,"data-time")!=c._latestScriptTime})}}c.queryParams="q="+encodeURIComponent(c.query);if(c.fire("beforeDataRequest")!==false)c.dataScript.src=c.dataSource+"&"+c.queryParams},_handleResponse:function(c){var e=x,l,s,t,A;if(!this._scriptDataIsOut){this.returnedData=
c;if(this.fire("dataReturn",{data:c})!==false){c=this._formatData(this.returnedData);if((l=c.length)>0){s=i.create("<ol>");for(e=0;e<l;++e){t=c[e];t=this._formatItem(A=t.key,t.result);i.attr(t,"key",A);i.addClass(t,e%2?"ks-even":"ks-odd");s.appendChild(t)}e=s}this._fillContainer(e);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=i.html(this.content);this._displayContainer()}}}},_formatData:function(c){var e=[],l,s,t,A=0;if(!c)return e;if(d.isArray(c.result))c=c.result;if(!(l=c.length))return e;
for(t=0;t<l;++t){s=c[t];if(d.isString(s))e[A++]={key:s};else if(d.isArray(s)&&s.length>1)e[A++]={key:s[0],result:s[1]}}return e},_formatItem:function(c,e){var l=i.create("<li>"),s=i.create("<span>",{"class":"ks-suggest-key"});i.html(s,c);l.appendChild(s);if(e){c=this.config.resultFormat.replace("%result%",e);if(d.trim(c)){e=i.create("<span>",{"class":"ks-suggest-result"});i.html(e,c);l.appendChild(e)}}return l},_fillContainer:function(c,e){this._fillContent(c||x);this._fillFooter(e||x)},_fillContent:function(c){m(this.content,
c);this.selectedItem=p},_fillFooter:function(c){var e=this.config,l=this.footer;m(l,c);if(e.closeBtn){c=i.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});i.html(c,e.closeBtnText);l.appendChild(c)}this.fire("updateFooter",{footer:l,query:this.query});i.css(l,"display",i.text(l)?x:"none")},_displayContainer:function(){d.trim(i.text(this.container))?this.show():this.hide()},_selectItem:function(c){var e=d.query("li",this.container);if(e.length!==0)if(this.isVisible()){if(this.selectedItem){c=
i[c?"next":"prev"](this.selectedItem);if(!c)this.textInput.value=this.query}else c=e[c?0:e.length-1];this._removeSelectedItem();if(c){this._setSelectedItem(c);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){i.removeClass(this.selectedItem,"ks-selected");this.selectedItem=p},_setSelectedItem:function(c){i.addClass(c,"ks-selected");this.selectedItem=c;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return i.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});q[v]=function(c){u.focusInstance&&d.later(function(){u.focusInstance._handleResponse(c)},0)};u.version=1.1;d.Suggest=u},{requires:["core"]});
