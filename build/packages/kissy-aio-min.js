/*
Copyright 2010, KISSY UI Library v1.1.3
MIT Licensed
build time: Sep 9 09:34
*/
(function(c,q,s){if(c[q]===s)c[q]={};q=c[q];var t=c.document,k=location,m=function(f,o,w,x){if(!o||!f)return f;if(w===s)w=true;var l,a,b;if(x&&(b=x.length))for(l=0;l<b;l++){a=x[l];if(a in o)if(w||!(a in f))f[a]=o[a]}else for(a in o)if(w||!(a in f))f[a]=o[a];return f},i=false,g=[],r=false,n=/^#?([\w-]+)$/,h=0;m(q,{version:"1.1.3",__init:function(){this.Env={mods:{},_loadQueue:{}};var f=t.getElementsByTagName("script");this.Config={debug:"",base:f[f.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(f){r||this._bindReady();i?f.call(c,this):g.push(f);return this},_bindReady:function(){var f=this,o=t.documentElement.doScroll,w=o?"onreadystatechange":"DOMContentLoaded",x=function(){f._fireReady()};r=true;if(t.readyState==="complete")return x();if(t.addEventListener){var l=function(){t.removeEventListener(w,l,false);x()};t.addEventListener(w,l,false);c.addEventListener("load",x,false)}else{var a=function(){if(t.readyState==="complete"){t.detachEvent(w,a);x()}};t.attachEvent(w,
a);c.attachEvent("onload",x);if(c==c.top){var b=function(){try{o("left");x()}catch(j){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!i){i=true;if(g){for(var f,o=0;f=g[o++];)f.call(c,this);g=null}}},available:function(f,o){if((f=(f+"").match(n)[1])&&q.isFunction(o))var w=1,x=q.later(function(){if(t.getElementById(f)&&(o()||1)||++w>500)x.cancel()},40,true)},mix:m,merge:function(){var f={},o,w=arguments.length;for(o=0;o<w;++o)m(f,arguments[o]);return f},augment:function(){var f=arguments,o=f.length-
2,w=f[0],x=f[o],l=f[o+1],a=1;if(!q.isArray(l)){x=l;l=s;o++}if(!q.isBoolean(x)){x=s;o++}for(;a<o;a++)m(w.prototype,f[a].prototype||f[a],x,l);return w},extend:function(f,o,w,x){if(!o||!f)return f;var l=Object.prototype,a=o.prototype,b=function(j){function d(){}d.prototype=j;return new d}(a);f.prototype=b;b.constructor=f;f.superclass=a;if(o!==Object&&a.constructor===l.constructor)a.constructor=o;w&&m(b,w);x&&m(f,x);return f},namespace:function(){var f=arguments.length,o=null,w,x,l;for(w=0;w<f;++w){l=
(""+arguments[w]).split(".");o=this;for(x=c[l[0]]===o?1:0;x<l.length;++x)o=o[l[x]]=o[l[x]]||{}}return o},app:function(f,o){var w=q.isString(f),x=w?c[f]||{}:f;m(x,this,true,q.__APP_MEMBERS);x.__init();m(x,q.isFunction(o)?o():o);w&&(c[f]=x);return x},log:function(f,o,w){if(q.Config.debug){if(w)f=w+": "+f;if(c.console!==s&&console.log)console[o&&console[o]?o:"log"](f)}},error:function(f){if(q.Config.debug)throw f;},guid:function(f){var o=h++ +"";return f?f+o:o}});q.__init();q.__APP_MEMBERS=["__init",
"namespace"];if(k&&(k.search||"").indexOf("ks-debug")!==-1)q.Config.debug=true})(window,"KISSY");
(function(c,q,s){function t(e){var p=typeof e;return e===null||p!=="object"&&p!=="function"}function k(e){return g.slice.call(e)}var m=document,i=m.documentElement,g=Array.prototype,r=g.indexOf,n=g.lastIndexOf,h=g.filter,f=String.prototype.trim,o=Object.prototype.toString,w=encodeURIComponent,x=decodeURIComponent,l=w("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,j=/\S/;q.mix(q,{isUndefined:function(e){return e===s},isBoolean:function(e){return o.call(e)==="[object Boolean]"},isString:function(e){return o.call(e)===
"[object String]"},isNumber:function(e){return o.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&o.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var p in e)return false;return true},isFunction:function(e){return o.call(e)==="[object Function]"},isArray:function(e){return o.call(e)==="[object Array]"},trim:f?function(e){return e==s?"":f.call(e)}:function(e){return e==s?"":e.toString().replace(a,"")},substitute:function(e,p,u){if(!q.isString(e)||
!q.isPlainObject(p))return e;return e.replace(u||/\\?\{([^{}]+)\}/g,function(v,A){if(v.charAt(0)==="\\")return v.slice(1);return p[A]!==s?p[A]:""})},each:function(e,p,u){var v,A=0,y=e.length,z=y===s||q.isFunction(e);u=u||c;if(z)for(v in e){if(p.call(u,e[v],v,e)===false)break}else for(v=e[0];A<y&&p.call(u,v,A,e)!==false;v=e[++A]);return e},indexOf:r?function(e,p){return r.call(p,e)}:function(e,p){for(var u=0,v=p.length;u<v;++u)if(p[u]===e)return u;return-1},lastIndexOf:n?function(e,p){return n.call(p,
e)}:function(e,p){for(var u=p.length-1;u>=0;u--)if(p[u]===e)break;return u},unique:function(e,p){p&&e.reverse();e=e.slice();for(var u=0,v,A;u<e.length;){for(A=e[u];(v=q.lastIndexOf(A,e))!==u;)e.splice(v,1);u+=1}p&&e.reverse();return e},inArray:function(e,p){return q.indexOf(e,p)>-1},makeArray:function(e){if(e===null||e===s)return[];if(q.isArray(e))return e;if(typeof e.length!=="number"||q.isString(e)||q.isFunction(e))return[e];return k(e)},filter:h?function(e,p,u){return h.call(e,p,u)}:function(e,
p,u){var v=[];q.each(e,function(A,y,z){p.call(u,A,y,z)&&v.push(A)});return v},param:function(e,p){if(!q.isPlainObject(e))return"";p=p||"&";var u=[],v,A;for(v in e){A=e[v];v=w(v);if(t(A))u.push(v,"=",w(A+""),p);else if(q.isArray(A)&&A.length)for(var y=0,z=A.length;y<z;++y)t(A[y])&&u.push(v,l+"=",w(A[y]+""),p)}u.pop();return u.join("")},unparam:function(e,p){if(typeof e!=="string"||(e=q.trim(e)).length===0)return{};var u={};e=e.split(p||"&");for(var v,A,y,z=0,B=e.length;z<B;++z){p=e[z].split("=");v=
x(p[0]);try{A=x(p[1]||"")}catch(C){A=p[1]||""}if((y=v.match(b))&&y[1]){u[y[1]]=u[y[1]]||[];u[y[1]].push(A)}else u[v]=A}return u},later:function(e,p,u,v,A){p=p||0;v=v||{};var y=e,z=q.makeArray(A),B;if(q.isString(e))y=v[e];y||q.error("method undefined");e=function(){y.apply(v,z)};B=u?setInterval(e,p):setTimeout(e,p);return{id:B,interval:u,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var p=e,u,v;if(e&&((u=q.isArray(e))||q.isPlainObject(e))){p=u?[]:{};for(v in e)if(e.hasOwnProperty(v))p[v]=
q.clone(e[v])}return p},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&j.test(e)){var p=m.getElementsByTagName("head")[0]||i,u=m.createElement("script");u.text=e;p.insertBefore(u,p.firstChild);p.removeChild(u)}}});try{k(i.childNodes)}catch(d){k=function(e){for(var p=[],u=e.length-1;u>=0;u--)p[u]=e[u];return p}}})(window,KISSY);
(function(c,q,s){var t=c.document,k=t.getElementsByTagName("head")[0]||t.documentElement,m=2,i=3,g=4,r=q.mix,n=t.createElement("script").readyState?function(f,o){var w=f.onreadystatechange;f.onreadystatechange=function(){var x=f.readyState;if(x==="loaded"||x==="complete"){f.onreadystatechange=null;w&&w();o.call(this)}}}:function(f,o){f.addEventListener("load",o,false)},h=/\.css(?:\?|$)/i;c={add:function(f,o,w){var x=this.Env.mods,l;if(q.isString(f)&&!w&&q.isPlainObject(o)){l={};l[f]=o;f=l}if(q.isPlainObject(f)){q.each(f,
function(a,b){a.name=b;x[b]&&r(a,x[b],false)});r(x,f)}else{w=w||{};l=x[f]||{};f=w.host||l.host||f;l=x[f]||{};r(l,{name:f,status:m});if(!l.fns)l.fns=[];o&&l.fns.push(o);r(x[f]=l,w);l.attach!==false&&this.__isAttached(l.requires)&&this.__attachMod(l)}return this},use:function(f,o,w){f=f.replace(/\s+/g,"").split(",");w=w||{};var x=this,l=x.Env.mods,a=(w||0).global,b,j=f.length,d,e,p;a&&x.__mixMods(a);if(x.__isAttached(f))o&&o(x);else{for(b=0;b<j&&(d=l[f[b]]);b++)if(d.status!==g){if(w.order&&b>0){if(!d.requires)d.requires=
[];d._requires=d.requires.concat();e=f[b-1];if(!q.inArray(e,d.requires)&&!q.inArray(d.name,l[e].requires||[]))d.requires.push(e)}x.__attach(d,function(){if(!p&&x.__isAttached(f)){p=true;if(d._requires)d.requires=d._requires;o&&o(x)}},a)}return x}},__attach:function(f,o,w){function x(){if(l.__isAttached(a)){f.status===m&&l.__attachMod(f);f.status===g&&o()}}for(var l=this,a=f.requires||[],b=0,j=a.length;b<j;b++)l.__attach(l.Env.mods[a[b]],x,w);l.__buildPath(f);l.__load(f,x,w)},__mixMods:function(f){var o=
this.Env.mods,w=f.Env.mods,x;for(x in w)this.__mixMod(o,w,x,f)},__mixMod:function(f,o,w,x){var l=f[w]||{},a=l.status;q.mix(l,q.clone(o[w]));if(a)l.status=a;x&&this.__buildPath(l,x.Config.base);f[w]=l},__attachMod:function(f){var o=this;if(f.fns){q.each(f.fns,function(w){w&&w(o)});f.fns=s}f.status=g},__isAttached:function(f){for(var o=this.Env.mods,w,x=(f=q.makeArray(f)).length-1;x>=0&&(w=o[f[x]]);x--)if(w.status!==g)return false;return true},__load:function(f,o,w){function x(){l();if(f.status!==i){w&&
a.__mixMod(a.Env.mods,w.Env.mods,f.name,w);if(f.status!==g)f.status=m;o()}}function l(){j[b]=m}var a=this,b=f.fullpath,j=q.Env._loadQueue,d=j[b];f.status=f.status||0;if(f.status<1&&d)f.status=d.nodeName?1:m;if(q.isString(f.cssfullpath)){a.getScript(f.cssfullpath);f.cssfullpath=m}if(f.status<1&&b){f.status=1;d=a.getScript(b,{success:function(){KISSY.log(f.name+" is loaded.","info");x()},error:function(){f.status=i;l()},charset:f.charset});h.test(b)||(j[b]=d)}else f.status===1?n(d,x):o()},__buildPath:function(f,
o){function w(l,a){if(!f[a]&&f[l])f[a]=(o||x.base)+f[l];if(f[a]&&x.debug)f[a]=f[a].replace(/-min/g,"")}var x=this.Config;w("path","fullpath");f.cssfullpath!==m&&w("csspath","cssfullpath")},getScript:function(f,o,w){var x=h.test(f),l=t.createElement(x?"link":"script"),a=o,b,j,d;if(q.isPlainObject(a)){o=a.success;b=a.error;j=a.timeout;w=a.charset}if(x){l.href=f;l.rel="stylesheet"}else{l.src=f;l.async=true}if(w)l.charset=w;if(q.isFunction(o))x?o.call(l):n(l,function(){if(d){d.cancel();d=s}o.call(l)});
if(q.isFunction(b))d=q.later(function(){d=s;b()},(j||this.Config.timeout)*1E3);k.insertBefore(l,k.firstChild);return l}};r(q,c);q.each(c,function(f,o){q.__APP_MEMBERS.push(o)})})(window,KISSY);(function(c){var q={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay"],function(s){q[s]={path:s+"/"+s+"-pkg-min.js",requires:["core"],charset:"utf-8"}});c.add(q)})(KISSY);
KISSY.add("ua",function(c){var q=navigator.userAgent,s="",t="",k,m={},i=function(g){var r=0;return parseFloat(g.replace(/\./g,function(){return r++===0?".":""}))};if((k=q.match(/AppleWebKit\/([\d.]*)/))&&k[1]){m[s="webkit"]=i(k[1]);if((k=q.match(/Chrome\/([\d.]*)/))&&k[1])m[t="chrome"]=i(k[1]);else if((k=q.match(/\/([\d.]*) Safari/))&&k[1])m[t="safari"]=i(k[1]);if(/ Mobile\//.test(q))m.mobile="apple";else if(k=q.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))m.mobile=k[0].toLowerCase()}else if((k=
q.match(/Presto\/([\d.]*)/))&&k[1]){m[s="presto"]=i(k[1]);if((k=q.match(/Opera\/([\d.]*)/))&&k[1]){m[t="opera"]=i(k[1]);if((k=q.match(/Opera\/.* Version\/([\d.]*)/))&&k[1])m[t]=i(k[1]);if((k=q.match(/Opera Mini[^;]*/))&&k)m.mobile=k[0].toLowerCase();else if((k=q.match(/Opera Mobi[^;]*/))&&k)m.mobile=k[0]}}else if((k=q.match(/MSIE\s([^;]*)/))&&k[1]){m[s="trident"]=0.1;m[t="ie"]=i(k[1]);if((k=q.match(/Trident\/([\d.]*)/))&&k[1])m[s]=i(k[1])}else if(k=q.match(/Gecko/)){m[s="gecko"]=0.1;if((k=q.match(/rv:([\d.]*)/))&&
k[1])m[s]=i(k[1]);if((k=q.match(/Firefox\/([\d.]*)/))&&k[1])m[t="firefox"]=i(k[1])}m.core=s;m.shell=t;m._numberify=i;c.UA=m});
KISSY.add("ua-extra",function(c){var q=c.UA,s=navigator.userAgent,t,k,m={},i=q._numberify;if(s.match(/360SE/))m[k="se360"]=3;else if(s.match(/Maxthon/)&&(t=window.external)){k="maxthon";try{m[k]=i(t.max_version)}catch(g){m[k]=0.1}}else if(t=s.match(/TencentTraveler\s([\d.]*)/))m[k="tt"]=t[1]?i(t[1]):0.1;else if(s.match(/TheWorld/))m[k="theworld"]=3;else if(t=s.match(/SE\s([\d.]*)/))m[k="sougou"]=t[1]?i(t[1]):0.1;k&&(m.shell=k);c.mix(q,m)});
KISSY.add("dom",function(c,q){function s(t,k){return t&&t.nodeType===k}c.DOM={_isElementNode:function(t){return s(t,1)},_isKSNode:function(t){return c.Node&&s(t,c.Node.TYPE)},_getWin:function(t){return t&&"scrollTo"in t&&t.document?t:s(t,9)?t.defaultView||t.parentWindow:t===q?window:false},_nodeTypeIs:s}});
KISSY.add("selector",function(c,q){function s(a,b){var j,d=[],e,p;b=t(b);if(c.isString(a)){a=c.trim(a);if(x.test(a)){if(a=k(a.slice(1),b))d=[a]}else if(j=l.exec(a)){e=j[1];p=j[2];j=j[3];if(b=e?k(e,b):b)if(j)if(!e||a.indexOf(h)!==-1)d=i(j,p,b);else{if((a=k(e,b))&&n.hasClass(a,j))d=[a]}else if(p)d=m(p,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else g(a)}else if(a&&(a[o]||a[w]))d=a[o]?[a[o]()]:a[w]();else if(a&&(c.isArray(a)||a.item&&!a.nodeType))d=a;else if(a)d=[a];if(d.item)d=c.makeArray(d);
d.each=function(u,v){return c.each(d,u,v)};return d}function t(a){if(a===q)a=r;else if(c.isString(a)&&x.test(a))a=k(a.slice(1),r);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function k(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function m(a,b){return b.getElementsByTagName(a)}function i(a,b,j){j=a=j.getElementsByClassName(a);var d=0,e=0,p=a.length,u;if(b&&b!==f){j=[];for(b=b.toUpperCase();d<p;++d){u=a[d];if(u.tagName===b)j[e++]=u}}return j}function g(a){c.error("Unsupported selector: "+
a)}var r=document,n=c.DOM,h=" ",f="*",o="getDOMNode",w=o+"s",x=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=r.createElement("div");a.appendChild(r.createComment(""));if(a.getElementsByTagName(f).length>0)m=function(b,j){j=j.getElementsByTagName(b);if(b===f){b=[];for(var d=0,e=0,p;p=j[d++];)if(p.nodeType===1)b[e++]=p;j=b}return j}})();r.getElementsByClassName||(i=r.querySelectorAll?function(a,b,j){return j.querySelectorAll((b?b:"")+"."+a)}:function(a,b,j){b=j.getElementsByTagName(b||
f);j=[];var d=0,e=0,p=b.length,u,v;for(a=h+a+h;d<p;++d){u=b[d];if((v=u.className)&&(h+v+h).indexOf(a)>-1)j[e++]=u}return j});c.query=s;c.get=function(a,b){return s(a,b)[0]||null};c.mix(n,{query:s,get:c.get,filter:function(a,b){var j=s(a),d,e,p,u=[];if(c.isString(b)&&(d=l.exec(b))&&!d[1]){e=d[2];p=d[3];b=function(v){return!(e&&v.tagName!==e.toUpperCase()||p&&!n.hasClass(v,p))}}if(c.isFunction(b))u=c.filter(j,b);else if(b&&c.ExternalSelector)u=c.ExternalSelector._filter(a,b);else g(b);return u},test:function(a,
b){a=s(a);return n.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(c,q){function s(i,g,r,n){if(!(g=c.trim(g)))return n?false:q;i=c.query(i);var h=0,f=i.length;g=g.split(k);for(var o;h<f;h++){o=i[h];if(t._isElementNode(o)){o=r(o,g,g.length);if(o!==q)return o}}if(n)return false}var t=c.DOM,k=/[\.\s]\s*\.?/,m=/[\n\t]/g;c.mix(t,{hasClass:function(i,g){return s(i,g,function(r,n,h){if(r=r.className){r=" "+r+" ";for(var f=0,o=true;f<h;f++)if(r.indexOf(" "+n[f]+" ")<0){o=false;break}if(o)return true}},true)},addClass:function(i,g){s(i,g,function(r,
n,h){var f=r.className;if(f){var o=" "+f+" ";f=f;for(var w=0;w<h;w++)if(o.indexOf(" "+n[w]+" ")<0)f+=" "+n[w];r.className=c.trim(f)}else r.className=g})},removeClass:function(i,g){s(i,g,function(r,n,h){var f=r.className;if(f)if(h){f=(" "+f+" ").replace(m," ");for(var o=0,w;o<h;o++)for(w=" "+n[o]+" ";f.indexOf(w)>=0;)f=f.replace(w," ");r.className=c.trim(f)}else r.className=""})},replaceClass:function(i,g,r){t.removeClass(i,g);t.addClass(i,r)},toggleClass:function(i,g,r){var n=c.isBoolean(r),h;s(i,
g,function(f,o,w){for(var x=0,l;x<w;x++){l=o[x];h=n?!r:t.hasClass(f,l);t[h?"removeClass":"addClass"](f,l)}})}})});
KISSY.add("dom-attr",function(c,q){function s(l,a){return a&&a.nodeName.toUpperCase()===l.toUpperCase()}var t=c.UA,k=t.ie,m=k&&k<8,i=document.documentElement.textContent!==q?"textContent":"innerText",g=c.DOM,r=g._isElementNode,n=function(l){return g._nodeTypeIs(l,3)},h=/href|src|style/,f=/href|src|colspan|rowspan/,o=/\r/g,w=/radio|checkbox/,x={readonly:"readOnly"};m&&c.mix(x,{"for":"htmlFor","class":"className"});c.mix(g,{attr:function(l,a,b){if(c.isPlainObject(a))for(var j in a)g.attr(l,j,a[j]);
else if(a=c.trim(a)){a=a.toLowerCase();a=x[a]||a;if(b===q){l=c.get(l);if(!r(l))return q;var d;h.test(a)||(d=l[a]);if(d===q)d=l.getAttribute(a);if(m)if(f.test(a))d=l.getAttribute(a,2);else if(a==="style")d=l.style.cssText;return d===null?q:d}c.each(c.query(l),function(e){if(r(e))if(a==="style")e.style.cssText=b;else{if(a==="checked")e[a]=!!b;e.setAttribute(a,""+b)}})}},removeAttr:function(l,a){c.each(c.query(l),function(b){if(r(b)){g.attr(b,a,"");b.removeAttribute(a)}})},val:function(l,a){if(a===q){var b=
c.get(l);if(!r(b))return q;if(s("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(s("select",b)){var j=b.selectedIndex;l=b.options;if(j<0)return null;else if(b.type==="select-one")return g.val(l[j]);b=[];for(var d=0,e=l.length;d<e;++d)l[d].selected&&b.push(g.val(l[d]));return b}if(t.webkit&&w.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(o,"")}c.each(c.query(l),function(p){if(s("select",p)){if(c.isNumber(a))a+="";var u=c.makeArray(a),
v=p.options,A;d=0;for(e=v.length;d<e;++d){A=v[d];A.selected=c.inArray(g.val(A),u)}if(!u.length)p.selectedIndex=-1}else if(r(p))p.value=a})},text:function(l,a){if(a===q){l=c.get(l);if(r(l))return l[i]||"";else if(n(l))return l.nodeValue}else c.each(c.query(l),function(b){if(r(b))b[i]=a;else if(n(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,q){function s(a,b){var j=c.get(a),d=b===r?j.offsetWidth:j.offsetHeight;c.each(b===r?["Left","Right"]:["Top","Bottom"],function(e){d-=parseFloat(k._getComputedStyle(j,"padding"+e))||0;d-=parseFloat(k._getComputedStyle(j,"border"+e+"Width"))||0});return d}function t(a,b,j){var d=j;if(j===n&&f.test(b)){d=0;if(k.css(a,"position")==="absolute"){j=a[b==="left"?"offsetLeft":"offsetTop"];if(m.ie===8||m.opera)j-=h(k.css(a.offsetParent,"border-"+b+"-width"))||0;d=j-(h(k.css(a,
"margin-"+b))||0)}}return d}var k=c.DOM,m=c.UA,i=document,g=i.documentElement,r="width",n="auto",h=parseInt,f=/^left|top$/,o=/width|height|top|left|right|bottom|margin|padding/i,w=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},l={};c.mix(k,{_CUSTOM_STYLES:l,_getComputedStyle:function(a,b){var j="",d=a.ownerDocument;if(a.style)j=d.defaultView.getComputedStyle(a,null)[b];return j},css:function(a,b,j){if(c.isPlainObject(b))for(var d in b)k.css(a,d,b[d]);else{if(b.indexOf("-")>0)b=b.replace(w,x);
b=l[b]||b;if(j===q){a=c.get(a);d="";if(a&&a.style){d=b.get?b.get(a):a.style[b];if(d===""&&!b.get)d=t(a,b,k._getComputedStyle(a,b))}return d===q?"":d}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&o.test(b))j+="px";(b===r||b==="height")&&parseFloat(j)<0||c.each(c.query(a),function(e){if(e&&e.style){b.set?b.set(e,j):(e.style[b]=j);if(j==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(a,b){if(b===q)return s(a,r);else k.css(a,r,b)},height:function(a,b){if(b===q)return s(a,
"height");else k.css(a,"height",b)},addStyleSheet:function(a,b){var j;if(b)j=c.get("#"+b);if(!j){j=k.create("<style>",{id:b});c.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=a;else j.appendChild(i.createTextNode(a))}}});if(g.style.cssFloat!==q)l["float"]="cssFloat";else if(g.style.styleFloat!==q)l["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,q){if(c.UA.ie){var s=c.DOM;c=document;var t=c.documentElement,k=s._CUSTOM_STYLES,m=/^-?\d+(?:px)?$/i,i=/^-?\d/,g=/^width|height$/;try{if(t.style.opacity===q&&t.filters)k.opacity={get:function(n){var h=100;try{h=n.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(f){try{h=n.filters("alpha").opacity}catch(o){}}return h/100+""},set:function(n,h){var f=n.style;n=(n.currentStyle||0).filter||"";f.zoom=1;if(n)if(n=n.replace(/alpha\(opacity=.+\)/ig,""))n+=", ";
f.filter=n+"alpha(opacity="+h*100+")"}}}catch(r){}if(!(c.defaultView||{}).getComputedStyle&&t.currentStyle)s._getComputedStyle=function(n,h){var f=n.style,o=n.currentStyle[h];if(g.test(h))o=s[h](n)+"px";else if(!m.test(o)&&i.test(o)){var w=f.left,x=n.runtimeStyle.left;n.runtimeStyle.left=n.currentStyle.left;f.left=h==="fontSize"?"1em":o||0;o=f.pixelLeft+"px";f.left=w;n.runtimeStyle.left=x}return o}}});
KISSY.add("dom-offset",function(c,q){function s(u){var v=0,A=0,y=h(u[a]);if(u[p]){u=u[p]();v=u[b];A=u[j];if(m.mobile!=="apple"){v+=k[d](y);A+=k[e](y)}}return{left:v,top:A}}function t(u,v){if(k.css(u,x)==="static")u.style[x]=l;var A=s(u),y={},z,B;for(B in v){z=w(k.css(u,B),10)||0;y[B]=z+v[B]-A[B]}k.css(u,y)}var k=c.DOM,m=c.UA,i=window,g=document,r=k._isElementNode,n=k._nodeTypeIs,h=k._getWin,f=g.compatMode==="CSS1Compat",o=Math.max,w=parseInt,x="position",l="relative",a="ownerDocument",b="left",j=
"top",d="scrollLeft",e="scrollTop",p="getBoundingClientRect";c.mix(k,{offset:function(u,v){if(!(u=c.get(u))||!u[a])return null;if(v===q)return s(u);t(u,v)},scrollIntoView:function(u,v,A,y){if((u=c.get(u))&&u[a]){y=y===q?true:!!y;A=A===q?true:!!A;if(!v||v===i)return u.scrollIntoView(A);v=c.get(v);if(n(v,9))v=h(v);var z=v&&"scrollTo"in v&&v.document,B=k.offset(u),C=z?{left:k.scrollLeft(v),top:k.scrollTop(v)}:k.offset(v),D={left:B[b]-C[b],top:B[j]-C[j]};B=z?k.viewportHeight(v):v.clientHeight;C=z?k.viewportWidth(v):
v.clientWidth;var E=k[d](v),F=k[e](v),G=E+C,M=F+B,I=u.offsetHeight;u=u.offsetWidth;var H=D.left+E-(w(k.css(v,"borderLeftWidth"))||0);D=D.top+F-(w(k.css(v,"borderTopWidth"))||0);var N=H+u,J=D+I,K,L;if(I>B||D<F||A)K=D;else if(J>M)K=J-B;if(y)if(u>C||H<E||A)L=H;else if(N>G)L=N-C;if(z){if(K!==q||L!==q)v.scrollTo(L,K)}else{if(K!==q)v[e]=K;if(L!==q)v[d]=L}}}});c.each(["Left","Top"],function(u,v){var A="scroll"+u;k[A]=function(y){var z=0,B=h(y),C;if(B&&(C=B.document))z=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(r(y=c.get(y)))z=y[A];return z}});c.each(["Width","Height"],function(u){k["doc"+u]=function(v){v=v||g;return o(f?v.documentElement["scroll"+u]:v.body["scroll"+u],k["viewport"+u](v))};k["viewport"+u]=function(v){var A="inner"+u;v=h(v);var y=v.document;return A in v?v[A]:f?y.documentElement["client"+u]:y.body["client"+u]}})});
KISSY.add("dom-traversal",function(c,q){function s(i,g,r,n){if(!(i=c.get(i)))return null;if(g===q)g=1;var h=null,f,o;if(c.isNumber(g)&&g>=0){if(g===0)return i;f=0;o=g;g=function(){return++f===o}}for(;i=i[r];)if(m(i)&&(!g||k.test(i,g))&&(!n||n(i))){h=i;break}return h}function t(i,g,r){var n=[];var h=i=c.get(i);if(i&&r)h=i.parentNode;if(h){r=0;for(h=h.firstChild;h;h=h.nextSibling)if(m(h)&&h!==i&&(!g||k.test(h,g)))n[r++]=h}return n}var k=c.DOM,m=k._isElementNode;c.mix(k,{parent:function(i,g){return s(i,
g,"parentNode",function(r){return r.nodeType!=11})},next:function(i,g){return s(i,g,"nextSibling")},prev:function(i,g){return s(i,g,"previousSibling")},siblings:function(i,g){return t(i,g,true)},children:function(i,g){return t(i,g)},contains:function(i,g){var r=false;if((i=c.get(i))&&(g=c.get(g)))if(i.contains)return i.contains(g);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(g)&16);else for(;!r&&(g=g.parentNode);)r=g==i;return r}})});
KISSY.add("dom-create",function(c,q){function s(y,z){o(y)&&c.isPlainObject(z)&&r.attr(y,z);return y}function t(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=c.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}return B}function k(y){var z=y.cloneNode(true);if(n.ie<8)z.innerHTML=y.innerHTML;return z}function m(y,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+D+'"></span>';c.available(D,function(){var F=
c.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(j):false)&&I[2]){G=g.createElement("script");G.src=I[2];if((H=M.match(d))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)c.globalEval(J);(N=g.getElementById(D))&&r.remove(N);c.isFunction(C)&&C()});i(y,z)}else{i(y,z);c.isFunction(C)&&C()}}function i(y,z){z=(z+"").replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);z&&y.appendChild(r.create(z))}}var g=
document,r=c.DOM,n=c.UA,h=n.ie,f=r._nodeTypeIs,o=r._isElementNode,w=r._isKSNode,x=g.createElement("div"),l=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,j=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;c.mix(r,{create:function(y,z,B){if(f(y,1)||f(y,3))return k(y);if(w(y))return k(y[0]);if(!(y=c.trim(y)))return null;var C=null;C=r._creators;var D,E="div",F;if(D=b.exec(y))C=(B||g).createElement(D[1]);else{if((D=l.exec(y))&&(F=D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=
F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):t(y,B||g)}return s(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):x;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===q){y=c.get(y);if(o(y))return y.innerHTML}else c.each(c.query(y),function(D){o(D)&&m(D,z,B,C)})},remove:function(y){c.each(c.query(y),function(z){o(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(n.gecko||h){var e=r._creators,p=r.create,u=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in v)(function(y){e[A]=function(z,B){return p("<"+y+">"+z+"</"+y+">",null,B)}})(v[A]);if(h){e.script=function(y,z){z=z?z.createElement("div"):x;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(h<8)e.tbody=function(y,z){z=p("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!u.test(y)&&B.parentNode.removeChild(B);return z}}c.mix(e,{optgroup:e.option,th:e.td,
thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(q,s){if((q=c.get(q))&&(s=c.get(s))&&s.parentNode)s.parentNode.insertBefore(q,s);return q},insertAfter:function(q,s){if((q=c.get(q))&&(s=c.get(s))&&s.parentNode)s.nextSibling?s.parentNode.insertBefore(q,s.nextSibling):s.parentNode.appendChild(q);return q}})});
KISSY.add("event",function(c,q){function s(l,a,b,j,d){if(c.isString(a))a=c.query(a);if(c.isArray(a)){c.each(a,function(e){x[l](e,b,j,d)});return true}if((b=c.trim(b))&&b.indexOf(f)>0){c.each(b.split(f),function(e){x[l](a,e,j,d)});return true}}function t(l){return i(l)?l[h]:-1}function k(l,a){if(!i(l))return c.error("Text or comment node is not valid event target.");try{l[h]=a}catch(b){c.error(b)}}function m(l){try{l[h]=q;delete l[h]}catch(a){}}function i(l){return l&&l.nodeType!==3&&l.nodeType!==
8}var g=document,r=g.addEventListener?function(l,a,b,j){l.addEventListener&&l.addEventListener(a,b,!!j)}:function(l,a,b){l.attachEvent&&l.attachEvent("on"+a,b)},n=g.removeEventListener?function(l,a,b,j){l.removeEventListener&&l.removeEventListener(a,b,!!j)}:function(l,a,b){l.detachEvent&&l.detachEvent("on"+a,b)},h="ksEventTargetId",f=" ",o=c.now(),w={},x={EVENT_GUID:h,special:{},add:function(l,a,b,j){if(!s("add",l,a,b,j)){var d=t(l),e,p,u,v,A;if(!(d===-1||!a||!c.isFunction(b))){if(!d){k(l,d=o++);
w[d]={target:l,events:{}}}p=w[d].events;if(!p[a]){e=((d=!l.isCustomEventTarget)||l._supportSpecialEvent)&&x.special[a]||{};u=function(y,z){if(!y||!y.fixed){y=new c.EventObject(l,y,a);c.isPlainObject(z)&&c.mix(y,z)}e.setup&&e.setup(y);return(e.handle||x._handle)(l,y,p[a].listeners)};p[a]={handle:u,listeners:[]};v=e.fix||a;A=e.capture;if(d)r(l,v,u,A);else l._addEvent&&l._addEvent(v,u,A)}p[a].listeners.push({fn:b,scope:j||l})}}},remove:function(l,a,b,j){if(!s("remove",l,a,b,j)){var d=t(l),e,p,u,v,A,
y,z;if(d!==-1)if(d&&(e=w[d]))if(e.target===l){j=j||l;e=e.events||{};if(p=e[a]){u=p.listeners;y=u.length;if(c.isFunction(b)&&y){A=v=0;for(z=[];v<y;++v)if(b!==u[v].fn||j!==u[v].scope)z[A++]=u[v];p.listeners=z;y=z.length}if(b===q||y===0){if(l.isCustomEventTarget)l._addEvent&&l._removeEvent(a,p.handle);else{b=x.special[a]||{};n(l,b.fix||a,p.handle)}delete e[a]}}if(a===q||c.isEmptyObject(e)){for(a in e)x.remove(l,a);delete w[d];m(l)}}}},_handle:function(l,a,b){b=b.slice(0);for(var j,d=0,e=b.length;d<e;++d){j=
b[d];j=j.fn.call(j.scope||l,a);if(j===false&&l.isCustomEventTarget||a.isImmediatePropagationStopped)break}return j},_getCache:function(l){return w[l]},_simpleAdd:r,_simpleRemove:n};x.on=x.add;c.Event=x});
KISSY.add("event-object",function(c,q){function s(m,i,g){this.currentTarget=m;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=g;this.target=m}this.currentTarget=m;this.fixed=true}var t=document,k="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(s,
{_fix:function(){var m=this.originalEvent,i=k.length,g,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||t;i;){g=k[--i];this[g]=m[g]}if(!this.target)this.target=this.srcElement||t;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===q&&this.clientX!==q){m=r.documentElement;i=r.body;this.pageX=this.clientX+(m&&m.scrollLeft||i&&i.scrollLeft||
0)-(m&&m.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(m&&m.scrollTop||i&&i.scrollTop||0)-(m&&m.clientTop||i&&i.clientTop||0)}if(this.which===q)this.which=this.charCode!==q?this.charCode:this.keyCode;if(this.metaKey===q)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==q)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var m=this.originalEvent;if(m.preventDefault)m.preventDefault();else m.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var m=
this.originalEvent;if(m.stopPropagation)m.stopPropagation();else m.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var m=this.originalEvent;m.stopImmediatePropagation?m.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(m){m?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=s});
KISSY.add("event-target",function(c,q){var s=c.Event,t=s.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(k,m){if((k=((s._getCache(this[t]||-1)||{}).events||{})[k])&&c.isFunction(k.handle))return k.handle(q,m);return this},on:function(k,m,i){s.add(this,k,m,i);return this},detach:function(k,m,i){s.remove(this,k,m,i);return this}}});
KISSY.add("event-mouseenter",function(c){var q=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){q.special[s.name]={fix:s.fix,setup:function(t){t.type=s.name},handle:function(t,k,m){var i=k.relatedTarget;try{for(;i&&i!==t;)i=i.parentNode;i!==t&&q._handle(t,k,m)}catch(g){}}}})});
KISSY.add("event-focusin",function(c){var q=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){q.special[s.name]={fix:s.fix,capture:true,setup:function(t){t.type=s.name}}})});
KISSY.add("node",function(c){function q(k,m,i){var g;if(!(this instanceof q))return new q(k,m,i);if(k){if(t(k,1)||t(k,3))g=k;else if(c.isString(k))g=s.create(k,m,i);this[0]=g}else this.length=0}var s=c.DOM,t=s._nodeTypeIs;q.TYPE="-ks-Node";c.augment(q,{length:1,getDOMNode:function(){return this[0]},nodeType:q.TYPE});c.one=function(k,m){return(k=c.get(k,m))?new q(k):null};c.Node=q});
KISSY.add("nodelist",function(c){function q(k){if(!(this instanceof q))return new q(k);t.push.apply(this,k||[])}var s=c.DOM,t=Array.prototype;c.mix(q.prototype,{length:0,item:function(k){var m=null;if(s._isElementNode(this[k]))m=new c.Node(this[k]);return m},getDOMNodes:function(){return t.slice.call(this)},each:function(k,m){var i=this.length,g=0,r;for(r=new c.Node(this[0]);g<i&&k.call(m||r,r,g,this)!==false;r=new c.Node(this[++g]));return this}});c.all=function(k,m){return new q(c.query(k,m,true))};
c.NodeList=q});
KISSY.add("node-attach",function(c,q){function s(l,arguments,a,b){var j=[this[l?f:h]()].concat(c.makeArray(arguments));if(arguments[a]===q)return b.apply(k,j);else{b.apply(k,j);return this}}function t(l,a){c.each(l,function(b){c.each([r,n],function(j,d){j[b]=function(e){switch(a){case o:return function(){return s.call(this,d,arguments,1,e)};case w:return function(){return s.call(this,d,arguments,0,e)};case x:return function(){var p=this[d?f:h]();return(p=e.apply(k,[p].concat(c.makeArray(arguments))))?new (c[c.isArray(p)?
"NodeList":"Node"])(p):null};default:return function(){var p=this[d?f:h]();p=e.apply(k,[p].concat(c.makeArray(arguments)));return p===q?this:p}}}(k[b])})})}var k=c.DOM,m=c.Event,i=k._nodeTypeIs,g=k._isKSNode,r=c.Node.prototype,n=c.NodeList.prototype,h="getDOMNode",f=h+"s",o=1,w=2,x=4;c.mix(r,{one:function(l){return c.one(l,this[0])},all:function(l){return c.all(l,this[0])}});t(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);t(["attr","removeAttr"],o);t(["val","text"],w);t(["css"],
o);t(["width","height"],w);t(["offset"],w);t(["scrollIntoView"]);t(["parent","next","prev","siblings","children"],x);t(["contains"]);t(["html"],w);t(["remove"]);c.each(["insertBefore","insertAfter"],function(l){r[l]=function(a){k[l].call(k,this[0],a);return this}});c.each([r,n],function(l,a){c.mix(l,{append:function(b){b&&c.each(this,function(j){var d;if(a||c.isString(b))d=k.create(b);else{if(i(b,1)||i(b,3))d=b;if(g(b))d=b[0]}j.appendChild(d)});return this},appendTo:function(b){if((b=c.get(b))&&b.appendChild)c.each(this,
function(j){b.appendChild(j)});return this}})});c.each([r,n],function(l){c.mix(l,c.EventTarget,{_supportSpecialEvent:true});l._addEvent=function(a,b,j){for(var d=0,e=this.length;d<e;d++)m._simpleAdd(this[d],a,b,j)};l._removeEvent=function(a,b,j){for(var d=0,e=this.length;d<e;d++)m._simpleRemove(this[d],a,b,j)};delete l.fire})});
KISSY.add("cookie",function(c){function q(m){return c.isString(m)&&m!==""}var s=document,t=encodeURIComponent,k=decodeURIComponent;c.Cookie={get:function(m){var i;if(q(m))if(m=s.cookie.match("(?:^| )"+m+"(?:(?:=([^;]*))|;|$)"))i=m[1]?k(m[1]):"";return i},set:function(m,i,g,r,n,h){i=t(i);var f=g;if(typeof f==="number"){f=new Date;f.setTime(f.getTime()+g*864E5)}if(f instanceof Date)i+="; expires="+f.toUTCString();if(q(r))i+="; domain="+r;if(q(n))i+="; path="+n;if(h)i+="; secure";s.cookie=m+"="+i},remove:function(m,
i,g,r){this.set(m,"",0,i,g,r)}}});
KISSY.add("json",function(c){function q(h){return h<10?"0"+h:h}function s(h){m.lastIndex=0;return m.test(h)?'"'+h.replace(m,function(f){var o=r[f];return typeof o==="string"?o:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function t(h,f){var o,w,x=i,l,a=f[h];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(h);if(typeof n==="function")a=n.call(f,h,a);switch(typeof a){case "string":return s(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=g;l=[];if(Object.prototype.toString.apply(a)==="[object Array]"){w=a.length;for(h=0;h<w;h+=1)l[h]=t(h,a)||"null";f=l.length===0?"[]":i?"[\n"+i+l.join(",\n"+i)+"\n"+x+"]":"["+l.join(",")+"]";i=x;return f}if(n&&typeof n==="object"){w=n.length;for(h=0;h<w;h+=1){o=n[h];if(typeof o==="string")if(f=t(o,a))l.push(s(o)+(i?": ":":")+f)}}else for(o in a)if(Object.hasOwnProperty.call(a,o))if(f=t(o,a))l.push(s(o)+(i?": ":":")+f);f=l.length===0?"{}":i?"{\n"+i+l.join(",\n"+i)+
"\n"+x+"}":"{"+l.join(",")+"}";i=x;return f}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+q(this.getUTCMonth()+1)+"-"+q(this.getUTCDate())+"T"+q(this.getUTCHours())+":"+q(this.getUTCMinutes())+":"+q(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,g,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;if(typeof c.stringify!=="function")c.stringify=function(h,f,o){var w;g=i="";if(typeof o==="number")for(w=0;w<o;w+=1)g+=" ";else if(typeof o==="string")g=o;if((n=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw new Error("JSON.stringify");return t("",
{"":h})};if(typeof c.parse!=="function")c.parse=function(h,f){function o(w,x){var l,a,b=w[x];if(b&&typeof b==="object")for(l in b)if(Object.hasOwnProperty.call(b,l)){a=o(b,l);if(a!==undefined)b[l]=a;else delete b[l]}return f.call(w,x,b)}h=String(h);k.lastIndex=0;if(k.test(h))h=h.replace(k,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){h=eval("("+h+")");return typeof f==="function"?o({"":h},""):h}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var q=Math,s=q.PI,t=q.pow,k=q.sin,m=1.70158,i={easeNone:function(g){return g},easeIn:function(g){return g*g},easeOut:function(g){return(2-g)*g},easeBoth:function(g){return(g*=2)<1?0.5*g*g:0.5*(1- --g*(g-2))},easeInStrong:function(g){return g*g*g*g},easeOutStrong:function(g){return 1- --g*g*g*g},easeBothStrong:function(g){return(g*=2)<1?0.5*g*g*g*g:0.5*(2-(g-=2)*g*g*g)},elasticIn:function(g){if(g===0||g===1)return g;return-(t(2,10*(g-=1))*k((g-0.075)*2*s/0.3))},
elasticOut:function(g){if(g===0||g===1)return g;return t(2,-10*g)*k((g-0.075)*2*s/0.3)+1},elasticBoth:function(g){if(g===0||(g*=2)===2)return g;if(g<1)return-0.5*t(2,10*(g-=1))*k((g-0.1125)*2*s/0.45);return t(2,-10*(g-=1))*k((g-0.1125)*2*s/0.45)*0.5+1},backIn:function(g){if(g===1)g-=0.0010;return g*g*((m+1)*g-m)},backOut:function(g){return(g-=1)*g*((m+1)*g+m)+1},backBoth:function(g){if((g*=2)<1)return 0.5*g*g*(((m*=1.525)+1)*g-m);return 0.5*((g-=2)*g*(((m*=1.525)+1)*g+m)+2)},bounceIn:function(g){return 1-
i.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+0.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+0.9375:7.5625*(g-=2.625/2.75)*g+0.984375},bounceBoth:function(g){if(g<0.5)return i.bounceIn(g*2)*0.5;return i.bounceOut(g*2-1)*0.5+0.5}};c.Easing=i});
KISSY.add("anim",function(c,q){function s(l,a,b,j,d){if(l=c.get(l)){if(!(this instanceof s))return new s(l,a,b,j,d);var e=c.isPlainObject(b);a=a;this.domEl=l;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=t(a);this.targetStyle=a;if(e)l=c.merge(x,b);else{l=c.clone(x);b&&(l.duration=h(b,10)||1);c.isString(j)&&(j=n[j]);c.isFunction(j)&&(l.easing=j);c.isFunction(d)&&(l.complete=d)}this.config=l;c.isFunction(d)&&this.on(w,d)}}function t(l){var a={},b=o.length,j;f.innerHTML='<div style="'+
l+'"></div>';for(l=f.firstChild.style;b--;)if(j=l[o[b]])a[o[b]]=k(j);return a}function k(l){var a=h(l);l=(l+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:l,u:"",f:i}:{v:a,u:l,f:m}}function m(l,a,b){return(l+(a-l)*b).toFixed(3)}function i(l,a,b){for(var j=2,d,e,p=[],u=[];d=3,e=arguments[j-1],j--;)if(g(e,0,4)==="rgb(")for(e=e.match(/\d+/g);d--;)p.push(~~e[d]);else if(g(e,0)==="#"){if(e.length===4)e="#"+g(e,1)+g(e,1)+g(e,2)+g(e,2)+g(e,3)+g(e,3);for(;d--;)p.push(parseInt(g(e,1+d*2,2),16))}else return a;
for(;d--;){j=~~(p[d+3]+(p[d]-p[d+3])*b);u.push(j<0?0:j>255?255:j)}return"rgb("+u.join(",")+")"}function g(l,a,b){return l.substr(a,b||1)}var r=c.DOM,n=c.Easing,h=parseFloat,f=r.create("<div>"),o="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
w="complete",x={duration:1,easing:n.easeNone};c.augment(s,c.EventTarget,{run:function(){var l=this,a=l.config,b=l.domEl,j=a.duration*1E3,d=a.easing,e=c.now(),p=e+j,u=l.props,v={},A;for(A in u)v[A]=k(r.css(b,A));if(l.fire("start")!==false){l.stop();l.timer=c.later(a=function(){var y=c.now(),z=y>p?1:(y-e)/j,B,C,D;for(A in u){B=v[A];C=u[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;r.css(b,A,C.f(B.v,C.v,d(z))+C.u)}if(l.fire("step")===false||(D=y>p)){l.stop();D&&l.fire(w)}},13,true);a();return l}},stop:function(l){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=q}if(l){c.UA.ie&&b.indexOf("opacity")>-1&&r.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(w)}return this}});c.Anim=s});KISSY.add("anim-node-plugin",function(c,q){var s=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(t){t.animate=function(){var k=c.makeArray(arguments);c.each(this,function(m){s.apply(q,[m].concat(k)).run()});return this}})});KISSY.add("core");
(function(){function c(a,b,j,d,e,p){e=0;for(var u=d.length;e<u;e++){var v=d[e];if(v){v=v[a];for(var A=false;v;){if(v.sizcache===j){A=d[v.sizset];break}if(v.nodeType===1&&!p){v.sizcache=j;v.sizset=e}if(v.nodeName.toLowerCase()===b){A=v;break}v=v[a]}d[e]=A}}}function q(a,b,j,d,e,p){e=0;for(var u=d.length;e<u;e++){var v=d[e];if(v){v=v[a];for(var A=false;v;){if(v.sizcache===j){A=d[v.sizset];break}if(v.nodeType===1){if(!p){v.sizcache=j;v.sizset=e}if(typeof b!=="string"){if(v===b){A=true;break}}else if(g.filter(b,
[v]).length>0){A=v;break}}v=v[a]}d[e]=A}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=0,k=Object.prototype.toString,m=false,i=true;[0,0].sort(function(){i=false;return 0});var g=function(a,b,j,d){j=j||[];var e=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return j;var p=[],u,v,A,y,z=true,B=g.isXML(b),C=a,D;do{s.exec("");if(u=s.exec(C)){C=u[3];p.push(u[1]);if(u[2]){y=
u[3];break}}}while(u);if(p.length>1&&n.exec(a))if(p.length===2&&r.relative[p[0]])v=l(p[0]+p[1],b);else for(v=r.relative[p[0]]?[b]:g(p.shift(),b);p.length;){a=p.shift();if(r.relative[a])a+=p.shift();v=l(a,v)}else{if(!d&&p.length>1&&b.nodeType===9&&!B&&r.match.ID.test(p[0])&&!r.match.ID.test(p[p.length-1])){u=g.find(p.shift(),b,B);b=u.expr?g.filter(u.expr,u.set)[0]:u.set[0]}if(b){u=d?{expr:p.pop(),set:o(d)}:g.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&b.parentNode?b.parentNode:b,B);v=u.expr?
g.filter(u.expr,u.set):u.set;if(p.length>0)A=o(v);else z=false;for(;p.length;){u=D=p.pop();if(r.relative[D])u=p.pop();else D="";if(u==null)u=b;r.relative[D](A,u,B)}}else A=[]}A||(A=v);A||g.error(D||a);if(k.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&g.contains(b,A[a])))j.push(v[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&j.push(v[a]);else j.push.apply(j,A);else o(A,j);if(y){g(y,e,j,d);g.uniqueSort(j)}return j};
g.uniqueSort=function(a){if(x){m=i;a.sort(x);if(m)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};g.matches=function(a,b){return g(a,null,null,b)};g.find=function(a,b,j){var d;if(!a)return[];for(var e=0,p=r.order.length;e<p;e++){var u=r.order[e],v;if(v=r.leftMatch[u].exec(a)){var A=v[1];v.splice(1,1);if(A.substr(A.length-1)!=="\\"){v[1]=(v[1]||"").replace(/\\/g,"");d=r.find[u](v,b,j);if(d!=null){a=a.replace(r.match[u],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,
expr:a}};g.filter=function(a,b,j,d){for(var e=a,p=[],u=b,v,A,y=b&&b[0]&&g.isXML(b[0]);a&&b.length;){for(var z in r.filter)if((v=r.leftMatch[z].exec(a))!=null&&v[2]){var B=r.filter[z],C,D;D=v[1];A=false;v.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(u===p)p=[];if(r.preFilter[z])if(v=r.preFilter[z](v,u,j,p,d,y)){if(v===true)continue}else A=C=true;if(v)for(var E=0;(D=u[E])!=null;E++)if(D){C=B(D,v,E,u);var F=d^!!C;if(j&&C!=null)if(F)A=true;else u[E]=false;else if(F){p.push(D);A=true}}if(C!==undefined){j||
(u=p);a=a.replace(r.match[z],"");if(!A)return[];break}}}if(a===e)if(A==null)g.error(a);else break;e=a}return u};g.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var r=g.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var j=typeof b==="string",d=j&&!/\W/.test(b);j=j&&!d;if(d)b=b.toLowerCase();d=0;for(var e=a.length,p;d<e;d++)if(p=a[d]){for(;(p=p.previousSibling)&&p.nodeType!==1;);a[d]=j||p&&p.nodeName.toLowerCase()===
b?p||false:p===b}j&&g.filter(b,a,true)},">":function(a,b){var j=typeof b==="string",d,e=0,p=a.length;if(j&&!/\W/.test(b))for(b=b.toLowerCase();e<p;e++){if(d=a[e]){j=d.parentNode;a[e]=j.nodeName.toLowerCase()===b?j:false}}else{for(;e<p;e++)if(d=a[e])a[e]=j?d.parentNode:d.parentNode===b;j&&g.filter(b,a,true)}},"":function(a,b,j){var d=t++,e=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=b=b.toLowerCase();e=c}e("parentNode",b,d,a,p,j)},"~":function(a,b,j){var d=t++,e=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=
b=b.toLowerCase();e=c}e("previousSibling",b,d,a,p,j)}},find:{ID:function(a,b,j){if(typeof b.getElementById!=="undefined"&&!j)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var j=[];b=b.getElementsByName(a[1]);for(var d=0,e=b.length;d<e;d++)b[d].getAttribute("name")===a[1]&&j.push(b[d]);return j.length===0?null:j}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,j,d,e,p){a=" "+a[1].replace(/\\/g,"")+" ";
if(p)return a;p=0;for(var u;(u=b[p])!=null;p++)if(u)if(e^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))j||d.push(u);else if(j)b[p]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=t++;return a},ATTR:function(a,b,j,d,e,p){b=
a[1].replace(/\\/g,"");if(!p&&r.attrMap[b])a[1]=r.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,j,d,e){if(a[1]==="not")if((s.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=g(a[3],null,null,b);else{a=g.filter(a[3],b,j,true^e);j||d.push.apply(d,a);return false}else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,j){return!!g(j[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,j,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,j){return b<j[3]-0},gt:function(a,b,j){return b>j[3]-0},nth:function(a,b,j){return j[3]-
0===b},eq:function(a,b,j){return j[3]-0===b}},filter:{PSEUDO:function(a,b,j,d){var e=b[1],p=r.filters[e];if(p)return p(a,j,b,d);else if(e==="contains")return(a.textContent||a.innerText||g.getText([a])||"").indexOf(b[3])>=0;else if(e==="not"){b=b[3];j=0;for(d=b.length;j<d;j++)if(b[j]===a)return false;return true}else g.error("Syntax error, unrecognized expression: "+e)},CHILD:function(a,b){var j=b[1],d=a;switch(j){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(j===
"first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":j=b[2];var e=b[3];if(j===1&&e===0)return true;b=b[0];var p=a.parentNode;if(p&&(p.sizcache!==b||!a.nodeIndex)){var u=0;for(d=p.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++u;p.sizcache=b}a=a.nodeIndex-e;return j===0?a===0:a%j===0&&a/j>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var j=b[1];a=r.attrHandle[j]?r.attrHandle[j](a):a[j]!=null?a[j]:a.getAttribute(j);j=a+"";var d=b[2];b=b[4];return a==null?d==="!=":d==="="?j===b:d==="*="?j.indexOf(b)>=0:d==="~="?(" "+j+" ").indexOf(b)>=0:!b?j&&a!==false:d==="!="?j!==b:d==="^="?j.indexOf(b)===0:d==="$="?j.substr(j.length-b.length)===b:d==="|="?j===b||j.substr(0,b.length+1)===b+"-":false},POS:function(a,b,j,d){var e=r.setFilters[b[2]];
if(e)return e(a,j,b,d)}}},n=r.match.POS,h=function(a,b){return"\\"+(b-0+1)};for(var f in r.match){r.match[f]=new RegExp(r.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[f].source.replace(/\\(\d+)/g,h))}var o=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(w){o=function(a,b){b=b||[];var j=0;if(k.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var d=a.length;j<d;j++)b.push(a[j]);else for(;a[j];j++)b.push(a[j]);return b}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)m=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)m=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)m=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)m=true;return a};else if(document.createRange)x=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)m=true;return a.ownerDocument?-1:1}var j=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();j.setStart(a,0);j.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);a=j.compareBoundaryPoints(Range.START_TO_END,d);if(a===0)m=true;return a};g.getText=function(a){for(var b="",j,d=0;a[d];d++){j=a[d];if(j.nodeType===3||j.nodeType===4)b+=j.nodeValue;else if(j.nodeType!==
8)b+=g.getText(j.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var j=document.documentElement;j.insertBefore(a,j.firstChild);if(document.getElementById(b)){r.find.ID=function(d,e,p){if(typeof e.getElementById!=="undefined"&&!p)return(e=e.getElementById(d[1]))?e.id===d[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===d[1]?[e]:undefined:[]};r.filter.ID=function(d,e){var p=typeof d.getAttributeNode!==
"undefined"&&d.getAttributeNode("id");return d.nodeType===1&&p&&p.nodeValue===e}}j.removeChild(a);j=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)r.find.TAG=function(b,j){j=j.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var d=0;j[d];d++)j[d].nodeType===1&&b.push(j[d]);j=b}return j};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")r.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=g,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){g=function(d,e,p,u){e=e||document;if(!u&&e.nodeType===9&&!g.isXML(e))try{return o(e.querySelectorAll(d),p)}catch(v){}return a(d,e,p,u)};for(var j in a)g[j]=a[j];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){r.order.splice(1,0,"CLASS");r.find.CLASS=function(b,j,d){if(typeof j.getElementsByClassName!=="undefined"&&!d)return j.getElementsByClassName(b[1])};a=null}}})();g.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};g.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var l=function(a,b){var j=[],d="",e;for(b=b.nodeType?[b]:b;e=r.match.PSEUDO.exec(a);){d+=e[0];a=a.replace(r.match.PSEUDO,"")}a=r.relative[a]?a+"*":a;e=0;for(var p=b.length;e<p;e++)g(a,b[e],j);return g.filter(d,j)};KISSY.add("sizzle",function(a){a.ExternalSelector=g;a.ExternalSelector._filter=function(b,j){return g.matches(j,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(c,q){function s(h,f){if(!(this instanceof s))return new s(h,f);if(f===q){f=h;h=[i]}c.isArray(h)||(h=[c.get(h)||i]);this.containers=h;this.config=c.merge(n,f);this.callbacks={els:[],fns:[]};this._init()}var t=c.DOM,k=c.Event,m=window,i=document,g="scroll",r="resize",n={mod:"manual",diff:"default",placeholder:"none"};c.augment(s,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var h=this.containers,
f,o,w,x=[],l=[];f=0;for(o=h.length;f<o;++f){w=c.query("img",h[f]);x=x.concat(c.filter(w,this._filterImg,this));w=c.query("textarea",h[f]);l=l.concat(c.filter(w,this._filterArea,this))}this.images=x;this.areaes=l},_filterImg:function(h){var f=h.getAttribute("data-ks-lazyload"),o=this.threshold,w=this.config.placeholder;if(this.config.mod==="manual"){if(f){if(w!=="none")h.src=w;return true}}else if(t.offset(h).top>o&&!f){t.attr(h,"data-ks-lazyload",h.src);if(w!=="none")h.src=w;else h.removeAttribute("src");
return true}},_filterArea:function(h){return t.hasClass(h,"ks-datalazyload")},_initLoadEvent:function(){function h(){o||(o=c.later(function(){f();o=null},100))}function f(){w._loadItems();if(w._getItemsLength()===0){k.remove(m,g,h);k.remove(m,r,h)}}var o,w=this;k.on(m,g,h);k.on(m,r,function(){w.threshold=w._getThreshold();h()});w._getItemsLength()&&c.ready(function(){f()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=c.filter(this.images,
this._loadImg,this)},_loadImg:function(h){var f=this.threshold+t.scrollTop();if(t.offset(h).top<=f)this._loadImgSrc(h);else return true},_loadImgSrc:function(h,f){f=f||"data-ks-lazyload";var o=h.getAttribute(f);if(o&&h.src!=o){h.src=o;h.removeAttribute(f)}},_loadAreas:function(){this.areaes=c.filter(this.areaes,this._loadArea,this)},_loadArea:function(h){var f=t.css(h,"display")==="none";if(t.offset(f?h.parentNode:h).top<=this.threshold+t.scrollTop())this._loadAreaData(h.parentNode,h);else return true},
_loadAreaData:function(h,f){f.style.display="none";f.className="";var o=t.create("<div>");h.insertBefore(o,f);t.html(o,f.value,true)},_fireCallbacks:function(){var h=this.callbacks,f=h.els,o=h.fns,w=this.threshold+t.scrollTop(),x,l,a,b=[],j=[];for(x=0;(l=f[x])&&(a=o[x++]);)if(t.offset(l).top<=w)a.call(l);else{b.push(l);j.push(a)}h.els=b;h.fns=j},addCallback:function(h,f){var o=this.callbacks;if((h=c.get(h))&&c.isFunction(f)){o.els.push(h);o.fns.push(f)}},_getThreshold:function(){var h=this.config.diff,
f=t.viewportHeight();return h==="default"?2*f:f+ +h},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(h,f){var o=this,w,x;c.isArray(h)||(h=[c.get(h)]);c.each(h,function(l){switch(f){case "img-src":x=l.nodeName==="IMG"?[l]:c.query("img",l);c.each(x,function(a){o._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(w=c.get("textarea",l))&&t.hasClass(w,"ks-datalazyload-custom")&&o._loadAreaData(l,w)}})}});c.mix(s,s.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=s},{requires:["core"]});KISSY.add("flash",function(c){c.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(c){function q(){var n;if(navigator.plugins&&navigator.mimeTypes.length)n=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{n=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(h){}if(n)return s(n)}function s(n){return n.match(/(\d)+/g)}function t(n){var h=c.isString(n)?s(n):n;n=n;if(c.isArray(h))n=parseFloat(h[0]+"."+k(h[1],3)+k(h[2],5));return n||0}function k(n,h){for(var f=(n+"").length;f++<h;)n="0"+
n;return n}var m=c.UA,i,g,r=true;m.fpv=function(n){if(n||r){r=false;i=q();g=t(i)}return i};m.fpvGEQ=function(n,h){r&&m.fpv(h);return!!g&&g>=t(n)}},{host:"flash"});
KISSY.add("flash-embed",function(c){function q(n,h,f){var o=t.create("<param>");t.attr(o,{name:h,value:f});n.appendChild(o)}var s=c.UA,t=c.DOM,k=c.Flash,m=/object|embed/i,i=encodeURIComponent,g={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},r={params:{},attrs:{width:215,height:138},version:9};c.mix(k,{fpv:s.fpv,fpvGEQ:s.fpvGEQ,add:function(n,h,f){var o,
w;h=k._normalize(h);h=c.merge(r,h);h.attrs=c.merge(r.attrs,h.attrs);if(n=c.get(n)){if(!n.id)n.id=c.guid("ks-flash-");w=h.attrs.id=n.id;if(s.fpv()){if(!s.fpvGEQ(h.version)){this._callback(f,0,w,n);if(!((o=h.xi)&&c.isString(o)))return;h.src=o}if(m.test(n.nodeName))this._register(n,h,f);else h.src?this._embed(n,h,f):this._callback(f,-3,w,n)}else this._callback(f,-1,w,n)}else this._callback(f,-2)},get:function(n){return k.swfs[n]},remove:function(n){if(n=k.get("#"+n)){t.remove(n);delete k.swfs[n.id];
k.length-=1}},contains:function(n){var h=k.swfs,f,o=false;if(c.isString(n))o=n in h;else for(f in h)if(h[f]===n){o=true;break}return o},_register:function(n,h,f){h=h.attrs.id;if(s.gecko||s.opera)n=c.query("object",n)[0]||n;k._addSWF(h,n);k._callback(f,1,h,n)},_embed:function(n,h,f){var o=k._createSWF(h.src,h.attrs,h.params);if(s.ie)n.outerHTML=o.outerHTML;else n.parentNode.replaceChild(o,n);n=c.get("#"+n.id);k._register(n,h,f)},_callback:function(n,h,f,o){h&&c.isFunction(n)&&n({status:h,id:f,swf:o})},
_addSWF:function(n,h){if(n&&h){k.swfs[n]=h;k.length+=1}},_createSWF:function(n,h,f){var o=t.create("<object>"),w;t.attr(o,h);if(s.ie){t.attr(o,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");q(o,"movie",n)}else t.attr(o,{type:"application/x-shockwave-flash",data:n,name:h.id});for(w in f)w in g&&q(o,w,f[w]);f.flashvars&&q(o,"flashvars",k.toFlashVars(f.flashvars));return o},_normalize:function(n){var h,f,o,w=n;if(c.isPlainObject(n)){w={};for(o in n){h=o.toLowerCase();f=n[o];if(h!=="flashvars")f=
k._normalize(f);w[h]=f}}return w},toFlashVars:function(n){if(!c.isPlainObject(n))return"";var h,f,o=[];for(h in n){f=n[h];if(c.isString(f))f=i(f);else{f=c.JSON.stringify(f);if(!f)continue;f=f.replace(/:"([^"]+)/g,function(w,x){return':"'+i(x)})}o.push(h+"="+f)}return o.join("&").replace(/\"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(c,q){function s(m,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=c.merge(s.Config,i);this.container=c.get(m);this.config=i;this.activeIndex=i.activeIndex;this._init()}var t=c.DOM,k=c.Event;s.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};s.Plugins=[];c.augment(s,c.EventTarget,{_init:function(){var m=this,i=m.config;m._parseMarkup();i.switchTo&&m.switchTo(i.switchTo);i.hasTriggers&&m._bindTriggers();c.each(s.Plugins,function(g){g.init&&g.init(m)})},_parseMarkup:function(){var m=this.container,i=this.config,g,r=[],n=[];switch(i.markupType){case 0:if(g=c.get("."+i.navCls,m))r=t.children(g);g=c.get("."+i.contentCls,m);n=t.children(g);break;case 1:r=c.query("."+i.triggerCls,m);n=c.query("."+
i.panelCls,m);break;case 2:r=i.triggers;n=i.panels;break}m=n.length;this.length=m/i.steps;if(i.hasTriggers&&m>0&&r.length===0)r=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(r);this.panels=c.makeArray(n);this.content=g||n[0].parentNode},_generateTriggersMarkup:function(m){var i=this.config,g=t.create("<ul>"),r,n;g.className=i.navCls;for(n=0;n<m;n++){r=t.create("<li>");if(n===this.activeIndex)r.className=i.activeTriggerCls;r.innerHTML=n+1;g.appendChild(r)}this.container.appendChild(g);
return t.children(g)},_bindTriggers:function(){var m=this,i=m.config,g=m.triggers,r,n,h=g.length;for(n=0;n<h;n++)(function(f){r=g[f];k.on(r,"click",function(){m._onFocusTrigger(f)});if(i.triggerType==="mouse"){k.on(r,"mouseenter",function(){m._onMouseEnterTrigger(f)});k.on(r,"mouseleave",function(){m._onMouseLeaveTrigger(f)})}})(n)},_onFocusTrigger:function(m){if(this._triggerIsValid(m)){this._cancelSwitchTimer();this.switchTo(m)}},_onMouseEnterTrigger:function(m){var i=this;if(i._triggerIsValid(m))i.switchTimer=
c.later(function(){i.switchTo(m)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(m){return this.activeIndex!==m},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=q}},switchTo:function(m,i){var g=this.config,r=this.triggers,n=this.panels,h=this.activeIndex,f=g.steps,o=h*f,w=m*f;if(!this._triggerIsValid(m))return this;if(this.fire("beforeSwitch",{toIndex:m})===false)return this;if(g.hasTriggers)this._switchTrigger(h>
-1?r[h]:null,r[m]);if(i===q)i=m>h?"forward":"backward";this._switchView(n.slice(o,o+f),n.slice(w,w+f),m,i);this.activeIndex=m;return this},_switchTrigger:function(m,i){var g=this.config.activeTriggerCls;m&&t.removeClass(m,g);t.addClass(i,g)},_switchView:function(m,i,g){t.css(m,"display","none");t.css(i,"display","block");this._fireOnSwitch(g)},_fireOnSwitch:function(m){this.fire("switch",{currentIndex:m})},prev:function(){var m=this.activeIndex;this.switchTo(m>0?m-1:this.length-1,"backward")},next:function(){var m=
this.activeIndex;this.switchTo(m<this.length-1?m+1:0,"forward")}});c.Switchable=s},{requires:["core"]});
KISSY.add("autoplay",function(c,q){var s=c.Event,t=c.Switchable;c.mix(t.Config,{autoplay:false,interval:5,pauseOnHover:true});t.Plugins.push({name:"autoplay",init:function(k){function m(){r=c.later(function(){k.paused||k.switchTo(k.activeIndex<k.length-1?k.activeIndex+1:0,"forward")},g,true)}var i=k.config,g=i.interval*1E3,r;if(i.autoplay){if(i.pauseOnHover){s.on(k.container,"mouseenter",function(){if(r){r.cancel();r=q}k.paused=true});s.on(k.container,"mouseleave",function(){k.paused=false;m()})}m()}}})},
{host:"switchable"});
KISSY.add("effect",function(c,q){var s=c.DOM,t=c.Anim,k=c.Switchable,m;c.mix(k.Config,{effect:"none",duration:0.5,easing:"easeNone"});k.Effects={none:function(i,g,r){s.css(i,"display","none");s.css(g,"display","block");r()},fade:function(i,g,r){i.length!==1&&c.error("fade effect only supports steps == 1.");var n=this,h=n.config,f=i[0],o=g[0];n.anim&&n.anim.stop(true);s.css(o,"opacity",1);n.anim=(new t(f,{opacity:0},h.duration,h.easing,function(){n.anim=q;s.css(o,"z-index",9);s.css(f,"z-index",1);
r()})).run()},scroll:function(i,g,r,n){var h=this;i=h.config;g=i.effect==="scrollx";var f={};f[g?"left":"top"]=-(h.viewSize[g?0:1]*n)+"px";h.anim&&h.anim.stop();h.anim=(new t(h.content,f,i.duration,i.easing,function(){h.anim=q;r()})).run()}};m=k.Effects;m.scrollx=m.scrolly=m.scroll;k.Plugins.push({name:"effect",init:function(i){var g=i.config,r=g.effect,n=i.panels,h=i.content,f=g.steps,o=i.activeIndex,w=n.length;i.viewSize=[g.viewSize[0]||n[0].offsetWidth*f,g.viewSize[1]||n[0].offsetHeight*f];if(r!==
"none"){c.each(n,function(b){s.css(b,"display","block")});switch(r){case "scrollx":case "scrolly":s.css(h,"position","absolute");s.css(h.parentNode,"position","relative");if(r==="scrollx"){s.css(n,"float","left");s.width(h,i.viewSize[0]*(w/f))}break;case "fade":var x=o*f,l=x+f-1,a;c.each(n,function(b,j){a=j>=x&&j<=l;s.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(k,{_switchView:function(i,g,r,n){var h=this,f=h.config.effect;(c.isFunction(f)?f:m[f]).call(h,i,g,function(){h._fireOnSwitch(r)},
r,n)}})},{host:"switchable"});
KISSY.add("circular",function(c,q){function s(a,b,j,d,e){var p=this;a=p.config;b=p.length;var u=p.activeIndex,v=a.scrollType===x,A=v?r:n,y=p.viewSize[v?0:1];v=-y*d;var z={},B,C=e===w;if(B=C&&u===0&&d===b-1||e===o&&u===b-1&&d===0)v=t.call(p,p.panels,d,C,A,y);z[A]=v+f;p.anim&&p.anim.stop();p.anim=(new c.Anim(p.content,z,a.duration,a.easing,function(){B&&k.call(p,p.panels,d,C,A,y);p.anim=q;j()})).run()}function t(a,b,j,d,e){var p=this.config.steps;b=this.length;var u=j?b-1:0,v=(u+1)*p;for(p=u*p;p<v;p++){m.css(a[p],
i,g);m.css(a[p],d,(j?-1:1)*e*b)}return j?e:-e*b}function k(a,b,j,d,e){var p=this.config.steps;b=this.length;var u=j?b-1:0,v=(u+1)*p;for(p=u*p;p<v;p++){m.css(a[p],i,h);m.css(a[p],d,h)}m.css(this.content,d,j?-e*(b-1):h)}var m=c.DOM,i="position",g="relative",r="left",n="top",h="",f="px",o="forward",w="backward",x="scrollx",l=c.Switchable;c.mix(l.Config,{circular:false});l.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=a.effect;
a.effect=s}}})},{host:"switchable"});
KISSY.add("lazyload",function(c){var q=c.DOM,s="beforeSwitch",t="img-src",k="area-data",m={},i=c.Switchable;m[t]="data-ks-lazyload-custom";m[k]="ks-datalazyload-custom";c.mix(i.Config,{lazyDataType:k});i.Plugins.push({name:"lazyload",init:function(g){function r(x){var l=f.steps;x=x.toIndex*l;h.loadCustomLazyData(g.panels.slice(x,x+l),o);n()&&g.detach(s,r)}function n(){var x,l,a,b=o===t;if(x=b?"img":o===k?"textarea":""){x=c.query(x,g.container);l=0;for(a=x.length;l<a;l++)if(b?q.attr(x[l],w):q.hasClass(x[l],
w))return false}return true}var h=c.DataLazyload,f=g.config,o=f.lazyDataType,w=m[o];!h||!o||!w||g.on(s,r)}})},{host:"switchable"});KISSY.add("autorender",function(c){c.Switchable.autoRender=function(q,s){q="."+(q||"KS_Widget");c.query(q,s).each(function(t){var k=t.getAttribute("data-widget-type"),m;if(k&&"Switchable Tabs Slide Carousel Accordion".indexOf(k)>-1)try{if(m=t.getAttribute("data-widget-config"))m=m.replace(/'/g,'"');new c[k](t,c.JSON.parse(m))}catch(i){}})}},{host:"switchable"});
KISSY.add("tabs",function(c){function q(s,t){if(!(this instanceof q))return new q(s,t);q.superclass.constructor.call(this,s,t)}c.extend(q,c.Switchable);c.Tabs=q},{host:"switchable"});KISSY.add("slide",function(c){function q(t,k){if(!(this instanceof q))return new q(t,k);q.superclass.constructor.call(this,t,c.merge(s,k))}var s={autoplay:true,circular:true};c.extend(q,c.Switchable);c.Slide=q},{host:"switchable"});
KISSY.add("carousel",function(c,q){function s(h,f){var o=this;if(!(o instanceof s))return new s(h,f);o.on("init",function(){t(o)});s.superclass.constructor.call(o,h,c.merge(n,f))}function t(h){var f=h.config,o=f.disableBtnCls;c.each(["prev","next"],function(w){var x=h[w+"Btn"]=c.get(i+f[w+"BtnCls"],h.container);m.on(x,"click",function(l){l.preventDefault();k.hasClass(x,o)||h[w]()})});f.circular||h.on("switch",function(w){w=w.currentIndex;w=w===0?h[g]:w===h.length-1?h[r]:q;k.removeClass([h[g],h[r]],
o);w&&k.addClass(w,o)});m.on(h.panels,"click focus",function(){h.fire("itemSelected",{item:this})})}var k=c.DOM,m=c.Event,i=".",g="prevBtn",r="nextBtn",n={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(s,c.Switchable);c.Carousel=s},{host:"switchable"});
KISSY.add("accordion",function(c){function q(k,m){if(!(this instanceof q))return new q(k,m);q.superclass.constructor.call(this,k,c.merge(t,m));if(this.config.multiple)this._switchTrigger=function(){}}var s=c.DOM,t={markupType:1,triggerType:"click",multiple:false};c.extend(q,c.Switchable);c.Accordion=q;c.augment(q,{_triggerIsValid:function(k){return this.activeIndex!==k||this.config.multiple},_switchView:function(k,m,i){var g=this.config,r=m[0];if(g.multiple){s.toggleClass(this.triggers[i],g.activeTriggerCls);
s.css(r,"display",r.style.display=="none"?"block":"none");this._fireOnSwitch(i)}else q.superclass._switchView.call(this,k,m,i)}})},{host:"switchable"});
KISSY.add("suggest",function(c,q){function s(d,e,p){if(!(this instanceof s))return new s(d,e,p);this.textInput=c.get(d);e+=e.indexOf("?")===-1?"?":"&";this.dataSource=e+"code=utf-8&callback="+w;this.config=c.merge(j,p);this.queryParams=this.query=x;this._dataCache={};this._init()}function t(d){d.style.visibility=x}function k(d){d.style.visibility=l}function m(d,e){if(e.nodeType===1){i.html(d,x);d.appendChild(e)}else i.html(d,e)}var i=c.DOM,g=c.Event,r=window,n=document,h,f=c.get("head"),o=c.UA.ie,
w="g_ks_suggest_callback",x="",l="hidden",a=parseInt,b=/^(input|button|a)$/i,j={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:o===6,submitOnSelect:true};c.augment(s,c.EventTarget,{_init:function(){h=n.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var d=this,e=d.textInput,p=false,u=0;i.attr(e,"autocomplete","off");d.config.autoFocus&&e.focus();g.on(e,"keydown",function(v){v=
v.keyCode;if(v===27){d.hide();e.value=d.query}else if(v>32&&v<41)if(e.value){if(v===40||v===38)if(u++===0){d._isRunning&&d.stop();p=true;d._selectItem(v===40)}else if(u==3)u=0}else e.blur();else if(v===13){e.blur();if(p)if(e.value==d._getSelectedItemKey())if(d.fire("itemSelect")===false)return;d._submitForm()}else{d._isRunning||d.start();p=false}});g.on(e,"keyup",function(){u=0});g.on(e,"blur",function(){d.stop();c.later(function(){d._focusing||d.hide()},0)})},_initContainer:function(){var d=i.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),e=i.create("<div>",{"class":"ks-suggest-content"}),p=i.create("<div>",{"class":"ks-suggest-footer"});d.appendChild(e);d.appendChild(p);h.insertBefore(d,h.firstChild);this.container=d;this.content=e;this.footer=p;this._initContainerEvent()},_setContainerRegion:function(){var d=this.textInput,e=i.offset(d),p=this.container;i.offset(p,{left:e.left,top:e.top+d.offsetHeight-1});i.width(p,this.config.containerWidth||
d.offsetWidth-2)},_initContainerEvent:function(){var d=this,e=d.textInput,p=d.container,u=d.content,v=d.footer,A,y;g.on(u,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");if(i.contains(u,z))if(z!==d.selectedItem){d._removeSelectedItem();d._setSelectedItem(z)}});g.on(u,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");A=z});g.on(p,"mousedown",function(z){if(!b.test(z.target.nodeName)){e.onbeforedeactivate=function(){r.event.returnValue=false;e.onbeforedeactivate=
null};z.preventDefault()}});g.on(u,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=i.parent(B,"li");if(B==A)if(i.contains(u,B)){d._updateInputFromSelectItem(B);if(d.fire("itemSelect")!==false){e.blur();d._submitForm()}}}});g.on(v,"focusin",function(){d._focusing=true;d._removeSelectedItem();y=false});g.on(v,"focusout",function(){d._focusing=false;c.later(function(){if(y)d.hide();else d._focusing||d.textInput.focus()},0)});g.on(d.container,"mouseleave",function(){y=true});
g.on(v,"click",function(z){i.hasClass(z.target,"ks-suggest-closebtn")&&d.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var d=this.textInput.form;if(d)if(this.fire("beforeSubmit",{form:d})!==false){if(n.createEvent){var e=n.createEvent("MouseEvents");e.initEvent("submit",true,false);d.dispatchEvent(e)}else n.createEventObject&&d.fireEvent("onsubmit");d.submit()}}},_initShim:function(){var d=i.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=d;h.insertBefore(d,h.firstChild)},_setShimRegion:function(){var d=this.container,e=d.style,p=d.shim;p&&i.css(p,{left:a(e.left)-2,top:e.top,width:a(e.width)+2,height:i.height(d)-2})},_initStyle:function(){c.get("#ks-suggest-style")||i.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var d=this;g.on(r,"resize",function(){d._setContainerRegion();d._setShimRegion()})},start:function(){var d=this;if(d.fire("beforeStart")!==false){s.focusInstance=d;d._timer=c.later(function(){d._updateContent();d._timer=c.later(arguments.callee,200)},200);d._isRunning=true}},stop:function(){s.focusInstance=q;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var d=this.container,e=d.shim;this._setContainerRegion();
t(d);if(e){this._setShimRegion();t(e)}}},hide:function(){if(this.isVisible()){var d=this.container,e=d.shim;e&&k(e);k(d)}},isVisible:function(){return this.container.style.visibility!=l},_updateContent:function(){var d=this.textInput;if(d.value!=this.query){d=this.query=d.value;if(c.trim(d))if(this._dataCache[d]!==q){this._fillContainer(this._dataCache[d]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var d=this,e;if(!o)d.dataScript=
q;if(!d.dataScript){e=n.createElement("script");e.charset="utf-8";e.async=true;f.insertBefore(e,f.firstChild);d.dataScript=e;if(!o){var p=c.now();d._latestScriptTime=p;i.attr(e,"data-time",p);g.on(e,"load",function(){d._scriptDataIsOut=i.attr(e,"data-time")!=d._latestScriptTime})}}d.queryParams="q="+encodeURIComponent(d.query);if(d.fire("beforeDataRequest")!==false)d.dataScript.src=d.dataSource+"&"+d.queryParams},_handleResponse:function(d){var e=x,p,u,v,A;if(!this._scriptDataIsOut){this.returnedData=
d;if(this.fire("dataReturn",{data:d})!==false){d=this._formatData(this.returnedData);if((p=d.length)>0){u=i.create("<ol>");for(e=0;e<p;++e){v=d[e];v=this._formatItem(A=v.key,v.result);i.attr(v,"key",A);i.addClass(v,e%2?"ks-even":"ks-odd");u.appendChild(v)}e=u}this._fillContainer(e);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=i.html(this.content);this._displayContainer()}}}},_formatData:function(d){var e=[],p,u,v,A=0;if(!d)return e;if(c.isArray(d.result))d=d.result;if(!(p=d.length))return e;
for(v=0;v<p;++v){u=d[v];if(c.isString(u))e[A++]={key:u};else if(c.isArray(u)&&u.length>1)e[A++]={key:u[0],result:u[1]}}return e},_formatItem:function(d,e){var p=i.create("<li>"),u=i.create("<span>",{"class":"ks-suggest-key"});i.html(u,d);p.appendChild(u);if(e){d=this.config.resultFormat.replace("%result%",e);if(c.trim(d)){e=i.create("<span>",{"class":"ks-suggest-result"});i.html(e,d);p.appendChild(e)}}return p},_fillContainer:function(d,e){this._fillContent(d||x);this._fillFooter(e||x)},_fillContent:function(d){m(this.content,
d);this.selectedItem=q},_fillFooter:function(d){var e=this.config,p=this.footer;m(p,d);if(e.closeBtn){d=i.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});i.html(d,e.closeBtnText);p.appendChild(d)}this.fire("updateFooter",{footer:p,query:this.query});i.css(p,"display",i.text(p)?x:"none")},_displayContainer:function(){c.trim(i.text(this.container))?this.show():this.hide()},_selectItem:function(d){var e=c.query("li",this.container);if(e.length!==0)if(this.isVisible()){if(this.selectedItem){d=
i[d?"next":"prev"](this.selectedItem);if(!d)this.textInput.value=this.query}else d=e[d?0:e.length-1];this._removeSelectedItem();if(d){this._setSelectedItem(d);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){i.removeClass(this.selectedItem,"ks-selected");this.selectedItem=q},_setSelectedItem:function(d){i.addClass(d,"ks-selected");this.selectedItem=d;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return i.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});r[w]=function(d){s.focusInstance&&c.later(function(){s.focusInstance._handleResponse(d)},0)};s.version=1.1;c.Suggest=s},{requires:["core"]});
KISSY.add("mask",function(c,q){function s(m){if(!(this instanceof s))return new s(m);m=c.merge(k,m);t.addStyleSheet(".ks-mask{position:absolute;left:0;top:0;width:100%;border:0;background:black;z-index:9998;display:none}.ks-shim{position:absolute;z-index:9997;border:0;display:none}","ks-mask-style");var i=m.shim,g=t.create("<iframe>",{"class":i?"ks-shim":"ks-mask "+m.extraCls});if(i)m.opacity=0;else t.height(g,t.docHeight());t.css(g,"opacity",m.opacity);document.body.appendChild(g);this.config=m;
this.iframe=g}var t=c.DOM,k={shim:false,opacity:0.6,extraCls:""};c.augment(s,{show:function(){t.css(this.iframe,"display","block")},hide:function(){t.css(this.iframe,"display","none")},toggle:function(){this[t.css(this.iframe,"display")!=="none"?"hide":"show"]()},setSize:function(m,i){t.width(this.iframe,m);t.height(this.iframe,i)},setOffset:function(m,i){var g=m;if(i!==q)g={left:m,top:i};t.offset(this.iframe,g)}});c.Mask=s});
KISSY.add("overlay",function(c,q){function s(n,h){h=h||{};if(c.isPlainObject(n))h=n;else h.container=n;this.container=c.get(h.container);this.trigger=c.get(h.trigger);h.align=c.merge(c.clone(g.align),h.align);this.config=c.merge(g,h);this._init()}var t=document,k=c.DOM,m=c.Event,i={TL:"tl",TC:"tc",TR:"tr",LC:"cl",CC:"cc",RC:"cr",BL:"bl",BC:"bc",BR:"br"},g={container:null,containerCls:"ks-overlay",bdCls:"ks-overlay-bd",trigger:null,triggerType:"click",width:0,height:0,zIndex:9999,xy:null,align:{node:null,
points:[i.CC,i.CC],offset:[0,0]},mask:false,shim:c.UA.ie===6},r;c.augment(s,c.EventTarget,{_init:function(){this.trigger&&this._bindTrigger()},_bindTrigger:function(){this.config.triggerType==="mouse"?this._bindTriggerMouse():this._bindTriggerClick()},_bindTriggerMouse:function(){var n=this,h=n.trigger,f;m.on(h,"mouseenter",function(){f=c.later(function(){n.show();f=q},100)});m.on(h,"mouseleave",function(){if(f){f.cancel();f=q}n.hide()})},_bindTriggerClick:function(){var n=this;m.on(n.trigger,"click",
function(){n.show()})},show:function(){this._firstShow()},_firstShow:function(){this._prepareMarkup();this._realShow();this._firstShow=this._realShow},_realShow:function(){this._toggle(false)},_toggle:function(n){k.css(this.container,"visibility",n?"hidden":"");this.shim&&this.shim.toggle();if(this.config.mask)r[n?"hide":"show"]();this[n?"_unbindUI":"_bindUI"]();this.fire(n?"hide":"show")},hide:function(){this._toggle(true)},_prepareMarkup:function(){var n=this.config,h=this.container;if(n.mask&&
!r)r=new c.Mask;if(n.shim)this.shim=new c.Mask({shim:true});if(h){this.body=c.get("."+n.bdCls,h)||h;h.style.cssText+="position:absolute;visibility:hidden"}else{h=this.container=k.create(c.substitute('<div class="{containerCls}" style="position:absolute;visibility:hidden"><div class="{bdCls}">{bdContent}</div></div>',n));this.body=k.children(h)[0];t.body.appendChild(h)}k.css(h,"zIndex",n.zIndex);k.css(h,"display","");this.setBody(n.content);this._setSize();this._setPosition()},_setSize:function(n,
h){var f=this.config;n=n||f.width;h=h||f.height;n&&k.width(this.container,n);h&&k.height(this.container,h);this.shim&&this.shim.setSize(n,h)},_setPosition:function(){var n=this.config.xy;n?this.move(n):this.align()},move:function(n,h){if(c.isArray(n)){h=n[1];n=n[0]}n={left:n,top:h};k.offset(this.container,n);this.shim&&this.shim.setOffset(n)},align:function(n,h,f){var o=this.config.align;n=n||o.node;n=n==="trigger"?this.trigger:c.get(n);h=h||o.points;f=f===q?o.offset:f;o=k.offset(this.container);
n=this._getAlignOffset(n,h[0]);h=this._getAlignOffset(this.container,h[1]);h=[h.left-n.left,h.top-n.top];this.move(o.left-h[0]+ +f[0],o.top-h[1]+ +f[1])},_getAlignOffset:function(n,h){var f=h.charAt(0);h=h.charAt(1);var o,w,x;if(n){o=k.offset(n);w=n.offsetWidth;n=n.offsetHeight}else{o={left:k.scrollLeft(),top:k.scrollTop()};w=k.viewportWidth();n=k.viewportHeight()}x=o.left;o=o.top;if(f==="c")o+=n/2;else if(f==="b")o+=n;if(h==="c")x+=w/2;else if(h==="r")x+=w;return{left:x,top:o}},center:function(){this.move((k.viewportWidth()-
k.width(this.container))/2+k.scrollLeft(),(k.viewportHeight()-k.height(this.container))/2+k.scrollTop())},_bindUI:function(){m.on(t,"keydown",this._esc,this)},_unbindUI:function(){m.remove(t,"keydown",this._esc,this)},_esc:function(n){n.keyCode===27&&this.hide()},setBody:function(n){c.isString(n)&&k.html(this.body,n)}});c.Overlay=s});
KISSY.add("popup",function(c){function q(t,k){if(!(this instanceof q))return new q(t,k);k.align=c.merge(c.clone(s.align),k.align);q.superclass.constructor.call(this,t,c.merge(s,k))}var s={triggerType:"mouse",align:{node:"trigger",points:["cr","ct"],offset:[10,0]}};c.extend(q,c.Overlay);c.Popup=q},{host:"overlay"});
