/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 14 19:10
*/
(function(c,q,s){if(c[q]===s)c[q]={};q=c[q];var v=c.document,o=location,k=function(e,n,t,x){if(!n||!e)return e;if(t===s)t=true;var j,a,b;if(x&&(b=x.length))for(j=0;j<b;j++){a=x[j];if(a in n)if(t||!(a in e))e[a]=n[a]}else for(a in n)if(t||!(a in e))e[a]=n[a];return e},m=false,h=[],r=false,l=/^#?([\w-]+)$/,i=0;k(q,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var e=v.getElementsByTagName("script");this.Config={debug:"",base:e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(e){r||this._bindReady();m?e.call(c,this):h.push(e);return this},_bindReady:function(){var e=this,n=v.documentElement.doScroll,t=n?"onreadystatechange":"DOMContentLoaded",x=function(){e._fireReady()};r=true;if(v.readyState==="complete")return x();if(v.addEventListener){var j=function(){v.removeEventListener(t,j,false);x()};v.addEventListener(t,j,false);c.addEventListener("load",x,false)}else{var a=function(){if(v.readyState==="complete"){v.detachEvent(t,a);x()}};v.attachEvent(t,
a);c.attachEvent("onload",x);if(c==c.top){var b=function(){try{n("left");x()}catch(g){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!m){m=true;if(h){for(var e,n=0;e=h[n++];)e.call(c,this);h=null}}},available:function(e,n){if((e=(e+"").match(l)[1])&&q.isFunction(n))var t=1,x=q.later(function(){if(v.getElementById(e)&&(n()||1)||++t>500)x.cancel()},40,true)},mix:k,merge:function(){var e={},n,t=arguments.length;for(n=0;n<t;++n)k(e,arguments[n]);return e},augment:function(){var e=arguments,n=e.length-
2,t=e[0],x=e[n],j=e[n+1],a=1;if(!q.isArray(j)){x=j;j=s;n++}if(!q.isBoolean(x)){x=s;n++}for(;a<n;a++)k(t.prototype,e[a].prototype||e[a],x,j);return t},extend:function(e,n,t,x){if(!n||!e)return e;var j=Object.prototype,a=n.prototype,b=function(g){function d(){}d.prototype=g;return new d}(a);e.prototype=b;b.constructor=e;e.superclass=a;if(n!==Object&&a.constructor===j.constructor)a.constructor=n;t&&k(b,t);x&&k(e,x);return e},namespace:function(){var e=arguments.length,n=null,t,x,j;for(t=0;t<e;++t){j=
(""+arguments[t]).split(".");n=this;for(x=c[j[0]]===n?1:0;x<j.length;++x)n=n[j[x]]=n[j[x]]||{}}return n},app:function(e,n){var t=q.isString(e),x=t?c[e]||{}:e;k(x,this,true,q.__APP_MEMBERS);x.__init();k(x,q.isFunction(n)?n():n);t&&(c[e]=x);return x},log:function(e,n,t){if(q.Config.debug){if(t)e=t+": "+e;if(c.console!==s&&console.log)console[n&&console[n]?n:"log"](e)}},error:function(e){if(q.Config.debug)throw e;},guid:function(e){var n=i++ +"";return e?e+n:n}});q.__init();q.__APP_MEMBERS=["__init",
"namespace"];if(o&&(o.search||"").indexOf("ks-debug")!==-1)q.Config.debug=true})(window,"KISSY");
(function(c,q,s){function v(f){var p=typeof f;return f===null||p!=="object"&&p!=="function"}function o(f){return h.slice.call(f)}var k=document,m=k.documentElement,h=Array.prototype,r=h.indexOf,l=h.lastIndexOf,i=h.filter,e=String.prototype.trim,n=Object.prototype.toString,t=encodeURIComponent,x=decodeURIComponent,j=t("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,g=/\S/;q.mix(q,{isUndefined:function(f){return f===s},isBoolean:function(f){return n.call(f)==="[object Boolean]"},isString:function(f){return n.call(f)===
"[object String]"},isNumber:function(f){return n.call(f)==="[object Number]"&&isFinite(f)},isPlainObject:function(f){return f&&n.call(f)==="[object Object]"&&!f.nodeType&&!f.setInterval},isEmptyObject:function(f){for(var p in f)return false;return true},isFunction:function(f){return n.call(f)==="[object Function]"},isArray:function(f){return n.call(f)==="[object Array]"},trim:e?function(f){return f==s?"":e.call(f)}:function(f){return f==s?"":f.toString().replace(a,"")},substitute:function(f,p,u){if(!q.isString(f)||
!q.isPlainObject(p))return f;return f.replace(u||/\\?\{([^{}]+)\}/g,function(w,y){if(w.charAt(0)==="\\")return w.slice(1);return p[y]!==s?p[y]:""})},each:function(f,p,u){var w,y=0,A=f.length,z=A===s||q.isFunction(f);u=u||c;if(z)for(w in f){if(p.call(u,f[w],w,f)===false)break}else for(w=f[0];y<A&&p.call(u,w,y,f)!==false;w=f[++y]);return f},indexOf:r?function(f,p){return r.call(p,f)}:function(f,p){for(var u=0,w=p.length;u<w;++u)if(p[u]===f)return u;return-1},lastIndexOf:l?function(f,p){return l.call(p,
f)}:function(f,p){for(var u=p.length-1;u>=0;u--)if(p[u]===f)break;return u},unique:function(f,p){p&&f.reverse();f=f.slice();for(var u=0,w,y;u<f.length;){for(y=f[u];(w=q.lastIndexOf(y,f))!==u;)f.splice(w,1);u+=1}p&&f.reverse();return f},inArray:function(f,p){return q.indexOf(f,p)>-1},makeArray:function(f){if(f===null||f===s)return[];if(q.isArray(f))return f;if(typeof f.length!=="number"||q.isString(f)||q.isFunction(f))return[f];return o(f)},filter:i?function(f,p,u){return i.call(f,p,u)}:function(f,
p,u){var w=[];q.each(f,function(y,A,z){p.call(u,y,A,z)&&w.push(y)});return w},param:function(f,p){if(!q.isPlainObject(f))return"";p=p||"&";var u=[],w,y;for(w in f){y=f[w];w=t(w);if(v(y))u.push(w,"=",t(y+""),p);else if(q.isArray(y)&&y.length)for(var A=0,z=y.length;A<z;++A)v(y[A])&&u.push(w,j+"=",t(y[A]+""),p)}u.pop();return u.join("")},unparam:function(f,p){if(typeof f!=="string"||(f=q.trim(f)).length===0)return{};var u={};f=f.split(p||"&");for(var w,y,A,z=0,B=f.length;z<B;++z){p=f[z].split("=");w=
x(p[0]);try{y=x(p[1]||"")}catch(C){y=p[1]||""}if((A=w.match(b))&&A[1]){u[A[1]]=u[A[1]]||[];u[A[1]].push(y)}else u[w]=y}return u},later:function(f,p,u,w,y){p=p||0;w=w||{};var A=f,z=q.makeArray(y),B;if(q.isString(f))A=w[f];A||q.error("method undefined");f=function(){A.apply(w,z)};B=u?setInterval(f,p):setTimeout(f,p);return{id:B,interval:u,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(f){var p=f,u,w;if(f&&((u=q.isArray(f))||q.isPlainObject(f))){p=u?[]:{};for(w in f)if(f.hasOwnProperty(w))p[w]=
q.clone(f[w])}return p},now:function(){return(new Date).getTime()},globalEval:function(f){if(f&&g.test(f)){var p=k.getElementsByTagName("head")[0]||m,u=k.createElement("script");u.text=f;p.insertBefore(u,p.firstChild);p.removeChild(u)}}});try{o(m.childNodes)}catch(d){o=function(f){for(var p=[],u=f.length-1;u>=0;u--)p[u]=f[u];return p}}})(window,KISSY);
(function(c,q,s){var v=c.document,o=v.getElementsByTagName("head")[0]||v.documentElement,k=2,m=3,h=4,r=q.mix,l=v.createElement("script").readyState?function(e,n){var t=e.onreadystatechange;e.onreadystatechange=function(){var x=e.readyState;if(x==="loaded"||x==="complete"){e.onreadystatechange=null;t&&t();n.call(this)}}}:function(e,n){e.addEventListener("load",n,false)},i=/\.css(?:\?|$)/i;c={add:function(e,n,t){var x=this.Env.mods,j;if(q.isString(e)&&!t&&q.isPlainObject(n)){j={};j[e]=n;e=j}if(q.isPlainObject(e)){q.each(e,
function(a,b){a.name=b;x[b]&&r(a,x[b],false)});r(x,e)}else{t=t||{};j=x[e]||{};e=t.host||j.host||e;j=x[e]||{};r(j,{name:e,status:k});if(!j.fns)j.fns=[];n&&j.fns.push(n);r(x[e]=j,t);j.attach!==false&&this.__isAttached(j.requires)&&this.__attachMod(j)}return this},use:function(e,n,t){e=e.replace(/\s+/g,"").split(",");t=t||{};var x=this,j=x.Env.mods,a=(t||0).global,b,g=e.length,d,f,p;a&&x.__mixMods(a);if(x.__isAttached(e))n&&n(x);else{for(b=0;b<g&&(d=j[e[b]]);b++)if(d.status!==h){if(t.order&&b>0){if(!d.requires)d.requires=
[];d._requires=d.requires.concat();f=e[b-1];if(!q.inArray(f,d.requires)&&!q.inArray(d.name,j[f].requires||[]))d.requires.push(f)}x.__attach(d,function(){if(!p&&x.__isAttached(e)){p=true;if(d._requires)d.requires=d._requires;n&&n(x)}},a)}return x}},__attach:function(e,n,t){function x(){if(j.__isAttached(a)){e.status===k&&j.__attachMod(e);e.status===h&&n()}}for(var j=this,a=e.requires||[],b=0,g=a.length;b<g;b++)j.__attach(j.Env.mods[a[b]],x,t);j.__buildPath(e);j.__load(e,x,t)},__mixMods:function(e){var n=
this.Env.mods,t=e.Env.mods,x;for(x in t)this.__mixMod(n,t,x,e)},__mixMod:function(e,n,t,x){var j=e[t]||{},a=j.status;q.mix(j,q.clone(n[t]));if(a)j.status=a;x&&this.__buildPath(j,x.Config.base);e[t]=j},__attachMod:function(e){var n=this;if(e.fns){q.each(e.fns,function(t){t&&t(n)});e.fns=s}e.status=h},__isAttached:function(e){for(var n=this.Env.mods,t,x=(e=q.makeArray(e)).length-1;x>=0&&(t=n[e[x]]);x--)if(t.status!==h)return false;return true},__load:function(e,n,t){function x(){j();if(e.status!==m){t&&
a.__mixMod(a.Env.mods,t.Env.mods,e.name,t);if(e.status!==h)e.status=k;n()}}function j(){g[b]=k}var a=this,b=e.fullpath,g=q.Env._loadQueue,d=g[b];e.status=e.status||0;if(e.status<1&&d)e.status=d.nodeName?1:k;if(q.isString(e.cssfullpath)){a.getScript(e.cssfullpath);e.cssfullpath=k}if(e.status<1&&b){e.status=1;d=a.getScript(b,{success:function(){KISSY.log(e.name+" is loaded.","info");x()},error:function(){e.status=m;j()},charset:e.charset});i.test(b)||(g[b]=d)}else e.status===1?l(d,x):n()},__buildPath:function(e,
n){function t(j,a){if(!e[a]&&e[j])e[a]=(n||x.base)+e[j];if(e[a]&&x.debug)e[a]=e[a].replace(/-min/g,"")}var x=this.Config;t("path","fullpath");e.cssfullpath!==k&&t("csspath","cssfullpath")},getScript:function(e,n,t){var x=i.test(e),j=v.createElement(x?"link":"script"),a=n,b,g,d;if(q.isPlainObject(a)){n=a.success;b=a.error;g=a.timeout;t=a.charset}if(x){j.href=e;j.rel="stylesheet"}else{j.src=e;j.async=true}if(t)j.charset=t;if(q.isFunction(n))x?n.call(j):l(j,function(){if(d){d.cancel();d=s}n.call(j)});
if(q.isFunction(b))d=q.later(function(){d=s;b()},(g||this.Config.timeout)*1E3);o.insertBefore(j,o.firstChild);return j}};r(q,c);q.each(c,function(e,n){q.__APP_MEMBERS.push(n)})})(window,KISSY);(function(c){var q={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom"],function(s){q[s]={path:s+"/"+s+"-pkg-min.js",requires:["core"],charset:"utf-8"}});c.add(q)})(KISSY);
KISSY.add("ua",function(c){var q=navigator.userAgent,s="",v="",o,k={},m=function(h){var r=0;return parseFloat(h.replace(/\./g,function(){return r++===0?".":""}))};if((o=q.match(/AppleWebKit\/([\d.]*)/))&&o[1]){k[s="webkit"]=m(o[1]);if((o=q.match(/Chrome\/([\d.]*)/))&&o[1])k[v="chrome"]=m(o[1]);else if((o=q.match(/\/([\d.]*) Safari/))&&o[1])k[v="safari"]=m(o[1]);if(/ Mobile\//.test(q))k.mobile="apple";else if(o=q.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=o[0].toLowerCase()}else if((o=
q.match(/Presto\/([\d.]*)/))&&o[1]){k[s="presto"]=m(o[1]);if((o=q.match(/Opera\/([\d.]*)/))&&o[1]){k[v="opera"]=m(o[1]);if((o=q.match(/Opera\/.* Version\/([\d.]*)/))&&o[1])k[v]=m(o[1]);if((o=q.match(/Opera Mini[^;]*/))&&o)k.mobile=o[0].toLowerCase();else if((o=q.match(/Opera Mobi[^;]*/))&&o)k.mobile=o[0]}}else if((o=q.match(/MSIE\s([^;]*)/))&&o[1]){k[s="trident"]=0.1;k[v="ie"]=m(o[1]);if((o=q.match(/Trident\/([\d.]*)/))&&o[1])k[s]=m(o[1])}else if(o=q.match(/Gecko/)){k[s="gecko"]=0.1;if((o=q.match(/rv:([\d.]*)/))&&
o[1])k[s]=m(o[1]);if((o=q.match(/Firefox\/([\d.]*)/))&&o[1])k[v="firefox"]=m(o[1])}k.core=s;k.shell=v;k._numberify=m;c.UA=k});
KISSY.add("ua-extra",function(c){var q=c.UA,s=navigator.userAgent,v,o,k={},m=q._numberify;if(s.match(/360SE/))k[o="se360"]=3;else if(s.match(/Maxthon/)&&(v=window.external)){o="maxthon";try{k[o]=m(v.max_version)}catch(h){k[o]=0.1}}else if(v=s.match(/TencentTraveler\s([\d.]*)/))k[o="tt"]=v[1]?m(v[1]):0.1;else if(s.match(/TheWorld/))k[o="theworld"]=3;else if(v=s.match(/SE\s([\d.]*)/))k[o="sougou"]=v[1]?m(v[1]):0.1;o&&(k.shell=o);c.mix(q,k)});
KISSY.add("dom",function(c,q){function s(v,o){return v&&v.nodeType===o}c.DOM={_isElementNode:function(v){return s(v,1)},_isKSNode:function(v){return c.Node&&s(v,c.Node.TYPE)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:s(v,9)?v.defaultView||v.parentWindow:v===q?window:false},_nodeTypeIs:s}});
KISSY.add("selector",function(c,q){function s(b,g){var d,f=[],p,u;g=o(g);if(c.isString(b)){b=c.trim(b);if(j.test(b)){if(b=k(b.slice(1),g))f=[b]}else if(d=a.exec(b)){p=d[1];u=d[2];d=d[3];if(g=p?k(p,g):g)if(d)if(!p||b.indexOf(e)!==-1)f=h(d,u,g);else{if((b=k(p,g))&&i.hasClass(b,d))f=[b]}else if(u)f=m(u,g)}else if(c.ExternalSelector)return c.ExternalSelector(b,g);else r(b)}else if(b&&(b[t]||b[x]))f=b[t]?[b[t]()]:b[x]();else if(b&&(c.isArray(b)||v(b)))f=b;else if(b)f=[b];if(v(f))f=c.makeArray(f);f.each=
function(w,y){return c.each(f,w,y)};return f}function v(b){return b&&!b.nodeType&&b.item&&b!=window}function o(b){if(b===q)b=l;else if(c.isString(b)&&j.test(b))b=k(b.slice(1),l);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function k(b,g){if(g.nodeType!==9)g=g.ownerDocument;return g.getElementById(b)}function m(b,g){return g.getElementsByTagName(b)}function h(b,g,d){d=b=d.getElementsByClassName(b);var f=0,p=0,u=b.length,w;if(g&&g!==n){d=[];for(g=g.toUpperCase();f<u;++f){w=b[f];if(w.tagName===
g)d[p++]=w}}return d}function r(b){c.error("Unsupported selector: "+b)}var l=document,i=c.DOM,e=" ",n="*",t="getDOMNode",x=t+"s",j=/^#[\w-]+$/,a=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=l.createElement("div");b.appendChild(l.createComment(""));if(b.getElementsByTagName(n).length>0)m=function(g,d){d=d.getElementsByTagName(g);if(g===n){g=[];for(var f=0,p=0,u;u=d[f++];)if(u.nodeType===1)g[p++]=u;d=g}return d}})();l.getElementsByClassName||(h=l.querySelectorAll?function(b,g,d){return d.querySelectorAll((g?
g:"")+"."+b)}:function(b,g,d){g=d.getElementsByTagName(g||n);d=[];var f=0,p=0,u=g.length,w,y;for(b=e+b+e;f<u;++f){w=g[f];if((y=w.className)&&(e+y+e).indexOf(b)>-1)d[p++]=w}return d});c.query=s;c.get=function(b,g){return s(b,g)[0]||null};c.mix(i,{query:s,get:c.get,filter:function(b,g){var d=s(b),f,p,u,w=[];if(c.isString(g)&&(f=a.exec(g))&&!f[1]){p=f[2];u=f[3];g=function(y){return!(p&&y.tagName!==p.toUpperCase()||u&&!i.hasClass(y,u))}}if(c.isFunction(g))w=c.filter(d,g);else if(g&&c.ExternalSelector)w=
c.ExternalSelector._filter(b,g);else r(g);return w},test:function(b,g){b=s(b);return i.filter(b,g).length===b.length}})});
KISSY.add("dom-data",function(c,q){function s(l){return l&&l.nodeType}var v=window,o=c.DOM,k="_ks_data_"+c.now(),m={},h={},r={EMBED:1,OBJECT:1,APPLET:1};c.mix(o,{data:function(l,i,e){if(c.isPlainObject(i))for(var n in i)o.data(l,n,i[n]);else if(e===q){l=c.get(l);if(l==v)l=h;n=s(l);l=(n?m:l)[n?l[k]:k];if(c.isString(i)&&l)return l[i];return l}else c.query(l).each(function(t){if(!(!t||r[t.nodeName])){if(t==v)t=h;var x=m,j;if(s(t)){if(!(j=t[k]))j=t[k]=c.guid()}else{j=k;x=t}if(i&&e!==q){x[j]||(x[j]={});
x[j][i]=e}}})},removeData:function(l,i){c.query(l).each(function(e){if(e){if(e==v)e=h;var n,t=m,x,j=s(e);if(j)n=e[k];else{t=e;n=k}if(n){x=t[n];if(i){if(x){delete x[i];c.isEmptyObject(x)&&o.removeData(e)}}else{if(j)e.removeAttribute&&e.removeAttribute(k);else try{delete e[k]}catch(a){}j&&delete t[n]}}}})}})});
KISSY.add("dom-class",function(c,q){function s(m,h,r,l){if(!(h=c.trim(h)))return l?false:q;m=c.query(m);var i=0,e=m.length;h=h.split(o);for(var n;i<e;i++){n=m[i];if(v._isElementNode(n)){n=r(n,h,h.length);if(n!==q)return n}}if(l)return false}var v=c.DOM,o=/[\.\s]\s*\.?/,k=/[\n\t]/g;c.mix(v,{hasClass:function(m,h){return s(m,h,function(r,l,i){if(r=r.className){r=" "+r+" ";for(var e=0,n=true;e<i;e++)if(r.indexOf(" "+l[e]+" ")<0){n=false;break}if(n)return true}},true)},addClass:function(m,h){s(m,h,function(r,
l,i){var e=r.className;if(e){var n=" "+e+" ";e=e;for(var t=0;t<i;t++)if(n.indexOf(" "+l[t]+" ")<0)e+=" "+l[t];r.className=c.trim(e)}else r.className=h})},removeClass:function(m,h){s(m,h,function(r,l,i){var e=r.className;if(e)if(i){e=(" "+e+" ").replace(k," ");for(var n=0,t;n<i;n++)for(t=" "+l[n]+" ";e.indexOf(t)>=0;)e=e.replace(t," ");r.className=c.trim(e)}else r.className=""})},replaceClass:function(m,h,r){v.removeClass(m,h);v.addClass(m,r)},toggleClass:function(m,h,r){var l=c.isBoolean(r),i;s(m,
h,function(e,n,t){for(var x=0,j;x<t;x++){j=n[x];i=l?!r:v.hasClass(e,j);v[i?"removeClass":"addClass"](e,j)}})}})});
KISSY.add("dom-attr",function(c,q){function s(j,a){return a&&a.nodeName.toUpperCase()===j.toUpperCase()}var v=c.UA,o=v.ie,k=o&&o<8,m=document.documentElement.textContent!==q?"textContent":"innerText",h=c.DOM,r=h._isElementNode,l=function(j){return h._nodeTypeIs(j,3)},i=/href|src|style/,e=/href|src|colspan|rowspan/,n=/\r/g,t=/radio|checkbox/,x={readonly:"readOnly"};k&&c.mix(x,{"for":"htmlFor","class":"className"});c.mix(h,{attr:function(j,a,b){if(c.isPlainObject(a))for(var g in a)h.attr(j,g,a[g]);
else if(a=c.trim(a)){a=a.toLowerCase();a=x[a]||a;if(b===q){j=c.get(j);if(!r(j))return q;var d;i.test(a)||(d=j[a]);if(d===q)d=j.getAttribute(a);if(k)if(e.test(a))d=j.getAttribute(a,2);else if(a==="style")d=j.style.cssText;return d===null?q:d}c.each(c.query(j),function(f){if(r(f))if(a==="style")f.style.cssText=b;else{if(a==="checked")f[a]=!!b;f.setAttribute(a,""+b)}})}},removeAttr:function(j,a){c.each(c.query(j),function(b){if(r(b)){h.attr(b,a,"");b.removeAttribute(a)}})},val:function(j,a){if(a===q){var b=
c.get(j);if(!r(b))return q;if(s("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(s("select",b)){var g=b.selectedIndex;j=b.options;if(g<0)return null;else if(b.type==="select-one")return h.val(j[g]);b=[];for(var d=0,f=j.length;d<f;++d)j[d].selected&&b.push(h.val(j[d]));return b}if(v.webkit&&t.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(n,"")}c.each(c.query(j),function(p){if(s("select",p)){if(c.isNumber(a))a+="";var u=c.makeArray(a),
w=p.options,y;d=0;for(f=w.length;d<f;++d){y=w[d];y.selected=c.inArray(h.val(y),u)}if(!u.length)p.selectedIndex=-1}else if(r(p))p.value=a})},text:function(j,a){if(a===q){j=c.get(j);if(r(j))return j[m]||"";else if(l(j))return j.nodeValue}else c.each(c.query(j),function(b){if(r(b))b[m]=a;else if(l(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,q){function s(a,b){var g=c.get(a),d=b===r?g.offsetWidth:g.offsetHeight;c.each(b===r?["Left","Right"]:["Top","Bottom"],function(f){d-=parseFloat(o._getComputedStyle(g,"padding"+f))||0;d-=parseFloat(o._getComputedStyle(g,"border"+f+"Width"))||0});return d}function v(a,b,g){var d=g;if(g===l&&e.test(b)){d=0;if(o.css(a,"position")==="absolute"){g=a[b==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)g-=i(o.css(a.offsetParent,"border-"+b+"-width"))||0;d=g-(i(o.css(a,
"margin-"+b))||0)}}return d}var o=c.DOM,k=c.UA,m=document,h=m.documentElement,r="width",l="auto",i=parseInt,e=/^left|top$/,n=/width|height|top|left|right|bottom|margin|padding/i,t=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},j={};c.mix(o,{_CUSTOM_STYLES:j,_getComputedStyle:function(a,b){var g="",d=a.ownerDocument;if(a.style)g=d.defaultView.getComputedStyle(a,null)[b];return g},css:function(a,b,g){if(c.isPlainObject(b))for(var d in b)o.css(a,d,b[d]);else{if(b.indexOf("-")>0)b=b.replace(t,x);
b=j[b]||b;if(g===q){a=c.get(a);d="";if(a&&a.style){d=b.get?b.get(a):a.style[b];if(d===""&&!b.get)d=v(a,b,o._getComputedStyle(a,b))}return d===q?"":d}else{if(g===null||g==="")g="";else if(!isNaN(new Number(g))&&n.test(b))g+="px";(b===r||b==="height")&&parseFloat(g)<0||c.each(c.query(a),function(f){if(f&&f.style){b.set?b.set(f,g):(f.style[b]=g);if(g==="")f.style.cssText||f.removeAttribute("style")}})}}},width:function(a,b){if(b===q)return s(a,r);else o.css(a,r,b)},height:function(a,b){if(b===q)return s(a,
"height");else o.css(a,"height",b)},show:function(a){c.query(a).each(function(b){b.style.display=o.data(b,"display")||""})},hide:function(a){c.query(a).each(function(b){var g=b.style,d=g.display;if(d!=="none"){d&&o.data(b,"display",d);g.display="none"}})},toggle:function(a){c.query(a).each(function(b){if(b)b.style.display==="none"?o.show(b):o.hide(b)})},addStyleSheet:function(a,b){var g;if(b)g=c.get("#"+b);if(!g){g=o.create("<style>",{id:b});c.get("head").appendChild(g);if(g.styleSheet)g.styleSheet.cssText=
a;else g.appendChild(m.createTextNode(a))}}});if(h.style.cssFloat!==q)j["float"]="cssFloat";else if(h.style.styleFloat!==q)j["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,q){if(c.UA.ie){var s=c.DOM;c=document;var v=c.documentElement,o=s._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,m=/^-?\d/,h=/^width|height$/;try{if(v.style.opacity===q&&v.filters)o.opacity={get:function(l){var i=100;try{i=l.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{i=l.filters("alpha").opacity}catch(n){}}return i/100+""},set:function(l,i){var e=l.style;l=(l.currentStyle||0).filter||"";e.zoom=1;if(l)if(l=l.replace(/alpha\(opacity=.+\)/ig,""))l+=", ";
e.filter=l+"alpha(opacity="+i*100+")"}}}catch(r){}if(!(c.defaultView||{}).getComputedStyle&&v.currentStyle)s._getComputedStyle=function(l,i){var e=l.style,n=l.currentStyle[i];if(h.test(i))n=s[i](l)+"px";else if(!k.test(n)&&m.test(n)){var t=e.left,x=l.runtimeStyle.left;l.runtimeStyle.left=l.currentStyle.left;e.left=i==="fontSize"?"1em":n||0;n=e.pixelLeft+"px";e.left=t;l.runtimeStyle.left=x}return n}}});
KISSY.add("dom-offset",function(c,q){function s(u){var w=0,y=0,A=i(u[a]);if(u[p]){u=u[p]();w=u[b];y=u[g];if(k.mobile!=="apple"){w+=o[d](A);y+=o[f](A)}}return{left:w,top:y}}function v(u,w){if(o.css(u,x)==="static")u.style[x]=j;var y=s(u),A={},z,B;for(B in w){z=t(o.css(u,B),10)||0;A[B]=z+w[B]-y[B]}o.css(u,A)}var o=c.DOM,k=c.UA,m=window,h=document,r=o._isElementNode,l=o._nodeTypeIs,i=o._getWin,e=h.compatMode==="CSS1Compat",n=Math.max,t=parseInt,x="position",j="relative",a="ownerDocument",b="left",g=
"top",d="scrollLeft",f="scrollTop",p="getBoundingClientRect";c.mix(o,{offset:function(u,w){if(!(u=c.get(u))||!u[a])return null;if(w===q)return s(u);v(u,w)},scrollIntoView:function(u,w,y,A){if((u=c.get(u))&&u[a]){A=A===q?true:!!A;y=y===q?true:!!y;if(!w||w===m)return u.scrollIntoView(y);w=c.get(w);if(l(w,9))w=i(w);var z=w&&"scrollTo"in w&&w.document,B=o.offset(u),C=z?{left:o.scrollLeft(w),top:o.scrollTop(w)}:o.offset(w),D={left:B[b]-C[b],top:B[g]-C[g]};B=z?o.viewportHeight(w):w.clientHeight;C=z?o.viewportWidth(w):
w.clientWidth;var E=o[d](w),F=o[f](w),G=E+C,M=F+B,I=u.offsetHeight;u=u.offsetWidth;var H=D.left+E-(t(o.css(w,"borderLeftWidth"))||0);D=D.top+F-(t(o.css(w,"borderTopWidth"))||0);var N=H+u,J=D+I,K,L;if(I>B||D<F||y)K=D;else if(J>M)K=J-B;if(A)if(u>C||H<E||y)L=H;else if(N>G)L=N-C;if(z){if(K!==q||L!==q)w.scrollTo(L,K)}else{if(K!==q)w[f]=K;if(L!==q)w[d]=L}}}});c.each(["Left","Top"],function(u,w){var y="scroll"+u;o[y]=function(A){var z=0,B=i(A),C;if(B&&(C=B.document))z=B[w?"pageYOffset":"pageXOffset"]||C.documentElement[y]||
C.body[y];else if(r(A=c.get(A)))z=A[y];return z}});c.each(["Width","Height"],function(u){o["doc"+u]=function(w){w=w||h;return n(e?w.documentElement["scroll"+u]:w.body["scroll"+u],o["viewport"+u](w))};o["viewport"+u]=function(w){var y="inner"+u;w=i(w);var A=w.document;return y in w?w[y]:e?A.documentElement["client"+u]:A.body["client"+u]}})});
KISSY.add("dom-traversal",function(c,q){function s(m,h,r,l){if(!(m=c.get(m)))return null;if(h===q)h=1;var i=null,e,n;if(c.isNumber(h)&&h>=0){if(h===0)return m;e=0;n=h;h=function(){return++e===n}}for(;m=m[r];)if(k(m)&&(!h||o.test(m,h))&&(!l||l(m))){i=m;break}return i}function v(m,h,r){var l=[];var i=m=c.get(m);if(m&&r)i=m.parentNode;if(i){r=0;for(i=i.firstChild;i;i=i.nextSibling)if(k(i)&&i!==m&&(!h||o.test(i,h)))l[r++]=i}return l}var o=c.DOM,k=o._isElementNode;c.mix(o,{parent:function(m,h){return s(m,
h,"parentNode",function(r){return r.nodeType!=11})},next:function(m,h){return s(m,h,"nextSibling")},prev:function(m,h){return s(m,h,"previousSibling")},siblings:function(m,h){return v(m,h,true)},children:function(m,h){return v(m,h)},contains:function(m,h){var r=false;if((m=c.get(m))&&(h=c.get(h)))if(m.contains)return m.contains(h);else if(m.compareDocumentPosition)return!!(m.compareDocumentPosition(h)&16);else for(;!r&&(h=h.parentNode);)r=h==m;return r}})});
KISSY.add("dom-create",function(c,q){function s(A,z){n(A)&&c.isPlainObject(z)&&r.attr(A,z);return A}function v(A,z){var B=null,C;if(A&&(A.push||A.item)&&A[0]){z=z||A[0].ownerDocument;B=z.createDocumentFragment();if(A.item)A=c.makeArray(A);z=0;for(C=A.length;z<C;z++)B.appendChild(A[z])}return B}function o(A){var z=A.cloneNode(true);if(l.ie<8)z.innerHTML=A.innerHTML;return z}function k(A,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+D+'"></span>';c.available(D,function(){var F=
c.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(g):false)&&I[2]){G=h.createElement("script");G.src=I[2];if((H=M.match(d))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)c.globalEval(J);(N=h.getElementById(D))&&r.remove(N);c.isFunction(C)&&C()});m(A,z)}else{m(A,z);c.isFunction(C)&&C()}}function m(A,z){z=(z+"").replace(a,"");try{A.innerHTML=z}catch(B){for(;A.firstChild;)A.removeChild(A.firstChild);z&&A.appendChild(r.create(z))}}var h=
document,r=c.DOM,l=c.UA,i=l.ie,e=r._nodeTypeIs,n=r._isElementNode,t=r._isKSNode,x=h.createElement("div"),j=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;c.mix(r,{create:function(A,z,B){if(e(A,1)||e(A,3))return o(A);if(t(A))return o(A[0]);if(!(A=c.trim(A)))return null;var C=null;C=r._creators;var D,E="div",F;if(D=b.exec(A))C=(B||h).createElement(D[1]);else{if((D=j.exec(A))&&(F=D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=
F;A=C[E](A,B).childNodes;C=A.length===1?A[0].parentNode.removeChild(A[0]):v(A,B||h)}return s(C,z)},_creators:{div:function(A,z){z=z?z.createElement("div"):x;z.innerHTML=A;return z}},html:function(A,z,B,C){if(z===q){A=c.get(A);if(n(A))return A.innerHTML}else c.each(c.query(A),function(D){n(D)&&k(D,z,B,C)})},remove:function(A){c.each(c.query(A),function(z){n(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(l.gecko||i){var f=r._creators,p=r.create,u=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
w={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var y in w)(function(A){f[y]=function(z,B){return p("<"+A+">"+z+"</"+A+">",null,B)}})(w[y]);if(i){f.script=function(A,z){z=z?z.createElement("div"):x;z.innerHTML="-"+A;z.removeChild(z.firstChild);return z};if(i<8)f.tbody=function(A,z){z=p("<table>"+A+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!u.test(A)&&B.parentNode.removeChild(B);return z}}c.mix(f,{optgroup:f.option,th:f.td,
thead:f.tbody,tfoot:f.tbody,caption:f.tbody,colgroup:f.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(q,s){if((q=c.get(q))&&(s=c.get(s))&&s.parentNode)s.parentNode.insertBefore(q,s);return q},insertAfter:function(q,s){if((q=c.get(q))&&(s=c.get(s))&&s.parentNode)s.nextSibling?s.parentNode.insertBefore(q,s.nextSibling):s.parentNode.appendChild(q);return q}})});
KISSY.add("event",function(c,q){function s(a,b,g,d,f){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(p){j[a](p,g,d,f)});return true}if((g=c.trim(g))&&g.indexOf(n)>0){c.each(g.split(n),function(p){j[a](b,p,d,f)});return true}}function v(a){return m(a)?r.data(a,e):-1}function o(a,b){m(a)&&r.data(a,e,b)}function k(a){r.removeData(a,e)}function m(a){return a&&a.nodeType!==3&&a.nodeType!==8}var h=document,r=c.DOM,l=h.addEventListener?function(a,b,g,d){a.addEventListener&&a.addEventListener(b,
g,!!d)}:function(a,b,g){a.attachEvent&&a.attachEvent("on"+b,g)},i=h.removeEventListener?function(a,b,g,d){a.removeEventListener&&a.removeEventListener(b,g,!!d)}:function(a,b,g){a.detachEvent&&a.detachEvent("on"+b,g)},e="ksEventTargetId",n=" ",t=c.now(),x={},j={EVENT_GUID:e,special:{},add:function(a,b,g,d){if(!s("add",a,b,g,d)){var f=v(a),p,u,w,y,A;if(!(f===-1||!b||!c.isFunction(g))){if(!f){o(a,f=t++);x[f]={target:a,events:{}}}u=x[f].events;if(!u[b]){p=((f=!a.isCustomEventTarget)||a._supportSpecialEvent)&&
j.special[b]||{};w=function(z,B){if(!z||!z.fixed){z=new c.EventObject(a,z,b);c.isPlainObject(B)&&c.mix(z,B)}p.setup&&p.setup(z);return(p.handle||j._handle)(a,z,u[b].listeners)};u[b]={handle:w,listeners:[]};y=p.fix||b;A=p.capture;if(f)l(a,y,w,A);else a._addEvent&&a._addEvent(y,w,A)}u[b].listeners.push({fn:g,scope:d||a})}}},remove:function(a,b,g,d){if(!s("remove",a,b,g,d)){var f=v(a),p,u,w,y,A,z,B;if(f!==-1)if(f&&(p=x[f]))if(p.target===a){d=d||a;p=p.events||{};if(u=p[b]){w=u.listeners;z=w.length;if(c.isFunction(g)&&
z){A=y=0;for(B=[];y<z;++y)if(g!==w[y].fn||d!==w[y].scope)B[A++]=w[y];u.listeners=B;z=B.length}if(g===q||z===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,u.handle);else{g=j.special[b]||{};i(a,g.fix||b,u.handle)}delete p[b]}}if(b===q||c.isEmptyObject(p)){for(b in p)j.remove(a,b);delete x[f];k(a)}}}},_handle:function(a,b,g){g=g.slice(0);for(var d,f=0,p=g.length;f<p;++f){d=g[f];d=d.fn.call(d.scope||a,b);if(d===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return d},
_getCache:function(a){return x[a]},_simpleAdd:l,_simpleRemove:i};j.on=j.add;c.Event=j});
KISSY.add("event-object",function(c,q){function s(k,m,h){this.currentTarget=k;this.originalEvent=m||{};if(m){this.type=m.type;this._fix()}else{this.type=h;this.target=k}this.currentTarget=k;this.fixed=true}var v=document,o="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(s,
{_fix:function(){var k=this.originalEvent,m=o.length,h,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||v;m;){h=o[--m];this[h]=k[h]}if(!this.target)this.target=this.srcElement||v;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===q&&this.clientX!==q){k=r.documentElement;m=r.body;this.pageX=this.clientX+(k&&k.scrollLeft||m&&m.scrollLeft||
0)-(k&&k.clientLeft||m&&m.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||m&&m.scrollTop||0)-(k&&k.clientTop||m&&m.clientTop||0)}if(this.which===q)this.which=this.charCode!==q?this.charCode:this.keyCode;if(this.metaKey===q)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==q)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=s});
KISSY.add("event-target",function(c,q){var s=c.Event;c.EventTarget={isCustomEventTarget:true,fire:function(v,o){var k=c.DOM.data(this,s.EVENT_GUID)||-1;if((v=((s._getCache(k)||{}).events||{})[v])&&c.isFunction(v.handle))return v.handle(q,o);return this},on:function(v,o,k){s.add(this,v,o,k);return this},detach:function(v,o,k){s.remove(this,v,o,k);return this}}});
KISSY.add("event-mouseenter",function(c){var q=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){q.special[s.name]={fix:s.fix,setup:function(v){v.type=s.name},handle:function(v,o,k){var m=o.relatedTarget;try{for(;m&&m!==v;)m=m.parentNode;m!==v&&q._handle(v,o,k)}catch(h){}}}})});
KISSY.add("event-focusin",function(c){var q=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){q.special[s.name]={fix:s.fix,capture:true,setup:function(v){v.type=s.name}}})});
KISSY.add("node",function(c){function q(o,k,m){var h;if(!(this instanceof q))return new q(o,k,m);if(o){if(v(o,1)||v(o,3))h=o;else if(c.isString(o))h=s.create(o,k,m);this[0]=h}else this.length=0}var s=c.DOM,v=s._nodeTypeIs;q.TYPE="-ks-Node";c.augment(q,{length:1,getDOMNode:function(){return this[0]},nodeType:q.TYPE});c.one=function(o,k){return(o=c.get(o,k))?new q(o):null};c.Node=q});
KISSY.add("nodelist",function(c){function q(o){if(!(this instanceof q))return new q(o);v.push.apply(this,o||[])}var s=c.DOM,v=Array.prototype;c.mix(q.prototype,{length:0,item:function(o){var k=null;if(s._isElementNode(this[o]))k=new c.Node(this[o]);return k},getDOMNodes:function(){return v.slice.call(this)},each:function(o,k){var m=this.length,h=0,r;for(r=new c.Node(this[0]);h<m&&o.call(k||r,r,h,this)!==false;r=new c.Node(this[++h]));return this}});c.all=function(o,k){return new q(c.query(o,k,true))};
c.NodeList=q});
KISSY.add("node-attach",function(c,q){function s(j,arguments,a,b){var g=[this[j?e:i]()].concat(c.makeArray(arguments));if(arguments[a]===q)return b.apply(o,g);else{b.apply(o,g);return this}}function v(j,a){c.each(j,function(b){c.each([r,l],function(g,d){g[b]=function(f){switch(a){case n:return function(){return s.call(this,d,arguments,1,f)};case t:return function(){return s.call(this,d,arguments,0,f)};case x:return function(){var p=this[d?e:i]();return(p=f.apply(o,[p].concat(c.makeArray(arguments))))?new (c[c.isArray(p)?
"NodeList":"Node"])(p):null};default:return function(){var p=this[d?e:i]();p=f.apply(o,[p].concat(c.makeArray(arguments)));return p===q?this:p}}}(o[b])})})}var o=c.DOM,k=c.Event,m=o._nodeTypeIs,h=o._isKSNode,r=c.Node.prototype,l=c.NodeList.prototype,i="getDOMNode",e=i+"s",n=1,t=2,x=4;c.mix(r,{one:function(j){return c.one(j,this[0])},all:function(j){return c.all(j,this[0])}});v(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);v(["attr","removeAttr"],n);v(["val","text"],t);v(["css"],
n);v(["width","height"],t);v(["offset"],t);v(["scrollIntoView"]);v(["parent","next","prev","siblings","children"],x);v(["contains"]);v(["html"],t);v(["remove"]);c.each(["insertBefore","insertAfter"],function(j){r[j]=function(a){o[j].call(o,this[0],a);return this}});c.each([r,l],function(j,a){c.mix(j,{append:function(b){b&&c.each(this,function(g){var d;if(a||c.isString(b))d=o.create(b);else{if(m(b,1)||m(b,3))d=b;if(h(b))d=b[0]}g.appendChild(d)});return this},appendTo:function(b){if((b=c.get(b))&&b.appendChild)c.each(this,
function(g){b.appendChild(g)});return this}})});c.each([r,l],function(j){c.mix(j,c.EventTarget,{_supportSpecialEvent:true});j._addEvent=function(a,b,g){for(var d=0,f=this.length;d<f;d++)k._simpleAdd(this[d],a,b,g)};j._removeEvent=function(a,b,g){for(var d=0,f=this.length;d<f;d++)k._simpleRemove(this[d],a,b,g)};delete j.fire})});
KISSY.add("cookie",function(c){function q(k){return c.isString(k)&&k!==""}var s=document,v=encodeURIComponent,o=decodeURIComponent;c.Cookie={get:function(k){var m;if(q(k))if(k=s.cookie.match("(?:^| )"+k+"(?:(?:=([^;]*))|;|$)"))m=k[1]?o(k[1]):"";return m},set:function(k,m,h,r,l,i){m=v(m);var e=h;if(typeof e==="number"){e=new Date;e.setTime(e.getTime()+h*864E5)}if(e instanceof Date)m+="; expires="+e.toUTCString();if(q(r))m+="; domain="+r;if(q(l))m+="; path="+l;if(i)m+="; secure";s.cookie=k+"="+m},remove:function(k,
m,h,r){this.set(k,"",0,m,h,r)}}});
KISSY.add("json",function(c){function q(i){return i<10?"0"+i:i}function s(i){k.lastIndex=0;return k.test(i)?'"'+i.replace(k,function(e){var n=r[e];return typeof n==="string"?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'}function v(i,e){var n,t,x=m,j,a=e[i];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(i);if(typeof l==="function")a=l.call(e,i,a);switch(typeof a){case "string":return s(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";m+=h;j=[];if(Object.prototype.toString.apply(a)==="[object Array]"){t=a.length;for(i=0;i<t;i+=1)j[i]=v(i,a)||"null";e=j.length===0?"[]":m?"[\n"+m+j.join(",\n"+m)+"\n"+x+"]":"["+j.join(",")+"]";m=x;return e}if(l&&typeof l==="object"){t=l.length;for(i=0;i<t;i+=1){n=l[i];if(typeof n==="string")if(e=v(n,a))j.push(s(n)+(m?": ":":")+e)}}else for(n in a)if(Object.hasOwnProperty.call(a,n))if(e=v(n,a))j.push(s(n)+(m?": ":":")+e);e=j.length===0?"{}":m?"{\n"+m+j.join(",\n"+m)+
"\n"+x+"}":"{"+j.join(",")+"}";m=x;return e}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+q(this.getUTCMonth()+1)+"-"+q(this.getUTCDate())+"T"+q(this.getUTCHours())+":"+q(this.getUTCMinutes())+":"+q(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var o=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,h,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;if(typeof c.stringify!=="function")c.stringify=function(i,e,n){var t;h=m="";if(typeof n==="number")for(t=0;t<n;t+=1)h+=" ";else if(typeof n==="string")h=n;if((l=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw new Error("JSON.stringify");return v("",
{"":i})};if(typeof c.parse!=="function")c.parse=function(i,e){function n(t,x){var j,a,b=t[x];if(b&&typeof b==="object")for(j in b)if(Object.hasOwnProperty.call(b,j)){a=n(b,j);if(a!==undefined)b[j]=a;else delete b[j]}return e.call(t,x,b)}i=String(i);o.lastIndex=0;if(o.test(i))i=i.replace(o,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(i.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){i=eval("("+i+")");return typeof e==="function"?n({"":i},""):i}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var q=Math,s=q.PI,v=q.pow,o=q.sin,k=1.70158,m={easeNone:function(h){return h},easeIn:function(h){return h*h},easeOut:function(h){return(2-h)*h},easeBoth:function(h){return(h*=2)<1?0.5*h*h:0.5*(1- --h*(h-2))},easeInStrong:function(h){return h*h*h*h},easeOutStrong:function(h){return 1- --h*h*h*h},easeBothStrong:function(h){return(h*=2)<1?0.5*h*h*h*h:0.5*(2-(h-=2)*h*h*h)},elasticIn:function(h){if(h===0||h===1)return h;return-(v(2,10*(h-=1))*o((h-0.075)*2*s/0.3))},
elasticOut:function(h){if(h===0||h===1)return h;return v(2,-10*h)*o((h-0.075)*2*s/0.3)+1},elasticBoth:function(h){if(h===0||(h*=2)===2)return h;if(h<1)return-0.5*v(2,10*(h-=1))*o((h-0.1125)*2*s/0.45);return v(2,-10*(h-=1))*o((h-0.1125)*2*s/0.45)*0.5+1},backIn:function(h){if(h===1)h-=0.0010;return h*h*((k+1)*h-k)},backOut:function(h){return(h-=1)*h*((k+1)*h+k)+1},backBoth:function(h){if((h*=2)<1)return 0.5*h*h*(((k*=1.525)+1)*h-k);return 0.5*((h-=2)*h*(((k*=1.525)+1)*h+k)+2)},bounceIn:function(h){return 1-
m.bounceOut(1-h)},bounceOut:function(h){return h<1/2.75?7.5625*h*h:h<2/2.75?7.5625*(h-=1.5/2.75)*h+0.75:h<2.5/2.75?7.5625*(h-=2.25/2.75)*h+0.9375:7.5625*(h-=2.625/2.75)*h+0.984375},bounceBoth:function(h){if(h<0.5)return m.bounceIn(h*2)*0.5;return m.bounceOut(h*2-1)*0.5+0.5}};c.Easing=m});
KISSY.add("anim",function(c,q){function s(j,a,b,g,d){if(j=c.get(j)){if(!(this instanceof s))return new s(j,a,b,g,d);var f=c.isPlainObject(b);a=a;this.domEl=j;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=v(a);this.targetStyle=a;if(f)j=c.merge(x,b);else{j=c.clone(x);b&&(j.duration=i(b,10)||1);c.isString(g)&&(g=l[g]);c.isFunction(g)&&(j.easing=g);c.isFunction(d)&&(j.complete=d)}this.config=j;c.isFunction(d)&&this.on(t,d)}}function v(j){var a={},b=n.length,g;e.innerHTML='<div style="'+
j+'"></div>';for(j=e.firstChild.style;b--;)if(g=j[n[b]])a[n[b]]=o(g);return a}function o(j){var a=i(j);j=(j+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:j,u:"",f:m}:{v:a,u:j,f:k}}function k(j,a,b){return(j+(a-j)*b).toFixed(3)}function m(j,a,b){for(var g=2,d,f,p=[],u=[];d=3,f=arguments[g-1],g--;)if(h(f,0,4)==="rgb(")for(f=f.match(/\d+/g);d--;)p.push(~~f[d]);else if(h(f,0)==="#"){if(f.length===4)f="#"+h(f,1)+h(f,1)+h(f,2)+h(f,2)+h(f,3)+h(f,3);for(;d--;)p.push(parseInt(h(f,1+d*2,2),16))}else return a;
for(;d--;){g=~~(p[d+3]+(p[d]-p[d+3])*b);u.push(g<0?0:g>255?255:g)}return"rgb("+u.join(",")+")"}function h(j,a,b){return j.substr(a,b||1)}var r=c.DOM,l=c.Easing,i=parseFloat,e=r.create("<div>"),n="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
t="complete",x={duration:1,easing:l.easeNone};c.augment(s,c.EventTarget,{run:function(){var j=this,a=j.config,b=j.domEl,g=a.duration*1E3,d=a.easing,f=c.now(),p=f+g,u=j.props,w={},y;for(y in u)w[y]=o(r.css(b,y));if(j.fire("start")!==false){j.stop();j.timer=c.later(a=function(){var A=c.now(),z=A>p?1:(A-f)/g,B,C,D;for(y in u){B=w[y];C=u[y];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;r.css(b,y,C.f(B.v,C.v,d(z))+C.u)}if(j.fire("step")===false||(D=A>p)){j.stop();D&&j.fire(t)}},13,true);a();return j}},stop:function(j){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=q}if(j){c.UA.ie&&b.indexOf("opacity")>-1&&r.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(t)}return this}});c.Anim=s});KISSY.add("anim-node-plugin",function(c,q){var s=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(v){v.animate=function(){var o=c.makeArray(arguments);c.each(this,function(k){s.apply(q,[k].concat(o)).run()});return this}})});KISSY.add("core");
(function(){function c(a,b,g,d,f,p){f=0;for(var u=d.length;f<u;f++){var w=d[f];if(w){w=w[a];for(var y=false;w;){if(w.sizcache===g){y=d[w.sizset];break}if(w.nodeType===1&&!p){w.sizcache=g;w.sizset=f}if(w.nodeName.toLowerCase()===b){y=w;break}w=w[a]}d[f]=y}}}function q(a,b,g,d,f,p){f=0;for(var u=d.length;f<u;f++){var w=d[f];if(w){w=w[a];for(var y=false;w;){if(w.sizcache===g){y=d[w.sizset];break}if(w.nodeType===1){if(!p){w.sizcache=g;w.sizset=f}if(typeof b!=="string"){if(w===b){y=true;break}}else if(h.filter(b,
[w]).length>0){y=w;break}}w=w[a]}d[f]=y}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,v=0,o=Object.prototype.toString,k=false,m=true;[0,0].sort(function(){m=false;return 0});var h=function(a,b,g,d){g=g||[];var f=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return g;var p=[],u,w,y,A,z=true,B=h.isXML(b),C=a,D;do{s.exec("");if(u=s.exec(C)){C=u[3];p.push(u[1]);if(u[2]){A=
u[3];break}}}while(u);if(p.length>1&&l.exec(a))if(p.length===2&&r.relative[p[0]])w=j(p[0]+p[1],b);else for(w=r.relative[p[0]]?[b]:h(p.shift(),b);p.length;){a=p.shift();if(r.relative[a])a+=p.shift();w=j(a,w)}else{if(!d&&p.length>1&&b.nodeType===9&&!B&&r.match.ID.test(p[0])&&!r.match.ID.test(p[p.length-1])){u=h.find(p.shift(),b,B);b=u.expr?h.filter(u.expr,u.set)[0]:u.set[0]}if(b){u=d?{expr:p.pop(),set:n(d)}:h.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&b.parentNode?b.parentNode:b,B);w=u.expr?
h.filter(u.expr,u.set):u.set;if(p.length>0)y=n(w);else z=false;for(;p.length;){u=D=p.pop();if(r.relative[D])u=p.pop();else D="";if(u==null)u=b;r.relative[D](y,u,B)}}else y=[]}y||(y=w);y||h.error(D||a);if(o.call(y)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;y[a]!=null;a++){if(y[a]&&(y[a]===true||y[a].nodeType===1&&h.contains(b,y[a])))g.push(w[a])}else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&g.push(w[a]);else g.push.apply(g,y);else n(y,g);if(A){h(A,f,g,d);h.uniqueSort(g)}return g};
h.uniqueSort=function(a){if(x){k=m;a.sort(x);if(k)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};h.matches=function(a,b){return h(a,null,null,b)};h.find=function(a,b,g){var d;if(!a)return[];for(var f=0,p=r.order.length;f<p;f++){var u=r.order[f],w;if(w=r.leftMatch[u].exec(a)){var y=w[1];w.splice(1,1);if(y.substr(y.length-1)!=="\\"){w[1]=(w[1]||"").replace(/\\/g,"");d=r.find[u](w,b,g);if(d!=null){a=a.replace(r.match[u],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,
expr:a}};h.filter=function(a,b,g,d){for(var f=a,p=[],u=b,w,y,A=b&&b[0]&&h.isXML(b[0]);a&&b.length;){for(var z in r.filter)if((w=r.leftMatch[z].exec(a))!=null&&w[2]){var B=r.filter[z],C,D;D=w[1];y=false;w.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(u===p)p=[];if(r.preFilter[z])if(w=r.preFilter[z](w,u,g,p,d,A)){if(w===true)continue}else y=C=true;if(w)for(var E=0;(D=u[E])!=null;E++)if(D){C=B(D,w,E,u);var F=d^!!C;if(g&&C!=null)if(F)y=true;else u[E]=false;else if(F){p.push(D);y=true}}if(C!==undefined){g||
(u=p);a=a.replace(r.match[z],"");if(!y)return[];break}}}if(a===f)if(y==null)h.error(a);else break;f=a}return u};h.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var r=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var g=typeof b==="string",d=g&&!/\W/.test(b);g=g&&!d;if(d)b=b.toLowerCase();d=0;for(var f=a.length,p;d<f;d++)if(p=a[d]){for(;(p=p.previousSibling)&&p.nodeType!==1;);a[d]=g||p&&p.nodeName.toLowerCase()===
b?p||false:p===b}g&&h.filter(b,a,true)},">":function(a,b){var g=typeof b==="string",d,f=0,p=a.length;if(g&&!/\W/.test(b))for(b=b.toLowerCase();f<p;f++){if(d=a[f]){g=d.parentNode;a[f]=g.nodeName.toLowerCase()===b?g:false}}else{for(;f<p;f++)if(d=a[f])a[f]=g?d.parentNode:d.parentNode===b;g&&h.filter(b,a,true)}},"":function(a,b,g){var d=v++,f=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=b=b.toLowerCase();f=c}f("parentNode",b,d,a,p,g)},"~":function(a,b,g){var d=v++,f=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=
b=b.toLowerCase();f=c}f("previousSibling",b,d,a,p,g)}},find:{ID:function(a,b,g){if(typeof b.getElementById!=="undefined"&&!g)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var g=[];b=b.getElementsByName(a[1]);for(var d=0,f=b.length;d<f;d++)b[d].getAttribute("name")===a[1]&&g.push(b[d]);return g.length===0?null:g}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,g,d,f,p){a=" "+a[1].replace(/\\/g,"")+" ";
if(p)return a;p=0;for(var u;(u=b[p])!=null;p++)if(u)if(f^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))g||d.push(u);else if(g)b[p]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=v++;return a},ATTR:function(a,b,g,d,f,p){b=
a[1].replace(/\\/g,"");if(!p&&r.attrMap[b])a[1]=r.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,g,d,f){if(a[1]==="not")if((s.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=h(a[3],null,null,b);else{a=h.filter(a[3],b,g,true^f);g||d.push.apply(d,a);return false}else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,g){return!!h(g[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,g,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,g){return b<g[3]-0},gt:function(a,b,g){return b>g[3]-0},nth:function(a,b,g){return g[3]-
0===b},eq:function(a,b,g){return g[3]-0===b}},filter:{PSEUDO:function(a,b,g,d){var f=b[1],p=r.filters[f];if(p)return p(a,g,b,d);else if(f==="contains")return(a.textContent||a.innerText||h.getText([a])||"").indexOf(b[3])>=0;else if(f==="not"){b=b[3];g=0;for(d=b.length;g<d;g++)if(b[g]===a)return false;return true}else h.error("Syntax error, unrecognized expression: "+f)},CHILD:function(a,b){var g=b[1],d=a;switch(g){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(g===
"first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":g=b[2];var f=b[3];if(g===1&&f===0)return true;b=b[0];var p=a.parentNode;if(p&&(p.sizcache!==b||!a.nodeIndex)){var u=0;for(d=p.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++u;p.sizcache=b}a=a.nodeIndex-f;return g===0?a===0:a%g===0&&a/g>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var g=b[1];a=r.attrHandle[g]?r.attrHandle[g](a):a[g]!=null?a[g]:a.getAttribute(g);g=a+"";var d=b[2];b=b[4];return a==null?d==="!=":d==="="?g===b:d==="*="?g.indexOf(b)>=0:d==="~="?(" "+g+" ").indexOf(b)>=0:!b?g&&a!==false:d==="!="?g!==b:d==="^="?g.indexOf(b)===0:d==="$="?g.substr(g.length-b.length)===b:d==="|="?g===b||g.substr(0,b.length+1)===b+"-":false},POS:function(a,b,g,d){var f=r.setFilters[b[2]];
if(f)return f(a,g,b,d)}}},l=r.match.POS,i=function(a,b){return"\\"+(b-0+1)};for(var e in r.match){r.match[e]=new RegExp(r.match[e].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[e]=new RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[e].source.replace(/\\(\d+)/g,i))}var n=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(t){n=function(a,b){b=b||[];var g=0;if(o.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var d=a.length;g<d;g++)b.push(a[g]);else for(;a[g];g++)b.push(a[g]);return b}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)k=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)k=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)k=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)k=true;return a};else if(document.createRange)x=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)k=true;return a.ownerDocument?-1:1}var g=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();g.setStart(a,0);g.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);a=g.compareBoundaryPoints(Range.START_TO_END,d);if(a===0)k=true;return a};h.getText=function(a){for(var b="",g,d=0;a[d];d++){g=a[d];if(g.nodeType===3||g.nodeType===4)b+=g.nodeValue;else if(g.nodeType!==
8)b+=h.getText(g.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var g=document.documentElement;g.insertBefore(a,g.firstChild);if(document.getElementById(b)){r.find.ID=function(d,f,p){if(typeof f.getElementById!=="undefined"&&!p)return(f=f.getElementById(d[1]))?f.id===d[1]||typeof f.getAttributeNode!=="undefined"&&f.getAttributeNode("id").nodeValue===d[1]?[f]:undefined:[]};r.filter.ID=function(d,f){var p=typeof d.getAttributeNode!==
"undefined"&&d.getAttributeNode("id");return d.nodeType===1&&p&&p.nodeValue===f}}g.removeChild(a);g=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)r.find.TAG=function(b,g){g=g.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var d=0;g[d];d++)g[d].nodeType===1&&b.push(g[d]);g=b}return g};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")r.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=h,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){h=function(d,f,p,u){f=f||document;if(!u&&f.nodeType===9&&!h.isXML(f))try{return n(f.querySelectorAll(d),p)}catch(w){}return a(d,f,p,u)};for(var g in a)h[g]=a[g];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){r.order.splice(1,0,"CLASS");r.find.CLASS=function(b,g,d){if(typeof g.getElementsByClassName!=="undefined"&&!d)return g.getElementsByClassName(b[1])};a=null}}})();h.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};h.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var j=function(a,b){var g=[],d="",f;for(b=b.nodeType?[b]:b;f=r.match.PSEUDO.exec(a);){d+=f[0];a=a.replace(r.match.PSEUDO,"")}a=r.relative[a]?a+"*":a;f=0;for(var p=b.length;f<p;f++)h(a,b[f],g);return h.filter(d,g)};KISSY.add("sizzle",function(a){a.ExternalSelector=h;a.ExternalSelector._filter=function(b,g){return h.matches(g,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(c,q){function s(i,e){if(!(this instanceof s))return new s(i,e);if(e===q){e=i;i=[m]}c.isArray(i)||(i=[c.get(i)||m]);this.containers=i;this.config=c.merge(l,e);this.callbacks={els:[],fns:[]};this._init()}var v=c.DOM,o=c.Event,k=window,m=document,h="scroll",r="resize",l={mod:"manual",diff:"default",placeholder:"none"};c.augment(s,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var i=this.containers,
e,n,t,x=[],j=[];e=0;for(n=i.length;e<n;++e){t=c.query("img",i[e]);x=x.concat(c.filter(t,this._filterImg,this));t=c.query("textarea",i[e]);j=j.concat(c.filter(t,this._filterArea,this))}this.images=x;this.areaes=j},_filterImg:function(i){var e=i.getAttribute("data-ks-lazyload"),n=this.threshold,t=this.config.placeholder;if(this.config.mod==="manual"){if(e){if(t!=="none")i.src=t;return true}}else if(v.offset(i).top>n&&!e){v.attr(i,"data-ks-lazyload",i.src);if(t!=="none")i.src=t;else i.removeAttribute("src");
return true}},_filterArea:function(i){return v.hasClass(i,"ks-datalazyload")},_initLoadEvent:function(){function i(){n||(n=c.later(function(){e();n=null},100))}function e(){t._loadItems();if(t._getItemsLength()===0){o.remove(k,h,i);o.remove(k,r,i)}}var n,t=this;o.on(k,h,i);o.on(k,r,function(){t.threshold=t._getThreshold();i()});t._getItemsLength()&&c.ready(function(){e()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=c.filter(this.images,
this._loadImg,this)},_loadImg:function(i){var e=this.threshold+v.scrollTop();if(v.offset(i).top<=e)this._loadImgSrc(i);else return true},_loadImgSrc:function(i,e){e=e||"data-ks-lazyload";var n=i.getAttribute(e);if(n&&i.src!=n){i.src=n;i.removeAttribute(e)}},_loadAreas:function(){this.areaes=c.filter(this.areaes,this._loadArea,this)},_loadArea:function(i){var e=v.css(i,"display")==="none";if(v.offset(e?i.parentNode:i).top<=this.threshold+v.scrollTop())this._loadAreaData(i.parentNode,i);else return true},
_loadAreaData:function(i,e){e.style.display="none";e.className="";var n=v.create("<div>");i.insertBefore(n,e);v.html(n,e.value,true)},_fireCallbacks:function(){var i=this.callbacks,e=i.els,n=i.fns,t=this.threshold+v.scrollTop(),x,j,a,b=[],g=[];for(x=0;(j=e[x])&&(a=n[x++]);)if(v.offset(j).top<=t)a.call(j);else{b.push(j);g.push(a)}i.els=b;i.fns=g},addCallback:function(i,e){var n=this.callbacks;if((i=c.get(i))&&c.isFunction(e)){n.els.push(i);n.fns.push(e)}},_getThreshold:function(){var i=this.config.diff,
e=v.viewportHeight();return i==="default"?2*e:e+ +i},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(i,e){var n=this,t,x;c.isArray(i)||(i=[c.get(i)]);c.each(i,function(j){switch(e){case "img-src":x=j.nodeName==="IMG"?[j]:c.query("img",j);c.each(x,function(a){n._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(t=c.get("textarea",j))&&v.hasClass(t,"ks-datalazyload-custom")&&n._loadAreaData(j,t)}})}});c.mix(s,s.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=s},{requires:["core"]});KISSY.add("flash",function(c){c.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(c){function q(){var l;if(navigator.plugins&&navigator.mimeTypes.length)l=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{l=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(i){}if(l)return s(l)}function s(l){return l.match(/(\d)+/g)}function v(l){var i=c.isString(l)?s(l):l;l=l;if(c.isArray(i))l=parseFloat(i[0]+"."+o(i[1],3)+o(i[2],5));return l||0}function o(l,i){for(var e=(l+"").length;e++<i;)l="0"+
l;return l}var k=c.UA,m,h,r=true;k.fpv=function(l){if(l||r){r=false;m=q();h=v(m)}return m};k.fpvGEQ=function(l,i){r&&k.fpv(i);return!!h&&h>=v(l)}},{host:"flash"});
KISSY.add("flash-embed",function(c){function q(l,i,e){var n=v.create("<param>");v.attr(n,{name:i,value:e});l.appendChild(n)}var s=c.UA,v=c.DOM,o=c.Flash,k=/object|embed/i,m=encodeURIComponent,h={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},r={params:{},attrs:{width:215,height:138},version:9};c.mix(o,{fpv:s.fpv,fpvGEQ:s.fpvGEQ,add:function(l,i,e){var n,
t;i=o._normalize(i);i=c.merge(r,i);i.attrs=c.merge(r.attrs,i.attrs);if(l=c.get(l)){if(!l.id)l.id=c.guid("ks-flash-");t=i.attrs.id=l.id;if(s.fpv()){if(!s.fpvGEQ(i.version)){this._callback(e,0,t,l);if(!((n=i.xi)&&c.isString(n)))return;i.src=n}if(k.test(l.nodeName))this._register(l,i,e);else i.src?this._embed(l,i,e):this._callback(e,-3,t,l)}else this._callback(e,-1,t,l)}else this._callback(e,-2)},get:function(l){return o.swfs[l]},remove:function(l){if(l=o.get("#"+l)){v.remove(l);delete o.swfs[l.id];
o.length-=1}},contains:function(l){var i=o.swfs,e,n=false;if(c.isString(l))n=l in i;else for(e in i)if(i[e]===l){n=true;break}return n},_register:function(l,i,e){i=i.attrs.id;if(s.gecko||s.opera)l=c.query("object",l)[0]||l;o._addSWF(i,l);o._callback(e,1,i,l)},_embed:function(l,i,e){var n=o._createSWF(i.src,i.attrs,i.params);if(s.ie)l.outerHTML=n.outerHTML;else l.parentNode.replaceChild(n,l);l=c.get("#"+l.id);o._register(l,i,e)},_callback:function(l,i,e,n){i&&c.isFunction(l)&&l({status:i,id:e,swf:n})},
_addSWF:function(l,i){if(l&&i){o.swfs[l]=i;o.length+=1}},_createSWF:function(l,i,e){var n=v.create("<object>"),t;v.attr(n,i);if(s.ie){v.attr(n,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");q(n,"movie",l)}else v.attr(n,{type:"application/x-shockwave-flash",data:l,name:i.id});for(t in e)t in h&&q(n,t,e[t]);e.flashvars&&q(n,"flashvars",o.toFlashVars(e.flashvars));return n},_normalize:function(l){var i,e,n,t=l;if(c.isPlainObject(l)){t={};for(n in l){i=n.toLowerCase();e=l[n];if(i!=="flashvars")e=
o._normalize(e);t[i]=e}}return t},toFlashVars:function(l){if(!c.isPlainObject(l))return"";var i,e,n=[];for(i in l){e=l[i];if(c.isString(e))e=m(e);else{e=c.JSON.stringify(e);if(!e)continue;e=e.replace(/:"([^"]+)/g,function(t,x){return':"'+m(x)})}n.push(i+"="+e)}return n.join("&").replace(/\"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(c,q){function s(k,m){m=m||{};if(!("markupType"in m))if(m.panelCls)m.markupType=1;else if(m.panels)m.markupType=2;m=c.merge(s.Config,m);this.container=c.get(k);this.config=m;this.activeIndex=m.activeIndex;this._init()}var v=c.DOM,o=c.Event;s.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};s.Plugins=[];c.augment(s,c.EventTarget,{_init:function(){var k=this,m=k.config;k._parseMarkup();m.switchTo&&k.switchTo(m.switchTo);m.hasTriggers&&k._bindTriggers();c.each(s.Plugins,function(h){h.init&&h.init(k)});k.fire("init")},_parseMarkup:function(){var k=this.container,m=this.config,h,r=[],l=[];switch(m.markupType){case 0:if(h=c.get("."+m.navCls,k))r=v.children(h);h=c.get("."+m.contentCls,k);l=v.children(h);break;case 1:r=c.query("."+m.triggerCls,
k);l=c.query("."+m.panelCls,k);break;case 2:r=m.triggers;l=m.panels;break}k=l.length;this.length=k/m.steps;if(m.hasTriggers&&k>0&&r.length===0)r=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(r);this.panels=c.makeArray(l);this.content=h||l[0].parentNode},_generateTriggersMarkup:function(k){var m=this.config,h=v.create("<ul>"),r,l;h.className=m.navCls;for(l=0;l<k;l++){r=v.create("<li>");if(l===this.activeIndex)r.className=m.activeTriggerCls;r.innerHTML=l+1;h.appendChild(r)}this.container.appendChild(h);
return v.children(h)},_bindTriggers:function(){var k=this,m=k.config,h=k.triggers,r,l,i=h.length;for(l=0;l<i;l++)(function(e){r=h[e];o.on(r,"click",function(){k._onFocusTrigger(e)});if(m.triggerType==="mouse"){o.on(r,"mouseenter",function(){k._onMouseEnterTrigger(e)});o.on(r,"mouseleave",function(){k._onMouseLeaveTrigger(e)})}})(l)},_onFocusTrigger:function(k){if(this._triggerIsValid(k)){this._cancelSwitchTimer();this.switchTo(k)}},_onMouseEnterTrigger:function(k){var m=this;if(m._triggerIsValid(k))m.switchTimer=
c.later(function(){m.switchTo(k)},m.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(k){return this.activeIndex!==k},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=q}},switchTo:function(k,m){var h=this.config,r=this.triggers,l=this.panels,i=this.activeIndex,e=h.steps,n=i*e,t=k*e;if(!this._triggerIsValid(k))return this;if(this.fire("beforeSwitch",{toIndex:k})===false)return this;if(h.hasTriggers)this._switchTrigger(i>
-1?r[i]:null,r[k]);if(m===q)m=k>i?"forward":"backward";this._switchView(l.slice(n,n+e),l.slice(t,t+e),k,m);this.activeIndex=k;return this},_switchTrigger:function(k,m){var h=this.config.activeTriggerCls;k&&v.removeClass(k,h);v.addClass(m,h)},_switchView:function(k,m,h){v.css(k,"display","none");v.css(m,"display","block");this._fireOnSwitch(h)},_fireOnSwitch:function(k){this.fire("switch",{currentIndex:k})},prev:function(){var k=this.activeIndex;this.switchTo(k>0?k-1:this.length-1,"backward")},next:function(){var k=
this.activeIndex;this.switchTo(k<this.length-1?k+1:0,"forward")}});c.Switchable=s},{requires:["core"]});
KISSY.add("autoplay",function(c,q){var s=c.Event,v=c.Switchable;c.mix(v.Config,{autoplay:false,interval:5,pauseOnHover:true});v.Plugins.push({name:"autoplay",init:function(o){function k(){r=c.later(function(){o.paused||o.switchTo(o.activeIndex<o.length-1?o.activeIndex+1:0,"forward")},h,true)}var m=o.config,h=m.interval*1E3,r;if(m.autoplay){if(m.pauseOnHover){s.on(o.container,"mouseenter",function(){if(r){r.cancel();r=q}o.paused=true});s.on(o.container,"mouseleave",function(){o.paused=false;k()})}k()}}})},
{host:"switchable"});
KISSY.add("effect",function(c,q){var s=c.DOM,v=c.Anim,o=c.Switchable,k;c.mix(o.Config,{effect:"none",duration:0.5,easing:"easeNone"});o.Effects={none:function(m,h,r){s.css(m,"display","none");s.css(h,"display","block");r()},fade:function(m,h,r){m.length!==1&&c.error("fade effect only supports steps == 1.");var l=this,i=l.config,e=m[0],n=h[0];l.anim&&l.anim.stop(true);s.css(n,"opacity",1);l.anim=(new v(e,{opacity:0},i.duration,i.easing,function(){l.anim=q;s.css(n,"z-index",9);s.css(e,"z-index",1);
r()})).run()},scroll:function(m,h,r,l){var i=this;m=i.config;h=m.effect==="scrollx";var e={};e[h?"left":"top"]=-(i.viewSize[h?0:1]*l)+"px";i.anim&&i.anim.stop();i.anim=(new v(i.content,e,m.duration,m.easing,function(){i.anim=q;r()})).run()}};k=o.Effects;k.scrollx=k.scrolly=k.scroll;o.Plugins.push({name:"effect",init:function(m){var h=m.config,r=h.effect,l=m.panels,i=m.content,e=h.steps,n=m.activeIndex,t=l.length;m.viewSize=[h.viewSize[0]||l[0].offsetWidth*e,h.viewSize[1]||l[0].offsetHeight*e];if(r!==
"none"){c.each(l,function(b){s.css(b,"display","block")});switch(r){case "scrollx":case "scrolly":s.css(i,"position","absolute");s.css(i.parentNode,"position","relative");if(r==="scrollx"){s.css(l,"float","left");s.width(i,m.viewSize[0]*(t/e))}break;case "fade":var x=n*e,j=x+e-1,a;c.each(l,function(b,g){a=g>=x&&g<=j;s.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(o,{_switchView:function(m,h,r,l){var i=this,e=i.config.effect;(c.isFunction(e)?e:k[e]).call(i,m,h,function(){i._fireOnSwitch(r)},
r,l)}})},{host:"switchable"});
KISSY.add("circular",function(c,q){function s(a,b,g,d,f){var p=this;a=p.config;b=p.length;var u=p.activeIndex,w=a.scrollType===x,y=w?r:l,A=p.viewSize[w?0:1];w=-A*d;var z={},B,C=f===t;if(B=C&&u===0&&d===b-1||f===n&&u===b-1&&d===0)w=v.call(p,p.panels,d,C,y,A);z[y]=w+e;p.anim&&p.anim.stop();p.anim=(new c.Anim(p.content,z,a.duration,a.easing,function(){B&&o.call(p,p.panels,d,C,y,A);p.anim=q;g()})).run()}function v(a,b,g,d,f){var p=this.config.steps;b=this.length;var u=g?b-1:0,w=(u+1)*p;for(p=u*p;p<w;p++){k.css(a[p],
m,h);k.css(a[p],d,(g?-1:1)*f*b)}return g?f:-f*b}function o(a,b,g,d,f){var p=this.config.steps;b=this.length;var u=g?b-1:0,w=(u+1)*p;for(p=u*p;p<w;p++){k.css(a[p],m,i);k.css(a[p],d,i)}k.css(this.content,d,g?-f*(b-1):i)}var k=c.DOM,m="position",h="relative",r="left",l="top",i="",e="px",n="forward",t="backward",x="scrollx",j=c.Switchable;c.mix(j.Config,{circular:false});j.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=a.effect;
a.effect=s}}})},{host:"switchable"});
KISSY.add("lazyload",function(c){var q=c.DOM,s="beforeSwitch",v="img-src",o="area-data",k={},m=c.Switchable;k[v]="data-ks-lazyload-custom";k[o]="ks-datalazyload-custom";c.mix(m.Config,{lazyDataType:o});m.Plugins.push({name:"lazyload",init:function(h){function r(x){var j=e.steps;x=x.toIndex*j;i.loadCustomLazyData(h.panels.slice(x,x+j),n);l()&&h.detach(s,r)}function l(){var x,j,a,b=n===v;if(x=b?"img":n===o?"textarea":""){x=c.query(x,h.container);j=0;for(a=x.length;j<a;j++)if(b?q.attr(x[j],t):q.hasClass(x[j],
t))return false}return true}var i=c.DataLazyload,e=h.config,n=e.lazyDataType,t=k[n];!i||!n||!t||h.on(s,r)}})},{host:"switchable"});KISSY.add("autorender",function(c){c.Switchable.autoRender=function(q,s){q="."+(q||"KS_Widget");c.query(q,s).each(function(v){var o=v.getAttribute("data-widget-type"),k;if(o&&"Switchable Tabs Slide Carousel Accordion".indexOf(o)>-1)try{if(k=v.getAttribute("data-widget-config"))k=k.replace(/'/g,'"');new c[o](v,c.JSON.parse(k))}catch(m){}})}},{host:"switchable"});
KISSY.add("tabs",function(c){function q(s,v){if(!(this instanceof q))return new q(s,v);q.superclass.constructor.call(this,s,v)}c.extend(q,c.Switchable);c.Tabs=q},{host:"switchable"});KISSY.add("slide",function(c){function q(v,o){if(!(this instanceof q))return new q(v,o);q.superclass.constructor.call(this,v,c.merge(s,o))}var s={autoplay:true,circular:true};c.extend(q,c.Switchable);c.Slide=q},{host:"switchable"});
KISSY.add("carousel",function(c,q){function s(i,e){var n=this;if(!(n instanceof s))return new s(i,e);n.on("init",function(){v(n)});s.superclass.constructor.call(n,i,c.merge(l,e))}function v(i){var e=i.config,n=e.disableBtnCls;c.each(["prev","next"],function(t){var x=i[t+"Btn"]=c.get(m+e[t+"BtnCls"],i.container);k.on(x,"click",function(j){j.preventDefault();o.hasClass(x,n)||i[t]()})});e.circular||i.on("switch",function(t){t=t.currentIndex;t=t===0?i[h]:t===i.length-1?i[r]:q;o.removeClass([i[h],i[r]],
n);t&&o.addClass(t,n)});k.on(i.panels,"click focus",function(){i.fire("itemSelected",{item:this})})}var o=c.DOM,k=c.Event,m=".",h="prevBtn",r="nextBtn",l={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(s,c.Switchable);c.Carousel=s},{host:"switchable"});
KISSY.add("accordion",function(c){function q(o,k){if(!(this instanceof q))return new q(o,k);q.superclass.constructor.call(this,o,c.merge(v,k));if(this.config.multiple)this._switchTrigger=function(){}}var s=c.DOM,v={markupType:1,triggerType:"click",multiple:false};c.extend(q,c.Switchable);c.Accordion=q;c.augment(q,{_triggerIsValid:function(o){return this.activeIndex!==o||this.config.multiple},_switchView:function(o,k,m){var h=this.config,r=k[0];if(h.multiple){s.toggleClass(this.triggers[m],h.activeTriggerCls);
s.css(r,"display",r.style.display=="none"?"block":"none");this._fireOnSwitch(m)}else q.superclass._switchView.call(this,o,k,m)}})},{host:"switchable"});
KISSY.add("suggest",function(c,q){function s(d,f,p){if(!(this instanceof s))return new s(d,f,p);this.textInput=c.get(d);f+=f.indexOf("?")===-1?"?":"&";this.dataSource=f+"code=utf-8&callback="+t;this.config=c.merge(g,p);this.queryParams=this.query=x;this._dataCache={};this._init()}function v(d){d.style.visibility=x}function o(d){d.style.visibility=j}function k(d,f){if(f.nodeType===1){m.html(d,x);d.appendChild(f)}else m.html(d,f)}var m=c.DOM,h=c.Event,r=window,l=document,i,e=c.get("head"),n=c.UA.ie,
t="g_ks_suggest_callback",x="",j="hidden",a=parseInt,b=/^(input|button|a)$/i,g={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:n===6,submitOnSelect:true};c.augment(s,c.EventTarget,{_init:function(){i=l.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var d=this,f=d.textInput,p=false,u=0;m.attr(f,"autocomplete","off");d.config.autoFocus&&f.focus();h.on(f,"keydown",function(w){w=
w.keyCode;if(w===27){d.hide();f.value=d.query}else if(w>32&&w<41)if(f.value){if(w===40||w===38)if(u++===0){d._isRunning&&d.stop();p=true;d._selectItem(w===40)}else if(u==3)u=0}else f.blur();else if(w===13){f.blur();if(p)if(f.value==d._getSelectedItemKey())if(d.fire("itemSelect")===false)return;d._submitForm()}else{d._isRunning||d.start();p=false}});h.on(f,"keyup",function(){u=0});h.on(f,"blur",function(){d.stop();c.later(function(){d._focusing||d.hide()},0)})},_initContainer:function(){var d=m.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),f=m.create("<div>",{"class":"ks-suggest-content"}),p=m.create("<div>",{"class":"ks-suggest-footer"});d.appendChild(f);d.appendChild(p);i.insertBefore(d,i.firstChild);this.container=d;this.content=f;this.footer=p;this._initContainerEvent()},_setContainerRegion:function(){var d=this.textInput,f=m.offset(d),p=this.container;m.offset(p,{left:f.left,top:f.top+d.offsetHeight-1});m.width(p,this.config.containerWidth||
d.offsetWidth-2)},_initContainerEvent:function(){var d=this,f=d.textInput,p=d.container,u=d.content,w=d.footer,y,A;h.on(u,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=m.parent(z,"li");if(m.contains(u,z))if(z!==d.selectedItem){d._removeSelectedItem();d._setSelectedItem(z)}});h.on(u,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=m.parent(z,"li");y=z});h.on(p,"mousedown",function(z){if(!b.test(z.target.nodeName)){f.onbeforedeactivate=function(){r.event.returnValue=false;f.onbeforedeactivate=
null};z.preventDefault()}});h.on(u,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=m.parent(B,"li");if(B==y)if(m.contains(u,B)){d._updateInputFromSelectItem(B);if(d.fire("itemSelect")!==false){f.blur();d._submitForm()}}}});h.on(w,"focusin",function(){d._focusing=true;d._removeSelectedItem();A=false});h.on(w,"focusout",function(){d._focusing=false;c.later(function(){if(A)d.hide();else d._focusing||d.textInput.focus()},0)});h.on(d.container,"mouseleave",function(){A=true});
h.on(w,"click",function(z){m.hasClass(z.target,"ks-suggest-closebtn")&&d.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var d=this.textInput.form;if(d)if(this.fire("beforeSubmit",{form:d})!==false){if(l.createEvent){var f=l.createEvent("MouseEvents");f.initEvent("submit",true,false);d.dispatchEvent(f)}else l.createEventObject&&d.fireEvent("onsubmit");d.submit()}}},_initShim:function(){var d=m.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=d;i.insertBefore(d,i.firstChild)},_setShimRegion:function(){var d=this.container,f=d.style,p=d.shim;p&&m.css(p,{left:a(f.left)-2,top:f.top,width:a(f.width)+2,height:m.height(d)-2})},_initStyle:function(){c.get("#ks-suggest-style")||m.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var d=this;h.on(r,"resize",function(){d._setContainerRegion();d._setShimRegion()})},start:function(){var d=this;if(d.fire("beforeStart")!==false){s.focusInstance=d;d._timer=c.later(function(){d._updateContent();d._timer=c.later(arguments.callee,200)},200);d._isRunning=true}},stop:function(){s.focusInstance=q;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var d=this.container,f=d.shim;this._setContainerRegion();
v(d);if(f){this._setShimRegion();v(f)}}},hide:function(){if(this.isVisible()){var d=this.container,f=d.shim;f&&o(f);o(d)}},isVisible:function(){return this.container.style.visibility!=j},_updateContent:function(){var d=this.textInput;if(d.value!=this.query){d=this.query=d.value;if(c.trim(d))if(this._dataCache[d]!==q){this._fillContainer(this._dataCache[d]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var d=this,f;if(!n)d.dataScript=
q;if(!d.dataScript){f=l.createElement("script");f.charset="utf-8";f.async=true;e.insertBefore(f,e.firstChild);d.dataScript=f;if(!n){var p=c.now();d._latestScriptTime=p;m.attr(f,"data-time",p);h.on(f,"load",function(){d._scriptDataIsOut=m.attr(f,"data-time")!=d._latestScriptTime})}}d.queryParams="q="+encodeURIComponent(d.query);if(d.fire("beforeDataRequest")!==false)d.dataScript.src=d.dataSource+"&"+d.queryParams},_handleResponse:function(d){var f=x,p,u,w,y;if(!this._scriptDataIsOut){this.returnedData=
d;if(this.fire("dataReturn",{data:d})!==false){d=this._formatData(this.returnedData);if((p=d.length)>0){u=m.create("<ol>");for(f=0;f<p;++f){w=d[f];w=this._formatItem(y=w.key,w.result);m.attr(w,"key",y);m.addClass(w,f%2?"ks-even":"ks-odd");u.appendChild(w)}f=u}this._fillContainer(f);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=m.html(this.content);this._displayContainer()}}}},_formatData:function(d){var f=[],p,u,w,y=0;if(!d)return f;if(c.isArray(d.result))d=d.result;if(!(p=d.length))return f;
for(w=0;w<p;++w){u=d[w];if(c.isString(u))f[y++]={key:u};else if(c.isArray(u)&&u.length>1)f[y++]={key:u[0],result:u[1]}}return f},_formatItem:function(d,f){var p=m.create("<li>"),u=m.create("<span>",{"class":"ks-suggest-key"});m.html(u,d);p.appendChild(u);if(f){d=this.config.resultFormat.replace("%result%",f);if(c.trim(d)){f=m.create("<span>",{"class":"ks-suggest-result"});m.html(f,d);p.appendChild(f)}}return p},_fillContainer:function(d,f){this._fillContent(d||x);this._fillFooter(f||x)},_fillContent:function(d){k(this.content,
d);this.selectedItem=q},_fillFooter:function(d){var f=this.config,p=this.footer;k(p,d);if(f.closeBtn){d=m.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});m.html(d,f.closeBtnText);p.appendChild(d)}this.fire("updateFooter",{footer:p,query:this.query});m.css(p,"display",m.text(p)?x:"none")},_displayContainer:function(){c.trim(m.text(this.container))?this.show():this.hide()},_selectItem:function(d){var f=c.query("li",this.container);if(f.length!==0)if(this.isVisible()){if(this.selectedItem){d=
m[d?"next":"prev"](this.selectedItem);if(!d)this.textInput.value=this.query}else d=f[d?0:f.length-1];this._removeSelectedItem();if(d){this._setSelectedItem(d);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){m.removeClass(this.selectedItem,"ks-selected");this.selectedItem=q},_setSelectedItem:function(d){m.addClass(d,"ks-selected");this.selectedItem=d;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return m.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});r[t]=function(d){s.focusInstance&&c.later(function(){s.focusInstance._handleResponse(d)},0)};s.version=1.1;c.Suggest=s},{requires:["core"]});
KISSY.add("mask",function(c,q){function s(e){if(!(this instanceof s))return new s(e);e=c.merge(i,e);var n=e.shim,t=n?l:r+e.style,x=n?0:e.opacity,j=v("<iframe>",t,x,!n);if(!n&&m)this.layer=v("<div>",t,x,true);this.config=e;this.iframe=j}function v(e,n,t,x){e=k.create(e);k.attr(e,"style",n);k.css(e,"opacity",t);if(x){k.height(e,k.docHeight());h&&k.width(e,k.docWidth())}document.body.appendChild(e);return e}function o(e,n,t){if(e){k.width(e,n);k.height(e,t)}}var k=c.DOM,m=c.UA.ie,h=m===6,r="position:absolute;left:0;top:0;width:100%;border:0;background:black;z-index:9998;display:none;",
l="position:absolute;z-index:9997;border:0;display:none;",i={shim:false,opacity:0.6,style:""};c.augment(s,{show:function(){k.show([this.iframe,this.layer])},hide:function(){k.hide([this.iframe,this.layer])},toggle:function(){this[k.css(this.iframe,"display")!=="none"?"hide":"show"]()},setSize:function(e,n){o(this.iframe,e,n);o(this.layer,e,n)},setOffset:function(e,n){var t=e;if(n!==q)t={left:e,top:n};k.offset([this.iframe,this.layer],t)}});c.Mask=s});
KISSY.add("overlay",function(c,q){function s(l,i){i=i||{};if(c.isPlainObject(l))i=l;else i.container=l;this.container=c.get(i.container);this.trigger=c.get(i.trigger);i.align=c.merge(c.clone(h.align),i.align);this.config=c.merge(h,i);this._init()}var v=document,o=c.DOM,k=c.Event,m={TL:"tl",TC:"tc",TR:"tr",LC:"cl",CC:"cc",RC:"cr",BL:"bl",BC:"bc",BR:"br"},h={container:null,containerCls:"ks-overlay",bdCls:"ks-overlay-bd",trigger:null,triggerType:"click",width:0,height:0,zIndex:9999,xy:null,align:{node:null,
points:[m.CC,m.CC],offset:[0,0]},mask:false,shim:c.UA.ie===6},r;c.augment(s,c.EventTarget,{_init:function(){this.trigger&&this._bindTrigger()},_bindTrigger:function(){this.config.triggerType==="mouse"?this._bindTriggerMouse():this._bindTriggerClick()},_bindTriggerMouse:function(){var l=this,i=l.trigger,e;k.on(i,"mouseenter",function(){l._clearHiddenTimer();e=c.later(function(){l.show();e=q},100)});k.on(i,"mouseleave",function(){if(e){e.cancel();e=q}l._setHiddenTimer()})},_bindContainerMouse:function(){var l=
this;k.on(l.container,"mouseleave",function(){l._setHiddenTimer()});k.on(l.container,"mouseenter",function(){l._clearHiddenTimer()})},_setHiddenTimer:function(){var l=this;l._hiddenTimer=c.later(function(){l.hide()},120)},_clearHiddenTimer:function(){if(this._hiddenTimer){this._hiddenTimer.cancel();this._hiddenTimer=q}},_bindTriggerClick:function(){var l=this;k.on(l.trigger,"click",function(i){i.halt();l.show()})},show:function(){this._firstShow()},_firstShow:function(){this._prepareMarkup();this._realShow();
this._firstShow=this._realShow},_realShow:function(){this._toggle(false);this._setPosition()},_toggle:function(l){l||o.css(this.container,"display","block");o.css(this.container,"visibility",l?"hidden":"");this.shim&&this.shim.toggle();if(this.config.mask)r[l?"hide":"show"]();this[l?"_unbindUI":"_bindUI"]();this.fire(l?"hide":"show")},hide:function(){this._toggle(true)},_prepareMarkup:function(){var l=this.config,i=this.container;if(l.mask&&!r)r=new c.Mask;if(l.shim)this.shim=new c.Mask({shim:true});
if(i){this.body=c.get("."+l.bdCls,i)||i;i.style.cssText+="visibility:hidden;position:absolute;"}else{i=this.container=o.create(c.substitute('<div class="{containerCls}" style="visibility:hidden;position:absolute;"><div class="{bdCls}">{content}</div></div>',l));this.body=o.children(i)[0];v.body.appendChild(i)}o.css(i,"zIndex",l.zIndex);this.setBody(l.content);this._setSize();l.triggerType==="mouse"&&this._bindContainerMouse()},_setSize:function(l,i){var e=this.config;l=l||e.width;i=i||e.height;l&&
o.width(this.container,l);i&&o.height(this.container,i);this.shim&&this.shim.setSize(l,i)},_setPosition:function(){var l=this.config.xy;l?this.move(l):this.align()},move:function(l,i){if(c.isArray(l)){i=l[1];l=l[0]}l={left:l,top:i};o.offset(this.container,l);this.shim&&this.shim.setOffset(l)},align:function(l,i,e){var n=this.config.align;l=l||n.node;l=l==="trigger"?this.trigger:c.get(l);i=i||n.points;e=e===q?n.offset:e;n=o.offset(this.container);l=this._getAlignOffset(l,i[0]);i=this._getAlignOffset(this.container,
i[1]);i=[i.left-l.left,i.top-l.top];this.move(n.left-i[0]+ +e[0],n.top-i[1]+ +e[1])},_getAlignOffset:function(l,i){var e=i.charAt(0);i=i.charAt(1);var n,t,x;if(l){n=o.offset(l);t=l.offsetWidth;l=l.offsetHeight}else{n={left:o.scrollLeft(),top:o.scrollTop()};t=o.viewportWidth();l=o.viewportHeight()}x=n.left;n=n.top;if(e==="c")n+=l/2;else if(e==="b")n+=l;if(i==="c")x+=t/2;else if(i==="r")x+=t;return{left:x,top:n}},center:function(){this.move((o.viewportWidth()-o.width(this.container))/2+o.scrollLeft(),
(o.viewportHeight()-o.height(this.container))/2+o.scrollTop())},_bindUI:function(){k.on(v,"keydown",this._esc,this)},_unbindUI:function(){k.remove(v,"keydown",this._esc,this)},_esc:function(l){l.keyCode===27&&this.hide()},setBody:function(l){this._setContent("body",l)},_setContent:function(l,i){c.isString(i)&&o.html(this[l],i)}});c.Overlay=s});
KISSY.add("popup",function(c){function q(v,o){if(!(this instanceof q))return new q(v,o);o=o||{};if(c.isPlainObject(v))o=v;else o.container=v;o.align=c.merge(c.clone(s.align),o.align);q.superclass.constructor.call(this,c.merge(s,o))}var s={triggerType:"mouse",align:{node:"trigger",points:["cr","ct"],offset:[10,0]}};c.extend(q,c.Overlay);c.Popup=q},{host:"overlay"});
KISSY.add("dialog",function(c){function q(k,m){if(!(this instanceof q))return new q(k,m);m=m||{};if(c.isPlainObject(k))m=k;else m.container=k;m.align=c.merge(c.clone(o.align),m.align);q.superclass.constructor.call(this,c.merge(o,m));this.manager=c.DialogManager;this.manager.register(this)}var s=c.DOM,v=c.Event,o={header:"",footer:"",containerCls:"ks-overlay ks-dialog",hdCls:"ks-dialog-hd",bdCls:"ks-dialog-bd",ftCls:"ks-dialog-ft",closeBtnCls:"ks-dialog-close",width:400,height:300,closable:true};c.extend(q,
c.Overlay);c.Dialog=q;c.augment(q,c.EventTarget,{_prepareMarkup:function(){var k=this.config;q.superclass._prepareMarkup.call(this);this.header=c.get("."+k.hdCls,this.container);if(!this.header){this.header=s.create("<div>",{"class":k.hdCls});s.insertBefore(this.header,this.body)}this.setHeader(k.header);if(k.footer){this.footer=c.get("."+k.ftCls,this.container);if(!this.footer){this.footer=s.create("<div>",{"class":k.ftCls});this.container.appendChild(this.footer)}this.setFooter(k.footer)}k.closable&&
this._initClose()},_initClose:function(){var k=this,m=s.create("<div>",{"class":k.config.closeBtnCls});s.html(m,"close");v.on(m,"click",function(h){h.halt();k.hide()});k.header.appendChild(m)},setHeader:function(k){this._setContent("header",k)},setFooter:function(k){this._setContent("footer",k)}});c.DialogManager={register:function(k){k instanceof q&&this._dialog.push(k)},_dialog:[],hideAll:function(){c.each(this._dialog,function(k){k&&k.hide()})}}},{host:"overlay"});
KISSY.add("imagezoom",function(c,q){function s(j,a){var b=this,g;if(!(b instanceof s))return new s(j,a);if(b.image=j=c.get(j)){b.config=a=c.merge(x,a);if(!a.bigImageSrc)if((g=r.attr(j,"data-ks-imagezoom"))&&e.test(g))a.bigImageSrc=g;a.offset=c.makeArray(a.offset);if(a.preload)(new Image).src=a.bigImageSrc;v(j,function(){b._init()})}}function v(j,a){j.complete?a():l.on(j,"load",a)}function o(j){return{width:j.clientWidth,height:j.clientHeight}}function k(j){return r.create(i,{"class":j,style:"position:absolute"})}
function m(j,a,b){r.width(j,a);r.height(j,b)}var h=document,r=c.DOM,l=c.Event,i="<div>",e=/^.+\.(jpg|png|gif)$/i,n=Math.round,t=["top","right","bottom","left","inner"],x={type:"standard",bigImageSrc:"",bigImageSize:[900,900],position:"right",offset:10,preload:true,timeout:120,timeoutMsg:"\u56fe\u7247\u6682\u4e0d\u53ef\u7528",zoomSize:[400,310],lensIcon:true,zoomCls:""};c.augment(s,c.EventTarget,{_init:function(){this._renderUI();this._bindUI()},_renderUI:function(){var j=this.config,a=this.image;
this._imgRegion=c.merge(r.offset(a),o(a));j.lensIcon&&this._renderIcon()},_renderIcon:function(){var j=this._imgRegion,a=k("ks-imagezoom-icon");h.body.appendChild(a);r.offset(a,{left:j.left+j.width-r.width(a),top:j.top+j.height-r.height(a)});this.lensIcon=a},_bindUI:function(){var j=this,a;l.on(j.image,"mouseenter",function(){a=c.later(function(){var b=j.config.bigImageSrc;if(j.viewer){if(j._cacheBigImageSrc&&j._cacheBigImageSrc!==b){r.attr(j.bigImage,"src",b);j._cacheBigImageSrc=b;j._updateViewerOnLoad()}}else j._createViewer();
j.show()},100)});l.on(j.image,"mouseleave",function(){if(a){a.cancel();a=q}})},_createViewer:function(){var j=this.config,a;this._renderLens();a=k("ks-imagezoom-viewer "+j.zoomCls);j=r.create("<img>",{src:j.bigImageSrc});a.appendChild(j);h.body.appendChild(a);this.bigImage=j;this.viewer=a;this._setViewerRegion();this._updateViewerOnLoad()},_updateViewerOnLoad:function(){var j=this,a=j.config,b,g=j.bigImage;if(!g.complete){b=c.later(function(){g.complete||j._showTimeoutMsg();b=q},a.timeout*1E3);v(g,
function(){if(b){b.cancel();b=q}j._setViewerRegion()})}},_renderLens:function(){var j=k("ks-imagezoom-lens");r.hide(j);h.body.appendChild(j);this.lens=j},_setViewerRegion:function(){var j=this.config,a=this.viewer,b=this._imgRegion,g=j.zoomSize,d,f,p;this._bigImageSize=f=(p=this.bigImage)?{width:j.bigImageSize[0],height:j.bigImageSize[1]}:o(p);p=g[0];if(p==="auto")p=b.width;g=g[1];if(g==="auto")g=b.height;d=n(p*b.width/f.width);f=n(g*b.height/f.height);this._lensSize=[d,f];m(this.lens,d,f);r.offset(this.lens,
{left:b.left+(b.width-d)/2,top:b.top+(b.height-f)/2});d=b.left+(j.offset[0]||0);f=b.top+(j.offset[1]||0);switch(j.position){case t[0]:f-=g;break;case t[1]:d+=b.width;break;case t[2]:f+=b.height;break;case t[3]:d-=p;break;case t[4]:p=b.width;g=b.height;r.css(a,"cursor","move");break}r.offset(a,{left:d,top:f});m(a,p,g)},_onMouseMove:function(j){var a=this.viewer,b=this.lens,g=this._imgRegion,d=g.left,f=g.top,p=g.width;g=g.height;var u=this._lensSize,w=u[0],y=u[1];if(j.pageX>d&&j.pageX<d+p&&j.pageY>
f&&j.pageY<f+g){u=j.pageX-w/2;j=j.pageY-y/2;if(u<=d)u=d;else if(u>=p+d-w)u=p+d-w;if(j<=f)j=f;else if(j>=g+f-y)j=g+f-y;b&&r.offset(b,{left:u,top:j});a.scrollLeft=n((u-d)*this._bigImageSize.width/p);a.scrollTop=n((j-f)*this._bigImageSize.height/g)}else this.hide()},_showTimeoutMsg:function(){var j=this.config,a=this.viewer,b=c.get("p",a);if(!b){b=r.create("<p>");a.appendChild(b)}r.html(b,j.timeoutMsg)},show:function(){r.show(this.config.position!==t[4]?[this.lens,this.viewer]:this.viewer);r.hide(this.lensIcon);
l.on(h.body,"mousemove",this._onMouseMove,this)},hide:function(){r.hide([this.lens,this.viewer]);r.show(this.lensIcon);l.remove(h.body,"mousemove",this._onMouseMove,this)},set:function(j,a){if(j==="bigImageSrc")if(a&&e.test(a)){this._cacheBigImageSrc=this.config.bigImageSrc;this.config.bigImageSrc=a}}});c.ImageZoom=s});
