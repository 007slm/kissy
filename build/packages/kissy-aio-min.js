/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 15 16:54
*/
(function(c,r,t){if(c[r]===t)c[r]={};r=c[r];var d=c.document,f=location,j=function(g,p,v,x){if(!p||!g)return g;if(v===t)v=true;var o,a,b;if(x&&(b=x.length))for(o=0;o<b;o++){a=x[o];if(a in p)if(v||!(a in g))g[a]=p[a]}else for(a in p)if(v||!(a in g))g[a]=p[a];return g},i=false,k=[],s=false,m=/^#?([\w-]+)$/,l=0;j(r,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var g=d.getElementsByTagName("script");this.Config={debug:"",base:g[g.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(g){s||this._bindReady();i?g.call(c,this):k.push(g);return this},_bindReady:function(){var g=this,p=d.documentElement.doScroll,v=p?"onreadystatechange":"DOMContentLoaded",x=function(){g._fireReady()};s=true;if(d.readyState==="complete")return x();if(d.addEventListener){var o=function(){d.removeEventListener(v,o,false);x()};d.addEventListener(v,o,false);c.addEventListener("load",x,false)}else{var a=function(){if(d.readyState==="complete"){d.detachEvent(v,a);x()}};d.attachEvent(v,
a);c.attachEvent("onload",x);if(c==c.top){var b=function(){try{p("left");x()}catch(n){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!i){i=true;if(k){for(var g,p=0;g=k[p++];)g.call(c,this);k=null}}},available:function(g,p){if((g=(g+"").match(m)[1])&&r.isFunction(p))var v=1,x=r.later(function(){if(d.getElementById(g)&&(p()||1)||++v>500)x.cancel()},40,true)},mix:j,merge:function(){var g={},p,v=arguments.length;for(p=0;p<v;++p)j(g,arguments[p]);return g},augment:function(){var g=arguments,p=g.length-
2,v=g[0],x=g[p],o=g[p+1],a=1;if(!r.isArray(o)){x=o;o=t;p++}if(!r.isBoolean(x)){x=t;p++}for(;a<p;a++)j(v.prototype,g[a].prototype||g[a],x,o);return v},extend:function(g,p,v,x){if(!p||!g)return g;var o=Object.prototype,a=p.prototype,b=function(n){function e(){}e.prototype=n;return new e}(a);g.prototype=b;b.constructor=g;g.superclass=a;if(p!==Object&&a.constructor===o.constructor)a.constructor=p;v&&j(b,v);x&&j(g,x);return g},namespace:function(){var g=arguments.length,p=null,v,x,o;for(v=0;v<g;++v){o=
(""+arguments[v]).split(".");p=this;for(x=c[o[0]]===p?1:0;x<o.length;++x)p=p[o[x]]=p[o[x]]||{}}return p},app:function(g,p){var v=r.isString(g),x=v?c[g]||{}:g;j(x,this,true,r.__APP_MEMBERS);x.__init();j(x,r.isFunction(p)?p():p);v&&(c[g]=x);return x},log:function(g,p,v){if(r.Config.debug){if(v)g=v+": "+g;if(c.console!==t&&console.log)console[p&&console[p]?p:"log"](g)}},error:function(g){if(r.Config.debug)throw g;},guid:function(g){var p=l++ +"";return g?g+p:p}});r.__init();r.__APP_MEMBERS=["__init",
"namespace"];if(f&&(f.search||"").indexOf("ks-debug")!==-1)r.Config.debug=true})(window,"KISSY");
(function(c,r,t){function d(h){var q=typeof h;return h===null||q!=="object"&&q!=="function"}function f(h){return k.slice.call(h)}var j=document,i=j.documentElement,k=Array.prototype,s=k.indexOf,m=k.lastIndexOf,l=k.filter,g=String.prototype.trim,p=Object.prototype.toString,v=encodeURIComponent,x=decodeURIComponent,o=v("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,n=/\S/;r.mix(r,{isUndefined:function(h){return h===t},isBoolean:function(h){return p.call(h)==="[object Boolean]"},isString:function(h){return p.call(h)===
"[object String]"},isNumber:function(h){return p.call(h)==="[object Number]"&&isFinite(h)},isPlainObject:function(h){return h&&p.call(h)==="[object Object]"&&!h.nodeType&&!h.setInterval},isEmptyObject:function(h){for(var q in h)return false;return true},isFunction:function(h){return p.call(h)==="[object Function]"},isArray:function(h){return p.call(h)==="[object Array]"},trim:g?function(h){return h==t?"":g.call(h)}:function(h){return h==t?"":h.toString().replace(a,"")},substitute:function(h,q,u){if(!r.isString(h)||
!r.isPlainObject(q))return h;return h.replace(u||/\\?\{([^{}]+)\}/g,function(w,y){if(w.charAt(0)==="\\")return w.slice(1);return q[y]!==t?q[y]:""})},each:function(h,q,u){var w,y=0,A=h.length,z=A===t||r.isFunction(h);u=u||c;if(z)for(w in h){if(q.call(u,h[w],w,h)===false)break}else for(w=h[0];y<A&&q.call(u,w,y,h)!==false;w=h[++y]);return h},indexOf:s?function(h,q){return s.call(q,h)}:function(h,q){for(var u=0,w=q.length;u<w;++u)if(q[u]===h)return u;return-1},lastIndexOf:m?function(h,q){return m.call(q,
h)}:function(h,q){for(var u=q.length-1;u>=0;u--)if(q[u]===h)break;return u},unique:function(h,q){q&&h.reverse();h=h.slice();for(var u=0,w,y;u<h.length;){for(y=h[u];(w=r.lastIndexOf(y,h))!==u;)h.splice(w,1);u+=1}q&&h.reverse();return h},inArray:function(h,q){return r.indexOf(h,q)>-1},makeArray:function(h){if(h===null||h===t)return[];if(r.isArray(h))return h;if(typeof h.length!=="number"||r.isString(h)||r.isFunction(h))return[h];return f(h)},filter:l?function(h,q,u){return l.call(h,q,u)}:function(h,
q,u){var w=[];r.each(h,function(y,A,z){q.call(u,y,A,z)&&w.push(y)});return w},param:function(h,q){if(!r.isPlainObject(h))return"";q=q||"&";var u=[],w,y;for(w in h){y=h[w];w=v(w);if(d(y))u.push(w,"=",v(y+""),q);else if(r.isArray(y)&&y.length)for(var A=0,z=y.length;A<z;++A)d(y[A])&&u.push(w,o+"=",v(y[A]+""),q)}u.pop();return u.join("")},unparam:function(h,q){if(typeof h!=="string"||(h=r.trim(h)).length===0)return{};var u={};h=h.split(q||"&");for(var w,y,A,z=0,B=h.length;z<B;++z){q=h[z].split("=");w=
x(q[0]);try{y=x(q[1]||"")}catch(C){y=q[1]||""}if((A=w.match(b))&&A[1]){u[A[1]]=u[A[1]]||[];u[A[1]].push(y)}else u[w]=y}return u},later:function(h,q,u,w,y){q=q||0;w=w||{};var A=h,z=r.makeArray(y),B;if(r.isString(h))A=w[h];A||r.error("method undefined");h=function(){A.apply(w,z)};B=u?setInterval(h,q):setTimeout(h,q);return{id:B,interval:u,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(h){var q=h,u,w;if(h&&((u=r.isArray(h))||r.isPlainObject(h))){q=u?[]:{};for(w in h)if(h.hasOwnProperty(w))q[w]=
r.clone(h[w])}return q},now:function(){return(new Date).getTime()},globalEval:function(h){if(h&&n.test(h)){var q=j.getElementsByTagName("head")[0]||i,u=j.createElement("script");u.text=h;q.insertBefore(u,q.firstChild);q.removeChild(u)}}});try{f(i.childNodes)}catch(e){f=function(h){for(var q=[],u=h.length-1;u>=0;u--)q[u]=h[u];return q}}})(window,KISSY);
(function(c,r,t){var d=c.document,f=d.getElementsByTagName("head")[0]||d.documentElement,j=2,i=3,k=4,s=r.mix,m=d.createElement("script").readyState?function(g,p){var v=g.onreadystatechange;g.onreadystatechange=function(){var x=g.readyState;if(x==="loaded"||x==="complete"){g.onreadystatechange=null;v&&v();p.call(this)}}}:function(g,p){g.addEventListener("load",p,false)},l=/\.css(?:\?|$)/i;c={add:function(g,p,v){var x=this.Env.mods,o;if(r.isString(g)&&!v&&r.isPlainObject(p)){o={};o[g]=p;g=o}if(r.isPlainObject(g)){r.each(g,
function(a,b){a.name=b;x[b]&&s(a,x[b],false)});s(x,g)}else{v=v||{};o=x[g]||{};g=v.host||o.host||g;o=x[g]||{};s(o,{name:g,status:j});if(!o.fns)o.fns=[];p&&o.fns.push(p);s(x[g]=o,v);o.attach!==false&&this.__isAttached(o.requires)&&this.__attachMod(o)}return this},use:function(g,p,v){g=g.replace(/\s+/g,"").split(",");v=v||{};var x=this,o=x.Env.mods,a=(v||0).global,b,n=g.length,e,h,q;a&&x.__mixMods(a);if(x.__isAttached(g))p&&p(x);else{for(b=0;b<n&&(e=o[g[b]]);b++)if(e.status!==k){if(v.order&&b>0){if(!e.requires)e.requires=
[];e._requires=e.requires.concat();h=g[b-1];if(!r.inArray(h,e.requires)&&!r.inArray(e.name,o[h].requires||[]))e.requires.push(h)}x.__attach(e,function(){if(!q&&x.__isAttached(g)){q=true;if(e._requires)e.requires=e._requires;p&&p(x)}},a)}return x}},__attach:function(g,p,v){function x(){if(o.__isAttached(a)){g.status===j&&o.__attachMod(g);g.status===k&&p()}}for(var o=this,a=g.requires||[],b=0,n=a.length;b<n;b++)o.__attach(o.Env.mods[a[b]],x,v);o.__buildPath(g);o.__load(g,x,v)},__mixMods:function(g){var p=
this.Env.mods,v=g.Env.mods,x;for(x in v)this.__mixMod(p,v,x,g)},__mixMod:function(g,p,v,x){var o=g[v]||{},a=o.status;r.mix(o,r.clone(p[v]));if(a)o.status=a;x&&this.__buildPath(o,x.Config.base);g[v]=o},__attachMod:function(g){var p=this;if(g.fns){r.each(g.fns,function(v){v&&v(p)});g.fns=t}g.status=k},__isAttached:function(g){for(var p=this.Env.mods,v,x=(g=r.makeArray(g)).length-1;x>=0&&(v=p[g[x]]);x--)if(v.status!==k)return false;return true},__load:function(g,p,v){function x(){o();if(g.status!==i){v&&
a.__mixMod(a.Env.mods,v.Env.mods,g.name,v);if(g.status!==k)g.status=j;p()}}function o(){n[b]=j}var a=this,b=g.fullpath,n=r.Env._loadQueue,e=n[b];g.status=g.status||0;if(g.status<1&&e)g.status=e.nodeName?1:j;if(r.isString(g.cssfullpath)){a.getScript(g.cssfullpath);g.cssfullpath=j}if(g.status<1&&b){g.status=1;e=a.getScript(b,{success:function(){KISSY.log(g.name+" is loaded.","info");x()},error:function(){g.status=i;o()},charset:g.charset});l.test(b)||(n[b]=e)}else g.status===1?m(e,x):p()},__buildPath:function(g,
p){function v(o,a){if(!g[a]&&g[o])g[a]=(p||x.base)+g[o];if(g[a]&&x.debug)g[a]=g[a].replace(/-min/g,"")}var x=this.Config;v("path","fullpath");g.cssfullpath!==j&&v("csspath","cssfullpath")},getScript:function(g,p,v){var x=l.test(g),o=d.createElement(x?"link":"script"),a=p,b,n,e;if(r.isPlainObject(a)){p=a.success;b=a.error;n=a.timeout;v=a.charset}if(x){o.href=g;o.rel="stylesheet"}else{o.src=g;o.async=true}if(v)o.charset=v;if(r.isFunction(p))x?p.call(o):m(o,function(){if(e){e.cancel();e=t}p.call(o)});
if(r.isFunction(b))e=r.later(function(){e=t;b()},(n||this.Config.timeout)*1E3);f.insertBefore(o,f.firstChild);return o}};s(r,c);r.each(c,function(g,p){r.__APP_MEMBERS.push(p)})})(window,KISSY);(function(c){var r={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(t){r[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});r.calendar.csspath="calendar/default-min.css";c.add(r)})(KISSY);
KISSY.add("ua",function(c){var r=navigator.userAgent,t="",d="",f,j={},i=function(k){var s=0;return parseFloat(k.replace(/\./g,function(){return s++===0?".":""}))};if((f=r.match(/AppleWebKit\/([\d.]*)/))&&f[1]){j[t="webkit"]=i(f[1]);if((f=r.match(/Chrome\/([\d.]*)/))&&f[1])j[d="chrome"]=i(f[1]);else if((f=r.match(/\/([\d.]*) Safari/))&&f[1])j[d="safari"]=i(f[1]);if(/ Mobile\//.test(r))j.mobile="apple";else if(f=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=f[0].toLowerCase()}else if((f=
r.match(/Presto\/([\d.]*)/))&&f[1]){j[t="presto"]=i(f[1]);if((f=r.match(/Opera\/([\d.]*)/))&&f[1]){j[d="opera"]=i(f[1]);if((f=r.match(/Opera\/.* Version\/([\d.]*)/))&&f[1])j[d]=i(f[1]);if((f=r.match(/Opera Mini[^;]*/))&&f)j.mobile=f[0].toLowerCase();else if((f=r.match(/Opera Mobi[^;]*/))&&f)j.mobile=f[0]}}else if((f=r.match(/MSIE\s([^;]*)/))&&f[1]){j[t="trident"]=0.1;j[d="ie"]=i(f[1]);if((f=r.match(/Trident\/([\d.]*)/))&&f[1])j[t]=i(f[1])}else if(f=r.match(/Gecko/)){j[t="gecko"]=0.1;if((f=r.match(/rv:([\d.]*)/))&&
f[1])j[t]=i(f[1]);if((f=r.match(/Firefox\/([\d.]*)/))&&f[1])j[d="firefox"]=i(f[1])}j.core=t;j.shell=d;j._numberify=i;c.UA=j});
KISSY.add("ua-extra",function(c){var r=c.UA,t=navigator.userAgent,d,f,j={},i=r._numberify;if(t.match(/360SE/))j[f="se360"]=3;else if(t.match(/Maxthon/)&&(d=window.external)){f="maxthon";try{j[f]=i(d.max_version)}catch(k){j[f]=0.1}}else if(d=t.match(/TencentTraveler\s([\d.]*)/))j[f="tt"]=d[1]?i(d[1]):0.1;else if(t.match(/TheWorld/))j[f="theworld"]=3;else if(d=t.match(/SE\s([\d.]*)/))j[f="sougou"]=d[1]?i(d[1]):0.1;f&&(j.shell=f);c.mix(r,j)});
KISSY.add("dom",function(c,r){function t(d,f){return d&&d.nodeType===f}c.DOM={_isElementNode:function(d){return t(d,1)},_isKSNode:function(d){return c.Node&&t(d,c.Node.TYPE)},_getWin:function(d){return d&&"scrollTo"in d&&d.document?d:t(d,9)?d.defaultView||d.parentWindow:d===r?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(c,r){function t(b,n){var e,h=[],q,u;n=f(n);if(c.isString(b)){b=c.trim(b);if(o.test(b)){if(b=j(b.slice(1),n))h=[b]}else if(e=a.exec(b)){q=e[1];u=e[2];e=e[3];if(n=q?j(q,n):n)if(e)if(!q||b.indexOf(g)!==-1)h=k(e,u,n);else{if((b=j(q,n))&&l.hasClass(b,e))h=[b]}else if(u)h=i(u,n)}else if(c.ExternalSelector)return c.ExternalSelector(b,n);else s(b)}else if(b&&(b[v]||b[x]))h=b[v]?[b[v]()]:b[x]();else if(b&&(c.isArray(b)||d(b)))h=b;else if(b)h=[b];if(d(h))h=c.makeArray(h);h.each=
function(w,y){return c.each(h,w,y)};return h}function d(b){return b&&!b.nodeType&&b.item&&b!=window}function f(b){if(b===r)b=m;else if(c.isString(b)&&o.test(b))b=j(b.slice(1),m);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function j(b,n){if(n.nodeType!==9)n=n.ownerDocument;return n.getElementById(b)}function i(b,n){return n.getElementsByTagName(b)}function k(b,n,e){e=b=e.getElementsByClassName(b);var h=0,q=0,u=b.length,w;if(n&&n!==p){e=[];for(n=n.toUpperCase();h<u;++h){w=b[h];if(w.tagName===
n)e[q++]=w}}return e}function s(b){c.error("Unsupported selector: "+b)}var m=document,l=c.DOM,g=" ",p="*",v="getDOMNode",x=v+"s",o=/^#[\w-]+$/,a=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=m.createElement("div");b.appendChild(m.createComment(""));if(b.getElementsByTagName(p).length>0)i=function(n,e){e=e.getElementsByTagName(n);if(n===p){n=[];for(var h=0,q=0,u;u=e[h++];)if(u.nodeType===1)n[q++]=u;e=n}return e}})();m.getElementsByClassName||(k=m.querySelectorAll?function(b,n,e){return e.querySelectorAll((n?
n:"")+"."+b)}:function(b,n,e){n=e.getElementsByTagName(n||p);e=[];var h=0,q=0,u=n.length,w,y;for(b=g+b+g;h<u;++h){w=n[h];if((y=w.className)&&(g+y+g).indexOf(b)>-1)e[q++]=w}return e});c.query=t;c.get=function(b,n){return t(b,n)[0]||null};c.mix(l,{query:t,get:c.get,filter:function(b,n){var e=t(b),h,q,u,w=[];if(c.isString(n)&&(h=a.exec(n))&&!h[1]){q=h[2];u=h[3];n=function(y){return!(q&&y.tagName!==q.toUpperCase()||u&&!l.hasClass(y,u))}}if(c.isFunction(n))w=c.filter(e,n);else if(n&&c.ExternalSelector)w=
c.ExternalSelector._filter(b,n);else s(n);return w},test:function(b,n){b=t(b);return l.filter(b,n).length===b.length}})});
KISSY.add("dom-data",function(c,r){function t(m){return m&&m.nodeType}var d=window,f=c.DOM,j="_ks_data_"+c.now(),i={},k={},s={EMBED:1,OBJECT:1,APPLET:1};c.mix(f,{data:function(m,l,g){if(c.isPlainObject(l))for(var p in l)f.data(m,p,l[p]);else if(g===r){m=c.get(m);var v;if(!(!m||s[m.nodeName])){if(m==d)m=k;v=(p=t(m))?i:m;m=v[p?m[j]:j];if(c.isString(l)&&m)return m[l];return m}}else c.query(m).each(function(x){if(!(!x||s[x.nodeName])){if(x==d)x=k;var o=i,a;if(t(x)){if(!(a=x[j]))a=x[j]=c.guid()}else{a=
j;o=x}if(l&&g!==r){o[a]||(o[a]={});o[a][l]=g}}})},removeData:function(m,l){c.query(m).each(function(g){if(g){if(g==d)g=k;var p,v=i,x,o=t(g);if(o)p=g[j];else{v=g;p=j}if(p){x=v[p];if(l){if(x){delete x[l];c.isEmptyObject(x)&&f.removeData(g)}}else{if(o)g.removeAttribute&&g.removeAttribute(j);else try{delete g[j]}catch(a){}o&&delete v[p]}}}})}})});
KISSY.add("dom-class",function(c,r){function t(i,k,s,m){if(!(k=c.trim(k)))return m?false:r;i=c.query(i);var l=0,g=i.length;k=k.split(f);for(var p;l<g;l++){p=i[l];if(d._isElementNode(p)){p=s(p,k,k.length);if(p!==r)return p}}if(m)return false}var d=c.DOM,f=/[\.\s]\s*\.?/,j=/[\n\t]/g;c.mix(d,{hasClass:function(i,k){return t(i,k,function(s,m,l){if(s=s.className){s=" "+s+" ";for(var g=0,p=true;g<l;g++)if(s.indexOf(" "+m[g]+" ")<0){p=false;break}if(p)return true}},true)},addClass:function(i,k){t(i,k,function(s,
m,l){var g=s.className;if(g){var p=" "+g+" ";g=g;for(var v=0;v<l;v++)if(p.indexOf(" "+m[v]+" ")<0)g+=" "+m[v];s.className=c.trim(g)}else s.className=k})},removeClass:function(i,k){t(i,k,function(s,m,l){var g=s.className;if(g)if(l){g=(" "+g+" ").replace(j," ");for(var p=0,v;p<l;p++)for(v=" "+m[p]+" ";g.indexOf(v)>=0;)g=g.replace(v," ");s.className=c.trim(g)}else s.className=""})},replaceClass:function(i,k,s){d.removeClass(i,k);d.addClass(i,s)},toggleClass:function(i,k,s){var m=c.isBoolean(s),l;t(i,
k,function(g,p,v){for(var x=0,o;x<v;x++){o=p[x];l=m?!s:d.hasClass(g,o);d[l?"removeClass":"addClass"](g,o)}})}})});
KISSY.add("dom-attr",function(c,r){function t(o,a){return a&&a.nodeName.toUpperCase()===o.toUpperCase()}var d=c.UA,f=d.ie,j=f&&f<8,i=document.documentElement.textContent!==r?"textContent":"innerText",k=c.DOM,s=k._isElementNode,m=function(o){return k._nodeTypeIs(o,3)},l=/href|src|style/,g=/href|src|colspan|rowspan/,p=/\r/g,v=/radio|checkbox/,x={readonly:"readOnly"};j&&c.mix(x,{"for":"htmlFor","class":"className"});c.mix(k,{attr:function(o,a,b){if(c.isPlainObject(a))for(var n in a)k.attr(o,n,a[n]);
else if(a=c.trim(a)){a=a.toLowerCase();a=x[a]||a;if(b===r){o=c.get(o);if(!s(o))return r;var e;l.test(a)||(e=o[a]);if(e===r)e=o.getAttribute(a);if(j)if(g.test(a))e=o.getAttribute(a,2);else if(a==="style")e=o.style.cssText;return e===null?r:e}c.each(c.query(o),function(h){if(s(h))if(a==="style")h.style.cssText=b;else{if(a==="checked")h[a]=!!b;h.setAttribute(a,""+b)}})}},removeAttr:function(o,a){c.each(c.query(o),function(b){if(s(b)){k.attr(b,a,"");b.removeAttribute(a)}})},val:function(o,a){if(a===r){var b=
c.get(o);if(!s(b))return r;if(t("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(t("select",b)){var n=b.selectedIndex;o=b.options;if(n<0)return null;else if(b.type==="select-one")return k.val(o[n]);b=[];for(var e=0,h=o.length;e<h;++e)o[e].selected&&b.push(k.val(o[e]));return b}if(d.webkit&&v.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(p,"")}c.each(c.query(o),function(q){if(t("select",q)){if(c.isNumber(a))a+="";var u=c.makeArray(a),
w=q.options,y;e=0;for(h=w.length;e<h;++e){y=w[e];y.selected=c.inArray(k.val(y),u)}if(!u.length)q.selectedIndex=-1}else if(s(q))q.value=a})},text:function(o,a){if(a===r){o=c.get(o);if(s(o))return o[i]||"";else if(m(o))return o.nodeValue}else c.each(c.query(o),function(b){if(s(b))b[i]=a;else if(m(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,r){function t(a,b){var n=c.get(a),e=b===s?n.offsetWidth:n.offsetHeight;c.each(b===s?["Left","Right"]:["Top","Bottom"],function(h){e-=parseFloat(f._getComputedStyle(n,"padding"+h))||0;e-=parseFloat(f._getComputedStyle(n,"border"+h+"Width"))||0});return e}function d(a,b,n){var e=n;if(n===m&&g.test(b)){e=0;if(f.css(a,"position")==="absolute"){n=a[b==="left"?"offsetLeft":"offsetTop"];if(j.ie===8||j.opera)n-=l(f.css(a.offsetParent,"border-"+b+"-width"))||0;e=n-(l(f.css(a,
"margin-"+b))||0)}}return e}var f=c.DOM,j=c.UA,i=document,k=i.documentElement,s="width",m="auto",l=parseInt,g=/^left|top$/,p=/width|height|top|left|right|bottom|margin|padding/i,v=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},o={};c.mix(f,{_CUSTOM_STYLES:o,_getComputedStyle:function(a,b){var n="",e=a.ownerDocument;if(a.style)n=e.defaultView.getComputedStyle(a,null)[b];return n},css:function(a,b,n){if(c.isPlainObject(b))for(var e in b)f.css(a,e,b[e]);else{if(b.indexOf("-")>0)b=b.replace(v,x);
b=o[b]||b;if(n===r){a=c.get(a);e="";if(a&&a.style){e=b.get?b.get(a):a.style[b];if(e===""&&!b.get)e=d(a,b,f._getComputedStyle(a,b))}return e===r?"":e}else{if(n===null||n==="")n="";else if(!isNaN(new Number(n))&&p.test(b))n+="px";(b===s||b==="height")&&parseFloat(n)<0||c.each(c.query(a),function(h){if(h&&h.style){b.set?b.set(h,n):(h.style[b]=n);if(n==="")h.style.cssText||h.removeAttribute("style")}})}}},width:function(a,b){if(b===r)return t(a,s);else f.css(a,s,b)},height:function(a,b){if(b===r)return t(a,
"height");else f.css(a,"height",b)},show:function(a){c.query(a).each(function(b){b.style.display=f.data(b,"display")||""})},hide:function(a){c.query(a).each(function(b){var n=b.style,e=n.display;if(e!=="none"){e&&f.data(b,"display",e);n.display="none"}})},toggle:function(a){c.query(a).each(function(b){if(b)b.style.display==="none"?f.show(b):f.hide(b)})},addStyleSheet:function(a,b){var n;if(b)n=c.get("#"+b);if(!n){n=f.create("<style>",{id:b});c.get("head").appendChild(n);if(n.styleSheet)n.styleSheet.cssText=
a;else n.appendChild(i.createTextNode(a))}}});if(k.style.cssFloat!==r)o["float"]="cssFloat";else if(k.style.styleFloat!==r)o["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,r){if(c.UA.ie){var t=c.DOM;c=document;var d=c.documentElement,f=t._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,i=/^-?\d/,k=/^width|height$/;try{if(d.style.opacity===r&&d.filters)f.opacity={get:function(m){var l=100;try{l=m.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(g){try{l=m.filters("alpha").opacity}catch(p){}}return l/100+""},set:function(m,l){var g=m.style;m=(m.currentStyle||0).filter||"";g.zoom=1;if(m)if(m=m.replace(/alpha\(opacity=.+\)/ig,""))m+=", ";
g.filter=m+"alpha(opacity="+l*100+")"}}}catch(s){}if(!(c.defaultView||{}).getComputedStyle&&d.currentStyle)t._getComputedStyle=function(m,l){var g=m.style,p=m.currentStyle[l];if(k.test(l))p=t[l](m)+"px";else if(!j.test(p)&&i.test(p)){var v=g.left,x=m.runtimeStyle.left;m.runtimeStyle.left=m.currentStyle.left;g.left=l==="fontSize"?"1em":p||0;p=g.pixelLeft+"px";g.left=v;m.runtimeStyle.left=x}return p}}});
KISSY.add("dom-offset",function(c,r){function t(u){var w=0,y=0,A=l(u[a]);if(u[q]){u=u[q]();w=u[b];y=u[n];if(j.mobile!=="apple"){w+=f[e](A);y+=f[h](A)}}return{left:w,top:y}}function d(u,w){if(f.css(u,x)==="static")u.style[x]=o;var y=t(u),A={},z,B;for(B in w){z=v(f.css(u,B),10)||0;A[B]=z+w[B]-y[B]}f.css(u,A)}var f=c.DOM,j=c.UA,i=window,k=document,s=f._isElementNode,m=f._nodeTypeIs,l=f._getWin,g=k.compatMode==="CSS1Compat",p=Math.max,v=parseInt,x="position",o="relative",a="ownerDocument",b="left",n=
"top",e="scrollLeft",h="scrollTop",q="getBoundingClientRect";c.mix(f,{offset:function(u,w){if(!(u=c.get(u))||!u[a])return null;if(w===r)return t(u);d(u,w)},scrollIntoView:function(u,w,y,A){if((u=c.get(u))&&u[a]){A=A===r?true:!!A;y=y===r?true:!!y;if(!w||w===i)return u.scrollIntoView(y);w=c.get(w);if(m(w,9))w=l(w);var z=w&&"scrollTo"in w&&w.document,B=f.offset(u),C=z?{left:f.scrollLeft(w),top:f.scrollTop(w)}:f.offset(w),D={left:B[b]-C[b],top:B[n]-C[n]};B=z?f.viewportHeight(w):w.clientHeight;C=z?f.viewportWidth(w):
w.clientWidth;var E=f[e](w),F=f[h](w),G=E+C,M=F+B,I=u.offsetHeight;u=u.offsetWidth;var H=D.left+E-(v(f.css(w,"borderLeftWidth"))||0);D=D.top+F-(v(f.css(w,"borderTopWidth"))||0);var N=H+u,J=D+I,K,L;if(I>B||D<F||y)K=D;else if(J>M)K=J-B;if(A)if(u>C||H<E||y)L=H;else if(N>G)L=N-C;if(z){if(K!==r||L!==r)w.scrollTo(L,K)}else{if(K!==r)w[h]=K;if(L!==r)w[e]=L}}}});c.each(["Left","Top"],function(u,w){var y="scroll"+u;f[y]=function(A){var z=0,B=l(A),C;if(B&&(C=B.document))z=B[w?"pageYOffset":"pageXOffset"]||C.documentElement[y]||
C.body[y];else if(s(A=c.get(A)))z=A[y];return z}});c.each(["Width","Height"],function(u){f["doc"+u]=function(w){w=w||k;return p(g?w.documentElement["scroll"+u]:w.body["scroll"+u],f["viewport"+u](w))};f["viewport"+u]=function(w){var y="inner"+u;w=l(w);var A=w.document;return y in w?w[y]:g?A.documentElement["client"+u]:A.body["client"+u]}})});
KISSY.add("dom-traversal",function(c,r){function t(i,k,s,m){if(!(i=c.get(i)))return null;if(k===r)k=1;var l=null,g,p;if(c.isNumber(k)&&k>=0){if(k===0)return i;g=0;p=k;k=function(){return++g===p}}for(;i=i[s];)if(j(i)&&(!k||f.test(i,k))&&(!m||m(i))){l=i;break}return l}function d(i,k,s){var m=[];var l=i=c.get(i);if(i&&s)l=i.parentNode;if(l){s=0;for(l=l.firstChild;l;l=l.nextSibling)if(j(l)&&l!==i&&(!k||f.test(l,k)))m[s++]=l}return m}var f=c.DOM,j=f._isElementNode;c.mix(f,{parent:function(i,k){return t(i,
k,"parentNode",function(s){return s.nodeType!=11})},next:function(i,k){return t(i,k,"nextSibling")},prev:function(i,k){return t(i,k,"previousSibling")},siblings:function(i,k){return d(i,k,true)},children:function(i,k){return d(i,k)},contains:function(i,k){var s=false;if((i=c.get(i))&&(k=c.get(k)))if(i.contains)return i.contains(k);else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(k)&16);else for(;!s&&(k=k.parentNode);)s=k==i;return s}})});
KISSY.add("dom-create",function(c,r){function t(A,z){p(A)&&c.isPlainObject(z)&&s.attr(A,z);return A}function d(A,z){var B=null,C;if(A&&(A.push||A.item)&&A[0]){z=z||A[0].ownerDocument;B=z.createDocumentFragment();if(A.item)A=c.makeArray(A);z=0;for(C=A.length;z<C;z++)B.appendChild(A[z])}return B}function f(A){var z=A.cloneNode(true);if(m.ie<8)z.innerHTML=A.innerHTML;return z}function j(A,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+D+'"></span>';c.available(D,function(){var F=
c.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(n):false)&&I[2]){G=k.createElement("script");G.src=I[2];if((H=M.match(e))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)c.globalEval(J);(N=k.getElementById(D))&&s.remove(N);c.isFunction(C)&&C()});i(A,z)}else{i(A,z);c.isFunction(C)&&C()}}function i(A,z){z=(z+"").replace(a,"");try{A.innerHTML=z}catch(B){for(;A.firstChild;)A.removeChild(A.firstChild);z&&A.appendChild(s.create(z))}}var k=
document,s=c.DOM,m=c.UA,l=m.ie,g=s._nodeTypeIs,p=s._isElementNode,v=s._isKSNode,x=k.createElement("div"),o=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/\ssrc=(['"])(.*?)\1/i,e=/\scharset=(['"])(.*?)\1/i;c.mix(s,{create:function(A,z,B){if(g(A,1)||g(A,3))return f(A);if(v(A))return f(A[0]);if(!(A=c.trim(A)))return null;var C=null;C=s._creators;var D,E="div",F;if(D=b.exec(A))C=(B||k).createElement(D[1]);else{if((D=o.exec(A))&&(F=D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=
F;A=C[E](A,B).childNodes;C=A.length===1?A[0].parentNode.removeChild(A[0]):d(A,B||k)}return t(C,z)},_creators:{div:function(A,z){z=z?z.createElement("div"):x;z.innerHTML=A;return z}},html:function(A,z,B,C){if(z===r){A=c.get(A);if(p(A))return A.innerHTML}else c.each(c.query(A),function(D){p(D)&&j(D,z,B,C)})},remove:function(A){c.each(c.query(A),function(z){p(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(m.gecko||l){var h=s._creators,q=s.create,u=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
w={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var y in w)(function(A){h[y]=function(z,B){return q("<"+A+">"+z+"</"+A+">",null,B)}})(w[y]);if(l){h.script=function(A,z){z=z?z.createElement("div"):x;z.innerHTML="-"+A;z.removeChild(z.firstChild);return z};if(l<8)h.tbody=function(A,z){z=q("<table>"+A+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!u.test(A)&&B.parentNode.removeChild(B);return z}}c.mix(h,{optgroup:h.option,th:h.td,
thead:h.tbody,tfoot:h.tbody,caption:h.tbody,colgroup:h.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(r,t){if((r=c.get(r))&&(t=c.get(t))&&t.parentNode)t.parentNode.insertBefore(r,t);return r},insertAfter:function(r,t){if((r=c.get(r))&&(t=c.get(t))&&t.parentNode)t.nextSibling?t.parentNode.insertBefore(r,t.nextSibling):t.parentNode.appendChild(r);return r}})});
KISSY.add("event",function(c,r){function t(a,b,n,e,h){if(c.isString(b))b=c.query(b);if(c.isArray(b)){c.each(b,function(q){o[a](q,n,e,h)});return true}if((n=c.trim(n))&&n.indexOf(p)>0){c.each(n.split(p),function(q){o[a](b,q,e,h)});return true}}function d(a){return i(a)?s.data(a,g):-1}function f(a,b){i(a)&&s.data(a,g,b)}function j(a){s.removeData(a,g)}function i(a){return a&&a.nodeType!==3&&a.nodeType!==8}var k=document,s=c.DOM,m=k.addEventListener?function(a,b,n,e){a.addEventListener&&a.addEventListener(b,
n,!!e)}:function(a,b,n){a.attachEvent&&a.attachEvent("on"+b,n)},l=k.removeEventListener?function(a,b,n,e){a.removeEventListener&&a.removeEventListener(b,n,!!e)}:function(a,b,n){a.detachEvent&&a.detachEvent("on"+b,n)},g="ksEventTargetId",p=" ",v=c.now(),x={},o={EVENT_GUID:g,special:{},add:function(a,b,n,e){if(!t("add",a,b,n,e)){var h=d(a),q,u,w,y,A;if(!(h===-1||!b||!c.isFunction(n))){if(!h){f(a,h=v++);x[h]={target:a,events:{}}}u=x[h].events;if(!u[b]){q=((h=!a.isCustomEventTarget)||a._supportSpecialEvent)&&
o.special[b]||{};w=function(z,B){if(!z||!z.fixed){z=new c.EventObject(a,z,b);c.isPlainObject(B)&&c.mix(z,B)}q.setup&&q.setup(z);return(q.handle||o._handle)(a,z,u[b].listeners)};u[b]={handle:w,listeners:[]};y=q.fix||b;A=q.capture;if(h)m(a,y,w,A);else a._addEvent&&a._addEvent(y,w,A)}u[b].listeners.push({fn:n,scope:e||a})}}},remove:function(a,b,n,e){if(!t("remove",a,b,n,e)){var h=d(a),q,u,w,y,A,z,B;if(h!==-1)if(h&&(q=x[h]))if(q.target===a){e=e||a;q=q.events||{};if(u=q[b]){w=u.listeners;z=w.length;if(c.isFunction(n)&&
z){A=y=0;for(B=[];y<z;++y)if(n!==w[y].fn||e!==w[y].scope)B[A++]=w[y];u.listeners=B;z=B.length}if(n===r||z===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,u.handle);else{n=o.special[b]||{};l(a,n.fix||b,u.handle)}delete q[b]}}if(b===r||c.isEmptyObject(q)){for(b in q)o.remove(a,b);delete x[h];j(a)}}}},_handle:function(a,b,n){n=n.slice(0);for(var e,h=0,q=n.length;h<q;++h){e=n[h];e=e.fn.call(e.scope||a,b);if(e===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return e},
_getCache:function(a){return x[a]},_simpleAdd:m,_simpleRemove:l};o.on=o.add;c.Event=o});
KISSY.add("event-object",function(c,r){function t(j,i,k){this.currentTarget=j;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=k;this.target=j}this.currentTarget=j;this.fixed=true}var d=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(t,
{_fix:function(){var j=this.originalEvent,i=f.length,k,s=this.currentTarget;for(s=s.nodeType===9?s:s.ownerDocument||d;i;){k=f[--i];this[k]=j[k]}if(!this.target)this.target=this.srcElement||d;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){j=s.documentElement;i=s.body;this.pageX=this.clientX+(j&&j.scrollLeft||i&&i.scrollLeft||
0)-(j&&j.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||i&&i.scrollTop||0)-(j&&j.clientTop||i&&i.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=t});
KISSY.add("event-target",function(c,r){var t=c.Event;c.EventTarget={isCustomEventTarget:true,fire:function(d,f){var j=c.DOM.data(this,t.EVENT_GUID)||-1;if((d=((t._getCache(j)||{}).events||{})[d])&&c.isFunction(d.handle))return d.handle(r,f);return this},on:function(d,f,j){t.add(this,d,f,j);return this},detach:function(d,f,j){t.remove(this,d,f,j);return this}}});
KISSY.add("event-mouseenter",function(c){var r=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){r.special[t.name]={fix:t.fix,setup:function(d){d.type=t.name},handle:function(d,f,j){var i=f.relatedTarget;try{for(;i&&i!==d;)i=i.parentNode;i!==d&&r._handle(d,f,j)}catch(k){}}}})});
KISSY.add("event-focusin",function(c){var r=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){r.special[t.name]={fix:t.fix,capture:true,setup:function(d){d.type=t.name}}})});
KISSY.add("node",function(c){function r(f,j,i){var k;if(!(this instanceof r))return new r(f,j,i);if(f){if(c.isString(f))k=t.create(f,j,i);else if(d(f,1)||d(f,3))k=f;else if(f instanceof r)return f;this[0]=k}else this.length=0}var t=c.DOM,d=t._nodeTypeIs;r.TYPE="-ks-Node";c.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});c.one=function(f,j){return(f=c.get(f,j))?new r(f):null};c.Node=r});
KISSY.add("nodelist",function(c){function r(f){if(!(this instanceof r))return new r(f);d.push.apply(this,f||[])}var t=c.DOM,d=Array.prototype;c.mix(r.prototype,{length:0,item:function(f){var j=null;if(t._isElementNode(this[f]))j=new c.Node(this[f]);return j},getDOMNodes:function(){return d.slice.call(this)},each:function(f,j){var i=this.length,k=0,s;for(s=new c.Node(this[0]);k<i&&f.call(j||s,s,k,this)!==false;s=new c.Node(this[++k]));return this}});c.all=function(f,j){return new r(c.query(f,j,true))};
c.NodeList=r});
KISSY.add("node-attach",function(c,r){function t(o,arguments,a,b){var n=[this[o?g:l]()].concat(c.makeArray(arguments));if(arguments[a]===r)return b.apply(f,n);else{b.apply(f,n);return this}}function d(o,a){c.each(o,function(b){c.each([s,m],function(n,e){n[b]=function(h){switch(a){case p:return function(){return t.call(this,e,arguments,1,h)};case v:return function(){return t.call(this,e,arguments,0,h)};case x:return function(){var q=this[e?g:l]();return(q=h.apply(f,[q].concat(c.makeArray(arguments))))?new (c[c.isArray(q)?
"NodeList":"Node"])(q):null};default:return function(){var q=this[e?g:l]();q=h.apply(f,[q].concat(c.makeArray(arguments)));return q===r?this:q}}}(f[b])})})}var f=c.DOM,j=c.Event,i=f._nodeTypeIs,k=f._isKSNode,s=c.Node.prototype,m=c.NodeList.prototype,l="getDOMNode",g=l+"s",p=1,v=2,x=4;c.mix(s,{one:function(o){return c.one(o,this[0])},all:function(o){return c.all(o,this[0])}});d(["data","removeData"],p);d(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);d(["attr","removeAttr"],p);
d(["val","text"],v);d(["css"],p);d(["width","height"],v);d(["show","hide","toggle"]);d(["offset"],v);d(["scrollIntoView"]);d(["parent","next","prev","siblings","children"],x);d(["contains"]);d(["html"],v);d(["remove"]);c.each(["insertBefore","insertAfter"],function(o){s[o]=function(a){f[o].call(f,this[0],a);return this}});c.each([s,m],function(o,a){c.mix(o,{append:function(b){b&&c.each(this,function(n){var e;if(a||c.isString(b))e=f.create(b);else{if(i(b,1)||i(b,3))e=b;if(k(b))e=b[0]}n.appendChild(e)});
return this},appendTo:function(b){if((b=c.get(b))&&b.appendChild)c.each(this,function(n){b.appendChild(n)});return this}})});c.each([s,m],function(o){c.mix(o,c.EventTarget,{_supportSpecialEvent:true});o._addEvent=function(a,b,n){for(var e=0,h=this.length;e<h;e++)j._simpleAdd(this[e],a,b,n)};o._removeEvent=function(a,b,n){for(var e=0,h=this.length;e<h;e++)j._simpleRemove(this[e],a,b,n)};delete o.fire})});
KISSY.add("cookie",function(c){function r(j){return c.isString(j)&&j!==""}var t=document,d=encodeURIComponent,f=decodeURIComponent;c.Cookie={get:function(j){var i;if(r(j))if(j=t.cookie.match("(?:^| )"+j+"(?:(?:=([^;]*))|;|$)"))i=j[1]?f(j[1]):"";return i},set:function(j,i,k,s,m,l){i=d(i);var g=k;if(typeof g==="number"){g=new Date;g.setTime(g.getTime()+k*864E5)}if(g instanceof Date)i+="; expires="+g.toUTCString();if(r(s))i+="; domain="+s;if(r(m))i+="; path="+m;if(l)i+="; secure";t.cookie=j+"="+i},remove:function(j,
i,k,s){this.set(j,"",0,i,k,s)}}});
KISSY.add("json",function(c){function r(l){return l<10?"0"+l:l}function t(l){j.lastIndex=0;return j.test(l)?'"'+l.replace(j,function(g){var p=s[g];return typeof p==="string"?p:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'}function d(l,g){var p,v,x=i,o,a=g[l];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(l);if(typeof m==="function")a=m.call(g,l,a);switch(typeof a){case "string":return t(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";i+=k;o=[];if(Object.prototype.toString.apply(a)==="[object Array]"){v=a.length;for(l=0;l<v;l+=1)o[l]=d(l,a)||"null";g=o.length===0?"[]":i?"[\n"+i+o.join(",\n"+i)+"\n"+x+"]":"["+o.join(",")+"]";i=x;return g}if(m&&typeof m==="object"){v=m.length;for(l=0;l<v;l+=1){p=m[l];if(typeof p==="string")if(g=d(p,a))o.push(t(p)+(i?": ":":")+g)}}else for(p in a)if(Object.hasOwnProperty.call(a,p))if(g=d(p,a))o.push(t(p)+(i?": ":":")+g);g=o.length===0?"{}":i?"{\n"+i+o.join(",\n"+i)+
"\n"+x+"}":"{"+o.join(",")+"}";i=x;return g}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,k,s={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof c.stringify!=="function")c.stringify=function(l,g,p){var v;k=i="";if(typeof p==="number")for(v=0;v<p;v+=1)k+=" ";else if(typeof p==="string")k=p;if((m=g)&&typeof g!=="function"&&(typeof g!=="object"||typeof g.length!=="number"))throw new Error("JSON.stringify");return d("",
{"":l})};if(typeof c.parse!=="function")c.parse=function(l,g){function p(v,x){var o,a,b=v[x];if(b&&typeof b==="object")for(o in b)if(Object.hasOwnProperty.call(b,o)){a=p(b,o);if(a!==undefined)b[o]=a;else delete b[o]}return g.call(v,x,b)}l=String(l);f.lastIndex=0;if(f.test(l))l=l.replace(f,function(v){return"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(l.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){l=eval("("+l+")");return typeof g==="function"?p({"":l},""):l}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var r=Math,t=r.PI,d=r.pow,f=r.sin,j=1.70158,i={easeNone:function(k){return k},easeIn:function(k){return k*k},easeOut:function(k){return(2-k)*k},easeBoth:function(k){return(k*=2)<1?0.5*k*k:0.5*(1- --k*(k-2))},easeInStrong:function(k){return k*k*k*k},easeOutStrong:function(k){return 1- --k*k*k*k},easeBothStrong:function(k){return(k*=2)<1?0.5*k*k*k*k:0.5*(2-(k-=2)*k*k*k)},elasticIn:function(k){if(k===0||k===1)return k;return-(d(2,10*(k-=1))*f((k-0.075)*2*t/0.3))},
elasticOut:function(k){if(k===0||k===1)return k;return d(2,-10*k)*f((k-0.075)*2*t/0.3)+1},elasticBoth:function(k){if(k===0||(k*=2)===2)return k;if(k<1)return-0.5*d(2,10*(k-=1))*f((k-0.1125)*2*t/0.45);return d(2,-10*(k-=1))*f((k-0.1125)*2*t/0.45)*0.5+1},backIn:function(k){if(k===1)k-=0.0010;return k*k*((j+1)*k-j)},backOut:function(k){return(k-=1)*k*((j+1)*k+j)+1},backBoth:function(k){if((k*=2)<1)return 0.5*k*k*(((j*=1.525)+1)*k-j);return 0.5*((k-=2)*k*(((j*=1.525)+1)*k+j)+2)},bounceIn:function(k){return 1-
i.bounceOut(1-k)},bounceOut:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+0.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+0.9375:7.5625*(k-=2.625/2.75)*k+0.984375},bounceBoth:function(k){if(k<0.5)return i.bounceIn(k*2)*0.5;return i.bounceOut(k*2-1)*0.5+0.5}};c.Easing=i});
KISSY.add("anim",function(c,r){function t(o,a,b,n,e){if(o=c.get(o)){if(!(this instanceof t))return new t(o,a,b,n,e);var h=c.isPlainObject(b);a=a;this.domEl=o;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=d(a);this.targetStyle=a;if(h)o=c.merge(x,b);else{o=c.clone(x);b&&(o.duration=l(b,10)||1);c.isString(n)&&(n=m[n]);c.isFunction(n)&&(o.easing=n);c.isFunction(e)&&(o.complete=e)}this.config=o;c.isFunction(e)&&this.on(v,e)}}function d(o){var a={},b=p.length,n;g.innerHTML='<div style="'+
o+'"></div>';for(o=g.firstChild.style;b--;)if(n=o[p[b]])a[p[b]]=f(n);return a}function f(o){var a=l(o);o=(o+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:o,u:"",f:i}:{v:a,u:o,f:j}}function j(o,a,b){return(o+(a-o)*b).toFixed(3)}function i(o,a,b){for(var n=2,e,h,q=[],u=[];e=3,h=arguments[n-1],n--;)if(k(h,0,4)==="rgb(")for(h=h.match(/\d+/g);e--;)q.push(~~h[e]);else if(k(h,0)==="#"){if(h.length===4)h="#"+k(h,1)+k(h,1)+k(h,2)+k(h,2)+k(h,3)+k(h,3);for(;e--;)q.push(parseInt(k(h,1+e*2,2),16))}else return a;
for(;e--;){n=~~(q[e+3]+(q[e]-q[e+3])*b);u.push(n<0?0:n>255?255:n)}return"rgb("+u.join(",")+")"}function k(o,a,b){return o.substr(a,b||1)}var s=c.DOM,m=c.Easing,l=parseFloat,g=s.create("<div>"),p="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
v="complete",x={duration:1,easing:m.easeNone};c.augment(t,c.EventTarget,{run:function(){var o=this,a=o.config,b=o.domEl,n=a.duration*1E3,e=a.easing,h=c.now(),q=h+n,u=o.props,w={},y;for(y in u)w[y]=f(s.css(b,y));if(o.fire("start")!==false){o.stop();o.timer=c.later(a=function(){var A=c.now(),z=A>q?1:(A-h)/n,B,C,D;for(y in u){B=w[y];C=u[y];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;s.css(b,y,C.f(B.v,C.v,e(z))+C.u)}if(o.fire("step")===false||(D=A>q)){o.stop();D&&o.fire(v)}},13,true);a();return o}},stop:function(o){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=r}if(o){c.UA.ie&&b.indexOf("opacity")>-1&&s.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(v)}return this}});c.Anim=t});KISSY.add("anim-node-plugin",function(c,r){var t=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(d){d.animate=function(){var f=c.makeArray(arguments);c.each(this,function(j){t.apply(r,[j].concat(f)).run()});return this}})});KISSY.add("core");
(function(){function c(a,b,n,e,h,q){h=0;for(var u=e.length;h<u;h++){var w=e[h];if(w){w=w[a];for(var y=false;w;){if(w.sizcache===n){y=e[w.sizset];break}if(w.nodeType===1&&!q){w.sizcache=n;w.sizset=h}if(w.nodeName.toLowerCase()===b){y=w;break}w=w[a]}e[h]=y}}}function r(a,b,n,e,h,q){h=0;for(var u=e.length;h<u;h++){var w=e[h];if(w){w=w[a];for(var y=false;w;){if(w.sizcache===n){y=e[w.sizset];break}if(w.nodeType===1){if(!q){w.sizcache=n;w.sizset=h}if(typeof b!=="string"){if(w===b){y=true;break}}else if(k.filter(b,
[w]).length>0){y=w;break}}w=w[a]}e[h]=y}}}var t=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=0,f=Object.prototype.toString,j=false,i=true;[0,0].sort(function(){i=false;return 0});var k=function(a,b,n,e){n=n||[];var h=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return n;var q=[],u,w,y,A,z=true,B=k.isXML(b),C=a,D;do{t.exec("");if(u=t.exec(C)){C=u[3];q.push(u[1]);if(u[2]){A=
u[3];break}}}while(u);if(q.length>1&&m.exec(a))if(q.length===2&&s.relative[q[0]])w=o(q[0]+q[1],b);else for(w=s.relative[q[0]]?[b]:k(q.shift(),b);q.length;){a=q.shift();if(s.relative[a])a+=q.shift();w=o(a,w)}else{if(!e&&q.length>1&&b.nodeType===9&&!B&&s.match.ID.test(q[0])&&!s.match.ID.test(q[q.length-1])){u=k.find(q.shift(),b,B);b=u.expr?k.filter(u.expr,u.set)[0]:u.set[0]}if(b){u=e?{expr:q.pop(),set:p(e)}:k.find(q.pop(),q.length===1&&(q[0]==="~"||q[0]==="+")&&b.parentNode?b.parentNode:b,B);w=u.expr?
k.filter(u.expr,u.set):u.set;if(q.length>0)y=p(w);else z=false;for(;q.length;){u=D=q.pop();if(s.relative[D])u=q.pop();else D="";if(u==null)u=b;s.relative[D](y,u,B)}}else y=[]}y||(y=w);y||k.error(D||a);if(f.call(y)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;y[a]!=null;a++){if(y[a]&&(y[a]===true||y[a].nodeType===1&&k.contains(b,y[a])))n.push(w[a])}else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&n.push(w[a]);else n.push.apply(n,y);else p(y,n);if(A){k(A,h,n,e);k.uniqueSort(n)}return n};
k.uniqueSort=function(a){if(x){j=i;a.sort(x);if(j)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};k.matches=function(a,b){return k(a,null,null,b)};k.find=function(a,b,n){var e;if(!a)return[];for(var h=0,q=s.order.length;h<q;h++){var u=s.order[h],w;if(w=s.leftMatch[u].exec(a)){var y=w[1];w.splice(1,1);if(y.substr(y.length-1)!=="\\"){w[1]=(w[1]||"").replace(/\\/g,"");e=s.find[u](w,b,n);if(e!=null){a=a.replace(s.match[u],"");break}}}}e||(e=b.getElementsByTagName("*"));return{set:e,
expr:a}};k.filter=function(a,b,n,e){for(var h=a,q=[],u=b,w,y,A=b&&b[0]&&k.isXML(b[0]);a&&b.length;){for(var z in s.filter)if((w=s.leftMatch[z].exec(a))!=null&&w[2]){var B=s.filter[z],C,D;D=w[1];y=false;w.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(u===q)q=[];if(s.preFilter[z])if(w=s.preFilter[z](w,u,n,q,e,A)){if(w===true)continue}else y=C=true;if(w)for(var E=0;(D=u[E])!=null;E++)if(D){C=B(D,w,E,u);var F=e^!!C;if(n&&C!=null)if(F)y=true;else u[E]=false;else if(F){q.push(D);y=true}}if(C!==undefined){n||
(u=q);a=a.replace(s.match[z],"");if(!y)return[];break}}}if(a===h)if(y==null)k.error(a);else break;h=a}return u};k.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var s=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var n=typeof b==="string",e=n&&!/\W/.test(b);n=n&&!e;if(e)b=b.toLowerCase();e=0;for(var h=a.length,q;e<h;e++)if(q=a[e]){for(;(q=q.previousSibling)&&q.nodeType!==1;);a[e]=n||q&&q.nodeName.toLowerCase()===
b?q||false:q===b}n&&k.filter(b,a,true)},">":function(a,b){var n=typeof b==="string",e,h=0,q=a.length;if(n&&!/\W/.test(b))for(b=b.toLowerCase();h<q;h++){if(e=a[h]){n=e.parentNode;a[h]=n.nodeName.toLowerCase()===b?n:false}}else{for(;h<q;h++)if(e=a[h])a[h]=n?e.parentNode:e.parentNode===b;n&&k.filter(b,a,true)}},"":function(a,b,n){var e=d++,h=r,q;if(typeof b==="string"&&!/\W/.test(b)){q=b=b.toLowerCase();h=c}h("parentNode",b,e,a,q,n)},"~":function(a,b,n){var e=d++,h=r,q;if(typeof b==="string"&&!/\W/.test(b)){q=
b=b.toLowerCase();h=c}h("previousSibling",b,e,a,q,n)}},find:{ID:function(a,b,n){if(typeof b.getElementById!=="undefined"&&!n)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var n=[];b=b.getElementsByName(a[1]);for(var e=0,h=b.length;e<h;e++)b[e].getAttribute("name")===a[1]&&n.push(b[e]);return n.length===0?null:n}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,n,e,h,q){a=" "+a[1].replace(/\\/g,"")+" ";
if(q)return a;q=0;for(var u;(u=b[q])!=null;q++)if(u)if(h^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))n||e.push(u);else if(n)b[q]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=d++;return a},ATTR:function(a,b,n,e,h,q){b=
a[1].replace(/\\/g,"");if(!q&&s.attrMap[b])a[1]=s.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,n,e,h){if(a[1]==="not")if((t.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=k(a[3],null,null,b);else{a=k.filter(a[3],b,n,true^h);n||e.push.apply(e,a);return false}else if(s.match.POS.test(a[0])||s.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,n){return!!k(n[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,n,e){return b===e.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,n){return b<n[3]-0},gt:function(a,b,n){return b>n[3]-0},nth:function(a,b,n){return n[3]-
0===b},eq:function(a,b,n){return n[3]-0===b}},filter:{PSEUDO:function(a,b,n,e){var h=b[1],q=s.filters[h];if(q)return q(a,n,b,e);else if(h==="contains")return(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3])>=0;else if(h==="not"){b=b[3];n=0;for(e=b.length;n<e;n++)if(b[n]===a)return false;return true}else k.error("Syntax error, unrecognized expression: "+h)},CHILD:function(a,b){var n=b[1],e=a;switch(n){case "only":case "first":for(;e=e.previousSibling;)if(e.nodeType===1)return false;if(n===
"first")return true;e=a;case "last":for(;e=e.nextSibling;)if(e.nodeType===1)return false;return true;case "nth":n=b[2];var h=b[3];if(n===1&&h===0)return true;b=b[0];var q=a.parentNode;if(q&&(q.sizcache!==b||!a.nodeIndex)){var u=0;for(e=q.firstChild;e;e=e.nextSibling)if(e.nodeType===1)e.nodeIndex=++u;q.sizcache=b}a=a.nodeIndex-h;return n===0?a===0:a%n===0&&a/n>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var n=b[1];a=s.attrHandle[n]?s.attrHandle[n](a):a[n]!=null?a[n]:a.getAttribute(n);n=a+"";var e=b[2];b=b[4];return a==null?e==="!=":e==="="?n===b:e==="*="?n.indexOf(b)>=0:e==="~="?(" "+n+" ").indexOf(b)>=0:!b?n&&a!==false:e==="!="?n!==b:e==="^="?n.indexOf(b)===0:e==="$="?n.substr(n.length-b.length)===b:e==="|="?n===b||n.substr(0,b.length+1)===b+"-":false},POS:function(a,b,n,e){var h=s.setFilters[b[2]];
if(h)return h(a,n,b,e)}}},m=s.match.POS,l=function(a,b){return"\\"+(b-0+1)};for(var g in s.match){s.match[g]=new RegExp(s.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source);s.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+s.match[g].source.replace(/\\(\d+)/g,l))}var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(v){p=function(a,b){b=b||[];var n=0;if(f.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var e=a.length;n<e;n++)b.push(a[n]);else for(;a[n];n++)b.push(a[n]);return b}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)j=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)j=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)j=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)j=true;return a};else if(document.createRange)x=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)j=true;return a.ownerDocument?-1:1}var n=a.ownerDocument.createRange(),e=b.ownerDocument.createRange();n.setStart(a,0);n.setEnd(a,0);e.setStart(b,0);e.setEnd(b,0);a=n.compareBoundaryPoints(Range.START_TO_END,e);if(a===0)j=true;return a};k.getText=function(a){for(var b="",n,e=0;a[e];e++){n=a[e];if(n.nodeType===3||n.nodeType===4)b+=n.nodeValue;else if(n.nodeType!==
8)b+=k.getText(n.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var n=document.documentElement;n.insertBefore(a,n.firstChild);if(document.getElementById(b)){s.find.ID=function(e,h,q){if(typeof h.getElementById!=="undefined"&&!q)return(h=h.getElementById(e[1]))?h.id===e[1]||typeof h.getAttributeNode!=="undefined"&&h.getAttributeNode("id").nodeValue===e[1]?[h]:undefined:[]};s.filter.ID=function(e,h){var q=typeof e.getAttributeNode!==
"undefined"&&e.getAttributeNode("id");return e.nodeType===1&&q&&q.nodeValue===h}}n.removeChild(a);n=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)s.find.TAG=function(b,n){n=n.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var e=0;n[e];e++)n[e].nodeType===1&&b.push(n[e]);n=b}return n};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")s.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=k,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){k=function(e,h,q,u){h=h||document;if(!u&&h.nodeType===9&&!k.isXML(h))try{return p(h.querySelectorAll(e),q)}catch(w){}return a(e,h,q,u)};for(var n in a)k[n]=a[n];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){s.order.splice(1,0,"CLASS");s.find.CLASS=function(b,n,e){if(typeof n.getElementsByClassName!=="undefined"&&!e)return n.getElementsByClassName(b[1])};a=null}}})();k.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};k.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var o=function(a,b){var n=[],e="",h;for(b=b.nodeType?[b]:b;h=s.match.PSEUDO.exec(a);){e+=h[0];a=a.replace(s.match.PSEUDO,"")}a=s.relative[a]?a+"*":a;h=0;for(var q=b.length;h<q;h++)k(a,b[h],n);return k.filter(e,n)};KISSY.add("sizzle",function(a){a.ExternalSelector=k;a.ExternalSelector._filter=function(b,n){return k.matches(n,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(c,r){function t(l,g){if(!(this instanceof t))return new t(l,g);if(g===r){g=l;l=[i]}c.isArray(l)||(l=[c.get(l)||i]);this.containers=l;this.config=c.merge(m,g);this.callbacks={els:[],fns:[]};this._init()}var d=c.DOM,f=c.Event,j=window,i=document,k="scroll",s="resize",m={mod:"manual",diff:"default",placeholder:"none"};c.augment(t,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var l=this.containers,
g,p,v,x=[],o=[];g=0;for(p=l.length;g<p;++g){v=c.query("img",l[g]);x=x.concat(c.filter(v,this._filterImg,this));v=c.query("textarea",l[g]);o=o.concat(c.filter(v,this._filterArea,this))}this.images=x;this.areaes=o},_filterImg:function(l){var g=l.getAttribute("data-ks-lazyload"),p=this.threshold,v=this.config.placeholder;if(this.config.mod==="manual"){if(g){if(v!=="none")l.src=v;return true}}else if(d.offset(l).top>p&&!g){d.attr(l,"data-ks-lazyload",l.src);if(v!=="none")l.src=v;else l.removeAttribute("src");
return true}},_filterArea:function(l){return d.hasClass(l,"ks-datalazyload")},_initLoadEvent:function(){function l(){p||(p=c.later(function(){g();p=null},100))}function g(){v._loadItems();if(v._getItemsLength()===0){f.remove(j,k,l);f.remove(j,s,l)}}var p,v=this;f.on(j,k,l);f.on(j,s,function(){v.threshold=v._getThreshold();l()});v._getItemsLength()&&c.ready(function(){g()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=c.filter(this.images,
this._loadImg,this)},_loadImg:function(l){var g=this.threshold+d.scrollTop();if(d.offset(l).top<=g)this._loadImgSrc(l);else return true},_loadImgSrc:function(l,g){g=g||"data-ks-lazyload";var p=l.getAttribute(g);if(p&&l.src!=p){l.src=p;l.removeAttribute(g)}},_loadAreas:function(){this.areaes=c.filter(this.areaes,this._loadArea,this)},_loadArea:function(l){var g=d.css(l,"display")==="none";if(d.offset(g?l.parentNode:l).top<=this.threshold+d.scrollTop())this._loadAreaData(l.parentNode,l);else return true},
_loadAreaData:function(l,g){g.style.display="none";g.className="";var p=d.create("<div>");l.insertBefore(p,g);d.html(p,g.value,true)},_fireCallbacks:function(){var l=this.callbacks,g=l.els,p=l.fns,v=this.threshold+d.scrollTop(),x,o,a,b=[],n=[];for(x=0;(o=g[x])&&(a=p[x++]);)if(d.offset(o).top<=v)a.call(o);else{b.push(o);n.push(a)}l.els=b;l.fns=n},addCallback:function(l,g){var p=this.callbacks;if((l=c.get(l))&&c.isFunction(g)){p.els.push(l);p.fns.push(g)}},_getThreshold:function(){var l=this.config.diff,
g=d.viewportHeight();return l==="default"?2*g:g+ +l},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(l,g){var p=this,v,x;c.isArray(l)||(l=[c.get(l)]);c.each(l,function(o){switch(g){case "img-src":x=o.nodeName==="IMG"?[o]:c.query("img",o);c.each(x,function(a){p._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(v=c.get("textarea",o))&&d.hasClass(v,"ks-datalazyload-custom")&&p._loadAreaData(o,v)}})}});c.mix(t,t.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=t},{requires:["core"]});KISSY.add("flash",function(c){c.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(c){function r(){var m;if(navigator.plugins&&navigator.mimeTypes.length)m=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{m=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(l){}if(m)return t(m)}function t(m){return m.match(/(\d)+/g)}function d(m){var l=c.isString(m)?t(m):m;m=m;if(c.isArray(l))m=parseFloat(l[0]+"."+f(l[1],3)+f(l[2],5));return m||0}function f(m,l){for(var g=(m+"").length;g++<l;)m="0"+
m;return m}var j=c.UA,i,k,s=true;j.fpv=function(m){if(m||s){s=false;i=r();k=d(i)}return i};j.fpvGEQ=function(m,l){s&&j.fpv(l);return!!k&&k>=d(m)}},{host:"flash"});
KISSY.add("flash-embed",function(c){function r(m,l,g){var p=d.create("<param>");d.attr(p,{name:l,value:g});m.appendChild(p)}var t=c.UA,d=c.DOM,f=c.Flash,j=/object|embed/i,i=encodeURIComponent,k={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},s={params:{},attrs:{width:215,height:138},version:9};c.mix(f,{fpv:t.fpv,fpvGEQ:t.fpvGEQ,add:function(m,l,g){var p,
v;l=f._normalize(l);l=c.merge(s,l);l.attrs=c.merge(s.attrs,l.attrs);if(m=c.get(m)){if(!m.id)m.id=c.guid("ks-flash-");v=l.attrs.id=m.id;if(t.fpv()){if(!t.fpvGEQ(l.version)){this._callback(g,0,v,m);if(!((p=l.xi)&&c.isString(p)))return;l.src=p}if(j.test(m.nodeName))this._register(m,l,g);else l.src?this._embed(m,l,g):this._callback(g,-3,v,m)}else this._callback(g,-1,v,m)}else this._callback(g,-2)},get:function(m){return f.swfs[m]},remove:function(m){if(m=f.get("#"+m)){d.remove(m);delete f.swfs[m.id];
f.length-=1}},contains:function(m){var l=f.swfs,g,p=false;if(c.isString(m))p=m in l;else for(g in l)if(l[g]===m){p=true;break}return p},_register:function(m,l,g){l=l.attrs.id;if(t.gecko||t.opera)m=c.query("object",m)[0]||m;f._addSWF(l,m);f._callback(g,1,l,m)},_embed:function(m,l,g){var p=f._createSWF(l.src,l.attrs,l.params);if(t.ie)m.outerHTML=p.outerHTML;else m.parentNode.replaceChild(p,m);m=c.get("#"+m.id);f._register(m,l,g)},_callback:function(m,l,g,p){l&&c.isFunction(m)&&m({status:l,id:g,swf:p})},
_addSWF:function(m,l){if(m&&l){f.swfs[m]=l;f.length+=1}},_createSWF:function(m,l,g){var p=d.create("<object>"),v;d.attr(p,l);if(t.ie){d.attr(p,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");r(p,"movie",m)}else d.attr(p,{type:"application/x-shockwave-flash",data:m,name:l.id});for(v in g)v in k&&r(p,v,g[v]);g.flashvars&&r(p,"flashvars",f.toFlashVars(g.flashvars));return p},_normalize:function(m){var l,g,p,v=m;if(c.isPlainObject(m)){v={};for(p in m){l=p.toLowerCase();g=m[p];if(l!=="flashvars")g=
f._normalize(g);v[l]=g}}return v},toFlashVars:function(m){if(!c.isPlainObject(m))return"";var l,g,p=[];for(l in m){g=m[l];if(c.isString(g))g=i(g);else{g=c.JSON.stringify(g);if(!g)continue;g=g.replace(/:"([^"]+)/g,function(v,x){return':"'+i(x)})}p.push(l+"="+g)}return p.join("&").replace(/\"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(c,r){function t(j,i){i=i||{};if(!("markupType"in i))if(i.panelCls)i.markupType=1;else if(i.panels)i.markupType=2;i=c.merge(t.Config,i);this.container=c.get(j);this.config=i;this.activeIndex=i.activeIndex;this._init()}var d=c.DOM,f=c.Event;t.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};t.Plugins=[];c.augment(t,c.EventTarget,{_init:function(){var j=this,i=j.config;j._parseMarkup();i.switchTo&&j.switchTo(i.switchTo);i.hasTriggers&&j._bindTriggers();c.each(t.Plugins,function(k){k.init&&k.init(j)});j.fire("init")},_parseMarkup:function(){var j=this.container,i=this.config,k,s=[],m=[];switch(i.markupType){case 0:if(k=c.get("."+i.navCls,j))s=d.children(k);k=c.get("."+i.contentCls,j);m=d.children(k);break;case 1:s=c.query("."+i.triggerCls,
j);m=c.query("."+i.panelCls,j);break;case 2:s=i.triggers;m=i.panels;break}j=m.length;this.length=j/i.steps;if(i.hasTriggers&&j>0&&s.length===0)s=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(s);this.panels=c.makeArray(m);this.content=k||m[0].parentNode},_generateTriggersMarkup:function(j){var i=this.config,k=d.create("<ul>"),s,m;k.className=i.navCls;for(m=0;m<j;m++){s=d.create("<li>");if(m===this.activeIndex)s.className=i.activeTriggerCls;s.innerHTML=m+1;k.appendChild(s)}this.container.appendChild(k);
return d.children(k)},_bindTriggers:function(){var j=this,i=j.config,k=j.triggers,s,m,l=k.length;for(m=0;m<l;m++)(function(g){s=k[g];f.on(s,"click",function(){j._onFocusTrigger(g)});if(i.triggerType==="mouse"){f.on(s,"mouseenter",function(){j._onMouseEnterTrigger(g)});f.on(s,"mouseleave",function(){j._onMouseLeaveTrigger(g)})}})(m)},_onFocusTrigger:function(j){if(this._triggerIsValid(j)){this._cancelSwitchTimer();this.switchTo(j)}},_onMouseEnterTrigger:function(j){var i=this;if(i._triggerIsValid(j))i.switchTimer=
c.later(function(){i.switchTo(j)},i.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(j){return this.activeIndex!==j},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=r}},switchTo:function(j,i){var k=this.config,s=this.triggers,m=this.panels,l=this.activeIndex,g=k.steps,p=l*g,v=j*g;if(!this._triggerIsValid(j))return this;if(this.fire("beforeSwitch",{toIndex:j})===false)return this;if(k.hasTriggers)this._switchTrigger(l>
-1?s[l]:null,s[j]);if(i===r)i=j>l?"forward":"backward";this._switchView(m.slice(p,p+g),m.slice(v,v+g),j,i);this.activeIndex=j;return this},_switchTrigger:function(j,i){var k=this.config.activeTriggerCls;j&&d.removeClass(j,k);d.addClass(i,k)},_switchView:function(j,i,k){d.css(j,"display","none");d.css(i,"display","block");this._fireOnSwitch(k)},_fireOnSwitch:function(j){this.fire("switch",{currentIndex:j})},prev:function(){var j=this.activeIndex;this.switchTo(j>0?j-1:this.length-1,"backward")},next:function(){var j=
this.activeIndex;this.switchTo(j<this.length-1?j+1:0,"forward")}});c.Switchable=t},{requires:["core"]});
KISSY.add("autoplay",function(c,r){var t=c.Event,d=c.Switchable;c.mix(d.Config,{autoplay:false,interval:5,pauseOnHover:true});d.Plugins.push({name:"autoplay",init:function(f){function j(){s=c.later(function(){f.paused||f.switchTo(f.activeIndex<f.length-1?f.activeIndex+1:0,"forward")},k,true)}var i=f.config,k=i.interval*1E3,s;if(i.autoplay){if(i.pauseOnHover){t.on(f.container,"mouseenter",function(){if(s){s.cancel();s=r}f.paused=true});t.on(f.container,"mouseleave",function(){f.paused=false;j()})}j()}}})},
{host:"switchable"});
KISSY.add("effect",function(c,r){var t=c.DOM,d=c.Anim,f=c.Switchable,j;c.mix(f.Config,{effect:"none",duration:0.5,easing:"easeNone"});f.Effects={none:function(i,k,s){t.css(i,"display","none");t.css(k,"display","block");s()},fade:function(i,k,s){i.length!==1&&c.error("fade effect only supports steps == 1.");var m=this,l=m.config,g=i[0],p=k[0];m.anim&&m.anim.stop(true);t.css(p,"opacity",1);m.anim=(new d(g,{opacity:0},l.duration,l.easing,function(){m.anim=r;t.css(p,"z-index",9);t.css(g,"z-index",1);
s()})).run()},scroll:function(i,k,s,m){var l=this;i=l.config;k=i.effect==="scrollx";var g={};g[k?"left":"top"]=-(l.viewSize[k?0:1]*m)+"px";l.anim&&l.anim.stop();l.anim=(new d(l.content,g,i.duration,i.easing,function(){l.anim=r;s()})).run()}};j=f.Effects;j.scrollx=j.scrolly=j.scroll;f.Plugins.push({name:"effect",init:function(i){var k=i.config,s=k.effect,m=i.panels,l=i.content,g=k.steps,p=i.activeIndex,v=m.length;i.viewSize=[k.viewSize[0]||m[0].offsetWidth*g,k.viewSize[1]||m[0].offsetHeight*g];if(s!==
"none"){c.each(m,function(b){t.css(b,"display","block")});switch(s){case "scrollx":case "scrolly":t.css(l,"position","absolute");t.css(l.parentNode,"position","relative");if(s==="scrollx"){t.css(m,"float","left");t.width(l,i.viewSize[0]*(v/g))}break;case "fade":var x=p*g,o=x+g-1,a;c.each(m,function(b,n){a=n>=x&&n<=o;t.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(f,{_switchView:function(i,k,s,m){var l=this,g=l.config.effect;(c.isFunction(g)?g:j[g]).call(l,i,k,function(){l._fireOnSwitch(s)},
s,m)}})},{host:"switchable"});
KISSY.add("circular",function(c,r){function t(a,b,n,e,h){var q=this;a=q.config;b=q.length;var u=q.activeIndex,w=a.scrollType===x,y=w?s:m,A=q.viewSize[w?0:1];w=-A*e;var z={},B,C=h===v;if(B=C&&u===0&&e===b-1||h===p&&u===b-1&&e===0)w=d.call(q,q.panels,e,C,y,A);z[y]=w+g;q.anim&&q.anim.stop();q.anim=(new c.Anim(q.content,z,a.duration,a.easing,function(){B&&f.call(q,q.panels,e,C,y,A);q.anim=r;n()})).run()}function d(a,b,n,e,h){var q=this.config.steps;b=this.length;var u=n?b-1:0,w=(u+1)*q;for(q=u*q;q<w;q++){j.css(a[q],
i,k);j.css(a[q],e,(n?-1:1)*h*b)}return n?h:-h*b}function f(a,b,n,e,h){var q=this.config.steps;b=this.length;var u=n?b-1:0,w=(u+1)*q;for(q=u*q;q<w;q++){j.css(a[q],i,l);j.css(a[q],e,l)}j.css(this.content,e,n?-h*(b-1):l)}var j=c.DOM,i="position",k="relative",s="left",m="top",l="",g="px",p="forward",v="backward",x="scrollx",o=c.Switchable;c.mix(o.Config,{circular:false});o.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=a.effect;
a.effect=t}}})},{host:"switchable"});
KISSY.add("lazyload",function(c){var r=c.DOM,t="beforeSwitch",d="img-src",f="area-data",j={},i=c.Switchable;j[d]="data-ks-lazyload-custom";j[f]="ks-datalazyload-custom";c.mix(i.Config,{lazyDataType:f});i.Plugins.push({name:"lazyload",init:function(k){function s(x){var o=g.steps;x=x.toIndex*o;l.loadCustomLazyData(k.panels.slice(x,x+o),p);m()&&k.detach(t,s)}function m(){var x,o,a,b=p===d;if(x=b?"img":p===f?"textarea":""){x=c.query(x,k.container);o=0;for(a=x.length;o<a;o++)if(b?r.attr(x[o],v):r.hasClass(x[o],
v))return false}return true}var l=c.DataLazyload,g=k.config,p=g.lazyDataType,v=j[p];!l||!p||!v||k.on(t,s)}})},{host:"switchable"});KISSY.add("autorender",function(c){c.Switchable.autoRender=function(r,t){r="."+(r||"KS_Widget");c.query(r,t).each(function(d){var f=d.getAttribute("data-widget-type"),j;if(f&&"Switchable Tabs Slide Carousel Accordion".indexOf(f)>-1)try{if(j=d.getAttribute("data-widget-config"))j=j.replace(/'/g,'"');new c[f](d,c.JSON.parse(j))}catch(i){}})}},{host:"switchable"});
KISSY.add("tabs",function(c){function r(t,d){if(!(this instanceof r))return new r(t,d);r.superclass.constructor.call(this,t,d)}c.extend(r,c.Switchable);c.Tabs=r},{host:"switchable"});KISSY.add("slide",function(c){function r(d,f){if(!(this instanceof r))return new r(d,f);r.superclass.constructor.call(this,d,c.merge(t,f))}var t={autoplay:true,circular:true};c.extend(r,c.Switchable);c.Slide=r},{host:"switchable"});
KISSY.add("carousel",function(c,r){function t(l,g){var p=this;if(!(p instanceof t))return new t(l,g);p.on("init",function(){d(p)});t.superclass.constructor.call(p,l,c.merge(m,g))}function d(l){var g=l.config,p=g.disableBtnCls;c.each(["prev","next"],function(v){var x=l[v+"Btn"]=c.get(i+g[v+"BtnCls"],l.container);j.on(x,"click",function(o){o.preventDefault();f.hasClass(x,p)||l[v]()})});g.circular||l.on("switch",function(v){v=v.currentIndex;v=v===0?l[k]:v===l.length-1?l[s]:r;f.removeClass([l[k],l[s]],
p);v&&f.addClass(v,p)});j.on(l.panels,"click focus",function(){l.fire("itemSelected",{item:this})})}var f=c.DOM,j=c.Event,i=".",k="prevBtn",s="nextBtn",m={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(t,c.Switchable);c.Carousel=t},{host:"switchable"});
KISSY.add("accordion",function(c){function r(f,j){if(!(this instanceof r))return new r(f,j);r.superclass.constructor.call(this,f,c.merge(d,j));if(this.config.multiple)this._switchTrigger=function(){}}var t=c.DOM,d={markupType:1,triggerType:"click",multiple:false};c.extend(r,c.Switchable);c.Accordion=r;c.augment(r,{_triggerIsValid:function(f){return this.activeIndex!==f||this.config.multiple},_switchView:function(f,j,i){var k=this.config,s=j[0];if(k.multiple){t.toggleClass(this.triggers[i],k.activeTriggerCls);
t.css(s,"display",s.style.display=="none"?"block":"none");this._fireOnSwitch(i)}else r.superclass._switchView.call(this,f,j,i)}})},{host:"switchable"});
KISSY.add("mask",function(c,r){function t(g){if(!(this instanceof t))return new t(g);g=c.merge(l,g);var p=g.shim,v=p?m:s+g.style,x=p?0:g.opacity,o=d("<iframe>",v,x,!p);if(!p&&i)this.layer=d("<div>",v,x,true);this.config=g;this.iframe=o}function d(g,p,v,x){g=j.create(g);j.attr(g,"style",p);j.css(g,"opacity",v);if(x){j.height(g,j.docHeight());k&&j.width(g,j.docWidth())}document.body.appendChild(g);return g}function f(g,p,v){if(g){j.width(g,p);j.height(g,v)}}var j=c.DOM,i=c.UA.ie,k=i===6,s="position:absolute;left:0;top:0;width:100%;border:0;background:black;z-index:9998;display:none;",
m="position:absolute;z-index:9997;border:0;display:none;",l={shim:false,opacity:0.6,style:""};c.augment(t,{show:function(){j.show([this.iframe,this.layer])},hide:function(){j.hide([this.iframe,this.layer])},toggle:function(){this[j.css(this.iframe,"display")!=="none"?"hide":"show"]()},setSize:function(g,p){f(this.iframe,g,p);f(this.layer,g,p)},setOffset:function(g,p){var v=g;if(p!==r)v={left:g,top:p};j.offset([this.iframe,this.layer],v)}});c.Mask=t});
KISSY.add("overlay",function(c,r){function t(m,l){l=l||{};if(c.isPlainObject(m))l=m;else l.container=m;this.container=c.get(l.container);this.trigger=c.get(l.trigger);l.align=c.merge(c.clone(k.align),l.align);this.config=c.merge(k,l);this._init()}var d=document,f=c.DOM,j=c.Event,i={TL:"tl",TC:"tc",TR:"tr",LC:"cl",CC:"cc",RC:"cr",BL:"bl",BC:"bc",BR:"br"},k={container:null,containerCls:"ks-overlay",bdCls:"ks-overlay-bd",trigger:null,triggerType:"click",width:0,height:0,zIndex:9999,xy:null,align:{node:null,
points:[i.CC,i.CC],offset:[0,0]},mask:false,shim:c.UA.ie===6},s;c.augment(t,c.EventTarget,{_init:function(){this.trigger&&this._bindTrigger()},_bindTrigger:function(){this.config.triggerType==="mouse"?this._bindTriggerMouse():this._bindTriggerClick()},_bindTriggerMouse:function(){var m=this,l=m.trigger,g;j.on(l,"mouseenter",function(){m._clearHiddenTimer();g=c.later(function(){m.show();g=r},100)});j.on(l,"mouseleave",function(){if(g){g.cancel();g=r}m._setHiddenTimer()})},_bindContainerMouse:function(){var m=
this;j.on(m.container,"mouseleave",function(){m._setHiddenTimer()});j.on(m.container,"mouseenter",function(){m._clearHiddenTimer()})},_setHiddenTimer:function(){var m=this;m._hiddenTimer=c.later(function(){m.hide()},120)},_clearHiddenTimer:function(){if(this._hiddenTimer){this._hiddenTimer.cancel();this._hiddenTimer=r}},_bindTriggerClick:function(){var m=this;j.on(m.trigger,"click",function(l){l.halt();m.show()})},show:function(){this._firstShow()},_firstShow:function(){this._prepareMarkup();this._realShow();
this._firstShow=this._realShow},_realShow:function(){this._toggle(false);this._setPosition()},_toggle:function(m){m||f.css(this.container,"display","block");f.css(this.container,"visibility",m?"hidden":"");this.shim&&this.shim.toggle();if(this.config.mask)s[m?"hide":"show"]();this[m?"_unbindUI":"_bindUI"]();this.fire(m?"hide":"show")},hide:function(){this._toggle(true)},_prepareMarkup:function(){var m=this.config,l=this.container;if(m.mask&&!s)s=new c.Mask;if(m.shim)this.shim=new c.Mask({shim:true});
if(l){this.body=c.get("."+m.bdCls,l)||l;l.style.cssText+="visibility:hidden;position:absolute;"}else{l=this.container=f.create(c.substitute('<div class="{containerCls}" style="visibility:hidden;position:absolute;"><div class="{bdCls}">{content}</div></div>',m));this.body=f.children(l)[0];d.body.appendChild(l)}f.css(l,"zIndex",m.zIndex);this.setBody(m.content);this._setSize();m.triggerType==="mouse"&&this._bindContainerMouse()},_setSize:function(m,l){var g=this.config;m=m||g.width;l=l||g.height;m&&
f.width(this.container,m);l&&f.height(this.container,l);this.shim&&this.shim.setSize(m,l)},_setPosition:function(){var m=this.config.xy;m?this.move(m):this.align()},move:function(m,l){if(c.isArray(m)){l=m[1];m=m[0]}m={left:m,top:l};f.offset(this.container,m);this.shim&&this.shim.setOffset(m)},align:function(m,l,g){var p=this.config.align;m=m||p.node;m=m==="trigger"?this.trigger:c.get(m);l=l||p.points;g=g===r?p.offset:g;p=f.offset(this.container);m=this._getAlignOffset(m,l[0]);l=this._getAlignOffset(this.container,
l[1]);l=[l.left-m.left,l.top-m.top];this.move(p.left-l[0]+ +g[0],p.top-l[1]+ +g[1])},_getAlignOffset:function(m,l){var g=l.charAt(0);l=l.charAt(1);var p,v,x;if(m){p=f.offset(m);v=m.offsetWidth;m=m.offsetHeight}else{p={left:f.scrollLeft(),top:f.scrollTop()};v=f.viewportWidth();m=f.viewportHeight()}x=p.left;p=p.top;if(g==="c")p+=m/2;else if(g==="b")p+=m;if(l==="c")x+=v/2;else if(l==="r")x+=v;return{left:x,top:p}},center:function(){this.move((f.viewportWidth()-f.width(this.container))/2+f.scrollLeft(),
(f.viewportHeight()-f.height(this.container))/2+f.scrollTop())},_bindUI:function(){j.on(d,"keydown",this._esc,this)},_unbindUI:function(){j.remove(d,"keydown",this._esc,this)},_esc:function(m){m.keyCode===27&&this.hide()},setBody:function(m){this._setContent("body",m)},_setContent:function(m,l){c.isString(l)&&f.html(this[m],l)}});c.Overlay=t});
KISSY.add("popup",function(c){function r(d,f){if(!(this instanceof r))return new r(d,f);f=f||{};if(c.isPlainObject(d))f=d;else f.container=d;f.align=c.merge(c.clone(t.align),f.align);r.superclass.constructor.call(this,c.merge(t,f))}var t={triggerType:"mouse",align:{node:"trigger",points:["cr","ct"],offset:[10,0]}};c.extend(r,c.Overlay);c.Popup=r},{host:"overlay"});
KISSY.add("dialog",function(c){function r(j,i){if(!(this instanceof r))return new r(j,i);i=i||{};if(c.isPlainObject(j))i=j;else i.container=j;i.align=c.merge(c.clone(f.align),i.align);r.superclass.constructor.call(this,c.merge(f,i));this.manager=c.DialogManager;this.manager.register(this)}var t=c.DOM,d=c.Event,f={header:"",footer:"",containerCls:"ks-overlay ks-dialog",hdCls:"ks-dialog-hd",bdCls:"ks-dialog-bd",ftCls:"ks-dialog-ft",closeBtnCls:"ks-dialog-close",width:400,height:300,closable:true};c.extend(r,
c.Overlay);c.Dialog=r;c.augment(r,c.EventTarget,{_prepareMarkup:function(){var j=this.config;r.superclass._prepareMarkup.call(this);this.header=c.get("."+j.hdCls,this.container);if(!this.header){this.header=t.create("<div>",{"class":j.hdCls});t.insertBefore(this.header,this.body)}this.setHeader(j.header);if(j.footer){this.footer=c.get("."+j.ftCls,this.container);if(!this.footer){this.footer=t.create("<div>",{"class":j.ftCls});this.container.appendChild(this.footer)}this.setFooter(j.footer)}j.closable&&
this._initClose()},_initClose:function(){var j=this,i=t.create("<div>",{"class":j.config.closeBtnCls});t.html(i,"close");d.on(i,"click",function(k){k.halt();j.hide()});j.header.appendChild(i)},setHeader:function(j){this._setContent("header",j)},setFooter:function(j){this._setContent("footer",j)}});c.DialogManager={register:function(j){j instanceof r&&this._dialog.push(j)},_dialog:[],hideAll:function(){c.each(this._dialog,function(j){j&&j.hide()})}}},{host:"overlay"});
KISSY.add("suggest",function(c,r){function t(e,h,q){if(!(this instanceof t))return new t(e,h,q);this.textInput=c.get(e);h+=h.indexOf("?")===-1?"?":"&";this.dataSource=h+"code=utf-8&callback="+v;this.config=c.merge(n,q);this.queryParams=this.query=x;this._dataCache={};this._init()}function d(e){e.style.visibility=x}function f(e){e.style.visibility=o}function j(e,h){if(h.nodeType===1){i.html(e,x);e.appendChild(h)}else i.html(e,h)}var i=c.DOM,k=c.Event,s=window,m=document,l,g=c.get("head"),p=c.UA.ie,
v="g_ks_suggest_callback",x="",o="hidden",a=parseInt,b=/^(input|button|a)$/i,n={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:p===6,submitOnSelect:true};c.augment(t,c.EventTarget,{_init:function(){l=m.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var e=this,h=e.textInput,q=false,u=0;i.attr(h,"autocomplete","off");e.config.autoFocus&&h.focus();k.on(h,"keydown",function(w){w=
w.keyCode;if(w===27){e.hide();h.value=e.query}else if(w>32&&w<41)if(h.value){if(w===40||w===38)if(u++===0){e._isRunning&&e.stop();q=true;e._selectItem(w===40)}else if(u==3)u=0}else h.blur();else if(w===13){h.blur();if(q)if(h.value==e._getSelectedItemKey())if(e.fire("itemSelect")===false)return;e._submitForm()}else{e._isRunning||e.start();q=false}});k.on(h,"keyup",function(){u=0});k.on(h,"blur",function(){e.stop();c.later(function(){e._focusing||e.hide()},0)})},_initContainer:function(){var e=i.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),h=i.create("<div>",{"class":"ks-suggest-content"}),q=i.create("<div>",{"class":"ks-suggest-footer"});e.appendChild(h);e.appendChild(q);l.insertBefore(e,l.firstChild);this.container=e;this.content=h;this.footer=q;this._initContainerEvent()},_setContainerRegion:function(){var e=this.textInput,h=i.offset(e),q=this.container;i.offset(q,{left:h.left,top:h.top+e.offsetHeight-1});i.width(q,this.config.containerWidth||
e.offsetWidth-2)},_initContainerEvent:function(){var e=this,h=e.textInput,q=e.container,u=e.content,w=e.footer,y,A;k.on(u,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");if(i.contains(u,z))if(z!==e.selectedItem){e._removeSelectedItem();e._setSelectedItem(z)}});k.on(u,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=i.parent(z,"li");y=z});k.on(q,"mousedown",function(z){if(!b.test(z.target.nodeName)){h.onbeforedeactivate=function(){s.event.returnValue=false;h.onbeforedeactivate=
null};z.preventDefault()}});k.on(u,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=i.parent(B,"li");if(B==y)if(i.contains(u,B)){e._updateInputFromSelectItem(B);if(e.fire("itemSelect")!==false){h.blur();e._submitForm()}}}});k.on(w,"focusin",function(){e._focusing=true;e._removeSelectedItem();A=false});k.on(w,"focusout",function(){e._focusing=false;c.later(function(){if(A)e.hide();else e._focusing||e.textInput.focus()},0)});k.on(e.container,"mouseleave",function(){A=true});
k.on(w,"click",function(z){i.hasClass(z.target,"ks-suggest-closebtn")&&e.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var e=this.textInput.form;if(e)if(this.fire("beforeSubmit",{form:e})!==false){if(m.createEvent){var h=m.createEvent("MouseEvents");h.initEvent("submit",true,false);e.dispatchEvent(h)}else m.createEventObject&&e.fireEvent("onsubmit");e.submit()}}},_initShim:function(){var e=i.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=e;l.insertBefore(e,l.firstChild)},_setShimRegion:function(){var e=this.container,h=e.style,q=e.shim;q&&i.css(q,{left:a(h.left)-2,top:h.top,width:a(h.width)+2,height:i.height(e)-2})},_initStyle:function(){c.get("#ks-suggest-style")||i.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var e=this;k.on(s,"resize",function(){e._setContainerRegion();e._setShimRegion()})},start:function(){var e=this;if(e.fire("beforeStart")!==false){t.focusInstance=e;e._timer=c.later(function(){e._updateContent();e._timer=c.later(arguments.callee,200)},200);e._isRunning=true}},stop:function(){t.focusInstance=r;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var e=this.container,h=e.shim;this._setContainerRegion();
d(e);if(h){this._setShimRegion();d(h)}}},hide:function(){if(this.isVisible()){var e=this.container,h=e.shim;h&&f(h);f(e)}},isVisible:function(){return this.container.style.visibility!=o},_updateContent:function(){var e=this.textInput;if(e.value!=this.query){e=this.query=e.value;if(c.trim(e))if(this._dataCache[e]!==r){this._fillContainer(this._dataCache[e]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var e=this,h;if(!p)e.dataScript=
r;if(!e.dataScript){h=m.createElement("script");h.charset="utf-8";h.async=true;g.insertBefore(h,g.firstChild);e.dataScript=h;if(!p){var q=c.now();e._latestScriptTime=q;i.attr(h,"data-time",q);k.on(h,"load",function(){e._scriptDataIsOut=i.attr(h,"data-time")!=e._latestScriptTime})}}e.queryParams="q="+encodeURIComponent(e.query);if(e.fire("beforeDataRequest")!==false)e.dataScript.src=e.dataSource+"&"+e.queryParams},_handleResponse:function(e){var h=x,q,u,w,y;if(!this._scriptDataIsOut){this.returnedData=
e;if(this.fire("dataReturn",{data:e})!==false){e=this._formatData(this.returnedData);if((q=e.length)>0){u=i.create("<ol>");for(h=0;h<q;++h){w=e[h];w=this._formatItem(y=w.key,w.result);i.attr(w,"key",y);i.addClass(w,h%2?"ks-even":"ks-odd");u.appendChild(w)}h=u}this._fillContainer(h);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=i.html(this.content);this._displayContainer()}}}},_formatData:function(e){var h=[],q,u,w,y=0;if(!e)return h;if(c.isArray(e.result))e=e.result;if(!(q=e.length))return h;
for(w=0;w<q;++w){u=e[w];if(c.isString(u))h[y++]={key:u};else if(c.isArray(u)&&u.length>1)h[y++]={key:u[0],result:u[1]}}return h},_formatItem:function(e,h){var q=i.create("<li>"),u=i.create("<span>",{"class":"ks-suggest-key"});i.html(u,e);q.appendChild(u);if(h){e=this.config.resultFormat.replace("%result%",h);if(c.trim(e)){h=i.create("<span>",{"class":"ks-suggest-result"});i.html(h,e);q.appendChild(h)}}return q},_fillContainer:function(e,h){this._fillContent(e||x);this._fillFooter(h||x)},_fillContent:function(e){j(this.content,
e);this.selectedItem=r},_fillFooter:function(e){var h=this.config,q=this.footer;j(q,e);if(h.closeBtn){e=i.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});i.html(e,h.closeBtnText);q.appendChild(e)}this.fire("updateFooter",{footer:q,query:this.query});i.css(q,"display",i.text(q)?x:"none")},_displayContainer:function(){c.trim(i.text(this.container))?this.show():this.hide()},_selectItem:function(e){var h=c.query("li",this.container);if(h.length!==0)if(this.isVisible()){if(this.selectedItem){e=
i[e?"next":"prev"](this.selectedItem);if(!e)this.textInput.value=this.query}else e=h[e?0:h.length-1];this._removeSelectedItem();if(e){this._setSelectedItem(e);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){i.removeClass(this.selectedItem,"ks-selected");this.selectedItem=r},_setSelectedItem:function(e){i.addClass(e,"ks-selected");this.selectedItem=e;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return i.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});s[v]=function(e){t.focusInstance&&c.later(function(){t.focusInstance._handleResponse(e)},0)};t.version=1.1;c.Suggest=t},{requires:["core"]});
KISSY.add("imagezoom",function(c,r){function t(o,a){var b=this,n;if(!(b instanceof t))return new t(o,a);if(b.image=o=c.get(o)){b.config=a=c.merge(x,a);if(!a.bigImageSrc)if((n=s.attr(o,"data-ks-imagezoom"))&&g.test(n))a.bigImageSrc=n;a.offset=c.makeArray(a.offset);if(a.preload)(new Image).src=a.bigImageSrc;d(o,function(){b._init()})}}function d(o,a){o.complete?a():m.on(o,"load",a)}function f(o){return{width:o.clientWidth,height:o.clientHeight}}function j(o){return s.create(l,{"class":o,style:"position:absolute"})}
function i(o,a,b){s.width(o,a);s.height(o,b)}var k=document,s=c.DOM,m=c.Event,l="<div>",g=/^.+\.(jpg|png|gif)$/i,p=Math.round,v=["top","right","bottom","left","inner"],x={type:"standard",bigImageSrc:"",bigImageSize:[900,900],position:"right",offset:10,preload:true,timeout:120,timeoutMsg:"\u56fe\u7247\u6682\u4e0d\u53ef\u7528",zoomSize:[400,310],lensIcon:true,zoomCls:""};c.augment(t,c.EventTarget,{_init:function(){this._renderUI();this._bindUI()},_renderUI:function(){var o=this.config,a=this.image;
this._imgRegion=c.merge(s.offset(a),f(a));o.lensIcon&&this._renderIcon()},_renderIcon:function(){var o=this._imgRegion,a=j("ks-imagezoom-icon");k.body.appendChild(a);s.offset(a,{left:o.left+o.width-s.width(a),top:o.top+o.height-s.height(a)});this.lensIcon=a},_bindUI:function(){var o=this,a;m.on(o.image,"mouseenter",function(){a=c.later(function(){var b=o.config.bigImageSrc;if(o.viewer){if(o._cacheBigImageSrc&&o._cacheBigImageSrc!==b){s.attr(o.bigImage,"src",b);o._cacheBigImageSrc=b;o._updateViewerOnLoad()}}else o._createViewer();
o.show()},100)});m.on(o.image,"mouseleave",function(){if(a){a.cancel();a=r}})},_createViewer:function(){var o=this.config,a;this._renderLens();a=j("ks-imagezoom-viewer "+o.zoomCls);o=s.create("<img>",{src:o.bigImageSrc});a.appendChild(o);k.body.appendChild(a);this.bigImage=o;this.viewer=a;this._setViewerRegion();this._updateViewerOnLoad()},_updateViewerOnLoad:function(){var o=this,a=o.config,b,n=o.bigImage;if(!n.complete){b=c.later(function(){n.complete||o._showTimeoutMsg();b=r},a.timeout*1E3);d(n,
function(){if(b){b.cancel();b=r}o._setViewerRegion()})}},_renderLens:function(){var o=j("ks-imagezoom-lens");s.hide(o);k.body.appendChild(o);this.lens=o},_setViewerRegion:function(){var o=this.config,a=this.viewer,b=this._imgRegion,n=o.zoomSize,e,h,q;this._bigImageSize=h=(q=this.bigImage)?{width:o.bigImageSize[0],height:o.bigImageSize[1]}:f(q);q=n[0];if(q==="auto")q=b.width;n=n[1];if(n==="auto")n=b.height;e=p(q*b.width/h.width);h=p(n*b.height/h.height);this._lensSize=[e,h];i(this.lens,e,h);s.offset(this.lens,
{left:b.left+(b.width-e)/2,top:b.top+(b.height-h)/2});e=b.left+(o.offset[0]||0);h=b.top+(o.offset[1]||0);switch(o.position){case v[0]:h-=n;break;case v[1]:e+=b.width;break;case v[2]:h+=b.height;break;case v[3]:e-=q;break;case v[4]:q=b.width;n=b.height;s.css(a,"cursor","move");break}s.offset(a,{left:e,top:h});i(a,q,n)},_onMouseMove:function(o){var a=this.viewer,b=this.lens,n=this._imgRegion,e=n.left,h=n.top,q=n.width;n=n.height;var u=this._lensSize,w=u[0],y=u[1];if(o.pageX>e&&o.pageX<e+q&&o.pageY>
h&&o.pageY<h+n){u=o.pageX-w/2;o=o.pageY-y/2;if(u<=e)u=e;else if(u>=q+e-w)u=q+e-w;if(o<=h)o=h;else if(o>=n+h-y)o=n+h-y;b&&s.offset(b,{left:u,top:o});a.scrollLeft=p((u-e)*this._bigImageSize.width/q);a.scrollTop=p((o-h)*this._bigImageSize.height/n)}else this.hide()},_showTimeoutMsg:function(){var o=this.config,a=this.viewer,b=c.get("p",a);if(!b){b=s.create("<p>");a.appendChild(b)}s.html(b,o.timeoutMsg)},show:function(){s.show(this.config.position!==v[4]?[this.lens,this.viewer]:this.viewer);s.hide(this.lensIcon);
m.on(k.body,"mousemove",this._onMouseMove,this)},hide:function(){s.hide([this.lens,this.viewer]);s.show(this.lensIcon);m.remove(k.body,"mousemove",this._onMouseMove,this)},set:function(o,a){if(o==="bigImageSrc")if(a&&g.test(a)){this._cacheBigImageSrc=this.config.bigImageSrc;this.config.bigImageSrc=a}}});c.ImageZoom=t});
KISSY.add("date",function(c){function r(d){var f=null;if(f instanceof Date)return f;else f=new Date(d);return f instanceof Date&&f!="Invalid Date"&&!isNaN(f)?f:null}var t=function(){var d=/w{1}|d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,f=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,j=/[^-+\dA-Z]/g,i=function(m,l){m=String(m);for(l=l||2;m.length<l;)m="0"+m;return m},k={"default":"ddd mmm dd yyyy HH:MM:ss",
shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",localShortDate:"yy\u5e74mm\u6708dd\u65e5",localShortDateTime:"yy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localLongDate:"yyyy\u5e74mm\u6708dd\u65e5",localLangDateTime:"yyyy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localFullDate:"yyyy\u5e74mm\u6708dd\u65e5 w",
localFullDateTime:"yyyy\u5e74mm\u6708dd\u65e5 w hh:MM:ss TT"},s={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October",
"November","December"]};return function(m,l,g){if(arguments.length==1&&Object.prototype.toString.call(m)=="[object String]"&&!/\d/.test(m)){l=m;m=undefined}m=m?new Date(m):new Date;if(isNaN(m))throw SyntaxError("invalid date");l=String(k[l]||l||k["default"]);if(l.slice(0,4)=="UTC:"){l=l.slice(4);g=true}var p=g?"getUTC":"get",v=m[p+"Date"](),x=m[p+"Day"](),o=m[p+"Month"](),a=m[p+"FullYear"](),b=m[p+"Hours"](),n=m[p+"Minutes"](),e=m[p+"Seconds"]();p=m[p+"Milliseconds"]();var h=g?0:m.getTimezoneOffset(),
q={d:v,dd:i(v),ddd:s.dayNames[x],dddd:s.dayNames[x+7],w:s.dayNames[x+14],m:o+1,mm:i(o+1),mmm:s.monthNames[o],mmmm:s.monthNames[o+12],yy:String(a).slice(2),yyyy:a,h:b%12||12,hh:i(b%12||12),H:b,HH:i(b),M:n,MM:i(n),s:e,ss:i(e),l:i(p,3),L:i(p>99?Math.round(p/10):p),t:b<12?"a":"p",tt:b<12?"am":"pm",T:b<12?"A":"P",TT:b<12?"AM":"PM",Z:g?"UTC":(String(m).match(f)||[""]).pop().replace(j,""),o:(h>0?"-":"+")+i(Math.floor(Math.abs(h)/60)*100+Math.abs(h)%60,4),S:["th","st","nd","rd"][v%10>3?0:(v%100-v%10!=10)*
v%10]};return l.replace(d,function(u){return u in q?q[u]:u.slice(1,u.length-1)})}}();c.Date={format:function(d,f,j){return t(d,f,j)},parse:function(d){return r(d)}}});
KISSY.add("calendar",function(c,r){function t(d,f){this._init(d,f)}c.augment(t,{_init:function(d,f){this.id=this.C_Id=d;this._buildParam(f);if(this.popup){this.trigger=c.one("#"+d);this.C_Id="C_"+Math.random().toString().replace(/.\./i,"");this.con=c.Node('<div id="'+this.C_Id+'"></div>');c.one("body").append(this.con);this.con.css({top:"0px",position:"absolute",background:"white",visibility:"hidden"})}else this.con=c.one("#"+d);d=new Function;c.augment(d,c.EventTarget);d=new d;c.mix(this,d);this.render();
this._buildEvent();return this},render:function(d){var f=0,j,i;d=d||{};this._parseParam(d);this.ca=[];this.con.addClass("ks-cal-call ks-clearfix multi-"+this.pages);this.con.html("");f=0;for(i=[this.year,this.month];f<this.pages;f++){if(f==0)d=true;else{d=false;i=this._computeNextMonth(i)}j=f==this.pages-1;this.ca.push(new this.Page({year:i[0],month:i[1],prev_arrow:d,next_arrow:j,showTime:this.showTime},this));this.ca[f].render()}return this},_showdate:function(d,f){d=new Date(f-0+d*864E5);d=d.getFullYear()+
"/"+(d.getMonth()+1)+"/"+d.getDate();return new Date(d)},_buildEvent:function(){var d=this;if(!d.popup)return this;for(var f=0;f<d.EV.length;f++)d.EV[f]!==r&&d.EV[f].detach();d.EV[0]=c.one("body").on("click",function(j){j.target=c.Node(j.target);if(j.target.attr("id")!=d.C_Id)if(!((j.target.hasClass("next")||j.target.hasClass("prev"))&&j.target[0].tagName=="A"))if(j.target.attr("id")!=d.id)c.DOM.contains(c.one("#"+d.C_Id),j.target)||d.hide()});for(f=0;f<d.triggerType.length;f++)d.EV[1]=c.one("#"+
d.id).on(d.triggerType[f],function(j){j.target=c.Node(j.target);j.preventDefault();var i=d.triggerType;if(c.inArray("click",i)&&c.inArray("focus",i))j.type=="focus"&&d.toggle();else if(c.inArray("click",i)&&!c.inArray("focus",i))j.type=="click"&&d.toggle();else!c.inArray("click",i)&&c.inArray("focus",i)?setTimeout(function(){d.toggle()},170):d.toggle()});return this},toggle:function(){this.con.css("visibility")=="hidden"?this.show():this.hide()},show:function(){this.con.css("visibility","");var d=
this.trigger.offset().left,f=this.trigger[0].offsetHeight||this.trigger.height();f=this.trigger.offset().top+f;this.con.css("left",d.toString()+"px");this.con.css("top",f.toString()+"px");return this},hide:function(){this.con.css("visibility","hidden");return this},_buildParam:function(d){function f(s,m){var l=d[m];j[m]=l===r||l==null?s:l}var j=this;if(d===r||d==null)d={};c.each({date:new Date,startDay:0,pages:1,closable:false,rangeSelect:false,minDate:false,maxDate:false,multiSelect:false,navigator:true,
arrow_left:false,arrow_right:false,popup:false,showTime:false,triggerType:["click"]},f);f(j.date,"selected");if(d.startDay)j.startDay=(7-d.startDay)%7;if(d.range!==r&&d.range!=null){var i=j._showdate(1,new Date(d.range.start.getFullYear()+"/"+(d.range.start.getMonth()+1)+"/"+d.range.start.getDate())),k=j._showdate(1,new Date(d.range.end.getFullYear()+"/"+(d.range.end.getMonth()+1)+"/"+d.range.end.getDate()));j.range={start:i,end:k}}else j.range={start:null,end:null};j.EV=[];return this},_parseParam:function(d){var f;
if(d===r||d==null)d={};for(f in d)this[f]=d[f];this._handleDate();return this},_templetShow:function(d,f){var j,i,k,s;if(f instanceof Array){j="";for(i=0;i<f.length;i++)j+=arguments.callee(d,f[i]);d=j}else{j=d.match(/{\$(.*?)}/g);if(f!==r&&j!=null){i=0;for(k=j.length;i<k;i++){s=j[i].replace(/({\$)|}/g,"");s=f[s]!==r?f[s]:"";d=d.replace(j[i],s)}}}return d},_handleDate:function(){var d=this.date;this.weekday=d.getDay()+1;this.day=d.getDate();this.month=d.getMonth();this.year=d.getFullYear();return this},
_getHeadStr:function(d,f){return d.toString()+"\u5e74"+(Number(f)+1).toString()+"\u6708"},_monthAdd:function(){if(this.month==11){this.year++;this.month=0}else this.month++;this.date=new Date(this.year.toString()+"/"+(this.month+1).toString()+"/"+this.day.toString());return this},_monthMinus:function(){if(this.month==0){this.year--;this.month=11}else this.month--;this.date=new Date(this.year.toString()+"/"+(this.month+1).toString()+"/"+this.day.toString());return this},_computeNextMonth:function(d){var f=
d[0];d=d[1];if(d==11){f++;d=0}else d++;return[f,d]},_handleOffset:function(){var d=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],f=this.startDay,j="";j=[];for(var i=0;i<7;i++)j[i]={day:d[(i-f+7)%7]};j=this._templetShow("<span>{$day}</span>",j);return{day_html:j}},_handleRange:function(d){if(this.range.start==null&&this.range.end==null||this.range.start!=null&&this.range.end!=null){this.range.start=d;this.range.end=null;this.render()}else if(this.range.start!=null&&this.range.end==
null){this.range.end=d;if(this.range.start.getTime()>this.range.end.getTime()){d=this.range.start;this.range.start=this.range.end;this.range.end=d}this.fire("rangeSelect",this.range);this.render()}return this}});c.Calendar=t},{requires:["core"]});
KISSY.add("calendar-page",function(c){c.augment(c.Calendar,{Page:function(r,t){this.fathor=t;this.month=Number(r.month);this.year=Number(r.year);this.prev_arrow=r.prev_arrow;this.next_arrow=r.next_arrow;this.timmer=this.node=null;this.id="";this.EV=[];this.html=['<div class="ks-cal-box" id="{$id}"><div class="ks-cal-hd"><a href="javascript:void(0);" class="prev {$prev}"><</a><a href="javascript:void(0);" class="title">{$title}</a><a href="javascript:void(0);" class="next {$next}">></a></div><div class="ks-cal-bd"><div class="whd">',
t._handleOffset().day_html,'</div><div class="dbd ks-clearfix">{$ds}</div></div><div class="ks-setime hidden"></div><div class="ks-cal-ft {$showtime}"><div class="ks-cal-time">\u65f6\u95f4\uff1a00:00 \t&hearts;</div></div><div class="ks-selectime hidden"><!--\u7528\u4ee5\u5b58\u653e\u70b9\u9009\u65f6\u95f4\u7684\u4e00\u4e9b\u5173\u952e\u503c--\></div></div><!--#ks-cal-box--\>'].join("");this.nav_html='<p>\u6708<select value="{$the_month}"><option class="m1" value="1">01</option><option class="m2" value="2">02</option><option class="m3" value="3">03</option><option class="m4" value="4">04</option><option class="m5" value="5">05</option><option class="m6" value="6">06</option><option class="m7" value="7">07</option><option class="m8" value="8">08</option><option class="m9" value="9">09</option><option class="m10" value="10">10</option><option class="m11" value="11">11</option><option class="m12" value="12">12</option></select></p><p>\u5e74<input type="text" value="{$the_year}" onfocus="this.select()"/></p><p><button class="ok">\u786e\u5b9a</button><button class="cancel">\u53d6\u6d88</button></p>';
this.Verify=function(){return{isDay:function(d){if(!/\d+/i.test(d))return false;d=Number(d);return!(d<1||d>31)},isYear:function(d){if(!/\d+/i.test(d))return false;d=Number(d);return!(d<100||d>1E4)},isMonth:function(d){if(!/\d+/i.test(d))return false;d=Number(d);return!(d<1||d>12)}}};this._renderUI=function(){var d={};this.HTML="";d.prev="";d.next="";d.title="";d.ds="";if(!this.prev_arrow)d.prev="hidden";if(!this.next_arrow)d.next="hidden";if(!this.fathor.showtime)d.showtime="hidden";d.id=this.id=
"ks-cal-"+Math.random().toString().replace(/.\./i,"");d.title=this.fathor._getHeadStr(this.year,this.month);this.createDS();d.ds=this.ds;this.fathor.con.append(this.fathor._templetShow(this.html,d));this.node=c.one("#"+this.id);if(this.fathor.showTime){d=this.node.one(".ks-cal-ft");d.removeClass("hidden");this.timmer=new this.fathor.TimeSelector(d,this.fathor)}return this};this._buildEvent=function(){var d=this,f,j=c.one("#"+d.id);for(f=0;f<d.EV.length;f++)typeof d.EV[f]!="undefined"&&d.EV[f].detach();
d.EV[0]=j.one("div.dbd").on("click",function(i){i.preventDefault();i.target=c.Node(i.target);if(!i.target.hasClass("null"))if(!i.target.hasClass("disabled")){i=Number(i.target.html());var k=new Date;k.setDate(i);k.setMonth(d.month);k.setYear(d.year);d.fathor.dt_date=k;d.fathor.fire("select",{date:k});d.fathor.popup&&d.fathor.closable&&d.fathor.hide();d.fathor.rangeSelect&&d.fathor._handleRange(k);d.fathor.render({selected:k})}});d.EV[1]=j.one("a.prev").on("click",function(i){i.preventDefault();d.fathor._monthMinus().render();
d.fathor.fire("monthChange",{date:new Date(d.fathor.year+"/"+(d.fathor.month+1)+"/01")})});d.EV[2]=j.one("a.next").on("click",function(i){i.preventDefault();d.fathor._monthAdd().render();d.fathor.fire("monthChange",{date:new Date(d.fathor.year+"/"+(d.fathor.month+1)+"/01")})});if(d.fathor.navigator){d.EV[3]=j.one("a.title").on("click",function(i){try{d.timmer.hidePopup();i.preventDefault()}catch(k){}i.target=c.Node(i.target);i=j.one(".ks-setime");i.html("");var s=d.fathor._templetShow(d.nav_html,
{the_month:d.month+1,the_year:d.year});i.html(s);i.removeClass("hidden");j.one("input").on("keydown",function(m){m.target=c.Node(m.target);if(m.keyCode==38){m.target.val(Number(m.target.val())+1);m.target[0].select()}if(m.keyCode==40){m.target.val(Number(m.target.val())-1);m.target[0].select()}if(m.keyCode==13){m=j.one(".ks-setime").one("select").val();var l=j.one(".ks-setime").one("input").val();j.one(".ks-setime").addClass("hidden");if(d.Verify().isYear(l))if(d.Verify().isMonth(m)){d.fathor.render({date:new Date(l+
"/"+m+"/01")});d.fathor.fire("monthChange",{date:new Date(l+"/"+m+"/01")})}}})});d.EV[4]=j.one(".ks-setime").on("click",function(i){i.preventDefault();i.target=c.Node(i.target);if(i.target.hasClass("ok")){i=j.one(".ks-setime").one("select").val();var k=j.one(".ks-setime").one("input").val();j.one(".ks-setime").addClass("hidden");if(d.Verify().isYear(k))if(d.Verify().isMonth(i)){d.fathor.render({date:new Date(k+"/"+i+"/01")});d.fathor.fire("monthChange",{date:new Date(k+"/"+i+"/01")})}}else i.target.hasClass("cancel")&&
j.one(".ks-setime").addClass("hidden")})}return this};this._getNode=function(){return this.node};this._getNumOfDays=function(d,f){return 32-(new Date(d,f-1,32)).getDate()};this.createDS=function(){var d="",f=((new Date(this.year+"/"+(this.month+1)+"/01")).getDay()+this.fathor.startDay+7)%7,j=this._getNumOfDays(this.year,this.month+1)+f,i,k;for(i=0;i<j;i++){k=/532/.test(c.UA.webkit)?new Date(this.year+"/"+Number(this.month+1)+"/"+(i+1-f).toString()):new Date(this.year+"/"+Number(this.month+1)+"/"+
(i+2-f).toString());var s=new Date(this.year+"/"+Number(this.month+1)+"/"+(i+1-f).toString());d+=i<f?'<a href="javascript:void(0);" class="null">0</a>':this.fathor.minDate instanceof Date&&(new Date(this.year+"/"+(this.month+1)+"/"+(i+2-f))).getTime()<this.fathor.minDate.getTime()+1?'<a href="javascript:void(0);" class="disabled">'+(i-f+1)+"</a>":this.fathor.maxDate instanceof Date&&(new Date(this.year+"/"+(this.month+1)+"/"+(i+1-f))).getTime()>this.fathor.maxDate.getTime()?'<a href="javascript:void(0);" class="disabled">'+
(i-f+1)+"</a>":this.fathor.range.start!=null&&this.fathor.range.end!=null&&k.getTime()>=this.fathor.range.start.getTime()&&s.getTime()<this.fathor.range.end.getTime()?i==f+(new Date).getDate()-1&&(new Date).getFullYear()==this.year&&(new Date).getMonth()==this.month?'<a href="javascript:void(0);" class="range today">'+(i-f+1)+"</a>":'<a href="javascript:void(0);" class="range">'+(i-f+1)+"</a>":i==f+(new Date).getDate()-1&&(new Date).getFullYear()==this.year&&(new Date).getMonth()==this.month?'<a href="javascript:void(0);" class="today">'+
(i-f+1)+"</a>":i==f+this.fathor.selected.getDate()-1&&this.month==this.fathor.selected.getMonth()&&this.year==this.fathor.selected.getFullYear()?'<a href="javascript:void(0);" class="selected">'+(i-f+1)+"</a>":'<a href="javascript:void(0);">'+(i-f+1)+"</a>"}if(j%7!=0)for(i=0;i<7-j%7;i++)d+='<a href="javascript:void(0);" class="null">0</a>';this.ds=d;return this};this.render=function(){this._renderUI();this._buildEvent();return this}}})},{host:"calendar"});
KISSY.add("calendar-time",function(c){c.augment(c.Calendar,{TimeSelector:function(r,t){this.fathor=t;this.fcon=r.parent(".ks-cal-box");this.popupannel=this.fcon.one(".ks-selectime");if(typeof t._time=="undefined")t._time=new Date;this.time=t._time;this.status="s";this.ctime=c.Node('<div class="ks-cal-time">\u65f6\u95f4\uff1a<span class="h">h</span>:<span class="m">m</span>:<span class="s">s</span><!--{{arrow--\><div class="cta"><button class="u"></button><button class="d"></button></div><!--arrow}}--\></div>');
this.button=c.Node('<button class="ct-ok">\u786e\u5b9a</button>');this.h_a=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"];this.m_a=["00","10","20","30","40","50"];this.s_a=["00","10","20","30","40","50"];this.parseSubHtml=function(d){for(var f="",j=0;j<d.length;j++)f+='<a href="javascript:void(0);" class="item">'+d[j]+"</a>";f+='<a href="javascript:void(0);" class="x">x</a>';return f};this.showPopup=function(d){this.popupannel.html(d);
this.popupannel.removeClass("hidden");d=this.status;this.ctime.all("span").removeClass("on");switch(d){case "h":this.ctime.all(".h").addClass("on");break;case "m":this.ctime.all(".m").addClass("on");break;case "s":this.ctime.all(".s").addClass("on");break}};this.hidePopup=function(){this.popupannel.addClass("hidden")};this.render=function(){var d=this.get("h"),f=this.get("m"),j=this.get("s");this.fathor._time=this.time;this.ctime.all(".h").html(d);this.ctime.all(".m").html(f);this.ctime.all(".s").html(j);
return this};this.set=function(d,f){f=Number(f);switch(d){case "h":this.time.setHours(f);break;case "m":this.time.setMinutes(f);break;case "s":this.time.setSeconds(f);break}this.render()};this.get=function(d){var f=this.time;switch(d){case "h":return f.getHours();case "m":return f.getMinutes();case "s":return f.getSeconds()}};this.add=function(){var d=this.status,f=this.get(d);f++;this.set(d,f)};this.minus=function(){var d=this.status,f=this.get(d);f--;this.set(d,f)};this._init=function(){var d=this;
r.html("").append(d.ctime);r.append(d.button);d.render();d.popupannel.on("click",function(f){f=c.Node(f.target);if(f.hasClass("x"))d.hidePopup();else if(f.hasClass("item")){f=Number(f.html());d.set(d.status,f);d.hidePopup()}});d.button.on("click",function(){var f=typeof d.fathor.dt_date=="undefined"?d.fathor.date:d.fathor.dt_date;f.setHours(d.get("h"));f.setMinutes(d.get("m"));f.setSeconds(d.get("s"));d.fathor.fire("timeSelect",{date:f});d.fathor.popup&&d.fathor.closable&&d.fathor.hide()});d.ctime.on("keyup",
function(f){if(f.keyCode==38||f.keyCode==37){f.preventDefault();d.add()}if(f.keyCode==40||f.keyCode==39){f.preventDefault();d.minus()}});d.ctime.one(".u").on("click",function(){d.hidePopup();d.add()});d.ctime.one(".d").on("click",function(){d.hidePopup();d.minus()});d.ctime.one(".h").on("click",function(){var f=d.parseSubHtml(d.h_a);d.status="h";d.showPopup(f)});d.ctime.one(".m").on("click",function(){var f=d.parseSubHtml(d.m_a);d.status="m";d.showPopup(f)});d.ctime.one(".s").on("click",function(){var f=
d.parseSubHtml(d.s_a);d.status="s";d.showPopup(f)})};this._init()}})},{host:"calendar"});
