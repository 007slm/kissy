/*
Copyright 2010, KISSY UI Library v1.1.3
MIT Licensed
build time: Sep 9 13:08
*/
(function(c,q,s){if(c[q]===s)c[q]={};q=c[q];var t=c.document,k=location,o=function(f,n,w,x){if(!n||!f)return f;if(w===s)w=true;var m,a,b;if(x&&(b=x.length))for(m=0;m<b;m++){a=x[m];if(a in n)if(w||!(a in f))f[a]=n[a]}else for(a in n)if(w||!(a in f))f[a]=n[a];return f},j=false,g=[],r=false,l=/^#?([\w-]+)$/,h=0;o(q,{version:"1.1.3",__init:function(){this.Env={mods:{},_loadQueue:{}};var f=t.getElementsByTagName("script");this.Config={debug:"",base:f[f.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(f){r||this._bindReady();j?f.call(c,this):g.push(f);return this},_bindReady:function(){var f=this,n=t.documentElement.doScroll,w=n?"onreadystatechange":"DOMContentLoaded",x=function(){f._fireReady()};r=true;if(t.readyState==="complete")return x();if(t.addEventListener){var m=function(){t.removeEventListener(w,m,false);x()};t.addEventListener(w,m,false);c.addEventListener("load",x,false)}else{var a=function(){if(t.readyState==="complete"){t.detachEvent(w,a);x()}};t.attachEvent(w,
a);c.attachEvent("onload",x);if(c==c.top){var b=function(){try{n("left");x()}catch(i){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!j){j=true;if(g){for(var f,n=0;f=g[n++];)f.call(c,this);g=null}}},available:function(f,n){if((f=(f+"").match(l)[1])&&q.isFunction(n))var w=1,x=q.later(function(){if(t.getElementById(f)&&(n()||1)||++w>500)x.cancel()},40,true)},mix:o,merge:function(){var f={},n,w=arguments.length;for(n=0;n<w;++n)o(f,arguments[n]);return f},augment:function(){var f=arguments,n=f.length-
2,w=f[0],x=f[n],m=f[n+1],a=1;if(!q.isArray(m)){x=m;m=s;n++}if(!q.isBoolean(x)){x=s;n++}for(;a<n;a++)o(w.prototype,f[a].prototype||f[a],x,m);return w},extend:function(f,n,w,x){if(!n||!f)return f;var m=Object.prototype,a=n.prototype,b=function(i){function d(){}d.prototype=i;return new d}(a);f.prototype=b;b.constructor=f;f.superclass=a;if(n!==Object&&a.constructor===m.constructor)a.constructor=n;w&&o(b,w);x&&o(f,x);return f},namespace:function(){var f=arguments.length,n=null,w,x,m;for(w=0;w<f;++w){m=
(""+arguments[w]).split(".");n=this;for(x=c[m[0]]===n?1:0;x<m.length;++x)n=n[m[x]]=n[m[x]]||{}}return n},app:function(f,n){var w=q.isString(f),x=w?c[f]||{}:f;o(x,this,true,q.__APP_MEMBERS);x.__init();o(x,q.isFunction(n)?n():n);w&&(c[f]=x);return x},log:function(f,n,w){if(q.Config.debug){if(w)f=w+": "+f;if(c.console!==s&&console.log)console[n&&console[n]?n:"log"](f)}},error:function(f){if(q.Config.debug)throw f;},guid:function(f){var n=h++ +"";return f?f+n:n}});q.__init();q.__APP_MEMBERS=["__init",
"namespace"];if(k&&(k.search||"").indexOf("ks-debug")!==-1)q.Config.debug=true})(window,"KISSY");
(function(c,q,s){function t(e){var p=typeof e;return e===null||p!=="object"&&p!=="function"}function k(e){return g.slice.call(e)}var o=document,j=o.documentElement,g=Array.prototype,r=g.indexOf,l=g.lastIndexOf,h=g.filter,f=String.prototype.trim,n=Object.prototype.toString,w=encodeURIComponent,x=decodeURIComponent,m=w("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,i=/\S/;q.mix(q,{isUndefined:function(e){return e===s},isBoolean:function(e){return n.call(e)==="[object Boolean]"},isString:function(e){return n.call(e)===
"[object String]"},isNumber:function(e){return n.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&n.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var p in e)return false;return true},isFunction:function(e){return n.call(e)==="[object Function]"},isArray:function(e){return n.call(e)==="[object Array]"},trim:f?function(e){return e==s?"":f.call(e)}:function(e){return e==s?"":e.toString().replace(a,"")},substitute:function(e,p,u){if(!q.isString(e)||
!q.isPlainObject(p))return e;return e.replace(u||/\\?\{([^{}]+)\}/g,function(v,A){if(v.charAt(0)==="\\")return v.slice(1);return p[A]!==s?p[A]:""})},each:function(e,p,u){var v,A=0,y=e.length,z=y===s||q.isFunction(e);u=u||c;if(z)for(v in e){if(p.call(u,e[v],v,e)===false)break}else for(v=e[0];A<y&&p.call(u,v,A,e)!==false;v=e[++A]);return e},indexOf:r?function(e,p){return r.call(p,e)}:function(e,p){for(var u=0,v=p.length;u<v;++u)if(p[u]===e)return u;return-1},lastIndexOf:l?function(e,p){return l.call(p,
e)}:function(e,p){for(var u=p.length-1;u>=0;u--)if(p[u]===e)break;return u},unique:function(e,p){p&&e.reverse();e=e.slice();for(var u=0,v,A;u<e.length;){for(A=e[u];(v=q.lastIndexOf(A,e))!==u;)e.splice(v,1);u+=1}p&&e.reverse();return e},inArray:function(e,p){return q.indexOf(e,p)>-1},makeArray:function(e){if(e===null||e===s)return[];if(q.isArray(e))return e;if(typeof e.length!=="number"||q.isString(e)||q.isFunction(e))return[e];return k(e)},filter:h?function(e,p,u){return h.call(e,p,u)}:function(e,
p,u){var v=[];q.each(e,function(A,y,z){p.call(u,A,y,z)&&v.push(A)});return v},param:function(e,p){if(!q.isPlainObject(e))return"";p=p||"&";var u=[],v,A;for(v in e){A=e[v];v=w(v);if(t(A))u.push(v,"=",w(A+""),p);else if(q.isArray(A)&&A.length)for(var y=0,z=A.length;y<z;++y)t(A[y])&&u.push(v,m+"=",w(A[y]+""),p)}u.pop();return u.join("")},unparam:function(e,p){if(typeof e!=="string"||(e=q.trim(e)).length===0)return{};var u={};e=e.split(p||"&");for(var v,A,y,z=0,B=e.length;z<B;++z){p=e[z].split("=");v=
x(p[0]);try{A=x(p[1]||"")}catch(C){A=p[1]||""}if((y=v.match(b))&&y[1]){u[y[1]]=u[y[1]]||[];u[y[1]].push(A)}else u[v]=A}return u},later:function(e,p,u,v,A){p=p||0;v=v||{};var y=e,z=q.makeArray(A),B;if(q.isString(e))y=v[e];y||q.error("method undefined");e=function(){y.apply(v,z)};B=u?setInterval(e,p):setTimeout(e,p);return{id:B,interval:u,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var p=e,u,v;if(e&&((u=q.isArray(e))||q.isPlainObject(e))){p=u?[]:{};for(v in e)if(e.hasOwnProperty(v))p[v]=
q.clone(e[v])}return p},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&i.test(e)){var p=o.getElementsByTagName("head")[0]||j,u=o.createElement("script");u.text=e;p.insertBefore(u,p.firstChild);p.removeChild(u)}}});try{k(j.childNodes)}catch(d){k=function(e){for(var p=[],u=e.length-1;u>=0;u--)p[u]=e[u];return p}}})(window,KISSY);
(function(c,q,s){var t=c.document,k=t.getElementsByTagName("head")[0]||t.documentElement,o=2,j=3,g=4,r=q.mix,l=t.createElement("script").readyState?function(f,n){var w=f.onreadystatechange;f.onreadystatechange=function(){var x=f.readyState;if(x==="loaded"||x==="complete"){f.onreadystatechange=null;w&&w();n.call(this)}}}:function(f,n){f.addEventListener("load",n,false)},h=/\.css(?:\?|$)/i;c={add:function(f,n,w){var x=this.Env.mods,m;if(q.isString(f)&&!w&&q.isPlainObject(n)){m={};m[f]=n;f=m}if(q.isPlainObject(f)){q.each(f,
function(a,b){a.name=b;x[b]&&r(a,x[b],false)});r(x,f)}else{w=w||{};m=x[f]||{};f=w.host||m.host||f;m=x[f]||{};r(m,{name:f,status:o});if(!m.fns)m.fns=[];n&&m.fns.push(n);r(x[f]=m,w);m.attach!==false&&this.__isAttached(m.requires)&&this.__attachMod(m)}return this},use:function(f,n,w){f=f.replace(/\s+/g,"").split(",");w=w||{};var x=this,m=x.Env.mods,a=(w||0).global,b,i=f.length,d,e,p;a&&x.__mixMods(a);if(x.__isAttached(f))n&&n(x);else{for(b=0;b<i&&(d=m[f[b]]);b++)if(d.status!==g){if(w.order&&b>0){if(!d.requires)d.requires=
[];d._requires=d.requires.concat();e=f[b-1];if(!q.inArray(e,d.requires)&&!q.inArray(d.name,m[e].requires||[]))d.requires.push(e)}x.__attach(d,function(){if(!p&&x.__isAttached(f)){p=true;if(d._requires)d.requires=d._requires;n&&n(x)}},a)}return x}},__attach:function(f,n,w){function x(){if(m.__isAttached(a)){f.status===o&&m.__attachMod(f);f.status===g&&n()}}for(var m=this,a=f.requires||[],b=0,i=a.length;b<i;b++)m.__attach(m.Env.mods[a[b]],x,w);m.__buildPath(f);m.__load(f,x,w)},__mixMods:function(f){var n=
this.Env.mods,w=f.Env.mods,x;for(x in w)this.__mixMod(n,w,x,f)},__mixMod:function(f,n,w,x){var m=f[w]||{},a=m.status;q.mix(m,q.clone(n[w]));if(a)m.status=a;x&&this.__buildPath(m,x.Config.base);f[w]=m},__attachMod:function(f){var n=this;if(f.fns){q.each(f.fns,function(w){w&&w(n)});f.fns=s}f.status=g},__isAttached:function(f){for(var n=this.Env.mods,w,x=(f=q.makeArray(f)).length-1;x>=0&&(w=n[f[x]]);x--)if(w.status!==g)return false;return true},__load:function(f,n,w){function x(){m();if(f.status!==j){w&&
a.__mixMod(a.Env.mods,w.Env.mods,f.name,w);if(f.status!==g)f.status=o;n()}}function m(){i[b]=o}var a=this,b=f.fullpath,i=q.Env._loadQueue,d=i[b];f.status=f.status||0;if(f.status<1&&d)f.status=d.nodeName?1:o;if(q.isString(f.cssfullpath)){a.getScript(f.cssfullpath);f.cssfullpath=o}if(f.status<1&&b){f.status=1;d=a.getScript(b,{success:function(){KISSY.log(f.name+" is loaded.","info");x()},error:function(){f.status=j;m()},charset:f.charset});h.test(b)||(i[b]=d)}else f.status===1?l(d,x):n()},__buildPath:function(f,
n){function w(m,a){if(!f[a]&&f[m])f[a]=(n||x.base)+f[m];if(f[a]&&x.debug)f[a]=f[a].replace(/-min/g,"")}var x=this.Config;w("path","fullpath");f.cssfullpath!==o&&w("csspath","cssfullpath")},getScript:function(f,n,w){var x=h.test(f),m=t.createElement(x?"link":"script"),a=n,b,i,d;if(q.isPlainObject(a)){n=a.success;b=a.error;i=a.timeout;w=a.charset}if(x){m.href=f;m.rel="stylesheet"}else{m.src=f;m.async=true}if(w)m.charset=w;if(q.isFunction(n))x?n.call(m):l(m,function(){if(d){d.cancel();d=s}n.call(m)});
if(q.isFunction(b))d=q.later(function(){d=s;b()},(i||this.Config.timeout)*1E3);k.insertBefore(m,k.firstChild);return m}};r(q,c);q.each(c,function(f,n){q.__APP_MEMBERS.push(n)})})(window,KISSY);(function(c){var q={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay"],function(s){q[s]={path:s+"/"+s+"-pkg-min.js",requires:["core"],charset:"utf-8"}});c.add(q)})(KISSY);
KISSY.add("ua",function(c){var q=navigator.userAgent,s="",t="",k,o={},j=function(g){var r=0;return parseFloat(g.replace(/\./g,function(){return r++===0?".":""}))};if((k=q.match(/AppleWebKit\/([\d.]*)/))&&k[1]){o[s="webkit"]=j(k[1]);if((k=q.match(/Chrome\/([\d.]*)/))&&k[1])o[t="chrome"]=j(k[1]);else if((k=q.match(/\/([\d.]*) Safari/))&&k[1])o[t="safari"]=j(k[1]);if(/ Mobile\//.test(q))o.mobile="apple";else if(k=q.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))o.mobile=k[0].toLowerCase()}else if((k=
q.match(/Presto\/([\d.]*)/))&&k[1]){o[s="presto"]=j(k[1]);if((k=q.match(/Opera\/([\d.]*)/))&&k[1]){o[t="opera"]=j(k[1]);if((k=q.match(/Opera\/.* Version\/([\d.]*)/))&&k[1])o[t]=j(k[1]);if((k=q.match(/Opera Mini[^;]*/))&&k)o.mobile=k[0].toLowerCase();else if((k=q.match(/Opera Mobi[^;]*/))&&k)o.mobile=k[0]}}else if((k=q.match(/MSIE\s([^;]*)/))&&k[1]){o[s="trident"]=0.1;o[t="ie"]=j(k[1]);if((k=q.match(/Trident\/([\d.]*)/))&&k[1])o[s]=j(k[1])}else if(k=q.match(/Gecko/)){o[s="gecko"]=0.1;if((k=q.match(/rv:([\d.]*)/))&&
k[1])o[s]=j(k[1]);if((k=q.match(/Firefox\/([\d.]*)/))&&k[1])o[t="firefox"]=j(k[1])}o.core=s;o.shell=t;o._numberify=j;c.UA=o});
KISSY.add("ua-extra",function(c){var q=c.UA,s=navigator.userAgent,t,k,o={},j=q._numberify;if(s.match(/360SE/))o[k="se360"]=3;else if(s.match(/Maxthon/)&&(t=window.external)){k="maxthon";try{o[k]=j(t.max_version)}catch(g){o[k]=0.1}}else if(t=s.match(/TencentTraveler\s([\d.]*)/))o[k="tt"]=t[1]?j(t[1]):0.1;else if(s.match(/TheWorld/))o[k="theworld"]=3;else if(t=s.match(/SE\s([\d.]*)/))o[k="sougou"]=t[1]?j(t[1]):0.1;k&&(o.shell=k);c.mix(q,o)});
KISSY.add("dom",function(c,q){function s(t,k){return t&&t.nodeType===k}c.DOM={_isElementNode:function(t){return s(t,1)},_isKSNode:function(t){return c.Node&&s(t,c.Node.TYPE)},_getWin:function(t){return t&&"scrollTo"in t&&t.document?t:s(t,9)?t.defaultView||t.parentWindow:t===q?window:false},_nodeTypeIs:s}});
KISSY.add("selector",function(c,q){function s(a,b){var i,d=[],e,p;b=t(b);if(c.isString(a)){a=c.trim(a);if(x.test(a)){if(a=k(a.slice(1),b))d=[a]}else if(i=m.exec(a)){e=i[1];p=i[2];i=i[3];if(b=e?k(e,b):b)if(i)if(!e||a.indexOf(h)!==-1)d=j(i,p,b);else{if((a=k(e,b))&&l.hasClass(a,i))d=[a]}else if(p)d=o(p,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else g(a)}else if(a&&(a[n]||a[w]))d=a[n]?[a[n]()]:a[w]();else if(a&&(c.isArray(a)||a.item&&!a.nodeType))d=a;else if(a)d=[a];if(d.item)d=c.makeArray(d);
d.each=function(u,v){return c.each(d,u,v)};return d}function t(a){if(a===q)a=r;else if(c.isString(a)&&x.test(a))a=k(a.slice(1),r);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function k(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function o(a,b){return b.getElementsByTagName(a)}function j(a,b,i){i=a=i.getElementsByClassName(a);var d=0,e=0,p=a.length,u;if(b&&b!==f){i=[];for(b=b.toUpperCase();d<p;++d){u=a[d];if(u.tagName===b)i[e++]=u}}return i}function g(a){c.error("Unsupported selector: "+
a)}var r=document,l=c.DOM,h=" ",f="*",n="getDOMNode",w=n+"s",x=/^#[\w-]+$/,m=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=r.createElement("div");a.appendChild(r.createComment(""));if(a.getElementsByTagName(f).length>0)o=function(b,i){i=i.getElementsByTagName(b);if(b===f){b=[];for(var d=0,e=0,p;p=i[d++];)if(p.nodeType===1)b[e++]=p;i=b}return i}})();r.getElementsByClassName||(j=r.querySelectorAll?function(a,b,i){return i.querySelectorAll((b?b:"")+"."+a)}:function(a,b,i){b=i.getElementsByTagName(b||
f);i=[];var d=0,e=0,p=b.length,u,v;for(a=h+a+h;d<p;++d){u=b[d];if((v=u.className)&&(h+v+h).indexOf(a)>-1)i[e++]=u}return i});c.query=s;c.get=function(a,b){return s(a,b)[0]||null};c.mix(l,{query:s,get:c.get,filter:function(a,b){var i=s(a),d,e,p,u=[];if(c.isString(b)&&(d=m.exec(b))&&!d[1]){e=d[2];p=d[3];b=function(v){return!(e&&v.tagName!==e.toUpperCase()||p&&!l.hasClass(v,p))}}if(c.isFunction(b))u=c.filter(i,b);else if(b&&c.ExternalSelector)u=c.ExternalSelector._filter(a,b);else g(b);return u},test:function(a,
b){a=s(a);return l.filter(a,b).length===a.length}})});
KISSY.add("dom-class",function(c,q){function s(j,g,r,l){if(!(g=c.trim(g)))return l?false:q;j=c.query(j);var h=0,f=j.length;g=g.split(k);for(var n;h<f;h++){n=j[h];if(t._isElementNode(n)){n=r(n,g,g.length);if(n!==q)return n}}if(l)return false}var t=c.DOM,k=/[\.\s]\s*\.?/,o=/[\n\t]/g;c.mix(t,{hasClass:function(j,g){return s(j,g,function(r,l,h){if(r=r.className){r=" "+r+" ";for(var f=0,n=true;f<h;f++)if(r.indexOf(" "+l[f]+" ")<0){n=false;break}if(n)return true}},true)},addClass:function(j,g){s(j,g,function(r,
l,h){var f=r.className;if(f){var n=" "+f+" ";f=f;for(var w=0;w<h;w++)if(n.indexOf(" "+l[w]+" ")<0)f+=" "+l[w];r.className=c.trim(f)}else r.className=g})},removeClass:function(j,g){s(j,g,function(r,l,h){var f=r.className;if(f)if(h){f=(" "+f+" ").replace(o," ");for(var n=0,w;n<h;n++)for(w=" "+l[n]+" ";f.indexOf(w)>=0;)f=f.replace(w," ");r.className=c.trim(f)}else r.className=""})},replaceClass:function(j,g,r){t.removeClass(j,g);t.addClass(j,r)},toggleClass:function(j,g,r){var l=c.isBoolean(r),h;s(j,
g,function(f,n,w){for(var x=0,m;x<w;x++){m=n[x];h=l?!r:t.hasClass(f,m);t[h?"removeClass":"addClass"](f,m)}})}})});
KISSY.add("dom-attr",function(c,q){function s(m,a){return a&&a.nodeName.toUpperCase()===m.toUpperCase()}var t=c.UA,k=t.ie,o=k&&k<8,j=document.documentElement.textContent!==q?"textContent":"innerText",g=c.DOM,r=g._isElementNode,l=function(m){return g._nodeTypeIs(m,3)},h=/href|src|style/,f=/href|src|colspan|rowspan/,n=/\r/g,w=/radio|checkbox/,x={readonly:"readOnly"};o&&c.mix(x,{"for":"htmlFor","class":"className"});c.mix(g,{attr:function(m,a,b){if(c.isPlainObject(a))for(var i in a)g.attr(m,i,a[i]);
else if(a=c.trim(a)){a=a.toLowerCase();a=x[a]||a;if(b===q){m=c.get(m);if(!r(m))return q;var d;h.test(a)||(d=m[a]);if(d===q)d=m.getAttribute(a);if(o)if(f.test(a))d=m.getAttribute(a,2);else if(a==="style")d=m.style.cssText;return d===null?q:d}c.each(c.query(m),function(e){if(r(e))if(a==="style")e.style.cssText=b;else{if(a==="checked")e[a]=!!b;e.setAttribute(a,""+b)}})}},removeAttr:function(m,a){c.each(c.query(m),function(b){if(r(b)){g.attr(b,a,"");b.removeAttribute(a)}})},val:function(m,a){if(a===q){var b=
c.get(m);if(!r(b))return q;if(s("option",b))return(b.attributes.value||{}).specified?b.value:b.text;if(s("select",b)){var i=b.selectedIndex;m=b.options;if(i<0)return null;else if(b.type==="select-one")return g.val(m[i]);b=[];for(var d=0,e=m.length;d<e;++d)m[d].selected&&b.push(g.val(m[d]));return b}if(t.webkit&&w.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(n,"")}c.each(c.query(m),function(p){if(s("select",p)){if(c.isNumber(a))a+="";var u=c.makeArray(a),
v=p.options,A;d=0;for(e=v.length;d<e;++d){A=v[d];A.selected=c.inArray(g.val(A),u)}if(!u.length)p.selectedIndex=-1}else if(r(p))p.value=a})},text:function(m,a){if(a===q){m=c.get(m);if(r(m))return m[j]||"";else if(l(m))return m.nodeValue}else c.each(c.query(m),function(b){if(r(b))b[j]=a;else if(l(b))b.nodeValue=a})}})});
KISSY.add("dom-style",function(c,q){function s(a,b){var i=c.get(a),d=b===r?i.offsetWidth:i.offsetHeight;c.each(b===r?["Left","Right"]:["Top","Bottom"],function(e){d-=parseFloat(k._getComputedStyle(i,"padding"+e))||0;d-=parseFloat(k._getComputedStyle(i,"border"+e+"Width"))||0});return d}function t(a,b,i){var d=i;if(i===l&&f.test(b)){d=0;if(k.css(a,"position")==="absolute"){i=a[b==="left"?"offsetLeft":"offsetTop"];if(o.ie===8||o.opera)i-=h(k.css(a.offsetParent,"border-"+b+"-width"))||0;d=i-(h(k.css(a,
"margin-"+b))||0)}}return d}var k=c.DOM,o=c.UA,j=document,g=j.documentElement,r="width",l="auto",h=parseInt,f=/^left|top$/,n=/width|height|top|left|right|bottom|margin|padding/i,w=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},m={};c.mix(k,{_CUSTOM_STYLES:m,_getComputedStyle:function(a,b){var i="",d=a.ownerDocument;if(a.style)i=d.defaultView.getComputedStyle(a,null)[b];return i},css:function(a,b,i){if(c.isPlainObject(b))for(var d in b)k.css(a,d,b[d]);else{if(b.indexOf("-")>0)b=b.replace(w,x);
b=m[b]||b;if(i===q){a=c.get(a);d="";if(a&&a.style){d=b.get?b.get(a):a.style[b];if(d===""&&!b.get)d=t(a,b,k._getComputedStyle(a,b))}return d===q?"":d}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&n.test(b))i+="px";(b===r||b==="height")&&parseFloat(i)<0||c.each(c.query(a),function(e){if(e&&e.style){b.set?b.set(e,i):(e.style[b]=i);if(i==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(a,b){if(b===q)return s(a,r);else k.css(a,r,b)},height:function(a,b){if(b===q)return s(a,
"height");else k.css(a,"height",b)},addStyleSheet:function(a,b){var i;if(b)i=c.get("#"+b);if(!i){i=k.create("<style>",{id:b});c.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=a;else i.appendChild(j.createTextNode(a))}}});if(g.style.cssFloat!==q)m["float"]="cssFloat";else if(g.style.styleFloat!==q)m["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,q){if(c.UA.ie){var s=c.DOM;c=document;var t=c.documentElement,k=s._CUSTOM_STYLES,o=/^-?\d+(?:px)?$/i,j=/^-?\d/,g=/^width|height$/;try{if(t.style.opacity===q&&t.filters)k.opacity={get:function(l){var h=100;try{h=l.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(f){try{h=l.filters("alpha").opacity}catch(n){}}return h/100+""},set:function(l,h){var f=l.style;l=(l.currentStyle||0).filter||"";f.zoom=1;if(l)if(l=l.replace(/alpha\(opacity=.+\)/ig,""))l+=", ";
f.filter=l+"alpha(opacity="+h*100+")"}}}catch(r){}if(!(c.defaultView||{}).getComputedStyle&&t.currentStyle)s._getComputedStyle=function(l,h){var f=l.style,n=l.currentStyle[h];if(g.test(h))n=s[h](l)+"px";else if(!o.test(n)&&j.test(n)){var w=f.left,x=l.runtimeStyle.left;l.runtimeStyle.left=l.currentStyle.left;f.left=h==="fontSize"?"1em":n||0;n=f.pixelLeft+"px";f.left=w;l.runtimeStyle.left=x}return n}}});
KISSY.add("dom-offset",function(c,q){function s(u){var v=0,A=0,y=h(u[a]);if(u[p]){u=u[p]();v=u[b];A=u[i];if(o.mobile!=="apple"){v+=k[d](y);A+=k[e](y)}}return{left:v,top:A}}function t(u,v){if(k.css(u,x)==="static")u.style[x]=m;var A=s(u),y={},z,B;for(B in v){z=w(k.css(u,B),10)||0;y[B]=z+v[B]-A[B]}k.css(u,y)}var k=c.DOM,o=c.UA,j=window,g=document,r=k._isElementNode,l=k._nodeTypeIs,h=k._getWin,f=g.compatMode==="CSS1Compat",n=Math.max,w=parseInt,x="position",m="relative",a="ownerDocument",b="left",i=
"top",d="scrollLeft",e="scrollTop",p="getBoundingClientRect";c.mix(k,{offset:function(u,v){if(!(u=c.get(u))||!u[a])return null;if(v===q)return s(u);t(u,v)},scrollIntoView:function(u,v,A,y){if((u=c.get(u))&&u[a]){y=y===q?true:!!y;A=A===q?true:!!A;if(!v||v===j)return u.scrollIntoView(A);v=c.get(v);if(l(v,9))v=h(v);var z=v&&"scrollTo"in v&&v.document,B=k.offset(u),C=z?{left:k.scrollLeft(v),top:k.scrollTop(v)}:k.offset(v),D={left:B[b]-C[b],top:B[i]-C[i]};B=z?k.viewportHeight(v):v.clientHeight;C=z?k.viewportWidth(v):
v.clientWidth;var E=k[d](v),F=k[e](v),G=E+C,M=F+B,I=u.offsetHeight;u=u.offsetWidth;var H=D.left+E-(w(k.css(v,"borderLeftWidth"))||0);D=D.top+F-(w(k.css(v,"borderTopWidth"))||0);var N=H+u,J=D+I,K,L;if(I>B||D<F||A)K=D;else if(J>M)K=J-B;if(y)if(u>C||H<E||A)L=H;else if(N>G)L=N-C;if(z){if(K!==q||L!==q)v.scrollTo(L,K)}else{if(K!==q)v[e]=K;if(L!==q)v[d]=L}}}});c.each(["Left","Top"],function(u,v){var A="scroll"+u;k[A]=function(y){var z=0,B=h(y),C;if(B&&(C=B.document))z=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(r(y=c.get(y)))z=y[A];return z}});c.each(["Width","Height"],function(u){k["doc"+u]=function(v){v=v||g;return n(f?v.documentElement["scroll"+u]:v.body["scroll"+u],k["viewport"+u](v))};k["viewport"+u]=function(v){var A="inner"+u;v=h(v);var y=v.document;return A in v?v[A]:f?y.documentElement["client"+u]:y.body["client"+u]}})});
KISSY.add("dom-traversal",function(c,q){function s(j,g,r,l){if(!(j=c.get(j)))return null;if(g===q)g=1;var h=null,f,n;if(c.isNumber(g)&&g>=0){if(g===0)return j;f=0;n=g;g=function(){return++f===n}}for(;j=j[r];)if(o(j)&&(!g||k.test(j,g))&&(!l||l(j))){h=j;break}return h}function t(j,g,r){var l=[];var h=j=c.get(j);if(j&&r)h=j.parentNode;if(h){r=0;for(h=h.firstChild;h;h=h.nextSibling)if(o(h)&&h!==j&&(!g||k.test(h,g)))l[r++]=h}return l}var k=c.DOM,o=k._isElementNode;c.mix(k,{parent:function(j,g){return s(j,
g,"parentNode",function(r){return r.nodeType!=11})},next:function(j,g){return s(j,g,"nextSibling")},prev:function(j,g){return s(j,g,"previousSibling")},siblings:function(j,g){return t(j,g,true)},children:function(j,g){return t(j,g)},contains:function(j,g){var r=false;if((j=c.get(j))&&(g=c.get(g)))if(j.contains)return j.contains(g);else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(g)&16);else for(;!r&&(g=g.parentNode);)r=g==j;return r}})});
KISSY.add("dom-create",function(c,q){function s(y,z){n(y)&&c.isPlainObject(z)&&r.attr(y,z);return y}function t(y,z){var B=null,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;B=z.createDocumentFragment();if(y.item)y=c.makeArray(y);z=0;for(C=y.length;z<C;z++)B.appendChild(y[z])}return B}function k(y){var z=y.cloneNode(true);if(l.ie<8)z.innerHTML=y.innerHTML;return z}function o(y,z,B,C){if(B){var D=c.guid("ks-tmp-"),E=new RegExp(a);z+='<span id="'+D+'"></span>';c.available(D,function(){var F=
c.get("head"),G,M,I,H,N,J;for(E.lastIndex=0;G=E.exec(z);)if((I=(M=G[1])?M.match(i):false)&&I[2]){G=g.createElement("script");G.src=I[2];if((H=M.match(d))&&H[2])G.charset=H[2];G.async=true;F.appendChild(G)}else if((J=G[2])&&J.length>0)c.globalEval(J);(N=g.getElementById(D))&&r.remove(N);c.isFunction(C)&&C()});j(y,z)}else{j(y,z);c.isFunction(C)&&C()}}function j(y,z){z=(z+"").replace(a,"");try{y.innerHTML=z}catch(B){for(;y.firstChild;)y.removeChild(y.firstChild);z&&y.appendChild(r.create(z))}}var g=
document,r=c.DOM,l=c.UA,h=l.ie,f=r._nodeTypeIs,n=r._isElementNode,w=r._isKSNode,x=g.createElement("div"),m=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,b=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,i=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;c.mix(r,{create:function(y,z,B){if(f(y,1)||f(y,3))return k(y);if(w(y))return k(y[0]);if(!(y=c.trim(y)))return null;var C=null;C=r._creators;var D,E="div",F;if(D=b.exec(y))C=(B||g).createElement(D[1]);else{if((D=m.exec(y))&&(F=D[1])&&c.isFunction(C[F=F.toLowerCase()]))E=
F;y=C[E](y,B).childNodes;C=y.length===1?y[0].parentNode.removeChild(y[0]):t(y,B||g)}return s(C,z)},_creators:{div:function(y,z){z=z?z.createElement("div"):x;z.innerHTML=y;return z}},html:function(y,z,B,C){if(z===q){y=c.get(y);if(n(y))return y.innerHTML}else c.each(c.query(y),function(D){n(D)&&o(D,z,B,C)})},remove:function(y){c.each(c.query(y),function(z){n(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(l.gecko||h){var e=r._creators,p=r.create,u=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in v)(function(y){e[A]=function(z,B){return p("<"+y+">"+z+"</"+y+">",null,B)}})(v[A]);if(h){e.script=function(y,z){z=z?z.createElement("div"):x;z.innerHTML="-"+y;z.removeChild(z.firstChild);return z};if(h<8)e.tbody=function(y,z){z=p("<table>"+y+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!u.test(y)&&B.parentNode.removeChild(B);return z}}c.mix(e,{optgroup:e.option,th:e.td,
thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(q,s){if((q=c.get(q))&&(s=c.get(s))&&s.parentNode)s.parentNode.insertBefore(q,s);return q},insertAfter:function(q,s){if((q=c.get(q))&&(s=c.get(s))&&s.parentNode)s.nextSibling?s.parentNode.insertBefore(q,s.nextSibling):s.parentNode.appendChild(q);return q}})});
KISSY.add("event",function(c,q){function s(m,a,b,i,d){if(c.isString(a))a=c.query(a);if(c.isArray(a)){c.each(a,function(e){x[m](e,b,i,d)});return true}if((b=c.trim(b))&&b.indexOf(f)>0){c.each(b.split(f),function(e){x[m](a,e,i,d)});return true}}function t(m){return j(m)?m[h]:-1}function k(m,a){if(!j(m))return c.error("Text or comment node is not valid event target.");try{m[h]=a}catch(b){c.error(b)}}function o(m){try{m[h]=q;delete m[h]}catch(a){}}function j(m){return m&&m.nodeType!==3&&m.nodeType!==
8}var g=document,r=g.addEventListener?function(m,a,b,i){m.addEventListener&&m.addEventListener(a,b,!!i)}:function(m,a,b){m.attachEvent&&m.attachEvent("on"+a,b)},l=g.removeEventListener?function(m,a,b,i){m.removeEventListener&&m.removeEventListener(a,b,!!i)}:function(m,a,b){m.detachEvent&&m.detachEvent("on"+a,b)},h="ksEventTargetId",f=" ",n=c.now(),w={},x={EVENT_GUID:h,special:{},add:function(m,a,b,i){if(!s("add",m,a,b,i)){var d=t(m),e,p,u,v,A;if(!(d===-1||!a||!c.isFunction(b))){if(!d){k(m,d=n++);
w[d]={target:m,events:{}}}p=w[d].events;if(!p[a]){e=((d=!m.isCustomEventTarget)||m._supportSpecialEvent)&&x.special[a]||{};u=function(y,z){if(!y||!y.fixed){y=new c.EventObject(m,y,a);c.isPlainObject(z)&&c.mix(y,z)}e.setup&&e.setup(y);return(e.handle||x._handle)(m,y,p[a].listeners)};p[a]={handle:u,listeners:[]};v=e.fix||a;A=e.capture;if(d)r(m,v,u,A);else m._addEvent&&m._addEvent(v,u,A)}p[a].listeners.push({fn:b,scope:i||m})}}},remove:function(m,a,b,i){if(!s("remove",m,a,b,i)){var d=t(m),e,p,u,v,A,
y,z;if(d!==-1)if(d&&(e=w[d]))if(e.target===m){i=i||m;e=e.events||{};if(p=e[a]){u=p.listeners;y=u.length;if(c.isFunction(b)&&y){A=v=0;for(z=[];v<y;++v)if(b!==u[v].fn||i!==u[v].scope)z[A++]=u[v];p.listeners=z;y=z.length}if(b===q||y===0){if(m.isCustomEventTarget)m._addEvent&&m._removeEvent(a,p.handle);else{b=x.special[a]||{};l(m,b.fix||a,p.handle)}delete e[a]}}if(a===q||c.isEmptyObject(e)){for(a in e)x.remove(m,a);delete w[d];o(m)}}}},_handle:function(m,a,b){b=b.slice(0);for(var i,d=0,e=b.length;d<e;++d){i=
b[d];i=i.fn.call(i.scope||m,a);if(i===false&&m.isCustomEventTarget||a.isImmediatePropagationStopped)break}return i},_getCache:function(m){return w[m]},_simpleAdd:r,_simpleRemove:l};x.on=x.add;c.Event=x});
KISSY.add("event-object",function(c,q){function s(o,j,g){this.currentTarget=o;this.originalEvent=j||{};if(j){this.type=j.type;this._fix()}else{this.type=g;this.target=o}this.currentTarget=o;this.fixed=true}var t=document,k="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(s,
{_fix:function(){var o=this.originalEvent,j=k.length,g,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||t;j;){g=k[--j];this[g]=o[g]}if(!this.target)this.target=this.srcElement||t;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===q&&this.clientX!==q){o=r.documentElement;j=r.body;this.pageX=this.clientX+(o&&o.scrollLeft||j&&j.scrollLeft||
0)-(o&&o.clientLeft||j&&j.clientLeft||0);this.pageY=this.clientY+(o&&o.scrollTop||j&&j.scrollTop||0)-(o&&o.clientTop||j&&j.clientTop||0)}if(this.which===q)this.which=this.charCode!==q?this.charCode:this.keyCode;if(this.metaKey===q)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==q)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var o=this.originalEvent;if(o.preventDefault)o.preventDefault();else o.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var o=
this.originalEvent;if(o.stopPropagation)o.stopPropagation();else o.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var o=this.originalEvent;o.stopImmediatePropagation?o.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(o){o?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=s});
KISSY.add("event-target",function(c,q){var s=c.Event,t=s.EVENT_GUID;c.EventTarget={isCustomEventTarget:true,fire:function(k,o){if((k=((s._getCache(this[t]||-1)||{}).events||{})[k])&&c.isFunction(k.handle))return k.handle(q,o);return this},on:function(k,o,j){s.add(this,k,o,j);return this},detach:function(k,o,j){s.remove(this,k,o,j);return this}}});
KISSY.add("event-mouseenter",function(c){var q=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){q.special[s.name]={fix:s.fix,setup:function(t){t.type=s.name},handle:function(t,k,o){var j=k.relatedTarget;try{for(;j&&j!==t;)j=j.parentNode;j!==t&&q._handle(t,k,o)}catch(g){}}}})});
KISSY.add("event-focusin",function(c){var q=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){q.special[s.name]={fix:s.fix,capture:true,setup:function(t){t.type=s.name}}})});
KISSY.add("node",function(c){function q(k,o,j){var g;if(!(this instanceof q))return new q(k,o,j);if(k){if(t(k,1)||t(k,3))g=k;else if(c.isString(k))g=s.create(k,o,j);this[0]=g}else this.length=0}var s=c.DOM,t=s._nodeTypeIs;q.TYPE="-ks-Node";c.augment(q,{length:1,getDOMNode:function(){return this[0]},nodeType:q.TYPE});c.one=function(k,o){return(k=c.get(k,o))?new q(k):null};c.Node=q});
KISSY.add("nodelist",function(c){function q(k){if(!(this instanceof q))return new q(k);t.push.apply(this,k||[])}var s=c.DOM,t=Array.prototype;c.mix(q.prototype,{length:0,item:function(k){var o=null;if(s._isElementNode(this[k]))o=new c.Node(this[k]);return o},getDOMNodes:function(){return t.slice.call(this)},each:function(k,o){var j=this.length,g=0,r;for(r=new c.Node(this[0]);g<j&&k.call(o||r,r,g,this)!==false;r=new c.Node(this[++g]));return this}});c.all=function(k,o){return new q(c.query(k,o,true))};
c.NodeList=q});
KISSY.add("node-attach",function(c,q){function s(m,arguments,a,b){var i=[this[m?f:h]()].concat(c.makeArray(arguments));if(arguments[a]===q)return b.apply(k,i);else{b.apply(k,i);return this}}function t(m,a){c.each(m,function(b){c.each([r,l],function(i,d){i[b]=function(e){switch(a){case n:return function(){return s.call(this,d,arguments,1,e)};case w:return function(){return s.call(this,d,arguments,0,e)};case x:return function(){var p=this[d?f:h]();return(p=e.apply(k,[p].concat(c.makeArray(arguments))))?new (c[c.isArray(p)?
"NodeList":"Node"])(p):null};default:return function(){var p=this[d?f:h]();p=e.apply(k,[p].concat(c.makeArray(arguments)));return p===q?this:p}}}(k[b])})})}var k=c.DOM,o=c.Event,j=k._nodeTypeIs,g=k._isKSNode,r=c.Node.prototype,l=c.NodeList.prototype,h="getDOMNode",f=h+"s",n=1,w=2,x=4;c.mix(r,{one:function(m){return c.one(m,this[0])},all:function(m){return c.all(m,this[0])}});t(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);t(["attr","removeAttr"],n);t(["val","text"],w);t(["css"],
n);t(["width","height"],w);t(["offset"],w);t(["scrollIntoView"]);t(["parent","next","prev","siblings","children"],x);t(["contains"]);t(["html"],w);t(["remove"]);c.each(["insertBefore","insertAfter"],function(m){r[m]=function(a){k[m].call(k,this[0],a);return this}});c.each([r,l],function(m,a){c.mix(m,{append:function(b){b&&c.each(this,function(i){var d;if(a||c.isString(b))d=k.create(b);else{if(j(b,1)||j(b,3))d=b;if(g(b))d=b[0]}i.appendChild(d)});return this},appendTo:function(b){if((b=c.get(b))&&b.appendChild)c.each(this,
function(i){b.appendChild(i)});return this}})});c.each([r,l],function(m){c.mix(m,c.EventTarget,{_supportSpecialEvent:true});m._addEvent=function(a,b,i){for(var d=0,e=this.length;d<e;d++)o._simpleAdd(this[d],a,b,i)};m._removeEvent=function(a,b,i){for(var d=0,e=this.length;d<e;d++)o._simpleRemove(this[d],a,b,i)};delete m.fire})});
KISSY.add("cookie",function(c){function q(o){return c.isString(o)&&o!==""}var s=document,t=encodeURIComponent,k=decodeURIComponent;c.Cookie={get:function(o){var j;if(q(o))if(o=s.cookie.match("(?:^| )"+o+"(?:(?:=([^;]*))|;|$)"))j=o[1]?k(o[1]):"";return j},set:function(o,j,g,r,l,h){j=t(j);var f=g;if(typeof f==="number"){f=new Date;f.setTime(f.getTime()+g*864E5)}if(f instanceof Date)j+="; expires="+f.toUTCString();if(q(r))j+="; domain="+r;if(q(l))j+="; path="+l;if(h)j+="; secure";s.cookie=o+"="+j},remove:function(o,
j,g,r){this.set(o,"",0,j,g,r)}}});
KISSY.add("json",function(c){function q(h){return h<10?"0"+h:h}function s(h){o.lastIndex=0;return o.test(h)?'"'+h.replace(o,function(f){var n=r[f];return typeof n==="string"?n:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function t(h,f){var n,w,x=j,m,a=f[h];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(h);if(typeof l==="function")a=l.call(f,h,a);switch(typeof a){case "string":return s(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";j+=g;m=[];if(Object.prototype.toString.apply(a)==="[object Array]"){w=a.length;for(h=0;h<w;h+=1)m[h]=t(h,a)||"null";f=m.length===0?"[]":j?"[\n"+j+m.join(",\n"+j)+"\n"+x+"]":"["+m.join(",")+"]";j=x;return f}if(l&&typeof l==="object"){w=l.length;for(h=0;h<w;h+=1){n=l[h];if(typeof n==="string")if(f=t(n,a))m.push(s(n)+(j?": ":":")+f)}}else for(n in a)if(Object.hasOwnProperty.call(a,n))if(f=t(n,a))m.push(s(n)+(j?": ":":")+f);f=m.length===0?"{}":j?"{\n"+j+m.join(",\n"+j)+
"\n"+x+"}":"{"+m.join(",")+"}";j=x;return f}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+q(this.getUTCMonth()+1)+"-"+q(this.getUTCDate())+"T"+q(this.getUTCHours())+":"+q(this.getUTCMinutes())+":"+q(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,g,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;if(typeof c.stringify!=="function")c.stringify=function(h,f,n){var w;g=j="";if(typeof n==="number")for(w=0;w<n;w+=1)g+=" ";else if(typeof n==="string")g=n;if((l=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw new Error("JSON.stringify");return t("",
{"":h})};if(typeof c.parse!=="function")c.parse=function(h,f){function n(w,x){var m,a,b=w[x];if(b&&typeof b==="object")for(m in b)if(Object.hasOwnProperty.call(b,m)){a=n(b,m);if(a!==undefined)b[m]=a;else delete b[m]}return f.call(w,x,b)}h=String(h);k.lastIndex=0;if(k.test(h))h=h.replace(k,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){h=eval("("+h+")");return typeof f==="function"?n({"":h},""):h}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var q=Math,s=q.PI,t=q.pow,k=q.sin,o=1.70158,j={easeNone:function(g){return g},easeIn:function(g){return g*g},easeOut:function(g){return(2-g)*g},easeBoth:function(g){return(g*=2)<1?0.5*g*g:0.5*(1- --g*(g-2))},easeInStrong:function(g){return g*g*g*g},easeOutStrong:function(g){return 1- --g*g*g*g},easeBothStrong:function(g){return(g*=2)<1?0.5*g*g*g*g:0.5*(2-(g-=2)*g*g*g)},elasticIn:function(g){if(g===0||g===1)return g;return-(t(2,10*(g-=1))*k((g-0.075)*2*s/0.3))},
elasticOut:function(g){if(g===0||g===1)return g;return t(2,-10*g)*k((g-0.075)*2*s/0.3)+1},elasticBoth:function(g){if(g===0||(g*=2)===2)return g;if(g<1)return-0.5*t(2,10*(g-=1))*k((g-0.1125)*2*s/0.45);return t(2,-10*(g-=1))*k((g-0.1125)*2*s/0.45)*0.5+1},backIn:function(g){if(g===1)g-=0.0010;return g*g*((o+1)*g-o)},backOut:function(g){return(g-=1)*g*((o+1)*g+o)+1},backBoth:function(g){if((g*=2)<1)return 0.5*g*g*(((o*=1.525)+1)*g-o);return 0.5*((g-=2)*g*(((o*=1.525)+1)*g+o)+2)},bounceIn:function(g){return 1-
j.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+0.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+0.9375:7.5625*(g-=2.625/2.75)*g+0.984375},bounceBoth:function(g){if(g<0.5)return j.bounceIn(g*2)*0.5;return j.bounceOut(g*2-1)*0.5+0.5}};c.Easing=j});
KISSY.add("anim",function(c,q){function s(m,a,b,i,d){if(m=c.get(m)){if(!(this instanceof s))return new s(m,a,b,i,d);var e=c.isPlainObject(b);a=a;this.domEl=m;if(c.isPlainObject(a))a=c.param(a,";").replace(/=/g,":");this.props=t(a);this.targetStyle=a;if(e)m=c.merge(x,b);else{m=c.clone(x);b&&(m.duration=h(b,10)||1);c.isString(i)&&(i=l[i]);c.isFunction(i)&&(m.easing=i);c.isFunction(d)&&(m.complete=d)}this.config=m;c.isFunction(d)&&this.on(w,d)}}function t(m){var a={},b=n.length,i;f.innerHTML='<div style="'+
m+'"></div>';for(m=f.firstChild.style;b--;)if(i=m[n[b]])a[n[b]]=k(i);return a}function k(m){var a=h(m);m=(m+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:m,u:"",f:j}:{v:a,u:m,f:o}}function o(m,a,b){return(m+(a-m)*b).toFixed(3)}function j(m,a,b){for(var i=2,d,e,p=[],u=[];d=3,e=arguments[i-1],i--;)if(g(e,0,4)==="rgb(")for(e=e.match(/\d+/g);d--;)p.push(~~e[d]);else if(g(e,0)==="#"){if(e.length===4)e="#"+g(e,1)+g(e,1)+g(e,2)+g(e,2)+g(e,3)+g(e,3);for(;d--;)p.push(parseInt(g(e,1+d*2,2),16))}else return a;
for(;d--;){i=~~(p[d+3]+(p[d]-p[d+3])*b);u.push(i<0?0:i>255?255:i)}return"rgb("+u.join(",")+")"}function g(m,a,b){return m.substr(a,b||1)}var r=c.DOM,l=c.Easing,h=parseFloat,f=r.create("<div>"),n="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
w="complete",x={duration:1,easing:l.easeNone};c.augment(s,c.EventTarget,{run:function(){var m=this,a=m.config,b=m.domEl,i=a.duration*1E3,d=a.easing,e=c.now(),p=e+i,u=m.props,v={},A;for(A in u)v[A]=k(r.css(b,A));if(m.fire("start")!==false){m.stop();m.timer=c.later(a=function(){var y=c.now(),z=y>p?1:(y-e)/i,B,C,D;for(A in u){B=v[A];C=u[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;r.css(b,A,C.f(B.v,C.v,d(z))+C.u)}if(m.fire("step")===false||(D=y>p)){m.stop();D&&m.fire(w)}},13,true);a();return m}},stop:function(m){var a=
this.domEl,b=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=q}if(m){c.UA.ie&&b.indexOf("opacity")>-1&&r.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+b;this.fire(w)}return this}});c.Anim=s});KISSY.add("anim-node-plugin",function(c,q){var s=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(t){t.animate=function(){var k=c.makeArray(arguments);c.each(this,function(o){s.apply(q,[o].concat(k)).run()});return this}})});KISSY.add("core");
(function(){function c(a,b,i,d,e,p){e=0;for(var u=d.length;e<u;e++){var v=d[e];if(v){v=v[a];for(var A=false;v;){if(v.sizcache===i){A=d[v.sizset];break}if(v.nodeType===1&&!p){v.sizcache=i;v.sizset=e}if(v.nodeName.toLowerCase()===b){A=v;break}v=v[a]}d[e]=A}}}function q(a,b,i,d,e,p){e=0;for(var u=d.length;e<u;e++){var v=d[e];if(v){v=v[a];for(var A=false;v;){if(v.sizcache===i){A=d[v.sizset];break}if(v.nodeType===1){if(!p){v.sizcache=i;v.sizset=e}if(typeof b!=="string"){if(v===b){A=true;break}}else if(g.filter(b,
[v]).length>0){A=v;break}}v=v[a]}d[e]=A}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=0,k=Object.prototype.toString,o=false,j=true;[0,0].sort(function(){j=false;return 0});var g=function(a,b,i,d){i=i||[];var e=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return i;var p=[],u,v,A,y,z=true,B=g.isXML(b),C=a,D;do{s.exec("");if(u=s.exec(C)){C=u[3];p.push(u[1]);if(u[2]){y=
u[3];break}}}while(u);if(p.length>1&&l.exec(a))if(p.length===2&&r.relative[p[0]])v=m(p[0]+p[1],b);else for(v=r.relative[p[0]]?[b]:g(p.shift(),b);p.length;){a=p.shift();if(r.relative[a])a+=p.shift();v=m(a,v)}else{if(!d&&p.length>1&&b.nodeType===9&&!B&&r.match.ID.test(p[0])&&!r.match.ID.test(p[p.length-1])){u=g.find(p.shift(),b,B);b=u.expr?g.filter(u.expr,u.set)[0]:u.set[0]}if(b){u=d?{expr:p.pop(),set:n(d)}:g.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&b.parentNode?b.parentNode:b,B);v=u.expr?
g.filter(u.expr,u.set):u.set;if(p.length>0)A=n(v);else z=false;for(;p.length;){u=D=p.pop();if(r.relative[D])u=p.pop();else D="";if(u==null)u=b;r.relative[D](A,u,B)}}else A=[]}A||(A=v);A||g.error(D||a);if(k.call(A)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;A[a]!=null;a++){if(A[a]&&(A[a]===true||A[a].nodeType===1&&g.contains(b,A[a])))i.push(v[a])}else for(a=0;A[a]!=null;a++)A[a]&&A[a].nodeType===1&&i.push(v[a]);else i.push.apply(i,A);else n(A,i);if(y){g(y,e,i,d);g.uniqueSort(i)}return i};
g.uniqueSort=function(a){if(x){o=j;a.sort(x);if(o)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};g.matches=function(a,b){return g(a,null,null,b)};g.find=function(a,b,i){var d;if(!a)return[];for(var e=0,p=r.order.length;e<p;e++){var u=r.order[e],v;if(v=r.leftMatch[u].exec(a)){var A=v[1];v.splice(1,1);if(A.substr(A.length-1)!=="\\"){v[1]=(v[1]||"").replace(/\\/g,"");d=r.find[u](v,b,i);if(d!=null){a=a.replace(r.match[u],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,
expr:a}};g.filter=function(a,b,i,d){for(var e=a,p=[],u=b,v,A,y=b&&b[0]&&g.isXML(b[0]);a&&b.length;){for(var z in r.filter)if((v=r.leftMatch[z].exec(a))!=null&&v[2]){var B=r.filter[z],C,D;D=v[1];A=false;v.splice(1,1);if(D.substr(D.length-1)!=="\\"){if(u===p)p=[];if(r.preFilter[z])if(v=r.preFilter[z](v,u,i,p,d,y)){if(v===true)continue}else A=C=true;if(v)for(var E=0;(D=u[E])!=null;E++)if(D){C=B(D,v,E,u);var F=d^!!C;if(i&&C!=null)if(F)A=true;else u[E]=false;else if(F){p.push(D);A=true}}if(C!==undefined){i||
(u=p);a=a.replace(r.match[z],"");if(!A)return[];break}}}if(a===e)if(A==null)g.error(a);else break;e=a}return u};g.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var r=g.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var i=typeof b==="string",d=i&&!/\W/.test(b);i=i&&!d;if(d)b=b.toLowerCase();d=0;for(var e=a.length,p;d<e;d++)if(p=a[d]){for(;(p=p.previousSibling)&&p.nodeType!==1;);a[d]=i||p&&p.nodeName.toLowerCase()===
b?p||false:p===b}i&&g.filter(b,a,true)},">":function(a,b){var i=typeof b==="string",d,e=0,p=a.length;if(i&&!/\W/.test(b))for(b=b.toLowerCase();e<p;e++){if(d=a[e]){i=d.parentNode;a[e]=i.nodeName.toLowerCase()===b?i:false}}else{for(;e<p;e++)if(d=a[e])a[e]=i?d.parentNode:d.parentNode===b;i&&g.filter(b,a,true)}},"":function(a,b,i){var d=t++,e=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=b=b.toLowerCase();e=c}e("parentNode",b,d,a,p,i)},"~":function(a,b,i){var d=t++,e=q,p;if(typeof b==="string"&&!/\W/.test(b)){p=
b=b.toLowerCase();e=c}e("previousSibling",b,d,a,p,i)}},find:{ID:function(a,b,i){if(typeof b.getElementById!=="undefined"&&!i)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var i=[];b=b.getElementsByName(a[1]);for(var d=0,e=b.length;d<e;d++)b[d].getAttribute("name")===a[1]&&i.push(b[d]);return i.length===0?null:i}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,i,d,e,p){a=" "+a[1].replace(/\\/g,"")+" ";
if(p)return a;p=0;for(var u;(u=b[p])!=null;p++)if(u)if(e^(u.className&&(" "+u.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))i||d.push(u);else if(i)b[p]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=t++;return a},ATTR:function(a,b,i,d,e,p){b=
a[1].replace(/\\/g,"");if(!p&&r.attrMap[b])a[1]=r.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,i,d,e){if(a[1]==="not")if((s.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=g(a[3],null,null,b);else{a=g.filter(a[3],b,i,true^e);i||d.push.apply(d,a);return false}else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,i){return!!g(i[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,i,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,i){return b<i[3]-0},gt:function(a,b,i){return b>i[3]-0},nth:function(a,b,i){return i[3]-
0===b},eq:function(a,b,i){return i[3]-0===b}},filter:{PSEUDO:function(a,b,i,d){var e=b[1],p=r.filters[e];if(p)return p(a,i,b,d);else if(e==="contains")return(a.textContent||a.innerText||g.getText([a])||"").indexOf(b[3])>=0;else if(e==="not"){b=b[3];i=0;for(d=b.length;i<d;i++)if(b[i]===a)return false;return true}else g.error("Syntax error, unrecognized expression: "+e)},CHILD:function(a,b){var i=b[1],d=a;switch(i){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(i===
"first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":i=b[2];var e=b[3];if(i===1&&e===0)return true;b=b[0];var p=a.parentNode;if(p&&(p.sizcache!==b||!a.nodeIndex)){var u=0;for(d=p.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++u;p.sizcache=b}a=a.nodeIndex-e;return i===0?a===0:a%i===0&&a/i>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var i=b[1];a=r.attrHandle[i]?r.attrHandle[i](a):a[i]!=null?a[i]:a.getAttribute(i);i=a+"";var d=b[2];b=b[4];return a==null?d==="!=":d==="="?i===b:d==="*="?i.indexOf(b)>=0:d==="~="?(" "+i+" ").indexOf(b)>=0:!b?i&&a!==false:d==="!="?i!==b:d==="^="?i.indexOf(b)===0:d==="$="?i.substr(i.length-b.length)===b:d==="|="?i===b||i.substr(0,b.length+1)===b+"-":false},POS:function(a,b,i,d){var e=r.setFilters[b[2]];
if(e)return e(a,i,b,d)}}},l=r.match.POS,h=function(a,b){return"\\"+(b-0+1)};for(var f in r.match){r.match[f]=new RegExp(r.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[f].source.replace(/\\(\d+)/g,h))}var n=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(w){n=function(a,b){b=b||[];var i=0;if(k.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var d=a.length;i<d;i++)b.push(a[i]);else for(;a[i];i++)b.push(a[i]);return b}}var x;if(document.documentElement.compareDocumentPosition)x=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)o=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)o=true;return a};else if("sourceIndex"in document.documentElement)x=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)o=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)o=true;return a};else if(document.createRange)x=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)o=true;return a.ownerDocument?-1:1}var i=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();i.setStart(a,0);i.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);a=i.compareBoundaryPoints(Range.START_TO_END,d);if(a===0)o=true;return a};g.getText=function(a){for(var b="",i,d=0;a[d];d++){i=a[d];if(i.nodeType===3||i.nodeType===4)b+=i.nodeValue;else if(i.nodeType!==
8)b+=g.getText(i.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var i=document.documentElement;i.insertBefore(a,i.firstChild);if(document.getElementById(b)){r.find.ID=function(d,e,p){if(typeof e.getElementById!=="undefined"&&!p)return(e=e.getElementById(d[1]))?e.id===d[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===d[1]?[e]:undefined:[]};r.filter.ID=function(d,e){var p=typeof d.getAttributeNode!==
"undefined"&&d.getAttributeNode("id");return d.nodeType===1&&p&&p.nodeValue===e}}i.removeChild(a);i=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)r.find.TAG=function(b,i){i=i.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var d=0;i[d];d++)i[d].nodeType===1&&b.push(i[d]);i=b}return i};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")r.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=g,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){g=function(d,e,p,u){e=e||document;if(!u&&e.nodeType===9&&!g.isXML(e))try{return n(e.querySelectorAll(d),p)}catch(v){}return a(d,e,p,u)};for(var i in a)g[i]=a[i];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){r.order.splice(1,0,"CLASS");r.find.CLASS=function(b,i,d){if(typeof i.getElementsByClassName!=="undefined"&&!d)return i.getElementsByClassName(b[1])};a=null}}})();g.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};g.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var m=function(a,b){var i=[],d="",e;for(b=b.nodeType?[b]:b;e=r.match.PSEUDO.exec(a);){d+=e[0];a=a.replace(r.match.PSEUDO,"")}a=r.relative[a]?a+"*":a;e=0;for(var p=b.length;e<p;e++)g(a,b[e],i);return g.filter(d,i)};KISSY.add("sizzle",function(a){a.ExternalSelector=g;a.ExternalSelector._filter=function(b,i){return g.matches(i,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(c,q){function s(h,f){if(!(this instanceof s))return new s(h,f);if(f===q){f=h;h=[j]}c.isArray(h)||(h=[c.get(h)||j]);this.containers=h;this.config=c.merge(l,f);this.callbacks={els:[],fns:[]};this._init()}var t=c.DOM,k=c.Event,o=window,j=document,g="scroll",r="resize",l={mod:"manual",diff:"default",placeholder:"none"};c.augment(s,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var h=this.containers,
f,n,w,x=[],m=[];f=0;for(n=h.length;f<n;++f){w=c.query("img",h[f]);x=x.concat(c.filter(w,this._filterImg,this));w=c.query("textarea",h[f]);m=m.concat(c.filter(w,this._filterArea,this))}this.images=x;this.areaes=m},_filterImg:function(h){var f=h.getAttribute("data-ks-lazyload"),n=this.threshold,w=this.config.placeholder;if(this.config.mod==="manual"){if(f){if(w!=="none")h.src=w;return true}}else if(t.offset(h).top>n&&!f){t.attr(h,"data-ks-lazyload",h.src);if(w!=="none")h.src=w;else h.removeAttribute("src");
return true}},_filterArea:function(h){return t.hasClass(h,"ks-datalazyload")},_initLoadEvent:function(){function h(){n||(n=c.later(function(){f();n=null},100))}function f(){w._loadItems();if(w._getItemsLength()===0){k.remove(o,g,h);k.remove(o,r,h)}}var n,w=this;k.on(o,g,h);k.on(o,r,function(){w.threshold=w._getThreshold();h()});w._getItemsLength()&&c.ready(function(){f()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=c.filter(this.images,
this._loadImg,this)},_loadImg:function(h){var f=this.threshold+t.scrollTop();if(t.offset(h).top<=f)this._loadImgSrc(h);else return true},_loadImgSrc:function(h,f){f=f||"data-ks-lazyload";var n=h.getAttribute(f);if(n&&h.src!=n){h.src=n;h.removeAttribute(f)}},_loadAreas:function(){this.areaes=c.filter(this.areaes,this._loadArea,this)},_loadArea:function(h){var f=t.css(h,"display")==="none";if(t.offset(f?h.parentNode:h).top<=this.threshold+t.scrollTop())this._loadAreaData(h.parentNode,h);else return true},
_loadAreaData:function(h,f){f.style.display="none";f.className="";var n=t.create("<div>");h.insertBefore(n,f);t.html(n,f.value,true)},_fireCallbacks:function(){var h=this.callbacks,f=h.els,n=h.fns,w=this.threshold+t.scrollTop(),x,m,a,b=[],i=[];for(x=0;(m=f[x])&&(a=n[x++]);)if(t.offset(m).top<=w)a.call(m);else{b.push(m);i.push(a)}h.els=b;h.fns=i},addCallback:function(h,f){var n=this.callbacks;if((h=c.get(h))&&c.isFunction(f)){n.els.push(h);n.fns.push(f)}},_getThreshold:function(){var h=this.config.diff,
f=t.viewportHeight();return h==="default"?2*f:f+ +h},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(h,f){var n=this,w,x;c.isArray(h)||(h=[c.get(h)]);c.each(h,function(m){switch(f){case "img-src":x=m.nodeName==="IMG"?[m]:c.query("img",m);c.each(x,function(a){n._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(w=c.get("textarea",m))&&t.hasClass(w,"ks-datalazyload-custom")&&n._loadAreaData(m,w)}})}});c.mix(s,s.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=s},{requires:["core"]});KISSY.add("flash",function(c){c.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(c){function q(){var l;if(navigator.plugins&&navigator.mimeTypes.length)l=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{l=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(h){}if(l)return s(l)}function s(l){return l.match(/(\d)+/g)}function t(l){var h=c.isString(l)?s(l):l;l=l;if(c.isArray(h))l=parseFloat(h[0]+"."+k(h[1],3)+k(h[2],5));return l||0}function k(l,h){for(var f=(l+"").length;f++<h;)l="0"+
l;return l}var o=c.UA,j,g,r=true;o.fpv=function(l){if(l||r){r=false;j=q();g=t(j)}return j};o.fpvGEQ=function(l,h){r&&o.fpv(h);return!!g&&g>=t(l)}},{host:"flash"});
KISSY.add("flash-embed",function(c){function q(l,h,f){var n=t.create("<param>");t.attr(n,{name:h,value:f});l.appendChild(n)}var s=c.UA,t=c.DOM,k=c.Flash,o=/object|embed/i,j=encodeURIComponent,g={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},r={params:{},attrs:{width:215,height:138},version:9};c.mix(k,{fpv:s.fpv,fpvGEQ:s.fpvGEQ,add:function(l,h,f){var n,
w;h=k._normalize(h);h=c.merge(r,h);h.attrs=c.merge(r.attrs,h.attrs);if(l=c.get(l)){if(!l.id)l.id=c.guid("ks-flash-");w=h.attrs.id=l.id;if(s.fpv()){if(!s.fpvGEQ(h.version)){this._callback(f,0,w,l);if(!((n=h.xi)&&c.isString(n)))return;h.src=n}if(o.test(l.nodeName))this._register(l,h,f);else h.src?this._embed(l,h,f):this._callback(f,-3,w,l)}else this._callback(f,-1,w,l)}else this._callback(f,-2)},get:function(l){return k.swfs[l]},remove:function(l){if(l=k.get("#"+l)){t.remove(l);delete k.swfs[l.id];
k.length-=1}},contains:function(l){var h=k.swfs,f,n=false;if(c.isString(l))n=l in h;else for(f in h)if(h[f]===l){n=true;break}return n},_register:function(l,h,f){h=h.attrs.id;if(s.gecko||s.opera)l=c.query("object",l)[0]||l;k._addSWF(h,l);k._callback(f,1,h,l)},_embed:function(l,h,f){var n=k._createSWF(h.src,h.attrs,h.params);if(s.ie)l.outerHTML=n.outerHTML;else l.parentNode.replaceChild(n,l);l=c.get("#"+l.id);k._register(l,h,f)},_callback:function(l,h,f,n){h&&c.isFunction(l)&&l({status:h,id:f,swf:n})},
_addSWF:function(l,h){if(l&&h){k.swfs[l]=h;k.length+=1}},_createSWF:function(l,h,f){var n=t.create("<object>"),w;t.attr(n,h);if(s.ie){t.attr(n,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");q(n,"movie",l)}else t.attr(n,{type:"application/x-shockwave-flash",data:l,name:h.id});for(w in f)w in g&&q(n,w,f[w]);f.flashvars&&q(n,"flashvars",k.toFlashVars(f.flashvars));return n},_normalize:function(l){var h,f,n,w=l;if(c.isPlainObject(l)){w={};for(n in l){h=n.toLowerCase();f=l[n];if(h!=="flashvars")f=
k._normalize(f);w[h]=f}}return w},toFlashVars:function(l){if(!c.isPlainObject(l))return"";var h,f,n=[];for(h in l){f=l[h];if(c.isString(f))f=j(f);else{f=c.JSON.stringify(f);if(!f)continue;f=f.replace(/:"([^"]+)/g,function(w,x){return':"'+j(x)})}n.push(h+"="+f)}return n.join("&").replace(/\"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(c,q){function s(o,j){j=j||{};if(!("markupType"in j))if(j.panelCls)j.markupType=1;else if(j.panels)j.markupType=2;j=c.merge(s.Config,j);this.container=c.get(o);this.config=j;this.activeIndex=j.activeIndex;this._init()}var t=c.DOM,k=c.Event;s.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};s.Plugins=[];c.augment(s,c.EventTarget,{_init:function(){var o=this,j=o.config;o._parseMarkup();j.switchTo&&o.switchTo(j.switchTo);j.hasTriggers&&o._bindTriggers();c.each(s.Plugins,function(g){g.init&&g.init(o)});o.fire("init")},_parseMarkup:function(){var o=this.container,j=this.config,g,r=[],l=[];switch(j.markupType){case 0:if(g=c.get("."+j.navCls,o))r=t.children(g);g=c.get("."+j.contentCls,o);l=t.children(g);break;case 1:r=c.query("."+j.triggerCls,
o);l=c.query("."+j.panelCls,o);break;case 2:r=j.triggers;l=j.panels;break}o=l.length;this.length=o/j.steps;if(j.hasTriggers&&o>0&&r.length===0)r=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(r);this.panels=c.makeArray(l);this.content=g||l[0].parentNode},_generateTriggersMarkup:function(o){var j=this.config,g=t.create("<ul>"),r,l;g.className=j.navCls;for(l=0;l<o;l++){r=t.create("<li>");if(l===this.activeIndex)r.className=j.activeTriggerCls;r.innerHTML=l+1;g.appendChild(r)}this.container.appendChild(g);
return t.children(g)},_bindTriggers:function(){var o=this,j=o.config,g=o.triggers,r,l,h=g.length;for(l=0;l<h;l++)(function(f){r=g[f];k.on(r,"click",function(){o._onFocusTrigger(f)});if(j.triggerType==="mouse"){k.on(r,"mouseenter",function(){o._onMouseEnterTrigger(f)});k.on(r,"mouseleave",function(){o._onMouseLeaveTrigger(f)})}})(l)},_onFocusTrigger:function(o){if(this._triggerIsValid(o)){this._cancelSwitchTimer();this.switchTo(o)}},_onMouseEnterTrigger:function(o){var j=this;if(j._triggerIsValid(o))j.switchTimer=
c.later(function(){j.switchTo(o)},j.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(o){return this.activeIndex!==o},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=q}},switchTo:function(o,j){var g=this.config,r=this.triggers,l=this.panels,h=this.activeIndex,f=g.steps,n=h*f,w=o*f;if(!this._triggerIsValid(o))return this;if(this.fire("beforeSwitch",{toIndex:o})===false)return this;if(g.hasTriggers)this._switchTrigger(h>
-1?r[h]:null,r[o]);if(j===q)j=o>h?"forward":"backward";this._switchView(l.slice(n,n+f),l.slice(w,w+f),o,j);this.activeIndex=o;return this},_switchTrigger:function(o,j){var g=this.config.activeTriggerCls;o&&t.removeClass(o,g);t.addClass(j,g)},_switchView:function(o,j,g){t.css(o,"display","none");t.css(j,"display","block");this._fireOnSwitch(g)},_fireOnSwitch:function(o){this.fire("switch",{currentIndex:o})},prev:function(){var o=this.activeIndex;this.switchTo(o>0?o-1:this.length-1,"backward")},next:function(){var o=
this.activeIndex;this.switchTo(o<this.length-1?o+1:0,"forward")}});c.Switchable=s},{requires:["core"]});
KISSY.add("autoplay",function(c,q){var s=c.Event,t=c.Switchable;c.mix(t.Config,{autoplay:false,interval:5,pauseOnHover:true});t.Plugins.push({name:"autoplay",init:function(k){function o(){r=c.later(function(){k.paused||k.switchTo(k.activeIndex<k.length-1?k.activeIndex+1:0,"forward")},g,true)}var j=k.config,g=j.interval*1E3,r;if(j.autoplay){if(j.pauseOnHover){s.on(k.container,"mouseenter",function(){if(r){r.cancel();r=q}k.paused=true});s.on(k.container,"mouseleave",function(){k.paused=false;o()})}o()}}})},
{host:"switchable"});
KISSY.add("effect",function(c,q){var s=c.DOM,t=c.Anim,k=c.Switchable,o;c.mix(k.Config,{effect:"none",duration:0.5,easing:"easeNone"});k.Effects={none:function(j,g,r){s.css(j,"display","none");s.css(g,"display","block");r()},fade:function(j,g,r){j.length!==1&&c.error("fade effect only supports steps == 1.");var l=this,h=l.config,f=j[0],n=g[0];l.anim&&l.anim.stop(true);s.css(n,"opacity",1);l.anim=(new t(f,{opacity:0},h.duration,h.easing,function(){l.anim=q;s.css(n,"z-index",9);s.css(f,"z-index",1);
r()})).run()},scroll:function(j,g,r,l){var h=this;j=h.config;g=j.effect==="scrollx";var f={};f[g?"left":"top"]=-(h.viewSize[g?0:1]*l)+"px";h.anim&&h.anim.stop();h.anim=(new t(h.content,f,j.duration,j.easing,function(){h.anim=q;r()})).run()}};o=k.Effects;o.scrollx=o.scrolly=o.scroll;k.Plugins.push({name:"effect",init:function(j){var g=j.config,r=g.effect,l=j.panels,h=j.content,f=g.steps,n=j.activeIndex,w=l.length;j.viewSize=[g.viewSize[0]||l[0].offsetWidth*f,g.viewSize[1]||l[0].offsetHeight*f];if(r!==
"none"){c.each(l,function(b){s.css(b,"display","block")});switch(r){case "scrollx":case "scrolly":s.css(h,"position","absolute");s.css(h.parentNode,"position","relative");if(r==="scrollx"){s.css(l,"float","left");s.width(h,j.viewSize[0]*(w/f))}break;case "fade":var x=n*f,m=x+f-1,a;c.each(l,function(b,i){a=i>=x&&i<=m;s.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})});break}}}});c.augment(k,{_switchView:function(j,g,r,l){var h=this,f=h.config.effect;(c.isFunction(f)?f:o[f]).call(h,j,g,function(){h._fireOnSwitch(r)},
r,l)}})},{host:"switchable"});
KISSY.add("circular",function(c,q){function s(a,b,i,d,e){var p=this;a=p.config;b=p.length;var u=p.activeIndex,v=a.scrollType===x,A=v?r:l,y=p.viewSize[v?0:1];v=-y*d;var z={},B,C=e===w;if(B=C&&u===0&&d===b-1||e===n&&u===b-1&&d===0)v=t.call(p,p.panels,d,C,A,y);z[A]=v+f;p.anim&&p.anim.stop();p.anim=(new c.Anim(p.content,z,a.duration,a.easing,function(){B&&k.call(p,p.panels,d,C,A,y);p.anim=q;i()})).run()}function t(a,b,i,d,e){var p=this.config.steps;b=this.length;var u=i?b-1:0,v=(u+1)*p;for(p=u*p;p<v;p++){o.css(a[p],
j,g);o.css(a[p],d,(i?-1:1)*e*b)}return i?e:-e*b}function k(a,b,i,d,e){var p=this.config.steps;b=this.length;var u=i?b-1:0,v=(u+1)*p;for(p=u*p;p<v;p++){o.css(a[p],j,h);o.css(a[p],d,h)}o.css(this.content,d,i?-e*(b-1):h)}var o=c.DOM,j="position",g="relative",r="left",l="top",h="",f="px",n="forward",w="backward",x="scrollx",m=c.Switchable;c.mix(m.Config,{circular:false});m.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===x||a.effect==="scrolly")){a.scrollType=a.effect;
a.effect=s}}})},{host:"switchable"});
KISSY.add("lazyload",function(c){var q=c.DOM,s="beforeSwitch",t="img-src",k="area-data",o={},j=c.Switchable;o[t]="data-ks-lazyload-custom";o[k]="ks-datalazyload-custom";c.mix(j.Config,{lazyDataType:k});j.Plugins.push({name:"lazyload",init:function(g){function r(x){var m=f.steps;x=x.toIndex*m;h.loadCustomLazyData(g.panels.slice(x,x+m),n);l()&&g.detach(s,r)}function l(){var x,m,a,b=n===t;if(x=b?"img":n===k?"textarea":""){x=c.query(x,g.container);m=0;for(a=x.length;m<a;m++)if(b?q.attr(x[m],w):q.hasClass(x[m],
w))return false}return true}var h=c.DataLazyload,f=g.config,n=f.lazyDataType,w=o[n];!h||!n||!w||g.on(s,r)}})},{host:"switchable"});KISSY.add("autorender",function(c){c.Switchable.autoRender=function(q,s){q="."+(q||"KS_Widget");c.query(q,s).each(function(t){var k=t.getAttribute("data-widget-type"),o;if(k&&"Switchable Tabs Slide Carousel Accordion".indexOf(k)>-1)try{if(o=t.getAttribute("data-widget-config"))o=o.replace(/'/g,'"');new c[k](t,c.JSON.parse(o))}catch(j){}})}},{host:"switchable"});
KISSY.add("tabs",function(c){function q(s,t){if(!(this instanceof q))return new q(s,t);q.superclass.constructor.call(this,s,t)}c.extend(q,c.Switchable);c.Tabs=q},{host:"switchable"});KISSY.add("slide",function(c){function q(t,k){if(!(this instanceof q))return new q(t,k);q.superclass.constructor.call(this,t,c.merge(s,k))}var s={autoplay:true,circular:true};c.extend(q,c.Switchable);c.Slide=q},{host:"switchable"});
KISSY.add("carousel",function(c,q){function s(h,f){var n=this;if(!(n instanceof s))return new s(h,f);n.on("init",function(){t(n)});s.superclass.constructor.call(n,h,c.merge(l,f))}function t(h){var f=h.config,n=f.disableBtnCls;c.each(["prev","next"],function(w){var x=h[w+"Btn"]=c.get(j+f[w+"BtnCls"],h.container);o.on(x,"click",function(m){m.preventDefault();k.hasClass(x,n)||h[w]()})});f.circular||h.on("switch",function(w){w=w.currentIndex;w=w===0?h[g]:w===h.length-1?h[r]:q;k.removeClass([h[g],h[r]],
n);w&&k.addClass(w,n)});o.on(h.panels,"click focus",function(){h.fire("itemSelected",{item:this})})}var k=c.DOM,o=c.Event,j=".",g="prevBtn",r="nextBtn",l={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(s,c.Switchable);c.Carousel=s},{host:"switchable"});
KISSY.add("accordion",function(c){function q(k,o){if(!(this instanceof q))return new q(k,o);q.superclass.constructor.call(this,k,c.merge(t,o));if(this.config.multiple)this._switchTrigger=function(){}}var s=c.DOM,t={markupType:1,triggerType:"click",multiple:false};c.extend(q,c.Switchable);c.Accordion=q;c.augment(q,{_triggerIsValid:function(k){return this.activeIndex!==k||this.config.multiple},_switchView:function(k,o,j){var g=this.config,r=o[0];if(g.multiple){s.toggleClass(this.triggers[j],g.activeTriggerCls);
s.css(r,"display",r.style.display=="none"?"block":"none");this._fireOnSwitch(j)}else q.superclass._switchView.call(this,k,o,j)}})},{host:"switchable"});
KISSY.add("suggest",function(c,q){function s(d,e,p){if(!(this instanceof s))return new s(d,e,p);this.textInput=c.get(d);e+=e.indexOf("?")===-1?"?":"&";this.dataSource=e+"code=utf-8&callback="+w;this.config=c.merge(i,p);this.queryParams=this.query=x;this._dataCache={};this._init()}function t(d){d.style.visibility=x}function k(d){d.style.visibility=m}function o(d,e){if(e.nodeType===1){j.html(d,x);d.appendChild(e)}else j.html(d,e)}var j=c.DOM,g=c.Event,r=window,l=document,h,f=c.get("head"),n=c.UA.ie,
w="g_ks_suggest_callback",x="",m="hidden",a=parseInt,b=/^(input|button|a)$/i,i={containerCls:x,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:n===6,submitOnSelect:true};c.augment(s,c.EventTarget,{_init:function(){h=l.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();this._initEvent()},_initTextInput:function(){var d=this,e=d.textInput,p=false,u=0;j.attr(e,"autocomplete","off");d.config.autoFocus&&e.focus();g.on(e,"keydown",function(v){v=
v.keyCode;if(v===27){d.hide();e.value=d.query}else if(v>32&&v<41)if(e.value){if(v===40||v===38)if(u++===0){d._isRunning&&d.stop();p=true;d._selectItem(v===40)}else if(u==3)u=0}else e.blur();else if(v===13){e.blur();if(p)if(e.value==d._getSelectedItemKey())if(d.fire("itemSelect")===false)return;d._submitForm()}else{d._isRunning||d.start();p=false}});g.on(e,"keyup",function(){u=0});g.on(e,"blur",function(){d.stop();c.later(function(){d._focusing||d.hide()},0)})},_initContainer:function(){var d=j.create("<div>",
{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),e=j.create("<div>",{"class":"ks-suggest-content"}),p=j.create("<div>",{"class":"ks-suggest-footer"});d.appendChild(e);d.appendChild(p);h.insertBefore(d,h.firstChild);this.container=d;this.content=e;this.footer=p;this._initContainerEvent()},_setContainerRegion:function(){var d=this.textInput,e=j.offset(d),p=this.container;j.offset(p,{left:e.left,top:e.top+d.offsetHeight-1});j.width(p,this.config.containerWidth||
d.offsetWidth-2)},_initContainerEvent:function(){var d=this,e=d.textInput,p=d.container,u=d.content,v=d.footer,A,y;g.on(u,"mousemove",function(z){z=z.target;if(z.nodeName!=="LI")z=j.parent(z,"li");if(j.contains(u,z))if(z!==d.selectedItem){d._removeSelectedItem();d._setSelectedItem(z)}});g.on(u,"mousedown",function(z){z=z.target;if(z.nodeName!=="LI")z=j.parent(z,"li");A=z});g.on(p,"mousedown",function(z){if(!b.test(z.target.nodeName)){e.onbeforedeactivate=function(){r.event.returnValue=false;e.onbeforedeactivate=
null};z.preventDefault()}});g.on(u,"mouseup",function(z){var B=z.target;if(!(z.which>2)){if(B.nodeName!=="LI")B=j.parent(B,"li");if(B==A)if(j.contains(u,B)){d._updateInputFromSelectItem(B);if(d.fire("itemSelect")!==false){e.blur();d._submitForm()}}}});g.on(v,"focusin",function(){d._focusing=true;d._removeSelectedItem();y=false});g.on(v,"focusout",function(){d._focusing=false;c.later(function(){if(y)d.hide();else d._focusing||d.textInput.focus()},0)});g.on(d.container,"mouseleave",function(){y=true});
g.on(v,"click",function(z){j.hasClass(z.target,"ks-suggest-closebtn")&&d.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var d=this.textInput.form;if(d)if(this.fire("beforeSubmit",{form:d})!==false){if(l.createEvent){var e=l.createEvent("MouseEvents");e.initEvent("submit",true,false);d.dispatchEvent(e)}else l.createEventObject&&d.fireEvent("onsubmit");d.submit()}}},_initShim:function(){var d=j.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});
this.container.shim=d;h.insertBefore(d,h.firstChild)},_setShimRegion:function(){var d=this.container,e=d.style,p=d.shim;p&&j.css(p,{left:a(e.left)-2,top:e.top,width:a(e.width)+2,height:j.height(d)-2})},_initStyle:function(){c.get("#ks-suggest-style")||j.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var d=this;g.on(r,"resize",function(){d._setContainerRegion();d._setShimRegion()})},start:function(){var d=this;if(d.fire("beforeStart")!==false){s.focusInstance=d;d._timer=c.later(function(){d._updateContent();d._timer=c.later(arguments.callee,200)},200);d._isRunning=true}},stop:function(){s.focusInstance=q;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var d=this.container,e=d.shim;this._setContainerRegion();
t(d);if(e){this._setShimRegion();t(e)}}},hide:function(){if(this.isVisible()){var d=this.container,e=d.shim;e&&k(e);k(d)}},isVisible:function(){return this.container.style.visibility!=m},_updateContent:function(){var d=this.textInput;if(d.value!=this.query){d=this.query=d.value;if(c.trim(d))if(this._dataCache[d]!==q){this._fillContainer(this._dataCache[d]);this._displayContainer()}else this._requestData();else{this._fillContainer();this.hide()}}},_requestData:function(){var d=this,e;if(!n)d.dataScript=
q;if(!d.dataScript){e=l.createElement("script");e.charset="utf-8";e.async=true;f.insertBefore(e,f.firstChild);d.dataScript=e;if(!n){var p=c.now();d._latestScriptTime=p;j.attr(e,"data-time",p);g.on(e,"load",function(){d._scriptDataIsOut=j.attr(e,"data-time")!=d._latestScriptTime})}}d.queryParams="q="+encodeURIComponent(d.query);if(d.fire("beforeDataRequest")!==false)d.dataScript.src=d.dataSource+"&"+d.queryParams},_handleResponse:function(d){var e=x,p,u,v,A;if(!this._scriptDataIsOut){this.returnedData=
d;if(this.fire("dataReturn",{data:d})!==false){d=this._formatData(this.returnedData);if((p=d.length)>0){u=j.create("<ol>");for(e=0;e<p;++e){v=d[e];v=this._formatItem(A=v.key,v.result);j.attr(v,"key",A);j.addClass(v,e%2?"ks-even":"ks-odd");u.appendChild(v)}e=u}this._fillContainer(e);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=j.html(this.content);this._displayContainer()}}}},_formatData:function(d){var e=[],p,u,v,A=0;if(!d)return e;if(c.isArray(d.result))d=d.result;if(!(p=d.length))return e;
for(v=0;v<p;++v){u=d[v];if(c.isString(u))e[A++]={key:u};else if(c.isArray(u)&&u.length>1)e[A++]={key:u[0],result:u[1]}}return e},_formatItem:function(d,e){var p=j.create("<li>"),u=j.create("<span>",{"class":"ks-suggest-key"});j.html(u,d);p.appendChild(u);if(e){d=this.config.resultFormat.replace("%result%",e);if(c.trim(d)){e=j.create("<span>",{"class":"ks-suggest-result"});j.html(e,d);p.appendChild(e)}}return p},_fillContainer:function(d,e){this._fillContent(d||x);this._fillFooter(e||x)},_fillContent:function(d){o(this.content,
d);this.selectedItem=q},_fillFooter:function(d){var e=this.config,p=this.footer;o(p,d);if(e.closeBtn){d=j.create("<a>",{"class":"ks-suggest-closebtn",href:"javascript: void(0)",target:"_self"});j.html(d,e.closeBtnText);p.appendChild(d)}this.fire("updateFooter",{footer:p,query:this.query});j.css(p,"display",j.text(p)?x:"none")},_displayContainer:function(){c.trim(j.text(this.container))?this.show():this.hide()},_selectItem:function(d){var e=c.query("li",this.container);if(e.length!==0)if(this.isVisible()){if(this.selectedItem){d=
j[d?"next":"prev"](this.selectedItem);if(!d)this.textInput.value=this.query}else d=e[d?0:e.length-1];this._removeSelectedItem();if(d){this._setSelectedItem(d);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){j.removeClass(this.selectedItem,"ks-selected");this.selectedItem=q},_setSelectedItem:function(d){j.addClass(d,"ks-selected");this.selectedItem=d;this.textInput.focus()},_getSelectedItemKey:function(){if(!this.selectedItem)return x;return j.attr(this.selectedItem,
"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});r[w]=function(d){s.focusInstance&&c.later(function(){s.focusInstance._handleResponse(d)},0)};s.version=1.1;c.Suggest=s},{requires:["core"]});
KISSY.add("mask",function(c,q){function s(g){if(!(this instanceof s))return new s(g);g=c.merge(j,g);var r=g.shim,l=t.create("<iframe>");if(r)g.opacity=0;else t.height(l,t.docHeight());t.attr(l,"style",r?o:k+g.style);t.css(l,"opacity",g.opacity);document.body.appendChild(l);this.config=g;this.iframe=l}var t=c.DOM,k="position:absolute;left:0;top:0;width:100%;border:0;background:black;z-index:9998;display:none;",o="position:absolute;z-index:9997;border:0;display:none;",j={shim:false,opacity:0.6,style:""};
c.augment(s,{show:function(){t.css(this.iframe,"display","block")},hide:function(){t.css(this.iframe,"display","none")},toggle:function(){this[t.css(this.iframe,"display")!=="none"?"hide":"show"]()},setSize:function(g,r){t.width(this.iframe,g);t.height(this.iframe,r)},setOffset:function(g,r){var l=g;if(r!==q)l={left:g,top:r};t.offset(this.iframe,l)}});c.Mask=s});
KISSY.add("overlay",function(c,q){function s(l,h){h=h||{};if(c.isPlainObject(l))h=l;else h.container=l;this.container=c.get(h.container);this.trigger=c.get(h.trigger);h.align=c.merge(c.clone(g.align),h.align);this.config=c.merge(g,h);this._init()}var t=document,k=c.DOM,o=c.Event,j={TL:"tl",TC:"tc",TR:"tr",LC:"cl",CC:"cc",RC:"cr",BL:"bl",BC:"bc",BR:"br"},g={container:null,containerCls:"ks-overlay",bdCls:"ks-overlay-bd",trigger:null,triggerType:"click",width:0,height:0,zIndex:9999,xy:null,align:{node:null,
points:[j.CC,j.CC],offset:[0,0]},mask:false,shim:c.UA.ie===6},r;c.augment(s,c.EventTarget,{_init:function(){this.trigger&&this._bindTrigger()},_bindTrigger:function(){this.config.triggerType==="mouse"?this._bindTriggerMouse():this._bindTriggerClick()},_bindTriggerMouse:function(){var l=this,h=l.trigger,f;o.on(h,"mouseenter",function(){f=c.later(function(){l.show();f=q},100)});o.on(h,"mouseleave",function(){if(f){f.cancel();f=q}l.hide()})},_bindTriggerClick:function(){var l=this;o.on(l.trigger,"click",
function(){l.show()})},show:function(){this._firstShow()},_firstShow:function(){this._prepareMarkup();this._realShow();this._firstShow=this._realShow},_realShow:function(){this._toggle(false)},_toggle:function(l){k.css(this.container,"visibility",l?"hidden":"");this.shim&&this.shim.toggle();if(this.config.mask)r[l?"hide":"show"]();this[l?"_unbindUI":"_bindUI"]();this.fire(l?"hide":"show")},hide:function(){this._toggle(true)},_prepareMarkup:function(){var l=this.config,h=this.container;if(l.mask&&
!r)r=new c.Mask;if(l.shim)this.shim=new c.Mask({shim:true});if(h){this.body=c.get("."+l.bdCls,h)||h;h.style.cssText+="position:absolute;visibility:hidden"}else{h=this.container=k.create(c.substitute('<div class="{containerCls}" style="position:absolute;visibility:hidden"><div class="{bdCls}">{content}</div></div>',l));this.body=k.children(h)[0];t.body.appendChild(h)}k.css(h,"zIndex",l.zIndex);k.css(h,"display","block");this.setBody(l.content);this._setSize();this._setPosition()},_setSize:function(l,
h){var f=this.config;l=l||f.width;h=h||f.height;l&&k.width(this.container,l);h&&k.height(this.container,h);this.shim&&this.shim.setSize(l,h)},_setPosition:function(){var l=this.config.xy;l?this.move(l):this.align()},move:function(l,h){if(c.isArray(l)){h=l[1];l=l[0]}l={left:l,top:h};k.offset(this.container,l);this.shim&&this.shim.setOffset(l)},align:function(l,h,f){var n=this.config.align;l=l||n.node;l=l==="trigger"?this.trigger:c.get(l);h=h||n.points;f=f===q?n.offset:f;n=k.offset(this.container);
l=this._getAlignOffset(l,h[0]);h=this._getAlignOffset(this.container,h[1]);h=[h.left-l.left,h.top-l.top];this.move(n.left-h[0]+ +f[0],n.top-h[1]+ +f[1])},_getAlignOffset:function(l,h){var f=h.charAt(0);h=h.charAt(1);var n,w,x;if(l){n=k.offset(l);w=l.offsetWidth;l=l.offsetHeight}else{n={left:k.scrollLeft(),top:k.scrollTop()};w=k.viewportWidth();l=k.viewportHeight()}x=n.left;n=n.top;if(f==="c")n+=l/2;else if(f==="b")n+=l;if(h==="c")x+=w/2;else if(h==="r")x+=w;return{left:x,top:n}},center:function(){this.move((k.viewportWidth()-
k.width(this.container))/2+k.scrollLeft(),(k.viewportHeight()-k.height(this.container))/2+k.scrollTop())},_bindUI:function(){o.on(t,"keydown",this._esc,this)},_unbindUI:function(){o.remove(t,"keydown",this._esc,this)},_esc:function(l){l.keyCode===27&&this.hide()},setBody:function(l){c.isString(l)&&k.html(this.body,l)}});c.Overlay=s});
KISSY.add("popup",function(c){function q(t,k){if(!(this instanceof q))return new q(t,k);k=k||{};if(c.isPlainObject(t))k=t;else k.container=t;k.align=c.merge(c.clone(s.align),k.align);q.superclass.constructor.call(this,c.merge(s,k))}var s={triggerType:"mouse",align:{node:"trigger",points:["cr","ct"],offset:[10,0]}};c.extend(q,c.Overlay);c.Popup=q},{host:"overlay"});
