/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var f=navigator.userAgent,a="",l="",c,e={},g=function(b){var d=0;return parseFloat(b.replace(/\./g,function(){return d++===0?".":""}))};if((c=f.match(/AppleWebKit\/([\d.]*)/))&&c[1]){e[a="webkit"]=g(c[1]);if((c=f.match(/Chrome\/([\d.]*)/))&&c[1])e[l="chrome"]=g(c[1]);else if((c=f.match(/\/([\d.]*) Safari/))&&c[1])e[l="safari"]=g(c[1]);if(/ Mobile\//.test(f))e.mobile="apple";else if(c=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=c[0].toLowerCase()}else if((c=
f.match(/Presto\/([\d.]*)/))&&c[1]){e[a="presto"]=g(c[1]);if((c=f.match(/Opera\/([\d.]*)/))&&c[1]){e[l="opera"]=g(c[1]);if((c=f.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])e[l]=g(c[1]);if((c=f.match(/Opera Mini[^;]*/))&&c)e.mobile=c[0].toLowerCase();else if((c=f.match(/Opera Mobi[^;]*/))&&c)e.mobile=c[0]}}else if((c=f.match(/MSIE\s([^;]*)/))&&c[1]){e[a="trident"]=0.1;e[l="ie"]=g(c[1]);if((c=f.match(/Trident\/([\d.]*)/))&&c[1])e[a]=g(c[1])}else if(c=f.match(/Gecko/)){e[a="gecko"]=0.1;if((c=f.match(/rv:([\d.]*)/))&&
c[1])e[a]=g(c[1]);if((c=f.match(/Firefox\/([\d.]*)/))&&c[1])e[l="firefox"]=g(c[1])}e.core=a;e.shell=l;e._numberify=g;return e});
KISSY.add("ua/extra",function(f,a){var l=navigator.userAgent,c,e,g={},b=a._numberify;if(l.match(/360SE/))g[e="se360"]=3;else if(l.match(/Maxthon/)&&(c=window.external)){e="maxthon";try{g[e]=b(c.max_version)}catch(d){g[e]=0.1}}else if(c=l.match(/TencentTraveler\s([\d.]*)/))g[e="tt"]=c[1]?b(c[1]):0.1;else if(l.match(/TheWorld/))g[e="theworld"]=3;else if(c=l.match(/SE\s([\d.]*)/))g[e="sougou"]=c[1]?b(c[1]):0.1;e&&(g.shell=e);f.mix(a,g);return a},{requires:["ua/base"]});
KISSY.add("ua",function(f,a){return a},{requires:["ua/extra"]});KISSY.add("dom/base",function(f,a){function l(c,e){return c&&c.nodeType===e}return{_isElementNode:function(c){return l(c,1)},_getWin:function(c){return c&&"scrollTo"in c&&c.document?c:l(c,9)?c.defaultView||c.parentWindow:c==a?window:false},_nodeTypeIs:l,_isNodeList:function(c){return c&&!c.nodeType&&c.item&&!c.setTimeout}}});
KISSY.add("dom/attr",function(f,a,l,c){function e(h,i){i=u[i]||i;var x=m[i];if(!h)return c;return x&&x.get?x.get(h,i):h[i]}l=document.documentElement;var g=!l.hasAttribute,b=l.textContent!==c?"textContent":"innerText",d=a._isElementNode,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,r=/^(?:button|input|object|select|textarea)$/i,w=/^a(?:rea)?$/i,q=/:|^on/,s=/\r/g,v={},o={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},n={tabindex:{get:function(h){var i=h.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):r.test(h.nodeName)||w.test(h.nodeName)&&h.href?0:null}},style:{get:function(h){return h.style.cssText},set:function(h,i){h.style.cssText=i}}},u={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
t={get:function(h,i){return a.prop(h,i)?i.toLowerCase():null},set:function(h,i,x){if(i===false)a.removeAttr(h,x);else{i=u[x]||x;if(i in h)h[i]=true;h.setAttribute(x,x.toLowerCase())}return x}},m={},k={},p={option:{get:function(h){var i=h.attributes.value;return!i||i.specified?h.value:h.text}},select:{get:function(h){var i=h.selectedIndex,x=h.options;h=h.type==="select-one";if(i<0)return null;else if(h)return a.val(x[i]);i=[];h=0;for(var y=x.length;h<y;++h)x[h].selected&&i.push(a.val(x[h]));return i},
set:function(h,i){var x=f.makeArray(i);f.each(h.options,function(y){y.selected=f.inArray(a.val(y),x)});if(!x.length)h.selectedIndex=-1;return x}}};if(g){k={get:function(h,i){var x;return(x=h.getAttributeNode(i))&&x.nodeValue!==""?x.nodeValue:null},set:function(h,i,x){if(h=h.getAttributeNode(x))h.nodeValue=i}};v=u;n.tabIndex=n.tabindex;f.each(["href","src","width","height","colSpan","rowSpan"],function(h){n[h]={get:function(i){i=i.getAttribute(h,2);return i===c?null:i}}});p.button=n.value=k}f.each(["radio",
"checkbox"],function(h){p[h]={get:function(i){return i.getAttribute("value")===null?"on":i.value},set:function(i,x){if(f.isArray(x))return i.checked=f.inArray(a.val(i),x)}}});f.mix(a,{prop:function(h,i,x){if(f.isPlainObject(i))for(var y in i)a.prop(h,y,i[y]);else{h=a.query(h);i=u[i]||i;var z=m[i];if(x!==c)f.each(h,function(A){if(z&&z.set)z.set(A,x,i);else A[i]=x});else{h=h[0];if(!h)return null;h=e(h,i);return h===c?null:h}}},hasProp:function(h,i){var x=a.get(h);return e(x,i)!==c},removeProp:function(h,
i){i=u[i]||i;a.query(h).each(function(x){try{x[i]=c;delete x[i]}catch(y){}})},attr:function(h,i,x,y){if(f.isPlainObject(i)){y=x;for(var z in i)a.attr(h,z,i[z],y)}else if(i=f.trim(i)){i=i.toLowerCase();if(y&&o[i])return a[i](h,x);i=v[i]||i;var A;A=j.test(i)?t:q.test(i)?k:n[i];if(x===c){h=a.get(h);if(!d(h))return null;if(h.nodeName.toLowerCase()=="form")A=k;if(A&&A.get)return A.get(h,i);h=h.getAttribute(i);return h===c?null:h}else f.each(a.query(h),function(B){if(d(B))A&&A.set?A.set(B,x,i):B.setAttribute(i,
""+x)})}},removeAttr:function(h,i){i=i.toLowerCase();i=v[i]||i;f.each(a.query(h),function(x){if(d(x)){var y;x.removeAttribute(i);if(j.test(i)&&(y=u[i]||i)in x)x[y]=false}})},hasAttr:g?function(h,i){i=i.toLowerCase();var x=a.get(h).getAttributeNode(i);return!!(x&&x.specified)}:function(h,i){i=i.toLowerCase();return a.get(h).hasAttribute(i)},val:function(h,i){var x,y;if(i===c){var z=a.get(h);if(z){if((x=p[z.nodeName.toLowerCase()]||p[z.type])&&"get"in x&&(y=x.get(z,"value"))!==c)return y;y=z.value;
return typeof y==="string"?y.replace(s,""):y==null?"":y}return null}a.query(h).each(function(A){if(A.nodeType===1){var B=i;if(B==null)B="";else if(typeof B==="number")B+="";else if(f.isArray(B))B=f.map(B,function(C){return C==null?"":C+""});x=p[A.nodeName.toLowerCase()]||p[A.type];if(!x||!("set"in x)||x.set(A,B,"value")===c)A.value=B}})},text:function(h,i){if(i===c){var x=a.get(h);if(d(x))return x[b]||"";else if(a._nodeTypeIs(x,3))return x.nodeValue;return null}else f.each(a.query(h),function(y){if(d(y))y[b]=
i;else if(a._nodeTypeIs(y,3))y.nodeValue=i})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(f,a,l){function c(b,d,j,r){if(!(d=f.trim(d)))return r?false:l;b=a.query(b);var w=0,q=b.length,s=d.split(e);for(d=[];w<s.length;w++){var v=f.trim(s[w]);v&&d.push(v)}for(w=0;w<q;w++){s=b[w];if(a._isElementNode(s)){s=j(s,d,d.length);if(s!==l)return s}}if(r)return false;return l}var e=/[\.\s]\s*\.?/,g=/[\n\t]/g;f.mix(a,{hasClass:function(b,d){return c(b,d,function(j,r,w){if(j=j.className){j=(" "+j+" ").replace(g," ");for(var q=0,s=true;q<w;q++)if(j.indexOf(" "+r[q]+" ")<
0){s=false;break}if(s)return true}},true)},addClass:function(b,d){c(b,d,function(j,r,w){var q=j.className;if(q){var s=(" "+q+" ").replace(g," ");q=q;for(var v=0;v<w;v++)if(s.indexOf(" "+r[v]+" ")<0)q+=" "+r[v];j.className=f.trim(q)}else j.className=d},l)},removeClass:function(b,d){c(b,d,function(j,r,w){var q=j.className;if(q)if(w){q=(" "+q+" ").replace(g," ");for(var s=0,v;s<w;s++)for(v=" "+r[s]+" ";q.indexOf(v)>=0;)q=q.replace(v," ");j.className=f.trim(q)}else j.className=""},l)},replaceClass:function(b,
d,j){a.removeClass(b,d);a.addClass(b,j)},toggleClass:function(b,d,j){var r=f.isBoolean(j),w;c(b,d,function(q,s,v){for(var o=0,n;o<v;o++){n=s[o];w=r?!j:a.hasClass(q,n);a[w?"removeClass":"addClass"](q,n)}},l)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,l,c){function e(y,z){if(f.isPlainObject(z))if(q(y))a.attr(y,z,true);else y.nodeType==11&&f.each(y.childNodes,function(A){a.attr(A,z,true)});return y}function g(y,z){var A=null,B,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;A=z.createDocumentFragment();if(y.item)y=f.makeArray(y);B=0;for(C=y.length;B<C;B++)A.appendChild(y[B])}else f.log("Unable to convert "+y+" to fragment.");return A}function b(y,z,A,B){if(A){var C=f.guid("ks-tmp-"),D=RegExp(n);z+='<span id="'+
C+'"></span>';f.available(C,function(){var F=a.get("head"),E,G,H,J,K,I;for(D.lastIndex=0;E=D.exec(z);)if((H=(G=E[1])?G.match(t):false)&&H[2]){E=j.createElement("script");E.src=H[2];if((J=G.match(m))&&J[2])E.charset=J[2];E.async=true;F.appendChild(E)}else if((I=E[2])&&I.length>0)f.globalEval(I);(K=j.getElementById(C))&&a.remove(K);f.isFunction(B)&&B()});d(y,z)}else{d(y,z);f.isFunction(B)&&B()}}function d(y,z){z=(z+"").replace(n,"");try{y.innerHTML=z}catch(A){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(a.create(z))}}var j=document,r=l.ie,w=a._nodeTypeIs,q=a._isElementNode,s=j.createElement("div"),v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,o=/<(\w+)/,n=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,u=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,t=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;f.mix(a,{create:function(y,z,A){if(w(y,1)||w(y,3)){z=y;A=z.cloneNode(true);if(l.ie<8)A.innerHTML=z.innerHTML;return A}if(!(y=f.trim(y)))return null;var B=
null;B=a._creators;var C,D="div",F;if(C=u.exec(y))B=(A||j).createElement(C[1]);else{y=y.replace(v,"<$1></$2>");if((C=o.exec(y))&&(F=C[1])&&f.isFunction(B[F=F.toLowerCase()]))D=F;y=B[D](y,A).childNodes;B=y.length===1?y[0].parentNode.removeChild(y[0]):g(y,A||j)}return e(B,z)},_creators:{div:function(y,z){var A=z?z.createElement("div"):s;A.innerHTML="w<div>"+y+"</div>";return A.lastChild}},html:function(y,z,A,B){if(z===c){y=a.get(y);if(q(y))return y.innerHTML;return null}else f.each(a.query(y),function(C){q(C)&&
b(C,z,A,B)})},remove:function(y){f.each(a.query(y),function(z){z.parentNode&&z.parentNode.removeChild(z)})},_nl2frag:g});if(r||l.gecko||l.webkit){var k=a._creators,p=a.create,h=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,i={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},x;for(x in i)(function(y){k[x]=function(z,A){return p("<"+y+">"+z+"</"+y+">",null,A)}})(i[x]);if(r){k.script=function(y,z){var A=z?z.createElement("div"):s;A.innerHTML="-"+y;A.removeChild(A.firstChild);
return A};if(r<8)k.tbody=function(y,z){var A=p("<table>"+y+"</table>",null,z),B=A.children.tags("tbody")[0];A.children.length>1&&B&&!h.test(y)&&B.parentNode.removeChild(B);return A}}f.mix(k,{optgroup:k.option,th:k.td,thead:k.tbody,tfoot:k.tbody,caption:k.tbody,colgroup:k.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,l){var c=window,e="_ks_data_"+f.now(),g={},b={},d={};d.applet=1;d.object=1;d.embed=1;var j={hasData:function(q,s){if(q)if(s!==l){if(s in q)return true}else if(!f.isEmptyObject(q))return true;return false}},r={hasData:function(q,s){if(q==c)return r.hasData(b,s);return j.hasData(q[e],s)},data:function(q,s,v){if(q==c)return r.data(b,s,v);q=q[e]=q[e]||{};if(v!==l)q[s]=v;else return s!==l?q[s]===l?null:q[s]:q},removeData:function(q,s){if(q==c)return r.removeData(b,s);
var v=q[e];if(v)if(s!==l){delete v[s];f.isEmptyObject(v)&&r.removeData(q,l)}else delete q[e]}},w={hasData:function(q,s){var v=q[e];if(!v)return false;return j.hasData(g[v],s)},data:function(q,s,v){if(!d[q.nodeName.toLowerCase()]){var o=q[e];o||(o=q[e]=f.guid());q=g[o]=g[o]||{};if(v!==l)q[s]=v;else return s!==l?q[s]===l?null:q[s]:q}},removeData:function(q,s){var v=q[e];if(v){var o=g[v];if(o)if(s!==l){delete o[s];f.isEmptyObject(o)&&w.removeData(q,l)}else{delete g[v];try{delete q[e]}catch(n){}q.removeAttribute&&
q.removeAttribute(e)}}}};f.mix(a,{hasData:function(q,s){var v=false;a.query(q).each(function(o){v=o&&o.nodeType?v||w.hasData(o,s):v||r.hasData(o,s)});return v},data:function(q,s,v){if(f.isPlainObject(s))for(var o in s)a.data(q,o,s[o]);else if(v===l)return(q=a.get(q))&&q.nodeType?w.data(q,s,v):r.data(q,s,v);else a.query(q).each(function(n){n&&n.nodeType?w.data(n,s,v):r.data(n,s,v)})},removeData:function(q,s){a.query(q).each(function(v){v&&v.nodeType?w.removeData(v,s):r.removeData(v,s)})}});return a},
{requires:["./base"]});
KISSY.add("dom/insertion",function(f,a){function l(b,d,j){b=a.query(b);d=a.query(d);if(b=c(b)){var r;if(d.length>1)r=b.cloneNode(true);for(var w=0;w<d.length;w++){var q=d[w],s=w>0?r.cloneNode(true):b;j(s,q)}}}var c=a._nl2frag;f.mix(a,{insertBefore:function(b,d){l(b,d,function(j,r){r.parentNode&&r.parentNode.insertBefore(j,r)})},insertAfter:function(b,d){l(b,d,function(j,r){r.parentNode&&r.parentNode.insertBefore(j,r.nextSibling)})},appendTo:function(b,d){l(b,d,function(j,r){r.appendChild(j)})},prependTo:function(b,
d){l(b,d,function(j,r){r.insertBefore(j,r.firstChild)})}});var e={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},g;for(g in e)a[g]=a[e[g]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(f,a,l,c){function e(h){var i,x=0;i=0;var y=b.body,z=q(h[n]);if(h[p]){i=h[p]();x=i[u];i=i[t];h=d&&b.documentMode!=9&&(s?j.clientTop:y.clientTop)||0;x-=d&&b.documentMode!=9&&(s?j.clientLeft:y.clientLeft)||0;i-=h;if(l.mobile!=="apple"){x+=a[m](z);i+=a[k](z)}}return{left:x,top:i}}var g=window,b=document,d=l.ie,j=b.documentElement,r=a._isElementNode,w=a._nodeTypeIs,q=a._getWin,s=b.compatMode==="CSS1Compat",v=Math.max,o=parseInt,n="ownerDocument",u="left",t="top",m="scrollLeft",
k="scrollTop",p="getBoundingClientRect";f.mix(a,{offset:function(h,i){if(!(h=a.get(h))||!h[n])return null;if(i===c)return e(h);var x=h;if(a.css(x,"position")==="static")x.style.position="relative";var y=e(x),z={},A,B;for(B in i){A=o(a.css(x,B),10)||0;z[B]=A+i[B]-y[B]}a.css(x,z)},scrollIntoView:function(h,i,x,y){if((h=a.get(h))&&h[n]){y=y===c?true:!!y;x=x===c?true:!!x;if(!i||(i=a.get(i))===g)h.scrollIntoView(x);else{if(w(i,9))i=q(i);var z=!!q(i),A=a.offset(h),B=z?{left:a.scrollLeft(i),top:a.scrollTop(i)}:
a.offset(i),C={left:A[u]-B[u],top:A[t]-B[t]};A=z?a.viewportHeight(i):i.clientHeight;z=z?a.viewportWidth(i):i.clientWidth;B=a[m](i);var D=a[k](i),F=B+z,E=D+A,G=h.offsetHeight;h=h.offsetWidth;var H=C.left+B-(o(a.css(i,"borderLeftWidth"))||0);C=C.top+D-(o(a.css(i,"borderTopWidth"))||0);var J=H+h,K=C+G,I,L;if(G>A||C<D||x)I=C;else if(K>E)I=K-A;if(y)if(h>z||H<B||x)L=H;else if(J>F)L=J-z;a[k](i,I);a[m](i,L)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});f.each(["Left","Top"],function(h,i){var x=
"scroll"+h;a[x]=function(y,z){if(f.isNumber(y))arguments.callee(g,y);else{y=a.get(y);var A=0,B=q(y);if(B){if(z!==c){A=h=="Left"?z:a.scrollLeft(B);var C=h=="Top"?z:a.scrollTop(B);B.scrollTo(A,C)}A=B.document;A=B[i?"pageYOffset":"pageXOffset"]||A.documentElement[x]||A.body[x]}else if(r(y=a.get(y)))A=z!==c?y[x]=z:y[x];return z===c?A:c}}});f.each(["Width","Height"],function(h){a["doc"+h]=function(i){i=a.get(i);i=q(i).document;return v(i.documentElement["scroll"+h],i.body["scroll"+h],a["viewport"+h](i))};
a["viewport"+h]=function(i){i=a.get(i);var x="inner"+h;i=q(i);var y=i.document;return x in i?i[x]:s?y.documentElement["client"+h]:y.body["client"+h]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(f,a,l,c){function e(m,k){var p=a.get(m);if(f.isWindow(p))return k==r?a.viewportWidth(p):a.viewportHeight(p);else if(p.nodeType==9)return k==r?a.docWidth(p):a.docHeight(p);var h=k===r?p.offsetWidth:p.offsetHeight;f.each(k===r?["Left","Right"]:["Top","Bottom"],function(i){h-=parseFloat(a._getComputedStyle(p,"padding"+i))||0;h-=parseFloat(a._getComputedStyle(p,"border"+i+"Width"))||0});return h}function g(m,k,p){var h=p;if(p===w&&s.test(k)){h=0;if(f.inArray(a.css(m,"position"),
["absolute","fixed"])){p=m[k==="left"?"offsetLeft":"offsetTop"];if(j&&document.documentMode!=9||l.opera)p-=m.offsetParent["client"+(k=="left"?"Left":"Top")]||0;h=p-(q(a.css(m,"margin-"+k))||0)}}return h}var b=document,d=b.documentElement,j=l.ie,r="width",w="auto",q=parseInt,s=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,o=/-([a-z])/ig,n=function(m,k){return k.toUpperCase()},u={},t={};f.mix(a,{_CUSTOM_STYLES:u,_getComputedStyle:function(m,k){var p="",h=m.ownerDocument;
if(m.style)p=h.defaultView.getComputedStyle(m,null)[k];return p},css:function(m,k,p){if(f.isPlainObject(k))for(var h in k)a.css(m,h,k[h]);else{if(k.indexOf("-")>0)k=k.replace(o,n);h=k;k=u[k]||k;if(p===c){m=a.get(m);var i="";if(m&&m.style){i=k.get?k.get(m,h):m.style[k];if(i===""&&!k.get)i=g(m,k,a._getComputedStyle(m,k))}return i===c?"":i}else{if(p===null||p==="")p="";else if(!isNaN(new Number(p))&&v.test(k))p+="px";(k===r||k==="height")&&parseFloat(p)<0||f.each(a.query(m),function(x){if(x&&x.style){k.set?
k.set(x,p):x.style[k]=p;if(p==="")x.style.cssText||x.removeAttribute("style")}})}}},width:function(m,k){if(k===c)return e(m,r);else a.css(m,r,k)},height:function(m,k){if(k===c)return e(m,"height");else a.css(m,"height",k)},show:function(m){a.query(m).each(function(k){if(k){k.style.display=a.data(k,"display")||"";if(a.css(k,"display")==="none"){var p=k.tagName,h=t[p],i;if(!h){i=b.createElement(p);b.body.appendChild(i);h=a.css(i,"display");a.remove(i);t[p]=h}a.data(k,"display",h);k.style.display=h}}})},
hide:function(m){a.query(m).each(function(k){if(k){var p=k.style,h=p.display;if(h!=="none"){h&&a.data(k,"display",h);p.display="none"}}})},toggle:function(m){a.query(m).each(function(k){if(k)a.css(k,"display")==="none"?a.show(k):a.hide(k)})},addStyleSheet:function(m,k,p){if(f.isString(m)){p=k;k=m;m=window}m=a.get(m);m=a._getWin(m).document;var h;if(p&&(p=p.replace("#","")))h=a.get("#"+p,m);if(!h){h=a.create("<style>",{id:p},m);a.get("head",m).appendChild(h);if(h.styleSheet)h.styleSheet.cssText=k;
else h.appendChild(m.createTextNode(k))}},unselectable:function(m){a.query(m).each(function(k){if(k)if(l.gecko)k.style.MozUserSelect="none";else if(l.webkit)k.style.KhtmlUserSelect="none";else if(l.ie||l.opera){var p=0,h=k.getElementsByTagName("*");for(k.setAttribute("unselectable","on");k=h[p++];)switch(k.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:k.setAttribute("unselectable","on")}}})}});if(d.style.cssFloat!==c)u["float"]="cssFloat";else if(d.style.styleFloat!==
c)u["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(f,a,l){function c(o,n){var u,t,m=[],k;t=f.require("sizzle");n=e(n);if(f.isString(o))if(o.indexOf(",")!=-1){u=o.split(",");f.each(u,function(p){m.push.apply(m,f.makeArray(c(p,n)))})}else{o=f.trim(o);if(q.test(o)){if(t=g(o.slice(1),n))m=[t]}else if(u=s.exec(String(o))){t=u[1];k=u[2];u=u[3];if(n=t?g(t,n):n)if(u)if(!t||o.indexOf(w)!==-1)m=f.makeArray(v(u,k,n));else{if((t=g(t,n))&&a.hasClass(t,u))m=[t]}else if(k)m=b(k,n)}else if(t)m=t(o,n);else d(o)}else if(o&&(f.isArray(o)||
r(o)))m=o;else if(o)m=[o];if(r(m))m=f.makeArray(m);m.each=function(p,h){return f.each(m,p,h)};return m}function e(o){if(o===l)o=j;else if(f.isString(o)&&q.test(o))o=g(o.slice(1),j);else if(f.isArray(o)||r(o))o=o[0]||null;else if(o&&o.nodeType!==1&&o.nodeType!==9)o=null;return o}function g(o,n){if(!n)return null;if(n.nodeType!==9)n=n.ownerDocument;return n.getElementById(o)}function b(o,n){return n.getElementsByTagName(o)}function d(o){f.error("Unsupported selector: "+o)}var j=document,r=a._isNodeList,
w=" ",q=/^#[\w-]+$/,s=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var o=j.createElement("div");o.appendChild(j.createComment(""));if(o.getElementsByTagName("*").length>0)b=function(n,u){var t=f.makeArray(u.getElementsByTagName(n));if(n==="*"){for(var m=[],k=0,p=0,h;h=t[k++];)if(h.nodeType===1)m[p++]=h;t=m}return t}})();var v=j.getElementsByClassName?function(o,n,u){u=o=f.makeArray(u.getElementsByClassName(o));var t=0,m=0,k=o.length,p;if(n&&n!=="*"){u=[];for(n=n.toUpperCase();t<k;++t){p=
o[t];if(p.tagName===n)u[m++]=p}}return u}:j.querySelectorAll?function(o,n,u){return u.querySelectorAll((n?n:"")+"."+o)}:function(o,n,u){n=u.getElementsByTagName(n||"*");u=[];var t=0,m=0,k=n.length,p,h;for(o=w+o+w;t<k;++t){p=n[t];if((h=p.className)&&(w+h+w).indexOf(o)>-1)u[m++]=p}return u};f.mix(a,{query:c,get:function(o,n){return c(o,n)[0]||null},filter:function(o,n,u){var t=c(o,u),m=f.require("sizzle"),k,p,h,i=[];if(f.isString(n)&&(k=s.exec(n))&&!k[1]){p=k[2];h=k[3];n=function(x){return!(p&&x.tagName.toLowerCase()!==
p.toLowerCase()||h&&!a.hasClass(x,h))}}if(f.isFunction(n))i=f.filter(t,n);else if(n&&m)i=m._filter(o,n,u);else d(n);return i},test:function(o,n,u){o=c(o,u);return o.length&&a.filter(o,n,u).length===o.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(f,a,l,c,e){if(!l.ie)return a;c=document;var g=c.documentElement,b=a._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,j=/^-?\d/,r=/^(?:width|height)$/;try{if(g.style.opacity==e&&g.filters)b.opacity={get:function(v){var o=100;try{o=v.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(n){try{o=v.filters("alpha").opacity}catch(u){if(v=((v.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))o=parseInt(f.trim(v[1]))}}return o/100+""},set:function(v,o){var n=v.style,
u=(v.currentStyle||0).filter||"";n.zoom=1;if(u)u=f.trim(u.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(u&&o!=1)u+=", ";n.filter=u+(o!=1?"alpha(opacity="+o*100+")":"")}}}catch(w){f.log("IE filters ActiveX is disabled. ex = "+w)}l=l.ie==8;var q={},s={get:function(v,o){var n=v.currentStyle[o]+"";if(n.indexOf("px")<0)n=q[n]?q[n]:0;return n}};q.thin=l?"1px":"2px";q.medium=l?"3px":"4px";q.thick=l?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(v){b["border"+v+"Width"]=s});if(!(c.defaultView||
{}).getComputedStyle&&g.currentStyle)a._getComputedStyle=function(v,o){var n=v.style,u=v.currentStyle[o];if(r.test(o))u=a[o](v)+"px";else if(!d.test(u)&&j.test(u)){var t=n.left,m=v.runtimeStyle.left;v.runtimeStyle.left=v.currentStyle.left;n.left=o==="fontSize"?"1em":u||0;u=n.pixelLeft+"px";n.left=t;v.runtimeStyle.left=m}return u};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(f,a,l){function c(d,j,r,w,q,s){if(!(d=a.get(d)))return null;if(j===0)return d;s||(d=d[r]);if(!d)return null;q=q&&a.get(q)||null;if(j===l)j=1;s=[];var v=f.isArray(j),o,n;if(f.isNumber(j)){o=0;n=j;j=function(){return++o===n}}do if(b(d)&&e(d,j)&&(!w||w(d))){s.push(d);if(!v)break}while(d!=q&&(d=d[r]));return v?s:s[0]||null}function e(d,j){if(!j)return true;if(f.isArray(j))for(var r=0;r<j.length;r++){if(a.test(d,j[r]))return true}else if(a.test(d,j))return true;return false}
function g(d,j,r){var w=[];var q=d=a.get(d);if(d&&r)q=d.parentNode;if(q){r=0;for(q=q.firstChild;q;q=q.nextSibling)if(b(q)&&q!==d&&(!j||a.test(q,j)))w[r++]=q}return w}var b=a._isElementNode;f.mix(a,{closest:function(d,j,r){return c(d,j,"parentNode",function(w){return w.nodeType!=11},r,true)},parent:function(d,j,r){return c(d,j,"parentNode",function(w){return w.nodeType!=11},r)},next:function(d,j){return c(d,j,"nextSibling",l)},prev:function(d,j){return c(d,j,"previousSibling",l)},siblings:function(d,
j){return g(d,j,true)},children:function(d,j){return g(d,j,l)},contains:document.documentElement.contains?function(d,j){d=a.get(d);j=a.get(j);if(d.nodeType==3)return false;var r;if(j.nodeType==3){j=j.parentNode;r=true}else if(j.nodeType==9)return false;else r=d!==j;return r&&(d.contains?d.contains(j):true)}:document.documentElement.compareDocumentPosition?function(d,j){d=a.get(d);j=a.get(j);return!!(d.compareDocumentPosition(j)&16)}:0,equals:function(d,j){d=a.query(d);j=a.query(j);if(d.length!=j.length)return false;
for(var r=d.length;r>=0;r--)if(d[r]!=j[r])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(f,a){function l(g,b,d){this.currentTarget=g;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=d;this.target=g}this.currentTarget=g;this.fixed=true}var c=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.augment(l,{_fix:function(){var g=this.originalEvent,b=e.length,d,j=this.currentTarget;for(j=j.nodeType===9?j:j.ownerDocument||c;b;){d=e[--b];this[d]=g[d]}if(!this.target)this.target=this.srcElement||c;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){g=j.documentElement;b=j.body;this.pageX=this.clientX+(g&&g.scrollLeft||b&&b.scrollLeft||
0)-(g&&g.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||b&&b.scrollTop||0)-(g&&g.clientTop||b&&b.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return l});
KISSY.add("event/base",function(f,a,l,c){function e(n,u,t){if((t=f.trim(t))&&t.indexOf(w)>0){var m=f.makeArray(arguments);f.each(t.split(w),function(k){var p=f.clone(m);p.splice(0,3,u,k);o[n].apply(o,p)});return true}return c}function g(n){return n&&n.nodeType!==3&&n.nodeType!==8}function b(n,u,t,m,k){var p=o.special[u]||{};if(!m.length&&(!p.setup||p.setup.call(n)===false))j(n,u,t);p.add&&p.add.call(n,k)}var d=document,j=d.addEventListener?function(n,u,t,m){n.addEventListener&&n.addEventListener(u,
t,!!m)}:function(n,u,t){n.attachEvent&&n.attachEvent("on"+u,t)},r=d.removeEventListener?function(n,u,t,m){n.removeEventListener&&n.removeEventListener(u,t,!!m)}:function(n,u,t){n.detachEvent&&n.detachEvent("on"+u,t)},w=" ",q="",s="trigger-none-"+f.now(),v="ksEventTargetId"+f.now(),o={_data:function(){var n=f.makeArray(arguments);n.splice(1,0,v);return a.data.apply(a,n)},_removeData:function(){var n=f.makeArray(arguments);n.splice(1,0,v);return a.removeData.apply(a,n)},special:{},add:function(n,u,
t,m,k){if(e("add",n,u,t,m,k))return n;a.query(n).each(function(p){var h=!p.isCustomEventTarget,i;if(!(!p||!u||!f.isFunction(t)||h&&!g(p))){(i=o._data(p))||o._data(p,i={});var x=i.events=i.events||{};x=x[u]=x[u]||[];var y={fn:t,scope:m||p,data:k},z=i.handler;if(!z){z=i.handler=function(A,B){if(!(A&&A.type==q)){var C=z.target;if(!A||!A.fixed)A=new l(C,A);f.isPlainObject(B)&&f.mix(A,B);return o._handle(C,A)}};z.target=p}if(h){b(p,u,z,x,y);p=null}x.push(y)}});return n},__getListeners:function(n,u){return(o.__getEvents(n)||
{})[u]||[]},__getEvents:function(n){return(n=o._data(n))&&n.events},remove:function(n,u,t,m,k){if(e("remove",n,u,t,m))return n;a.query(n).each(function(p){var h=o._data(p),i=h&&h.events,x,y,z,A,B,C=!p.isCustomEventTarget,D=C&&o.special[u]||{};if(!(!p||!C&&!g(p)||!i))if(u===c)for(u in i)o.remove(p,u);else{m=m||p;if(x=i[u]){y=x.length;if(f.isFunction(t)&&y){A=z=0;for(B=[];z<y;++z){var F=false,E=x[z];if(t!==E.fn||m!==E.scope){B[A++]=E;F=true}else if(k!==G){var G=E.data;if(!k&&G||G&&!k){B[A++]=E;F=true}else if(k&&
G)if(!k.equals||!G.equals)f.error("no equals in data");else if(!G.equals(k)){B[A++]=E;F=true}}!F&&D.remove&&D.remove.call(p,E)}i[u]=B;y=B.length}if(t===c||y===0){if(C&&(!D.tearDown||D.tearDown.call(p)===false))r(p,u,h.handler);delete i[u]}}if(f.isEmptyObject(i)){h.handler.target=null;delete h.handler;delete h.events;o._removeData(p)}}});return n},_handle:function(n,u){for(var t=o.__getListeners(n,u.type).slice(0),m,k,p=0,h=t.length;p<h;++p){m=t[p];m=m.fn.call(m.scope,u,m.data);if(m!==c){if(k!==false)k=
m;m===false&&u.halt()}if(u.isImmediatePropagationStopped)break}return k},fire:function(n,u,t){if(!e("fire",n,u,t)){var m;a.query(n).each(function(k){var p=!k.isCustomEventTarget;t=t||{};t.type=u;if(p){p=t;var h;if(g(k)){p=new l(k,p);var i=p.target=k,x="on"+u;do{var y=(o._data(i)||{}).handler;p.currentTarget=i;y&&y.call(i,p);if(i[x]&&i[x].call(i)===false){h=false;p.preventDefault()}i=i.parentNode||i.ownerDocument||i===k.ownerDocument&&window}while(i&&!p.isPropagationStopped);if(!p.isDefaultPrevented)if(!(u===
"click"&&k.nodeName.toLowerCase()=="a")){var z;try{if(x&&k[u]){if(z=k[x])k[x]=null;q=u;k[u]()}}catch(A){}if(z)k[x]=z;q=s}}k=h;if(k!==c)m=k}else if((k=o._data(k))&&f.isFunction(k.handler))m=k.handler(c,t)});return m}},_batchForType:e,_simpleAdd:j,_simpleRemove:r};o.on=o.add;o.detach=o.remove;return o},{requires:["dom","event/object"]});
KISSY.add("event/target",function(f,a){return{isCustomEventTarget:true,fire:function(l,c){return a.fire(this,l,c)},on:function(l,c,e){a.add(this,l,c,e);return this},detach:function(l,c,e){a.remove(this,l,c,e);return this}}},{requires:["./base","dom"]});
KISSY.add("event/focusin",function(f,a,l){a.ie||f.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function e(b){return l.fire(b.target,c.name)}var g=0;l.special[c.name]={setup:function(){g++===0&&document.addEventListener(c.fix,e,true)},tearDown:function(){--g===0&&document.removeEventListener(c.fix,e,true)}}});return l},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(f,a,l,c){c=document.documentMode||c.ie;if(!("onhashchange"in window)||c<8){var e,g=[],b=q();a.special.hashchange={setup:function(){-1===f.indexOf(this,g)&&g.push(this);e||d()},tearDown:function(){var s=f.indexOf(this,g);s>=0&&g.splice(s,1);if(g.length===0){e&&clearTimeout(e);e=null}}};var d=function(){j()},j=function(){var s=q();if(s!==b){r(s);b=s}e=setTimeout(j,50)},r=function(s){w(s)},w=function(s){f.log("hash changed : "+s);for(s=0;s<g.length;s++)a._handle(g[s],
{type:"hashchange"})},q=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")};c<8&&function(){var s;d=function(){if(!s){s=l.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');l.prepend(s,document.documentElement);a.add(s,"load",function(){a.remove(s,"load");r(q());a.add(s,"load",v);j()});var v=function(){var o=f.trim(s.contentWindow.document.body.innerHTML),n=q();if(o!=n)b=location.hash=o;w(o)}}};r=function(v){v="<html><body>"+v+"</body></html>";
var o=s.contentWindow.document;try{o.open();o.write(v);o.close();return true}catch(n){return false}}}()}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(f,a,l){function c(o){var n=l.data(o,w);if(!n){n=+new Date;l.data(o,w,n)}return n}function e(o){o=c(o);delete q[o];if(s[o]){clearTimeout(s[o]);delete s[o]}}function g(o){e(o.target)}function b(o){var n=c(o);s[n]||(s[n]=setTimeout(function(){var u=o.value;if(u!==q[n]){a._handle(o,{type:r,prevVal:q[n],newVal:u});q[n]=u}s[n]=setTimeout(arguments.callee,v)},v))}function d(o){var n=o.target;if(o.type=="focus"){o=c(n);q[o]=n.value}b(n)}function j(o){e(o);a.remove(o,
"blur",g);a.remove(o,"mousedown keyup keydown focus",d);l.removeData(o,w)}var r="valueChange",w="event/valuechange",q={},s={},v=50;a.special[r]={fix:false,setup:function(){var o=this.nodeName.toLowerCase();if("input"==o||"textarea"==o){j(this);a.on(this,"blur",g);a.on(this,"mousedown keyup keydown focus",d)}},tearDown:function(){j(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(f,a,l){function c(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function e(d,j){var r,w=a.closest(d.target,[j.selector],this);if(w)for(var q=0;q<w.length;q++){d.currentTarget=w[q];var s=j.fn.call(j.scope||this,d);if(s===false||d.isPropagationStopped||d.isImmediatePropagationStopped){if(s===false)r=s;if(d.isPropagationStopped||d.isImmediatePropagationStopped)break}}return r}
var g=l._batchForType,b={focus:"focusin",blur:"focusout"};f.mix(l,{delegate:function(d,j,r,w,q){if(g("delegate",d,j,r,w,q))return d;a.query(d).each(function(s){if(!s.isCustomEventTarget){j=b[j]||j;l.on(s,j,e,s,{fn:w,selector:r,scope:q,equals:c})}});return d},undelegate:function(d,j,r,w,q){if(g("undelegate",d,j,r,w,q))return d;a.query(d).each(function(s){if(!s.isCustomEventTarget){j=b[j]||j;l.remove(s,j,e,s,{fn:w,selector:r,scope:q,equals:c})}})}});return l},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(f,a,l,c){c.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(e){function g(b){var d=this,j=b.relatedTarget;b.type=e.name;try{if(!(j&&j!==document&&!j.parentNode)){j=l.closest(j,function(w){return w==d});j!==d&&a._handle(d,b)}}catch(r){f.log("withinElement :"+r)}}a.special[e.name]={setup:function(){a.add(this,e.fix,g)},tearDown:function(){a.remove(this,e.fix,g)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(f,a,l,c){a.Target=l;a.Object=c;return a},{requires:["event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(f,a,l){function c(b,d,j){if(!(this instanceof c))return new c(b,d,j);if(b)if(f.isString(b)){b=a.create(b,d,j);if(b.nodeType===11){e.push.apply(this,f.makeArray(b.childNodes));return l}}else if(f.isArray(b)||g(b)){e.push.apply(this,f.makeArray(b));return l}else b=b;else return l;this[0]=b;this.length=1;return l}var e=Array.prototype,g=a._isNodeList;f.augment(c,{length:0,item:function(b){if(f.isNumber(b)){if(b>=this.length)return null;return new c(this[b],l,l)}else return new c(b,
l,l)},add:function(b,d,j){if(f.isNumber(d)){j=d;d=l}b=f.makeArray(c.all(b,d));d=new c(this,l,l);if(j===l)e.push.apply(d,b);else{j=[j,0];j.push.apply(j,b);e.splice.apply(d,j)}return d},slice:function(b,d){return new c(e.slice.call(this,b,d),l,l)},getDOMNodes:function(){return e.slice.call(this)},each:function(b,d){var j=this.length,r=0,w;for(w=new c(this[0],l,l);r<j&&b.call(d||w,w,r,this)!==false;w=new c(this[++r],l,l));return this},getDOMNode:function(){return this[0]},all:function(b){if(this.length>
0)return c.all(b,this[0]);return new c(l,l,l)}});c.prototype.one=function(b){b=this.all(b);return b.length?b:null};c.all=function(b,d){if(f.isString(b)&&(b=f.trim(b))&&b.length>=3&&f.startsWith(b,"<")&&f.endsWith(b,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new c(b,l,d)}return new c(a.query(b,d),l,l)};c.one=function(b,d){var j=c.all(b,d);return j.length?j:null};return c},{requires:["dom"]});
KISSY.add("node/attach",function(f,a,l,c,e){var g=c.prototype,b=a._isNodeList;c.addMethod=function(d,j,r,w){g[d]=function(){var q=f.makeArray(arguments);q.unshift(this);q=j.apply(r||this,q);if(q===e)q=this;else if(q===null)q=null;else if(w&&(q.nodeType||b(q)||f.isArray(q)))q=new c(q);return q}};f.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","append","appendTo","prepend","prependTo","insertBefore","before","after","insertAfter","filter","test","hasClass","addClass",
"removeClass","replaceClass","toggleClass","removeAttr","attr","hasAttr","prop","hasProp","val","text","css","toggle","offset","scrollIntoView","parent","closest","next","prev","siblings","children","html","remove","removeData","hasData","unselectable"],function(d){c.addMethod(d,a[d],a,true)});c.addMethod("data",a.data,a);f.each(["on","detach","fire","delegate","undelegate"],function(d){g[d]=function(){var j=f.makeArray(arguments);j.unshift(this);return l[d].apply(l,j)}})},{requires:["dom","event",
"./base"]});KISSY.add("node/override",function(f,a,l,c){f.each(["append","prepend","before","after"],function(e){c.addMethod(e,function(g,b){var d=b;if(f.isString(d))d=a.create(d);a[e](d,g)},undefined,true)})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var f=Math,a=f.PI,l=f.pow,c=f.sin,e=1.70158,g={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(l(2,10*(b-=1))*c((b-0.075)*2*a/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return l(2,-10*b)*c((b-0.075)*2*a/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*l(2,10*(b-=1))*c((b-0.1125)*2*a/0.45);return l(2,-10*(b-=1))*c((b-0.1125)*2*a/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((e+1)*b-e)},backOut:function(b){return(b-=1)*b*((e+1)*b+e)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((e*=1.525)+1)*b-e);return 0.5*((b-=2)*b*(((e*=1.525)+1)*b+e)+2)},bounceIn:function(b){return 1-g.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return g.bounceIn(b*2)*0.5;return g.bounceOut(b*2-1)*0.5+0.5}};g.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return g});
KISSY.add("anim/manager",function(f){function a(c){c[l]=c[l]||f.guid("anim-");return c[l]}var l=f.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(c){var e=a(c);if(!this.runnings[e]){this.runnings[e]=c;this.startTimer()}},stop:function(c){this.notRun(c)},notRun:function(c){delete this.runnings[a(c)];f.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(c){this.notRun(c)},resume:function(c){this.start(c)},startTimer:function(){var c=this;if(!c.timer)c.timer=setTimeout(function(){if(c.runFrames())c.stopTimer();
else{c.timer=null;c.startTimer()}},c.interval)},stopTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},runFrames:function(){var c=true,e=this.runnings,g;for(g in e)if(e.hasOwnProperty(g)){c=false;e[g]._runFrame()}return c}}});
KISSY.add("anim/base",function(f,a,l,c,e,g,b){function d(m,k,p,h,i,x){if(m=a.get(m)){if(!(this instanceof d))return new d(m,k,p,h,i,x);var y=f.isPlainObject(p);k=k;this.domEl=m;if(f.isPlainObject(k))k=String(f.param(k,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var z=k,A=m;m={};var B=q.length,C=A.cloneNode(true);a.insertAfter(C,A);A=C.style;for(r(C,z);B--;){var D=q[B];if(A[D])m[D]=(u[D]||u["*"]).getter(C,D)}z=w(z);for(var F in z)m[F]=(u[F]||u["*"]).getter(C,
F);a.remove(C);this.props=m;this.targetStyle=k;if(y)y=f.merge(o,p);else{y=f.clone(o);if(p)y.duration=parseFloat(p)||1;if(f.isString(h)||f.isFunction(h))y.easing=h;if(f.isFunction(i))y.complete=i;if(x!==b)y.nativeSupport=x}if(!f.isEmptyObject(w(k)))y.nativeSupport=false;this.config=y;if(y.nativeSupport&&t()&&f.isString(h=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(h)||(h=c.NativeTimeFunction[h])){y.easing=h;this.transitionName=t()}if(f.isFunction(i))this.callback=i}}function j(m,k){return k}function r(m,
k){if(e.ie&&k.indexOf(v)>-1){var p=k.match(/opacity\s*:\s*([^;]+)(;|$)/);p&&a.css(m,v,parseFloat(p[1]))}m.style.cssText+=";"+k;p=w(k);for(var h in p)m[h]=p[h]}function w(m){for(var k={},p=0;p<s.length;p++){var h=s[p].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(h=m.match(RegExp(h+"\\s*:([^;]+)(;|$)")))k[s[p]]=f.trim(h[1])}return k}var q,s,v,o,n;l=l.Target;q="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
s=[];v="opacity";o={duration:1,easing:"easeNone",nativeSupport:true};d.PROPS=q;d.CUSTOM_ATTRS=s;d.PROP_OPS={"*":{getter:function(m,k){var p=a.css(m,k),h=parseFloat(p);p=(p+"").replace(/^[-\d.]+/,"");if(isNaN(h))return{v:p,u:"",f:j};return{v:h,u:p,f:this.interpolate}},setter:function(m,k,p){return a.css(m,k,p)},interpolate:function(m,k,p){return(m+(k-m)*p).toFixed(3)},eq:function(m,k){return m.v==k.v&&m.u==k.u}}};var u=d.PROP_OPS;f.augment(d,l,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var m=this.config,k=this.domEl,p,h=this.props,i={},x;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=p=m.duration*1E3;if(this.transitionName)this._nativeRun();else{for(x in h)i[x]=(u[x]||u["*"]).getter(k,x);this.source=i;k=f.now();p=k+p;m=m.easing;if(f.isString(m))m=c[m]||c.easeNone;this.start=k;this.finish=p;this.easing=m;g.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var m=
this.domEl,k=this.finish,p=this.start,h=this.duration,i=f.now(),x=this.source,y=this.easing,z=this.props,A;p=i-p;h=i>k?1:p/h;var B,C;this.elapsedTime=p;for(A in z){p=x[A];B=z[A];var D;D=B;var F=p,E=u[A];D=E&&E.eq?E.eq(D,F):u["*"].eq(D,F);if(!D){if(B.v==0)B.u=p.u;if(p.u!==B.u){p.v=0;p.u=B.u}D=B.f(p.v,B.v,y(h))+B.u;(u[A]||u["*"]).setter(m,A,D);if(B.f==j){p.v=B.v;p.u=B.u}}}if(this.fire("step")===false||(C=i>k)){this.stop();C&&this._complete()}},_nativeRun:function(){var m=this,k=m.domEl,p=m.duration,
h=m.config.easing,i=m.transitionName,x={};x[i+"Property"]="all";x[i+"Duration"]=p+"ms";x[i+"TimingFunction"]=h;a.css(k,x);f.later(function(){r(k,m.targetStyle)},0);f.later(function(){m.stop(true)},p)},stop:function(m){if(this.isRunning){if(this.transitionName)this._nativeStop(m);else{if(m){r(this.domEl,this.targetStyle);this._complete()}g.stop(this)}this.isRunning=false;return this}},_nativeStop:function(m){var k=this.domEl,p=this.transitionName,h=this.props,i;if(m){a.css(k,p+"Property","none");this._complete()}else{for(i in h)a.css(k,
i,a._getComputedStyle(k,i));a.css(k,p+"Property","none")}}});d.supportTransition=function(){if(n)return n;var m="transition",k,p=document.documentElement;if(p.style[m]!==b)k=m;else f.each(["Webkit","Moz","O"],function(h){if(p.style[m=h+"Transition"]!==b){k=m;return false}});return n=k};var t=d.supportTransition;return d},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/color",function(f,a,l){function c(r){r=r.toLowerCase();var w;if(w=r.match(g))return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])];else if(w=r.match(b)){for(r=1;r<w.length;r++)if(w[r].length<2)w[r]+=w[r];return[parseInt(w[1],16),parseInt(w[2],16),parseInt(w[3],16)]}if(e[r])return e[r];f.log("only allow rgb or hex color string : "+r,"warn");return[255,255,255]}var e={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},g=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),j=l.PROP_OPS;l=l.PROPS;l.push.apply(l,d);j.color={getter:function(r,w){return{v:c(a.css(r,w)),u:"",f:this.interpolate}},
setter:j["*"].setter,interpolate:function(r,w,q){var s=j["*"].interpolate;return"rgb("+[Math.floor(s(r[0],w[0],q)),Math.floor(s(r[1],w[1],q)),Math.floor(s(r[2],w[2],q))].join(", ")+")"},eq:function(r,w){return r.v+""==w.v+""}};f.each(d,function(r){j[r]=j.color})},{requires:["dom","./base"]});
KISSY.add("anim/scroll",function(f,a,l){var c=l.PROP_OPS;l.CUSTOM_ATTRS.push("scrollLeft","scrollTop");c.scrollLeft=c.scrollTop={getter:function(e,g){return{v:e[g],u:"",f:c["*"].interpolate}},setter:function(e,g,b){e[g]=b}}},{requires:["dom","./base"]});KISSY.add("anim",function(f,a,l){a.Easing=l;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(f,a,l,c,e){function g(n,u,t,m,k,p,h){if(u==="toggle"){k=a.css(n,d)===j?1:0;u="show"}if(k)a.css(n,d,a.data(n,d)||"");var i={},x={};f.each(o[u],function(y){if(y===r){i[r]=a.css(n,r);a.css(n,r,w)}else if(y===q){i[q]=a.css(n,q);x.opacity=k?1:0;k&&a.css(n,q,0)}else if(y===s){i[s]=a.css(n,s);x.height=k?a.css(n,s)||n.naturalHeight:0;k&&a.css(n,s,0)}else if(y===v){i[v]=a.css(n,v);x.width=k?a.css(n,v)||n.naturalWidth:0;k&&a.css(n,v,0)}});return(new l(n,x,t,p||"easeOut",
function(){if(!k){var y=n.style,z=y[d];if(z!==j){z&&a.data(n,d,z);y[d]=j}i[s]&&a.css(n,{height:i[s]});i[v]&&a.css(n,{width:i[v]});i[q]&&a.css(n,{opacity:i[q]});i[r]&&a.css(n,{overflow:i[r]})}m&&f.isFunction(m)&&m()},h)).run()}c=c.prototype;var b="ksAnims"+f.now(),d="display",j="none",r="overflow",w="hidden",q="opacity",s="height",v="width",o={show:[r,q,s,v],fade:[q],slide:[r,s]};(function(n){function u(t,m){var k=a.data(t,b);k||a.data(t,b,k=[]);m.on("complete",function(){var p=a.data(t,b);if(p){var h=
f.indexOf(m,p);h>=0&&p.splice(h,1);p.length||a.removeData(t,b)}});k.push(m)}n.animate=function(){var t=f.makeArray(arguments);f.each(this,function(m){var k=l.apply(e,[m].concat(t)).run();u(m,k)});return this};n.stop=function(t){f.each(this,function(m){var k=a.data(m,b);if(k){f.each(k,function(p){p.stop(t)});a.removeData(m,b)}})};f.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(t,m){n[m]=function(k,p,
h,i){a[m]&&arguments.length===0?a[m](this):f.each(this,function(x){var y=g(x,t[0],k,p,t[1],h,i);u(x,y)});return this}})})(c)},{requires:["dom","anim","./base"]});KISSY.add("node",function(f,a){return a},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(f,a){function l(v){return v<10?"0"+v:v}function c(v){j.lastIndex=0;return j.test(v)?'"'+v.replace(j,function(o){var n=q[o];return typeof n==="string"?n:"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function e(v,o){var n,u,t,m,k=r,p,h=o[v];if(h&&typeof h==="object"&&typeof h.toJSON==="function")h=h.toJSON(v);if(typeof s==="function")h=s.call(o,v,h);switch(typeof h){case "string":return c(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";r+=w;p=[];if(Object.prototype.toString.apply(h)==="[object Array]"){m=h.length;for(n=0;n<m;n+=1)p[n]=e(n,h)||"null";t=p.length===0?"[]":r?"[\n"+r+p.join(",\n"+r)+"\n"+k+"]":"["+p.join(",")+"]";r=k;return t}if(s&&typeof s==="object"){m=s.length;for(n=0;n<m;n+=1){u=s[n];if(typeof u==="string")if(t=e(u,h))p.push(c(u)+(r?": ":":")+t)}}else for(u in h)if(Object.hasOwnProperty.call(h,u))if(t=e(u,h))p.push(c(u)+(r?": ":":")+t);t=p.length===0?"{}":r?"{\n"+r+p.join(",\n"+r)+
"\n"+k+"}":"{"+p.join(",")+"}";r=k;return t}}var g=window,b=g.JSON;if(!b||a.ie<9)b=g.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r,w,q={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;if(typeof b.stringify!=="function")b.stringify=function(v,o,n){var u;w=r="";if(typeof n==="number")for(u=0;u<n;u+=1)w+=" ";else if(typeof n==="string")w=n;if((s=o)&&typeof o!=="function"&&(typeof o!=="object"||typeof o.length!=="number"))throw Error("JSON.stringify");return e("",{"":v})};if(typeof b.parse!==
"function")b.parse=function(v,o){function n(t,m){var k,p,h=t[m];if(h&&typeof h==="object")for(k in h)if(Object.hasOwnProperty.call(h,k)){p=n(h,k);if(p!==undefined)h[k]=p;else delete h[k]}return o.call(t,m,h)}var u;v=String(v);d.lastIndex=0;if(d.test(v))v=v.replace(d,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(v.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){u=eval("("+v+")");return typeof o==="function"?n({"":u},""):u}throw new SyntaxError("JSON.parse");};return b},{requires:["ua"]});KISSY.add("json",function(f,a){return{parse:function(l){if(l==null||l==="")return null;return a.parse(l)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(f,a){function l(g){var b=g.responseText,d=g.responseXML,j=g.config,r=j.converters,w=g.converters||{},q,s,v=j.contents,o=j.dataType;if(b||d){for(j=g.mimeType||g.getResponseHeader("Content-Type");o[0]=="*";)o.shift();if(!o.length)for(q in v)if(v[q].test(j)){o[0]!=q&&o.unshift(q);break}o[0]=o[0]||"text";if(o[0]=="text"&&b!=undefined)s=b;else if(o[0]=="xml"&&d!=undefined)s=d;else f.each(["text","xml"],function(u){var t=o[0];if(w[u]&&w[u][t]||r[u]&&r[u][t]){o.unshift(u);
s=u=="text"?b:d;return false}})}v=o[0];for(j=1;j<o.length;j++){q=o[j];var n=w[v]&&w[v][q]||r[v]&&r[v][q];if(!n)throw"no covert for "+v+" => "+q;s=n(s);v=q}g.responseData=s}function c(g){f.mix(this,{responseData:null,config:g||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var e=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;f.augment(c,a.Target,{setRequestHeader:function(g,b){this.requestHeaders[g]=
b;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(g){var b;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};b=e.exec(this.responseHeadersString);)this.responseHeaders[b[1]]=b[2];b=this.responseHeaders[g]}return b===undefined?null:b},overrideMimeType:function(g){if(!this.state)this.mimeType=g;return this},abort:function(g){g=g||"abort";this.transport&&this.transport.abort(g);this.callback(0,g);return this},
callback:function(g,b){if(this.state!=2){this.state=2;this.readyState=4;var d;if(g>=200&&g<300||g==304)if(g==304){b="notmodified";d=true}else try{l(this);b="success";d=true}catch(j){b="parsererror : "+j}else if(g<0)g=0;this.status=g;this.statusText=b;d?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return c},{requires:["event"]});
KISSY.add("ajax/base",function(f,a,l,c){function e(t){t=f.mix(f.clone(u),t||{},undefined,undefined,true);if(t.crossDomain==null){var m=r.exec(t.url.toLowerCase());t.crossDomain=!!(m&&(m[1]!=v[1]||m[2]!=v[2]||(m[3]||(m[1]==="http:"?80:443))!=(v[3]||(v[1]==="http:"?80:443))))}if(t.processData&&t.data&&!f.isString(t.data))t.data=f.param(t.data,undefined,undefined,t.serializeArray);t.type=t.type.toUpperCase();t.hasContent=!q.test(t.type);if(!t.hasContent){if(t.data)t.url+=(/\?/.test(t.url)?"&":"?")+t.data;
if(t.cache===false)t.url+=(/\?/.test(t.url)?"&":"?")+"_ksTS="+(f.now()+"_"+f.guid())}t.dataType=f.trim(t.dataType||"*").split(j);t.context=t.context||t;return t}function g(t,m){d.fire(t,{ajaxConfig:m.config,xhr:m})}function b(t){var m=this.config;t=t.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);m[t]&&m[t].call(m.context,this.responseData,this.statusText,this);g(t,this)}function d(t){if(t.url){t=e(t);var m=new c(t);g("start",m);var k=new (n[t.dataType[0]]||n["*"])(m);m.transport=k;t.contentType&&
m.setRequestHeader("Content-Type",t.contentType);var p=t.dataType[0],h=t.accepts;m.setRequestHeader("Accept",p&&h[p]?h[p]+(p!=="*"?", */*; q=0.01":""):h["*"]);for(var i in t.headers)m.setRequestHeader(i,t.headers[i]);m.on("complete success error",b);m.readyState=1;g("send",m);if(t.async&&t.timeout>0)m.timeoutTimer=setTimeout(function(){m.abort("timeout")},t.timeout);try{m.state=1;k.send()}catch(x){m.status<2?m.callback(-1,x):f.error(x)}return m}}var j=/\s+/,r=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
w=function(t){return t},q=/^(?:GET|HEAD)$/,s,v;try{s=location.href}catch(o){s=document.createElement("a");s.href="";s=s.href}v=r.exec(s);s=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(v[1]);var n={},u={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,
html:w,text:w,xml:f.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};u.converters.html=u.converters.text;f.mix(d,l.Target);f.mix(d,{isLocal:s,setupConfig:function(t){f.mix(u,t,undefined,undefined,true)},setupTransport:function(t,m){n[t]=m},getTransport:function(t){return n[t]},getConfig:function(){return u}});return d},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(f,a){function l(){try{return new window.XMLHttpRequest}catch(g){}}a.xhr=window.ActiveXObject?function(g){var b;if(a.isLocal&&!g)a:{try{b=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b||l()}:l;var c=a.xhr(),e=false;if(c){if("withCredentials"in c)e=true;c=function(g){this.xhrObj=g};f.augment(c,{send:function(){var g=this,b=g.xhrObj,d=b.config;if(d.crossDomain&&!e)f.error("do not allow crossdomain xhr !");else{var j=a.xhr(),r,w;g.xhr=j;
d.username?j.open(d.type,d.url,d.async,d.username,d.password):j.open(d.type,d.url,d.async);if(r=d.xhrFields)for(w in r)j[w]=r[w];b.mimeType&&j.overrideMimeType&&j.overrideMimeType(b.mimeType);if(!d.crossDomain&&!b.requestHeaders["X-Requested-With"])b.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(w in b.requestHeaders)j.setRequestHeader(w,b.requestHeaders[w])}catch(q){}j.send(d.hasContent&&d.data||null);if(!d.async||j.readyState==4)g._callback();else j.onreadystatechange=function(){g._callback()}}},
abort:function(){this._callback(0,1)},_callback:function(g,b){try{var d=this.xhr,j=this.xhrObj,r=j.config;if(b||d.readyState==4){d.onreadystatechange=f.noop;if(b)d.readyState!==4&&d.abort();else{var w=d.status;j.responseHeadersString=d.getAllResponseHeaders();var q=d.responseXML;if(q&&q.documentElement)j.responseXML=q;j.responseText=d.responseText;try{var s=d.statusText}catch(v){s=""}if(!w&&a.isLocal&&!r.crossDomain)w=j.responseText?200:404;else if(w===1223)w=204;j.callback(w,s)}}}catch(o){d.onreadystatechange=
f.noop;b||j.callback(-1,o)}}});a.setupTransport("*",c);return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(f,a){function l(c){if(!c.config.crossDomain&&!c.config.forceScript)return new (a.getTransport("*"))(c);this.xhrObj=c;return 0}a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(c){f.globalEval(c);return c}}}});f.augment(l,{send:function(){var c=this,e,g=this.xhrObj.config,b=document.head||document.getElementsByTagName("head")[0]||
document.documentElement;c.head=b;e=document.createElement("script");c.script=e;e.async="async";if(g.scriptCharset)e.charset=g.scriptCharset;e.src=g.url;e.onerror=e.onload=e.onreadystatechange=function(d){d=d||window.event;c._callback((d.type||"error").toLowerCase())};b.insertBefore(e,b.firstChild)},_callback:function(c,e){var g=this.script,b=this.xhrObj,d=this.head;if(e||!g.readyState||/loaded|complete/.test(g.readyState)||c=="error"){g.onerror=g.onload=g.onreadystatechange=null;d&&g.parentNode&&
d.removeChild(g);this.head=this.script=undefined;if(!e&&c!="error")b.callback(200,"success");else c=="error"&&b.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",l);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(f,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return f.guid("jsonp")}});a.on("start",function(l){l=l.xhr;var c=l.config;if(c.dataType[0]=="jsonp"){var e,g=c.jsonpCallback,b=f.isFunction(g)?g():g,d=window[b];c.url+=(/\?/.test(c.url)?"&":"?")+c.jsonp+"="+b;window[b]=function(j){e=[j]};l.on("complete",function(){window[b]=d;if(d===undefined)try{delete window[b]}catch(j){}else e&&d(e[0])});l.converters=l.converters||{};l.converters.script=l.converters.script||
{};l.converters.script.json=function(){e||f.error(" not call jsonpCallback : "+b);return e[0]};c.dataType.length=2;c.dataType[0]="script";c.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(f,a){return{serialize:function(l){l=a.get(l);var c={};f.each(l.elements,function(e){e.disabled||(c[e.name]=a.val(e))});return f.param(c,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/form",function(f,a,l,c){a.on("start",function(e){e=e.xhr.config;if(e.form){var g=l.get(e.form);if((g.encoding||g.enctype).toLowerCase()!="multipart/form-data"){if(g=c.serialize(g))if(e.hasContent){e.data=e.data||"";if(e.data)e.data+="&";e.data+=g}else e.url+=(/\?/.test(e.url)?"&":"?")+g}else{g=e.dataType[0];if(g=="*")g="text";e.dataType.length=2;e.dataType[0]="iframe";e.dataType[1]=g}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(f,a,l,c){function e(b){this.xhr=b}var g=document;c.setupConfig({converters:{iframe:c.getConfig().converters.text,text:{iframe:function(b){return b}}}});f.augment(e,{send:function(){var b=this.xhr,d=b.config,j,r=a.get(d.form);this.attrs={target:a.attr(r,"target")||"",action:a.attr(r,"action")||""};this.form=r;var w=f.guid("ajax-iframe");b.iframe=a.create("<iframe  id='"+w+"' name='"+w+"' style='position:absolute;left:-9999px;top:-9999px;'/>");b.iframeId=w;a.prepend(b.iframe,
g.body||g.documentElement);a.attr(r,{target:b.iframeId,action:d.url});if(d.data){j=d.data;d=d.serializeArray;j=f.unparam(j);w=[];for(var q in j)for(var s=f.makeArray(j[q]),v=0;v<s.length;v++){var o=g.createElement("input");o.type="hidden";o.name=q+(d?"[]":"");o.value=s[v];a.append(o,r);w.push(o)}j=w}this.fields=j;l.on(b.iframe,"load error",this._callback,this);r.submit()},_callback:function(b){var d=this.xhr;b=b.type;var j=d.iframe;a.attr(this.form,this.attrs);if(b=="load"){b=j.contentWindow.document;
d.responseXML=b;d.responseText=a.text(b.body);d.callback(200,"success")}else b=="error"&&d.callback(500,"error");a.remove(this.fields);l.detach(j);setTimeout(function(){a.remove(j)},30);d.iframe=null},abort:function(){this._callback(0,1)}});c.setupTransport("iframe",e);return c},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(f,a){f.mix(a,{get:function(l,c,e,g,b){if(f.isFunction(c)){g=e;e=c}return a({type:b||"get",url:l,data:c,success:e,dataType:g})},post:function(l,c,e,g){if(f.isFunction(c)){g=e;e=c;c=undefined}return a.get(l,c,e,g,"post")},jsonp:function(l,c,e){if(f.isFunction(c)){e=c;c=null}return a.get(l,c,e,"jsonp")},getScript:f.getScript,getJSON:function(l,c,e){return a.get(l,c,e,"json")},upload:function(l,c,e,g,b){if(f.isFunction(e)){g=e;e=null}return a({url:l,type:"post",dataType:b,form:c,
data:e,success:g})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(f,a){function l(){this.__attrs={};this.__attrVals={}}function c(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}f.augment(l,{__getDefAttrs:function(){return f.clone(this.__attrs)},addAttr:function(e,g,b){if(this.__attrs[e])f.mix(this.__attrs[e],g,b);else this.__attrs[e]=f.clone(g||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},
set:function(e,g){var b=this.get(e);if(b!==g)if(false!==this.__fireAttrChange("before",e,b,g)){this.__set(e,g);this.__fireAttrChange("after",e,b,this.__attrVals[e]);return this}},__fireAttrChange:function(e,g,b,d){return this.fire(e+c(g)+"Change",{attrName:g,prevVal:b,newVal:d})},__set:function(e,g){var b,d=(this.__attrs[e]=this.__attrs[e]||{}).setter;if(d)b=d.call(this,g);if(b!==a)g=b;this.__attrVals[e]=g},get:function(e){var g;g=(g=this.__attrs[e])&&g.getter;e=e in this.__attrVals?this.__attrVals[e]:
this.__getDefAttrVal(e);if(g)e=g.call(this,e);return e},__getDefAttrVal:function(e){e=this.__attrs[e];var g;if(e){if(g=e.valueFn){g=g.call(this);if(g!==a)e.value=g;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});l.__capitalFirst=c;return l});
KISSY.add("base/base",function(f,a,l){function c(e){a.call(this);for(var g=this.constructor;g;){var b=g.ATTRS;if(b){var d=void 0;for(d in b)b.hasOwnProperty(d)&&this.addAttr(d,b[d],false)}g=g.superclass?g.superclass.constructor:null}if(e)for(var j in e)e.hasOwnProperty(j)&&this.__set(j,e[j])}f.augment(c,l.Target,a);return c},{requires:["./attribute","event"]});KISSY.add("base",function(f,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(f){var a=document,l=encodeURIComponent,c=decodeURIComponent;return{get:function(e){var g;if(f.isString(e)&&e!=="")if(e=String(a.cookie).match(RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)")))g=e[1]?c(e[1]):"";return g},set:function(e,g,b,d,j,r){g=String(l(g));var w=b;if(typeof w==="number"){w=new Date;w.setTime(w.getTime()+b*864E5)}if(w instanceof Date)g+="; expires="+w.toUTCString();if(f.isString(d)&&d!=="")g+="; domain="+d;if(f.isString(j)&&j!=="")g+="; path="+j;if(r)g+=
"; secure";a.cookie=e+"="+g},remove:function(e,g,b,d){this.set(e,"",-1,g,b,d)}}});KISSY.add("cookie",function(f,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(f,a,l,c,e,g,b,d,j,r){b.getScript=f.getScript;a={UA:a,DOM:l,Event:c,EventTarget:c.Target,EventObject:c.Object,Node:e,NodeList:e,JSON:g,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:d,Easing:d.Easing,Base:j,Cookie:r,one:e.one,all:e.all,get:l.get,query:l.query};f.mix(f,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
