/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var f=navigator.userAgent,c="",n="",e,g={},j=function(a){var k=0;return parseFloat(a.replace(/\./g,function(){return k++===0?".":""}))};if((e=f.match(/AppleWebKit\/([\d.]*)/))&&e[1]){g[c="webkit"]=j(e[1]);if((e=f.match(/Chrome\/([\d.]*)/))&&e[1])g[n="chrome"]=j(e[1]);else if((e=f.match(/\/([\d.]*) Safari/))&&e[1])g[n="safari"]=j(e[1]);if(/ Mobile\//.test(f))g.mobile="apple";else if(e=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))g.mobile=e[0].toLowerCase()}else if((e=
f.match(/Presto\/([\d.]*)/))&&e[1]){g[c="presto"]=j(e[1]);if((e=f.match(/Opera\/([\d.]*)/))&&e[1]){g[n="opera"]=j(e[1]);if((e=f.match(/Opera\/.* Version\/([\d.]*)/))&&e[1])g[n]=j(e[1]);if((e=f.match(/Opera Mini[^;]*/))&&e)g.mobile=e[0].toLowerCase();else if((e=f.match(/Opera Mobi[^;]*/))&&e)g.mobile=e[0]}}else if((e=f.match(/MSIE\s([^;]*)/))&&e[1]){g[c="trident"]=0.1;g[n="ie"]=j(e[1]);if((e=f.match(/Trident\/([\d.]*)/))&&e[1])g[c]=j(e[1])}else if(e=f.match(/Gecko/)){g[c="gecko"]=0.1;if((e=f.match(/rv:([\d.]*)/))&&
e[1])g[c]=j(e[1]);if((e=f.match(/Firefox\/([\d.]*)/))&&e[1])g[n="firefox"]=j(e[1])}g.core=c;g.shell=n;g._numberify=j;return g});
KISSY.add("ua/extra",function(f,c){var n=navigator.userAgent,e,g,j={},a=c._numberify;if(n.match(/360SE/))j[g="se360"]=3;else if(n.match(/Maxthon/)&&(e=window.external)){g="maxthon";try{j[g]=a(e.max_version)}catch(k){j[g]=0.1}}else if(e=n.match(/TencentTraveler\s([\d.]*)/))j[g="tt"]=e[1]?a(e[1]):0.1;else if(n.match(/TheWorld/))j[g="theworld"]=3;else if(e=n.match(/SE\s([\d.]*)/))j[g="sougou"]=e[1]?a(e[1]):0.1;g&&(j.shell=g);f.mix(c,j);return c},{requires:["ua/base"]});
KISSY.add("ua",function(f,c){return c},{requires:["ua/extra"]});KISSY.add("dom/base",function(f,c){function n(e,g){return e&&e.nodeType===g}return{_isElementNode:function(e){return n(e,1)},_getWin:function(e){return e&&"scrollTo"in e&&e.document?e:n(e,9)?e.defaultView||e.parentWindow:e===c?window:false},_nodeTypeIs:n}});
KISSY.add("dom/attr",function(f,c,n,e){function g(h){if(f.isArray(h)){for(var b=0;b<h.length;b++)h[b]=g(h[b]);return h}else return h+r}var j=document.documentElement,a=!j.hasAttribute,k=j.textContent!==e?"textContent":"innerText",r="",u=c._isElementNode,o=/^(?:href|src|style)/,t=/^(?:href|src|colspan|rowspan)/,x=/\r/g,i=/^(?:radio|checkbox)/,m={readonly:"readOnly"},q={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};a&&f.mix(m,{"for":"htmlFor","class":"className"});var s={tabindex:{getter:function(h){return h.tabIndex},
setter:function(h,b){if(isNaN(parseInt(b))){h.removeAttribute("tabindex");h.removeAttribute("tabIndex")}else h.tabIndex=b}},style:{getter:function(h){return h.style.cssText},setter:function(h,b){h.style.cssText=b}},checked:{setter:function(h,b){h.checked=!!b}},disabled:{setter:function(h,b){h.disabled=!!b}}};f.mix(c,{attr:function(h,b,d,l){if(f.isPlainObject(b)){l=d;for(var p in b)c.attr(h,p,b[p],l)}else if(b=f.trim(b)){b=b.toLowerCase();if(l&&q[b])return c[b](h,d);b=m[b]||b;var v=s[b];if(d===e){h=
c.get(h);if(!u(h))return null;if(v&&v.getter)return v.getter(h);var y;o.test(b)||(y=h[b]);if(y===e)y=h.getAttribute(b);if(a)if(t.test(b))y=h.getAttribute(b,2);return y===e?null:y}else f.each(c.query(h),function(z){if(u(z))v&&v.setter?v.setter(z,d):z.setAttribute(b,r+d)})}},removeAttr:function(h,b){b=b.toLowerCase();f.each(c.query(h),function(d){if(u(d)){c.attr(d,b,r);d.removeAttribute(b)}})},hasAttr:a?function(h,b){b=b.toLowerCase();var d=c.get(h).getAttributeNode(b);return!!(d&&d.specified)}:function(h,
b){b=b.toLowerCase();return c.get(h).hasAttribute(b)},val:function(h,b){if(b===e){var d=c.get(h);if(!u(d))return null;if(d&&d.nodeName.toUpperCase()==="option".toUpperCase())return(d.attributes.value||{}).specified?d.value:d.text;if(d&&d.nodeName.toUpperCase()==="select".toUpperCase()){var l=d.selectedIndex,p=d.options;if(l<0)return null;else if(d.type==="select-one")return c.val(p[l]);d=[];for(var v=0,y=p.length;v<y;++v)p[v].selected&&d.push(c.val(p[v]));return d}if(n.webkit&&i.test(d.type))return d.getAttribute("value")===
null?"on":d.value;return(d.value||r).replace(x,r)}f.each(c.query(h),function(z){if(z&&z.nodeName.toUpperCase()==="select".toUpperCase()){b=g(b);var w=f.makeArray(b),B=z.options,A;v=0;for(y=B.length;v<y;++v){A=B[v];A.selected=f.inArray(c.val(A),w)}if(!w.length)z.selectedIndex=-1}else if(u(z))z.value=b})},text:function(h,b){if(b===e){var d=c.get(h);if(u(d))return d[k]||r;else if(c._nodeTypeIs(d,3))return d.nodeValue;return null}else f.each(c.query(h),function(l){if(u(l))l[k]=b;else if(c._nodeTypeIs(l,
3))l.nodeValue=b})}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(f,c,n){function e(a,k,r,u){if(!(k=f.trim(k)))return u?false:n;a=c.query(a);var o=0,t=a.length,x=k.split(g);for(k=[];o<x.length;o++){var i=f.trim(x[o]);i&&k.push(i)}for(o=0;o<t;o++){x=a[o];if(c._isElementNode(x)){x=r(x,k,k.length);if(x!==n)return x}}if(u)return false;return n}var g=/[\.\s]\s*\.?/,j=/[\n\t]/g;f.mix(c,{hasClass:function(a,k){return e(a,k,function(r,u,o){if(r=r.className){r=" "+r+" ";for(var t=0,x=true;t<o;t++)if(r.indexOf(" "+u[t]+" ")<0){x=false;break}if(x)return true}},
true)},addClass:function(a,k){e(a,k,function(r,u,o){var t=r.className;if(t){var x=" "+t+" ";t=t;for(var i=0;i<o;i++)if(x.indexOf(" "+u[i]+" ")<0)t+=" "+u[i];r.className=f.trim(t)}else r.className=k},n)},removeClass:function(a,k){e(a,k,function(r,u,o){var t=r.className;if(t)if(o){t=(" "+t+" ").replace(j," ");for(var x=0,i;x<o;x++)for(i=" "+u[x]+" ";t.indexOf(i)>=0;)t=t.replace(i," ");r.className=f.trim(t)}else r.className=""},n)},replaceClass:function(a,k,r){c.removeClass(a,k);c.addClass(a,r)},toggleClass:function(a,
k,r){var u=f.isBoolean(r),o;e(a,k,function(t,x,i){for(var m=0,q;m<i;m++){q=x[m];o=u?!r:c.hasClass(t,q);c[o?"removeClass":"addClass"](t,q)}},n)}});return c},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,c,n,e){function g(p,v,y,z){if(y){var w=f.guid("ks-tmp-"),B=RegExp(x);v+='<span id="'+w+'"></span>';f.available(w,function(){var A=c.get("head"),E,C,F,G,D,I;for(B.lastIndex=0;E=B.exec(v);)if((F=(C=E[1])?C.match(m):false)&&F[2]){E=a.createElement("script");E.src=F[2];if((G=C.match(q))&&G[2])E.charset=G[2];E.async=true;A.appendChild(E)}else if((I=E[2])&&I.length>0)f.globalEval(I);(D=a.getElementById(w))&&c.remove(D);f.isFunction(z)&&z()});j(p,v)}else{j(p,v);f.isFunction(z)&&
z()}}function j(p,v){v=(v+"").replace(x,"");try{p.innerHTML=v}catch(y){for(;p.firstChild;)p.removeChild(p.firstChild);v&&p.appendChild(c.create(v))}}var a=document,k=n.ie,r=c._nodeTypeIs,u=c._isElementNode,o=a.createElement("div"),t=/<(\w+)/,x=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,i=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/\ssrc=(['"])(.*?)\1/i,q=/\scharset=(['"])(.*?)\1/i;f.mix(c,{create:function(p,v,y){if(r(p,1)||r(p,3)){v=p;y=v.cloneNode(true);if(n.ie<8)y.innerHTML=v.innerHTML;return y}if(!(p=
f.trim(p)))return null;var z=null;z=c._creators;var w,B="div",A;if(w=i.exec(p))z=(y||a).createElement(w[1]);else{if((w=t.exec(p))&&(A=w[1])&&f.isFunction(z[A=A.toLowerCase()]))B=A;p=z[B](p,y).childNodes;if(p.length===1)y=p[0].parentNode.removeChild(p[0]);else{p=p;A=y||a;y=null;if(p&&(p.push||p.item)&&p[0]){A=A||p[0].ownerDocument;y=A.createDocumentFragment();if(p.item)p=f.makeArray(p);A=0;for(z=p.length;A<z;A++)y.appendChild(p[A])}y=y}z=y}y=z;u(y)&&f.isPlainObject(v)&&c.attr(y,v,true);return y},_creators:{div:function(p,
v){var y=v?v.createElement("div"):o;y.innerHTML=p;return y}},html:function(p,v,y,z){if(v===e){p=c.get(p);if(u(p))return p.innerHTML;return null}else f.each(c.query(p),function(w){u(w)&&g(w,v,y,z)})},remove:function(p){f.each(c.query(p),function(v){v.parentNode&&v.parentNode.removeChild(v)})}});if(k||n.gecko||n.webkit){var s=c._creators,h=c.create,b=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,d={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},l;for(l in d)(function(p){s[l]=
function(v,y){return h("<"+p+">"+v+"</"+p+">",null,y)}})(d[l]);if(k){s.script=function(p,v){var y=v?v.createElement("div"):o;y.innerHTML="-"+p;y.removeChild(y.firstChild);return y};if(k<8)s.tbody=function(p,v){var y=h("<table>"+p+"</table>",null,v),z=y.children.tags("tbody")[0];y.children.length>1&&z&&!b.test(p)&&z.parentNode.removeChild(z);return y}}f.mix(s,{optgroup:s.option,th:s.td,thead:s.tbody,tfoot:s.tbody,caption:s.tbody,colgroup:s.tbody})}return c},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,c,n){var e=window,g="_ks_data_"+f.now(),j={},a={},k={};k.applet=1;k.object=1;k.embed=1;f.mix(c,{hasData:function(r,u){var o=c.get(r),t;if(!o||o.nodeName&&k[o.nodeName.toLowerCase()])return false;if(o==e)o=a;t=o&&o.nodeType;if(o=(t?j:o)[t?o[g]:g])if(u!==n){if(u in o)return true}else return true;return false},data:function(r,u,o){if(f.isPlainObject(u))for(var t in u)c.data(r,t,u[t]);else if(o===n){r=c.get(r);if(!r||r.nodeName&&k[r.nodeName.toLowerCase()])return null;
if(r==e)r=a;t=r&&r.nodeType;t=r=(t?j:r)[t?r[g]:g];if(f.isString(u)&&r)t=r[u];return t===n?null:t}else c.query(r).each(function(x){if(!(!x||x.nodeName&&k[x.nodeName.toLowerCase()])){if(x==e)x=a;var i=j,m;if(x&&x.nodeType){if(!(m=x[g]))m=x[g]=f.guid()}else{m=g;i=x}if(u&&o!==n){i[m]||(i[m]={});i[m][u]=o}}})},removeData:function(r,u){c.query(r).each(function(o){if(o){if(o==e)o=a;var t,x=j,i,m=o&&o.nodeType;if(m)t=o[g];else{x=o;t=g}if(t){i=x[t];if(u){if(i){delete i[u];f.isEmptyObject(i)&&c.removeData(o)}}else{if(m)o.removeAttribute&&
o.removeAttribute(g);else try{delete o[g]}catch(q){}m&&delete x[t]}}}})}});return c},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(f,c){f.mix(c,{insertBefore:function(n,e){if((n=c.get(n))&&(e=c.get(e))&&e.parentNode)e.parentNode.insertBefore(n,e);return n},insertAfter:function(n,e){if((n=c.get(n))&&(e=c.get(e))&&e.parentNode)e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n);return n},append:function(n,e){if((n=c.get(n))&&(e=c.get(e)))e.appendChild&&e.appendChild(n);return n},appendTo:function(n,e){return c.append(n,e)},prepend:function(n,e){if((n=c.get(n))&&
(e=c.get(e)))e.firstChild?c.insertBefore(n,e.firstChild):e.appendChild(n);return n},prependTo:function(n,e){return c.prepend(n,e)}});return c},{requires:["dom/base"]});
KISSY.add("dom/offset",function(f,c,n,e){function g(b){var d=0,l=0,p=r(b[x]);if(b[h]){b=b[h]();d=b[i];l=b[m];if(n.mobile!=="apple"){d+=c[q](p);l+=c[s](p)}}return{left:d,top:l}}var j=window,a=c._isElementNode,k=c._nodeTypeIs,r=c._getWin,u=document.compatMode==="CSS1Compat",o=Math.max,t=parseInt,x="ownerDocument",i="left",m="top",q="scrollLeft",s="scrollTop",h="getBoundingClientRect";f.mix(c,{offset:function(b,d){if(!(b=c.get(b))||!b[x])return null;if(d===e)return g(b);var l=b;if(c.css(l,"position")===
"static")l.style.position="relative";var p=g(l),v={},y,z;for(z in d){y=t(c.css(l,z),10)||0;v[z]=y+d[z]-p[z]}c.css(l,v)},scrollIntoView:function(b,d,l,p){if((b=c.get(b))&&b[x]){p=p===e?true:!!p;l=l===e?true:!!l;if(!d||d===j)b.scrollIntoView(l);else{d=c.get(d);if(k(d,9))d=r(d);var v=!!r(d),y=c.offset(b),z=v?{left:c.scrollLeft(d),top:c.scrollTop(d)}:c.offset(d),w={left:y[i]-z[i],top:y[m]-z[m]};y=v?c.viewportHeight(d):d.clientHeight;v=v?c.viewportWidth(d):d.clientWidth;z=c[q](d);var B=c[s](d),A=z+v,E=
B+y,C=b.offsetHeight;b=b.offsetWidth;var F=w.left+z-(t(c.css(d,"borderLeftWidth"))||0);w=w.top+B-(t(c.css(d,"borderTopWidth"))||0);var G=F+b,D=w+C,I,L;if(C>y||w<B||l)I=w;else if(D>E)I=D-y;if(p)if(b>v||F<z||l)L=F;else if(G>A)L=G-v;c[s](d,I);c[q](d,L)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});f.each(["Left","Top"],function(b,d){var l="scroll"+b;c[l]=function(p,v){if(f.isNumber(p))arguments.callee(j,p);else{var y=0,z=r(p);if(z){if(v!==e){y=b=="Left"?v:c.scrollLeft(z);var w=b=="Top"?
v:c.scrollTop(z);z.scrollTo(y,w)}y=z.document;y=z[d?"pageYOffset":"pageXOffset"]||y.documentElement[l]||y.body[l]}else if(a(p=c.get(p)))y=v!==e?p[l]=v:p[l];return v===e?y:e}}});f.each(["Width","Height"],function(b){c["doc"+b]=function(d){d=r(d).document;return o(u?d.documentElement["scroll"+b]:d.body["scroll"+b],c["viewport"+b](d))};c["viewport"+b]=function(d){var l="inner"+b;d=r(d);var p=d.document;return l in d?d[l]:u?p.documentElement["client"+b]:p.body["client"+b]}});return c},{requires:["./base",
"ua"]});
KISSY.add("dom/style",function(f,c,n,e){function g(h,b){var d=c.get(h),l=b===r?d.offsetWidth:d.offsetHeight;f.each(b===r?["Left","Right"]:["Top","Bottom"],function(p){l-=parseFloat(c._getComputedStyle(d,"padding"+p))||0;l-=parseFloat(c._getComputedStyle(d,"border"+p+"Width"))||0});return l}function j(h,b,d){var l=d;if(d===u&&t.test(b)){l=0;if(f.inArray(c.css(h,"position"),["absolute","fixed"])){d=h[b==="left"?"offsetLeft":"offsetTop"];if(n.ie===8||n.opera)d-=o(c.css(h.offsetParent,"border-"+b+"-width"))||
0;l=d-(o(c.css(h,"margin-"+b))||0)}}return l}var a=document,k=a.documentElement,r="width",u="auto",o=parseInt,t=/^(?:left|top)/,x=/^(?:width|height|top|left|right|bottom|margin|padding)/i,i=/-([a-z])/ig,m=function(h,b){return b.toUpperCase()},q={},s={};f.mix(c,{_CUSTOM_STYLES:q,_getComputedStyle:function(h,b){var d="",l=h.ownerDocument;if(h.style)d=l.defaultView.getComputedStyle(h,null)[b];return d},css:function(h,b,d){if(f.isPlainObject(b))for(var l in b)c.css(h,l,b[l]);else{if(b.indexOf("-")>0)b=
b.replace(i,m);l=b;b=q[b]||b;if(d===e){h=c.get(h);var p="";if(h&&h.style){p=b.get?b.get(h,l):h.style[b];if(p===""&&!b.get)p=j(h,b,c._getComputedStyle(h,b))}return p===e?"":p}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&x.test(b))d+="px";(b===r||b==="height")&&parseFloat(d)<0||f.each(c.query(h),function(v){if(v&&v.style){b.set?b.set(v,d):v.style[b]=d;if(d==="")v.style.cssText||v.removeAttribute("style")}})}}},width:function(h,b){if(b===e)return g(h,r);else c.css(h,r,b)},height:function(h,
b){if(b===e)return g(h,"height");else c.css(h,"height",b)},show:function(h){c.query(h).each(function(b){if(b){b.style.display=c.data(b,"display")||"";if(c.css(b,"display")==="none"){var d=b.tagName,l=s[d],p;if(!l){p=a.createElement(d);a.body.appendChild(p);l=c.css(p,"display");c.remove(p);s[d]=l}c.data(b,"display",l);b.style.display=l}}})},hide:function(h){c.query(h).each(function(b){if(b){var d=b.style,l=d.display;if(l!=="none"){l&&c.data(b,"display",l);d.display="none"}}})},toggle:function(h){c.query(h).each(function(b){if(b)c.css(b,
"display")==="none"?c.show(b):c.hide(b)})},addStyleSheet:function(h,b,d){if(f.isString(h)){d=b;b=h;h=window}h=c._getWin(h).document;var l;if(d&&(d=d.replace("#","")))l=c.get("#"+d,h);if(!l){l=c.create("<style>",{id:d},h);c.get("head",h).appendChild(l);if(l.styleSheet)l.styleSheet.cssText=b;else l.appendChild(h.createTextNode(b))}},unselectable:function(h){c.query(h).each(function(b){if(b)if(n.gecko)b.style.MozUserSelect="none";else if(n.webkit)b.style.KhtmlUserSelect="none";else if(n.ie||n.opera){var d=
0,l=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=l[d++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}})}});if(k.style.cssFloat!==e)q["float"]="cssFloat";else if(k.style.styleFloat!==e)q["float"]="styleFloat";return c},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(f,c,n){function e(i,m){var q,s,h=[],b;s=f.require("sizzle");m=g(m);if(f.isString(i))if(i.indexOf(",")!=-1){q=i.split(",");f.each(q,function(d){h.push.apply(h,f.makeArray(e(d,m)))})}else{i=f.trim(i);if(o.test(i)){if(s=j(i.slice(1),m))h=[s]}else if(q=t.exec(i)){s=q[1];b=q[2];q=q[3];if(m=s?j(s,m):m)if(q)if(!s||i.indexOf(u)!==-1)h=f.makeArray(x(q,b,m));else{if((s=j(s,m))&&c.hasClass(s,q))h=[s]}else if(b)h=a(b,m)}else if(s)h=s(i,m);else k(i)}else if(i&&(f.isArray(i)||
i&&!i.nodeType&&i.item&&!i.setTimeout))h=f.makeArray(i);else if(i)h=[i];if(h&&!h.nodeType&&h.item&&!h.setTimeout)h=f.makeArray(h);h.each=function(d,l){return f.each(h,d,l)};return h}function g(i){if(i===n)i=r;else if(f.isString(i)&&o.test(i))i=j(i.slice(1),r);else if(i&&i.nodeType!==1&&i.nodeType!==9)i=null;return i}function j(i,m){if(m.nodeType!==9)m=m.ownerDocument;return m.getElementById(i)}function a(i,m){return m.getElementsByTagName(i)}function k(i){f.error("Unsupported selector: "+i)}var r=
document,u=" ",o=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var i=r.createElement("div");i.appendChild(r.createComment(""));if(i.getElementsByTagName("*").length>0)a=function(m,q){var s=f.makeArray(q.getElementsByTagName(m));if(m==="*"){for(var h=[],b=0,d=0,l;l=s[b++];)if(l.nodeType===1)h[d++]=l;s=h}return s}})();var x=r.getElementsByClassName?function(i,m,q){q=i=f.makeArray(q.getElementsByClassName(i));var s=0,h=0,b=i.length,d;if(m&&m!=="*"){q=[];for(m=m.toUpperCase();s<
b;++s){d=i[s];if(d.tagName===m)q[h++]=d}}return q}:r.querySelectorAll?function(i,m,q){return q.querySelectorAll((m?m:"")+"."+i)}:function(i,m,q){m=q.getElementsByTagName(m||"*");q=[];var s=0,h=0,b=m.length,d,l;for(i=u+i+u;s<b;++s){d=m[s];if((l=d.className)&&(u+l+u).indexOf(i)>-1)q[h++]=d}return q};f.mix(c,{query:e,get:function(i,m){return e(i,m)[0]||null},filter:function(i,m,q){var s=e(i,q),h=f.require("sizzle"),b,d,l,p=[];if(f.isString(m)&&(b=t.exec(m))&&!b[1]){d=b[2];l=b[3];m=function(v){return!(d&&
v.tagName!==d.toUpperCase()||l&&!c.hasClass(v,l))}}if(f.isFunction(m))p=f.filter(s,m);else if(m&&h)p=h._filter(i,m,q);else k(m);return p},test:function(i,m,q){i=e(i,q);return i.length&&c.filter(i,m,q).length===i.length}});return c},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(f,c,n,e,g){if(!n.ie)return c;e=document;var j=e.documentElement,a=c._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,r=/^-?\d/,u=/^(?:width|height)$/;try{if(j.style.opacity==g&&j.filters)a.opacity={get:function(i){var m=100;try{m=i.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{m=i.filters("alpha").opacity}catch(s){if(i=((i.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))m=parseInt(f.trim(i[1]))}}return m/100+""},set:function(i,m){var q=i.style,
s=(i.currentStyle||0).filter||"";q.zoom=1;if(s)s=f.trim(s.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(s&&m!=1)s+=", ";q.filter=s+(m!=1?"alpha(opacity="+m*100+")":"")}}}catch(o){}n=n.ie==8;var t={},x={get:function(i,m){var q=i.currentStyle[m]+"";if(q.indexOf("px")<0)q=t[q]?t[q]:0;return q}};t.thin=n?"1px":"2px";t.medium=n?"3px":"4px";t.thick=n?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(i){a["border"+i+"Width"]=x});if(!(e.defaultView||{}).getComputedStyle&&j.currentStyle)c._getComputedStyle=
function(i,m){var q=i.style,s=i.currentStyle[m];if(u.test(m))s=c[m](i)+"px";else if(!k.test(s)&&r.test(s)){var h=q.left,b=i.runtimeStyle.left;i.runtimeStyle.left=i.currentStyle.left;q.left=m==="fontSize"?"1em":s||0;s=q.pixelLeft+"px";q.left=h;i.runtimeStyle.left=b}return s};return c},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(f,c,n){function e(a,k,r,u){if(!(a=c.get(a)))return null;if(k===n)k=1;var o=null,t,x;if(f.isNumber(k)&&k>=0){if(k===0)return a;t=0;x=k;k=function(){return++t===x}}for(;a=a[r];)if(j(a)&&(!k||c.test(a,k))&&(!u||u(a))){o=a;break}return o}function g(a,k,r){var u=[];var o=a=c.get(a);if(a&&r)o=a.parentNode;if(o){r=0;for(o=o.firstChild;o;o=o.nextSibling)if(j(o)&&o!==a&&(!k||c.test(o,k)))u[r++]=o}return u}var j=c._isElementNode;f.mix(c,{parent:function(a,k){return e(a,k,
"parentNode",function(r){return r.nodeType!=11})},next:function(a,k){return e(a,k,"nextSibling",n)},prev:function(a,k){return e(a,k,"previousSibling",n)},siblings:function(a,k){return g(a,k,true)},children:function(a,k){return g(a,k,n)},contains:function(a,k){var r=false;if((a=c.get(a))&&(k=c.get(k)))if(a.contains){if(k.nodeType===3){k=k.parentNode;if(k===a)return true}if(k)return a.contains(k)}else if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(k)&16);else for(;!r&&(k=k.parentNode);)r=
k==a;return r},equals:function(a,k){a=f.query(a);k=f.query(k);if(a.length!=k.length)return false;for(var r=a.length;r>=0;r--)if(a[r]!=k[r])return false;return true}});return c},{requires:["./base"]});KISSY.add("dom",function(f,c){return c},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(f,c){function n(j,a,k){this.currentTarget=j;this.originalEvent=a||{};if(a){this.type=a.type;this._fix()}else{this.type=k;this.target=j}this.currentTarget=j;this.fixed=true}var e=document,g="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.augment(n,{_fix:function(){var j=this.originalEvent,a=g.length,k,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||e;a;){k=g[--a];this[k]=j[k]}if(!this.target)this.target=this.srcElement||e;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===c&&this.clientX!==c){j=r.documentElement;a=r.body;this.pageX=this.clientX+(j&&j.scrollLeft||a&&a.scrollLeft||
0)-(j&&j.clientLeft||a&&a.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||a&&a.scrollTop||0)-(j&&j.clientTop||a&&a.clientTop||0)}if(this.which===c)this.which=this.charCode!==c?this.charCode:this.keyCode;if(this.metaKey===c)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==c)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return n});
KISSY.add("event/base",function(f,c,n,e){function g(q,s,h,b,d){if(f.isString(s))s=c.query(s);if(f.isArray(s)){f.each(s,function(l){m[q](l,h,b,d)});return true}if((h=f.trim(h))&&h.indexOf(t)>0){f.each(h.split(t),function(l){m[q](s,l,b,d)});return true}return e}function j(q){return q&&q.nodeType!==3&&q.nodeType!==8?c.data(q,o):-1}function a(q,s){q&&q.nodeType!==3&&q.nodeType!==8&&c.data(q,o,s)}var k=document,r=k.addEventListener?function(q,s,h,b){q.addEventListener&&q.addEventListener(s,h,!!b)}:function(q,
s,h){q.attachEvent&&q.attachEvent("on"+s,h)},u=k.removeEventListener?function(q,s,h,b){q.removeEventListener&&q.removeEventListener(s,h,!!b)}:function(q,s,h){q.detachEvent&&q.detachEvent("on"+s,h)},o="ksEventTargetId",t=" ",x=f.now(),i={},m={EVENT_GUID:o,special:{},add:function(q,s,h,b){if(!g("add",q,s,h,b)){var d=j(q),l,p,v,y,z;if(!(d===-1||!s||!f.isFunction(h))){if(!d){a(q,d=x++);i[d]={target:q,events:{}}}p=i[d].events;if(!p[s]){l=(d=!q.isCustomEventTarget)&&m.special[s]||{};v=function(w,B){if(!w||
!w.fixed)w=new n(q,w,s);if(f.isPlainObject(B)){var A=w.type;f.mix(w,B);w.type=A}l.setup&&l.setup(w);return(l.handle||m._handle)(q,w)};p[s]={handle:v,listeners:[]};y=l.fix||s;z=l.capture;l.init&&l.init.apply(null,f.makeArray(arguments));d&&l.fix!==false&&r(q,y,v,z)}p[s].listeners.push({fn:h,scope:b||q})}}},__getListeners:function(q,s){var h,b=[];if(h=(m.__getEvents(q)||{})[s])b=h.listeners;return b},__getEvents:function(q){var s=j(q),h;if(s!==-1)if(s&&(h=i[s]))if(h.target===q)return h.events||{}},
remove:function(q,s,h,b){if(!g("remove",q,s,h,b)){var d=m.__getEvents(q),l=j(q),p,v,y,z,w,B,A=!q.isCustomEventTarget&&m.special[s]||{};if(d!==e){b=b||q;if(p=d[s]){v=p.listeners;y=v.length;if(f.isFunction(h)&&y){w=z=0;for(B=[];z<y;++z)if(h!==v[z].fn||b!==v[z].scope)B[w++]=v[z];p.listeners=B;y=B.length}if(h===e||y===0){if(!q.isCustomEventTarget){A=m.special[s]||{};if(A.fix!==false)u(q,A.fix||s,p.handle)}delete d[s]}}A.destroy&&A.destroy.apply(null,f.makeArray(arguments));if(s===e||f.isEmptyObject(d)){for(s in d)m.remove(q,
s);delete i[l];c.removeData(q,o)}}}},_handle:function(q,s){var h=m.__getListeners(q,s.type);h=h.slice(0);for(var b,d,l=0,p=h.length;l<p;++l){b=h[l];b=b.fn.call(b.scope,s);if(d!==false)d=b;b!==e&&b===false&&s.halt();if(s.isImmediatePropagationStopped)break}return d},_getCache:function(q){return i[q]},__getID:j,_simpleAdd:r,_simpleRemove:u};m.on=m.add;m.detach=m.remove;return m},{requires:["dom","event/object"]});
KISSY.add("event/target",function(f,c,n,e){return{isCustomEventTarget:true,fire:function(g,j){var a=n.data(this,c.EVENT_GUID)||-1;if((a=((c._getCache(a)||{}).events||{})[g])&&f.isFunction(a.handle))return a.handle(e,j)},on:function(g,j,a){c.add(this,g,j,a);return this},detach:function(g,j,a){c.remove(this,g,j,a);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(f,c){document.addEventListener&&f.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){c.special[n.name]={fix:n.fix,capture:true,setup:function(e){e.type=n.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(f,c,n,e){e.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(g){c.special[g.name]={fix:g.fix,setup:function(j){j.type=g.name},handle:function(j,a){var k=a.relatedTarget;try{for(;k&&k!==j;)k=k.parentNode;k!==j&&c._handle(j,a)}catch(r){}}}})},{requires:["event/base","dom","ua"]});KISSY.add("event",function(f,c,n){c.Target=n;return c},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/base",function(f,c){function n(a,k,r){if(a){if(f.isString(a)){a=c.create(a,k,r);if(a.nodeType===11)return new e(a.childNodes)}else if(a instanceof n)return a;else a=a;this[0]=a}else this.length=0}function e(a){g.push.apply(this,f.makeArray(a))}n.TYPE="-ks-Node";f.augment(n,{length:1,getDOMNode:function(){return this[0]},nodeType:n.TYPE});n.one=function(a,k){if(a.getDOMNode)return a;var r=c.get(a,k);return r?new n(r,undefined,undefined):null};var g=Array.prototype,j=c._isElementNode;
f.mix(e.prototype,{length:0,item:function(a){var k=null,r,u;if(j(a)){r=0;for(u=this.length;r<u;r++)if(a===this[r]){a=r;break}}if(j(this[a]))k=new n(this[a],undefined,undefined);return k},getDOMNodes:function(){return g.slice.call(this)},each:function(a,k){var r=this.length,u=0,o;for(o=new n(this[0],undefined,undefined);u<r&&a.call(k||o,o,u,this)!==false;o=new n(this[++u],undefined,undefined));return this}});e.all=function(a,k){if(a.getDOMNode)return new e(a);else if(a.getDOMNodes)return a;return new e(c.query(a,
k,true))};n.List=e;return n},{requires:["dom"]});
KISSY.add("node/attach",function(f,c,n,e,g){function j(o){for(var t=0;t<o.length;t++)if(o[t].getDOMNode)o[t]=o[t].getDOMNode();return o}var a=e.List,k=e.prototype,r=a.prototype;e.addMethod=function(o,t,x){k[o]=function(){var i=this[0],m=f.makeArray(arguments);m=j(m);m.unshift(i);i=t.apply(x||this,m);if(i===g)i=this;else if(i===null)i=null;else if(i.nodeType&&!i.getDOMNode)i=new e(i);else if(!i.getDOMNodes&&i[0]&&i[0].nodeType&&!i[0].getDOMNode)i=new a(i);return i}};a.addMethod=function(o,t,x){r[o]=
function(){var i=[],m=f.makeArray(arguments);m=j(m);this.each(function(q){var s=t.apply(x||q,m);s!==q&&i.push(s)});return i.length?i:this}};var u=["_isElementNode","_getWin","_getComputedStyle","_getComputedStyle","_nodeTypeIs","create","get","query"];f.each(c,function(o,t){c.hasOwnProperty(t)&&f.isFunction(o)&&!f.inArray(t,u)&&e.addMethod(t,o,c)})},{requires:["dom","event","./base"]});
KISSY.add("node/override",function(f,c,n,e){function g(u,o,t){u.__wrap=u.__wrap||[];u.__wrap.push({fn:o,target:t})}var j=e.List,a=e.prototype;e.addMethod("one",function(u,o){return c.get(o,u)});e.addMethod("all",function(u,o){return c.query(o,u)});e.addMethod("on",function(u,o,t,x){function i(q){var s=f.makeArray(arguments);s.shift();q.target=new e(q.target);if(q.relatedTarget)q.relatedTarget=new e(q.relatedTarget);s.unshift(q);return t.apply(x||m,s)}var m=this;n.add(u,o,i,x);g(t,i,u)});e.addMethod("detach",
function(u,o,t,x){if(f.isFunction(t)){t=t.__wrap||[];for(var i=t.length-1;i>=0;i--){var m=t[i];if(m.target==u){n.remove(u,o,m.fn,x);t.splice(i,1)}}}else n.remove(u,o,t,x)});for(var k in a){var r=a[k];a.hasOwnProperty(k)&&f.isFunction(r)&&j.addMethod(k,r)}f.each(["append","prepend"],function(u){e.addMethod(u,function(o,t){var x=t;if(f.isString(x))x=c.create(x);c[u](x,o)});j.addMethod(u,function(o){o=c.create(o);this[u](o)})})},{requires:["dom","event","./base","./attach"]});
KISSY.add("node",function(f,c){return c},{requires:["node/base","node/attach","node/override"]});
KISSY.add("json/json2",function(){function f(t){return t<10?"0"+t:t}function c(t){a.lastIndex=0;return a.test(t)?'"'+t.replace(a,function(x){var i=u[x];return typeof i==="string"?i:"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function n(t,x){var i,m,q,s,h=k,b,d=x[t];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(t);if(typeof o==="function")d=o.call(x,t,d);switch(typeof d){case "string":return c(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";k+=r;b=[];if(Object.prototype.toString.apply(d)==="[object Array]"){s=d.length;for(i=0;i<s;i+=1)b[i]=n(i,d)||"null";q=b.length===0?"[]":k?"[\n"+k+b.join(",\n"+k)+"\n"+h+"]":"["+b.join(",")+"]";k=h;return q}if(o&&typeof o==="object"){s=o.length;for(i=0;i<s;i+=1){m=o[i];if(typeof m==="string")if(q=n(m,d))b.push(c(m)+(k?": ":":")+q)}}else for(m in d)if(Object.hasOwnProperty.call(d,m))if(q=n(m,d))b.push(c(m)+(k?": ":":")+q);q=b.length===0?"{}":k?"{\n"+k+b.join(",\n"+k)+
"\n"+h+"}":"{"+b.join(",")+"}";k=h;return q}}var e=window,g=e.JSON;if(!g)g=e.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,r,u={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof g.stringify!=="function")g.stringify=function(t,x,i){var m;r=k="";if(typeof i==="number")for(m=0;m<i;m+=1)r+=" ";else if(typeof i==="string")r=i;if((o=x)&&typeof x!=="function"&&(typeof x!=="object"||typeof x.length!=="number"))throw Error("JSON.stringify");return n("",{"":t})};if(typeof g.parse!==
"function")g.parse=function(t,x){function i(q,s){var h,b,d=q[s];if(d&&typeof d==="object")for(h in d)if(Object.hasOwnProperty.call(d,h)){b=i(d,h);if(b!==undefined)d[h]=b;else delete d[h]}return x.call(q,s,d)}var m;t=String(t);j.lastIndex=0;if(j.test(t))t=t.replace(j,function(q){return"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){m=eval("("+t+")");return typeof x==="function"?i({"":m},""):m}throw new SyntaxError("JSON.parse");};return g});KISSY.add("json",function(f,c){return{parse:function(n){if(n==null||n==="")return null;return c.parse(n)},stringify:c.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(f,c,n,e){function g(w){w=f.merge(z,w);if(!w.url)return e;if(w.data&&!f.isString(w.data))w.data=f.param(w.data);w.context=w.context||w;var B,A=d,E,C=w.type.toUpperCase();if(w.dataType===i){B=w.jsonpCallback||f.guid(i);w.url=w.url+(w.url.indexOf("?")===-1?"?":"&")+(w.jsonp+"="+B);w.dataType=m;var F=k[B];k[B]=function(J){if(f.isFunction(F))F(J);else{k[B]=e;try{delete k[B]}catch(H){}}j([d,l],J,A,D,w)}}if(w.data&&C===u)w.url=w.url+(w.url.indexOf("?")===-1?"?":"&")+w.data;
if(w.dataType===m){a(s,w);C=f.getScript(w.url,B?null:function(){j([d,l],q,A,D,w)});a(h,w);return C}var G=false,D=w.xhr();a(s,w);D.open(C,w.url,w.async);try{if(w.data||w.contentType)D.setRequestHeader(t,w.contentType);D.setRequestHeader("Accept",w.dataType&&w.accepts[w.dataType]?w.accepts[w.dataType]+", */*; q=0.01":w.accepts._default)}catch(I){}D.onreadystatechange=function(J){if(!D||D.readyState===0||J==="abort"){G||j(l,null,p,D,w);G=true;if(D)D.onreadystatechange=r}else if(!G&&D&&(D.readyState===
4||J===v)){G=true;D.onreadystatechange=r;var H;if(J===v)H=v;else{a:{try{H=D.status>=200&&D.status<300||D.status===304||D.status===1223;break a}catch(P){}H=false}H=H?d:p}A=H;try{H=D;var M=w.dataType,N=q,O,K=H;if(!f.isString(K)){N=H.getResponseHeader(t)||q;K=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&K.documentElement.nodeName===y)throw y;}if(f.isString(K))if(M===x||!M&&N.indexOf(x)>=0)K=n.parse(K);E=K}catch(Q){A=y}j([A===d?d:p,l],E,A,D,w);if(J===v){D.abort();a(b,w)}if(w.async)D=
null}};a(h,w);try{D.send(C===o?w.data:null)}catch(L){j([p,l],E,p,D,w)}w.async||a(l,w);return D}function j(w,B,A,E,C){if(f.isArray(w))f.each(w,function(F){j(F,B,A,E,C)});else{A===w&&C[w]&&C[w].call(C.context,B,A,E);a(w,C)}}function a(w,B){g.fire(w,{ajaxConfig:B})}var k=window,r=function(){},u="GET",o="POST",t="Content-Type",x="json",i=x+"p",m="script",q="",s="start",h="send",b="stop",d="success",l="complete",p="error",v="timeout",y="parsererror",z={type:u,url:q,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:k.ActiveXObject?function(){if(k.XmlHttpRequest)try{return new k.XMLHttpRequest}catch(w){}try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(B){}}:function(){return new k.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};f.mix(g,c.Target);f.mix(g,{get:function(w,B,A,E,C){if(f.isFunction(B)){E=A;A=B}return g({type:C||
u,url:w,data:B,success:function(F,G,D){A&&A.call(this,F,G,D)},dataType:E})},post:function(w,B,A,E){if(f.isFunction(B)){E=A;A=B;B=e}return g.get(w,B,A,E,o)},jsonp:function(w,B,A){if(f.isFunction(B)){A=B;B=null}return g.get(w,B,A,i)}});return g},{requires:["event","json"]});KISSY.add("ajax",function(f,c){return c},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var f=Math,c=f.PI,n=f.pow,e=f.sin,g=1.70158,j={easeNone:function(a){return a},easeIn:function(a){return a*a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return(a*=2)<1?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return(a*=2)<1?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){if(a===0||a===1)return a;return-(n(2,10*(a-=1))*e((a-0.075)*2*c/0.3))},elasticOut:function(a){if(a===
0||a===1)return a;return n(2,-10*a)*e((a-0.075)*2*c/0.3)+1},elasticBoth:function(a){if(a===0||(a*=2)===2)return a;if(a<1)return-0.5*n(2,10*(a-=1))*e((a-0.1125)*2*c/0.45);return n(2,-10*(a-=1))*e((a-0.1125)*2*c/0.45)*0.5+1},backIn:function(a){if(a===1)a-=0.0010;return a*a*((g+1)*a-g)},backOut:function(a){return(a-=1)*a*((g+1)*a+g)+1},backBoth:function(a){if((a*=2)<1)return 0.5*a*a*(((g*=1.525)+1)*a-g);return 0.5*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)},bounceIn:function(a){return 1-j.bounceOut(1-a)},bounceOut:function(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){if(a<0.5)return j.bounceIn(a*2)*0.5;return j.bounceOut(a*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return j});
KISSY.add("anim/manager",function(f){function c(e){e[n]=e[n]||f.guid("anim-");return e[n]}var n=f.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(e){var g=c(e);if(!this.runnings[g]){this.runnings[g]=e;this.startTimer()}},stop:function(e){this.notRun(e)},notRun:function(e){delete this.runnings[c(e)];f.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(e){this.notRun(e)},resume:function(e){this.start(e)},startTimer:function(){var e=this;if(!e.timer)e.timer=setTimeout(function(){if(e.runFrames())e.stopTimer();
else{e.timer=null;e.startTimer()}},e.interval)},stopTimer:function(){var e=this.timer;if(e){clearTimeout(e);this.timer=null}},runFrames:function(){var e=true,g=this.runnings,j;for(j in g)if(g.hasOwnProperty(j)){e=false;g[j]._runFrame()}return e}}});
KISSY.add("anim/base",function(f,c,n,e,g,j,a){function k(b,d,l,p,v,y){if(b=c.get(b)){if(!(this instanceof k))return new k(b,d,l,p,v,y);var z=f.isPlainObject(l);d=d;this.domEl=b;if(f.isPlainObject(d))d=String(f.param(d,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var w=d,B=b,A;b={};var E=t.length;B=c.insertAfter(B.cloneNode(true),B);A=B.style;for(u(B,w);E--;){var C=t[E];if(A[C])b[C]=(s[C]||s["*"]).getter(B,C)}w=o(w);for(var F in w)b[F]=(s[F]||s["*"]).getter(B,
F);c.remove(B);this.props=b;this.targetStyle=d;if(z)z=f.merge(m,l);else{z=f.clone(m);if(l)z.duration=parseFloat(l)||1;if(f.isString(p)||f.isFunction(p))z.easing=p;if(f.isFunction(v))z.complete=v;if(y!==a)z.nativeSupport=y}if(!f.isEmptyObject(o(d)))z.nativeSupport=false;this.config=z;if(z.nativeSupport&&h()&&f.isString(p=z.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(p)||(p=e.NativeTimeFunction[p])){z.easing=p;this.transitionName=h()}if(f.isFunction(v))this.callback=v}}function r(b,d){return d}function u(b,
d){if(g.ie&&d.indexOf(i)>-1){var l=d.match(/opacity\s*:\s*([^;]+)(;|$)/);l&&c.css(b,i,parseFloat(l[1]))}b.style.cssText+=";"+d;l=o(d);for(var p in l)b[p]=l[p]}function o(b){for(var d={},l=0;l<x.length;l++){var p=x[l].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(p=b.match(RegExp(p+"\\s*:([^;]+)(;|$)")))d[x[l]]=f.trim(p[1])}return d}var t,x,i,m,q;n=n.Target;t="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
x=[];i="opacity";m={duration:1,easing:"easeNone",nativeSupport:true};k.PROPS=t;k.CUSTOM_ATTRS=x;k.PROP_OPS={"*":{getter:function(b,d){var l=c.css(b,d),p=parseFloat(l);l=(l+"").replace(/^[-\d.]+/,"");if(isNaN(p))return{v:l,u:"",f:r};return{v:p,u:l,f:this.interpolate}},setter:function(b,d,l){return c.css(b,d,l)},interpolate:function(b,d,l){return(b+(d-b)*l).toFixed(3)},eq:function(b,d){return b.v==d.v&&b.u==d.u}}};var s=k.PROP_OPS;f.augment(k,n,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var b=this.config,d=this.domEl,l,p=this.props,v={},y;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=l=b.duration*1E3;if(this.transitionName)this._nativeRun();else{for(y in p)v[y]=(s[y]||s["*"]).getter(d,y);this.source=v;d=f.now();l=d+l;b=b.easing;if(f.isString(b))b=e[b]||e.easeNone;this.start=d;this.finish=l;this.easing=b;j.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var b=
this.domEl,d=this.finish,l=this.start,p=this.duration,v=f.now(),y=this.source,z=this.easing,w=this.props,B;l=v-l;p=v>d?1:l/p;var A,E;this.elapsedTime=l;for(B in w){l=y[B];A=w[B];var C;C=A;var F=l,G=s[B];C=G&&G.eq?G.eq(C,F):s["*"].eq(C,F);if(!C){if(A.v==0)A.u=l.u;if(l.u!==A.u){l.v=0;l.u=A.u}C=A.f(l.v,A.v,z(p))+A.u;(s[B]||s["*"]).setter(b,B,C);if(A.f==r){l.v=A.v;l.u=A.u}}}if(this.fire("step")===false||(E=v>d)){this.stop();E&&this._complete()}},_nativeRun:function(){var b=this,d=b.domEl,l=b.duration,
p=b.config.easing,v=b.transitionName,y={};y[v+"Property"]="all";y[v+"Duration"]=l+"ms";y[v+"TimingFunction"]=p;c.css(d,y);f.later(function(){u(d,b.targetStyle)},0);f.later(function(){b.stop(true)},l)},stop:function(b){if(this.isRunning){if(this.transitionName)this._nativeStop(b);else{if(b){u(this.domEl,this.targetStyle);this._complete()}j.stop(this)}this.isRunning=false;return this}},_nativeStop:function(b){var d=this.domEl,l=this.transitionName,p=this.props,v;if(b){c.css(d,l+"Property","none");this._complete()}else{for(v in p)c.css(d,
v,c._getComputedStyle(d,v));c.css(d,l+"Property","none")}}});k.supportTransition=function(){if(q)return q;var b="transition",d,l=document.body;if(l.style[b]!==a)d=b;else f.each(["Webkit","Moz","O"],function(p){if(l.style[b=p+"Transition"]!==a){d=b;return false}});return q=d};var h=k.supportTransition;return k},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(f,c,n,e,g){function j(m,q,s,h,b,d,l){if(q==="toggle"){b=c.css(m,a)===k?1:0;q="show"}if(b)c.css(m,a,c.data(m,a)||"");var p={},v={};f.each(i[q],function(y){if(y===r){p[r]=c.css(m,r);c.css(m,r,u)}else if(y===o){p[o]=c.css(m,o);v.opacity=b?1:0;b&&c.css(m,o,0)}else if(y===t){p[t]=c.css(m,t);v.height=b?c.css(m,t)||m.naturalHeight:0;b&&c.css(m,t,0)}else if(y===x){p[x]=c.css(m,x);v.width=b?c.css(m,x)||m.naturalWidth:0;b&&c.css(m,x,0)}});return(new n(m,v,s,d||"easeOut",
function(){if(!b){var y=m.style,z=y[a];if(z!==k){z&&c.data(m,a,z);y[a]=k}p[t]&&c.css(m,{height:p[t]});p[x]&&c.css(m,{width:p[x]});p[o]&&c.css(m,{opacity:p[o]});p[r]&&c.css(m,{overflow:p[r]})}h&&f.isFunction(h)&&h()},l)).run()}var a="display",k="none",r="overflow",u="hidden",o="opacity",t="height",x="width",i={show:[r,o,t,x],fade:[o],slide:[r,t]};f.each([e.prototype,e.List.prototype],function(m){m.animate=function(){var q=this,s=f.makeArray(arguments);q.__anims=q.__anims||[];f.each(this,function(h){q.__anims.push(n.apply(g,
[h].concat(s)).run())});return this};m.stopAnimate=function(q){f.each(this.__anims,function(s){s.stop(q)});this.__anims=[]};f.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(q,s){m[s]=function(h,b,d,l){var p=this;p.__anims=p.__anims||[];c[s]&&arguments.length===0?c[s](this.getDOMNode?this.getDOMNode():this):f.each(this,function(v){p.__anims.push(j(v,q[0],h,b,q[1],d,l))});return this}})})},{requires:["dom",
"anim/base","node"]});
KISSY.add("anim/color",function(f,c,n){function e(u){u=u.toLowerCase();var o;if(o=u.match(j))return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])];else if(o=u.match(a)){for(u=1;u<o.length;u++)if(o[u].length<2)o[u]+=o[u];return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}if(g[u])return g[u];return[255,255,255]}var g={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},j=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,a=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,k="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),r=n.PROP_OPS;n=n.PROPS;n.push.apply(n,k);r.color={getter:function(u,o){return{v:e(c.css(u,o)),u:"",f:this.interpolate}},setter:r["*"].setter,interpolate:function(u,o,t){var x=
r["*"].interpolate;return"rgb("+[Math.floor(x(u[0],o[0],t)),Math.floor(x(u[1],o[1],t)),Math.floor(x(u[2],o[2],t))].join(", ")+")"},eq:function(u,o){return u.v+""==o.v+""}};f.each(k,function(u){r[u]=r.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(f,c,n){var e=n.PROP_OPS;n.CUSTOM_ATTRS.push("scrollLeft","scrollTop");e.scrollLeft=e.scrollTop={getter:function(g,j){return{v:g[j],u:"",f:e["*"].interpolate}},setter:function(g,j,a){g[j]=a}}},{requires:["dom","./base"]});
KISSY.add("anim",function(f,c,n){c.Easing=n;return c},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color","anim/scroll"]});
KISSY.add("base/attribute",function(f,c){function n(){this.__attrs={};this.__attrVals={}}function e(g){g+="";return g.charAt(0).toUpperCase()+g.substring(1)}f.augment(n,{__getDefAttrs:function(){return f.clone(this.__attrs)},addAttr:function(g,j,a){if(this.__attrs[g])f.mix(this.__attrs[g],j,a);else this.__attrs[g]=f.clone(j||{});return this},hasAttr:function(g){return g&&this.__attrs.hasOwnProperty(g)},removeAttr:function(g){if(this.hasAttr(g)){delete this.__attrs[g];delete this.__attrVals[g]}return this},
set:function(g,j){var a=this.get(g);if(a!==j)if(false!==this.__fireAttrChange("before",g,a,j)){this.__set(g,j);this.__fireAttrChange("after",g,a,this.__attrVals[g]);return this}},__fireAttrChange:function(g,j,a,k){return this.fire(g+e(j)+"Change",{attrName:j,prevVal:a,newVal:k})},__set:function(g,j){var a,k=this.__attrs[g];if(k=k&&k.setter)a=k.call(this,j);if(a!==c)j=a;this.__attrVals[g]=j},get:function(g){var j;j=(j=this.__attrs[g])&&j.getter;g=g in this.__attrVals?this.__attrVals[g]:this.__getDefAttrVal(g);
if(j)g=j.call(this,g);return g},__getDefAttrVal:function(g){g=this.__attrs[g];var j;if(g){if(j=g.valueFn){j=j.call(this);if(j!==c)g.value=j;delete g.valueFn}return g.value}},reset:function(g){if(this.hasAttr(g))return this.set(g,this.__getDefAttrVal(g));for(g in this.__attrs)this.hasAttr(g)&&this.reset(g);return this}});n.__capitalFirst=e;return n});
KISSY.add("base/base",function(f,c,n){function e(g){c.call(this);for(var j=this.constructor;j;){var a=j.ATTRS;if(a){var k=void 0;for(k in a)a.hasOwnProperty(k)&&this.addAttr(k,a[k],false)}j=j.superclass?j.superclass.constructor:null}if(g)for(var r in g)g.hasOwnProperty(r)&&this.__set(r,g[r])}f.augment(e,n.Target,c);return e},{requires:["./attribute","event"]});KISSY.add("base",function(f,c){return c},{requires:["base/base"]});
KISSY.add("cookie/base",function(f){var c=document,n=encodeURIComponent,e=decodeURIComponent;return{get:function(g){var j;if(f.isString(g)&&g!=="")if(g=String(c.cookie).match(RegExp("(?:^| )"+g+"(?:(?:=([^;]*))|;|$)")))j=g[1]?e(g[1]):"";return j},set:function(g,j,a,k,r,u){j=String(n(j));var o=a;if(typeof o==="number"){o=new Date;o.setTime(o.getTime()+a*864E5)}if(o instanceof Date)j+="; expires="+o.toUTCString();if(f.isString(k)&&k!=="")j+="; domain="+k;if(f.isString(r)&&r!=="")j+="; path="+r;if(u)j+=
"; secure";c.cookie=g+"="+j},remove:function(g,j,a,k){this.set(g,"",0,j,a,k)}}});KISSY.add("cookie",function(f,c){return c},{requires:["cookie/base"]});
KISSY.add("core",function(f,c,n,e,g,j,a,k,r,u){a.getScript=f.getScript;c={UA:c,DOM:n,Event:e,EventTarget:e.Target,Node:g,NodeList:g.List,JSON:j,Ajax:a,IO:a,ajax:a,io:a,jsonp:a.jsonp,Anim:k,Easing:k.Easing,Base:r,Cookie:u,one:g.one,all:g.List.all,get:n.get,query:n.query};f.mix(f,c);return c},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
