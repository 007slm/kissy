/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var g=navigator.userAgent,a="",l="",c,f={},h=function(b){var d=0;return parseFloat(b.replace(/\./g,function(){return d++===0?".":""}))};if((c=g.match(/AppleWebKit\/([\d.]*)/))&&c[1]){f[a="webkit"]=h(c[1]);if((c=g.match(/Chrome\/([\d.]*)/))&&c[1])f[l="chrome"]=h(c[1]);else if((c=g.match(/\/([\d.]*) Safari/))&&c[1])f[l="safari"]=h(c[1]);if(/ Mobile\//.test(g))f.mobile="apple";else if(c=g.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))f.mobile=c[0].toLowerCase()}else if((c=
g.match(/Presto\/([\d.]*)/))&&c[1]){f[a="presto"]=h(c[1]);if((c=g.match(/Opera\/([\d.]*)/))&&c[1]){f[l="opera"]=h(c[1]);if((c=g.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])f[l]=h(c[1]);if((c=g.match(/Opera Mini[^;]*/))&&c)f.mobile=c[0].toLowerCase();else if((c=g.match(/Opera Mobi[^;]*/))&&c)f.mobile=c[0]}}else if((c=g.match(/MSIE\s([^;]*)/))&&c[1]){f[a="trident"]=0.1;f[l="ie"]=h(c[1]);if((c=g.match(/Trident\/([\d.]*)/))&&c[1])f[a]=h(c[1])}else if(c=g.match(/Gecko/)){f[a="gecko"]=0.1;if((c=g.match(/rv:([\d.]*)/))&&
c[1])f[a]=h(c[1]);if((c=g.match(/Firefox\/([\d.]*)/))&&c[1])f[l="firefox"]=h(c[1])}f.core=a;f.shell=l;f._numberify=h;return f});
KISSY.add("ua/extra",function(g,a){var l=navigator.userAgent,c,f,h={},b=a._numberify;if(l.match(/360SE/))h[f="se360"]=3;else if(l.match(/Maxthon/)&&(c=window.external)){f="maxthon";try{h[f]=b(c.max_version)}catch(d){h[f]=0.1}}else if(c=l.match(/TencentTraveler\s([\d.]*)/))h[f="tt"]=c[1]?b(c[1]):0.1;else if(l.match(/TheWorld/))h[f="theworld"]=3;else if(c=l.match(/SE\s([\d.]*)/))h[f="sougou"]=c[1]?b(c[1]):0.1;f&&(h.shell=f);g.mix(a,h);return a},{requires:["ua/base"]});
KISSY.add("ua",function(g,a){return a},{requires:["ua/extra"]});KISSY.add("dom/base",function(g,a){function l(c,f){return c&&c.nodeType===f}return{_isElementNode:function(c){return l(c,1)},_getWin:function(c){return c&&"scrollTo"in c&&c.document?c:l(c,9)?c.defaultView||c.parentWindow:c==a?window:false},_nodeTypeIs:l,_isNodeList:function(c){return c&&!c.nodeType&&c.item&&!c.setTimeout}}});
KISSY.add("dom/attr",function(g,a,l,c){function f(k,q){q=u[q]||q;var y=e[q];if(!k)return c;return y&&y.get?y.get(k,q):k[q]}l=document.documentElement;var h=!l.hasAttribute,b=l.textContent!==c?"textContent":"innerText",d=a._isElementNode,i=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,s=/^(?:button|input|object|select|textarea)$/i,w=/^a(?:rea)?$/i,r=/:|^on/,t=/\r/g,v={},o={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},m={tabindex:{get:function(k){var q=k.getAttributeNode("tabindex");return q&&q.specified?parseInt(q.value,10):s.test(k.nodeName)||w.test(k.nodeName)&&k.href?0:null}},style:{get:function(k){return k.style.cssText},set:function(k,q){k.style.cssText=q}}},u={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
p={get:function(k,q){return a.prop(k,q)?q.toLowerCase():null},set:function(k,q,y){if(q===false)a.removeAttr(k,y);else{q=u[y]||y;if(q in k)k[q]=true;k.setAttribute(y,y.toLowerCase())}return y}},e={},j={},n={option:{get:function(k){var q=k.attributes.value;return!q||q.specified?k.value:k.text}},select:{get:function(k){var q=k.selectedIndex,y=k.options;k=k.type==="select-one";if(q<0)return null;else if(k)return a.val(y[q]);q=[];k=0;for(var x=y.length;k<x;++k)y[k].selected&&q.push(a.val(y[k]));return q},
set:function(k,q){var y=g.makeArray(q);g.each(k.options,function(x){x.selected=g.inArray(a.val(x),y)});if(!y.length)k.selectedIndex=-1;return y}}};if(h){j={get:function(k,q){var y;return(y=k.getAttributeNode(q))&&y.nodeValue!==""?y.nodeValue:null},set:function(k,q,y){if(k=k.getAttributeNode(y))k.nodeValue=q}};v=u;m.tabIndex=m.tabindex;g.each(["href","src","width","height","colSpan","rowSpan"],function(k){m[k]={get:function(q){q=q.getAttribute(k,2);return q===c?null:q}}});n.button=m.value=j}g.each(["radio",
"checkbox"],function(k){n[k]={get:function(q){return q.getAttribute("value")===null?"on":q.value},set:function(q,y){if(g.isArray(y))return q.checked=g.inArray(a.val(q),y)}}});g.mix(a,{prop:function(k,q,y){if(g.isPlainObject(q))for(var x in q)a.prop(k,x,q[x]);else{k=a.query(k);q=u[q]||q;var z=e[q];if(y!==c)g.each(k,function(A){if(z&&z.set)z.set(A,y,q);else A[q]=y});else{k=k[0];if(!k)return null;k=f(k,q);return k===c?null:k}}},hasProp:function(k,q){var y=a.get(k);return f(y,q)!==c},removeProp:function(k,
q){q=u[q]||q;a.query(k).each(function(y){try{y[q]=c;delete y[q]}catch(x){}})},attr:function(k,q,y,x){if(g.isPlainObject(q)){x=y;for(var z in q)a.attr(k,z,q[z],x)}else if(q=g.trim(q)){q=q.toLowerCase();if(x&&o[q])return a[q](k,y);q=v[q]||q;var A;A=i.test(q)?p:r.test(q)?j:m[q];if(y===c){k=a.get(k);if(!d(k))return null;if(k.nodeName.toLowerCase()=="form")A=j;if(A&&A.get)return A.get(k,q);k=k.getAttribute(q);return k===c?null:k}else g.each(a.query(k),function(B){if(d(B))A&&A.set?A.set(B,y,q):B.setAttribute(q,
""+y)})}},removeAttr:function(k,q){q=q.toLowerCase();q=v[q]||q;g.each(a.query(k),function(y){if(d(y)){var x;y.removeAttribute(q);if(i.test(q)&&(x=u[q]||q)in y)y[x]=false}})},hasAttr:h?function(k,q){q=q.toLowerCase();var y=a.get(k).getAttributeNode(q);return!!(y&&y.specified)}:function(k,q){q=q.toLowerCase();return a.get(k).hasAttribute(q)},val:function(k,q){var y,x;if(q===c){var z=a.get(k);if(z){if((y=n[z.nodeName.toLowerCase()]||n[z.type])&&"get"in y&&(x=y.get(z,"value"))!==c)return x;x=z.value;
return typeof x==="string"?x.replace(t,""):x==null?"":x}return null}a.query(k).each(function(A){if(A.nodeType===1){var B=q;if(B==null)B="";else if(typeof B==="number")B+="";else if(g.isArray(B))B=g.map(B,function(C){return C==null?"":C+""});y=n[A.nodeName.toLowerCase()]||n[A.type];if(!y||!("set"in y)||y.set(A,B,"value")===c)A.value=B}})},text:function(k,q){if(q===c){var y=a.get(k);if(d(y))return y[b]||"";else if(a._nodeTypeIs(y,3))return y.nodeValue;return null}else g.each(a.query(k),function(x){if(d(x))x[b]=
q;else if(a._nodeTypeIs(x,3))x.nodeValue=q})}});return a},{requires:["./base","ua"]});
KISSY.add("dom/class",function(g,a,l){function c(b,d,i,s){if(!(d=g.trim(d)))return s?false:l;b=a.query(b);var w=0,r=b.length,t=d.split(f);for(d=[];w<t.length;w++){var v=g.trim(t[w]);v&&d.push(v)}for(w=0;w<r;w++){t=b[w];if(a._isElementNode(t)){t=i(t,d,d.length);if(t!==l)return t}}if(s)return false;return l}var f=/[\.\s]\s*\.?/,h=/[\n\t]/g;g.mix(a,{hasClass:function(b,d){return c(b,d,function(i,s,w){if(i=i.className){i=(" "+i+" ").replace(h," ");for(var r=0,t=true;r<w;r++)if(i.indexOf(" "+s[r]+" ")<
0){t=false;break}if(t)return true}},true)},addClass:function(b,d){c(b,d,function(i,s,w){var r=i.className;if(r){var t=(" "+r+" ").replace(h," ");r=r;for(var v=0;v<w;v++)if(t.indexOf(" "+s[v]+" ")<0)r+=" "+s[v];i.className=g.trim(r)}else i.className=d},l)},removeClass:function(b,d){c(b,d,function(i,s,w){var r=i.className;if(r)if(w){r=(" "+r+" ").replace(h," ");for(var t=0,v;t<w;t++)for(v=" "+s[t]+" ";r.indexOf(v)>=0;)r=r.replace(v," ");i.className=g.trim(r)}else i.className=""},l)},replaceClass:function(b,
d,i){a.removeClass(b,d);a.addClass(b,i)},toggleClass:function(b,d,i){var s=g.isBoolean(i),w;c(b,d,function(r,t,v){for(var o=0,m;o<v;o++){m=t[o];w=s?!i:a.hasClass(r,m);a[w?"removeClass":"addClass"](r,m)}},l)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(g,a,l,c){function f(x,z){if(g.isPlainObject(z))if(r(x))a.attr(x,z,true);else x.nodeType==11&&g.each(x.childNodes,function(A){a.attr(A,z,true)});return x}function h(x,z){var A=null,B,C;if(x&&(x.push||x.item)&&x[0]){z=z||x[0].ownerDocument;A=z.createDocumentFragment();if(x.item)x=g.makeArray(x);B=0;for(C=x.length;B<C;B++)A.appendChild(x[B])}return A}function b(x,z,A,B){if(A){var C=g.guid("ks-tmp-"),D=RegExp(m);z+='<span id="'+C+'"></span>';g.available(C,function(){var F=
a.get("head"),E,G,H,I,K,J;for(D.lastIndex=0;E=D.exec(z);)if((H=(G=E[1])?G.match(p):false)&&H[2]){E=i.createElement("script");E.src=H[2];if((I=G.match(e))&&I[2])E.charset=I[2];E.async=true;F.appendChild(E)}else if((J=E[2])&&J.length>0)g.globalEval(J);(K=i.getElementById(C))&&a.remove(K);g.isFunction(B)&&B()});d(x,z)}else{d(x,z);g.isFunction(B)&&B()}}function d(x,z){z=(z+"").replace(m,"");try{x.innerHTML=z}catch(A){for(;x.firstChild;)x.removeChild(x.firstChild);z&&x.appendChild(a.create(z))}}var i=
document,s=l.ie,w=a._nodeTypeIs,r=a._isElementNode,t=i.createElement("div"),v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,o=/<(\w+)/,m=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,u=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/\ssrc=(['"])(.*?)\1/i,e=/\scharset=(['"])(.*?)\1/i;g.mix(a,{create:function(x,z,A){if(w(x,1)||w(x,3)){z=x;A=z.cloneNode(true);if(l.ie<8)A.innerHTML=z.innerHTML;return A}if(!(x=g.trim(x)))return null;var B=null;B=a._creators;var C,D="div",F;
if(C=u.exec(x))B=(A||i).createElement(C[1]);else{x=x.replace(v,"<$1></$2>");if((C=o.exec(x))&&(F=C[1])&&g.isFunction(B[F=F.toLowerCase()]))D=F;x=B[D](x,A).childNodes;B=x.length===1?x[0].parentNode.removeChild(x[0]):h(x,A||i)}return f(B,z)},_creators:{div:function(x,z){var A=z?z.createElement("div"):t;A.innerHTML="w<div>"+x+"</div>";return A.lastChild}},html:function(x,z,A,B){if(z===c){x=a.get(x);if(r(x))return x.innerHTML;return null}else g.each(a.query(x),function(C){r(C)&&b(C,z,A,B)})},remove:function(x){g.each(a.query(x),
function(z){z.parentNode&&z.parentNode.removeChild(z)})},_nl2frag:h});if(s||l.gecko||l.webkit){var j=a._creators,n=a.create,k=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,q={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in q)(function(x){j[y]=function(z,A){return n("<"+x+">"+z+"</"+x+">",null,A)}})(q[y]);if(s){j.script=function(x,z){var A=z?z.createElement("div"):t;A.innerHTML="-"+x;A.removeChild(A.firstChild);return A};if(s<8)j.tbody=function(x,
z){var A=n("<table>"+x+"</table>",null,z),B=A.children.tags("tbody")[0];A.children.length>1&&B&&!k.test(x)&&B.parentNode.removeChild(B);return A}}g.mix(j,{optgroup:j.option,th:j.td,thead:j.tbody,tfoot:j.tbody,caption:j.tbody,colgroup:j.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(g,a,l){var c=window,f="_ks_data_"+g.now(),h={},b={},d={};d.applet=1;d.object=1;d.embed=1;var i={hasData:function(r,t){if(r)if(t!==l){if(t in r)return true}else if(!g.isEmptyObject(r))return true;return false}},s={hasData:function(r,t){if(r==c)return s.hasData(b,t);return i.hasData(r[f],t)},data:function(r,t,v){if(r==c)return s.data(b,t,v);r=r[f]=r[f]||{};if(v!==l)r[t]=v;else return t!==l?r[t]===l?null:r[t]:r},removeData:function(r,t){if(r==c)return s.removeData(b,t);
var v=r[f];if(v)if(t!==l){delete v[t];g.isEmptyObject(v)&&s.removeData(r,l)}else delete r[f]}},w={hasData:function(r,t){var v=r[f];if(!v)return false;return i.hasData(h[v],t)},data:function(r,t,v){if(!d[r.nodeName.toLowerCase()]){var o=r[f];o||(o=r[f]=g.guid());r=h[o]=h[o]||{};if(v!==l)r[t]=v;else return t!==l?r[t]===l?null:r[t]:r}},removeData:function(r,t){var v=r[f];if(v){var o=h[v];if(o)if(t!==l){delete o[t];g.isEmptyObject(o)&&w.removeData(r,l)}else{delete h[v];try{delete r[f]}catch(m){}r.removeAttribute&&
r.removeAttribute(f)}}}};g.mix(a,{hasData:function(r,t){var v=false;a.query(r).each(function(o){v=o&&o.nodeType?v||w.hasData(o,t):v||s.hasData(o,t)});return v},data:function(r,t,v){if(g.isPlainObject(t))for(var o in t)a.data(r,o,t[o]);else if(v===l)return(r=a.get(r))&&r.nodeType?w.data(r,t,v):s.data(r,t,v);else a.query(r).each(function(m){m&&m.nodeType?w.data(m,t,v):s.data(m,t,v)})},removeData:function(r,t){a.query(r).each(function(v){v&&v.nodeType?w.removeData(v,t):s.removeData(v,t)})}});return a},
{requires:["./base"]});
KISSY.add("dom/insertion",function(g,a){function l(b,d,i){b=a.query(b);d=a.query(d);if(b=c(b)){var s;if(d.length>1)s=b.cloneNode(true);for(var w=0;w<d.length;w++){var r=d[w],t=w>0?s.cloneNode(true):b;i(t,r)}}}var c=a._nl2frag;g.mix(a,{insertBefore:function(b,d){l(b,d,function(i,s){s.parentNode&&s.parentNode.insertBefore(i,s)})},insertAfter:function(b,d){l(b,d,function(i,s){s.parentNode&&s.parentNode.insertBefore(i,s.nextSibling)})},appendTo:function(b,d){l(b,d,function(i,s){s.appendChild(i)})},prependTo:function(b,
d){l(b,d,function(i,s){s.insertBefore(i,s.firstChild)})}});var f={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},h;for(h in f)a[h]=a[f[h]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(g,a,l,c){function f(e){var j=0,n=0,k=i(e[t]);if(e[p]){e=e[p]();j=e[v];n=e[o];if(l.mobile!=="apple"){j+=a[m](k);n+=a[u](k)}}return{left:j,top:n}}var h=window,b=a._isElementNode,d=a._nodeTypeIs,i=a._getWin,s=document.compatMode==="CSS1Compat",w=Math.max,r=parseInt,t="ownerDocument",v="left",o="top",m="scrollLeft",u="scrollTop",p="getBoundingClientRect";g.mix(a,{offset:function(e,j){if(!(e=a.get(e))||!e[t])return null;if(j===c)return f(e);var n=e;if(a.css(n,"position")===
"static")n.style.position="relative";var k=f(n),q={},y,x;for(x in j){y=r(a.css(n,x),10)||0;q[x]=y+j[x]-k[x]}a.css(n,q)},scrollIntoView:function(e,j,n,k){if((e=a.get(e))&&e[t]){k=k===c?true:!!k;n=n===c?true:!!n;if(!j||(j=a.get(j))===h)e.scrollIntoView(n);else{if(d(j,9))j=i(j);var q=!!i(j),y=a.offset(e),x=q?{left:a.scrollLeft(j),top:a.scrollTop(j)}:a.offset(j),z={left:y[v]-x[v],top:y[o]-x[o]};y=q?a.viewportHeight(j):j.clientHeight;q=q?a.viewportWidth(j):j.clientWidth;x=a[m](j);var A=a[u](j),B=x+q,C=
A+y,D=e.offsetHeight;e=e.offsetWidth;var F=z.left+x-(r(a.css(j,"borderLeftWidth"))||0);z=z.top+A-(r(a.css(j,"borderTopWidth"))||0);var E=F+e,G=z+D,H,I;if(D>y||z<A||n)H=z;else if(G>C)H=G-y;if(k)if(e>q||F<x||n)I=F;else if(E>B)I=E-q;a[u](j,H);a[m](j,I)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});g.each(["Left","Top"],function(e,j){var n="scroll"+e;a[n]=function(k,q){if(g.isNumber(k))arguments.callee(h,k);else{k=a.get(k);var y=0,x=i(k);if(x){if(q!==c){y=e=="Left"?q:a.scrollLeft(x);var z=
e=="Top"?q:a.scrollTop(x);x.scrollTo(y,z)}y=x.document;y=x[j?"pageYOffset":"pageXOffset"]||y.documentElement[n]||y.body[n]}else if(b(k=a.get(k)))y=q!==c?k[n]=q:k[n];return q===c?y:c}}});g.each(["Width","Height"],function(e){a["doc"+e]=function(j){j=a.get(j);j=i(j).document;return w(j.documentElement["scroll"+e],j.body["scroll"+e],a["viewport"+e](j))};a["viewport"+e]=function(j){j=a.get(j);var n="inner"+e;j=i(j);var k=j.document;return n in j?j[n]:s?k.documentElement["client"+e]:k.body["client"+e]}});
return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(g,a,l,c){function f(p,e){var j=a.get(p);if(g.isWindow(j))return e==i?a.viewportWidth(j):a.viewportHeight(j);else if(j.nodeType==9)return e==i?a.docWidth(j):a.docHeight(j);var n=e===i?j.offsetWidth:j.offsetHeight;g.each(e===i?["Left","Right"]:["Top","Bottom"],function(k){n-=parseFloat(a._getComputedStyle(j,"padding"+k))||0;n-=parseFloat(a._getComputedStyle(j,"border"+k+"Width"))||0});return n}function h(p,e,j){var n=j;if(j===s&&r.test(e)){n=0;if(g.inArray(a.css(p,"position"),
["absolute","fixed"])){j=p[e==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)j-=w(a.css(p.offsetParent,"border-"+e+"-width"))||0;n=j-(w(a.css(p,"margin-"+e))||0)}}return n}var b=document,d=b.documentElement,i="width",s="auto",w=parseInt,r=/^(?:left|top)/,t=/^(?:width|height|top|left|right|bottom|margin|padding)/i,v=/-([a-z])/ig,o=function(p,e){return e.toUpperCase()},m={},u={};g.mix(a,{_CUSTOM_STYLES:m,_getComputedStyle:function(p,e){var j="",n=p.ownerDocument;if(p.style)j=n.defaultView.getComputedStyle(p,
null)[e];return j},css:function(p,e,j){if(g.isPlainObject(e))for(var n in e)a.css(p,n,e[n]);else{if(e.indexOf("-")>0)e=e.replace(v,o);n=e;e=m[e]||e;if(j===c){p=a.get(p);var k="";if(p&&p.style){k=e.get?e.get(p,n):p.style[e];if(k===""&&!e.get)k=h(p,e,a._getComputedStyle(p,e))}return k===c?"":k}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&t.test(e))j+="px";(e===i||e==="height")&&parseFloat(j)<0||g.each(a.query(p),function(q){if(q&&q.style){e.set?e.set(q,j):q.style[e]=j;if(j==="")q.style.cssText||
q.removeAttribute("style")}})}}},width:function(p,e){if(e===c)return f(p,i);else a.css(p,i,e)},height:function(p,e){if(e===c)return f(p,"height");else a.css(p,"height",e)},show:function(p){a.query(p).each(function(e){if(e){e.style.display=a.data(e,"display")||"";if(a.css(e,"display")==="none"){var j=e.tagName,n=u[j],k;if(!n){k=b.createElement(j);b.body.appendChild(k);n=a.css(k,"display");a.remove(k);u[j]=n}a.data(e,"display",n);e.style.display=n}}})},hide:function(p){a.query(p).each(function(e){if(e){var j=
e.style,n=j.display;if(n!=="none"){n&&a.data(e,"display",n);j.display="none"}}})},toggle:function(p){a.query(p).each(function(e){if(e)a.css(e,"display")==="none"?a.show(e):a.hide(e)})},addStyleSheet:function(p,e,j){if(g.isString(p)){j=e;e=p;p=window}p=a.get(p);p=a._getWin(p).document;var n;if(j&&(j=j.replace("#","")))n=a.get("#"+j,p);if(!n){n=a.create("<style>",{id:j},p);a.get("head",p).appendChild(n);if(n.styleSheet)n.styleSheet.cssText=e;else n.appendChild(p.createTextNode(e))}},unselectable:function(p){a.query(p).each(function(e){if(e)if(l.gecko)e.style.MozUserSelect=
"none";else if(l.webkit)e.style.KhtmlUserSelect="none";else if(l.ie||l.opera){var j=0,n=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=n[j++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable","on")}}})}});if(d.style.cssFloat!==c)m["float"]="cssFloat";else if(d.style.styleFloat!==c)m["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(g,a,l){function c(o,m){var u,p,e=[],j;p=g.require("sizzle");m=f(m);if(g.isString(o))if(o.indexOf(",")!=-1){u=o.split(",");g.each(u,function(n){e.push.apply(e,g.makeArray(c(n,m)))})}else{o=g.trim(o);if(r.test(o)){if(p=h(o.slice(1),m))e=[p]}else if(u=t.exec(String(o))){p=u[1];j=u[2];u=u[3];if(m=p?h(p,m):m)if(u)if(!p||o.indexOf(w)!==-1)e=g.makeArray(v(u,j,m));else{if((p=h(p,m))&&a.hasClass(p,u))e=[p]}else if(j)e=b(j,m)}else if(p)e=p(o,m);else d(o)}else if(o&&(g.isArray(o)||
s(o)))e=o;else if(o)e=[o];if(s(e))e=g.makeArray(e);e.each=function(n,k){return g.each(e,n,k)};return e}function f(o){if(o===l)o=i;else if(g.isString(o)&&r.test(o))o=h(o.slice(1),i);else if(g.isArray(o)||s(o))o=o[0]||null;else if(o&&o.nodeType!==1&&o.nodeType!==9)o=null;return o}function h(o,m){if(!m)return null;if(m.nodeType!==9)m=m.ownerDocument;return m.getElementById(o)}function b(o,m){return m.getElementsByTagName(o)}function d(o){g.error("Unsupported selector: "+o)}var i=document,s=a._isNodeList,
w=" ",r=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var o=i.createElement("div");o.appendChild(i.createComment(""));if(o.getElementsByTagName("*").length>0)b=function(m,u){var p=g.makeArray(u.getElementsByTagName(m));if(m==="*"){for(var e=[],j=0,n=0,k;k=p[j++];)if(k.nodeType===1)e[n++]=k;p=e}return p}})();var v=i.getElementsByClassName?function(o,m,u){u=o=g.makeArray(u.getElementsByClassName(o));var p=0,e=0,j=o.length,n;if(m&&m!=="*"){u=[];for(m=m.toUpperCase();p<j;++p){n=
o[p];if(n.tagName===m)u[e++]=n}}return u}:i.querySelectorAll?function(o,m,u){return u.querySelectorAll((m?m:"")+"."+o)}:function(o,m,u){m=u.getElementsByTagName(m||"*");u=[];var p=0,e=0,j=m.length,n,k;for(o=w+o+w;p<j;++p){n=m[p];if((k=n.className)&&(w+k+w).indexOf(o)>-1)u[e++]=n}return u};g.mix(a,{query:c,get:function(o,m){return c(o,m)[0]||null},filter:function(o,m,u){var p=c(o,u),e=g.require("sizzle"),j,n,k,q=[];if(g.isString(m)&&(j=t.exec(m))&&!j[1]){n=j[2];k=j[3];m=function(y){return!(n&&y.tagName.toLowerCase()!==
n.toLowerCase()||k&&!a.hasClass(y,k))}}if(g.isFunction(m))q=g.filter(p,m);else if(m&&e)q=e._filter(o,m,u);else d(m);return q},test:function(o,m,u){o=c(o,u);return o.length&&a.filter(o,m,u).length===o.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(g,a,l,c,f){if(!l.ie)return a;c=document;var h=c.documentElement,b=a._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,i=/^-?\d/,s=/^(?:width|height)$/;try{if(h.style.opacity==f&&h.filters)b.opacity={get:function(v){var o=100;try{o=v.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(m){try{o=v.filters("alpha").opacity}catch(u){if(v=((v.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))o=parseInt(g.trim(v[1]))}}return o/100+""},set:function(v,o){var m=v.style,
u=(v.currentStyle||0).filter||"";m.zoom=1;if(u)u=g.trim(u.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(u&&o!=1)u+=", ";m.filter=u+(o!=1?"alpha(opacity="+o*100+")":"")}}}catch(w){}l=l.ie==8;var r={},t={get:function(v,o){var m=v.currentStyle[o]+"";if(m.indexOf("px")<0)m=r[m]?r[m]:0;return m}};r.thin=l?"1px":"2px";r.medium=l?"3px":"4px";r.thick=l?"5px":"6px";g.each(["","Top","Left","Right","Bottom"],function(v){b["border"+v+"Width"]=t});if(!(c.defaultView||{}).getComputedStyle&&h.currentStyle)a._getComputedStyle=
function(v,o){var m=v.style,u=v.currentStyle[o];if(s.test(o))u=a[o](v)+"px";else if(!d.test(u)&&i.test(u)){var p=m.left,e=v.runtimeStyle.left;v.runtimeStyle.left=v.currentStyle.left;m.left=o==="fontSize"?"1em":u||0;u=m.pixelLeft+"px";m.left=p;v.runtimeStyle.left=e}return u};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(g,a,l){function c(d,i,s,w,r,t){if(!(d=a.get(d)))return null;if(i===0)return d;t||(d=d[s]);if(!d)return null;r=r&&a.get(r)||null;if(i===l)i=1;t=[];var v=g.isArray(i),o,m;if(g.isNumber(i)){o=0;m=i;i=function(){return++o===m}}do if(b(d)&&f(d,i)&&(!w||w(d))){t.push(d);if(!v)break}while(d!=r&&(d=d[s]));return v?t:t[0]||null}function f(d,i){if(!i)return true;if(g.isArray(i))for(var s=0;s<i.length;s++){if(a.test(d,i[s]))return true}else if(a.test(d,i))return true;return false}
function h(d,i,s){var w=[];var r=d=a.get(d);if(d&&s)r=d.parentNode;if(r){s=0;for(r=r.firstChild;r;r=r.nextSibling)if(b(r)&&r!==d&&(!i||a.test(r,i)))w[s++]=r}return w}var b=a._isElementNode;g.mix(a,{closest:function(d,i,s){return c(d,i,"parentNode",function(w){return w.nodeType!=11},s,true)},parent:function(d,i,s){return c(d,i,"parentNode",function(w){return w.nodeType!=11},s)},next:function(d,i){return c(d,i,"nextSibling",l)},prev:function(d,i){return c(d,i,"previousSibling",l)},siblings:function(d,
i){return h(d,i,true)},children:function(d,i){return h(d,i,l)},contains:document.documentElement.contains?function(d,i){d=a.get(d);i=a.get(i);if(d.nodeType==3)return false;var s;if(i.nodeType==3){i=i.parentNode;s=true}else if(i.nodeType==9)return false;else s=d!==i;return s&&(d.contains?d.contains(i):true)}:document.documentElement.compareDocumentPosition?function(d,i){d=a.get(d);i=a.get(i);return!!(d.compareDocumentPosition(i)&16)}:0,equals:function(d,i){d=a.query(d);i=a.query(i);if(d.length!=i.length)return false;
for(var s=d.length;s>=0;s--)if(d[s]!=i[s])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(g,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(g,a){function l(h,b,d){this.currentTarget=h;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=d;this.target=h}this.currentTarget=h;this.fixed=true}var c=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
g.augment(l,{_fix:function(){var h=this.originalEvent,b=f.length,d,i=this.currentTarget;for(i=i.nodeType===9?i:i.ownerDocument||c;b;){d=f[--b];this[d]=h[d]}if(!this.target)this.target=this.srcElement||c;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){h=i.documentElement;b=i.body;this.pageX=this.clientX+(h&&h.scrollLeft||b&&b.scrollLeft||
0)-(h&&h.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(h&&h.scrollTop||b&&b.scrollTop||0)-(h&&h.clientTop||b&&b.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=
this.originalEvent;if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return l});
KISSY.add("event/base",function(g,a,l,c){function f(m,u,p){if((p=g.trim(p))&&p.indexOf(w)>0){var e=g.makeArray(arguments);g.each(p.split(w),function(j){var n=g.clone(e);n.splice(0,3,u,j);o[m].apply(o,n)});return true}return c}function h(m){return m&&m.nodeType!==3&&m.nodeType!==8}function b(m,u,p,e,j){var n=o.special[u]||{};if(!e.length&&(!n.setup||n.setup.call(m)===false))i(m,u,p);n.add&&n.add.call(m,j)}var d=document,i=d.addEventListener?function(m,u,p,e){m.addEventListener&&m.addEventListener(u,
p,!!e)}:function(m,u,p){m.attachEvent&&m.attachEvent("on"+u,p)},s=d.removeEventListener?function(m,u,p,e){m.removeEventListener&&m.removeEventListener(u,p,!!e)}:function(m,u,p){m.detachEvent&&m.detachEvent("on"+u,p)},w=" ",r="",t="trigger-none-"+g.now(),v="ksEventTargetId"+g.now(),o={_data:function(){var m=g.makeArray(arguments);m.splice(1,0,v);return a.data.apply(a,m)},_removeData:function(){var m=g.makeArray(arguments);m.splice(1,0,v);return a.removeData.apply(a,m)},special:{},add:function(m,u,
p,e,j){if(f("add",m,u,p,e,j))return m;a.query(m).each(function(n){var k=!n.isCustomEventTarget,q;if(!(!n||!u||!g.isFunction(p)||k&&!h(n))){(q=o._data(n))||o._data(n,q={});var y=q.events=q.events||{};y=y[u]=y[u]||[];var x={fn:p,scope:e||n,data:j},z=q.handler;if(!z){z=q.handler=function(A,B){if(!(A&&A.type==r)){var C=z.target;if(!A||!A.fixed)A=new l(C,A);g.isPlainObject(B)&&g.mix(A,B);return o._handle(C,A)}};z.target=n}if(k){b(n,u,z,y,x);n=null}y.push(x)}});return m},__getListeners:function(m,u){return(o.__getEvents(m)||
{})[u]||[]},__getEvents:function(m){return(m=o._data(m))&&m.events},remove:function(m,u,p,e,j){if(f("remove",m,u,p,e))return m;a.query(m).each(function(n){var k=o._data(n),q=k&&k.events,y,x,z,A,B,C=!n.isCustomEventTarget,D=C&&o.special[u]||{};if(!(!n||!C&&!h(n)||!q))if(u===c)for(u in q)o.remove(n,u);else{e=e||n;if(y=q[u]){x=y.length;if(g.isFunction(p)&&x){A=z=0;for(B=[];z<x;++z){var F=false,E=y[z];if(p!==E.fn||e!==E.scope){B[A++]=E;F=true}else if(j!==G){var G=E.data;if(!j&&G||G&&!j){B[A++]=E;F=true}else if(j&&
G)if(!j.equals||!G.equals)g.error("no equals in data");else if(!G.equals(j)){B[A++]=E;F=true}}!F&&D.remove&&D.remove.call(n,E)}q[u]=B;x=B.length}if(p===c||x===0){if(C&&(!D.tearDown||D.tearDown.call(n)===false))s(n,u,k.handler);delete q[u]}}if(g.isEmptyObject(q)){k.handler.target=null;delete k.handler;delete k.events;o._removeData(n)}}});return m},_handle:function(m,u){for(var p=o.__getListeners(m,u.type).slice(0),e,j,n=0,k=p.length;n<k;++n){e=p[n];e=e.fn.call(e.scope,u,e.data);if(e!==c){if(j!==false)j=
e;e===false&&u.halt()}if(u.isImmediatePropagationStopped)break}return j},fire:function(m,u,p){if(!f("fire",m,u,p)){var e;a.query(m).each(function(j){var n=!j.isCustomEventTarget;p=p||{};p.type=u;if(n){n=p;var k;if(h(j)){n=new l(j,n);var q=n.target=j,y="on"+u;do{var x=(o._data(q)||{}).handler;n.currentTarget=q;x&&x.call(q,n);if(q[y]&&q[y].call(q)===false){k=false;n.preventDefault()}q=q.parentNode||q.ownerDocument||q===j.ownerDocument&&window}while(q&&!n.isPropagationStopped);if(!n.isDefaultPrevented)if(!(u===
"click"&&j.nodeName.toLowerCase()=="a")){var z;try{if(y&&j[u]){if(z=j[y])j[y]=null;r=u;j[u]()}}catch(A){}if(z)j[y]=z;r=t}}j=k;if(j!==c)e=j}else if((j=o._data(j))&&g.isFunction(j.handler))e=j.handler(c,p)});return e}},_batchForType:f,_simpleAdd:i,_simpleRemove:s};o.on=o.add;o.detach=o.remove;return o},{requires:["dom","event/object"]});
KISSY.add("event/target",function(g,a){return{isCustomEventTarget:true,fire:function(l,c){return a.fire(this,l,c)},on:function(l,c,f){a.add(this,l,c,f);return this},detach:function(l,c,f){a.remove(this,l,c,f);return this}}},{requires:["./base","dom"]});
KISSY.add("event/focusin",function(g,a,l){a.ie||g.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function f(b){return l.fire(b.target,c.name)}var h=0;l.special[c.name]={setup:function(){h++===0&&document.addEventListener(c.fix,f,true)},tearDown:function(){--h===0&&document.removeEventListener(c.fix,f,true)}}});return l},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(g,a,l,c){c=document.documentMode||c.ie;if(!("onhashchange"in window)||c<8){var f,h=[],b=r();a.special.hashchange={setup:function(){-1===g.indexOf(this,h)&&h.push(this);f||d()},tearDown:function(){var t=g.indexOf(this,h);t>=0&&h.splice(t,1);if(h.length===0){f&&clearTimeout(f);f=null}}};var d=function(){i()},i=function(){var t=r();if(t!==b){s(t);b=t}f=setTimeout(i,50)},s=function(t){w(t)},w=function(){for(var t=0;t<h.length;t++)a._handle(h[t],{type:"hashchange"})},
r=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")};c<8&&function(){var t;d=function(){if(!t){t=l.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');l.prepend(t,document.documentElement);a.add(t,"load",function(){a.remove(t,"load");s(r());a.add(t,"load",v);i()});var v=function(){var o=g.trim(t.contentWindow.document.body.innerHTML),m=r();if(o!=m)b=location.hash=o;w(o)}}};s=function(v){v="<html><body>"+v+"</body></html>";var o=t.contentWindow.document;
try{o.open();o.write(v);o.close();return true}catch(m){return false}}}()}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(g,a,l){function c(o){var m=l.data(o,w);if(!m){m=+new Date;l.data(o,w,m)}return m}function f(o){o=c(o);delete r[o];if(t[o]){clearTimeout(t[o]);delete t[o]}}function h(o){f(o.target)}function b(o){var m=c(o);t[m]||(t[m]=setTimeout(function(){var u=o.value;if(u!==r[m]){a._handle(o,{type:s,prevVal:r[m],newVal:u});r[m]=u}t[m]=setTimeout(arguments.callee,v)},v))}function d(o){var m=o.target;if(o.type=="focus"){o=c(m);r[o]=m.value}b(m)}function i(o){f(o);a.remove(o,
"blur",h);a.remove(o,"mousedown keyup keydown focus",d);l.removeData(o,w)}var s="valueChange",w="event/valuechange",r={},t={},v=50;a.special[s]={fix:false,setup:function(){var o=this.nodeName.toLowerCase();if("input"==o||"textarea"==o){i(this);a.on(this,"blur",h);a.on(this,"mousedown keyup keydown focus",d)}},tearDown:function(){i(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(g,a,l){function c(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function f(d,i){var s,w=a.closest(d.target,[i.selector],this);if(w)for(var r=0;r<w.length;r++){d.currentTarget=w[r];var t=i.fn.call(i.scope||this,d);if(t===false||d.isPropagationStopped||d.isImmediatePropagationStopped){if(t===false)s=t;if(d.isPropagationStopped||d.isImmediatePropagationStopped)break}}return s}
var h=l._batchForType,b={focus:"focusin",blur:"focusout"};g.mix(l,{delegate:function(d,i,s,w,r){if(h("delegate",d,i,s,w,r))return d;a.query(d).each(function(t){if(!t.isCustomEventTarget){i=b[i]||i;l.on(t,i,f,t,{fn:w,selector:s,scope:r,equals:c})}});return d},undelegate:function(d,i,s,w,r){if(h("undelegate",d,i,s,w,r))return d;a.query(d).each(function(t){if(!t.isCustomEventTarget){i=b[i]||i;l.remove(t,i,f,t,{fn:w,selector:s,scope:r,equals:c})}})}});return l},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(g,a,l,c){c.ie||g.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(f){function h(b){var d=this,i=b.relatedTarget;b.type=f.name;try{if(!(i&&i!==document&&!i.parentNode)){i=l.closest(i,function(w){return w==d});i!==d&&a._handle(d,b)}}catch(s){}}a.special[f.name]={setup:function(){a.add(this,f.fix,h)},tearDown:function(){a.remove(this,f.fix,h)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(g,a,l,c){a.Target=l;a.Object=c;return a},{requires:["event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(g,a,l){function c(b,d,i){if(!(this instanceof c))return new c(b,d,i);if(b)if(g.isString(b)){b=a.create(b,d,i);if(b.nodeType===11){f.push.apply(this,g.makeArray(b.childNodes));return l}}else if(g.isArray(b)||h(b)){f.push.apply(this,g.makeArray(b));return l}else b=b;else return l;this[0]=b;this.length=1;return l}var f=Array.prototype,h=a._isNodeList;g.augment(c,{length:0,item:function(b){if(g.isNumber(b)){if(b>=this.length)return null;return new c(this[b],l,l)}else return new c(b,
l,l)},add:function(b,d,i){if(g.isNumber(d)){i=d;d=l}b=g.makeArray(c.all(b,d));d=new c(this,l,l);if(i===l)f.push.apply(d,b);else{i=[i,0];i.push.apply(i,b);f.splice.apply(d,i)}return d},slice:function(b,d){return new c(f.slice.call(this,b,d),l,l)},getDOMNodes:function(){return f.slice.call(this)},each:function(b,d){var i=this.length,s=0,w;for(w=new c(this[0],l,l);s<i&&b.call(d||w,w,s,this)!==false;w=new c(this[++s],l,l));return this},getDOMNode:function(){return this[0]},all:function(b){if(this.length>
0)return c.all(b,this[0]);return new c(l,l,l)}});c.prototype.one=function(b){b=this.all(b);return b.length?b:null};c.all=function(b,d){if(g.isString(b)&&(b=g.trim(b))&&b.length>=3&&g.startsWith(b,"<")&&g.endsWith(b,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new c(b,l,d)}return new c(a.query(b,d),l,l)};c.one=function(b,d){var i=c.all(b,d);return i.length?i:null};return c},{requires:["dom"]});
KISSY.add("node/attach",function(g,a,l,c,f){var h=c.prototype,b=a._isNodeList;c.addMethod=function(d,i,s,w){h[d]=function(){var r=g.makeArray(arguments);r.unshift(this);r=i.apply(s||this,r);if(r===f)r=this;else if(r===null)r=null;else if(w&&(r.nodeType||b(r)||g.isArray(r)))r=new c(r);return r}};g.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","append","appendTo","prepend","prependTo","insertBefore","before","after","insertAfter","filter","test","hasClass","addClass",
"removeClass","replaceClass","toggleClass","removeAttr","attr","hasAttr","prop","hasProp","val","text","css","toggle","offset","scrollIntoView","parent","closest","next","prev","siblings","children","html","remove","removeData","hasData","unselectable"],function(d){c.addMethod(d,a[d],a,true)});c.addMethod("data",a.data,a);g.each(["on","detach","fire","delegate","undelegate"],function(d){h[d]=function(){var i=g.makeArray(arguments);i.unshift(this);return l[d].apply(l,i)}})},{requires:["dom","event",
"./base"]});KISSY.add("node/override",function(g,a,l,c){g.each(["append","prepend","before","after"],function(f){c.addMethod(f,function(h,b){var d=b;if(g.isString(d))d=a.create(d);a[f](d,h)},undefined,true)})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var g=Math,a=g.PI,l=g.pow,c=g.sin,f=1.70158,h={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(l(2,10*(b-=1))*c((b-0.075)*2*a/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return l(2,-10*b)*c((b-0.075)*2*a/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*l(2,10*(b-=1))*c((b-0.1125)*2*a/0.45);return l(2,-10*(b-=1))*c((b-0.1125)*2*a/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((f+1)*b-f)},backOut:function(b){return(b-=1)*b*((f+1)*b+f)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((f*=1.525)+1)*b-f);return 0.5*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)},bounceIn:function(b){return 1-h.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return h.bounceIn(b*2)*0.5;return h.bounceOut(b*2-1)*0.5+0.5}};h.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return h});
KISSY.add("anim/manager",function(g){function a(c){c[l]=c[l]||g.guid("anim-");return c[l]}var l=g.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(c){var f=a(c);if(!this.runnings[f]){this.runnings[f]=c;this.startTimer()}},stop:function(c){this.notRun(c)},notRun:function(c){delete this.runnings[a(c)];g.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(c){this.notRun(c)},resume:function(c){this.start(c)},startTimer:function(){var c=this;if(!c.timer)c.timer=setTimeout(function(){if(c.runFrames())c.stopTimer();
else{c.timer=null;c.startTimer()}},c.interval)},stopTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},runFrames:function(){var c=true,f=this.runnings,h;for(h in f)if(f.hasOwnProperty(h)){c=false;f[h]._runFrame()}return c}}});
KISSY.add("anim/base",function(g,a,l,c,f,h,b){function d(e,j,n,k,q,y){if(e=a.get(e)){if(!(this instanceof d))return new d(e,j,n,k,q,y);var x=g.isPlainObject(n);j=j;this.domEl=e;if(g.isPlainObject(j))j=String(g.param(j,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var z=j,A=e;e={};var B=r.length,C=A.cloneNode(true);a.insertAfter(C,A);A=C.style;for(s(C,z);B--;){var D=r[B];if(A[D])e[D]=(u[D]||u["*"]).getter(C,D)}z=w(z);for(var F in z)e[F]=(u[F]||u["*"]).getter(C,
F);a.remove(C);this.props=e;this.targetStyle=j;if(x)x=g.merge(o,n);else{x=g.clone(o);if(n)x.duration=parseFloat(n)||1;if(g.isString(k)||g.isFunction(k))x.easing=k;if(g.isFunction(q))x.complete=q;if(y!==b)x.nativeSupport=y}if(!g.isEmptyObject(w(j)))x.nativeSupport=false;this.config=x;if(x.nativeSupport&&p()&&g.isString(k=x.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(k)||(k=c.NativeTimeFunction[k])){x.easing=k;this.transitionName=p()}if(g.isFunction(q))this.callback=q}}function i(e,j){return j}function s(e,
j){if(f.ie&&j.indexOf(v)>-1){var n=j.match(/opacity\s*:\s*([^;]+)(;|$)/);n&&a.css(e,v,parseFloat(n[1]))}e.style.cssText+=";"+j;n=w(j);for(var k in n)e[k]=n[k]}function w(e){for(var j={},n=0;n<t.length;n++){var k=t[n].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(k=e.match(RegExp(k+"\\s*:([^;]+)(;|$)")))j[t[n]]=g.trim(k[1])}return j}var r,t,v,o,m;l=l.Target;r="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
t=[];v="opacity";o={duration:1,easing:"easeNone",nativeSupport:true};d.PROPS=r;d.CUSTOM_ATTRS=t;d.PROP_OPS={"*":{getter:function(e,j){var n=a.css(e,j),k=parseFloat(n);n=(n+"").replace(/^[-\d.]+/,"");if(isNaN(k))return{v:n,u:"",f:i};return{v:k,u:n,f:this.interpolate}},setter:function(e,j,n){return a.css(e,j,n)},interpolate:function(e,j,n){return(e+(j-e)*n).toFixed(3)},eq:function(e,j){return e.v==j.v&&e.u==j.u}}};var u=d.PROP_OPS;g.augment(d,l,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var e=this.config,j=this.domEl,n,k=this.props,q={},y;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=n=e.duration*1E3;if(this.transitionName)this._nativeRun();else{for(y in k)q[y]=(u[y]||u["*"]).getter(j,y);this.source=q;j=g.now();n=j+n;e=e.easing;if(g.isString(e))e=c[e]||c.easeNone;this.start=j;this.finish=n;this.easing=e;h.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var e=
this.domEl,j=this.finish,n=this.start,k=this.duration,q=g.now(),y=this.source,x=this.easing,z=this.props,A;n=q-n;k=q>j?1:n/k;var B,C;this.elapsedTime=n;for(A in z){n=y[A];B=z[A];var D;D=B;var F=n,E=u[A];D=E&&E.eq?E.eq(D,F):u["*"].eq(D,F);if(!D){if(B.v==0)B.u=n.u;if(n.u!==B.u){n.v=0;n.u=B.u}D=B.f(n.v,B.v,x(k))+B.u;(u[A]||u["*"]).setter(e,A,D);if(B.f==i){n.v=B.v;n.u=B.u}}}if(this.fire("step")===false||(C=q>j)){this.stop();C&&this._complete()}},_nativeRun:function(){var e=this,j=e.domEl,n=e.duration,
k=e.config.easing,q=e.transitionName,y={};y[q+"Property"]="all";y[q+"Duration"]=n+"ms";y[q+"TimingFunction"]=k;a.css(j,y);g.later(function(){s(j,e.targetStyle)},0);g.later(function(){e.stop(true)},n)},stop:function(e){if(this.isRunning){if(this.transitionName)this._nativeStop(e);else{if(e){s(this.domEl,this.targetStyle);this._complete()}h.stop(this)}this.isRunning=false;return this}},_nativeStop:function(e){var j=this.domEl,n=this.transitionName,k=this.props,q;if(e){a.css(j,n+"Property","none");this._complete()}else{for(q in k)a.css(j,
q,a._getComputedStyle(j,q));a.css(j,n+"Property","none")}}});d.supportTransition=function(){if(m)return m;var e="transition",j,n=document.documentElement;if(n.style[e]!==b)j=e;else g.each(["Webkit","Moz","O"],function(k){if(n.style[e=k+"Transition"]!==b){j=e;return false}});return m=j};var p=d.supportTransition;return d},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/color",function(g,a,l){function c(s){s=s.toLowerCase();var w;if(w=s.match(h))return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])];else if(w=s.match(b)){for(s=1;s<w.length;s++)if(w[s].length<2)w[s]+=w[s];return[parseInt(w[1],16),parseInt(w[2],16),parseInt(w[3],16)]}if(f[s])return f[s];return[255,255,255]}var f={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},h=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),i=l.PROP_OPS;l=l.PROPS;l.push.apply(l,d);i.color={getter:function(s,w){return{v:c(a.css(s,w)),u:"",f:this.interpolate}},setter:i["*"].setter,interpolate:function(s,w,r){var t=
i["*"].interpolate;return"rgb("+[Math.floor(t(s[0],w[0],r)),Math.floor(t(s[1],w[1],r)),Math.floor(t(s[2],w[2],r))].join(", ")+")"},eq:function(s,w){return s.v+""==w.v+""}};g.each(d,function(s){i[s]=i.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(g,a,l){var c=l.PROP_OPS;l.CUSTOM_ATTRS.push("scrollLeft","scrollTop");c.scrollLeft=c.scrollTop={getter:function(f,h){return{v:f[h],u:"",f:c["*"].interpolate}},setter:function(f,h,b){f[h]=b}}},{requires:["dom","./base"]});
KISSY.add("anim",function(g,a,l){a.Easing=l;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(g,a,l,c,f){function h(m,u,p,e,j,n,k){if(u==="toggle"){j=a.css(m,d)===i?1:0;u="show"}if(j)a.css(m,d,a.data(m,d)||"");var q={},y={};g.each(o[u],function(x){if(x===s){q[s]=a.css(m,s);a.css(m,s,w)}else if(x===r){q[r]=a.css(m,r);y.opacity=j?1:0;j&&a.css(m,r,0)}else if(x===t){q[t]=a.css(m,t);y.height=j?a.css(m,t)||m.naturalHeight:0;j&&a.css(m,t,0)}else if(x===v){q[v]=a.css(m,v);y.width=j?a.css(m,v)||m.naturalWidth:0;j&&a.css(m,v,0)}});return(new l(m,y,p,n||"easeOut",
function(){if(!j){var x=m.style,z=x[d];if(z!==i){z&&a.data(m,d,z);x[d]=i}q[t]&&a.css(m,{height:q[t]});q[v]&&a.css(m,{width:q[v]});q[r]&&a.css(m,{opacity:q[r]});q[s]&&a.css(m,{overflow:q[s]})}e&&g.isFunction(e)&&e()},k)).run()}c=c.prototype;var b="ksAnims"+g.now(),d="display",i="none",s="overflow",w="hidden",r="opacity",t="height",v="width",o={show:[s,r,t,v],fade:[r],slide:[s,t]};(function(m){function u(p,e){var j=a.data(p,b);j||a.data(p,b,j=[]);e.on("complete",function(){var n=a.data(p,b);if(n){var k=
g.indexOf(e,n);k>=0&&n.splice(k,1);n.length||a.removeData(p,b)}});j.push(e)}m.animate=function(){var p=g.makeArray(arguments);g.each(this,function(e){var j=l.apply(f,[e].concat(p)).run();u(e,j)});return this};m.stop=function(p){g.each(this,function(e){var j=a.data(e,b);if(j){g.each(j,function(n){n.stop(p)});a.removeData(e,b)}})};g.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(p,e){m[e]=function(j,n,
k,q){a[e]&&arguments.length===0?a[e](this):g.each(this,function(y){var x=h(y,p[0],j,n,p[1],k,q);u(y,x)});return this}})})(c)},{requires:["dom","anim","./base"]});KISSY.add("node",function(g,a){return a},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(g,a){function l(v){return v<10?"0"+v:v}function c(v){i.lastIndex=0;return i.test(v)?'"'+v.replace(i,function(o){var m=r[o];return typeof m==="string"?m:"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function f(v,o){var m,u,p,e,j=s,n,k=o[v];if(k&&typeof k==="object"&&typeof k.toJSON==="function")k=k.toJSON(v);if(typeof t==="function")k=t.call(o,v,k);switch(typeof k){case "string":return c(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);
case "object":if(!k)return"null";s+=w;n=[];if(Object.prototype.toString.apply(k)==="[object Array]"){e=k.length;for(m=0;m<e;m+=1)n[m]=f(m,k)||"null";p=n.length===0?"[]":s?"[\n"+s+n.join(",\n"+s)+"\n"+j+"]":"["+n.join(",")+"]";s=j;return p}if(t&&typeof t==="object"){e=t.length;for(m=0;m<e;m+=1){u=t[m];if(typeof u==="string")if(p=f(u,k))n.push(c(u)+(s?": ":":")+p)}}else for(u in k)if(Object.hasOwnProperty.call(k,u))if(p=f(u,k))n.push(c(u)+(s?": ":":")+p);p=n.length===0?"{}":s?"{\n"+s+n.join(",\n"+s)+
"\n"+j+"}":"{"+n.join(",")+"}";s=j;return p}}var h=window,b=h.JSON;if(!b||a.ie<9)b=h.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s,w,r={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof b.stringify!=="function")b.stringify=function(v,o,m){var u;w=s="";if(typeof m==="number")for(u=0;u<m;u+=1)w+=" ";else if(typeof m==="string")w=m;if((t=o)&&typeof o!=="function"&&(typeof o!=="object"||typeof o.length!=="number"))throw Error("JSON.stringify");return f("",{"":v})};if(typeof b.parse!==
"function")b.parse=function(v,o){function m(p,e){var j,n,k=p[e];if(k&&typeof k==="object")for(j in k)if(Object.hasOwnProperty.call(k,j)){n=m(k,j);if(n!==undefined)k[j]=n;else delete k[j]}return o.call(p,e,k)}var u;v=String(v);d.lastIndex=0;if(d.test(v))v=v.replace(d,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(v.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){u=eval("("+v+")");return typeof o==="function"?m({"":u},""):u}throw new SyntaxError("JSON.parse");};return b},{requires:["ua"]});KISSY.add("json",function(g,a){return{parse:function(l){if(l==null||l==="")return null;return a.parse(l)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(g,a){function l(h){var b=h.responseText,d=h.responseXML,i=h.config,s=i.converters,w=h.converters||{},r,t,v=i.contents,o=i.dataType;if(b||d){for(i=h.mimeType||h.getResponseHeader("Content-Type");o[0]=="*";)o.shift();if(!o.length)for(r in v)if(v[r].test(i)){o[0]!=r&&o.unshift(r);break}o[0]=o[0]||"text";if(o[0]=="text"&&b!=undefined)t=b;else if(o[0]=="xml"&&d!=undefined)t=d;else g.each(["text","xml"],function(u){var p=o[0];if(w[u]&&w[u][p]||s[u]&&s[u][p]){o.unshift(u);
t=u=="text"?b:d;return false}})}v=o[0];for(i=1;i<o.length;i++){r=o[i];var m=w[v]&&w[v][r]||s[v]&&s[v][r];if(!m)throw"no covert for "+v+" => "+r;t=m(t);v=r}h.responseData=t}function c(h){g.mix(this,{responseData:null,config:h||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var f=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;g.augment(c,a.Target,{setRequestHeader:function(h,b){this.requestHeaders[h]=
b;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(h){var b;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};b=f.exec(this.responseHeadersString);)this.responseHeaders[b[1]]=b[2];b=this.responseHeaders[h]}return b===undefined?null:b},overrideMimeType:function(h){if(!this.state)this.mimeType=h;return this},abort:function(h){h=h||"abort";this.transport&&this.transport.abort(h);this.callback(0,h);return this},
callback:function(h,b){if(this.state!=2){this.state=2;this.readyState=4;var d;if(h>=200&&h<300||h==304)if(h==304){b="notmodified";d=true}else try{l(this);b="success";d=true}catch(i){b="parsererror : "+i}else if(h<0)h=0;this.status=h;this.statusText=b;d?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return c},{requires:["event"]});
KISSY.add("ajax/base",function(g,a,l,c){function f(p){p=g.mix(g.clone(u),p||{},undefined,undefined,true);if(p.crossDomain==null){var e=s.exec(p.url.toLowerCase());p.crossDomain=!!(e&&(e[1]!=v[1]||e[2]!=v[2]||(e[3]||(e[1]==="http:"?80:443))!=(v[3]||(v[1]==="http:"?80:443))))}if(p.data&&!g.isString(p.data))p.data=g.param(p.data,undefined,undefined,p.serializeArray);p.type=p.type.toUpperCase();p.hasContent=!r.test(p.type);if(!p.hasContent){if(p.data)p.url+=(/\?/.test(p.url)?"&":"?")+p.data;if(p.cache===
false)p.url+=(/\?/.test(p.url)?"&":"?")+"_ksTS="+(g.now()+"_"+g.guid())}p.dataType=g.trim(p.dataType||"*").split(i);p.context=p.context||p;return p}function h(p,e){d.fire(p,{ajaxConfig:e.config,xhr:e})}function b(p){var e=this.config;p=p.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);e[p]&&e[p].call(e.context,this.responseData,this.statusText,this);h(p,this)}function d(p){if(p.url){p=f(p);var e=new c(p);h("start",e);var j=new (m[p.dataType[0]]||m["*"])(e);e.transport=j;p.contentType&&e.setRequestHeader("Content-Type",
p.contentType);var n=p.dataType[0],k=p.accepts;e.setRequestHeader("Accept",n&&k[n]?k[n]+(n!=="*"?", */*; q=0.01":""):k["*"]);for(var q in p.headers)e.setRequestHeader(q,p.headers[q]);e.on("complete success error",b);e.readyState=1;h("send",e);if(p.async&&p.timeout>0)e.timeoutTimer=setTimeout(function(){e.abort("timeout")},p.timeout);try{e.state=1;j.send()}catch(y){e.status<2?e.callback(-1,y):g.error(y)}return e}}var i=/\s+/,s=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,w=function(p){return p},
r=/^(?:GET|HEAD)$/,t,v;try{t=location.href}catch(o){t=document.createElement("a");t.href="";t=t.href}v=s.exec(t);t=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(v[1]);var m={},u={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,html:w,text:w,xml:g.parseXML}},contents:{xml:/xml/,
html:/html/,json:/json/}};u.converters.html=u.converters.text;g.mix(d,l.Target);g.mix(d,{isLocal:t,setupConfig:function(p){g.mix(u,p,undefined,undefined,true)},setupTransport:function(p,e){m[p]=e},getTransport:function(p){return m[p]},getConfig:function(){return u}});return d},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(g,a){function l(){try{return new window.XMLHttpRequest}catch(h){}}a.xhr=window.ActiveXObject?function(h){var b;if(a.isLocal&&!h)a:{try{b=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b||l()}:l;var c=a.xhr(),f=false;if(c){if("withCredentials"in c)f=true;c=function(h){this.xhrObj=h};g.augment(c,{send:function(){var h=this,b=h.xhrObj,d=b.config;if(d.crossDomain&&!f)g.error("do not allow crossdomain xhr !");else{var i=a.xhr(),s,w;h.xhr=i;
d.username?i.open(d.type,d.url,d.async,d.username,d.password):i.open(d.type,d.url,d.async);if(s=d.xhrFields)for(w in s)i[w]=s[w];b.mimeType&&i.overrideMimeType&&i.overrideMimeType(b.mimeType);if(!d.crossDomain&&!b.requestHeaders["X-Requested-With"])b.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(w in b.requestHeaders)i.setRequestHeader(w,b.requestHeaders[w])}catch(r){}i.send(d.hasContent&&d.data||null);if(!d.async||i.readyState==4)h._callback();else i.onreadystatechange=function(){h._callback()}}},
abort:function(){this._callback(0,1)},_callback:function(h,b){try{var d=this.xhr,i=this.xhrObj,s=i.config;if(b||d.readyState==4){d.onreadystatechange=g.noop;if(b)d.readyState!==4&&d.abort();else{var w=d.status;i.responseHeadersString=d.getAllResponseHeaders();var r=d.responseXML;if(r&&r.documentElement)i.responseXML=r;i.responseText=d.responseText;try{var t=d.statusText}catch(v){t=""}if(!w&&a.isLocal&&!s.crossDomain)w=i.responseText?200:404;else if(w===1223)w=204;i.callback(w,t)}}}catch(o){d.onreadystatechange=
g.noop;b||i.callback(-1,o)}}});a.setupTransport("*",c);return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(g,a){function l(c){if(!c.config.crossDomain&&!c.config.forceScript)return new (a.getTransport("*"))(c);this.xhrObj=c;return 0}a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(c){g.globalEval(c);return c}}}});g.augment(l,{send:function(){var c=this,f,h=this.xhrObj.config,b=document.head||document.getElementsByTagName("head")[0]||
document.documentElement;c.head=b;f=document.createElement("script");c.script=f;f.async="async";if(h.scriptCharset)f.charset=h.scriptCharset;f.src=h.url;f.onerror=f.onload=f.onreadystatechange=function(d){d=d||window.event;c._callback((d.type||"error").toLowerCase())};b.insertBefore(f,b.firstChild)},_callback:function(c,f){var h=this.script,b=this.xhrObj,d=this.head;if(f||!h.readyState||/loaded|complete/.test(h.readyState)||c=="error"){h.onerror=h.onload=h.onreadystatechange=null;d&&h.parentNode&&
d.removeChild(h);this.head=this.script=undefined;if(!f&&c!="error")b.callback(200,"success");else c=="error"&&b.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",l);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(g,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return g.guid("jsonp")}});a.on("start",function(l){l=l.xhr;var c=l.config;if(c.dataType[0]=="jsonp"){var f,h=c.jsonpCallback,b=g.isFunction(h)?h():h,d=window[b];c.url+=(/\?/.test(c.url)?"&":"?")+c.jsonp+"="+b;window[b]=function(i){f=[i]};l.on("complete",function(){window[b]=d;if(d===undefined)try{delete window[b]}catch(i){}else f&&d(f[0])});l.converters=l.converters||{};l.converters.script=l.converters.script||
{};l.converters.script.json=function(){f||g.error(" not call jsonpCallback : "+b);return f[0]};c.dataType.length=2;c.dataType[0]="script";c.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(g,a){return{serialize:function(l){l=a.get(l);var c={};g.each(l.elements,function(f){f.disabled||(c[f.name]=a.val(f))});return g.param(c,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/form",function(g,a,l,c){a.on("start",function(f){f=f.xhr.config;if(f.form){var h=l.get(f.form);if((h.encoding||h.enctype).toLowerCase()!="multipart/form-data"){if(h=c.serialize(h))if(f.hasContent){f.data=f.data||"";if(f.data)f.data+="&";f.data+=h}else f.url+=(/\?/.test(f.url)?"&":"?")+h}else{h=f.dataType[0];if(h=="*")h="text";f.dataType.length=2;f.dataType[0]="iframe";f.dataType[1]=h}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(g,a,l,c){function f(b){this.xhr=b}var h=document;c.setupConfig({converters:{iframe:c.getConfig().converters.text,text:{iframe:function(b){return b}}}});g.augment(f,{send:function(){var b=this.xhr,d=b.config,i,s=a.get(d.form);this.attrs={target:a.attr(s,"target")||"",action:a.attr(s,"action")||""};this.form=s;var w=g.guid("ajax-iframe");b.iframe=a.create("<iframe  id='"+w+"' name='"+w+"' style='position:absolute;left:-9999px;top:-9999px;'/>");b.iframeId=w;a.prepend(b.iframe,
h.body||h.documentElement);a.attr(s,{target:b.iframeId,action:d.url});if(d.data){i=d.data;d=d.serializeArray;i=g.unparam(i);w=[];for(var r in i)for(var t=g.makeArray(i[r]),v=0;v<t.length;v++){var o=h.createElement("input");o.type="hidden";o.name=r+(d?"[]":"");o.value=t[v];a.append(o,s);w.push(o)}i=w}this.fields=i;l.on(b.iframe,"load error",this._callback,this);s.submit()},_callback:function(b){var d=this.xhr,i=b.type;b=d.iframe;a.attr(this.form,this.attrs);if(i=="load"){i=b.contentWindow.document;
d.responseXML=i;d.responseText=a.text(i.body);d.callback(200,"success")}else i=="error"&&d.callback(500,"error");a.remove(this.fields);l.detach(b);a.remove(b);d.iframe=null},abort:function(){this._callback(0,1)}});c.setupTransport("iframe",f);return c},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(g,a){g.mix(a,{get:function(l,c,f,h,b){if(g.isFunction(c)){h=f;f=c}return a({type:b||"get",url:l,data:c,success:f,dataType:h})},post:function(l,c,f,h){if(g.isFunction(c)){h=f;f=c;c=undefined}return a.get(l,c,f,h,"post")},jsonp:function(l,c,f){if(g.isFunction(c)){f=c;c=null}return a.get(l,c,f,"jsonp")},getScript:g.getScript,getJSON:function(l,c,f){return a.get(l,c,f,"json")},upload:function(l,c,f,h,b){if(g.isFunction(f)){h=f;f=null}return a({url:l,type:"post",dataType:b,form:c,
data:f,success:h})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(g,a){function l(){this.__attrs={};this.__attrVals={}}function c(f){f+="";return f.charAt(0).toUpperCase()+f.substring(1)}g.augment(l,{__getDefAttrs:function(){return g.clone(this.__attrs)},addAttr:function(f,h,b){if(this.__attrs[f])g.mix(this.__attrs[f],h,b);else this.__attrs[f]=g.clone(h||{});return this},hasAttr:function(f){return f&&this.__attrs.hasOwnProperty(f)},removeAttr:function(f){if(this.hasAttr(f)){delete this.__attrs[f];delete this.__attrVals[f]}return this},
set:function(f,h){var b=this.get(f);if(b!==h)if(false!==this.__fireAttrChange("before",f,b,h)){this.__set(f,h);this.__fireAttrChange("after",f,b,this.__attrVals[f]);return this}},__fireAttrChange:function(f,h,b,d){return this.fire(f+c(h)+"Change",{attrName:h,prevVal:b,newVal:d})},__set:function(f,h){var b,d=this.__attrs[f];if(d=d&&d.setter)b=d.call(this,h);if(b!==a)h=b;this.__attrVals[f]=h},get:function(f){var h;h=(h=this.__attrs[f])&&h.getter;f=f in this.__attrVals?this.__attrVals[f]:this.__getDefAttrVal(f);
if(h)f=h.call(this,f);return f},__getDefAttrVal:function(f){f=this.__attrs[f];var h;if(f){if(h=f.valueFn){h=h.call(this);if(h!==a)f.value=h;delete f.valueFn}return f.value}},reset:function(f){if(this.hasAttr(f))return this.set(f,this.__getDefAttrVal(f));for(f in this.__attrs)this.hasAttr(f)&&this.reset(f);return this}});l.__capitalFirst=c;return l});
KISSY.add("base/base",function(g,a,l){function c(f){a.call(this);for(var h=this.constructor;h;){var b=h.ATTRS;if(b){var d=void 0;for(d in b)b.hasOwnProperty(d)&&this.addAttr(d,b[d],false)}h=h.superclass?h.superclass.constructor:null}if(f)for(var i in f)f.hasOwnProperty(i)&&this.__set(i,f[i])}g.augment(c,l.Target,a);return c},{requires:["./attribute","event"]});KISSY.add("base",function(g,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(g){var a=document,l=encodeURIComponent,c=decodeURIComponent;return{get:function(f){var h;if(g.isString(f)&&f!=="")if(f=String(a.cookie).match(RegExp("(?:^| )"+f+"(?:(?:=([^;]*))|;|$)")))h=f[1]?c(f[1]):"";return h},set:function(f,h,b,d,i,s){h=String(l(h));var w=b;if(typeof w==="number"){w=new Date;w.setTime(w.getTime()+b*864E5)}if(w instanceof Date)h+="; expires="+w.toUTCString();if(g.isString(d)&&d!=="")h+="; domain="+d;if(g.isString(i)&&i!=="")h+="; path="+i;if(s)h+=
"; secure";a.cookie=f+"="+h},remove:function(f,h,b,d){this.set(f,"",-1,h,b,d)}}});KISSY.add("cookie",function(g,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(g,a,l,c,f,h,b,d,i,s){b.getScript=g.getScript;a={UA:a,DOM:l,Event:c,EventTarget:c.Target,EventObject:c.Object,Node:f,NodeList:f,JSON:h,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:d,Easing:d.Easing,Base:i,Cookie:s,one:f.one,all:f.all,get:l.get,query:l.query};g.mix(g,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
