/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var g=navigator.userAgent,b="",s="",h,e={},j=function(c){var f=0;return parseFloat(c.replace(/\./g,function(){return f++===0?".":""}))};if((h=g.match(/AppleWebKit\/([\d.]*)/))&&h[1]){e[b="webkit"]=j(h[1]);if((h=g.match(/Chrome\/([\d.]*)/))&&h[1])e[s="chrome"]=j(h[1]);else if((h=g.match(/\/([\d.]*) Safari/))&&h[1])e[s="safari"]=j(h[1]);if(/ Mobile\//.test(g))e.mobile="apple";else if(h=g.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=h[0].toLowerCase()}else if((h=
g.match(/Presto\/([\d.]*)/))&&h[1]){e[b="presto"]=j(h[1]);if((h=g.match(/Opera\/([\d.]*)/))&&h[1]){e[s="opera"]=j(h[1]);if((h=g.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])e[s]=j(h[1]);if((h=g.match(/Opera Mini[^;]*/))&&h)e.mobile=h[0].toLowerCase();else if((h=g.match(/Opera Mobi[^;]*/))&&h)e.mobile=h[0]}}else if((h=g.match(/MSIE\s([^;]*)/))&&h[1]){e[b="trident"]=0.1;e[s="ie"]=j(h[1]);if((h=g.match(/Trident\/([\d.]*)/))&&h[1])e[b]=j(h[1])}else if(h=g.match(/Gecko/)){e[b="gecko"]=0.1;if((h=g.match(/rv:([\d.]*)/))&&
h[1])e[b]=j(h[1]);if((h=g.match(/Firefox\/([\d.]*)/))&&h[1])e[s="firefox"]=j(h[1])}e.core=b;e.shell=s;e._numberify=j;return e});
KISSY.add("ua/extra",function(g,b){var s=navigator.userAgent,h,e,j={},c=b._numberify;if(s.match(/360SE/))j[e="se360"]=3;else if(s.match(/Maxthon/)&&(h=window.external)){e="maxthon";try{j[e]=c(h.max_version)}catch(f){j[e]=0.1}}else if(h=s.match(/TencentTraveler\s([\d.]*)/))j[e="tt"]=h[1]?c(h[1]):0.1;else if(s.match(/TheWorld/))j[e="theworld"]=3;else if(h=s.match(/SE\s([\d.]*)/))j[e="sougou"]=h[1]?c(h[1]):0.1;e&&(j.shell=e);g.mix(b,j);return b},{requires:["ua/base"]});
KISSY.add("ua",function(g,b){return b},{requires:["ua/extra"]});KISSY.add("dom/base",function(g,b){function s(h,e){return h&&h.nodeType===e}return{_isElementNode:function(h){return s(h,1)},_getWin:function(h){return h&&"scrollTo"in h&&h.document?h:s(h,9)?h.defaultView||h.parentWindow:h==b?window:false},_nodeTypeIs:s,_isNodeList:function(h){return h&&!h.nodeType&&h.item&&!h.setTimeout}}});
KISSY.add("dom/attr",function(g,b,s,h){function e(i){if(g.isArray(i)){for(var a=0;a<i.length;a++)i[a]=e(i[a]);return i}else return i+l}var j=document.documentElement,c=!j.hasAttribute,f=j.textContent!==h?"textContent":"innerText",l="",v=b._isElementNode,o=/^(?:href|src|style)/,t=/^(?:href|src|colspan|rowspan)/,x=/\r/g,z=/^(?:radio|checkbox)/,m={readonly:"readOnly"},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};c&&g.mix(m,{"for":"htmlFor","class":"className"});var n={tabindex:{getter:function(i){return i.tabIndex},
setter:function(i,a){if(isNaN(parseInt(a))){i.removeAttribute("tabindex");i.removeAttribute("tabIndex")}else i.tabIndex=a}},style:{getter:function(i){return i.style.cssText},setter:function(i,a){i.style.cssText=a}},checked:{setter:function(i,a){i.checked=!!a}},disabled:{setter:function(i,a){i.disabled=!!a}}};g.mix(b,{attr:function(i,a,d,k){if(g.isPlainObject(a)){k=d;for(var q in a)b.attr(i,q,a[q],k)}else if(a=g.trim(a)){a=a.toLowerCase();if(k&&r[a])return b[a](i,d);a=m[a]||a;var p=n[a];if(d===h){i=
b.get(i);if(!v(i))return null;if(p&&p.getter)return p.getter(i);var w;o.test(a)||(w=i[a]);if(w===h)w=i.getAttribute(a);if(c)if(t.test(a))w=i.getAttribute(a,2);return w===h?null:w}else g.each(b.query(i),function(y){if(v(y))p&&p.setter?p.setter(y,d):y.setAttribute(a,l+d)})}},removeAttr:function(i,a){a=a.toLowerCase();g.each(b.query(i),function(d){if(v(d)){b.attr(d,a,l);d.removeAttribute(a)}})},hasAttr:c?function(i,a){a=a.toLowerCase();var d=b.get(i).getAttributeNode(a);return!!(d&&d.specified)}:function(i,
a){a=a.toLowerCase();return b.get(i).hasAttribute(a)},val:function(i,a){if(a===h){var d=b.get(i);if(!v(d))return null;if(d&&d.nodeName.toUpperCase()==="option".toUpperCase())return(d.attributes.value||{}).specified?d.value:d.text;if(d&&d.nodeName.toUpperCase()==="select".toUpperCase()){var k=d.selectedIndex,q=d.options;if(k<0)return null;else if(d.type==="select-one")return b.val(q[k]);d=[];for(var p=0,w=q.length;p<w;++p)q[p].selected&&d.push(b.val(q[p]));return d}if(s.webkit&&z.test(d.type))return d.getAttribute("value")===
null?"on":d.value;return(d.value||l).replace(x,l)}g.each(b.query(i),function(y){if(y&&y.nodeName.toUpperCase()==="select".toUpperCase()){a=e(a);var u=g.makeArray(a),A=y.options,B;p=0;for(w=A.length;p<w;++p){B=A[p];B.selected=g.inArray(b.val(B),u)}if(!u.length)y.selectedIndex=-1}else if(v(y))y.value=a})},text:function(i,a){if(a===h){var d=b.get(i);if(v(d))return d[f]||l;else if(b._nodeTypeIs(d,3))return d.nodeValue;return null}else g.each(b.query(i),function(k){if(v(k))k[f]=a;else if(b._nodeTypeIs(k,
3))k.nodeValue=a})}});return b},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(g,b,s){function h(c,f,l,v){if(!(f=g.trim(f)))return v?false:s;c=b.query(c);var o=0,t=c.length,x=f.split(e);for(f=[];o<x.length;o++){var z=g.trim(x[o]);z&&f.push(z)}for(o=0;o<t;o++){x=c[o];if(b._isElementNode(x)){x=l(x,f,f.length);if(x!==s)return x}}if(v)return false;return s}var e=/[\.\s]\s*\.?/,j=/[\n\t]/g;g.mix(b,{hasClass:function(c,f){return h(c,f,function(l,v,o){if(l=l.className){l=" "+l+" ";for(var t=0,x=true;t<o;t++)if(l.indexOf(" "+v[t]+" ")<0){x=false;break}if(x)return true}},
true)},addClass:function(c,f){h(c,f,function(l,v,o){var t=l.className;if(t){var x=" "+t+" ";t=t;for(var z=0;z<o;z++)if(x.indexOf(" "+v[z]+" ")<0)t+=" "+v[z];l.className=g.trim(t)}else l.className=f},s)},removeClass:function(c,f){h(c,f,function(l,v,o){var t=l.className;if(t)if(o){t=(" "+t+" ").replace(j," ");for(var x=0,z;x<o;x++)for(z=" "+v[x]+" ";t.indexOf(z)>=0;)t=t.replace(z," ");l.className=g.trim(t)}else l.className=""},s)},replaceClass:function(c,f,l){b.removeClass(c,f);b.addClass(c,l)},toggleClass:function(c,
f,l){var v=g.isBoolean(l),o;h(c,f,function(t,x,z){for(var m=0,r;m<z;m++){r=x[m];o=v?!l:b.hasClass(t,r);b[o?"removeClass":"addClass"](t,r)}},s)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(g,b,s,h){function e(p,w){var y=null,u,A;if(p&&(p.push||p.item)&&p[0]){w=w||p[0].ownerDocument;y=w.createDocumentFragment();if(p.item)p=g.makeArray(p);u=0;for(A=p.length;u<A;u++)y.appendChild(p[u])}return y}function j(p,w,y,u){if(y){var A=g.guid("ks-tmp-"),B=RegExp(z);w+='<span id="'+A+'"></span>';g.available(A,function(){var C=b.get("head"),D,F,G,E,J,I;for(B.lastIndex=0;D=B.exec(w);)if((G=(F=D[1])?F.match(r):false)&&G[2]){D=f.createElement("script");D.src=G[2];if((E=
F.match(n))&&E[2])D.charset=E[2];D.async=true;C.appendChild(D)}else if((I=D[2])&&I.length>0)g.globalEval(I);(J=f.getElementById(A))&&b.remove(J);g.isFunction(u)&&u()});c(p,w)}else{c(p,w);g.isFunction(u)&&u()}}function c(p,w){w=(w+"").replace(z,"");try{p.innerHTML=w}catch(y){for(;p.firstChild;)p.removeChild(p.firstChild);w&&p.appendChild(b.create(w))}}var f=document,l=s.ie,v=b._nodeTypeIs,o=b._isElementNode,t=f.createElement("div"),x=/<(\w+)/,z=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,
m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,r=/\ssrc=(['"])(.*?)\1/i,n=/\scharset=(['"])(.*?)\1/i;g.mix(b,{create:function(p,w,y){if(v(p,1)||v(p,3)){w=p;y=w.cloneNode(true);if(s.ie<8)y.innerHTML=w.innerHTML;return y}if(!(p=g.trim(p)))return null;var u=null;u=b._creators;var A,B="div",C;if(A=m.exec(p))u=(y||f).createElement(A[1]);else{if((A=x.exec(p))&&(C=A[1])&&g.isFunction(u[C=C.toLowerCase()]))B=C;p=u[B](p,y).childNodes;u=p.length===1?p[0].parentNode.removeChild(p[0]):e(p,y||f)}y=u;o(y)&&g.isPlainObject(w)&&
b.attr(y,w,true);return y},_creators:{div:function(p,w){var y=w?w.createElement("div"):t;y.innerHTML=p;return y}},html:function(p,w,y,u){if(w===h){p=b.get(p);if(o(p))return p.innerHTML;return null}else g.each(b.query(p),function(A){o(A)&&j(A,w,y,u)})},remove:function(p){g.each(b.query(p),function(w){w.parentNode&&w.parentNode.removeChild(w)})},_nl2frag:e});if(l||s.gecko||s.webkit){var i=b._creators,a=b.create,d=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,k={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"},q;for(q in k)(function(p){i[q]=function(w,y){return a("<"+p+">"+w+"</"+p+">",null,y)}})(k[q]);if(l){i.script=function(p,w){var y=w?w.createElement("div"):t;y.innerHTML="-"+p;y.removeChild(y.firstChild);return y};if(l<8)i.tbody=function(p,w){var y=a("<table>"+p+"</table>",null,w),u=y.children.tags("tbody")[0];y.children.length>1&&u&&!d.test(p)&&u.parentNode.removeChild(u);return y}}g.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,caption:i.tbody,
colgroup:i.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(g,b,s){var h=window,e="_ks_data_"+g.now(),j={},c={},f={};f.applet=1;f.object=1;f.embed=1;g.mix(b,{hasData:function(l,v){var o=b.get(l),t;if(!o||o.nodeName&&f[o.nodeName.toLowerCase()])return false;if(o==h)o=c;t=o&&o.nodeType;if(o=(t?j:o)[t?o[e]:e])if(v!==s){if(v in o)return true}else return true;return false},data:function(l,v,o){if(g.isPlainObject(v))for(var t in v)b.data(l,t,v[t]);else if(o===s){l=b.get(l);if(!l||l.nodeName&&f[l.nodeName.toLowerCase()])return null;
if(l==h)l=c;t=l&&l.nodeType;t=l=(t?j:l)[t?l[e]:e];if(g.isString(v)&&l)t=l[v];return t===s?null:t}else b.query(l).each(function(x){if(!(!x||x.nodeName&&f[x.nodeName.toLowerCase()])){if(x==h)x=c;var z=j,m;if(x&&x.nodeType){if(!(m=x[e]))m=x[e]=g.guid()}else{m=e;z=x}if(v&&o!==s){z[m]||(z[m]={});z[m][v]=o}}})},removeData:function(l,v){b.query(l).each(function(o){if(o){if(o==h)o=c;var t,x=j,z,m=o&&o.nodeType;if(m)t=o[e];else{x=o;t=e}if(t){z=x[t];if(v){if(z){delete z[v];g.isEmptyObject(z)&&b.removeData(o)}}else{if(m)o.removeAttribute&&
o.removeAttribute(e);else try{delete o[e]}catch(r){}m&&delete x[t]}}}})}});return b},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(g,b){function s(e,j,c){e=b.query(e);j=b.query(j);if(e=h(e)){var f;if(j.length>1)f=e.cloneNode(true);for(var l=0;l<j.length;l++){var v=j[l],o=l>0?f.cloneNode(true):e;c(o,v)}}}var h=b._nl2frag;g.mix(b,{insertBefore:function(e,j){s(e,j,function(c,f){f.parentNode&&f.parentNode.insertBefore(c,f)})},insertAfter:function(e,j){s(e,j,function(c,f){f.parentNode&&f.parentNode.insertBefore(c,f.nextSibling)})},append:function(e,j){s(e,j,function(c,f){f.appendChild(c)})},prepend:function(e,
j){s(e,j,function(c,f){f.insertBefore(c,f.firstChild)})}});b.prependTo=b.prepend;b.appendTo=b.append;return b},{requires:["dom/base"]});
KISSY.add("dom/offset",function(g,b,s,h){function e(a){var d=0,k=0,q=l(a[x]);if(a[i]){a=a[i]();d=a[z];k=a[m];if(s.mobile!=="apple"){d+=b[r](q);k+=b[n](q)}}return{left:d,top:k}}var j=window,c=b._isElementNode,f=b._nodeTypeIs,l=b._getWin,v=document.compatMode==="CSS1Compat",o=Math.max,t=parseInt,x="ownerDocument",z="left",m="top",r="scrollLeft",n="scrollTop",i="getBoundingClientRect";g.mix(b,{offset:function(a,d){if(!(a=b.get(a))||!a[x])return null;if(d===h)return e(a);var k=a;if(b.css(k,"position")===
"static")k.style.position="relative";var q=e(k),p={},w,y;for(y in d){w=t(b.css(k,y),10)||0;p[y]=w+d[y]-q[y]}b.css(k,p)},scrollIntoView:function(a,d,k,q){if((a=b.get(a))&&a[x]){q=q===h?true:!!q;k=k===h?true:!!k;if(!d||d===j)a.scrollIntoView(k);else{d=b.get(d);if(f(d,9))d=l(d);var p=!!l(d),w=b.offset(a),y=p?{left:b.scrollLeft(d),top:b.scrollTop(d)}:b.offset(d),u={left:w[z]-y[z],top:w[m]-y[m]};w=p?b.viewportHeight(d):d.clientHeight;p=p?b.viewportWidth(d):d.clientWidth;y=b[r](d);var A=b[n](d),B=y+p,C=
A+w,D=a.offsetHeight;a=a.offsetWidth;var F=u.left+y-(t(b.css(d,"borderLeftWidth"))||0);u=u.top+A-(t(b.css(d,"borderTopWidth"))||0);var G=F+a,E=u+D,J,I;if(D>w||u<A||k)J=u;else if(E>C)J=E-w;if(q)if(a>p||F<y||k)I=F;else if(G>B)I=G-p;b[n](d,J);b[r](d,I)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});g.each(["Left","Top"],function(a,d){var k="scroll"+a;b[k]=function(q,p){if(g.isNumber(q))arguments.callee(j,q);else{q=b.get(q);var w=0,y=l(q);if(y){if(p!==h){w=a=="Left"?p:b.scrollLeft(y);var u=
a=="Top"?p:b.scrollTop(y);y.scrollTo(w,u)}w=y.document;w=y[d?"pageYOffset":"pageXOffset"]||w.documentElement[k]||w.body[k]}else if(c(q=b.get(q)))w=p!==h?q[k]=p:q[k];return p===h?w:h}}});g.each(["Width","Height"],function(a){b["doc"+a]=function(d){d=b.get(d);d=l(d).document;return o(v?d.documentElement["scroll"+a]:d.body["scroll"+a],b["viewport"+a](d))};b["viewport"+a]=function(d){d=b.get(d);var k="inner"+a;d=l(d);var q=d.document;return k in d?d[k]:v?q.documentElement["client"+a]:q.body["client"+
a]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/style",function(g,b,s,h){function e(i,a){var d=b.get(i),k=a===l?d.offsetWidth:d.offsetHeight;g.each(a===l?["Left","Right"]:["Top","Bottom"],function(q){k-=parseFloat(b._getComputedStyle(d,"padding"+q))||0;k-=parseFloat(b._getComputedStyle(d,"border"+q+"Width"))||0});return k}function j(i,a,d){var k=d;if(d===v&&t.test(a)){k=0;if(g.inArray(b.css(i,"position"),["absolute","fixed"])){d=i[a==="left"?"offsetLeft":"offsetTop"];if(s.ie===8||s.opera)d-=o(b.css(i.offsetParent,"border-"+a+"-width"))||
0;k=d-(o(b.css(i,"margin-"+a))||0)}}return k}var c=document,f=c.documentElement,l="width",v="auto",o=parseInt,t=/^(?:left|top)/,x=/^(?:width|height|top|left|right|bottom|margin|padding)/i,z=/-([a-z])/ig,m=function(i,a){return a.toUpperCase()},r={},n={};g.mix(b,{_CUSTOM_STYLES:r,_getComputedStyle:function(i,a){var d="",k=i.ownerDocument;if(i.style)d=k.defaultView.getComputedStyle(i,null)[a];return d},css:function(i,a,d){if(g.isPlainObject(a))for(var k in a)b.css(i,k,a[k]);else{if(a.indexOf("-")>0)a=
a.replace(z,m);k=a;a=r[a]||a;if(d===h){i=b.get(i);var q="";if(i&&i.style){q=a.get?a.get(i,k):i.style[a];if(q===""&&!a.get)q=j(i,a,b._getComputedStyle(i,a))}return q===h?"":q}else{if(d===null||d==="")d="";else if(!isNaN(new Number(d))&&x.test(a))d+="px";(a===l||a==="height")&&parseFloat(d)<0||g.each(b.query(i),function(p){if(p&&p.style){a.set?a.set(p,d):p.style[a]=d;if(d==="")p.style.cssText||p.removeAttribute("style")}})}}},width:function(i,a){if(a===h)return e(i,l);else b.css(i,l,a)},height:function(i,
a){if(a===h)return e(i,"height");else b.css(i,"height",a)},show:function(i){b.query(i).each(function(a){if(a){a.style.display=b.data(a,"display")||"";if(b.css(a,"display")==="none"){var d=a.tagName,k=n[d],q;if(!k){q=c.createElement(d);c.body.appendChild(q);k=b.css(q,"display");b.remove(q);n[d]=k}b.data(a,"display",k);a.style.display=k}}})},hide:function(i){b.query(i).each(function(a){if(a){var d=a.style,k=d.display;if(k!=="none"){k&&b.data(a,"display",k);d.display="none"}}})},toggle:function(i){b.query(i).each(function(a){if(a)b.css(a,
"display")==="none"?b.show(a):b.hide(a)})},addStyleSheet:function(i,a,d){if(g.isString(i)){d=a;a=i;i=window}i=b._getWin(i).document;var k;if(d&&(d=d.replace("#","")))k=b.get("#"+d,i);if(!k){k=b.create("<style>",{id:d},i);b.get("head",i).appendChild(k);if(k.styleSheet)k.styleSheet.cssText=a;else k.appendChild(i.createTextNode(a))}},unselectable:function(i){b.query(i).each(function(a){if(a)if(s.gecko)a.style.MozUserSelect="none";else if(s.webkit)a.style.KhtmlUserSelect="none";else if(s.ie||s.opera){var d=
0,k=a.getElementsByTagName("*");for(a.setAttribute("unselectable","on");a=k[d++];)switch(a.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:a.setAttribute("unselectable","on")}}})}});if(f.style.cssFloat!==h)r["float"]="cssFloat";else if(f.style.styleFloat!==h)r["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(g,b,s){function h(m,r){var n,i,a=[],d;i=g.require("sizzle");r=e(r);if(g.isString(m))if(m.indexOf(",")!=-1){n=m.split(",");g.each(n,function(k){a.push.apply(a,g.makeArray(h(k,r)))})}else{m=g.trim(m);if(t.test(m)){if(i=j(m.slice(1),r))a=[i]}else if(n=x.exec(String(m))){i=n[1];d=n[2];n=n[3];if(r=i?j(i,r):r)if(n)if(!i||m.indexOf(o)!==-1)a=g.makeArray(z(n,d,r));else{if((i=j(i,r))&&b.hasClass(i,n))a=[i]}else if(d)a=c(d,r)}else if(i)a=i(m,r);else f(m)}else if(m&&(g.isArray(m)||
v(m)))a=m;else if(m)a=[m];if(v(a))a=g.makeArray(a);a.each=function(k,q){return g.each(a,k,q)};return a}function e(m){if(m===s)m=l;else if(g.isString(m)&&t.test(m))m=j(m.slice(1),l);else if(g.isArray(m)||v(m))m=m[0]||null;else if(m&&m.nodeType!==1&&m.nodeType!==9)m=null;return m}function j(m,r){if(!r)return null;if(r.nodeType!==9)r=r.ownerDocument;return r.getElementById(m)}function c(m,r){return r.getElementsByTagName(m)}function f(m){g.error("Unsupported selector: "+m)}var l=document,v=b._isNodeList,
o=" ",t=/^#[\w-]+$/,x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var m=l.createElement("div");m.appendChild(l.createComment(""));if(m.getElementsByTagName("*").length>0)c=function(r,n){var i=g.makeArray(n.getElementsByTagName(r));if(r==="*"){for(var a=[],d=0,k=0,q;q=i[d++];)if(q.nodeType===1)a[k++]=q;i=a}return i}})();var z=l.getElementsByClassName?function(m,r,n){n=m=g.makeArray(n.getElementsByClassName(m));var i=0,a=0,d=m.length,k;if(r&&r!=="*"){n=[];for(r=r.toUpperCase();i<d;++i){k=
m[i];if(k.tagName===r)n[a++]=k}}return n}:l.querySelectorAll?function(m,r,n){return n.querySelectorAll((r?r:"")+"."+m)}:function(m,r,n){r=n.getElementsByTagName(r||"*");n=[];var i=0,a=0,d=r.length,k,q;for(m=o+m+o;i<d;++i){k=r[i];if((q=k.className)&&(o+q+o).indexOf(m)>-1)n[a++]=k}return n};g.mix(b,{query:h,get:function(m,r){return h(m,r)[0]||null},filter:function(m,r,n){var i=h(m,n),a=g.require("sizzle"),d,k,q,p=[];if(g.isString(r)&&(d=x.exec(r))&&!d[1]){k=d[2];q=d[3];r=function(w){return!(k&&w.tagName.toLowerCase()!==
k.toLowerCase()||q&&!b.hasClass(w,q))}}if(g.isFunction(r))p=g.filter(i,r);else if(r&&a)p=a._filter(m,r,n);else f(r);return p},test:function(m,r,n){m=h(m,n);return m.length&&b.filter(m,r,n).length===m.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(g,b,s,h,e){if(!s.ie)return b;h=document;var j=h.documentElement,c=b._CUSTOM_STYLES,f=/^-?\d+(?:px)?$/i,l=/^-?\d/,v=/^(?:width|height)$/;try{if(j.style.opacity==e&&j.filters)c.opacity={get:function(z){var m=100;try{m=z.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{m=z.filters("alpha").opacity}catch(n){if(z=((z.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))m=parseInt(g.trim(z[1]))}}return m/100+""},set:function(z,m){var r=z.style,
n=(z.currentStyle||0).filter||"";r.zoom=1;if(n)n=g.trim(n.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(n&&m!=1)n+=", ";r.filter=n+(m!=1?"alpha(opacity="+m*100+")":"")}}}catch(o){}s=s.ie==8;var t={},x={get:function(z,m){var r=z.currentStyle[m]+"";if(r.indexOf("px")<0)r=t[r]?t[r]:0;return r}};t.thin=s?"1px":"2px";t.medium=s?"3px":"4px";t.thick=s?"5px":"6px";g.each(["","Top","Left","Right","Bottom"],function(z){c["border"+z+"Width"]=x});if(!(h.defaultView||{}).getComputedStyle&&j.currentStyle)b._getComputedStyle=
function(z,m){var r=z.style,n=z.currentStyle[m];if(v.test(m))n=b[m](z)+"px";else if(!f.test(n)&&l.test(n)){var i=r.left,a=z.runtimeStyle.left;z.runtimeStyle.left=z.currentStyle.left;r.left=m==="fontSize"?"1em":n||0;n=r.pixelLeft+"px";r.left=i;z.runtimeStyle.left=a}return n};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(g,b,s){function h(c,f,l,v){if(!(c=b.get(c)))return null;if(f===s)f=1;var o=null,t,x;if(g.isNumber(f)&&f>=0){if(f===0)return c;t=0;x=f;f=function(){return++t===x}}for(;c=c[l];)if(j(c)&&(!f||b.test(c,f))&&(!v||v(c))){o=c;break}return o}function e(c,f,l){var v=[];var o=c=b.get(c);if(c&&l)o=c.parentNode;if(o){l=0;for(o=o.firstChild;o;o=o.nextSibling)if(j(o)&&o!==c&&(!f||b.test(o,f)))v[l++]=o}return v}var j=b._isElementNode;g.mix(b,{parent:function(c,f){return h(c,f,
"parentNode",function(l){return l.nodeType!=11})},next:function(c,f){return h(c,f,"nextSibling",s)},prev:function(c,f){return h(c,f,"previousSibling",s)},siblings:function(c,f){return e(c,f,true)},children:function(c,f){return e(c,f,s)},contains:function(c,f){var l=false;if((c=b.get(c))&&(f=b.get(f)))if(c.contains){if(f.nodeType===3){f=f.parentNode;if(f===c)return true}if(f)return c.contains(f)}else if(c.compareDocumentPosition)return!!(c.compareDocumentPosition(f)&16);else for(;!l&&(f=f.parentNode);)l=
f==c;return l},equals:function(c,f){c=g.query(c);f=g.query(f);if(c.length!=f.length)return false;for(var l=c.length;l>=0;l--)if(c[l]!=f[l])return false;return true}});return b},{requires:["./base"]});KISSY.add("dom",function(g,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(g,b){function s(j,c,f){this.currentTarget=j;this.originalEvent=c||{};if(c){this.type=c.type;this._fix()}else{this.type=f;this.target=j}this.currentTarget=j;this.fixed=true}var h=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
g.augment(s,{_fix:function(){var j=this.originalEvent,c=e.length,f,l=this.currentTarget;for(l=l.nodeType===9?l:l.ownerDocument||h;c;){f=e[--c];this[f]=j[f]}if(!this.target)this.target=this.srcElement||h;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===b&&this.clientX!==b){j=l.documentElement;c=l.body;this.pageX=this.clientX+(j&&j.scrollLeft||c&&c.scrollLeft||
0)-(j&&j.clientLeft||c&&c.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||c&&c.scrollTop||0)-(j&&j.clientTop||c&&c.clientTop||0)}if(this.which===b)this.which=this.charCode!==b?this.charCode:this.keyCode;if(this.metaKey===b)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==b)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return s});
KISSY.add("event/base",function(g,b,s,h){function e(n,i,a,d,k){if(g.isString(i))i=b.query(i);if(g.isArray(i)||l(i)){g.each(i,function(q){r[n](q,a,d,k)});return true}if((a=g.trim(a))&&a.indexOf(x)>0){g.each(a.split(x),function(q){r[n](i,q,d,k)});return true}return h}function j(n){return n&&n.nodeType!==3&&n.nodeType!==8?b.data(n,t):-1}function c(n,i){n&&n.nodeType!==3&&n.nodeType!==8&&b.data(n,t,i)}var f=document,l=b._isNodeList,v=f.addEventListener?function(n,i,a,d){n.addEventListener&&n.addEventListener(i,
a,!!d)}:function(n,i,a){n.attachEvent&&n.attachEvent("on"+i,a)},o=f.removeEventListener?function(n,i,a,d){n.removeEventListener&&n.removeEventListener(i,a,!!d)}:function(n,i,a){n.detachEvent&&n.detachEvent("on"+i,a)},t="ksEventTargetId",x=" ",z=g.now(),m={},r={EVENT_GUID:t,special:{},add:function(n,i,a,d){if(!e("add",n,i,a,d)){var k=j(n),q,p,w,y,u;if(!(k===-1||!i||!g.isFunction(a))){if(!k){c(n,k=z++);m[k]={target:n,events:{}}}p=m[k].events;if(!p[i]){q=(k=!n.isCustomEventTarget)&&r.special[i]||{};
w=function(A,B){if(!A||!A.fixed)A=new s(n,A,i);if(g.isPlainObject(B)){var C=A.type;g.mix(A,B);A.type=C}q.setup&&q.setup(A);return(q.handle||r._handle)(n,A)};p[i]={handle:w,listeners:[]};y=q.fix||i;u=q.capture;q.init&&q.init.apply(null,g.makeArray(arguments));k&&q.fix!==false&&v(n,y,w,u)}p[i].listeners.push({fn:a,scope:d||n})}}},__getListeners:function(n,i){var a,d=[];if(a=(r.__getEvents(n)||{})[i])d=a.listeners;return d},__getEvents:function(n){var i=j(n),a;if(i!==-1)if(i&&(a=m[i]))if(a.target===
n)return a.events||{}},remove:function(n,i,a,d){if(!e("remove",n,i,a,d)){var k=r.__getEvents(n),q=j(n),p,w,y,u,A,B,C=!n.isCustomEventTarget&&r.special[i]||{};if(k!==h){d=d||n;if(p=k[i]){w=p.listeners;y=w.length;if(g.isFunction(a)&&y){A=u=0;for(B=[];u<y;++u)if(a!==w[u].fn||d!==w[u].scope)B[A++]=w[u];p.listeners=B;y=B.length}if(a===h||y===0){if(!n.isCustomEventTarget){C=r.special[i]||{};if(C.fix!==false)o(n,C.fix||i,p.handle)}delete k[i]}}C.destroy&&C.destroy.apply(null,g.makeArray(arguments));if(i===
h||g.isEmptyObject(k)){for(i in k)r.remove(n,i);delete m[q];b.removeData(n,t)}}}},_handle:function(n,i){var a=r.__getListeners(n,i.type);a=a.slice(0);for(var d,k,q=0,p=a.length;q<p;++q){d=a[q];d=d.fn.call(d.scope,i);if(k!==false)k=d;d!==h&&d===false&&i.halt();if(i.isImmediatePropagationStopped)break}return k},_getCache:function(n){return m[n]},__getID:j,_simpleAdd:v,_simpleRemove:o};r.on=r.add;r.detach=r.remove;return r},{requires:["dom","event/object"]});
KISSY.add("event/target",function(g,b,s,h){return{isCustomEventTarget:true,fire:function(e,j){var c=s.data(this,b.EVENT_GUID)||-1;if((c=((b._getCache(c)||{}).events||{})[e])&&g.isFunction(c.handle))return c.handle(h,j)},on:function(e,j,c){b.add(this,e,j,c);return this},detach:function(e,j,c){b.remove(this,e,j,c);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(g,b){document.addEventListener&&g.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){b.special[s.name]={fix:s.fix,capture:true,setup:function(h){h.type=s.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(g,b,s,h){h.ie||g.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(e){b.special[e.name]={fix:e.fix,setup:function(j){j.type=e.name},handle:function(j,c){var f=c.relatedTarget;try{for(;f&&f!==j;)f=f.parentNode;f!==j&&b._handle(j,c)}catch(l){}}}})},{requires:["event/base","dom","ua"]});KISSY.add("event",function(g,b,s){b.Target=s;return b},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/base",function(g,b,s,h){function e(f,l,v){if(f)if(g.isString(f)){f=b.create(f,l,v);if(f.nodeType===11){j.push.apply(this,g.makeArray(f.childNodes));return h}}else if(f instanceof e)return f;else if(g.isArray(f)||c(f)){j.push.apply(this,g.makeArray(f));return h}else f=f;else return h;this[0]=f;this.length=1;return h}var j=Array.prototype,c=b._isNodeList;g.augment(e,s.Target,{isCustomEventTarget:false,fire:null,length:0,item:function(f){if(g.isNumber(f)){if(f>=this.length)return null;
return new e(this[f],h,h)}else return new e(f,h,h)},getDOMNodes:function(){return j.slice.call(this)},each:function(f,l){var v=this.length,o=0,t;for(t=new e(this[0],h,h);o<v&&f.call(l||t,t,o,this)!==false;t=new e(this[++o],h,h));return this},getDOMNode:function(){return this[0]},all:function(f){if(this.length>0)return e.all(f,this[0]);return new e(h,h,h)}});e.prototype.one=function(f){f=this.all(f);return f.length?f:null};e.all=function(f,l){if(g.isString(f)&&(f=g.trim(f))&&f.length>=3&&g.startsWith(f,
"<")&&g.endsWith(f,">")){if(l){if(l.getDOMNode)l=l.getDOMNode();if(l.ownerDocument)l=l.ownerDocument}return new e(f,h,l)}return new e(b.query(f,l),h,h)};e.one=function(f,l){var v=e.all(f,l);return v.length?v:null};return e.List=e},{requires:["dom","event"]});
KISSY.add("node/attach",function(g,b,s,h,e){var j=h.prototype,c=b._isNodeList;h.addMethod=function(l,v,o,t){j[l]=function(){var x=g.makeArray(arguments);x.unshift(this);x=v.apply(o||this,x);if(x===e)x=this;else if(x===null)x=null;else if(t&&(x.nodeType||c(x)||g.isArray(x)))x=new h(x);return x}};var f=["_isElementNode","_getWin","_getComputedStyle","_isNodeList","_nodeTypeIs","_nl2frag","create","get","query","data"];g.each(b,function(l,v){b.hasOwnProperty(v)&&g.isFunction(l)&&!g.inArray(v,f)&&h.addMethod(v,
l,b,true)});h.addMethod("data",b.data,b)},{requires:["dom","event","./base"]});KISSY.add("node/override",function(g,b,s,h){g.each(["append","prepend"],function(e){h.addMethod(e,function(j,c){var f=c;if(g.isString(f))f=b.create(f);b[e](f,j)},undefined,true)})},{requires:["dom","event","./base","./attach"]});KISSY.add("node",function(g,b){return b},{requires:["node/base","node/attach","node/override"]});
KISSY.add("json/json2",function(){function g(t){return t<10?"0"+t:t}function b(t){c.lastIndex=0;return c.test(t)?'"'+t.replace(c,function(x){var z=v[x];return typeof z==="string"?z:"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function s(t,x){var z,m,r,n,i=f,a,d=x[t];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(t);if(typeof o==="function")d=o.call(x,t,d);switch(typeof d){case "string":return b(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";f+=l;a=[];if(Object.prototype.toString.apply(d)==="[object Array]"){n=d.length;for(z=0;z<n;z+=1)a[z]=s(z,d)||"null";r=a.length===0?"[]":f?"[\n"+f+a.join(",\n"+f)+"\n"+i+"]":"["+a.join(",")+"]";f=i;return r}if(o&&typeof o==="object"){n=o.length;for(z=0;z<n;z+=1){m=o[z];if(typeof m==="string")if(r=s(m,d))a.push(b(m)+(f?": ":":")+r)}}else for(m in d)if(Object.hasOwnProperty.call(d,m))if(r=s(m,d))a.push(b(m)+(f?": ":":")+r);r=a.length===0?"{}":f?"{\n"+f+a.join(",\n"+f)+
"\n"+i+"}":"{"+a.join(",")+"}";f=i;return r}}var h=window,e=h.JSON;if(!e)e=h.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+g(this.getUTCMonth()+1)+"-"+g(this.getUTCDate())+"T"+g(this.getUTCHours())+":"+g(this.getUTCMinutes())+":"+g(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,l,v={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof e.stringify!=="function")e.stringify=function(t,x,z){var m;l=f="";if(typeof z==="number")for(m=0;m<z;m+=1)l+=" ";else if(typeof z==="string")l=z;if((o=x)&&typeof x!=="function"&&(typeof x!=="object"||typeof x.length!=="number"))throw Error("JSON.stringify");return s("",{"":t})};if(typeof e.parse!==
"function")e.parse=function(t,x){function z(r,n){var i,a,d=r[n];if(d&&typeof d==="object")for(i in d)if(Object.hasOwnProperty.call(d,i)){a=z(d,i);if(a!==undefined)d[i]=a;else delete d[i]}return x.call(r,n,d)}var m;t=String(t);j.lastIndex=0;if(j.test(t))t=t.replace(j,function(r){return"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){m=eval("("+t+")");return typeof x==="function"?z({"":m},""):m}throw new SyntaxError("JSON.parse");};return e});KISSY.add("json",function(g,b){return{parse:function(s){if(s==null||s==="")return null;return b.parse(s)},stringify:b.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(g,b,s,h){function e(u){u=g.merge(y,u);if(!u.url)return h;if(u.data&&!g.isString(u.data))u.data=g.param(u.data);u.context=u.context||u;var A,B=d,C,D=u.type.toUpperCase();if(u.dataType===z){A=u.jsonpCallback||g.guid(z);u.url=u.url+(u.url.indexOf("?")===-1?"?":"&")+(u.jsonp+"="+A);u.dataType=m;var F=f[A];f[A]=function(K){if(g.isFunction(F))F(K);else{f[A]=h;try{delete f[A]}catch(H){}}j([d,k],K,B,E,u)}}if(u.data&&D===v)u.url=u.url+(u.url.indexOf("?")===-1?"?":"&")+u.data;
if(u.dataType===m){c(n,u);D=g.getScript(u.url,A?null:function(){j([d,k],r,B,E,u)});c(i,u);return D}var G=false,E=u.xhr();c(n,u);E.open(D,u.url,u.async);try{if(u.data||u.contentType)E.setRequestHeader(t,u.contentType);E.setRequestHeader("Accept",u.dataType&&u.accepts[u.dataType]?u.accepts[u.dataType]+", */*; q=0.01":u.accepts._default)}catch(J){}E.onreadystatechange=function(K){if(!E||E.readyState===0||K==="abort"){G||j(k,null,q,E,u);G=true;if(E)E.onreadystatechange=l}else if(!G&&E&&(E.readyState===
4||K===p)){G=true;E.onreadystatechange=l;var H;if(K===p)H=p;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?d:q}B=H;try{H=E;var M=u.dataType,N=r,O,L=H;if(!g.isString(L)){N=H.getResponseHeader(t)||r;L=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&L.documentElement.nodeName===w)throw w;}if(g.isString(L))if(M===x||!M&&N.indexOf(x)>=0)L=s.parse(L);C=L}catch(Q){B=w}j([B===d?d:q,k],C,B,E,u);if(K===p){E.abort();c(a,u)}if(u.async)E=
null}};c(i,u);try{E.send(D===o?u.data:null)}catch(I){j([q,k],C,q,E,u)}u.async||c(k,u);return E}function j(u,A,B,C,D){if(g.isArray(u))g.each(u,function(F){j(F,A,B,C,D)});else{B===u&&D[u]&&D[u].call(D.context,A,B,C);c(u,D)}}function c(u,A){e.fire(u,{ajaxConfig:A})}var f=window,l=function(){},v="GET",o="POST",t="Content-Type",x="json",z=x+"p",m="script",r="",n="start",i="send",a="stop",d="success",k="complete",q="error",p="timeout",w="parsererror",y={type:v,url:r,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:f.ActiveXObject?function(){if(f.XmlHttpRequest)try{return new f.XMLHttpRequest}catch(u){}try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(A){}}:function(){return new f.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};g.mix(e,b.Target);g.mix(e,{get:function(u,A,B,C,D){if(g.isFunction(A)){C=B;B=A}return e({type:D||
v,url:u,data:A,success:function(F,G,E){B&&B.call(this,F,G,E)},dataType:C})},post:function(u,A,B,C){if(g.isFunction(A)){C=B;B=A;A=h}return e.get(u,A,B,C,o)},jsonp:function(u,A,B){if(g.isFunction(A)){B=A;A=null}return e.get(u,A,B,z)}});return e},{requires:["event","json"]});KISSY.add("ajax",function(g,b){return b},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var g=Math,b=g.PI,s=g.pow,h=g.sin,e=1.70158,j={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(s(2,10*(c-=1))*h((c-0.075)*2*b/0.3))},elasticOut:function(c){if(c===
0||c===1)return c;return s(2,-10*c)*h((c-0.075)*2*b/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*s(2,10*(c-=1))*h((c-0.1125)*2*b/0.45);return s(2,-10*(c-=1))*h((c-0.1125)*2*b/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((e+1)*c-e)},backOut:function(c){return(c-=1)*c*((e+1)*c+e)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((e*=1.525)+1)*c-e);return 0.5*((c-=2)*c*(((e*=1.525)+1)*c+e)+2)},bounceIn:function(c){return 1-j.bounceOut(1-c)},bounceOut:function(c){return c<
1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return j.bounceIn(c*2)*0.5;return j.bounceOut(c*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return j});
KISSY.add("anim/manager",function(g){function b(h){h[s]=h[s]||g.guid("anim-");return h[s]}var s=g.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(h){var e=b(h);if(!this.runnings[e]){this.runnings[e]=h;this.startTimer()}},stop:function(h){this.notRun(h)},notRun:function(h){delete this.runnings[b(h)];g.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(h){this.notRun(h)},resume:function(h){this.start(h)},startTimer:function(){var h=this;if(!h.timer)h.timer=setTimeout(function(){if(h.runFrames())h.stopTimer();
else{h.timer=null;h.startTimer()}},h.interval)},stopTimer:function(){var h=this.timer;if(h){clearTimeout(h);this.timer=null}},runFrames:function(){var h=true,e=this.runnings,j;for(j in e)if(e.hasOwnProperty(j)){h=false;e[j]._runFrame()}return h}}});
KISSY.add("anim/base",function(g,b,s,h,e,j,c){function f(a,d,k,q,p,w){if(a=b.get(a)){if(!(this instanceof f))return new f(a,d,k,q,p,w);var y=g.isPlainObject(k);d=d;this.domEl=a;if(g.isPlainObject(d))d=String(g.param(d,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var u=d,A=a;a={};var B=t.length,C=A.cloneNode(true);b.insertAfter(C,A);A=C.style;for(v(C,u);B--;){var D=t[B];if(A[D])a[D]=(n[D]||n["*"]).getter(C,D)}u=o(u);for(var F in u)a[F]=(n[F]||n["*"]).getter(C,
F);b.remove(C);this.props=a;this.targetStyle=d;if(y)y=g.merge(m,k);else{y=g.clone(m);if(k)y.duration=parseFloat(k)||1;if(g.isString(q)||g.isFunction(q))y.easing=q;if(g.isFunction(p))y.complete=p;if(w!==c)y.nativeSupport=w}if(!g.isEmptyObject(o(d)))y.nativeSupport=false;this.config=y;if(y.nativeSupport&&i()&&g.isString(q=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(q)||(q=h.NativeTimeFunction[q])){y.easing=q;this.transitionName=i()}if(g.isFunction(p))this.callback=p}}function l(a,d){return d}function v(a,
d){if(e.ie&&d.indexOf(z)>-1){var k=d.match(/opacity\s*:\s*([^;]+)(;|$)/);k&&b.css(a,z,parseFloat(k[1]))}a.style.cssText+=";"+d;k=o(d);for(var q in k)a[q]=k[q]}function o(a){for(var d={},k=0;k<x.length;k++){var q=x[k].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(q=a.match(RegExp(q+"\\s*:([^;]+)(;|$)")))d[x[k]]=g.trim(q[1])}return d}var t,x,z,m,r;s=s.Target;t="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
x=[];z="opacity";m={duration:1,easing:"easeNone",nativeSupport:true};f.PROPS=t;f.CUSTOM_ATTRS=x;f.PROP_OPS={"*":{getter:function(a,d){var k=b.css(a,d),q=parseFloat(k);k=(k+"").replace(/^[-\d.]+/,"");if(isNaN(q))return{v:k,u:"",f:l};return{v:q,u:k,f:this.interpolate}},setter:function(a,d,k){return b.css(a,d,k)},interpolate:function(a,d,k){return(a+(d-a)*k).toFixed(3)},eq:function(a,d){return a.v==d.v&&a.u==d.u}}};var n=f.PROP_OPS;g.augment(f,s,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var a=this.config,d=this.domEl,k,q=this.props,p={},w;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=k=a.duration*1E3;if(this.transitionName)this._nativeRun();else{for(w in q)p[w]=(n[w]||n["*"]).getter(d,w);this.source=p;d=g.now();k=d+k;a=a.easing;if(g.isString(a))a=h[a]||h.easeNone;this.start=d;this.finish=k;this.easing=a;j.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var a=
this.domEl,d=this.finish,k=this.start,q=this.duration,p=g.now(),w=this.source,y=this.easing,u=this.props,A;k=p-k;q=p>d?1:k/q;var B,C;this.elapsedTime=k;for(A in u){k=w[A];B=u[A];var D;D=B;var F=k,G=n[A];D=G&&G.eq?G.eq(D,F):n["*"].eq(D,F);if(!D){if(B.v==0)B.u=k.u;if(k.u!==B.u){k.v=0;k.u=B.u}D=B.f(k.v,B.v,y(q))+B.u;(n[A]||n["*"]).setter(a,A,D);if(B.f==l){k.v=B.v;k.u=B.u}}}if(this.fire("step")===false||(C=p>d)){this.stop();C&&this._complete()}},_nativeRun:function(){var a=this,d=a.domEl,k=a.duration,
q=a.config.easing,p=a.transitionName,w={};w[p+"Property"]="all";w[p+"Duration"]=k+"ms";w[p+"TimingFunction"]=q;b.css(d,w);g.later(function(){v(d,a.targetStyle)},0);g.later(function(){a.stop(true)},k)},stop:function(a){if(this.isRunning){if(this.transitionName)this._nativeStop(a);else{if(a){v(this.domEl,this.targetStyle);this._complete()}j.stop(this)}this.isRunning=false;return this}},_nativeStop:function(a){var d=this.domEl,k=this.transitionName,q=this.props,p;if(a){b.css(d,k+"Property","none");this._complete()}else{for(p in q)b.css(d,
p,b._getComputedStyle(d,p));b.css(d,k+"Property","none")}}});f.supportTransition=function(){if(r)return r;var a="transition",d,k=document.body;if(k.style[a]!==c)d=a;else g.each(["Webkit","Moz","O"],function(q){if(k.style[a=q+"Transition"]!==c){d=a;return false}});return r=d};var i=f.supportTransition;return f},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(g,b,s,h,e){function j(m,r,n,i,a,d,k){if(r==="toggle"){a=b.css(m,c)===f?1:0;r="show"}if(a)b.css(m,c,b.data(m,c)||"");var q={},p={};g.each(z[r],function(w){if(w===l){q[l]=b.css(m,l);b.css(m,l,v)}else if(w===o){q[o]=b.css(m,o);p.opacity=a?1:0;a&&b.css(m,o,0)}else if(w===t){q[t]=b.css(m,t);p.height=a?b.css(m,t)||m.naturalHeight:0;a&&b.css(m,t,0)}else if(w===x){q[x]=b.css(m,x);p.width=a?b.css(m,x)||m.naturalWidth:0;a&&b.css(m,x,0)}});return(new s(m,p,n,d||"easeOut",
function(){if(!a){var w=m.style,y=w[c];if(y!==f){y&&b.data(m,c,y);w[c]=f}q[t]&&b.css(m,{height:q[t]});q[x]&&b.css(m,{width:q[x]});q[o]&&b.css(m,{opacity:q[o]});q[l]&&b.css(m,{overflow:q[l]})}i&&g.isFunction(i)&&i()},k)).run()}var c="display",f="none",l="overflow",v="hidden",o="opacity",t="height",x="width",z={show:[l,o,t,x],fade:[o],slide:[l,t]};(function(m){m.animate=function(){var r=this,n=g.makeArray(arguments);r.__anims=r.__anims||[];g.each(this,function(i){r.__anims.push(s.apply(e,[i].concat(n)).run())});
return this};m.stopAnimate=function(r){g.each(this.__anims,function(n){n.stop(r)});this.__anims=[]};g.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(r,n){m[n]=function(i,a,d,k){var q=this;q.__anims=q.__anims||[];b[n]&&arguments.length===0?b[n](this):g.each(this,function(p){q.__anims.push(j(p,r[0],i,a,r[1],d,k))});return this}})})(h.List.prototype)},{requires:["dom","anim/base","node"]});
KISSY.add("anim/color",function(g,b,s){function h(v){v=v.toLowerCase();var o;if(o=v.match(j))return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])];else if(o=v.match(c)){for(v=1;v<o.length;v++)if(o[v].length<2)o[v]+=o[v];return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}if(e[v])return e[v];return[255,255,255]}var e={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},j=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,c=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,f="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),l=s.PROP_OPS;s=s.PROPS;s.push.apply(s,f);l.color={getter:function(v,o){return{v:h(b.css(v,o)),u:"",f:this.interpolate}},setter:l["*"].setter,interpolate:function(v,o,t){var x=
l["*"].interpolate;return"rgb("+[Math.floor(x(v[0],o[0],t)),Math.floor(x(v[1],o[1],t)),Math.floor(x(v[2],o[2],t))].join(", ")+")"},eq:function(v,o){return v.v+""==o.v+""}};g.each(f,function(v){l[v]=l.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(g,b,s){var h=s.PROP_OPS;s.CUSTOM_ATTRS.push("scrollLeft","scrollTop");h.scrollLeft=h.scrollTop={getter:function(e,j){return{v:e[j],u:"",f:h["*"].interpolate}},setter:function(e,j,c){e[j]=c}}},{requires:["dom","./base"]});
KISSY.add("anim",function(g,b,s){b.Easing=s;return b},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color","anim/scroll"]});
KISSY.add("base/attribute",function(g,b){function s(){this.__attrs={};this.__attrVals={}}function h(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}g.augment(s,{__getDefAttrs:function(){return g.clone(this.__attrs)},addAttr:function(e,j,c){if(this.__attrs[e])g.mix(this.__attrs[e],j,c);else this.__attrs[e]=g.clone(j||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},
set:function(e,j){var c=this.get(e);if(c!==j)if(false!==this.__fireAttrChange("before",e,c,j)){this.__set(e,j);this.__fireAttrChange("after",e,c,this.__attrVals[e]);return this}},__fireAttrChange:function(e,j,c,f){return this.fire(e+h(j)+"Change",{attrName:j,prevVal:c,newVal:f})},__set:function(e,j){var c,f=this.__attrs[e];if(f=f&&f.setter)c=f.call(this,j);if(c!==b)j=c;this.__attrVals[e]=j},get:function(e){var j;j=(j=this.__attrs[e])&&j.getter;e=e in this.__attrVals?this.__attrVals[e]:this.__getDefAttrVal(e);
if(j)e=j.call(this,e);return e},__getDefAttrVal:function(e){e=this.__attrs[e];var j;if(e){if(j=e.valueFn){j=j.call(this);if(j!==b)e.value=j;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});s.__capitalFirst=h;return s});
KISSY.add("base/base",function(g,b,s){function h(e){b.call(this);for(var j=this.constructor;j;){var c=j.ATTRS;if(c){var f=void 0;for(f in c)c.hasOwnProperty(f)&&this.addAttr(f,c[f],false)}j=j.superclass?j.superclass.constructor:null}if(e)for(var l in e)e.hasOwnProperty(l)&&this.__set(l,e[l])}g.augment(h,s.Target,b);return h},{requires:["./attribute","event"]});KISSY.add("base",function(g,b){return b},{requires:["base/base"]});
KISSY.add("cookie/base",function(g){var b=document,s=encodeURIComponent,h=decodeURIComponent;return{get:function(e){var j;if(g.isString(e)&&e!=="")if(e=String(b.cookie).match(RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)")))j=e[1]?h(e[1]):"";return j},set:function(e,j,c,f,l,v){j=String(s(j));var o=c;if(typeof o==="number"){o=new Date;o.setTime(o.getTime()+c*864E5)}if(o instanceof Date)j+="; expires="+o.toUTCString();if(g.isString(f)&&f!=="")j+="; domain="+f;if(g.isString(l)&&l!=="")j+="; path="+l;if(v)j+=
"; secure";b.cookie=e+"="+j},remove:function(e,j,c,f){this.set(e,"",0,j,c,f)}}});KISSY.add("cookie",function(g,b){return b},{requires:["cookie/base"]});
KISSY.add("core",function(g,b,s,h,e,j,c,f,l,v){c.getScript=g.getScript;b={UA:b,DOM:s,Event:h,EventTarget:h.Target,Node:e,NodeList:e.List,JSON:j,Ajax:c,IO:c,ajax:c,io:c,jsonp:c.jsonp,Anim:f,Easing:f.Easing,Base:l,Cookie:v,one:e.one,all:e.List.all,get:s.get,query:s.query};g.mix(g,b);return b},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
