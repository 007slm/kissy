/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 16 16:18
*/
(function(c,i,r){if(c[i]===r)c[i]={};i=c[i];var p=c.document,h=location,l=function(d,k,q,t){if(!k||!d)return d;if(q===r)q=true;var j,b,a;if(t&&(a=t.length))for(j=0;j<a;j++){b=t[j];if(b in k)if(q||!(b in d))d[b]=k[b]}else for(b in k)if(q||!(b in d))d[b]=k[b];return d},m=false,f=[],w=false,y=/^#?([\w-]+)$/,u=0;l(i,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var d=p.getElementsByTagName("script");this.Config={debug:"",base:d[d.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(d){w||this._bindReady();m?d.call(c,this):f.push(d);return this},_bindReady:function(){var d=this,k=p.documentElement.doScroll,q=k?"onreadystatechange":"DOMContentLoaded",t=function(){d._fireReady()};w=true;if(p.readyState==="complete")return t();if(p.addEventListener){var j=function(){p.removeEventListener(q,j,false);t()};p.addEventListener(q,j,false);c.addEventListener("load",t,false)}else{var b=function(){if(p.readyState==="complete"){p.detachEvent(q,b);t()}};p.attachEvent(q,
b);c.attachEvent("onload",t);if(c==c.top){var a=function(){try{k("left");t()}catch(g){setTimeout(a,1)}};a()}}},_fireReady:function(){if(!m){m=true;if(f){for(var d,k=0;d=f[k++];)d.call(c,this);f=null}}},available:function(d,k){if((d=(d+"").match(y)[1])&&i.isFunction(k))var q=1,t=i.later(function(){if(p.getElementById(d)&&(k()||1)||++q>500)t.cancel()},40,true)},mix:l,merge:function(){var d={},k,q=arguments.length;for(k=0;k<q;++k)l(d,arguments[k]);return d},augment:function(){var d=arguments,k=d.length-
2,q=d[0],t=d[k],j=d[k+1],b=1;if(!i.isArray(j)){t=j;j=r;k++}if(!i.isBoolean(t)){t=r;k++}for(;b<k;b++)l(q.prototype,d[b].prototype||d[b],t,j);return q},extend:function(d,k,q,t){if(!k||!d)return d;var j=Object.prototype,b=k.prototype,a=function(g){function n(){}n.prototype=g;return new n}(b);d.prototype=a;a.constructor=d;d.superclass=b;if(k!==Object&&b.constructor===j.constructor)b.constructor=k;q&&l(a,q);t&&l(d,t);return d},namespace:function(){var d=arguments,k=d.length,q=null,t,j,b,a=d[k-1]===true&&
k--;for(t=0;t<k;++t){b=(""+d[t]).split(".");q=a?c:this;for(j=c[b[0]]===q?1:0;j<b.length;++j)q=q[b[j]]=q[b[j]]||{}}return q},app:function(d,k){var q=i.isString(d),t=q?c[d]||{}:d;l(t,this,true,i.__APP_MEMBERS);t.__init();l(t,i.isFunction(k)?k():k);q&&(c[d]=t);return t},log:function(d,k,q){if(i.Config.debug){if(q)d=q+": "+d;if(c.console!==r&&console.log)console[k&&console[k]?k:"log"](d)}},error:function(d){if(i.Config.debug)throw d;},guid:function(d){var k=u++ +"";return d?d+k:k}});i.__init();i.__APP_MEMBERS=
["__init","namespace"];if(h&&(h.search||"").indexOf("ks-debug")!==-1)i.Config.debug=true})(window,"KISSY");
(function(c,i,r){function p(e){var s=typeof e;return e===null||s!=="object"&&s!=="function"}function h(e){return f.slice.call(e)}var l=document,m=l.documentElement,f=Array.prototype,w=f.indexOf,y=f.lastIndexOf,u=f.filter,d=String.prototype.trim,k=Object.prototype.toString,q=encodeURIComponent,t=decodeURIComponent,j=q("[]"),b=/^\s+|\s+$/g,a=/^(\w+)\[\]$/,g=/\S/;i.mix(i,{isUndefined:function(e){return e===r},isBoolean:function(e){return k.call(e)==="[object Boolean]"},isString:function(e){return k.call(e)===
"[object String]"},isNumber:function(e){return k.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&k.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var s in e)return false;return true},isFunction:function(e){return k.call(e)==="[object Function]"},isArray:function(e){return k.call(e)==="[object Array]"},trim:d?function(e){return e==r?"":d.call(e)}:function(e){return e==r?"":e.toString().replace(b,"")},substitute:function(e,s,o){if(!i.isString(e)||
!i.isPlainObject(s))return e;return e.replace(o||/\\?\{([^{}]+)\}/g,function(v,A){if(v.charAt(0)==="\\")return v.slice(1);return s[A]!==r?s[A]:""})},each:function(e,s,o){var v,A=0,x=e.length,z=x===r||i.isFunction(e);o=o||c;if(z)for(v in e){if(s.call(o,e[v],v,e)===false)break}else for(v=e[0];A<x&&s.call(o,v,A,e)!==false;v=e[++A]);return e},indexOf:w?function(e,s){return w.call(s,e)}:function(e,s){for(var o=0,v=s.length;o<v;++o)if(s[o]===e)return o;return-1},lastIndexOf:y?function(e,s){return y.call(s,
e)}:function(e,s){for(var o=s.length-1;o>=0;o--)if(s[o]===e)break;return o},unique:function(e,s){s&&e.reverse();e=e.slice();for(var o=0,v,A;o<e.length;){for(A=e[o];(v=i.lastIndexOf(A,e))!==o;)e.splice(v,1);o+=1}s&&e.reverse();return e},inArray:function(e,s){return i.indexOf(e,s)>-1},makeArray:function(e){if(e===null||e===r)return[];if(i.isArray(e))return e;if(typeof e.length!=="number"||i.isString(e)||i.isFunction(e))return[e];return h(e)},filter:u?function(e,s,o){return u.call(e,s,o)}:function(e,
s,o){var v=[];i.each(e,function(A,x,z){s.call(o,A,x,z)&&v.push(A)});return v},param:function(e,s){if(!i.isPlainObject(e))return"";s=s||"&";var o=[],v,A;for(v in e){A=e[v];v=q(v);if(p(A))o.push(v,"=",q(A+""),s);else if(i.isArray(A)&&A.length)for(var x=0,z=A.length;x<z;++x)p(A[x])&&o.push(v,j+"=",q(A[x]+""),s)}o.pop();return o.join("")},unparam:function(e,s){if(typeof e!=="string"||(e=i.trim(e)).length===0)return{};var o={};e=e.split(s||"&");for(var v,A,x,z=0,B=e.length;z<B;++z){s=e[z].split("=");v=
t(s[0]);try{A=t(s[1]||"")}catch(C){A=s[1]||""}if((x=v.match(a))&&x[1]){o[x[1]]=o[x[1]]||[];o[x[1]].push(A)}else o[v]=A}return o},later:function(e,s,o,v,A){s=s||0;v=v||{};var x=e,z=i.makeArray(A),B;if(i.isString(e))x=v[e];x||i.error("method undefined");e=function(){x.apply(v,z)};B=o?setInterval(e,s):setTimeout(e,s);return{id:B,interval:o,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var s=e,o,v;if(e&&((o=i.isArray(e))||i.isPlainObject(e))){s=o?[]:{};for(v in e)if(e.hasOwnProperty(v))s[v]=
i.clone(e[v])}return s},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&g.test(e)){var s=l.getElementsByTagName("head")[0]||m,o=l.createElement("script");o.text=e;s.insertBefore(o,s.firstChild);s.removeChild(o)}}});try{h(m.childNodes)}catch(n){h=function(e){for(var s=[],o=e.length-1;o>=0;o--)s[o]=e[o];return s}}})(window,KISSY);
(function(c,i,r){var p=c.document,h=p.getElementsByTagName("head")[0]||p.documentElement,l=2,m=3,f=4,w=i.mix,y=p.createElement("script").readyState?function(d,k){var q=d.onreadystatechange;d.onreadystatechange=function(){var t=d.readyState;if(t==="loaded"||t==="complete"){d.onreadystatechange=null;q&&q();k.call(this)}}}:function(d,k){d.addEventListener("load",k,false)},u=/\.css(?:\?|$)/i;c={add:function(d,k,q){var t=this.Env.mods,j;if(i.isString(d)&&!q&&i.isPlainObject(k)){j={};j[d]=k;d=j}if(i.isPlainObject(d)){i.each(d,
function(b,a){b.name=a;t[a]&&w(b,t[a],false)});w(t,d)}else{q=q||{};j=t[d]||{};d=q.host||j.host||d;j=t[d]||{};w(j,{name:d,status:l});if(!j.fns)j.fns=[];k&&j.fns.push(k);w(t[d]=j,q);j.attach!==false&&this.__isAttached(j.requires)&&this.__attachMod(j)}return this},use:function(d,k,q){d=d.replace(/\s+/g,"").split(",");q=q||{};var t=this,j=t.Env.mods,b=(q||0).global,a,g=d.length,n,e,s;b&&t.__mixMods(b);if(t.__isAttached(d))k&&k(t);else{for(a=0;a<g&&(n=j[d[a]]);a++)if(n.status!==f){if(q.order&&a>0){if(!n.requires)n.requires=
[];n._requires=n.requires.concat();e=d[a-1];if(!i.inArray(e,n.requires)&&!i.inArray(n.name,j[e].requires||[]))n.requires.push(e)}t.__attach(n,function(){if(!s&&t.__isAttached(d)){s=true;if(n._requires)n.requires=n._requires;k&&k(t)}},b)}return t}},__attach:function(d,k,q){function t(){if(j.__isAttached(b)){d.status===l&&j.__attachMod(d);d.status===f&&k()}}for(var j=this,b=d.requires||[],a=0,g=b.length;a<g;a++)j.__attach(j.Env.mods[b[a]],t,q);j.__buildPath(d);j.__load(d,t,q)},__mixMods:function(d){var k=
this.Env.mods,q=d.Env.mods,t;for(t in q)this.__mixMod(k,q,t,d)},__mixMod:function(d,k,q,t){var j=d[q]||{},b=j.status;i.mix(j,i.clone(k[q]));if(b)j.status=b;t&&this.__buildPath(j,t.Config.base);d[q]=j},__attachMod:function(d){var k=this;if(d.fns){i.each(d.fns,function(q){q&&q(k)});d.fns=r}d.status=f},__isAttached:function(d){for(var k=this.Env.mods,q,t=(d=i.makeArray(d)).length-1;t>=0&&(q=k[d[t]]);t--)if(q.status!==f)return false;return true},__load:function(d,k,q){function t(){j();if(d.status!==m){q&&
b.__mixMod(b.Env.mods,q.Env.mods,d.name,q);if(d.status!==f)d.status=l;k()}}function j(){g[a]=l}var b=this,a=d.fullpath,g=i.Env._loadQueue,n=g[a];d.status=d.status||0;if(d.status<1&&n)d.status=n.nodeName?1:l;if(i.isString(d.cssfullpath)){b.getScript(d.cssfullpath);d.cssfullpath=l}if(d.status<1&&a){d.status=1;n=b.getScript(a,{success:function(){KISSY.log(d.name+" is loaded.","info");t()},error:function(){d.status=m;j()},charset:d.charset});u.test(a)||(g[a]=n)}else d.status===1?y(n,t):k()},__buildPath:function(d,
k){function q(j,b){if(!d[b]&&d[j])d[b]=(k||t.base)+d[j];if(d[b]&&t.debug)d[b]=d[b].replace(/-min/g,"")}var t=this.Config;q("path","fullpath");d.cssfullpath!==l&&q("csspath","cssfullpath")},getScript:function(d,k,q){var t=u.test(d),j=p.createElement(t?"link":"script"),b=k,a,g,n;if(i.isPlainObject(b)){k=b.success;a=b.error;g=b.timeout;q=b.charset}if(t){j.href=d;j.rel="stylesheet"}else{j.src=d;j.async=true}if(q)j.charset=q;if(i.isFunction(k))t?k.call(j):y(j,function(){if(n){n.cancel();n=r}k.call(j)});
if(i.isFunction(a))n=i.later(function(){n=r;a()},(g||this.Config.timeout)*1E3);h.insertBefore(j,h.firstChild);return j}};w(i,c);i.each(c,function(d,k){i.__APP_MEMBERS.push(k)})})(window,KISSY);(function(c){var i={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(r){i[r]={path:r+"/"+r+"-pkg-min.js",requires:["core"],charset:"utf-8"}});i.calendar.csspath="calendar/default-min.css";c.add(i)})(KISSY);
KISSY.add("ua",function(c){var i=navigator.userAgent,r="",p="",h,l={},m=function(f){var w=0;return parseFloat(f.replace(/\./g,function(){return w++===0?".":""}))};if((h=i.match(/AppleWebKit\/([\d.]*)/))&&h[1]){l[r="webkit"]=m(h[1]);if((h=i.match(/Chrome\/([\d.]*)/))&&h[1])l[p="chrome"]=m(h[1]);else if((h=i.match(/\/([\d.]*) Safari/))&&h[1])l[p="safari"]=m(h[1]);if(/ Mobile\//.test(i))l.mobile="apple";else if(h=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=h[0].toLowerCase()}else if((h=
i.match(/Presto\/([\d.]*)/))&&h[1]){l[r="presto"]=m(h[1]);if((h=i.match(/Opera\/([\d.]*)/))&&h[1]){l[p="opera"]=m(h[1]);if((h=i.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])l[p]=m(h[1]);if((h=i.match(/Opera Mini[^;]*/))&&h)l.mobile=h[0].toLowerCase();else if((h=i.match(/Opera Mobi[^;]*/))&&h)l.mobile=h[0]}}else if((h=i.match(/MSIE\s([^;]*)/))&&h[1]){l[r="trident"]=0.1;l[p="ie"]=m(h[1]);if((h=i.match(/Trident\/([\d.]*)/))&&h[1])l[r]=m(h[1])}else if(h=i.match(/Gecko/)){l[r="gecko"]=0.1;if((h=i.match(/rv:([\d.]*)/))&&
h[1])l[r]=m(h[1]);if((h=i.match(/Firefox\/([\d.]*)/))&&h[1])l[p="firefox"]=m(h[1])}l.core=r;l.shell=p;l._numberify=m;c.UA=l});
KISSY.add("ua-extra",function(c){var i=c.UA,r=navigator.userAgent,p,h,l={},m=i._numberify;if(r.match(/360SE/))l[h="se360"]=3;else if(r.match(/Maxthon/)&&(p=window.external)){h="maxthon";try{l[h]=m(p.max_version)}catch(f){l[h]=0.1}}else if(p=r.match(/TencentTraveler\s([\d.]*)/))l[h="tt"]=p[1]?m(p[1]):0.1;else if(r.match(/TheWorld/))l[h="theworld"]=3;else if(p=r.match(/SE\s([\d.]*)/))l[h="sougou"]=p[1]?m(p[1]):0.1;h&&(l.shell=h);c.mix(i,l)});
KISSY.add("dom",function(c,i){function r(p,h){return p&&p.nodeType===h}c.DOM={_isElementNode:function(p){return r(p,1)},_isKSNode:function(p){return c.Node&&r(p,c.Node.TYPE)},_getWin:function(p){return p&&"scrollTo"in p&&p.document?p:r(p,9)?p.defaultView||p.parentWindow:p===i?window:false},_nodeTypeIs:r}});
KISSY.add("selector",function(c,i){function r(a,g){var n,e=[],s,o;g=h(g);if(c.isString(a)){a=c.trim(a);if(j.test(a)){if(a=l(a.slice(1),g))e=[a]}else if(n=b.exec(a)){s=n[1];o=n[2];n=n[3];if(g=s?l(s,g):g)if(n)if(!s||a.indexOf(d)!==-1)e=f(n,o,g);else{if((a=l(s,g))&&u.hasClass(a,n))e=[a]}else if(o)e=m(o,g)}else if(c.ExternalSelector)return c.ExternalSelector(a,g);else w(a)}else if(a&&(a[q]||a[t]))e=a[q]?[a[q]()]:a[t]();else if(a&&(c.isArray(a)||p(a)))e=a;else if(a)e=[a];if(p(e))e=c.makeArray(e);e.each=
function(v,A){return c.each(e,v,A)};return e}function p(a){return a&&!a.nodeType&&a.item&&a!=window}function h(a){if(a===i)a=y;else if(c.isString(a)&&j.test(a))a=l(a.slice(1),y);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function l(a,g){if(g.nodeType!==9)g=g.ownerDocument;return g.getElementById(a)}function m(a,g){return g.getElementsByTagName(a)}function f(a,g,n){n=a=n.getElementsByClassName(a);var e=0,s=0,o=a.length,v;if(g&&g!==k){n=[];for(g=g.toUpperCase();e<o;++e){v=a[e];if(v.tagName===
g)n[s++]=v}}return n}function w(a){c.error("Unsupported selector: "+a)}var y=document,u=c.DOM,d=" ",k="*",q="getDOMNode",t=q+"s",j=/^#[\w-]+$/,b=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=y.createElement("div");a.appendChild(y.createComment(""));if(a.getElementsByTagName(k).length>0)m=function(g,n){n=n.getElementsByTagName(g);if(g===k){g=[];for(var e=0,s=0,o;o=n[e++];)if(o.nodeType===1)g[s++]=o;n=g}return n}})();y.getElementsByClassName||(f=y.querySelectorAll?function(a,g,n){return n.querySelectorAll((g?
g:"")+"."+a)}:function(a,g,n){g=n.getElementsByTagName(g||k);n=[];var e=0,s=0,o=g.length,v,A;for(a=d+a+d;e<o;++e){v=g[e];if((A=v.className)&&(d+A+d).indexOf(a)>-1)n[s++]=v}return n});c.query=r;c.get=function(a,g){return r(a,g)[0]||null};c.mix(u,{query:r,get:c.get,filter:function(a,g){var n=r(a),e,s,o,v=[];if(c.isString(g)&&(e=b.exec(g))&&!e[1]){s=e[2];o=e[3];g=function(A){return!(s&&A.tagName!==s.toUpperCase()||o&&!u.hasClass(A,o))}}if(c.isFunction(g))v=c.filter(n,g);else if(g&&c.ExternalSelector)v=
c.ExternalSelector._filter(a,g);else w(g);return v},test:function(a,g){a=r(a);return u.filter(a,g).length===a.length}})});
KISSY.add("dom-data",function(c,i){function r(y){return y&&y.nodeType}var p=window,h=c.DOM,l="_ks_data_"+c.now(),m={},f={},w={EMBED:1,OBJECT:1,APPLET:1};c.mix(h,{data:function(y,u,d){if(c.isPlainObject(u))for(var k in u)h.data(y,k,u[k]);else if(d===i){y=c.get(y);var q;if(!(!y||w[y.nodeName])){if(y==p)y=f;q=(k=r(y))?m:y;y=q[k?y[l]:l];if(c.isString(u)&&y)return y[u];return y}}else c.query(y).each(function(t){if(!(!t||w[t.nodeName])){if(t==p)t=f;var j=m,b;if(r(t)){if(!(b=t[l]))b=t[l]=c.guid()}else{b=
l;j=t}if(u&&d!==i){j[b]||(j[b]={});j[b][u]=d}}})},removeData:function(y,u){c.query(y).each(function(d){if(d){if(d==p)d=f;var k,q=m,t,j=r(d);if(j)k=d[l];else{q=d;k=l}if(k){t=q[k];if(u){if(t){delete t[u];c.isEmptyObject(t)&&h.removeData(d)}}else{if(j)d.removeAttribute&&d.removeAttribute(l);else try{delete d[l]}catch(b){}j&&delete q[k]}}}})}})});
KISSY.add("dom-class",function(c,i){function r(m,f,w,y){if(!(f=c.trim(f)))return y?false:i;m=c.query(m);var u=0,d=m.length;f=f.split(h);for(var k;u<d;u++){k=m[u];if(p._isElementNode(k)){k=w(k,f,f.length);if(k!==i)return k}}if(y)return false}var p=c.DOM,h=/[\.\s]\s*\.?/,l=/[\n\t]/g;c.mix(p,{hasClass:function(m,f){return r(m,f,function(w,y,u){if(w=w.className){w=" "+w+" ";for(var d=0,k=true;d<u;d++)if(w.indexOf(" "+y[d]+" ")<0){k=false;break}if(k)return true}},true)},addClass:function(m,f){r(m,f,function(w,
y,u){var d=w.className;if(d){var k=" "+d+" ";d=d;for(var q=0;q<u;q++)if(k.indexOf(" "+y[q]+" ")<0)d+=" "+y[q];w.className=c.trim(d)}else w.className=f})},removeClass:function(m,f){r(m,f,function(w,y,u){var d=w.className;if(d)if(u){d=(" "+d+" ").replace(l," ");for(var k=0,q;k<u;k++)for(q=" "+y[k]+" ";d.indexOf(q)>=0;)d=d.replace(q," ");w.className=c.trim(d)}else w.className=""})},replaceClass:function(m,f,w){p.removeClass(m,f);p.addClass(m,w)},toggleClass:function(m,f,w){var y=c.isBoolean(w),u;r(m,
f,function(d,k,q){for(var t=0,j;t<q;t++){j=k[t];u=y?!w:p.hasClass(d,j);p[u?"removeClass":"addClass"](d,j)}})}})});
KISSY.add("dom-attr",function(c,i){function r(b,a){return a&&a.nodeName.toUpperCase()===b.toUpperCase()}var p=c.UA,h=p.ie,l=h&&h<8,m=document.documentElement.textContent!==i?"textContent":"innerText",f=c.DOM,w=f._isElementNode,y=function(b){return f._nodeTypeIs(b,3)},u=/href|src|style/,d=/href|src|colspan|rowspan/,k=/\r/g,q=/radio|checkbox/,t={readonly:"readOnly"},j={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};l&&c.mix(t,{"for":"htmlFor","class":"className"});c.mix(f,{attr:function(b,
a,g,n){if(c.isPlainObject(a)){n=g;for(var e in a)f.attr(b,e,a[e],n)}else if(a=c.trim(a)){a=a.toLowerCase();if(n&&j[a])return f[a](b,g);a=t[a]||a;if(g===i){b=c.get(b);if(!w(b))return i;var s;u.test(a)||(s=b[a]);if(s===i)s=b.getAttribute(a);if(l)if(d.test(a))s=b.getAttribute(a,2);else if(a==="style")s=b.style.cssText;return s===null?i:s}c.each(c.query(b),function(o){if(w(o))if(a==="style")o.style.cssText=g;else{if(a==="checked")o[a]=!!g;o.setAttribute(a,""+g)}})}},removeAttr:function(b,a){c.each(c.query(b),
function(g){if(w(g)){f.attr(g,a,"");g.removeAttribute(a)}})},val:function(b,a){if(a===i){var g=c.get(b);if(!w(g))return i;if(r("option",g))return(g.attributes.value||{}).specified?g.value:g.text;if(r("select",g)){var n=g.selectedIndex;b=g.options;if(n<0)return null;else if(g.type==="select-one")return f.val(b[n]);g=[];for(var e=0,s=b.length;e<s;++e)b[e].selected&&g.push(f.val(b[e]));return g}if(p.webkit&&q.test(g.type))return g.getAttribute("value")===null?"on":g.value;return(g.value||"").replace(k,
"")}c.each(c.query(b),function(o){if(r("select",o)){if(c.isNumber(a))a+="";var v=c.makeArray(a),A=o.options,x;e=0;for(s=A.length;e<s;++e){x=A[e];x.selected=c.inArray(f.val(x),v)}if(!v.length)o.selectedIndex=-1}else if(w(o))o.value=a})},text:function(b,a){if(a===i){b=c.get(b);if(w(b))return b[m]||"";else if(y(b))return b.nodeValue}else c.each(c.query(b),function(g){if(w(g))g[m]=a;else if(y(g))g.nodeValue=a})}})});
KISSY.add("dom-style",function(c,i){function r(b,a){var g=c.get(b),n=a===w?g.offsetWidth:g.offsetHeight;c.each(a===w?["Left","Right"]:["Top","Bottom"],function(e){n-=parseFloat(h._getComputedStyle(g,"padding"+e))||0;n-=parseFloat(h._getComputedStyle(g,"border"+e+"Width"))||0});return n}function p(b,a,g){var n=g;if(g===y&&d.test(a)){n=0;if(h.css(b,"position")==="absolute"){g=b[a==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)g-=u(h.css(b.offsetParent,"border-"+a+"-width"))||0;n=g-(u(h.css(b,
"margin-"+a))||0)}}return n}var h=c.DOM,l=c.UA,m=document,f=m.documentElement,w="width",y="auto",u=parseInt,d=/^left|top$/,k=/width|height|top|left|right|bottom|margin|padding/i,q=/-([a-z])/ig,t=function(b,a){return a.toUpperCase()},j={};c.mix(h,{_CUSTOM_STYLES:j,_getComputedStyle:function(b,a){var g="",n=b.ownerDocument;if(b.style)g=n.defaultView.getComputedStyle(b,null)[a];return g},css:function(b,a,g){if(c.isPlainObject(a))for(var n in a)h.css(b,n,a[n]);else{if(a.indexOf("-")>0)a=a.replace(q,t);
a=j[a]||a;if(g===i){b=c.get(b);n="";if(b&&b.style){n=a.get?a.get(b):b.style[a];if(n===""&&!a.get)n=p(b,a,h._getComputedStyle(b,a))}return n===i?"":n}else{if(g===null||g==="")g="";else if(!isNaN(new Number(g))&&k.test(a))g+="px";(a===w||a==="height")&&parseFloat(g)<0||c.each(c.query(b),function(e){if(e&&e.style){a.set?a.set(e,g):(e.style[a]=g);if(g==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(b,a){if(a===i)return r(b,w);else h.css(b,w,a)},height:function(b,a){if(a===i)return r(b,
"height");else h.css(b,"height",a)},show:function(b){c.query(b).each(function(a){a.style.display=h.data(a,"display")||""})},hide:function(b){c.query(b).each(function(a){var g=a.style,n=g.display;if(n!=="none"){n&&h.data(a,"display",n);g.display="none"}})},toggle:function(b){c.query(b).each(function(a){if(a)a.style.display==="none"?h.show(a):h.hide(a)})},addStyleSheet:function(b,a){var g;if(a)g=c.get("#"+a);if(!g){g=h.create("<style>",{id:a});c.get("head").appendChild(g);if(g.styleSheet)g.styleSheet.cssText=
b;else g.appendChild(m.createTextNode(b))}}});if(f.style.cssFloat!==i)j["float"]="cssFloat";else if(f.style.styleFloat!==i)j["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,i){if(c.UA.ie){var r=c.DOM;c=document;var p=c.documentElement,h=r._CUSTOM_STYLES,l=/^-?\d+(?:px)?$/i,m=/^-?\d/,f=/^width|height$/;try{if(p.style.opacity===i&&p.filters)h.opacity={get:function(y){var u=100;try{u=y.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{u=y.filters("alpha").opacity}catch(k){}}return u/100+""},set:function(y,u){var d=y.style;y=(y.currentStyle||0).filter||"";d.zoom=1;if(y)if(y=y.replace(/alpha\(opacity=.+\)/ig,""))y+=", ";
d.filter=y+"alpha(opacity="+u*100+")"}}}catch(w){}if(!(c.defaultView||{}).getComputedStyle&&p.currentStyle)r._getComputedStyle=function(y,u){var d=y.style,k=y.currentStyle[u];if(f.test(u))k=r[u](y)+"px";else if(!l.test(k)&&m.test(k)){var q=d.left,t=y.runtimeStyle.left;y.runtimeStyle.left=y.currentStyle.left;d.left=u==="fontSize"?"1em":k||0;k=d.pixelLeft+"px";d.left=q;y.runtimeStyle.left=t}return k}}});
KISSY.add("dom-offset",function(c,i){function r(o){var v=0,A=0,x=u(o[b]);if(o[s]){o=o[s]();v=o[a];A=o[g];if(l.mobile!=="apple"){v+=h[n](x);A+=h[e](x)}}return{left:v,top:A}}function p(o,v){if(h.css(o,t)==="static")o.style[t]=j;var A=r(o),x={},z,B;for(B in v){z=q(h.css(o,B),10)||0;x[B]=z+v[B]-A[B]}h.css(o,x)}var h=c.DOM,l=c.UA,m=window,f=document,w=h._isElementNode,y=h._nodeTypeIs,u=h._getWin,d=f.compatMode==="CSS1Compat",k=Math.max,q=parseInt,t="position",j="relative",b="ownerDocument",a="left",g=
"top",n="scrollLeft",e="scrollTop",s="getBoundingClientRect";c.mix(h,{offset:function(o,v){if(!(o=c.get(o))||!o[b])return null;if(v===i)return r(o);p(o,v)},scrollIntoView:function(o,v,A,x){if((o=c.get(o))&&o[b]){x=x===i?true:!!x;A=A===i?true:!!A;if(!v||v===m)return o.scrollIntoView(A);v=c.get(v);if(y(v,9))v=u(v);var z=v&&"scrollTo"in v&&v.document,B=h.offset(o),C=z?{left:h.scrollLeft(v),top:h.scrollTop(v)}:h.offset(v),D={left:B[a]-C[a],top:B[g]-C[g]};B=z?h.viewportHeight(v):v.clientHeight;C=z?h.viewportWidth(v):
v.clientWidth;var G=h[n](v),E=h[e](v),F=G+C,M=E+B,I=o.offsetHeight;o=o.offsetWidth;var H=D.left+G-(q(h.css(v,"borderLeftWidth"))||0);D=D.top+E-(q(h.css(v,"borderTopWidth"))||0);var N=H+o,J=D+I,K,L;if(I>B||D<E||A)K=D;else if(J>M)K=J-B;if(x)if(o>C||H<G||A)L=H;else if(N>F)L=N-C;if(z){if(K!==i||L!==i)v.scrollTo(L,K)}else{if(K!==i)v[e]=K;if(L!==i)v[n]=L}}}});c.each(["Left","Top"],function(o,v){var A="scroll"+o;h[A]=function(x){var z=0,B=u(x),C;if(B&&(C=B.document))z=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(w(x=c.get(x)))z=x[A];return z}});c.each(["Width","Height"],function(o){h["doc"+o]=function(v){v=v||f;return k(d?v.documentElement["scroll"+o]:v.body["scroll"+o],h["viewport"+o](v))};h["viewport"+o]=function(v){var A="inner"+o;v=u(v);var x=v.document;return A in v?v[A]:d?x.documentElement["client"+o]:x.body["client"+o]}})});
KISSY.add("dom-traversal",function(c,i){function r(m,f,w,y){if(!(m=c.get(m)))return null;if(f===i)f=1;var u=null,d,k;if(c.isNumber(f)&&f>=0){if(f===0)return m;d=0;k=f;f=function(){return++d===k}}for(;m=m[w];)if(l(m)&&(!f||h.test(m,f))&&(!y||y(m))){u=m;break}return u}function p(m,f,w){var y=[];var u=m=c.get(m);if(m&&w)u=m.parentNode;if(u){w=0;for(u=u.firstChild;u;u=u.nextSibling)if(l(u)&&u!==m&&(!f||h.test(u,f)))y[w++]=u}return y}var h=c.DOM,l=h._isElementNode;c.mix(h,{parent:function(m,f){return r(m,
f,"parentNode",function(w){return w.nodeType!=11})},next:function(m,f){return r(m,f,"nextSibling")},prev:function(m,f){return r(m,f,"previousSibling")},siblings:function(m,f){return p(m,f,true)},children:function(m,f){return p(m,f)},contains:function(m,f){var w=false;if((m=c.get(m))&&(f=c.get(f)))if(m.contains)return m.contains(f);else if(m.compareDocumentPosition)return!!(m.compareDocumentPosition(f)&16);else for(;!w&&(f=f.parentNode);)w=f==m;return w}})});
KISSY.add("dom-create",function(c,i){function r(x,z){k(x)&&c.isPlainObject(z)&&w.attr(x,z,true);return x}function p(x,z){var B=null,C;if(x&&(x.push||x.item)&&x[0]){z=z||x[0].ownerDocument;B=z.createDocumentFragment();if(x.item)x=c.makeArray(x);z=0;for(C=x.length;z<C;z++)B.appendChild(x[z])}return B}function h(x){var z=x.cloneNode(true);if(y.ie<8)z.innerHTML=x.innerHTML;return z}function l(x,z,B,C){if(B){var D=c.guid("ks-tmp-"),G=new RegExp(b);z+='<span id="'+D+'"></span>';c.available(D,function(){var E=
c.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(z);)if((I=(M=F[1])?M.match(g):false)&&I[2]){F=f.createElement("script");F.src=I[2];if((H=M.match(n))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)c.globalEval(J);(N=f.getElementById(D))&&w.remove(N);c.isFunction(C)&&C()});m(x,z)}else{m(x,z);c.isFunction(C)&&C()}}function m(x,z){z=(z+"").replace(b,"");try{x.innerHTML=z}catch(B){for(;x.firstChild;)x.removeChild(x.firstChild);z&&x.appendChild(w.create(z))}}var f=
document,w=c.DOM,y=c.UA,u=y.ie,d=w._nodeTypeIs,k=w._isElementNode,q=w._isKSNode,t=f.createElement("div"),j=/<(\w+)/,b=/<script([^>]*)>([\s\S]*?)<\/script>/ig,a=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/\ssrc=(['"])(.*?)\1/i,n=/\scharset=(['"])(.*?)\1/i;c.mix(w,{create:function(x,z,B){if(d(x,1)||d(x,3))return h(x);if(q(x))return h(x[0]);if(!(x=c.trim(x)))return null;var C=null;C=w._creators;var D,G="div",E;if(D=a.exec(x))C=(B||f).createElement(D[1]);else{if((D=j.exec(x))&&(E=D[1])&&c.isFunction(C[E=E.toLowerCase()]))G=
E;x=C[G](x,B).childNodes;C=x.length===1?x[0].parentNode.removeChild(x[0]):p(x,B||f)}return r(C,z)},_creators:{div:function(x,z){z=z?z.createElement("div"):t;z.innerHTML=x;return z}},html:function(x,z,B,C){if(z===i){x=c.get(x);if(k(x))return x.innerHTML}else c.each(c.query(x),function(D){k(D)&&l(D,z,B,C)})},remove:function(x){c.each(c.query(x),function(z){k(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(y.gecko||u){var e=w._creators,s=w.create,o=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in v)(function(x){e[A]=function(z,B){return s("<"+x+">"+z+"</"+x+">",null,B)}})(v[A]);if(u){e.script=function(x,z){z=z?z.createElement("div"):t;z.innerHTML="-"+x;z.removeChild(z.firstChild);return z};if(u<8)e.tbody=function(x,z){z=s("<table>"+x+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!o.test(x)&&B.parentNode.removeChild(B);return z}}c.mix(e,{optgroup:e.option,th:e.td,
thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(i,r){if((i=c.get(i))&&(r=c.get(r))&&r.parentNode)r.parentNode.insertBefore(i,r);return i},insertAfter:function(i,r){if((i=c.get(i))&&(r=c.get(r))&&r.parentNode)r.nextSibling?r.parentNode.insertBefore(i,r.nextSibling):r.parentNode.appendChild(i);return i}})});
KISSY.add("event",function(c,i){function r(b,a,g,n,e){if(c.isString(a))a=c.query(a);if(c.isArray(a)){c.each(a,function(s){j[b](s,g,n,e)});return true}if((g=c.trim(g))&&g.indexOf(k)>0){c.each(g.split(k),function(s){j[b](a,s,n,e)});return true}}function p(b){return m(b)?w.data(b,d):-1}function h(b,a){m(b)&&w.data(b,d,a)}function l(b){w.removeData(b,d)}function m(b){return b&&b.nodeType!==3&&b.nodeType!==8}var f=document,w=c.DOM,y=f.addEventListener?function(b,a,g,n){b.addEventListener&&b.addEventListener(a,
g,!!n)}:function(b,a,g){b.attachEvent&&b.attachEvent("on"+a,g)},u=f.removeEventListener?function(b,a,g,n){b.removeEventListener&&b.removeEventListener(a,g,!!n)}:function(b,a,g){b.detachEvent&&b.detachEvent("on"+a,g)},d="ksEventTargetId",k=" ",q=c.now(),t={},j={EVENT_GUID:d,special:{},add:function(b,a,g,n){if(!r("add",b,a,g,n)){var e=p(b),s,o,v,A,x;if(!(e===-1||!a||!c.isFunction(g))){if(!e){h(b,e=q++);t[e]={target:b,events:{}}}o=t[e].events;if(!o[a]){s=((e=!b.isCustomEventTarget)||b._supportSpecialEvent)&&
j.special[a]||{};v=function(z,B){if(!z||!z.fixed){z=new c.EventObject(b,z,a);c.isPlainObject(B)&&c.mix(z,B)}s.setup&&s.setup(z);return(s.handle||j._handle)(b,z,o[a].listeners)};o[a]={handle:v,listeners:[]};A=s.fix||a;x=s.capture;if(e)y(b,A,v,x);else b._addEvent&&b._addEvent(A,v,x)}o[a].listeners.push({fn:g,scope:n||b})}}},remove:function(b,a,g,n){if(!r("remove",b,a,g,n)){var e=p(b),s,o,v,A,x,z,B;if(e!==-1)if(e&&(s=t[e]))if(s.target===b){n=n||b;s=s.events||{};if(o=s[a]){v=o.listeners;z=v.length;if(c.isFunction(g)&&
z){x=A=0;for(B=[];A<z;++A)if(g!==v[A].fn||n!==v[A].scope)B[x++]=v[A];o.listeners=B;z=B.length}if(g===i||z===0){if(b.isCustomEventTarget)b._addEvent&&b._removeEvent(a,o.handle);else{g=j.special[a]||{};u(b,g.fix||a,o.handle)}delete s[a]}}if(a===i||c.isEmptyObject(s)){for(a in s)j.remove(b,a);delete t[e];l(b)}}}},_handle:function(b,a,g){g=g.slice(0);for(var n,e=0,s=g.length;e<s;++e){n=g[e];n=n.fn.call(n.scope||b,a);if(n===false&&b.isCustomEventTarget||a.isImmediatePropagationStopped)break}return n},
_getCache:function(b){return t[b]},_simpleAdd:y,_simpleRemove:u};j.on=j.add;c.Event=j});
KISSY.add("event-object",function(c,i){function r(l,m,f){this.currentTarget=l;this.originalEvent=m||{};if(m){this.type=m.type;this._fix()}else{this.type=f;this.target=l}this.currentTarget=l;this.fixed=true}var p=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(r,
{_fix:function(){var l=this.originalEvent,m=h.length,f,w=this.currentTarget;for(w=w.nodeType===9?w:w.ownerDocument||p;m;){f=h[--m];this[f]=l[f]}if(!this.target)this.target=this.srcElement||p;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===i&&this.clientX!==i){l=w.documentElement;m=w.body;this.pageX=this.clientX+(l&&l.scrollLeft||m&&m.scrollLeft||
0)-(l&&l.clientLeft||m&&m.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||m&&m.scrollTop||0)-(l&&l.clientTop||m&&m.clientTop||0)}if(this.which===i)this.which=this.charCode!==i?this.charCode:this.keyCode;if(this.metaKey===i)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==i)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=r});
KISSY.add("event-target",function(c,i){var r=c.Event;c.EventTarget={isCustomEventTarget:true,fire:function(p,h){var l=c.DOM.data(this,r.EVENT_GUID)||-1;if((p=((r._getCache(l)||{}).events||{})[p])&&c.isFunction(p.handle))return p.handle(i,h);return this},on:function(p,h,l){r.add(this,p,h,l);return this},detach:function(p,h,l){r.remove(this,p,h,l);return this}}});
KISSY.add("event-mouseenter",function(c){var i=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(r){i.special[r.name]={fix:r.fix,setup:function(p){p.type=r.name},handle:function(p,h,l){var m=h.relatedTarget;try{for(;m&&m!==p;)m=m.parentNode;m!==p&&i._handle(p,h,l)}catch(f){}}}})});
KISSY.add("event-focusin",function(c){var i=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(r){i.special[r.name]={fix:r.fix,capture:true,setup:function(p){p.type=r.name}}})});
KISSY.add("node",function(c){function i(h,l,m){var f;if(!(this instanceof i))return new i(h,l,m);if(h){if(c.isString(h))f=r.create(h,l,m);else if(p(h,1)||p(h,3))f=h;else if(h instanceof i)return h;this[0]=f}else this.length=0}var r=c.DOM,p=r._nodeTypeIs;i.TYPE="-ks-Node";c.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});c.one=function(h,l){return(h=c.get(h,l))?new i(h):null};c.Node=i});
KISSY.add("nodelist",function(c){function i(h){if(!(this instanceof i))return new i(h);p.push.apply(this,h||[])}var r=c.DOM,p=Array.prototype;c.mix(i.prototype,{length:0,item:function(h){var l=null;if(r._isElementNode(this[h]))l=new c.Node(this[h]);return l},getDOMNodes:function(){return p.slice.call(this)},each:function(h,l){var m=this.length,f=0,w;for(w=new c.Node(this[0]);f<m&&h.call(l||w,w,f,this)!==false;w=new c.Node(this[++f]));return this}});c.all=function(h,l){return new i(c.query(h,l,true))};
c.NodeList=i});
KISSY.add("node-attach",function(c,i){function r(j,arguments,b,a){var g=[this[j?d:u]()].concat(c.makeArray(arguments));if(arguments[b]===i)return a.apply(h,g);else{a.apply(h,g);return this}}function p(j,b){c.each(j,function(a){c.each([w,y],function(g,n){g[a]=function(e){switch(b){case k:return function(){return r.call(this,n,arguments,1,e)};case q:return function(){return r.call(this,n,arguments,0,e)};case t:return function(){var s=this[n?d:u]();return(s=e.apply(h,[s].concat(c.makeArray(arguments))))?new (c[c.isArray(s)?
"NodeList":"Node"])(s):null};default:return function(){var s=this[n?d:u]();s=e.apply(h,[s].concat(c.makeArray(arguments)));return s===i?this:s}}}(h[a])})})}var h=c.DOM,l=c.Event,m=h._nodeTypeIs,f=h._isKSNode,w=c.Node.prototype,y=c.NodeList.prototype,u="getDOMNode",d=u+"s",k=1,q=2,t=4;c.mix(w,{one:function(j){return c.one(j,this[0])},all:function(j){return c.all(j,this[0])}});p(["data","removeData"],k);p(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);p(["attr","removeAttr"],k);
p(["val","text"],q);p(["css"],k);p(["width","height"],q);p(["show","hide","toggle"]);p(["offset"],q);p(["scrollIntoView"]);p(["parent","next","prev","siblings","children"],t);p(["contains"]);p(["html"],q);p(["remove"]);c.each(["insertBefore","insertAfter"],function(j){w[j]=function(b){h[j].call(h,this[0],b);return this}});c.each([w,y],function(j,b){c.mix(j,{append:function(a){a&&c.each(this,function(g){var n;if(b||c.isString(a))n=h.create(a);else{if(m(a,1)||m(a,3))n=a;if(f(a))n=a[0]}g.appendChild(n)});
return this},appendTo:function(a){if((a=c.get(a))&&a.appendChild)c.each(this,function(g){a.appendChild(g)});return this}})});c.each([w,y],function(j){c.mix(j,c.EventTarget,{_supportSpecialEvent:true});j._addEvent=function(b,a,g){for(var n=0,e=this.length;n<e;n++)l._simpleAdd(this[n],b,a,g)};j._removeEvent=function(b,a,g){for(var n=0,e=this.length;n<e;n++)l._simpleRemove(this[n],b,a,g)};delete j.fire})});
KISSY.add("cookie",function(c){function i(l){return c.isString(l)&&l!==""}var r=document,p=encodeURIComponent,h=decodeURIComponent;c.Cookie={get:function(l){var m;if(i(l))if(l=r.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))m=l[1]?h(l[1]):"";return m},set:function(l,m,f,w,y,u){m=p(m);var d=f;if(typeof d==="number"){d=new Date;d.setTime(d.getTime()+f*864E5)}if(d instanceof Date)m+="; expires="+d.toUTCString();if(i(w))m+="; domain="+w;if(i(y))m+="; path="+y;if(u)m+="; secure";r.cookie=l+"="+m},remove:function(l,
m,f,w){this.set(l,"",0,m,f,w)}}});
KISSY.add("json",function(c){function i(u){return u<10?"0"+u:u}function r(u){l.lastIndex=0;return l.test(u)?'"'+u.replace(l,function(d){var k=w[d];return typeof k==="string"?k:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function p(u,d){var k,q,t=m,j,b=d[u];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(u);if(typeof y==="function")b=y.call(d,u,b);switch(typeof b){case "string":return r(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";m+=f;j=[];if(Object.prototype.toString.apply(b)==="[object Array]"){q=b.length;for(u=0;u<q;u+=1)j[u]=p(u,b)||"null";d=j.length===0?"[]":m?"[\n"+m+j.join(",\n"+m)+"\n"+t+"]":"["+j.join(",")+"]";m=t;return d}if(y&&typeof y==="object"){q=y.length;for(u=0;u<q;u+=1){k=y[u];if(typeof k==="string")if(d=p(k,b))j.push(r(k)+(m?": ":":")+d)}}else for(k in b)if(Object.hasOwnProperty.call(b,k))if(d=p(k,b))j.push(r(k)+(m?": ":":")+d);d=j.length===0?"{}":m?"{\n"+m+j.join(",\n"+m)+
"\n"+t+"}":"{"+j.join(",")+"}";m=t;return d}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,f,w={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if(typeof c.stringify!=="function")c.stringify=function(u,d,k){var q;f=m="";if(typeof k==="number")for(q=0;q<k;q+=1)f+=" ";else if(typeof k==="string")f=k;if((y=d)&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number"))throw new Error("JSON.stringify");return p("",
{"":u})};if(typeof c.parse!=="function")c.parse=function(u,d){function k(q,t){var j,b,a=q[t];if(a&&typeof a==="object")for(j in a)if(Object.hasOwnProperty.call(a,j)){b=k(a,j);if(b!==undefined)a[j]=b;else delete a[j]}return d.call(q,t,a)}u=String(u);h.lastIndex=0;if(h.test(u))u=u.replace(h,function(q){return"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){u=eval("("+u+")");return typeof d==="function"?k({"":u},""):u}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var i=Math,r=i.PI,p=i.pow,h=i.sin,l=1.70158,m={easeNone:function(f){return f},easeIn:function(f){return f*f},easeOut:function(f){return(2-f)*f},easeBoth:function(f){return(f*=2)<1?0.5*f*f:0.5*(1- --f*(f-2))},easeInStrong:function(f){return f*f*f*f},easeOutStrong:function(f){return 1- --f*f*f*f},easeBothStrong:function(f){return(f*=2)<1?0.5*f*f*f*f:0.5*(2-(f-=2)*f*f*f)},elasticIn:function(f){if(f===0||f===1)return f;return-(p(2,10*(f-=1))*h((f-0.075)*2*r/0.3))},
elasticOut:function(f){if(f===0||f===1)return f;return p(2,-10*f)*h((f-0.075)*2*r/0.3)+1},elasticBoth:function(f){if(f===0||(f*=2)===2)return f;if(f<1)return-0.5*p(2,10*(f-=1))*h((f-0.1125)*2*r/0.45);return p(2,-10*(f-=1))*h((f-0.1125)*2*r/0.45)*0.5+1},backIn:function(f){if(f===1)f-=0.0010;return f*f*((l+1)*f-l)},backOut:function(f){return(f-=1)*f*((l+1)*f+l)+1},backBoth:function(f){if((f*=2)<1)return 0.5*f*f*(((l*=1.525)+1)*f-l);return 0.5*((f-=2)*f*(((l*=1.525)+1)*f+l)+2)},bounceIn:function(f){return 1-
m.bounceOut(1-f)},bounceOut:function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375},bounceBoth:function(f){if(f<0.5)return m.bounceIn(f*2)*0.5;return m.bounceOut(f*2-1)*0.5+0.5}};c.Easing=m});
KISSY.add("anim",function(c,i){function r(j,b,a,g,n){if(j=c.get(j)){if(!(this instanceof r))return new r(j,b,a,g,n);var e=c.isPlainObject(a);b=b;this.domEl=j;if(c.isPlainObject(b))b=c.param(b,";").replace(/=/g,":");this.props=p(b);this.targetStyle=b;if(e)j=c.merge(t,a);else{j=c.clone(t);a&&(j.duration=u(a,10)||1);c.isString(g)&&(g=y[g]);c.isFunction(g)&&(j.easing=g);c.isFunction(n)&&(j.complete=n)}this.config=j;c.isFunction(n)&&this.on(q,n)}}function p(j){var b={},a=k.length,g;d.innerHTML='<div style="'+
j+'"></div>';for(j=d.firstChild.style;a--;)if(g=j[k[a]])b[k[a]]=h(g);return b}function h(j){var b=u(j);j=(j+"").replace(/^[-\d\.]+/,"");return isNaN(b)?{v:j,u:"",f:m}:{v:b,u:j,f:l}}function l(j,b,a){return(j+(b-j)*a).toFixed(3)}function m(j,b,a){for(var g=2,n,e,s=[],o=[];n=3,e=arguments[g-1],g--;)if(f(e,0,4)==="rgb(")for(e=e.match(/\d+/g);n--;)s.push(~~e[n]);else if(f(e,0)==="#"){if(e.length===4)e="#"+f(e,1)+f(e,1)+f(e,2)+f(e,2)+f(e,3)+f(e,3);for(;n--;)s.push(parseInt(f(e,1+n*2,2),16))}else return b;
for(;n--;){g=~~(s[n+3]+(s[n]-s[n+3])*a);o.push(g<0?0:g>255?255:g)}return"rgb("+o.join(",")+")"}function f(j,b,a){return j.substr(b,a||1)}var w=c.DOM,y=c.Easing,u=parseFloat,d=w.create("<div>"),k="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
q="complete",t={duration:1,easing:y.easeNone};c.augment(r,c.EventTarget,{run:function(){var j=this,b=j.config,a=j.domEl,g=b.duration*1E3,n=b.easing,e=c.now(),s=e+g,o=j.props,v={},A;for(A in o)v[A]=h(w.css(a,A));if(j.fire("start")!==false){j.stop();j.timer=c.later(b=function(){var x=c.now(),z=x>s?1:(x-e)/g,B,C,D;for(A in o){B=v[A];C=o[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;w.css(a,A,C.f(B.v,C.v,n(z))+C.u)}if(j.fire("step")===false||(D=x>s)){j.stop();D&&j.fire(q)}},13,true);b();return j}},stop:function(j){var b=
this.domEl,a=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=i}if(j){c.UA.ie&&a.indexOf("opacity")>-1&&w.css(b,"opacity",this.props.opacity.v);b.style.cssText+=";"+a;this.fire(q)}return this}});c.Anim=r});KISSY.add("anim-node-plugin",function(c,i){var r=c.Anim;c.each([c.Node.prototype,c.NodeList.prototype],function(p){p.animate=function(){var h=c.makeArray(arguments);c.each(this,function(l){r.apply(i,[l].concat(h)).run()});return this}})});KISSY.add("core");
