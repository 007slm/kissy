/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Sep 19 13:19
*/
(function(b,l,t){if(b[l]===t)b[l]={};l=b[l];var p=b.document,m=location,q=function(f,n,j,h){if(!n||!f)return f;if(j===t)j=true;var e,a,c;if(h&&(c=h.length))for(e=0;e<c;e++){a=h[e];if(a in n)if(j||!(a in f))f[a]=n[a]}else for(a in n)if(j||!(a in f))f[a]=n[a];return f},o=false,g=[],v=false,z=/^#?([\w-]+)$/,u=0;q(l,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var f=p.getElementsByTagName("script");this.Config={debug:"",base:f[f.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(f){v||this._bindReady();o?f.call(b,this):g.push(f);return this},_bindReady:function(){var f=this,n=p.documentElement.doScroll,j=n?"onreadystatechange":"DOMContentLoaded",h=function(){f._fireReady()};v=true;if(p.readyState==="complete")return h();if(p.addEventListener){var e=function(){p.removeEventListener(j,e,false);h()};p.addEventListener(j,e,false);b.addEventListener("load",h,false)}else{var a=function(){if(p.readyState==="complete"){p.detachEvent(j,a);h()}};p.attachEvent(j,
a);b.attachEvent("onload",h);if(b==b.top){var c=function(){try{n("left");h()}catch(i){setTimeout(c,1)}};c()}}},_fireReady:function(){if(!o){o=true;if(g){for(var f,n=0;f=g[n++];)f.call(b,this);g=null}}},available:function(f,n){if((f=(f+"").match(z)[1])&&l.isFunction(n))var j=1,h=l.later(function(){if(p.getElementById(f)&&(n()||1)||++j>500)h.cancel()},40,true)},mix:q,merge:function(){var f={},n,j=arguments.length;for(n=0;n<j;++n)q(f,arguments[n]);return f},augment:function(){var f=arguments,n=f.length-
2,j=f[0],h=f[n],e=f[n+1],a=1;if(!l.isArray(e)){h=e;e=t;n++}if(!l.isBoolean(h)){h=t;n++}for(;a<n;a++)q(j.prototype,f[a].prototype||f[a],h,e);return j},extend:function(f,n,j,h){if(!n||!f)return f;var e=Object.prototype,a=n.prototype,c=function(i){function k(){}k.prototype=i;return new k}(a);f.prototype=c;c.constructor=f;f.superclass=a;if(n!==Object&&a.constructor===e.constructor)a.constructor=n;j&&q(c,j);h&&q(f,h);return f},namespace:function(){var f=arguments,n=f.length,j=null,h,e,a,c=f[n-1]===true&&
n--;for(h=0;h<n;++h){a=(""+f[h]).split(".");j=c?b:this;for(e=b[a[0]]===j?1:0;e<a.length;++e)j=j[a[e]]=j[a[e]]||{}}return j},app:function(f,n){var j=l.isString(f),h=j?b[f]||{}:f;q(h,this,true,l.__APP_MEMBERS);h.__init();q(h,l.isFunction(n)?n():n);j&&(b[f]=h);return h},log:function(f,n,j){if(l.Config.debug){if(j)f=j+": "+f;if(b.console!==t&&console.log)console[n&&console[n]?n:"log"](f)}},error:function(f){if(l.Config.debug)throw f;},guid:function(f){var n=u++ +"";return f?f+n:n}});l.__init();l.__APP_MEMBERS=
["__init","namespace"];if(m&&(m.search||"").indexOf("ks-debug")!==-1)l.Config.debug=true})(window,"KISSY");
(function(b,l,t){function p(d){var r=typeof d;return d===null||r!=="object"&&r!=="function"}function m(d){return g.slice.call(d)}var q=document,o=q.documentElement,g=Array.prototype,v=g.indexOf,z=g.lastIndexOf,u=g.filter,f=String.prototype.trim,n=Object.prototype.toString,j=encodeURIComponent,h=decodeURIComponent,e=j("[]"),a=/^\s+|\s+$/g,c=/^(\w+)\[\]$/,i=/\S/;l.mix(l,{isUndefined:function(d){return d===t},isBoolean:function(d){return n.call(d)==="[object Boolean]"},isString:function(d){return n.call(d)===
"[object String]"},isNumber:function(d){return n.call(d)==="[object Number]"&&isFinite(d)},isPlainObject:function(d){return d&&n.call(d)==="[object Object]"&&!d.nodeType&&!d.setInterval},isEmptyObject:function(d){for(var r in d)return false;return true},isFunction:function(d){return n.call(d)==="[object Function]"},isArray:function(d){return n.call(d)==="[object Array]"},trim:f?function(d){return d==t?"":f.call(d)}:function(d){return d==t?"":d.toString().replace(a,"")},substitute:function(d,r,w){if(!l.isString(d)||
!l.isPlainObject(r))return d;return d.replace(w||/\\?\{([^{}]+)\}/g,function(s,x){if(s.charAt(0)==="\\")return s.slice(1);return r[x]!==t?r[x]:""})},each:function(d,r,w){var s,x=0,y=d.length,A=y===t||l.isFunction(d);w=w||b;if(A)for(s in d){if(r.call(w,d[s],s,d)===false)break}else for(s=d[0];x<y&&r.call(w,s,x,d)!==false;s=d[++x]);return d},indexOf:v?function(d,r){return v.call(r,d)}:function(d,r){for(var w=0,s=r.length;w<s;++w)if(r[w]===d)return w;return-1},lastIndexOf:z?function(d,r){return z.call(r,
d)}:function(d,r){for(var w=r.length-1;w>=0;w--)if(r[w]===d)break;return w},unique:function(d,r){r&&d.reverse();for(var w=d.slice(),s=0,x,y;s<w.length;){for(y=w[s];(x=l.lastIndexOf(y,w))!==s;)w.splice(x,1);s+=1}r&&w.reverse();return w},inArray:function(d,r){return l.indexOf(d,r)>-1},makeArray:function(d){if(d===null||d===t)return[];if(l.isArray(d))return d;if(typeof d.length!=="number"||l.isString(d)||l.isFunction(d))return[d];return m(d)},filter:u?function(d,r,w){return u.call(d,r,w)}:function(d,
r,w){var s=[];l.each(d,function(x,y,A){r.call(w,x,y,A)&&s.push(x)});return s},param:function(d,r){if(!l.isPlainObject(d))return"";r=r||"&";var w=[],s,x;for(s in d){x=d[s];s=j(s);if(p(x))w.push(s,"=",j(x+""),r);else if(l.isArray(x)&&x.length)for(var y=0,A=x.length;y<A;++y)p(x[y])&&w.push(s,e+"=",j(x[y]+""),r)}w.pop();return w.join("")},unparam:function(d,r){if(typeof d!=="string"||(d=l.trim(d)).length===0)return{};for(var w={},s=d.split(r||"&"),x,y,A,B,D=0,C=s.length;D<C;++D){x=s[D].split("=");y=h(x[0]);
try{A=h(x[1]||"")}catch(E){A=x[1]||""}if((B=y.match(c))&&B[1]){w[B[1]]=w[B[1]]||[];w[B[1]].push(A)}else w[y]=A}return w},later:function(d,r,w,s,x){r=r||0;s=s||{};var y=d,A=l.makeArray(x),B;if(l.isString(d))y=s[d];y||l.error("method undefined");d=function(){y.apply(s,A)};B=w?setInterval(d,r):setTimeout(d,r);return{id:B,interval:w,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(d){var r=d,w,s;if(d&&((w=l.isArray(d))||l.isPlainObject(d))){r=w?[]:{};for(s in d)if(d.hasOwnProperty(s))r[s]=
l.clone(d[s])}return r},now:function(){return(new Date).getTime()},globalEval:function(d){if(d&&i.test(d)){var r=q.getElementsByTagName("head")[0]||o,w=q.createElement("script");w.text=d;r.insertBefore(w,r.firstChild);r.removeChild(w)}}});try{m(o.childNodes)}catch(k){m=function(d){for(var r=[],w=d.length-1;w>=0;w--)r[w]=d[w];return r}}})(window,KISSY);
(function(b,l,t){var p=b.document,m=p.getElementsByTagName("head")[0]||p.documentElement,q=2,o=3,g=4,v=l.mix,z=p.createElement("script").readyState?function(f,n){var j=f.onreadystatechange;f.onreadystatechange=function(){var h=f.readyState;if(h==="loaded"||h==="complete"){f.onreadystatechange=null;j&&j();n.call(this)}}}:function(f,n){f.addEventListener("load",n,false)},u=/\.css(?:\?|$)/i;b={add:function(f,n,j){var h=this.Env.mods,e;if(l.isString(f)&&!j&&l.isPlainObject(n)){e={};e[f]=n;f=e}if(l.isPlainObject(f)){l.each(f,
function(a,c){a.name=c;h[c]&&v(a,h[c],false)});v(h,f)}else{j=j||{};e=h[f]||{};f=j.host||e.host||f;e=h[f]||{};v(e,{name:f,status:q});if(!e.fns)e.fns=[];n&&e.fns.push(n);v(h[f]=e,j);e.attach!==false&&this.__isAttached(e.requires)&&this.__attachMod(e)}return this},use:function(f,n,j){f=f.replace(/\s+/g,"").split(",");j=j||{};var h=this,e=h.Env.mods,a=(j||0).global,c,i=f.length,k,d,r;a&&h.__mixMods(a);if(h.__isAttached(f))n&&n(h);else{for(c=0;c<i&&(k=e[f[c]]);c++)if(k.status!==g){if(j.order&&c>0){if(!k.requires)k.requires=
[];k._requires=k.requires.concat();d=f[c-1];if(!l.inArray(d,k.requires)&&!l.inArray(k.name,e[d].requires||[]))k.requires.push(d)}h.__attach(k,function(){if(!r&&h.__isAttached(f)){r=true;if(k._requires)k.requires=k._requires;n&&n(h)}},a)}return h}},__attach:function(f,n,j){function h(){if(e.__isAttached(a)){f.status===q&&e.__attachMod(f);f.status===g&&n()}}for(var e=this,a=f.requires||[],c=0,i=a.length;c<i;c++)e.__attach(e.Env.mods[a[c]],h,j);e.__buildPath(f);e.__load(f,h,j)},__mixMods:function(f){var n=
this.Env.mods,j=f.Env.mods,h;for(h in j)this.__mixMod(n,j,h,f)},__mixMod:function(f,n,j,h){var e=f[j]||{},a=e.status;l.mix(e,l.clone(n[j]));if(a)e.status=a;h&&this.__buildPath(e,h.Config.base);f[j]=e},__attachMod:function(f){var n=this;if(f.fns){l.each(f.fns,function(j){j&&j(n)});f.fns=t}f.status=g},__isAttached:function(f){for(var n=this.Env.mods,j,h=(f=l.makeArray(f)).length-1;h>=0&&(j=n[f[h]]);h--)if(j.status!==g)return false;return true},__load:function(f,n,j){function h(){c[a]=q;if(f.status!==
o){j&&e.__mixMod(e.Env.mods,j.Env.mods,f.name,j);if(f.status!==g)f.status=q;n()}}var e=this,a=f.fullpath,c=l.Env._loadQueue,i=c[a];f.status=f.status||0;if(f.status<1&&i)f.status=i.nodeName?1:q;if(l.isString(f.cssfullpath)){e.getScript(f.cssfullpath);f.cssfullpath=q}if(f.status<1&&a){f.status=1;i=e.getScript(a,{success:function(){KISSY.log(f.name+" is loaded.","info");h()},error:function(){f.status=o;c[a]=q},charset:f.charset});u.test(a)||(c[a]=i)}else f.status===1?z(i,h):n()},__buildPath:function(f,
n){function j(e,a){if(!f[a]&&f[e])f[a]=(n||h.base)+f[e];if(f[a]&&h.debug)f[a]=f[a].replace(/-min/g,"")}var h=this.Config;j("path","fullpath");f.cssfullpath!==q&&j("csspath","cssfullpath")},getScript:function(f,n,j){var h=u.test(f),e=p.createElement(h?"link":"script"),a=n,c,i,k;if(l.isPlainObject(a)){n=a.success;c=a.error;i=a.timeout;j=a.charset}if(h){e.href=f;e.rel="stylesheet"}else{e.src=f;e.async=true}if(j)e.charset=j;if(l.isFunction(n))h?n.call(e):z(e,function(){if(k){k.cancel();k=t}n.call(e)});
if(l.isFunction(c))k=l.later(function(){k=t;c()},(i||this.Config.timeout)*1E3);m.insertBefore(e,m.firstChild);return e}};v(l,b);l.each(b,function(f,n){l.__APP_MEMBERS.push(n)})})(window,KISSY);(function(b){var l={core:{path:"packages/core-min.js",charset:"utf-8"}};b.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(t){l[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});l.calendar.csspath="calendar/default-min.css";b.add(l)})(KISSY);
KISSY.add("ua",function(b){var l=navigator.userAgent,t="",p="",m,q={},o=function(g){var v=0;return parseFloat(g.replace(/\./g,function(){return v++===0?".":""}))};if((m=l.match(/AppleWebKit\/([\d.]*)/))&&m[1]){q[t="webkit"]=o(m[1]);if((m=l.match(/Chrome\/([\d.]*)/))&&m[1])q[p="chrome"]=o(m[1]);else if((m=l.match(/\/([\d.]*) Safari/))&&m[1])q[p="safari"]=o(m[1]);if(/ Mobile\//.test(l))q.mobile="apple";else if(m=l.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))q.mobile=m[0].toLowerCase()}else if((m=
l.match(/Presto\/([\d.]*)/))&&m[1]){q[t="presto"]=o(m[1]);if((m=l.match(/Opera\/([\d.]*)/))&&m[1]){q[p="opera"]=o(m[1]);if((m=l.match(/Opera\/.* Version\/([\d.]*)/))&&m[1])q[p]=o(m[1]);if((m=l.match(/Opera Mini[^;]*/))&&m)q.mobile=m[0].toLowerCase();else if((m=l.match(/Opera Mobi[^;]*/))&&m)q.mobile=m[0]}}else if((m=l.match(/MSIE\s([^;]*)/))&&m[1]){q[t="trident"]=0.1;q[p="ie"]=o(m[1]);if((m=l.match(/Trident\/([\d.]*)/))&&m[1])q[t]=o(m[1])}else if(m=l.match(/Gecko/)){q[t="gecko"]=0.1;if((m=l.match(/rv:([\d.]*)/))&&
m[1])q[t]=o(m[1]);if((m=l.match(/Firefox\/([\d.]*)/))&&m[1])q[p="firefox"]=o(m[1])}q.core=t;q.shell=p;q._numberify=o;b.UA=q});
KISSY.add("ua-extra",function(b){var l=b.UA,t=navigator.userAgent,p,m,q={},o=l._numberify;if(t.match(/360SE/))q[m="se360"]=3;else if(t.match(/Maxthon/)&&(p=window.external)){m="maxthon";try{q[m]=o(p.max_version)}catch(g){q[m]=0.1}}else if(p=t.match(/TencentTraveler\s([\d.]*)/))q[m="tt"]=p[1]?o(p[1]):0.1;else if(t.match(/TheWorld/))q[m="theworld"]=3;else if(p=t.match(/SE\s([\d.]*)/))q[m="sougou"]=p[1]?o(p[1]):0.1;m&&(q.shell=m);b.mix(l,q)});
KISSY.add("dom",function(b,l){function t(p,m){return p&&p.nodeType===m}b.DOM={_isElementNode:function(p){return t(p,1)},_isKSNode:function(p){return b.Node&&t(p,b.Node.TYPE)},_getWin:function(p){return p&&"scrollTo"in p&&p.document?p:t(p,9)?p.defaultView||p.parentWindow:p===l?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(b,l){function t(a,c){var i,k,d=[],r;c=p(c);if(b.isString(a)){a=b.trim(a);if(h.test(a)){if(k=m(a.slice(1),c))d=[k]}else if(i=e.exec(a)){k=i[1];r=i[2];i=i[3];if(c=k?m(k,c):c)if(i)if(!k||a.indexOf(u)!==-1)d=o(i,r,c);else{if((k=m(k,c))&&z.hasClass(k,i))d=[k]}else if(r)d=q(r,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else g(a)}else if(a&&(a[n]||a[j]))d=a[n]?[a[n]()]:a[j]();else if(a&&(b.isArray(a)||a&&!a.nodeType&&a.item&&a!=window))d=a;else if(a)d=[a];if(d&&
!d.nodeType&&d.item&&d!=window)d=b.makeArray(d);d.each=function(w,s){return b.each(d,w,s)};return d}function p(a){if(a===l)a=v;else if(b.isString(a)&&h.test(a))a=m(a.slice(1),v);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function m(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function q(a,c){return c.getElementsByTagName(a)}function o(a,c,i){i=a=i.getElementsByClassName(a);var k=0,d=0,r=a.length,w;if(c&&c!==f){i=[];for(c=c.toUpperCase();k<r;++k){w=a[k];if(w.tagName===
c)i[d++]=w}}return i}function g(a){b.error("Unsupported selector: "+a)}var v=document,z=b.DOM,u=" ",f="*",n="getDOMNode",j=n+"s",h=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=v.createElement("div");a.appendChild(v.createComment(""));if(a.getElementsByTagName(f).length>0)q=function(c,i){var k=i.getElementsByTagName(c);if(c===f){for(var d=[],r=0,w=0,s;s=k[r++];)if(s.nodeType===1)d[w++]=s;k=d}return k}})();v.getElementsByClassName||(o=v.querySelectorAll?function(a,c,
i){return i.querySelectorAll((c?c:"")+"."+a)}:function(a,c,i){c=i.getElementsByTagName(c||f);i=[];var k=0,d=0,r=c.length,w,s;for(a=u+a+u;k<r;++k){w=c[k];if((s=w.className)&&(u+s+u).indexOf(a)>-1)i[d++]=w}return i});b.query=t;b.get=function(a,c){return t(a,c)[0]||null};b.mix(z,{query:t,get:b.get,filter:function(a,c){var i=t(a),k,d,r,w=[];if(b.isString(c)&&(k=e.exec(c))&&!k[1]){d=k[2];r=k[3];c=function(s){return!(d&&s.tagName!==d.toUpperCase()||r&&!z.hasClass(s,r))}}if(b.isFunction(c))w=b.filter(i,
c);else if(c&&b.ExternalSelector)w=b.ExternalSelector._filter(a,c);else g(c);return w},test:function(a,c){var i=t(a);return z.filter(i,c).length===i.length}})});
KISSY.add("dom-data",function(b,l){var t=window,p=b.DOM,m="_ks_data_"+b.now(),q={},o={},g={EMBED:1,OBJECT:1,APPLET:1};b.mix(p,{data:function(v,z,u){if(b.isPlainObject(z))for(var f in z)p.data(v,f,z[f]);else if(u===l){v=b.get(v);var n;if(!(!v||g[v.nodeName])){if(v==t)v=o;n=(f=v&&v.nodeType)?q:v;v=n[f?v[m]:m];if(b.isString(z)&&v)return v[z];return v}}else b.query(v).each(function(j){if(!(!j||g[j.nodeName])){if(j==t)j=o;var h=q,e;if(j&&j.nodeType){if(!(e=j[m]))e=j[m]=b.guid()}else{e=m;h=j}if(z&&u!==
l){h[e]||(h[e]={});h[e][z]=u}}})},removeData:function(v,z){b.query(v).each(function(u){if(u){if(u==t)u=o;var f,n=q,j,h=u&&u.nodeType;if(h)f=u[m];else{n=u;f=m}if(f){j=n[f];if(z){if(j){delete j[z];b.isEmptyObject(j)&&p.removeData(u)}}else{if(h)u.removeAttribute&&u.removeAttribute(m);else try{delete u[m]}catch(e){}h&&delete n[f]}}}})}})});
KISSY.add("dom-class",function(b,l){function t(o,g,v,z){if(!(g=b.trim(g)))return z?false:l;o=b.query(o);var u=0,f=o.length;g=g.split(m);for(var n;u<f;u++){n=o[u];if(p._isElementNode(n)){n=v(n,g,g.length);if(n!==l)return n}}if(z)return false}var p=b.DOM,m=/[\.\s]\s*\.?/,q=/[\n\t]/g;b.mix(p,{hasClass:function(o,g){return t(o,g,function(v,z,u){if(v=v.className){v=" "+v+" ";for(var f=0,n=true;f<u;f++)if(v.indexOf(" "+z[f]+" ")<0){n=false;break}if(n)return true}},true)},addClass:function(o,g){t(o,g,function(v,
z,u){var f=v.className;if(f){var n=" "+f+" ";f=f;for(var j=0;j<u;j++)if(n.indexOf(" "+z[j]+" ")<0)f+=" "+z[j];v.className=b.trim(f)}else v.className=g})},removeClass:function(o,g){t(o,g,function(v,z,u){var f=v.className;if(f)if(u){f=(" "+f+" ").replace(q," ");for(var n=0,j;n<u;n++)for(j=" "+z[n]+" ";f.indexOf(j)>=0;)f=f.replace(j," ");v.className=b.trim(f)}else v.className=""})},replaceClass:function(o,g,v){p.removeClass(o,g);p.addClass(o,v)},toggleClass:function(o,g,v){var z=b.isBoolean(v),u;t(o,
g,function(f,n,j){for(var h=0,e;h<j;h++){e=n[h];u=z?!v:p.hasClass(f,e);p[u?"removeClass":"addClass"](f,e)}})}})});
KISSY.add("dom-attr",function(b,l){var t=b.UA,p=t.ie,m=p&&p<8,q=document.documentElement.textContent!==l?"textContent":"innerText",o=b.DOM,g=o._isElementNode,v=/href|src|style/,z=/href|src|colspan|rowspan/,u=/\r/g,f=/radio|checkbox/,n={readonly:"readOnly"},j={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};m&&b.mix(n,{"for":"htmlFor","class":"className"});b.mix(o,{attr:function(h,e,a,c){if(b.isPlainObject(e)){c=a;for(var i in e)o.attr(h,i,e[i],c)}else if(e=b.trim(e)){e=e.toLowerCase();
if(c&&j[e])return o[e](h,a);e=n[e]||e;if(a===l){h=b.get(h);if(!g(h))return l;var k;v.test(e)||(k=h[e]);if(k===l)k=h.getAttribute(e);if(m)if(z.test(e))k=h.getAttribute(e,2);else if(e==="style")k=h.style.cssText;return k===null?l:k}b.each(b.query(h),function(d){if(g(d))if(e==="style")d.style.cssText=a;else{if(e==="checked")d[e]=!!a;d.setAttribute(e,""+a)}})}},removeAttr:function(h,e){b.each(b.query(h),function(a){if(g(a)){o.attr(a,e,"");a.removeAttribute(e)}})},val:function(h,e){if(e===l){var a=b.get(h);
if(!g(a))return l;if(a&&a.nodeName.toUpperCase()==="option".toUpperCase())return(a.attributes.value||{}).specified?a.value:a.text;if(a&&a.nodeName.toUpperCase()==="select".toUpperCase()){var c=a.selectedIndex,i=a.options;if(c<0)return null;else if(a.type==="select-one")return o.val(i[c]);a=[];for(var k=0,d=i.length;k<d;++k)i[k].selected&&a.push(o.val(i[k]));return a}if(t.webkit&&f.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(u,"")}b.each(b.query(h),function(r){if(r&&
r.nodeName.toUpperCase()==="select".toUpperCase()){if(b.isNumber(e))e+="";var w=b.makeArray(e),s=r.options,x;k=0;for(d=s.length;k<d;++k){x=s[k];x.selected=b.inArray(o.val(x),w)}if(!w.length)r.selectedIndex=-1}else if(g(r))r.value=e})},text:function(h,e){if(e===l){var a=b.get(h);if(g(a))return a[q]||"";else if(o._nodeTypeIs(a,3))return a.nodeValue}else b.each(b.query(h),function(c){if(g(c))c[q]=e;else if(o._nodeTypeIs(c,3))c.nodeValue=e})}})});
KISSY.add("dom-style",function(b,l){function t(a,c){var i=b.get(a),k=c===v?i.offsetWidth:i.offsetHeight;b.each(c===v?["Left","Right"]:["Top","Bottom"],function(d){k-=parseFloat(m._getComputedStyle(i,"padding"+d))||0;k-=parseFloat(m._getComputedStyle(i,"border"+d+"Width"))||0});return k}function p(a,c,i){var k=i;if(i===z&&f.test(c)){k=0;if(m.css(a,"position")==="absolute"){i=a[c==="left"?"offsetLeft":"offsetTop"];if(q.ie===8||q.opera)i-=u(m.css(a.offsetParent,"border-"+c+"-width"))||0;k=i-(u(m.css(a,
"margin-"+c))||0)}}return k}var m=b.DOM,q=b.UA,o=document,g=o.documentElement,v="width",z="auto",u=parseInt,f=/^left|top$/,n=/width|height|top|left|right|bottom|margin|padding/i,j=/-([a-z])/ig,h=function(a,c){return c.toUpperCase()},e={};b.mix(m,{_CUSTOM_STYLES:e,_getComputedStyle:function(a,c){var i="",k=a.ownerDocument;if(a.style)i=k.defaultView.getComputedStyle(a,null)[c];return i},css:function(a,c,i){if(b.isPlainObject(c))for(var k in c)m.css(a,k,c[k]);else{if(c.indexOf("-")>0)c=c.replace(j,h);
c=e[c]||c;if(i===l){a=b.get(a);k="";if(a&&a.style){k=c.get?c.get(a):a.style[c];if(k===""&&!c.get)k=p(a,c,m._getComputedStyle(a,c))}return k===l?"":k}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&n.test(c))i+="px";(c===v||c==="height")&&parseFloat(i)<0||b.each(b.query(a),function(d){if(d&&d.style){c.set?c.set(d,i):d.style[c]=i;if(i==="")d.style.cssText||d.removeAttribute("style")}})}}},width:function(a,c){if(c===l)return t(a,v);else m.css(a,v,c)},height:function(a,c){if(c===l)return t(a,
"height");else m.css(a,"height",c)},show:function(a){b.query(a).each(function(c){if(c)c.style.display=m.data(c,"display")||""})},hide:function(a){b.query(a).each(function(c){if(c){var i=c.style,k=i.display;if(k!=="none"){k&&m.data(c,"display",k);i.display="none"}}})},toggle:function(a){b.query(a).each(function(c){if(c)c.style.display==="none"?m.show(c):m.hide(c)})},addStyleSheet:function(a,c){var i;if(c)i=b.get("#"+c);if(!i){i=m.create("<style>",{id:c});b.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=
a;else i.appendChild(o.createTextNode(a))}}});if(g.style.cssFloat!==l)e["float"]="cssFloat";else if(g.style.styleFloat!==l)e["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,l){if(b.UA.ie){var t=b.DOM,p=document,m=p.documentElement,q=t._CUSTOM_STYLES,o=/^-?\d+(?:px)?$/i,g=/^-?\d/,v=/^width|height$/;try{if(m.style.opacity===l&&m.filters)q.opacity={get:function(u){var f=100;try{f=u.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(n){try{f=u.filters("alpha").opacity}catch(j){}}return f/100+""},set:function(u,f){var n=u.style,j=(u.currentStyle||0).filter||"";n.zoom=1;if(j)if(j=j.replace(/alpha\(opacity=.+\)/ig,""))j+=", ";n.filter=
j+"alpha(opacity="+f*100+")"}}}catch(z){}if(!(p.defaultView||{}).getComputedStyle&&m.currentStyle)t._getComputedStyle=function(u,f){var n=u.style,j=u.currentStyle[f];if(v.test(f))j=t[f](u)+"px";else if(!o.test(j)&&g.test(j)){var h=n.left,e=u.runtimeStyle.left;u.runtimeStyle.left=u.currentStyle.left;n.left=f==="fontSize"?"1em":j||0;j=n.pixelLeft+"px";n.left=h;u.runtimeStyle.left=e}return j}}});
KISSY.add("dom-offset",function(b,l){function t(k){var d=0,r=0,w=z(k[j]);if(k[i]){k=k[i]();d=k[h];r=k[e];if(m.mobile!=="apple"){d+=p[a](w);r+=p[c](w)}}return{left:d,top:r}}var p=b.DOM,m=b.UA,q=window,o=document,g=p._isElementNode,v=p._nodeTypeIs,z=p._getWin,u=o.compatMode==="CSS1Compat",f=Math.max,n=parseInt,j="ownerDocument",h="left",e="top",a="scrollLeft",c="scrollTop",i="getBoundingClientRect";b.mix(p,{offset:function(k,d){if(!(k=b.get(k))||!k[j])return null;if(d===l)return t(k);var r=k;if(p.css(r,
"position")==="static")r.style.position="relative";var w=t(r),s={},x,y;for(y in d){x=n(p.css(r,y),10)||0;s[y]=x+d[y]-w[y]}p.css(r,s)},scrollIntoView:function(k,d,r,w){if((k=b.get(k))&&k[j]){w=w===l?true:!!w;r=r===l?true:!!r;if(!d||d===q)return k.scrollIntoView(r);d=b.get(d);if(v(d,9))d=z(d);var s=d&&"scrollTo"in d&&d.document,x=p.offset(k),y=s?{left:p.scrollLeft(d),top:p.scrollTop(d)}:p.offset(d),A={left:x[h]-y[h],top:x[e]-y[e]};x=s?p.viewportHeight(d):d.clientHeight;y=s?p.viewportWidth(d):d.clientWidth;
var B=p[a](d),D=p[c](d),C=B+y,E=D+x,H=k.offsetHeight;k=k.offsetWidth;var G=A.left+B-(n(p.css(d,"borderLeftWidth"))||0);A=A.top+D-(n(p.css(d,"borderTopWidth"))||0);var I=G+k,K=A+H,F,J;if(H>x||A<D||r)F=A;else if(K>E)F=K-x;if(w)if(k>y||G<B||r)J=G;else if(I>C)J=I-y;if(s){if(F!==l||J!==l)d.scrollTo(J,F)}else{if(F!==l)d[c]=F;if(J!==l)d[a]=J}}}});b.each(["Left","Top"],function(k,d){var r="scroll"+k;p[r]=function(w){var s=0,x=z(w),y;if(x&&(y=x.document))s=x[d?"pageYOffset":"pageXOffset"]||y.documentElement[r]||
y.body[r];else if(g(w=b.get(w)))s=w[r];return s}});b.each(["Width","Height"],function(k){p["doc"+k]=function(d){d=d||o;return f(u?d.documentElement["scroll"+k]:d.body["scroll"+k],p["viewport"+k](d))};p["viewport"+k]=function(d){var r="inner"+k;d=z(d);var w=d.document;return r in d?d[r]:u?w.documentElement["client"+k]:w.body["client"+k]}})});
KISSY.add("dom-traversal",function(b,l){function t(o,g,v,z){if(!(o=b.get(o)))return null;if(g===l)g=1;var u=null,f,n;if(b.isNumber(g)&&g>=0){if(g===0)return o;f=0;n=g;g=function(){return++f===n}}for(;o=o[v];)if(q(o)&&(!g||m.test(o,g))&&(!z||z(o))){u=o;break}return u}function p(o,g,v){var z=[];var u=o=b.get(o);if(o&&v)u=o.parentNode;if(u){v=0;for(u=u.firstChild;u;u=u.nextSibling)if(q(u)&&u!==o&&(!g||m.test(u,g)))z[v++]=u}return z}var m=b.DOM,q=m._isElementNode;b.mix(m,{parent:function(o,g){return t(o,
g,"parentNode",function(v){return v.nodeType!=11})},next:function(o,g){return t(o,g,"nextSibling")},prev:function(o,g){return t(o,g,"previousSibling")},siblings:function(o,g){return p(o,g,true)},children:function(o,g){return p(o,g)},contains:function(o,g){var v=false;if((o=b.get(o))&&(g=b.get(g)))if(o.contains)return o.contains(g);else if(o.compareDocumentPosition)return!!(o.compareDocumentPosition(g)&16);else for(;!v&&(g=g.parentNode);)v=g==o;return v}})});
KISSY.add("dom-create",function(b,l){function t(s){var x=s.cloneNode(true);if(g.ie<8)x.innerHTML=s.innerHTML;return x}function p(s,x,y,A){if(y){var B=b.guid("ks-tmp-"),D=RegExp(h);x+='<span id="'+B+'"></span>';b.available(B,function(){var C=b.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(x);)if((G=(H=E[1])?H.match(a):false)&&G[2]){E=q.createElement("script");E.src=G[2];if((I=H.match(c))&&I[2])E.charset=I[2];E.async=true;C.appendChild(E)}else if((F=E[2])&&F.length>0)b.globalEval(F);(K=q.getElementById(B))&&
o.remove(K);b.isFunction(A)&&A()});m(s,x)}else{m(s,x);b.isFunction(A)&&A()}}function m(s,x){x=(x+"").replace(h,"");try{s.innerHTML=x}catch(y){for(;s.firstChild;)s.removeChild(s.firstChild);x&&s.appendChild(o.create(x))}}var q=document,o=b.DOM,g=b.UA,v=g.ie,z=o._nodeTypeIs,u=o._isElementNode,f=o._isKSNode,n=q.createElement("div"),j=/<(\w+)/,h=/<script([^>]*)>([\s\S]*?)<\/script>/ig,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,a=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;b.mix(o,{create:function(s,x,y){if(z(s,
1)||z(s,3))return t(s);if(f(s))return t(s[0]);if(!(s=b.trim(s)))return null;var A=null;A=o._creators;var B,D="div",C;if(B=e.exec(s))A=(y||q).createElement(B[1]);else{if((B=j.exec(s))&&(C=B[1])&&b.isFunction(A[C=C.toLowerCase()]))D=C;s=A[D](s,y).childNodes;if(s.length===1)y=s[0].parentNode.removeChild(s[0]);else{s=s;C=y||q;y=null;if(s&&(s.push||s.item)&&s[0]){C=C||s[0].ownerDocument;y=C.createDocumentFragment();if(s.item)s=b.makeArray(s);C=0;for(A=s.length;C<A;C++)y.appendChild(s[C])}y=y}A=y}y=A;u(y)&&
b.isPlainObject(x)&&o.attr(y,x,true);return y},_creators:{div:function(s,x){var y=x?x.createElement("div"):n;y.innerHTML=s;return y}},html:function(s,x,y,A){if(x===l){s=b.get(s);if(u(s))return s.innerHTML}else b.each(b.query(s),function(B){u(B)&&p(B,x,y,A)})},remove:function(s){b.each(b.query(s),function(x){u(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(g.gecko||v){var i=o._creators,k=o.create,d=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in r)(function(s){i[w]=function(x,y){return k("<"+s+">"+x+"</"+s+">",null,y)}})(r[w]);if(v){i.script=function(s,x){var y=x?x.createElement("div"):n;y.innerHTML="-"+s;y.removeChild(y.firstChild);return y};if(v<8)i.tbody=function(s,x){var y=k("<table>"+s+"</table>",null,x),A=y.children.tags("tbody")[0];y.children.length>1&&A&&!d.test(s)&&A.parentNode.removeChild(A);return y}}b.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,caption:i.tbody,
colgroup:i.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(l,t){if((l=b.get(l))&&(t=b.get(t))&&t.parentNode)t.parentNode.insertBefore(l,t);return l},insertAfter:function(l,t){if((l=b.get(l))&&(t=b.get(t))&&t.parentNode)t.nextSibling?t.parentNode.insertBefore(l,t.nextSibling):t.parentNode.appendChild(l);return l}})});
KISSY.add("event",function(b,l){function t(h,e,a,c,i){if(b.isString(e))e=b.query(e);if(b.isArray(e)){b.each(e,function(k){j[h](k,a,c,i)});return true}if((a=b.trim(a))&&a.indexOf(u)>0){b.each(a.split(u),function(k){j[h](e,k,c,i)});return true}}function p(h,e){m(h)&&o.data(h,z,e)}function m(h){return h&&h.nodeType!==3&&h.nodeType!==8}var q=document,o=b.DOM,g=q.addEventListener?function(h,e,a,c){h.addEventListener&&h.addEventListener(e,a,!!c)}:function(h,e,a){h.attachEvent&&h.attachEvent("on"+e,a)},
v=q.removeEventListener?function(h,e,a,c){h.removeEventListener&&h.removeEventListener(e,a,!!c)}:function(h,e,a){h.detachEvent&&h.detachEvent("on"+e,a)},z="ksEventTargetId",u=" ",f=b.now(),n={},j={EVENT_GUID:z,special:{},add:function(h,e,a,c){if(!t("add",h,e,a,c)){var i=m(h)?o.data(h,z):-1,k,d,r,w,s;if(!(i===-1||!e||!b.isFunction(a))){if(!i){p(h,i=f++);n[i]={target:h,events:{}}}d=n[i].events;if(!d[e]){k=((i=!h.isCustomEventTarget)||h._supportSpecialEvent)&&j.special[e]||{};r=function(x,y){if(!x||
!x.fixed){x=new b.EventObject(h,x,e);b.isPlainObject(y)&&b.mix(x,y)}k.setup&&k.setup(x);return(k.handle||j._handle)(h,x,d[e].listeners)};d[e]={handle:r,listeners:[]};w=k.fix||e;s=k.capture;if(i)g(h,w,r,s);else h._addEvent&&h._addEvent(w,r,s)}d[e].listeners.push({fn:a,scope:c||h})}}},remove:function(h,e,a,c){if(!t("remove",h,e,a,c)){var i=m(h)?o.data(h,z):-1,k,d,r,w,s,x,y;if(i!==-1)if(i&&(k=n[i]))if(k.target===h){c=c||h;k=k.events||{};if(d=k[e]){r=d.listeners;x=r.length;if(b.isFunction(a)&&x){s=w=
0;for(y=[];w<x;++w)if(a!==r[w].fn||c!==r[w].scope)y[s++]=r[w];d.listeners=y;x=y.length}if(a===l||x===0){if(h.isCustomEventTarget)h._addEvent&&h._removeEvent(e,d.handle);else{a=j.special[e]||{};v(h,a.fix||e,d.handle)}delete k[e]}}if(e===l||b.isEmptyObject(k)){for(e in k)j.remove(h,e);delete n[i];o.removeData(h,z)}}}},_handle:function(h,e,a){a=a.slice(0);for(var c,i=0,k=a.length;i<k;++i){c=a[i];c=c.fn.call(c.scope||h,e);if(c===false&&h.isCustomEventTarget||e.isImmediatePropagationStopped)break}return c},
_getCache:function(h){return n[h]},_simpleAdd:g,_simpleRemove:v};j.on=j.add;b.Event=j});
KISSY.add("event-object",function(b,l){function t(q,o,g){this.currentTarget=q;this.originalEvent=o||{};if(o){this.type=o.type;this._fix()}else{this.type=g;this.target=q}this.currentTarget=q;this.fixed=true}var p=document,m="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(t,
{_fix:function(){var q=this.originalEvent,o=m.length,g,v=this.currentTarget;for(v=v.nodeType===9?v:v.ownerDocument||p;o;){g=m[--o];this[g]=q[g]}if(!this.target)this.target=this.srcElement||p;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===l&&this.clientX!==l){q=v.documentElement;o=v.body;this.pageX=this.clientX+(q&&q.scrollLeft||o&&o.scrollLeft||
0)-(q&&q.clientLeft||o&&o.clientLeft||0);this.pageY=this.clientY+(q&&q.scrollTop||o&&o.scrollTop||0)-(q&&q.clientTop||o&&o.clientTop||0)}if(this.which===l)this.which=this.charCode!==l?this.charCode:this.keyCode;if(this.metaKey===l)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==l)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var q=this.originalEvent;if(q.preventDefault)q.preventDefault();else q.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var q=
this.originalEvent;if(q.stopPropagation)q.stopPropagation();else q.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var q=this.originalEvent;q.stopImmediatePropagation?q.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(q){q?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=t});
KISSY.add("event-target",function(b,l){var t=b.Event;b.EventTarget={isCustomEventTarget:true,fire:function(p,m){var q=b.DOM.data(this,t.EVENT_GUID)||-1;if((q=((t._getCache(q)||{}).events||{})[p])&&b.isFunction(q.handle))return q.handle(l,m);return this},on:function(p,m,q){t.add(this,p,m,q);return this},detach:function(p,m,q){t.remove(this,p,m,q);return this}}});
KISSY.add("event-mouseenter",function(b){var l=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){l.special[t.name]={fix:t.fix,setup:function(p){p.type=t.name},handle:function(p,m,q){if(b.DOM._isKSNode(p))p=p[0];var o=m.relatedTarget;try{for(;o&&o!==p;)o=o.parentNode;o!==p&&l._handle(p,m,q)}catch(g){}}}})});
KISSY.add("event-focusin",function(b){var l=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){l.special[t.name]={fix:t.fix,capture:true,setup:function(p){p.type=t.name}}})});
KISSY.add("node",function(b){function l(m,q,o){var g;if(!(this instanceof l))return new l(m,q,o);if(m){if(b.isString(m))g=t.create(m,q,o);else if(p(m,1)||p(m,3))g=m;else if(m instanceof l)return m;this[0]=g}else this.length=0}var t=b.DOM,p=t._nodeTypeIs;l.TYPE="-ks-Node";b.augment(l,{length:1,getDOMNode:function(){return this[0]},nodeType:l.TYPE});b.one=function(m,q){var o=b.get(m,q);return o?new l(o):null};b.Node=l});
KISSY.add("nodelist",function(b){function l(m){if(!(this instanceof l))return new l(m);p.push.apply(this,m||[])}var t=b.DOM,p=Array.prototype;b.mix(l.prototype,{length:0,item:function(m){var q=null;if(t._isElementNode(this[m]))q=new b.Node(this[m]);return q},getDOMNodes:function(){return p.slice.call(this)},each:function(m,q){var o=this.length,g=0,v;for(v=new b.Node(this[0]);g<o&&m.call(q||v,v,g,this)!==false;v=new b.Node(this[++g]));return this}});b.all=function(m,q){return new l(b.query(m,q,true))};
b.NodeList=l});
KISSY.add("node-attach",function(b,l){function t(e,a,c,i){e=[this[e?f:u]()].concat(b.makeArray(a));if(a[c]===l)return i.apply(m,e);else{i.apply(m,e);return this}}function p(e,a){b.each(e,function(c){b.each([v,z],function(i,k){i[c]=function(d){switch(a){case n:return function(){return t.call(this,k,arguments,1,d)};case j:return function(){return t.call(this,k,arguments,0,d)};case h:return function(){var r=this[k?f:u]();return(r=d.apply(m,[r].concat(b.makeArray(arguments))))?new (b[b.isArray(r)?"NodeList":
"Node"])(r):null};default:return function(){var r=this[k?f:u]();r=d.apply(m,[r].concat(b.makeArray(arguments)));return r===l?this:r}}}(m[c])})})}var m=b.DOM,q=b.Event,o=m._nodeTypeIs,g=m._isKSNode,v=b.Node.prototype,z=b.NodeList.prototype,u="getDOMNode",f=u+"s",n=1,j=2,h=4;b.mix(v,{one:function(e){return b.one(e,this[0])},all:function(e){return b.all(e,this[0])}});p(["data","removeData"],n);p(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);p(["attr","removeAttr"],n);p(["val","text"],
j);p(["css"],n);p(["width","height"],j);p(["offset"],j);p(["scrollIntoView"]);p(["parent","next","prev","siblings","children"],h);p(["contains"]);p(["html"],j);p(["remove"]);b.each(["insertBefore","insertAfter"],function(e){v[e]=function(a){m[e].call(m,this[0],a);return this}});b.each([v,z],function(e,a){b.mix(e,{append:function(c){c&&b.each(this,function(i){var k;if(a||b.isString(c))k=m.create(c);else{if(o(c,1)||o(c,3))k=c;if(g(c))k=c[0]}i.appendChild(k)});return this},appendTo:function(c){if((c=
b.get(c))&&c.appendChild)b.each(this,function(i){c.appendChild(i)});return this}})});b.each([v,z],function(e){b.mix(e,b.EventTarget);e._supportSpecialEvent=true;e._addEvent=function(a,c,i){for(var k=0,d=this.length;k<d;k++)q._simpleAdd(this[k],a,c,i)};e._removeEvent=function(a,c,i){for(var k=0,d=this.length;k<d;k++)q._simpleRemove(this[k],a,c,i)};delete e.fire})});
KISSY.add("cookie",function(b){var l=document,t=encodeURIComponent,p=decodeURIComponent;b.Cookie={get:function(m){var q;if(b.isString(m)&&m!=="")if(m=l.cookie.match("(?:^| )"+m+"(?:(?:=([^;]*))|;|$)"))q=m[1]?p(m[1]):"";return q},set:function(m,q,o,g,v,z){q=t(q);var u=o;if(typeof u==="number"){u=new Date;u.setTime(u.getTime()+o*864E5)}if(u instanceof Date)q+="; expires="+u.toUTCString();if(b.isString(g)&&g!=="")q+="; domain="+g;if(b.isString(v)&&v!=="")q+="; path="+v;if(z)q+="; secure";l.cookie=m+
"="+q},remove:function(m,q,o,g){this.set(m,"",0,q,o,g)}}});
KISSY.add("json",function(b){function l(u){return u<10?"0"+u:u}function t(u){q.lastIndex=0;return q.test(u)?'"'+u.replace(q,function(f){var n=v[f];return typeof n==="string"?n:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function p(u,f){var n,j,h,e,a=o,c,i=f[u];if(i&&typeof i==="object"&&typeof i.toJSON==="function")i=i.toJSON(u);if(typeof z==="function")i=z.call(f,u,i);switch(typeof i){case "string":return t(i);case "number":return isFinite(i)?String(i):"null";case "boolean":case "null":return String(i);
case "object":if(!i)return"null";o+=g;c=[];if(Object.prototype.toString.apply(i)==="[object Array]"){e=i.length;for(n=0;n<e;n+=1)c[n]=p(n,i)||"null";h=c.length===0?"[]":o?"[\n"+o+c.join(",\n"+o)+"\n"+a+"]":"["+c.join(",")+"]";o=a;return h}if(z&&typeof z==="object"){e=z.length;for(n=0;n<e;n+=1){j=z[n];if(typeof j==="string")if(h=p(j,i))c.push(t(j)+(o?": ":":")+h)}}else for(j in i)if(Object.hasOwnProperty.call(i,j))if(h=p(j,i))c.push(t(j)+(o?": ":":")+h);h=c.length===0?"{}":o?"{\n"+o+c.join(",\n"+o)+
"\n"+a+"}":"{"+c.join(",")+"}";o=a;return h}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var m=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
q=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,g,v={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;if(typeof b.stringify!=="function")b.stringify=function(u,f,n){var j;g=o="";if(typeof n==="number")for(j=0;j<n;j+=1)g+=" ";else if(typeof n==="string")g=n;if((z=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw Error("JSON.stringify");return p("",{"":u})};if(typeof b.parse!==
"function")b.parse=function(u,f){function n(h,e){var a,c,i=h[e];if(i&&typeof i==="object")for(a in i)if(Object.hasOwnProperty.call(i,a)){c=n(i,a);if(c!==undefined)i[a]=c;else delete i[a]}return f.call(h,e,i)}var j;u=String(u);m.lastIndex=0;if(m.test(u))u=u.replace(m,function(h){return"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){j=eval("("+u+")");return typeof f==="function"?n({"":j},""):j}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var l=Math,t=l.PI,p=l.pow,m=l.sin,q=1.70158,o={easeNone:function(g){return g},easeIn:function(g){return g*g},easeOut:function(g){return(2-g)*g},easeBoth:function(g){return(g*=2)<1?0.5*g*g:0.5*(1- --g*(g-2))},easeInStrong:function(g){return g*g*g*g},easeOutStrong:function(g){return 1- --g*g*g*g},easeBothStrong:function(g){return(g*=2)<1?0.5*g*g*g*g:0.5*(2-(g-=2)*g*g*g)},elasticIn:function(g){if(g===0||g===1)return g;return-(p(2,10*(g-=1))*m((g-0.075)*2*t/0.3))},
elasticOut:function(g){if(g===0||g===1)return g;return p(2,-10*g)*m((g-0.075)*2*t/0.3)+1},elasticBoth:function(g){if(g===0||(g*=2)===2)return g;if(g<1)return-0.5*p(2,10*(g-=1))*m((g-0.1125)*2*t/0.45);return p(2,-10*(g-=1))*m((g-0.1125)*2*t/0.45)*0.5+1},backIn:function(g){if(g===1)g-=0.0010;return g*g*((q+1)*g-q)},backOut:function(g){return(g-=1)*g*((q+1)*g+q)+1},backBoth:function(g){if((g*=2)<1)return 0.5*g*g*(((q*=1.525)+1)*g-q);return 0.5*((g-=2)*g*(((q*=1.525)+1)*g+q)+2)},bounceIn:function(g){return 1-
o.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+0.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+0.9375:7.5625*(g-=2.625/2.75)*g+0.984375},bounceBoth:function(g){if(g<0.5)return o.bounceIn(g*2)*0.5;return o.bounceOut(g*2-1)*0.5+0.5}};b.Easing=o});
KISSY.add("anim",function(b,l){function t(j,h,e,a,c){if(j=b.get(j)){if(!(this instanceof t))return new t(j,h,e,a,c);var i=b.isPlainObject(e);h=h;this.domEl=j;if(b.isPlainObject(h))h=b.param(h,";").replace(/=/g,":");var k={},d=u.length,r;z.innerHTML='<div style="'+h+'"></div>';for(j=z.firstChild.style;d--;)if(r=j[u[d]])k[u[d]]=p(r);this.props=k;this.targetStyle=h;if(i)i=b.merge(n,e);else{i=b.clone(n);e&&(i.duration=v(e,10)||1);b.isString(a)&&(a=g[a]);b.isFunction(a)&&(i.easing=a);b.isFunction(c)&&
(i.complete=c)}this.config=i;b.isFunction(c)&&this.on(f,c)}}function p(j){var h=v(j);j=(j+"").replace(/^[-\d\.]+/,"");return isNaN(h)?{v:j,u:"",f:q}:{v:h,u:j,f:m}}function m(j,h,e){return(j+(h-j)*e).toFixed(3)}function q(j,h,e){for(var a=2,c,i,k=[],d=[];c=3,i=arguments[a-1],a--;)if(i.substr(0,4)==="rgb(")for(i=i.match(/\d+/g);c--;)k.push(~~i[c]);else if(i.substr(0,1)==="#"){if(i.length===4)i="#"+i.substr(1,1)+i.substr(1,1)+i.substr(2,1)+i.substr(2,1)+i.substr(3,1)+i.substr(3,1);for(;c--;)k.push(parseInt(i.substr(1+
c*2,2),16))}else return h;for(;c--;){a=~~(k[c+3]+(k[c]-k[c+3])*e);d.push(a<0?0:a>255?255:a)}return"rgb("+d.join(",")+")"}var o=b.DOM,g=b.Easing,v=parseFloat,z=o.create("<div>"),u="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
f="complete",n={duration:1,easing:g.easeNone};b.augment(t,b.EventTarget,{run:function(){var j=this,h=j.config,e=j.domEl,a=h.duration*1E3,c=h.easing,i=b.now(),k=i+a,d=j.props,r={},w;for(w in d)r[w]=p(o.css(e,w));if(j.fire("start")!==false){j.stop();j.timer=b.later(h=function(){var s=b.now(),x=s>k?1:(s-i)/a,y,A,B;for(w in d){y=r[w];A=d[w];if(A.v==0)A.u=y.u;if(y.u!==A.u)y.v=0;o.css(e,w,A.f(y.v,A.v,c(x))+A.u)}if(j.fire("step")===false||(B=s>k)){j.stop();B&&j.fire(f)}},13,true);h();return j}},stop:function(j){var h=
this.domEl,e=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=l}if(j){b.UA.ie&&e.indexOf("opacity")>-1&&o.css(h,"opacity",this.props.opacity.v);h.style.cssText+=";"+e;this.fire(f)}return this}});b.Anim=t});
KISSY.add("anim-node-plugin",function(b,l){function t(e,a,c,i,k){if(a==="toggle")a=(k=p.css(e,q)===g?1:0)?"show":"hide";k&&p.css(e,q,o);var d={};b.each(h[a],function(r){if(r===v)p.css(e,v,z);else if(r===u){d.opacity=k?1:0;k&&p.css(e,u,0)}else if(r===f){d.height=k?p.css(e,f)||e.naturalHeight:0;k&&p.css(e,f,0)}else if(r===n){d.width=k?p.css(e,n)||e.naturalWidth:0;k&&p.css(e,n,0)}});(new b.Anim(e,d,c,"easeOut",function(){k||p.css(e,{display:g,height:j,width:j,overflow:j,opacity:1});i&&b.isFunction(i)&&
i()})).run()}var p=b.DOM,m=b.Anim,q="display",o="block",g="none",v="overflow",z="hidden",u="opacity",f="height",n="width",j="auto",h={show:[v,u,f,n],fade:[u],slide:[v,f]};b.each([b.Node.prototype,b.NodeList.prototype],function(e){e.animate=function(){var a=b.makeArray(arguments);b.each(this,function(c){m.apply(l,[c].concat(a)).run()});return this};b.each({show:["show",1],hide:["hide",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(a,c){e[c]=
function(i,k){p[c]&&arguments.length===0?p[c](this):b.each(this,function(d){t(d,a[0],i,k,a[1])});return this}})})});KISSY.add("core");
