/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(b,d){var s=this,h={mix:function(c,l,y,x){if(!l||!c)return c;if(y===d)y=true;var u,w,z;if(x&&(z=x.length))for(u=0;u<z;u++){w=x[u];if(w in l)if(y||!(w in c))c[w]=l[w]}else for(w in l)if(y||!(w in c))c[w]=l[w];return c}},i=s&&s[b]||{},q=0;s=i.__HOST||(i.__HOST=s||{});b=s[b]=h.mix(i,h,false);b.mix(b,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"20110428220418",merge:function(){var c={},l,y=arguments.length;for(l=0;l<y;l++)b.mix(c,arguments[l]);return c},
augment:function(){var c=b.makeArray(arguments),l=c.length-2,y=c[0],x=c[l],u=c[l+1],w=1;if(!b.isArray(u)){x=u;u=d;l++}if(!b.isBoolean(x)){x=d;l++}for(;w<l;w++)b.mix(y.prototype,c[w].prototype||c[w],x,u);return y},extend:function(c,l,y,x){if(!l||!c)return c;var u=Object.create?function(A,B){return Object.create(A,{constructor:{value:B}})}:function(A,B){function r(){}r.prototype=A;var n=new r;n.constructor=B;return n},w=l.prototype,z;z=u(w,c);c.prototype=b.mix(z,c.prototype);c.superclass=u(w,l);y&&
b.mix(z,y);x&&b.mix(c,x);return c},__init:function(){this.Config=this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var c=b.makeArray(arguments),l=c.length,y=null,x,u,w,z=c[l-1]===true&&l--;for(x=0;x<l;x++){w=(""+c[x]).split(".");y=z?s:this;for(u=s[w[0]]===y?1:0;u<w.length;++u)y=y[w[u]]=y[w[u]]||{}}return y},app:function(c,l){var y=b.isString(c),x=y?s[c]||{}:c,u=0,w=b.__APP_INIT_METHODS.length;for(b.mix(x,this,true,b.__APP_MEMBERS);u<w;u++)b[b.__APP_INIT_METHODS[u]].call(x);
b.mix(x,b.isFunction(l)?l():l);y&&(s[c]=x);return x},config:function(c){for(var l in c)this["_"+l]&&this["_"+l](c[l])},log:function(c,l,y){if(b.Config.debug){if(y)c=y+": "+c;if(s.console!==d&&console.log)console[l&&console[l]?l:"log"](c)}},error:function(c){if(b.Config.debug)throw c;},guid:function(c){return(c||"")+q++}});b.__init();return b})("KISSY");
(function(b,d){function s(){if(k)return k;var f="";b.each(n,function(t){f+=t+"|"});f=f.slice(0,-1);return k=RegExp(f,"g")}function h(){if(j)return j;var f="";b.each(p,function(t){f+=t+"|"});f+="&#(\\d{1,5});";return j=RegExp(f,"g")}function i(f){var t=typeof f;return f===null||t!=="object"&&t!=="function"}var q=b.__HOST,c=Object.prototype.toString,l=Array.prototype,y=l.indexOf,x=l.lastIndexOf,u=l.filter,w=String.prototype.trim,z=/^\s+|\s+$/g,A=encodeURIComponent("[]"),B=/^(\w+)\[\]$/,r={},n={"&amp;":"&",
"&gt;":">","&lt;":"<","&quot;":'"'},p={},k,j,m;for(m in n)p[n[m]]=m;b.mix(b,{type:function(f){return f==null?String(f):r[c.call(f)]||"object"},isNull:function(f){return f===null},isUndefined:function(f){return f===d},isEmptyObject:function(f){for(var t in f)if(t!==d)return false;return true},isPlainObject:function(f){return f&&c.call(f)==="[object Object]"&&"isPrototypeOf"in f},clone:function(f,t,a){var g=f,e,o,v=a||{};if(f&&((e=b.isArray(f))||b.isPlainObject(f))){if(f["__~ks_cloned"])return v[f["__~ks_cloned"]];
f["__~ks_cloned"]=g=b.guid();v[g]=f;if(e)g=t?b.filter(f,t):f.concat();else{g={};for(o in f)if(o!=="__~ks_cloned"&&f.hasOwnProperty(o)&&(!t||t.call(f,f[o],o,f)!==false))g[o]=b.clone(f[o],t,v)}}if(!a){b.each(v,function(C){if(C["__~ks_cloned"])try{delete C["__~ks_cloned"]}catch(D){C["__~ks_cloned"]=d}});v=d}return g},trim:w?function(f){return f==d?"":w.call(f)}:function(f){return f==d?"":f.toString().replace(z,"")},substitute:function(f,t,a){if(!b.isString(f)||!b.isPlainObject(t))return f;return f.replace(a||
/\\?\{([^{}]+)\}/g,function(g,e){if(g.charAt(0)==="\\")return g.slice(1);return t[e]!==d?t[e]:""})},each:function(f,t,a){var g,e=0,o=f&&f.length,v=o===d||b.type(f)==="function";a=a||q;if(v)for(g in f){if(t.call(a,f[g],g,f)===false)break}else for(g=f[0];e<o&&t.call(a,g,e,f)!==false;g=f[++e]);return f},indexOf:y?function(f,t){return y.call(t,f)}:function(f,t){for(var a=0,g=t.length;a<g;++a)if(t[a]===f)return a;return-1},lastIndexOf:x?function(f,t){return x.call(t,f)}:function(f,t){for(var a=t.length-
1;a>=0;a--)if(t[a]===f)break;return a},unique:function(f,t){t&&f.reverse();for(var a=f.slice(),g=0,e,o;g<a.length;){for(o=a[g];(e=b.lastIndexOf(o,a))!==g;)a.splice(e,1);g+=1}t&&a.reverse();return a},inArray:function(f,t){return b.indexOf(f,t)>-1},filter:u?function(f,t,a){return u.call(f,t,a||this)}:function(f,t,a){var g=[];b.each(f,function(e,o,v){if(t.call(a||this,e,o,v))g.push(e)});return g},now:function(){return(new Date).getTime()},fromUnicode:function(f){return f.replace(/\\u([a-f\d]{4})/ig,
function(t,a){return String.fromCharCode(parseInt(a,16))})},escapeHTML:function(f){return f.replace(s(),function(t){return p[t]})},unEscapeHTML:function(f){return f.replace(h(),function(t,a){return n[t]||String.fromCharCode(+a)})},makeArray:function(f){if(f===null||f===d)return[];if(b.isArray(f))return f;if(typeof f.length!=="number"||b.isString(f)||b.isFunction(f))return[f];for(var t=[],a=0,g=f.length;a<g;a++)t[a]=f[a];return t},param:function(f,t){if(!b.isPlainObject(f))return"";t=t||"&";var a=
[],g,e;for(g in f){e=f[g];g=encodeURIComponent(g);if(i(e))a.push(g,"=",encodeURIComponent(e+""),t);else if(b.isArray(e)&&e.length)for(var o=0,v=e.length;o<v;++o)i(e[o])&&a.push(g,A+"=",encodeURIComponent(e[o]+""),t)}a.pop();return a.join("")},unparam:function(f,t){if(typeof f!=="string"||(f=b.trim(f)).length===0)return{};for(var a={},g=f.split(t||"&"),e,o,v,C,D=0,F=g.length;D<F;++D){e=g[D].split("=");o=decodeURIComponent(e[0]);try{v=decodeURIComponent(e[1]||"")}catch(G){v=e[1]||""}if((C=o.match(B))&&
C[1]){a[C[1]]=a[C[1]]||[];a[C[1]].push(v)}else a[o]=v}return a},later:function(f,t,a,g,e){t=t||0;g=g||{};var o=f,v=b.makeArray(e),C;if(b.isString(f))o=g[f];o||b.error("method undefined");f=function(){o.apply(g,v)};C=a?setInterval(f,t):setTimeout(f,t);return{id:C,interval:a,cancel:function(){this.interval?clearInterval(C):clearTimeout(C)}}}});b.mix(b,{isBoolean:i,isNumber:i,isString:i,isFunction:i,isArray:i,isDate:i,isRegExp:i,isObject:i});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(f,t){r["[object "+f+"]"]=t=f.toLowerCase();b["is"+f]=function(a){return b.type(a)==t}})})(KISSY);
(function(b,d){function s(a){a=a.split("/");for(var g=[],e,o=0;o<a.length;o++){e=a[o];if(e!=".")e==".."?g.pop():g.push(e)}return g.join("/")}function h(a,g){if(!g)return g;if(b.isArray(g)){for(var e=0;e<g.length;e++)g[e]=h(a,g[e]);return g}if(g.lastIndexOf("../",0)==0||g.lastIndexOf("./",0)==0){e=z;var o;if((o=a.lastIndexOf("/"))!=-1)e=a.substring(0,o+1);return s(e+g)}else return g.indexOf("./")!=-1||g.indexOf("../")!=-1?s(g):g}function i(a){return a.replace(/(-min)?\.js[^/]*$/i,z)}function q(a){if(a.charAt(a.length-
1)!="/")a+="/";a=b.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=m+a;return s(a)}function c(a){for(var g=0;g<a.length;g++)if(a[g].match(/\/$/))a[g]+="index";return a}function l(a){var g=a.src,e=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=g.split(a);var o,v=a[0];e=v.indexOf(e);if(e==-1)o=g.replace(f,"$1");else{o=v.substring(0,e);g=v.substring(e+2,v.length);if(g.match(t))o+=g.replace(f,"$1");else b.each(a,function(C){if(C.match(t)){o+=
C.replace(f,"$1");return false}})}if(!o.match(/^(http(s)?)|(file):/i)&&o.lastIndexOf("/",0)!=0)o=m+o;return o}if(!b.use){var y=b.__HOST,x=!!navigator.userAgent.match(/MSIE/),u=y.document,w=u.getElementsByTagName("head")[0]||u.documentElement,z="",A=2,B=3,r=4,n=b.mix,p=u.addEventListener?function(a,g){a.addEventListener("load",g,false)}:function(a,g){var e=a.onreadystatechange;a.onreadystatechange=function(){var o=a.readyState;if(o==="loaded"||o==="complete"){a.onreadystatechange=null;e&&e();g.call(this)}}},
k=/\.css(?:\?|$)/i,j=encodeURIComponent(b.buildTime),m=location.href.replace(/[^/]*$/i,z);y={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,g,e){var o=this.Env.mods,v;if(b.isString(a)&&!e&&b.isPlainObject(g)){v={};v[a]=g;a=v}if(b.isPlainObject(a)){b.each(a,function(D,F){D.name=F;o[F]&&n(D,o[F],false)});n(o,a);return this}if(b.isString(a)){var C;if(e&&(C=e.host)){a=o[C];if(!a)return this;if(this.__isAttached(C))g.call(this,this);else{a.fns=a.fns||[];a.fns.push(g)}return this}this.__registerModule(a,
g,e);if(e&&e.attach===false)return this;g=o[a];a=h(a,g.requires);if(this.__isAttached(a))this.__attachMod(g);else if(this.Config.debug&&!g)for(a=b.makeArray(a).length-1;a>=0;a--);return this}if(b.isFunction(a)){e=g;g=a;if(x){a=this.__findModuleNameByInteractive();this.__registerModule(a,g,e);this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:g,config:e};return this}return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),
g,e,o=0;o<a.length;o++){e=a[o];if(e.readyState=="interactive"){g=e;break}}if(!g)return this.__startLoadModuleName;a=g.src;if(a.lastIndexOf(this.Config.base,0)==0)return i(a.substring(this.Config.base.length));g=this.__packages;for(var v in g){e=g[v].path;if(g.hasOwnProperty(v)&&a.lastIndexOf(e,0)==0)return i(a.substring(e.length))}},__registerModule:function(a,g,e){e=e||{};var o=this.Env.mods,v=o[a]||{};n(v,{name:a,status:A});v.fns=v.fns||[];v.fns.push(g);n(o[a]=v,e)},_packages:function(a){var g;
g=this.__packages=this.__packages||{};b.each(a,function(e){g[e.name]=e;if(e.path)e.path=q(e.path);if(e.tag)e.tag=encodeURIComponent(e.tag)})},_combine:function(a,g){var e=this,o;if(b.isObject(a))b.each(a,function(v,C){b.each(v,function(D){e._combine(D,C)})});else{o=e.__combines=e.__combines||{};if(g)o[a]=g;else return o[a]||a}},__mixMods:function(a){var g=this.Env.mods,e=a.Env.mods,o;for(o in e)this.__mixMod(g,e,o,a)},__mixMod:function(a,g,e,o){var v=a[e]||{},C=v.status;b.mix(v,b.clone(g[e]));if(C)v.status=
C;o&&this.__buildPath(v,o.Config.base);a[e]=v},use:function(a,g,e){a=a.replace(/\s+/g,z).split(",");c(a);e=e||{};var o=this,v;e.global&&o.__mixMods(e.global);if(o.__isAttached(a)){var C=o.__getModules(a);g&&g.apply(o,C)}else{b.each(a,function(D){o.__attachModByName(D,function(){if(!v&&o.__isAttached(a)){v=true;var F=o.__getModules(a);g&&g.apply(o,F)}},e)});return o}},__getModules:function(a){var g=this,e=[g];b.each(a,function(o){e.push(g.require(o))});return e},require:function(a){a=this.Env.mods[a];
var g=this.onRequire&&this.onRequire(a);if(g!==undefined)return g;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var g=this._combine(a.name),e=this.__packages||{},o="",v;for(v in e)if(e.hasOwnProperty(v)&&g.lastIndexOf(v,0)==0&&v.length>o)o=v;e=(g=e[o])&&g.path||this.Config.base;if(g&&g.charset)a.charset=g.charset;a.tag=g?g.tag:j;return a.packagepath=e},__attachModByName:function(a,g,e){var o=this.Env.mods,v=o[a];if(!v){v=this.Config.componentJsName||function(C){return C+
"-min.js"};v={path:b.isFunction(v)?v(this._combine(a)):v,charset:"utf-8"};o[a]=v}v.name=a;v&&v.status===r||this.__attach(v,g,e)},__attach:function(a,g,e){function o(){if(!F&&v.__isAttached(a.requires)){a.status===A&&v.__attachMod(a);if(a.status===r){F=true;g()}}}var v=this,C=v.Env.mods,D=(a.requires||[]).concat();a.requires=D;b.each(D,function(G,E,J){G=J[E]=h(a.name,G);(E=C[G])&&E.status===r||v.__attachModByName(G,o,e)});v.__buildPath(a,v.__getPackagePath(a));v.__load(a,function(){a.requires=a.requires||
[];var G=[];b.each(a.requires,function(E,J,K){E=K[J]=h(a.name,E);J=C[E];K=b.inArray(E,D);J&&J.status===r||K||v.__attachModByName(E,o,e);if(!K&&(!J||J.status<A))G.push(E)});G.length!=0&&G.unshift(a.name);if(b.isString(a.csspath)||b.isString(a.cssfullpath)){v.__buildPath(a,v.__getPackagePath(a));b.getScript(a.cssfullpath)}o()},e);var F=false},__attachMod:function(a){var g=this,e=a.fns;e&&b.each(e,function(o){o=b.isFunction(o)?o.apply(g,g.__getModules(a.requires)):o;a.value=a.value||o});a.status=r},
__isAttached:function(a){var g=this.Env.mods,e=true;b.each(a,function(o){o=g[o];if(!o||o.status!==r)return e=false});return e},__load:function(a,g,e){function o(){e.global&&C.__mixMod(C.Env.mods,e.global.Env.mods,a.name,e.global)}function v(){F[D]=A;if(a.status!==B){o();if(a.status!==r)a.status=A;g()}}var C=this,D=a.fullpath,F=b.Env._loadQueue,G=F[D];a.status=a.status||0;if(a.status<1&&G)a.status=G.nodeName?1:A;if(b.isString(a.cssfullpath)){b.getScript(a.cssfullpath);a.cssfullpath=a.csspath=A}if(a.status<
1&&D){a.status=1;if(x){C.__startLoadModuleName=a.name;C.__startLoadTime=Number(+new Date)}G=b.getScript(D,{success:function(){if(C.__currentModule){C.__registerModule(a.name,C.__currentModule.def,C.__currentModule.config);C.__currentModule=null}o();if(!(a.fns&&a.fns.length>0))a.status=B;v()},error:function(){a.status=B;v()},charset:a.charset});k.test(D)||(F[D]=G)}else a.status===1?p(G,v):g()},__buildPath:function(a,g){function e(v,C){if(!a[v]&&a[C]){a[C]=h(a.name,a[C]);a[v]=(g||o.base)+a[C]}if(a[v]&&
o.debug)a[v]=a[v].replace(/-min/ig,z);if(a[v]&&!a[v].match(/\?t=/)&&a.tag)a[v]+="?t="+a.tag}var o=this.Config;e("fullpath","path");e("cssfullpath","csspath")},getScript:function(a,g,e){var o=/\.css(?:\?|$)/i.test(a),v=u.createElement(o?"link":"script"),C=g,D,F,G;if(b.isPlainObject(C)){g=C.success;D=C.error;F=C.timeout;e=C.charset}if(o){v.href=a;v.rel="stylesheet"}else{v.src=a;v.async=true}if(e)v.charset=e;if(o)b.isFunction(g)&&g.call(v);else p(v,function(){if(G){G.cancel();G=d}b.isFunction(g)&&g.call(v)});
if(b.isFunction(D)){u.addEventListener&&v.addEventListener("error",function(){if(G){G.cancel();G=d}D.call(v)},false);G=b.later(function(){G=d;D()},(F||this.Config.timeout)*1E3)}w.insertBefore(v,w.firstChild);return v}};n(b,y);var f=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,t=/(seed|kissy)(-min)?\.js/i;b.__initLoader=function(){var a=u.getElementsByTagName("script");a=l(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=q(a);if(!this.Config.timeout)this.Config.timeout=
10};b.__initLoader();b.each(y,function(a,g){b.__APP_MEMBERS.push(g)});b.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(b){var d=b.__HOST,s=d.document,h=s.documentElement,i=false,q=[],c=false,l=/^#?([\w-]+)$/,y=/\S/;b.mix(b,{isWindow:function(x){return b.type(x)==="object"&&"setInterval"in x&&"document"in x&&x.document.nodeType==9},globalEval:function(x){if(x&&y.test(x)){var u=s.getElementsByTagName("head")[0]||h,w=s.createElement("script");w.text=x;u.insertBefore(w,u.firstChild);u.removeChild(w)}},ready:function(x){c||this._bindReady();i?x.call(d,this):q.push(x);return this},_bindReady:function(){var x=
this,u=s.documentElement.doScroll,w=u?"onreadystatechange":"DOMContentLoaded",z=function(){x._fireReady()};c=true;if(s.readyState==="complete")return z();if(s.addEventListener){var A=function(){s.removeEventListener(w,A,false);z()};s.addEventListener(w,A,false);d.addEventListener("load",z,false)}else{var B=function(){if(s.readyState==="complete"){s.detachEvent(w,B);z()}};s.attachEvent(w,B);d.attachEvent("onload",z);var r=false;try{r=d.frameElement==null}catch(n){}if(u&&r){var p=function(){try{u("left");
z()}catch(k){setTimeout(p,1)}};p()}}},_fireReady:function(){if(!i){i=true;if(q){for(var x,u=0;x=q[u++];)x.call(d,this);q=null}}},available:function(x,u){if((x=(x+"").match(l)[1])&&b.isFunction(u))var w=1,z=b.later(function(){if(s.getElementById(x)&&(u()||1)||++w>500)z.cancel()},40,true)}});if(location&&(location.search||"").indexOf("ks-debug")!==-1)b.Config.debug=true})(KISSY);(function(b){b.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var b=navigator.userAgent,d="",s="",h,i={},q=function(c){var l=0;return parseFloat(c.replace(/\./g,function(){return l++===0?".":""}))};if((h=b.match(/AppleWebKit\/([\d.]*)/))&&h[1]){i[d="webkit"]=q(h[1]);if((h=b.match(/Chrome\/([\d.]*)/))&&h[1])i[s="chrome"]=q(h[1]);else if((h=b.match(/\/([\d.]*) Safari/))&&h[1])i[s="safari"]=q(h[1]);if(/ Mobile\//.test(b))i.mobile="apple";else if(h=b.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))i.mobile=h[0].toLowerCase()}else if((h=
b.match(/Presto\/([\d.]*)/))&&h[1]){i[d="presto"]=q(h[1]);if((h=b.match(/Opera\/([\d.]*)/))&&h[1]){i[s="opera"]=q(h[1]);if((h=b.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])i[s]=q(h[1]);if((h=b.match(/Opera Mini[^;]*/))&&h)i.mobile=h[0].toLowerCase();else if((h=b.match(/Opera Mobi[^;]*/))&&h)i.mobile=h[0]}}else if((h=b.match(/MSIE\s([^;]*)/))&&h[1]){i[d="trident"]=0.1;i[s="ie"]=q(h[1]);if((h=b.match(/Trident\/([\d.]*)/))&&h[1])i[d]=q(h[1])}else if(h=b.match(/Gecko/)){i[d="gecko"]=0.1;if((h=b.match(/rv:([\d.]*)/))&&
h[1])i[d]=q(h[1]);if((h=b.match(/Firefox\/([\d.]*)/))&&h[1])i[s="firefox"]=q(h[1])}i.core=d;i.shell=s;i._numberify=q;return i});
KISSY.add("ua/extra",function(b,d){var s=navigator.userAgent,h,i,q={},c=d._numberify;if(s.match(/360SE/))q[i="se360"]=3;else if(s.match(/Maxthon/)&&(h=window.external)){i="maxthon";try{q[i]=c(h.max_version)}catch(l){q[i]=0.1}}else if(h=s.match(/TencentTraveler\s([\d.]*)/))q[i="tt"]=h[1]?c(h[1]):0.1;else if(s.match(/TheWorld/))q[i="theworld"]=3;else if(h=s.match(/SE\s([\d.]*)/))q[i="sougou"]=h[1]?c(h[1]):0.1;i&&(q.shell=i);b.mix(d,q);return d},{requires:["ua/base"]});
KISSY.add("ua",function(b,d){return d},{requires:["ua/extra"]});KISSY.add("dom/base",function(b,d){function s(h,i){return h&&h.nodeType===i}return{_isElementNode:function(h){return s(h,1)},_isKSNode:function(h){var i=b.require("node/node");return i&&s(h,i.TYPE)},_getWin:function(h){return h&&"scrollTo"in h&&h.document?h:s(h,9)?h.defaultView||h.parentWindow:h===d?window:false},_nodeTypeIs:s}});
KISSY.add("dom/attr",function(b,d,s,h){var i=document.documentElement,q=!i.hasAttribute,c=i.textContent!==h?"textContent":"innerText",l=d._isElementNode,y=/^(?:href|src|style)/,x=/^(?:href|src|colspan|rowspan)/,u=/\r/g,w=/^(?:radio|checkbox)/,z={readonly:"readOnly"},A={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};q&&b.mix(z,{"for":"htmlFor","class":"className"});var B={tabindex:{getter:function(r){return r.tabIndex},setter:function(r,n){if(isNaN(parseInt(n))){r.removeAttribute("tabindex");
r.removeAttribute("tabIndex")}else r.tabIndex=n}},style:{getter:function(r){return r.style.cssText},setter:function(r,n){r.style.cssText=n}},checked:{setter:function(r,n){r.checked=!!n}},disabled:{setter:function(r,n){r.disabled=!!n}}};b.mix(d,{attr:function(r,n,p,k){if(b.isPlainObject(n)){k=p;for(var j in n)d.attr(r,j,n[j],k)}else if(n=b.trim(n)){n=n.toLowerCase();if(k&&A[n])return d[n](r,p);n=z[n]||n;var m=B[n];if(p===h){r=d.get(r);if(!l(r))return h;if(m&&m.getter)return m.getter(r);var f;y.test(n)||
(f=r[n]);if(f===h)f=r.getAttribute(n);if(q)if(x.test(n))f=r.getAttribute(n,2);return f===null?h:f}b.each(d.query(r),function(t){if(l(t))m&&m.setter?m.setter(t,p):t.setAttribute(n,""+p)})}},removeAttr:function(r,n){n=n.toLowerCase();b.each(d.query(r),function(p){if(l(p)){d.attr(p,n,"");p.removeAttribute(n)}})},hasAttr:q?function(r,n){n=n.toLowerCase();var p=d.get(r).getAttributeNode(n);return!!(p&&p.specified)}:function(r,n){n=n.toLowerCase();return d.get(r).hasAttribute(n)},val:function(r,n){if(n===
h){var p=d.get(r);if(!l(p))return h;if(p&&p.nodeName.toUpperCase()==="option".toUpperCase())return(p.attributes.value||{}).specified?p.value:p.text;if(p&&p.nodeName.toUpperCase()==="select".toUpperCase()){var k=p.selectedIndex,j=p.options;if(k<0)return null;else if(p.type==="select-one")return d.val(j[k]);p=[];for(var m=0,f=j.length;m<f;++m)j[m].selected&&p.push(d.val(j[m]));return p}if(s.webkit&&w.test(p.type))return p.getAttribute("value")===null?"on":p.value;return(p.value||"").replace(u,"")}b.each(d.query(r),
function(t){if(t&&t.nodeName.toUpperCase()==="select".toUpperCase()){if(b.isNumber(n))n+="";var a=b.makeArray(n),g=t.options,e;m=0;for(f=g.length;m<f;++m){e=g[m];e.selected=b.inArray(d.val(e),a)}if(!a.length)t.selectedIndex=-1}else if(l(t))t.value=n})},text:function(r,n){if(n===h){var p=d.get(r);if(l(p))return p[c]||"";else if(d._nodeTypeIs(p,3))return p.nodeValue}else b.each(d.query(r),function(k){if(l(k))k[c]=n;else if(d._nodeTypeIs(k,3))k.nodeValue=n})}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(b,d,s){function h(c,l,y,x){if(!(l=b.trim(l)))return x?false:s;c=d.query(c);var u=0,w=c.length;l=l.split(i);for(var z;u<w;u++){z=c[u];if(d._isElementNode(z)){z=y(z,l,l.length);if(z!==s)return z}}if(x)return false;return s}var i=/[\.\s]\s*\.?/,q=/[\n\t]/g;b.mix(d,{hasClass:function(c,l){return h(c,l,function(y,x,u){if(y=y.className){y=" "+y+" ";for(var w=0,z=true;w<u;w++)if(y.indexOf(" "+x[w]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(c,l){h(c,l,
function(y,x,u){var w=y.className;if(w){var z=" "+w+" ";w=w;for(var A=0;A<u;A++)if(z.indexOf(" "+x[A]+" ")<0)w+=" "+x[A];y.className=b.trim(w)}else y.className=l},s)},removeClass:function(c,l){h(c,l,function(y,x,u){var w=y.className;if(w)if(u){w=(" "+w+" ").replace(q," ");for(var z=0,A;z<u;z++)for(A=" "+x[z]+" ";w.indexOf(A)>=0;)w=w.replace(A," ");y.className=b.trim(w)}else y.className=""},s)},replaceClass:function(c,l,y){d.removeClass(c,l);d.addClass(c,y)},toggleClass:function(c,l,y){var x=b.isBoolean(y),
u;h(c,l,function(w,z,A){for(var B=0,r;B<A;B++){r=z[B];u=x?!y:d.hasClass(w,r);d[u?"removeClass":"addClass"](w,r)}},s)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(b,d,s,h){function i(a){var g=a.cloneNode(true);if(s.ie<8)g.innerHTML=a.innerHTML;return g}function q(a,g,e,o){if(e){var v=b.guid("ks-tmp-"),C=RegExp(B);g+='<span id="'+v+'"></span>';b.available(v,function(){var D=d.get("head"),F,G,E,J,K,I;for(C.lastIndex=0;F=C.exec(g);)if((E=(G=F[1])?G.match(n):false)&&E[2]){F=l.createElement("script");F.src=E[2];if((J=G.match(p))&&J[2])F.charset=J[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)b.globalEval(I);(K=l.getElementById(v))&&
d.remove(K);b.isFunction(o)&&o()});c(a,g)}else{c(a,g);b.isFunction(o)&&o()}}function c(a,g){g=(g+"").replace(B,"");try{a.innerHTML=g}catch(e){for(;a.firstChild;)a.removeChild(a.firstChild);g&&a.appendChild(d.create(g))}}var l=document,y=s.ie,x=d._nodeTypeIs,u=d._isElementNode,w=d._isKSNode,z=l.createElement("div"),A=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,r=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/\ssrc=(['"])(.*?)\1/i,p=/\scharset=(['"])(.*?)\1/i;b.mix(d,{create:function(a,
g,e){if(x(a,1)||x(a,3))return i(a);if(w(a))return i(a[0]);if(!(a=b.trim(a)))return null;var o=null;o=d._creators;var v,C="div",D;if(v=r.exec(a))o=(e||l).createElement(v[1]);else{if((v=A.exec(a))&&(D=v[1])&&b.isFunction(o[D=D.toLowerCase()]))C=D;a=o[C](a,e).childNodes;if(a.length===1)e=a[0].parentNode.removeChild(a[0]);else{a=a;D=e||l;e=null;if(a&&(a.push||a.item)&&a[0]){D=D||a[0].ownerDocument;e=D.createDocumentFragment();if(a.item)a=b.makeArray(a);D=0;for(o=a.length;D<o;D++)e.appendChild(a[D])}e=
e}o=e}e=o;u(e)&&b.isPlainObject(g)&&d.attr(e,g,true);return e},_creators:{div:function(a,g){var e=g?g.createElement("div"):z;e.innerHTML=a;return e}},html:function(a,g,e,o){if(g===h){a=d.get(a);if(u(a))return a.innerHTML}else b.each(d.query(a),function(v){u(v)&&q(v,g,e,o)})},remove:function(a){b.each(d.query(a),function(g){u(g)&&g.parentNode&&g.parentNode.removeChild(g)})}});if(y||s.gecko||s.webkit){var k=d._creators,j=d.create,m=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,f={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},t;for(t in f)(function(a){k[t]=function(g,e){return j("<"+a+">"+g+"</"+a+">",null,e)}})(f[t]);if(y){k.script=function(a,g){var e=g?g.createElement("div"):z;e.innerHTML="-"+a;e.removeChild(e.firstChild);return e};if(y<8)k.tbody=function(a,g){var e=j("<table>"+a+"</table>",null,g),o=e.children.tags("tbody")[0];e.children.length>1&&o&&!m.test(a)&&o.parentNode.removeChild(o);return e}}b.mix(k,{optgroup:k.option,th:k.td,thead:k.tbody,tfoot:k.tbody,
caption:k.tbody,colgroup:k.tbody})}return d},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(b,d,s){var h=window,i="_ks_data_"+b.now(),q={},c={},l={EMBED:1,OBJECT:1,APPLET:1};b.mix(d,{data:function(y,x,u){if(b.isPlainObject(x))for(var w in x)d.data(y,w,x[w]);else if(u===s){y=d.get(y);var z;if(!(!y||l[y.nodeName])){if(y==h)y=c;z=(w=y&&y.nodeType)?q:y;y=z[w?y[i]:i];if(b.isString(x)&&y)return y[x];return y}}else d.query(y).each(function(A){if(!(!A||l[A.nodeName])){if(A==h)A=c;var B=q,r;if(A&&A.nodeType){if(!(r=A[i]))r=A[i]=b.guid()}else{r=i;B=A}if(x&&u!==s){B[r]||
(B[r]={});B[r][x]=u}}})},removeData:function(y,x){d.query(y).each(function(u){if(u){if(u==h)u=c;var w,z=q,A,B=u&&u.nodeType;if(B)w=u[i];else{z=u;w=i}if(w){A=z[w];if(x){if(A){delete A[x];b.isEmptyObject(A)&&d.removeData(u)}}else{if(B)u.removeAttribute&&u.removeAttribute(i);else try{delete u[i]}catch(r){}B&&delete z[w]}}}})}});return d},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(b,d){b.mix(d,{insertBefore:function(s,h){if((s=d.get(s))&&(h=d.get(h))&&h.parentNode)h.parentNode.insertBefore(s,h);return s},insertAfter:function(s,h){if((s=d.get(s))&&(h=d.get(h))&&h.parentNode)h.nextSibling?h.parentNode.insertBefore(s,h.nextSibling):h.parentNode.appendChild(s);return s},append:function(s,h){if((s=d.get(s))&&(h=d.get(h)))h.appendChild&&h.appendChild(s)},prepend:function(s,h){if((s=d.get(s))&&(h=d.get(h)))h.firstChild?d.insertBefore(s,h.firstChild):
h.appendChild(s)}});return d},{requires:["dom/base"]});
KISSY.add("dom/offset",function(b,d,s,h){function i(j){var m=0,f=0,t=x(j[A]);if(j[k]){j=j[k]();m=j[B];f=j[r];if(s.mobile!=="apple"){m+=d[n](t);f+=d[p](t)}}return{left:m,top:f}}var q=window,c=document,l=d._isElementNode,y=d._nodeTypeIs,x=d._getWin,u=c.compatMode==="CSS1Compat",w=Math.max,z=parseInt,A="ownerDocument",B="left",r="top",n="scrollLeft",p="scrollTop",k="getBoundingClientRect";b.mix(d,{offset:function(j,m){if(!(j=d.get(j))||!j[A])return null;if(m===h)return i(j);var f=j;if(d.css(f,"position")===
"static")f.style.position="relative";var t=i(f),a={},g,e;for(e in m){g=z(d.css(f,e),10)||0;a[e]=g+m[e]-t[e]}d.css(f,a)},scrollIntoView:function(j,m,f,t){if((j=d.get(j))&&j[A]){t=t===h?true:!!t;f=f===h?true:!!f;if(!m||m===q)return j.scrollIntoView(f);m=d.get(m);if(y(m,9))m=x(m);var a=m&&"scrollTo"in m&&m.document,g=d.offset(j),e=a?{left:d.scrollLeft(m),top:d.scrollTop(m)}:d.offset(m),o={left:g[B]-e[B],top:g[r]-e[r]};g=a?d.viewportHeight(m):m.clientHeight;e=a?d.viewportWidth(m):m.clientWidth;var v=
d[n](m),C=d[p](m),D=v+e,F=C+g,G=j.offsetHeight;j=j.offsetWidth;var E=o.left+v-(z(d.css(m,"borderLeftWidth"))||0);o=o.top+C-(z(d.css(m,"borderTopWidth"))||0);var J=E+j,K=o+G,I,H;if(G>g||o<C||f)I=o;else if(K>F)I=K-g;if(t)if(j>e||E<v||f)H=E;else if(J>D)H=J-e;if(a){if(I!==h||H!==h)m.scrollTo(H,I)}else{if(I!==h)m[p]=I;if(H!==h)m[n]=H}}}});b.each(["Left","Top"],function(j,m){var f="scroll"+j;d[f]=function(t){var a=0,g=x(t),e;if(g&&(e=g.document))a=g[m?"pageYOffset":"pageXOffset"]||e.documentElement[f]||
e.body[f];else if(l(t=d.get(t)))a=t[f];return a}});b.each(["Width","Height"],function(j){d["doc"+j]=function(m){m=m||c;return w(u?m.documentElement["scroll"+j]:m.body["scroll"+j],d["viewport"+j](m))};d["viewport"+j]=function(m){var f="inner"+j;m=x(m);var t=m.document;return f in m?m[f]:u?t.documentElement["client"+j]:t.body["client"+j]}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(b,d,s,h){function i(p,k){var j=d.get(p),m=k===y?j.offsetWidth:j.offsetHeight;b.each(k===y?["Left","Right"]:["Top","Bottom"],function(f){m-=parseFloat(d._getComputedStyle(j,"padding"+f))||0;m-=parseFloat(d._getComputedStyle(j,"border"+f+"Width"))||0});return m}function q(p,k,j){var m=j;if(j===x&&w.test(k)){m=0;if(b.inArray(d.css(p,"position"),["absolute","fixed"])){j=p[k==="left"?"offsetLeft":"offsetTop"];if(s.ie===8||s.opera)j-=u(d.css(p.offsetParent,"border-"+k+"-width"))||
0;m=j-(u(d.css(p,"margin-"+k))||0)}}return m}var c=document,l=c.documentElement,y="width",x="auto",u=parseInt,w=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,A=/-([a-z])/ig,B=function(p,k){return k.toUpperCase()},r={},n={};b.mix(d,{_CUSTOM_STYLES:r,_getComputedStyle:function(p,k){var j="",m=p.ownerDocument;if(p.style)j=m.defaultView.getComputedStyle(p,null)[k];return j},css:function(p,k,j){if(b.isPlainObject(k))for(var m in k)d.css(p,m,k[m]);else{if(k.indexOf("-")>0)k=
k.replace(A,B);k=r[k]||k;if(j===h){p=d.get(p);m="";if(p&&p.style){m=k.get?k.get(p):p.style[k];if(m===""&&!k.get)m=q(p,k,d._getComputedStyle(p,k))}return m===h?"":m}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&z.test(k))j+="px";(k===y||k==="height")&&parseFloat(j)<0||b.each(d.query(p),function(f){if(f&&f.style){k.set?k.set(f,j):f.style[k]=j;if(j==="")f.style.cssText||f.removeAttribute("style")}})}}},width:function(p,k){if(k===h)return i(p,y);else d.css(p,y,k)},height:function(p,k){if(k===
h)return i(p,"height");else d.css(p,"height",k)},show:function(p){d.query(p).each(function(k){if(k){k.style.display=d.data(k,"display")||"";if(d.css(k,"display")==="none"){var j=k.tagName,m=n[j],f;if(!m){f=c.createElement(j);c.body.appendChild(f);m=d.css(f,"display");d.remove(f);n[j]=m}d.data(k,"display",m);k.style.display=m}}})},hide:function(p){d.query(p).each(function(k){if(k){var j=k.style,m=j.display;if(m!=="none"){m&&d.data(k,"display",m);j.display="none"}}})},toggle:function(p){d.query(p).each(function(k){if(k)d.css.display===
"none"?d.show(k):d.hide(k)})},addStyleSheet:function(p,k){var j;if(k&&(k=k.replace("#","")))j=d.get("#"+k);if(!j){j=d.create("<style>",{id:k});d.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=p;else j.appendChild(c.createTextNode(p))}},unselectable:function(p){d.query(p).each(function(k){if(k)if(s.gecko)k.style.MozUserSelect="none";else if(s.webkit)k.style.KhtmlUserSelect="none";else if(s.ie||s.opera){var j=0,m=k.getElementsByTagName("*");for(k.setAttribute("unselectable","on");k=
m[j++];)switch(k.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:k.setAttribute("unselectable","on")}}})}});if(l.style.cssFloat!==h)r["float"]="cssFloat";else if(l.style.styleFloat!==h)r["float"]="styleFloat";return d},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(b,d,s){function h(n,p){var k,j,m=[],f;j=b.require("sizzle");p=i(p);if(b.isString(n)){n=b.trim(n);if(B.test(n)){if(j=q(n.slice(1),p))m=[j]}else if(k=r.exec(n)){j=k[1];f=k[2];k=k[3];if(p=j?q(j,p):p)if(k)if(!j||n.indexOf(u)!==-1)m=l(k,f,p);else{if((j=q(j,p))&&d.hasClass(j,k))m=[j]}else if(f)m=c(f,p)}else if(j)m=j(n,p);else y(n)}else if(n&&(n[z]||n[A]))m=n[z]?[n[z]()]:n[A]();else if(n&&(b.isArray(n)||n&&!n.nodeType&&n.item&&!n.setTimeout))m=n;else if(n)m=[n];if(m&&!m.nodeType&&
m.item&&!m.setTimeout)m=b.makeArray(m);m.each=function(t,a){return b.each(m,t,a)};return m}function i(n){if(n===s)n=x;else if(b.isString(n)&&B.test(n))n=q(n.slice(1),x);else if(n&&n.nodeType!==1&&n.nodeType!==9)n=null;return n}function q(n,p){if(p.nodeType!==9)p=p.ownerDocument;return p.getElementById(n)}function c(n,p){return p.getElementsByTagName(n)}function l(n,p,k){k=n=k.getElementsByClassName(n);var j=0,m=0,f=n.length,t;if(p&&p!==w){k=[];for(p=p.toUpperCase();j<f;++j){t=n[j];if(t.tagName===
p)k[m++]=t}}return k}function y(n){b.error("Unsupported selector: "+n)}var x=document,u=" ",w="*",z="getDOMNode",A=z+"s",B=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var n=x.createElement("div");n.appendChild(x.createComment(""));if(n.getElementsByTagName(w).length>0)c=function(p,k){var j=k.getElementsByTagName(p);if(p===w){for(var m=[],f=0,t=0,a;a=j[f++];)if(a.nodeType===1)m[t++]=a;j=m}return j}})();x.getElementsByClassName||(l=x.querySelectorAll?function(n,p,k){return k.querySelectorAll((p?
p:"")+"."+n)}:function(n,p,k){p=k.getElementsByTagName(p||w);k=[];var j=0,m=0,f=p.length,t,a;for(n=u+n+u;j<f;++j){t=p[j];if((a=t.className)&&(u+a+u).indexOf(n)>-1)k[m++]=t}return k});b.mix(d,{query:h,get:function(n,p){return h(n,p)[0]||null},filter:function(n,p,k){k=h(n,k);var j=b.require("sizzle"),m,f,t,a=[];if(b.isString(p)&&(m=r.exec(p))&&!m[1]){f=m[2];t=m[3];p=function(g){return!(f&&g.tagName!==f.toUpperCase()||t&&!d.hasClass(g,t))}}if(b.isFunction(p))a=b.filter(k,p);else if(p&&j)a=j._filter(n,
p+"");else y(p);return a},test:function(n,p,k){n=h(n,k);return n.length&&d.filter(n,p,k).length===n.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(b,d,s,h,i){if(!s.ie)return d;s=document;h=s.documentElement;var q=d._CUSTOM_STYLES,c=/^-?\d+(?:px)?$/i,l=/^-?\d/,y=/^(?:width|height)$/;try{if(h.style.opacity==i&&h.filters)q.opacity={get:function(u){var w=100;try{w=u.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{w=u.filters("alpha").opacity}catch(A){}}return w/100+""},set:function(u,w){var z=u.style,A=(u.currentStyle||0).filter||"";z.zoom=1;if(A)A=b.trim(A.replace(/alpha\(opacity[=:][^)]+\),?/ig,
""));if(A&&w!=1)A+=", ";z.filter=A+(w!=1?"alpha(opacity="+w*100+")":"")}}}catch(x){}if(!(s.defaultView||{}).getComputedStyle&&h.currentStyle)d._getComputedStyle=function(u,w){var z=u.style,A=u.currentStyle[w];if(y.test(w))A=d[w](u)+"px";else if(!c.test(A)&&l.test(A)){var B=z.left,r=u.runtimeStyle.left;u.runtimeStyle.left=u.currentStyle.left;z.left=w==="fontSize"?"1em":A||0;A=z.pixelLeft+"px";z.left=B;u.runtimeStyle.left=r}return A};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(b,d,s){function h(c,l,y,x){if(!(c=d.get(c)))return null;if(l===s)l=1;var u=null,w,z;if(b.isNumber(l)&&l>=0){if(l===0)return c;w=0;z=l;l=function(){return++w===z}}for(;c=c[y];)if(q(c)&&(!l||d.test(c,l))&&(!x||x(c))){u=c;break}return u}function i(c,l,y){var x=[];var u=c=d.get(c);if(c&&y)u=c.parentNode;if(u){y=0;for(u=u.firstChild;u;u=u.nextSibling)if(q(u)&&u!==c&&(!l||d.test(u,l)))x[y++]=u}return x}var q=d._isElementNode;b.mix(d,{parent:function(c,l){return h(c,l,
"parentNode",function(y){return y.nodeType!=11})},next:function(c,l){return h(c,l,"nextSibling",s)},prev:function(c,l){return h(c,l,"previousSibling",s)},siblings:function(c,l){return i(c,l,true)},children:function(c,l){return i(c,l,s)},contains:function(c,l){var y=false;if((c=d.get(c))&&(l=d.get(l)))if(c.contains){if(l.nodeType===3){l=l.parentNode;if(l===c)return true}if(l)return c.contains(l)}else if(c.compareDocumentPosition)return!!(c.compareDocumentPosition(l)&16);else for(;!y&&(l=l.parentNode);)y=
l==c;return y}});return d},{requires:["dom/base"]});KISSY.add("dom",function(b,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(b,d){function s(q,c,l){this.currentTarget=q;this.originalEvent=c||{};if(c){this.type=c.type;this._fix()}else{this.type=l;this.target=q}this.currentTarget=q;this.fixed=true}var h=document,i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(s,
{_fix:function(){var q=this.originalEvent,c=i.length,l,y=this.currentTarget;for(y=y.nodeType===9?y:y.ownerDocument||h;c;){l=i[--c];this[l]=q[l]}if(!this.target)this.target=this.srcElement||h;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===d&&this.clientX!==d){q=y.documentElement;c=y.body;this.pageX=this.clientX+(q&&q.scrollLeft||c&&c.scrollLeft||
0)-(q&&q.clientLeft||c&&c.clientLeft||0);this.pageY=this.clientY+(q&&q.scrollTop||c&&c.scrollTop||0)-(q&&q.clientTop||c&&c.clientTop||0)}if(this.which===d)this.which=this.charCode!==d?this.charCode:this.keyCode;if(this.metaKey===d)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==d)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var q=this.originalEvent;if(q.preventDefault)q.preventDefault();else q.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var q=
this.originalEvent;if(q.stopPropagation)q.stopPropagation();else q.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var q=this.originalEvent;q.stopImmediatePropagation?q.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(q){q?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return s});
KISSY.add("event/base",function(b,d,s,h){function i(r,n,p,k,j){if(b.isString(n))n=d.query(n);if(b.isArray(n)){b.each(n,function(m){B[r](m,p,k,j)});return true}if((p=b.trim(p))&&p.indexOf(w)>0){b.each(p.split(w),function(m){B[r](n,m,k,j)});return true}return h}function q(r){return r&&r.nodeType!==3&&r.nodeType!==8?d.data(r,u):-1}function c(r,n){r&&r.nodeType!==3&&r.nodeType!==8&&d.data(r,u,n)}var l=document,y=l.addEventListener?function(r,n,p,k){r.addEventListener&&r.addEventListener(n,p,!!k)}:function(r,
n,p){r.attachEvent&&r.attachEvent("on"+n,p)},x=l.removeEventListener?function(r,n,p,k){r.removeEventListener&&r.removeEventListener(n,p,!!k)}:function(r,n,p){r.detachEvent&&r.detachEvent("on"+n,p)},u="ksEventTargetId",w=" ",z=b.now(),A={},B={EVENT_GUID:u,special:{},add:function(r,n,p,k){if(!i("add",r,n,p,k)){var j=q(r),m,f,t,a,g;if(!(j===-1||!n||!b.isFunction(p))){if(!j){c(r,j=z++);A[j]={target:r,events:{}}}f=A[j].events;if(!f[n]){m=((j=!r.isCustomEventTarget)||r._supportSpecialEvent)&&B.special[n]||
{};t=function(e,o){if(!e||!e.fixed)e=new s(r,e,n);if(b.isPlainObject(o)){var v=e.type;b.mix(e,o);e.type=v}m.setup&&m.setup(e);return(m.handle||B._handle)(r,e)};f[n]={handle:t,listeners:[]};a=m.fix||n;g=m.capture;m.init&&m.init.apply(null,b.makeArray(arguments));j&&m.fix!==false&&y(r,a,t,g)}f[n].listeners.push({fn:p,scope:k||r})}}},__getListeners:function(r,n){var p,k=[];if(p=(B.__getEvents(r)||{})[n])k=p.listeners;return k},__getEvents:function(r){var n=q(r),p;if(n!==-1)if(n&&(p=A[n]))if(p.target===
r)return p.events||{}},remove:function(r,n,p,k){if(!i("remove",r,n,p,k)){var j=B.__getEvents(r),m=q(r),f,t,a,g,e,o,v=(!r.isCustomEventTarget||r._supportSpecialEvent)&&B.special[n]||{};if(j!==h){k=k||r;if(f=j[n]){t=f.listeners;a=t.length;if(b.isFunction(p)&&a){e=g=0;for(o=[];g<a;++g)if(p!==t[g].fn||k!==t[g].scope)o[e++]=t[g];f.listeners=o;a=o.length}if(p===h||a===0){if(!r.isCustomEventTarget){v=B.special[n]||{};if(v.fix!==false)x(r,v.fix||n,f.handle)}delete j[n]}}v.destroy&&v.destroy.apply(null,b.makeArray(arguments));
if(n===h||b.isEmptyObject(j)){for(n in j)B.remove(r,n);delete A[m];d.removeData(r,u)}}}},_handle:function(r,n){var p=B.__getListeners(r,n.type);p=p.slice(0);for(var k,j,m=0,f=p.length;m<f;++m){k=p[m];k=k.fn.call(k.scope,n);if(j!==false)j=k;if(k!==h){n.result=k;k===false&&n.halt()}if(n.isImmediatePropagationStopped)break}return j},_getCache:function(r){return A[r]},__getID:q,_simpleAdd:y,_simpleRemove:x};B.on=B.add;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(b,d,s,h){return{isCustomEventTarget:true,fire:function(i,q){var c=s.data(this,d.EVENT_GUID)||-1;if((c=((d._getCache(c)||{}).events||{})[i])&&b.isFunction(c.handle))return c.handle(h,q)},on:function(i,q,c){d.add(this,i,q,c);return this},detach:function(i,q,c){d.remove(this,i,q,c);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(b,d){document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){d.special[s.name]={fix:s.fix,capture:true,setup:function(h){h.type=s.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(b,d,s,h){h.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(i){d.special[i.name]={fix:i.fix,setup:function(q){q.type=i.name},handle:function(q,c){if(s._isKSNode(q))q=q[0];var l=c.relatedTarget;try{for(;l&&l!==q;)l=l.parentNode;l!==q&&d._handle(q,c)}catch(y){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(b,d,s){d.Target=s;return d},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(b,d,s){function h(i,q,c){if(!(this instanceof h))return new h(i,q,c);if(!i){this.length=0;return s}if(b.isString(i)){i=d.create(i,q,c);if(i.nodeType===11)return new (b.require("node/nodelist"))(i.childNodes)}else if(i instanceof h)return i;else i=i;this[0]=i;return s}h.TYPE="-ks-Node";b.augment(h,{length:1,getDOMNode:function(){return this[0]},nodeType:h.TYPE});h.one=function(i,q){var c=d.get(i,q);return c?new h(c,s,s):null};return h},{requires:["dom"]});
KISSY.add("node/nodelist",function(b,d,s,h){function i(l){if(!(this instanceof i))return new i(l);q.push.apply(this,b.makeArray(l)||[]);return h}var q=Array.prototype,c=d._isElementNode;b.mix(i.prototype,{length:0,item:function(l){var y=null,x,u;if(c(l)){x=0;for(u=this.length;x<u;x++)if(l===this[x]){l=x;break}}if(c(this[l]))y=new s(this[l]);return y},getDOMNodes:function(){return q.slice.call(this)},each:function(l,y){var x=this.length,u=0,w;for(w=new s(this[0]);u<x&&l.call(y||w,w,u,this)!==false;w=
new s(this[++u]));return this}});i.all=function(l,y){return new i(d.query(l,y,true))};return i},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(b,d,s,h,i,q){function c(f,t,a,g){f=[this[f?p:n]()].concat(b.makeArray(t));if(t[a]===q&&(a!=1||b.isString(t[0])))return g.apply(d,f);g.apply(d,f);return this}function l(f,t){b.each(f,function(a){b.each([B,r],function(g,e){g[a]=function(o){switch(t){case k:return function(){return c.call(this,e,arguments,1,o)};case j:return function(){return c.call(this,e,arguments,0,o)};case m:return function(){var v=this[e?p:n]();return(v=o.apply(d,[v].concat(b.makeArray(arguments))))?
new (b.isArray(v)?i:h)(v):null};default:return function(){var v=this[e?p:n]();v=o.apply(d,[v].concat(b.makeArray(arguments)));return v===q?this:v}}}(d[a])})})}function y(f,t,a){f&&b.each(this,function(g){var e;if(t||b.isString(f))e=d.create(f);else{if(w(f,1)||w(f,3))e=f;if(z(f))e=f[0]}d[a](e,g)});return this}function x(f,t){if((f=d.get(f))&&f.appendChild)b.each(this,function(a){d[t](a,f)});return this}function u(f,t){f.__wrap=f.__wrap||[];f.__wrap.push(t)}var w=d._nodeTypeIs,z=d._isKSNode,A=b.require("event/target"),
B=h.prototype,r=i.prototype,n="getDOMNode",p=n+"s",k=1,j=2,m=4;b.mix(B,{one:function(f){return h.one(f,this[0])},all:function(f){return i.all(f,this[0])}});l(["data","removeData"],k);l(["hasClass","addClass","removeClass","replaceClass","toggleClass"],q);l(["attr","removeAttr"],k);l(["val","text"],j);l(["css"],k);l(["width","height"],j);l(["offset"],j);l(["scrollIntoView"],q);l(["parent","next","prev","siblings","children"],m);l(["contains"],q);l(["html","unselectable"],j);l(["remove"],q);b.each(["insertBefore",
"insertAfter"],function(f){B[f]=function(t){d[f].call(d,this[0],t);return this}});b.each([B,r],function(f,t){b.each(["append","prepend"],function(a){f[a]=function(g){return y.call(this,g,t,a)};f[a+"To"]=function(g){return x.call(this,g,a)}})});b.augment(h,A,{fire:null,on:function(f,t,a){function g(o){var v=b.makeArray(arguments);v.shift();o.target=new h(o.target);if(o.relatedTarget)o.relatedTarget=new h(o.relatedTarget);v.unshift(o);return t.apply(a||e,v)}var e=this;s.add(this[0],f,g,a);u(t,g);return this},
detach:function(f,t,a){if(b.isFunction(t)){t=t.__wrap||[];for(var g=0;g<t.length;g++)s.remove(this[0],f,t[g],a)}else s.remove(this[0],f,t,a);return this}});b.augment(i,A,{fire:null});B._supportSpecialEvent=true;b.each({on:"add",detach:"remove"},function(f,t){r[t]=function(a,g,e){for(var o=0;o<this.length;o++)this.item(o).on(a,g,e)}})},{requires:["dom","event","./node","./nodelist"]});KISSY.add("node",function(b,d,s){d.List=s;return d},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function b(w){return w<10?"0"+w:w}function d(w){c.lastIndex=0;return c.test(w)?'"'+w.replace(c,function(z){var A=x[z];return typeof A==="string"?A:"\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function s(w,z){var A,B,r,n,p=l,k,j=z[w];if(j&&typeof j==="object"&&typeof j.toJSON==="function")j=j.toJSON(w);if(typeof u==="function")j=u.call(z,w,j);switch(typeof j){case "string":return d(j);case "number":return isFinite(j)?String(j):"null";case "boolean":case "null":return String(j);
case "object":if(!j)return"null";l+=y;k=[];if(Object.prototype.toString.apply(j)==="[object Array]"){n=j.length;for(A=0;A<n;A+=1)k[A]=s(A,j)||"null";r=k.length===0?"[]":l?"[\n"+l+k.join(",\n"+l)+"\n"+p+"]":"["+k.join(",")+"]";l=p;return r}if(u&&typeof u==="object"){n=u.length;for(A=0;A<n;A+=1){B=u[A];if(typeof B==="string")if(r=s(B,j))k.push(d(B)+(l?": ":":")+r)}}else for(B in j)if(Object.hasOwnProperty.call(j,B))if(r=s(B,j))k.push(d(B)+(l?": ":":")+r);r=k.length===0?"{}":l?"{\n"+l+k.join(",\n"+l)+
"\n"+p+"}":"{"+k.join(",")+"}";l=p;return r}}var h=window,i=h.JSON;if(!i)i=h.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var q=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,y,x={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof i.stringify!=="function")i.stringify=function(w,z,A){var B;y=l="";if(typeof A==="number")for(B=0;B<A;B+=1)y+=" ";else if(typeof A==="string")y=A;if((u=z)&&typeof z!=="function"&&(typeof z!=="object"||typeof z.length!=="number"))throw Error("JSON.stringify");return s("",{"":w})};if(typeof i.parse!==
"function")i.parse=function(w,z){function A(r,n){var p,k,j=r[n];if(j&&typeof j==="object")for(p in j)if(Object.hasOwnProperty.call(j,p)){k=A(j,p);if(k!==undefined)j[p]=k;else delete j[p]}return z.call(r,n,j)}var B;w=String(w);q.lastIndex=0;if(q.test(w))w=w.replace(q,function(r){return"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+w+")");return typeof z==="function"?A({"":B},""):B}throw new SyntaxError("JSON.parse");};return i});KISSY.add("json",function(b,d){return{parse:function(s){if(s==null||s==="")return null;return d.parse(s)},stringify:d.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(b,d,s,h){function i(e){e=b.merge(g,e);if(!e.url)return h;if(e.data&&!b.isString(e.data))e.data=b.param(e.data);e.context=e.context||e;var o,v=j,C,D=e.type.toUpperCase();if(e.dataType===A){o=e.jsonpCallback||b.guid(A);e.url=e.url+(e.url.indexOf("?")===-1?"?":"&")+(e.jsonp+"="+o);e.dataType=B;var F=l[o];l[o]=function(I){if(b.isFunction(F))F(I);else{l[o]=h;try{delete l[o]}catch(H){}}q([j,m],I,v,E,e)}}if(e.data&&D===x)e.url=e.url+(e.url.indexOf("?")===-1?"?":"&")+e.data;
if(e.dataType===B){c(n,e);D=b.getScript(e.url,o?null:function(){q([j,m],r,v,E,e)});c(p,e);return D}var G=false,E=e.xhr();c(n,e);E.open(D,e.url,e.async);try{if(e.data||e.contentType)E.setRequestHeader(w,e.contentType);E.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*; q=0.01":e.accepts._default)}catch(J){}E.onreadystatechange=function(I){if(!E||E.readyState===0||I==="abort"){G||q(m,null,f,E,e);G=true;if(E)E.onreadystatechange=y}else if(!G&&E&&(E.readyState===
4||I===t)){G=true;E.onreadystatechange=y;var H;if(I===t)H=t;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?j:f}v=H;try{H=E;var M=e.dataType,N=r,O,L=H;if(!b.isString(L)){N=H.getResponseHeader(w)||r;L=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&L.documentElement.nodeName===a)throw a;}if(b.isString(L))if(M===z||!M&&N.indexOf(z)>=0)L=s.parse(L);C=L}catch(Q){v=a}q([v===j?j:f,m],C,v,E,e);if(I===t){E.abort();c(k,e)}if(e.async)E=
null}};c(p,e);try{E.send(D===u?e.data:null)}catch(K){q([f,m],C,f,E,e)}e.async||c(m,e);return E}function q(e,o,v,C,D){if(b.isArray(e))b.each(e,function(F){q(F,o,v,C,D)});else{v===e&&D[e]&&D[e].call(D.context,o,v,C);c(e,D)}}function c(e,o){i.fire(e,{ajaxConfig:o})}var l=window,y=function(){},x="GET",u="POST",w="Content-Type",z="json",A=z+"p",B="script",r="",n="start",p="send",k="stop",j="success",m="complete",f="error",t="timeout",a="parsererror",g={type:x,url:r,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:l.ActiveXObject?function(){if(l.XmlHttpRequest)try{return new l.XMLHttpRequest}catch(e){}try{return new l.ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}:function(){return new l.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};b.mix(i,d.Target);b.mix(i,{get:function(e,o,v,C,D){if(b.isFunction(o)){C=v;v=o}return i({type:D||
x,url:e,data:o,success:function(F,G,E){v&&v.call(this,F,G,E)},dataType:C})},post:function(e,o,v,C){if(b.isFunction(o)){C=v;v=o;o=h}return i.get(e,o,v,C,u)},jsonp:function(e,o,v){if(b.isFunction(o)){v=o;o=null}return i.get(e,o,v,A)}});return i},{requires:["event","json"]});KISSY.add("ajax",function(b,d){return d},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var b=Math,d=b.PI,s=b.pow,h=b.sin,i=1.70158,q={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(s(2,10*(c-=1))*h((c-0.075)*2*d/0.3))},elasticOut:function(c){if(c===
0||c===1)return c;return s(2,-10*c)*h((c-0.075)*2*d/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*s(2,10*(c-=1))*h((c-0.1125)*2*d/0.45);return s(2,-10*(c-=1))*h((c-0.1125)*2*d/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((i+1)*c-i)},backOut:function(c){return(c-=1)*c*((i+1)*c+i)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((i*=1.525)+1)*c-i);return 0.5*((c-=2)*c*(((i*=1.525)+1)*c+i)+2)},bounceIn:function(c){return 1-q.bounceOut(1-c)},bounceOut:function(c){return c<
1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return q.bounceIn(c*2)*0.5;return q.bounceOut(c*2-1)*0.5+0.5}};q.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return q});
KISSY.add("anim/manager",function(b){function d(h){h[s]=h[s]||b.guid("anim-");return h[s]}var s=b.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(h){var i=d(h);if(!this.runnings[i]){this.runnings[i]=h;this.startTimer()}},stop:function(h){this.notRun(h)},notRun:function(h){delete this.runnings[d(h)];b.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(h){this.notRun(h)},resume:function(h){this.start(h)},startTimer:function(){var h=this;if(!h.timer)h.timer=setTimeout(function(){if(h.runFrames())h.stopTimer();
else{h.timer=null;h.startTimer()}},h.interval)},stopTimer:function(){var h=this.timer;if(h){clearTimeout(h);this.timer=null}},runFrames:function(){var h=true,i=this.runnings,q;for(q in i)if(i.hasOwnProperty(q)){h=false;i[q]._runFrame()}return h}}});
KISSY.add("anim/base",function(b,d,s,h,i,q,c){function l(k,j,m,f,t,a){if(!(k=d.get(k)))return c;if(!(this instanceof l))return new l(k,j,m,f,t,a);var g=b.isPlainObject(m);j=j;this.domEl=k;if(b.isPlainObject(j))j=String(b.param(j,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=j,o=k,v;k={};var C=w.length;o=d.insertAfter(o.cloneNode(true),o);v=o.style;for(x(o,e);C--;){var D=w[C];if(v[D])k[D]=(n[D]||n["*"]).getter(o,D)}e=u(e);for(var F in e)k[F]=(n[F]||
n["*"]).getter(o,F);d.remove(o);this.props=k;this.targetStyle=j;if(g)g=b.merge(B,m);else{g=b.clone(B);if(m)g.duration=parseFloat(m)||1;if(b.isString(f)||b.isFunction(f))g.easing=f;if(b.isFunction(t))g.complete=t;if(a!==c)g.nativeSupport=a}if(!b.isEmptyObject(u(j)))g.nativeSupport=false;this.config=g;if(g.nativeSupport&&p()&&b.isString(f=g.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(f)||(f=h.NativeTimeFunction[f])){g.easing=f;this.transitionName=p()}if(b.isFunction(t))this.callback=t;return c}function y(k,
j){return j}function x(k,j){if(i.ie&&j.indexOf(A)>-1){var m=j.match(/opacity\s*:\s*([^;]+)(;|$)/);m&&d.css(k,A,parseFloat(m[1]))}k.style.cssText+=";"+j;m=u(j);for(var f in m)k[f]=m[f]}function u(k){for(var j={},m=0;m<z.length;m++){var f=z[m].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(f=k.match(RegExp(f+"\\s*:([^;]+)(;|$)")))j[z[m]]=b.trim(f[1])}return j}var w,z,A,B,r;s=s.Target;w="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
z=[];A="opacity";B={duration:1,easing:"easeNone",nativeSupport:true};l.PROPS=w;l.CUSTOM_ATTRS=z;l.PROP_OPS={"*":{getter:function(k,j){var m=d.css(k,j),f=parseFloat(m);m=(m+"").replace(/^[-\d.]+/,"");if(isNaN(f))return{v:m,u:"",f:y};return{v:f,u:m,f:this.interpolate}},setter:function(k,j,m){return d.css(k,j,m)},interpolate:function(k,j,m){return(k+(j-k)*m).toFixed(3)}}};var n=l.PROP_OPS;b.augment(l,s,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,run:function(){var k=this.config,j=this.domEl,
m,f=this.props,t={},a;if(this.fire("start")!==false){this.stop();this.duration=m=k.duration*1E3;if(this.transitionName)this._nativeRun();else{for(a in f)t[a]=(n[a]||n["*"]).getter(j,a);this.source=t;j=b.now();m=j+m;k=k.easing;if(b.isString(k))k=h[k]||h.easeNone;this.start=j;this.finish=m;this.easing=k;q.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var k=this.domEl,j=this.finish,m=this.start,f=this.duration,
t=b.now(),a=this.source,g=this.easing,e=this.props,o;m=t-m;f=t>j?1:m/f;var v,C;this.elapsedTime=m;for(o in e){m=a[o];v=e[o];if(v.v==0)v.u=m.u;if(m.u!==v.u){m.v=0;m.u=v.u}m=v.f(m.v,v.v,g(f))+v.u;(n[o]||n["*"]).setter(k,o,m)}if(this.fire("step")===false||(C=t>j)){this.stop();C&&this._complete()}},_nativeRun:function(){var k=this,j=k.domEl,m=k.duration,f=k.config.easing,t=k.transitionName,a={};a[t+"Property"]="all";a[t+"Duration"]=m+"ms";a[t+"TimingFunction"]=f;d.css(j,a);b.later(function(){x(j,k.targetStyle)},
0);b.later(function(){k.stop(true)},m)},stop:function(k){if(this.transitionName)this._nativeStop(k);else{if(k){x(this.domEl,this.targetStyle);this._complete()}q.stop(this)}this.isRunning=false;return this},_nativeStop:function(k){var j=this.domEl,m=this.transitionName,f=this.props,t;if(k){d.css(j,m+"Property","none");this._complete()}else{for(t in f)d.css(j,t,d._getComputedStyle(j,t));d.css(j,m+"Property","none")}}});l.supportTransition=function(){if(r)return r;var k="transition",j,m=document.body;
if(m.style[k]!==c)j=k;else b.each(["Webkit","Moz","O"],function(f){if(m.style[k=f+"Transition"]!==c){j=k;return false}});return r=j};var p=l.supportTransition;return l},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(b,d,s,h,i){function q(r,n,p,k,j){if(n==="toggle"){j=d.css(r,l)===y?1:0;n="show"}if(j)d.css(r,l,d.data(r,l)||"");var m={},f={};b.each(B[n],function(t){if(t===x){m[x]=d.css(r,x);d.css(r,x,u)}else if(t===w){m[w]=d.css(r,w);f.opacity=j?1:0;j&&d.css(r,w,0)}else if(t===z){m[z]=d.css(r,z);f.height=j?d.css(r,z)||r.naturalHeight:0;j&&d.css(r,z,0)}else if(t===A){m[A]=d.css(r,A);f.width=j?d.css(r,A)||r.naturalWidth:0;j&&d.css(r,A,0)}});(new s(r,f,p,"easeOut",function(){if(!j){var t=
r.style,a=t[l];if(a!==y){a&&d.data(r,l,a);t[l]=y}m[z]&&d.css(r,{height:m[z]});m[A]&&d.css(r,{width:m[A]});m[w]&&d.css(r,{opacity:m[w]});m[x]&&d.css(r,{overflow:m[x]})}k&&b.isFunction(k)&&k()})).run()}h=b.require("node/node").prototype;var c=b.require("node/nodelist").prototype,l="display",y="none",x="overflow",u="hidden",w="opacity",z="height",A="width",B={show:[x,w,z,A],fade:[w],slide:[x,z]};b.each([h,c],function(r){r.animate=function(){var n=b.makeArray(arguments);b.each(this,function(p){s.apply(i,
[p].concat(n)).run()});return this};b.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(n,p){r[p]=function(k,j){d[p]&&arguments.length===0?d[p](this):b.each(this,function(m){q(m,n[0],k,j,n[1])});return this}})})},{requires:["dom","anim/base","node"]});
KISSY.add("anim/color",function(b,d,s){function h(x){x=x.toLowerCase();var u;if(u=x.match(q))return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])];else if(u=x.match(c)){for(x=1;x<u.length;x++)if(u[x].length<2)u[x]+=u[x];return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}if(i[x])return i[x];return[255,255,255]}var i={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},q=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,c=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,l="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),y=s.PROP_OPS;s=s.PROPS;s.push.apply(s,l);y.color={getter:function(x,u){return{v:h(d.css(x,u)),u:"",f:this.interpolate}},setter:y["*"].setter,interpolate:function(x,u,w){var z=
y["*"].interpolate;return"rgb("+[Math.floor(z(x[0],u[0],w)),Math.floor(z(x[1],u[1],w)),Math.floor(z(x[2],u[2],w))].join(", ")+")"}};b.each(l,function(x){y[x]=y.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(b,d,s){var h=s.PROP_OPS;s.CUSTOM_ATTRS.push("scrollLeft","scrollTop");h.scrollLeft=h.scrollTop={getter:function(i,q){return{v:i[q],u:"",f:h["*"].interpolate}},setter:function(i,q,c){i[q]=c}}},{requires:["dom","./base"]});
KISSY.add("anim",function(b,d,s){d.Easing=s;return d},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color","anim/scroll"]});
KISSY.add("base/attribute",function(b,d){function s(){this.__attrs={};this.__attrVals={}}function h(i){i+="";return i.charAt(0).toUpperCase()+i.substring(1)}b.augment(s,{__getDefAttrs:function(){return b.clone(this.__attrs)},addAttr:function(i,q,c){if(this.__attrs[i])b.mix(this.__attrs[i],q,c);else this.__attrs[i]=b.clone(q||{});return this},hasAttr:function(i){return i&&this.__attrs.hasOwnProperty(i)},removeAttr:function(i){if(this.hasAttr(i)){delete this.__attrs[i];delete this.__attrVals[i]}return this},
set:function(i,q){var c=this.get(i);if(c!==q)if(false!==this.__fireAttrChange("before",i,c,q)){this.__set(i,q);this.__fireAttrChange("after",i,c,this.__attrVals[i]);return this}},__fireAttrChange:function(i,q,c,l){return this.fire(i+h(q)+"Change",{attrName:q,prevVal:c,newVal:l})},__set:function(i,q){var c,l=this.__attrs[i];if(l=l&&l.setter)c=l.call(this,q);if(c!==d)q=c;this.__attrVals[i]=q},get:function(i){var q;q=(q=this.__attrs[i])&&q.getter;i=i in this.__attrVals?this.__attrVals[i]:this.__getDefAttrVal(i);
if(q)i=q.call(this,i);return i},__getDefAttrVal:function(i){i=this.__attrs[i];var q;if(i){if(q=i.valueFn){q=q.call(this);if(q!==d)i.value=q;delete i.valueFn}return i.value}},reset:function(i){if(this.hasAttr(i))return this.set(i,this.__getDefAttrVal(i));for(i in this.__attrs)this.hasAttr(i)&&this.reset(i);return this}});s.__capitalFirst=h;return s});
KISSY.add("base/base",function(b,d){function s(h){d.call(this);for(var i=this.constructor;i;){var q=i.ATTRS;if(q){var c=void 0;for(c in q)q.hasOwnProperty(c)&&this.addAttr(c,q[c],false)}i=i.superclass?i.superclass.constructor:null}if(h)for(var l in h)h.hasOwnProperty(l)&&this.__set(l,h[l])}b.augment(s,b.require("event/target"),d);return s},{requires:["base/attribute","event"]});KISSY.add("base",function(b,d){return d},{requires:["base/base"]});
KISSY.add("cookie/base",function(b){var d=document,s=encodeURIComponent,h=decodeURIComponent;return{get:function(i){var q;if(b.isString(i)&&i!=="")if(i=String(d.cookie).match(RegExp("(?:^| )"+i+"(?:(?:=([^;]*))|;|$)")))q=i[1]?h(i[1]):"";return q},set:function(i,q,c,l,y,x){q=String(s(q));var u=c;if(typeof u==="number"){u=new Date;u.setTime(u.getTime()+c*864E5)}if(u instanceof Date)q+="; expires="+u.toUTCString();if(b.isString(l)&&l!=="")q+="; domain="+l;if(b.isString(y)&&y!=="")q+="; path="+y;if(x)q+=
"; secure";d.cookie=i+"="+q},remove:function(i,q,c,l){this.set(i,"",0,q,c,l)}}});KISSY.add("cookie",function(b,d){return d},{requires:["cookie/base"]});KISSY.add("core",function(b,d,s,h,i,q,c,l,y,x){d={UA:d,DOM:s,Event:h,EventTarget:h.Target,Node:i,NodeList:i.List,JSON:q,Ajax:c,IO:c,ajax:c,io:c,jsonp:c.jsonp,Anim:l,Easing:l.Easing,Base:y,Cookie:x,one:i.one,all:i.List.all,get:s.get,query:s.query};b.mix(b,d);return d},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
