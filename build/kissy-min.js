/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Nov 10 18:54
*/
(function(a,n,v){if(a[n]===v)a[n]={};n=a[n];var o=a.document,d=location,h=function(g,p,r,l){if(!p||!g)return g;if(r===v)r=true;var k,b,f;if(l&&(f=l.length))for(k=0;k<f;k++){b=l[k];if(b in p)if(r||!(b in g))g[b]=p[b]}else for(b in p)if(r||!(b in g))g[b]=p[b];return g},m=false,e=[],s=false,z=/^#?([\w-]+)$/,t=0;h(n,{version:"1.1.5",__init:function(){this.Env={mods:{},_loadQueue:{}};var g=o.getElementsByTagName("script");this.Config={debug:"",base:g[g.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(g){s||this._bindReady();m?g.call(a,this):e.push(g);return this},_bindReady:function(){var g=this,p=o.documentElement.doScroll,r=p?"onreadystatechange":"DOMContentLoaded",l=function(){g._fireReady()};s=true;if(o.readyState==="complete")return l();if(o.addEventListener){var k=function(){o.removeEventListener(r,k,false);l()};o.addEventListener(r,k,false);a.addEventListener("load",l,false)}else{var b=function(){if(o.readyState==="complete"){o.detachEvent(r,b);l()}};o.attachEvent(r,
b);a.attachEvent("onload",l);if(a==a.top){var f=function(){try{p("left");l()}catch(i){setTimeout(f,1)}};f()}}},_fireReady:function(){if(!m){m=true;if(e){for(var g,p=0;g=e[p++];)g.call(a,this);e=null}}},available:function(g,p){if((g=(g+"").match(z)[1])&&n.isFunction(p))var r=1,l=n.later(function(){if(o.getElementById(g)&&(p()||1)||++r>500)l.cancel()},40,true)},mix:h,merge:function(){var g={},p,r=arguments.length;for(p=0;p<r;++p)h(g,arguments[p]);return g},augment:function(){var g=arguments,p=g.length-
2,r=g[0],l=g[p],k=g[p+1],b=1;if(!n.isArray(k)){l=k;k=v;p++}if(!n.isBoolean(l)){l=v;p++}for(;b<p;b++)h(r.prototype,g[b].prototype||g[b],l,k);return r},extend:function(g,p,r,l){if(!p||!g)return g;var k=Object.prototype,b=p.prototype,f=function(i){function j(){}j.prototype=i;return new j}(b);g.prototype=f;f.constructor=g;g.superclass=b;if(p!==Object&&b.constructor===k.constructor)b.constructor=p;r&&h(f,r);l&&h(g,l);return g},namespace:function(){var g=arguments,p=g.length,r=null,l,k,b,f=g[p-1]===true&&
p--;for(l=0;l<p;++l){b=(""+g[l]).split(".");r=f?a:this;for(k=a[b[0]]===r?1:0;k<b.length;++k)r=r[b[k]]=r[b[k]]||{}}return r},app:function(g,p){var r=n.isString(g),l=r?a[g]||{}:g;h(l,this,true,n.__APP_MEMBERS);l.__init();h(l,n.isFunction(p)?p():p);r&&(a[g]=l);return l},log:function(g,p,r){if(n.Config.debug){if(r)g=r+": "+g;if(a.console!==v&&console.log)console[p&&console[p]?p:"log"](g)}},error:function(g){if(n.Config.debug)throw g;},guid:function(g){var p=t++ +"";return g?g+p:p}});n.__init();n.__APP_MEMBERS=
["__init","namespace"];if(d&&(d.search||"").indexOf("ks-debug")!==-1)n.Config.debug=true})(window,"KISSY");
(function(a,n,v){function o(c){var q=typeof c;return c===null||q!=="object"&&q!=="function"}function d(c){return e.slice.call(c)}var h=document,m=h.documentElement,e=Array.prototype,s=e.indexOf,z=e.lastIndexOf,t=e.filter,g=String.prototype.trim,p=Object.prototype.toString,r=encodeURIComponent,l=decodeURIComponent,k=r("[]"),b=/^\s+|\s+$/g,f=/^(\w+)\[\]$/,i=/\S/;n.mix(n,{isUndefined:function(c){return c===v},isBoolean:function(c){return p.call(c)==="[object Boolean]"},isString:function(c){return p.call(c)===
"[object String]"},isNumber:function(c){return p.call(c)==="[object Number]"&&isFinite(c)},isPlainObject:function(c){return c&&p.call(c)==="[object Object]"&&!c.nodeType&&!c.setInterval},isEmptyObject:function(c){for(var q in c)return false;return true},isFunction:function(c){return p.call(c)==="[object Function]"},isArray:function(c){return p.call(c)==="[object Array]"},trim:g?function(c){return c==v?"":g.call(c)}:function(c){return c==v?"":c.toString().replace(b,"")},substitute:function(c,q,w){if(!n.isString(c)||
!n.isPlainObject(q))return c;return c.replace(w||/\\?\{([^{}]+)\}/g,function(u,x){if(u.charAt(0)==="\\")return u.slice(1);return q[x]!==v?q[x]:""})},each:function(c,q,w){var u,x=0,y=c.length,A=y===v||n.isFunction(c);w=w||a;if(A)for(u in c){if(q.call(w,c[u],u,c)===false)break}else for(u=c[0];x<y&&q.call(w,u,x,c)!==false;u=c[++x]);return c},indexOf:s?function(c,q){return s.call(q,c)}:function(c,q){for(var w=0,u=q.length;w<u;++w)if(q[w]===c)return w;return-1},lastIndexOf:z?function(c,q){return z.call(q,
c)}:function(c,q){for(var w=q.length-1;w>=0;w--)if(q[w]===c)break;return w},unique:function(c,q){q&&c.reverse();for(var w=c.slice(),u=0,x,y;u<w.length;){for(y=w[u];(x=n.lastIndexOf(y,w))!==u;)w.splice(x,1);u+=1}q&&w.reverse();return w},inArray:function(c,q){return n.indexOf(c,q)>-1},makeArray:function(c){if(c===null||c===v)return[];if(n.isArray(c))return c;if(typeof c.length!=="number"||n.isString(c)||n.isFunction(c))return[c];return d(c)},filter:t?function(c,q,w){return t.call(c,q,w)}:function(c,
q,w){var u=[];n.each(c,function(x,y,A){q.call(w,x,y,A)&&u.push(x)});return u},param:function(c,q){if(!n.isPlainObject(c))return"";q=q||"&";var w=[],u,x;for(u in c){x=c[u];u=r(u);if(o(x))w.push(u,"=",r(x+""),q);else if(n.isArray(x)&&x.length)for(var y=0,A=x.length;y<A;++y)o(x[y])&&w.push(u,k+"=",r(x[y]+""),q)}w.pop();return w.join("")},unparam:function(c,q){if(typeof c!=="string"||(c=n.trim(c)).length===0)return{};for(var w={},u=c.split(q||"&"),x,y,A,B,D=0,C=u.length;D<C;++D){x=u[D].split("=");y=l(x[0]);
try{A=l(x[1]||"")}catch(E){A=x[1]||""}if((B=y.match(f))&&B[1]){w[B[1]]=w[B[1]]||[];w[B[1]].push(A)}else w[y]=A}return w},later:function(c,q,w,u,x){q=q||0;u=u||{};var y=c,A=n.makeArray(x),B;if(n.isString(c))y=u[c];y||n.error("method undefined");c=function(){y.apply(u,A)};B=w?setInterval(c,q):setTimeout(c,q);return{id:B,interval:w,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(c){var q=c,w,u;if(c&&((w=n.isArray(c))||n.isPlainObject(c))){q=w?[]:{};for(u in c)if(c.hasOwnProperty(u))q[u]=
n.clone(c[u])}return q},now:function(){return(new Date).getTime()},globalEval:function(c){if(c&&i.test(c)){var q=h.getElementsByTagName("head")[0]||m,w=h.createElement("script");w.text=c;q.insertBefore(w,q.firstChild);q.removeChild(w)}}});try{d(m.childNodes)}catch(j){d=function(c){for(var q=[],w=c.length-1;w>=0;w--)q[w]=c[w];return q}}})(window,KISSY);
(function(a,n,v){var o=a.document,d=o.getElementsByTagName("head")[0]||o.documentElement,h=2,m=3,e=4,s=n.mix,z=o.createElement("script").readyState?function(g,p){var r=g.onreadystatechange;g.onreadystatechange=function(){var l=g.readyState;if(l==="loaded"||l==="complete"){g.onreadystatechange=null;r&&r();p.call(this)}}}:function(g,p){g.addEventListener("load",p,false)},t=/\.css(?:\?|$)/i;a={add:function(g,p,r){var l=this.Env.mods,k;if(n.isString(g)&&!r&&n.isPlainObject(p)){k={};k[g]=p;g=k}if(n.isPlainObject(g)){n.each(g,
function(b,f){b.name=f;l[f]&&s(b,l[f],false)});s(l,g)}else{r=r||{};k=l[g]||{};g=r.host||k.host||g;k=l[g]||{};s(k,{name:g,status:h});if(!k.fns)k.fns=[];p&&k.fns.push(p);s(l[g]=k,r);k.attach!==false&&this.__isAttached(k.requires)&&this.__attachMod(k)}return this},use:function(g,p,r){g=g.replace(/\s+/g,"").split(",");r=r||{};var l=this,k=l.Env.mods,b=(r||0).global,f,i=g.length,j,c,q;b&&l.__mixMods(b);if(l.__isAttached(g))p&&p(l);else{for(f=0;f<i&&(j=k[g[f]]);f++)if(j.status!==e){if(r.order&&f>0){if(!j.requires)j.requires=
[];j._requires=j.requires.concat();c=g[f-1];if(!n.inArray(c,j.requires)&&!n.inArray(j.name,k[c].requires||[]))j.requires.push(c)}l.__attach(j,function(){if(j._requires){j.requires=j._requires;delete j._requires}if(!q&&l.__isAttached(g)){q=true;p&&p(l)}},b)}return l}},__attach:function(g,p,r){function l(){if(k.__isAttached(b)){g.status===h&&k.__attachMod(g);g.status===e&&p()}}for(var k=this,b=g.requires||[],f=0,i=b.length;f<i;f++)k.__attach(k.Env.mods[b[f]],l,r);k.__buildPath(g);k.__load(g,l,r)},__mixMods:function(g){var p=
this.Env.mods,r=g.Env.mods,l;for(l in r)this.__mixMod(p,r,l,g)},__mixMod:function(g,p,r,l){var k=g[r]||{},b=k.status;n.mix(k,n.clone(p[r]));if(b)k.status=b;l&&this.__buildPath(k,l.Config.base);g[r]=k},__attachMod:function(g){var p=this;if(g.fns){n.each(g.fns,function(r){r&&r(p)});g.fns=v}g.status=e},__isAttached:function(g){for(var p=this.Env.mods,r,l=(g=n.makeArray(g)).length-1;l>=0&&(r=p[g[l]]);l--)if(r.status!==e)return false;return true},__load:function(g,p,r){function l(){f[b]=h;if(g.status!==
m){r&&k.__mixMod(k.Env.mods,r.Env.mods,g.name,r);if(g.status!==e)g.status=h;p()}}var k=this,b=g.fullpath,f=n.Env._loadQueue,i=f[b];g.status=g.status||0;if(g.status<1&&i)g.status=i.nodeName?1:h;if(n.isString(g.cssfullpath)){k.getScript(g.cssfullpath);g.cssfullpath=h}if(g.status<1&&b){g.status=1;i=k.getScript(b,{success:function(){KISSY.log(g.name+" is loaded.","info");l()},error:function(){g.status=m;f[b]=h},charset:g.charset});t.test(b)||(f[b]=i)}else g.status===1?z(i,l):p()},__buildPath:function(g,
p){function r(k,b){if(!g[b]&&g[k])g[b]=(p||l.base)+g[k];if(g[b]&&l.debug)g[b]=g[b].replace(/-min/g,"")}var l=this.Config;r("path","fullpath");g.cssfullpath!==h&&r("csspath","cssfullpath")},getScript:function(g,p,r){var l=t.test(g),k=o.createElement(l?"link":"script"),b=p,f,i,j;if(n.isPlainObject(b)){p=b.success;f=b.error;i=b.timeout;r=b.charset}if(l){k.href=g;k.rel="stylesheet"}else{k.src=g;k.async=true}if(r)k.charset=r;if(n.isFunction(p))l?p.call(k):z(k,function(){if(j){j.cancel();j=v}p.call(k)});
if(n.isFunction(f))j=n.later(function(){j=v;f()},(i||this.Config.timeout)*1E3);d.insertBefore(k,d.firstChild);return k}};s(n,a);n.each(a,function(g,p){n.__APP_MEMBERS.push(p)})})(window,KISSY);(function(a){var n={core:{path:"packages/core-min.js",charset:"utf-8"}};a.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(v){n[v]={path:v+"/"+v+"-pkg-min.js",requires:["core"],charset:"utf-8"}});n.calendar.csspath="calendar/default-min.css";a.add(n)})(KISSY);
KISSY.add("ua",function(a){var n=navigator.userAgent,v="",o="",d,h={},m=function(e){var s=0;return parseFloat(e.replace(/\./g,function(){return s++===0?".":""}))};if((d=n.match(/AppleWebKit\/([\d.]*)/))&&d[1]){h[v="webkit"]=m(d[1]);if((d=n.match(/Chrome\/([\d.]*)/))&&d[1])h[o="chrome"]=m(d[1]);else if((d=n.match(/\/([\d.]*) Safari/))&&d[1])h[o="safari"]=m(d[1]);if(/ Mobile\//.test(n))h.mobile="apple";else if(d=n.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))h.mobile=d[0].toLowerCase()}else if((d=
n.match(/Presto\/([\d.]*)/))&&d[1]){h[v="presto"]=m(d[1]);if((d=n.match(/Opera\/([\d.]*)/))&&d[1]){h[o="opera"]=m(d[1]);if((d=n.match(/Opera\/.* Version\/([\d.]*)/))&&d[1])h[o]=m(d[1]);if((d=n.match(/Opera Mini[^;]*/))&&d)h.mobile=d[0].toLowerCase();else if((d=n.match(/Opera Mobi[^;]*/))&&d)h.mobile=d[0]}}else if((d=n.match(/MSIE\s([^;]*)/))&&d[1]){h[v="trident"]=0.1;h[o="ie"]=m(d[1]);if((d=n.match(/Trident\/([\d.]*)/))&&d[1])h[v]=m(d[1])}else if(d=n.match(/Gecko/)){h[v="gecko"]=0.1;if((d=n.match(/rv:([\d.]*)/))&&
d[1])h[v]=m(d[1]);if((d=n.match(/Firefox\/([\d.]*)/))&&d[1])h[o="firefox"]=m(d[1])}h.core=v;h.shell=o;h._numberify=m;a.UA=h});
KISSY.add("ua-extra",function(a){var n=a.UA,v=navigator.userAgent,o,d,h={},m=n._numberify;if(v.match(/360SE/))h[d="se360"]=3;else if(v.match(/Maxthon/)&&(o=window.external)){d="maxthon";try{h[d]=m(o.max_version)}catch(e){h[d]=0.1}}else if(o=v.match(/TencentTraveler\s([\d.]*)/))h[d="tt"]=o[1]?m(o[1]):0.1;else if(v.match(/TheWorld/))h[d="theworld"]=3;else if(o=v.match(/SE\s([\d.]*)/))h[d="sougou"]=o[1]?m(o[1]):0.1;d&&(h.shell=d);a.mix(n,h)});
KISSY.add("dom",function(a,n){function v(o,d){return o&&o.nodeType===d}a.DOM={_isElementNode:function(o){return v(o,1)},_isKSNode:function(o){return a.Node&&v(o,a.Node.TYPE)},_getWin:function(o){return o&&"scrollTo"in o&&o.document?o:v(o,9)?o.defaultView||o.parentWindow:o===n?window:false},_nodeTypeIs:v}});
KISSY.add("selector",function(a,n){function v(b,f){var i,j,c=[],q;f=o(f);if(a.isString(b)){b=a.trim(b);if(l.test(b)){if(j=d(b.slice(1),f))c=[j]}else if(i=k.exec(b)){j=i[1];q=i[2];i=i[3];if(f=j?d(j,f):f)if(i)if(!j||b.indexOf(t)!==-1)c=m(i,q,f);else{if((j=d(j,f))&&z.hasClass(j,i))c=[j]}else if(q)c=h(q,f)}else if(a.ExternalSelector)return a.ExternalSelector(b,f);else e(b)}else if(b&&(b[p]||b[r]))c=b[p]?[b[p]()]:b[r]();else if(b&&(a.isArray(b)||b&&!b.nodeType&&b.item&&b!=window))c=b;else if(b)c=[b];if(c&&
!c.nodeType&&c.item&&c!=window)c=a.makeArray(c);c.each=function(w,u){return a.each(c,w,u)};return c}function o(b){if(b===n)b=s;else if(a.isString(b)&&l.test(b))b=d(b.slice(1),s);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function d(b,f){if(f.nodeType!==9)f=f.ownerDocument;return f.getElementById(b)}function h(b,f){return f.getElementsByTagName(b)}function m(b,f,i){i=b=i.getElementsByClassName(b);var j=0,c=0,q=b.length,w;if(f&&f!==g){i=[];for(f=f.toUpperCase();j<q;++j){w=b[j];if(w.tagName===
f)i[c++]=w}}return i}function e(b){a.error("Unsupported selector: "+b)}var s=document,z=a.DOM,t=" ",g="*",p="getDOMNode",r=p+"s",l=/^#[\w-]+$/,k=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=s.createElement("div");b.appendChild(s.createComment(""));if(b.getElementsByTagName(g).length>0)h=function(f,i){var j=i.getElementsByTagName(f);if(f===g){for(var c=[],q=0,w=0,u;u=j[q++];)if(u.nodeType===1)c[w++]=u;j=c}return j}})();s.getElementsByClassName||(m=s.querySelectorAll?function(b,f,
i){return i.querySelectorAll((f?f:"")+"."+b)}:function(b,f,i){f=i.getElementsByTagName(f||g);i=[];var j=0,c=0,q=f.length,w,u;for(b=t+b+t;j<q;++j){w=f[j];if((u=w.className)&&(t+u+t).indexOf(b)>-1)i[c++]=w}return i});a.query=v;a.get=function(b,f){return v(b,f)[0]||null};a.mix(z,{query:v,get:a.get,filter:function(b,f){var i=v(b),j,c,q,w=[];if(a.isString(f)&&(j=k.exec(f))&&!j[1]){c=j[2];q=j[3];f=function(u){return!(c&&u.tagName!==c.toUpperCase()||q&&!z.hasClass(u,q))}}if(a.isFunction(f))w=a.filter(i,
f);else if(f&&a.ExternalSelector)w=a.ExternalSelector._filter(b,f);else e(f);return w},test:function(b,f){var i=v(b);return z.filter(i,f).length===i.length}})});
KISSY.add("dom-data",function(a,n){var v=window,o=a.DOM,d="_ks_data_"+a.now(),h={},m={},e={EMBED:1,OBJECT:1,APPLET:1};a.mix(o,{data:function(s,z,t){if(a.isPlainObject(z))for(var g in z)o.data(s,g,z[g]);else if(t===n){s=a.get(s);var p;if(!(!s||e[s.nodeName])){if(s==v)s=m;p=(g=s&&s.nodeType)?h:s;s=p[g?s[d]:d];if(a.isString(z)&&s)return s[z];return s}}else a.query(s).each(function(r){if(!(!r||e[r.nodeName])){if(r==v)r=m;var l=h,k;if(r&&r.nodeType){if(!(k=r[d]))k=r[d]=a.guid()}else{k=d;l=r}if(z&&t!==
n){l[k]||(l[k]={});l[k][z]=t}}})},removeData:function(s,z){a.query(s).each(function(t){if(t){if(t==v)t=m;var g,p=h,r,l=t&&t.nodeType;if(l)g=t[d];else{p=t;g=d}if(g){r=p[g];if(z){if(r){delete r[z];a.isEmptyObject(r)&&o.removeData(t)}}else{if(l)t.removeAttribute&&t.removeAttribute(d);else try{delete t[d]}catch(k){}l&&delete p[g]}}}})}})});
KISSY.add("dom-class",function(a,n){function v(m,e,s,z){if(!(e=a.trim(e)))return z?false:n;m=a.query(m);var t=0,g=m.length;e=e.split(d);for(var p;t<g;t++){p=m[t];if(o._isElementNode(p)){p=s(p,e,e.length);if(p!==n)return p}}if(z)return false}var o=a.DOM,d=/[\.\s]\s*\.?/,h=/[\n\t]/g;a.mix(o,{hasClass:function(m,e){return v(m,e,function(s,z,t){if(s=s.className){s=" "+s+" ";for(var g=0,p=true;g<t;g++)if(s.indexOf(" "+z[g]+" ")<0){p=false;break}if(p)return true}},true)},addClass:function(m,e){v(m,e,function(s,
z,t){var g=s.className;if(g){var p=" "+g+" ";g=g;for(var r=0;r<t;r++)if(p.indexOf(" "+z[r]+" ")<0)g+=" "+z[r];s.className=a.trim(g)}else s.className=e})},removeClass:function(m,e){v(m,e,function(s,z,t){var g=s.className;if(g)if(t){g=(" "+g+" ").replace(h," ");for(var p=0,r;p<t;p++)for(r=" "+z[p]+" ";g.indexOf(r)>=0;)g=g.replace(r," ");s.className=a.trim(g)}else s.className=""})},replaceClass:function(m,e,s){o.removeClass(m,e);o.addClass(m,s)},toggleClass:function(m,e,s){var z=a.isBoolean(s),t;v(m,
e,function(g,p,r){for(var l=0,k;l<r;l++){k=p[l];t=z?!s:o.hasClass(g,k);o[t?"removeClass":"addClass"](g,k)}})}})});
KISSY.add("dom-attr",function(a,n){var v=a.UA,o=document.documentElement,d=!o.hasAttribute,h=o.textContent!==n?"textContent":"innerText",m=a.DOM,e=m._isElementNode,s=/^(?:href|src|style)/,z=/^(?:href|src|colspan|rowspan)/,t=/\r/g,g=/^(?:radio|checkbox)/,p={readonly:"readOnly"},r={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};d&&a.mix(p,{"for":"htmlFor","class":"className"});a.mix(m,{attr:function(l,k,b,f){if(a.isPlainObject(k)){f=b;for(var i in k)m.attr(l,i,k[i],f)}else if(k=a.trim(k)){k=
k.toLowerCase();if(f&&r[k])return m[k](l,b);k=p[k]||k;if(b===n){l=a.get(l);if(!e(l))return n;var j;s.test(k)||(j=l[k]);if(j===n)j=l.getAttribute(k);if(d)if(z.test(k))j=l.getAttribute(k,2);else if(k==="style")j=l.style.cssText;return j===null?n:j}a.each(a.query(l),function(c){if(e(c))if(k==="style")c.style.cssText=b;else{if(k==="checked")c[k]=!!b;c.setAttribute(k,""+b)}})}},removeAttr:function(l,k){a.each(a.query(l),function(b){if(e(b)){m.attr(b,k,"");b.removeAttribute(k)}})},val:function(l,k){if(k===
n){var b=a.get(l);if(!e(b))return n;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var f=b.selectedIndex,i=b.options;if(f<0)return null;else if(b.type==="select-one")return m.val(i[f]);b=[];for(var j=0,c=i.length;j<c;++j)i[j].selected&&b.push(m.val(i[j]));return b}if(v.webkit&&g.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(t,"")}a.each(a.query(l),
function(q){if(q&&q.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(k))k+="";var w=a.makeArray(k),u=q.options,x;j=0;for(c=u.length;j<c;++j){x=u[j];x.selected=a.inArray(m.val(x),w)}if(!w.length)q.selectedIndex=-1}else if(e(q))q.value=k})},text:function(l,k){if(k===n){var b=a.get(l);if(e(b))return b[h]||"";else if(m._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(l),function(f){if(e(f))f[h]=k;else if(m._nodeTypeIs(f,3))f.nodeValue=k})}})});
KISSY.add("dom-style",function(a,n){function v(f,i){var j=a.get(f),c=i===s?j.offsetWidth:j.offsetHeight;a.each(i===s?["Left","Right"]:["Top","Bottom"],function(q){c-=parseFloat(d._getComputedStyle(j,"padding"+q))||0;c-=parseFloat(d._getComputedStyle(j,"border"+q+"Width"))||0});return c}function o(f,i,j){var c=j;if(j===z&&g.test(i)){c=0;if(d.css(f,"position")==="absolute"){j=f[i==="left"?"offsetLeft":"offsetTop"];if(h.ie===8||h.opera)j-=t(d.css(f.offsetParent,"border-"+i+"-width"))||0;c=j-(t(d.css(f,
"margin-"+i))||0)}}return c}var d=a.DOM,h=a.UA,m=document,e=m.documentElement,s="width",z="auto",t=parseInt,g=/^(?:left|top)/,p=/^(?:width|height|top|left|right|bottom|margin|padding)/i,r=/-([a-z])/ig,l=function(f,i){return i.toUpperCase()},k={},b={};a.mix(d,{_CUSTOM_STYLES:k,_getComputedStyle:function(f,i){var j="",c=f.ownerDocument;if(f.style)j=c.defaultView.getComputedStyle(f,null)[i];return j},css:function(f,i,j){if(a.isPlainObject(i))for(var c in i)d.css(f,c,i[c]);else{if(i.indexOf("-")>0)i=
i.replace(r,l);i=k[i]||i;if(j===n){f=a.get(f);c="";if(f&&f.style){c=i.get?i.get(f):f.style[i];if(c===""&&!i.get)c=o(f,i,d._getComputedStyle(f,i))}return c===n?"":c}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&p.test(i))j+="px";(i===s||i==="height")&&parseFloat(j)<0||a.each(a.query(f),function(q){if(q&&q.style){i.set?i.set(q,j):q.style[i]=j;if(j==="")q.style.cssText||q.removeAttribute("style")}})}}},width:function(f,i){if(i===n)return v(f,s);else d.css(f,s,i)},height:function(f,i){if(i===
n)return v(f,"height");else d.css(f,"height",i)},show:function(f){a.query(f).each(function(i){if(i){i.style.display=d.data(i,"display")||"";if(d.css(i,"display")==="none"){var j=i.tagName,c=b[j],q;if(!c){q=m.createElement(j);m.body.appendChild(q);c=d.css(q,"display");d.remove(q);b[j]=c}d.data(i,"display",c);i.style.display=c}}})},hide:function(f){a.query(f).each(function(i){if(i){var j=i.style,c=j.display;if(c!=="none"){c&&d.data(i,"display",c);j.display="none"}}})},toggle:function(f){a.query(f).each(function(i){if(i)i.style.display===
"none"?d.show(i):d.hide(i)})},addStyleSheet:function(f,i){var j;if(i)j=a.get("#"+i);if(!j){j=d.create("<style>",{id:i});a.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=f;else j.appendChild(m.createTextNode(f))}}});if(e.style.cssFloat!==n)k["float"]="cssFloat";else if(e.style.styleFloat!==n)k["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,n){if(a.UA.ie){var v=a.DOM,o=document,d=o.documentElement,h=v._CUSTOM_STYLES,m=/^-?\d+(?:px)?$/i,e=/^-?\d/,s=/^(?:width|height)$/;try{if(d.style.opacity===n&&d.filters)h.opacity={get:function(t){var g=100;try{g=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(p){try{g=t.filters("alpha").opacity}catch(r){}}return g/100+""},set:function(t,g){var p=t.style,r=(t.currentStyle||0).filter||"";p.zoom=1;if(r)if(r=r.replace(/alpha\(opacity=.+\)/ig,""))r+=", ";
p.filter=r+"alpha(opacity="+g*100+")"}}}catch(z){}if(!(o.defaultView||{}).getComputedStyle&&d.currentStyle)v._getComputedStyle=function(t,g){var p=t.style,r=t.currentStyle[g];if(s.test(g))r=v[g](t)+"px";else if(!m.test(r)&&e.test(r)){var l=p.left,k=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left;p.left=g==="fontSize"?"1em":r||0;r=p.pixelLeft+"px";p.left=l;t.runtimeStyle.left=k}return r}}});
KISSY.add("dom-offset",function(a,n){function v(j){var c=0,q=0,w=z(j[r]);if(j[i]){j=j[i]();c=j[l];q=j[k];if(d.mobile!=="apple"){c+=o[b](w);q+=o[f](w)}}return{left:c,top:q}}var o=a.DOM,d=a.UA,h=window,m=document,e=o._isElementNode,s=o._nodeTypeIs,z=o._getWin,t=m.compatMode==="CSS1Compat",g=Math.max,p=parseInt,r="ownerDocument",l="left",k="top",b="scrollLeft",f="scrollTop",i="getBoundingClientRect";a.mix(o,{offset:function(j,c){if(!(j=a.get(j))||!j[r])return null;if(c===n)return v(j);var q=j;if(o.css(q,
"position")==="static")q.style.position="relative";var w=v(q),u={},x,y;for(y in c){x=p(o.css(q,y),10)||0;u[y]=x+c[y]-w[y]}o.css(q,u)},scrollIntoView:function(j,c,q,w){if((j=a.get(j))&&j[r]){w=w===n?true:!!w;q=q===n?true:!!q;if(!c||c===h)return j.scrollIntoView(q);c=a.get(c);if(s(c,9))c=z(c);var u=c&&"scrollTo"in c&&c.document,x=o.offset(j),y=u?{left:o.scrollLeft(c),top:o.scrollTop(c)}:o.offset(c),A={left:x[l]-y[l],top:x[k]-y[k]};x=u?o.viewportHeight(c):c.clientHeight;y=u?o.viewportWidth(c):c.clientWidth;
var B=o[b](c),D=o[f](c),C=B+y,E=D+x,H=j.offsetHeight;j=j.offsetWidth;var G=A.left+B-(p(o.css(c,"borderLeftWidth"))||0);A=A.top+D-(p(o.css(c,"borderTopWidth"))||0);var I=G+j,K=A+H,F,J;if(H>x||A<D||q)F=A;else if(K>E)F=K-x;if(w)if(j>y||G<B||q)J=G;else if(I>C)J=I-y;if(u){if(F!==n||J!==n)c.scrollTo(J,F)}else{if(F!==n)c[f]=F;if(J!==n)c[b]=J}}}});a.each(["Left","Top"],function(j,c){var q="scroll"+j;o[q]=function(w){var u=0,x=z(w),y;if(x&&(y=x.document))u=x[c?"pageYOffset":"pageXOffset"]||y.documentElement[q]||
y.body[q];else if(e(w=a.get(w)))u=w[q];return u}});a.each(["Width","Height"],function(j){o["doc"+j]=function(c){c=c||m;return g(t?c.documentElement["scroll"+j]:c.body["scroll"+j],o["viewport"+j](c))};o["viewport"+j]=function(c){var q="inner"+j;c=z(c);var w=c.document;return q in c?c[q]:t?w.documentElement["client"+j]:w.body["client"+j]}})});
KISSY.add("dom-traversal",function(a,n){function v(m,e,s,z){if(!(m=a.get(m)))return null;if(e===n)e=1;var t=null,g,p;if(a.isNumber(e)&&e>=0){if(e===0)return m;g=0;p=e;e=function(){return++g===p}}for(;m=m[s];)if(h(m)&&(!e||d.test(m,e))&&(!z||z(m))){t=m;break}return t}function o(m,e,s){var z=[];var t=m=a.get(m);if(m&&s)t=m.parentNode;if(t){s=0;for(t=t.firstChild;t;t=t.nextSibling)if(h(t)&&t!==m&&(!e||d.test(t,e)))z[s++]=t}return z}var d=a.DOM,h=d._isElementNode;a.mix(d,{parent:function(m,e){return v(m,
e,"parentNode",function(s){return s.nodeType!=11})},next:function(m,e){return v(m,e,"nextSibling")},prev:function(m,e){return v(m,e,"previousSibling")},siblings:function(m,e){return o(m,e,true)},children:function(m,e){return o(m,e)},contains:function(m,e){var s=false;if((m=a.get(m))&&(e=a.get(e)))if(m.contains)return m.contains(e);else if(m.compareDocumentPosition)return!!(m.compareDocumentPosition(e)&16);else for(;!s&&(e=e.parentNode);)s=e==m;return s}})});
KISSY.add("dom-create",function(a,n){function v(u){var x=u.cloneNode(true);if(e.ie<8)x.innerHTML=u.innerHTML;return x}function o(u,x,y,A){if(y){var B=a.guid("ks-tmp-"),D=RegExp(l);x+='<span id="'+B+'"></span>';a.available(B,function(){var C=a.get("head"),E,H,G,I,K,F;for(D.lastIndex=0;E=D.exec(x);)if((G=(H=E[1])?H.match(b):false)&&G[2]){E=h.createElement("script");E.src=G[2];if((I=H.match(f))&&I[2])E.charset=I[2];E.async=true;C.appendChild(E)}else if((F=E[2])&&F.length>0)a.globalEval(F);(K=h.getElementById(B))&&
m.remove(K);a.isFunction(A)&&A()});d(u,x)}else{d(u,x);a.isFunction(A)&&A()}}function d(u,x){x=(x+"").replace(l,"");try{u.innerHTML=x}catch(y){for(;u.firstChild;)u.removeChild(u.firstChild);x&&u.appendChild(m.create(x))}}var h=document,m=a.DOM,e=a.UA,s=e.ie,z=m._nodeTypeIs,t=m._isElementNode,g=m._isKSNode,p=h.createElement("div"),r=/<(\w+)/,l=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,k=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,f=/\scharset=(['"])(.*?)\1/i;a.mix(m,{create:function(u,
x,y){if(z(u,1)||z(u,3))return v(u);if(g(u))return v(u[0]);if(!(u=a.trim(u)))return null;var A=null;A=m._creators;var B,D="div",C;if(B=k.exec(u))A=(y||h).createElement(B[1]);else{if((B=r.exec(u))&&(C=B[1])&&a.isFunction(A[C=C.toLowerCase()]))D=C;u=A[D](u,y).childNodes;if(u.length===1)y=u[0].parentNode.removeChild(u[0]);else{u=u;C=y||h;y=null;if(u&&(u.push||u.item)&&u[0]){C=C||u[0].ownerDocument;y=C.createDocumentFragment();if(u.item)u=a.makeArray(u);C=0;for(A=u.length;C<A;C++)y.appendChild(u[C])}y=
y}A=y}y=A;t(y)&&a.isPlainObject(x)&&m.attr(y,x,true);return y},_creators:{div:function(u,x){var y=x?x.createElement("div"):p;y.innerHTML=u;return y}},html:function(u,x,y,A){if(x===n){u=a.get(u);if(t(u))return u.innerHTML}else a.each(a.query(u),function(B){t(B)&&o(B,x,y,A)})},remove:function(u){a.each(a.query(u),function(x){t(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(s||e.gecko||e.webkit){var i=m._creators,j=m.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,q={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in q)(function(u){i[w]=function(x,y){return j("<"+u+">"+x+"</"+u+">",null,y)}})(q[w]);if(s){i.script=function(u,x){var y=x?x.createElement("div"):p;y.innerHTML="-"+u;y.removeChild(y.firstChild);return y};if(s<8)i.tbody=function(u,x){var y=j("<table>"+u+"</table>",null,x),A=y.children.tags("tbody")[0];y.children.length>1&&A&&!c.test(u)&&A.parentNode.removeChild(A);return y}}a.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,
caption:i.tbody,colgroup:i.tbody})}});KISSY.add("dom-insertion",function(a){a.mix(a.DOM,{insertBefore:function(n,v){if((n=a.get(n))&&(v=a.get(v))&&v.parentNode)v.parentNode.insertBefore(n,v);return n},insertAfter:function(n,v){if((n=a.get(n))&&(v=a.get(v))&&v.parentNode)v.nextSibling?v.parentNode.insertBefore(n,v.nextSibling):v.parentNode.appendChild(n);return n}})});
KISSY.add("event",function(a,n){function v(l,k,b,f,i){if(a.isString(k))k=a.query(k);if(a.isArray(k)){a.each(k,function(j){r[l](j,b,f,i)});return true}if((b=a.trim(b))&&b.indexOf(t)>0){a.each(b.split(t),function(j){r[l](k,j,f,i)});return true}}function o(l,k){d(l)&&m.data(l,z,k)}function d(l){return l&&l.nodeType!==3&&l.nodeType!==8}var h=document,m=a.DOM,e=h.addEventListener?function(l,k,b,f){l.addEventListener&&l.addEventListener(k,b,!!f)}:function(l,k,b){l.attachEvent&&l.attachEvent("on"+k,b)},
s=h.removeEventListener?function(l,k,b,f){l.removeEventListener&&l.removeEventListener(k,b,!!f)}:function(l,k,b){l.detachEvent&&l.detachEvent("on"+k,b)},z="ksEventTargetId",t=" ",g=a.now(),p={},r={EVENT_GUID:z,special:{},add:function(l,k,b,f){if(!v("add",l,k,b,f)){var i=d(l)?m.data(l,z):-1,j,c,q,w,u;if(!(i===-1||!k||!a.isFunction(b))){if(!i){o(l,i=g++);p[i]={target:l,events:{}}}c=p[i].events;if(!c[k]){j=((i=!l.isCustomEventTarget)||l._supportSpecialEvent)&&r.special[k]||{};q=function(x,y){if(!x||
!x.fixed){x=new a.EventObject(l,x,k);a.isPlainObject(y)&&a.mix(x,y)}j.setup&&j.setup(x);return(j.handle||r._handle)(l,x,c[k].listeners)};c[k]={handle:q,listeners:[]};w=j.fix||k;u=j.capture;if(i)e(l,w,q,u);else l._addEvent&&l._addEvent(w,q,u)}c[k].listeners.push({fn:b,scope:f||l})}}},remove:function(l,k,b,f){if(!v("remove",l,k,b,f)){var i=d(l)?m.data(l,z):-1,j,c,q,w,u,x,y;if(i!==-1)if(i&&(j=p[i]))if(j.target===l){f=f||l;j=j.events||{};if(c=j[k]){q=c.listeners;x=q.length;if(a.isFunction(b)&&x){u=w=
0;for(y=[];w<x;++w)if(b!==q[w].fn||f!==q[w].scope)y[u++]=q[w];c.listeners=y;x=y.length}if(b===n||x===0){if(l.isCustomEventTarget)l._addEvent&&l._removeEvent(k,c.handle);else{b=r.special[k]||{};s(l,b.fix||k,c.handle)}delete j[k]}}if(k===n||a.isEmptyObject(j)){for(k in j)r.remove(l,k);delete p[i];m.removeData(l,z)}}}},_handle:function(l,k,b){b=b.slice(0);for(var f,i=0,j=b.length;i<j;++i){f=b[i];f=f.fn.call(f.scope||l,k);if(f===false&&l.isCustomEventTarget||k.isImmediatePropagationStopped)break}return f},
_getCache:function(l){return p[l]},_simpleAdd:e,_simpleRemove:s};r.on=r.add;a.Event=r});
KISSY.add("event-object",function(a,n){function v(h,m,e){this.currentTarget=h;this.originalEvent=m||{};if(m){this.type=m.type;this._fix()}else{this.type=e;this.target=h}this.currentTarget=h;this.fixed=true}var o=document,d="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(v,
{_fix:function(){var h=this.originalEvent,m=d.length,e,s=this.currentTarget;for(s=s.nodeType===9?s:s.ownerDocument||o;m;){e=d[--m];this[e]=h[e]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===n&&this.clientX!==n){h=s.documentElement;m=s.body;this.pageX=this.clientX+(h&&h.scrollLeft||m&&m.scrollLeft||
0)-(h&&h.clientLeft||m&&m.clientLeft||0);this.pageY=this.clientY+(h&&h.scrollTop||m&&m.scrollTop||0)-(h&&h.clientTop||m&&m.clientTop||0)}if(this.which===n)this.which=this.charCode!==n?this.charCode:this.keyCode;if(this.metaKey===n)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==n)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=
this.originalEvent;if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=v});
KISSY.add("event-target",function(a,n){var v=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(o,d){var h=a.DOM.data(this,v.EVENT_GUID)||-1;if((h=((v._getCache(h)||{}).events||{})[o])&&a.isFunction(h.handle))return h.handle(n,d);return this},on:function(o,d,h){v.add(this,o,d,h);return this},detach:function(o,d,h){v.remove(this,o,d,h);return this}}});
KISSY.add("event-mouseenter",function(a){var n=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(v){n.special[v.name]={fix:v.fix,setup:function(o){o.type=v.name},handle:function(o,d,h){if(a.DOM._isKSNode(o))o=o[0];var m=d.relatedTarget;try{for(;m&&m!==o;)m=m.parentNode;m!==o&&n._handle(o,d,h)}catch(e){}}}})});
KISSY.add("event-focusin",function(a){var n=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(v){n.special[v.name]={fix:v.fix,capture:true,setup:function(o){o.type=v.name}}})});
KISSY.add("node",function(a){function n(o,d,h){if(!(this instanceof n))return new n(o,d,h);if(o){if(a.isString(o)){o=v.create(o,d,h);if(o.nodeType===11)return new a.NodeList(o.childNodes)}else if(o instanceof n)return o;else o=o;this[0]=o}else this.length=0}var v=a.DOM;n.TYPE="-ks-Node";a.augment(n,{length:1,getDOMNode:function(){return this[0]},nodeType:n.TYPE});a.one=function(o,d){var h=a.get(o,d);return h?new n(h):null};a.Node=n});
KISSY.add("nodelist",function(a){function n(d){if(!(this instanceof n))return new n(d);o.push.apply(this,a.makeArray(d)||[])}var v=a.DOM,o=Array.prototype;a.mix(n.prototype,{length:0,item:function(d){var h=null;if(v._isElementNode(this[d]))h=new a.Node(this[d]);return h},getDOMNodes:function(){return o.slice.call(this)},each:function(d,h){var m=this.length,e=0,s;for(s=new a.Node(this[0]);e<m&&d.call(h||s,s,e,this)!==false;s=new a.Node(this[++e]));return this}});a.all=function(d,h){return new n(a.query(d,
h,true))};a.NodeList=n});
KISSY.add("node-attach",function(a,n){function v(k,b,f,i){k=[this[k?g:t]()].concat(a.makeArray(b));if(b[f]===n)return i.apply(d,k);else{i.apply(d,k);return this}}function o(k,b){a.each(k,function(f){a.each([s,z],function(i,j){i[f]=function(c){switch(b){case p:return function(){return v.call(this,j,arguments,1,c)};case r:return function(){return v.call(this,j,arguments,0,c)};case l:return function(){var q=this[j?g:t]();return(q=c.apply(d,[q].concat(a.makeArray(arguments))))?new (a[a.isArray(q)?"NodeList":
"Node"])(q):null};default:return function(){var q=this[j?g:t]();q=c.apply(d,[q].concat(a.makeArray(arguments)));return q===n?this:q}}}(d[f])})})}var d=a.DOM,h=a.Event,m=d._nodeTypeIs,e=d._isKSNode,s=a.Node.prototype,z=a.NodeList.prototype,t="getDOMNode",g=t+"s",p=1,r=2,l=4;a.mix(s,{one:function(k){return a.one(k,this[0])},all:function(k){return a.all(k,this[0])}});o(["data","removeData"],p);o(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);o(["attr","removeAttr"],p);o(["val","text"],
r);o(["css"],p);o(["width","height"],r);o(["offset"],r);o(["scrollIntoView"]);o(["parent","next","prev","siblings","children"],l);o(["contains"]);o(["html"],r);o(["remove"]);a.each(["insertBefore","insertAfter"],function(k){s[k]=function(b){d[k].call(d,this[0],b);return this}});a.each([s,z],function(k,b){a.mix(k,{append:function(f){f&&a.each(this,function(i){var j;if(b||a.isString(f))j=d.create(f);else{if(m(f,1)||m(f,3))j=f;if(e(f))j=f[0]}i.appendChild(j)});return this},appendTo:function(f){if((f=
a.get(f))&&f.appendChild)a.each(this,function(i){f.appendChild(i)});return this}})});a.each([s,z],function(k){a.mix(k,a.EventTarget);k._supportSpecialEvent=true;k._addEvent=function(b,f,i){for(var j=0,c=this.length;j<c;j++)h._simpleAdd(this[j],b,f,i)};k._removeEvent=function(b,f,i){for(var j=0,c=this.length;j<c;j++)h._simpleRemove(this[j],b,f,i)};delete k.fire})});
KISSY.add("cookie",function(a){var n=document,v=encodeURIComponent,o=decodeURIComponent;a.Cookie={get:function(d){var h;if(a.isString(d)&&d!=="")if(d=n.cookie.match("(?:^| )"+d+"(?:(?:=([^;]*))|;|$)"))h=d[1]?o(d[1]):"";return h},set:function(d,h,m,e,s,z){h=v(h);var t=m;if(typeof t==="number"){t=new Date;t.setTime(t.getTime()+m*864E5)}if(t instanceof Date)h+="; expires="+t.toUTCString();if(a.isString(e)&&e!=="")h+="; domain="+e;if(a.isString(s)&&s!=="")h+="; path="+s;if(z)h+="; secure";n.cookie=d+
"="+h},remove:function(d,h,m,e){this.set(d,"",0,h,m,e)}}});
KISSY.add("json",function(a){function n(t){return t<10?"0"+t:t}function v(t){h.lastIndex=0;return h.test(t)?'"'+t.replace(h,function(g){var p=s[g];return typeof p==="string"?p:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function o(t,g){var p,r,l,k,b=m,f,i=g[t];if(i&&typeof i==="object"&&typeof i.toJSON==="function")i=i.toJSON(t);if(typeof z==="function")i=z.call(g,t,i);switch(typeof i){case "string":return v(i);case "number":return isFinite(i)?String(i):"null";case "boolean":case "null":return String(i);
case "object":if(!i)return"null";m+=e;f=[];if(Object.prototype.toString.apply(i)==="[object Array]"){k=i.length;for(p=0;p<k;p+=1)f[p]=o(p,i)||"null";l=f.length===0?"[]":m?"[\n"+m+f.join(",\n"+m)+"\n"+b+"]":"["+f.join(",")+"]";m=b;return l}if(z&&typeof z==="object"){k=z.length;for(p=0;p<k;p+=1){r=z[p];if(typeof r==="string")if(l=o(r,i))f.push(v(r)+(m?": ":":")+l)}}else for(r in i)if(Object.hasOwnProperty.call(i,r))if(l=o(r,i))f.push(v(r)+(m?": ":":")+l);l=f.length===0?"{}":m?"{\n"+m+f.join(",\n"+m)+
"\n"+b+"}":"{"+f.join(",")+"}";m=b;return l}}a=a.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,e,s={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;if(typeof a.stringify!=="function")a.stringify=function(t,g,p){var r;e=m="";if(typeof p==="number")for(r=0;r<p;r+=1)e+=" ";else if(typeof p==="string")e=p;if((z=g)&&typeof g!=="function"&&(typeof g!=="object"||typeof g.length!=="number"))throw Error("JSON.stringify");return o("",{"":t})};if(typeof a.parse!==
"function")a.parse=function(t,g){function p(l,k){var b,f,i=l[k];if(i&&typeof i==="object")for(b in i)if(Object.hasOwnProperty.call(i,b)){f=p(i,b);if(f!==undefined)i[b]=f;else delete i[b]}return g.call(l,k,i)}var r;t=String(t);d.lastIndex=0;if(d.test(t))t=t.replace(d,function(l){return"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){r=eval("("+t+")");return typeof g==="function"?p({"":r},""):r}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(a){var n=Math,v=n.PI,o=n.pow,d=n.sin,h=1.70158,m={easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?0.5*e*e:0.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?0.5*e*e*e*e:0.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){if(e===0||e===1)return e;return-(o(2,10*(e-=1))*d((e-0.075)*2*v/0.3))},
elasticOut:function(e){if(e===0||e===1)return e;return o(2,-10*e)*d((e-0.075)*2*v/0.3)+1},elasticBoth:function(e){if(e===0||(e*=2)===2)return e;if(e<1)return-0.5*o(2,10*(e-=1))*d((e-0.1125)*2*v/0.45);return o(2,-10*(e-=1))*d((e-0.1125)*2*v/0.45)*0.5+1},backIn:function(e){if(e===1)e-=0.0010;return e*e*((h+1)*e-h)},backOut:function(e){return(e-=1)*e*((h+1)*e+h)+1},backBoth:function(e){if((e*=2)<1)return 0.5*e*e*(((h*=1.525)+1)*e-h);return 0.5*((e-=2)*e*(((h*=1.525)+1)*e+h)+2)},bounceIn:function(e){return 1-
m.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375},bounceBoth:function(e){if(e<0.5)return m.bounceIn(e*2)*0.5;return m.bounceOut(e*2-1)*0.5+0.5}};m.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=m});
KISSY.add("anim",function(a,n){function v(b,f,i,j,c,q){if(b=a.get(b)){if(!(this instanceof v))return new v(b,f,i,j,c,q);var w=a.isPlainObject(i);f=f;this.domEl=b;if(a.isPlainObject(f))f=a.param(f,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var u={},x=p.length,y;g.innerHTML='<div style="'+f+'"></div>';for(b=g.firstChild.style;x--;)if(y=b[p[x]])u[p[x]]=h(y);this.props=u;this.targetStyle=f;if(w)w=a.merge(k,i);else{w=a.clone(k);if(i)w.duration=t(i)||1;if(a.isString(j)||
a.isFunction(j))w.easing=j;if(a.isFunction(c))w.complete=c;if(q!==n)w.nativeSupport=q}this.config=w;if(w.nativeSupport&&o()&&a.isString(j=w.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=z.NativeTimeFunction[j])){w.easing=j;this.transitionName=o()}a.isFunction(c)&&this.on(l,c)}}function o(){var b="transition",f;if(g.style[b]!==n)f=b;else a.each(["Webkit","Moz","O"],function(i){if(g.style[b=i+"Transition"]!==n){f=b;return false}});o=function(){return f};return f}function d(b,f,i){a.UA.ie&&i.indexOf(r)>
-1&&s.css(b,r,f[r].v);b.style.cssText+=";"+i}function h(b){var f=t(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(f)?{v:b,u:"",f:e}:{v:f,u:b,f:m}}function m(b,f,i){return(b+(f-b)*i).toFixed(3)}function e(b,f,i){for(var j=2,c,q,w=[],u=[];c=3,q=arguments[j-1],j--;)if(q.substr(0,4)==="rgb(")for(q=q.match(/\d+/g);c--;)w.push(~~q[c]);else if(q.substr(0,1)==="#"){if(q.length===4)q="#"+q.substr(1,1)+q.substr(1,1)+q.substr(2,1)+q.substr(2,1)+q.substr(3,1)+q.substr(3,1);for(;c--;)w.push(parseInt(q.substr(1+
c*2,2),16))}else return f;for(;c--;){j=~~(w[c+3]+(w[c]-w[c+3])*i);u.push(j<0?0:j>255?255:j)}return"rgb("+u.join(",")+")"}var s=a.DOM,z=a.Easing,t=parseFloat,g=s.create("<div>"),p="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
r="opacity",l="complete",k={duration:1,easing:"easeNone",nativeSupport:true};a.augment(v,a.EventTarget,{run:function(){var b=this,f=b.config,i=b.domEl,j,c,q,w,u=b.props,x={},y;for(y in u)x[y]=h(s.css(i,y));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{j=f.duration*1E3;q=a.now();w=q+j;c=f.easing;if(a.isString(c))c=z[c]||z.easeNone;b.timer=a.later(f=function(){var A=a.now(),B=A>w?1:(A-q)/j,D,C,E;for(y in u){D=x[y];C=u[y];if(C.v==0)C.u=D.u;if(D.u!==C.u)D.v=0;s.css(i,y,
C.f(D.v,C.v,c(B))+C.u)}if(b.fire("step")===false||(E=A>w)){b.stop();E&&b.fire(l)}},13,true);f()}return b}},_nativeRun:function(){var b=this,f=b.config,i=b.domEl,j=b.props,c=f.duration*1E3;f=f.easing;var q=b.transitionName,w={};w[q+"Property"]="all";w[q+"Duration"]=c+"ms";w[q+"TimingFunction"]=f;s.css(i,w);a.later(function(){d(i,j,b.targetStyle)},0);a.later(function(){b.stop(true)},c)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=n}if(b){d(this.domEl,
this.props,this.targetStyle);this.fire(l)}}return this},_nativeStop:function(b){var f=this.domEl,i=this.transitionName,j=this.props,c;if(b){s.css(f,i+"Property","none");this.fire(l)}else{for(c in j)s.css(f,c,s._getComputedStyle(f,c));s.css(f,i+"Property","none")}}});v.supportTransition=function(){return!!o()};a.Anim=v});
KISSY.add("anim-node-plugin",function(a,n){function v(l,k,b,f,i){if(k==="toggle"){i=o.css(l,h)===m?1:0;k="show"}if(i)o.css(l,h,o.data(l,h)||"");var j={};a.each(r[k],function(c){if(c===e)o.css(l,e,s);else if(c===z){j.opacity=i?1:0;i&&o.css(l,z,0)}else if(c===t){j.height=i?o.css(l,t)||l.naturalHeight:0;i&&o.css(l,t,0)}else if(c===g){j.width=i?o.css(l,g)||l.naturalWidth:0;i&&o.css(l,g,0)}});(new a.Anim(l,j,b,"easeOut",function(){if(!i){var c=l.style,q=c[h];if(q!==m){q&&o.data(l,h,q);c[h]=m}o.css(l,{height:p,
width:p,overflow:p,opacity:1})}f&&a.isFunction(f)&&f()})).run()}var o=a.DOM,d=a.Anim,h="display",m="none",e="overflow",s="hidden",z="opacity",t="height",g="width",p="auto",r={show:[e,z,t,g],fade:[z],slide:[e,t]};a.each([a.Node.prototype,a.NodeList.prototype],function(l){l.animate=function(){var k=a.makeArray(arguments);a.each(this,function(b){d.apply(n,[b].concat(k)).run()});return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(k,b){l[b]=function(f,i){o[b]&&arguments.length===0?o[b](this):a.each(this,function(j){v(j,k[0],f,i,k[1])});return this}})})});
KISSY.add("attribute",function(a,n){function v(){}function o(d){d+="";return d.charAt(0).toUpperCase()+d.substring(1)}a.augment(v,{__initAttrs:function(){if(!this.__attrs){this.__attrs={};this.__attrVals={}}},getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(d,h){this.__initAttrs();this.__attrs[d]=a.clone(h||{});return this},addAttrs:function(d,h){var m=this;a.each(d,function(e,s){if(s in h)e.value=h[s];m.addAttr(s,e)});return m},hasAttr:function(d){return d&&d in(this.__attrs||
{})},removeAttr:function(d){if(this.hasAttr(d)){delete this.__attrs.name;delete this.__attrVals.name}return this},set:function(d,h){var m=this.get(d);if(m!==h)if(false!==this.__fireAttrChange("before",d,m,h)){this.__set(d,h);this.__fireAttrChange("after",d,m,this.__attrVals[d]);return this}},__fireAttrChange:function(d,h,m,e){return this.fire(d+o(h)+"Change",{attrName:h,prevVal:m,newVal:e})},__set:function(d,h){var m,e=this.__attrs[d];if(e=e&&e.setter)m=e.call(this,h);if(m!==n)h=m;this.__attrVals[d]=
h},get:function(d){var h;this.__initAttrs();h=(h=this.__attrs[d])&&h.getter;d=d in this.__attrVals?this.__attrVals[d]:this.__getDefAttrVal(d);if(h)d=h.call(this,d);return d},__getDefAttrVal:function(d){d=this.__attrs[d];var h;if(d){if(h=d.valueFn){h=h.call(this);if(h!==n)d.value=h;delete d.valueFn}return d.value}},reset:function(d){if(this.hasAttr(d))return this.set(d,this.__getDefAttrVal(d));for(d in this.__attrs)this.hasAttr(d)&&this.reset(d);return this}});a.Attribute=v;v.capitalFirst=o});
KISSY.add("base",function(a){function n(d){for(var h=this.constructor,m,e,s=[];h;){if(e=h.ATTRS)for(m in e)e.hasOwnProperty(m)&&!this.hasAttr(m)&&this.addAttr(m,e[m]);(e=(e=h._kissycreate)&&e._exts)&&s.push.apply(s,e.concat().reverse());if(d&&d[v]&&h.HTML_PARSER){e=d[v];var z=h.HTML_PARSER,t=void 0;for(t in z)if(z.hasOwnProperty(t)){var g=z[t];if(a.isFunction(g))this.set(t,g.call(this,e));else if(a.isString(g))this.set(t,e.one(g));else a.isArray(g)&&g[0]&&this.set(t,e.all(g[0]))}}h=h.superclass?h.superclass.constructor:
null}for(h=s.length-1;h>=0;h--)s[h]&&s[h].call(this,d);if(d)for(m in d)d.hasOwnProperty(m)&&this.__set(m,d[m]);this.init&&this.init();d&&d.autoRender&&this.renderer()}var v="srcNode",o=a.Attribute.capitalFirst;n.HTML_PARSER={};n.ATTRS={rendered:{value:false},render:{setter:function(d){if(a.isString(d))return a.one(d)}}};a.augment(n,a.EventTarget,a.Attribute,{renderer:function(){var d=this.get("render");if(!this.get("rendered")){this.renderUI(d);this.bindUI();this.syncUI();this.set("rendered",true)}},
renderUI:function(){this.fire("renderUI")},bindUI:function(){var d=this,h=d.getDefAttrs(),m;for(m in h)if(h.hasOwnProperty(m)){var e="_uiSet"+o(m);d[e]&&function(s,z){d.on("after"+o(s)+"Change",function(t){d[z](t.newVal)})}(m,e)}d.fire("bindUI")},syncUI:function(){var d=this.getDefAttrs(),h;for(h in d)if(d.hasOwnProperty(h)){var m="_uiSet"+o(h);this[m]&&this[m](this.get(h))}this.fire("syncUI")},destroy:function(){this.detach();this.fire("destroy")}});n.create=function(d,h,m,e){function s(){s.superclass.constructor.apply(this,
arguments)}if(a.isArray(d)){e=m;m=h;h=d;d=n}d=d||n;a.extend(s,d,m,e);if(h){s._kissycreate=s._kissycreate||{};s._kissycreate._exts=h;for(d=0;d<h.length;d++){m=(e=h[d])&&e.ATTRS;e=e&&e.HTML_PARSER;if(m){s.ATTRS=s.ATTRS||{};a.mix(s.ATTRS,m,false)}if(e){s.HTML_PARSER=s.HTML_PARSER||{};a.mix(s.HTML_PARSER,e,false)}a.augment(s,h[d])}}return s};a.Base=n});KISSY.add("core");
