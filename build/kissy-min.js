/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 15 16:35
*/
(function(b,h,q){if(b[h]===q)b[h]={};h=b[h];var o=b.document,i=location,l=function(d,j,p,s){if(!j||!d)return d;if(p===q)p=true;var g,c,a;if(s&&(a=s.length))for(g=0;g<a;g++){c=s[g];if(c in j)if(p||!(c in d))d[c]=j[c]}else for(c in j)if(p||!(c in d))d[c]=j[c];return d},n=false,f=[],w=false,y=/^#?([\w-]+)$/,u=0;l(h,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var d=o.getElementsByTagName("script");this.Config={debug:"",base:d[d.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(d){w||this._bindReady();n?d.call(b,this):f.push(d);return this},_bindReady:function(){var d=this,j=o.documentElement.doScroll,p=j?"onreadystatechange":"DOMContentLoaded",s=function(){d._fireReady()};w=true;if(o.readyState==="complete")return s();if(o.addEventListener){var g=function(){o.removeEventListener(p,g,false);s()};o.addEventListener(p,g,false);b.addEventListener("load",s,false)}else{var c=function(){if(o.readyState==="complete"){o.detachEvent(p,c);s()}};o.attachEvent(p,
c);b.attachEvent("onload",s);if(b==b.top){var a=function(){try{j("left");s()}catch(k){setTimeout(a,1)}};a()}}},_fireReady:function(){if(!n){n=true;if(f){for(var d,j=0;d=f[j++];)d.call(b,this);f=null}}},available:function(d,j){if((d=(d+"").match(y)[1])&&h.isFunction(j))var p=1,s=h.later(function(){if(o.getElementById(d)&&(j()||1)||++p>500)s.cancel()},40,true)},mix:l,merge:function(){var d={},j,p=arguments.length;for(j=0;j<p;++j)l(d,arguments[j]);return d},augment:function(){var d=arguments,j=d.length-
2,p=d[0],s=d[j],g=d[j+1],c=1;if(!h.isArray(g)){s=g;g=q;j++}if(!h.isBoolean(s)){s=q;j++}for(;c<j;c++)l(p.prototype,d[c].prototype||d[c],s,g);return p},extend:function(d,j,p,s){if(!j||!d)return d;var g=Object.prototype,c=j.prototype,a=function(k){function m(){}m.prototype=k;return new m}(c);d.prototype=a;a.constructor=d;d.superclass=c;if(j!==Object&&c.constructor===g.constructor)c.constructor=j;p&&l(a,p);s&&l(d,s);return d},namespace:function(){var d=arguments.length,j=null,p,s,g;for(p=0;p<d;++p){g=
(""+arguments[p]).split(".");j=this;for(s=b[g[0]]===j?1:0;s<g.length;++s)j=j[g[s]]=j[g[s]]||{}}return j},app:function(d,j){var p=h.isString(d),s=p?b[d]||{}:d;l(s,this,true,h.__APP_MEMBERS);s.__init();l(s,h.isFunction(j)?j():j);p&&(b[d]=s);return s},log:function(d,j,p){if(h.Config.debug){if(p)d=p+": "+d;if(b.console!==q&&console.log)console[j&&console[j]?j:"log"](d)}},error:function(d){if(h.Config.debug)throw d;},guid:function(d){var j=u++ +"";return d?d+j:j}});h.__init();h.__APP_MEMBERS=["__init",
"namespace"];if(i&&(i.search||"").indexOf("ks-debug")!==-1)h.Config.debug=true})(window,"KISSY");
(function(b,h,q){function o(e){var t=typeof e;return e===null||t!=="object"&&t!=="function"}function i(e){return f.slice.call(e)}var l=document,n=l.documentElement,f=Array.prototype,w=f.indexOf,y=f.lastIndexOf,u=f.filter,d=String.prototype.trim,j=Object.prototype.toString,p=encodeURIComponent,s=decodeURIComponent,g=p("[]"),c=/^\s+|\s+$/g,a=/^(\w+)\[\]$/,k=/\S/;h.mix(h,{isUndefined:function(e){return e===q},isBoolean:function(e){return j.call(e)==="[object Boolean]"},isString:function(e){return j.call(e)===
"[object String]"},isNumber:function(e){return j.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&j.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var t in e)return false;return true},isFunction:function(e){return j.call(e)==="[object Function]"},isArray:function(e){return j.call(e)==="[object Array]"},trim:d?function(e){return e==q?"":d.call(e)}:function(e){return e==q?"":e.toString().replace(c,"")},substitute:function(e,t,r){if(!h.isString(e)||
!h.isPlainObject(t))return e;return e.replace(r||/\\?\{([^{}]+)\}/g,function(v,A){if(v.charAt(0)==="\\")return v.slice(1);return t[A]!==q?t[A]:""})},each:function(e,t,r){var v,A=0,x=e.length,z=x===q||h.isFunction(e);r=r||b;if(z)for(v in e){if(t.call(r,e[v],v,e)===false)break}else for(v=e[0];A<x&&t.call(r,v,A,e)!==false;v=e[++A]);return e},indexOf:w?function(e,t){return w.call(t,e)}:function(e,t){for(var r=0,v=t.length;r<v;++r)if(t[r]===e)return r;return-1},lastIndexOf:y?function(e,t){return y.call(t,
e)}:function(e,t){for(var r=t.length-1;r>=0;r--)if(t[r]===e)break;return r},unique:function(e,t){t&&e.reverse();e=e.slice();for(var r=0,v,A;r<e.length;){for(A=e[r];(v=h.lastIndexOf(A,e))!==r;)e.splice(v,1);r+=1}t&&e.reverse();return e},inArray:function(e,t){return h.indexOf(e,t)>-1},makeArray:function(e){if(e===null||e===q)return[];if(h.isArray(e))return e;if(typeof e.length!=="number"||h.isString(e)||h.isFunction(e))return[e];return i(e)},filter:u?function(e,t,r){return u.call(e,t,r)}:function(e,
t,r){var v=[];h.each(e,function(A,x,z){t.call(r,A,x,z)&&v.push(A)});return v},param:function(e,t){if(!h.isPlainObject(e))return"";t=t||"&";var r=[],v,A;for(v in e){A=e[v];v=p(v);if(o(A))r.push(v,"=",p(A+""),t);else if(h.isArray(A)&&A.length)for(var x=0,z=A.length;x<z;++x)o(A[x])&&r.push(v,g+"=",p(A[x]+""),t)}r.pop();return r.join("")},unparam:function(e,t){if(typeof e!=="string"||(e=h.trim(e)).length===0)return{};var r={};e=e.split(t||"&");for(var v,A,x,z=0,B=e.length;z<B;++z){t=e[z].split("=");v=
s(t[0]);try{A=s(t[1]||"")}catch(C){A=t[1]||""}if((x=v.match(a))&&x[1]){r[x[1]]=r[x[1]]||[];r[x[1]].push(A)}else r[v]=A}return r},later:function(e,t,r,v,A){t=t||0;v=v||{};var x=e,z=h.makeArray(A),B;if(h.isString(e))x=v[e];x||h.error("method undefined");e=function(){x.apply(v,z)};B=r?setInterval(e,t):setTimeout(e,t);return{id:B,interval:r,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var t=e,r,v;if(e&&((r=h.isArray(e))||h.isPlainObject(e))){t=r?[]:{};for(v in e)if(e.hasOwnProperty(v))t[v]=
h.clone(e[v])}return t},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&k.test(e)){var t=l.getElementsByTagName("head")[0]||n,r=l.createElement("script");r.text=e;t.insertBefore(r,t.firstChild);t.removeChild(r)}}});try{i(n.childNodes)}catch(m){i=function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=e[r];return t}}})(window,KISSY);
(function(b,h,q){var o=b.document,i=o.getElementsByTagName("head")[0]||o.documentElement,l=2,n=3,f=4,w=h.mix,y=o.createElement("script").readyState?function(d,j){var p=d.onreadystatechange;d.onreadystatechange=function(){var s=d.readyState;if(s==="loaded"||s==="complete"){d.onreadystatechange=null;p&&p();j.call(this)}}}:function(d,j){d.addEventListener("load",j,false)},u=/\.css(?:\?|$)/i;b={add:function(d,j,p){var s=this.Env.mods,g;if(h.isString(d)&&!p&&h.isPlainObject(j)){g={};g[d]=j;d=g}if(h.isPlainObject(d)){h.each(d,
function(c,a){c.name=a;s[a]&&w(c,s[a],false)});w(s,d)}else{p=p||{};g=s[d]||{};d=p.host||g.host||d;g=s[d]||{};w(g,{name:d,status:l});if(!g.fns)g.fns=[];j&&g.fns.push(j);w(s[d]=g,p);g.attach!==false&&this.__isAttached(g.requires)&&this.__attachMod(g)}return this},use:function(d,j,p){d=d.replace(/\s+/g,"").split(",");p=p||{};var s=this,g=s.Env.mods,c=(p||0).global,a,k=d.length,m,e,t;c&&s.__mixMods(c);if(s.__isAttached(d))j&&j(s);else{for(a=0;a<k&&(m=g[d[a]]);a++)if(m.status!==f){if(p.order&&a>0){if(!m.requires)m.requires=
[];m._requires=m.requires.concat();e=d[a-1];if(!h.inArray(e,m.requires)&&!h.inArray(m.name,g[e].requires||[]))m.requires.push(e)}s.__attach(m,function(){if(!t&&s.__isAttached(d)){t=true;if(m._requires)m.requires=m._requires;j&&j(s)}},c)}return s}},__attach:function(d,j,p){function s(){if(g.__isAttached(c)){d.status===l&&g.__attachMod(d);d.status===f&&j()}}for(var g=this,c=d.requires||[],a=0,k=c.length;a<k;a++)g.__attach(g.Env.mods[c[a]],s,p);g.__buildPath(d);g.__load(d,s,p)},__mixMods:function(d){var j=
this.Env.mods,p=d.Env.mods,s;for(s in p)this.__mixMod(j,p,s,d)},__mixMod:function(d,j,p,s){var g=d[p]||{},c=g.status;h.mix(g,h.clone(j[p]));if(c)g.status=c;s&&this.__buildPath(g,s.Config.base);d[p]=g},__attachMod:function(d){var j=this;if(d.fns){h.each(d.fns,function(p){p&&p(j)});d.fns=q}d.status=f},__isAttached:function(d){for(var j=this.Env.mods,p,s=(d=h.makeArray(d)).length-1;s>=0&&(p=j[d[s]]);s--)if(p.status!==f)return false;return true},__load:function(d,j,p){function s(){g();if(d.status!==n){p&&
c.__mixMod(c.Env.mods,p.Env.mods,d.name,p);if(d.status!==f)d.status=l;j()}}function g(){k[a]=l}var c=this,a=d.fullpath,k=h.Env._loadQueue,m=k[a];d.status=d.status||0;if(d.status<1&&m)d.status=m.nodeName?1:l;if(h.isString(d.cssfullpath)){c.getScript(d.cssfullpath);d.cssfullpath=l}if(d.status<1&&a){d.status=1;m=c.getScript(a,{success:function(){KISSY.log(d.name+" is loaded.","info");s()},error:function(){d.status=n;g()},charset:d.charset});u.test(a)||(k[a]=m)}else d.status===1?y(m,s):j()},__buildPath:function(d,
j){function p(g,c){if(!d[c]&&d[g])d[c]=(j||s.base)+d[g];if(d[c]&&s.debug)d[c]=d[c].replace(/-min/g,"")}var s=this.Config;p("path","fullpath");d.cssfullpath!==l&&p("csspath","cssfullpath")},getScript:function(d,j,p){var s=u.test(d),g=o.createElement(s?"link":"script"),c=j,a,k,m;if(h.isPlainObject(c)){j=c.success;a=c.error;k=c.timeout;p=c.charset}if(s){g.href=d;g.rel="stylesheet"}else{g.src=d;g.async=true}if(p)g.charset=p;if(h.isFunction(j))s?j.call(g):y(g,function(){if(m){m.cancel();m=q}j.call(g)});
if(h.isFunction(a))m=h.later(function(){m=q;a()},(k||this.Config.timeout)*1E3);i.insertBefore(g,i.firstChild);return g}};w(h,b);h.each(b,function(d,j){h.__APP_MEMBERS.push(j)})})(window,KISSY);(function(b){var h={core:{path:"packages/core-min.js",charset:"utf-8"}};b.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(q){h[q]={path:q+"/"+q+"-pkg-min.js",requires:["core"],charset:"utf-8"}});h.calendar.csspath="calendar/default-min.css";b.add(h)})(KISSY);
KISSY.add("ua",function(b){var h=navigator.userAgent,q="",o="",i,l={},n=function(f){var w=0;return parseFloat(f.replace(/\./g,function(){return w++===0?".":""}))};if((i=h.match(/AppleWebKit\/([\d.]*)/))&&i[1]){l[q="webkit"]=n(i[1]);if((i=h.match(/Chrome\/([\d.]*)/))&&i[1])l[o="chrome"]=n(i[1]);else if((i=h.match(/\/([\d.]*) Safari/))&&i[1])l[o="safari"]=n(i[1]);if(/ Mobile\//.test(h))l.mobile="apple";else if(i=h.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=i[0].toLowerCase()}else if((i=
h.match(/Presto\/([\d.]*)/))&&i[1]){l[q="presto"]=n(i[1]);if((i=h.match(/Opera\/([\d.]*)/))&&i[1]){l[o="opera"]=n(i[1]);if((i=h.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])l[o]=n(i[1]);if((i=h.match(/Opera Mini[^;]*/))&&i)l.mobile=i[0].toLowerCase();else if((i=h.match(/Opera Mobi[^;]*/))&&i)l.mobile=i[0]}}else if((i=h.match(/MSIE\s([^;]*)/))&&i[1]){l[q="trident"]=0.1;l[o="ie"]=n(i[1]);if((i=h.match(/Trident\/([\d.]*)/))&&i[1])l[q]=n(i[1])}else if(i=h.match(/Gecko/)){l[q="gecko"]=0.1;if((i=h.match(/rv:([\d.]*)/))&&
i[1])l[q]=n(i[1]);if((i=h.match(/Firefox\/([\d.]*)/))&&i[1])l[o="firefox"]=n(i[1])}l.core=q;l.shell=o;l._numberify=n;b.UA=l});
KISSY.add("ua-extra",function(b){var h=b.UA,q=navigator.userAgent,o,i,l={},n=h._numberify;if(q.match(/360SE/))l[i="se360"]=3;else if(q.match(/Maxthon/)&&(o=window.external)){i="maxthon";try{l[i]=n(o.max_version)}catch(f){l[i]=0.1}}else if(o=q.match(/TencentTraveler\s([\d.]*)/))l[i="tt"]=o[1]?n(o[1]):0.1;else if(q.match(/TheWorld/))l[i="theworld"]=3;else if(o=q.match(/SE\s([\d.]*)/))l[i="sougou"]=o[1]?n(o[1]):0.1;i&&(l.shell=i);b.mix(h,l)});
KISSY.add("dom",function(b,h){function q(o,i){return o&&o.nodeType===i}b.DOM={_isElementNode:function(o){return q(o,1)},_isKSNode:function(o){return b.Node&&q(o,b.Node.TYPE)},_getWin:function(o){return o&&"scrollTo"in o&&o.document?o:q(o,9)?o.defaultView||o.parentWindow:o===h?window:false},_nodeTypeIs:q}});
KISSY.add("selector",function(b,h){function q(a,k){var m,e=[],t,r;k=i(k);if(b.isString(a)){a=b.trim(a);if(g.test(a)){if(a=l(a.slice(1),k))e=[a]}else if(m=c.exec(a)){t=m[1];r=m[2];m=m[3];if(k=t?l(t,k):k)if(m)if(!t||a.indexOf(d)!==-1)e=f(m,r,k);else{if((a=l(t,k))&&u.hasClass(a,m))e=[a]}else if(r)e=n(r,k)}else if(b.ExternalSelector)return b.ExternalSelector(a,k);else w(a)}else if(a&&(a[p]||a[s]))e=a[p]?[a[p]()]:a[s]();else if(a&&(b.isArray(a)||o(a)))e=a;else if(a)e=[a];if(o(e))e=b.makeArray(e);e.each=
function(v,A){return b.each(e,v,A)};return e}function o(a){return a&&!a.nodeType&&a.item&&a!=window}function i(a){if(a===h)a=y;else if(b.isString(a)&&g.test(a))a=l(a.slice(1),y);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function l(a,k){if(k.nodeType!==9)k=k.ownerDocument;return k.getElementById(a)}function n(a,k){return k.getElementsByTagName(a)}function f(a,k,m){m=a=m.getElementsByClassName(a);var e=0,t=0,r=a.length,v;if(k&&k!==j){m=[];for(k=k.toUpperCase();e<r;++e){v=a[e];if(v.tagName===
k)m[t++]=v}}return m}function w(a){b.error("Unsupported selector: "+a)}var y=document,u=b.DOM,d=" ",j="*",p="getDOMNode",s=p+"s",g=/^#[\w-]+$/,c=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=y.createElement("div");a.appendChild(y.createComment(""));if(a.getElementsByTagName(j).length>0)n=function(k,m){m=m.getElementsByTagName(k);if(k===j){k=[];for(var e=0,t=0,r;r=m[e++];)if(r.nodeType===1)k[t++]=r;m=k}return m}})();y.getElementsByClassName||(f=y.querySelectorAll?function(a,k,m){return m.querySelectorAll((k?
k:"")+"."+a)}:function(a,k,m){k=m.getElementsByTagName(k||j);m=[];var e=0,t=0,r=k.length,v,A;for(a=d+a+d;e<r;++e){v=k[e];if((A=v.className)&&(d+A+d).indexOf(a)>-1)m[t++]=v}return m});b.query=q;b.get=function(a,k){return q(a,k)[0]||null};b.mix(u,{query:q,get:b.get,filter:function(a,k){var m=q(a),e,t,r,v=[];if(b.isString(k)&&(e=c.exec(k))&&!e[1]){t=e[2];r=e[3];k=function(A){return!(t&&A.tagName!==t.toUpperCase()||r&&!u.hasClass(A,r))}}if(b.isFunction(k))v=b.filter(m,k);else if(k&&b.ExternalSelector)v=
b.ExternalSelector._filter(a,k);else w(k);return v},test:function(a,k){a=q(a);return u.filter(a,k).length===a.length}})});
KISSY.add("dom-data",function(b,h){function q(y){return y&&y.nodeType}var o=window,i=b.DOM,l="_ks_data_"+b.now(),n={},f={},w={EMBED:1,OBJECT:1,APPLET:1};b.mix(i,{data:function(y,u,d){if(b.isPlainObject(u))for(var j in u)i.data(y,j,u[j]);else if(d===h){y=b.get(y);var p;if(!(!y||w[y.nodeName])){if(y==o)y=f;p=(j=q(y))?n:y;y=p[j?y[l]:l];if(b.isString(u)&&y)return y[u];return y}}else b.query(y).each(function(s){if(!(!s||w[s.nodeName])){if(s==o)s=f;var g=n,c;if(q(s)){if(!(c=s[l]))c=s[l]=b.guid()}else{c=
l;g=s}if(u&&d!==h){g[c]||(g[c]={});g[c][u]=d}}})},removeData:function(y,u){b.query(y).each(function(d){if(d){if(d==o)d=f;var j,p=n,s,g=q(d);if(g)j=d[l];else{p=d;j=l}if(j){s=p[j];if(u){if(s){delete s[u];b.isEmptyObject(s)&&i.removeData(d)}}else{if(g)d.removeAttribute&&d.removeAttribute(l);else try{delete d[l]}catch(c){}g&&delete p[j]}}}})}})});
KISSY.add("dom-class",function(b,h){function q(n,f,w,y){if(!(f=b.trim(f)))return y?false:h;n=b.query(n);var u=0,d=n.length;f=f.split(i);for(var j;u<d;u++){j=n[u];if(o._isElementNode(j)){j=w(j,f,f.length);if(j!==h)return j}}if(y)return false}var o=b.DOM,i=/[\.\s]\s*\.?/,l=/[\n\t]/g;b.mix(o,{hasClass:function(n,f){return q(n,f,function(w,y,u){if(w=w.className){w=" "+w+" ";for(var d=0,j=true;d<u;d++)if(w.indexOf(" "+y[d]+" ")<0){j=false;break}if(j)return true}},true)},addClass:function(n,f){q(n,f,function(w,
y,u){var d=w.className;if(d){var j=" "+d+" ";d=d;for(var p=0;p<u;p++)if(j.indexOf(" "+y[p]+" ")<0)d+=" "+y[p];w.className=b.trim(d)}else w.className=f})},removeClass:function(n,f){q(n,f,function(w,y,u){var d=w.className;if(d)if(u){d=(" "+d+" ").replace(l," ");for(var j=0,p;j<u;j++)for(p=" "+y[j]+" ";d.indexOf(p)>=0;)d=d.replace(p," ");w.className=b.trim(d)}else w.className=""})},replaceClass:function(n,f,w){o.removeClass(n,f);o.addClass(n,w)},toggleClass:function(n,f,w){var y=b.isBoolean(w),u;q(n,
f,function(d,j,p){for(var s=0,g;s<p;s++){g=j[s];u=y?!w:o.hasClass(d,g);o[u?"removeClass":"addClass"](d,g)}})}})});
KISSY.add("dom-attr",function(b,h){function q(g,c){return c&&c.nodeName.toUpperCase()===g.toUpperCase()}var o=b.UA,i=o.ie,l=i&&i<8,n=document.documentElement.textContent!==h?"textContent":"innerText",f=b.DOM,w=f._isElementNode,y=function(g){return f._nodeTypeIs(g,3)},u=/href|src|style/,d=/href|src|colspan|rowspan/,j=/\r/g,p=/radio|checkbox/,s={readonly:"readOnly"};l&&b.mix(s,{"for":"htmlFor","class":"className"});b.mix(f,{attr:function(g,c,a){if(b.isPlainObject(c))for(var k in c)f.attr(g,k,c[k]);
else if(c=b.trim(c)){c=c.toLowerCase();c=s[c]||c;if(a===h){g=b.get(g);if(!w(g))return h;var m;u.test(c)||(m=g[c]);if(m===h)m=g.getAttribute(c);if(l)if(d.test(c))m=g.getAttribute(c,2);else if(c==="style")m=g.style.cssText;return m===null?h:m}b.each(b.query(g),function(e){if(w(e))if(c==="style")e.style.cssText=a;else{if(c==="checked")e[c]=!!a;e.setAttribute(c,""+a)}})}},removeAttr:function(g,c){b.each(b.query(g),function(a){if(w(a)){f.attr(a,c,"");a.removeAttribute(c)}})},val:function(g,c){if(c===h){var a=
b.get(g);if(!w(a))return h;if(q("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(q("select",a)){var k=a.selectedIndex;g=a.options;if(k<0)return null;else if(a.type==="select-one")return f.val(g[k]);a=[];for(var m=0,e=g.length;m<e;++m)g[m].selected&&a.push(f.val(g[m]));return a}if(o.webkit&&p.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(j,"")}b.each(b.query(g),function(t){if(q("select",t)){if(b.isNumber(c))c+="";var r=b.makeArray(c),
v=t.options,A;m=0;for(e=v.length;m<e;++m){A=v[m];A.selected=b.inArray(f.val(A),r)}if(!r.length)t.selectedIndex=-1}else if(w(t))t.value=c})},text:function(g,c){if(c===h){g=b.get(g);if(w(g))return g[n]||"";else if(y(g))return g.nodeValue}else b.each(b.query(g),function(a){if(w(a))a[n]=c;else if(y(a))a.nodeValue=c})}})});
KISSY.add("dom-style",function(b,h){function q(c,a){var k=b.get(c),m=a===w?k.offsetWidth:k.offsetHeight;b.each(a===w?["Left","Right"]:["Top","Bottom"],function(e){m-=parseFloat(i._getComputedStyle(k,"padding"+e))||0;m-=parseFloat(i._getComputedStyle(k,"border"+e+"Width"))||0});return m}function o(c,a,k){var m=k;if(k===y&&d.test(a)){m=0;if(i.css(c,"position")==="absolute"){k=c[a==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)k-=u(i.css(c.offsetParent,"border-"+a+"-width"))||0;m=k-(u(i.css(c,
"margin-"+a))||0)}}return m}var i=b.DOM,l=b.UA,n=document,f=n.documentElement,w="width",y="auto",u=parseInt,d=/^left|top$/,j=/width|height|top|left|right|bottom|margin|padding/i,p=/-([a-z])/ig,s=function(c,a){return a.toUpperCase()},g={};b.mix(i,{_CUSTOM_STYLES:g,_getComputedStyle:function(c,a){var k="",m=c.ownerDocument;if(c.style)k=m.defaultView.getComputedStyle(c,null)[a];return k},css:function(c,a,k){if(b.isPlainObject(a))for(var m in a)i.css(c,m,a[m]);else{if(a.indexOf("-")>0)a=a.replace(p,s);
a=g[a]||a;if(k===h){c=b.get(c);m="";if(c&&c.style){m=a.get?a.get(c):c.style[a];if(m===""&&!a.get)m=o(c,a,i._getComputedStyle(c,a))}return m===h?"":m}else{if(k===null||k==="")k="";else if(!isNaN(new Number(k))&&j.test(a))k+="px";(a===w||a==="height")&&parseFloat(k)<0||b.each(b.query(c),function(e){if(e&&e.style){a.set?a.set(e,k):(e.style[a]=k);if(k==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(c,a){if(a===h)return q(c,w);else i.css(c,w,a)},height:function(c,a){if(a===h)return q(c,
"height");else i.css(c,"height",a)},show:function(c){b.query(c).each(function(a){a.style.display=i.data(a,"display")||""})},hide:function(c){b.query(c).each(function(a){var k=a.style,m=k.display;if(m!=="none"){m&&i.data(a,"display",m);k.display="none"}})},toggle:function(c){b.query(c).each(function(a){if(a)a.style.display==="none"?i.show(a):i.hide(a)})},addStyleSheet:function(c,a){var k;if(a)k=b.get("#"+a);if(!k){k=i.create("<style>",{id:a});b.get("head").appendChild(k);if(k.styleSheet)k.styleSheet.cssText=
c;else k.appendChild(n.createTextNode(c))}}});if(f.style.cssFloat!==h)g["float"]="cssFloat";else if(f.style.styleFloat!==h)g["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,h){if(b.UA.ie){var q=b.DOM;b=document;var o=b.documentElement,i=q._CUSTOM_STYLES,l=/^-?\d+(?:px)?$/i,n=/^-?\d/,f=/^width|height$/;try{if(o.style.opacity===h&&o.filters)i.opacity={get:function(y){var u=100;try{u=y.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{u=y.filters("alpha").opacity}catch(j){}}return u/100+""},set:function(y,u){var d=y.style;y=(y.currentStyle||0).filter||"";d.zoom=1;if(y)if(y=y.replace(/alpha\(opacity=.+\)/ig,""))y+=", ";
d.filter=y+"alpha(opacity="+u*100+")"}}}catch(w){}if(!(b.defaultView||{}).getComputedStyle&&o.currentStyle)q._getComputedStyle=function(y,u){var d=y.style,j=y.currentStyle[u];if(f.test(u))j=q[u](y)+"px";else if(!l.test(j)&&n.test(j)){var p=d.left,s=y.runtimeStyle.left;y.runtimeStyle.left=y.currentStyle.left;d.left=u==="fontSize"?"1em":j||0;j=d.pixelLeft+"px";d.left=p;y.runtimeStyle.left=s}return j}}});
KISSY.add("dom-offset",function(b,h){function q(r){var v=0,A=0,x=u(r[c]);if(r[t]){r=r[t]();v=r[a];A=r[k];if(l.mobile!=="apple"){v+=i[m](x);A+=i[e](x)}}return{left:v,top:A}}function o(r,v){if(i.css(r,s)==="static")r.style[s]=g;var A=q(r),x={},z,B;for(B in v){z=p(i.css(r,B),10)||0;x[B]=z+v[B]-A[B]}i.css(r,x)}var i=b.DOM,l=b.UA,n=window,f=document,w=i._isElementNode,y=i._nodeTypeIs,u=i._getWin,d=f.compatMode==="CSS1Compat",j=Math.max,p=parseInt,s="position",g="relative",c="ownerDocument",a="left",k=
"top",m="scrollLeft",e="scrollTop",t="getBoundingClientRect";b.mix(i,{offset:function(r,v){if(!(r=b.get(r))||!r[c])return null;if(v===h)return q(r);o(r,v)},scrollIntoView:function(r,v,A,x){if((r=b.get(r))&&r[c]){x=x===h?true:!!x;A=A===h?true:!!A;if(!v||v===n)return r.scrollIntoView(A);v=b.get(v);if(y(v,9))v=u(v);var z=v&&"scrollTo"in v&&v.document,B=i.offset(r),C=z?{left:i.scrollLeft(v),top:i.scrollTop(v)}:i.offset(v),D={left:B[a]-C[a],top:B[k]-C[k]};B=z?i.viewportHeight(v):v.clientHeight;C=z?i.viewportWidth(v):
v.clientWidth;var G=i[m](v),E=i[e](v),F=G+C,M=E+B,I=r.offsetHeight;r=r.offsetWidth;var H=D.left+G-(p(i.css(v,"borderLeftWidth"))||0);D=D.top+E-(p(i.css(v,"borderTopWidth"))||0);var N=H+r,J=D+I,K,L;if(I>B||D<E||A)K=D;else if(J>M)K=J-B;if(x)if(r>C||H<G||A)L=H;else if(N>F)L=N-C;if(z){if(K!==h||L!==h)v.scrollTo(L,K)}else{if(K!==h)v[e]=K;if(L!==h)v[m]=L}}}});b.each(["Left","Top"],function(r,v){var A="scroll"+r;i[A]=function(x){var z=0,B=u(x),C;if(B&&(C=B.document))z=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(w(x=b.get(x)))z=x[A];return z}});b.each(["Width","Height"],function(r){i["doc"+r]=function(v){v=v||f;return j(d?v.documentElement["scroll"+r]:v.body["scroll"+r],i["viewport"+r](v))};i["viewport"+r]=function(v){var A="inner"+r;v=u(v);var x=v.document;return A in v?v[A]:d?x.documentElement["client"+r]:x.body["client"+r]}})});
KISSY.add("dom-traversal",function(b,h){function q(n,f,w,y){if(!(n=b.get(n)))return null;if(f===h)f=1;var u=null,d,j;if(b.isNumber(f)&&f>=0){if(f===0)return n;d=0;j=f;f=function(){return++d===j}}for(;n=n[w];)if(l(n)&&(!f||i.test(n,f))&&(!y||y(n))){u=n;break}return u}function o(n,f,w){var y=[];var u=n=b.get(n);if(n&&w)u=n.parentNode;if(u){w=0;for(u=u.firstChild;u;u=u.nextSibling)if(l(u)&&u!==n&&(!f||i.test(u,f)))y[w++]=u}return y}var i=b.DOM,l=i._isElementNode;b.mix(i,{parent:function(n,f){return q(n,
f,"parentNode",function(w){return w.nodeType!=11})},next:function(n,f){return q(n,f,"nextSibling")},prev:function(n,f){return q(n,f,"previousSibling")},siblings:function(n,f){return o(n,f,true)},children:function(n,f){return o(n,f)},contains:function(n,f){var w=false;if((n=b.get(n))&&(f=b.get(f)))if(n.contains)return n.contains(f);else if(n.compareDocumentPosition)return!!(n.compareDocumentPosition(f)&16);else for(;!w&&(f=f.parentNode);)w=f==n;return w}})});
KISSY.add("dom-create",function(b,h){function q(x,z){j(x)&&b.isPlainObject(z)&&w.attr(x,z);return x}function o(x,z){var B=null,C;if(x&&(x.push||x.item)&&x[0]){z=z||x[0].ownerDocument;B=z.createDocumentFragment();if(x.item)x=b.makeArray(x);z=0;for(C=x.length;z<C;z++)B.appendChild(x[z])}return B}function i(x){var z=x.cloneNode(true);if(y.ie<8)z.innerHTML=x.innerHTML;return z}function l(x,z,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(c);z+='<span id="'+D+'"></span>';b.available(D,function(){var E=
b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(z);)if((I=(M=F[1])?M.match(k):false)&&I[2]){F=f.createElement("script");F.src=I[2];if((H=M.match(m))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=f.getElementById(D))&&w.remove(N);b.isFunction(C)&&C()});n(x,z)}else{n(x,z);b.isFunction(C)&&C()}}function n(x,z){z=(z+"").replace(c,"");try{x.innerHTML=z}catch(B){for(;x.firstChild;)x.removeChild(x.firstChild);z&&x.appendChild(w.create(z))}}var f=
document,w=b.DOM,y=b.UA,u=y.ie,d=w._nodeTypeIs,j=w._isElementNode,p=w._isKSNode,s=f.createElement("div"),g=/<(\w+)/,c=/<script([^>]*)>([\s\S]*?)<\/script>/ig,a=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,k=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;b.mix(w,{create:function(x,z,B){if(d(x,1)||d(x,3))return i(x);if(p(x))return i(x[0]);if(!(x=b.trim(x)))return null;var C=null;C=w._creators;var D,G="div",E;if(D=a.exec(x))C=(B||f).createElement(D[1]);else{if((D=g.exec(x))&&(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=
E;x=C[G](x,B).childNodes;C=x.length===1?x[0].parentNode.removeChild(x[0]):o(x,B||f)}return q(C,z)},_creators:{div:function(x,z){z=z?z.createElement("div"):s;z.innerHTML=x;return z}},html:function(x,z,B,C){if(z===h){x=b.get(x);if(j(x))return x.innerHTML}else b.each(b.query(x),function(D){j(D)&&l(D,z,B,C)})},remove:function(x){b.each(b.query(x),function(z){j(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(y.gecko||u){var e=w._creators,t=w.create,r=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in v)(function(x){e[A]=function(z,B){return t("<"+x+">"+z+"</"+x+">",null,B)}})(v[A]);if(u){e.script=function(x,z){z=z?z.createElement("div"):s;z.innerHTML="-"+x;z.removeChild(z.firstChild);return z};if(u<8)e.tbody=function(x,z){z=t("<table>"+x+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!r.test(x)&&B.parentNode.removeChild(B);return z}}b.mix(e,{optgroup:e.option,th:e.td,
thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(h,q){if((h=b.get(h))&&(q=b.get(q))&&q.parentNode)q.parentNode.insertBefore(h,q);return h},insertAfter:function(h,q){if((h=b.get(h))&&(q=b.get(q))&&q.parentNode)q.nextSibling?q.parentNode.insertBefore(h,q.nextSibling):q.parentNode.appendChild(h);return h}})});
KISSY.add("event",function(b,h){function q(c,a,k,m,e){if(b.isString(a))a=b.query(a);if(b.isArray(a)){b.each(a,function(t){g[c](t,k,m,e)});return true}if((k=b.trim(k))&&k.indexOf(j)>0){b.each(k.split(j),function(t){g[c](a,t,m,e)});return true}}function o(c){return n(c)?w.data(c,d):-1}function i(c,a){n(c)&&w.data(c,d,a)}function l(c){w.removeData(c,d)}function n(c){return c&&c.nodeType!==3&&c.nodeType!==8}var f=document,w=b.DOM,y=f.addEventListener?function(c,a,k,m){c.addEventListener&&c.addEventListener(a,
k,!!m)}:function(c,a,k){c.attachEvent&&c.attachEvent("on"+a,k)},u=f.removeEventListener?function(c,a,k,m){c.removeEventListener&&c.removeEventListener(a,k,!!m)}:function(c,a,k){c.detachEvent&&c.detachEvent("on"+a,k)},d="ksEventTargetId",j=" ",p=b.now(),s={},g={EVENT_GUID:d,special:{},add:function(c,a,k,m){if(!q("add",c,a,k,m)){var e=o(c),t,r,v,A,x;if(!(e===-1||!a||!b.isFunction(k))){if(!e){i(c,e=p++);s[e]={target:c,events:{}}}r=s[e].events;if(!r[a]){t=((e=!c.isCustomEventTarget)||c._supportSpecialEvent)&&
g.special[a]||{};v=function(z,B){if(!z||!z.fixed){z=new b.EventObject(c,z,a);b.isPlainObject(B)&&b.mix(z,B)}t.setup&&t.setup(z);return(t.handle||g._handle)(c,z,r[a].listeners)};r[a]={handle:v,listeners:[]};A=t.fix||a;x=t.capture;if(e)y(c,A,v,x);else c._addEvent&&c._addEvent(A,v,x)}r[a].listeners.push({fn:k,scope:m||c})}}},remove:function(c,a,k,m){if(!q("remove",c,a,k,m)){var e=o(c),t,r,v,A,x,z,B;if(e!==-1)if(e&&(t=s[e]))if(t.target===c){m=m||c;t=t.events||{};if(r=t[a]){v=r.listeners;z=v.length;if(b.isFunction(k)&&
z){x=A=0;for(B=[];A<z;++A)if(k!==v[A].fn||m!==v[A].scope)B[x++]=v[A];r.listeners=B;z=B.length}if(k===h||z===0){if(c.isCustomEventTarget)c._addEvent&&c._removeEvent(a,r.handle);else{k=g.special[a]||{};u(c,k.fix||a,r.handle)}delete t[a]}}if(a===h||b.isEmptyObject(t)){for(a in t)g.remove(c,a);delete s[e];l(c)}}}},_handle:function(c,a,k){k=k.slice(0);for(var m,e=0,t=k.length;e<t;++e){m=k[e];m=m.fn.call(m.scope||c,a);if(m===false&&c.isCustomEventTarget||a.isImmediatePropagationStopped)break}return m},
_getCache:function(c){return s[c]},_simpleAdd:y,_simpleRemove:u};g.on=g.add;b.Event=g});
KISSY.add("event-object",function(b,h){function q(l,n,f){this.currentTarget=l;this.originalEvent=n||{};if(n){this.type=n.type;this._fix()}else{this.type=f;this.target=l}this.currentTarget=l;this.fixed=true}var o=document,i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(q,
{_fix:function(){var l=this.originalEvent,n=i.length,f,w=this.currentTarget;for(w=w.nodeType===9?w:w.ownerDocument||o;n;){f=i[--n];this[f]=l[f]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===h&&this.clientX!==h){l=w.documentElement;n=w.body;this.pageX=this.clientX+(l&&l.scrollLeft||n&&n.scrollLeft||
0)-(l&&l.clientLeft||n&&n.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||n&&n.scrollTop||0)-(l&&l.clientTop||n&&n.clientTop||0)}if(this.which===h)this.which=this.charCode!==h?this.charCode:this.keyCode;if(this.metaKey===h)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==h)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=q});
KISSY.add("event-target",function(b,h){var q=b.Event;b.EventTarget={isCustomEventTarget:true,fire:function(o,i){var l=b.DOM.data(this,q.EVENT_GUID)||-1;if((o=((q._getCache(l)||{}).events||{})[o])&&b.isFunction(o.handle))return o.handle(h,i);return this},on:function(o,i,l){q.add(this,o,i,l);return this},detach:function(o,i,l){q.remove(this,o,i,l);return this}}});
KISSY.add("event-mouseenter",function(b){var h=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){h.special[q.name]={fix:q.fix,setup:function(o){o.type=q.name},handle:function(o,i,l){var n=i.relatedTarget;try{for(;n&&n!==o;)n=n.parentNode;n!==o&&h._handle(o,i,l)}catch(f){}}}})});
KISSY.add("event-focusin",function(b){var h=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(q){h.special[q.name]={fix:q.fix,capture:true,setup:function(o){o.type=q.name}}})});
KISSY.add("node",function(b){function h(i,l,n){var f;if(!(this instanceof h))return new h(i,l,n);if(i){if(o(i,1)||o(i,3))f=i;else if(b.isString(i))f=q.create(i,l,n);this[0]=f}else this.length=0}var q=b.DOM,o=q._nodeTypeIs;h.TYPE="-ks-Node";b.augment(h,{length:1,getDOMNode:function(){return this[0]},nodeType:h.TYPE});b.one=function(i,l){return(i=b.get(i,l))?new h(i):null};b.Node=h});
KISSY.add("nodelist",function(b){function h(i){if(!(this instanceof h))return new h(i);o.push.apply(this,i||[])}var q=b.DOM,o=Array.prototype;b.mix(h.prototype,{length:0,item:function(i){var l=null;if(q._isElementNode(this[i]))l=new b.Node(this[i]);return l},getDOMNodes:function(){return o.slice.call(this)},each:function(i,l){var n=this.length,f=0,w;for(w=new b.Node(this[0]);f<n&&i.call(l||w,w,f,this)!==false;w=new b.Node(this[++f]));return this}});b.all=function(i,l){return new h(b.query(i,l,true))};
b.NodeList=h});
KISSY.add("node-attach",function(b,h){function q(g,arguments,c,a){var k=[this[g?d:u]()].concat(b.makeArray(arguments));if(arguments[c]===h)return a.apply(i,k);else{a.apply(i,k);return this}}function o(g,c){b.each(g,function(a){b.each([w,y],function(k,m){k[a]=function(e){switch(c){case j:return function(){return q.call(this,m,arguments,1,e)};case p:return function(){return q.call(this,m,arguments,0,e)};case s:return function(){var t=this[m?d:u]();return(t=e.apply(i,[t].concat(b.makeArray(arguments))))?new (b[b.isArray(t)?
"NodeList":"Node"])(t):null};default:return function(){var t=this[m?d:u]();t=e.apply(i,[t].concat(b.makeArray(arguments)));return t===h?this:t}}}(i[a])})})}var i=b.DOM,l=b.Event,n=i._nodeTypeIs,f=i._isKSNode,w=b.Node.prototype,y=b.NodeList.prototype,u="getDOMNode",d=u+"s",j=1,p=2,s=4;b.mix(w,{one:function(g){return b.one(g,this[0])},all:function(g){return b.all(g,this[0])}});o(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);o(["attr","removeAttr"],j);o(["val","text"],p);o(["css"],
j);o(["width","height"],p);o(["offset"],p);o(["scrollIntoView"]);o(["parent","next","prev","siblings","children"],s);o(["contains"]);o(["html"],p);o(["remove"]);b.each(["insertBefore","insertAfter"],function(g){w[g]=function(c){i[g].call(i,this[0],c);return this}});b.each([w,y],function(g,c){b.mix(g,{append:function(a){a&&b.each(this,function(k){var m;if(c||b.isString(a))m=i.create(a);else{if(n(a,1)||n(a,3))m=a;if(f(a))m=a[0]}k.appendChild(m)});return this},appendTo:function(a){if((a=b.get(a))&&a.appendChild)b.each(this,
function(k){a.appendChild(k)});return this}})});b.each([w,y],function(g){b.mix(g,b.EventTarget,{_supportSpecialEvent:true});g._addEvent=function(c,a,k){for(var m=0,e=this.length;m<e;m++)l._simpleAdd(this[m],c,a,k)};g._removeEvent=function(c,a,k){for(var m=0,e=this.length;m<e;m++)l._simpleRemove(this[m],c,a,k)};delete g.fire})});
KISSY.add("cookie",function(b){function h(l){return b.isString(l)&&l!==""}var q=document,o=encodeURIComponent,i=decodeURIComponent;b.Cookie={get:function(l){var n;if(h(l))if(l=q.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))n=l[1]?i(l[1]):"";return n},set:function(l,n,f,w,y,u){n=o(n);var d=f;if(typeof d==="number"){d=new Date;d.setTime(d.getTime()+f*864E5)}if(d instanceof Date)n+="; expires="+d.toUTCString();if(h(w))n+="; domain="+w;if(h(y))n+="; path="+y;if(u)n+="; secure";q.cookie=l+"="+n},remove:function(l,
n,f,w){this.set(l,"",0,n,f,w)}}});
KISSY.add("json",function(b){function h(u){return u<10?"0"+u:u}function q(u){l.lastIndex=0;return l.test(u)?'"'+u.replace(l,function(d){var j=w[d];return typeof j==="string"?j:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function o(u,d){var j,p,s=n,g,c=d[u];if(c&&typeof c==="object"&&typeof c.toJSON==="function")c=c.toJSON(u);if(typeof y==="function")c=y.call(d,u,c);switch(typeof c){case "string":return q(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";n+=f;g=[];if(Object.prototype.toString.apply(c)==="[object Array]"){p=c.length;for(u=0;u<p;u+=1)g[u]=o(u,c)||"null";d=g.length===0?"[]":n?"[\n"+n+g.join(",\n"+n)+"\n"+s+"]":"["+g.join(",")+"]";n=s;return d}if(y&&typeof y==="object"){p=y.length;for(u=0;u<p;u+=1){j=y[u];if(typeof j==="string")if(d=o(j,c))g.push(q(j)+(n?": ":":")+d)}}else for(j in c)if(Object.hasOwnProperty.call(c,j))if(d=o(j,c))g.push(q(j)+(n?": ":":")+d);d=g.length===0?"{}":n?"{\n"+n+g.join(",\n"+n)+
"\n"+s+"}":"{"+g.join(",")+"}";n=s;return d}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var i=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,f,w={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if(typeof b.stringify!=="function")b.stringify=function(u,d,j){var p;f=n="";if(typeof j==="number")for(p=0;p<j;p+=1)f+=" ";else if(typeof j==="string")f=j;if((y=d)&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number"))throw new Error("JSON.stringify");return o("",
{"":u})};if(typeof b.parse!=="function")b.parse=function(u,d){function j(p,s){var g,c,a=p[s];if(a&&typeof a==="object")for(g in a)if(Object.hasOwnProperty.call(a,g)){c=j(a,g);if(c!==undefined)a[g]=c;else delete a[g]}return d.call(p,s,a)}u=String(u);i.lastIndex=0;if(i.test(u))u=u.replace(i,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){u=eval("("+u+")");return typeof d==="function"?j({"":u},""):u}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var h=Math,q=h.PI,o=h.pow,i=h.sin,l=1.70158,n={easeNone:function(f){return f},easeIn:function(f){return f*f},easeOut:function(f){return(2-f)*f},easeBoth:function(f){return(f*=2)<1?0.5*f*f:0.5*(1- --f*(f-2))},easeInStrong:function(f){return f*f*f*f},easeOutStrong:function(f){return 1- --f*f*f*f},easeBothStrong:function(f){return(f*=2)<1?0.5*f*f*f*f:0.5*(2-(f-=2)*f*f*f)},elasticIn:function(f){if(f===0||f===1)return f;return-(o(2,10*(f-=1))*i((f-0.075)*2*q/0.3))},
elasticOut:function(f){if(f===0||f===1)return f;return o(2,-10*f)*i((f-0.075)*2*q/0.3)+1},elasticBoth:function(f){if(f===0||(f*=2)===2)return f;if(f<1)return-0.5*o(2,10*(f-=1))*i((f-0.1125)*2*q/0.45);return o(2,-10*(f-=1))*i((f-0.1125)*2*q/0.45)*0.5+1},backIn:function(f){if(f===1)f-=0.0010;return f*f*((l+1)*f-l)},backOut:function(f){return(f-=1)*f*((l+1)*f+l)+1},backBoth:function(f){if((f*=2)<1)return 0.5*f*f*(((l*=1.525)+1)*f-l);return 0.5*((f-=2)*f*(((l*=1.525)+1)*f+l)+2)},bounceIn:function(f){return 1-
n.bounceOut(1-f)},bounceOut:function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375},bounceBoth:function(f){if(f<0.5)return n.bounceIn(f*2)*0.5;return n.bounceOut(f*2-1)*0.5+0.5}};b.Easing=n});
KISSY.add("anim",function(b,h){function q(g,c,a,k,m){if(g=b.get(g)){if(!(this instanceof q))return new q(g,c,a,k,m);var e=b.isPlainObject(a);c=c;this.domEl=g;if(b.isPlainObject(c))c=b.param(c,";").replace(/=/g,":");this.props=o(c);this.targetStyle=c;if(e)g=b.merge(s,a);else{g=b.clone(s);a&&(g.duration=u(a,10)||1);b.isString(k)&&(k=y[k]);b.isFunction(k)&&(g.easing=k);b.isFunction(m)&&(g.complete=m)}this.config=g;b.isFunction(m)&&this.on(p,m)}}function o(g){var c={},a=j.length,k;d.innerHTML='<div style="'+
g+'"></div>';for(g=d.firstChild.style;a--;)if(k=g[j[a]])c[j[a]]=i(k);return c}function i(g){var c=u(g);g=(g+"").replace(/^[-\d\.]+/,"");return isNaN(c)?{v:g,u:"",f:n}:{v:c,u:g,f:l}}function l(g,c,a){return(g+(c-g)*a).toFixed(3)}function n(g,c,a){for(var k=2,m,e,t=[],r=[];m=3,e=arguments[k-1],k--;)if(f(e,0,4)==="rgb(")for(e=e.match(/\d+/g);m--;)t.push(~~e[m]);else if(f(e,0)==="#"){if(e.length===4)e="#"+f(e,1)+f(e,1)+f(e,2)+f(e,2)+f(e,3)+f(e,3);for(;m--;)t.push(parseInt(f(e,1+m*2,2),16))}else return c;
for(;m--;){k=~~(t[m+3]+(t[m]-t[m+3])*a);r.push(k<0?0:k>255?255:k)}return"rgb("+r.join(",")+")"}function f(g,c,a){return g.substr(c,a||1)}var w=b.DOM,y=b.Easing,u=parseFloat,d=w.create("<div>"),j="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
p="complete",s={duration:1,easing:y.easeNone};b.augment(q,b.EventTarget,{run:function(){var g=this,c=g.config,a=g.domEl,k=c.duration*1E3,m=c.easing,e=b.now(),t=e+k,r=g.props,v={},A;for(A in r)v[A]=i(w.css(a,A));if(g.fire("start")!==false){g.stop();g.timer=b.later(c=function(){var x=b.now(),z=x>t?1:(x-e)/k,B,C,D;for(A in r){B=v[A];C=r[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;w.css(a,A,C.f(B.v,C.v,m(z))+C.u)}if(g.fire("step")===false||(D=x>t)){g.stop();D&&g.fire(p)}},13,true);c();return g}},stop:function(g){var c=
this.domEl,a=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=h}if(g){b.UA.ie&&a.indexOf("opacity")>-1&&w.css(c,"opacity",this.props.opacity.v);c.style.cssText+=";"+a;this.fire(p)}return this}});b.Anim=q});KISSY.add("anim-node-plugin",function(b,h){var q=b.Anim;b.each([b.Node.prototype,b.NodeList.prototype],function(o){o.animate=function(){var i=b.makeArray(arguments);b.each(this,function(l){q.apply(h,[l].concat(i)).run()});return this}})});KISSY.add("core");
