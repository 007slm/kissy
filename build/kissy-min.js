/*
Copyright 2010, KISSY UI Library v1.1.3
MIT Licensed
build time: Aug 31 11:19
*/
(function(b,h,q){if(b[h]===q)b[h]={};h=b[h];var s=b.document,i=location,l=function(e,k,n,p){if(!k||!e)return e;if(n===q)n=true;var c,a,d;if(p&&(d=p.length))for(c=0;c<d;c++){a=p[c];if(a in k)if(n||!(a in e))e[a]=k[a]}else for(a in k)if(n||!(a in e))e[a]=k[a];return e},j=false,f=[],w=false,z=/^#?([\w-]+)$/,u=0;l(h,{version:"1.1.3",__init:function(){this.Env={mods:{},_loadQueue:{}};var e=s.getElementsByTagName("script");this.Config={debug:"",base:e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(e){w||this._bindReady();j?e.call(b,this):f.push(e);return this},_bindReady:function(){var e=this,k=s.documentElement.doScroll,n=k?"onreadystatechange":"DOMContentLoaded",p=function(){e._fireReady()};w=true;if(s.readyState==="complete")return p();if(s.addEventListener){var c=function(){s.removeEventListener(n,c,false);p()};s.addEventListener(n,c,false);b.addEventListener("load",p,false)}else{var a=function(){if(s.readyState==="complete"){s.detachEvent(n,a);p()}};s.attachEvent(n,
a);b.attachEvent("onload",p);if(b==b.top){var d=function(){try{k("left");p()}catch(o){setTimeout(d,1)}};d()}}},_fireReady:function(){if(!j){j=true;if(f){for(var e,k=0;e=f[k++];)e.call(b,this);f=null}}},available:function(e,k){if((e=(e+"").match(z)[1])&&h.isFunction(k))var n=1,p=h.later(function(){if(s.getElementById(e)&&(k()||1)||++n>500)p.cancel()},40,true)},mix:l,merge:function(){var e={},k,n=arguments.length;for(k=0;k<n;++k)l(e,arguments[k]);return e},augment:function(){var e=arguments,k=e.length-
2,n=e[0],p=e[k],c=e[k+1],a=1;if(!h.isArray(c)){p=c;c=q;k++}if(!h.isBoolean(p)){p=q;k++}for(;a<k;a++)l(n.prototype,e[a].prototype||e[a],p,c);return n},extend:function(e,k,n,p){if(!k||!e)return e;var c=Object.prototype,a=k.prototype,d=function(o){function m(){}m.prototype=o;return new m}(a);e.prototype=d;d.constructor=e;e.superclass=a;if(k!==Object&&a.constructor===c.constructor)a.constructor=k;n&&l(d,n);p&&l(e,p);return e},namespace:function(){var e=arguments.length,k=null,n,p,c;for(n=0;n<e;++n){c=
(""+arguments[n]).split(".");k=this;for(p=b[c[0]]===k?1:0;p<c.length;++p)k=k[c[p]]=k[c[p]]||{}}return k},app:function(e,k){var n=h.isString(e),p=n?b[e]||{}:e;l(p,this,true,h.__APP_MEMBERS);p.__init();l(p,h.isFunction(k)?k():k);n&&(b[e]=p);return p},log:function(e,k,n){if(h.Config.debug){if(n)e=n+": "+e;if(b.console!==q&&console.log)console[k&&console[k]?k:"log"](e)}},error:function(e){if(h.Config.debug)throw e;},guid:function(e){var k=u++ +"";return e?e+k:k}});h.__init();h.__APP_MEMBERS=["__init",
"namespace"];if(i&&(i.search||"").indexOf("ks-debug")!==-1)h.Config.debug=true})(window,"KISSY");
(function(b,h,q){function s(g){var x=typeof g;return g===null||x!=="object"&&x!=="function"}function i(g){return f.slice.call(g)}var l=document,j=l.documentElement,f=Array.prototype,w=f.indexOf,z=f.lastIndexOf,u=f.filter,e=String.prototype.trim,k=Object.prototype.toString,n=encodeURIComponent,p=decodeURIComponent,c=n("[]"),a=/^\s+|\s+$/g,d=/^(\w+)\[\]$/,o=/\S/;h.mix(h,{isUndefined:function(g){return g===q},isBoolean:function(g){return typeof g==="boolean"},isString:function(g){return typeof g==="string"},
isNumber:function(g){return typeof g==="number"&&isFinite(g)},isPlainObject:function(g){return g&&k.call(g)==="[object Object]"&&!g.nodeType&&!g.setInterval},isEmptyObject:function(g){for(var x in g)return false;return true},isFunction:function(g){return k.call(g)==="[object Function]"},isArray:function(g){return k.call(g)==="[object Array]"},trim:e?function(g){return g==q?"":e.call(g)}:function(g){return g==q?"":g.toString().replace(a,"")},substitute:function(g,x,r){if(!h.isString(g)||!h.isPlainObject(x))return g;
return g.replace(r||/\\?\{([^{}]+)\}/g,function(v,A){if(v.charAt(0)==="\\")return v.slice(1);return x[A]!==q?x[A]:""})},each:function(g,x,r){var v,A=0,t=g.length,y=t===q||h.isFunction(g);r=r||b;if(y)for(v in g){if(x.call(r,g[v],v,g)===false)break}else for(v=g[0];A<t&&x.call(r,v,A,g)!==false;v=g[++A]);return g},indexOf:w?function(g,x){return w.call(x,g)}:function(g,x){for(var r=0,v=x.length;r<v;++r)if(x[r]===g)return r;return-1},lastIndexOf:z?function(g,x){return z.call(x,g)}:function(g,x){for(var r=
x.length-1;r>=0;r--)if(x[r]===g)break;return r},unique:function(g,x){x&&g.reverse();g=g.slice();for(var r=0,v,A;r<g.length;){for(A=g[r];(v=h.lastIndexOf(A,g))!==r;)g.splice(v,1);r+=1}x&&g.reverse();return g},inArray:function(g,x){return h.indexOf(g,x)>-1},makeArray:function(g){if(g===null||g===q)return[];if(h.isArray(g))return g;if(typeof g.length!=="number"||h.isString(g)||h.isFunction(g))return[g];return i(g)},filter:u?function(g,x,r){return u.call(g,x,r)}:function(g,x,r){var v=[];h.each(g,function(A,
t,y){x.call(r,A,t,y)&&v.push(A)});return v},param:function(g,x){if(!h.isPlainObject(g))return"";x=x||"&";var r=[],v,A;for(v in g){A=g[v];v=n(v);if(s(A))r.push(v,"=",n(A+""),x);else if(h.isArray(A)&&A.length)for(var t=0,y=A.length;t<y;++t)s(A[t])&&r.push(v,c+"=",n(A[t]+""),x)}r.pop();return r.join("")},unparam:function(g,x){if(typeof g!=="string"||(g=h.trim(g)).length===0)return{};var r={};g=g.split(x||"&");for(var v,A,t,y=0,B=g.length;y<B;++y){x=g[y].split("=");v=p(x[0]);try{A=p(x[1]||"")}catch(C){A=
x[1]||""}if((t=v.match(d))&&t[1]){r[t[1]]=r[t[1]]||[];r[t[1]].push(A)}else r[v]=A}return r},later:function(g,x,r,v,A){x=x||0;v=v||{};var t=g,y=h.makeArray(A),B;if(h.isString(g))t=v[g];t||h.error("method undefined");g=function(){t.apply(v,y)};B=r?setInterval(g,x):setTimeout(g,x);return{id:B,interval:r,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(g){var x=g,r,v;if(g&&((r=h.isArray(g))||h.isPlainObject(g))){x=r?[]:{};for(v in g)if(g.hasOwnProperty(v))x[v]=h.clone(g[v])}return x},
now:function(){return(new Date).getTime()},globalEval:function(g){if(g&&o.test(g)){var x=l.getElementsByTagName("head")[0]||j,r=l.createElement("script");r.text=g;x.insertBefore(r,x.firstChild);x.removeChild(r)}}});try{i(j.childNodes)}catch(m){i=function(g){for(var x=[],r=g.length-1;r>=0;r--)x[r]=g[r];return x}}})(window,KISSY);
(function(b,h,q){var s=b.document,i=s.getElementsByTagName("head")[0]||s.documentElement,l=2,j=3,f=4,w=h.mix,z=s.createElement("script").readyState?function(e,k){var n=e.onreadystatechange;e.onreadystatechange=function(){var p=e.readyState;if(p==="loaded"||p==="complete"){e.onreadystatechange=null;n&&n();k.call(this)}}}:function(e,k){e.addEventListener("load",k,false)},u=/\.css(?:\?|$)/i;b={add:function(e,k,n){var p=this.Env.mods,c;if(h.isString(e)&&!n&&h.isPlainObject(k)){c={};c[e]=k;e=c}if(h.isPlainObject(e)){h.each(e,
function(a,d){a.name=d});w(p,e)}else{n=n||{};c=p[e]||{};e=n.host||c.host||e;c=p[e]||{};w(c,{name:e,status:l});if(!c.fns)c.fns=[];k&&c.fns.push(k);w(p[e]=c,n);c.attach!==false&&this.__isAttached(c.requires)&&this.__attachMod(c)}return this},use:function(e,k,n){e=e.replace(/\s+/g,"").split(",");n=n||{};var p=this,c=p.Env.mods,a=(n||0).global,d,o=e.length,m,g,x;a&&p.__mixMods(a);if(p.__isAttached(e))k&&k(p);else{for(d=0;d<o&&(m=c[e[d]]);d++)if(m.status!==f){if(n.order&&d>0){if(!m.requires)m.requires=
[];m._requires=m.requires.concat();g=e[d-1];if(!h.inArray(g,m.requires)&&!h.inArray(m.name,c[g].requires||[]))m.requires.push(g)}p.__attach(m,function(){if(!x&&p.__isAttached(e)){x=true;if(m._requires)m.requires=m._requires;k&&k(p)}},a)}return p}},__attach:function(e,k,n){function p(){if(c.__isAttached(a)){e.status===l&&c.__attachMod(e);e.status===f&&k()}}for(var c=this,a=e.requires||[],d=0,o=a.length;d<o;d++)c.__attach(c.Env.mods[a[d]],p,n);c.__buildPath(e);c.__load(e,p,n)},__mixMods:function(e){var k=
this.Env.mods,n=e.Env.mods,p;for(p in n)this.__mixMod(k,n,p,e)},__mixMod:function(e,k,n,p){var c=e[n]||{},a=c.status;h.mix(c,h.clone(k[n]));if(a)c.status=a;p&&this.__buildPath(c,p.Config.base);e[n]=c},__attachMod:function(e){var k=this;if(e.fns){h.each(e.fns,function(n){n&&n(k)});e.fns=q}e.status=f},__isAttached:function(e){for(var k=this.Env.mods,n,p=(e=h.makeArray(e)).length-1;p>=0&&(n=k[e[p]]);p--)if(n.status!==f)return false;return true},__load:function(e,k,n){function p(){c();if(e.status!==j){n&&
a.__mixMod(a.Env.mods,n.Env.mods,e.name,n);if(e.status!==f)e.status=l;k()}}function c(){o[d]=l}var a=this,d=e.fullpath,o=h.Env._loadQueue,m=o[d];e.status=e.status||0;if(e.status<1&&m)e.status=m.nodeName?1:l;if(h.isString(e.cssfullpath)){a.getScript(e.cssfullpath);e.cssfullpath=l}if(e.status<1&&d){e.status=1;m=a.getScript(d,{success:function(){KISSY.log(e.name+" onload fired.","info");p()},error:function(){e.status=j;c()},charset:e.charset});u.test(d)||(o[d]=m)}else e.status===1?z(m,p):k()},__buildPath:function(e,
k){function n(c,a){if(!e[a]&&e[c])e[a]=(k||p.base)+e[c];if(e[a]&&p.debug)e[a]=e[a].replace(/-min/g,"")}var p=this.Config;n("path","fullpath");e.cssfullpath!==l&&n("csspath","cssfullpath")},getScript:function(e,k,n){var p=u.test(e),c=s.createElement(p?"link":"script"),a=k,d,o,m;if(h.isPlainObject(a)){k=a.success;d=a.error;o=a.timeout;n=a.charset}if(p){c.href=e;c.rel="stylesheet"}else{c.src=e;c.async=true}if(n)c.charset=n;if(h.isFunction(k))p?k.call(c):z(c,function(){if(m){m.cancel();m=q}k.call(c)});
if(h.isFunction(d))m=h.later(function(){m=q;d()},(o||this.Config.timeout)*1E3);i.insertBefore(c,i.firstChild);return c}};w(h,b);h.each(b,function(e,k){h.__APP_MEMBERS.push(k)})})(window,KISSY);(function(b){var h={core:{path:"packages/core-min.js",charset:"utf-8"}};b.each(["sizzle","datalazyload","flash","switchable","suggest"],function(q){h[q]={path:q+"/"+q+"-pkg-min.js",requires:["core"],charset:"utf-8"}});b.add(h)})(KISSY);
KISSY.add("ua",function(b){var h=navigator.userAgent,q="",s="",i,l={},j=function(f){var w=0;return parseFloat(f.replace(/\./g,function(){return w++===0?".":""}))};if((i=h.match(/AppleWebKit\/([\d.]*)/))&&i[1]){l[q="webkit"]=j(i[1]);if((i=h.match(/Chrome\/([\d.]*)/))&&i[1])l[s="chrome"]=j(i[1]);else if((i=h.match(/\/([\d.]*) Safari/))&&i[1])l[s="safari"]=j(i[1]);if(/ Mobile\//.test(h))l.mobile="apple";else if(i=h.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=i[0].toLowerCase()}else if((i=
h.match(/Presto\/([\d.]*)/))&&i[1]){l[q="presto"]=j(i[1]);if((i=h.match(/Opera\/([\d.]*)/))&&i[1]){l[s="opera"]=j(i[1]);if((i=h.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])l[s]=j(i[1]);if((i=h.match(/Opera Mini[^;]*/))&&i)l.mobile=i[0].toLowerCase();else if((i=h.match(/Opera Mobi[^;]*/))&&i)l.mobile=i[0]}}else if((i=h.match(/MSIE\s([^;]*)/))&&i[1]){l[q="trident"]=0.1;l[s="ie"]=j(i[1]);if((i=h.match(/Trident\/([\d.]*)/))&&i[1])l[q]=j(i[1])}else if(i=h.match(/Gecko/)){l[q="gecko"]=0.1;if((i=h.match(/rv:([\d.]*)/))&&
i[1])l[q]=j(i[1]);if((i=h.match(/Firefox\/([\d.]*)/))&&i[1])l[s="firefox"]=j(i[1])}l.core=q;l.shell=s;l._numberify=j;b.UA=l});
KISSY.add("ua-extra",function(b){var h=b.UA,q=navigator.userAgent,s,i,l={},j=h._numberify;if(q.match(/360SE/))l[i="se360"]=3;else if(q.match(/Maxthon/)&&(s=window.external)){i="maxthon";try{l[i]=j(s.max_version)}catch(f){l[i]=0.1}}else if(s=q.match(/TencentTraveler\s([\d.]*)/))l[i="tt"]=s[1]?j(s[1]):0.1;else if(q.match(/TheWorld/))l[i="theworld"]=3;else if(s=q.match(/SE\s([\d.]*)/))l[i="sougou"]=s[1]?j(s[1]):0.1;i&&(l.shell=i);b.mix(h,l)});
KISSY.add("dom",function(b,h){function q(s,i){return s&&s.nodeType===i}b.DOM={_isElementNode:function(s){return q(s,1)},_isKSNode:function(s){return b.Node&&q(s,b.Node.TYPE)},_getWin:function(s){return s&&"scrollTo"in s&&s.document?s:q(s,9)?s.defaultView||s.parentWindow:s===h?window:false},_nodeTypeIs:q}});
KISSY.add("selector",function(b,h){function q(a,d){var o,m=[],g,x;d=s(d);if(b.isString(a)){a=b.trim(a);if(p.test(a)){if(a=i(a.slice(1),d))m=[a]}else if(o=c.exec(a)){g=o[1];x=o[2];o=o[3];if(d=g?i(g,d):d)if(o)if(!g||a.indexOf(u)!==-1)m=j(o,x,d);else{if((a=i(g,d))&&z.hasClass(a,o))m=[a]}else if(x)m=l(x,d)}else if(b.ExternalSelector)return b.ExternalSelector(a,d);else f(a)}else if(a&&(a[k]||a[n]))m=a[k]?[a[k]()]:a[n]();else if(a&&(b.isArray(a)||a.item&&!a.nodeType))m=a;else if(a)m=[a];if(m.item)m=b.makeArray(m);
m.each=function(r,v){return b.each(m,r,v)};return m}function s(a){if(a===h)a=w;else if(b.isString(a)&&p.test(a))a=i(a.slice(1),w);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function i(a,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(a)}function l(a,d){return d.getElementsByTagName(a)}function j(a,d,o){o=a=o.getElementsByClassName(a);var m=0,g=0,x=a.length,r;if(d&&d!==e){o=[];for(d=d.toUpperCase();m<x;++m){r=a[m];if(r.tagName===d)o[g++]=r}}return o}function f(a){b.error("Unsupported selector: "+
a)}var w=document,z=b.DOM,u=" ",e="*",k="getDOMNode",n=k+"s",p=/^#[\w-]+$/,c=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=w.createElement("div");a.appendChild(w.createComment(""));if(a.getElementsByTagName(e).length>0)l=function(d,o){o=o.getElementsByTagName(d);if(d===e){d=[];for(var m=0,g=0,x;x=o[m++];)if(x.nodeType===1)d[g++]=x;o=d}return o}})();w.getElementsByClassName||(j=w.querySelectorAll?function(a,d,o){return o.querySelectorAll((d?d:"")+"."+a)}:function(a,d,o){d=o.getElementsByTagName(d||
e);o=[];var m=0,g=0,x=d.length,r,v;for(a=u+a+u;m<x;++m){r=d[m];if((v=r.className)&&(u+v+u).indexOf(a)>-1)o[g++]=r}return o});b.query=q;b.get=function(a,d){return q(a,d)[0]||null};b.mix(z,{query:q,get:b.get,filter:function(a,d){var o=q(a),m,g,x,r=[];if(b.isString(d)&&(m=c.exec(d))&&!m[1]){g=m[2];x=m[3];d=function(v){return!(g&&v.tagName!==g.toUpperCase()||x&&!z.hasClass(v,x))}}if(b.isFunction(d))r=b.filter(o,d);else if(d&&b.ExternalSelector)r=b.ExternalSelector._filter(a,d);else f(d);return r},test:function(a,
d){a=q(a);return z.filter(a,d).length===a.length}})});
KISSY.add("dom-class",function(b,h){function q(j,f,w,z){if(!(f=b.trim(f)))return z?false:h;j=b.query(j);var u=0,e=j.length;f=f.split(i);for(var k;u<e;u++){k=j[u];if(s._isElementNode(k)){k=w(k,f,f.length);if(k!==h)return k}}if(z)return false}var s=b.DOM,i=/[\.\s]\s*\.?/,l=/[\n\t]/g;b.mix(s,{hasClass:function(j,f){return q(j,f,function(w,z,u){if(w=w.className){w=" "+w+" ";for(var e=0,k=true;e<u;e++)if(w.indexOf(" "+z[e]+" ")<0){k=false;break}if(k)return true}},true)},addClass:function(j,f){q(j,f,function(w,
z,u){var e=w.className;if(e){var k=" "+e+" ";e=e;for(var n=0;n<u;n++)if(k.indexOf(" "+z[n]+" ")<0)e+=" "+z[n];w.className=b.trim(e)}else w.className=f})},removeClass:function(j,f){q(j,f,function(w,z,u){var e=w.className;if(e)if(u){e=(" "+e+" ").replace(l," ");for(var k=0,n;k<u;k++)for(n=" "+z[k]+" ";e.indexOf(n)>=0;)e=e.replace(n," ");w.className=b.trim(e)}else w.className=""})},replaceClass:function(j,f,w){s.removeClass(j,f);s.addClass(j,w)},toggleClass:function(j,f,w){var z=b.isBoolean(w),u;q(j,
f,function(e,k,n){for(var p=0,c;p<n;p++){c=k[p];u=z?!w:s.hasClass(e,c);s[u?"removeClass":"addClass"](e,c)}})}})});
KISSY.add("dom-attr",function(b,h){function q(c,a){return a&&a.nodeName.toUpperCase()===c.toUpperCase()}var s=b.UA,i=s.ie,l=i&&i<8,j=document.documentElement.textContent!==h?"textContent":"innerText",f=b.DOM,w=f._isElementNode,z=function(c){return f._nodeTypeIs(c,3)},u=/href|src|style/,e=/href|src|colspan|rowspan/,k=/\r/g,n=/radio|checkbox/,p={readonly:"readOnly"};l&&b.mix(p,{"for":"htmlFor","class":"className"});b.mix(f,{attr:function(c,a,d){if(b.isPlainObject(a))for(var o in a)f.attr(c,o,a[o]);
else if(a=b.trim(a)){a=a.toLowerCase();a=p[a]||a;if(d===h){c=b.get(c);if(!w(c))return h;var m;u.test(a)||(m=c[a]);if(m===h)m=c.getAttribute(a);if(l)if(e.test(a))m=c.getAttribute(a,2);else if(a==="style")m=c.style.cssText;return m===null?h:m}b.each(b.query(c),function(g){if(w(g))if(a==="style")g.style.cssText=d;else{if(a==="checked")g[a]=!!d;g.setAttribute(a,""+d)}})}},removeAttr:function(c,a){b.each(b.query(c),function(d){if(w(d)){f.attr(d,a,"");d.removeAttribute(a)}})},val:function(c,a){if(a===h){var d=
b.get(c);if(!w(d))return h;if(q("option",d))return(d.attributes.value||{}).specified?d.value:d.text;if(q("select",d)){var o=d.selectedIndex;c=d.options;if(o<0)return null;else if(d.type==="select-one")return f.val(c[o]);d=[];for(var m=0,g=c.length;m<g;++m)c[m].selected&&d.push(f.val(c[m]));return d}if(s.webkit&&n.test(d.type))return d.getAttribute("value")===null?"on":d.value;return(d.value||"").replace(k,"")}b.each(b.query(c),function(x){if(q("select",x)){if(b.isNumber(a))a+="";var r=b.makeArray(a),
v=x.options,A;m=0;for(g=v.length;m<g;++m){A=v[m];A.selected=b.inArray(f.val(A),r)}if(!r.length)x.selectedIndex=-1}else if(w(x))x.value=a})},text:function(c,a){if(a===h){c=b.get(c);if(w(c))return c[j]||"";else if(z(c))return c.nodeValue}else b.each(b.query(c),function(d){if(w(d))d[j]=a;else if(z(d))d.nodeValue=a})}})});
KISSY.add("dom-style",function(b,h){function q(a,d){var o=b.get(a),m=d===w?o.offsetWidth:o.offsetHeight;b.each(d===w?["Left","Right"]:["Top","Bottom"],function(g){m-=parseFloat(i._getComputedStyle(o,"padding"+g))||0;m-=parseFloat(i._getComputedStyle(o,"border"+g+"Width"))||0});return m}function s(a,d,o){var m=o;if(o===z&&e.test(d)){m=0;if(i.css(a,"position")==="absolute"){o=a[d==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)o-=u(i.css(a.offsetParent,"border-"+d+"-width"))||0;m=o-(u(i.css(a,
"margin-"+d))||0)}}return m}var i=b.DOM,l=b.UA,j=document,f=j.documentElement,w="width",z="auto",u=parseInt,e=/^left|top$/,k=/width|height|top|left|right|bottom|margin|padding/i,n=/-([a-z])/ig,p=function(a,d){return d.toUpperCase()},c={};b.mix(i,{_CUSTOM_STYLES:c,_getComputedStyle:function(a,d){var o="",m=a.ownerDocument;if(a.style)o=m.defaultView.getComputedStyle(a,null)[d];return o},css:function(a,d,o){if(b.isPlainObject(d))for(var m in d)i.css(a,m,d[m]);else{if(d.indexOf("-")>0)d=d.replace(n,p);
d=c[d]||d;if(o===h){a=b.get(a);m="";if(a&&a.style){m=d.get?d.get(a):a.style[d];if(m===""&&!d.get)m=s(a,d,i._getComputedStyle(a,d))}return m===h?"":m}else{if(o===null||o==="")o="";else if(!isNaN(new Number(o))&&k.test(d))o+="px";(d===w||d==="height")&&parseFloat(o)<0||b.each(b.query(a),function(g){if(g&&g.style){d.set?d.set(g,o):(g.style[d]=o);if(o==="")g.style.cssText||g.removeAttribute("style")}})}}},width:function(a,d){if(d===h)return q(a,w);else i.css(a,w,d)},height:function(a,d){if(d===h)return q(a,
"height");else i.css(a,"height",d)},addStyleSheet:function(a,d){var o;if(d)o=b.get(d);o||(o=i.create("<style>",{id:d}));b.get("head").appendChild(o);if(o.styleSheet)o.styleSheet.cssText=a;else o.appendChild(j.createTextNode(a))}});if(f.style.cssFloat!==h)c["float"]="cssFloat";else if(f.style.styleFloat!==h)c["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,h){if(b.UA.ie){var q=b.DOM;b=document;var s=b.documentElement,i=q._CUSTOM_STYLES,l=/^-?\d+(?:px)?$/i,j=/^-?\d/,f=/^width|height$/;try{if(s.style.opacity===h&&s.filters)i.opacity={get:function(z){var u=100;try{u=z.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{u=z.filters("alpha").opacity}catch(k){}}return u/100+""},set:function(z,u){z=z.style;z.zoom=1;z.filter="alpha(opacity="+u*100+")"}}}catch(w){}if(!(b.defaultView||{}).getComputedStyle&&s.currentStyle)q._getComputedStyle=
function(z,u){var e=z.style,k=z.currentStyle[u];if(f.test(u))k=q[u](z)+"px";else if(!l.test(k)&&j.test(k)){var n=e.left,p=z.runtimeStyle.left;z.runtimeStyle.left=z.currentStyle.left;e.left=u==="fontSize"?"1em":k||0;k=e.pixelLeft+"px";e.left=n;z.runtimeStyle.left=p}return k}}});
KISSY.add("dom-offset",function(b,h){function q(r){var v=0,A=0,t=u(r[a]);if(r[x]){r=r[x]();v=r[d];A=r[o];if(l.mobile!=="apple"){v+=i[m](t);A+=i[g](t)}}return{left:v,top:A}}function s(r,v){if(i.css(r,p)==="static")r.style[p]=c;var A=q(r),t={},y,B;for(B in v){y=n(i.css(r,B),10)||0;t[B]=y+v[B]-A[B]}i.css(r,t)}var i=b.DOM,l=b.UA,j=window,f=document,w=i._isElementNode,z=i._nodeTypeIs,u=i._getWin,e=f.compatMode==="CSS1Compat",k=Math.max,n=parseInt,p="position",c="relative",a="ownerDocument",d="left",o=
"top",m="scrollLeft",g="scrollTop",x="getBoundingClientRect";b.mix(i,{offset:function(r,v){if(!(r=b.get(r))||!r[a])return null;if(v===h)return q(r);s(r,v)},scrollIntoView:function(r,v,A,t){if((r=b.get(r))&&r[a]){t=t===h?true:!!t;A=A===h?true:!!A;if(!v||v===j)return r.scrollIntoView(A);v=b.get(v);if(z(v,9))v=u(v);var y=v&&"scrollTo"in v&&v.document,B=i.offset(r),C=y?{left:i.scrollLeft(v),top:i.scrollTop(v)}:i.offset(v),D={left:B[d]-C[d],top:B[o]-C[o]};B=y?i.viewportHeight(v):v.clientHeight;C=y?i.viewportWidth(v):
v.clientWidth;var G=i[m](v),E=i[g](v),F=G+C,M=E+B,I=r.offsetHeight;r=r.offsetWidth;var H=D.left+G-(n(i.css(v,"borderLeftWidth"))||0);D=D.top+E-(n(i.css(v,"borderTopWidth"))||0);var N=H+r,J=D+I,K,L;if(I>B||D<E||A)K=D;else if(J>M)K=J-B;if(t)if(r>C||H<G||A)L=H;else if(N>F)L=N-C;if(y){if(K!==h||L!==h)v.scrollTo(L,K)}else{if(K!==h)v[g]=K;if(L!==h)v[m]=L}}}});b.each(["Left","Top"],function(r,v){var A="scroll"+r;i[A]=function(t){var y=0,B=u(t),C;if(B&&(C=B.document))y=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(w(t=b.get(t)))y=t[A];return y}});b.each(["Width","Height"],function(r){i["doc"+r]=function(v){v=v||f;return k(e?v.documentElement["scroll"+r]:v.body["scroll"+r],i["viewport"+r](v))};i["viewport"+r]=function(v){var A="inner"+r;v=u(v);var t=v.document;return A in v?v[A]:e?t.documentElement["client"+r]:t.body["client"+r]}})});
KISSY.add("dom-traversal",function(b,h){function q(j,f,w,z){if(!(j=b.get(j)))return null;if(f===h)f=1;var u=null,e,k;if(b.isNumber(f)&&f>=0){if(f===0)return j;e=0;k=f;f=function(){return++e===k}}for(;j=j[w];)if(l(j)&&(!f||i.test(j,f))&&(!z||z(j))){u=j;break}return u}function s(j,f,w){var z=[];var u=j=b.get(j);if(j&&w)u=j.parentNode;if(u){w=0;for(u=u.firstChild;u;u=u.nextSibling)if(l(u)&&u!==j&&(!f||i.test(u,f)))z[w++]=u}return z}var i=b.DOM,l=i._isElementNode;b.mix(i,{parent:function(j,f){return q(j,
f,"parentNode",function(w){return w.nodeType!=11})},next:function(j,f){return q(j,f,"nextSibling")},prev:function(j,f){return q(j,f,"previousSibling")},siblings:function(j,f){return s(j,f,true)},children:function(j,f){return s(j,f)},contains:function(j,f){var w=false;if((j=b.get(j))&&(f=b.get(f)))if(j.contains)return j.contains(f);else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(f)&16);else for(;!w&&(f=f.parentNode);)w=f==j;return w}})});
KISSY.add("dom-create",function(b,h){function q(t,y){k(t)&&b.isPlainObject(y)&&w.attr(t,y);return t}function s(t,y){var B=null,C;if(t&&(t.push||t.item)&&t[0]){y=y||t[0].ownerDocument;B=y.createDocumentFragment();if(t.item)t=b.makeArray(t);y=0;for(C=t.length;y<C;y++)B.appendChild(t[y])}return B}function i(t){var y=t.cloneNode(true);if(z.ie<8)y.innerHTML=t.innerHTML;return y}function l(t,y,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(a);y+='<span id="'+D+'"></span>';b.available(D,function(){var E=
b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(y);)if((I=(M=F[1])?M.match(o):false)&&I[2]){F=f.createElement("script");F.src=I[2];if((H=M.match(m))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=f.getElementById(D))&&w.remove(N);b.isFunction(C)&&C()});j(t,y)}else{j(t,y);b.isFunction(C)&&C()}}function j(t,y){y=(y+"").replace(a,"");try{t.innerHTML=y}catch(B){for(;t.firstChild;)t.removeChild(t.firstChild);y&&t.appendChild(w.create(y))}}var f=
document,w=b.DOM,z=b.UA,u=z.ie,e=w._nodeTypeIs,k=w._isElementNode,n=w._isKSNode,p=f.createElement("div"),c=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,d=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;b.mix(w,{create:function(t,y,B){if(e(t,1)||e(t,3))return i(t);if(n(t))return i(t[0]);if(!(t=b.trim(t)))return null;var C=null;C=w._creators;var D,G="div",E;if(D=d.exec(t))C=(B||f).createElement(D[1]);else{if((D=c.exec(t))&&(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=
E;t=C[G](t,B).childNodes;C=t.length===1?t[0].parentNode.removeChild(t[0]):s(t,B||f)}return q(C,y)},_creators:{div:function(t,y){y=y?y.createElement("div"):p;y.innerHTML=t;return y}},html:function(t,y,B,C){if(y===h){t=b.get(t);if(k(t))return t.innerHTML}else b.each(b.query(t),function(D){k(D)&&l(D,y,B,C)})},remove:function(t){b.each(b.query(t),function(y){k(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(z.gecko||u){var g=w._creators,x=w.create,r=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in v)(function(t){g[A]=function(y,B){return x("<"+t+">"+y+"</"+t+">",null,B)}})(v[A]);if(u){g.script=function(t,y){y=y?y.createElement("div"):p;y.innerHTML="-"+t;y.removeChild(y.firstChild);return y};if(u<8)g.tbody=function(t,y){y=x("<table>"+t+"</table>",null,y);var B=y.children.tags("tbody")[0];y.children.length>1&&B&&!r.test(t)&&B.parentNode.removeChild(B);return y}}b.mix(g,{optgroup:g.option,th:g.td,
thead:g.tbody,tfoot:g.tbody,caption:g.tbody,colgroup:g.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(h,q){if((h=b.get(h))&&(q=b.get(q))&&q.parentNode)q.parentNode.insertBefore(h,q);return h},insertAfter:function(h,q){if((h=b.get(h))&&(q=b.get(q))&&q.parentNode)q.nextSibling?q.parentNode.insertBefore(h,q.nextSibling):q.parentNode.appendChild(h);return h}})});
KISSY.add("event",function(b,h){function q(c,a,d,o,m){if(b.isString(a))a=b.query(a);if(b.isArray(a)){b.each(a,function(g){p[c](g,d,o,m)});return true}if((d=b.trim(d))&&d.indexOf(e)>0){b.each(d.split(e),function(g){p[c](a,g,o,m)});return true}}function s(c){return j(c)?c[u]:-1}function i(c,a){if(!j(c))return b.error("Text or comment node is not valid event target.");try{c[u]=a}catch(d){b.error(d)}}function l(c){try{c[u]=h;delete c[u]}catch(a){}}function j(c){return c&&c.nodeType!==3&&c.nodeType!==
8}var f=document,w=f.addEventListener?function(c,a,d,o){c.addEventListener&&c.addEventListener(a,d,!!o)}:function(c,a,d){c.attachEvent&&c.attachEvent("on"+a,d)},z=f.removeEventListener?function(c,a,d,o){c.removeEventListener&&c.removeEventListener(a,d,!!o)}:function(c,a,d){c.detachEvent&&c.detachEvent("on"+a,d)},u="ksEventTargetId",e=" ",k=b.now(),n={},p={EVENT_GUID:u,special:{},add:function(c,a,d,o){if(!q("add",c,a,d,o)){var m=s(c),g,x,r,v,A;if(!(m===-1||!a||!b.isFunction(d))){if(!m){i(c,m=k++);
n[m]={target:c,events:{}}}x=n[m].events;if(!x[a]){g=((m=!c.isCustomEventTarget)||c._supportSpecialEvent)&&p.special[a]||{};r=function(t,y){if(!t||!t.fixed){t=new b.EventObject(c,t,a);b.isPlainObject(y)&&b.mix(t,y)}g.setup&&g.setup(t);return(g.handle||p._handle)(c,t,x[a].listeners)};x[a]={handle:r,listeners:[]};v=g.fix||a;A=g.capture;if(m)w(c,v,r,A);else c._addEvent&&c._addEvent(v,r,A)}x[a].listeners.push({fn:d,scope:o||c})}}},remove:function(c,a,d,o){if(!q("remove",c,a,d,o)){var m=s(c),g,x,r,v,A,
t,y;if(m!==-1)if(m&&(g=n[m]))if(g.target===c){o=o||c;g=g.events||{};if(x=g[a]){r=x.listeners;t=r.length;if(b.isFunction(d)&&t){A=v=0;for(y=[];v<t;++v)if(d!==r[v].fn||o!==r[v].scope)y[A++]=r[v];x.listeners=y;t=y.length}if(d===h||t===0){if(c.isCustomEventTarget)c._addEvent&&c._removeEvent(a,x.handle);else z(c,a,x.handle);delete g[a]}}if(a===h||b.isEmptyObject(g)){for(a in g)p.remove(c,a);delete n[m];l(c)}}}},_handle:function(c,a,d){d=d.slice(0);for(var o,m=0,g=d.length;m<g;++m){o=d[m];o=o.fn.call(o.scope||
c,a);if(o===false&&c.isCustomEventTarget||a.isImmediatePropagationStopped)break}return o},_getCache:function(c){return n[c]},_simpleAdd:w,_simpleRemove:z};p.on=p.add;b.Event=p});
KISSY.add("event-object",function(b,h){function q(l,j,f){this.currentTarget=l;this.originalEvent=j||{};if(j){this.type=j.type;this._fix()}else{this.type=f;this.target=l}this.currentTarget=l;this.fixed=true}var s=document,i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(q,
{_fix:function(){var l=this.originalEvent,j=i.length,f,w=this.currentTarget;for(w=w.nodeType===9?w:w.ownerDocument||s;j;){f=i[--j];this[f]=l[f]}if(!this.target)this.target=this.srcElement||s;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===h&&this.clientX!==h){l=w.documentElement;j=w.body;this.pageX=this.clientX+(l&&l.scrollLeft||j&&j.scrollLeft||
0)-(l&&l.clientLeft||j&&j.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||j&&j.scrollTop||0)-(l&&l.clientTop||j&&j.clientTop||0)}if(this.which===h)this.which=this.charCode!==h?this.charCode:this.keyCode;if(this.metaKey===h)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==h)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=q});
KISSY.add("event-target",function(b,h){var q=b.Event,s=q.EVENT_GUID;b.EventTarget={isCustomEventTarget:true,fire:function(i,l){if((i=((q._getCache(this[s]||-1)||{}).events||{})[i])&&b.isFunction(i.handle))return i.handle(h,l);return this},on:function(i,l,j){q.add(this,i,l,j);return this},detach:function(i,l,j){q.remove(this,i,l,j);return this}}});
KISSY.add("event-mouseenter",function(b){var h=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){h.special[q.name]={fix:q.fix,setup:function(s){s.type=q.name},handle:function(s,i,l){var j=i.relatedTarget;try{for(;j&&j!==s;)j=j.parentNode;j!==s&&h._handle(s,i,l)}catch(f){}}}})});
KISSY.add("event-focusin",function(b){var h=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(q){h.special[q.name]={fix:q.fix,capture:true,setup:function(s){s.type=q.name}}})});
KISSY.add("node",function(b){function h(i,l,j){var f;if(!(this instanceof h))return new h(i,l,j);if(i){if(s(i,1)||s(i,3))f=i;else if(b.isString(i))f=q.create(i,l,j);this[0]=f}else this.length=0}var q=b.DOM,s=q._nodeTypeIs;h.TYPE="-ks-Node";b.augment(h,{length:1,getDOMNode:function(){return this[0]},nodeType:h.TYPE});b.one=function(i,l){return(i=b.get(i,l))?new h(i):null};b.Node=h});
KISSY.add("nodelist",function(b){function h(i){if(!(this instanceof h))return new h(i);s.push.apply(this,i||[])}var q=b.DOM,s=Array.prototype;b.mix(h.prototype,{length:0,item:function(i){var l=null;if(q._isElementNode(this[i]))l=new b.Node(this[i]);return l},getDOMNodes:function(){return s.slice.call(this)},each:function(i,l){var j=this.length,f=0,w;for(w=new b.Node(this[0]);f<j&&i.call(l||w,w,f,this)!==false;w=new b.Node(this[++f]));return this}});b.all=function(i,l){return new h(b.query(i,l,true))};
b.NodeList=h});
KISSY.add("node-attach",function(b,h){function q(n,arguments,p,c){var a=[this[n?z:w]()].concat(b.makeArray(arguments));if(arguments[p]===h)return c.apply(i,a);else{c.apply(i,a);return this}}function s(n,p){b.each(n,function(c){b.each([j,f],function(a,d){a[c]=function(o){switch(p){case u:return function(){return q.call(this,d,arguments,1,o)};case e:return function(){return q.call(this,d,arguments,0,o)};case k:return function(){var m=this[d?z:w]();return(m=o.apply(i,[m].concat(b.makeArray(arguments))))?new (b[b.isArray(m)?
"NodeList":"Node"])(m):null};default:return function(){var m=this[d?z:w]();m=o.apply(i,[m].concat(b.makeArray(arguments)));return m===h?this:m}}}(i[c])})})}var i=b.DOM,l=b.Event,j=b.Node.prototype,f=b.NodeList.prototype,w="getDOMNode",z=w+"s",u=1,e=2,k=4;b.mix(j,{one:function(n){return b.one(n,this[0])},all:function(n){return b.all(n,this[0])}});s(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);s(["attr","removeAttr"],u);s(["val","text"],e);s(["css"],u);s(["width","height"],e);
s(["offset"],e);s(["scrollIntoView"]);s(["parent","next","prev","siblings","children"],k);s(["contains"]);s(["html"],e);s(["remove"]);b.each(["insertBefore","insertAfter"],function(n){j[n]=function(p){i[n].call(i,this[0],p);return this}});b.each([j,f],function(n){b.mix(n,{append:function(p){p&&b.each(this,function(c){c.appendChild(i.create(p))});return this},appendTo:function(p){if((p=b.get(p))&&p.appendChild)b.each(this,function(c){p.appendChild(c)});return this}})});b.each([j,f],function(n){b.mix(n,
b.EventTarget,{_supportSpecialEvent:true});n._addEvent=function(p,c,a){for(var d=0,o=this.length;d<o;d++)l._simpleAdd(this[d],p,c,a)};n._removeEvent=function(p,c,a){for(var d=0,o=this.length;d<o;d++)l._simpleRemove(this[d],p,c,a)};delete n.fire})});
KISSY.add("cookie",function(b){function h(l){return b.isString(l)&&l!==""}var q=document,s=encodeURIComponent,i=decodeURIComponent;b.Cookie={get:function(l){var j;if(h(l))if(l=q.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))j=l[1]?i(l[1]):"";return j},set:function(l,j,f,w,z,u){j=s(j);var e=f;if(typeof e==="number"){e=new Date;e.setTime(e.getTime()+f*864E5)}if(e instanceof Date)j+="; expires="+e.toUTCString();if(h(w))j+="; domain="+w;if(h(z))j+="; path="+z;if(u)j+="; secure";q.cookie=l+"="+j},remove:function(l,
j,f,w){this.set(l,"",0,j,f,w)}}});
KISSY.add("json",function(b){function h(u){return u<10?"0"+u:u}function q(u){l.lastIndex=0;return l.test(u)?'"'+u.replace(l,function(e){var k=w[e];return typeof k==="string"?k:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function s(u,e){var k,n,p=j,c,a=e[u];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(u);if(typeof z==="function")a=z.call(e,u,a);switch(typeof a){case "string":return q(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";j+=f;c=[];if(Object.prototype.toString.apply(a)==="[object Array]"){n=a.length;for(u=0;u<n;u+=1)c[u]=s(u,a)||"null";e=c.length===0?"[]":j?"[\n"+j+c.join(",\n"+j)+"\n"+p+"]":"["+c.join(",")+"]";j=p;return e}if(z&&typeof z==="object"){n=z.length;for(u=0;u<n;u+=1){k=z[u];if(typeof k==="string")if(e=s(k,a))c.push(q(k)+(j?": ":":")+e)}}else for(k in a)if(Object.hasOwnProperty.call(a,k))if(e=s(k,a))c.push(q(k)+(j?": ":":")+e);e=c.length===0?"{}":j?"{\n"+j+c.join(",\n"+j)+
"\n"+p+"}":"{"+c.join(",")+"}";j=p;return e}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var i=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,f,w={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;if(typeof b.stringify!=="function")b.stringify=function(u,e,k){var n;f=j="";if(typeof k==="number")for(n=0;n<k;n+=1)f+=" ";else if(typeof k==="string")f=k;if((z=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw new Error("JSON.stringify");return s("",
{"":u})};if(typeof b.parse!=="function")b.parse=function(u,e){function k(n,p){var c,a,d=n[p];if(d&&typeof d==="object")for(c in d)if(Object.hasOwnProperty.call(d,c)){a=k(d,c);if(a!==undefined)d[c]=a;else delete d[c]}return e.call(n,p,d)}u=String(u);i.lastIndex=0;if(i.test(u))u=u.replace(i,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){u=eval("("+u+")");return typeof e==="function"?k({"":u},""):u}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var h=Math,q=h.PI,s=h.pow,i=h.sin,l=1.70158,j={easeNone:function(f){return f},easeIn:function(f){return f*f},easeOut:function(f){return(2-f)*f},easeBoth:function(f){return(f*=2)<1?0.5*f*f:0.5*(1- --f*(f-2))},easeInStrong:function(f){return f*f*f*f},easeOutStrong:function(f){return 1- --f*f*f*f},easeBothStrong:function(f){return(f*=2)<1?0.5*f*f*f*f:0.5*(2-(f-=2)*f*f*f)},elasticIn:function(f){if(f===0||f===1)return f;return-(s(2,10*(f-=1))*i((f-0.075)*2*q/0.3))},
elasticOut:function(f){if(f===0||f===1)return f;return s(2,-10*f)*i((f-0.075)*2*q/0.3)+1},elasticBoth:function(f){if(f===0||(f*=2)===2)return f;if(f<1)return-0.5*s(2,10*(f-=1))*i((f-0.1125)*2*q/0.45);return s(2,-10*(f-=1))*i((f-0.1125)*2*q/0.45)*0.5+1},backIn:function(f){if(f===1)f-=0.0010;return f*f*((l+1)*f-l)},backOut:function(f){return(f-=1)*f*((l+1)*f+l)+1},backBoth:function(f){if((f*=2)<1)return 0.5*f*f*(((l*=1.525)+1)*f-l);return 0.5*((f-=2)*f*(((l*=1.525)+1)*f+l)+2)},bounceIn:function(f){return 1-
j.bounceOut(1-f)},bounceOut:function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375},bounceBoth:function(f){if(f<0.5)return j.bounceIn(f*2)*0.5;return j.bounceOut(f*2-1)*0.5+0.5}};b.Easing=j});
KISSY.add("anim",function(b,h){function q(c,a,d,o,m){if(c=b.get(c)){if(!(this instanceof q))return new q(c,a,d,o,m);var g=b.isPlainObject(d);a=a;this.domEl=c;if(b.isPlainObject(a))a=b.param(a,";").replace(/=/g,":");this.props=s(a);this.targetStyle=a;if(g)c=b.merge(p,d);else{c=b.clone(p);d&&(c.duration=u(d,10)||1);b.isString(o)&&(o=z[o]);b.isFunction(o)&&(c.easing=o);b.isFunction(m)&&(c.complete=m)}this.config=c;b.isFunction(m)&&this.on(n,m)}}function s(c){var a={},d=k.length,o;e.innerHTML='<div style="'+
c+'"></div>';for(c=e.firstChild.style;d--;)if(o=c[k[d]])a[k[d]]=i(o);return a}function i(c){var a=u(c);c=(c+"").replace(/^[-\d\.]+/,"");return isNaN(a)?{v:c,u:"",f:j}:{v:a,u:c,f:l}}function l(c,a,d){return(c+(a-c)*d).toFixed(3)}function j(c,a,d){for(var o=2,m,g,x=[],r=[];m=3,g=arguments[o-1],o--;)if(f(g,0,4)==="rgb(")for(g=g.match(/\d+/g);m--;)x.push(~~g[m]);else if(f(g,0)==="#"){if(g.length===4)g="#"+f(g,1)+f(g,1)+f(g,2)+f(g,2)+f(g,3)+f(g,3);for(;m--;)x.push(parseInt(f(g,1+m*2,2),16))}else return a;
for(;m--;){o=~~(x[m+3]+(x[m]-x[m+3])*d);r.push(o<0?0:o>255?255:o)}return"rgb("+r.join(",")+")"}function f(c,a,d){return c.substr(a,d||1)}var w=b.DOM,z=b.Easing,u=parseFloat,e=w.create("<div>"),k="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
n="complete",p={duration:1,easing:z.easeNone};b.augment(q,b.EventTarget,{run:function(){var c=this,a=c.config,d=c.domEl,o=a.duration*1E3,m=a.easing,g=b.now(),x=g+o,r=c.props,v={},A;for(A in r)v[A]=i(w.css(d,A));if(c.fire("start")!==false){c.stop();c.timer=b.later(a=function(){var t=b.now(),y=t>x?1:(t-g)/o,B,C,D;for(A in r){B=v[A];C=r[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;w.css(d,A,C.f(B.v,C.v,m(y))+C.u)}if(c.fire("step")===false||(D=t>x)){c.stop();D&&c.fire(n)}},13,true);a();return c}},stop:function(c){var a=
this.domEl,d=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=h}if(c){b.UA.ie&&d.indexOf("opacity")>-1&&w.css(a,"opacity",this.props.opacity.v);a.style.cssText+=";"+d;this.fire(n)}return this}});b.Anim=q});KISSY.add("anim-node-plugin",function(b,h){var q=b.Anim;b.each([b.Node.prototype,b.NodeList.prototype],function(s){s.animate=function(){var i=b.makeArray(arguments);b.each(this,function(l){q.apply(h,[l].concat(i)).run()});return this}})});KISSY.add("core");
