/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(a,r,s){var k={mix:function(j,d,t,w){if(!d||!j)return j;if(t===s)t=true;var m,q,v;if(w&&(v=w.length))for(m=0;m<v;m++){q=w[m];if(q in d)if(t||!(q in j))j[q]=d[q]}else for(q in d)if(t||!(q in j))j[q]=d[q];return j}},h=a&&a[r]||{},l=0;a=h.__HOST||(h.__HOST=a||{});r=a[r]=k.mix(h,k,false);r.mix(r,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var j={},d,t=arguments.length;for(d=0;d<t;d++)r.mix(j,arguments[d]);return j},augment:function(){var j=arguments,
d=j.length-2,t=j[0],w=j[d],m=j[d+1],q=1;if(!r.isArray(m)){w=m;m=s;d++}if(!r.isBoolean(w)){w=s;d++}for(;q<d;q++)r.mix(t.prototype,j[q].prototype||j[q],w,m);return t},extend:function(j,d,t,w){if(!d||!j)return j;var m=Object.create?function(f,p){return Object.create(f,{constructor:{value:p}})}:function(f,p){function e(){}e.prototype=f;var b=new e;b.constructor=p;return b},q=d.prototype,v;v=m(q,j);j.prototype=r.mix(v,j.prototype);j.superclass=m(q,d);t&&r.mix(v,t);w&&r.mix(j,w);return j},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var j=arguments,d=j.length,t=null,w,m,q,v=j[d-1]===true&&d--;for(w=0;w<d;w++){q=(""+j[w]).split(".");t=v?a:this;for(m=a[q[0]]===t?1:0;m<q.length;++m)t=t[q[m]]=t[q[m]]||{}}return t},app:function(j,d){var t=r.isString(j),w=t?a[j]||{}:j,m=0,q=r.__APP_INIT_METHODS.length;for(r.mix(w,this,true,r.__APP_MEMBERS);m<q;m++)r[r.__APP_INIT_METHODS[m]].call(w);r.mix(w,r.isFunction(d)?d():d);t&&(a[j]=w);return w},log:function(j,
d,t){if(r.Config.debug){if(t)j=t+": "+j;if(a.console!==s&&console.log)console[d&&console[d]?d:"log"](j)}},error:function(j){if(r.Config.debug)throw j;},guid:function(j){return(j||"")+l++}});r.__init();return r})(this,"KISSY");
(function(a,r){var s=a.__HOST,k=Object.prototype.toString,h=Array.prototype.indexOf,l=Array.prototype.lastIndexOf,j=Array.prototype.filter,d=String.prototype.trim,t=/^\s+|\s+$/g,w={};a.mix(a,{type:function(m){return m==null?String(m):w[k.call(m)]||"object"},isNull:function(m){return m===null},isUndefined:function(m){return m===r},isEmptyObject:function(m){for(var q in m)return false;return true},isPlainObject:function(m){return m&&k.call(m)==="[object Object]"&&"isPrototypeOf"in m},clone:function(m,
q,v){var f=m,p,e,b=v||{};if(m&&((p=a.isArray(m))||a.isPlainObject(m))){if(m["__~ks_cloned"])return b[m["__~ks_cloned"]];m["__~ks_cloned"]=f=a.guid();b[f]=m;if(p)f=q?a.filter(m,q):m.concat();else{f={};for(e in m)if(e!=="__~ks_cloned"&&m.hasOwnProperty(e)&&(!q||q.call(m,m[e],e,m)!==false))f[e]=a.clone(m[e],q,b)}}if(!v){a.each(b,function(c){if(c["__~ks_cloned"])try{delete c["__~ks_cloned"]}catch(g){c["__~ks_cloned"]=r}});b=r}return f},trim:d?function(m){return m==r?"":d.call(m)}:function(m){return m==
r?"":m.toString().replace(t,"")},substitute:function(m,q,v){if(!a.isString(m)||!a.isPlainObject(q))return m;return m.replace(v||/\\?\{([^{}]+)\}/g,function(f,p){if(f.charAt(0)==="\\")return f.slice(1);return q[p]!==r?q[p]:""})},each:function(m,q,v){var f,p=0,e=m.length,b=e===r||a.type(m)==="function";v=v||s;if(b)for(f in m){if(q.call(v,m[f],f,m)===false)break}else for(f=m[0];p<e&&q.call(v,f,p,m)!==false;f=m[++p]);return m},indexOf:h?function(m,q){return h.call(q,m)}:function(m,q){for(var v=0,f=q.length;v<
f;++v)if(q[v]===m)return v;return-1},lastIndexOf:l?function(m,q){return l.call(q,m)}:function(m,q){for(var v=q.length-1;v>=0;v--)if(q[v]===m)break;return v},unique:function(m,q){q&&m.reverse();for(var v=m.slice(),f=0,p,e;f<v.length;){for(e=v[f];(p=a.lastIndexOf(e,v))!==f;)v.splice(p,1);f+=1}q&&v.reverse();return v},inArray:function(m,q){return a.indexOf(m,q)>-1},filter:j?function(m,q,v){return j.call(m,q,v||this)}:function(m,q,v){var f=[];a.each(m,function(p,e,b){if(q.call(v||this,p,e,b))f.push(p)});
return f},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(m,q){w["[object "+m+"]"]=q=m.toLowerCase();a["is"+m]=function(v){return a.type(v)==q}})})(KISSY);
(function(a,r){function s(e){var b=typeof e;return e===null||b!=="object"&&b!=="function"}function k(e){return Array.prototype.slice.call(e)}var h=a.__HOST,l=h.document,j=l.documentElement,d=encodeURIComponent("[]"),t=false,w=[],m=false,q=/^#?([\w-]+)$/,v=/^(\w+)\[\]$/,f=/\S/;a.mix(a,{isWindow:function(e){return a.type(e)==="object"&&"setInterval"in e},makeArray:function(e){if(e===null||e===r)return[];if(a.isArray(e))return e;if(typeof e.length!=="number"||a.isString(e)||a.isFunction(e))return[e];
return k(e)},param:function(e,b){if(!a.isPlainObject(e))return"";b=b||"&";var c=[],g,n;for(g in e){n=e[g];g=encodeURIComponent(g);if(s(n))c.push(g,"=",encodeURIComponent(n+""),b);else if(a.isArray(n)&&n.length)for(var i=0,u=n.length;i<u;++i)s(n[i])&&c.push(g,d+"=",encodeURIComponent(n[i]+""),b)}c.pop();return c.join("")},unparam:function(e,b){if(typeof e!=="string"||(e=a.trim(e)).length===0)return{};for(var c={},g=e.split(b||"&"),n,i,u,y,o=0,x=g.length;o<x;++o){n=g[o].split("=");i=decodeURIComponent(n[0]);
try{u=decodeURIComponent(n[1]||"")}catch(z){u=n[1]||""}if((y=i.match(v))&&y[1]){c[y[1]]=c[y[1]]||[];c[y[1]].push(u)}else c[i]=u}return c},globalEval:function(e){if(e&&f.test(e)){var b=l.getElementsByTagName("head")[0]||j,c=l.createElement("script");c.text=e;b.insertBefore(c,b.firstChild);b.removeChild(c)}},later:function(e,b,c,g,n){b=b||0;g=g||{};var i=e,u=a.makeArray(n),y;if(a.isString(e))i=g[e];i||a.error("method undefined");e=function(){i.apply(g,u)};y=c?setInterval(e,b):setTimeout(e,b);return{id:y,
interval:c,cancel:function(){this.interval?clearInterval(y):clearTimeout(y)}}},ready:function(e){m||this._bindReady();t?e.call(h,this):w.push(e);return this},_bindReady:function(){var e=this,b=l.documentElement.doScroll,c=b?"onreadystatechange":"DOMContentLoaded",g=function(){e._fireReady()};m=true;if(l.readyState==="complete")return g();if(l.addEventListener){var n=function(){l.removeEventListener(c,n,false);g()};l.addEventListener(c,n,false);h.addEventListener("load",g,false)}else{var i=function(){if(l.readyState===
"complete"){l.detachEvent(c,i);g()}};l.attachEvent(c,i);h.attachEvent("onload",g);var u=false;try{u=h.frameElement==null}catch(y){}if(b&&u){var o=function(){try{b("left");g()}catch(x){setTimeout(o,1)}};o()}}},_fireReady:function(){if(!t){t=true;if(w){for(var e,b=0;e=w[b++];)e.call(h,this);w=null}}},available:function(e,b){if((e=(e+"").match(q)[1])&&a.isFunction(b))var c=1,g=a.later(function(){if(l.getElementById(e)&&(b()||1)||++c>500)g.cancel()},40,true)}});try{k(j.childNodes)}catch(p){k=function(e){for(var b=
[],c=e.length-1;c>=0;c--)b[c]=e[c];return b}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,r){var s=a.__HOST.document,k=s.getElementsByTagName("head")[0]||s.documentElement,h=2,l=3,j=4,d=a.mix,t=s.createElement("script").readyState?function(f,p){var e=f.onreadystatechange;f.onreadystatechange=function(){var b=f.readyState;if(b==="loaded"||b==="complete"){f.onreadystatechange=null;e&&e();p.call(this)}}}:function(f,p){f.addEventListener("load",p,false)},w=/\.css(?:\?|$)/i,m;m={add:function(f,p,e){var b=this.Env.mods,c;if(a.isString(f)&&!e&&a.isPlainObject(p)){c={};c[f]=p;f=c}if(a.isPlainObject(f)){a.each(f,
function(g,n){g.name=n;b[n]&&d(g,b[n],false)});d(b,f)}else{e=e||{};c=b[f]||{};f=e.host||c.host||f;c=b[f]||{};d(c,{name:f,status:h});if(!c.fns)c.fns=[];p&&c.fns.push(p);d(b[f]=c,e);c.attach!==false&&this.__isAttached(c.requires)&&this.__attachMod(c)}return this},use:function(f,p,e){f=f.replace(/\s+/g,"").split(",");e=e||{};var b=this,c;e=(e||0).global;var g,n=f.length,i;e&&b.__mixMods(e);if(b.__isAttached(f))p&&p(b);else{for(g=0;g<n&&(c=f[g]);g++)b.__attachModByName(c,function(){if(!i&&b.__isAttached(f)){i=
true;p&&p(b)}},e);return b}},__attachModByName:function(f,p,e){var b=this.Env.mods,c=f.indexOf("+css")!=-1;f=c?f.replace(/\+css/g,""):f;var g=b[f];if(!g){g=this.Config.componentJsName||function(n){return n+"-pkg-min.js?t=20101227132613"};g=a.isFunction(g)?g(f):g;g={path:f+"/"+g,charset:"utf-8"};b[f]=g}if(c){b=this.Config.componentCssName||function(n){return n+"-min.css?t=20101227132613"};b=a.isFunction(b)?b(f):b;g.csspath=f+"/"+b}g.name=f;g&&g.status===j||this.__attach(g,p,e)},__attach:function(f,p,e){function b(){if(!o&&
c.__isAttached(f.requires)){f.status===h&&c.__attachMod(f);if(f.status===j){o=true;p()}}}for(var c=this,g=c.Env.mods,n=(f.requires||[]).concat(),i=0,u=n.length;i<u;i++){var y=g[n[i]];y&&y.status===j||c.__attachModByName(n[i],b,e)}c.__buildPath(f);c.__load(f,function(){for(var x=f.requires||[],z=[],A=x.length-1;A>=0;A--){var C=x[A],E=g[C],D=a.inArray(C,n);E&&E.status===j||D||c.__attachModByName(C,b,e);D||z.push(C)}z.length!=0&&z.unshift(f.name);b()},e);var o=false},__mixMods:function(f){var p=this.Env.mods,
e=f.Env.mods,b;for(b in e)this.__mixMod(p,e,b,f)},__mixMod:function(f,p,e,b){var c=f[e]||{},g=c.status;a.mix(c,a.clone(p[e]));if(g)c.status=g;b&&this.__buildPath(c,b.Config.base);f[e]=c},__attachMod:function(f){var p=this;if(f.fns){a.each(f.fns,function(e){e&&e(p)});f.fns=r}f.status=j},__isAttached:function(f){for(var p=this.Env.mods,e,b=(f=a.makeArray(f)).length-1;b>=0;b--){e=f[b].replace(/\+css/,"");e=p[e]||{};if(e.status!==j)return false}return true},__load:function(f,p,e){function b(){n[g]=h;
if(f.status!==l){e&&c.__mixMod(c.Env.mods,e.Env.mods,f.name,e);if(f.status!==j)f.status=h;p()}}var c=this,g=f.fullpath,n=a.Env._loadQueue,i=n[g];f.status=f.status||0;if(f.status<1&&i)f.status=i.nodeName?1:h;if(a.isString(f.cssfullpath)){c.getScript(f.cssfullpath);f.cssfullpath=h}if(f.status<1&&g){f.status=1;i=c.getScript(g,{success:function(){KISSY.log(f.name+" is loaded.","info");b()},error:function(){f.status=l;n[g]=h},charset:f.charset});w.test(g)||(n[g]=i)}else f.status===1?t(i,b):p()},__buildPath:function(f,
p){function e(c,g){if(!f[g]&&f[c])f[g]=(p||b.base)+f[c];if(f[g]&&b.debug)f[g]=f[g].replace(/-min/g,"")}var b=this.Config;e("path","fullpath");f.cssfullpath!==h&&e("csspath","cssfullpath")},getScript:function(f,p,e){var b=w.test(f),c=s.createElement(b?"link":"script"),g=p,n,i,u;if(a.isPlainObject(g)){p=g.success;n=g.error;i=g.timeout;e=g.charset}if(b){c.href=f;c.rel="stylesheet"}else{c.src=f;c.async=true}if(e)c.charset=e;if(b)a.isFunction(p)&&p.call(c);else t(c,function(){if(u){u.cancel();u=r}a.isFunction(p)&&
p.call(c);k&&c.parentNode&&k.removeChild(c)});if(a.isFunction(n))u=a.later(function(){u=r;n()},(i||this.Config.timeout)*1E3);k.insertBefore(c,k.firstChild);return c}};d(a,m);var q=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,v=/(seed|kissy)(-min)?\.js/;a.__initLoader=function(){var f=s.getElementsByTagName("script");f=f[f.length-1];var p=f.src,e=f.getAttribute("data-combo-prefix")||"??";f=f.getAttribute("data-combo-sep")||",";f=p.split(f);var b=f[0];e=b.indexOf(e);if(e==-1)p=p.replace(q,"$1");else{p=b.substring(0,
e);e=b.substring(e+2,b.length);if(e.match(v))p+=e.replace(q,"$1");else for(e=1;e<f.length;e++){b=f[e];if(b.match(v)){p+=b.replace(q,"$1");break}}}f=p;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=f;if(!this.Config.timeout)this.Config.timeout=10};a.__initLoader();a.each(m,function(f,p){a.__APP_MEMBERS.push(p)});a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
KISSY.add("ua",function(a){var r=navigator.userAgent,s="",k="",h,l={},j=function(d){var t=0;return parseFloat(d.replace(/\./g,function(){return t++===0?".":""}))};if((h=r.match(/AppleWebKit\/([\d.]*)/))&&h[1]){l[s="webkit"]=j(h[1]);if((h=r.match(/Chrome\/([\d.]*)/))&&h[1])l[k="chrome"]=j(h[1]);else if((h=r.match(/\/([\d.]*) Safari/))&&h[1])l[k="safari"]=j(h[1]);if(/ Mobile\//.test(r))l.mobile="apple";else if(h=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=h[0].toLowerCase()}else if((h=
r.match(/Presto\/([\d.]*)/))&&h[1]){l[s="presto"]=j(h[1]);if((h=r.match(/Opera\/([\d.]*)/))&&h[1]){l[k="opera"]=j(h[1]);if((h=r.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])l[k]=j(h[1]);if((h=r.match(/Opera Mini[^;]*/))&&h)l.mobile=h[0].toLowerCase();else if((h=r.match(/Opera Mobi[^;]*/))&&h)l.mobile=h[0]}}else if((h=r.match(/MSIE\s([^;]*)/))&&h[1]){l[s="trident"]=0.1;l[k="ie"]=j(h[1]);if((h=r.match(/Trident\/([\d.]*)/))&&h[1])l[s]=j(h[1])}else if(h=r.match(/Gecko/)){l[s="gecko"]=0.1;if((h=r.match(/rv:([\d.]*)/))&&
h[1])l[s]=j(h[1]);if((h=r.match(/Firefox\/([\d.]*)/))&&h[1])l[k="firefox"]=j(h[1])}l.core=s;l.shell=k;l._numberify=j;a.UA=l});
KISSY.add("ua-extra",function(a){var r=a.UA,s=navigator.userAgent,k,h,l={},j=r._numberify;if(s.match(/360SE/))l[h="se360"]=3;else if(s.match(/Maxthon/)&&(k=window.external)){h="maxthon";try{l[h]=j(k.max_version)}catch(d){l[h]=0.1}}else if(k=s.match(/TencentTraveler\s([\d.]*)/))l[h="tt"]=k[1]?j(k[1]):0.1;else if(s.match(/TheWorld/))l[h="theworld"]=3;else if(k=s.match(/SE\s([\d.]*)/))l[h="sougou"]=k[1]?j(k[1]):0.1;h&&(l.shell=h);a.mix(r,l)});
KISSY.add("dom",function(a,r){function s(k,h){return k&&k.nodeType===h}a.DOM={_isElementNode:function(k){return s(k,1)},_isKSNode:function(k){return a.Node&&s(k,a.Node.TYPE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:s(k,9)?k.defaultView||k.parentWindow:k===r?window:false},_nodeTypeIs:s}});
KISSY.add("selector",function(a,r){function s(b,c){var g,n,i=[],u;c=k(c);if(a.isString(b)){b=a.trim(b);if(p.test(b)){if(n=h(b.slice(1),c))i=[n]}else if(g=e.exec(b)){n=g[1];u=g[2];g=g[3];if(c=n?h(n,c):c)if(g)if(!n||b.indexOf(m)!==-1)i=j(g,u,c);else{if((n=h(n,c))&&w.hasClass(n,g))i=[n]}else if(u)i=l(u,c)}else if(a.ExternalSelector)return a.ExternalSelector(b,c);else d(b)}else if(b&&(b[v]||b[f]))i=b[v]?[b[v]()]:b[f]();else if(b&&(a.isArray(b)||b&&!b.nodeType&&b.item&&b!=window))i=b;else if(b)i=[b];if(i&&
!i.nodeType&&i.item&&i!=window)i=a.makeArray(i);i.each=function(y,o){return a.each(i,y,o)};return i}function k(b){if(b===r)b=t;else if(a.isString(b)&&p.test(b))b=h(b.slice(1),t);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function h(b,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(b)}function l(b,c){return c.getElementsByTagName(b)}function j(b,c,g){g=b=g.getElementsByClassName(b);var n=0,i=0,u=b.length,y;if(c&&c!==q){g=[];for(c=c.toUpperCase();n<u;++n){y=b[n];if(y.tagName===
c)g[i++]=y}}return g}function d(b){a.error("Unsupported selector: "+b)}var t=document,w=a.DOM,m=" ",q="*",v="getDOMNode",f=v+"s",p=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=t.createElement("div");b.appendChild(t.createComment(""));if(b.getElementsByTagName(q).length>0)l=function(c,g){var n=g.getElementsByTagName(c);if(c===q){for(var i=[],u=0,y=0,o;o=n[u++];)if(o.nodeType===1)i[y++]=o;n=i}return n}})();t.getElementsByClassName||(j=t.querySelectorAll?function(b,c,
g){return g.querySelectorAll((c?c:"")+"."+b)}:function(b,c,g){c=g.getElementsByTagName(c||q);g=[];var n=0,i=0,u=c.length,y,o;for(b=m+b+m;n<u;++n){y=c[n];if((o=y.className)&&(m+o+m).indexOf(b)>-1)g[i++]=y}return g});a.query=s;a.get=function(b,c){return s(b,c)[0]||null};a.mix(w,{query:s,get:a.get,filter:function(b,c){var g=s(b),n,i,u,y=[];if(a.isString(c)&&(n=e.exec(c))&&!n[1]){i=n[2];u=n[3];c=function(o){return!(i&&o.tagName!==i.toUpperCase()||u&&!w.hasClass(o,u))}}if(a.isFunction(c))y=a.filter(g,
c);else if(c&&a.ExternalSelector)y=a.ExternalSelector._filter(b,c+"");else d(c);return y},test:function(b,c){var g=s(b);return g.length&&w.filter(g,c).length===g.length}})});
KISSY.add("dom-data",function(a,r){var s=window,k=a.DOM,h="_ks_data_"+a.now(),l={},j={},d={EMBED:1,OBJECT:1,APPLET:1};a.mix(k,{data:function(t,w,m){if(a.isPlainObject(w))for(var q in w)k.data(t,q,w[q]);else if(m===r){t=a.get(t);var v;if(!(!t||d[t.nodeName])){if(t==s)t=j;v=(q=t&&t.nodeType)?l:t;t=v[q?t[h]:h];if(a.isString(w)&&t)return t[w];return t}}else a.query(t).each(function(f){if(!(!f||d[f.nodeName])){if(f==s)f=j;var p=l,e;if(f&&f.nodeType){if(!(e=f[h]))e=f[h]=a.guid()}else{e=h;p=f}if(w&&m!==
r){p[e]||(p[e]={});p[e][w]=m}}})},removeData:function(t,w){a.query(t).each(function(m){if(m){if(m==s)m=j;var q,v=l,f,p=m&&m.nodeType;if(p)q=m[h];else{v=m;q=h}if(q){f=v[q];if(w){if(f){delete f[w];a.isEmptyObject(f)&&k.removeData(m)}}else{if(p)m.removeAttribute&&m.removeAttribute(h);else try{delete m[h]}catch(e){}p&&delete v[q]}}}})}})});
KISSY.add("dom-class",function(a,r){function s(j,d,t,w){if(!(d=a.trim(d)))return w?false:r;j=a.query(j);var m=0,q=j.length;d=d.split(h);for(var v;m<q;m++){v=j[m];if(k._isElementNode(v)){v=t(v,d,d.length);if(v!==r)return v}}if(w)return false}var k=a.DOM,h=/[\.\s]\s*\.?/,l=/[\n\t]/g;a.mix(k,{hasClass:function(j,d){return s(j,d,function(t,w,m){if(t=t.className){t=" "+t+" ";for(var q=0,v=true;q<m;q++)if(t.indexOf(" "+w[q]+" ")<0){v=false;break}if(v)return true}},true)},addClass:function(j,d){s(j,d,function(t,
w,m){var q=t.className;if(q){var v=" "+q+" ";q=q;for(var f=0;f<m;f++)if(v.indexOf(" "+w[f]+" ")<0)q+=" "+w[f];t.className=a.trim(q)}else t.className=d})},removeClass:function(j,d){s(j,d,function(t,w,m){var q=t.className;if(q)if(m){q=(" "+q+" ").replace(l," ");for(var v=0,f;v<m;v++)for(f=" "+w[v]+" ";q.indexOf(f)>=0;)q=q.replace(f," ");t.className=a.trim(q)}else t.className=""})},replaceClass:function(j,d,t){k.removeClass(j,d);k.addClass(j,t)},toggleClass:function(j,d,t){var w=a.isBoolean(t),m;s(j,
d,function(q,v,f){for(var p=0,e;p<f;p++){e=v[p];m=w?!t:k.hasClass(q,e);k[m?"removeClass":"addClass"](q,e)}})}})});
KISSY.add("dom-attr",function(a,r){var s=a.UA,k=document.documentElement,h=!k.hasAttribute,l=k.textContent!==r?"textContent":"innerText",j=a.DOM,d=j._isElementNode,t=/^(?:href|src|style)/,w=/^(?:href|src|colspan|rowspan)/,m=/\r/g,q=/^(?:radio|checkbox)/,v={readonly:"readOnly"},f={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};h&&a.mix(v,{"for":"htmlFor","class":"className"});a.mix(j,{attr:function(p,e,b,c){if(a.isPlainObject(e)){c=b;for(var g in e)j.attr(p,g,e[g],c)}else if(e=a.trim(e)){e=
e.toLowerCase();if(c&&f[e])return j[e](p,b);e=v[e]||e;if(b===r){p=a.get(p);if(!d(p))return r;var n;t.test(e)||(n=p[e]);if(n===r)n=p.getAttribute(e);if(h)if(w.test(e))n=p.getAttribute(e,2);else if(e==="style")n=p.style.cssText;return n===null?r:n}a.each(a.query(p),function(i){if(d(i))if(e==="style")i.style.cssText=b;else{if(e==="checked")i[e]=!!b;i.setAttribute(e,""+b)}})}},removeAttr:function(p,e){a.each(a.query(p),function(b){if(d(b)){j.attr(b,e,"");b.removeAttribute(e)}})},val:function(p,e){if(e===
r){var b=a.get(p);if(!d(b))return r;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var c=b.selectedIndex,g=b.options;if(c<0)return null;else if(b.type==="select-one")return j.val(g[c]);b=[];for(var n=0,i=g.length;n<i;++n)g[n].selected&&b.push(j.val(g[n]));return b}if(s.webkit&&q.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(m,"")}a.each(a.query(p),
function(u){if(u&&u.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(e))e+="";var y=a.makeArray(e),o=u.options,x;n=0;for(i=o.length;n<i;++n){x=o[n];x.selected=a.inArray(j.val(x),y)}if(!y.length)u.selectedIndex=-1}else if(d(u))u.value=e})},text:function(p,e){if(e===r){var b=a.get(p);if(d(b))return b[l]||"";else if(j._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(p),function(c){if(d(c))c[l]=e;else if(j._nodeTypeIs(c,3))c.nodeValue=e})}})});
KISSY.add("dom-style",function(a,r){function s(c,g){var n=a.get(c),i=g===t?n.offsetWidth:n.offsetHeight;a.each(g===t?["Left","Right"]:["Top","Bottom"],function(u){i-=parseFloat(h._getComputedStyle(n,"padding"+u))||0;i-=parseFloat(h._getComputedStyle(n,"border"+u+"Width"))||0});return i}function k(c,g,n){var i=n;if(n===w&&q.test(g)){i=0;if(a.inArray(h.css(c,"position"),["absolute","fixed"])){n=c[g==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)n-=m(h.css(c.offsetParent,"border-"+g+"-width"))||
0;i=n-(m(h.css(c,"margin-"+g))||0)}}return i}var h=a.DOM,l=a.UA,j=document,d=j.documentElement,t="width",w="auto",m=parseInt,q=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,f=/-([a-z])/ig,p=function(c,g){return g.toUpperCase()},e={},b={};a.mix(h,{_CUSTOM_STYLES:e,_getComputedStyle:function(c,g){var n="",i=c.ownerDocument;if(c.style)n=i.defaultView.getComputedStyle(c,null)[g];return n},css:function(c,g,n){if(a.isPlainObject(g))for(var i in g)h.css(c,i,g[i]);else{if(g.indexOf("-")>
0)g=g.replace(f,p);g=e[g]||g;if(n===r){c=a.get(c);i="";if(c&&c.style){i=g.get?g.get(c):c.style[g];if(i===""&&!g.get)i=k(c,g,h._getComputedStyle(c,g))}return i===r?"":i}else{if(n===null||n==="")n="";else if(!isNaN(new Number(n))&&v.test(g))n+="px";(g===t||g==="height")&&parseFloat(n)<0||a.each(a.query(c),function(u){if(u&&u.style){g.set?g.set(u,n):u.style[g]=n;if(n==="")u.style.cssText||u.removeAttribute("style")}})}}},width:function(c,g){if(g===r)return s(c,t);else h.css(c,t,g)},height:function(c,
g){if(g===r)return s(c,"height");else h.css(c,"height",g)},show:function(c){a.query(c).each(function(g){if(g){g.style.display=h.data(g,"display")||"";if(h.css(g,"display")==="none"){var n=g.tagName,i=b[n],u;if(!i){u=j.createElement(n);j.body.appendChild(u);i=h.css(u,"display");h.remove(u);b[n]=i}h.data(g,"display",i);g.style.display=i}}})},hide:function(c){a.query(c).each(function(g){if(g){var n=g.style,i=n.display;if(i!=="none"){i&&h.data(g,"display",i);n.display="none"}}})},toggle:function(c){a.query(c).each(function(g){if(g)g.style.display===
"none"?h.show(g):h.hide(g)})},addStyleSheet:function(c,g){var n;if(g&&(g=g.replace("#","")))n=a.get("#"+g);if(!n){n=h.create("<style>",{id:g});a.get("head").appendChild(n);if(n.styleSheet)n.styleSheet.cssText=c;else n.appendChild(j.createTextNode(c))}}});if(d.style.cssFloat!==r)e["float"]="cssFloat";else if(d.style.styleFloat!==r)e["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,r){if(a.UA.ie){var s=a.DOM,k=document,h=k.documentElement,l=s._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,d=/^-?\d/,t=/^(?:width|height)$/;try{if(h.style.opacity===r&&h.filters)l.opacity={get:function(m){var q=100;try{q=m.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(v){try{q=m.filters("alpha").opacity}catch(f){}}return q/100+""},set:function(m,q){var v=m.style,f=(m.currentStyle||0).filter||"";v.zoom=1;if(f)if(f=f.replace(/alpha\(opacity=.+\)/ig,""))f+=", ";
v.filter=f+"alpha(opacity="+q*100+")"}}}catch(w){}if(!(k.defaultView||{}).getComputedStyle&&h.currentStyle)s._getComputedStyle=function(m,q){var v=m.style,f=m.currentStyle[q];if(t.test(q))f=s[q](m)+"px";else if(!j.test(f)&&d.test(f)){var p=v.left,e=m.runtimeStyle.left;m.runtimeStyle.left=m.currentStyle.left;v.left=q==="fontSize"?"1em":f||0;f=v.pixelLeft+"px";v.left=p;m.runtimeStyle.left=e}return f}}});
KISSY.add("dom-offset",function(a,r){function s(n){var i=0,u=0,y=w(n[f]);if(n[g]){n=n[g]();i=n[p];u=n[e];if(h.mobile!=="apple"){i+=k[b](y);u+=k[c](y)}}return{left:i,top:u}}var k=a.DOM,h=a.UA,l=window,j=document,d=k._isElementNode,t=k._nodeTypeIs,w=k._getWin,m=j.compatMode==="CSS1Compat",q=Math.max,v=parseInt,f="ownerDocument",p="left",e="top",b="scrollLeft",c="scrollTop",g="getBoundingClientRect";a.mix(k,{offset:function(n,i){if(!(n=a.get(n))||!n[f])return null;if(i===r)return s(n);var u=n;if(k.css(u,
"position")==="static")u.style.position="relative";var y=s(u),o={},x,z;for(z in i){x=v(k.css(u,z),10)||0;o[z]=x+i[z]-y[z]}k.css(u,o)},scrollIntoView:function(n,i,u,y){if((n=a.get(n))&&n[f]){y=y===r?true:!!y;u=u===r?true:!!u;if(!i||i===l)return n.scrollIntoView(u);i=a.get(i);if(t(i,9))i=w(i);var o=i&&"scrollTo"in i&&i.document,x=k.offset(n),z=o?{left:k.scrollLeft(i),top:k.scrollTop(i)}:k.offset(i),A={left:x[p]-z[p],top:x[e]-z[e]};x=o?k.viewportHeight(i):i.clientHeight;z=o?k.viewportWidth(i):i.clientWidth;
var C=k[b](i),E=k[c](i),D=C+z,B=E+x,K=n.offsetHeight;n=n.offsetWidth;var J=A.left+C-(v(k.css(i,"borderLeftWidth"))||0);A=A.top+E-(v(k.css(i,"borderTopWidth"))||0);var G=J+n,F=A+K,H,I;if(K>x||A<E||u)H=A;else if(F>B)H=F-x;if(y)if(n>z||J<C||u)I=J;else if(G>D)I=G-z;if(o){if(H!==r||I!==r)i.scrollTo(I,H)}else{if(H!==r)i[c]=H;if(I!==r)i[b]=I}}}});a.each(["Left","Top"],function(n,i){var u="scroll"+n;k[u]=function(y){var o=0,x=w(y),z;if(x&&(z=x.document))o=x[i?"pageYOffset":"pageXOffset"]||z.documentElement[u]||
z.body[u];else if(d(y=a.get(y)))o=y[u];return o}});a.each(["Width","Height"],function(n){k["doc"+n]=function(i){i=i||j;return q(m?i.documentElement["scroll"+n]:i.body["scroll"+n],k["viewport"+n](i))};k["viewport"+n]=function(i){var u="inner"+n;i=w(i);var y=i.document;return u in i?i[u]:m?y.documentElement["client"+n]:y.body["client"+n]}})});
KISSY.add("dom-traversal",function(a,r){function s(j,d,t,w){if(!(j=a.get(j)))return null;if(d===r)d=1;var m=null,q,v;if(a.isNumber(d)&&d>=0){if(d===0)return j;q=0;v=d;d=function(){return++q===v}}for(;j=j[t];)if(l(j)&&(!d||h.test(j,d))&&(!w||w(j))){m=j;break}return m}function k(j,d,t){var w=[];var m=j=a.get(j);if(j&&t)m=j.parentNode;if(m){t=0;for(m=m.firstChild;m;m=m.nextSibling)if(l(m)&&m!==j&&(!d||h.test(m,d)))w[t++]=m}return w}var h=a.DOM,l=h._isElementNode;a.mix(h,{parent:function(j,d){return s(j,
d,"parentNode",function(t){return t.nodeType!=11})},next:function(j,d){return s(j,d,"nextSibling")},prev:function(j,d){return s(j,d,"previousSibling")},siblings:function(j,d){return k(j,d,true)},children:function(j,d){return k(j,d)},contains:function(j,d){var t=false;if((j=a.get(j))&&(d=a.get(d)))if(j.contains){if(d.nodeType===3){d=d.parentNode;if(d===j)return true}if(d)return j.contains(d)}else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(d)&16);else for(;!t&&(d=d.parentNode);)t=
d==j;return t}})});
KISSY.add("dom-create",function(a,r){function s(o){var x=o.cloneNode(true);if(d.ie<8)x.innerHTML=o.innerHTML;return x}function k(o,x,z,A){if(z){var C=a.guid("ks-tmp-"),E=RegExp(p);x+='<span id="'+C+'"></span>';a.available(C,function(){var D=a.get("head"),B,K,J,G,F,H;for(E.lastIndex=0;B=E.exec(x);)if((J=(K=B[1])?K.match(b):false)&&J[2]){B=l.createElement("script");B.src=J[2];if((G=K.match(c))&&G[2])B.charset=G[2];B.async=true;D.appendChild(B)}else if((H=B[2])&&H.length>0)a.globalEval(H);(F=l.getElementById(C))&&
j.remove(F);a.isFunction(A)&&A()});h(o,x)}else{h(o,x);a.isFunction(A)&&A()}}function h(o,x){x=(x+"").replace(p,"");try{o.innerHTML=x}catch(z){for(;o.firstChild;)o.removeChild(o.firstChild);x&&o.appendChild(j.create(x))}}var l=document,j=a.DOM,d=a.UA,t=d.ie,w=j._nodeTypeIs,m=j._isElementNode,q=j._isKSNode,v=l.createElement("div"),f=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;a.mix(j,{create:function(o,
x,z){if(w(o,1)||w(o,3))return s(o);if(q(o))return s(o[0]);if(!(o=a.trim(o)))return null;var A=null;A=j._creators;var C,E="div",D;if(C=e.exec(o))A=(z||l).createElement(C[1]);else{if((C=f.exec(o))&&(D=C[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;o=A[E](o,z).childNodes;if(o.length===1)z=o[0].parentNode.removeChild(o[0]);else{o=o;D=z||l;z=null;if(o&&(o.push||o.item)&&o[0]){D=D||o[0].ownerDocument;z=D.createDocumentFragment();if(o.item)o=a.makeArray(o);D=0;for(A=o.length;D<A;D++)z.appendChild(o[D])}z=
z}A=z}z=A;m(z)&&a.isPlainObject(x)&&j.attr(z,x,true);return z},_creators:{div:function(o,x){var z=x?x.createElement("div"):v;z.innerHTML=o;return z}},html:function(o,x,z,A){if(x===r){o=a.get(o);if(m(o))return o.innerHTML}else a.each(a.query(o),function(C){m(C)&&k(C,x,z,A)})},remove:function(o){a.each(a.query(o),function(x){m(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(t||d.gecko||d.webkit){var g=j._creators,n=j.create,i=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,u={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in u)(function(o){g[y]=function(x,z){return n("<"+o+">"+x+"</"+o+">",null,z)}})(u[y]);if(t){g.script=function(o,x){var z=x?x.createElement("div"):v;z.innerHTML="-"+o;z.removeChild(z.firstChild);return z};if(t<8)g.tbody=function(o,x){var z=n("<table>"+o+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!i.test(o)&&A.parentNode.removeChild(A);return z}}a.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,
caption:g.tbody,colgroup:g.tbody})}});
KISSY.add("dom-insertion",function(a){var r=a.DOM;a.mix(r,{insertBefore:function(s,k){if((s=a.get(s))&&(k=a.get(k))&&k.parentNode)k.parentNode.insertBefore(s,k);return s},insertAfter:function(s,k){if((s=a.get(s))&&(k=a.get(k))&&k.parentNode)k.nextSibling?k.parentNode.insertBefore(s,k.nextSibling):k.parentNode.appendChild(s);return s},append:function(s,k){if((s=a.get(s))&&(k=a.get(k)))k.appendChild&&k.appendChild(s)},prepend:function(s,k){if((s=a.get(s))&&(k=a.get(k)))k.firstChild?r.insertBefore(s,
k.firstChild):k.appendChild(s)}})});
KISSY.add("event",function(a,r){function s(p,e,b,c,g){if(a.isString(e))e=a.query(e);if(a.isArray(e)){a.each(e,function(n){f[p](n,b,c,g)});return true}if((b=a.trim(b))&&b.indexOf(m)>0){a.each(b.split(m),function(n){f[p](e,n,c,g)});return true}}function k(p){return p&&p.nodeType!==3&&p.nodeType!==8?j.data(p,w):-1}function h(p,e){p&&p.nodeType!==3&&p.nodeType!==8&&j.data(p,w,e)}var l=document,j=a.DOM,d=l.addEventListener?function(p,e,b,c){p.addEventListener&&p.addEventListener(e,b,!!c)}:function(p,e,
b){p.attachEvent&&p.attachEvent("on"+e,b)},t=l.removeEventListener?function(p,e,b,c){p.removeEventListener&&p.removeEventListener(e,b,!!c)}:function(p,e,b){p.detachEvent&&p.detachEvent("on"+e,b)},w="ksEventTargetId",m=" ",q=a.now(),v={},f={EVENT_GUID:w,special:{},add:function(p,e,b,c){if(!s("add",p,e,b,c)){var g=k(p),n,i,u,y,o;if(!(g===-1||!e||!a.isFunction(b))){if(!g){h(p,g=q++);v[g]={target:p,events:{}}}i=v[g].events;if(!i[e]){n=((g=!p.isCustomEventTarget)||p._supportSpecialEvent)&&f.special[e]||
{};u=function(x,z){if(!x||!x.fixed)x=new a.EventObject(p,x,e);a.isPlainObject(z)&&a.mix(x,z);n.setup&&n.setup(x);return(n.handle||f._handle)(p,x)};i[e]={handle:u,listeners:[]};y=n.fix||e;o=n.capture;g&&d(p,y,u,o)}i[e].listeners.push({fn:b,scope:c||p})}}},__getListeners:function(p,e){var b,c=[];if(b=(f.__getEvents(p)||{})[e])c=b.listeners;return c},__getEvents:function(p){var e=k(p),b;if(e!==-1)if(e&&(b=v[e]))if(b.target===p)return b.events||{}},remove:function(p,e,b,c){if(!s("remove",p,e,b,c)){var g=
f.__getEvents(p),n=k(p),i,u,y,o,x,z;if(g!==undefined){c=c||p;if(i=g[e]){u=i.listeners;y=u.length;if(a.isFunction(b)&&y){x=o=0;for(z=[];o<y;++o)if(b!==u[o].fn||c!==u[o].scope)z[x++]=u[o];i.listeners=z;y=z.length}if(b===r||y===0){if(!p.isCustomEventTarget){b=f.special[e]||{};t(p,b.fix||e,i.handle)}delete g[e]}}if(e===r||a.isEmptyObject(g)){for(e in g)f.remove(p,e);delete v[n];j.removeData(p,w)}}}},_handle:function(p,e){var b=f.__getListeners(p,e.type);b=b.slice(0);for(var c,g=0,n=b.length;g<n;++g){c=
b[g];c=c.fn.call(c.scope,e);if(c!==r){e.result=c;c===false&&e.halt()}if(e.isImmediatePropagationStopped)break}return c},_getCache:function(p){return v[p]},__getID:k,_simpleAdd:d,_simpleRemove:t};f.on=f.add;a.Event=f});
KISSY.add("event-object",function(a,r){function s(l,j,d){this.currentTarget=l;this.originalEvent=j||{};if(j){this.type=j.type;this._fix()}else{this.type=d;this.target=l}this.currentTarget=l;this.fixed=true}var k=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(s,
{_fix:function(){var l=this.originalEvent,j=h.length,d,t=this.currentTarget;for(t=t.nodeType===9?t:t.ownerDocument||k;j;){d=h[--j];this[d]=l[d]}if(!this.target)this.target=this.srcElement||k;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){l=t.documentElement;j=t.body;this.pageX=this.clientX+(l&&l.scrollLeft||j&&j.scrollLeft||
0)-(l&&l.clientLeft||j&&j.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||j&&j.scrollTop||0)-(l&&l.clientTop||j&&j.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=s});
KISSY.add("event-target",function(a,r){var s=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(k,h){var l=a.DOM.data(this,s.EVENT_GUID)||-1;if((l=((s._getCache(l)||{}).events||{})[k])&&a.isFunction(l.handle))return l.handle(r,h)},on:function(k,h,l){s.add(this,k,h,l);return this},detach:function(k,h,l){s.remove(this,k,h,l);return this}}});
KISSY.add("event-mouseenter",function(a){var r=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){r.special[s.name]={fix:s.fix,setup:function(k){k.type=s.name},handle:function(k,h){if(a.DOM._isKSNode(k))k=k[0];var l=h.relatedTarget;try{for(;l&&l!==k;)l=l.parentNode;l!==k&&r._handle(k,h)}catch(j){}}}})});
KISSY.add("event-focusin",function(a){var r=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){r.special[s.name]={fix:s.fix,capture:true,setup:function(k){k.type=s.name}}})});
KISSY.add("node",function(a){function r(k,h,l){if(!(this instanceof r))return new r(k,h,l);if(k){if(a.isString(k)){k=s.create(k,h,l);if(k.nodeType===11)return new a.NodeList(k.childNodes)}else if(k instanceof r)return k;else k=k;this[0]=k}else this.length=0}var s=a.DOM;r.TYPE="-ks-Node";a.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});a.one=function(k,h){var l=a.get(k,h);return l?new r(l):null};a.Node=r});
KISSY.add("nodelist",function(a){function r(h){if(!(this instanceof r))return new r(h);s.push.apply(this,a.makeArray(h)||[])}var s=Array.prototype,k=a.DOM._isElementNode;a.mix(r.prototype,{length:0,item:function(h){var l=null,j,d;if(k(h)){j=0;for(d=this.length;j<d;j++)if(h===this[j]){h=j;break}}if(k(this[h]))l=new a.Node(this[h]);return l},getDOMNodes:function(){return s.slice.call(this)},each:function(h,l){var j=this.length,d=0,t;for(t=new a.Node(this[0]);d<j&&h.call(l||t,t,d,this)!==false;t=new a.Node(this[++d]));
return this}});a.all=function(h,l){return new r(a.query(h,l,true))};a.NodeList=r});
KISSY.add("node-attach",function(a,r){function s(i,u,y,o){i=[this[i?b:e]()].concat(a.makeArray(u));if(u[y]===r)return o.apply(d,i);else{o.apply(d,i);return this}}function k(i,u){a.each(i,function(y){a.each([f,p],function(o,x){o[y]=function(z){switch(u){case c:return function(){return s.call(this,x,arguments,1,z)};case g:return function(){return s.call(this,x,arguments,0,z)};case n:return function(){var A=this[x?b:e]();return(A=z.apply(d,[A].concat(a.makeArray(arguments))))?new (a[a.isArray(A)?"NodeList":
"Node"])(A):null};default:return function(){var A=this[x?b:e]();A=z.apply(d,[A].concat(a.makeArray(arguments)));return A===r?this:A}}}(d[y])})})}function h(i,u,y){i&&a.each(this,function(o){var x;if(u||a.isString(i))x=d.create(i);else{if(w(i,1)||w(i,3))x=i;if(m(i))x=i[0]}d[y](x,o)});return this}function l(i,u){if((i=a.get(i))&&i.appendChild)a.each(this,function(y){d[u](y,i)});return this}function j(i,u){i.__wrap=i.__wrap||[];i.__wrap.push(u)}var d=a.DOM,t=a.Event,w=d._nodeTypeIs,m=d._isKSNode,q=a.Node,
v=a.NodeList,f=q.prototype,p=v.prototype,e="getDOMNode",b=e+"s",c=1,g=2,n=4;a.mix(f,{one:function(i){return a.one(i,this[0])},all:function(i){return a.all(i,this[0])}});k(["data","removeData"],c);k(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);k(["attr","removeAttr"],c);k(["val","text"],g);k(["css"],c);k(["width","height"],g);k(["offset"],g);k(["scrollIntoView"]);k(["parent","next","prev","siblings","children"],n);k(["contains"]);k(["html"],g);k(["remove"]);a.each(["insertBefore",
"insertAfter"],function(i){f[i]=function(u){d[i].call(d,this[0],u);return this}});a.each([f,p],function(i,u){a.each(["append","prepend"],function(y){i[y]=function(o){return h.call(this,o,u,y)};i[y+"To"]=function(o){return l.call(this,o,y)}})});a.augment(q,EventTarget,{fire:null,on:function(i,u,y){function o(z){var A=a.makeArray(arguments);A.shift();z.target=new q(z.target);A.unshift(z);return u.apply(y||x,A)}var x=this;t.add(this[0],i,o,y);j(u,o);return this},detach:function(i,u,y){if(a.isFunction(u)){u=
u.__wrap||[];for(var o=0;o<u.length;o++)t.remove(this[0],i,u[o],y)}else t.remove(this[0],i,u,y);return this}});a.augment(v,EventTarget,{fire:null});f._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(i,u){p[u]=function(y,o,x){for(var z=0;z<this.length;z++)this.item(z).on(y,o,x)}})});if(!this.JSON)this.JSON={};
(function(){function a(w){return w<10?"0"+w:w}function r(w){h.lastIndex=0;return h.test(w)?'"'+w.replace(h,function(m){var q=d[m];return typeof q==="string"?q:"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function s(w,m){var q,v,f,p,e=l,b,c=m[w];if(c&&typeof c==="object"&&typeof c.toJSON==="function")c=c.toJSON(w);if(typeof t==="function")c=t.call(m,w,c);switch(typeof c){case "string":return r(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";l+=j;b=[];if(Object.prototype.toString.apply(c)==="[object Array]"){p=c.length;for(q=0;q<p;q+=1)b[q]=s(q,c)||"null";f=b.length===0?"[]":l?"[\n"+l+b.join(",\n"+l)+"\n"+e+"]":"["+b.join(",")+"]";l=e;return f}if(t&&typeof t==="object"){p=t.length;for(q=0;q<p;q+=1){v=t[q];if(typeof v==="string")if(f=s(v,c))b.push(r(v)+(l?": ":":")+f)}}else for(v in c)if(Object.hasOwnProperty.call(c,v))if(f=s(v,c))b.push(r(v)+(l?": ":":")+f);f=b.length===0?"{}":l?"{\n"+l+b.join(",\n"+l)+
"\n"+e+"}":"{"+b.join(",")+"}";l=e;return f}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,j,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof JSON.stringify!=="function")JSON.stringify=function(w,m,q){var v;j=l="";if(typeof q==="number")for(v=0;v<q;v+=1)j+=" ";else if(typeof q==="string")j=q;if((t=m)&&typeof m!=="function"&&(typeof m!=="object"||typeof m.length!=="number"))throw Error("JSON.stringify");return s("",{"":w})};
if(typeof JSON.parse!=="function")JSON.parse=function(w,m){function q(f,p){var e,b,c=f[p];if(c&&typeof c==="object")for(e in c)if(Object.hasOwnProperty.call(c,e)){b=q(c,e);if(b!==undefined)c[e]=b;else delete c[e]}return m.call(f,p,c)}var v;w=String(w);k.lastIndex=0;if(k.test(w))w=w.replace(k,function(f){return"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){v=eval("("+w+")");return typeof m==="function"?q({"":v},""):v}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var r=window.JSON;a.JSON={parse:function(s){if(s==null||s==="")return null;return r.parse(s)},stringify:r.stringify}});
KISSY.add("ajax",function(a,r){function s(o){o=a.merge(y,o);if(o.url){if(o.data&&!a.isString(o.data))o.data=a.param(o.data);o.context=o.context||o;var x,z=c,A,C=o.type.toUpperCase();if(o.dataType===q){x=o.jsonpCallback||q+a.now();o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+(o.jsonp+"="+x);o.dataType=v;var E=l[x];l[x]=function(G){if(a.isFunction(E))E(G);else{l[x]=r;try{delete l[x]}catch(F){}}k([c,g],G,z,B,o)}}if(o.data&&C===d)o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+o.data;if(o.dataType===v){h(p,
o);C=a.getScript(o.url,x?null:function(){k([c,g],f,z,B,o)});h(e,o);return C}var D=false,B=o.xhr();h(p,o);B.open(C,o.url,o.async);try{if(o.data||o.contentType)B.setRequestHeader(w,o.contentType);B.setRequestHeader("Accept",o.dataType&&o.accepts[o.dataType]?o.accepts[o.dataType]+", */*; q=0.01":o.accepts._default)}catch(K){}B.onreadystatechange=function(G){if(!B||B.readyState===0||G==="abort"){D||k(g,null,n,B,o);D=true;if(B)B.onreadystatechange=j}else if(!D&&B&&(B.readyState===4||G===i)){D=true;B.onreadystatechange=
j;var F;if(G===i)F=i;else{a:{try{F=B.status>=200&&B.status<300||B.status===304||B.status===1223;break a}catch(H){}F=false}F=F?c:n}z=F;try{F=B;var I=o.dataType,M=f,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(w)||f;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===u)throw u;}if(a.isString(L))if(I===m||!I&&M.indexOf(m)>=0)L=a.JSON.parse(L);A=L}catch(O){z=u}k([z===c?c:n,g],A,z,B,o);if(G===i){B.abort();h(b,o)}if(o.async)B=null}};h(e,o);try{B.send(C===
t?o.data:null)}catch(J){k([n,g],A,n,B,o)}o.async||h(g,o);return B}}function k(o,x,z,A,C){if(a.isArray(o))a.each(o,function(E){k(E,x,z,A,C)});else{z===o&&C[o]&&C[o].call(C.context,x,z,A);h(o,C)}}function h(o,x){s.fire(o,{ajaxConfig:x})}var l=window,j=function(){},d="GET",t="POST",w="Content-Type",m="json",q=m+"p",v="script",f="",p="start",e="send",b="stop",c="success",g="complete",n="error",i="timeout",u="parsererror",y={type:d,url:f,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:l.ActiveXObject?function(){if(l.XmlHttpRequest)try{return new l.XMLHttpRequest}catch(o){}try{return new l.ActiveXObject("Microsoft.XMLHTTP")}catch(x){}}:function(){return new l.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(s,a.EventTarget);a.mix(s,{get:function(o,x,z,A,C){if(a.isFunction(x)){A=z;z=x}return s({type:C||d,
url:o,data:x,success:function(E,D,B){z&&z.call(this,E,D,B)},dataType:A})},post:function(o,x,z,A){if(a.isFunction(x)){A=z;z=x;x=r}return s.get(o,x,z,A,t)},jsonp:function(o,x,z){if(a.isFunction(x)){z=x;x=null}return s.get(o,x,z,q)}});s.getScript=a.getScript;a.io=a.ajax=s.ajax=s;a.jsonp=s.jsonp;a.IO=s});
KISSY.add("anim-easing",function(a){var r=Math,s=r.PI,k=r.pow,h=r.sin,l=1.70158,j={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(k(2,10*(d-=1))*h((d-0.075)*2*s/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return k(2,-10*d)*h((d-0.075)*2*s/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*k(2,10*(d-=1))*h((d-0.1125)*2*s/0.45);return k(2,-10*(d-=1))*h((d-0.1125)*2*s/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((l+1)*d-l)},backOut:function(d){return(d-=1)*d*((l+1)*d+l)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((l*=1.525)+1)*d-l);return 0.5*((d-=2)*d*(((l*=1.525)+1)*d+l)+2)},bounceIn:function(d){return 1-
j.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return j.bounceIn(d*2)*0.5;return j.bounceOut(d*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=j});
KISSY.add("anim",function(a,r){function s(b,c,g,n,i,u){if(b=a.get(b)){if(!(this instanceof s))return new s(b,c,g,n,i,u);var y=a.isPlainObject(g);c=c;this.domEl=b;if(a.isPlainObject(c))c=a.param(c,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var o={},x=v.length,z;q.innerHTML='<div style="'+c+'"></div>';for(b=q.firstChild.style;x--;)if(z=b[v[x]])o[v[x]]=l(z);this.props=o;this.targetStyle=c;if(y)y=a.merge(e,g);else{y=a.clone(e);if(g)y.duration=m(g)||1;if(a.isString(n)||
a.isFunction(n))y.easing=n;if(a.isFunction(i))y.complete=i;if(u!==r)y.nativeSupport=u}this.config=y;if(y.nativeSupport&&k()&&a.isString(n=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(n)||(n=w.NativeTimeFunction[n])){y.easing=n;this.transitionName=k()}a.isFunction(i)&&this.on(p,i)}}function k(){var b="transition",c;if(q.style[b]!==r)c=b;else a.each(["Webkit","Moz","O"],function(g){if(q.style[b=g+"Transition"]!==r){c=b;return false}});k=function(){return c};return c}function h(b,c,g){a.UA.ie&&g.indexOf(f)>
-1&&t.css(b,f,c[f].v);b.style.cssText+=";"+g}function l(b){var c=m(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(c)?{v:b,u:"",f:d}:{v:c,u:b,f:j}}function j(b,c,g){return(b+(c-b)*g).toFixed(3)}function d(b,c,g){for(var n=2,i,u,y=[],o=[];i=3,u=arguments[n-1],n--;)if(u.substr(0,4)==="rgb(")for(u=u.match(/\d+/g);i--;)y.push(~~u[i]);else if(u.substr(0,1)==="#"){if(u.length===4)u="#"+u.substr(1,1)+u.substr(1,1)+u.substr(2,1)+u.substr(2,1)+u.substr(3,1)+u.substr(3,1);for(;i--;)y.push(parseInt(u.substr(1+
i*2,2),16))}else return c;for(;i--;){n=~~(y[i+3]+(y[i]-y[i+3])*g);o.push(n<0?0:n>255?255:n)}return"rgb("+o.join(",")+")"}var t=a.DOM,w=a.Easing,m=parseFloat,q=t.create("<div>"),v="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
f="opacity",p="complete",e={duration:1,easing:"easeNone",nativeSupport:true};a.augment(s,a.EventTarget,{run:function(){var b=this,c=b.config,g=b.domEl,n,i,u,y,o=b.props,x={},z;for(z in o)x[z]=l(t.css(g,z));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{n=c.duration*1E3;u=a.now();y=u+n;i=c.easing;if(a.isString(i))i=w[i]||w.easeNone;b.timer=a.later(c=function(){var A=a.now(),C=A>y?1:(A-u)/n,E,D,B;for(z in o){E=x[z];D=o[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;t.css(g,z,
D.f(E.v,D.v,i(C))+D.u)}if(b.fire("step")===false||(B=A>y)){b.stop();B&&b.fire(p)}},13,true);c()}return b}},_nativeRun:function(){var b=this,c=b.config,g=b.domEl,n=b.props,i=c.duration*1E3;c=c.easing;var u=b.transitionName,y={};y[u+"Property"]="all";y[u+"Duration"]=i+"ms";y[u+"TimingFunction"]=c;t.css(g,y);a.later(function(){h(g,n,b.targetStyle)},0);a.later(function(){b.stop(true)},i)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=r}if(b){h(this.domEl,
this.props,this.targetStyle);this.fire(p)}}return this},_nativeStop:function(b){var c=this.domEl,g=this.transitionName,n=this.props,i;if(b){t.css(c,g+"Property","none");this.fire(p)}else{for(i in n)t.css(c,i,t._getComputedStyle(c,i));t.css(c,g+"Property","none")}}});s.supportTransition=function(){return!!k()};a.Anim=s});
KISSY.add("anim-node-plugin",function(a,r){function s(f,p,e,b,c){if(p==="toggle"){c=k.css(f,l)===j?1:0;p="show"}if(c)k.css(f,l,k.data(f,l)||"");var g={},n={};a.each(v[p],function(i){if(i===d){g[d]=k.css(f,d);k.css(f,d,t)}else if(i===w){g[w]=k.css(f,w);n.opacity=c?1:0;c&&k.css(f,w,0)}else if(i===m){g[m]=k.css(f,m);n.height=c?k.css(f,m)||f.naturalHeight:0;c&&k.css(f,m,0)}else if(i===q){g[q]=k.css(f,q);n.width=c?k.css(f,q)||f.naturalWidth:0;c&&k.css(f,q,0)}});(new a.Anim(f,n,e,"easeOut",function(){if(!c){var i=
f.style,u=i[l];if(u!==j){u&&k.data(f,l,u);i[l]=j}g[m]&&k.css(f,{height:g[m]});g[q]&&k.css(f,{height:g[q]});g[w]&&k.css(f,{height:g[w]});g[d]&&k.css(f,{height:g[d]})}b&&a.isFunction(b)&&b()})).run()}var k=a.DOM,h=a.Anim,l="display",j="none",d="overflow",t="hidden",w="opacity",m="height",q="width",v={show:[d,w,m,q],fade:[w],slide:[d,m]};a.each([a.Node.prototype,a.NodeList.prototype],function(f){f.animate=function(){var p=a.makeArray(arguments);a.each(this,function(e){h.apply(r,[e].concat(p)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(p,e){f[e]=function(b,c){k[e]&&arguments.length===0?k[e](this):a.each(this,function(g){s(g,p[0],b,c,p[1])});return this}})})});
KISSY.add("cookie",function(a){var r=document,s=encodeURIComponent,k=decodeURIComponent;a.Cookie={get:function(h){var l;if(a.isString(h)&&h!=="")if(h=r.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))l=h[1]?k(h[1]):"";return l},set:function(h,l,j,d,t,w){l=s(l);var m=j;if(typeof m==="number"){m=new Date;m.setTime(m.getTime()+j*864E5)}if(m instanceof Date)l+="; expires="+m.toUTCString();if(a.isString(d)&&d!=="")l+="; domain="+d;if(a.isString(t)&&t!=="")l+="; path="+t;if(w)l+="; secure";r.cookie=h+
"="+l},remove:function(h,l,j,d){this.set(h,"",0,l,j,d)}}});
KISSY.add("attribute",function(a,r){function s(){this.__attrs={};this.__attrVals={}}function k(h){h+="";return h.charAt(0).toUpperCase()+h.substring(1)}a.augment(s,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(h,l){this.__attrs[h]=a.clone(l||{});return this},hasAttr:function(h){return h&&this.__attrs.hasOwnProperty(h)},removeAttr:function(h){if(this.hasAttr(h)){delete this.__attrs[h];delete this.__attrVals[h]}return this},set:function(h,l){var j=this.get(h);if(j!==l)if(false!==
this.__fireAttrChange("before",h,j,l)){this.__set(h,l);this.__fireAttrChange("after",h,j,this.__attrVals[h]);return this}},__fireAttrChange:function(h,l,j,d){return this.fire(h+k(l)+"Change",{attrName:l,prevVal:j,newVal:d})},__set:function(h,l){var j,d=this.__attrs[h];if(d=d&&d.setter)j=d.call(this,l);if(j!==r)l=j;this.__attrVals[h]=l},get:function(h){var l;l=(l=this.__attrs[h])&&l.getter;h=h in this.__attrVals?this.__attrVals[h]:this.__getDefAttrVal(h);if(l)h=l.call(this,h);return h},__getDefAttrVal:function(h){h=
this.__attrs[h];var l;if(h){if(l=h.valueFn){l=l.call(this);if(l!==r)h.value=l;delete h.valueFn}return h.value}},reset:function(h){if(this.hasAttr(h))return this.set(h,this.__getDefAttrVal(h));for(h in this.__attrs)this.hasAttr(h)&&this.reset(h);return this}});a.Attribute=s;s.__capitalFirst=k});
KISSY.add("base",function(a){function r(s){a.Attribute.call(this);for(var k=this.constructor;k;){var h=k.ATTRS;if(h){var l=void 0;for(l in h)h.hasOwnProperty(l)&&!this.hasAttr(l)&&this.addAttr(l,h[l])}k=k.superclass?k.superclass.constructor:null}if(s)for(var j in s)s.hasOwnProperty(j)&&this.__set(j,s[j])}a.augment(r,a.EventTarget,a.Attribute);a.Base=r});KISSY.add("core");
