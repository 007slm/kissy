/*
Copyright 2010, KISSY UI Library v1.1.4
MIT Licensed
build time: Sep 14 17:57
*/
(function(b,i,q){if(b[i]===q)b[i]={};i=b[i];var p=b.document,h=location,l=function(d,j,o,t){if(!j||!d)return d;if(o===q)o=true;var g,c,a;if(t&&(a=t.length))for(g=0;g<a;g++){c=t[g];if(c in j)if(o||!(c in d))d[c]=j[c]}else for(c in j)if(o||!(c in d))d[c]=j[c];return d},n=false,f=[],w=false,y=/^#?([\w-]+)$/,u=0;l(i,{version:"1.1.4",__init:function(){this.Env={mods:{},_loadQueue:{}};var d=p.getElementsByTagName("script");this.Config={debug:"",base:d[d.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(d){w||this._bindReady();n?d.call(b,this):f.push(d);return this},_bindReady:function(){var d=this,j=p.documentElement.doScroll,o=j?"onreadystatechange":"DOMContentLoaded",t=function(){d._fireReady()};w=true;if(p.readyState==="complete")return t();if(p.addEventListener){var g=function(){p.removeEventListener(o,g,false);t()};p.addEventListener(o,g,false);b.addEventListener("load",t,false)}else{var c=function(){if(p.readyState==="complete"){p.detachEvent(o,c);t()}};p.attachEvent(o,
c);b.attachEvent("onload",t);if(b==b.top){var a=function(){try{j("left");t()}catch(k){setTimeout(a,1)}};a()}}},_fireReady:function(){if(!n){n=true;if(f){for(var d,j=0;d=f[j++];)d.call(b,this);f=null}}},available:function(d,j){if((d=(d+"").match(y)[1])&&i.isFunction(j))var o=1,t=i.later(function(){if(p.getElementById(d)&&(j()||1)||++o>500)t.cancel()},40,true)},mix:l,merge:function(){var d={},j,o=arguments.length;for(j=0;j<o;++j)l(d,arguments[j]);return d},augment:function(){var d=arguments,j=d.length-
2,o=d[0],t=d[j],g=d[j+1],c=1;if(!i.isArray(g)){t=g;g=q;j++}if(!i.isBoolean(t)){t=q;j++}for(;c<j;c++)l(o.prototype,d[c].prototype||d[c],t,g);return o},extend:function(d,j,o,t){if(!j||!d)return d;var g=Object.prototype,c=j.prototype,a=function(k){function m(){}m.prototype=k;return new m}(c);d.prototype=a;a.constructor=d;d.superclass=c;if(j!==Object&&c.constructor===g.constructor)c.constructor=j;o&&l(a,o);t&&l(d,t);return d},namespace:function(){var d=arguments.length,j=null,o,t,g;for(o=0;o<d;++o){g=
(""+arguments[o]).split(".");j=this;for(t=b[g[0]]===j?1:0;t<g.length;++t)j=j[g[t]]=j[g[t]]||{}}return j},app:function(d,j){var o=i.isString(d),t=o?b[d]||{}:d;l(t,this,true,i.__APP_MEMBERS);t.__init();l(t,i.isFunction(j)?j():j);o&&(b[d]=t);return t},log:function(d,j,o){if(i.Config.debug){if(o)d=o+": "+d;if(b.console!==q&&console.log)console[j&&console[j]?j:"log"](d)}},error:function(d){if(i.Config.debug)throw d;},guid:function(d){var j=u++ +"";return d?d+j:j}});i.__init();i.__APP_MEMBERS=["__init",
"namespace"];if(h&&(h.search||"").indexOf("ks-debug")!==-1)i.Config.debug=true})(window,"KISSY");
(function(b,i,q){function p(e){var s=typeof e;return e===null||s!=="object"&&s!=="function"}function h(e){return f.slice.call(e)}var l=document,n=l.documentElement,f=Array.prototype,w=f.indexOf,y=f.lastIndexOf,u=f.filter,d=String.prototype.trim,j=Object.prototype.toString,o=encodeURIComponent,t=decodeURIComponent,g=o("[]"),c=/^\s+|\s+$/g,a=/^(\w+)\[\]$/,k=/\S/;i.mix(i,{isUndefined:function(e){return e===q},isBoolean:function(e){return j.call(e)==="[object Boolean]"},isString:function(e){return j.call(e)===
"[object String]"},isNumber:function(e){return j.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&j.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var s in e)return false;return true},isFunction:function(e){return j.call(e)==="[object Function]"},isArray:function(e){return j.call(e)==="[object Array]"},trim:d?function(e){return e==q?"":d.call(e)}:function(e){return e==q?"":e.toString().replace(c,"")},substitute:function(e,s,r){if(!i.isString(e)||
!i.isPlainObject(s))return e;return e.replace(r||/\\?\{([^{}]+)\}/g,function(v,A){if(v.charAt(0)==="\\")return v.slice(1);return s[A]!==q?s[A]:""})},each:function(e,s,r){var v,A=0,x=e.length,z=x===q||i.isFunction(e);r=r||b;if(z)for(v in e){if(s.call(r,e[v],v,e)===false)break}else for(v=e[0];A<x&&s.call(r,v,A,e)!==false;v=e[++A]);return e},indexOf:w?function(e,s){return w.call(s,e)}:function(e,s){for(var r=0,v=s.length;r<v;++r)if(s[r]===e)return r;return-1},lastIndexOf:y?function(e,s){return y.call(s,
e)}:function(e,s){for(var r=s.length-1;r>=0;r--)if(s[r]===e)break;return r},unique:function(e,s){s&&e.reverse();e=e.slice();for(var r=0,v,A;r<e.length;){for(A=e[r];(v=i.lastIndexOf(A,e))!==r;)e.splice(v,1);r+=1}s&&e.reverse();return e},inArray:function(e,s){return i.indexOf(e,s)>-1},makeArray:function(e){if(e===null||e===q)return[];if(i.isArray(e))return e;if(typeof e.length!=="number"||i.isString(e)||i.isFunction(e))return[e];return h(e)},filter:u?function(e,s,r){return u.call(e,s,r)}:function(e,
s,r){var v=[];i.each(e,function(A,x,z){s.call(r,A,x,z)&&v.push(A)});return v},param:function(e,s){if(!i.isPlainObject(e))return"";s=s||"&";var r=[],v,A;for(v in e){A=e[v];v=o(v);if(p(A))r.push(v,"=",o(A+""),s);else if(i.isArray(A)&&A.length)for(var x=0,z=A.length;x<z;++x)p(A[x])&&r.push(v,g+"=",o(A[x]+""),s)}r.pop();return r.join("")},unparam:function(e,s){if(typeof e!=="string"||(e=i.trim(e)).length===0)return{};var r={};e=e.split(s||"&");for(var v,A,x,z=0,B=e.length;z<B;++z){s=e[z].split("=");v=
t(s[0]);try{A=t(s[1]||"")}catch(C){A=s[1]||""}if((x=v.match(a))&&x[1]){r[x[1]]=r[x[1]]||[];r[x[1]].push(A)}else r[v]=A}return r},later:function(e,s,r,v,A){s=s||0;v=v||{};var x=e,z=i.makeArray(A),B;if(i.isString(e))x=v[e];x||i.error("method undefined");e=function(){x.apply(v,z)};B=r?setInterval(e,s):setTimeout(e,s);return{id:B,interval:r,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var s=e,r,v;if(e&&((r=i.isArray(e))||i.isPlainObject(e))){s=r?[]:{};for(v in e)if(e.hasOwnProperty(v))s[v]=
i.clone(e[v])}return s},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&k.test(e)){var s=l.getElementsByTagName("head")[0]||n,r=l.createElement("script");r.text=e;s.insertBefore(r,s.firstChild);s.removeChild(r)}}});try{h(n.childNodes)}catch(m){h=function(e){for(var s=[],r=e.length-1;r>=0;r--)s[r]=e[r];return s}}})(window,KISSY);
(function(b,i,q){var p=b.document,h=p.getElementsByTagName("head")[0]||p.documentElement,l=2,n=3,f=4,w=i.mix,y=p.createElement("script").readyState?function(d,j){var o=d.onreadystatechange;d.onreadystatechange=function(){var t=d.readyState;if(t==="loaded"||t==="complete"){d.onreadystatechange=null;o&&o();j.call(this)}}}:function(d,j){d.addEventListener("load",j,false)},u=/\.css(?:\?|$)/i;b={add:function(d,j,o){var t=this.Env.mods,g;if(i.isString(d)&&!o&&i.isPlainObject(j)){g={};g[d]=j;d=g}if(i.isPlainObject(d)){i.each(d,
function(c,a){c.name=a;t[a]&&w(c,t[a],false)});w(t,d)}else{o=o||{};g=t[d]||{};d=o.host||g.host||d;g=t[d]||{};w(g,{name:d,status:l});if(!g.fns)g.fns=[];j&&g.fns.push(j);w(t[d]=g,o);g.attach!==false&&this.__isAttached(g.requires)&&this.__attachMod(g)}return this},use:function(d,j,o){d=d.replace(/\s+/g,"").split(",");o=o||{};var t=this,g=t.Env.mods,c=(o||0).global,a,k=d.length,m,e,s;c&&t.__mixMods(c);if(t.__isAttached(d))j&&j(t);else{for(a=0;a<k&&(m=g[d[a]]);a++)if(m.status!==f){if(o.order&&a>0){if(!m.requires)m.requires=
[];m._requires=m.requires.concat();e=d[a-1];if(!i.inArray(e,m.requires)&&!i.inArray(m.name,g[e].requires||[]))m.requires.push(e)}t.__attach(m,function(){if(!s&&t.__isAttached(d)){s=true;if(m._requires)m.requires=m._requires;j&&j(t)}},c)}return t}},__attach:function(d,j,o){function t(){if(g.__isAttached(c)){d.status===l&&g.__attachMod(d);d.status===f&&j()}}for(var g=this,c=d.requires||[],a=0,k=c.length;a<k;a++)g.__attach(g.Env.mods[c[a]],t,o);g.__buildPath(d);g.__load(d,t,o)},__mixMods:function(d){var j=
this.Env.mods,o=d.Env.mods,t;for(t in o)this.__mixMod(j,o,t,d)},__mixMod:function(d,j,o,t){var g=d[o]||{},c=g.status;i.mix(g,i.clone(j[o]));if(c)g.status=c;t&&this.__buildPath(g,t.Config.base);d[o]=g},__attachMod:function(d){var j=this;if(d.fns){i.each(d.fns,function(o){o&&o(j)});d.fns=q}d.status=f},__isAttached:function(d){for(var j=this.Env.mods,o,t=(d=i.makeArray(d)).length-1;t>=0&&(o=j[d[t]]);t--)if(o.status!==f)return false;return true},__load:function(d,j,o){function t(){g();if(d.status!==n){o&&
c.__mixMod(c.Env.mods,o.Env.mods,d.name,o);if(d.status!==f)d.status=l;j()}}function g(){k[a]=l}var c=this,a=d.fullpath,k=i.Env._loadQueue,m=k[a];d.status=d.status||0;if(d.status<1&&m)d.status=m.nodeName?1:l;if(i.isString(d.cssfullpath)){c.getScript(d.cssfullpath);d.cssfullpath=l}if(d.status<1&&a){d.status=1;m=c.getScript(a,{success:function(){KISSY.log(d.name+" is loaded.","info");t()},error:function(){d.status=n;g()},charset:d.charset});u.test(a)||(k[a]=m)}else d.status===1?y(m,t):j()},__buildPath:function(d,
j){function o(g,c){if(!d[c]&&d[g])d[c]=(j||t.base)+d[g];if(d[c]&&t.debug)d[c]=d[c].replace(/-min/g,"")}var t=this.Config;o("path","fullpath");d.cssfullpath!==l&&o("csspath","cssfullpath")},getScript:function(d,j,o){var t=u.test(d),g=p.createElement(t?"link":"script"),c=j,a,k,m;if(i.isPlainObject(c)){j=c.success;a=c.error;k=c.timeout;o=c.charset}if(t){g.href=d;g.rel="stylesheet"}else{g.src=d;g.async=true}if(o)g.charset=o;if(i.isFunction(j))t?j.call(g):y(g,function(){if(m){m.cancel();m=q}j.call(g)});
if(i.isFunction(a))m=i.later(function(){m=q;a()},(k||this.Config.timeout)*1E3);h.insertBefore(g,h.firstChild);return g}};w(i,b);i.each(b,function(d,j){i.__APP_MEMBERS.push(j)})})(window,KISSY);(function(b){var i={core:{path:"packages/core-min.js",charset:"utf-8"}};b.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom"],function(q){i[q]={path:q+"/"+q+"-pkg-min.js",requires:["core"],charset:"utf-8"}});b.add(i)})(KISSY);
KISSY.add("ua",function(b){var i=navigator.userAgent,q="",p="",h,l={},n=function(f){var w=0;return parseFloat(f.replace(/\./g,function(){return w++===0?".":""}))};if((h=i.match(/AppleWebKit\/([\d.]*)/))&&h[1]){l[q="webkit"]=n(h[1]);if((h=i.match(/Chrome\/([\d.]*)/))&&h[1])l[p="chrome"]=n(h[1]);else if((h=i.match(/\/([\d.]*) Safari/))&&h[1])l[p="safari"]=n(h[1]);if(/ Mobile\//.test(i))l.mobile="apple";else if(h=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=h[0].toLowerCase()}else if((h=
i.match(/Presto\/([\d.]*)/))&&h[1]){l[q="presto"]=n(h[1]);if((h=i.match(/Opera\/([\d.]*)/))&&h[1]){l[p="opera"]=n(h[1]);if((h=i.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])l[p]=n(h[1]);if((h=i.match(/Opera Mini[^;]*/))&&h)l.mobile=h[0].toLowerCase();else if((h=i.match(/Opera Mobi[^;]*/))&&h)l.mobile=h[0]}}else if((h=i.match(/MSIE\s([^;]*)/))&&h[1]){l[q="trident"]=0.1;l[p="ie"]=n(h[1]);if((h=i.match(/Trident\/([\d.]*)/))&&h[1])l[q]=n(h[1])}else if(h=i.match(/Gecko/)){l[q="gecko"]=0.1;if((h=i.match(/rv:([\d.]*)/))&&
h[1])l[q]=n(h[1]);if((h=i.match(/Firefox\/([\d.]*)/))&&h[1])l[p="firefox"]=n(h[1])}l.core=q;l.shell=p;l._numberify=n;b.UA=l});
KISSY.add("ua-extra",function(b){var i=b.UA,q=navigator.userAgent,p,h,l={},n=i._numberify;if(q.match(/360SE/))l[h="se360"]=3;else if(q.match(/Maxthon/)&&(p=window.external)){h="maxthon";try{l[h]=n(p.max_version)}catch(f){l[h]=0.1}}else if(p=q.match(/TencentTraveler\s([\d.]*)/))l[h="tt"]=p[1]?n(p[1]):0.1;else if(q.match(/TheWorld/))l[h="theworld"]=3;else if(p=q.match(/SE\s([\d.]*)/))l[h="sougou"]=p[1]?n(p[1]):0.1;h&&(l.shell=h);b.mix(i,l)});
KISSY.add("dom",function(b,i){function q(p,h){return p&&p.nodeType===h}b.DOM={_isElementNode:function(p){return q(p,1)},_isKSNode:function(p){return b.Node&&q(p,b.Node.TYPE)},_getWin:function(p){return p&&"scrollTo"in p&&p.document?p:q(p,9)?p.defaultView||p.parentWindow:p===i?window:false},_nodeTypeIs:q}});
KISSY.add("selector",function(b,i){function q(a,k){var m,e=[],s,r;k=h(k);if(b.isString(a)){a=b.trim(a);if(g.test(a)){if(a=l(a.slice(1),k))e=[a]}else if(m=c.exec(a)){s=m[1];r=m[2];m=m[3];if(k=s?l(s,k):k)if(m)if(!s||a.indexOf(d)!==-1)e=f(m,r,k);else{if((a=l(s,k))&&u.hasClass(a,m))e=[a]}else if(r)e=n(r,k)}else if(b.ExternalSelector)return b.ExternalSelector(a,k);else w(a)}else if(a&&(a[o]||a[t]))e=a[o]?[a[o]()]:a[t]();else if(a&&(b.isArray(a)||p(a)))e=a;else if(a)e=[a];if(p(e))e=b.makeArray(e);e.each=
function(v,A){return b.each(e,v,A)};return e}function p(a){return a&&!a.nodeType&&(a.namedItem||b.isFunction(a.item))}function h(a){if(a===i)a=y;else if(b.isString(a)&&g.test(a))a=l(a.slice(1),y);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function l(a,k){if(k.nodeType!==9)k=k.ownerDocument;return k.getElementById(a)}function n(a,k){return k.getElementsByTagName(a)}function f(a,k,m){m=a=m.getElementsByClassName(a);var e=0,s=0,r=a.length,v;if(k&&k!==j){m=[];for(k=k.toUpperCase();e<r;++e){v=
a[e];if(v.tagName===k)m[s++]=v}}return m}function w(a){b.error("Unsupported selector: "+a)}var y=document,u=b.DOM,d=" ",j="*",o="getDOMNode",t=o+"s",g=/^#[\w-]+$/,c=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=y.createElement("div");a.appendChild(y.createComment(""));if(a.getElementsByTagName(j).length>0)n=function(k,m){m=m.getElementsByTagName(k);if(k===j){k=[];for(var e=0,s=0,r;r=m[e++];)if(r.nodeType===1)k[s++]=r;m=k}return m}})();y.getElementsByClassName||(f=y.querySelectorAll?
function(a,k,m){return m.querySelectorAll((k?k:"")+"."+a)}:function(a,k,m){k=m.getElementsByTagName(k||j);m=[];var e=0,s=0,r=k.length,v,A;for(a=d+a+d;e<r;++e){v=k[e];if((A=v.className)&&(d+A+d).indexOf(a)>-1)m[s++]=v}return m});b.query=q;b.get=function(a,k){return q(a,k)[0]||null};b.mix(u,{query:q,get:b.get,filter:function(a,k){var m=q(a),e,s,r,v=[];if(b.isString(k)&&(e=c.exec(k))&&!e[1]){s=e[2];r=e[3];k=function(A){return!(s&&A.tagName!==s.toUpperCase()||r&&!u.hasClass(A,r))}}if(b.isFunction(k))v=
b.filter(m,k);else if(k&&b.ExternalSelector)v=b.ExternalSelector._filter(a,k);else w(k);return v},test:function(a,k){a=q(a);return u.filter(a,k).length===a.length}})});
KISSY.add("dom-data",function(b,i){function q(y){return y&&y.nodeType}var p=window,h=b.DOM,l="_ks_data_"+b.now(),n={},f={},w={EMBED:1,OBJECT:1,APPLET:1};b.mix(h,{data:function(y,u,d){if(b.isPlainObject(u))for(var j in u)h.data(y,j,u[j]);else if(d===i){y=b.get(y);if(y==p)y=f;j=q(y);y=(j?n:y)[j?y[l]:l];if(b.isString(u)&&y)return y[u];return y}else b.query(y).each(function(o){if(!(!o||w[o.nodeName])){if(o==p)o=f;var t=n,g;if(q(o)){if(!(g=o[l]))g=o[l]=b.guid()}else{g=l;t=o}if(u&&d!==i){t[g]||(t[g]={});
t[g][u]=d}}})},removeData:function(y,u){b.query(y).each(function(d){if(d){if(d==p)d=f;var j,o=n,t,g=q(d);if(g)j=d[l];else{o=d;j=l}if(j){t=o[j];if(u){if(t){delete t[u];b.isEmptyObject(t)&&h.removeData(d)}}else{if(g)d.removeAttribute&&d.removeAttribute(l);else try{delete d[l]}catch(c){}g&&delete o[j]}}}})}})});
KISSY.add("dom-class",function(b,i){function q(n,f,w,y){if(!(f=b.trim(f)))return y?false:i;n=b.query(n);var u=0,d=n.length;f=f.split(h);for(var j;u<d;u++){j=n[u];if(p._isElementNode(j)){j=w(j,f,f.length);if(j!==i)return j}}if(y)return false}var p=b.DOM,h=/[\.\s]\s*\.?/,l=/[\n\t]/g;b.mix(p,{hasClass:function(n,f){return q(n,f,function(w,y,u){if(w=w.className){w=" "+w+" ";for(var d=0,j=true;d<u;d++)if(w.indexOf(" "+y[d]+" ")<0){j=false;break}if(j)return true}},true)},addClass:function(n,f){q(n,f,function(w,
y,u){var d=w.className;if(d){var j=" "+d+" ";d=d;for(var o=0;o<u;o++)if(j.indexOf(" "+y[o]+" ")<0)d+=" "+y[o];w.className=b.trim(d)}else w.className=f})},removeClass:function(n,f){q(n,f,function(w,y,u){var d=w.className;if(d)if(u){d=(" "+d+" ").replace(l," ");for(var j=0,o;j<u;j++)for(o=" "+y[j]+" ";d.indexOf(o)>=0;)d=d.replace(o," ");w.className=b.trim(d)}else w.className=""})},replaceClass:function(n,f,w){p.removeClass(n,f);p.addClass(n,w)},toggleClass:function(n,f,w){var y=b.isBoolean(w),u;q(n,
f,function(d,j,o){for(var t=0,g;t<o;t++){g=j[t];u=y?!w:p.hasClass(d,g);p[u?"removeClass":"addClass"](d,g)}})}})});
KISSY.add("dom-attr",function(b,i){function q(g,c){return c&&c.nodeName.toUpperCase()===g.toUpperCase()}var p=b.UA,h=p.ie,l=h&&h<8,n=document.documentElement.textContent!==i?"textContent":"innerText",f=b.DOM,w=f._isElementNode,y=function(g){return f._nodeTypeIs(g,3)},u=/href|src|style/,d=/href|src|colspan|rowspan/,j=/\r/g,o=/radio|checkbox/,t={readonly:"readOnly"};l&&b.mix(t,{"for":"htmlFor","class":"className"});b.mix(f,{attr:function(g,c,a){if(b.isPlainObject(c))for(var k in c)f.attr(g,k,c[k]);
else if(c=b.trim(c)){c=c.toLowerCase();c=t[c]||c;if(a===i){g=b.get(g);if(!w(g))return i;var m;u.test(c)||(m=g[c]);if(m===i)m=g.getAttribute(c);if(l)if(d.test(c))m=g.getAttribute(c,2);else if(c==="style")m=g.style.cssText;return m===null?i:m}b.each(b.query(g),function(e){if(w(e))if(c==="style")e.style.cssText=a;else{if(c==="checked")e[c]=!!a;e.setAttribute(c,""+a)}})}},removeAttr:function(g,c){b.each(b.query(g),function(a){if(w(a)){f.attr(a,c,"");a.removeAttribute(c)}})},val:function(g,c){if(c===i){var a=
b.get(g);if(!w(a))return i;if(q("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(q("select",a)){var k=a.selectedIndex;g=a.options;if(k<0)return null;else if(a.type==="select-one")return f.val(g[k]);a=[];for(var m=0,e=g.length;m<e;++m)g[m].selected&&a.push(f.val(g[m]));return a}if(p.webkit&&o.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(j,"")}b.each(b.query(g),function(s){if(q("select",s)){if(b.isNumber(c))c+="";var r=b.makeArray(c),
v=s.options,A;m=0;for(e=v.length;m<e;++m){A=v[m];A.selected=b.inArray(f.val(A),r)}if(!r.length)s.selectedIndex=-1}else if(w(s))s.value=c})},text:function(g,c){if(c===i){g=b.get(g);if(w(g))return g[n]||"";else if(y(g))return g.nodeValue}else b.each(b.query(g),function(a){if(w(a))a[n]=c;else if(y(a))a.nodeValue=c})}})});
KISSY.add("dom-style",function(b,i){function q(c,a){var k=b.get(c),m=a===w?k.offsetWidth:k.offsetHeight;b.each(a===w?["Left","Right"]:["Top","Bottom"],function(e){m-=parseFloat(h._getComputedStyle(k,"padding"+e))||0;m-=parseFloat(h._getComputedStyle(k,"border"+e+"Width"))||0});return m}function p(c,a,k){var m=k;if(k===y&&d.test(a)){m=0;if(h.css(c,"position")==="absolute"){k=c[a==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)k-=u(h.css(c.offsetParent,"border-"+a+"-width"))||0;m=k-(u(h.css(c,
"margin-"+a))||0)}}return m}var h=b.DOM,l=b.UA,n=document,f=n.documentElement,w="width",y="auto",u=parseInt,d=/^left|top$/,j=/width|height|top|left|right|bottom|margin|padding/i,o=/-([a-z])/ig,t=function(c,a){return a.toUpperCase()},g={};b.mix(h,{_CUSTOM_STYLES:g,_getComputedStyle:function(c,a){var k="",m=c.ownerDocument;if(c.style)k=m.defaultView.getComputedStyle(c,null)[a];return k},css:function(c,a,k){if(b.isPlainObject(a))for(var m in a)h.css(c,m,a[m]);else{if(a.indexOf("-")>0)a=a.replace(o,t);
a=g[a]||a;if(k===i){c=b.get(c);m="";if(c&&c.style){m=a.get?a.get(c):c.style[a];if(m===""&&!a.get)m=p(c,a,h._getComputedStyle(c,a))}return m===i?"":m}else{if(k===null||k==="")k="";else if(!isNaN(new Number(k))&&j.test(a))k+="px";(a===w||a==="height")&&parseFloat(k)<0||b.each(b.query(c),function(e){if(e&&e.style){a.set?a.set(e,k):(e.style[a]=k);if(k==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(c,a){if(a===i)return q(c,w);else h.css(c,w,a)},height:function(c,a){if(a===i)return q(c,
"height");else h.css(c,"height",a)},show:function(c){b.query(c).each(function(a){a.style.display=h.data(a,"display")||""})},hide:function(c){b.query(c).each(function(a){var k=a.style,m=k.display;if(m!=="none"){m&&h.data(a,"display",m);k.display="none"}})},toggle:function(c){b.query(c).each(function(a){if(a)a.style.display==="none"?h.show(a):h.hide(a)})},addStyleSheet:function(c,a){var k;if(a)k=b.get("#"+a);if(!k){k=h.create("<style>",{id:a});b.get("head").appendChild(k);if(k.styleSheet)k.styleSheet.cssText=
c;else k.appendChild(n.createTextNode(c))}}});if(f.style.cssFloat!==i)g["float"]="cssFloat";else if(f.style.styleFloat!==i)g["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,i){if(b.UA.ie){var q=b.DOM;b=document;var p=b.documentElement,h=q._CUSTOM_STYLES,l=/^-?\d+(?:px)?$/i,n=/^-?\d/,f=/^width|height$/;try{if(p.style.opacity===i&&p.filters)h.opacity={get:function(y){var u=100;try{u=y.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{u=y.filters("alpha").opacity}catch(j){}}return u/100+""},set:function(y,u){var d=y.style;y=(y.currentStyle||0).filter||"";d.zoom=1;if(y)if(y=y.replace(/alpha\(opacity=.+\)/ig,""))y+=", ";
d.filter=y+"alpha(opacity="+u*100+")"}}}catch(w){}if(!(b.defaultView||{}).getComputedStyle&&p.currentStyle)q._getComputedStyle=function(y,u){var d=y.style,j=y.currentStyle[u];if(f.test(u))j=q[u](y)+"px";else if(!l.test(j)&&n.test(j)){var o=d.left,t=y.runtimeStyle.left;y.runtimeStyle.left=y.currentStyle.left;d.left=u==="fontSize"?"1em":j||0;j=d.pixelLeft+"px";d.left=o;y.runtimeStyle.left=t}return j}}});
KISSY.add("dom-offset",function(b,i){function q(r){var v=0,A=0,x=u(r[c]);if(r[s]){r=r[s]();v=r[a];A=r[k];if(l.mobile!=="apple"){v+=h[m](x);A+=h[e](x)}}return{left:v,top:A}}function p(r,v){if(h.css(r,t)==="static")r.style[t]=g;var A=q(r),x={},z,B;for(B in v){z=o(h.css(r,B),10)||0;x[B]=z+v[B]-A[B]}h.css(r,x)}var h=b.DOM,l=b.UA,n=window,f=document,w=h._isElementNode,y=h._nodeTypeIs,u=h._getWin,d=f.compatMode==="CSS1Compat",j=Math.max,o=parseInt,t="position",g="relative",c="ownerDocument",a="left",k=
"top",m="scrollLeft",e="scrollTop",s="getBoundingClientRect";b.mix(h,{offset:function(r,v){if(!(r=b.get(r))||!r[c])return null;if(v===i)return q(r);p(r,v)},scrollIntoView:function(r,v,A,x){if((r=b.get(r))&&r[c]){x=x===i?true:!!x;A=A===i?true:!!A;if(!v||v===n)return r.scrollIntoView(A);v=b.get(v);if(y(v,9))v=u(v);var z=v&&"scrollTo"in v&&v.document,B=h.offset(r),C=z?{left:h.scrollLeft(v),top:h.scrollTop(v)}:h.offset(v),D={left:B[a]-C[a],top:B[k]-C[k]};B=z?h.viewportHeight(v):v.clientHeight;C=z?h.viewportWidth(v):
v.clientWidth;var G=h[m](v),E=h[e](v),F=G+C,M=E+B,I=r.offsetHeight;r=r.offsetWidth;var H=D.left+G-(o(h.css(v,"borderLeftWidth"))||0);D=D.top+E-(o(h.css(v,"borderTopWidth"))||0);var N=H+r,J=D+I,K,L;if(I>B||D<E||A)K=D;else if(J>M)K=J-B;if(x)if(r>C||H<G||A)L=H;else if(N>F)L=N-C;if(z){if(K!==i||L!==i)v.scrollTo(L,K)}else{if(K!==i)v[e]=K;if(L!==i)v[m]=L}}}});b.each(["Left","Top"],function(r,v){var A="scroll"+r;h[A]=function(x){var z=0,B=u(x),C;if(B&&(C=B.document))z=B[v?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(w(x=b.get(x)))z=x[A];return z}});b.each(["Width","Height"],function(r){h["doc"+r]=function(v){v=v||f;return j(d?v.documentElement["scroll"+r]:v.body["scroll"+r],h["viewport"+r](v))};h["viewport"+r]=function(v){var A="inner"+r;v=u(v);var x=v.document;return A in v?v[A]:d?x.documentElement["client"+r]:x.body["client"+r]}})});
KISSY.add("dom-traversal",function(b,i){function q(n,f,w,y){if(!(n=b.get(n)))return null;if(f===i)f=1;var u=null,d,j;if(b.isNumber(f)&&f>=0){if(f===0)return n;d=0;j=f;f=function(){return++d===j}}for(;n=n[w];)if(l(n)&&(!f||h.test(n,f))&&(!y||y(n))){u=n;break}return u}function p(n,f,w){var y=[];var u=n=b.get(n);if(n&&w)u=n.parentNode;if(u){w=0;for(u=u.firstChild;u;u=u.nextSibling)if(l(u)&&u!==n&&(!f||h.test(u,f)))y[w++]=u}return y}var h=b.DOM,l=h._isElementNode;b.mix(h,{parent:function(n,f){return q(n,
f,"parentNode",function(w){return w.nodeType!=11})},next:function(n,f){return q(n,f,"nextSibling")},prev:function(n,f){return q(n,f,"previousSibling")},siblings:function(n,f){return p(n,f,true)},children:function(n,f){return p(n,f)},contains:function(n,f){var w=false;if((n=b.get(n))&&(f=b.get(f)))if(n.contains)return n.contains(f);else if(n.compareDocumentPosition)return!!(n.compareDocumentPosition(f)&16);else for(;!w&&(f=f.parentNode);)w=f==n;return w}})});
KISSY.add("dom-create",function(b,i){function q(x,z){j(x)&&b.isPlainObject(z)&&w.attr(x,z);return x}function p(x,z){var B=null,C;if(x&&(x.push||x.item)&&x[0]){z=z||x[0].ownerDocument;B=z.createDocumentFragment();if(x.item)x=b.makeArray(x);z=0;for(C=x.length;z<C;z++)B.appendChild(x[z])}return B}function h(x){var z=x.cloneNode(true);if(y.ie<8)z.innerHTML=x.innerHTML;return z}function l(x,z,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(c);z+='<span id="'+D+'"></span>';b.available(D,function(){var E=
b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(z);)if((I=(M=F[1])?M.match(k):false)&&I[2]){F=f.createElement("script");F.src=I[2];if((H=M.match(m))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=f.getElementById(D))&&w.remove(N);b.isFunction(C)&&C()});n(x,z)}else{n(x,z);b.isFunction(C)&&C()}}function n(x,z){z=(z+"").replace(c,"");try{x.innerHTML=z}catch(B){for(;x.firstChild;)x.removeChild(x.firstChild);z&&x.appendChild(w.create(z))}}var f=
document,w=b.DOM,y=b.UA,u=y.ie,d=w._nodeTypeIs,j=w._isElementNode,o=w._isKSNode,t=f.createElement("div"),g=/<(\w+)/,c=/<script([^>]*)>([\s\S]*?)<\/script>/ig,a=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,k=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;b.mix(w,{create:function(x,z,B){if(d(x,1)||d(x,3))return h(x);if(o(x))return h(x[0]);if(!(x=b.trim(x)))return null;var C=null;C=w._creators;var D,G="div",E;if(D=a.exec(x))C=(B||f).createElement(D[1]);else{if((D=g.exec(x))&&(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=
E;x=C[G](x,B).childNodes;C=x.length===1?x[0].parentNode.removeChild(x[0]):p(x,B||f)}return q(C,z)},_creators:{div:function(x,z){z=z?z.createElement("div"):t;z.innerHTML=x;return z}},html:function(x,z,B,C){if(z===i){x=b.get(x);if(j(x))return x.innerHTML}else b.each(b.query(x),function(D){j(D)&&l(D,z,B,C)})},remove:function(x){b.each(b.query(x),function(z){j(z)&&z.parentNode&&z.parentNode.removeChild(z)})}});if(y.gecko||u){var e=w._creators,s=w.create,r=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
v={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in v)(function(x){e[A]=function(z,B){return s("<"+x+">"+z+"</"+x+">",null,B)}})(v[A]);if(u){e.script=function(x,z){z=z?z.createElement("div"):t;z.innerHTML="-"+x;z.removeChild(z.firstChild);return z};if(u<8)e.tbody=function(x,z){z=s("<table>"+x+"</table>",null,z);var B=z.children.tags("tbody")[0];z.children.length>1&&B&&!r.test(x)&&B.parentNode.removeChild(B);return z}}b.mix(e,{optgroup:e.option,th:e.td,
thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(i,q){if((i=b.get(i))&&(q=b.get(q))&&q.parentNode)q.parentNode.insertBefore(i,q);return i},insertAfter:function(i,q){if((i=b.get(i))&&(q=b.get(q))&&q.parentNode)q.nextSibling?q.parentNode.insertBefore(i,q.nextSibling):q.parentNode.appendChild(i);return i}})});
KISSY.add("event",function(b,i){function q(c,a,k,m,e){if(b.isString(a))a=b.query(a);if(b.isArray(a)){b.each(a,function(s){g[c](s,k,m,e)});return true}if((k=b.trim(k))&&k.indexOf(j)>0){b.each(k.split(j),function(s){g[c](a,s,m,e)});return true}}function p(c){return n(c)?w.data(c,d):-1}function h(c,a){n(c)&&w.data(c,d,a)}function l(c){w.removeData(c,d)}function n(c){return c&&c.nodeType!==3&&c.nodeType!==8}var f=document,w=b.DOM,y=f.addEventListener?function(c,a,k,m){c.addEventListener&&c.addEventListener(a,
k,!!m)}:function(c,a,k){c.attachEvent&&c.attachEvent("on"+a,k)},u=f.removeEventListener?function(c,a,k,m){c.removeEventListener&&c.removeEventListener(a,k,!!m)}:function(c,a,k){c.detachEvent&&c.detachEvent("on"+a,k)},d="ksEventTargetId",j=" ",o=b.now(),t={},g={EVENT_GUID:d,special:{},add:function(c,a,k,m){if(!q("add",c,a,k,m)){var e=p(c),s,r,v,A,x;if(!(e===-1||!a||!b.isFunction(k))){if(!e){h(c,e=o++);t[e]={target:c,events:{}}}r=t[e].events;if(!r[a]){s=((e=!c.isCustomEventTarget)||c._supportSpecialEvent)&&
g.special[a]||{};v=function(z,B){if(!z||!z.fixed){z=new b.EventObject(c,z,a);b.isPlainObject(B)&&b.mix(z,B)}s.setup&&s.setup(z);return(s.handle||g._handle)(c,z,r[a].listeners)};r[a]={handle:v,listeners:[]};A=s.fix||a;x=s.capture;if(e)y(c,A,v,x);else c._addEvent&&c._addEvent(A,v,x)}r[a].listeners.push({fn:k,scope:m||c})}}},remove:function(c,a,k,m){if(!q("remove",c,a,k,m)){var e=p(c),s,r,v,A,x,z,B;if(e!==-1)if(e&&(s=t[e]))if(s.target===c){m=m||c;s=s.events||{};if(r=s[a]){v=r.listeners;z=v.length;if(b.isFunction(k)&&
z){x=A=0;for(B=[];A<z;++A)if(k!==v[A].fn||m!==v[A].scope)B[x++]=v[A];r.listeners=B;z=B.length}if(k===i||z===0){if(c.isCustomEventTarget)c._addEvent&&c._removeEvent(a,r.handle);else{k=g.special[a]||{};u(c,k.fix||a,r.handle)}delete s[a]}}if(a===i||b.isEmptyObject(s)){for(a in s)g.remove(c,a);delete t[e];l(c)}}}},_handle:function(c,a,k){k=k.slice(0);for(var m,e=0,s=k.length;e<s;++e){m=k[e];m=m.fn.call(m.scope||c,a);if(m===false&&c.isCustomEventTarget||a.isImmediatePropagationStopped)break}return m},
_getCache:function(c){return t[c]},_simpleAdd:y,_simpleRemove:u};g.on=g.add;b.Event=g});
KISSY.add("event-object",function(b,i){function q(l,n,f){this.currentTarget=l;this.originalEvent=n||{};if(n){this.type=n.type;this._fix()}else{this.type=f;this.target=l}this.currentTarget=l;this.fixed=true}var p=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(q,
{_fix:function(){var l=this.originalEvent,n=h.length,f,w=this.currentTarget;for(w=w.nodeType===9?w:w.ownerDocument||p;n;){f=h[--n];this[f]=l[f]}if(!this.target)this.target=this.srcElement||p;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===i&&this.clientX!==i){l=w.documentElement;n=w.body;this.pageX=this.clientX+(l&&l.scrollLeft||n&&n.scrollLeft||
0)-(l&&l.clientLeft||n&&n.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||n&&n.scrollTop||0)-(l&&l.clientTop||n&&n.clientTop||0)}if(this.which===i)this.which=this.charCode!==i?this.charCode:this.keyCode;if(this.metaKey===i)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==i)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=q});
KISSY.add("event-target",function(b,i){var q=b.Event;b.EventTarget={isCustomEventTarget:true,fire:function(p,h){var l=b.DOM.data(this,q.EVENT_GUID)||-1;if((p=((q._getCache(l)||{}).events||{})[p])&&b.isFunction(p.handle))return p.handle(i,h);return this},on:function(p,h,l){q.add(this,p,h,l);return this},detach:function(p,h,l){q.remove(this,p,h,l);return this}}});
KISSY.add("event-mouseenter",function(b){var i=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){i.special[q.name]={fix:q.fix,setup:function(p){p.type=q.name},handle:function(p,h,l){var n=h.relatedTarget;try{for(;n&&n!==p;)n=n.parentNode;n!==p&&i._handle(p,h,l)}catch(f){}}}})});
KISSY.add("event-focusin",function(b){var i=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(q){i.special[q.name]={fix:q.fix,capture:true,setup:function(p){p.type=q.name}}})});
KISSY.add("node",function(b){function i(h,l,n){var f;if(!(this instanceof i))return new i(h,l,n);if(h){if(p(h,1)||p(h,3))f=h;else if(b.isString(h))f=q.create(h,l,n);this[0]=f}else this.length=0}var q=b.DOM,p=q._nodeTypeIs;i.TYPE="-ks-Node";b.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});b.one=function(h,l){return(h=b.get(h,l))?new i(h):null};b.Node=i});
KISSY.add("nodelist",function(b){function i(h){if(!(this instanceof i))return new i(h);p.push.apply(this,h||[])}var q=b.DOM,p=Array.prototype;b.mix(i.prototype,{length:0,item:function(h){var l=null;if(q._isElementNode(this[h]))l=new b.Node(this[h]);return l},getDOMNodes:function(){return p.slice.call(this)},each:function(h,l){var n=this.length,f=0,w;for(w=new b.Node(this[0]);f<n&&h.call(l||w,w,f,this)!==false;w=new b.Node(this[++f]));return this}});b.all=function(h,l){return new i(b.query(h,l,true))};
b.NodeList=i});
KISSY.add("node-attach",function(b,i){function q(g,arguments,c,a){var k=[this[g?d:u]()].concat(b.makeArray(arguments));if(arguments[c]===i)return a.apply(h,k);else{a.apply(h,k);return this}}function p(g,c){b.each(g,function(a){b.each([w,y],function(k,m){k[a]=function(e){switch(c){case j:return function(){return q.call(this,m,arguments,1,e)};case o:return function(){return q.call(this,m,arguments,0,e)};case t:return function(){var s=this[m?d:u]();return(s=e.apply(h,[s].concat(b.makeArray(arguments))))?new (b[b.isArray(s)?
"NodeList":"Node"])(s):null};default:return function(){var s=this[m?d:u]();s=e.apply(h,[s].concat(b.makeArray(arguments)));return s===i?this:s}}}(h[a])})})}var h=b.DOM,l=b.Event,n=h._nodeTypeIs,f=h._isKSNode,w=b.Node.prototype,y=b.NodeList.prototype,u="getDOMNode",d=u+"s",j=1,o=2,t=4;b.mix(w,{one:function(g){return b.one(g,this[0])},all:function(g){return b.all(g,this[0])}});p(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);p(["attr","removeAttr"],j);p(["val","text"],o);p(["css"],
j);p(["width","height"],o);p(["offset"],o);p(["scrollIntoView"]);p(["parent","next","prev","siblings","children"],t);p(["contains"]);p(["html"],o);p(["remove"]);b.each(["insertBefore","insertAfter"],function(g){w[g]=function(c){h[g].call(h,this[0],c);return this}});b.each([w,y],function(g,c){b.mix(g,{append:function(a){a&&b.each(this,function(k){var m;if(c||b.isString(a))m=h.create(a);else{if(n(a,1)||n(a,3))m=a;if(f(a))m=a[0]}k.appendChild(m)});return this},appendTo:function(a){if((a=b.get(a))&&a.appendChild)b.each(this,
function(k){a.appendChild(k)});return this}})});b.each([w,y],function(g){b.mix(g,b.EventTarget,{_supportSpecialEvent:true});g._addEvent=function(c,a,k){for(var m=0,e=this.length;m<e;m++)l._simpleAdd(this[m],c,a,k)};g._removeEvent=function(c,a,k){for(var m=0,e=this.length;m<e;m++)l._simpleRemove(this[m],c,a,k)};delete g.fire})});
KISSY.add("cookie",function(b){function i(l){return b.isString(l)&&l!==""}var q=document,p=encodeURIComponent,h=decodeURIComponent;b.Cookie={get:function(l){var n;if(i(l))if(l=q.cookie.match("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)"))n=l[1]?h(l[1]):"";return n},set:function(l,n,f,w,y,u){n=p(n);var d=f;if(typeof d==="number"){d=new Date;d.setTime(d.getTime()+f*864E5)}if(d instanceof Date)n+="; expires="+d.toUTCString();if(i(w))n+="; domain="+w;if(i(y))n+="; path="+y;if(u)n+="; secure";q.cookie=l+"="+n},remove:function(l,
n,f,w){this.set(l,"",0,n,f,w)}}});
KISSY.add("json",function(b){function i(u){return u<10?"0"+u:u}function q(u){l.lastIndex=0;return l.test(u)?'"'+u.replace(l,function(d){var j=w[d];return typeof j==="string"?j:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function p(u,d){var j,o,t=n,g,c=d[u];if(c&&typeof c==="object"&&typeof c.toJSON==="function")c=c.toJSON(u);if(typeof y==="function")c=y.call(d,u,c);switch(typeof c){case "string":return q(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";n+=f;g=[];if(Object.prototype.toString.apply(c)==="[object Array]"){o=c.length;for(u=0;u<o;u+=1)g[u]=p(u,c)||"null";d=g.length===0?"[]":n?"[\n"+n+g.join(",\n"+n)+"\n"+t+"]":"["+g.join(",")+"]";n=t;return d}if(y&&typeof y==="object"){o=y.length;for(u=0;u<o;u+=1){j=y[u];if(typeof j==="string")if(d=p(j,c))g.push(q(j)+(n?": ":":")+d)}}else for(j in c)if(Object.hasOwnProperty.call(c,j))if(d=p(j,c))g.push(q(j)+(n?": ":":")+d);d=g.length===0?"{}":n?"{\n"+n+g.join(",\n"+n)+
"\n"+t+"}":"{"+g.join(",")+"}";n=t;return d}}b=b.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,f,w={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;if(typeof b.stringify!=="function")b.stringify=function(u,d,j){var o;f=n="";if(typeof j==="number")for(o=0;o<j;o+=1)f+=" ";else if(typeof j==="string")f=j;if((y=d)&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number"))throw new Error("JSON.stringify");return p("",
{"":u})};if(typeof b.parse!=="function")b.parse=function(u,d){function j(o,t){var g,c,a=o[t];if(a&&typeof a==="object")for(g in a)if(Object.hasOwnProperty.call(a,g)){c=j(a,g);if(c!==undefined)a[g]=c;else delete a[g]}return d.call(o,t,a)}u=String(u);h.lastIndex=0;if(h.test(u))u=u.replace(h,function(o){return"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){u=eval("("+u+")");return typeof d==="function"?j({"":u},""):u}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(b){var i=Math,q=i.PI,p=i.pow,h=i.sin,l=1.70158,n={easeNone:function(f){return f},easeIn:function(f){return f*f},easeOut:function(f){return(2-f)*f},easeBoth:function(f){return(f*=2)<1?0.5*f*f:0.5*(1- --f*(f-2))},easeInStrong:function(f){return f*f*f*f},easeOutStrong:function(f){return 1- --f*f*f*f},easeBothStrong:function(f){return(f*=2)<1?0.5*f*f*f*f:0.5*(2-(f-=2)*f*f*f)},elasticIn:function(f){if(f===0||f===1)return f;return-(p(2,10*(f-=1))*h((f-0.075)*2*q/0.3))},
elasticOut:function(f){if(f===0||f===1)return f;return p(2,-10*f)*h((f-0.075)*2*q/0.3)+1},elasticBoth:function(f){if(f===0||(f*=2)===2)return f;if(f<1)return-0.5*p(2,10*(f-=1))*h((f-0.1125)*2*q/0.45);return p(2,-10*(f-=1))*h((f-0.1125)*2*q/0.45)*0.5+1},backIn:function(f){if(f===1)f-=0.0010;return f*f*((l+1)*f-l)},backOut:function(f){return(f-=1)*f*((l+1)*f+l)+1},backBoth:function(f){if((f*=2)<1)return 0.5*f*f*(((l*=1.525)+1)*f-l);return 0.5*((f-=2)*f*(((l*=1.525)+1)*f+l)+2)},bounceIn:function(f){return 1-
n.bounceOut(1-f)},bounceOut:function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375},bounceBoth:function(f){if(f<0.5)return n.bounceIn(f*2)*0.5;return n.bounceOut(f*2-1)*0.5+0.5}};b.Easing=n});
KISSY.add("anim",function(b,i){function q(g,c,a,k,m){if(g=b.get(g)){if(!(this instanceof q))return new q(g,c,a,k,m);var e=b.isPlainObject(a);c=c;this.domEl=g;if(b.isPlainObject(c))c=b.param(c,";").replace(/=/g,":");this.props=p(c);this.targetStyle=c;if(e)g=b.merge(t,a);else{g=b.clone(t);a&&(g.duration=u(a,10)||1);b.isString(k)&&(k=y[k]);b.isFunction(k)&&(g.easing=k);b.isFunction(m)&&(g.complete=m)}this.config=g;b.isFunction(m)&&this.on(o,m)}}function p(g){var c={},a=j.length,k;d.innerHTML='<div style="'+
g+'"></div>';for(g=d.firstChild.style;a--;)if(k=g[j[a]])c[j[a]]=h(k);return c}function h(g){var c=u(g);g=(g+"").replace(/^[-\d\.]+/,"");return isNaN(c)?{v:g,u:"",f:n}:{v:c,u:g,f:l}}function l(g,c,a){return(g+(c-g)*a).toFixed(3)}function n(g,c,a){for(var k=2,m,e,s=[],r=[];m=3,e=arguments[k-1],k--;)if(f(e,0,4)==="rgb(")for(e=e.match(/\d+/g);m--;)s.push(~~e[m]);else if(f(e,0)==="#"){if(e.length===4)e="#"+f(e,1)+f(e,1)+f(e,2)+f(e,2)+f(e,3)+f(e,3);for(;m--;)s.push(parseInt(f(e,1+m*2,2),16))}else return c;
for(;m--;){k=~~(s[m+3]+(s[m]-s[m+3])*a);r.push(k<0?0:k>255?255:k)}return"rgb("+r.join(",")+")"}function f(g,c,a){return g.substr(c,a||1)}var w=b.DOM,y=b.Easing,u=parseFloat,d=w.create("<div>"),j="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
o="complete",t={duration:1,easing:y.easeNone};b.augment(q,b.EventTarget,{run:function(){var g=this,c=g.config,a=g.domEl,k=c.duration*1E3,m=c.easing,e=b.now(),s=e+k,r=g.props,v={},A;for(A in r)v[A]=h(w.css(a,A));if(g.fire("start")!==false){g.stop();g.timer=b.later(c=function(){var x=b.now(),z=x>s?1:(x-e)/k,B,C,D;for(A in r){B=v[A];C=r[A];if(C.v==0)C.u=B.u;if(B.u!==C.u)B.v=0;w.css(a,A,C.f(B.v,C.v,m(z))+C.u)}if(g.fire("step")===false||(D=x>s)){g.stop();D&&g.fire(o)}},13,true);c();return g}},stop:function(g){var c=
this.domEl,a=this.targetStyle;if(this.timer){this.timer.cancel();this.timer=i}if(g){b.UA.ie&&a.indexOf("opacity")>-1&&w.css(c,"opacity",this.props.opacity.v);c.style.cssText+=";"+a;this.fire(o)}return this}});b.Anim=q});KISSY.add("anim-node-plugin",function(b,i){var q=b.Anim;b.each([b.Node.prototype,b.NodeList.prototype],function(p){p.animate=function(){var h=b.makeArray(arguments);b.each(this,function(l){q.apply(i,[l].concat(h)).run()});return this}})});KISSY.add("core");
