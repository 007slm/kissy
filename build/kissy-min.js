/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Oct 15 14:05
*/
var KISSY=function(b){var e=this,h=!{toString:1}.propertyIsEnumerable("toString"),j="hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(","),g={mix:function(b,a,f,c,e){"object"===typeof f&&(c=f.whitelist,e=f.deep,f=f.overwrite);var q=[],p=0;for(d(b,a,f,c,e,q);a=q[p++];)delete a.__MIX_CIRCULAR;return b}},d=function(i,f,e,c,d,q){if(!f||!i)return i;e===b&&(e=!0);var p=0,g,k;f.__MIX_CIRCULAR=i;q.push(f);if(c&&(k=c.length))for(;p<k;p++)g=c[p],g in f&&a(g,i,f,e,c,d,
q);else{for(g in f)"__MIX_CIRCULAR"!=g&&a(g,i,f,e,c,d,q);if(h)for(;g=j[p++];)Object.prototype.hasOwnProperty.call(f,g)&&a(g,i,f,e,c,d,q)}return i},a=function(a,e,g,c,o,q,p){if(c||!(a in e)||q){var k=e[a],g=g[a];if(k!==g)if(q&&g&&(f.isArray(g)||f.isPlainObject(g)))g.__MIX_CIRCULAR?e[a]=g.__MIX_CIRCULAR:(q=k&&(f.isArray(k)||f.isPlainObject(k))?k:f.isArray(g)?[]:{},e[a]=q,d(q,g,c,o,!0,p));else if(g!==b&&(c||!(a in e)))e[a]=g}},k={},l=0;k.Env=k.Env||{};k.Env.host=e;var f=g.mix(k,g);f.mix(f,{configs:f.configs||
{},version:"1.40dev",merge:function(b){var b=f.makeArray(arguments),a={},e,c=b.length;for(e=0;e<c;e++)f.mix(a,b[e]);return a},augment:function(a,e){var d=f.makeArray(arguments),c=d.length-2,g=1,q=d[c],p=d[c+1];f.isArray(p)||(q=p,p=b,c++);f.isBoolean(q)||(q=b,c++);for(;g<c;g++)f.mix(a.prototype,d[g].prototype||d[g],q,p);return a},extend:function(b,a,e,c){if(!a||!b)return b;var d=Object.create?function(c,b){return Object.create(c,{constructor:{value:b}})}:function(c,b){function a(){}a.prototype=c;var e=
new a;e.constructor=b;return e},g=a.prototype,p;p=d(g,b);b.prototype=f.mix(p,b.prototype);b.superclass=d(g,a);e&&f.mix(p,e);c&&f.mix(b,c);return b},namespace:function(){var b=f.makeArray(arguments),a=b.length,d=null,c,g,q,p=!0===b[a-1]&&a--;for(c=0;c<a;c++){q=(""+b[c]).split(".");d=p?e:this;for(g=e[q[0]]===d?1:0;g<q.length;++g)d=d[q[g]]=d[q[g]]||{}}return d},config:function(a,e){var d,c,g=this,q,p=f.Config,k=f.configs;f.isObject(a)?f.each(a,function(b,c){(q=k[c])?q.call(g,b):p[c]=b}):(d=k[a],e===
b?c=d?d.call(g):p[a]:d?c=d.call(g,e):p[a]=e);return c},log:function(a,d,g){if(f.Config.debug&&(g&&(a=g+": "+a),e.console!==b&&console.log))console[d&&console[d]?d:"log"](a)},error:function(b){if(f.Config.debug)throw b;},guid:function(b){return(b||"")+l++},keys:function(b){var a=[],e;for(e in b)a.push(e);h&&f.each(j,function(c){Object.prototype.hasOwnProperty.call(b,c)&&a.push(c)});return a}});f.Env=f.Env||{};f.Env.nodejs="function"===typeof require&&"object"===typeof exports;(f.Config=f.Config||{}).debug=
"";f.__BUILD_TIME="20121015140542";f.Env.nodejs&&(f.KISSY=f,module.exports=f);return f}();
(function(b,e){function h(){if(A)return A;var c=s;b.each(x,function(b){c+=b+"|"});c=c.slice(0,-1);return A=RegExp(c,"g")}function j(){if(B)return B;var c=s;b.each(z,function(b){c+=b+"|"});c+="&#(\\d{1,5});";return B=RegExp(c,"g")}function g(c){var b=typeof c;return null==c||"object"!==b&&"function"!==b}function d(c,a,e){var f=c,g,i,p,q;if(!c)return f;if(c[t])return e[c[t]].destination;if("object"===typeof c){q=c.constructor;if(b.inArray(q,[Boolean,String,Number,Date,RegExp]))f=new q(c.valueOf());
else if(g=b.isArray(c))f=a?b.filter(c,a):c.concat();else if(i=b.isPlainObject(c))f={};c[t]=q=b.guid();e[q]={destination:f,input:c}}if(g)for(c=0;c<f.length;c++)f[c]=d(f[c],a,e);else if(i)for(p in c)if(p!==t&&(!a||a.call(c,c[p],p,c)!==l))f[p]=d(c[p],a,e);return f}function a(c,a,f,d){if(c[v]===a&&a[v]===c)return k;c[v]=a;a[v]=c;var g=function(c,b){return null!==c&&c!==e&&c[b]!==e},p;for(p in a)!g(c,p)&&g(a,p)&&f.push("expected has key '"+p+"', but missing from actual.");for(p in c)!g(a,p)&&g(c,p)&&f.push("expected missing key '"+
p+"', but present in actual.");for(p in a)p!=v&&(b.equals(c[p],a[p],f,d)||d.push("'"+p+"' was '"+(a[p]?a[p].toString():a[p])+"' in expected, but was '"+(c[p]?c[p].toString():c[p])+"' in actual."));b.isArray(c)&&b.isArray(a)&&c.length!=a.length&&d.push("arrays were not the same length");delete c[v];delete a[v];return 0===f.length&&0===d.length}var k=!0,l=!1,f=Object.prototype.toString,i=Array.prototype,n=i.indexOf,m=i.lastIndexOf,c=i.filter,o=i.every,q=i.some,p=String.prototype.trim,u=i.map,s="",t=
"__~ks_cloned",v="__~ks_compared",r=/^[\s\xa0]+|[\s\xa0]+$/g,w={},x={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},z={},A,B,D=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var c in x)z[x[c]]=c})();b.mix(b,{stamp:function(c,a,f){if(!c)return c;var f=f||"__~ks_stamped",d=c[f];if(!d&&!a)try{d=c[f]=b.guid(f)}catch(g){d=e}return d},noop:function(){},type:function(c){return null==c?""+c:w[f.call(c)]||"object"},isNull:function(c){return null===c},isUndefined:function(c){return c===
e},isEmptyObject:function(c){for(var b in c)if(b!==e)return l;return k},isPlainObject:function(c){if(!c||"object"!==b.type(c)||c.nodeType||c.window==c)return!1;try{if(c.constructor&&!Object.prototype.hasOwnProperty.call(c,"constructor")&&!Object.prototype.hasOwnProperty.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var f in c);return f===e||Object.prototype.hasOwnProperty.call(c,f)},equals:function(c,f,d,g){d=d||[];g=g||[];return c===f?k:c===e||null===c||f===e||null===
f?null==c&&null==f:c instanceof Date&&f instanceof Date?c.getTime()==f.getTime():"string"==typeof c&&"string"==typeof f||b.isNumber(c)&&b.isNumber(f)?c==f:"object"===typeof c&&"object"===typeof f?a(c,f,d,g):c===f},clone:function(c,a){var f={},g=d(c,a,f);b.each(f,function(c){c=c.input;if(c[t])try{delete c[t]}catch(b){c[t]=e}});f=null;return g},trim:p?function(c){return null==c?s:p.call(c)}:function(c){return null==c?s:c.toString().replace(r,s)},substitute:function(c,a,f){return"string"!=typeof c||
!b.isPlainObject(a)?c:c.replace(f||/\\?\{([^{}]+)\}/g,function(c,b){return"\\"===c.charAt(0)?c.slice(1):a[b]===e?s:a[b]})},each:function(c,a,f){if(c){var d,g=0,p=c&&c.length,i=p===e||"function"===b.type(c),f=f||null;if(i)for(d in c){if(a.call(f,c[d],d,c)===l)break}else for(d=c[0];g<p&&a.call(f,d,g,c)!==l;d=c[++g]);}return c},indexOf:n?function(c,b){return n.call(b,c)}:function(c,b){for(var a=0,f=b.length;a<f;++a)if(b[a]===c)return a;return-1},lastIndexOf:m?function(c,b){return m.call(b,c)}:function(c,
b){for(var a=b.length-1;0<=a&&b[a]!==c;a--);return a},unique:function(c,a){var f=c.slice();a&&f.reverse();for(var d=0,e,g;d<f.length;){for(g=f[d];(e=b.lastIndexOf(g,f))!==d;)f.splice(e,1);d+=1}a&&f.reverse();return f},inArray:function(c,a){return-1<b.indexOf(c,a)},filter:c?function(b,a,f){return c.call(b,a,f||this)}:function(c,a,f){var d=[];b.each(c,function(c,b,e){a.call(f||this,c,b,e)&&d.push(c)});return d},map:u?function(c,b,a){return u.call(c,b,a||this)}:function(c,b,a){for(var f=c.length,d=Array(f),
e=0;e<f;e++){var g="string"==typeof c?c.charAt(e):c[e];if(g||e in c)d[e]=b.call(a||this,g,e,c)}return d},reduce:function(c,b,a){var f=c.length;if("function"!==typeof b)throw new TypeError("callback is not function!");if(0===f&&2==arguments.length)throw new TypeError("arguments invalid");var d=0,g;if(3<=arguments.length)g=arguments[2];else{do{if(d in c){g=c[d++];break}d+=1;if(d>=f)throw new TypeError;}while(k)}for(;d<f;)d in c&&(g=b.call(e,g,c[d],d,c)),d++;return g},every:o?function(c,b,a){return o.call(c,
b,a||this)}:function(c,b,a){for(var f=c&&c.length||0,d=0;d<f;d++)if(d in c&&!b.call(a,c[d],d,c))return l;return k},some:q?function(c,b,a){return q.call(c,b,a||this)}:function(c,b,a){for(var f=c&&c.length||0,d=0;d<f;d++)if(d in c&&b.call(a,c[d],d,c))return k;return l},bind:function(c,b,a){var f=[].slice,d=f.call(arguments,2),e=function(){},g=function(){return c.apply(this instanceof e?this:b,d.concat(f.call(arguments)))};e.prototype=c.prototype;g.prototype=new e;return g},now:Date.now||function(){return+new Date},
fromUnicode:function(c){return c.replace(/\\u([a-f\d]{4})/ig,function(c,b){return String.fromCharCode(parseInt(b,16))})},ucfirst:function(c){c+="";return c.charAt(0).toUpperCase()+c.substring(1)},urlEncode:function(c){return encodeURIComponent(""+c)},urlDecode:function(c){return decodeURIComponent(c.replace(/\+/g," "))},escapeHTML:function(c){return(c+"").replace(h(),function(c){return z[c]})},escapeRegExp:function(c){return c.replace(D,"\\$&")},unEscapeHTML:function(c){return c.replace(j(),function(c,
b){return x[c]||String.fromCharCode(+b)})},makeArray:function(c){if(null==c)return[];if(b.isArray(c))return c;if("number"!==typeof c.length||c.alert||"string"==typeof c||b.isFunction(c))return[c];for(var a=[],f=0,d=c.length;f<d;f++)a[f]=c[f];return a},param:function(c,a,f,d){if(!b.isPlainObject(c))return s;a=a||"&";f=f||"=";b.isUndefined(d)&&(d=k);var p=[],i,q,o,h,m,l=b.urlEncode;for(i in c)if(m=c[i],i=l(i),g(m))p.push(i),m!==e&&p.push(f,l(m+s)),p.push(a);else if(b.isArray(m)&&m.length){q=0;for(h=
m.length;q<h;++q)o=m[q],g(o)&&(p.push(i,d?l("[]"):s),o!==e&&p.push(f,l(o+s)),p.push(a))}p.pop();return p.join(s)},unparam:function(c,a,f){if("string"!=typeof c||!(c=b.trim(c)))return{};for(var f=f||"=",d={},g,p=b.urlDecode,c=c.split(a||"&"),i=0,q=c.length;i<q;++i){g=c[i].indexOf(f);if(-1==g)a=p(c[i]),g=e;else{a=p(c[i].substring(0,g));g=c[i].substring(g+1);try{g=p(g)}catch(k){}b.endsWith(a,"[]")&&(a=a.substring(0,a.length-2))}a in d?b.isArray(d[a])?d[a].push(g):d[a]=[d[a],g]:d[a]=g}return d},later:function(c,
a,f,d,g){var a=a||0,e=c,p=b.makeArray(g),i;"string"==typeof c&&(e=d[c]);c=function(){e.apply(d,p)};i=f?setInterval(c,a):setTimeout(c,a);return{id:i,interval:f,cancel:function(){this.interval?clearInterval(i):clearTimeout(i)}}},startsWith:function(c,a){return 0===c.lastIndexOf(a,0)},endsWith:function(c,a){var b=c.length-a.length;return 0<=b&&c.indexOf(a,b)==b},throttle:function(c,a,f){a=a||150;if(-1===a)return function(){c.apply(f||this,arguments)};var d=b.now();return function(){var g=b.now();g-d>
a&&(d=g,c.apply(f||this,arguments))}},buffer:function(c,a,f){function d(){d.stop();g=b.later(c,a,l,f||this,arguments)}a=a||150;if(-1===a)return function(){c.apply(f||this,arguments)};var g=null;d.stop=function(){g&&(g.cancel(),g=0)};return d}});b.mix(b,{isBoolean:g,isNumber:g,isString:g,isFunction:g,isArray:g,isDate:g,isRegExp:g,isObject:g});b.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(c,a){w["[object "+c+"]"]=a=c.toLowerCase();b["is"+c]=function(c){return b.type(c)==
a}})})(KISSY);
(function(b,e){function h(b,c,f){if(b instanceof a)return f(b[i]);var d=b[i];if(b=b[n])b.push([c,f]);else if(g(d))h(d,c,f);else return c&&c(d);return e}function j(a){if(!(this instanceof j))return new j(a);this.promise=a||new d}function g(a){return a&&a instanceof d}function d(a){this[i]=a;a===e&&(this[n]=[])}function a(b){if(b instanceof a)return b;d.apply(this,arguments);return e}function k(b,c,f){function g(b){try{return c?c(b):b}catch(f){return new a(f)}}function e(c){try{return f?f(c):new a(c)}catch(b){return new a(b)}}
function i(c){l||(l=1,k.resolve(g(c)))}var k=new j,l=0;b instanceof d?h(b,i,function(c){l||(l=1,k.resolve(e(c)))}):i(b);return k.promise}function l(a){return!f(a)&&g(a)&&a[n]===e&&(!g(a[i])||l(a[i]))}function f(b){return g(b)&&b[n]===e&&b[i]instanceof a}var i="__promise_value",n="__promise_pendings";j.prototype={constructor:j,resolve:function(a){var c=this.promise,f;if(!(f=c[n]))return e;c[i]=a;f=[].concat(f);c[n]=e;b.each(f,function(a){h(c,a[0],a[1])});return a},reject:function(b){return this.resolve(new a(b))}};
d.prototype={constructor:d,then:function(a,c){return k(this,a,c)},fail:function(a){return k(this,0,a)},fin:function(a){return k(this,function(c){return a(c,!0)},function(c){return a(c,!1)})},isResolved:function(){return l(this)},isRejected:function(){return f(this)}};b.extend(a,d);KISSY.Defer=j;KISSY.Promise=d;b.mix(d,{when:k,isPromise:g,isResolved:l,isRejected:f,all:function(a){var c=a.length;if(!c)return a;for(var b=j(),f=0;f<a.length;f++)(function(f,d){k(f,function(f){a[d]=f;0===--c&&b.resolve(a)},
function(c){b.reject(c)})})(a[f],f);return b.promise}})})(KISSY);
(function(b){function e(b,d){for(var a=0,e=b.length-1;0<=e;e--){var h=b[e];"."==h?b.splice(e,1):".."===h?(b.splice(e,1),a++):a&&(b.splice(e,1),a--)}if(d)for(;a--;a)b.unshift("..");return b}var h=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/,j={resolve:function(){var g="",d,a=b.makeArray(arguments),k,h=0;for(d=a.length-1;0<=d&&!h;d--)k=a[d],"string"==typeof k&&k&&(g=k+"/"+g,h="/"==k.charAt(0));g=e(b.filter(g.split("/"),function(a){return!!a}),!h).join("/");return(h?"/":"")+g||"."},
normalize:function(g){var d="/"==g.charAt(0),a="/"==g.slice(-1),g=e(b.filter(g.split("/"),function(a){return!!a}),!d).join("/");!g&&!d&&(g=".");g&&a&&(g+="/");return(d?"/":"")+g},join:function(){var e=b.makeArray(arguments);return j.normalize(b.filter(e,function(b){return b&&"string"==typeof b}).join("/"))},relative:function(e,d){var e=j.normalize(e),d=j.normalize(d),a=b.filter(e.split("/"),function(a){return!!a}),k=[],h,f,i=b.filter(d.split("/"),function(a){return!!a});f=Math.min(a.length,i.length);
for(h=0;h<f&&a[h]==i[h];h++);for(f=h;h<a.length;)k.push(".."),h++;k=k.concat(i.slice(f));return k=k.join("/")},basename:function(b,d){var a=b.match(h)||[],a=a[3]||"";d&&a&&a.slice(-1*d.length)==d&&(a=a.slice(0,-1*d.length));return a},dirname:function(b){var d=b.match(h)||[],b=d[1]||"",d=d[2]||"";if(!b&&!d)return".";d&&(d=d.substring(0,d.length-1));return b+d},extname:function(b){return(b.match(h)||[])[4]||""}};b.Path=j})(KISSY);
(function(b,e){function h(c){c._queryMap||(c._queryMap=b.unparam(c._query))}function j(c){this._query=c||""}function g(c,a){return encodeURI(c).replace(a,function(c){c=c.charCodeAt(0).toString(16);return"%"+(1==c.length?"0"+c:c)})}function d(c){if(c instanceof d)return c.clone();var a,f=this;b.mix(f,{scheme:"",userInfo:"",hostname:"",port:"",path:"",query:"",fragment:""});a=(c||"").match(i)||[];b.each(m,function(c,d){var e=a[c]||"";"query"==d?f.query=new j(e):f[d]=b.urlDecode(e)});return e}var a=
/[#\/\?@]/g,k=/[#\?]/g,l=/[#@]/g,f=/#/g,i=RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),n=b.Path,m={scheme:1,userInfo:2,hostname:3,port:4,path:5,query:6,fragment:7};j.prototype={constructor:j,clone:function(){return new j(this.toString())},reset:function(c){this._query=c||"";this._queryMap=0},count:function(){var c=0,a=this._queryMap,f;h(this);for(f in a)b.isArray(a[f])?c+=a[f].length:c++;return c},
get:function(c){h(this);return c?this._queryMap[c]:this._queryMap},keys:function(){h(this);return b.keys(this._queryMap)},set:function(c,a){var f;h(this);f=this._queryMap;"string"==typeof c?this._queryMap[c]=a:(c instanceof j&&(c=c.get()),b.each(c,function(c,a){f[a]=c}));return this},remove:function(c){h(this);c?delete this._queryMap[c]:this._queryMap={};return this},add:function(c,a){var f=this,d,g;b.isObject(c)?(c instanceof j&&(c=c.get()),b.each(c,function(c,a){f.add(a,c)})):(h(f),d=f._queryMap,
g=d[c],g=g===e?a:[].concat(g).concat(a),d[c]=g);return f},toString:function(c){h(this);return b.param(this._queryMap,e,e,c)}};d.prototype={constructor:d,clone:function(){var c=new d,a=this;b.each(m,function(b,f){c[f]=a[f]});c.query=c.query.clone();return c},resolve:function(c){"string"==typeof c&&(c=new d(c));var a=0,f,e=this.clone();b.each("scheme,userInfo,hostname,port,path,query,fragment".split(","),function(d){if(d=="path")if(a)e[d]=c[d];else{if(d=c.path){a=1;if(!b.startsWith(d,"/"))if(e.hostname&&
!e.path)d="/"+d;else if(e.path){f=e.path.lastIndexOf("/");f!=-1&&(d=e.path.slice(0,f+1)+d)}e.path=n.normalize(d)}}else if(d=="query"){if(a||c.query.toString()){e.query=c.query.clone();a=1}}else if(a||c[d]){e[d]=c[d];a=1}});return e},getScheme:function(){return this.scheme},setScheme:function(c){this.scheme=c;return this},getHostname:function(){return this.hostname},setHostname:function(c){this.hostname=c;return this},setUserInfo:function(c){this.userInfo=c;return this},getUserInfo:function(){return this.userInfo},
setPort:function(c){this.port=c;return this},getPort:function(){return this.port},setPath:function(c){this.path=c;return this},getPath:function(){return this.path},setQuery:function(c){"string"==typeof c&&(b.startsWith(c,"?")&&(c=c.slice(1)),c=new j(g(c,l)));this.query=c;return this},getQuery:function(){return this.query},getFragment:function(){return this.fragment},setFragment:function(c){b.startsWith(c,"#")||(c="#"+c);this.fragment=c;return this},hasSameDomainAs:function(c){return this.hostname.toLowerCase()==
c.hostname.toLowerCase()&&this.scheme.toLowerCase()==c.scheme.toLowerCase()&&this.port.toLowerCase()==c.port.toLowerCase()},toString:function(c){var d=[],e,i;if(e=this.scheme)d.push(g(e,a)),d.push(":");if(e=this.hostname){d.push("//");if(i=this.userInfo)d.push(g(i,a)),d.push("@");d.push(encodeURIComponent(e));if(i=this.port)d.push(":"),d.push(i)}if(i=this.path)e&&!b.startsWith(i,"/")&&(i="/"+i),i=n.normalize(i),d.push(g(i,k));if(c=this.query.toString.call(this.query,c))d.push("?"),d.push(c);if(c=
this.fragment)d.push("#"),d.push(g(c,f));return d.join("")}};d.Query=j;b.Uri=d})(KISSY);(function(){function b(b){this.runtime=b}b.STATUS={INIT:0,LOADING:1,LOADED:2,ERROR:3,ATTACHED:4};KISSY.Loader=b})(KISSY);
(function(b){function e(b,e,d){b=b[h]||(b[h]={});d&&(b[e]=b[e]||[]);return b[e]}b.namespace("Loader");var h="__events__"+b.now();KISSY.Loader.Target={on:function(b,g){e(this,b,1).push(g)},detach:function(j,g){var d,a;if(j){if(d=e(this,j))g&&(a=b.indexOf(g,d),-1!=a&&d.splice(a,1)),(!g||!d.length)&&delete (this[h]||(this[h]={}))[j]}else delete this[h]},fire:function(h,g){var d=e(this,h);b.each(d,function(a){a.call(null,g)})}}})(KISSY);
(function(b){function e(c){if(b.isArray(c)){for(var a=[],f=0;f<c.length;f++)a[f]=h(c[f]);return a}return h(c)}function h(c){b.endsWith(d.basename(c),"/")&&(c+="index");return c}function j(c,a,f){var c=c.Env.mods,d,a=b.makeArray(a);for(d=0;d<a.length;d++){var e=c[a[d]];if(!e||e.status!==f)return!1}return!0}var g=b.Loader,d=b.Path,a=b.Uri,k=b.Env.host,l=k.navigator&&navigator.userAgent||"",f=b.startsWith,i=g.STATUS,n=i.ATTACHED,m=i.LOADED,c={},i=!!l.match(/AppleWebKit/),o=k.document,q=new a(k.location&&
location.href||"");b.mix(c,{docHead:function(){return o.getElementsByTagName("head")[0]||o.documentElement},isWebKit:i,isGecko:!i&&!!l.match(/Gecko/),isPresto:!!l.match(/Presto/),IE:!!l.match(/MSIE/),addEventListener:k.addEventListener?function(c,a,b){c.addEventListener(a,b,!1)}:function(c,a,b){c.attachEvent("on"+a,b)},removeEventListener:k.removeEventListener?function(c,a,b){c.removeEventListener(a,b,!1)}:function(c,a,b){c.detachEvent("on"+a,b)},normalDepModuleName:function(a,e){var g=0;if(!e)return e;
if(b.isArray(e)){for(;g<e.length;g++)e[g]=c.normalDepModuleName(a,e[g]);return e}return f(e,"../")||f(e,"./")?d.resolve(d.dirname(a),e):d.normalize(e)},removeExtname:function(c){return c.replace(/(-min)?\.js$/i,"")},resolveByPage:function(c){return q.resolve(c)},createModulesInfo:function(a,f){b.each(f,function(b){c.createModuleInfo(a,b)})},createModuleInfo:function(c,a,f){var a=h(a),d=c.Env.mods,e=d[a];return e?e:d[a]=e=new g.Module(b.mix({name:a,runtime:c},f))},isAttached:function(c,a){return j(c,
a,n)},isLoaded:function(c,a){return j(c,a,m)},getModules:function(c,a){var f=[c],d;b.each(a,function(a){d=c.Env.mods[a];(!d||"css"!=d.getType())&&f.push(c.require(a))});return f},attachMod:function(a,f){if(f.status==m){var d=f.fn,e;e=f.requires=f.getNormalizedRequires();d&&(d=b.isFunction(d)?d.apply(f,c.getModules(a,e)):d,f.value=d);f.status=n;a.getLoader().fire("afterModAttached",{mod:f})}},getModNamesAsArray:function(c){"string"==typeof c&&(c=c.replace(/\s+/g,"").split(","));return c},normalizeModNames:function(a,
b,f){return c.unalias(a,c.normalizeModNamesWithAlias(a,b,f))},unalias:function(c,a){for(var b=[].concat(a),f,d,g,i=0,h=c.Env.mods;!i;){i=1;for(f=b.length-1;0<=f;f--)if((d=h[b[f]])&&(g=d.alias))i=0,b.splice.apply(b,[f,1].concat(e(g)))}return b},normalizeModNamesWithAlias:function(a,b,f){var a=[],d,g;if(b){d=0;for(g=b.length;d<g;d++)b[d]&&a.push(e(b[d]))}f&&(a=c.normalDepModuleName(f,a));return a},registerModule:function(a,f,d,e){var g=a.Env.mods,i=g[f];if(!i||!i.fn)c.createModuleInfo(a,f),i=g[f],b.mix(i,
{name:f,status:m}),i.fn=d,b.mix(g[f]=i,e)},getMappedPath:function(c,a,b){for(var c=b||c.Config.mappedRules||[],f,b=0;b<c.length;b++)if(f=c[b],a.match(f[0]))return a.replace(f[0],f[1]);return a},memoize:function(c,a){var a=a||function(c){return c},f={},d={},e=function(){var e=b.makeArray(arguments),g=e.pop(),i=a.apply(null,e);i in f?g.apply(null,f[i]):i in d?d[i].push(g):(d[i]=[g],c.apply(null,e.concat([function(){f[i]=arguments;var c=d[i];delete d[i];for(var a=0,b=c.length;a<b;a++)c[a].apply(null,
arguments)}])))};e.unmemoized=c;return e}});g.Utils=c})(KISSY);
(function(b){function e(a){b.mix(this,a)}function h(a){this.status=g.STATUS.INIT;b.mix(this,a)}var j=b.Path,g=b.Loader,d=g.Utils;b.augment(e,{getTag:function(){return this.tag||this.runtime.Config.tag},getName:function(){return this.name},getBase:function(){return this.base||this.runtime.Config.base},getBaseUri:function(){return this.baseUri||this.runtime.Config.baseUri},isDebug:function(){var a=this.debug;return void 0===a?this.runtime.Config.debug:a},getCharset:function(){return this.charset||this.runtime.Config.charset},
isCombine:function(){var a=this.combine;return void 0===a?this.runtime.Config.combine:a}});g.Package=e;b.augment(h,{setValue:function(a){this.value=a},getType:function(){var a;if(void 0===(a=this.type))this.type=a=".css"==j.extname(this.name).toLowerCase()?"css":"js";return a},getFullPath:function(){var a,b;this.fullpath||(b=this.getPackage().getBaseUri(),b=b.resolve(this.getPath()),(a=this.getTag())&&b.query.set("t",a),this.fullpath=d.getMappedPath(this.runtime,b.toString()));return this.fullpath},
getPath:function(){var a;if(!(a=this.path)){a=this.name;var b=(j.extname(a)||"").toLowerCase(),d="-min";".css"!=b&&(b=".js");a=j.join(j.dirname(a),j.basename(a,b));this.getPackage().isDebug()&&(d="");a=this.path=a+d+b}return a},getValue:function(){return this.value},getName:function(){return this.name},getPackage:function(){var a;if(!(a=this.packageInfo)){a=this.runtime;var d=this.name,e=a.Env,f=e.packages||{},i="",h;for(h in f)b.startsWith(d,h)&&h.length>i.length&&(i=h);a=this.packageInfo=f[i]||
e.defaultPackage||(e.defaultPackage=new g.Package({runtime:a,name:""}))}return a},getTag:function(){return this.tag||this.getPackage().getTag()},getCharset:function(){return this.charset||this.getPackage().getCharset()},getRequiredMods:function(){var a=this.runtime.Env.mods;return b.map(this.getNormalizedRequires(),function(b){return a[b]})},getNormalizedRequires:function(){var a,b=this.normalizedRequiresStatus,e=this.status,f=this.requires;if(!f||0==f.length)return f||[];if((a=this.normalizedRequires)&&
b==e)return a;this.normalizedRequiresStatus=e;return this.normalizedRequires=d.normalizeModNames(this.runtime,f,this.name)}});g.Module=h})(KISSY);
(function(b){function e(){var a=d[url],k=a.node,l,f=0;if(j.isWebKit)k.sheet&&(f=1);else if(k.sheet)try{k.sheet.cssRules&&(f=1)}catch(i){l=i.name,"NS_ERROR_DOM_SECURITY_ERR"==l&&(f=1)}f&&(a.callback&&a.callback.call(k),delete d[url]);g=b.isEmptyObject(d)?0:setTimeout(e,h)}var h=30,j=b.Loader.Utils,g=0,d={};b.mix(j,{pollCss:function(a,b){var h;h=d[a.href]={};h.node=a;h.callback=b;g||e()}})})(KISSY);
(function(b){var e=b.Env.host.document,h=b.Loader.Utils,j=b.Path,g={};b.mix(b,{getScript:function(d,a,k){var l=h.resolveByPage(d).toString(),f=a,i=0,n,m,c;b.startsWith(j.extname(d).toLowerCase(),".css")&&(i=1);b.isPlainObject(f)&&(a=f.success,n=f.error,m=f.timeout,k=f.charset);f=g[l]=g[l]||[];f.push([a,n]);if(1<f.length)return f.node;var a=h.docHead(),o=e.createElement(i?"link":"script");i?(o.href=d,o.rel="stylesheet"):(o.src=d,o.async=!0);f.node=o;k&&(o.charset=k);var q=function(a){var f=a?1:0;if(c){c.cancel();
c=void 0}b.each(g[l],function(c){c[f]&&c[f].call(o)});delete g[l]};"onload"in o||!i?(o.onload=o.onreadystatechange=function(){var c=o.readyState;if(!c||c=="loaded"||c=="complete"){o.onreadystatechange=o.onload=null;q(0)}},o.onerror=function(){o.onerror=null;n(1)}):h.pollCss(o,function(){q(0)});m&&(c=b.later(function(){q(1)},1E3*m));a.appendChild(o);return o}})})(KISSY);
(function(b){var e=b.Loader,h=e.Utils,j=b.configs;j.map=function(b){return!1===b?this.Config.mappedRules=[]:this.Config.mappedRules=(this.Config.mappedRules||[]).concat(b||[])};j.mapCombo=function(b){return!1===b?this.Config.mappedComboRules=[]:this.Config.mappedComboRules=(this.Config.mappedComboRules||[]).concat(b||[])};j.packages=function(g){var d,a,k=this.Env,l=k.packages=k.packages||{};g?b.each(g,function(f,g){d=f.name||g;a=f.base||f.path;b.Env.nodejs&&!b.startsWith(a,"file:")&&(a="file:"+a);
b.endsWith(a,"/")||(a+="/");f.name=d;var k=h.resolveByPage(a);f.base=k.toString();f.baseUri=k;f.runtime=b;delete f.path;l[d]=new e.Package(f)}):!1===g&&(k.packages={})};j.modules=function(e){var d=this;e?b.each(e,function(a,e){h.createModuleInfo(d,e,a);b.mix(d.Env.mods[e],a)}):!1===e&&(d.Env.mods={})};j.base=function(e){var d=this.Config;if(!e)return d.base;b.Env.nodejs&&!b.startsWith(e,"file:")&&(e="file:"+e);e=h.resolveByPage(e);d.base=e.toString();d.baseUri=e}})(KISSY);
(function(b,e){var h=b.Loader,j=b.Path,g=h.Utils;b.augment(h,h.Target,{__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(d,a,h){var l=this.runtime,f,i=l.Env.mods;if(b.isPlainObject(d))return l.config({modules:d});if("string"==typeof d)g.registerModule(l,d,a,h),a=i[d],h&&!1===h.attach||(h&&(f=a.getNormalizedRequires()),(!f||g.isAttached(l,f))&&g.attachMod(l,a));else if(b.isFunction(d))if(h=a,a=d,g.IE){f=this.runtime;for(var d=b.Env.host.document.getElementsByTagName("script"),
n,m,i=0;i<d.length;i++)if(m=d[i],"interactive"==m.readyState){n=m;break}if(n){n=g.resolveByPage(n.src);var d=n.toString(),i=f.Env.packages,c,o;m=f.Config;var q,p=-1;for(o in i)f=i[o].getBase(),b.startsWith(d,f)&&f.length>p&&(p=f.length,c=f,q=i[o].getBaseUri());d=c?g.removeExtname(j.relative(q.getPath(),n.getPath())):b.startsWith(d,m.base)?g.removeExtname(j.relative(m.baseUri.getPath(),n.getPath())):e}else d=this.__startLoadModuleName;g.registerModule(l,d,a,h);this.__startLoadModuleName=null;this.__startLoadTime=
0}else this.__currentModule={fn:a,config:h}}})})(KISSY);
(function(b){function e(c){this.fn=c;this.waitMods={};this.requireLoadedMods={}}function h(c,a,f){var d,e=c.length,g=f.length;for(d=0;d<e;d++){var i=c[d],m=a,l=f,j=m.Env.mods[i];j.status!=o&&(b.inArray(i,l)?l.push(i):(l.push(i),h(j.getNormalizedRequires(),m,l),k.attachMod(m,j)));f.length=g}}function j(c,a,b){var f,d=a.length;for(f=0;f<d;f++){var e=c,h=a[f],m=b,l=e.runtime,j=void 0,j=l.Env.mods,A=j[h];A||(k.createModuleInfo(l,h),A=j[h]);j=A.status;j!=o&&(j===n?m.loadModRequires(e,A):(l=m.isModWait(h),
m.addWaitMod(h),j<=i&&!l&&g(e,A,m)))}}function g(a,d,e){function g(){d.fn?(e.loadModRequires(a,d),e.removeWaitMod(o),e.check()):d.status=m}var h=a.runtime,o=d.getName(),j=d.getCharset(),n=d.getFullPath(),x="css"==d.getType();d.status=i;l&&!x&&(a.__startLoadModuleName=o,a.__startLoadTime=Number(+new Date));b.getScript(n,{success:function(){f[o]||(f[o]=1);if(d.status==i)if(x)k.registerModule(h,o,b.noop);else{var e;if(e=a[c]){k.registerModule(h,o,e.fn,e.config);a[c]=null}}g()},error:g,charset:j})}var d=
b.Loader,a=d.STATUS,k=d.Utils,l=k.IE,f={},i=a.LOADING,n=a.LOADED,m=a.ERROR,c="__currentModule",o=a.ATTACHED;e.prototype={check:function(){var c=this.waitMods,a=this.fn;a&&b.isEmptyObject(c)&&(a(),this.fn=null)},addWaitMod:function(c){this.waitMods[c]=1},removeWaitMod:function(c){delete this.waitMods[c]},isModWait:function(c){return this.waitMods[c]},loadModRequires:function(c,a){var b=this.requireLoadedMods,f=a.name;b[f]||(b[f]=1,b=a.getNormalizedRequires(),j(c,b,this))}};b.augment(d,{use:function(c,
a){var b,f=new e(function(){h(b,d,[]);a&&a.apply(d,k.getModules(d,c))}),d=this.runtime,c=k.getModNamesAsArray(c),c=k.normalizeModNamesWithAlias(d,c);b=k.unalias(d,c);j(this,b,f);f.check();return this},clear:function(){}})})(KISSY);
(function(b){function e(c,a,f){var d=c&&c.length;d?b.each(c,function(c){b.getScript(c,function(){--d||a()},f||"utf-8")}):a()}function h(c){b.mix(this,{runtime:c,queue:[],loading:0})}function j(c){var a;c.queue.length&&(a=c.queue.shift(),d(c,a.modNames,a.fn))}function g(c,a,b){c.queue.push({modNames:a,fn:b})}function d(c,f,g){function i(a){x=a;z&&x&&(k(c,h),m.isAttached(w,h)?g.apply(null,m.getModules(w,f)):d(c,f,g))}var h,l,j,n,r,w=c.runtime;c.loading=1;f=m.getModNamesAsArray(f);f=m.normalizeModNamesWithAlias(w,
f);h=m.unalias(w,f);l=c.calculate(h);m.createModulesInfo(w,l);l=c.getComboUrls(l);j=l.css;n=0;for(r in j)n++;var x=0,z=!n;for(r in j)e(j[r],function(){if(!--n){for(var c in j)b.each(j[c].mods,function(c){m.registerModule(w,c.name,b.noop)});z=1;i(x)}},j[r].charset);a(l,i)}function a(c,a){var b,f,d=c.js,g=0;for(b in d)g++;if(g)for(b in f=1,d)(function(c){e(d[c],function(){var b=d[c].mods,e,i;for(i=0;i<b.length;i++)if(e=b[i],!e.fn){e.status=n.ERROR;f=0;return}f&&!--g&&a(1)},d[c].charset)})(b);else a(1)}
function k(c,a){b.each(a,function(a){l(c,a)})}function l(c,a){var b=c.runtime,f,d,e,g,i=c.runtime.Env.mods[a];if(i&&!m.isAttached(b,a)){e=i.getNormalizedRequires();d=e.length;for(f=0;f<d;f++)if(g=e[f],l(c,g),!m.isAttached(b,g))return!1;m.attachMod(b,i)}}function f(c,a,d){var e=c.runtime,g,i,h,k,l=b.Config.debug;i=c.runtime.Env.mods[a];var j=d[a];if(j)return j;d[a]=j={};if(i&&!m.isAttached(e,a)){g=i.getNormalizedRequires();if(l&&(k=i.__allRequires||(i.__allRequires={}),k[a]))return j;for(a=0;a<g.length;a++)h=
g[a],l&&(i=c.runtime.Env.mods[h],k[h]=1,i&&i.__allRequires&&b.each(i.__allRequires,function(c,a){k[a]=1})),!m.isLoaded(e,h)&&!m.isAttached(e,h)&&(j[h]=1),i=f(c,h,d),b.mix(j,i)}return j}var i=b.Loader,n=i.STATUS,m=i.Utils;b.augment(h,i.Target);b.augment(h,{use:function(c,a){var b=this;g(b,c,function(){a&&a.apply(this,arguments);b.loading=0;j(b)});b.loading||j(b)},add:function(c,a,f){var d=this.runtime;if(b.isPlainObject(c))return d.config({modules:c});m.registerModule(d,c,a,f)},calculate:function(c){var a=
{},d,e,g,i=this.runtime,h={};for(d=0;d<c.length;d++)e=c[d],m.isAttached(i,e)||(m.isLoaded(i,e)||(a[e]=1),b.mix(a,f(this,e,h)));c=[];for(g in a)c.push(g);return c},getComboUrls:function(c){var a=this,f,d=a.runtime,e=d.Config,g={};b.each(c,function(c){var c=a.runtime.Env.mods[c],b=c.getPackage(),f=b.getBase(),d=c.getType(),e,i=b.getName();g[i]=g[i]||{};if(!(e=g[i][d]))e=g[i][d]=g[i][d]||[],e.combine=1,!1===b.isCombine()&&(e.combine=0),e.tag=b.getTag(),e.charset=b.getCharset(),e.packageBase=f;e.push(c)});
var i={js:{},css:{}},h,k,l,c=e.comboPrefix,j=e.comboSep,n=e.comboMaxFileNum,A=e.comboMaxUrlLength;for(k in g)for(l in g[k]){h=[];var B=g[k][l],D=(f=B.tag)?"?t="+encodeURIComponent(f):"",C=D.length,y,E,J,I=B.packageBase+(k?k+"/":"");i[l][k]=[];i[l][k].charset=B.charset;i[l][k].mods=[];y=I+c;J=y.length;var K=function(){i[l][k].push(m.getMappedPath(d,y+h.join(j)+D,e.mappedComboRules||[]))};for(f=0;f<B.length;f++)if(E=B[f].getFullPath(),i[l][k].mods.push(B[f]),!B.combine||!b.startsWith(E,I))i[l][k].push(E);
else if(E=E.slice(I.length).replace(/\?.*$/,""),h.push(E),h.length>n||J+h.join(j).length+C>A)h.pop(),K(),h=[],f--;h.length&&K()}return i}});i.Combo=h})(KISSY);
(function(b){function e(){var d=/^(.*)(seed|kissy)(?:-min)?\.js[^/]*/i,a=/(seed|kissy)(?:-min)?\.js/i,e,g,f=b.Env.host.document.getElementsByTagName("script"),i=f[f.length-1],f=j.resolveByPage(i.src).toString(),i=(i=i.getAttribute("data-config"))?(new Function("return "+i))():{},f=f.replace(/%3f/gi,"?").replace(/%2c/gi,",");e=i.comboPrefix=i.comboPrefix||"??";g=i.comboSep=i.comboSep||",";var h,m=f.indexOf(e);-1==m?h=f.replace(d,"$1"):(h=f.substring(0,m),f=f.substring(m+e.length).split(g),b.each(f,
function(c){if(c.match(a))return h+=c.replace(d,"$1"),!1}));return b.mix({base:h,baseUri:new b.Uri(h)},i)}var h=b.Loader,j=h.Utils,g=b.Loader.Combo;b.mix(b,{add:function(b,a,e){this.getLoader().add(b,a,e)},use:function(b,a){this.getLoader().use(b,a)},getLoader:function(){var d=this.Env;return this.Config.combine&&!b.Env.nodejs?d._comboLoader:d._loader},clearLoader:function(){var b=this.Env,a;(a=b._comboLoader)&&a.clear&&a.clear();(a=b._loader)&&a.clear&&a.clear();this.config({map:!1,mapCombo:!1,modules:!1,
packages:!1})},require:function(b){return(b=this.Env.mods[b])&&b.value}});b.Env.nodejs?b.config("base",__dirname.replace(/\\/g,"/").replace(/\/$/,"")+"/"):b.config(b.mix({comboMaxUrlLength:2E3,comboMaxFileNum:40,charset:"utf-8",tag:"20121015140542"},e()));(function(){var d=b.Env;d.mods=d.mods||{};d._loader=new h(b);g&&(d._comboLoader=new g(b))})()})(KISSY);
(function(b,e){var h=b.Env.host,j=h.document,g=j&&j.documentElement,d=h.location,a=h.navigator,k=new b.Defer,l=k.promise,f=/^#?([\w-]+)$/,i=/\S/;b.mix(b,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var c;try{h.DOMParser?c=(new DOMParser).parseFromString(a,"text/xml"):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(b){c=e}!c||!c.documentElement||c.getElementsByTagName("parsererror");return c},globalEval:function(a){a&&
i.test(a)&&(h.execScript||function(c){h.eval.call(h,c)})(a)},ready:function(a){l.then(a);return this},available:function(a,c){if((a=(a+"").match(f)[1])&&b.isFunction(c))var d=1,e,g=b.later(function(){((e=j.getElementById(a))&&(c(e)||1)||500<++d)&&g.cancel()},40,!0)}});if(d&&-1!==(d.search||"").indexOf("ks-debug"))b.Config.debug=!0;(function(){var a=g&&g.doScroll,c=a?"onreadystatechange":"DOMContentLoaded",f=function(){k.resolve(b)};if(!j||"complete"===j.readyState)return f();if(j.addEventListener){var d=
function(){j.removeEventListener(c,d,!1);f()};j.addEventListener(c,d,!1);h.addEventListener("load",f,!1)}else{var e=function(){"complete"===j.readyState&&(j.detachEvent(c,e),f())};j.attachEvent(c,e);h.attachEvent("onload",f);var i;try{i=null===h.frameElement}catch(l){i=!1}if(a&&i){var n=function(){try{a("left"),f()}catch(c){setTimeout(n,40)}};n()}}return 0})();if(a&&a.userAgent.match(/MSIE/))try{j.execCommand("BackgroundImageCache",!1,!0)}catch(n){}})(KISSY,void 0);
(function(b){b.config({packages:{gallery:{base:b.Config.baseUri.resolve("../").toString()}},modules:{core:{alias:"dom,event,ajax,anim,base,node,json".split(",")}}})})(KISSY);
KISSY.Loader&&KISSY.config("modules",{flash:{requires:["ua","dom","json"]},combobox:{requires:["component","node","input-selection","menu","ajax"]},anim:{requires:["dom","event","ua"]},toolbar:{requires:["component","node"]},dom:{requires:["ua"]},menubutton:{requires:["menu","node","button","component"]},waterfall:{requires:["node","base"]},dd:{requires:["ua","dom","event","node","base"]},switchable:{requires:["dom","anim","event"]},tree:{requires:["node","component","event"]},button:{requires:["component",
"event"]},json:{requires:["ua"]},component:{requires:["event","ua","dom","node","base"]},event:{requires:["ua","dom"]},ajax:{requires:["json","event","dom"]},resizable:{requires:["node","base","dd"]},stylesheet:{requires:["dom"]},"input-selection":{requires:["dom"]},datalazyload:{requires:["dom","event","base"]},calendar:{requires:["node","ua","event"]},validation:{requires:["dom","event","node"]},imagezoom:{requires:["node","overlay"]},menu:{requires:["event","component","node","ua"]},suggest:{requires:["dom",
"event","ua"]},node:{requires:["event","dom","anim"]},editor:{requires:["htmlparser","component","core"]},"split-button":{requires:["component","button","menubutton"]},mvc:{requires:["base","event","node","ajax","json"]},color:{requires:["base"]},overlay:{requires:["ua","component","node"]},base:{requires:["event"]},separator:{requires:["component"]},tabs:{requires:["button","component","toolbar"]}});
KISSY.add("ua/base",function(b,e){var h=b.Env.host,j=h.document,g=(h=h.navigator)&&h.userAgent||"",d=h="",a,k=[6,9],j=j&&j.createElement("div"),l=[],f={webkit:e,trident:e,gecko:e,presto:e,chrome:e,safari:e,firefox:e,ie:e,opera:e,mobile:e,core:e,shell:e},i=function(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 0===b++?".":""}))};j&&(j.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",""),l=j.getElementsByTagName("s"));if(0<l.length){d="ie";f[h="trident"]=
0.1;if((a=g.match(/Trident\/([\d.]*)/))&&a[1])f[h]=i(a[1]);a=k[0];for(k=k[1];a<=k;a++)if(j.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",a),0<l.length){f[d]=a;break}}else if((a=g.match(/AppleWebKit\/([\d.]*)/))&&a[1]){f[h="webkit"]=i(a[1]);if((a=g.match(/Chrome\/([\d.]*)/))&&a[1])f[d="chrome"]=i(a[1]);else if((a=g.match(/\/([\d.]*) Safari/))&&a[1])f[d="safari"]=i(a[1]);if(/ Mobile\//.test(g))f.mobile="apple";else if(a=g.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))f.mobile=
a[0].toLowerCase()}else if((a=g.match(/Presto\/([\d.]*)/))&&a[1]){if(f[h="presto"]=i(a[1]),(a=g.match(/Opera\/([\d.]*)/))&&a[1]){f[d="opera"]=i(a[1]);if((a=g.match(/Opera\/.* Version\/([\d.]*)/))&&a[1])f[d]=i(a[1]);if((a=g.match(/Opera Mini[^;]*/))&&a)f.mobile=a[0].toLowerCase();else if((a=g.match(/Opera Mobi[^;]*/))&&a)f.mobile=a[0]}}else if((a=g.match(/MSIE\s([^;]*)/))&&a[1]){if(f[h="trident"]=0.1,f[d="ie"]=i(a[1]),(a=g.match(/Trident\/([\d.]*)/))&&a[1])f[h]=i(a[1])}else if(a=g.match(/Gecko/)){f[h=
"gecko"]=0.1;if((a=g.match(/rv:([\d.]*)/))&&a[1])f[h]=i(a[1]);if((a=g.match(/Firefox\/([\d.]*)/))&&a[1])f[d="firefox"]=i(a[1])}f.core=h;f.shell=d;f._numberify=i;return f});KISSY.add("ua/css",function(b,e){var h="webkit,trident,gecko,presto,chrome,safari,firefox,ie,opera".split(","),j=b.Env.host.document,j=j&&j.documentElement,g="",d;j&&(b.each(h,function(a){if(d=e[a])g+=" ks-"+a+(parseInt(d)+""),g+=" ks-"+a}),j.className=b.trim(j.className+g))},{requires:["./base"]});
KISSY.add("ua/extra",function(b,e,h){var j=b.Env.host,g=j.navigator,g=g&&g.userAgent||"",d,a,h={se360:h,maxthon:h,tt:h,theworld:h,sougou:h},k=e._numberify;if(g.match(/360SE/))h[a="se360"]=3;else if(g.match(/Maxthon/)&&(d=j.external)){a="maxthon";try{h[a]=k(d.max_version)}catch(l){h[a]=0.1}}else if(j=g.match(/TencentTraveler\s([\d.]*)/))h[a="tt"]=j[1]?k(j[1]):0.1;else if(g.match(/TheWorld/))h[a="theworld"]=3;else if(j=g.match(/SE\s([\d.]*)/))h[a="sougou"]=j[1]?k(j[1]):0.1;a&&(h.shell=a);b.mix(e,h);
return e},{requires:["ua/base"]});KISSY.add("ua",function(b,e){return b.UA=e},{requires:["ua/extra","ua/css"]});
KISSY.add("dom/attr",function(b,e,h,j){function g(c,a){var a=s[a]||a,b=v[a];return b&&b.get?b.get(c,a):c[a]}var d=b.Env.host.document,a=e.NodeType,k=d&&d.documentElement,h=h.ie&&(d.documentMode||h.ie),l=k&&k.textContent===j?"innerText":"textContent",f=e.nodeName,i=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:button|input|object|select|textarea)$/i,m=/^a(?:rea)?$/i,c=/:|^on/,o=/\r/g,q={},p={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},u={tabindex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):n.test(c.nodeName)||m.test(c.nodeName)&&c.href?0:j}},style:{get:function(c){return c.style.cssText},set:function(c,a){c.style.cssText=a}}},s={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},t={get:function(c,a){return e.prop(c,a)?a.toLowerCase():j},set:function(c,a,b){!1===a?e.removeAttr(c,b):(a=s[b]||b,a in c&&(c[a]=!0),c.setAttribute(b,b.toLowerCase()));return b}},v={},r={},w={option:{get:function(c){var a=c.attributes.value;return!a||a.specified?c.value:c.text}},select:{get:function(c){var a=c.selectedIndex,b=c.options;if(0>a)return null;if("select-one"===c.type)return e.val(b[a]);for(var c=[],a=0,f=b.length;a<
f;++a)b[a].selected&&c.push(e.val(b[a]));return c},set:function(c,a){var f=b.makeArray(a);b.each(c.options,function(c){c.selected=b.inArray(e.val(c),f)});f.length||(c.selectedIndex=-1);return f}}};h&&8>h&&(r={get:function(c,a){var b;return(b=c.getAttributeNode(a))&&(b.specified||b.nodeValue)?b.nodeValue:j},set:function(c,a,b){var f=c.getAttributeNode(b);if(f)f.nodeValue=a;else try{var d=c.ownerDocument.createAttribute(b);d.value=a;c.setAttributeNode(d)}catch(e){return c.setAttribute(b,a,0)}}},q=s,
u.tabIndex=u.tabindex,b.each("href,src,width,height,colSpan,rowSpan".split(","),function(c){u[c]={get:function(a){a=a.getAttribute(c,2);return a===null?j:a}}}),w.button=u.value=r);h&&9>h&&((u.href=u.href||{}).set=function(c,b,f){for(var d=c.childNodes,e,g=d.length,i=g>0,g=g-1;g>=0;g--)d[g].nodeType!=a.TEXT_NODE&&(i=0);if(i){e=c.ownerDocument.createElement("b");e.style.display="none";c.appendChild(e)}c.setAttribute(f,""+b);e&&c.removeChild(e)});b.each(["radio","checkbox"],function(c){w[c]={get:function(c){return c.getAttribute("value")===
null?"on":c.value},set:function(c,a){if(b.isArray(a))return c.checked=b.inArray(e.val(c),a)}}});b.mix(e,{prop:function(c,a,f){var d=e.query(c);if(b.isPlainObject(a)){b.each(a,function(c,a){e.prop(d,a,c)});return j}a=s[a]||a;c=v[a];if(f!==j)for(var i=d.length-1;i>=0;i--){var h=d[i];c&&c.set?c.set(h,f,a):h[a]=f}else if(d.length)return g(d[0],a);return j},hasProp:function(c,a){for(var b=e.query(c),f=0;f<b.length;f++)if(g(b[f],a)!==j)return true;return false},removeProp:function(c,a){for(var a=s[a]||
a,b=e.query(c),f=b.length-1;f>=0;f--){var d=b[f];try{d[a]=j;delete d[a]}catch(g){}}},attr:function(d,g,h,k){var l=e.query(d);if(b.isPlainObject(g)){var k=h,m;for(m in g)e.attr(l,m,g[m],k);return j}if(!(g=b.trim(g)))return j;if(k&&p[g])return e[g](d,h);g=g.toLowerCase();if(k&&p[g])return e[g](d,h);g=q[g]||g;k=l[0];d=i.test(g)?t:c.test(g)?r:u[g];if(h===j){if(k&&k.nodeType===a.ELEMENT_NODE){f(k)=="form"&&(d=r);if(d&&d.get)return d.get(k,g);g=k.getAttribute(g);return g===null?j:g}}else for(m=l.length-
1;m>=0;m--)if((k=l[m])&&k.nodeType===a.ELEMENT_NODE){f(k)=="form"&&(d=r);d&&d.set?d.set(k,h,g):k.setAttribute(g,""+h)}return j},removeAttr:function(c,b){var b=b.toLowerCase(),b=q[b]||b,f=e.query(c),d,g;for(g=f.length-1;g>=0;g--){d=f[g];if(d.nodeType==a.ELEMENT_NODE){var h;d.removeAttribute(b);if(i.test(b)&&(h=s[b]||b)in d)d[h]=false}}},hasAttr:k&&!k.hasAttribute?function(c,a){for(var a=a.toLowerCase(),b=e.query(c),f=0;f<b.length;f++){var d=b[f].getAttributeNode(a);if(d&&d.specified)return true}return false}:
function(c,a){for(var b=e.query(c),f=0;f<b.length;f++)if(b[f].hasAttribute(a))return true;return false},val:function(c,a){var d,g;if(a===j){var i=e.get(c);if(i){if((d=w[f(i)]||w[i.type])&&"get"in d&&(g=d.get(i,"value"))!==j)return g;g=i.value;return typeof g==="string"?g.replace(o,""):g==null?"":g}return j}g=e.query(c);var h;for(h=g.length-1;h>=0;h--){i=g[h];if(i.nodeType!==1)break;var k=a;k==null?k="":typeof k==="number"?k=k+"":b.isArray(k)&&(k=b.map(k,function(c){return c==null?"":c+""}));d=w[f(i)]||
w[i.type];if(!d||!("set"in d)||d.set(i,k,"value")===j)i.value=k}return j},_propHooks:v,text:function(c,b){if(b===j){var f=e.get(c);if(f.nodeType==a.ELEMENT_NODE)return f[l]||"";if(f.nodeType==a.TEXT_NODE)return f.nodeValue}else{var d=e.query(c),g;for(g=d.length-1;g>=0;g--){f=d[g];if(f.nodeType==a.ELEMENT_NODE)f[l]=b;else if(f.nodeType==a.TEXT_NODE)f.nodeValue=b}}return j}});return e},{requires:["./base","ua"]});
KISSY.add("dom/base",function(b,e,h){var j=b.Env.host,g={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},d={isCustomDomain:function(a){var a=a||j,b=a.document.domain,a=a.location.hostname;return b!=a&&b!="["+a+"]"},getEmptyIframeSrc:function(a){a=a||j;return e.ie&&d.isCustomDomain(a)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
a.document.domain+"';document.close();")+"}())":h},NodeType:g,_getWin:function(a){return null==a?j:"scrollTo"in a&&a.document?a:a.nodeType==g.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var b=d.get(a),a=b.nodeName.toLowerCase();e.ie&&(b=b.scopeName)&&"HTML"!=b&&(a=b.toLowerCase()+":"+a);return a}};b.mix(d,g);return d},{requires:["ua"]});
KISSY.add("dom/class",function(b,e,h){function j(a,l,f,i){if(!(l=b.trim(l)))return i?!1:h;for(var a=e.query(a),j=a.length,m=l.split(d),l=[],c=0;c<m.length;c++){var o=b.trim(m[c]);o&&l.push(o)}for(c=0;c<j;c++)if(m=a[c],m.nodeType==g.ELEMENT_NODE&&(m=f(m,l,l.length),m!==h))return m;return i?!1:h}var g=e.NodeType,d=/[\.\s]\s*\.?/,a=/[\n\t]/g;b.mix(e,{hasClass:function(b,d){return j(b,d,function(b,d,e){if(b=b.className){for(var b=(" "+b+" ").replace(a," "),g=0,c=!0;g<e;g++)if(0>b.indexOf(" "+d[g]+" ")){c=
!1;break}if(c)return!0}},!0)},addClass:function(d,e){j(d,e,function(f,d,g){var h=f.className;if(h){for(var c=(" "+h+" ").replace(a," "),k=0;k<g;k++)0>c.indexOf(" "+d[k]+" ")&&(h+=" "+d[k]);f.className=b.trim(h)}else f.className=e},h)},removeClass:function(d,e){j(d,e,function(f,d,e){var g=f.className;if(g)if(e){for(var g=(" "+g+" ").replace(a," "),c=0,h;c<e;c++)for(h=" "+d[c]+" ";0<=g.indexOf(h);)g=g.replace(h," ");f.className=b.trim(g)}else f.className=""},h)},replaceClass:function(a,b,f){e.removeClass(a,
b);e.addClass(a,f)},toggleClass:function(a,d,f){var g=b.isBoolean(f),n;j(a,d,function(a,c,b){for(var d=0,h;d<b;d++)h=c[d],n=g?!f:e.hasClass(a,h),e[n?"removeClass":"addClass"](a,h)},h)}});return e},{requires:["dom/base"]});
KISSY.add("dom/create",function(b,e,h,j){function g(c){var a=b.require("event");a&&a.detach(c);e.removeData(c)}function d(c,a,b){if(a.nodeType==i.DOCUMENT_FRAGMENT_NODE)for(var a=a.childNodes,b=b.childNodes,f=0;a[f];)b[f]&&d(c,a[f],b[f]),f++;else if(a.nodeType==i.ELEMENT_NODE){a=a.getElementsByTagName("*");b=b.getElementsByTagName("*");for(f=0;a[f];)b[f]&&c(a[f],b[f]),f++}}function a(c,a){var f=b.require("event");if(a.nodeType!=i.ELEMENT_NODE||e.hasData(c)){var d=e.data(c),g;for(g in d)e.data(a,g,
d[g]);f&&(f._removeData(a),f._clone(c,a))}}function k(c,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(c);var b=a.nodeName.toLowerCase(),f=c.childNodes;if("object"===b&&!a.childNodes.length)for(b=0;b<f.length;b++)a.appendChild(f[b].cloneNode(!0));else if("input"===b&&("checkbox"===c.type||"radio"===c.type)){if(c.checked&&(a.defaultChecked=a.checked=c.checked),a.value!==c.value)a.value=c.value}else if("option"===b)a.selected=c.defaultSelected;else if("input"===b||"textarea"===
b)a.defaultValue=c.defaultValue;a.removeAttribute(e.__EXPANDO)}function l(c){var a=null,f,d;if(c&&(c.push||c.item)&&c[0]){a=c[0].ownerDocument;a=a.createDocumentFragment();c=b.makeArray(c);f=0;for(d=c.length;f<d;f++)a.appendChild(c[f])}return a}var f=b.Env.host.document,i=e.NodeType,h=h.ie,n=f&&f.createElement("div"),m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,o=/<tbody/i,q=/^\s+/,p=h&&9>h,u=/<|&#?\w+;/,s=f&&"outerHTML"in f.documentElement,t=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
b.mix(e,{create:function(a,d,g,h){var k=null;if(!a)return k;if(a.nodeType)return e.clone(a);if("string"!=typeof a)return k;h===j&&(h=!0);h&&(a=b.trim(a));var h=e._creators,n,o,g=g||f,s,v="div";if(u.test(a))if(s=t.exec(a))k=g.createElement(s[1]);else{a=a.replace(m,"<$1></$2>");if((s=c.exec(a))&&(n=s[1]))v=n.toLowerCase();n=(h[v]||h.div)(a,g);p&&(o=a.match(q))&&n.insertBefore(g.createTextNode(o[0]),n.firstChild);a=n.childNodes;1===a.length?k=a[0].parentNode.removeChild(a[0]):a.length&&(k=l(a))}else k=
g.createTextNode(a);b.isPlainObject(d)&&(k.nodeType==i.ELEMENT_NODE?e.attr(k,d,!0):k.nodeType==i.DOCUMENT_FRAGMENT_NODE&&e.attr(k.childNodes,d,!0));return k},_creators:{div:function(c,a){var b=a&&a!=f?a.createElement("div"):n;b.innerHTML="m<div>"+c+"</div>";return b.lastChild}},html:function(a,b,f,d){var a=e.query(a),h=a[0];if(h){if(b===j)return h.nodeType==i.ELEMENT_NODE?h.innerHTML:null;var k=!1,l,m,b=b+"";if(!b.match(/<(?:script|style|link)/i)&&(!p||!b.match(q))&&!w[(b.match(c)||["",""])[1].toLowerCase()])try{for(l=
a.length-1;0<=l;l--)m=a[l],m.nodeType==i.ELEMENT_NODE&&(g(m.getElementsByTagName("*")),m.innerHTML=b);k=!0}catch(n){}k||(b=e.create(b,0,h.ownerDocument,0),e.empty(a),e.append(b,a,f));d&&d()}},outerHTML:function(c,a,b){var c=e.query(c),f=c.length,d=c[0];if(d){if(a===j){if(s)return d.outerHTML;a=d.ownerDocument.createElement("div");a.appendChild(e.clone(d,!0));return a.innerHTML}a+="";if(!a.match(/<(?:script|style|link)/i)&&s)for(b=f-1;0<=b;b--)d=c[b],d.nodeType==i.ELEMENT_NODE&&(g(d),g(d.getElementsByTagName("*")),
d.outerHTML=a);else a=e.create(a,0,d.ownerDocument,0),e.insertBefore(a,c,b),e.remove(c)}},remove:function(c,a){var b,f=e.query(c),d;for(d=f.length-1;0<=d;d--){b=f[d];if(!a&&b.nodeType==i.ELEMENT_NODE){var h=b.getElementsByTagName("*");g(h);g(b)}b.parentNode&&b.parentNode.removeChild(b)}},clone:function(c,b,f,g){"object"===typeof b&&(g=b.deepWithDataAndEvent,f=b.withDataAndEvent,b=b.deep);c=e.get(c);if(!c)return null;var h=c.cloneNode(b);if(c.nodeType==i.ELEMENT_NODE||c.nodeType==i.DOCUMENT_FRAGMENT_NODE)c.nodeType==
i.ELEMENT_NODE&&k(c,h),b&&d(k,c,h);f&&(a(c,h),b&&g&&d(a,c,h));return h},empty:function(c){var c=e.query(c),a,b;for(b=c.length-1;0<=b;b--)a=c[b],e.remove(a.childNodes)},nodeListToFragment:l});var v=e._creators,r=e.create,w={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},x;for(x in w)(function(c){v[x]=function(a,b){return r("<"+c+">"+a+"</"+c+">",null,b)}})(w[x]);8>h&&
(v.table=function(c,a){var f=v.div(c,a);if(o.test(c))return f;var d=f.firstChild,g=b.makeArray(d.childNodes);b.each(g,function(c){"tbody"==e.nodeName(c)&&!c.childNodes.length&&d.removeChild(c)});return f});return e},{requires:["./base","ua"]});
KISSY.add("dom/data",function(b,e,h){var j=b.Env.host,g="__ks_data_"+b.now(),d={},a={},k={applet:1,object:1,embed:1},l={hasData:function(a,f){if(a)if(f!==h){if(f in a)return!0}else if(!b.isEmptyObject(a))return!0;return!1}},f={hasData:function(b,d){return b==j?f.hasData(a,d):l.hasData(b[g],d)},data:function(b,d,c){if(b==j)return f.data(a,d,c);var e=b[g];if(c!==h)e=b[g]=b[g]||{},e[d]=c;else return d!==h?e&&e[d]:e=b[g]=b[g]||{}},removeData:function(d,e){if(d==j)return f.removeData(a,e);var c=d[g];if(e!==
h)delete c[e],b.isEmptyObject(c)&&f.removeData(d);else try{delete d[g]}catch(i){d[g]=h}}},i={hasData:function(a,b){var c=a[g];return!c?!1:l.hasData(d[c],b)},data:function(a,f,c){if(k[a.nodeName.toLowerCase()])return h;var e=a[g];if(!e){if(f!==h&&c===h)return h;e=a[g]=b.guid()}a=d[e];if(c!==h)a=d[e]=d[e]||{},a[f]=c;else return f!==h?a&&a[f]:a=d[e]=d[e]||{}},removeData:function(a,f){var c=a[g],e;if(c)if(e=d[c],f!==h)delete e[f],b.isEmptyObject(e)&&i.removeData(a);else{delete d[c];try{delete a[g]}catch(k){a[g]=
h}a.removeAttribute&&a.removeAttribute(g)}}};b.mix(e,{__EXPANDO:g,hasData:function(a,b){for(var c=!1,d=e.query(a),g=0;g<d.length&&!(c=d[g],c=c.nodeType?i.hasData(c,b):f.hasData(c,b));g++);return c},data:function(a,d,c){var a=e.query(a),g=a[0];if(b.isPlainObject(d)){for(var k in d)e.data(a,k,d[k]);return h}if(c===h){if(g)return g.nodeType?i.data(g,d):f.data(g,d)}else for(k=a.length-1;0<=k;k--)g=a[k],g.nodeType?i.data(g,d,c):f.data(g,d,c);return h},removeData:function(a,b){var c=e.query(a),d,g;for(g=
c.length-1;0<=g;g--)d=c[g],d.nodeType?i.removeData(d,b):f.removeData(d,b)}});return e},{requires:["./base"]});KISSY.add("dom",function(b,e){b.mix(b,{DOM:e,get:e.get,query:e.query});return e},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(b,e,h){function j(c){for(var a=0;a<c.length;a++){var b=c[a];if(b.nodeType==k.DOCUMENT_FRAGMENT_NODE)j(b.childNodes);else if("input"==f(b)){if("checkbox"===b.type||"radio"===b.type)b.defaultChecked=b.checked}else if(b.nodeType==k.ELEMENT_NODE)for(var b=b.getElementsByTagName("input"),d=0;d<b.length;d++)j(b[d])}}function g(a,b){var d=[],e,h,j;for(e=0;a[e];e++)if(h=a[e],j=f(h),h.nodeType==k.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,g(i(h.childNodes),b));else if("script"===
j&&(!h.type||m.test(h.type)))h.parentNode&&h.parentNode.removeChild(h),b&&b.push(h);else{if(h.nodeType==k.ELEMENT_NODE&&!l.test(j)){j=[];var t,v,r=h.getElementsByTagName("script");for(v=0;v<r.length;v++)t=r[v],(!t.type||m.test(t.type))&&j.push(t);n.apply(a,[e+1,0].concat(j))}d.push(h)}return d}function d(a){a.src?b.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function a(a,f,i,k){a=h.query(a);k&&(k=[]);a=g(a,k);8>e.ie&&j(a);var f=h.query(f),l=f.length;if((a.length||
k&&k.length)&&l){var a=h.nodeListToFragment(a),m;1<l&&(m=h.clone(a,!0),f=b.makeArray(f));for(var n=0;n<l;n++){var v=f[n];if(a){var r=0<n?h.clone(m,!0):a;i(r,v)}k&&k.length&&b.each(k,d)}}}var k=h.NodeType,l=/^(?:button|input|object|select|textarea)$/i,f=h.nodeName,i=b.makeArray,n=[].splice,m=/\/(java|ecma)script/i;b.mix(h,{insertBefore:function(c,b,d){a(c,b,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(c,b,d){a(c,b,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,
c.nextSibling)},d)},appendTo:function(c,b,d){a(c,b,function(a,c){c.appendChild(a)},d)},prependTo:function(c,b,d){a(c,b,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(a,b){b=h.clone(h.get(b),!0);a=h.query(a);a[0].parentNode&&h.insertBefore(b,a[0]);for(var d;(d=b.firstChild)&&1==d.nodeType;)b=d;h.appendTo(a,b)},wrap:function(a,d){a=h.query(a);d=h.get(d);b.each(a,function(a){h.wrapAll(a,d)})},wrapInner:function(a,d){a=h.query(a);d=h.get(d);b.each(a,function(a){var c=a.childNodes;
c.length?h.wrapAll(c,d):a.appendChild(d)})},unwrap:function(a){a=h.query(a);b.each(a,function(a){a=a.parentNode;h.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var d=h.query(a),b=h.query(b);h.remove(b,!0);h.insertBefore(b,d);h.remove(d)}});b.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){h[b]=h[a]});return h},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(b,e,h,j){function g(a){var b,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[c];b=b[o];a-=l.clientLeft||d.clientLeft||0;b-=l.clientTop||d.clientTop||0;return{left:a,top:b}}function d(a,c){var b={left:0,top:0},d=f(a[m]),i=a,c=c||d;do{var h;if(d==c){var k=i;h=g(k);k=f(k[m]);h.left+=e[p](k);h.top+=e[u](k)}else h=g(i);b.left+=h.left;b.top+=h.top}while(d&&d!=c&&(i=d.frameElement)&&(d=d.parent));return b}var a=b.Env.host,
h=a.document,k=e.NodeType,l=h&&h.documentElement,f=e._getWin,i=Math.max,n=parseInt,m="ownerDocument",c="left",o="top",q=b.isNumber,p="scrollLeft",u="scrollTop";b.mix(e,{offset:function(a,c,b){if(c===j){var a=e.get(a),f;a&&(f=d(a,b));return f}b=e.query(a);for(f=b.length-1;0<=f;f--){var a=b[f],g=c;"static"===e.css(a,"position")&&(a.style.position="relative");var i=d(a),h={},k=void 0,l=void 0;for(l in g)k=n(e.css(a,l),10)||0,h[l]=k+g[l]-i[l];e.css(a,h)}return j},scrollIntoView:function(a,b,d,g,i){var h,
l,m;if(l=e.get(a)){b&&(b=e.get(b));b||(b=l.ownerDocument);!0!==i&&(g=g===j?!0:!!g,d=d===j?!0:!!d);b.nodeType==k.DOCUMENT_NODE&&(b=f(b));m=!!f(b);i=e.offset(l);a=e.outerHeight(l);h=e.outerWidth(l);var p,q,u,y;m?(l=b,p=e.height(l),q=e.width(l),y={left:e.scrollLeft(l),top:e.scrollTop(l)},l=i[c]-y[c],m=i[o]-y[o],h=i[c]+h-(y[c]+q),i=i[o]+a-(y[o]+p)):(p=e.offset(b),q=b.clientHeight,u=b.clientWidth,y={left:e.scrollLeft(b),top:e.scrollTop(b)},l=i[c]-p[c]-(n(e.css(b,"borderLeftWidth"))||0),m=i[o]-p[o]-(n(e.css(b,
"borderTopWidth"))||0),h=i[c]+h-(p[c]+u+(n(e.css(b,"borderRightWidth"))||0)),i=i[o]+a-(p[o]+q+(n(e.css(b,"borderBottomWidth"))||0)));if(0>m||0<i)!0===d?e.scrollTop(b,y.top+m):!1===d?e.scrollTop(b,y.top+i):0>m?e.scrollTop(b,y.top+m):e.scrollTop(b,y.top+i);if(g&&(0>l||0<h))!0===d?e.scrollLeft(b,y.left+l):!1===d?e.scrollLeft(b,y.left+h):0>l?e.scrollLeft(b,y.left+l):e.scrollLeft(b,y.left+h)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});b.each(["Left","Top"],function(c,
b){var d="scroll"+c;e[d]=function(g,i){if(q(g))return arguments.callee(a,g);var g=e.get(g),h,l=f(g);if(l)if(i!==j){var i=parseFloat(i),m="Left"==c?i:e.scrollLeft(l),p="Top"==c?i:e.scrollTop(l);l.scrollTo(m,p)}else h=l["page"+(b?"Y":"X")+"Offset"],q(h)||(l=l.document,h=l.documentElement[d],q(h)||(h=l.body[d]));else g.nodeType==k.ELEMENT_NODE&&(i!==j?g[d]=parseFloat(i):h=g[d]);return h}});b.each(["Width","Height"],function(a){e["doc"+a]=function(c){c=e.get(c);c=f(c).document;return i(c.documentElement["scroll"+
a],c.body["scroll"+a],e["viewport"+a](c))};e["viewport"+a]=function(c){var c=e.get(c),b="client"+a,c=f(c).document,d=c.body,g=c.documentElement[b];return"CSS1Compat"===c.compatMode&&g||d&&d[b]||g}});return e},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(b,e,h){function j(a){var c,b;for(b=0;b<this.length&&!(c=this[b],!1===a(c,b));b++);}function g(f,e){var i,k,l="string"==typeof f,m=e===h&&(k=1)?[c]:g(e);if(f)if(l)f=x(f),k&&"body"==f?i=[c.body]:1==m.length&&f&&(i=a(f,m[0]));else{if(k)if(f.nodeType||f.setTimeout)i=[f];else{if(f.getDOMNodes)return f;i=p(f)?f:s(f)?b.makeArray(f):[f]}}else i=[];if(!i&&(i=[],f)){for(k=0;k<m.length;k++)v.apply(i,d(f,m[k]));1<i.length&&(1<m.length||l&&-1<f.indexOf(w))&&D(i)}i.each=j;return i}
function d(a,c){var f=[];if((f="string"==typeof a)&&a.match(B)||!f)f=k(a,c);else if(f&&-1<a.indexOf(w)){var f=[],e,g=a.split(/\s*,\s*/);for(e=0;e<g.length;e++)v.apply(f,d(g[e],c))}else f=[],(e=b.require("sizzle"))&&e(a,c,f);return f}function a(a,c){var b,d,e,g;if(A.test(a))b=(d=f(a.slice(1),c))?[d]:[];else if(e=B.exec(a)){d=e[1];g=e[2];e=e[3];if(c=d?f(d,c):c)e?!d||-1!=a.indexOf(r)?b=[].concat(C(e,g,c)):(d=f(d,c))&&n(d,e)&&(b=[d]):g&&(b=i(g,c));b=b||[]}return b}function k(c,b){var d;"string"==typeof c?
d=a(c,b)||[]:p(c)||s(c)?d=q(c,function(a){return l(a,b)}):l(c,b)&&(d=[c]);return d}function l(a,b){return!a?!1:b==c?!0:e.contains(b,a)}function f(a,c){var b=c.nodeType==o.DOCUMENT_NODE,d,f;(f=(b?c:c.ownerDocument).getElementById(a))?m(f,a)?(d=0,b=b?0:1):(d=1,b=0):(d=b?0:1,b=0);d?f=e.filter(z,"#"+a,c)[0]||null:b&&!l(f,c)&&(f=null);return f}function i(a,c){return c&&u(c.getElementsByTagName(a))||[]}function n(a,c){var b;return(b=a.className)&&-1!==(" "+b+" ").indexOf(" "+c+" ")}function m(a,c){var b=
a.getAttributeNode("id");return b&&b.nodeValue===c}var c=b.Env.host.document,o=e.NodeType,q=b.filter,p=b.isArray,u=b.makeArray,s=e._isNodeList,t=e.nodeName,v=Array.prototype.push,r=" ",w=",",x=b.trim,z="*",A=/^#[\w-]+$/,B=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,D=b.noop;(function(){var a,b,d=!0;[0,0].sort(function(){d=!1;return 0});D=function(c){if(a&&(b=d,c.sort(a),b))for(var f=1,e=c.length;f<e;)c[f]===c[f-1]?c.splice(f,1):f++;return c};a=c&&c.documentElement.compareDocumentPosition?function(a,
c){return a==c?(b=!0,0):!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1}:function(a,c){if(a==c)return b=!0,0;if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex}})();c&&function(){var a=c.createElement("div");a.appendChild(c.createComment(""));0<a.getElementsByTagName(z).length&&(i=function(a,c){var b=u(c.getElementsByTagName(a));if(a===z){for(var d=[],f=0,e;e=b[f++];)1===e.nodeType&&d.push(e);b=d}return b})}();
var C=c&&c.getElementsByClassName?function(a,c,b){if(!b)return[];var a=b.getElementsByClassName(a),d=0,f=a.length,e;if(c&&c!==z)for(b=[];d<f;++d)e=a[d],t(e)==c&&b.push(e);else b=u(a);return b}:c&&c.querySelectorAll?function(a,c,b){return b&&u(b.querySelectorAll((c?c:"")+"."+a))||[]}:function(a,c,b){if(!b)return[];for(var c=b.getElementsByTagName(c||z),b=[],d=0,f=c.length,e;d<f;++d)e=c[d],n(e,a)&&b.push(e);return b};b.mix(e,{query:g,get:function(a,c){return g(a,c)[0]||null},unique:D,filter:function(a,
c,d){var a=g(a,d),d=b.require("sizzle"),f,e,i,h,k=[];if("string"==typeof c&&(c=x(c))&&(f=B.exec(c)))i=f[1],e=f[2],h=f[3],i?i&&!e&&!h&&(c=function(a){return m(a,i)}):c=function(a){var c=!0,b=!0;e&&(c=t(a)==e);h&&(b=n(a,h));return b&&c};b.isFunction(c)?k=b.filter(a,c):c&&d&&(k=d.matches(c,a));return k},test:function(a,c,b){a=g(a,b);return a.length&&e.filter(a,c,b).length===a.length}});return e},{requires:["./base"]});
KISSY.add("dom/style-ie",function(b,e,h,j){if(!h.ie)return e;var g=b.Env.host.document,d=g&&g.documentElement,a=j._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,l=/^-?\d/,f=/opacity\s*=\s*([^)]*)/,i=/alpha\([^)]*\)/i;a.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==d.style.opacity&&(a.opacity={get:function(a,b){return f.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":b?"1":""},set:function(a,d){var d=parseFloat(d),f=a.style,e=a.currentStyle,g=isNaN(d)?"":"alpha(opacity="+100*d+")",h=b.trim(e&&e.filter||f.filter||"");f.zoom=1;if((1<=d||!g)&&!b.trim(h.replace(i,"")))if(f.removeAttribute("filter"),!g||e&&!e.filter)return;f.filter=i.test(h)?h.replace(i,g):h+(h?", ":"")+g}})}catch(n){}var h=8==h.ie,m={};m.thin=h?"1px":"2px";m.medium=h?"3px":"4px";m.thick=h?"5px":"6px";b.each(["","Top","Left","Right","Bottom"],function(c){var b="border"+c+"Width",d="border"+
c+"Style";a[b]={get:function(a,c){var f=c?a.currentStyle:0,e=f&&""+f[b]||void 0;e&&0>e.indexOf("px")&&(e=m[e]&&"none"!==f[d]?m[e]:0);return e}}});if(!(g.defaultView||{}).getComputedStyle&&d.currentStyle)e._getComputedStyle=function(a,b){var b=e._cssProps[b]||b,d=a.currentStyle&&a.currentStyle[b];if(!k.test(d)&&l.test(d)&&-1==d.indexOf(" ")){var f=a.style,g=f.left,i=a.runtimeStyle&&a.runtimeStyle.left;i&&(a.runtimeStyle.left=a.currentStyle.left);f.left="fontSize"===b?"1em":d||0;d=f.pixelLeft+"px";
f.left=g;i&&(a.runtimeStyle.left=i)}return""===d?"auto":d};return e},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(b,e,h,j){function g(a){return a.replace(t,"ms-").replace(v,r)}function d(a,b,d){var f={},e;for(e in b)f[e]=a[c][e],a[c][e]=b[e];d.call(a);for(e in b)a[c][e]=f[e]}function a(a,b,d){var f;if(3===a.nodeType||8===a.nodeType||!(f=a[c]))return j;var b=g(b),e,i=A[b],b=B[b]||b;if(d!==j){null===d||d===x?d=x:!isNaN(Number(d))&&!s[b]&&(d+=z);i&&i.set&&(d=i.set(a,d));if(d!==j){try{f[b]=d}catch(h){}d===x&&f.removeAttribute&&f.removeAttribute(b)}f.cssText||a.removeAttribute("style");
return j}if(!i||!("get"in i&&(e=i.get(a,!1))!==j))e=f[b];return e===j?"":e}function k(a){var c,b=arguments;0!==a.offsetWidth?c=l.apply(j,b):d(a,E,function(){c=l.apply(j,b)});return c}function l(a,c,d){if(b.isWindow(a))return c==o?e.viewportWidth(a):e.viewportHeight(a);if(9==a.nodeType)return c==o?e.docWidth(a):e.docHeight(a);var f=c===o?["Left","Right"]:["Top","Bottom"],g=c===o?a.offsetWidth:a.offsetHeight;if(0<g)return"border"!==d&&b.each(f,function(c){d||(g-=parseFloat(e.css(a,"padding"+c))||0);
g="margin"===d?g+(parseFloat(e.css(a,d+c))||0):g-(parseFloat(e.css(a,"border"+c+"Width"))||0)}),g;g=e._getComputedStyle(a,c);if(null==g||0>Number(g))g=a.style[c]||0;g=parseFloat(g)||0;d&&b.each(f,function(c){g+=parseFloat(e.css(a,"padding"+c))||0;"padding"!==d&&(g+=parseFloat(e.css(a,"border"+c+"Width"))||0);"margin"===d&&(g+=parseFloat(e.css(a,d+c))||0)});return g}var f=b.Env.host,i=f.document,n=i&&i.documentElement,m=h.ie,c="style",o="width",q="display"+b.now(),p=parseInt,u=/^-?\d+(?:px)?$/i,s=
{fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},t=/^-ms-/,v=/-([a-z])/ig,r=function(a,c){return c.toUpperCase()},w=/([A-Z]|^ms)/g,x="",z="px",A={},B={},D={};n&&(n[c].cssFloat!==j?B["float"]="cssFloat":n[c].styleFloat!==j&&(B["float"]="styleFloat"));var C,y;b.mix(e,{_camelCase:g,_CUSTOM_STYLES:A,_cssProps:B,_getComputedStyle:function(a,b){var d="",f,g=a.ownerDocument,b=b.replace(w,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(a,null))d=f.getPropertyValue(b)||
f[b];""==d&&!e.contains(g.documentElement,a)&&(b=B[b]||b,d=a[c][b]);return d},style:function(c,d,f){var c=e.query(c),g=c[0];if(b.isPlainObject(d)){for(var i in d)for(g=c.length-1;0<=g;g--)a(c[g],i,d[i]);return j}if(f===j)return i="",g&&(i=a(g,d,f)),i;for(g=c.length-1;0<=g;g--)a(c[g],d,f);return j},css:function(c,d,f){var c=e.query(c),i=c[0],h;if(b.isPlainObject(d)){for(h in d)for(i=c.length-1;0<=i;i--)a(c[i],h,d[h]);return j}d=g(d);h=A[d];if(f===j){f="";if(i&&(!h||!("get"in h&&(f=h.get(i,!0))!==j)))f=
e._getComputedStyle(i,d);return f===j?"":f}for(i=c.length-1;0<=i;i--)a(c[i],d,f);return j},show:function(a){var a=e.query(a),b,d;for(d=a.length-1;0<=d;d--)if(b=a[d],b[c].display=e.data(b,q)||x,"none"===e.css(b,"display")){var f;a:{f=b.tagName.toLowerCase();var g=void 0,k=void 0;if(!D[f]){g=i.body||i.documentElement;k=i.createElement(f);e.prepend(k,g);var l=e.css(k,"display");g.removeChild(k);if("none"==l||""==l){if(C)e.prepend(C,g);else if(C=i.createElement("iframe"),C.frameBorder=C.width=C.height=
0,e.prepend(C,g),k=void 0,k=e.getEmptyIframeSrc())C.src=k;if(!y||!C.createElement)try{y=C.contentWindow.document,y.write(("CSS1Compat"===i.compatMode?"<!doctype html>":"")+"<html><head>"+(h.ie&&e.isCustomDomain()?"<script>document.domain= '"+i.domain+"';<\/script>":"")+"</head><body>"),y.close()}catch(j){f="block";break a}k=y.createElement(f);y.body.appendChild(k);l=e.css(k,"display");g.removeChild(C)}D[f]=l}f=D[f]}e.data(b,q,f);b[c].display=f}},hide:function(a){var a=e.query(a),b,d;for(d=a.length-
1;0<=d;d--){b=a[d];var f=b[c],g=f.display;"none"!==g&&(g&&e.data(b,q,g),f.display="none")}},toggle:function(a){var a=e.query(a),c,b;for(b=a.length-1;0<=b;b--)c=a[b],"none"===e.css(c,"display")?e.show(c):e.hide(c)},addStyleSheet:function(a,c,b){a=a||f;"string"==typeof a&&(b=c,c=a,a=f);var a=e.get(a),a=e._getWin(a).document,d;if(b&&(b=b.replace("#",x)))d=e.get("#"+b,a);d||(d=e.create("<style>"+c+"</style>",{id:b},a),e.get("head",a).appendChild(d))},unselectable:function(a){var a=e.query(a),b,d;for(d=
a.length-1;0<=d;d--)if(b=a[d],h.gecko)b[c].MozUserSelect="none";else if(h.webkit)b[c].KhtmlUserSelect="none";else if(h.ie||h.opera){var f=0,g=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=g[f++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});b.each([o,"height"],function(a){e["inner"+(a.charAt(0).toUpperCase()+
a.substring(1))]=function(c){return(c=e.get(c))&&k(c,a,"padding")};e["outer"+(a.charAt(0).toUpperCase()+a.substring(1))]=function(c,b){var d=e.get(c);return d&&k(d,a,b?"margin":"border")};e[a]=function(c,b){var d=e.css(c,a,b);d&&(d=parseFloat(d));return d}});var E={position:"absolute",visibility:"hidden",display:"block"};b.each(["height","width"],function(a){A[a]={get:function(c,b){if(b)return k(c,a)+"px"},set:function(a,c){if(u.test(c)){if(c=parseFloat(c),0<=c)return c+"px"}else return c}}});b.each(["left",
"top"],function(a){A[a]={get:function(c,d){if(d){var f=e._getComputedStyle(c,a);if("auto"===f){f=0;if(b.inArray(e.css(c,"position"),["absolute","fixed"])){f=c["left"===a?"offsetLeft":"offsetTop"];if(m&&9!=i.documentMode||h.opera)f-=c.offsetParent&&c.offsetParent["client"+("left"==a?"Left":"Top")]||0;f-=p(e.css(c,"margin-"+a))||0}f+="px"}return f}}}});return e},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(b,e,h){function j(a,d,l,j,c,o,q){if(!(a=e.get(a)))return null;if(0===d)return a;o||(a=a[l]);if(!a)return null;c=c&&e.get(c)||null;d===h&&(d=1);var o=[],p=b.isArray(d),u,s;b.isNumber(d)&&(u=0,s=d,d=function(){return++u===s});for(;a&&a!=c;){if((a.nodeType==k.ELEMENT_NODE||a.nodeType==k.TEXT_NODE&&q)&&g(a,d)&&(!j||j(a)))if(o.push(a),!p)break;a=a[l]}return p?o:o[0]||null}function g(a,d){if(!d)return!0;if(b.isArray(d)){var g,h=d.length;if(!h)return!0;for(g=0;g<h;g++)if(e.test(a,
d[g]))return!0}else if(e.test(a,d))return!0;return!1}function d(a,d,g,h){var c=[],l,j;if((l=a=e.get(a))&&g)l=a.parentNode;if(l){g=b.makeArray(l.childNodes);for(l=0;l<g.length;l++)j=g[l],(h||j.nodeType==k.ELEMENT_NODE)&&j!=a&&c.push(j);d&&(c=e.filter(c,d))}return c}var a=b.Env.host.document,k=e.NodeType,l=(a=a&&a.documentElement)&&a.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:a&&a.contains?function(a,b){a.nodeType==k.DOCUMENT_NODE&&(a=a.documentElement);b=b.parentNode;
return a==b?!0:b&&b.nodeType==k.ELEMENT_NODE?a.contains&&a.contains(b):!1}:0;b.mix(e,{closest:function(a,b,d,e){return j(a,b,"parentNode",function(a){return a.nodeType!=k.DOCUMENT_FRAGMENT_NODE},d,!0,e)},parent:function(a,b,d){return j(a,b,"parentNode",function(a){return a.nodeType!=k.DOCUMENT_FRAGMENT_NODE},d,h)},first:function(a,b,d){a=e.get(a);return j(a&&a.firstChild,b,"nextSibling",h,h,!0,d)},last:function(a,b,d){a=e.get(a);return j(a&&a.lastChild,b,"previousSibling",h,h,!0,d)},next:function(a,
b,d){return j(a,b,"nextSibling",h,h,h,d)},prev:function(a,b,d){return j(a,b,"previousSibling",h,h,h,d)},siblings:function(a,b,e){return d(a,b,!0,e)},children:function(a,b){return d(a,b,h)},contents:function(a,b){return d(a,b,h,1)},contains:function(a,b){a=e.get(a);b=e.get(b);return a&&b?l(a,b):!1},index:function(a,d){var g=e.query(a),h,c=0;h=g[0];if(!d){g=h&&h.parentNode;if(!g)return-1;for(;h=h.previousSibling;)h.nodeType==k.ELEMENT_NODE&&c++;return c}c=e.query(d);return"string"===typeof d?b.indexOf(h,
c):b.indexOf(c[0],g)},equals:function(a,b){a=e.query(a);b=e.query(b);if(a.length!=b.length)return!1;for(var d=a.length;0<=d;d--)if(a[d]!=b[d])return!1;return!0}});return e},{requires:["./base"]});
KISSY.add("event/add",function(b,e,h,j,g,d,a,k){function l(a,c,b,d,e){var g=k[c]||{};!d.length&&(!g.setup||!1===g.setup.call(a))&&f(a,c,b);g.add&&g.add.call(a,e)}var f=j.simpleAdd,i=j.isValidTarget,n=j.isIdenticalHandler;b.mix(e,{__add:function(f,c,e,h,p){var u=j.getTypedGroups(e),e=u[0],u=u[1],s=!f,t,v;t=f&&k[e];var r,w,x;b.isObject(h)&&(w=h.last,p=h.scope,v=h.data,x=h.selector,r=h.originalType,h=h.fn,x&&!r&&t&&t.delegateFix&&(r=e,e=t.delegateFix));!x&&!r&&t&&t.onFix&&(r=e,e=t.onFix);if(e&&c&&b.isFunction(h)&&
(!f||i(c))){(t=a._data(c,void 0,s))||a._data(c,t={},s);var s=t.events=t.events||{},s=s[e]=s[e]||[],h={fn:h,scope:p,selector:x,last:w,data:v,groups:u,originalType:r},z=t.handler;f&&!z&&(z=t.handler=function(a,c){if(!(typeof KISSY=="undefined"||a&&a.type==j.Event_Triggered)){var f=z.target,e;if(!a||!a.fixed)a=new g(f,a);e=a.type;b.isPlainObject(c)&&b.mix(a,c);if(e)a.type=e;return d(f,a)}},z.target=c);for(p=s.length-1;0<=p;--p)if(n(s[p],h,c))return;f&&(l(c,e,z,s,h),c=null);x?(f=s.delegateCount=s.delegateCount||
0,s.splice(f,0,h),s.delegateCount++):(s.lastCount=s.lastCount||0,w?(s.push(h),s.lastCount++):s.splice(s.length-s.lastCount,0,h))}},add:function(a,c,d,f){c=b.trim(c);if(j.batchForType(e.add,a,c,d,f))return a;for(var a=h.query(a),g=a.length-1;0<=g;g--)e.__add(!0,a[g],c,d,f);return a}})},{requires:"./base,dom,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/base",function(b,e,h,j,g,d,a){function k(c,d,f,i){if(!l(c))return!1;var k=a[d];k&&k.onFix&&(d=k.onFix);var m=!0;f instanceof h?k=f:(k=new h(c,void 0,d),b.mix(k,f));k._ks_fired=1;k.type=d;var f=c,t,v=e._getWin(f.ownerDocument||f),r="on"+d;do k.currentTarget=f,t=g(f,k),!1!==m&&(m=t),f[r]&&!1===f[r].call(f)&&k.preventDefault(),f=f.parentNode||f.ownerDocument||f===c.ownerDocument&&v;while(!i&&f&&!k.isPropagationStopped);if(!i&&!k.isDefaultPrevented){var w;try{if(r&&c[d]&&("focus"!==d&&
"blur"!==d||0!==c.offsetWidth)&&!b.isWindow(c))(w=c[r])&&(c[r]=null),j.Event_Triggered=d,c[d]()}catch(x){}w&&(c[r]=w);j.Event_Triggered=n}return m}var l=j.isValidTarget,f=j.splitAndRun,i=b.trim,n=j.TRIGGERED_NONE,m={_clone:function(a,f){if(l(f)&&l(a)&&d._hasData(a,!1)){var e=d._data(a,void 0,!1).events;b.each(e,function(a,c){b.each(a,function(a){m.on(f,c,{data:a.data,fn:a.fn,groups:a.groups,last:a.last,originalType:a.originalType,scope:a.scope,selector:a.selector})})})}},fire:function(a,d,g,l){var n=
!0,s,g=g||{};if("string"==typeof d){d=i(d);if(-1<d.indexOf(" "))return f(d,function(b){s=m.fire(a,b,g,l);!1!==n&&(n=s)}),n;g.type=d}else d instanceof h&&(g=d,d=g.type);var d=j.getTypedGroups(d),t=d[1];t&&(t=j.getGroupsRe(t));d=d[0];b.mix(g,{type:d,_ks_groups:t});a=e.query(a);for(t=a.length-1;0<=t;t--)s=k(a[t],d,g,l),!1!==n&&(n=s);return n},fireHandler:function(a,b,d){return m.fire(a,b,d,1)}};return m},{requires:"dom,./object,./utils,./handle,./data,./special".split(",")});
KISSY.add("event/change",function(b,e,h,j,g){var d=b.Env.host.document,d=d&&d.documentMode;if(e.ie&&(9>e.ie||d&&9>d)){var a=/^(?:textarea|input|select)$/i,k=function(a){a=a.type;return"checkbox"==a||"radio"==a};g.change={setup:function(){if(a.test(this.nodeName))if(k(this))h.on(this,"propertychange",l),h.on(this,"click",f);else return!1;else h.on(this,"beforeactivate",i)},tearDown:function(){if(a.test(this.nodeName))if(k(this))h.remove(this,"propertychange",l),h.remove(this,"click",f);else return!1;
else h.remove(this,"beforeactivate",i),b.each(j.query("textarea,input,select",this),function(a){a.__changeHandler&&(a.__changeHandler=0,h.remove(a,"change",{fn:n,last:1}))})}};var l=function(a){"checked"==a.originalEvent.propertyName&&(this.__changed=1)},f=function(a){this.__changed&&(this.__changed=0,h.fire(this,"change",a))},i=function(b){b=b.target;a.test(b.nodeName)&&!b.__changeHandler&&(b.__changeHandler=1,h.on(b,"change",{fn:n,last:1}))},n=function(a){if(!a.isPropagationStopped&&!k(this)){var b;
(b=this.parentNode)&&h.fire(b,"change",a)}}}},{requires:["ua","./base","dom","./special"]});KISSY.add("event/data",function(b,e,h){var j=h.EVENT_GUID;return{_hasData:function(g,d){return d?g[j]&&!b.isEmptyObject(g[j]):e.hasData(g,j)},_data:function(b,d,a){return a?void 0!==d?b[j]=d:b[j]:e.data(b,j,d)},_removeData:function(b,d){if(d)delete b[j];else return e.removeData(b,j)}}},{requires:["dom","./utils"]});
KISSY.add("event",function(b,e,h,j,g,d){b.mix(j,{KeyCodes:h,Target:g,Object:d,on:j.add,detach:j.remove,delegate:function(a,b,d,f,e){return j.add(a,b,{fn:f,scope:e,selector:d})},undelegate:function(a,b,d,f,e){return j.remove(a,b,{fn:f,scope:e,selector:d})}});b.mix(j,e);b.mix(b,{Event:j,EventTarget:j.Target,EventObject:j.Object});return j},{requires:"event/data,event/key-codes,event/base,event/target,event/object,event/focusin,event/hashchange,event/valuechange,event/mouseenter,event/submit,event/change,event/mousewheel,event/add,event/remove".split(",")});
KISSY.add("event/focusin",function(b,e,h,j){e.ie||b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(e){function d(a){return h.fire(a.target,e.name)}var a=b.guid("attaches_"+b.now()+"_");j[e.name]={setup:function(){var b=this.ownerDocument||this;a in b||(b[a]=0);b[a]+=1;1===b[a]&&b.addEventListener(e.fix,d,!0)},tearDown:function(){var b=this.ownerDocument||this;b[a]-=1;0===b[a]&&b.removeEventListener(e.fix,d,!0)}}});j.focus={delegateFix:"focusin"};j.blur={delegateFix:"focusout"};
return h},{requires:["ua","./base","./special"]});
KISSY.add("event/handle",function(b,e,h,j){return function(b,d,a){var k=h._data(b,void 0,a),l=(k&&k.events||{})[d.type]||[],f=d.target,i,k=[],n,m,c,o=l.delegateCount||0,q,p;if(o&&!f.disabled)for(;f!=b;){q=[];for(c=0;c<o;c++)i=l[c],e.test(f,i.selector)&&q.push(i);q.length&&k.push({currentTarget:f,currentTargetHandlers:q});f=f.parentNode||b}k.push({currentTarget:b,currentTargetHandlers:l.slice(o)});var f=d.type,u,o=d._ks_groups;c=0;for(l=k.length;!d.isPropagationStopped&&c<l;++c){i=k[c];q=i.currentTargetHandlers;
i=i.currentTarget;d.currentTarget=i;for(i=0;!d.isImmediatePropagationStopped&&i<q.length;i++)if(p=q[i],!o||p.groups&&p.groups.match(o)){var s=p.data;d.type=p.originalType||f;!a&&(u=j[d.type])&&u.handle?(p=u.handle(d,p,s),0<p.length&&(n=p[0])):n=p.fn.call(p.scope||b,d,s);!1!==m&&(m=n);!1===n&&d.halt()}}return m}},{requires:["dom","./data","./special"]});
KISSY.add("event/hashchange",function(b,e,h,j,g){var d=b.Env.host,a=d.document,k=a&&a.documentMode,l="__replace_history_"+b.now(),j=k||j.ie;e.REPLACE_HISTORY=l;if(!("onhashchange"in d)||j&&8>j){var f="<html><head><title>"+(a&&a.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",i=function(){return"#"+(new b.Uri(location.href)).getFragment()},n,m,c=function(){var a=i(),d;if(d=b.endsWith(a,l))a=a.slice(0,-l.length),location.hash=a;a!==m&&(m=a,o(a,d));n=setTimeout(c,50)},o=j&&8>j?
function(c,d){var e=b.substitute(f,{hash:b.escapeHTML(c),head:h.isCustomDomain()?"<script>document.domain = '"+a.domain+"';<\/script>":""}),g=u.contentWindow.document;try{d?g.open("text/html","replace"):g.open(),g.write(e),g.close()}catch(i){}}:function(){e.fire(d,"hashchange")},q=function(){n||c()},p=function(){n&&clearTimeout(n);n=0},u;8>j&&(q=function(){if(!u){var f=h.getEmptyIframeSrc();u=h.create("<iframe "+(f?'src="'+f+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');
h.prepend(u,a.documentElement);e.add(u,"load",function(){e.remove(u,"load");o(i());e.add(u,"load",g);c()});a.onpropertychange=function(){try{"title"===event.propertyName&&(u.contentWindow.document.title=a.title+" - "+i())}catch(b){}};var g=function(){var a=b.trim(u.contentWindow.document.body.innerText),c=i();a!=c&&(m=location.hash=a);e.fire(d,"hashchange")}}},p=function(){n&&clearTimeout(n);n=0;e.detach(u);h.remove(u);u=0});g.hashchange={setup:function(){if(this===d){m=i();q()}},tearDown:function(){this===
d&&p()}}}},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/key-codes",function(b,e){var h={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(b){if(b.altKey&&!b.ctrlKey||b.metaKey||b.keyCode>=h.F1&&b.keyCode<=h.F12)return!1;switch(b.keyCode){case h.ALT:case h.CAPS_LOCK:case h.CONTEXT_MENU:case h.CTRL:case h.DOWN:case h.END:case h.ESC:case h.HOME:case h.INSERT:case h.LEFT:case h.MAC_FF_META:case h.META:case h.NUMLOCK:case h.NUM_CENTER:case h.PAGE_DOWN:case h.PAGE_UP:case h.PAUSE:case h.PRINT_SCREEN:case h.RIGHT:case h.SHIFT:case h.UP:case h.WIN_KEY:case h.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(b){if(b>=h.ZERO&&b<=h.NINE||b>=h.NUM_ZERO&&b<=h.NUM_MULTIPLY||b>=h.A&&b<=h.Z||e.webkit&&0==b)return!0;switch(b){case h.SPACE:case h.QUESTION_MARK:case h.NUM_PLUS:case h.NUM_MINUS:case h.NUM_PERIOD:case h.NUM_DIVISION:case h.SEMICOLON:case h.DASH:case h.EQUALS:case h.COMMA:case h.PERIOD:case h.SLASH:case h.APOSTROPHE:case h.SINGLE_QUOTE:case h.OPEN_SQUARE_BRACKET:case h.BACKSLASH:case h.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return h},{requires:["ua"]});
KISSY.add("event/mouseenter",function(b,e,h,j,g){b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(b){g[b.name]={onFix:b.fix,delegateFix:b.fix,handle:function(a,b,d){var f=a.currentTarget,e=a.relatedTarget;return!e||e!==f&&!h.contains(f,e)?[b.fn.call(b.scope||f,a,d)]:[]}}});return e},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/mousewheel",function(b,e,h,j,g,d,a,k){function l(a){var c,f,e,h=a.detail;a.wheelDelta&&(e=a.wheelDelta/120);a.detail&&(e=-(0==h%3?h/3:h));void 0!==a.axis&&(a.axis===a.HORIZONTAL_AXIS?(f=0,c=-1*e):a.axis===a.VERTICAL_AXIS&&(c=0,f=e));void 0!==a.wheelDeltaY&&(f=a.wheelDeltaY/120);void 0!==a.wheelDeltaX&&(c=-1*a.wheelDeltaX/120);!c&&!f&&(f=e);a=new g(this,a);b.mix(a,{deltaY:f,delta:e,deltaX:c,type:"mousewheel"});return d(this,a)}var f=h.gecko?"DOMMouseScroll":"mousewheel",i=j.simpleRemove,
n=j.simpleAdd;k.mousewheel={setup:function(){var d;d=a._data(this,void 0,!1).mousewheelHandler=b.bind(l,this);n(this,f,d)},tearDown:function(){var b,c=a._data(this,void 0,!1);b=c.mousewheelHandler;i(this,f,b);delete c[b]}}},{requires:"./base,ua,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/object",function(b,e){function h(a,b,f){this.originalEvent=b||{};this.currentTarget=a;b?(this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.returnValue===d||b.getPreventDefault&&b.getPreventDefault()?g:d,this._fix()):(this.type=f,this.target=a);this.currentTarget=a;this.fixed=g}var j=b.Env.host.document,g=!0,d=!1,a="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which,axis".split(",");
h.prototype={constructor:h,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,_fix:function(){for(var b=this.originalEvent,d=a.length,f,g=this.currentTarget,g=9===g.nodeType?g:g.ownerDocument||j;d;)f=a[--d],this[f]=b[f];this.target||(this.target=this.srcElement||g);3===this.target.nodeType&&(this.target=this.target.parentNode);!this.relatedTarget&&this.fromElement&&(this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement);this.pageX===e&&this.clientX!==
e&&(b=g.documentElement,d=g.body,this.pageX=this.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),this.pageY=this.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0));this.which===e&&(this.which=this.charCode===e?this.keyCode:this.charCode);this.metaKey===e&&(this.metaKey=this.ctrlKey);!this.which&&this.button!==e&&(this.which=this.button&1?1:this.button&2?3:this.button&4?2:0)},preventDefault:function(){var a=this.originalEvent;a.preventDefault?
a.preventDefault():a.returnValue=d;this.isDefaultPrevented=g},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=g;this.isPropagationStopped=g},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}};return h});
KISSY.add("event/remove",function(b,e,h,j,g,d){var a=j.isValidTarget,k=j.simpleRemove;b.mix(e,{__remove:function(h,f,i,n,m){if(f&&(!h||a(f))){var c=j.getTypedGroups(i),i=c[0],o=c[1],c=!h,q,p=n,u=m,s,t=d[i];b.isObject(n)&&(m=n.scope,s="selector"in n,q=n.selector,n=n.fn,q&&t&&t.delegateFix&&(i=t.delegateFix));q||t&&t.onFix&&(i=t.onFix);var v=(t=g._data(f,void 0,c))&&t.events,r,w,x,z=h&&d[i]||{};if(v)if(i){var A;o&&(A=j.getGroupsRe(o));if(o=v[i]){u=o.length;if((n||s||A)&&u){m=m||f;w=r=0;for(x=[];r<u;++r)p=
o[r],m!=(p.scope||f)||n&&n!=p.fn||s&&(q&&q!=p.selector||!q&&!p.selector)||A&&!p.groups.match(A)?x[w++]=p:(p.selector&&o.delegateCount&&o.delegateCount--,p.last&&o.lastCount&&o.lastCount--,z.remove&&z.remove.call(f,p));x.delegateCount=o.delegateCount;x.lastCount=o.lastCount;v[i]=x;u=x.length}else u=0;u||(h&&(!z.tearDown||!1===z.tearDown.call(f))&&k(f,i,t.handler),delete v[i])}b.isEmptyObject(v)&&((t.handler||{}).target=null,delete t.handler,delete t.events,g._removeData(f,c))}else for(i in v)e.__remove(h,
f,i+o,p,u)}},remove:function(a,d,g,k){d=b.trim(d);if(j.batchForType(e.remove,a,d,g,k))return a;for(var a=h.query(a),m=a.length-1;0<=m;m--)e.__remove(!0,a[m],d,g,k);return a}})},{requires:["./base","dom","./utils","./data","./special"]});KISSY.add("event/special",function(){return{}});
KISSY.add("event/submit",function(b,e,h,j,g){var d=b.Env.host.document,d=d&&d.documentMode;if(e.ie&&(9>e.ie||d&&9>d)){var a=j.nodeName;g.submit={setup:function(){if("form"==a(this))return!1;h.on(this,"click keypress",k)},tearDown:function(){if("form"==a(this))return!1;h.remove(this,"click keypress",k);b.each(j.query("form",this),function(a){a.__submit__fix&&(a.__submit__fix=0,h.remove(a,"submit",{fn:l,last:1}))})}};var k=function(b){var b=b.target,d=a(b);if((b="input"==d||"button"==d?b.form:null)&&
!b.__submit__fix)b.__submit__fix=1,h.on(b,"submit",{fn:l,last:1})},l=function(a){this.parentNode&&!a.isPropagationStopped&&!a._ks_fired&&h.fire(this.parentNode,"submit",a)}}},{requires:["ua","./base","dom","./special"]});
KISSY.add("event/target",function(b,e,h,j,g,d){function a(a,c,f){if(f instanceof h)return f.currentTarget=a,f;a=new h(a,d,c);b.mix(a,f);return a}function k(a){a[n]=a[n]||{};return a[n]}function l(a){a[o]=a[o]||{};return a[o]}function f(a,b){var c=k(a);return c[b]&&c[b].bubbles||c[q]&&c[q].bubbles}function i(a){return function(b,d,f){var g=this,b=m(b);c(b,function(b){e["__"+a](!1,g,b,d,f)});return g}}var n="__~ks_publish",m=b.trim,c=j.splitAndRun,o="__~ks_bubble_targets",q="*";return{fire:function(e,
h){var i=this,k=d,l,n,q,h=h||{},e=m(e);if(0<e.indexOf(" "))return c(e,function(a){l=i.fire(a,h);!1!==k&&(k=l)}),k;n=j.getTypedGroups(e);q=n[1];e=n[0];q&&(q=j.getGroupsRe(q));b.mix(h,{type:e,_ks_groups:q});n=a(i,e,h);k=g(i,n,!0);if(!n.isPropagationStopped&&(n.target!=i||f(i,e)))l=i.bubble(e,n),!1!==k&&(k=l);return k},publish:function(a,b){var d=k(this);(a=m(a))&&c(a,function(a){d[a]=b})},bubble:function(a,c){var f=d,e=l(this);b.each(e,function(b){b=b.fire(a,c);!1!==f&&(f=b)});return f},addTarget:function(a){l(this)[b.stamp(a)]=
a},removeTarget:function(a){delete l(this)[b.stamp(a)]},on:i("add"),detach:i("remove")}},{requires:["./base","./object","./utils","./handle"]});
KISSY.add("event/utils",function(b,e){var h=e.NodeType,j=b.Env.host.document,g=j&&j.addEventListener?function(b,a,e,g){b.addEventListener&&b.addEventListener(a,e,!!g)}:function(b,a,e){b.attachEvent&&b.attachEvent("on"+a,e)},j=j&&j.removeEventListener?function(b,a,e,g){b.removeEventListener&&b.removeEventListener(a,e,!!g)}:function(b,a,e){b.detachEvent&&b.detachEvent("on"+a,e)};return{Event_Triggered:"",TRIGGERED_NONE:"trigger-none-"+b.now(),EVENT_GUID:"ksEventTargetId"+b.now(),splitAndRun:function(d,
a){b.each(d.split(/\s+/),a)},batchForType:function(d,a,e){if(e&&0<e.indexOf(" ")){var g=b.makeArray(arguments);b.each(e.split(/\s+/),function(b){var e=[].concat(g);e.splice(0,3,a,b);d.apply(null,e)});return!0}return 0},isValidTarget:function(b){return b&&b.nodeType!==h.TEXT_NODE&&b.nodeType!==h.COMMENT_NODE},isIdenticalHandler:function(b,a,e){var g=b.scope||e,f=1,e=a.scope||e;if(b.fn!==a.fn||b.selector!==a.selector||b.data!==a.data||g!==e||b.originalType!==a.originalType||b.groups!==a.groups||b.last!==
a.last)f=0;return f},simpleAdd:g,simpleRemove:j,getTypedGroups:function(b){if(0>b.indexOf("."))return[b,""];var a=b.match(/([^.]+)?(\..+)?$/),b=[a[1]];(a=a[2])?(a=a.split(".").sort(),b.push(a.join("."))):b.push("");return b},getGroupsRe:function(b){return RegExp(b.split(".").join(".*\\.")+"(?:\\.|$)")}}},{requires:["dom"]});
KISSY.add("event/valuechange",function(b,e,h,j){function g(a){if(h.hasData(a,o)){var b=h.data(a,o);clearTimeout(b);h.removeData(a,o)}}function d(a){g(a.target)}function a(a){var b=a.value,d=h.data(a,c);b!==d&&(e.fire(a,n,{prevVal:d,newVal:b},!0),h.data(a,c,b))}function k(b){h.hasData(b,o)||h.data(b,o,setTimeout(function(){a(b);h.data(b,o,setTimeout(arguments.callee,q))},q))}function l(a){var b=a.target;"focus"==a.type&&h.data(b,c,b.value);k(b)}function f(b){a(b.target)}function i(a){h.removeData(a,
c);g(a);e.remove(a,"blur",d);e.remove(a,"webkitspeechchange",f);e.remove(a,"mousedown keyup keydown focus",l)}var n="valuechange",m=h.nodeName,c="event/valuechange/history",o="event/valuechange/poll",q=50;j[n]={setup:function(){var a=m(this);if("input"==a||"textarea"==a)i(this),e.on(this,"blur",d),e.on(this,"webkitspeechchange",f),e.on(this,"mousedown keyup keydown focus",l)},tearDown:function(){i(this)}};return e},{requires:["./base","dom","./special"]});
KISSY.add("json",function(b,e){return b.JSON={parse:function(b){return null==b||""===b?null:e.parse(b)},stringify:e.stringify}},{requires:["json/json2"]});
KISSY.add("json/json2",function(b,e){function h(a){return 10>a?"0"+a:a}function j(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var b=n[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,b){var d,e,h,k,l=f,n,r=b[a];r&&"object"===typeof r&&"function"===typeof r.toJSON&&(r=r.toJSON(a));"function"===typeof m&&(r=m.call(b,a,r));switch(typeof r){case "string":return j(r);case "number":return isFinite(r)?""+r:"null";case "boolean":case "null":return""+
r;case "object":if(!r)return"null";f+=i;n=[];if("[object Array]"===Object.prototype.toString.apply(r)){k=r.length;for(d=0;d<k;d+=1)n[d]=g(d,r)||"null";h=0===n.length?"[]":f?"[\n"+f+n.join(",\n"+f)+"\n"+l+"]":"["+n.join(",")+"]";f=l;return h}if(m&&"object"===typeof m){k=m.length;for(d=0;d<k;d+=1)e=m[d],"string"===typeof e&&(h=g(e,r))&&n.push(j(e)+(f?": ":":")+h)}else for(e in r)Object.hasOwnProperty.call(r,e)&&(h=g(e,r))&&n.push(j(e)+(f?": ":":")+h);h=0===n.length?"{}":f?"{\n"+f+n.join(",\n"+f)+"\n"+
l+"}":"{"+n.join(",")+"}";f=l;return h}}var d=b.Env,a=d.host||{},d=(d.nodejs&&"object"===typeof global?global:a).JSON;if(!d||9>e.ie)d=a.JSON={};"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});
var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,i,n={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof d.stringify&&(d.stringify=function(a,b,d){var e;i=f="";if(typeof d==="number")for(e=0;e<d;e=e+1)i=i+" ";else typeof d==="string"&&(i=d);if((m=b)&&typeof b!=="function"&&
(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return g("",{"":a})});"function"!==typeof d.parse&&(d.parse=function(a,b){function d(a,c){var f,e,g=a[c];if(g&&typeof g==="object")for(f in g)if(Object.hasOwnProperty.call(g,f)){e=d(g,f);e!==void 0?g[f]=e:delete g[f]}return b.call(a,c,g)}var f,a=""+a;k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){f=eval("("+a+")");return typeof b==="function"?d({"":f},""):f}throw new SyntaxError("JSON.parse");});return d},{requires:["ua"]});
KISSY.add("ajax",function(b,e,h){function j(d,a,e,l,f){b.isFunction(a)&&(l=e,e=a,a=g);return h({type:f||"get",url:d,data:a,success:e,dataType:l})}var g=void 0;b.mix(h,{serialize:e.serialize,get:j,post:function(d,a,e,h){b.isFunction(a)&&(h=e,e=a,a=g);return j(d,a,e,h,"post")},jsonp:function(d,a,e){b.isFunction(a)&&(e=a,a=g);return j(d,a,e,"jsonp")},getScript:b.getScript,getJSON:function(d,a,e){b.isFunction(a)&&(e=a,a=g);return j(d,a,e,"json")},upload:function(d,a,e,l,f){b.isFunction(e)&&(f=l,l=e,e=
g);return h({url:d,type:"post",dataType:f,form:a,data:e,success:l})}});b.mix(b,{Ajax:h,IO:h,ajax:h,io:h,jsonp:h.jsonp});return h},{requires:"ajax/form-serializer,ajax/base,ajax/xhr-transport,ajax/script-transport,ajax/jsonp,ajax/form,ajax/iframe-transport,ajax/methods".split(",")});
KISSY.add("ajax/base",function(b,e,h,j){function g(a){var c=a.context,d=a.ifModified;delete a.context;a=b.mix(b.clone(t),a,{deep:!0});a.context=c||a;var f,e=a.type,g=a.dataType,h;h=a.query=new b.Uri.Query;c=a.uri=p.resolve(a.url);"crossDomain"in a||(a.crossDomain=!a.uri.hasSameDomainAs(p));if(a.processData&&(f=a.data))b.isObject(f)?h.add(f):h.reset(f);e=a.type=e.toUpperCase();a.hasContent=!n.test(e);g=a.dataType=b.trim(g||"*").split(l);!("cache"in a)&&b.inArray(g[0],["script","jsonp"])&&(a.cache=
!1);var i;a.hasContent||(h.count()&&c.query.add(h),d&&(i=c.clone()),!1===a.cache&&c.query.set("_ksTS",b.now()+"_"+b.guid()));d&&(a.ifModifiedKeyUri=i||c.clone());return a}function d(b,c){a.fire(b,{ajaxConfig:c.config,xhr:c,io:c})}function a(c){function f(a){return function(b){if(l=e.timeoutTimer)clearTimeout(l),e.timeoutTimer=0;var f=c[a];f&&f.apply(p,b);d(a,e)}}var e=this;if(!c.url)return j;if(!(e instanceof a))return new a(c);i.call(e);c=g(c);b.mix(e,{responseData:null,config:c||{},timeoutTimer:null,
responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null,_defer:new b.Defer(this)});var h;d("start",e);h=new (s[c.dataType[0]]||s["*"])(e);e.transport=h;c.contentType&&e.setRequestHeader("Content-Type",c.contentType);var k=c.dataType[0],l,n,m=c.timeout,p=c.context,q=c.headers,o=c.accepts;e.setRequestHeader("Accept",k&&o[k]?o[k]+("*"===k?"":", */*; q=0.01"):o["*"]);for(n in q)e.setRequestHeader(n,
q[n]);if(c.beforeSend&&!1===c.beforeSend.call(p,e,c))return j;e.then(f("success"),f("error"));e.fin(f("complete"));e.readyState=1;d("send",e);c.async&&0<m&&(e.timeoutTimer=setTimeout(function(){e.abort("timeout")},1E3*m));try{e.state=1,h.send()}catch(u){2>e.state&&e._ioReady(-1,u)}return j}var k=/^(?:about|app|app\-storage|.+\-extension|file|widget)$/,l=/\s+/,f=function(a){return a},i=b.Promise,n=/^(?:GET|HEAD)$/,m,c=b.Uri,o=b.Env.host,q=o.document,o=o.location,p;if(o){try{m=o.href}catch(u){m=q.createElement("a"),
m.href="",m=m.href}p=new c(m)}var k=p&&k.test(p.getScheme()),s={},t={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,serializeArray:!0,processData:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:e.parse,html:f,text:f,xml:b.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};t.converters.html=t.converters.text;b.mix(a,h.Target);b.mix(a,{isLocal:k,setupConfig:function(a){b.mix(t,
a,{deep:!0})},setupTransport:function(a,b){s[a]=b},getTransport:function(a){return s[a]},getConfig:function(){return t}});return a},{requires:["json","event"]});
KISSY.add("ajax/form-serializer",function(b,e){function h(a){return a.replace(g,"\r\n")}var j=/^(?:select|textarea)/i,g=/\r?\n/g,d,a=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return d={serialize:function(a,e){return b.param(d.getFormData(a),void 0,void 0,e||!1)},getFormData:function(d){var g=[],f={};b.each(e.query(d),function(a){a=a.elements?b.makeArray(a.elements):[a];g.push.apply(g,a)});g=b.filter(g,function(b){return b.name&&!b.disabled&&
(b.checked||j.test(b.nodeName)||a.test(b.type))});b.each(g,function(a){var d=e.val(a),g,d=b.isArray(d)?b.map(d,h):h(d);(g=f[a.name])?(g&&!b.isArray(g)&&(g=f[a.name]=[g]),g.push.apply(g,b.makeArray(d))):f[a.name]=d});return f}}},{requires:["dom"]});
KISSY.add("ajax/form",function(b,e,h,j){e.on("start",function(b){var d,a,b=b.io.config;if(d=b.form)d=h.get(d),a=d.encoding||d.enctype,"multipart/form-data"!=a.toLowerCase()?(d=j.getFormData(d),b.hasContent?b.query.add(d):(b.uri.query.add(d),b.ifModifiedKeyUri&&b.ifModifiedKeyUri.query.add(d))):(d=b.dataType,b=d[0],"*"==b&&(b="text"),d.length=2,d[0]="iframe",d[1]=b)});return e},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-transport",function(b,e,h,j){function g(a){var d=b.guid("ajax-iframe"),g=e.getEmptyIframeSrc(),a=a.iframe=e.create("<iframe "+(g?' src="'+g+'" ':"")+' id="'+d+'" name="'+d+'" style="position:absolute;left:-9999px;top:-9999px;"/>');e.prepend(a,k.body||k.documentElement);return a}function d(a,d,g){var h=[],j,c,o,q,p=a.keys();b.each(p,function(p){var s=a.get(p);j=b.isArray(s);c=b.makeArray(s);for(o=0;o<c.length;o++)q=k.createElement("input"),q.type="hidden",q.name=p+(j&&g?"[]":
""),q.value=c[o],e.append(q,d),h.push(q)});return h}function a(a){this.io=a}var k=b.Env.host.document;j.setupConfig({converters:{iframe:j.getConfig().converters.text,text:{iframe:function(a){return a}},xml:{iframe:function(a){return a}}}});b.augment(a,{send:function(){var a=this,b=a.io,i=b.config,k,j,c=i.query,o=e.get(i.form);a.attrs={target:e.attr(o,"target")||"",action:e.attr(o,"action")||"",method:e.attr(o,"method")};a.form=o;j=g(b);e.attr(o,{target:j.id,action:i.uri.toString(i.serializeArray),
method:"post"});c.count()&&(k=d(c,o,i.serializeArray));a.fields=k;setTimeout(function(){h.on(j,"load error",a._callback,a);o.submit()},10)},_callback:function(a){var d=this.io,a=a.type,g=d.iframe;if(g)if(e.attr(this.form,this.attrs),e.remove(this.fields),h.detach(g),setTimeout(function(){e.remove(g)},30),d.iframe=null,"load"==a){if((a=g.contentWindow.document)&&a.body)d.responseText=b.trim(e.text(a.body)),b.startsWith(d.responseText,"<?xml")&&(d.responseText=void 0);d.responseXML=a&&a.XMLDocument?
a.XMLDocument:a;d._ioReady(200,"success")}else"error"==a&&d._ioReady(500,"error")},abort:function(){this._callback({})}});j.setupTransport("iframe",a);return j},{requires:["dom","event","./base"]});
KISSY.add("ajax/jsonp",function(b,e){var h=b.Env.host;e.setupConfig({jsonp:"callback",jsonpCallback:function(){return b.guid("jsonp")}});e.on("start",function(e){var g=e.io,d=g.config,e=d.dataType;if("jsonp"==e[0]){var a,k=d.jsonpCallback,l=b.isFunction(k)?k():k,f=h[l];d.uri.query.set(d.jsonp,l);h[l]=function(d){1<arguments.length&&(d=b.makeArray(arguments));a=[d]};g.fin(function(){h[l]=f;if(void 0===f)try{delete h[l]}catch(b){}else a&&f(a[0])});g=g.converters=g.converters||{};g.script=g.script||
{};g.script.json=function(){return a[0]};e.length=2;e[0]="script";e[1]="json"}});return e},{requires:["./base"]});
KISSY.add("ajax/methods",function(b,e,h){function j(d){var a=d.responseText,e=d.responseXML,g=d.config,f=g.converters,i=d.converters||{},j,m,c=g.contents,o=g.dataType;if(a||e){for(g=d.mimeType||d.getResponseHeader("Content-Type");"*"==o[0];)o.shift();if(!o.length)for(j in c)if(c[j].test(g)){o[0]!=j&&o.unshift(j);break}o[0]=o[0]||"text";if("text"==o[0]&&a!==h)m=a;else if("xml"==o[0]&&e!==h)m=e;else{var q={text:a,xml:e};b.each(["text","xml"],function(b){var c=o[0];if((i[b]&&i[b][c]||f[b]&&f[b][c])&&
q[b])return o.unshift(b),m="text"==b?a:e,!1})}}c=o[0];for(g=1;g<o.length;g++){j=o[g];var p=i[c]&&i[c][j]||f[c]&&f[c][j];if(!p)throw"no covert for "+c+" => "+j;m=p(m);c=j}d.responseData=m}var g=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;b.extend(e,b.Promise,{setRequestHeader:function(b,a){this.requestHeaders[b]=a;return this},getAllResponseHeaders:function(){return 2===this.state?this.responseHeadersString:null},getResponseHeader:function(b){var a,e;if(2===this.state){if(!(e=this.responseHeaders))for(e=this.responseHeaders=
{};a=g.exec(this.responseHeadersString);)e[a[1]]=a[2];a=e[b]}return a===h?null:a},overrideMimeType:function(b){this.state||(this.mimeType=b);return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this._ioReady(0,b);return this},getNativeXhr:function(){var b;if(b=this.transport)return b.nativeXhr},_ioReady:function(b,a){if(2!=this.state){this.state=2;this.readyState=4;var e;if(200<=b&&300>b||304==b)if(304==b)a="not modified",e=!0;else try{j(this),a="success",e=!0}catch(g){a=
"parser error"}else 0>b&&(b=0);this.status=b;this.statusText=a;this._defer[e?"resolve":"reject"]([this.responseData,a,this])}}})},{requires:["./base"]});
KISSY.add("ajax/script-transport",function(b,e,h,j){function g(a){if(!a.config.crossDomain)return new (e.getTransport("*"))(a);this.io=a;return 0}var d=b.Env.host,a=d.document;e.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(a){b.globalEval(a);return a}}}});b.augment(g,{send:function(){var b=this,e,f=b.io.config,g=a.head||a.getElementsByTagName("head")[0]||
a.documentElement;b.head=g;e=a.createElement("script");b.script=e;e.async="async";f.scriptCharset&&(e.charset=f.scriptCharset);e.src=f.uri.toString(f.serializeArray);e.onerror=e.onload=e.onreadystatechange=function(a){a=a||d.event;b._callback((a.type||"error").toLowerCase())};g.insertBefore(e,g.firstChild)},_callback:function(a,b){var d=this.script,e=this.io,g=this.head;if(d&&(b||!d.readyState||/loaded|complete/.test(d.readyState)||"error"==a))d.onerror=d.onload=d.onreadystatechange=null,g&&d.parentNode&&
g.removeChild(d),this.head=this.script=j,!b&&"error"!=a?e._ioReady(200,"success"):"error"==a&&e._ioReady(500,"script error")},abort:function(){this._callback(0,1)}});e.setupTransport("script",g);return e},{requires:["./base","./xhr-transport"]});
KISSY.add("ajax/sub-domain-transport",function(b,e,h,j){function g(a){var b=a.config;this.io=a;b.crossDomain=!1}function d(){var a=this.io.config.uri.getHostname(),a=k[a];a.ready=1;h.detach(a.iframe,"load",d,this);this.send()}var a=b.Env.host.document,k={};b.augment(g,e.proto,{send:function(){var g=this.io.config,f=g.uri,i=f.getHostname(),n;n=k[i];var m="/sub_domain_proxy.html";g.xdr&&g.xdr.subDomain&&g.xdr.subDomain.proxy&&(m=g.xdr.subDomain.proxy);n&&n.ready?(this.nativeXhr=e.nativeXhr(0,n.iframe.contentWindow))&&
this.sendInternal():(n?g=n.iframe:(n=k[i]={},g=n.iframe=a.createElement("iframe"),j.css(g,{position:"absolute",left:"-9999px",top:"-9999px"}),j.prepend(g,a.body||a.documentElement),n=new b.Uri,n.setScheme(f.getScheme()),n.setHostname(i),n.setPath(m),g.src=n.toString()),h.on(g,"load",d,this))}});return g},{requires:["./xhr-transport-base","event","dom"]});
KISSY.add("ajax/xdr-flash-transport",function(b,e,h){function j(b,d,e){f||(f=!0,b='<object id="'+a+'" type="application/x-shockwave-flash" data="'+b+'" width="0" height="0"><param name="movie" value="'+b+'" /><param name="FlashVars" value="yid='+d+"&uid="+e+'&host=KISSY.require(\'ajax\')" /><param name="allowScriptAccess" value="always" /></object>',d=l.createElement("div"),h.prepend(d,l.body||l.documentElement),d.innerHTML=b)}function g(a){this.io=a}var d={},a="io_swf",k,l=b.Env.host.document,f=
!1;b.augment(g,{send:function(){var a=this,e=a.io.config;j((e.xdr||{}).src||b.Config.base+"ajax/io.swf",1,1);k?(a._uid=b.guid(),d[a._uid]=a,k.send(e.uri.toString(e.serializeArray),{id:a._uid,uid:a._uid,method:e.type,data:e.hasContent&&e.query.toString(e.serializeArray)||{}})):setTimeout(function(){a.send()},200)},abort:function(){k.abort(this._uid)},_xdrResponse:function(a,b){var e,c=b.id,f=this.io;f.responseText=decodeURI(b.c.responseText);switch(a){case "success":e={status:200,statusText:"success"};
delete d[c];break;case "abort":delete d[c];break;case "timeout":case "transport error":case "failure":delete d[c],e={status:500,statusText:a}}e&&f._ioReady(e.status,e.statusText)}});e.applyTo=function(a,d,f){var a=d.split(".").slice(1),c=e;b.each(a,function(a){c=c[a]});c.apply(null,f)};e.xdrReady=function(){k=l.getElementById(a)};e.xdrResponse=function(a,b){var e=d[b.uid];e&&e._xdrResponse(a,b)};return g},{requires:["./base","dom"]});
KISSY.add("ajax/xhr-transport-base",function(b,e){function h(a,b){try{return new (b||j).XMLHttpRequest}catch(d){}}var j=b.Env.host,g=j.XDomainRequest,d={proto:{}},a={},k={};e.__lastModifiedCached=a;e.__eTagCached=k;d.nativeXhr=j.ActiveXObject?function(a,b){if(a&&g)return new g;var d;if(!(d=!e.isLocal&&h(a,b)))a:{try{d=new (b||j).ActiveXObject("Microsoft.XMLHTTP");break a}catch(k){}d=void 0}return d}:h;b.mix(d.proto,{sendInternal:function(){var b=this,d=b.io,e=d.config,h=b.nativeXhr,j=e.type,c=e.async,
o,q=e.crossDomain,p=d.mimeType,d=d.requestHeaders||{},u=e.serializeArray,s=e.uri.toString(u),t,v,r;if(t=e.ifModifiedKeyUri&&e.ifModifiedKeyUri.toString()){if(v=a[t])d["If-Modified-Since"]=v;if(v=k[t])d["If-None-Match"]=v}(o=e.username)?h.open(j,s,c,o,e.password):h.open(j,s,c);if(j=e.xhrFields)for(r in j)h[r]=j[r];p&&h.overrideMimeType&&h.overrideMimeType(p);!q&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{if(!q)for(r in d)h.setRequestHeader(r,d[r])}catch(w){}h.send(e.hasContent&&
e.query.toString(u)||null);!c||4==h.readyState?b._callback():g&&h instanceof g?(h.onload=function(){h.readyState=4;h.status=200;b._callback()},h.onerror=function(){h.readyState=4;h.status=500;b._callback()}):h.onreadystatechange=function(){b._callback()}},abort:function(){this._callback(0,1)},_callback:function(d,e){try{var h=this.nativeXhr,j=this.io,m=j.config;if(e||4==h.readyState)if(g&&h instanceof g?(h.onerror=b.noop,h.onload=b.noop):h.onreadystatechange=b.noop,e)4!==h.readyState&&h.abort();else{var c=
m.ifModifiedKeyUri&&m.ifModifiedKeyUri.toString(),o=h.status;g&&h instanceof g||(j.responseHeadersString=h.getAllResponseHeaders());if(c){var q=h.getResponseHeader("Last-Modified"),p=h.getResponseHeader("ETag");q&&(a[c]=q);p&&(k[p]=p)}var u=h.responseXML;u&&u.documentElement&&(j.responseXML=u);j.responseText=h.responseText;try{var s=h.statusText}catch(t){s=""}!o&&j.isLocal&&!m.crossDomain?o=j.responseText?200:404:1223===o&&(o=204);j._ioReady(o,s)}}catch(v){h.onreadystatechange=b.noop,e||j._ioReady(-1,
v)}}});return d},{requires:["./base"]});
KISSY.add("ajax/xhr-transport",function(b,e,h,j,g,d){var a=b.Env.host.XDomainRequest,k=h.nativeXhr();if(k){var l=function(a){var a=a.split("."),b=a.length,d=3<b?3:2;return b<d?a.join("."):a.reverse().slice(0,d).reverse().join(".")},f=function(b){var e=b.config,f=e.crossDomain,c=e.xdr||{};if(f){if(l(location.hostname)==l(e.uri.getHostname()))return new j(b);if(!("withCredentials"in k)&&("flash"===""+c.use||!a))return new g(b)}this.io=b;this.nativeXhr=h.nativeXhr(f);return d};b.augment(f,h.proto,{send:function(){this.sendInternal()}});
e.setupTransport("*",f)}return e},{requires:["./base","./xhr-transport-base","./sub-domain-transport","./xdr-flash-transport"]});
KISSY.add("cookie",function(b){function e(b){return"string"==typeof b&&""!==b}var h=b.Env.host.document,j=encodeURIComponent,g=b.urlDecode;return b.Cookie={get:function(b){var a,k;if(e(b)&&(k=(""+h.cookie).match(RegExp("(?:^| )"+b+"(?:(?:=([^;]*))|;|$)"))))a=k[1]?g(k[1]):"";return a},set:function(b,a,g,l,f,i){var a=""+j(a),n=g;"number"===typeof n&&(n=new Date,n.setTime(n.getTime()+864E5*g));n instanceof Date&&(a+="; expires="+n.toUTCString());e(l)&&(a+="; domain="+l);e(f)&&(a+="; path="+f);i&&(a+=
"; secure");h.cookie=b+"="+a},remove:function(b,a,e,g){this.set(b,"",-1,a,e,g)}}});
KISSY.add("base/attribute",function(b,e){function h(a,b){return"string"==typeof b?a[b]:b}function j(a,c,d,e,f,g,h){h=h||d;return a.fire(c+b.ucfirst(d)+"Change",{attrName:h,subAttrName:g,prevVal:e,newVal:f})}function g(a,b,c){var d=a[b]||{};c&&(a[b]=d);return d}function d(a){return g(a,"__attrs",!0)}function a(a){return g(a,"__attrVals",!0)}function k(a,b){for(var c=0,d=b.length;a!=e&&c<d;c++)a=a[b[c]];return a}function l(a,b){var c;!a.hasAttr(b)&&-1!==b.indexOf(".")&&(c=b.split("."),b=c.shift());
return{path:c,name:b}}function f(a,c,d){var f=d;if(c){var a=f=a===e?{}:b.clone(a),g=c.length-1;if(0<=g){for(var h=0;h<g;h++)a=a[c[h]];a!=e&&(a[c[h]]=d)}}return f}function i(b,c,d,g,h){var g=g||{},i,m,n;n=l(b,c);var o=c,c=n.name;i=n.path;n=b.get(c);i&&(m=k(n,i));if(!i&&n===d||i&&m===d)return e;d=f(n,i,d);if(!g.silent&&!1===j(b,"before",c,n,d,o))return!1;d=b.setInternal(c,d,g);if(!1===d)return d;g.silent||(d=a(b)[c],j(b,"after",c,n,d,o),h?h.push({prevVal:n,newVal:d,attrName:c,subAttrName:o}):j(b,"",
"*",[n],[d],[o],[c]));return b}function n(){}function m(a,b){var c=d(a),f=g(c,b),i=f.valueFn;if(i&&(i=h(a,i)))i=i.call(a),i!==e&&(f.value=i),delete f.valueFn,c[b]=f;return f.value}function c(a,b,c,i){var j,k;j=l(a,b);b=j.name;if(j=j.path)k=a.get(b),c=f(k,j,c);if((j=g(d(a),b,!0).validator)&&(j=h(a,j)))if(a=j.call(a,c,b,i),a!==e&&!0!==a)return a;return e}n.INVALID={};var o=n.INVALID;n.prototype={getAttrs:function(){return d(this)},getAttrVals:function(){var a={},b,c=d(this);for(b in c)a[b]=this.get(b);
return a},addAttr:function(a,c,e){var f=d(this),c=b.clone(c);f[a]?b.mix(f[a],c,e):f[a]=c;return this},addAttrs:function(a,c){var d=this;b.each(a,function(a,b){d.addAttr(b,a)});c&&d.set(c);return d},hasAttr:function(a){return d(this).hasOwnProperty(a)},removeAttr:function(b){this.hasAttr(b)&&(delete d(this)[b],delete a(this)[b]);return this},set:function(a,d,f){if(b.isPlainObject(a)){var f=d,d=Object(a),g=[],h,k=[];for(a in d)(h=c(this,a,d[a],d))!==e&&k.push(h);if(k.length)return f&&f.error&&f.error(k),
!1;for(a in d)i(this,a,d[a],f,g);var l=[],m=[],n=[],o=[];b.each(g,function(a){m.push(a.prevVal);n.push(a.newVal);l.push(a.attrName);o.push(a.subAttrName)});l.length&&j(this,"","*",m,n,o,l);return this}return i(this,a,d,f)},setInternal:function(b,f,i){var j,k,l=g(d(this),b,!0).setter;k=c(this,b,f);if(k!==e)return i.error&&i.error(k),!1;if(l&&(l=h(this,l)))j=l.call(this,f,b);if(j===o)return!1;j!==e&&(f=j);a(this)[b]=f},get:function(b){var c,e=this.hasAttr(b),f=a(this);!e&&-1!==b.indexOf(".")&&(c=b.split("."),
b=c.shift());e=g(d(this),b).getter;f=b in f?f[b]:m(this,b);if(e&&(e=h(this,e)))f=e.call(this,f,b);c&&(f=k(f,c));return f},reset:function(a,b){if("string"==typeof a)return this.hasAttr(a)?this.set(a,m(this,a),b):this;var b=a,c=d(this),e={};for(a in c)e[a]=m(this,a);this.set(e,b);return this}};return n});
KISSY.add("base",function(b,e,h){function j(b){for(var d=this.constructor;d;){var a=d.ATTRS;if(a){var e=void 0;for(e in a)this.addAttr(e,a[e],!1)}d=d.superclass?d.superclass.constructor:null}if(b)for(var h in b)this.setInternal(h,b[h])}b.augment(j,h.Target,e);j.Attribute=e;return b.Base=j},{requires:["base/attribute","event"]});KISSY.add("anim",function(b,e,h){e.Easing=h;b.mix(b,{Anim:e,Easing:e.Easing});return e},{requires:["anim/base","anim/easing","anim/color","anim/background-position"]});
KISSY.add("anim/background-position",function(b,e,h,j){function g(a){a=a.replace(/left|top/g,"0px").replace(/right|bottom/g,"100%").replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");a=a.match(/(-?[0-9\.]+)(px|%|em|pt)\s(-?[0-9\.]+)(px|%|em|pt)/);return[parseFloat(a[1]),a[2],parseFloat(a[3]),a[4]]}function d(){d.superclass.constructor.apply(this,arguments)}b.extend(d,j,{load:function(){d.superclass.load.apply(this,arguments);this.unit=["px","px"];if(this.from){var a=g(this.from);this.from=[a[0],a[2]]}else this.from=
[0,0];this.to?(a=g(this.to),this.to=[a[0],a[2]],this.unit=[a[1],a[3]]):this.to=[0,0]},interpolate:function(a,b,e){var f=this.unit,g=d.superclass.interpolate;return g(a[0],b[0],e)+f[0]+" "+g(a[1],b[1],e)+f[1]},cur:function(){return e.css(this.anim.config.el,"backgroundPosition")},update:function(){var a=this.prop,b=this.anim.config.el,d=this.interpolate(this.from,this.to,this.pos);e.css(b,a,d)}});return j.Factories.backgroundPosition=d},{requires:["dom","./base","./fx"]});
KISSY.add("anim/base",function(b,e,h,j,g,d,a,k){function l(a,c,d,g,h){if(a.el)return d=a.el,c=a.props,delete a.el,delete a.props,new l(d,c,a);if(a=e.get(a)){if(!(this instanceof l))return new l(a,c,d,g,h);c="string"==typeof c?b.unparam(""+c,";",":"):b.clone(c);b.each(c,function(a,d){var e=b.trim(q(d));e?d!=e&&(c[e]=c[d],delete c[d]):delete c[d]});d=b.isPlainObject(d)?b.clone(d):{duration:parseFloat(d)||void 0,easing:g,complete:h};d=b.merge(t,d);d.el=a;d.props=c;this.config=d;this._duration=1E3*d.duration;
this.domEl=a;this._backupProps={};this._fxs={};this.on("complete",f)}}function f(a){var c,d,f=this.config;b.isEmptyObject(c=this._backupProps)||e.css(f.el,c);(d=f.complete)&&d.call(this,a)}function i(){var c=this.config,f=this._backupProps,h=c.el,i,k,l,m=c.specialEasing||{},o=this._fxs,q=c.props;n(this);if(!1===this.fire("beforeStart"))this.stop(0);else{if(h.nodeType==p.ELEMENT_NODE)for(l in k="none"===e.css(h,"display"),q)if(i=q[l],"hide"==i&&k||"show"==i&&!k){this.stop(1);return}if(h.nodeType==
p.ELEMENT_NODE&&(q.width||q.height))i=h.style,b.mix(f,{overflow:i.overflow,"overflow-x":i.overflowX,"overflow-y":i.overflowY}),i.overflow="hidden","inline"===e.css(h,"display")&&"none"===e.css(h,"float")&&(g.ie?i.zoom=1:i.display="inline-block");b.each(q,function(a,d){var e;b.isArray(a)?(e=m[d]=a[1],q[d]=a[0]):e=m[d]=m[d]||c.easing;"string"==typeof e&&(e=m[d]=j[e]);m[d]=e||j.easeNone});b.each(s,function(a,c){var d,f;if(f=q[c])d={},b.each(a,function(a){d[a]=e.css(h,a);m[a]=m[c]}),e.css(h,c,f),b.each(d,
function(a,b){q[b]=e.css(h,b);e.css(h,b,a)}),delete q[c]});for(l in q){i=b.trim(q[l]);var r,t,w={prop:l,anim:this,easing:m[l]},F=a.getFx(w);b.inArray(i,u)?(f[l]=e.style(h,l),"toggle"==i&&(i=k?"show":"hide"),"hide"==i?(r=0,t=F.cur(),f.display="none"):(t=0,r=F.cur(),e.css(h,l,t),e.show(h)),i=r):(r=i,t=F.cur());i+="";var H="",G=i.match(v);if(G){r=parseFloat(G[2]);if((H=G[3])&&"px"!==H)e.css(h,l,i),t*=r/F.cur(),e.css(h,l,t+H);G[1]&&(r=("-="===G[1]?-1:1)*r+t)}w.from=t;w.to=r;w.unit=H;F.load(w);o[l]=F}this._startTime=
b.now();d.start(this)}}function n(a){var c=a.config.el,d=e.data(c,r);d||e.data(c,r,d={});d[b.stamp(a)]=a}function m(a){var c=a.config.el,d=e.data(c,r);d&&(delete d[b.stamp(a)],b.isEmptyObject(d)&&e.removeData(c,r))}function c(a,c,d){a=e.data(a,"resume"==d?w:r);a=b.merge(a);b.each(a,function(a){if(void 0===c||a.config.queue==c)a[d]()})}function o(a,c,d,f){d&&!1!==f&&k.removeQueue(a,f);a=e.data(a,r);a=b.merge(a);b.each(a,function(a){a.config.queue==f&&a.stop(c)})}var q=e._camelCase,p=e.NodeType,u=["hide",
"show","toggle"],s={background:["backgroundPosition"],border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},t={duration:1,easing:"easeNone"},v=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;l.SHORT_HANDS=
s;l.prototype={constructor:l,isRunning:function(){var a;a=(a=e.data(this.config.el,r))?!!a[b.stamp(this)]:0;return a},isPaused:function(){var a;a=(a=e.data(this.config.el,w))?!!a[b.stamp(this)]:0;return a},pause:function(){if(this.isRunning()){this._pauseDiff=b.now()-this._startTime;d.stop(this);m(this);var a=this.config.el,c=e.data(a,w);c||e.data(a,w,c={});c[b.stamp(this)]=this}return this},resume:function(){if(this.isPaused()){this._startTime=b.now()-this._pauseDiff;var a=this.config.el,c=e.data(a,
w);c&&(delete c[b.stamp(this)],b.isEmptyObject(c)&&e.removeData(a,w));n(this);d.start(this)}return this},_runInternal:i,run:function(){!1===this.config.queue?i.call(this):k.queue(this);return this},_frame:function(){var a,b=this.config,c=1,d,e,f=this._fxs;for(a in f)if(!(e=f[a]).finished)b.frame&&(d=b.frame(e)),1==d||0==d?(e.finished=d,c&=d):(c&=e.frame())&&b.frame&&b.frame(e);(!1===this.fire("step")||c)&&this.stop(c)},stop:function(a){var b=this.config,c=b.queue,e,f=this._fxs;if(!this.isRunning())return!1!==
c&&k.remove(this),this;if(a){for(e in f)if(!(a=f[e]).finished)b.frame?b.frame(a,1):a.frame(1);this.fire("complete")}d.stop(this);m(this);!1!==c&&k.dequeue(this);return this}};b.augment(l,h.Target);var r=b.guid("ks-anim-unqueued-"+b.now()+"-"),w=b.guid("ks-anim-paused-"+b.now()+"-");l.stop=function(a,c,d,f){if(null===f||"string"==typeof f||!1===f)return o.apply(void 0,arguments);d&&k.removeQueues(a);var g=e.data(a,r),g=b.merge(g);b.each(g,function(a){a.stop(c)})};b.each(["pause","resume"],function(a){l[a]=
function(b,d){if(null===d||"string"==typeof d||!1===d)return c(b,d,a);c(b,void 0,a)}});l.isRunning=function(a){return(a=e.data(a,r))&&!b.isEmptyObject(a)};l.isPaused=function(a){return(a=e.data(a,w))&&!b.isEmptyObject(a)};l.Q=k;return l},{requires:"dom,event,./easing,ua,./manager,./fx,./queue".split(",")});
KISSY.add("anim/color",function(b,e,h,j){function g(b){var b=b+"",c;if(c=b.match(f))return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])];if(c=b.match(i))return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseInt(c[4])];if(c=b.match(n)){for(b=1;b<c.length;b++)2>c[b].length&&(c[b]+=c[b]);return[parseInt(c[1],a),parseInt(c[2],a),parseInt(c[3],a)]}return l[b=b.toLowerCase()]?l[b]:[255,255,255]}function d(){d.superclass.constructor.apply(this,arguments)}var a=16,k=Math.floor,l={black:[0,0,0],silver:[192,
192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},f=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,i=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,n=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,e=h.SHORT_HANDS;e.background=e.background||[];e.background.push("backgroundColor");
e.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];e.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");e.borderBottom.push("borderBottomColor");e.borderLeft.push("borderLeftColor");e.borderRight.push("borderRightColor");e.borderTop.push("borderTopColor");b.extend(d,j,{load:function(){d.superclass.load.apply(this,arguments);this.from&&(this.from=g(this.from));this.to&&(this.to=g(this.to))},interpolate:function(a,b,e){var f=
d.superclass.interpolate;if(3==a.length&&3==b.length)return"rgb("+[k(f(a[0],b[0],e)),k(f(a[1],b[1],e)),k(f(a[2],b[2],e))].join(", ")+")";if(4==a.length||4==b.length)return"rgba("+[k(f(a[0],b[0],e)),k(f(a[1],b[1],e)),k(f(a[2],b[2],e)),k(f(a[3]||1,b[3]||1,e))].join(", ")+")"}});b.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(a){j.Factories[a]=d});return d},{requires:["dom","./base","./fx"]});
KISSY.add("anim/easing",function(){var b=Math.PI,e=Math.pow,h=Math.sin,j={swing:function(e){return-Math.cos(e*b)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return 1>(b*=2)?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return 1>(b*=2)?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(g){return 0===g||1===g?g:-(e(2,10*(g-=
1))*h((g-0.075)*2*b/0.3))},elasticOut:function(g){return 0===g||1===g?g:e(2,-10*g)*h((g-0.075)*2*b/0.3)+1},elasticBoth:function(g){return 0===g||2===(g*=2)?g:1>g?-0.5*e(2,10*(g-=1))*h((g-0.1125)*2*b/0.45):0.5*e(2,-10*(g-=1))*h((g-0.1125)*2*b/0.45)+1},backIn:function(b){1===b&&(b-=0.0010);return b*b*(2.70158*b-1.70158)},backOut:function(b){return(b-=1)*b*(2.70158*b+1.70158)+1},backBoth:function(b){var d,a=(d=2.5949095)+1;return 1>(b*=2)?0.5*b*b*(a*b-d):0.5*((b-=2)*b*(a*b+d)+2)},bounceIn:function(b){return 1-
j.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){return 0.5>b?0.5*j.bounceIn(2*b):0.5*j.bounceOut(2*b-1)+0.5}};return j});
KISSY.add("anim/fx",function(b,e,h){function j(b){this.load(b)}function g(b,a){return(!b.style||null==b.style[a])&&null!=e.attr(b,a,h,1)?1:0}j.prototype={constructor:j,load:function(d){b.mix(this,d);this.pos=0;this.unit=this.unit||""},frame:function(d){var a=this.anim,e=0;if(this.finished)return 1;var g=b.now(),f=a._startTime,a=a._duration;d||g>=a+f?e=this.pos=1:this.pos=this.easing((g-f)/a);this.update();this.finished=this.finished||e;return e},interpolate:function(d,a,e){return b.isNumber(d)&&b.isNumber(a)?
(d+(a-d)*e).toFixed(3):h},update:function(){var b=this.prop,a=this.anim.config.el,j=this.to,l=this.interpolate(this.from,j,this.pos);l===h?this.finished||(this.finished=1,e.css(a,b,j)):(l+=this.unit,g(a,b)?e.attr(a,b,l,1):e.css(a,b,l))},cur:function(){var b=this.prop,a=this.anim.config.el;if(g(a,b))return e.attr(a,b,h,1);var j,b=e.css(a,b);return isNaN(j=parseFloat(b))?!b||"auto"===b?0:b:j}};j.Factories={};j.getFx=function(b){return new (j.Factories[b.prop]||j)(b)};return j},{requires:["dom"]});
KISSY.add("anim/manager",function(b){var e=b.stamp;return{interval:15,runnings:{},timer:null,start:function(b){var j=e(b);this.runnings[j]||(this.runnings[j]=b,this.startTimer())},stop:function(b){this.notRun(b)},notRun:function(h){delete this.runnings[e(h)];b.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(b){this.notRun(b)},resume:function(b){this.start(b)},startTimer:function(){var b=this;b.timer||(b.timer=setTimeout(function(){b.runFrames()?b.stopTimer():(b.timer=0,b.startTimer())},
b.interval))},stopTimer:function(){var b=this.timer;b&&(clearTimeout(b),this.timer=0)},runFrames:function(){var b=1,e=this.runnings,g;for(g in e)b=0,e[g]._frame();return b}}});
KISSY.add("anim/queue",function(b,e){function h(a,b,f){var b=b||d,h,j=e.data(a,g);!j&&!f&&e.data(a,g,j={});j&&(h=j[b],!h&&!f&&(h=j[b]=[]));return h}function j(a,h){var h=h||d,f=e.data(a,g);f&&delete f[h];b.isEmptyObject(f)&&e.removeData(a,g)}var g=b.guid("ks-queue-"+b.now()+"-"),d=b.guid("ks-queue-"+b.now()+"-"),a={queueCollectionKey:g,queue:function(b){var d=h(b.config.el,b.config.queue);d.push(b);"..."!==d[0]&&a.dequeue(b);return d},remove:function(a){var d=h(a.config.el,a.config.queue,1);d&&(a=
b.indexOf(a,d),-1<a&&d.splice(a,1))},removeQueues:function(a){e.removeData(a,g)},removeQueue:j,dequeue:function(a){var b=a.config.el,a=a.config.queue,d=h(b,a,1),e=d&&d.shift();"..."==e&&(e=d.shift());e?(d.unshift("..."),e._runInternal()):j(b,a)}};return a},{requires:["dom"]});
KISSY.add("node/anim",function(b,e,h,j,g){function d(b,d,e){for(var g=[],h={},e=e||0;e<d;e++)g.push.apply(g,a[e]);for(e=0;e<g.length;e++)h[g[e]]=b;return h}var a=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];b.augment(j,{animate:function(a){var d=b.makeArray(arguments);b.each(this,function(a){var e=b.clone(d),j=e[0];j.props?(j.el=a,h(j).run()):h.apply(g,[a].concat(e)).run()});return this},stop:function(a,
d,e){b.each(this,function(b){h.stop(b,a,d,e)});return this},pause:function(a,d){b.each(this,function(a){h.pause(a,d)});return this},resume:function(a,d){b.each(this,function(a){h.resume(a,d)});return this},isRunning:function(){for(var a=0;a<this.length;a++)if(h.isRunning(this[a]))return!0;return!1},isPaused:function(){for(var a=0;a<this.length;a++)if(h.isPaused(this[a]))return 1;return 0}});b.each({show:d("show",3),hide:d("hide",3),toggle:d("toggle",3),fadeIn:d("show",3,2),fadeOut:d("hide",3,2),fadeToggle:d("toggle",
3,2),slideDown:d("show",1),slideUp:d("hide",1),slideToggle:d("toggle",1)},function(a,d){j.prototype[d]=function(f,g,j){if(e[d]&&!f)e[d](this);else b.each(this,function(b){h(b,a,f,j||"easeOut",g).run()});return this}})},{requires:["dom","anim","./base"]});
KISSY.add("node/attach",function(b,e,h,j,g){function d(a,b,d){d.unshift(b);a=e[a].apply(e,d);return a===g?b:a}var a=j.prototype,k=b.makeArray;b.each("nodeName,equals,contains,index,scrollTop,scrollLeft,height,width,innerHeight,innerWidth,outerHeight,outerWidth,addStyleSheet,appendTo,prependTo,insertBefore,before,after,insertAfter,test,hasClass,addClass,removeClass,replaceClass,toggleClass,removeAttr,hasAttr,hasProp,scrollIntoView,remove,empty,removeData,hasData,unselectable,wrap,wrapAll,replaceWith,wrapInner,unwrap".split(","),function(b){a[b]=
function(){var a=k(arguments);return d(b,this,a)}});b.each("filter,first,last,parent,closest,next,prev,clone,siblings,contents,children".split(","),function(b){a[b]=function(){var a;a=k(arguments);a.unshift(this);a=e[b].apply(e,a);a=a===g?this:a===null?null:new j(a);return a}});b.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,outerHTML:0,data:1},function(h,f){a[f]=function(){var a;a=k(arguments);a[h]===g&&!b.isObject(a[0])?(a.unshift(this),a=e[f].apply(e,a)):a=d(f,this,a);return a}});
b.each("on,detach,fire,fireHandler,delegate,undelegate".split(","),function(b){a[b]=function(){var a=k(arguments);a.unshift(this);h[b].apply(h,a);return this}})},{requires:["dom","event","./base"]});
KISSY.add("node/base",function(b,e,h){function j(d,g,m){if(!(this instanceof j))return new j(d,g,m);if(d)if("string"==typeof d){if(d=e.create(d,g,m),d.nodeType===a.DOCUMENT_FRAGMENT_NODE)return k.apply(this,l(d.childNodes)),h}else{if(b.isArray(d)||f(d))return k.apply(this,l(d)),h}else return h;this[0]=d;this.length=1;return h}var g=Array.prototype,d=g.slice,a=e.NodeType,k=g.push,l=b.makeArray,f=e._isNodeList;j.prototype={length:0,item:function(a){return b.isNumber(a)?a>=this.length?null:new j(this[a]):
new j(a)},add:function(a,d,e){b.isNumber(d)&&(e=d,d=h);a=j.all(a,d).getDOMNodes();d=new j(this);e===h?k.apply(d,a):(e=[e,0],e.push.apply(e,a),g.splice.apply(d,e));return d},slice:function(a,b){return new j(d.apply(this,arguments))},getDOMNodes:function(){return d.call(this)},each:function(a,d){var e=this;b.each(e,function(b,f){b=new j(b);return a.call(d||b,b,f,e)});return e},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(a){a=0<this.length?j.all(a,this):
new j;a.__parent=this;return a},one:function(a){a=this.all(a);if(a=a.length?a.slice(0,1):null)a.__parent=this;return a}};b.mix(j,{all:function(a,d){return"string"==typeof a&&(a=b.trim(a))&&3<=a.length&&b.startsWith(a,"<")&&b.endsWith(a,">")?(d&&(d.getDOMNode&&(d=d[0]),d.ownerDocument&&(d=d.ownerDocument)),new j(a,h,d)):new j(e.query(a,d))},one:function(a,b){var d=j.all(a,b);return d.length?d.slice(0,1):null}});j.NodeType=a;return j},{requires:["dom"]});
KISSY.add("node",function(b,e,h){h.KeyCodes=e.KeyCodes;b.mix(b,{Node:h,NodeList:h,one:h.one,all:h.all});return h},{requires:["event","node/base","node/attach","node/override","node/anim"]});
KISSY.add("node/override",function(b,e,h,j){var g=j.prototype;b.each(["append","prepend","before","after"],function(b){g[b]=function(a){"string"==typeof a&&(a=e.create(a));if(a)e[b](a,this);return this}});b.each(["wrap","wrapAll","replaceWith","wrapInner"],function(b){var a=g[b];g[b]=function(b){"string"==typeof b&&(b=j.all(b,this[0].ownerDocument));return a.call(this,b)}})},{requires:["dom","event","./base","./attach"]});KISSY.use("ua,dom,event,node,json,ajax,anim,base,cookie");
