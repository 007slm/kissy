/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 12 13:30
*/
KISSY.add("component/base",function(f,g,e){function c(){var b=f.makeArray(arguments),h=b[b.length-1];b.unshift(this);h.xclass&&(b.pop(),b.push(h.xclass));b=g.create.apply(g,b);h.xclass&&e.setUIConstructorByCssClass(h.xclass,{ui:b,priority:h.priority});b.extend=c;return b}return{UIStore:e,UIBase:g,define:function(){var b=f.makeArray(arguments),h;h=b.shift();return c.apply(h,b)}}},{requires:["./uibase","./uistore"]});
KISSY.add("component",function(f,g,e,c,b,h,a,m){f.mix(g,{Controller:e,Render:c,Container:b,DelegateChildren:h,DecorateChild:m,DecorateChildren:a});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(f,g,e,c){return g.extend([e,c],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(f,g,e,c,b,h,a){function m(i){return function(q){if(this==q.target){var q=q.newVal,d=this.get("view");d&&d.set(i,q)}}}function k(i){return function(d){var b=this.get("view");return d===a?b&&b.get(i):d}}function n(i,d,b){i.create();var c=i.getContentElement(),d=o(d,i);d.__set("parent",i);d.set("render",c);d.set("elBefore",b);i.get("rendered")?d.render():d.create(a);return d}function j(i,d){var a=i.relatedTarget;return a&&(a===d[0]||d.contains(a))}function o(i,
a){if(!(i instanceof d)){var c;c=i.xclass;a&&!i.prefixCls&&(i.prefixCls=a.get("prefixCls"));i=new (b.getUIConstructorByCssClass(c))(i)}return i}var d=e.define([c.Box],{getCssClassWithPrefix:b.getCssClassWithPrefix,initializer:function(){var i,d,a,b=this.get("listeners"),c=this.getAttrs();for(i in c)c.hasOwnProperty(i)&&(a=c[i],a.view&&(this.on("after"+f.ucfirst(i)+"Change",m(i)),a.getter=k(i)));for(d in b)i=b[d],this.on(d,i.fn||i,i.scope)},createDom:function(){var i;if(!(i=this.get("view"))){var c=
{},t=this.get("xrender");if(t){i=this.getAttrs();for(var h in i)if(i.hasOwnProperty(h)){var e;if(i[h].view&&(e=this.get(h))!==a)c[h]=e}i=new t(c)}else i=0}h=i;e=this.constructor;for(i=[];e&&e!=d;)(c=b.getCssClassByUIConstructor(e))&&i.push(c),e=e.superclass&&e.superclass.constructor;h.__componentClasses=i.join(" ");h.create();e=h.getKeyEventTarget();this.get("focusable")?e.attr("tabIndex",0):e.unselectable(a);this.__set("view",h)},renderUI:function(){var i,d;this.get("view").render();var a=this.get("children");
for(i=0;i<a.length;i++)d=a[i],d=n(this,d),a[i]=d,d.render()},bindUI:function(){var i=this.get("focusable"),d=this.get("handleMouseEvents"),a=this.getKeyEventTarget();if(i)a.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);d&&(a=this.get("el"),a.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,
this))},_uiSetFocused:function(i){i&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var i=this.get("view");return i&&i.getContentElement()},getKeyEventTarget:function(){var i=this.get("view");return i&&i.getKeyEventTarget()},addChild:function(i,d){var b=this.get("children"),c;d===a&&(d=b.length);c=b[d]&&b[d].get("el")||null;i=n(this,i,c);b.splice(d,0,i)},removeChild:function(i,d){var a=this.get("children"),b=f.indexOf(i,a);-1!=b&&a.splice(b,1);d&&i.destroy();return i},removeChildren:function(i){var d,
a=[].concat(this.get("children"));for(d=0;d<a.length;d++)this.removeChild(a[d],i);this.__set("children",[])},getChildAt:function(i){return this.get("children")[i]||null},handleDblClick:function(i){if(this.get("disabled"))return!0;this.performActionInternal(i)},handleMouseOver:function(i){var d=this.get("el");if(this.get("disabled"))return!0;j(i,d)||this.handleMouseEnter(i)},handleMouseOut:function(i){var d=this.get("el");if(this.get("disabled"))return!0;j(i,d)||this.handleMouseLeave(i)},handleMouseEnter:function(d){if(this.get("disabled"))return!0;
this.set("highlighted",!!d)},handleMouseLeave:function(d){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!d)},handleMouseDown:function(d){var a=1==d.which;if(this.get("disabled"))return!0;a&&(a=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(a[0].focus(),this.set("focused",!0)):(a=(a=d.target.nodeName)&&a.toLowerCase(),"input"!=a&&"textarea"!=a&&d.preventDefault()))},handleMouseUp:function(d){if(this.get("disabled"))return!0;
this.get("active")&&1==d.which&&(this.performActionInternal(d),this.set("active",!1))},handleFocus:function(d){this.set("focused",!!d);this.fire("focus")},handleBlur:function(d){this.set("focused",!d);this.fire("blur")},handleKeyEventInternal:function(d){if(d.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(d)},handleKeydown:function(d){if(this.get("disabled"))return!0;this.handleKeyEventInternal(d)&&d.halt()},performActionInternal:function(){},destructor:function(){var d,a=this.get("children");
for(d=0;d<a.length;d++)a[d].destroy();(d=this.get("view"))&&d.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}},xrender:{value:h},xclass:{valueFn:function(){return b.getCssClassByUIConstructor(this.constructor)}}}});e.create=o;return d},{requires:["event","./base","./uibase","./uistore",
"./render"]});KISSY.add("component/decorateChild",function(f,g){function e(){}f.augment(e,g,{decorateInternal:function(c){this.set("el",c);var b=this.get("decorateChildCls");if(c=c.one("."+this.getCssClassWithPrefix(b)))(b=this.findUIConstructorByNode(c))?this.decorateChildrenInternal(b,c):this.decorateChildren(c)}});return e},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(f,g){function e(){}f.augment(e,{decorateInternal:function(c){this.set("el",c);this.decorateChildren(c)},findUIConstructorByNode:function(c){var c=c.attr("class")||"",b=this.get("prefixCls"),c=c.replace(RegExp("\\b"+b,"ig"),"");return g.getUIConstructorByCssClass(c)},decorateChildrenInternal:function(c,b){this.addChild(new c({srcNode:b,prefixCls:this.get("prefixCls")}))},decorateChildren:function(c){var b=this;c.children().each(function(c){var a=b.findUIConstructorByNode(c);
b.decorateChildrenInternal(a,c)})}});return e},{requires:["./uistore"]});
KISSY.add("component/delegateChildren",function(f){function g(){}function e(c){var b=this.getOwnerControl(c.target);if(b)switch(c.type){case "mousedown":b.handleMouseDown(c);break;case "mouseup":b.handleMouseUp(c);break;case "mouseover":b.handleMouseOver(c);break;case "mouseout":b.handleMouseOut(c);break;case "dblclick":b.handleDblClick(c)}}f.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",e,this)},getOwnerControl:function(c){for(var b=this.get("children"),
e=b.length,a=this.get("el")[0];c&&c!==a;){for(var f=0;f<e;f++)if(b[f].get("el")[0]===c)return b[f];c=c.parentNode}return null}});return g});
KISSY.add("component/render",function(f,g,e,c){return g.define([e.Box.Render],{getComponentCssClassWithState:function(b){var c=this.__componentClasses,b=b||"";return this.getCssClassWithPrefix(c.split(/\s+/).join(b+" ")+b)},getCssClassWithPrefix:c.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(b){var c=
this.getComponentCssClassWithState("-hover");this.get("el")[b?"addClass":"removeClass"](c)},_uiSetDisabled:function(b){var c=this.getComponentCssClassWithState("-disabled");this.get("el")[b?"addClass":"removeClass"](c).attr("aria-disabled",b);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",b?-1:0)},_uiSetActive:function(b){var c=this.getComponentCssClassWithState("-active");this.get("el")[b?"addClass":"removeClass"](c).attr("aria-pressed",!!b)},_uiSetFocused:function(b){var c=this.get("el"),
a=this.getComponentCssClassWithState("-focused");c[b?"addClass":"removeClass"](a)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./uistore"]});
KISSY.add("component/uibase",function(f,g,e,c,b,h,a,m,k,n,j,o,d,i,q,t,v,r,l,p,u){h.Render=a;o.Render=d;i.Render=q;t.Render=v;p.Render=u;c.Render=b;k.Render=n;f.mix(g,{Align:e,Box:c,Close:h,Constrain:m,ContentBox:k,Drag:j,Loading:o,Mask:i,Position:t,Shim:{Render:r},Resize:l,StdMod:p});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(f,g,e,c){function b(d){var a=d.ownerDocument.body,b=e.css(d,"position");if(!("fixed"==b||"absolute"==b))return"html"==d.nodeName.toLowerCase()?null:d.parentNode;for(d=d.parentNode;d&&d!=a;d=d.parentNode)if(b=e.css(d,"position"),"static"!=b)return d;return null}function h(d){var a,c,f={left:0,right:Infinity,top:0,bottom:Infinity},h;c=d.ownerDocument;a=c.body;for(c=c.documentElement;d=b(d);)if((!g.ie||0!=d.clientWidth)&&d!=a&&d!=c&&"visible"!=e.css(d,"overflow"))h=
e.offset(d),h.left+=d.clientLeft,h.top+=d.clientTop,f.top=Math.max(f.top,h.top),f.right=Math.min(f.right,h.left+d.clientWidth),f.bottom=Math.min(f.bottom,h.top+d.clientHeight),f.left=Math.max(f.left,h.left);d=e.scrollLeft();h=e.scrollTop();f.left=Math.max(f.left,d);f.top=Math.max(f.top,h);a=e.viewportWidth();c=e.viewportHeight();f.right=Math.min(f.right,d+a);f.bottom=Math.min(f.bottom,h+c);return 0<=f.top&&0<=f.left&&f.bottom>f.top&&f.right>f.left?f:null}function a(d,a,c,b){var f,e;f=d.left;e=d.top;
a=j(a,c[0]);d=j(d,c[1]);d=[d.left-a.left,d.top-a.top];return{left:f-d[0]+ +b[0],top:e-d[1]+ +b[1]}}function m(d,a,c){var b=[];f.each(d,function(d){b.push(d.replace(a,function(d){return c[d]}))});return b}function k(){}function n(d){var a,c;f.isWindow(d[0])?(a={left:e.scrollLeft(),top:e.scrollTop()},c=e.viewportWidth(),d=e.viewportHeight()):(a=d.offset(),c=d.outerWidth(),d=d.outerHeight());a.width=c;a.height=d;return a}function j(d,a){var c=a.charAt(0),b=a.charAt(1),f=d.width,e=d.height,h,g;h=d.left;
g=d.top;"c"===c?g+=e/2:"b"===c&&(g+=e);"c"===b?h+=f/2:"r"===b&&(h+=f);return{left:h,top:g}}var o=f.Env.host;k.__getOffsetParent=b;k.__getVisibleRectForElement=h;k.ATTRS={align:{}};k.prototype={_uiSetAlign:function(d){d&&this.align(d.node,d.points,d.offset,d.overflow)},align:function(d,b,e,g){var d=c.one(d||o),e=e&&[].concat(e)||[0,0],g=g||{},k=this.get("el"),j=0,l=h(k[0]),p=n(k),u=n(d),d=a(p,u,b,e),s=f.merge(p,d);if(l&&(g.adjustX||g.adjustY)){if(d.left<l.left||d.left+p.width>l.right)j=1,b=m(b,/[lr]/ig,
{l:"r",r:"l"}),e[0]=-e[0];if(d.top<l.top||d.top+p.height>l.bottom)j=1,b=m(b,/[tb]/ig,{t:"b",b:"t"}),e[1]=-e[1];j&&(d=a(p,u,b,e),f.mix(s,d));b={};b.adjustX=g.adjustX&&(d.left<l.left||d.left+p.width>l.right);b.adjustY=g.adjustY&&(d.top<l.top||d.top+p.height>l.bottom);if(b.adjustX||b.adjustY)g=f.clone(d),j={width:p.width,height:p.height},b.adjustX&&g.left<l.left&&(g.left=l.left),b.resizeWidth&&g.left>=l.left&&g.left+j.width>l.right&&(j.width-=g.left+j.width-l.right),b.adjustX&&g.left+j.width>l.right&&
(g.left=Math.max(l.right-j.width,l.left)),b.adjustY&&g.top<l.top&&(g.top=l.top),b.resizeHeight&&g.top>=l.top&&g.top+j.height>l.bottom&&(j.height-=g.top+j.height-l.bottom),b.adjustY&&g.top+j.height>l.bottom&&(g.top=Math.max(l.bottom-j.height,l.top)),s=f.mix(g,j)}s.left!=p.left&&this.set("x",s.left);s.top!=p.top&&this.set("y",s.top);s.width!=p.width&&k.width(k.width()+s.width-p.width);s.height!=p.height&&k.height(k.height()+s.height-p.height);return this},center:function(d){this.set("align",{node:d,
points:["cc","cc"],offset:[0,0]});return this}};return k},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(f,g,e,c){function b(a){g.apply(this,arguments);for(var d=a,b=this.constructor;b;){if(d&&d[k]&&b.HTML_PARSER&&(d[k]=e.one(d[k]))){var m=d,j=b.HTML_PARSER,n=void 0,r=void 0,l=m[k];for(n in j)j.hasOwnProperty(n)&&m[n]===c&&(r=j[n],f.isFunction(r)?this.__set(n,r.call(this,l)):f.isString(r)?this.__set(n,l.one(r)):f.isArray(r)&&r[0]&&this.__set(n,l.all(r[0])))}b=b.superclass&&b.superclass.constructor}h(this,"initializer","constructor");a&&a.autoRender&&this.render()}
function h(a,d,b){for(var c=a.constructor,f=[],e,h,g,m;c;){m=[];if(g=c.__ks_exts)for(var k=0;k<g.length;k++)if(e=g[k])"constructor"!=b&&(e=e.prototype.hasOwnProperty(b)?e.prototype[b]:null),e&&m.push(e);c.prototype.hasOwnProperty(d)&&(h=c.prototype[d])&&m.push(h);m.length&&f.push.apply(f,m.reverse());c=c.superclass&&c.superclass.constructor}for(k=f.length-1;0<=k;k--)f[k]&&f[k].call(a)}function a(a){var d=a.getAttrs(),b,c;for(b in d)d.hasOwnProperty(b)&&(c=m+n(b),a[c]&&function(d,b){a.on("after"+n(d)+
"Change",function(d){if(d.target===a)a[b](d.newVal,d)})}(b,c))}var m="_uiSet",k="srcNode",n=f.ucfirst,j=f.noop;b.HTML_PARSER={};b.ATTRS={rendered:{value:!1},created:{value:!1}};f.extend(b,g,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),h(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(c);this.fire("beforeRenderUI");h(this,"renderUI","__renderUI");this.fire("afterRenderUI");
this.fire("beforeBindUI");a(this);h(this,"bindUI","__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var b,d,f=this.getAttrs(),e;for(e in f)f.hasOwnProperty(e)&&(d=this[m+n(e)])&&!1!==f[e].sync&&(b=this.get(e))!==c&&d.call(this,b);h(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:j,renderUI:j,bindUI:j,syncUI:j,destroy:function(){for(var a=this.constructor,d,b,c;a;){a.prototype.hasOwnProperty("destructor")&&a.prototype.destructor.apply(this);
if(d=a.__ks_exts)for(c=d.length-1;0<=c;c--)(b=d[c]&&d[c].prototype.__destructor)&&b.apply(this);a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(a,d,c,e){function h(){b.apply(this,arguments)}var g=f.makeArray(arguments);f.isArray(a)&&(e=c,c=d,d=a,a=b);a=a||b;f.isObject(d)&&(e=c,c=d,d=[]);f.isString(g[g.length-1]);f.extend(h,a,c,e);if(d){h.__ks_exts=d;var m={},g=d.concat(h);f.each(g,function(a){a&&f.each(["ATTRS","HTML_PARSER"],function(d){if(a[d]){m[d]=
m[d]||{};f.mix(m[d],a[d],{deep:true})}})});f.each(m,function(d,a){h[a]=d});var k={};f.each(g,function(d){if(d){var d=d.prototype,a;for(a in d)d.hasOwnProperty(a)&&(k[a]=d[a])}});f.each(k,function(d,a){h.prototype[a]=d})}return h}});return b},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(f){function g(){}g.ATTRS={content:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};g.HTML_PARSER={el:function(e){this.decorateInternal&&this.decorateInternal(f.one(e));return e}};g.prototype={_uiSetVisible:function(e){this.fire(e?"show":"hide")},show:function(){var e;this.get("rendered")?
this.set("visible",!0):(this.__set("visible",!0),(e=this.get("view"))&&e.set("visible",!0),this.render());return this},hide:function(){this.set("visible",!1);return this}};return g});
KISSY.add("component/uibase/boxrender",function(f){function g(){}function e(a,c,e,h,g,o,d){c=c||{};e&&(c.width="number"==typeof e?e+"px":e);h&&(c.height="number"==typeof h?h+"px":h);e=d||"";h="";f.isString(d)||(e="");for(var i in c)c.hasOwnProperty(i)&&(h+=i+":"+c[i]+";");var c="",q;for(q in o)o.hasOwnProperty(q)&&(c+=" "+q+"='"+o[q]+"' ");a=b("<"+g+(h?" style='"+h+"' ":"")+c+(a?" class='"+a+"' ":"")+">"+e+"</"+g+">");d&&!f.isString(d)&&a.append(d);return a}function c(a){var b=this.get("el");f.isString(a)?
b.html(a):a&&(b.empty(),b.append(a))}var b=f.all,h=f.Env.host.document;g.ATTRS={el:{setter:function(a){return b(a)}},elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},content:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};g.construct=e;g.HTML_PARSER={content:function(a){return a.html()}};g.prototype={__renderUI:function(){if(!this.get("srcNode")){var a=this.get("render"),b=this.get("el"),c=this.get("elBefore");c?b.insertBefore(c):
a?b.appendTo(a):b.appendTo(h.body)}},__createDom:function(){var a=this.get("elCls"),b=this.get("elStyle"),f=this.get("width"),h=this.get("height"),g=this.get("content"),o=this.get("elAttrs"),d=this.get("el");d?(a&&d.addClass(a),b&&d.css(b),void 0!==f&&d.width(f),void 0!==h&&d.height(h),g!==d.html()&&c.call(this,g),o&&d.attr(o)):(d=e(a,b,f,h,this.get("elTagName"),o,g),this.__set("el",d))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},
_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:c,_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return g},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function f(){}f.ATTRS={closable:{value:!0,view:!0},closeBtn:{view:!0},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};f.prototype={_uiSetClosable:function(e){var c=this;e&&!c.__bindCloseEvent&&(c.__bindCloseEvent=1,c.get("closeBtn").on("click",function(b){c[g[c.get("closeAction")]||"hide"]();b.preventDefault()}))},__destructor:function(){var e=this.get("closeAction");e&&e.detach()}};return f});
KISSY.add("component/uibase/closerender",function(f,g){function e(){}e.ATTRS={closable:{},closeBtn:{}};e.HTML_PARSER={closeBtn:function(c){return c.one(".ks-ext-close")}};e.prototype={_uiSetClosable:function(c){var b=this.get("closeBtn");c?(b||this.__set("closeBtn",b=new g("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),b.appendTo(this.get("el"),void 0)):b&&b.remove()}};return e},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(f,g,e){function c(){}function b(b){var a=null;if(!b)return a;var c=this.get("el");!0!==b?(b=e.one(b),a=b.offset(),f.mix(a,{maxLeft:a.left+b.outerWidth()-c.outerWidth(),maxTop:a.top+b.outerHeight()-c.outerHeight()})):(a={left:g.scrollLeft(),top:g.scrollTop()},f.mix(a,{maxLeft:a.left+g.viewportWidth()-c.outerWidth(),maxTop:a.top+g.viewportHeight()-c.outerHeight()}));return a}c.ATTRS={constrain:{value:!1}};c.prototype={__renderUI:function(){var c=this,
a=c.getAttrs(),e=a.x,a=a.y,f=e.setter,g=a.setter;e.setter=function(a){var e=f&&f.call(c,a);void 0===e&&(e=a);if(!c.get("constrain"))return e;a=b.call(c,c.get("constrain"));return Math.min(Math.max(e,a.left),a.maxLeft)};a.setter=function(a){var e=g&&g.call(c,a);void 0===e&&(e=a);if(!c.get("constrain"))return e;a=b.call(c,c.get("constrain"));return Math.min(Math.max(e,a.top),a.maxTop)};c.addAttr("x",e);c.addAttr("y",a)}};return c},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function f(){}f.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return f});
KISSY.add("component/uibase/contentboxrender",function(f,g,e,c){function b(){}b.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"}};var h=e.construct;b.prototype={__renderUI:function(){},__createDom:function(){var a;a=this.get("content");var b=this.get("el");this.get("srcNode")&&(a==b.html()?a=c.nodeListToFragment(b[0].childNodes):b.empty());a=h("ks-contentbox "+(this.get("contentElCls")||""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),
this.get("contentElAttrs"),a);a.appendTo(b);this.__set("contentEl",a)},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){var b=this.get("contentEl");"string"==typeof a?b.html(a):b.empty().append(a)}};return b},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(f){function g(){}function e(c){this.set("xy",[c.left,c.top])}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(c){var b;c&&0<c.length&&(b=this.__drag)&&b.set("handlers",c)},__bindUI:function(){var c=f.require("dd")||{},b=c.Draggable,g=this,a=g.get("draggable"),m=g.get("el");if(a&&b){!0===a&&(a={});b=g.__drag=new b({node:m,move:a.proxy});if(a.proxy){a.proxy.moveOnEnd=!1;b.on("dragend",function(){var a=k.get("proxyNode").offset();
m.css("visibility","");g.set("x",a.left);g.set("y",a.top)});var k=g.__proxy=new c.Proxy(a.proxy);k.attachDrag(b)}else b.on("drag",e,g);a.scroll&&(g.__scroll=new c.Scroll(a.scroll)).attachDrag(b)}},_uiSetDraggable:function(c){var b=this.__drag;b&&b.set("disabled",!c)},__destructor:function(){var c=this.__proxy,b=this.__scroll,e=this.__drag;e&&e.destroy();b&&b.destroy();c&&c.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return f});
KISSY.add("component/uibase/loadingrender",function(f,g){function e(){}e.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var c=this._loadingExtEl;c&&c.hide()}};return e},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};f.prototype={__bindUI:function(){var f=this.get("view"),e=f._maskExtShow,c=f._maskExtHide;this.get("mask")&&(this.on("show",e,f),this.on("hide",c,f))}};return f},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(f,g,e){function c(b){b=m("<div  style='width:"+(a?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(a?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(a?"absolute":"fixed")+";' class='"+b+"'>"+(a?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
b.unselectable();b.on("mousedown",function(a){a.preventDefault()});return b}function b(){}var h={},a=6===g.ie,m=e.all;b.prototype={_maskExtShow:function(){var a=this.get("prefixCls")+"ext-mask",b=h[a],e=this.get("maskShared"),f=this.get("maskNode");f||(e?b?f=b.node:(f=c(a),b=h[a]={num:0,node:f}):f=c(a),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);e&&b.num++;(!e||1==b.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=h[a],b=this.get("maskShared"),c=
this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&c.hide()):c.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("mask")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return b},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(f){function g(){}g.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(e){var c=f.makeArray(e);c.length&&(c[0]&&this.set("x",c[0]),c[1]&&this.set("y",c[1]));return e},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};g.prototype={move:function(e,c){f.isArray(e)&&(c=e[1],e=e[0]);this.set("xy",[e,c]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(f){this.get("el").css("z-index",f)},_uiSetX:function(f){this.get("el").offset({left:f})},_uiSetY:function(f){this.get("el").offset({top:f})}};return f});
KISSY.add("component/uibase/resize",function(f){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var e=this.resizer;e&&e.destroy()},_uiSetResize:function(e){var c=f.require("resizable");this.resizer&&this.resizer.destroy();c&&e&&(e.node=this.get("el"),this.resizer=new c(e))}};return g});
KISSY.add("component/uibase/shimrender",function(){function f(){}f.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return f});
KISSY.add("component/uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return f});
KISSY.add("component/uibase/stdmodrender",function(f,g){function e(){}function c(a,b){var c=a.get("contentEl"),e=a.get(b+"Style"),j=a.get(b+"Content"),o=f.isString(j),d=a.get(b);if(d)e&&d.css(e);else{d="";if(e)for(var i in e)e.hasOwnProperty(i)&&(d+=i+":"+e[i]+";");e=d;d=new g("<div class='"+h+b+"' "+(e?"style='"+e+"'":"")+" >"+(o?j:"")+"</div>");o||d.append(j);d.appendTo(c);a.__set(b,d)}}function b(a,b,c){b=a.get(b);f.isString(c)?b.html(c):b.html("").append(c)}var h="ks-stdmod-";e.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};e.HTML_PARSER={header:function(a){return a.one("."+h+"header")},body:function(a){return a.one("."+h+"body")},footer:function(a){return a.one("."+h+"footer")}};e.prototype={__createDom:function(){c(this,"header");c(this,"body");c(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){b(this,"body",a)},_uiSetHeaderContent:function(a){b(this,"header",a)},_uiSetFooterContent:function(a){b(this,"footer",a)}};return e},{requires:["node"]});
KISSY.add("component/uistore",function(f){function g(b){for(var b=f.trim(b).split(/\s+/),c=0;c<b.length;c++)b[c]&&(b[c]=this.get("prefixCls")+b[c]);return b.join(" ")}var e={},c={getCssClassWithPrefix:g,getCssClassByUIConstructor:function(b){for(var c in e)if(e[c].ui==b)return c;return 0},getUIConstructorByCssClass:function(b){for(var b=b.split(/\s+/),c=-1,a,f=null,g=0;g<b.length;g++){var n=e[b[g]];if(n&&(a=n.priority)>c)c=a,f=n.ui}return f},setUIConstructorByCssClass:function(b,c){e[b]=c}};c.getCssClassWithPrefix=
g;return c});
