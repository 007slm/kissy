/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 13 11:06
*/
KISSY.add("component/base",function(f,g,d){function a(){var e=f.makeArray(arguments),i=e[e.length-1];e.unshift(this);i.xclass&&(e.pop(),e.push(i.xclass));e=g.create.apply(g,e);i.xclass&&d.setConstructorByXClass(i.xclass,{constructor:e,priority:i.priority});e.extend=a;return e}return{Manager:d,UIBase:g,define:function(){var e=f.makeArray(arguments),i;i=e.shift();return a.apply(i,e)}}},{requires:["./uibase","./manager"]});
KISSY.add("component",function(f,g,d,a,e,i,c,m){f.mix(g,{Controller:d,Render:a,Container:e,DelegateChildren:i,DecorateChild:m,DecorateChildren:c});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(f,g,d,a){return g.extend([d,a],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(f,g,d,a,e,i,c){function m(h){return function(n){if(this==n.target){var n=n.newVal,c=this.get("view");c&&c.set(h,n)}}}function k(h){return function(n){var b=this.get("view");return n===c?b&&b.get(h):n}}function l(h,b,e){h.create();var a=h.getContentElement(),b=o(b,h);b.__set("parent",h);b.set("render",a);b.set("elBefore",e);h.get("rendered")?b.render():b.create(c);return b}function j(h,b){var c=h.relatedTarget;return c&&(c===b[0]||b.contains(c))}function o(h,
b){var c;if(h&&(c=h.xclass))b&&!h.prefixCls&&(h.prefixCls=b.get("prefixCls")),c=e.getConstructorByXClass(c),h=new c(h);return h}var b=d.define([a.Box],{getCssClassWithPrefix:e.getCssClassWithPrefix,initializer:function(){var h,b,c,e=this.get("listeners"),a=this.getAttrs();for(h in a)a.hasOwnProperty(h)&&(c=a[h],c.view&&(this.on("after"+f.ucfirst(h)+"Change",m(h)),c.getter=k(h)));for(b in e)h=e[b],this.on(b,h.fn||h,h.scope)},createDom:function(){var h;if(!(h=this.get("view"))){var n={},a=this.get("xrender");
if(a){h=this.getAttrs();for(var i in h)if(h.hasOwnProperty(i)){var d;if(h[i].view&&(d=this.get(i))!==c)n[i]=d}h=new a(n)}else h=0}i=h;d=this.constructor;for(h=[];d&&d!=b;)(n=e.getXClassByConstructor(d))&&h.push(n),d=d.superclass&&d.superclass.constructor;i.__componentClasses=h.join(" ");i.create();d=i.getKeyEventTarget();this.get("focusable")?d.attr("tabIndex",0):d.unselectable(c);this.__set("view",i)},renderUI:function(){var h,b;this.get("view").render();var c=this.get("children");for(h=0;h<c.length;h++)b=
c[h],b=l(this,b),c[h]=b,b.render()},bindUI:function(){var h=this.get("focusable"),b=this.get("handleMouseEvents"),c=this.getKeyEventTarget();if(h)c.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);b&&(c=this.get("el"),c.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,this))},_uiSetFocused:function(h){h&&
this.getKeyEventTarget()[0].focus()},getContentElement:function(){var h=this.get("view");return h&&h.getContentElement()},getKeyEventTarget:function(){var h=this.get("view");return h&&h.getKeyEventTarget()},addChild:function(h,b){var e=this.get("children"),a;b===c&&(b=e.length);a=e[b]&&e[b].get("el")||null;h=l(this,h,a);e.splice(b,0,h)},removeChild:function(h,b){var c=this.get("children"),e=f.indexOf(h,c);-1!=e&&c.splice(e,1);b&&h.destroy();return h},removeChildren:function(h){var b,c=[].concat(this.get("children"));
for(b=0;b<c.length;b++)this.removeChild(c[b],h);this.__set("children",[])},getChildAt:function(h){return this.get("children")[h]||null},handleDblClick:function(h){if(this.get("disabled"))return!0;this.performActionInternal(h)},handleMouseOver:function(h){var b=this.get("el");if(this.get("disabled"))return!0;j(h,b)||this.handleMouseEnter(h)},handleMouseOut:function(h){var b=this.get("el");if(this.get("disabled"))return!0;j(h,b)||this.handleMouseLeave(h)},handleMouseEnter:function(h){if(this.get("disabled"))return!0;
this.set("highlighted",!!h)},handleMouseLeave:function(h){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!h)},handleMouseDown:function(h){var b=1==h.which;if(this.get("disabled"))return!0;b&&(b=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(b[0].focus(),this.set("focused",!0)):(b=(b=h.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&h.preventDefault()))},handleMouseUp:function(b){if(this.get("disabled"))return!0;
this.get("active")&&1==b.which&&(this.performActionInternal(b),this.set("active",!1))},handleFocus:function(b){this.set("focused",!!b);this.fire("focus")},handleBlur:function(b){this.set("focused",!b);this.fire("blur")},handleKeyEventInternal:function(b){if(b.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(b)},handleKeydown:function(b){if(this.get("disabled"))return!0;this.handleKeyEventInternal(b)&&b.halt()},performActionInternal:function(){},destructor:function(){var b,c=this.get("children");
for(b=0;b<c.length;b++)c[b].destroy();(b=this.get("view"))&&b.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}},xrender:{value:i},xclass:{valueFn:function(){return e.getXClassByConstructor(this.constructor)}}}},{xclass:"controller"});d.create=o;return b},{requires:["event","./base","./uibase",
"./manager","./render"]});KISSY.add("component/decorateChild",function(f,g){function d(){}f.augment(d,g,{decorateInternal:function(a){this.set("el",a);var e=this.get("decorateChildCls");if(a=a.one("."+this.getCssClassWithPrefix(e)))(e=this.findUIConstructorByNode(a))?this.decorateChildrenInternal(e,a):this.decorateChildren(a)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(f,g){function d(){}f.augment(d,{decorateInternal:function(a){this.set("el",a);this.decorateChildren(a)},findUIConstructorByNode:function(a){var a=a.attr("class")||"",e=this.get("prefixCls"),a=a.replace(RegExp("\\b"+e,"ig"),"");return g.getConstructorByXClass(a)},decorateChildrenInternal:function(a,e){this.addChild(new a({srcNode:e,prefixCls:this.get("prefixCls")}))},decorateChildren:function(a){var e=this;a.children().each(function(a){var c=e.findUIConstructorByNode(a);
e.decorateChildrenInternal(c,a)})}});return d},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(f){function g(){}function d(a){var e=this.getOwnerControl(a.target);if(e)switch(a.type){case "mousedown":e.handleMouseDown(a);break;case "mouseup":e.handleMouseUp(a);break;case "mouseover":e.handleMouseOver(a);break;case "mouseout":e.handleMouseOut(a);break;case "dblclick":e.handleDblClick(a)}}f.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(a){for(var e=this.get("children"),
d=e.length,c=this.get("el")[0];a&&a!==c;){for(var f=0;f<d;f++)if(e[f].get("el")[0]===a)return e[f];a=a.parentNode}return null}});return g});
KISSY.add("component/manager",function(f){function g(e){for(var e=f.trim(e).split(/\s+/),a=0;a<e.length;a++)e[a]&&(e[a]=this.get("prefixCls")+e[a]);return e.join(" ")}var d={},a={getCssClassWithPrefix:g,getXClassByConstructor:function(e){for(var a in d)if(d[a].constructor==e)return a;return 0},getConstructorByXClass:function(e){for(var e=e.split(/\s+/),a=-1,c,f=null,g=0;g<e.length;g++){var l=d[e[g]];if(l&&(c=l.priority)>a)a=c,f=l.constructor}return f},setConstructorByXClass:function(e,a){f.isFunction(a)?
d[e]={constructor:a,priority:0}:(a.priority=a.priority||0,d[e]=a)}};a.getCssClassWithPrefix=g;return a});
KISSY.add("component/render",function(f,g,d,a){return g.define([d.Box.Render],{getComponentCssClassWithState:function(a){var d=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(d.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:a.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(a){var d=
this.getComponentCssClassWithState("-hover");this.get("el")[a?"addClass":"removeClass"](d)},_uiSetDisabled:function(a){var d=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](d).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var d=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](d).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var d=this.get("el"),
c=this.getComponentCssClassWithState("-focused");d[a?"addClass":"removeClass"](c)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(f,g,d,a,e,i,c,m,k,l,j,o,b,h,n,u,v,q,s,p,t){i.Render=c;o.Render=b;h.Render=n;u.Render=v;p.Render=t;a.Render=e;k.Render=l;f.mix(g,{Align:d,Box:a,Close:i,Constrain:m,ContentBox:k,Drag:j,Loading:o,Mask:h,Position:u,Shim:{Render:q},Resize:s,StdMod:p});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(f,g,d,a){function e(b){var c=b.ownerDocument.body,a=d.css(b,"position");if(!("fixed"==a||"absolute"==a))return"html"==b.nodeName.toLowerCase()?null:b.parentNode;for(b=b.parentNode;b&&b!=c;b=b.parentNode)if(a=d.css(b,"position"),"static"!=a)return b;return null}function i(b){var c,a,f={left:0,right:Infinity,top:0,bottom:Infinity},i;a=b.ownerDocument;c=a.body;for(a=a.documentElement;b=e(b);)if((!g.ie||0!=b.clientWidth)&&b!=c&&b!=a&&"visible"!=d.css(b,"overflow"))i=
d.offset(b),i.left+=b.clientLeft,i.top+=b.clientTop,f.top=Math.max(f.top,i.top),f.right=Math.min(f.right,i.left+b.clientWidth),f.bottom=Math.min(f.bottom,i.top+b.clientHeight),f.left=Math.max(f.left,i.left);b=d.scrollLeft();i=d.scrollTop();f.left=Math.max(f.left,b);f.top=Math.max(f.top,i);c=d.viewportWidth();a=d.viewportHeight();f.right=Math.min(f.right,b+c);f.bottom=Math.min(f.bottom,i+a);return 0<=f.top&&0<=f.left&&f.bottom>f.top&&f.right>f.left?f:null}function c(b,c,a,e){var f,d;f=b.left;d=b.top;
c=j(c,a[0]);b=j(b,a[1]);b=[b.left-c.left,b.top-c.top];return{left:f-b[0]+ +e[0],top:d-b[1]+ +e[1]}}function m(b,c,a){var e=[];f.each(b,function(b){e.push(b.replace(c,function(b){return a[b]}))});return e}function k(){}function l(b){var c,a;f.isWindow(b[0])?(c={left:d.scrollLeft(),top:d.scrollTop()},a=d.viewportWidth(),b=d.viewportHeight()):(c=b.offset(),a=b.outerWidth(),b=b.outerHeight());c.width=a;c.height=b;return c}function j(b,c){var a=c.charAt(0),e=c.charAt(1),f=b.width,d=b.height,i,g;i=b.left;
g=b.top;"c"===a?g+=d/2:"b"===a&&(g+=d);"c"===e?i+=f/2:"r"===e&&(i+=f);return{left:i,top:g}}var o=f.Env.host;k.__getOffsetParent=e;k.__getVisibleRectForElement=i;k.ATTRS={align:{}};k.prototype={_uiSetAlign:function(b){b&&this.align(b.node,b.points,b.offset,b.overflow)},align:function(b,h,e,d){var b=a.one(b||o),e=e&&[].concat(e)||[0,0],d=d||{},g=this.get("el"),k=0,j=i(g[0]),p=l(g),t=l(b),b=c(p,t,h,e),r=f.merge(p,b);if(j&&(d.adjustX||d.adjustY)){if(b.left<j.left||b.left+p.width>j.right)k=1,h=m(h,/[lr]/ig,
{l:"r",r:"l"}),e[0]=-e[0];if(b.top<j.top||b.top+p.height>j.bottom)k=1,h=m(h,/[tb]/ig,{t:"b",b:"t"}),e[1]=-e[1];k&&(b=c(p,t,h,e),f.mix(r,b));h={};h.adjustX=d.adjustX&&(b.left<j.left||b.left+p.width>j.right);h.adjustY=d.adjustY&&(b.top<j.top||b.top+p.height>j.bottom);if(h.adjustX||h.adjustY)d=f.clone(b),k={width:p.width,height:p.height},h.adjustX&&d.left<j.left&&(d.left=j.left),h.resizeWidth&&d.left>=j.left&&d.left+k.width>j.right&&(k.width-=d.left+k.width-j.right),h.adjustX&&d.left+k.width>j.right&&
(d.left=Math.max(j.right-k.width,j.left)),h.adjustY&&d.top<j.top&&(d.top=j.top),h.resizeHeight&&d.top>=j.top&&d.top+k.height>j.bottom&&(k.height-=d.top+k.height-j.bottom),h.adjustY&&d.top+k.height>j.bottom&&(d.top=Math.max(j.bottom-k.height,j.top)),r=f.mix(d,k)}r.left!=p.left&&this.set("x",r.left);r.top!=p.top&&this.set("y",r.top);r.width!=p.width&&g.width(g.width()+r.width-p.width);r.height!=p.height&&g.height(g.height()+r.height-p.height);return this},center:function(b){this.set("align",{node:b,
points:["cc","cc"],offset:[0,0]});return this}};return k},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(f,g,d,a){function e(c){g.apply(this,arguments);for(var b=c,e=this.constructor;e;){if(b&&b[k]&&e.HTML_PARSER&&(b[k]=d.one(b[k]))){var m=b,j=e.HTML_PARSER,l=void 0,q=void 0,s=m[k];for(l in j)j.hasOwnProperty(l)&&m[l]===a&&(q=j[l],f.isFunction(q)?this.__set(l,q.call(this,s)):f.isString(q)?this.__set(l,s.one(q)):f.isArray(q)&&q[0]&&this.__set(l,s.all(q[0])))}e=e.superclass&&e.superclass.constructor}i(this,"initializer","constructor");c&&c.autoRender&&this.render()}
function i(c,b,a){for(var e=c.constructor,d=[],f,i,g,k;e;){k=[];if(g=e.__ks_exts)for(var j=0;j<g.length;j++)if(f=g[j])"constructor"!=a&&(f=f.prototype.hasOwnProperty(a)?f.prototype[a]:null),f&&k.push(f);e.prototype.hasOwnProperty(b)&&(i=e.prototype[b])&&k.push(i);k.length&&d.push.apply(d,k.reverse());e=e.superclass&&e.superclass.constructor}for(j=d.length-1;0<=j;j--)d[j]&&d[j].call(c)}function c(c){var b=c.getAttrs(),a,e;for(a in b)b.hasOwnProperty(a)&&(e=m+l(a),c[e]&&function(b,a){c.on("after"+l(b)+
"Change",function(b){if(b.target===c)c[a](b.newVal,b)})}(a,e))}var m="_uiSet",k="srcNode",l=f.ucfirst,j=f.noop;e.HTML_PARSER={};e.ATTRS={rendered:{value:!1},created:{value:!1}};f.extend(e,g,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),i(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(a);this.fire("beforeRenderUI");i(this,"renderUI","__renderUI");this.fire("afterRenderUI");
this.fire("beforeBindUI");c(this);i(this,"bindUI","__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var e,b,d=this.getAttrs(),f;for(f in d)d.hasOwnProperty(f)&&(b=this[m+l(f)])&&!1!==d[f].sync&&(e=this.get(f))!==a&&b.call(this,e);i(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:j,renderUI:j,bindUI:j,syncUI:j,destroy:function(){for(var c=this.constructor,b,a,e;c;){c.prototype.hasOwnProperty("destructor")&&c.prototype.destructor.apply(this);
if(b=c.__ks_exts)for(e=b.length-1;0<=e;e--)(a=b[e]&&b[e].prototype.__destructor)&&a.apply(this);c=c.superclass&&c.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(c,b,a,d){function g(){e.apply(this,arguments)}var i=f.makeArray(arguments);f.isArray(c)&&(d=a,a=b,b=c,c=e);c=c||e;f.isObject(b)&&(d=a,a=b,b=[]);f.isString(i[i.length-1]);f.extend(g,c,a,d);if(b){g.__ks_exts=b;var k={},i=b.concat(g);f.each(i,function(b){b&&f.each(["ATTRS","HTML_PARSER"],function(c){if(b[c]){k[c]=
k[c]||{};f.mix(k[c],b[c],{deep:true})}})});f.each(k,function(c,b){g[b]=c});var j={};f.each(i,function(c){if(c){var c=c.prototype,b;for(b in c)c.hasOwnProperty(b)&&(j[b]=c[b])}});f.each(j,function(c,b){g.prototype[b]=c})}return g}});return e},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(f){function g(){}g.ATTRS={content:{view:!0,sync:!1},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};g.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(f.one(d));return d}};g.prototype={_uiSetVisible:function(d){this.fire(d?"show":"hide")},show:function(){var d;this.get("rendered")||
(this.__set("visible",void 0),(d=this.get("view"))&&d.__set("visible",void 0),this.render());this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return g});
KISSY.add("component/uibase/boxrender",function(f){function g(){}function d(c,a,d,g,i,o,b){a=a||{};d&&(a.width="number"==typeof d?d+"px":d);g&&(a.height="number"==typeof g?g+"px":g);d=b||"";g="";"string"!=typeof b&&(d="");for(var h in a)a.hasOwnProperty(h)&&(g+=h+":"+a[h]+";");var a="",n;for(n in o)o.hasOwnProperty(n)&&(a+=" "+n+"='"+o[n]+"' ");c=e("<"+i+(g?" style='"+g+"' ":"")+a+(c?" class='"+c+"' ":"")+">"+d+"</"+i+">");b&&!f.isString(b)&&c.append(b);return c}function a(c){var a=this.get("el");
"string"==typeof c?a.html(c):c&&a.empty().append(c)}var e=f.all,i=f.Env.host.document;g.ATTRS={el:{setter:function(c){return e(c)}},elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},content:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};g.construct=d;g.HTML_PARSER={content:function(c){return c.html()}};g.prototype={__renderUI:function(){if(!this.get("srcNode")){var c=this.get("render"),a=this.get("el"),e=this.get("elBefore");
e?a.insertBefore(e):c?a.appendTo(c):a.appendTo(i.body)}},__createDom:function(){var c=this.get("elCls"),e=this.get("elStyle"),f=this.get("width"),g=this.get("height"),i=this.get("content"),o=this.get("elAttrs"),b=this.get("el");b?(c&&b.addClass(c),e&&b.css(e),void 0!==f&&b.width(f),void 0!==g&&b.height(g),i!==b.html()&&a.call(this,i),o&&b.attr(o)):(b=d(c,e,f,g,this.get("elTagName"),o,i),this.__set("el",b))},_uiSetElAttrs:function(c){this.get("el").attr(c)},_uiSetElCls:function(c){this.get("el").addClass(c)},
_uiSetElStyle:function(c){this.get("el").css(c)},_uiSetWidth:function(c){this.get("el").width(c)},_uiSetHeight:function(c){this.get("el").height(c)},_uiSetContent:a,_uiSetVisible:function(c){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",c?"visible":"hidden"):a.css("display",c?"":"none")},__destructor:function(){var c=this.get("el");c&&c.remove()}};return g},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function f(){}f.ATTRS={closable:{value:!0,view:!0},closeBtn:{view:!0},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};f.prototype={_uiSetClosable:function(d){var a=this;d&&!a.__bindCloseEvent&&(a.__bindCloseEvent=1,a.get("closeBtn").on("click",function(e){a[g[a.get("closeAction")]||"hide"]();e.preventDefault()}))},__destructor:function(){var d=this.get("closeBtn");d&&d.detach()}};return f});
KISSY.add("component/uibase/closerender",function(f,g){function d(){}d.ATTRS={closable:{},closeBtn:{}};d.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(a){var e=this.get("closeBtn");a?(e||this.__set("closeBtn",e=new g("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),e.appendTo(this.get("el"),void 0)):e&&e.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(f,g,d){function a(){}function e(a){var c=null;if(!a)return c;var e=this.get("el");!0!==a?(a=d.one(a),c=a.offset(),f.mix(c,{maxLeft:c.left+a.outerWidth()-e.outerWidth(),maxTop:c.top+a.outerHeight()-e.outerHeight()})):(c={left:g.scrollLeft(),top:g.scrollTop()},f.mix(c,{maxLeft:c.left+g.viewportWidth()-e.outerWidth(),maxTop:c.top+g.viewportHeight()-e.outerHeight()}));return c}a.ATTRS={constrain:{value:!1}};a.prototype={__renderUI:function(){var a=this,
c=a.getAttrs(),d=c.x,c=c.y,f=d.setter,g=c.setter;d.setter=function(c){var d=f&&f.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=e.call(a,a.get("constrain"));return Math.min(Math.max(d,c.left),c.maxLeft)};c.setter=function(c){var d=g&&g.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=e.call(a,a.get("constrain"));return Math.min(Math.max(d,c.top),c.maxTop)};a.addAttr("x",d);a.addAttr("y",c)}};return a},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function f(){}f.ATTRS={contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return f});
KISSY.add("component/uibase/contentboxrender",function(f,g,d,a){function e(){}e.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"}};var i=d.construct;e.prototype={__renderUI:function(){},__createDom:function(){var c,d=this.get("el");c=d[0].childNodes;c=c.length&&a.nodeListToFragment(c);c=i("ks-contentbox "+(this.get("contentElCls")||""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),c);d.append(c);this.__set("contentEl",
c)},_uiSetContentElCls:function(c){this.get("contentEl").addClass(c)},_uiSetContentElAttrs:function(c){this.get("contentEl").attr(c)},_uiSetContentElStyle:function(c){this.get("contentEl").css(c)},_uiSetContent:function(c){var a=this.get("contentEl");"string"==typeof c?a.html(c):c&&a.empty().append(c)}};return e},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(f){function g(){}function d(a){this.set("xy",[a.left,a.top])}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(a){var d;a&&0<a.length&&(d=this.__drag)&&d.set("handlers",a)},__bindUI:function(){var a=f.require("dd")||{},e=a.Draggable,g=this,c=g.get("draggable"),m=g.get("el");if(c&&e){!0===c&&(c={});e=g.__drag=new e({node:m,move:c.proxy});if(c.proxy){c.proxy.moveOnEnd=!1;e.on("dragend",function(){var a=k.get("proxyNode").offset();
m.css("visibility","");g.set("x",a.left);g.set("y",a.top)});var k=g.__proxy=new a.Proxy(c.proxy);k.attachDrag(e)}else e.on("drag",d,g);c.scroll&&(g.__scroll=new a.Scroll(c.scroll)).attachDrag(e)}},_uiSetDraggable:function(a){var d=this.__drag;d&&d.set("disabled",!a)},__destructor:function(){var a=this.__proxy,d=this.__scroll,f=this.__drag;f&&f.destroy();d&&d.destroy();a&&a.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return f});
KISSY.add("component/uibase/loadingrender",function(f,g){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};f.prototype={__bindUI:function(){var f=this.get("view"),d=f._maskExtShow,a=f._maskExtHide;this.get("mask")&&(this.on("show",d,f),this.on("hide",a,f))}};return f},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(f,g,d){function a(a){a=m("<div  style='width:"+(c?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(c?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(c?"absolute":"fixed")+";' class='"+a+"'>"+(c?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function e(){}var i={},c=6===g.ie,m=d.all;e.prototype={_maskExtShow:function(){var c=this.get("prefixCls")+"ext-mask",d=i[c],e=this.get("maskShared"),f=this.get("maskNode");f||(e?d?f=d.node:(f=a(c),d=i[c]={num:0,node:f}):f=a(c),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);e&&d.num++;(!e||1==d.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=i[a],c=this.get("maskShared"),d=
this.get("maskNode");c&&a?(a.num=Math.max(a.num-1,0),0==a.num&&d.hide()):d.hide()},__destructor:function(){var a=this.get("maskShared"),c=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():c.remove())}};return e},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(f){function g(){}g.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(d){var a=f.makeArray(d);a.length&&(a[0]&&this.set("x",a[0]),a[1]&&this.set("y",a[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};g.prototype={move:function(d,a){f.isArray(d)&&(a=d[1],d=d[0]);this.set("xy",[d,a]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(f){this.get("el").css("z-index",f)},_uiSetX:function(f){this.get("el").offset({left:f})},_uiSetY:function(f){this.get("el").offset({top:f})}};return f});
KISSY.add("component/uibase/resize",function(f){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var d=this.resizer;d&&d.destroy()},_uiSetResize:function(d){var a=f.require("resizable");this.resizer&&this.resizer.destroy();a&&d&&(d.node=this.get("el"),this.resizer=new a(d))}};return g});
KISSY.add("component/uibase/shimrender",function(){function f(){}f.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return f});
KISSY.add("component/uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return f});
KISSY.add("component/uibase/stdmodrender",function(f,g){function d(){}function a(a,d){var e=a.get("contentEl"),l=a.get(d+"Style"),j=a.get(d+"Content"),o=f.isString(j),b=a.get(d);if(b)l&&b.css(l);else{b="";if(l)for(var h in l)l.hasOwnProperty(h)&&(b+=h+":"+l[h]+";");l=b;b=new g("<div class='"+i+d+"' "+(l?"style='"+l+"'":"")+" >"+(o?j:"")+"</div>");o||b.append(j);b.appendTo(e);a.__set(d,b)}}function e(a,d,e){d=a.get(d);f.isString(e)?d.html(e):d.html("").append(e)}var i="ks-stdmod-";d.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};d.HTML_PARSER={header:function(a){return a.one("."+i+"header")},body:function(a){return a.one("."+i+"body")},footer:function(a){return a.one("."+i+"footer")}};d.prototype={__createDom:function(){a(this,"header");a(this,"body");a(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){e(this,"body",a)},_uiSetHeaderContent:function(a){e(this,"header",a)},_uiSetFooterContent:function(a){e(this,"footer",a)}};return d},{requires:["node"]});
