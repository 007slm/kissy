/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 30 11:20
*/
KISSY.add("component/base",function(e,g,c){return{Manager:c,UIBase:g,create:function(a,b){var d;if(a&&(d=a.xclass))b&&!a.prefixCls&&(a.prefixCls=b.get("prefixCls")),d=c.getConstructorByXClass(d),a=new d(a);return a}}},{requires:["./uibase","./manager"]});KISSY.add("component",function(e,g,c,a,b,d,h,m){e.mix(g,{Controller:c,Render:a,Container:b,DelegateChildren:d,DecorateChild:m,DecorateChildren:h});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});
KISSY.add("component/container",function(e,g,c,a){return g.extend([c,a],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(e,g,c,a,b,d,h){function m(s){return function(f){this==f.target&&(f=f.newVal,this.get("view").set(s,f))}}function j(s){return function(f){var b=this.get("view");return f===h?b.get(s):f}}function k(b){var f,a,d,c={},o,g=b.get("xrender");f=b.getAttrs();for(d in f)if(f.hasOwnProperty(d)&&(a=f[d],a.view)){if((o=b.get(d))!==h)c[d]=o;b.on("after"+e.ucfirst(d)+"Change",m(d));a.getter=j(d)}delete c.autoRender;return new g(c)}function r(b,f){var a=b.relatedTarget;return a&&
(a===f[0]||f.contains(a))}function l(b,f){return b["__ks_wrap_"+f]=function(a){if(!b.get("disabled"))b[f](a)}}function o(b,f){return b["__ks_wrap_"+f]}var v=a.extend([a.Box],{getCssClassWithPrefix:b.getCssClassWithPrefix,initializer:function(){this.__set("view",k(this))},createDom:function(){var a;a=this.get("view");for(var f=this.constructor,d,c=[];f&&f!=v;)(d=b.getXClassByConstructor(f))&&c.push(d),f=f.superclass&&f.superclass.constructor;a.__componentClasses=c.join(" ");a.create(h);a=a.getKeyEventTarget();
this.get("allowTextSelection")||a.unselectable(h)},renderUI:function(){var b,f,a;this.get("view").render();f=this.get("children").concat();for(b=this.get("children").length=0;b<f.length;b++)a=this.addChild(f[b]),a.render()},_uiSetFocusable:function(b){var a,d=this.getKeyEventTarget();if(b)d.attr("tabIndex",0).on("focus",l(this,"handleFocus")).on("blur",l(this,"handleBlur")).on("keydown",l(this,"handleKeydown"));else d.removeAttr("tabIndex"),(a=o(this,"handleFocus"))&&d.detach("focus",a),(a=o(this,
"handleBlur"))&&d.detach("blur",a),(a=o(this,"handleKeydown"))&&d.detach("keydown",a)},_uiSetHandleMouseEvents:function(b){var a=this.get("el"),d;if(b)a.on("mouseenter",l(this,"handleMouseEnter")).on("mouseleave",l(this,"handleMouseLeave")).on("contextmenu",l(this,"handleContextMenu")).on("mousedown",l(this,"handleMouseDown")).on("mouseup",l(this,"handleMouseUp")).on("dblclick",l(this,"handleDblClick"));else d=o(this,"handleMouseEnter")&&a.detach("mouseenter",d),d=o(this,"handleMouseLeave")&&a.detach("mouseleave",
d),d=o(this,"handleContextMenu")&&a.detach("contextmenu",d),d=o(this,"handleMouseDown")&&a.detach("mousedown",d),d=o(this,"handleMouseUp")&&a.detach("mouseup",d),o(this,"handleDblClick")&&a.detach("dblclick",d)},_uiSetFocused:function(a){a&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){return this.get("view").getContentElement()},getKeyEventTarget:function(){return this.get("view").getKeyEventTarget()},addChild:function(a,b){var d=this.get("children"),o;b===h&&(b=d.length);o=d[b]&&
d[b].get("el")||null;var e=a;this.create();var g=this.getContentElement(),e=c.create(e,this);e.__set("parent",this);e.set("render",g);e.set("elBefore",o);e.create(h);a=e;d.splice(b,0,a);this.get("rendered")&&a.render();this.fire("addChild",{child:a});return a},removeChild:function(a,b){var d=this.get("children"),c=e.indexOf(a,d);-1!=c&&d.splice(c,1);b&&a.destroy&&a.destroy();this.fire("removeChild",{child:a});return a},removeChildren:function(a){var b,d=[].concat(this.get("children"));for(b=0;b<d.length;b++)this.removeChild(d[b],
a)},getChildAt:function(a){return this.get("children")[a]||null},handleDblClick:function(a){this.performActionInternal(a)},handleMouseOver:function(a){var b=this.get("el");r(a,b)||this.handleMouseEnter(a)},handleMouseOut:function(a){var b=this.get("el");r(a,b)||this.handleMouseLeave(a)},handleMouseEnter:function(a){this.set("highlighted",!!a)},handleMouseLeave:function(a){this.set("active",!1);this.set("highlighted",!a)},handleMouseDown:function(a){var b;if(1==a.which&&(b=this.getKeyEventTarget(),
this.get("activeable")&&this.set("active",!0),this.get("focusable")&&(b[0].focus(),this.set("focused",!0)),!this.get("allowTextSelection")))b=(b=a.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&a.preventDefault()},handleMouseUp:function(a){this.get("active")&&1==a.which&&(this.performActionInternal(a),this.set("active",!1))},handleContextMenu:function(){},handleFocus:function(a){this.set("focused",!!a);this.fire("focus")},handleBlur:function(a){this.set("focused",!a);this.fire("blur")},
handleKeyEventInternal:function(a){if(a.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(a)},handleKeydown:function(a){if(this.handleKeyEventInternal(a))return a.halt(),!0},performActionInternal:function(){},destructor:function(){var a,b=this.get("children");for(a=0;a<b.length;a++)b[a].destroy&&b[a].destroy();this.get("view").destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{value:!0,view:1},allowTextSelection:{value:!1},activeable:{value:!0},focused:{view:1},active:{view:1},
highlighted:{view:1},children:{value:[]},prefixCls:{value:"ks-",view:1},parent:{setter:function(a){this.addTarget(a)}},disabled:{view:1},xrender:{value:d}}},{xclass:"controller"});return v},{requires:["event","./base","./uibase","./manager","./render"]});
KISSY.add("component/decorateChild",function(e,g){function c(){}e.augment(c,g,{decorateInternal:function(a){this.set("el",a);var b=this.get("decorateChildCls");if(a=a.one("."+b))(b=this.findUIConstructorByNode(a,1))?this.decorateChildrenInternal(b,a):this.decorateChildren(a)}});return c},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(e,g){function c(){}e.augment(c,{decorateInternal:function(a){this.set("el",a);this.decorateChildren(a)},findUIConstructorByNode:function(a){var a=a.attr("class")||"",b=this.get("prefixCls"),a=a.replace(RegExp("\\b"+b,"ig"),"");return g.getConstructorByXClass(a)},decorateChildrenInternal:function(a,b){this.addChild(new a({srcNode:b,prefixCls:this.get("prefixCls")}))},decorateChildren:function(a){var b=this;a.children().each(function(a){var c=b.findUIConstructorByNode(a);
b.decorateChildrenInternal(c,a)})}});return c},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(e){function g(){}function c(a){var b=this.getOwnerControl(a.target,a);if(b)switch(a.type){case "mousedown":b.handleMouseDown(a);break;case "mouseup":b.handleMouseUp(a);break;case "mouseover":b.handleMouseOver(a);break;case "mouseout":b.handleMouseOut(a);break;case "contextmenu":b.handleContextMenu(a);break;case "dblclick":b.handleDblClick(a)}}e.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick contextmenu",c,
this)},getOwnerControl:function(a){for(var b=this.get("children"),d=b.length,c=this.get("el")[0];a&&a!==c;){for(var e=0;e<d;e++)if(b[e].get("el")[0]===a)return b[e];a=a.parentNode}return null}});return g});
KISSY.add("component/manager",function(e){function g(a){for(var a=e.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var c={},a={},b={__instances:a,addComponent:function(b,c){a[b]=c},removeComponent:function(b){delete a[b]},getComponent:function(b){return a[b]},getCssClassWithPrefix:g,getXClassByConstructor:function(a){for(var b in c)if(c[b].constructor==a)return b;return 0},getConstructorByXClass:function(a){for(var a=a.split(/\s+/),b=-1,e,g=null,
k=0;k<a.length;k++){var r=c[a[k]];if(r&&(e=r.priority)>b)b=e,g=r.constructor}return g},setConstructorByXClass:function(a,b){e.isFunction(b)?c[a]={constructor:b,priority:0}:(b.priority=b.priority||0,c[a]=b)}};b.getCssClassWithPrefix=g;return b});
KISSY.add("component/render",function(e,g,c,a){return c.extend([c.Box.Render],{getComponentCssClassWithState:function(a){var d=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(d.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:a.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},_uiSetHighlighted:function(a){var d=this.getComponentCssClassWithState("-hover");this.get("el")[a?
"addClass":"removeClass"](d)},_uiSetDisabled:function(a){var d=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](d).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var d=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](d).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var d=this.get("el"),c=this.getComponentCssClassWithState("-focused");d[a?
"addClass":"removeClass"](c)},getContentElement:function(){return this.get("contentEl")||this.get("el")}},{ATTRS:{prefixCls:{value:"ks-"},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(e,g,c,a,b,d,h,m,j,k,r,l,o,v,s,f,u,p,i,n){d.Render=h;r.Render=l;o.Render=v;s.Render=f;i.Render=n;a.Render=b;m.Render=j;e.mix(g,{Align:c,Box:a,Close:d,ContentBox:m,Drag:k,Loading:r,Mask:o,Position:s,Shim:{Render:u},Resize:p,StdMod:i});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(e,g,c,a){function b(a){var b=a.ownerDocument.body,d=c.css(a,"position");if(!("fixed"==d||"absolute"==d))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(d=c.css(a,"position"),"static"!=d)return a;return null}function d(a){var d,e,f={left:0,right:Infinity,top:0,bottom:Infinity},h;e=a.ownerDocument;d=e.body;for(e=e.documentElement;a=b(a);)if((!g.ie||0!=a.clientWidth)&&a!=d&&a!=e&&"visible"!=c.css(a,"overflow"))h=
c.offset(a),h.left+=a.clientLeft,h.top+=a.clientTop,f.top=Math.max(f.top,h.top),f.right=Math.min(f.right,h.left+a.clientWidth),f.bottom=Math.min(f.bottom,h.top+a.clientHeight),f.left=Math.max(f.left,h.left);a=c.scrollLeft();h=c.scrollTop();f.left=Math.max(f.left,a);f.top=Math.max(f.top,h);d=c.viewportWidth();e=c.viewportHeight();f.right=Math.min(f.right,a+d);f.bottom=Math.min(f.bottom,h+e);return 0<=f.top&&0<=f.left&&f.bottom>f.top&&f.right>f.left?f:null}function h(a,b,d,c){var e,g;e=a.left;g=a.top;
b=r(b,d[0]);a=r(a,d[1]);a=[a.left-b.left,a.top-b.top];return{left:e-a[0]+ +c[0],top:g-a[1]+ +c[1]}}function m(a,b,d){var c=[];e.each(a,function(a){c.push(a.replace(b,function(a){return d[a]}))});return c}function j(){}function k(a){var b,d;e.isWindow(a[0])?(b={left:c.scrollLeft(),top:c.scrollTop()},d=c.viewportWidth(),a=c.viewportHeight()):(b=a.offset(),d=a.outerWidth(),a=a.outerHeight());b.width=d;b.height=a;return b}function r(a,b){var d=b.charAt(0),c=b.charAt(1),e=a.width,g=a.height,i,h;i=a.left;
h=a.top;"c"===d?h+=g/2:"b"===d&&(h+=g);"c"===c?i+=e/2:"r"===c&&(i+=e);return{left:i,top:h}}var l=e.Env.host;j.__getOffsetParent=b;j.__getVisibleRectForElement=d;j.ATTRS={align:{value:{}}};j.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(b,c,g,f){var b=a.one(b||l),g=g&&[].concat(g)||[0,0],f=f||{},j=this.get("el"),p=0,i=d(j[0]),n=k(j),t=k(b),b=h(n,t,c,g),q=e.merge(n,b);if(i&&(f.adjustX||f.adjustY)){if(b.left<i.left||b.left+n.width>i.right)p=
1,c=m(c,/[lr]/ig,{l:"r",r:"l"}),g[0]=-g[0];if(b.top<i.top||b.top+n.height>i.bottom)p=1,c=m(c,/[tb]/ig,{t:"b",b:"t"}),g[1]=-g[1];p&&(b=h(n,t,c,g),e.mix(q,b));c={};c.adjustX=f.adjustX&&(b.left<i.left||b.left+n.width>i.right);c.adjustY=f.adjustY&&(b.top<i.top||b.top+n.height>i.bottom);if(c.adjustX||c.adjustY)f=e.clone(b),p={width:n.width,height:n.height},c.adjustX&&f.left<i.left&&(f.left=i.left),c.resizeWidth&&f.left>=i.left&&f.left+p.width>i.right&&(p.width-=f.left+p.width-i.right),c.adjustX&&f.left+
p.width>i.right&&(f.left=Math.max(i.right-p.width,i.left)),c.adjustY&&f.top<i.top&&(f.top=i.top),c.resizeHeight&&f.top>=i.top&&f.top+p.height>i.bottom&&(p.height-=f.top+p.height-i.bottom),c.adjustY&&f.top+p.height>i.bottom&&(f.top=Math.max(i.bottom-p.height,i.top)),q=e.mix(f,p)}q.left!=n.left&&(this.__set("x",null),this.get("view").__set("x",null),this.set("x",q.left));q.top!=n.top&&(this.__set("y",null),this.get("view").__set("y",null),this.set("y",q.top));q.width!=n.width&&j.width(j.width()+q.width-
n.width);q.height!=n.height&&j.height(j.height()+q.height-n.height);return this},center:function(a){this.set("align",{node:a,points:["cc","cc"],offset:[0,0]});return this}};return j},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(e,g,c,a,b){function d(d){var f,n;g.apply(this,arguments);(f=this.get("id"))&&a.addComponent(f,this);f=d;var t=this.constructor,q;if(f&&(q=f[o]))for(f[o]=c.one(q);t;){if(t[s]){q=f;var x=t[s],m=void 0,l=void 0,y=q[o];for(m in x)x.hasOwnProperty(m)&&q[m]===b&&(l=x[m],e.isFunction(l)?this.__set(m,l.call(this,y)):e.isString(l)?this.__set(m,y.one(l)):e.isArray(l)&&l[0]&&this.__set(m,y.all(l[0])))}t=t.superclass&&t.superclass.constructor}h(this,"initializer","constructor");
d&&(n=d[o])&&this.decorateInternal&&this.decorateInternal(n);var w;f=this.get("plugins");n=this.get("listeners");j(f);k(this,f,"initializer");for(w in n)n.hasOwnProperty(w)&&(f=n[w],this.on(w,f.fn||f,f.scope));d&&d.autoRender&&this.render()}function h(a,b,d){for(var c=a.constructor,e=[],f,g,h,j;c;){j=[];if(h=c.__ks_exts)for(var k=0;k<h.length;k++)if(f=h[k])"constructor"!=d&&(f=f.prototype.hasOwnProperty(d)?f.prototype[d]:null),f&&j.push(f);c.prototype.hasOwnProperty(b)&&(g=c.prototype[b])&&j.push(g);
j.length&&e.push.apply(e,j.reverse());c=c.superclass&&c.superclass.constructor}for(k=e.length-1;0<=k;k--)e[k]&&e[k].call(a)}function m(a){var b=a.getAttrs(),d,c;for(d in b)b.hasOwnProperty(d)&&(c=l+f(d),a[c]&&function(b,d){a.on("after"+f(b)+"Change",function(b){if(b.target===a)a[d](b.newVal,b)})}(d,c))}function j(a){e.each(a,function(b,d){e.isFunction(b)&&(a[d]=new b)})}function k(a,b,d){e.each(b,function(b){if(b[d])b[d](a)})}function r(a,b,c,f){function g(){d.apply(this,arguments)}var h=e.makeArray(arguments);
e.isObject(b)&&(f=c,c=b,b=[]);e.isString(h[h.length-1]);e.extend(g,a,c,f);if(b){g.__ks_exts=b;var j={},h=b.concat(g);e.each(h,function(a){a&&e.each([v,s],function(b){if(a[b]){j[b]=j[b]||{};e.mix(j[b],a[b],{deep:true})}})});e.each(j,function(a,b){g[b]=a});var k={};e.each(h,function(a){if(a){var a=a.prototype,b;for(b in a)a.hasOwnProperty(b)&&(k[b]=a[b])}});e.each(k,function(a,b){g.prototype[b]=a})}return g}var l="_uiSet",o="srcNode",v="ATTRS",s="HTML_PARSER",f=e.ucfirst,u=e.noop;e.extend(d,g,{create:function(){this.get("created")||
(this.fire("beforeCreateDom"),h(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"),k(this,this.get("plugins"),"createDom"));return this},render:function(){if(!this.get("rendered")){var a=this.get("plugins");this.create(b);this.fire("beforeRenderUI");h(this,"renderUI","__renderUI");this.fire("afterRenderUI");k(this,a,"renderUI");this.fire("beforeBindUI");m(this);h(this,"bindUI","__bindUI");this.fire("afterBindUI");k(this,a,"bindUI");this.fire("beforeSyncUI");var d,
c,e=this.getAttrs(),g;for(g in e)e.hasOwnProperty(g)&&(c=this[l+f(g)])&&!1!==e[g].sync&&(d=this.get(g))!==b&&c.call(this,d);h(this,"syncUI","__syncUI");this.fire("afterSyncUI");k(this,a,"syncUI");this.__set("rendered",!0)}return this},createDom:u,renderUI:u,bindUI:u,syncUI:u,destroy:function(){var b,d=this.get("plugins");k(this,d,"destructor");for(var d=this.constructor,c,e,g;d;){d.prototype.hasOwnProperty("destructor")&&d.prototype.destructor.apply(this);if(c=d.__ks_exts)for(g=c.length-1;0<=g;g--)(e=
c[g]&&c[g].prototype.__destructor)&&e.apply(this);d=d.superclass&&d.superclass.constructor}this.fire("destroy");this.detach();(b=this.get("id"))&&a.removeComponent(b);return this}},{ATTRS:{rendered:{value:!1},created:{value:!1},listeners:{value:{}},plugins:{value:[]},xclass:{valueFn:function(){return a.getXClassByConstructor(this.constructor)}}}});e.mix(d,{HTML_PARSER:{},extend:function i(b,c,g){var f=e.makeArray(arguments),h=f[f.length-1];f.unshift(this);h.xclass&&(f.pop(),f.push(h.xclass));f=r.apply(d,
f);h.xclass&&a.setConstructorByXClass(h.xclass,{constructor:f,priority:h.priority});f.extend=i;return f}});return d},{requires:["base","node","../manager"]});
KISSY.add("component/uibase/box",function(){function e(){}e.ATTRS={content:{view:1},width:{view:1},height:{view:1},elCls:{view:1},elStyle:{view:1},elAttrs:{view:1},elBefore:{view:1},el:{view:1},render:{view:1},visibleMode:{view:1},visible:{value:!0,view:1},srcNode:{view:1}};e.prototype={__bindUI:function(){this.on("afterVisibleChange",function(e){this.fire(e.newVal?"show":"hide")})},show:function(){this.render();this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};
return e});
KISSY.add("component/uibase/boxrender",function(e){function g(){}var c=e.all,a=e.Env.host.document;g.ATTRS={el:{setter:function(a){return c(a)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},content:{},elBefore:{},render:{},visible:{value:!0},visibleMode:{value:"display"},contentEl:{valueFn:function(){return this.get("el")}}};g.HTML_PARSER={el:function(a){return a},content:function(a){var d=this.get("contentElCls");return(d?a.one("."+d):a).html()}};g.prototype={__renderUI:function(){if(!this.get("srcNode")){var b=
this.get("render"),d=this.get("el"),c=this.get("elBefore");c?d.insertBefore(c,void 0):b?d.appendTo(b,void 0):d.appendTo(a.body,void 0)}},__createDom:function(){if(!this.get("srcNode")){var a,d=this.get("contentEl");a=c("<"+this.get("elTagName")+">");d&&a.append(d);this.__set("el",a);d||this.__set("contentEl",a)}},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},
_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:function(a){var d;if(!this.get("srcNode")||this.get("rendered"))d=this.get("contentEl"),"string"==typeof a?d.html(a):a&&d.empty().append(a)},_uiSetVisible:function(a){var d=this.get("el");"visibility"==this.get("visibleMode")?d.css("visibility",a?"visible":"hidden"):d.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return g},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function e(){}e.ATTRS={closable:{view:1},closeBtn:{view:1},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};e.prototype={_uiSetClosable:function(c){var a=this;c&&!a.__bindCloseEvent&&(a.__bindCloseEvent=1,a.get("closeBtn").on("click",function(b){a[g[a.get("closeAction")]||"hide"]();b.preventDefault()}))},__destructor:function(){var c=this.get("closeBtn");c&&c.detach()}};return e});
KISSY.add("component/uibase/closerender",function(e,g){function c(){}c.ATTRS={closable:{value:!0},closeBtn:{}};c.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};c.prototype={_uiSetClosable:function(a){var b=this.get("closeBtn");a?(b||this.__set("closeBtn",b=new g("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),b.appendTo(this.get("el"),void 0)):b&&b.remove()}};return c},{requires:["node"]});
KISSY.add("component/uibase/contentbox",function(){function e(){}e.ATTRS={contentEl:{view:1}};return e});KISSY.add("component/uibase/contentboxrender",function(e,g,c,a){function b(){}b.ATTRS={contentEl:{}};b.prototype={__createDom:function(){var b,c=this.get("el");b=c[0].childNodes;b=b.length&&a.nodeListToFragment(b);b=g.all("<div class='ks-contentbox'></div>").append(b);c.append(b);this.__set("contentEl",b)}};return b},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(e){function g(){}g.ATTRS={draggable:{setter:function(c){if(!0===c)return{}},value:{}}};g.prototype={_uiSetDraggable:function(c){var a=this,b;b=e.require("dd");var d,g;d=a.__drag;var m=a.__constrain,j=a.get("el");if(c&&!d&&b&&(d=b.Draggable,d=a.__drag=new d({node:j,move:1}),c.proxy&&(c.proxy.moveOnEnd=!1,g=a.__proxy=new b.Proxy(c.proxy),g.attachDrag(d)),m=a.__constrain=(new b.Constrain).attachDrag(d),d.on("dragend",function(){var b;if(g){b=g.get("proxyNode").offset();
j.css("visibility","")}else b=j.offset();a.set("x",b.left);a.set("y",b.top)}),c.scroll))(a.__scroll=new b.Scroll(c.scroll)).attachDrag(d);d&&d.set("disabled",!c);c&&d&&(b=c.handlers,"constrain"in c&&m.set("constrain",c.constrain),b&&0<b.length&&d.set("handlers",b))},__destructor:function(){var c=this.__proxy,a=this.__scroll,b=this.__constrain,d=this.__drag;a&&a.destroy();c&&c.destroy();b&&b.destroy();d&&d.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function e(){}e.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return e});
KISSY.add("component/uibase/loadingrender",function(e,g){function c(){}c.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return c},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function e(){}e.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}};e.prototype={__bindUI:function(){var e=this.get("view"),c=e._maskExtShow,a=e._maskExtHide;this.get("mask")&&(this.on("show",c,e),this.on("hide",a,e))}};return e},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(e,g,c){function a(a){a=m("<div  style='width:"+(h?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(h?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(h?"absolute":"fixed")+";' class='"+a+"'>"+(h?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function b(){}var d={},h=6===g.ie,m=c.all;b.ATTRS={maskShared:{value:!0}};b.prototype={_maskExtShow:function(){var b=this.get("prefixCls")+"ext-mask",c=d[b],e=this.get("maskShared"),g=this.get("maskNode");g||(e?c?g=c.node:(g=a(b),c=d[b]={num:0,node:g}):g=a(b),this.__set("maskNode",g));g.css("z-index",this.get("zIndex")-1);e&&c.num++;(!e||1==c.num)&&g.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=
d[a],b=this.get("maskShared"),c=this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&c.hide()):c.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return b},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(e){function g(){}g.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(c){var a=e.makeArray(c);a.length&&(a[0]&&this.set("x",a[0]),a[1]&&this.set("y",a[1]));return c},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1},visible:{value:!1}};g.prototype={move:function(c,a){e.isArray(c)&&(a=c[1],c=c[0]);this.set("xy",[c,a]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function e(){}e.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},Z_INDEX:{value:9999}};e.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZ_INDEX:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){null!=e&&this.get("el").offset({left:e})},_uiSetY:function(e){null!=e&&this.get("el").offset({top:e})}};
return e});KISSY.add("component/uibase/resize",function(e){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var c=this.resizer;c&&c.destroy()},_uiSetResize:function(c){var a=e.require("resizable");this.resizer&&this.resizer.destroy();a&&c&&(c.node=this.get("el"),this.resizer=new a(c))}};return g});
KISSY.add("component/uibase/shimrender",function(){function e(){}e.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return e});
KISSY.add("component/uibase/stdmod",function(){function e(){}e.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}};return e});
KISSY.add("component/uibase/stdmodrender",function(e,g){function c(){}function a(a,b){var c=a.get("contentEl"),e=a.get(b);e||(e=new g("<div class='"+d+b+"'  ></div>"),e.appendTo(c),a.__set(b,e))}function b(a,b,c){b=a.get(b);e.isString(c)?b.html(c):b.html("").append(c)}var d="ks-stdmod-";c.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};c.HTML_PARSER={header:function(a){return a.one("."+d+"header")},body:function(a){return a.one("."+
d+"body")},footer:function(a){return a.one("."+d+"footer")}};c.prototype={__createDom:function(){a(this,"header");a(this,"body");a(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){b(this,"body",a)},_uiSetHeaderContent:function(a){b(this,"header",a)},_uiSetFooterContent:function(a){b(this,"footer",a)}};return c},{requires:["node"]});
