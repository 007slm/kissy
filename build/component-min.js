/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 5 21:43
*/
KISSY.add("component/base",function(f,h,d){function a(){var e=f.makeArray(arguments),b=e[e.length-1];e.unshift(this);b.xclass&&(e.pop(),e.push(b.xclass));e=h.create.apply(h,e);b.xclass&&d.setUIConstructorByCssClass(b.xclass,{ui:e,priority:b.priority});e.extend=a;return e}return{UIStore:d,UIBase:h,define:function(){var e=f.makeArray(arguments),b;b=e.shift();return a.apply(b,e)}}},{requires:["./uibase","./uistore"]});
KISSY.add("component",function(f,h,d,a,e,b,g,o){f.mix(h,{Controller:d,Render:a,Container:e,DelegateChildren:b,DecorateChild:o,DecorateChildren:g});return h},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(f,h,d,a){return h.extend([d,a],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(f,h,d,a,e,b,g){function o(i){return function(m){var m=m.newVal,c=this.get("view");c&&c.set(i,m)}}function k(i){return function(m){var c=this.get("view");return m===g?c&&c.get(i):m}}function l(i,m,c){i.create();var g=i.getContentElement(),m=p(m,i);m.__set("parent",i);m.set("render",g);m.set("elBefore",c);i.get("rendered")?m.render():m.create();return m}function j(i,m){var c=i.relatedTarget;return c&&(c===m[0]||m.contains(c))}function p(i,m){i instanceof c||
(m&&!i.prefixCls&&(i.prefixCls=m.get("prefixCls")),i=new (e.getUIConstructorByCssClass(i.xclass))(i));return i}var c=d.define([a.Box],{getCssClassWithPrefix:e.getCssClassWithPrefix,initializer:function(){var i=this.getAttrs(),c;for(c in i)if(i.hasOwnProperty(c)){var g=i[c];g.view&&(this.on("after"+f.ucfirst(c)+"Change",o(c)),g.getter=k(c))}},createDom:function(){var i;if(!(i=this.get("view"))){var m={},a=this.get("xrender");if(a){i=this.getAttrs();for(var b in i)if(i.hasOwnProperty(b)){var d;if(i[b].view&&
(d=this.get(b))!==g)m[b]=d}i=new a(m)}else i=0}b=i;d=this.constructor;for(i=[];d&&d!=c;)(m=e.getCssClassByUIConstructor(d))&&i.push(m),d=d.superclass&&d.superclass.constructor;b.__componentClasses=i.join(" ");b.create();d=b.getKeyEventTarget();this.get("focusable")?d.attr("tabIndex",0):d.unselectable(g);this.__set("view",b)},renderUI:function(){var i,c;this.get("view").render();var b=this.get("children");for(i=0;i<b.length;i++)c=b[i],c=l(this,c),b[i]=c,c.render()},bindUI:function(){var i,c,b=this.get("listeners");
c=this.get("focusable");var g=this.get("handleMouseEvents"),a=this.getKeyEventTarget();if(c)a.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);g&&(a=this.get("el"),a.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,this));for(i in b)c=b[i],this.on(i,c.fn,c.scope)},_uiSetFocused:function(i){i&&
this.getKeyEventTarget()[0].focus()},getContentElement:function(){var i=this.get("view");return i&&i.getContentElement()},getKeyEventTarget:function(){var i=this.get("view");return i&&i.getKeyEventTarget()},addChild:function(i,c){var b=this.get("children"),a;c===g&&(c=b.length);a=b[c]&&b[c].get("el")||null;i=l(this,i,a);b.splice(c,0,i)},removeChild:function(i,c){var b=this.get("children"),a=f.indexOf(i,b);-1!=a&&b.splice(a,1);c&&i.destroy();return i},removeChildren:function(i){var c,b=[].concat(this.get("children"));
for(c=0;c<b.length;c++)this.removeChild(b[c],i);this.__set("children",[])},getChildAt:function(c){return this.get("children")[c]||null},handleDblClick:function(c){if(this.get("disabled"))return!0;this.performActionInternal(c)},handleMouseOver:function(c){var b=this.get("el");if(this.get("disabled"))return!0;j(c,b)||this.handleMouseEnter(c)},handleMouseOut:function(c){var b=this.get("el");if(this.get("disabled"))return!0;j(c,b)||this.handleMouseLeave(c)},handleMouseEnter:function(c){if(this.get("disabled"))return!0;
this.set("highlighted",!!c)},handleMouseLeave:function(c){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!c)},handleMouseDown:function(c){var b=1==c.which;if(this.get("disabled"))return!0;b&&(b=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(b[0].focus(),this.set("focused",!0)):(b=(b=c.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&c.preventDefault()))},handleMouseUp:function(c){if(this.get("disabled"))return!0;
this.get("active")&&1==c.which&&(this.performActionInternal(c),this.set("active",!1))},handleFocus:function(c){this.set("focused",!!c)},handleBlur:function(c){this.set("focused",!c)},handleKeyEventInternal:function(c){if(c.keyCode==h.KeyCodes.ENTER)return this.performActionInternal(c)},handleKeydown:function(c){if(this.get("disabled"))return!0;this.handleKeyEventInternal(c)&&c.halt()},performActionInternal:function(){},destructor:function(){var c,b=this.get("children");for(c=0;c<b.length;c++)b[c].destroy();
(c=this.get("view"))&&c.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}},xrender:{value:b}}});d.create=p;return c},{requires:["event","./base","./uibase","./uistore","./render"]});
KISSY.add("component/decorateChild",function(f,h){function d(){}f.augment(d,h,{decorateInternal:function(a){this.set("el",a);var e=this.get("decorateChildCls");if(a=a.one("."+this.getCssClassWithPrefix(e)))(e=this.findUIConstructorByNode(a))?this.decorateChildrenInternal(e,a):this.decorateChildren(a)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(f,h){function d(){}f.augment(d,{decorateInternal:function(a){this.set("el",a);this.decorateChildren(a)},findUIConstructorByNode:function(a){var a=a.attr("class")||"",e=this.get("prefixCls"),a=a.replace(RegExp("\\b"+e,"ig"),"");return h.getUIConstructorByCssClass(a)},decorateChildrenInternal:function(a,e){this.addChild(new a({srcNode:e,prefixCls:this.get("prefixCls")}))},decorateChildren:function(a){var e=this;a.children().each(function(b){var a=e.findUIConstructorByNode(b);
e.decorateChildrenInternal(a,b)})}});return d},{requires:["./uistore"]});
KISSY.add("component/delegateChildren",function(f){function h(){}function d(a){var e=this.getOwnerControl(a.target);if(e)switch(a.type){case "mousedown":e.handleMouseDown(a);break;case "mouseup":e.handleMouseUp(a);break;case "mouseover":e.handleMouseOver(a);break;case "mouseout":e.handleMouseOut(a);break;case "dblclick":e.handleDblClick(a)}}f.augment(h,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(a){for(var e=this.get("children"),
b=e.length,g=this.get("el")[0];a&&a!==g;){for(var d=0;d<b;d++)if(e[d].get("el")[0]===a)return e[d];a=a.parentNode}return null}});return h});
KISSY.add("component/render",function(f,h,d,a){return h.define([d.Box.Render],{getComponentCssClassWithState:function(a){var b=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(b.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:a.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(a){var b=
this.getComponentCssClassWithState("-hover");this.get("el")[a?"addClass":"removeClass"](b)},_uiSetDisabled:function(a){var b=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this.get("el"),
g=this.getComponentCssClassWithState("-focused");b[a?"addClass":"removeClass"](g)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./uistore"]});
KISSY.add("component/uibase",function(f,h,d,a,e,b,g,o,k,l,j,p,c,i,m,s,t,u,v,n,r){b.Render=g;p.Render=c;i.Render=m;s.Render=t;n.Render=r;a.Render=e;k.Render=l;f.mix(h,{Align:d,Box:a,Close:b,Constrain:o,ContentBox:k,Drag:j,Loading:p,Mask:i,Position:s,Shim:{Render:u},Resize:v,StdMod:n});return h},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(f,h,d,a){function e(c){var b=c.ownerDocument.body,a=d.css(c,"position");if(!("fixed"==a||"absolute"==a))return"html"==c.nodeName.toLowerCase()?null:c.parentNode;for(c=c.parentNode;c&&c!=b;c=c.parentNode)if(a=d.css(c,"position"),"static"!=a)return c;return null}function b(c){var b,a,g={left:0,right:Infinity,top:0,bottom:Infinity},f;a=c.ownerDocument;b=a.body;for(a=a.documentElement;c=e(c);)if((!h.ie||0!=c.clientWidth)&&c!=b&&c!=a&&"visible"!=d.css(c,"overflow"))f=
d.offset(c),f.left+=c.clientLeft,f.top+=c.clientTop,g.top=Math.max(g.top,f.top),g.right=Math.min(g.right,f.left+c.clientWidth),g.bottom=Math.min(g.bottom,f.top+c.clientHeight),g.left=Math.max(g.left,f.left);c=d.scrollLeft();f=d.scrollTop();g.left=Math.max(g.left,c);g.top=Math.max(g.top,f);b=d.viewportWidth();a=d.viewportHeight();g.right=Math.min(g.right,c+b);g.bottom=Math.min(g.bottom,f+a);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function g(c,b,a,g){var d,e;d=c.left;e=c.top;
b=j(b,a[0]);c=j(c,a[1]);c=[c.left-b.left,c.top-b.top];return{left:d-c[0]+ +g[0],top:e-c[1]+ +g[1]}}function o(c,b,a){var g=[];f.each(c,function(c){g.push(c.replace(b,function(c){return a[c]}))});return g}function k(){}function l(c){var b,a;f.isWindow(c[0])?(b={left:d.scrollLeft(),top:d.scrollTop()},a=d.viewportWidth(),c=d.viewportHeight()):(b=c.offset(),a=c.outerWidth(),c=c.outerHeight());b.width=a;b.height=c;return b}function j(c,b){var a=b.charAt(0),g=b.charAt(1),d=c.width,e=c.height,f,h;f=c.left;
h=c.top;"c"===a?h+=e/2:"b"===a&&(h+=e);"c"===g?f+=d/2:"r"===g&&(f+=d);return{left:f,top:h}}var p=f.Env.host;k.__getOffsetParent=e;k.__getVisibleRectForElement=b;k.ATTRS={align:{}};k.prototype={_uiSetAlign:function(c){c&&this.align(c.node,c.points,c.offset,c.overflow)},align:function(c,i,d,e){var c=a.one(c||p),d=d&&[].concat(d)||[0,0],e=e||{},h=this.get("el"),k=0,j=b(h[0]),n=l(h),r=l(c),c=g(n,r,i,d),q=f.merge(n,c);if(j&&(e.adjustX||e.adjustY)){if(c.left<j.left||c.left+n.width>j.right)k=1,i=o(i,/[lr]/ig,
{l:"r",r:"l"}),d[0]=-d[0];if(c.top<j.top||c.top+n.height>j.bottom)k=1,i=o(i,/[tb]/ig,{t:"b",b:"t"}),d[1]=-d[1];k&&(c=g(n,r,i,d),f.mix(q,c));i={};i.adjustX=e.adjustX&&(c.left<j.left||c.left+n.width>j.right);i.adjustY=e.adjustY&&(c.top<j.top||c.top+n.height>j.bottom);if(i.adjustX||i.adjustY)e=f.clone(c),k={width:n.width,height:n.height},i.adjustX&&e.left<j.left&&(e.left=j.left),i.resizeWidth&&e.left>=j.left&&e.left+k.width>j.right&&(k.width-=e.left+k.width-j.right),i.adjustX&&e.left+k.width>j.right&&
(e.left=Math.max(j.right-k.width,j.left)),i.adjustY&&e.top<j.top&&(e.top=j.top),i.resizeHeight&&e.top>=j.top&&e.top+k.height>j.bottom&&(k.height-=e.top+k.height-j.bottom),i.adjustY&&e.top+k.height>j.bottom&&(e.top=Math.max(j.bottom-k.height,j.top)),q=f.mix(e,k)}q.left!=n.left&&this.set("x",q.left);q.top!=n.top&&this.set("y",q.top);q.width!=n.width&&h.width(h.width()+q.width-n.width);q.height!=n.height&&h.height(h.height()+q.height-n.height);return this},center:function(c){this.set("align",{node:c,
points:["cc","cc"],offset:[0,0]});return this}};return k},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(f,h,d,a){function e(a){h.apply(this,arguments);for(var c=a,g=this.constructor;g;){if(c&&c[k]&&g.HTML_PARSER&&(c[k]=d.one(c[k]))){var e=c[k],o=g.HTML_PARSER,j=void 0,l=void 0;for(j in o)o.hasOwnProperty(j)&&(l=o[j],f.isFunction(l)?this.__set(j,l.call(this,e)):f.isString(l)?this.__set(j,e.one(l)):f.isArray(l)&&l[0]&&this.__set(j,e.all(l[0])))}g=g.superclass&&g.superclass.constructor}b(this,"initializer","constructor");a&&a.autoRender&&this.render()}function b(b,
c,a){for(var g=b.constructor,e=[],d,f,h,k;g;){k=[];if(h=g.__ks_exts)for(var j=0;j<h.length;j++)if(d=h[j])"constructor"!=a&&(d=d.prototype.hasOwnProperty(a)?d.prototype[a]:null),d&&k.push(d);g.prototype.hasOwnProperty(c)&&(f=g.prototype[c])&&k.push(f);k.length&&e.push.apply(e,k.reverse());g=g.superclass&&g.superclass.constructor}for(j=e.length-1;0<=j;j--)e[j]&&e[j].call(b)}function g(b){var c=b.getAttrs(),a,g;for(a in c)c.hasOwnProperty(a)&&(g=o+l(a),b[g]&&function(c,a){b.on("after"+l(c)+"Change",
function(c){b[a](c.newVal,c)})}(a,g))}var o="_uiSet",k="srcNode",l=f.ucfirst,j=f.noop;e.HTML_PARSER={};e.ATTRS={rendered:{value:!1},created:{value:!1}};f.extend(e,h,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),b(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(a);this.fire("beforeRenderUI");b(this,"renderUI","__renderUI");this.fire("afterRenderUI");this.fire("beforeBindUI");
g(this);b(this,"bindUI","__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var e,c,d=this.getAttrs(),f;for(f in d)d.hasOwnProperty(f)&&(c=this[o+l(f)])&&!1!==d[f].sync&&(e=this.get(f))!==a&&c.call(this,e);b(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:j,renderUI:j,bindUI:j,syncUI:j,destroy:function(){for(var b=this.constructor,c,a,g;b;){b.prototype.hasOwnProperty("destructor")&&b.prototype.destructor.apply(this);if(c=b.__ks_exts)for(g=
c.length-1;0<=g;g--)(a=c[g]&&c[g].prototype.__destructor)&&a.apply(this);b=b.superclass&&b.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(b,c,a,g){function d(){e.apply(this,arguments)}var k=f.makeArray(arguments);f.isArray(b)&&(g=a,a=c,c=b,b=e);b=b||e;f.isObject(c)&&(g=a,a=c,c=[]);f.isString(k[k.length-1]);f.extend(d,b,a,g);if(c){d.__ks_exts=c;var h={},k=c.concat(d);f.each(k,function(c){c&&f.each(["ATTRS","HTML_PARSER"],function(b){if(c[b]){h[b]=h[b]||{};
f.mix(h[b],c[b],{deep:true})}})});f.each(h,function(c,b){d[b]=c});var j={};f.each(k,function(c){if(c){var c=c.prototype,b;for(b in c)c.hasOwnProperty(b)&&(j[b]=c[b])}});f.each(j,function(c,b){d.prototype[b]=c})}return d}});return e},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(f){function h(){}h.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};h.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(f.one(d));return d}};h.prototype={_uiSetVisible:function(d){this.fire(d?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render());return this},hide:function(){this.set("visible",!1);return this}};return h});
KISSY.add("component/uibase/boxrender",function(f,h){function d(){}function a(b,a,e,d,f,h,c){a=a||{};c=c||"";"string"!==typeof c&&(c="");e&&(a.width="number"==typeof e?e+"px":e);d&&(a.height="number"==typeof d?d+"px":d);var e="",i;for(i in a)a.hasOwnProperty(i)&&(e+=i+":"+a[i]+";");var a="",m;for(m in h)h.hasOwnProperty(m)&&(a+=" "+m+"='"+h[m]+"' ");return"<"+f+(e?" style='"+e+"' ":"")+a+(b?" class='"+b+"' ":"")+">"+c+"</"+f+">"}var e=f.all,b=f.Env.host.document;d.ATTRS={el:{setter:function(b){return e(b)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};d.construct=a;d.HTML_PARSER={html:function(b){return b.html()}};d.prototype={__renderUI:function(){if(this.__boxRenderNew){var a=this.get("render"),e=this.get("el"),d=this.get("elBefore");d?e.insertBefore(d):a?e.appendTo(a):e.appendTo(b.body)}},__createDom:function(){var b=this.get("elCls"),e=this.get("elStyle"),d=this.get("width"),
f=this.get("height"),j=this.get("html"),p=this.get("elAttrs"),c=this.get("el");c?(b&&c.addClass(b),e&&c.css(e),void 0!==d&&c.width(d),void 0!==f&&c.height(f),p&&c.attr(p)):(this.__boxRenderNew=!0,c=new h(a(b,e,d,f,this.get("elTagName"),p,j)),this.__set("el",c))},_uiSetElAttrs:function(b){this.get("el").attr(b)},_uiSetElCls:function(b){this.get("el").addClass(b)},_uiSetElStyle:function(b){this.get("el").css(b)},_uiSetWidth:function(b){this.get("el").width(b)},_uiSetHeight:function(b){this.get("el").height(b)},
_uiSetHtml:function(b){this.get("el").html(b)},_uiSetVisible:function(b){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",b?"visible":"hidden"):a.css("display",b?"":"none")},__destructor:function(){var b=this.get("el");b&&b.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function f(){}f.ATTRS={closable:{value:!0,view:!0},closeAction:{value:"hide"}};var h={hide:"hide",destroy:"destroy"};f.prototype={__bindUI:function(){var d=this,a=d.get("view").get("closeBtn");a&&a.on("click",function(a){d[h[d.get("closeAction")]||"hide"]();a.preventDefault()})}};return f});
KISSY.add("component/uibase/closerender",function(f,h){function d(){}d.ATTRS={closable:{},closeBtn:{}};d.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),e=this.get("closable"),b=this.get("el");if(a)a[e?"show":"hide"]();else a=(new h("<a tabindex='0' "+(e?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")).appendTo(b),
this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(f,h,d){function a(){}function e(b){var a=null;if(!b)return a;var e=this.get("el");!0!==b?(b=d.one(b),a=b.offset(),f.mix(a,{maxLeft:a.left+b.outerWidth()-e.outerWidth(),maxTop:a.top+b.outerHeight()-e.outerHeight()})):(a={left:h.scrollLeft(),top:h.scrollTop()},f.mix(a,{maxLeft:a.left+h.viewportWidth()-e.outerWidth(),maxTop:a.top+h.viewportHeight()-e.outerHeight()}));return a}a.ATTRS={constrain:{value:!1}};a.prototype={__renderUI:function(){var b=this,
a=b.getAttrs(),d=a.x,a=a.y,f=d.setter,h=a.setter;d.setter=function(a){var d=f&&f.call(b,a);void 0===d&&(d=a);if(!b.get("constrain"))return d;a=e.call(b,b.get("constrain"));return Math.min(Math.max(d,a.left),a.maxLeft)};a.setter=function(a){var d=h&&h.call(b,a);void 0===d&&(d=a);if(!b.get("constrain"))return d;a=e.call(b,b.get("constrain"));return Math.min(Math.max(d,a.top),a.maxTop)};b.addAttr("x",d);b.addAttr("y",a)}};return a},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function f(){}f.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return f});
KISSY.add("component/uibase/contentboxrender",function(f,h,d){function a(){}a.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};a.HTML_PARSER={content:function(b){return b[0].innerHTML}};var e=d.construct;a.prototype={__renderUI:function(){},__createDom:function(){var b,a=this.get("content"),d=this.get("el");b="";var k=f.makeArray(d[0].childNodes);k.length&&(b=d[0].innerHTML);a==b&&(a="");b=new h(e("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),a));b.appendTo(d);this.__set("contentEl",b);if(a)"string"!==typeof a&&b.append(a);else{a=0;for(d=k.length;a<d;a++)b.append(k[a])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return a},{requires:["node","./boxrender"]});
KISSY.add("component/uibase/drag",function(f){function h(){}function d(a){this.set("xy",[a.left,a.top])}h.ATTRS={handlers:{value:[]},draggable:{value:!0}};h.prototype={_uiSetHandlers:function(a){var d;a&&0<a.length&&(d=this.__drag)&&d.set("handlers",a)},__bindUI:function(){var a=f.require("dd")||{},e=a.Draggable,b=this,g=b.get("draggable"),h=b.get("el");if(g&&e){!0===g&&(g={});e=b.__drag=new e({node:h,move:g.proxy});if(g.proxy){g.proxy.moveOnEnd=!1;e.on("dragend",function(){var a=k.get("proxyNode").offset();
h.css("visibility","");b.set("x",a.left);b.set("y",a.top)});var k=b.__proxy=new a.Proxy(g.proxy);k.attachDrag(e)}else e.on("drag",d,b);g.scroll&&(b.__scroll=new a.Scroll(g.scroll)).attachDrag(e)}},_uiSetDraggable:function(a){var d=this.__drag;d&&d.set("disabled",!a)},__destructor:function(){var a=this.__proxy,d=this.__scroll,b=this.__drag;b&&b.destroy();d&&d.destroy();a&&a.destroy()}};return h});
KISSY.add("component/uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return f});
KISSY.add("component/uibase/loadingrender",function(f,h){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new h("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};f.prototype={__bindUI:function(){var f=this.get("view"),d=f._maskExtShow,a=f._maskExtHide;this.get("mask")&&(this.on("show",d,f),this.on("hide",a,f))}};return f},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(f,h,d){function a(a){a=o("<div  style='width:"+(g?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(g?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(g?"absolute":"fixed")+";' class='"+a+"'>"+(g?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function e(){}var b={},g=6===h.ie,o=d.all;e.prototype={_maskExtShow:function(){var d=this.get("prefixCls")+"ext-mask",e=b[d],f=this.get("maskShared"),g=this.get("maskNode");g||(f?e?g=e.node:(g=a(d),e=b[d]={num:0,node:g}):g=a(d),this.__set("maskNode",g));g.css("z-index",this.get("zIndex")-1);f&&e.num++;(!f||1==e.num)&&g.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=b[a],d=this.get("maskShared"),e=
this.get("maskNode");d&&a?(a.num=Math.max(a.num-1,0),0==a.num&&e.hide()):e.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("mask")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return e},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(f){function h(){}h.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(d){var a=f.makeArray(d);a.length&&(a[0]&&this.set("x",a[0]),a[1]&&this.set("y",a[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};h.prototype={move:function(d,a){f.isArray(d)&&(a=d[1],d=d[0]);this.set("xy",[d,a]);return this}};return h});
KISSY.add("component/uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(f){this.get("el").css("z-index",f)},_uiSetX:function(f){this.get("el").offset({left:f})},_uiSetY:function(f){this.get("el").offset({top:f})}};return f});
KISSY.add("component/uibase/resize",function(f){function h(){}h.ATTRS={resize:{value:{}}};h.prototype={__destructor:function(){var d=this.resizer;d&&d.destroy()},_uiSetResize:function(d){var a=f.require("resizable");this.resizer&&this.resizer.destroy();a&&d&&(d.node=this.get("el"),this.resizer=new a(d))}};return h});
KISSY.add("component/uibase/shimrender",function(){function f(){}f.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return f});
KISSY.add("component/uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return f});
KISSY.add("component/uibase/stdmodrender",function(f,h){function d(){}function a(a,d){var e=a.get("contentEl"),l=a.get(d+"Style"),j=a.get(d+"Content"),p=f.isString(j),c=a.get(d);if(c)l&&c.css(l);else{c="";if(l)for(var i in l)l.hasOwnProperty(i)&&(c+=i+":"+l[i]+";");l=c;c=new h("<div class='"+b+d+"' "+(l?"style='"+l+"'":"")+" >"+(p?j:"")+"</div>");p||c.append(j);c.appendTo(e);a.__set(d,c)}}function e(a,b,d){b=a.get(b);f.isString(d)?b.html(d):b.html("").append(d)}var b="ks-stdmod-";d.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};d.HTML_PARSER={header:function(a){return a.one("."+b+"header")},body:function(a){return a.one("."+b+"body")},footer:function(a){return a.one("."+b+"footer")}};d.prototype={__createDom:function(){a(this,"header");a(this,"body");a(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){e(this,"body",a)},_uiSetHeaderContent:function(a){e(this,"header",a)},_uiSetFooterContent:function(a){e(this,"footer",a)}};return d},{requires:["node"]});
KISSY.add("component/uistore",function(f){function h(a){for(var a=f.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var d={},a={getCssClassWithPrefix:h,getCssClassByUIConstructor:function(a){for(var b in d)if(d[b].ui==a)return b;return 0},getUIConstructorByCssClass:function(a){for(var a=a.split(/\s+/),b=-1,f,h=null,k=0;k<a.length;k++){var l=d[a[k]];if(l&&(f=l.priority)>b)b=f,h=l.ui}return h},setUIConstructorByCssClass:function(a,b){d[a]=b}};a.getCssClassWithPrefix=
h;return a});
