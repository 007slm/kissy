/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 19 18:21
*/
KISSY.add("component/base",function(d,h,c){return{Manager:c,UIBase:h,create:function(b,a){var e;if(b&&(e=b.xclass))a&&!b.prefixCls&&(b.prefixCls=a.get("prefixCls")),e=c.getConstructorByXClass(e),b=new e(b);return b}}},{requires:["./uibase","./manager"]});KISSY.add("component",function(d,h,c,b,a,e,g,p){d.mix(h,{Controller:c,Render:b,Container:a,DelegateChildren:e,DecorateChild:p,DecorateChildren:g});return h},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});
KISSY.add("component/container",function(d,h,c,b){return h.extend([c,b],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(d,h,c,b,a,e,g){function p(f){return function(a){if(this==a.target){var a=a.newVal,e=this.get("view");e&&e.set(f,a)}}}function i(f){return function(a){var e=this.get("view");return a===g?e&&e.get(f):a}}function m(f,a,e){f.create();var b=f.getContentElement(),a=c.create(a,f);a.__set("parent",f);a.set("render",b);a.set("elBefore",e);f.get("rendered")?a.render():a.create(g);return a}function j(f,a){var e=f.relatedTarget;return e&&(e===a[0]||a.contains(e))}var n=
b.extend([b.Box],{getCssClassWithPrefix:a.getCssClassWithPrefix,initializer:function(){this.get("view")},createDom:function(){for(var f=this.get("view"),e=this.constructor,b=[];e&&e!=n;){var d=a.getXClassByConstructor(e);d&&b.push(d);e=e.superclass&&e.superclass.constructor}f.__componentClasses=b.join(" ");f.create();e=f.getKeyEventTarget();this.get("focusable")?e.attr("tabIndex",0):e.unselectable(g);this.__set("view",f)},renderUI:function(){var f,a,e;this.get("view").render();a=this.get("children");
for(f=0;f<a.length;f++)e=a[f],e=m(this,e),a[f]=e,e.render()},bindUI:function(){var f=this.get("focusable"),a=this.get("handleMouseEvents"),e=this.getKeyEventTarget();if(f)e.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);a&&(e=this.get("el"),e.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,
this))},_uiSetFocused:function(f){f&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var f=this.get("view");return f&&f.getContentElement()},getKeyEventTarget:function(){var f=this.get("view");return f&&f.getKeyEventTarget()},addChild:function(f,a){var e=this.get("children"),b;a===g&&(a=e.length);b=e[a]&&e[a].get("el")||null;f=m(this,f,b);e.splice(a,0,f)},removeChild:function(f,a){var e=this.get("children"),b=d.indexOf(f,e);-1!=b&&e.splice(b,1);a&&f.destroy&&f.destroy();return f},
removeChildren:function(f){var a,e=[].concat(this.get("children"));for(a=0;a<e.length;a++)this.removeChild(e[a],f);this.__set("children",[])},getChildAt:function(f){return this.get("children")[f]||null},handleDblClick:function(f){if(this.get("disabled"))return!0;this.performActionInternal(f)},handleMouseOver:function(f){var a=this.get("el");if(this.get("disabled"))return!0;j(f,a)||this.handleMouseEnter(f)},handleMouseOut:function(f){var a=this.get("el");if(this.get("disabled"))return!0;j(f,a)||this.handleMouseLeave(f)},
handleMouseEnter:function(f){if(this.get("disabled"))return!0;this.set("highlighted",!!f)},handleMouseLeave:function(f){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!f)},handleMouseDown:function(f){var a=1==f.which;if(this.get("disabled"))return!0;a&&(a=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(a[0].focus(),this.set("focused",!0)):(a=(a=f.target.nodeName)&&a.toLowerCase(),"input"!=a&&"textarea"!=a&&f.preventDefault()))},
handleMouseUp:function(f){if(this.get("disabled"))return!0;this.get("active")&&1==f.which&&(this.performActionInternal(f),this.set("active",!1))},handleFocus:function(f){this.set("focused",!!f);this.fire("focus")},handleBlur:function(f){this.set("focused",!f);this.fire("blur")},handleKeyEventInternal:function(f){if(f.keyCode==h.KeyCodes.ENTER)return this.performActionInternal(f)},handleKeydown:function(f){if(this.get("disabled"))return!0;this.handleKeyEventInternal(f)&&f.halt()},performActionInternal:function(){},
destructor:function(){var f,a=this.get("children");for(f=0;f<a.length;f++)a[f].destroy();(f=this.get("view"))&&f.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:1},activeable:{value:!0},focused:{view:1},active:{view:1},highlighted:{view:1},children:{value:[]},prefixCls:{value:"ks-",view:1},parent:{},view:{valueFn:function(){var a;var e,b,c={},h,o=this.get("xrender");if(o){a=this.getAttrs();for(b in a)if(a.hasOwnProperty(b)&&(e=a[b],e.view)){if((h=this.get(b))!==g)c[b]=h;this.on("after"+
d.ucfirst(b)+"Change",p(b));e.getter=i(b)}a=new o(c)}else a=0;return a}},disabled:{view:1},xrender:{value:e}}},{xclass:"controller"});return n},{requires:["event","./base","./uibase","./manager","./render"]});KISSY.add("component/decorateChild",function(d,h){function c(){}d.augment(c,h,{decorateInternal:function(b){this.set("el",b);var a=this.get("decorateChildCls");if(b=b.one("."+a))(a=this.findUIConstructorByNode(b))?this.decorateChildrenInternal(a,b):this.decorateChildren(b)}});return c},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(d,h){function c(){}d.augment(c,{decorateInternal:function(b){this.set("el",b);this.decorateChildren(b)},findUIConstructorByNode:function(b){var b=b.attr("class")||"",a=this.get("prefixCls"),b=b.replace(RegExp("\\b"+a,"ig"),"");return h.getConstructorByXClass(b)},decorateChildrenInternal:function(b,a){this.addChild(new b({srcNode:a,prefixCls:this.get("prefixCls")}))},decorateChildren:function(b){var a=this;b.children().each(function(e){var b=a.findUIConstructorByNode(e);
a.decorateChildrenInternal(b,e)})}});return c},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(d){function h(){}function c(b){var a=this.getOwnerControl(b.target);if(a)switch(b.type){case "mousedown":a.handleMouseDown(b);break;case "mouseup":a.handleMouseUp(b);break;case "mouseover":a.handleMouseOver(b);break;case "mouseout":a.handleMouseOut(b);break;case "dblclick":a.handleDblClick(b)}}d.augment(h,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",c,this)},getOwnerControl:function(b){for(var a=this.get("children"),
e=a.length,g=this.get("el")[0];b&&b!==g;){for(var d=0;d<e;d++)if(a[d].get("el")[0]===b)return a[d];b=b.parentNode}return null}});return h});
KISSY.add("component/manager",function(d){function h(a){for(var a=d.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var c={},b={},a={__instances:b,addComponent:function(a,g){b[a]=g},removeComponent:function(a){delete b[a]},getComponent:function(a){return b[a]},getCssClassWithPrefix:h,getXClassByConstructor:function(a){for(var b in c)if(c[b].constructor==a)return b;return 0},getConstructorByXClass:function(a){for(var a=a.split(/\s+/),b=-1,d,h=null,
m=0;m<a.length;m++){var j=c[a[m]];if(j&&(d=j.priority)>b)b=d,h=j.constructor}return h},setConstructorByXClass:function(a,b){d.isFunction(b)?c[a]={constructor:b,priority:0}:(b.priority=b.priority||0,c[a]=b)}};a.getCssClassWithPrefix=h;return a});
KISSY.add("component/render",function(d,h,c,b){return c.extend([c.Box.Render],{getComponentCssClassWithState:function(a){var b=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(b.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:b.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},_uiSetHighlighted:function(a){var b=this.getComponentCssClassWithState("-hover");this.get("el")[a?
"addClass":"removeClass"](b)},_uiSetDisabled:function(a){var b=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this.get("el"),d=this.getComponentCssClassWithState("-focused");b[a?
"addClass":"removeClass"](d)},getContentElement:function(){return this.get("contentEl")||this.get("el")}},{ATTRS:{prefixCls:{value:"ks-"},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(d,h,c,b,a,e,g,p,i,m,j,n,f,q,w,t,u,o,k,l,v){e.Render=g;n.Render=f;q.Render=w;t.Render=u;l.Render=v;b.Render=a;i.Render=m;d.mix(h,{Align:c,Box:b,Close:e,Constrain:p,ContentBox:i,Drag:j,Loading:n,Mask:q,Position:t,Shim:{Render:o},Resize:k,StdMod:l});return h},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(d,h,c,b){function a(a){var b=a.ownerDocument.body,e=c.css(a,"position");if(!("fixed"==e||"absolute"==e))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(e=c.css(a,"position"),"static"!=e)return a;return null}function e(b){var e,d,g={left:0,right:Infinity,top:0,bottom:Infinity},i;d=b.ownerDocument;e=d.body;for(d=d.documentElement;b=a(b);)if((!h.ie||0!=b.clientWidth)&&b!=e&&b!=d&&"visible"!=c.css(b,"overflow"))i=
c.offset(b),i.left+=b.clientLeft,i.top+=b.clientTop,g.top=Math.max(g.top,i.top),g.right=Math.min(g.right,i.left+b.clientWidth),g.bottom=Math.min(g.bottom,i.top+b.clientHeight),g.left=Math.max(g.left,i.left);b=c.scrollLeft();i=c.scrollTop();g.left=Math.max(g.left,b);g.top=Math.max(g.top,i);e=c.viewportWidth();d=c.viewportHeight();g.right=Math.min(g.right,b+e);g.bottom=Math.min(g.bottom,i+d);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function g(a,b,e,g){var d,c;d=a.left;c=a.top;
b=j(b,e[0]);a=j(a,e[1]);a=[a.left-b.left,a.top-b.top];return{left:d-a[0]+ +g[0],top:c-a[1]+ +g[1]}}function p(a,b,e){var g=[];d.each(a,function(a){g.push(a.replace(b,function(a){return e[a]}))});return g}function i(){}function m(a){var b,e;d.isWindow(a[0])?(b={left:c.scrollLeft(),top:c.scrollTop()},e=c.viewportWidth(),a=c.viewportHeight()):(b=a.offset(),e=a.outerWidth(),a=a.outerHeight());b.width=e;b.height=a;return b}function j(a,b){var e=b.charAt(0),g=b.charAt(1),d=a.width,c=a.height,h,l;h=a.left;
l=a.top;"c"===e?l+=c/2:"b"===e&&(l+=c);"c"===g?h+=d/2:"r"===g&&(h+=d);return{left:h,top:l}}var n=d.Env.host;i.__getOffsetParent=a;i.__getVisibleRectForElement=e;i.ATTRS={align:{value:{}}};i.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(a,c,h,i){var a=b.one(a||n),h=h&&[].concat(h)||[0,0],i=i||{},j=this.get("el"),o=0,k=e(j[0]),l=m(j),v=m(a),a=g(l,v,c,h),r=d.merge(l,a);if(k&&(i.adjustX||i.adjustY)){if(a.left<k.left||a.left+l.width>k.right)o=
1,c=p(c,/[lr]/ig,{l:"r",r:"l"}),h[0]=-h[0];if(a.top<k.top||a.top+l.height>k.bottom)o=1,c=p(c,/[tb]/ig,{t:"b",b:"t"}),h[1]=-h[1];o&&(a=g(l,v,c,h),d.mix(r,a));c={};c.adjustX=i.adjustX&&(a.left<k.left||a.left+l.width>k.right);c.adjustY=i.adjustY&&(a.top<k.top||a.top+l.height>k.bottom);if(c.adjustX||c.adjustY)i=d.clone(a),o={width:l.width,height:l.height},c.adjustX&&i.left<k.left&&(i.left=k.left),c.resizeWidth&&i.left>=k.left&&i.left+o.width>k.right&&(o.width-=i.left+o.width-k.right),c.adjustX&&i.left+
o.width>k.right&&(i.left=Math.max(k.right-o.width,k.left)),c.adjustY&&i.top<k.top&&(i.top=k.top),c.resizeHeight&&i.top>=k.top&&i.top+o.height>k.bottom&&(o.height-=i.top+o.height-k.bottom),c.adjustY&&i.top+o.height>k.bottom&&(i.top=Math.max(k.bottom-o.height,k.top)),r=d.mix(i,o)}r.left!=l.left&&this.set("x",r.left);r.top!=l.top&&this.set("y",r.top);r.width!=l.width&&j.width(j.width()+r.width-l.width);r.height!=l.height&&j.height(j.height()+r.height-l.height);return this},center:function(a){this.set("align",
{node:a,points:["cc","cc"],offset:[0,0]});return this}};return i},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(d,h,c,b,a){function e(e){var k;h.apply(this,arguments);(k=this.get("id"))&&b.addComponent(k,this);k=e;for(var l=this.constructor;l;){if(k&&k[f]&&l.HTML_PARSER&&(k[f]=c.one(k[f]))){var j=k,p=l.HTML_PARSER,n=void 0,s=void 0,q=j[f];for(n in p)p.hasOwnProperty(n)&&j[n]===a&&(s=p[n],d.isFunction(s)?this.__set(n,s.call(this,q)):d.isString(s)?this.__set(n,q.one(s)):d.isArray(s)&&s[0]&&this.__set(n,q.all(s[0])))}l=l.superclass&&l.superclass.constructor}g(this,"initializer",
"constructor");var x,l=this.get("plugins");k=this.get("listeners");i(l);m(this,l,"initializer");for(x in k)l=k[x],this.on(x,l.fn||l,l.scope);e&&e.autoRender&&this.render()}function g(a,b,e){for(var g=a.constructor,d=[],c,f,h,i;g;){i=[];if(h=g.__ks_exts)for(var j=0;j<h.length;j++)if(c=h[j])"constructor"!=e&&(c=c.prototype.hasOwnProperty(e)?c.prototype[e]:null),c&&i.push(c);g.prototype.hasOwnProperty(b)&&(f=g.prototype[b])&&i.push(f);i.length&&d.push.apply(d,i.reverse());g=g.superclass&&g.superclass.constructor}for(j=
d.length-1;0<=j;j--)d[j]&&d[j].call(a)}function p(a){var b=a.getAttrs(),e,g;for(e in b)b.hasOwnProperty(e)&&(g=n+t(e),a[g]&&function(b,e){a.on("after"+t(b)+"Change",function(b){if(b.target===a)a[e](b.newVal,b)})}(e,g))}function i(a){d.each(a,function(b,e){d.isFunction(b)&&(a[e]=new b)})}function m(a,b,e){d.each(b,function(b){if(b[e])b[e](a)})}function j(a,b,g,c){function f(){e.apply(this,arguments)}var h=d.makeArray(arguments);d.isObject(b)&&(c=g,g=b,b=[]);d.isString(h[h.length-1]);d.extend(f,a,g,
c);if(b){f.__ks_exts=b;var i={},h=b.concat(f);d.each(h,function(a){a&&d.each([q,w],function(b){if(a[b]){i[b]=i[b]||{};d.mix(i[b],a[b],{deep:true})}})});d.each(i,function(a,b){f[b]=a});var j={};d.each(h,function(a){if(a){var a=a.prototype,b;for(b in a)a.hasOwnProperty(b)&&(j[b]=a[b])}});d.each(j,function(a,b){f.prototype[b]=a})}return f}var n="_uiSet",f="srcNode",q="ATTRS",w="HTML_PARSER",t=d.ucfirst,u=d.noop;e.HTML_PARSER={};d.extend(e,h,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),
g(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"),m(this,this.get("plugins"),"createDom"));return this},render:function(){if(!this.get("rendered")){var b=this.get("plugins");this.create(a);this.fire("beforeRenderUI");g(this,"renderUI","__renderUI");this.fire("afterRenderUI");m(this,b,"renderUI");this.fire("beforeBindUI");p(this);g(this,"bindUI","__bindUI");this.fire("afterBindUI");m(this,b,"bindUI");this.fire("beforeSyncUI");var e,c,d=this.getAttrs(),f;for(f in d)d.hasOwnProperty(f)&&
(c=this[n+t(f)])&&!1!==d[f].sync&&(e=this.get(f))!==a&&c.call(this,e);g(this,"syncUI","__syncUI");this.fire("afterSyncUI");m(this,b,"syncUI");this.__set("rendered",!0)}return this},createDom:u,renderUI:u,bindUI:u,syncUI:u,destroy:function(){for(var a,e=this.constructor,g,c,d;e;){e.prototype.hasOwnProperty("destructor")&&e.prototype.destructor.apply(this);if(g=e.__ks_exts)for(d=g.length-1;0<=d;d--)(c=g[d]&&g[d].prototype.__destructor)&&c.apply(this);e=e.superclass&&e.superclass.constructor}this.fire("destroy");
this.detach();(a=this.get("id"))&&b.removeComponent(a);return this}},{ATTRS:{rendered:{value:!1},created:{value:!1},listeners:{value:{}},plugins:{value:[]},xclass:{valueFn:function(){return b.getXClassByConstructor(this.constructor)}}}});e.extend=function k(a,g,c){var f=d.makeArray(arguments),h=f[f.length-1];f.unshift(this);h.xclass&&(f.pop(),f.push(h.xclass));f=j.apply(e,f);h.xclass&&b.setConstructorByXClass(h.xclass,{constructor:f,priority:h.priority});f.extend=k;return f};return e},{requires:["base",
"node","../manager"]});
KISSY.add("component/uibase/box",function(d){function h(){}h.ATTRS={content:{view:1,sync:!1},width:{view:1,sync:!1},height:{sync:!1,view:1},elCls:{sync:!1,view:1},elStyle:{sync:!1,view:1},elAttrs:{sync:!1,view:1},elBefore:{sync:!1,view:1},el:{view:1},render:{view:1},visibleMode:{view:1},visible:{view:1},srcNode:{view:1}};h.HTML_PARSER={el:function(c){this.decorateInternal&&this.decorateInternal(d.one(c));return c}};h.prototype={_uiSetVisible:function(c){this.fire(c?"show":"hide")},show:function(){var c;
this.get("rendered")||(this.__set("visible",void 0),(c=this.get("view"))&&c.__set("visible",void 0),this.render());this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return h});
KISSY.add("component/uibase/boxrender",function(d){function h(){}var c=d.all,b=d.Env.host.document;h.ATTRS={el:{setter:function(a){return c(a)}},elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},content:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{value:"display"},contentEl:{valueFn:function(){return this.get("el")}}};h.HTML_PARSER={content:function(a){var b=this.get("contentElCls");return(b?a.one("."+b):a).html()}};h.prototype=
{__renderUI:function(){if(!this.get("srcNode")){var a=this.get("render"),e=this.get("el"),g=this.get("elBefore");g?e.insertBefore(g,void 0):a?e.appendTo(a,void 0):e.appendTo(b.body,void 0)}},__createDom:function(){if(!this.get("srcNode")){var a=this.get("elCls"),b=this.get("elStyle"),g=this.get("width"),h=this.get("height"),i=this.get("content"),m=this.get("elAttrs"),j=this.get("contentEl");j&&(j.html(i),i="");var n=b,b=this.get("elTagName"),n=n||{};g&&(n.width="number"==typeof g?g+"px":g);h&&(n.height=
"number"==typeof h?h+"px":h);g=i||"";h="";"string"!=typeof i&&(g="");for(var f in n)n.hasOwnProperty(f)&&(h+=f+":"+n[f]+";");f="";for(var q in m)m.hasOwnProperty(q)&&(f+=" "+q+"='"+m[q]+"' ");a=c("<"+b+(h?" style='"+h+"' ":"")+f+(a?" class='"+a+"' ":"")+">"+g+"</"+b+">");i&&!d.isString(i)&&a.append(i);j&&a.append(j);this.__set("el",a);j||this.__set("contentEl",a)}},__syncUI:function(){var a=this;a.get("srcNode")&&(a.get("el"),d.each(["elCls","elStyle","width","height","elAttrs"],function(b){var g;
if(g=a.get(b))a["_uiSet"+d.ucfirst(b)](g)}))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:function(a){var b=this.get("contentEl");"string"==typeof a?b.html(a):a&&b.empty().append(a)},_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",
a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return h},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function d(){}d.ATTRS={closable:{view:1},closeBtn:{view:1},closeAction:{value:"hide"}};var h={hide:"hide",destroy:"destroy"};d.prototype={_uiSetClosable:function(c){var b=this;c&&!b.__bindCloseEvent&&(b.__bindCloseEvent=1,b.get("closeBtn").on("click",function(a){b[h[b.get("closeAction")]||"hide"]();a.preventDefault()}))},__destructor:function(){var c=this.get("closeBtn");c&&c.detach()}};return d});
KISSY.add("component/uibase/closerender",function(d,h){function c(){}c.ATTRS={closable:{value:!0},closeBtn:{}};c.HTML_PARSER={closeBtn:function(b){return b.one(".ks-ext-close")}};c.prototype={_uiSetClosable:function(b){var a=this.get("closeBtn");b?(a||this.__set("closeBtn",a=new h("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),a.appendTo(this.get("el"),void 0)):a&&a.remove()}};return c},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(d,h,c){function b(){}function a(a){var b=null;if(!a)return b;var p=this.get("el");!0!==a?(a=c.one(a),b=a.offset(),d.mix(b,{maxLeft:b.left+a.outerWidth()-p.outerWidth(),maxTop:b.top+a.outerHeight()-p.outerHeight()})):(b={left:h.scrollLeft(),top:h.scrollTop()},d.mix(b,{maxLeft:b.left+h.viewportWidth()-p.outerWidth(),maxTop:b.top+h.viewportHeight()-p.outerHeight()}));return b}b.ATTRS={constrain:{value:!1}};b.prototype={__renderUI:function(){var b=this,
g=b.getAttrs(),c=g.x,g=g.y,d=c.setter,h=g.setter;c.setter=function(c){var g=d&&d.call(b,c);void 0===g&&(g=c);if(!b.get("constrain"))return g;c=a.call(b,b.get("constrain"));return Math.min(Math.max(g,c.left),c.maxLeft)};g.setter=function(c){var g=h&&h.call(b,c);void 0===g&&(g=c);if(!b.get("constrain"))return g;c=a.call(b,b.get("constrain"));return Math.min(Math.max(g,c.top),c.maxTop)};b.addAttr("x",c);b.addAttr("y",g)}};return b},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function d(){}d.ATTRS={contentEl:{view:1}};return d});KISSY.add("component/uibase/contentboxrender",function(d,h,c,b){function a(){}a.ATTRS={contentEl:{}};a.prototype={__createDom:function(){var a,c=this.get("el");a=c[0].childNodes;a=a.length&&b.nodeListToFragment(a);a=h.all("<div class='ks-contentbox'></div>").append(a);c.append(a);this.__set("contentEl",a)}};return a},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(d){function h(){}function c(b){this.set("xy",[b.left,b.top])}h.ATTRS={handlers:{value:[]},draggable:{value:!0}};h.prototype={_uiSetHandlers:function(b){var a;b&&0<b.length&&(a=this.__drag)&&a.set("handlers",b)},__bindUI:function(){var b=d.require("dd")||{},a=b.Draggable,e=this,g=e.get("draggable"),h=e.get("el");if(g&&a){!0===g&&(g={});a=e.__drag=new a({node:h,move:g.proxy});if(g.proxy){g.proxy.moveOnEnd=!1;a.on("dragend",function(){var a=i.get("proxyNode").offset();
h.css("visibility","");e.set("x",a.left);e.set("y",a.top)});var i=e.__proxy=new b.Proxy(g.proxy);i.attachDrag(a)}else a.on("drag",c,e);g.scroll&&(e.__scroll=new b.Scroll(g.scroll)).attachDrag(a)}},_uiSetDraggable:function(b){var a=this.__drag;a&&a.set("disabled",!b)},__destructor:function(){var b=this.__proxy,a=this.__scroll,c=this.__drag;c&&c.destroy();a&&a.destroy();b&&b.destroy()}};return h});
KISSY.add("component/uibase/loading",function(){function d(){}d.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return d});
KISSY.add("component/uibase/loadingrender",function(d,h){function c(){}c.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new h("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var b=this._loadingExtEl;b&&b.hide()}};return c},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function d(){}d.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}};d.prototype={__bindUI:function(){var d=this.get("view"),c=d._maskExtShow,b=d._maskExtHide;this.get("mask")&&(this.on("show",c,d),this.on("hide",b,d))}};return d},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(d,h,c){function b(a){a=p("<div  style='width:"+(g?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(g?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(g?"absolute":"fixed")+";' class='"+a+"'>"+(g?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function a(){}var e={},g=6===h.ie,p=c.all;a.ATTRS={maskShared:{value:!0}};a.prototype={_maskExtShow:function(){var a=this.get("prefixCls")+"ext-mask",c=e[a],g=this.get("maskShared"),d=this.get("maskNode");d||(g?c?d=c.node:(d=b(a),c=e[a]={num:0,node:d}):d=b(a),this.__set("maskNode",d));d.css("z-index",this.get("zIndex")-1);g&&c.num++;(!g||1==c.num)&&d.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=
e[a],b=this.get("maskShared"),c=this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&c.hide()):c.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return a},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(d){function h(){}h.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(c){var b=d.makeArray(c);b.length&&(b[0]&&this.set("x",b[0]),b[1]&&this.set("y",b[1]));return c},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1}};h.prototype={move:function(c,b){d.isArray(c)&&(b=c[1],c=c[0]);this.set("xy",[c,b]);return this}};return h});
KISSY.add("component/uibase/positionrender",function(){function d(){}d.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};d.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(d){this.get("el").css("z-index",d)},_uiSetX:function(d){this.get("el").offset({left:d})},_uiSetY:function(d){this.get("el").offset({top:d})}};return d});
KISSY.add("component/uibase/resize",function(d){function h(){}h.ATTRS={resize:{value:{}}};h.prototype={__destructor:function(){var c=this.resizer;c&&c.destroy()},_uiSetResize:function(c){var b=d.require("resizable");this.resizer&&this.resizer.destroy();b&&c&&(c.node=this.get("el"),this.resizer=new b(c))}};return h});
KISSY.add("component/uibase/shimrender",function(){function d(){}d.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return d});
KISSY.add("component/uibase/stdmod",function(){function d(){}d.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}};return d});
KISSY.add("component/uibase/stdmodrender",function(d,h){function c(){}function b(a,b){var c=a.get("contentEl"),m=a.get(b+"Style"),j=a.get(b+"Content"),n=d.isString(j),f=a.get(b);if(f)m&&f.css(m);else{f="";if(m)for(var q in m)m.hasOwnProperty(q)&&(f+=q+":"+m[q]+";");m=f;f=new h("<div class='"+e+b+"' "+(m?"style='"+m+"'":"")+" >"+(n?j:"")+"</div>");n||f.append(j);f.appendTo(c);a.__set(b,f)}}function a(a,b,c){b=a.get(b);d.isString(c)?b.html(c):b.html("").append(c)}var e="ks-stdmod-";c.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};c.HTML_PARSER={header:function(a){return a.one("."+e+"header")},body:function(a){return a.one("."+e+"body")},footer:function(a){return a.one("."+e+"footer")}};c.prototype={__createDom:function(){b(this,"header");b(this,"body");b(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(b){a(this,"body",b)},_uiSetHeaderContent:function(b){a(this,"header",b)},_uiSetFooterContent:function(b){a(this,"footer",b)}};return c},{requires:["node"]});
