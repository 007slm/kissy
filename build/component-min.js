/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 13 00:25
*/
KISSY.add("component/base",function(b,g,e){function a(){var f=b.makeArray(arguments),i=f[f.length-1];f.unshift(this);i.xclass&&(f.pop(),f.push(i.xclass));f=g.create.apply(g,f);i.xclass&&e.setConstructorByXClass(i.xclass,{constructor:f,priority:i.priority});f.extend=a;return f}return{Manager:e,UIBase:g,define:function(){var f=b.makeArray(arguments),i;i=f.shift();return a.apply(i,f)}}},{requires:["./uibase","./manager"]});
KISSY.add("component",function(b,g,e,a,f,i,d,m){b.mix(g,{Controller:e,Render:a,Container:f,DelegateChildren:i,DecorateChild:m,DecorateChildren:d});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(b,g,e,a){return g.extend([e,a],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(b,g,e,a,f,i,d){function m(h){return function(p){if(this==p.target){var p=p.newVal,d=this.get("view");d&&d.set(h,p)}}}function k(h){return function(p){var c=this.get("view");return p===d?c&&c.get(h):p}}function l(h,c,f){h.create();var a=h.getContentElement(),c=n(c,h);c.__set("parent",h);c.set("render",a);c.set("elBefore",f);h.get("rendered")?c.render():c.create(d);return c}function j(h,c){var d=h.relatedTarget;return d&&(d===c[0]||c.contains(d))}function n(h,
d){if(!(h instanceof c)){var a;a=h.xclass;d&&!h.prefixCls&&(h.prefixCls=d.get("prefixCls"));h=new (f.getConstructorByXClass(a))(h)}return h}var c=e.define([a.Box],{getCssClassWithPrefix:f.getCssClassWithPrefix,initializer:function(){var h,c,d,f=this.get("listeners"),a=this.getAttrs();for(h in a)a.hasOwnProperty(h)&&(d=a[h],d.view&&(this.on("after"+b.ucfirst(h)+"Change",m(h)),d.getter=k(h)));for(c in f)h=f[c],this.on(c,h.fn||h,h.scope)},createDom:function(){var h;if(!(h=this.get("view"))){var a={},
i=this.get("xrender");if(i){h=this.getAttrs();for(var e in h)if(h.hasOwnProperty(e)){var b;if(h[e].view&&(b=this.get(e))!==d)a[e]=b}h=new i(a)}else h=0}e=h;b=this.constructor;for(h=[];b&&b!=c;)(a=f.getXClassByConstructor(b))&&h.push(a),b=b.superclass&&b.superclass.constructor;e.__componentClasses=h.join(" ");e.create();b=e.getKeyEventTarget();this.get("focusable")?b.attr("tabIndex",0):b.unselectable(d);this.__set("view",e)},renderUI:function(){var h,c;this.get("view").render();var d=this.get("children");
for(h=0;h<d.length;h++)c=d[h],c=l(this,c),d[h]=c,c.render()},bindUI:function(){var h=this.get("focusable"),c=this.get("handleMouseEvents"),d=this.getKeyEventTarget();if(h)d.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);c&&(d=this.get("el"),d.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,
this))},_uiSetFocused:function(h){h&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var h=this.get("view");return h&&h.getContentElement()},getKeyEventTarget:function(){var h=this.get("view");return h&&h.getKeyEventTarget()},addChild:function(h,c){var f=this.get("children"),a;c===d&&(c=f.length);a=f[c]&&f[c].get("el")||null;h=l(this,h,a);f.splice(c,0,h)},removeChild:function(h,c){var d=this.get("children"),f=b.indexOf(h,d);-1!=f&&d.splice(f,1);c&&h.destroy();return h},removeChildren:function(h){var c,
d=[].concat(this.get("children"));for(c=0;c<d.length;c++)this.removeChild(d[c],h);this.__set("children",[])},getChildAt:function(h){return this.get("children")[h]||null},handleDblClick:function(h){if(this.get("disabled"))return!0;this.performActionInternal(h)},handleMouseOver:function(h){var c=this.get("el");if(this.get("disabled"))return!0;j(h,c)||this.handleMouseEnter(h)},handleMouseOut:function(h){var c=this.get("el");if(this.get("disabled"))return!0;j(h,c)||this.handleMouseLeave(h)},handleMouseEnter:function(h){if(this.get("disabled"))return!0;
this.set("highlighted",!!h)},handleMouseLeave:function(h){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!h)},handleMouseDown:function(h){var c=1==h.which;if(this.get("disabled"))return!0;c&&(c=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(c[0].focus(),this.set("focused",!0)):(c=(c=h.target.nodeName)&&c.toLowerCase(),"input"!=c&&"textarea"!=c&&h.preventDefault()))},handleMouseUp:function(c){if(this.get("disabled"))return!0;
this.get("active")&&1==c.which&&(this.performActionInternal(c),this.set("active",!1))},handleFocus:function(c){this.set("focused",!!c);this.fire("focus")},handleBlur:function(c){this.set("focused",!c);this.fire("blur")},handleKeyEventInternal:function(c){if(c.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(c)},handleKeydown:function(c){if(this.get("disabled"))return!0;this.handleKeyEventInternal(c)&&c.halt()},performActionInternal:function(){},destructor:function(){var c,d=this.get("children");
for(c=0;c<d.length;c++)d[c].destroy();(c=this.get("view"))&&c.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}},xrender:{value:i},xclass:{valueFn:function(){return f.getXClassByConstructor(this.constructor)}}}},{xclass:"controller"});e.create=n;return c},{requires:["event","./base","./uibase",
"./manager","./render"]});KISSY.add("component/decorateChild",function(b,g){function e(){}b.augment(e,g,{decorateInternal:function(a){this.set("el",a);var f=this.get("decorateChildCls");if(a=a.one("."+this.getCssClassWithPrefix(f)))(f=this.findUIConstructorByNode(a))?this.decorateChildrenInternal(f,a):this.decorateChildren(a)}});return e},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(b,g){function e(){}b.augment(e,{decorateInternal:function(a){this.set("el",a);this.decorateChildren(a)},findUIConstructorByNode:function(a){var a=a.attr("class")||"",f=this.get("prefixCls"),a=a.replace(RegExp("\\b"+f,"ig"),"");return g.getConstructorByXClass(a)},decorateChildrenInternal:function(a,f){this.addChild(new a({srcNode:f,prefixCls:this.get("prefixCls")}))},decorateChildren:function(a){var f=this;a.children().each(function(a){var d=f.findUIConstructorByNode(a);
f.decorateChildrenInternal(d,a)})}});return e},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(b){function g(){}function e(a){var f=this.getOwnerControl(a.target);if(f)switch(a.type){case "mousedown":f.handleMouseDown(a);break;case "mouseup":f.handleMouseUp(a);break;case "mouseover":f.handleMouseOver(a);break;case "mouseout":f.handleMouseOut(a);break;case "dblclick":f.handleDblClick(a)}}b.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",e,this)},getOwnerControl:function(a){for(var f=this.get("children"),
e=f.length,d=this.get("el")[0];a&&a!==d;){for(var b=0;b<e;b++)if(f[b].get("el")[0]===a)return f[b];a=a.parentNode}return null}});return g});
KISSY.add("component/manager",function(b){function g(f){for(var f=b.trim(f).split(/\s+/),a=0;a<f.length;a++)f[a]&&(f[a]=this.get("prefixCls")+f[a]);return f.join(" ")}var e={},a={getCssClassWithPrefix:g,getXClassByConstructor:function(f){for(var a in e)if(e[a].constructor==f)return a;return 0},getConstructorByXClass:function(a){for(var a=a.split(/\s+/),b=-1,d,g=null,k=0;k<a.length;k++){var l=e[a[k]];if(l&&(d=l.priority)>b)b=d,g=l.constructor}return g},setConstructorByXClass:function(a,i){b.isFunction(i)?
e[a]={constructor:i,priority:0}:(i.priority=i.priority||0,e[a]=i)}};a.getCssClassWithPrefix=g;return a});
KISSY.add("component/render",function(b,g,e,a){return g.define([e.Box.Render],{getComponentCssClassWithState:function(a){var b=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(b.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:a.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(a){var b=
this.getComponentCssClassWithState("-hover");this.get("el")[a?"addClass":"removeClass"](b)},_uiSetDisabled:function(a){var b=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this.get("el"),
d=this.getComponentCssClassWithState("-focused");b[a?"addClass":"removeClass"](d)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(b,g,e,a,f,i,d,m,k,l,j,n,c,h,p,t,u,v,r,o,s){i.Render=d;n.Render=c;h.Render=p;t.Render=u;o.Render=s;a.Render=f;k.Render=l;b.mix(g,{Align:e,Box:a,Close:i,Constrain:m,ContentBox:k,Drag:j,Loading:n,Mask:h,Position:t,Shim:{Render:v},Resize:r,StdMod:o});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(b,g,e,a){function f(c){var d=c.ownerDocument.body,a=e.css(c,"position");if(!("fixed"==a||"absolute"==a))return"html"==c.nodeName.toLowerCase()?null:c.parentNode;for(c=c.parentNode;c&&c!=d;c=c.parentNode)if(a=e.css(c,"position"),"static"!=a)return c;return null}function i(c){var a,d,b={left:0,right:Infinity,top:0,bottom:Infinity},i;d=c.ownerDocument;a=d.body;for(d=d.documentElement;c=f(c);)if((!g.ie||0!=c.clientWidth)&&c!=a&&c!=d&&"visible"!=e.css(c,"overflow"))i=
e.offset(c),i.left+=c.clientLeft,i.top+=c.clientTop,b.top=Math.max(b.top,i.top),b.right=Math.min(b.right,i.left+c.clientWidth),b.bottom=Math.min(b.bottom,i.top+c.clientHeight),b.left=Math.max(b.left,i.left);c=e.scrollLeft();i=e.scrollTop();b.left=Math.max(b.left,c);b.top=Math.max(b.top,i);a=e.viewportWidth();d=e.viewportHeight();b.right=Math.min(b.right,c+a);b.bottom=Math.min(b.bottom,i+d);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}function d(c,d,a,b){var f,e;f=c.left;e=c.top;
d=j(d,a[0]);c=j(c,a[1]);c=[c.left-d.left,c.top-d.top];return{left:f-c[0]+ +b[0],top:e-c[1]+ +b[1]}}function m(c,d,a){var f=[];b.each(c,function(c){f.push(c.replace(d,function(c){return a[c]}))});return f}function k(){}function l(c){var d,a;b.isWindow(c[0])?(d={left:e.scrollLeft(),top:e.scrollTop()},a=e.viewportWidth(),c=e.viewportHeight()):(d=c.offset(),a=c.outerWidth(),c=c.outerHeight());d.width=a;d.height=c;return d}function j(c,d){var a=d.charAt(0),b=d.charAt(1),f=c.width,e=c.height,i,g;i=c.left;
g=c.top;"c"===a?g+=e/2:"b"===a&&(g+=e);"c"===b?i+=f/2:"r"===b&&(i+=f);return{left:i,top:g}}var n=b.Env.host;k.__getOffsetParent=f;k.__getVisibleRectForElement=i;k.ATTRS={align:{}};k.prototype={_uiSetAlign:function(c){c&&this.align(c.node,c.points,c.offset,c.overflow)},align:function(c,h,f,e){var c=a.one(c||n),f=f&&[].concat(f)||[0,0],e=e||{},g=this.get("el"),k=0,j=i(g[0]),o=l(g),s=l(c),c=d(o,s,h,f),q=b.merge(o,c);if(j&&(e.adjustX||e.adjustY)){if(c.left<j.left||c.left+o.width>j.right)k=1,h=m(h,/[lr]/ig,
{l:"r",r:"l"}),f[0]=-f[0];if(c.top<j.top||c.top+o.height>j.bottom)k=1,h=m(h,/[tb]/ig,{t:"b",b:"t"}),f[1]=-f[1];k&&(c=d(o,s,h,f),b.mix(q,c));h={};h.adjustX=e.adjustX&&(c.left<j.left||c.left+o.width>j.right);h.adjustY=e.adjustY&&(c.top<j.top||c.top+o.height>j.bottom);if(h.adjustX||h.adjustY)e=b.clone(c),k={width:o.width,height:o.height},h.adjustX&&e.left<j.left&&(e.left=j.left),h.resizeWidth&&e.left>=j.left&&e.left+k.width>j.right&&(k.width-=e.left+k.width-j.right),h.adjustX&&e.left+k.width>j.right&&
(e.left=Math.max(j.right-k.width,j.left)),h.adjustY&&e.top<j.top&&(e.top=j.top),h.resizeHeight&&e.top>=j.top&&e.top+k.height>j.bottom&&(k.height-=e.top+k.height-j.bottom),h.adjustY&&e.top+k.height>j.bottom&&(e.top=Math.max(j.bottom-k.height,j.top)),q=b.mix(e,k)}q.left!=o.left&&this.set("x",q.left);q.top!=o.top&&this.set("y",q.top);q.width!=o.width&&g.width(g.width()+q.width-o.width);q.height!=o.height&&g.height(g.height()+q.height-o.height);return this},center:function(c){this.set("align",{node:c,
points:["cc","cc"],offset:[0,0]});return this}};return k},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(b,g,e,a){function f(d){g.apply(this,arguments);for(var c=d,h=this.constructor;h;){if(c&&c[k]&&h.HTML_PARSER&&(c[k]=e.one(c[k]))){var f=c,m=h.HTML_PARSER,j=void 0,l=void 0,r=f[k];for(j in m)m.hasOwnProperty(j)&&f[j]===a&&(l=m[j],b.isFunction(l)?this.__set(j,l.call(this,r)):b.isString(l)?this.__set(j,r.one(l)):b.isArray(l)&&l[0]&&this.__set(j,r.all(l[0])))}h=h.superclass&&h.superclass.constructor}i(this,"initializer","constructor");d&&d.autoRender&&this.render()}
function i(d,c,a){for(var b=d.constructor,f=[],e,i,g,k;b;){k=[];if(g=b.__ks_exts)for(var j=0;j<g.length;j++)if(e=g[j])"constructor"!=a&&(e=e.prototype.hasOwnProperty(a)?e.prototype[a]:null),e&&k.push(e);b.prototype.hasOwnProperty(c)&&(i=b.prototype[c])&&k.push(i);k.length&&f.push.apply(f,k.reverse());b=b.superclass&&b.superclass.constructor}for(j=f.length-1;0<=j;j--)f[j]&&f[j].call(d)}function d(d){var c=d.getAttrs(),a,b;for(a in c)c.hasOwnProperty(a)&&(b=m+l(a),d[b]&&function(c,a){d.on("after"+l(c)+
"Change",function(c){if(c.target===d)d[a](c.newVal,c)})}(a,b))}var m="_uiSet",k="srcNode",l=b.ucfirst,j=b.noop;f.HTML_PARSER={};f.ATTRS={rendered:{value:!1},created:{value:!1}};b.extend(f,g,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),i(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(a);this.fire("beforeRenderUI");i(this,"renderUI","__renderUI");this.fire("afterRenderUI");
this.fire("beforeBindUI");d(this);i(this,"bindUI","__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var b,c,f=this.getAttrs(),e;for(e in f)f.hasOwnProperty(e)&&(c=this[m+l(e)])&&!1!==f[e].sync&&(b=this.get(e))!==a&&c.call(this,b);i(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:j,renderUI:j,bindUI:j,syncUI:j,destroy:function(){for(var d=this.constructor,c,a,b;d;){d.prototype.hasOwnProperty("destructor")&&d.prototype.destructor.apply(this);
if(c=d.__ks_exts)for(b=c.length-1;0<=b;b--)(a=c[b]&&c[b].prototype.__destructor)&&a.apply(this);d=d.superclass&&d.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(d,c,a,e){function g(){f.apply(this,arguments)}var i=b.makeArray(arguments);b.isArray(d)&&(e=a,a=c,c=d,d=f);d=d||f;b.isObject(c)&&(e=a,a=c,c=[]);b.isString(i[i.length-1]);b.extend(g,d,a,e);if(c){g.__ks_exts=c;var k={},i=c.concat(g);b.each(i,function(d){d&&b.each(["ATTRS","HTML_PARSER"],function(c){if(d[c]){k[c]=
k[c]||{};b.mix(k[c],d[c],{deep:true})}})});b.each(k,function(d,c){g[c]=d});var j={};b.each(i,function(d){if(d){var d=d.prototype,c;for(c in d)d.hasOwnProperty(c)&&(j[c]=d[c])}});b.each(j,function(d,c){g.prototype[c]=d})}return g}});return f},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(b){function g(){}g.ATTRS={content:{view:!0,sync:!1},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};g.HTML_PARSER={el:function(e){this.decorateInternal&&this.decorateInternal(b.one(e));return e}};g.prototype={_uiSetVisible:function(b){this.fire(b?"show":"hide")},show:function(){var b;this.get("rendered")||
(this.__set("visible",void 0),(b=this.get("view"))&&b.__set("visible",void 0),this.render());this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return g});
KISSY.add("component/uibase/boxrender",function(b){function g(){}function e(d,a,e,g,i,n,c){a=a||{};e&&(a.width="number"==typeof e?e+"px":e);g&&(a.height="number"==typeof g?g+"px":g);e=c||"";g="";"string"!=typeof c&&(e="");for(var h in a)a.hasOwnProperty(h)&&(g+=h+":"+a[h]+";");var a="",p;for(p in n)n.hasOwnProperty(p)&&(a+=" "+p+"='"+n[p]+"' ");d=f("<"+i+(g?" style='"+g+"' ":"")+a+(d?" class='"+d+"' ":"")+">"+e+"</"+i+">");c&&!b.isString(c)&&d.append(c);return d}function a(d){var a=this.get("el");
"string"==typeof d?a.html(d):d&&a.empty().append(d)}var f=b.all,i=b.Env.host.document;g.ATTRS={el:{setter:function(d){return f(d)}},elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},content:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};g.construct=e;g.HTML_PARSER={content:function(d){return d.html()}};g.prototype={__renderUI:function(){if(!this.get("srcNode")){var d=this.get("render"),a=this.get("el"),b=this.get("elBefore");
b?a.insertBefore(b):d?a.appendTo(d):a.appendTo(i.body)}},__createDom:function(){var d=this.get("elCls"),b=this.get("elStyle"),f=this.get("width"),g=this.get("height"),i=this.get("content"),n=this.get("elAttrs"),c=this.get("el");c?(d&&c.addClass(d),b&&c.css(b),void 0!==f&&c.width(f),void 0!==g&&c.height(g),i!==c.html()&&a.call(this,i),n&&c.attr(n)):(c=e(d,b,f,g,this.get("elTagName"),n,i),this.__set("el",c))},_uiSetElAttrs:function(d){this.get("el").attr(d)},_uiSetElCls:function(d){this.get("el").addClass(d)},
_uiSetElStyle:function(d){this.get("el").css(d)},_uiSetWidth:function(d){this.get("el").width(d)},_uiSetHeight:function(d){this.get("el").height(d)},_uiSetContent:a,_uiSetVisible:function(d){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",d?"visible":"hidden"):a.css("display",d?"":"none")},__destructor:function(){var d=this.get("el");d&&d.remove()}};return g},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function b(){}b.ATTRS={closable:{value:!0,view:!0},closeBtn:{view:!0},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};b.prototype={_uiSetClosable:function(b){var a=this;b&&!a.__bindCloseEvent&&(a.__bindCloseEvent=1,a.get("closeBtn").on("click",function(b){a[g[a.get("closeAction")]||"hide"]();b.preventDefault()}))},__destructor:function(){var b=this.get("closeBtn");b&&b.detach()}};return b});
KISSY.add("component/uibase/closerender",function(b,g){function e(){}e.ATTRS={closable:{},closeBtn:{}};e.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};e.prototype={_uiSetClosable:function(a){var b=this.get("closeBtn");a?(b||this.__set("closeBtn",b=new g("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),b.appendTo(this.get("el"),void 0)):b&&b.remove()}};return e},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(b,g,e){function a(){}function f(a){var d=null;if(!a)return d;var f=this.get("el");!0!==a?(a=e.one(a),d=a.offset(),b.mix(d,{maxLeft:d.left+a.outerWidth()-f.outerWidth(),maxTop:d.top+a.outerHeight()-f.outerHeight()})):(d={left:g.scrollLeft(),top:g.scrollTop()},b.mix(d,{maxLeft:d.left+g.viewportWidth()-f.outerWidth(),maxTop:d.top+g.viewportHeight()-f.outerHeight()}));return d}a.ATTRS={constrain:{value:!1}};a.prototype={__renderUI:function(){var a=this,
d=a.getAttrs(),b=d.x,d=d.y,e=b.setter,g=d.setter;b.setter=function(d){var b=e&&e.call(a,d);void 0===b&&(b=d);if(!a.get("constrain"))return b;d=f.call(a,a.get("constrain"));return Math.min(Math.max(b,d.left),d.maxLeft)};d.setter=function(d){var b=g&&g.call(a,d);void 0===b&&(b=d);if(!a.get("constrain"))return b;d=f.call(a,a.get("constrain"));return Math.min(Math.max(b,d.top),d.maxTop)};a.addAttr("x",b);a.addAttr("y",d)}};return a},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function b(){}b.ATTRS={contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return b});
KISSY.add("component/uibase/contentboxrender",function(b,g,e,a){function f(){}f.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"}};var i=e.construct;f.prototype={__renderUI:function(){},__createDom:function(){var d,b=this.get("el");d=b[0].childNodes;d=d.length&&a.nodeListToFragment(d);d=i("ks-contentbox "+(this.get("contentElCls")||""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),d);b.append(d);this.__set("contentEl",
d)},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){var b=this.get("contentEl");"string"==typeof a?b.html(a):a&&b.empty().append(a)}};return f},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(b){function g(){}function e(a){this.set("xy",[a.left,a.top])}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(a){var b;a&&0<a.length&&(b=this.__drag)&&b.set("handlers",a)},__bindUI:function(){var a=b.require("dd")||{},f=a.Draggable,g=this,d=g.get("draggable"),m=g.get("el");if(d&&f){!0===d&&(d={});f=g.__drag=new f({node:m,move:d.proxy});if(d.proxy){d.proxy.moveOnEnd=!1;f.on("dragend",function(){var a=k.get("proxyNode").offset();
m.css("visibility","");g.set("x",a.left);g.set("y",a.top)});var k=g.__proxy=new a.Proxy(d.proxy);k.attachDrag(f)}else f.on("drag",e,g);d.scroll&&(g.__scroll=new a.Scroll(d.scroll)).attachDrag(f)}},_uiSetDraggable:function(a){var b=this.__drag;b&&b.set("disabled",!a)},__destructor:function(){var a=this.__proxy,b=this.__scroll,e=this.__drag;e&&e.destroy();b&&b.destroy();a&&a.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function b(){}b.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return b});
KISSY.add("component/uibase/loadingrender",function(b,g){function e(){}e.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return e},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function b(){}b.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};b.prototype={__bindUI:function(){var b=this.get("view"),e=b._maskExtShow,a=b._maskExtHide;this.get("mask")&&(this.on("show",e,b),this.on("hide",a,b))}};return b},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(b,g,e){function a(a){a=m("<div  style='width:"+(d?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(d?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(d?"absolute":"fixed")+";' class='"+a+"'>"+(d?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function f(){}var i={},d=6===g.ie,m=e.all;f.prototype={_maskExtShow:function(){var d=this.get("prefixCls")+"ext-mask",b=i[d],e=this.get("maskShared"),f=this.get("maskNode");f||(e?b?f=b.node:(f=a(d),b=i[d]={num:0,node:f}):f=a(d),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);e&&b.num++;(!e||1==b.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=i[a],d=this.get("maskShared"),b=
this.get("maskNode");d&&a?(a.num=Math.max(a.num-1,0),0==a.num&&b.hide()):b.hide()},__destructor:function(){var a=this.get("maskShared"),d=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():d.remove())}};return f},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(b){function g(){}g.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(e){var a=b.makeArray(e);a.length&&(a[0]&&this.set("x",a[0]),a[1]&&this.set("y",a[1]));return e},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};g.prototype={move:function(e,a){b.isArray(e)&&(a=e[1],e=e[0]);this.set("xy",[e,a]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function b(){}b.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};b.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(b){this.get("el").css("z-index",b)},_uiSetX:function(b){this.get("el").offset({left:b})},_uiSetY:function(b){this.get("el").offset({top:b})}};return b});
KISSY.add("component/uibase/resize",function(b){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var b=this.resizer;b&&b.destroy()},_uiSetResize:function(e){var a=b.require("resizable");this.resizer&&this.resizer.destroy();a&&e&&(e.node=this.get("el"),this.resizer=new a(e))}};return g});
KISSY.add("component/uibase/shimrender",function(){function b(){}b.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return b});
KISSY.add("component/uibase/stdmod",function(){function b(){}b.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return b});
KISSY.add("component/uibase/stdmodrender",function(b,g){function e(){}function a(a,e){var f=a.get("contentEl"),l=a.get(e+"Style"),j=a.get(e+"Content"),n=b.isString(j),c=a.get(e);if(c)l&&c.css(l);else{c="";if(l)for(var h in l)l.hasOwnProperty(h)&&(c+=h+":"+l[h]+";");l=c;c=new g("<div class='"+i+e+"' "+(l?"style='"+l+"'":"")+" >"+(n?j:"")+"</div>");n||c.append(j);c.appendTo(f);a.__set(e,c)}}function f(a,e,f){e=a.get(e);b.isString(f)?e.html(f):e.html("").append(f)}var i="ks-stdmod-";e.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};e.HTML_PARSER={header:function(a){return a.one("."+i+"header")},body:function(a){return a.one("."+i+"body")},footer:function(a){return a.one("."+i+"footer")}};e.prototype={__createDom:function(){a(this,"header");a(this,"body");a(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){f(this,"body",a)},_uiSetHeaderContent:function(a){f(this,"header",a)},_uiSetFooterContent:function(a){f(this,"footer",a)}};return e},{requires:["node"]});
