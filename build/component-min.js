/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 18 23:15
*/
KISSY.add("component/base",function(e,g,d){return{Manager:d,UIBase:g,create:function(c,f){var a;if(c&&(a=c.xclass))f&&!c.prefixCls&&(c.prefixCls=f.get("prefixCls")),a=d.getConstructorByXClass(a),c=new a(c);return c}}},{requires:["./uibase","./manager"]});KISSY.add("component",function(e,g,d,c,f,a,b,m){e.mix(g,{Controller:d,Render:c,Container:f,DelegateChildren:a,DecorateChild:m,DecorateChildren:b});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});
KISSY.add("component/container",function(e,g,d,c){return g.extend([d,c],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(e,g,d,c,f,a,b){function m(i){return function(a){if(this==a.target){var a=a.newVal,b=this.get("view");b&&b.set(i,a)}}}function h(i){return function(a){var c=this.get("view");return a===b?c&&c.get(i):a}}function q(i,a,c){i.create();var f=i.getContentElement(),a=d.create(a,i);a.__set("parent",i);a.set("render",f);a.set("elBefore",c);i.get("rendered")?a.render():a.create(b);return a}function n(i,a){var b=i.relatedTarget;return b&&(b===a[0]||a.contains(b))}var k=
c.extend([c.Box],{getCssClassWithPrefix:f.getCssClassWithPrefix,initializer:function(){this.get("view")},createDom:function(){for(var i=this.get("view"),a=this.constructor,c=[];a&&a!=k;){var d=f.getXClassByConstructor(a);d&&c.push(d);a=a.superclass&&a.superclass.constructor}i.__componentClasses=c.join(" ");i.create();a=i.getKeyEventTarget();this.get("focusable")?a.attr("tabIndex",0):a.unselectable(b);this.__set("view",i)},renderUI:function(){var i,a,b;this.get("view").render();a=this.get("children");
for(i=0;i<a.length;i++)b=a[i],b=q(this,b),a[i]=b,b.render()},bindUI:function(){var i=this.get("focusable"),a=this.get("handleMouseEvents"),b=this.getKeyEventTarget();if(i)b.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);a&&(b=this.get("el"),b.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,
this))},_uiSetFocused:function(i){i&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var i=this.get("view");return i&&i.getContentElement()},getKeyEventTarget:function(){var i=this.get("view");return i&&i.getKeyEventTarget()},addChild:function(i,a){var c=this.get("children"),f;a===b&&(a=c.length);f=c[a]&&c[a].get("el")||null;i=q(this,i,f);c.splice(a,0,i)},removeChild:function(a,b){var c=this.get("children"),f=e.indexOf(a,c);-1!=f&&c.splice(f,1);b&&a.destroy&&a.destroy();return a},
removeChildren:function(a){var b,c=[].concat(this.get("children"));for(b=0;b<c.length;b++)this.removeChild(c[b],a);this.__set("children",[])},getChildAt:function(a){return this.get("children")[a]||null},handleDblClick:function(a){if(this.get("disabled"))return!0;this.performActionInternal(a)},handleMouseOver:function(a){var b=this.get("el");if(this.get("disabled"))return!0;n(a,b)||this.handleMouseEnter(a)},handleMouseOut:function(a){var b=this.get("el");if(this.get("disabled"))return!0;n(a,b)||this.handleMouseLeave(a)},
handleMouseEnter:function(a){if(this.get("disabled"))return!0;this.set("highlighted",!!a)},handleMouseLeave:function(a){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!a)},handleMouseDown:function(a){var b=1==a.which;if(this.get("disabled"))return!0;b&&(b=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(b[0].focus(),this.set("focused",!0)):(b=(b=a.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&a.preventDefault()))},
handleMouseUp:function(a){if(this.get("disabled"))return!0;this.get("active")&&1==a.which&&(this.performActionInternal(a),this.set("active",!1))},handleFocus:function(a){this.set("focused",!!a);this.fire("focus")},handleBlur:function(a){this.set("focused",!a);this.fire("blur")},handleKeyEventInternal:function(a){if(a.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(a)},handleKeydown:function(a){if(this.get("disabled"))return!0;this.handleKeyEventInternal(a)&&a.halt()},performActionInternal:function(){},
destructor:function(){var a,b=this.get("children");for(a=0;a<b.length;a++)b[a].destroy();(a=this.get("view"))&&a.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:1},activeable:{value:!0},focused:{view:1},active:{view:1},highlighted:{view:1},children:{value:[]},prefixCls:{value:"ks-",view:1},parent:{},view:{valueFn:function(){var a;var c,f,d={},g,o=this.get("xrender");if(o){a=this.getAttrs();for(f in a)if(a.hasOwnProperty(f)&&(c=a[f],c.view)){if((g=this.get(f))!==b)d[f]=g;this.on("after"+
e.ucfirst(f)+"Change",m(f));c.getter=h(f)}a=new o(d)}else a=0;return a}},disabled:{view:1},xrender:{value:a}}},{xclass:"controller"});return k},{requires:["event","./base","./uibase","./manager","./render"]});KISSY.add("component/decorateChild",function(e,g){function d(){}e.augment(d,g,{decorateInternal:function(c){this.set("el",c);var f=this.get("decorateChildCls");if(c=c.one("."+f))(f=this.findUIConstructorByNode(c))?this.decorateChildrenInternal(f,c):this.decorateChildren(c)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(e,g){function d(){}e.augment(d,{decorateInternal:function(c){this.set("el",c);this.decorateChildren(c)},findUIConstructorByNode:function(c){var c=c.attr("class")||"",f=this.get("prefixCls"),c=c.replace(RegExp("\\b"+f,"ig"),"");return g.getConstructorByXClass(c)},decorateChildrenInternal:function(c,f){this.addChild(new c({srcNode:f,prefixCls:this.get("prefixCls")}))},decorateChildren:function(c){var f=this;c.children().each(function(a){var b=f.findUIConstructorByNode(a);
f.decorateChildrenInternal(b,a)})}});return d},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(e){function g(){}function d(c){var f=this.getOwnerControl(c.target);if(f)switch(c.type){case "mousedown":f.handleMouseDown(c);break;case "mouseup":f.handleMouseUp(c);break;case "mouseover":f.handleMouseOver(c);break;case "mouseout":f.handleMouseOut(c);break;case "dblclick":f.handleDblClick(c)}}e.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(c){for(var f=this.get("children"),
a=f.length,b=this.get("el")[0];c&&c!==b;){for(var d=0;d<a;d++)if(f[d].get("el")[0]===c)return f[d];c=c.parentNode}return null}});return g});
KISSY.add("component/manager",function(e){function g(a){for(var a=e.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var d={},c={},f={__instances:c,addComponent:function(a,b){c[a]=b},removeComponent:function(a){delete c[a]},getComponent:function(a){return c[a]},getCssClassWithPrefix:g,getXClassByConstructor:function(a){for(var b in d)if(d[b].constructor==a)return b;return 0},getConstructorByXClass:function(a){for(var a=a.split(/\s+/),b=-1,c,f=null,
e=0;e<a.length;e++){var g=d[a[e]];if(g&&(c=g.priority)>b)b=c,f=g.constructor}return f},setConstructorByXClass:function(a,b){e.isFunction(b)?d[a]={constructor:b,priority:0}:(b.priority=b.priority||0,d[a]=b)}};f.getCssClassWithPrefix=g;return f});
KISSY.add("component/render",function(e,g,d,c){return d.extend([d.Box.Render],{getComponentCssClassWithState:function(c){var a=this.__componentClasses,c=c||"";return this.getCssClassWithPrefix(a.split(/\s+/).join(c+" ")+c)},getCssClassWithPrefix:c.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},_uiSetHighlighted:function(c){var a=this.getComponentCssClassWithState("-hover");this.get("el")[c?
"addClass":"removeClass"](a)},_uiSetDisabled:function(c){var a=this.getComponentCssClassWithState("-disabled");this.get("el")[c?"addClass":"removeClass"](a).attr("aria-disabled",c);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",c?-1:0)},_uiSetActive:function(c){var a=this.getComponentCssClassWithState("-active");this.get("el")[c?"addClass":"removeClass"](a).attr("aria-pressed",!!c)},_uiSetFocused:function(c){var a=this.get("el"),b=this.getComponentCssClassWithState("-focused");a[c?
"addClass":"removeClass"](b)},getContentElement:function(){return this.get("contentEl")||this.get("el")}},{ATTRS:{prefixCls:{value:"ks-"},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(e,g,d,c,f,a,b,m,h,q,n,k,i,p,w,t,u,o,j,l,v){a.Render=b;k.Render=i;p.Render=w;t.Render=u;l.Render=v;c.Render=f;h.Render=q;e.mix(g,{Align:d,Box:c,Close:a,Constrain:m,ContentBox:h,Drag:n,Loading:k,Mask:p,Position:t,Shim:{Render:o},Resize:j,StdMod:l});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(e,g,d,c){function f(a){var b=a.ownerDocument.body,c=d.css(a,"position");if(!("fixed"==c||"absolute"==c))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=d.css(a,"position"),"static"!=c)return a;return null}function a(a){var b,c,e={left:0,right:Infinity,top:0,bottom:Infinity},h;c=a.ownerDocument;b=c.body;for(c=c.documentElement;a=f(a);)if((!g.ie||0!=a.clientWidth)&&a!=b&&a!=c&&"visible"!=d.css(a,"overflow"))h=
d.offset(a),h.left+=a.clientLeft,h.top+=a.clientTop,e.top=Math.max(e.top,h.top),e.right=Math.min(e.right,h.left+a.clientWidth),e.bottom=Math.min(e.bottom,h.top+a.clientHeight),e.left=Math.max(e.left,h.left);a=d.scrollLeft();h=d.scrollTop();e.left=Math.max(e.left,a);e.top=Math.max(e.top,h);b=d.viewportWidth();c=d.viewportHeight();e.right=Math.min(e.right,a+b);e.bottom=Math.min(e.bottom,h+c);return 0<=e.top&&0<=e.left&&e.bottom>e.top&&e.right>e.left?e:null}function b(a,b,c,e){var d,f;d=a.left;f=a.top;
b=n(b,c[0]);a=n(a,c[1]);a=[a.left-b.left,a.top-b.top];return{left:d-a[0]+ +e[0],top:f-a[1]+ +e[1]}}function m(a,b,c){var d=[];e.each(a,function(a){d.push(a.replace(b,function(a){return c[a]}))});return d}function h(){}function q(a){var b,c;e.isWindow(a[0])?(b={left:d.scrollLeft(),top:d.scrollTop()},c=d.viewportWidth(),a=d.viewportHeight()):(b=a.offset(),c=a.outerWidth(),a=a.outerHeight());b.width=c;b.height=a;return b}function n(a,b){var c=b.charAt(0),e=b.charAt(1),d=a.width,f=a.height,g,h;g=a.left;
h=a.top;"c"===c?h+=f/2:"b"===c&&(h+=f);"c"===e?g+=d/2:"r"===e&&(g+=d);return{left:g,top:h}}var k=e.Env.host;h.__getOffsetParent=f;h.__getVisibleRectForElement=a;h.ATTRS={align:{value:{}}};h.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(d,f,g,h){var d=c.one(d||k),g=g&&[].concat(g)||[0,0],h=h||{},n=this.get("el"),o=0,j=a(n[0]),l=q(n),v=q(d),d=b(l,v,f,g),r=e.merge(l,d);if(j&&(h.adjustX||h.adjustY)){if(d.left<j.left||d.left+l.width>j.right)o=
1,f=m(f,/[lr]/ig,{l:"r",r:"l"}),g[0]=-g[0];if(d.top<j.top||d.top+l.height>j.bottom)o=1,f=m(f,/[tb]/ig,{t:"b",b:"t"}),g[1]=-g[1];o&&(d=b(l,v,f,g),e.mix(r,d));f={};f.adjustX=h.adjustX&&(d.left<j.left||d.left+l.width>j.right);f.adjustY=h.adjustY&&(d.top<j.top||d.top+l.height>j.bottom);if(f.adjustX||f.adjustY)h=e.clone(d),o={width:l.width,height:l.height},f.adjustX&&h.left<j.left&&(h.left=j.left),f.resizeWidth&&h.left>=j.left&&h.left+o.width>j.right&&(o.width-=h.left+o.width-j.right),f.adjustX&&h.left+
o.width>j.right&&(h.left=Math.max(j.right-o.width,j.left)),f.adjustY&&h.top<j.top&&(h.top=j.top),f.resizeHeight&&h.top>=j.top&&h.top+o.height>j.bottom&&(o.height-=h.top+o.height-j.bottom),f.adjustY&&h.top+o.height>j.bottom&&(h.top=Math.max(j.bottom-o.height,j.top)),r=e.mix(h,o)}r.left!=l.left&&this.set("x",r.left);r.top!=l.top&&this.set("y",r.top);r.width!=l.width&&n.width(n.width()+r.width-l.width);r.height!=l.height&&n.height(n.height()+r.height-l.height);return this},center:function(a){this.set("align",
{node:a,points:["cc","cc"],offset:[0,0]});return this}};return h},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(e,g,d,c,f){function a(a){var j;g.apply(this,arguments);(j=this.get("id"))&&c.addComponent(j,this);j=a;for(var l=this.constructor;l;){if(j&&j[i]&&l.HTML_PARSER&&(j[i]=d.one(j[i]))){var m=j,n=l.HTML_PARSER,k=void 0,s=void 0,p=m[i];for(k in n)n.hasOwnProperty(k)&&m[k]===f&&(s=n[k],e.isFunction(s)?this.__set(k,s.call(this,p)):e.isString(s)?this.__set(k,p.one(s)):e.isArray(s)&&s[0]&&this.__set(k,p.all(s[0])))}l=l.superclass&&l.superclass.constructor}b(this,"initializer",
"constructor");var x,l=this.get("plugins");j=this.get("listeners");h(l);q(this,l,"initializer");for(x in j)l=j[x],this.on(x,l.fn||l,l.scope);a&&a.autoRender&&this.render()}function b(a,b,c){for(var d=a.constructor,e=[],f,g,h,i;d;){i=[];if(h=d.__ks_exts)for(var m=0;m<h.length;m++)if(f=h[m])"constructor"!=c&&(f=f.prototype.hasOwnProperty(c)?f.prototype[c]:null),f&&i.push(f);d.prototype.hasOwnProperty(b)&&(g=d.prototype[b])&&i.push(g);i.length&&e.push.apply(e,i.reverse());d=d.superclass&&d.superclass.constructor}for(m=
e.length-1;0<=m;m--)e[m]&&e[m].call(a)}function m(a){var b=a.getAttrs(),c,d;for(c in b)b.hasOwnProperty(c)&&(d=k+t(c),a[d]&&function(b,c){a.on("after"+t(b)+"Change",function(b){if(b.target===a)a[c](b.newVal,b)})}(c,d))}function h(a){e.each(a,function(b,c){e.isFunction(b)&&(a[c]=new b)})}function q(a,b,c){e.each(b,function(b){if(b[c])b[c](a)})}function n(b,c,d,f){function g(){a.apply(this,arguments)}var h=e.makeArray(arguments);e.isObject(c)&&(f=d,d=c,c=[]);e.isString(h[h.length-1]);e.extend(g,b,d,
f);if(c){g.__ks_exts=c;var m={},h=c.concat(g);e.each(h,function(a){a&&e.each([p,w],function(b){if(a[b]){m[b]=m[b]||{};e.mix(m[b],a[b],{deep:true})}})});e.each(m,function(a,b){g[b]=a});var i={};e.each(h,function(a){if(a){var a=a.prototype,b;for(b in a)a.hasOwnProperty(b)&&(i[b]=a[b])}});e.each(i,function(a,b){g.prototype[b]=a})}return g}var k="_uiSet",i="srcNode",p="ATTRS",w="HTML_PARSER",t=e.ucfirst,u=e.noop;a.HTML_PARSER={};e.extend(a,g,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),
b(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"),q(this,this.get("plugins"),"createDom"));return this},render:function(){if(!this.get("rendered")){var a=this.get("plugins");this.create(f);this.fire("beforeRenderUI");b(this,"renderUI","__renderUI");this.fire("afterRenderUI");q(this,a,"renderUI");this.fire("beforeBindUI");m(this);b(this,"bindUI","__bindUI");this.fire("afterBindUI");q(this,a,"bindUI");this.fire("beforeSyncUI");var c,d,e=this.getAttrs(),g;for(g in e)e.hasOwnProperty(g)&&
(d=this[k+t(g)])&&!1!==e[g].sync&&(c=this.get(g))!==f&&d.call(this,c);b(this,"syncUI","__syncUI");this.fire("afterSyncUI");q(this,a,"syncUI");this.__set("rendered",!0)}return this},createDom:u,renderUI:u,bindUI:u,syncUI:u,destroy:function(){for(var a,b=this.constructor,d,e,f;b;){b.prototype.hasOwnProperty("destructor")&&b.prototype.destructor.apply(this);if(d=b.__ks_exts)for(f=d.length-1;0<=f;f--)(e=d[f]&&d[f].prototype.__destructor)&&e.apply(this);b=b.superclass&&b.superclass.constructor}this.fire("destroy");
this.detach();(a=this.get("id"))&&c.removeComponent(a);return this}},{ATTRS:{rendered:{value:!1},created:{value:!1},listeners:{value:{}},plugins:{value:[]},xclass:{valueFn:function(){return c.getXClassByConstructor(this.constructor)}}}});a.extend=function j(b,d,f){var g=e.makeArray(arguments),h=g[g.length-1];g.unshift(this);h.xclass&&(g.pop(),g.push(h.xclass));g=n.apply(a,g);h.xclass&&c.setConstructorByXClass(h.xclass,{constructor:g,priority:h.priority});g.extend=j;return g};return a},{requires:["base",
"node","../manager"]});
KISSY.add("component/uibase/box",function(e){function g(){}g.ATTRS={content:{view:1,sync:!1},width:{view:1,sync:!1},height:{sync:!1,view:1},elCls:{sync:!1,view:1},elStyle:{sync:!1,view:1},elAttrs:{sync:!1,view:1},elBefore:{sync:!1,view:1},el:{view:1},render:{view:1},visibleMode:{view:1},visible:{view:1},srcNode:{view:1}};g.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(e.one(d));return d}};g.prototype={_uiSetVisible:function(d){this.fire(d?"show":"hide")},show:function(){var d;
this.get("rendered")||(this.__set("visible",void 0),(d=this.get("view"))&&d.__set("visible",void 0),this.render());this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return g});
KISSY.add("component/uibase/boxrender",function(e){function g(){}function d(a,b,d,f,g,n,k){b=b||{};d&&(b.width="number"==typeof d?d+"px":d);f&&(b.height="number"==typeof f?f+"px":f);d=k||"";f="";"string"!=typeof k&&(d="");for(var i in b)b.hasOwnProperty(i)&&(f+=i+":"+b[i]+";");var b="",p;for(p in n)n.hasOwnProperty(p)&&(b+=" "+p+"='"+n[p]+"' ");a=c("<"+g+(f?" style='"+f+"' ":"")+b+(a?" class='"+a+"' ":"")+">"+d+"</"+g+">");k&&!e.isString(k)&&a.append(k);return a}var c=e.all,f=e.Env.host.document;
g.ATTRS={el:{setter:function(a){return c(a)}},elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},content:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{value:"display"},contentEl:{valueFn:function(){return this.get("el")}}};g.HTML_PARSER={content:function(a){var b=this.get("contentElCls");return(b?a.one("."+b):a).html()}};g.constructEl=d;g.prototype={__renderUI:function(){if(!this.get("srcNode")){var a=this.get("render"),b=
this.get("el"),c=this.get("elBefore");c?b.insertBefore(c,void 0):a?b.appendTo(a,void 0):b.appendTo(f.body,void 0)}},__createDom:function(){if(!this.get("srcNode")){var a=this.get("elCls"),b=this.get("elStyle"),c=this.get("width"),f=this.get("height"),e=this.get("content"),g=this.get("elAttrs"),k=this.get("contentEl");k&&(k.html(e),e="");a=d(a,b,c,f,this.get("elTagName"),g,e);k&&a.append(k);this.__set("el",a);k||this.__set("contentEl",a)}},__syncUI:function(){var a=this;a.get("srcNode")&&(a.get("el"),
a.get("content"),e.each(["elCls","elStyle","width","height","elAttrs"],function(b){var c;if(c=a.get(b))a["_uiSet"+e.ucfirst(b)](c)}))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:function(a){var b=this.get("contentEl");"string"==typeof a?b.html(a):a&&b.empty().append(a)},_uiSetVisible:function(a){var b=
this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return g},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function e(){}e.ATTRS={closable:{view:1},closeBtn:{view:1},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};e.prototype={_uiSetClosable:function(d){var c=this;d&&!c.__bindCloseEvent&&(c.__bindCloseEvent=1,c.get("closeBtn").on("click",function(d){c[g[c.get("closeAction")]||"hide"]();d.preventDefault()}))},__destructor:function(){var d=this.get("closeBtn");d&&d.detach()}};return e});
KISSY.add("component/uibase/closerender",function(e,g){function d(){}d.ATTRS={closable:{value:!0},closeBtn:{}};d.HTML_PARSER={closeBtn:function(c){return c.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(c){var d=this.get("closeBtn");c?(d||this.__set("closeBtn",d=new g("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),d.appendTo(this.get("el"),void 0)):d&&d.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(e,g,d){function c(){}function f(a){var b=null;if(!a)return b;var c=this.get("el");!0!==a?(a=d.one(a),b=a.offset(),e.mix(b,{maxLeft:b.left+a.outerWidth()-c.outerWidth(),maxTop:b.top+a.outerHeight()-c.outerHeight()})):(b={left:g.scrollLeft(),top:g.scrollTop()},e.mix(b,{maxLeft:b.left+g.viewportWidth()-c.outerWidth(),maxTop:b.top+g.viewportHeight()-c.outerHeight()}));return b}c.ATTRS={constrain:{value:!1}};c.prototype={__renderUI:function(){var a=this,
b=a.getAttrs(),c=b.x,b=b.y,d=c.setter,e=b.setter;c.setter=function(b){var c=d&&d.call(a,b);void 0===c&&(c=b);if(!a.get("constrain"))return c;b=f.call(a,a.get("constrain"));return Math.min(Math.max(c,b.left),b.maxLeft)};b.setter=function(b){var c=e&&e.call(a,b);void 0===c&&(c=b);if(!a.get("constrain"))return c;b=f.call(a,a.get("constrain"));return Math.min(Math.max(c,b.top),b.maxTop)};a.addAttr("x",c);a.addAttr("y",b)}};return c},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function e(){}e.ATTRS={contentEl:{view:1},contentElAttrs:{view:1},contentElStyle:{view:1},contentTagName:{view:1}};return e});
KISSY.add("component/uibase/contentboxrender",function(e,g,d,c){function f(){}f.ATTRS={contentEl:{},contentElAttrs:{},contentElStyle:{},contentTagName:{value:"div"}};var a=d.constructEl;f.prototype={__createDom:function(){var b,d=this.get("el");b=d[0].childNodes;b=b.length&&c.nodeListToFragment(b);b=a("ks-contentbox "+(this.get("contentElCls")||""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),b);d.append(b);this.__set("contentEl",b)},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},
_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)}};return f},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(e){function g(){}function d(c){this.set("xy",[c.left,c.top])}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(c){var d;c&&0<c.length&&(d=this.__drag)&&d.set("handlers",c)},__bindUI:function(){var c=e.require("dd")||{},f=c.Draggable,a=this,b=a.get("draggable"),g=a.get("el");if(b&&f){!0===b&&(b={});f=a.__drag=new f({node:g,move:b.proxy});if(b.proxy){b.proxy.moveOnEnd=!1;f.on("dragend",function(){var b=h.get("proxyNode").offset();
g.css("visibility","");a.set("x",b.left);a.set("y",b.top)});var h=a.__proxy=new c.Proxy(b.proxy);h.attachDrag(f)}else f.on("drag",d,a);b.scroll&&(a.__scroll=new c.Scroll(b.scroll)).attachDrag(f)}},_uiSetDraggable:function(c){var d=this.__drag;d&&d.set("disabled",!c)},__destructor:function(){var c=this.__proxy,d=this.__scroll,a=this.__drag;a&&a.destroy();d&&d.destroy();c&&c.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function e(){}e.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return e});
KISSY.add("component/uibase/loadingrender",function(e,g){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var c=this._loadingExtEl;c&&c.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function e(){}e.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}};e.prototype={__bindUI:function(){var e=this.get("view"),d=e._maskExtShow,c=e._maskExtHide;this.get("mask")&&(this.on("show",d,e),this.on("hide",c,e))}};return e},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(e,g,d){function c(a){a=m("<div  style='width:"+(b?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(b?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(b?"absolute":"fixed")+";' class='"+a+"'>"+(b?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function f(){}var a={},b=6===g.ie,m=d.all;f.ATTRS={maskShared:{value:!0}};f.prototype={_maskExtShow:function(){var b=this.get("prefixCls")+"ext-mask",d=a[b],e=this.get("maskShared"),f=this.get("maskNode");f||(e?d?f=d.node:(f=c(b),d=a[b]={num:0,node:f}):f=c(b),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);e&&d.num++;(!e||1==d.num)&&f.show()},_maskExtHide:function(){var b=this.get("prefixCls")+"ext-mask",b=
a[b],c=this.get("maskShared"),d=this.get("maskNode");c&&b?(b.num=Math.max(b.num-1,0),0==b.num&&d.hide()):d.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return f},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(e){function g(){}g.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(d){var c=e.makeArray(d);c.length&&(c[0]&&this.set("x",c[0]),c[1]&&this.set("y",c[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1}};g.prototype={move:function(d,c){e.isArray(d)&&(c=d[1],d=d[0]);this.set("xy",[d,c]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function e(){}e.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};e.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){this.get("el").offset({left:e})},_uiSetY:function(e){this.get("el").offset({top:e})}};return e});
KISSY.add("component/uibase/resize",function(e){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var d=this.resizer;d&&d.destroy()},_uiSetResize:function(d){var c=e.require("resizable");this.resizer&&this.resizer.destroy();c&&d&&(d.node=this.get("el"),this.resizer=new c(d))}};return g});
KISSY.add("component/uibase/shimrender",function(){function e(){}e.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return e});
KISSY.add("component/uibase/stdmod",function(){function e(){}e.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}};return e});
KISSY.add("component/uibase/stdmodrender",function(e,g){function d(){}function c(b,c){var d=b.get("contentEl"),f=b.get(c+"Style"),n=b.get(c+"Content"),k=e.isString(n),i=b.get(c);if(i)f&&i.css(f);else{i="";if(f)for(var p in f)f.hasOwnProperty(p)&&(i+=p+":"+f[p]+";");f=i;i=new g("<div class='"+a+c+"' "+(f?"style='"+f+"'":"")+" >"+(k?n:"")+"</div>");k||i.append(n);i.appendTo(d);b.__set(c,i)}}function f(a,c,d){c=a.get(c);e.isString(d)?c.html(d):c.html("").append(d)}var a="ks-stdmod-";d.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};d.HTML_PARSER={header:function(b){return b.one("."+a+"header")},body:function(b){return b.one("."+a+"body")},footer:function(b){return b.one("."+a+"footer")}};d.prototype={__createDom:function(){c(this,"header");c(this,"body");c(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){f(this,"body",a)},_uiSetHeaderContent:function(a){f(this,"header",a)},_uiSetFooterContent:function(a){f(this,"footer",a)}};return d},{requires:["node"]});
