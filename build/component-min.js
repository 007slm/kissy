/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 5 12:17
*/
KISSY.add("component/base",function(e,h,b){function a(){var f=e.makeArray(arguments),d=f[f.length-1];f.unshift(this);d.xclass&&(f.pop(),f.push(d.xclass));f=h.create.apply(h,f);d.xclass&&b.setUIConstructorByCssClass(d.xclass,{ui:f,priority:d.priority});f.extend=a;return f}return{UIStore:b,UIBase:h,define:function(){var f=e.makeArray(arguments),d;d=f.shift();return a.apply(d,f)}}},{requires:["./uibase","./uistore"]});
KISSY.add("component",function(e,h,b,a,f,d,g,n){e.mix(h,{Controller:b,Render:a,Container:f,DelegateChildren:d,DecorateChild:n,DecorateChildren:g});return h},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(e,h,b,a){return h.extend([b,a],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(e,h,b,a,f,d,g){function n(i){return function(l){var l=l.newVal,c=this.get("view");c&&c.set(i,l)}}function k(i){return function(l){var c=this.get("view");return l===g?c&&c.get(i):l}}function m(i,l,c){i.create();var g=i.getContentElement(),l=p(l,i);l.__set("parent",i);l.set("render",g);l.set("elBefore",c);i.get("rendered")?l.render():l.create();return l}function j(i,l){var c=i.relatedTarget;return c&&(c===l[0]||l.contains(c))}function p(i,l){i instanceof c||
(l&&!i.prefixCls&&(i.prefixCls=l.get("prefixCls")),i=new (f.getUIConstructorByCssClass(i.xclass))(i));return i}var c=b.define([a.Box],{getCssClassWithPrefix:f.getCssClassWithPrefix,initializer:function(){var i=this.__attrs||{},l;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];c.view&&(this.on("after"+e.ucfirst(l)+"Change",n(l)),c.getter=k(l))}},createDom:function(){var i;if(!(i=this.get("view"))){var l=this.constructor;i={};for(var a;l&&!a;)a=l.DefaultRender,l=l.superclass&&l.superclass.constructor;
if(a){var l=this.__attrs||{},d;for(d in l)if(l.hasOwnProperty(d)){var b;if(l[d].view&&(b=this.get(d))!==g)i[d]=b}i=new a(i)}else i=0}a=i;d=this.constructor;for(b=[];d&&d!=c;)(i=f.getCssClassByUIConstructor(d))&&b.push(i),d=d.superclass&&d.superclass.constructor;a.__componentClasses=b.join(" ");a.create();d=a.getKeyEventTarget();this.get("focusable")?d.attr("tabIndex",0):d.unselectable(g);this.__set("view",a)},renderUI:function(){var i,c;this.get("view").render();var d=this.get("children");for(i=0;i<
d.length;i++)c=d[i],c=m(this,c),d[i]=c,c.render()},bindUI:function(){var i,c,d=this.get("listeners");c=this.get("focusable");var a=this.get("handleMouseEvents"),g=this.getKeyEventTarget();if(c)g.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);a&&(g=this.get("el"),g.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",
this.handleDblClick,this));for(i in d)c=d[i],this.on(i,c.fn,c.scope)},_uiSetFocused:function(i){i&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var i=this.get("view");return i&&i.getContentElement()},getKeyEventTarget:function(){var i=this.get("view");return i&&i.getKeyEventTarget()},addChild:function(i,c){var d=this.get("children"),a;c===g&&(c=d.length);a=d[c]&&d[c].get("el")||null;i=m(this,i,a);d.splice(c,0,i)},removeChild:function(i,c){var d=this.get("children"),a=e.indexOf(i,
d);-1!=a&&d.splice(a,1);c&&i.destroy();return i},removeChildren:function(i){var c,d=[].concat(this.get("children"));for(c=0;c<d.length;c++)this.removeChild(d[c],i);this.__set("children",[])},getChildAt:function(i){return this.get("children")[i]||null},handleDblClick:function(i){if(this.get("disabled"))return!0;this.performActionInternal(i)},handleMouseOver:function(i){var c=this.get("el");if(this.get("disabled"))return!0;j(i,c)||this.handleMouseEnter(i)},handleMouseOut:function(c){var d=this.get("el");
if(this.get("disabled"))return!0;j(c,d)||this.handleMouseLeave(c)},handleMouseEnter:function(c){if(this.get("disabled"))return!0;this.set("highlighted",!!c)},handleMouseLeave:function(c){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!c)},handleMouseDown:function(c){var d=1==c.which;if(this.get("disabled"))return!0;d&&(d=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(d[0].focus(),this.set("focused",!0)):(d=(d=c.target.nodeName)&&
d.toLowerCase(),"input"!=d&&"textarea"!=d&&c.preventDefault()))},handleMouseUp:function(c){if(this.get("disabled"))return!0;this.get("active")&&1==c.which&&(this.performActionInternal(c),this.set("active",!1))},handleFocus:function(c){this.set("focused",!!c)},handleBlur:function(c){this.set("focused",!c)},handleKeyEventInternal:function(c){if(c.keyCode==h.KeyCodes.ENTER)return this.performActionInternal(c)},handleKeydown:function(c){if(this.get("disabled"))return!0;this.handleKeyEventInternal(c)&&
c.halt()},performActionInternal:function(){},destructor:function(){var c,d=this.get("children");for(c=0;c<d.length;c++)d[c].destroy();(c=this.get("view"))&&c.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}}},DefaultRender:d});b.create=p;return c},{requires:["event","./base","./uibase",
"./uistore","./render"]});KISSY.add("component/decorateChild",function(e,h){function b(){}e.augment(b,h,{decorateInternal:function(a){this.set("el",a);var f=this.get("decorateChildCls");if(a=a.one("."+this.getCssClassWithPrefix(f)))(f=this.findUIConstructorByNode(a))?this.decorateChildrenInternal(f,a):this.decorateChildren(a)}});return b},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(e,h){function b(){}e.augment(b,{decorateInternal:function(a){this.set("el",a);this.decorateChildren(a)},findUIConstructorByNode:function(a){var a=a.attr("class")||"",f=this.get("prefixCls"),a=a.replace(RegExp("\\b"+f,"ig"),"");return h.getUIConstructorByCssClass(a)},decorateChildrenInternal:function(a,f){this.addChild(new a({srcNode:f,prefixCls:this.get("prefixCls")}))},decorateChildren:function(a){var f=this;a.children().each(function(d){var a=f.findUIConstructorByNode(d);
f.decorateChildrenInternal(a,d)})}});return b},{requires:["./uistore"]});
KISSY.add("component/delegateChildren",function(e){function h(){}function b(a){var f=this.getOwnerControl(a.target);if(f)switch(a.type){case "mousedown":f.handleMouseDown(a);break;case "mouseup":f.handleMouseUp(a);break;case "mouseover":f.handleMouseOver(a);break;case "mouseout":f.handleMouseOut(a);break;case "dblclick":f.handleDblClick(a)}}e.augment(h,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",b,this)},getOwnerControl:function(a){for(var f=this.get("children"),
d=f.length,g=this.get("el")[0];a&&a!==g;){for(var b=0;b<d;b++)if(f[b].get("el")[0]===a)return f[b];a=a.parentNode}return null}});return h});
KISSY.add("component/render",function(e,h,b,a){return h.define([b.Box.Render],{getComponentCssClassWithState:function(a){var d=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(d.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:a.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(a){var d=
this.getComponentCssClassWithState("-hover");this.get("el")[a?"addClass":"removeClass"](d)},_uiSetDisabled:function(a){var d=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](d).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var d=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](d).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var d=this.get("el"),
g=this.getComponentCssClassWithState("-focused");d[a?"addClass":"removeClass"](g)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./uistore"]});
KISSY.add("component/uibase",function(e,h,b,a,f,d,g,n,k,m,j,p,c,i,l,s,t,u,v,o,r){d.Render=g;p.Render=c;i.Render=l;s.Render=t;o.Render=r;a.Render=f;k.Render=m;e.mix(h,{Align:b,Box:a,Close:d,Constrain:n,ContentBox:k,Drag:j,Loading:p,Mask:i,Position:s,Shim:{Render:u},Resize:v,StdMod:o});return h},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(e,h,b,a){function f(c){var d=c.ownerDocument.body,a=b.css(c,"position");if(!("fixed"==a||"absolute"==a))return"html"==c.nodeName.toLowerCase()?null:c.parentNode;for(c=c.parentNode;c&&c!=d;c=c.parentNode)if(a=b.css(c,"position"),"static"!=a)return c;return null}function d(c){var d,a,g={left:0,right:Infinity,top:0,bottom:Infinity},e;a=c.ownerDocument;d=a.body;for(a=a.documentElement;c=f(c);)if((!h.ie||0!=c.clientWidth)&&c!=d&&c!=a&&"visible"!=b.css(c,"overflow"))e=
b.offset(c),e.left+=c.clientLeft,e.top+=c.clientTop,g.top=Math.max(g.top,e.top),g.right=Math.min(g.right,e.left+c.clientWidth),g.bottom=Math.min(g.bottom,e.top+c.clientHeight),g.left=Math.max(g.left,e.left);c=b.scrollLeft();e=b.scrollTop();g.left=Math.max(g.left,c);g.top=Math.max(g.top,e);d=b.viewportWidth();a=b.viewportHeight();g.right=Math.min(g.right,c+d);g.bottom=Math.min(g.bottom,e+a);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function g(c,d,a,g){var f,b;f=c.left;b=c.top;
d=j(d,a[0]);c=j(c,a[1]);c=[c.left-d.left,c.top-d.top];return{left:f-c[0]+ +g[0],top:b-c[1]+ +g[1]}}function n(c,d,a){var g=[];e.each(c,function(c){g.push(c.replace(d,function(c){return a[c]}))});return g}function k(){}function m(c){var d,a;e.isWindow(c[0])?(d={left:b.scrollLeft(),top:b.scrollTop()},a=b.viewportWidth(),c=b.viewportHeight()):(d=c.offset(),a=c.outerWidth(),c=c.outerHeight());d.width=a;d.height=c;return d}function j(c,d){var a=d.charAt(0),g=d.charAt(1),f=c.width,b=c.height,e,h;e=c.left;
h=c.top;"c"===a?h+=b/2:"b"===a&&(h+=b);"c"===g?e+=f/2:"r"===g&&(e+=f);return{left:e,top:h}}var p=e.Env.host;k.__getOffsetParent=f;k.__getVisibleRectForElement=d;k.ATTRS={align:{}};k.prototype={_uiSetAlign:function(c){c&&this.align(c.node,c.points,c.offset,c.overflow)},align:function(c,i,f,b){var c=a.one(c||p),f=f&&[].concat(f)||[0,0],b=b||{},h=this.get("el"),k=0,j=d(h[0]),o=m(h),r=m(c),c=g(o,r,i,f),q=e.merge(o,c);if(j&&(b.adjustX||b.adjustY)){if(c.left<j.left||c.left+o.width>j.right)k=1,i=n(i,/[lr]/ig,
{l:"r",r:"l"}),f[0]=-f[0];if(c.top<j.top||c.top+o.height>j.bottom)k=1,i=n(i,/[tb]/ig,{t:"b",b:"t"}),f[1]=-f[1];k&&(c=g(o,r,i,f),e.mix(q,c));i={};i.adjustX=b.adjustX&&(c.left<j.left||c.left+o.width>j.right);i.adjustY=b.adjustY&&(c.top<j.top||c.top+o.height>j.bottom);if(i.adjustX||i.adjustY)b=e.clone(c),k={width:o.width,height:o.height},i.adjustX&&b.left<j.left&&(b.left=j.left),i.resizeWidth&&b.left>=j.left&&b.left+k.width>j.right&&(k.width-=b.left+k.width-j.right),i.adjustX&&b.left+k.width>j.right&&
(b.left=Math.max(j.right-k.width,j.left)),i.adjustY&&b.top<j.top&&(b.top=j.top),i.resizeHeight&&b.top>=j.top&&b.top+k.height>j.bottom&&(k.height-=b.top+k.height-j.bottom),i.adjustY&&b.top+k.height>j.bottom&&(b.top=Math.max(j.bottom-k.height,j.top)),q=e.mix(b,k)}q.left!=o.left&&this.set("x",q.left);q.top!=o.top&&this.set("y",q.top);q.width!=o.width&&h.width(h.width()+q.width-o.width);q.height!=o.height&&h.height(h.height()+q.height-o.height);return this},center:function(c){this.set("align",{node:c,
points:["cc","cc"],offset:[0,0]});return this}};return k},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(e,h,b,a){function f(a){h.apply(this,arguments);for(var c=a,g=this.constructor;g;){if(c&&c[k]&&g.HTML_PARSER&&(c[k]=b.one(c[k]))){var f=c[k],n=g.HTML_PARSER,j=void 0,m=void 0;for(j in n)n.hasOwnProperty(j)&&(m=n[j],e.isFunction(m)?this.__set(j,m.call(this,f)):e.isString(m)?this.__set(j,f.one(m)):e.isArray(m)&&m[0]&&this.__set(j,f.all(m[0])))}g=g.superclass&&g.superclass.constructor}d(this,"initializer","constructor");a&&a.autoRender&&this.render()}function d(d,
c,a){for(var g=d.constructor,b=[],f,e,h,k;g;){k=[];if(h=g.__ks_exts)for(var j=0;j<h.length;j++)if(f=h[j])"constructor"!=a&&(f=f.prototype.hasOwnProperty(a)?f.prototype[a]:null),f&&k.push(f);g.prototype.hasOwnProperty(c)&&(e=g.prototype[c])&&k.push(e);k.length&&b.push.apply(b,k.reverse());g=g.superclass&&g.superclass.constructor}for(j=b.length-1;0<=j;j--)b[j]&&b[j].call(d)}function g(d){var c=d.__attrs,a,g;for(a in c)c.hasOwnProperty(a)&&(g=n+m(a),d[g]&&function(c,a){d.on("after"+m(c)+"Change",function(c){d[a](c.newVal,
c)})}(a,g))}var n="_uiSet",k="srcNode",m=e.ucfirst,j=e.noop;f.HTML_PARSER={};f.ATTRS={rendered:{value:!1},created:{value:!1}};e.extend(f,h,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),d(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(a);this.fire("beforeRenderUI");d(this,"renderUI","__renderUI");this.fire("afterRenderUI");this.fire("beforeBindUI");g(this);d(this,"bindUI",
"__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var b,c,f=this.__attrs,e;for(e in f)f.hasOwnProperty(e)&&(c=this[n+m(e)])&&!1!==f[e].sync&&(b=this.get(e))!==a&&c.call(this,b);d(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:j,renderUI:j,bindUI:j,syncUI:j,destroy:function(){for(var a=this.constructor,c,d,g;a;){a.prototype.hasOwnProperty("destructor")&&a.prototype.destructor.apply(this);if(c=a.__ks_exts)for(g=c.length-1;0<=g;g--)(d=
c[g]&&c[g].prototype.__destructor)&&d.apply(this);a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(a,c,d,g){function b(){f.apply(this,arguments)}var k=e.makeArray(arguments);e.isArray(a)&&(g=d,d=c,c=a,a=f);a=a||f;e.isObject(c)&&(g=d,d=c,c=[]);e.isString(k[k.length-1]);e.extend(b,a,d,g);if(c){b.__ks_exts=c;var h={},k=c.concat(b);e.each(k,function(c){c&&e.each(["ATTRS","HTML_PARSER"],function(a){if(c[a]){h[a]=h[a]||{};e.mix(h[a],c[a],{deep:true})}})});
e.each(h,function(c,a){b[a]=c});var j={};e.each(k,function(c){if(c){var c=c.prototype,a;for(a in c)c.hasOwnProperty(a)&&(j[a]=c[a])}});e.each(j,function(c,a){b.prototype[a]=c})}return b}});return f},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(e){function h(){}h.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};h.HTML_PARSER={el:function(b){this.decorateInternal&&this.decorateInternal(e.one(b));return b}};h.prototype={_uiSetVisible:function(b){this.fire(b?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render());return this},hide:function(){this.set("visible",!1);return this}};return h});
KISSY.add("component/uibase/boxrender",function(e,h){function b(){}function a(a,d,b,f,e,h,c){d=d||{};c=c||"";"string"!==typeof c&&(c="");b&&(d.width="number"==typeof b?b+"px":b);f&&(d.height="number"==typeof f?f+"px":f);var b="",i;for(i in d)d.hasOwnProperty(i)&&(b+=i+":"+d[i]+";");var d="",l;for(l in h)h.hasOwnProperty(l)&&(d+=" "+l+"='"+h[l]+"' ");return"<"+e+(b?" style='"+b+"' ":"")+d+(a?" class='"+a+"' ":"")+">"+c+"</"+e+">"}var f=e.all,d=e.Env.host.document;b.ATTRS={el:{setter:function(a){return f(a)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};b.construct=a;b.HTML_PARSER={html:function(a){return a.html()}};b.prototype={__renderUI:function(){if(this.__boxRenderNew){var a=this.get("render"),b=this.get("el"),f=this.get("elBefore");f?b.insertBefore(f):a?b.appendTo(a):b.appendTo(d.body)}},__createDom:function(){var d=this.get("elCls"),b=this.get("elStyle"),f=this.get("width"),
e=this.get("height"),j=this.get("html"),p=this.get("elAttrs"),c=this.get("el");c?(d&&c.addClass(d),b&&c.css(b),void 0!==f&&c.width(f),void 0!==e&&c.height(e),p&&c.attr(p)):(this.__boxRenderNew=!0,c=new h(a(d,b,f,e,this.get("elTagName"),p,j)),this.__set("el",c))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},
_uiSetHtml:function(a){this.get("el").html(a)},_uiSetVisible:function(a){var d=this.get("el");"visibility"==this.get("visibleMode")?d.css("visibility",a?"visible":"hidden"):d.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return b},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function e(){}e.ATTRS={closable:{value:!0,view:!0},closeAction:{value:"hide"}};var h={hide:"hide",destroy:"destroy"};e.prototype={__bindUI:function(){var b=this,a=b.get("view").get("closeBtn");a&&a.on("click",function(a){b[h[b.get("closeAction")]||"hide"]();a.preventDefault()})}};return e});
KISSY.add("component/uibase/closerender",function(e,h){function b(){}b.ATTRS={closable:{},closeBtn:{}};b.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};b.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),b=this.get("closable"),d=this.get("el");if(a)a[b?"show":"hide"]();else a=(new h("<a tabindex='0' "+(b?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")).appendTo(d),
this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return b},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(e,h,b){function a(){}function f(a){var g=null;if(!a)return g;var f=this.get("el");!0!==a?(a=b.one(a),g=a.offset(),e.mix(g,{maxLeft:g.left+a.outerWidth()-f.outerWidth(),maxTop:g.top+a.outerHeight()-f.outerHeight()})):(g={left:h.scrollLeft(),top:h.scrollTop()},e.mix(g,{maxLeft:g.left+h.viewportWidth()-f.outerWidth(),maxTop:g.top+h.viewportHeight()-f.outerHeight()}));return g}a.ATTRS={constrain:{value:!1}};a.prototype={__renderUI:function(){var a=this,
b=a.getAttrs(),e=b.x,b=b.y,h=e.setter,m=b.setter;e.setter=function(b){var g=h&&h.call(a,b);void 0===g&&(g=b);if(!a.get("constrain"))return g;b=f.call(a,a.get("constrain"));return Math.min(Math.max(g,b.left),b.maxLeft)};b.setter=function(b){var g=m&&m.call(a,b);void 0===g&&(g=b);if(!a.get("constrain"))return g;b=f.call(a,a.get("constrain"));return Math.min(Math.max(g,b.top),b.maxTop)};a.addAttr("x",e);a.addAttr("y",b)}};return a},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function e(){}e.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return e});
KISSY.add("component/uibase/contentboxrender",function(e,h,b){function a(){}a.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};a.HTML_PARSER={content:function(a){return a[0].innerHTML}};var f=b.construct;a.prototype={__renderUI:function(){},__createDom:function(){var a,b=this.get("content"),n=this.get("el");a="";var k=e.makeArray(n[0].childNodes);k.length&&(a=n[0].innerHTML);b==a&&(b="");a=new h(f("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),b));a.appendTo(n);this.__set("contentEl",a);if(b)"string"!==typeof b&&a.append(b);else{b=0;for(n=k.length;b<n;b++)a.append(k[b])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return a},{requires:["node","./boxrender"]});
KISSY.add("component/uibase/drag",function(e){function h(){}function b(a){this.set("xy",[a.left,a.top])}h.ATTRS={handlers:{value:[]},draggable:{value:!0}};h.prototype={_uiSetHandlers:function(a){var b;a&&0<a.length&&(b=this.__drag)&&b.set("handlers",a)},__bindUI:function(){var a=e.require("dd")||{},f=a.Draggable,d=this,g=d.get("draggable"),h=d.get("el");if(g&&f){!0===g&&(g={});f=d.__drag=new f({node:h,move:g.proxy});if(g.proxy){g.proxy.moveOnEnd=!1;f.on("dragend",function(){var a=k.get("proxyNode").offset();
h.css("visibility","");d.set("x",a.left);d.set("y",a.top)});var k=d.__proxy=new a.Proxy(g.proxy);k.attachDrag(f)}else f.on("drag",b,d);g.scroll&&(d.__scroll=new a.Scroll(g.scroll)).attachDrag(f)}},_uiSetDraggable:function(a){var b=this.__drag;b&&b.set("disabled",!a)},__destructor:function(){var a=this.__proxy,b=this.__scroll,d=this.__drag;d&&d.destroy();b&&b.destroy();a&&a.destroy()}};return h});
KISSY.add("component/uibase/loading",function(){function e(){}e.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return e});
KISSY.add("component/uibase/loadingrender",function(e,h){function b(){}b.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new h("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return b},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function e(){}e.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};e.prototype={__bindUI:function(){var e=this.get("view"),b=e._maskExtShow,a=e._maskExtHide;this.get("mask")&&(this.on("show",b,e),this.on("hide",a,e))}};return e},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(e,h,b){function a(a){a=n("<div  style='width:"+(g?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(g?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(g?"absolute":"fixed")+";' class='"+a+"'>"+(g?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function f(){}var d={},g=6===h.ie,n=b.all;f.prototype={_maskExtShow:function(){var b=this.get("prefixCls")+"ext-mask",g=d[b],f=this.get("maskShared"),e=this.get("maskNode");e||(f?g?e=g.node:(e=a(b),g=d[b]={num:0,node:e}):e=a(b),this.__set("maskNode",e));e.css("z-index",this.get("zIndex")-1);f&&g.num++;(!f||1==g.num)&&e.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=d[a],b=this.get("maskShared"),g=
this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&g.hide()):g.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("mask")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return f},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(e){function h(){}h.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(b){var a=e.makeArray(b);a.length&&(a[0]&&this.set("x",a[0]),a[1]&&this.set("y",a[1]));return b},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};h.prototype={move:function(b,a){e.isArray(b)&&(a=b[1],b=b[0]);this.set("xy",[b,a]);return this}};return h});
KISSY.add("component/uibase/positionrender",function(){function e(){}e.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};e.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){this.get("el").offset({left:e})},_uiSetY:function(e){this.get("el").offset({top:e})}};return e});
KISSY.add("component/uibase/resize",function(e){function h(){}h.ATTRS={resize:{value:{}}};h.prototype={__destructor:function(){var b=this.resizer;b&&b.destroy()},_uiSetResize:function(b){var a=e.require("resizable");this.resizer&&this.resizer.destroy();a&&b&&(b.node=this.get("el"),this.resizer=new a(b))}};return h});
KISSY.add("component/uibase/shimrender",function(){function e(){}e.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return e});
KISSY.add("component/uibase/stdmod",function(){function e(){}e.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return e});
KISSY.add("component/uibase/stdmodrender",function(e,h){function b(){}function a(a,b){var f=a.get("contentEl"),m=a.get(b+"Style"),j=a.get(b+"Content"),p=e.isString(j),c=a.get(b);if(c)m&&c.css(m);else{c="";if(m)for(var i in m)m.hasOwnProperty(i)&&(c+=i+":"+m[i]+";");m=c;c=new h("<div class='"+d+b+"' "+(m?"style='"+m+"'":"")+" >"+(p?j:"")+"</div>");p||c.append(j);c.appendTo(f);a.__set(b,c)}}function f(a,b,d){b=a.get(b);e.isString(d)?b.html(d):b.html("").append(d)}var d="ks-stdmod-";b.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};b.HTML_PARSER={header:function(a){return a.one("."+d+"header")},body:function(a){return a.one("."+d+"body")},footer:function(a){return a.one("."+d+"footer")}};b.prototype={__createDom:function(){a(this,"header");a(this,"body");a(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){f(this,"body",a)},_uiSetHeaderContent:function(a){f(this,"header",a)},_uiSetFooterContent:function(a){f(this,"footer",a)}};return b},{requires:["node"]});
KISSY.add("component/uistore",function(e){function h(a){for(var a=e.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var b={},a={getCssClassWithPrefix:h,getCssClassByUIConstructor:function(a){for(var d in b)if(b[d].ui==a)return d;return 0},getUIConstructorByCssClass:function(a){for(var a=a.split(/\s+/),d=-1,e,h=null,k=0;k<a.length;k++){var m=b[a[k]];if(m&&(e=m.priority)>d)d=e,h=m.ui}return h},setUIConstructorByCssClass:function(a,d){b[a]=d}};a.getCssClassWithPrefix=
h;return a});
