/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Sep 5 17:56
*/
KISSY.add("component/base",function(d,f,c){return{Manager:c,UIBase:f,create:function(b,a){var e;if(b&&(e=b.xclass))a&&!b.prefixCls&&(b.prefixCls=a.get("prefixCls")),e=c.getConstructorByXClass(e),b=new e(b);return b}}},{requires:["./uibase","./manager"]});KISSY.add("component",function(d,f,c,b,a,e,h,p){d.mix(f,{Controller:c,Render:b,Container:a,DelegateChildren:e,DecorateChild:p,DecorateChildren:h});return f},{requires:"component/base,component/controller,component/render,component/container,component/delegate-children,component/decorate-children,component/decorate-child".split(",")});
KISSY.add("component/container",function(d,f,c,b){return f.extend([c,b],{})},{requires:["./controller","./delegate-children","./decorate-children"]});
KISSY.add("component/controller",function(d,f,c,b,a,e,h){function p(m){return function(g){this==g.target&&(g=g.newVal,this.get("view").set(m,g))}}function k(m){return function(g){var a=this.get("view");return g===h?a.get(m):g}}function q(m){var g,b,e,l={},c,f=m.get("xrender");g=m.getAttrs();for(e in g)if(g.hasOwnProperty(e)&&(b=g[e],b.view)){if((c=m.get(e))!==h)l[e]=c;m.on("after"+d.ucfirst(e)+"Change",p(e));b.getter=k(e)}delete l.autoRender;m=m.constructor;for(b=[];m&&m!=t;)(g=a.getXClassByConstructor(m))&&
b.push(g),m=m.superclass&&m.superclass.constructor;m=b.join(" ");l.ksComponentCss=m;return new f(l)}function i(m,a){var b=m.relatedTarget;return b&&(b===a[0]||a.contains(b))}function o(m,a){return m["__ks_wrap_"+a]=function(b){if(!m.get("disabled"))m[a](b)}}function l(a,b){return a["__ks_wrap_"+b]}var t=b.extend([b.Box],{isController:!0,getCssClassWithPrefix:a.getCssClassWithPrefix,initializer:function(){this.setInternal("view",q(this))},createDom:function(){var a;a=this.get("view");a.create(h);a=
a.getKeyEventTarget();this.get("allowTextSelection")||a.unselectable(h)},renderUI:function(){var a,b,e;this.get("view").render();b=this.get("children").concat();for(a=this.get("children").length=0;a<b.length;a++)e=this.addChild(b[a]),e.render()},_uiSetFocusable:function(a){var b,e=this.getKeyEventTarget();if(a)e.attr("tabIndex",0).attr("hideFocus",!0).on("focus",o(this,"handleFocus")).on("blur",o(this,"handleBlur")).on("keydown",o(this,"handleKeydown"));else e.removeAttr("tabIndex"),(b=l(this,"handleFocus"))&&
e.detach("focus",b),(b=l(this,"handleBlur"))&&e.detach("blur",b),(b=l(this,"handleKeydown"))&&e.detach("keydown",b)},_uiSetHandleMouseEvents:function(a){var b=this.get("el"),e;if(a)b.on("mouseenter",o(this,"handleMouseEnter")).on("mouseleave",o(this,"handleMouseLeave")).on("contextmenu",o(this,"handleContextMenu")).on("mousedown",o(this,"handleMouseDown")).on("mouseup",o(this,"handleMouseUp")).on("dblclick",o(this,"handleDblClick"));else e=l(this,"handleMouseEnter")&&b.detach("mouseenter",e),e=l(this,
"handleMouseLeave")&&b.detach("mouseleave",e),e=l(this,"handleContextMenu")&&b.detach("contextmenu",e),e=l(this,"handleMouseDown")&&b.detach("mousedown",e),e=l(this,"handleMouseUp")&&b.detach("mouseup",e),l(this,"handleDblClick")&&b.detach("dblclick",e)},_uiSetFocused:function(a){a&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){return this.get("view").getContentElement()},getKeyEventTarget:function(){return this.get("view").getKeyEventTarget()},addChild:function(a,b){var e=this.get("children"),
l;b===h&&(b=e.length);l=e[b]&&e[b].get("el")||null;var d=a;this.create();var j=this.getContentElement(),d=c.create(d,this);d.setInternal("parent",this);d.set("render",j);d.set("elBefore",l);d.create(h);a=d;e.splice(b,0,a);this.get("rendered")&&a.render();return a},removeChild:function(a,b){var e=this.get("children"),l=d.indexOf(a,e);-1!=l&&e.splice(l,1);b&&a.destroy&&a.destroy();return a},removeChildren:function(a){var b,e=[].concat(this.get("children"));for(b=0;b<e.length;b++)this.removeChild(e[b],
a)},getChildAt:function(a){return this.get("children")[a]||null},handleDblClick:function(a){this.performActionInternal(a)},handleMouseOver:function(a){var b=this.get("el");i(a,b)||this.handleMouseEnter(a)},handleMouseOut:function(a){var b=this.get("el");i(a,b)||this.handleMouseLeave(a)},handleMouseEnter:function(a){this.set("highlighted",!!a)},handleMouseLeave:function(a){this.set("active",!1);this.set("highlighted",!a)},handleMouseDown:function(a){var b;if(1==a.which&&(b=this.getKeyEventTarget(),
this.get("activeable")&&this.set("active",!0),this.get("focusable")&&(b[0].focus(),this.set("focused",!0)),!this.get("allowTextSelection")))b=(b=a.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&a.preventDefault()},handleMouseUp:function(a){this.get("active")&&1==a.which&&(this.performActionInternal(a),this.set("active",!1))},handleContextMenu:function(){},handleFocus:function(a){this.set("focused",!!a);this.fire("focus")},handleBlur:function(a){this.set("focused",!a);this.fire("blur")},
handleKeyEventInternal:function(a){if(a.keyCode==f.KeyCodes.ENTER)return this.performActionInternal(a)},handleKeydown:function(a){if(this.handleKeyEventInternal(a))return a.halt(),!0},performActionInternal:function(){},destructor:function(){var a,b=this.get("children");for(a=0;a<b.length;a++)b[a].destroy&&b[a].destroy();this.get("view").destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{value:!0,view:1},allowTextSelection:{value:!1},activeable:{value:!0},focused:{view:1},active:{view:1},
highlighted:{view:1},children:{value:[]},prefixCls:{value:"ks-",view:1},parent:{setter:function(a){this.addTarget(a)}},disabled:{view:1},xrender:{value:e}}},{xclass:"controller"});return t},{requires:["event","./base","./uibase","./manager","./render"]});
KISSY.add("component/decorate-child",function(d,f){function c(){}d.augment(c,f,{decorateInternal:function(b){this.set("el",b);var a=this.get("decorateChildCls");if(b=b.one("."+a))(a=this.findUIConstructorByNode(b,1))?this.decorateChildrenInternal(a,b):this.decorateChildren(b)}});return c},{requires:["./decorate-children"]});
KISSY.add("component/decorate-children",function(d,f){function c(){}d.augment(c,{decorateInternal:function(b){this.set("el",b);this.decorateChildren(b)},findUIConstructorByNode:function(b){var b=b.attr("class")||"",a=this.get("prefixCls"),b=b.replace(RegExp("\\b"+a,"ig"),"");return f.getConstructorByXClass(b)},decorateChildrenInternal:function(b,a){this.addChild(new b({srcNode:a,prefixCls:this.get("prefixCls")}))},decorateChildren:function(b){var a=this;b.children().each(function(b){var c=a.findUIConstructorByNode(b);
a.decorateChildrenInternal(c,b)})}});return c},{requires:["./manager"]});
KISSY.add("component/delegate-children",function(d){function f(){}function c(b){if(!this.get("disabled")){var a=this.getOwnerControl(b.target,b);if(a&&!a.get("disabled"))switch(b.type){case "mousedown":a.handleMouseDown(b);break;case "mouseup":a.handleMouseUp(b);break;case "mouseover":a.handleMouseOver(b);break;case "mouseout":a.handleMouseOut(b);break;case "contextmenu":a.handleContextMenu(b);break;case "dblclick":a.handleDblClick(b)}}}f.ATTRS={delegateChildren:{value:!0}};d.augment(f,{__bindUI:function(){if(this.get("delegateChildren"))this.get("el").on("mousedown mouseup mouseover mouseout dblclick contextmenu",
c,this)},getOwnerControl:function(b){for(var a=this.get("children"),e=a.length,c=this.get("el")[0];b&&b!==c;){for(var d=0;d<e;d++)if(a[d].get("el")[0]===b)return a[d];b=b.parentNode}return null}});return f});
KISSY.add("component/manager",function(d){function f(a){for(var a=d.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var c={},b={},a={__instances:b,addComponent:function(a,c){b[a]=c},removeComponent:function(a){delete b[a]},getComponent:function(a){return b[a]},getCssClassWithPrefix:f,getXClassByConstructor:function(a){for(var b in c)if(c[b].constructor==a)return b;return 0},getConstructorByXClass:function(a){for(var a=a.split(/\s+/),b=-1,d,f=null,
q=0;q<a.length;q++){var i=c[a[q]];if(i&&(d=i.priority)>b)b=d,f=i.constructor}return f},setConstructorByXClass:function(a,b){d.isFunction(b)?c[a]={constructor:b,priority:0}:(b.priority=b.priority||0,c[a]=b)}};a.getCssClassWithPrefix=f;return a});
KISSY.add("component/render",function(d,f,c,b){return c.extend([c.Box.Render],{getComponentCssClassWithState:function(a){var b=this.get("ksComponentCss"),a=a||"";return this.getCssClassWithPrefix(b.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:b.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},_uiSetHighlighted:function(a){var b=this.getComponentCssClassWithState("-hover");this.get("el")[a?
"addClass":"removeClass"](b)},_uiSetDisabled:function(a){var b=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this.get("el"),c=this.getComponentCssClassWithState("-focused");b[a?
"addClass":"removeClass"](c)},getContentElement:function(){return this.get("contentEl")||this.get("el")}},{ATTRS:{prefixCls:{value:"ks-"},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}},HTML_PARSER:{disabled:function(){var a=this.getComponentCssClassWithState("-disabled");return this.get("el").hasClass(a)}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(d,f,c,b,a,e,h,p,k,q,i,o,l,t,m,g,w,v,n,j){e.Render=h;i.Render=o;l.Render=t;m.Render=g;n.Render=j;b.Render=a;p.Render=k;d.mix(f,{Align:c,Box:b,Close:e,ContentBox:p,Drag:q,Loading:i,Mask:l,Position:m,Shim:{Render:w},Resize:v,StdMod:n});return f},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(d,f,c,b){function a(a){var b=a.ownerDocument.body,e=c.css(a,"position");if(!("fixed"==e||"absolute"==e))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(e=c.css(a,"position"),"static"!=e)return a;return null}function e(b){var e,d,g={left:0,right:Infinity,top:0,bottom:Infinity},h;d=b.ownerDocument;e=d.body;for(d=d.documentElement;b=a(b);)if((!f.ie||0!=b.clientWidth)&&b!=e&&b!=d&&"visible"!=c.css(b,"overflow"))h=
c.offset(b),h.left+=b.clientLeft,h.top+=b.clientTop,g.top=Math.max(g.top,h.top),g.right=Math.min(g.right,h.left+b.clientWidth),g.bottom=Math.min(g.bottom,h.top+b.clientHeight),g.left=Math.max(g.left,h.left);b=c.scrollLeft();h=c.scrollTop();g.left=Math.max(g.left,b);g.top=Math.max(g.top,h);e=c.viewportWidth();d=c.viewportHeight();g.right=Math.min(g.right,b+e);g.bottom=Math.min(g.bottom,h+d);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function h(a,b,e,d){var c,f;c=a.left;f=a.top;
b=i(b,e[0]);a=i(a,e[1]);a=[a.left-b.left,a.top-b.top];return{left:c-a[0]+ +d[0],top:f-a[1]+ +d[1]}}function p(a,b,e){var c=[];d.each(a,function(a){c.push(a.replace(b,function(a){return e[a]}))});return c}function k(){}function q(a){var b,e;d.isWindow(a[0])?(b={left:c.scrollLeft(),top:c.scrollTop()},e=c.viewportWidth(),a=c.viewportHeight()):(b=a.offset(),e=a.outerWidth(),a=a.outerHeight());b.width=e;b.height=a;return b}function i(a,b){var e=b.charAt(0),d=b.charAt(1),c=a.width,f=a.height,n,j;n=a.left;
j=a.top;"c"===e?j+=f/2:"b"===e&&(j+=f);"c"===d?n+=c/2:"r"===d&&(n+=c);return{left:n,top:j}}var o=d.Env.host;k.__getOffsetParent=a;k.__getVisibleRectForElement=e;k.ATTRS={align:{value:{}}};k.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(a,c,f,g){var a=b.one(a||o),f=f&&[].concat(f)||[0,0],g=g||{},k=this.get("el"),i=0,n=e(k[0]),j=q(k),z=q(a),a=h(j,z,c,f),r=d.merge(j,a);if(n&&(g.adjustX||g.adjustY)){if(a.left<n.left||a.left+j.width>n.right)i=
1,c=p(c,/[lr]/ig,{l:"r",r:"l"}),f[0]=-f[0];if(a.top<n.top||a.top+j.height>n.bottom)i=1,c=p(c,/[tb]/ig,{t:"b",b:"t"}),f[1]=-f[1];i&&(a=h(j,z,c,f),d.mix(r,a));c={};c.adjustX=g.adjustX&&(a.left<n.left||a.left+j.width>n.right);c.adjustY=g.adjustY&&(a.top<n.top||a.top+j.height>n.bottom);if(c.adjustX||c.adjustY)g=d.clone(a),i={width:j.width,height:j.height},c.adjustX&&g.left<n.left&&(g.left=n.left),c.resizeWidth&&g.left>=n.left&&g.left+i.width>n.right&&(i.width-=g.left+i.width-n.right),c.adjustX&&g.left+
i.width>n.right&&(g.left=Math.max(n.right-i.width,n.left)),c.adjustY&&g.top<n.top&&(g.top=n.top),c.resizeHeight&&g.top>=n.top&&g.top+i.height>n.bottom&&(i.height-=g.top+i.height-n.bottom),c.adjustY&&g.top+i.height>n.bottom&&(g.top=Math.max(n.bottom-i.height,n.top)),r=d.mix(g,i)}r.left!=j.left&&(this.setInternal("x",null),this.get("view").setInternal("x",null),this.set("x",r.left));r.top!=j.top&&(this.setInternal("y",null),this.get("view").setInternal("y",null),this.set("y",r.top));r.width!=j.width&&
k.width(k.width()+r.width-j.width);r.height!=j.height&&k.height(k.height()+r.height-j.height);return this},center:function(a){this.set("align",{node:a,points:["cc","cc"],offset:[0,0]});return this}};return k},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(d,f,c,b,a){function e(e){var j,k;f.apply(this,arguments);(j=this.get("id"))&&b.addComponent(j,this);j=e;var r=this.constructor,l,x,m;if(j&&(l=j[t])){m=h(this);j[t]=c.one(l);for(l=m.length-1;0<=l;l--)if(r=m[l],x=r[g]){var r=j,u=void 0,s=void 0,o=r[t];for(u in x)x.hasOwnProperty(u)&&r[u]===a&&(s=x[u],d.isFunction(s)?this.setInternal(u,s.call(this,o)):d.isString(s)?this.setInternal(u,o.one(s)):d.isArray(s)&&s[0]&&this.setInternal(u,o.all(s[0])))}}p(this,"initializer",
"constructor");e&&(k=e[t])&&this.decorateInternal&&this.decorateInternal(k);var y;j=this.get("plugins");k=this.get("listeners");q(j);i(this,j,"initializer");for(y in k)k.hasOwnProperty(y)&&(j=k[y],this.on(y,j.fn||j,j.scope));e&&e.autoRender&&this.render()}function h(a){for(var b=[],a=a.constructor;a;)b.push(a),a=a.superclass&&a.superclass.constructor;return b}function p(a,b,e){for(var c=a.constructor,d=[],f,h,g,k,i;c;){i=[];if(k=c.__ks_exts)for(g=0;g<k.length;g++)if(f=k[g])"constructor"!=e&&(f=f.prototype.hasOwnProperty(e)?
f.prototype[e]:null),f&&i.push(f);c.prototype.hasOwnProperty(b)&&(h=c.prototype[b])&&i.push(h);i.length&&d.push.apply(d,i.reverse());c=c.superclass&&c.superclass.constructor}for(g=d.length-1;0<=g;g--)d[g]&&d[g].call(a)}function k(a){var b=a.getAttrs(),c,e;for(c in b)b.hasOwnProperty(c)&&(e=l+w(c),a[e]&&function(b,c){a.on("after"+w(b)+"Change",function(b){if(b.target===a)a[c](b.newVal,b)})}(c,e))}function q(a){d.each(a,function(b,c){d.isFunction(b)&&(a[c]=new b)})}function i(a,b,c){d.each(b,function(b){if(b[c])b[c](a)})}
function o(a,b,c,f){function h(){e.apply(this,arguments)}var k=d.makeArray(arguments);d.isObject(b)&&(f=c,c=b,b=[]);d.isString(k[k.length-1]);d.extend(h,a,c,f);if(b){h.__ks_exts=b;var i={},l={},q={},k=b.concat(h);d.each(k,function(a){if(a){d.each(a[m],function(a,b){var c=i[b]=i[b]||{};d.mix(c,a)});d.each(a[g],function(a,b){l[b]=a});d.mix(q,a.prototype)}});h[m]=i;h[g]=l;d.augment(h,q)}return h}var l="_uiSet",t="srcNode",m="ATTRS",g="HTML_PARSER",w=d.ucfirst,v=d.noop;d.extend(e,f,{create:function(){this.get("created")||
(this.fire("beforeCreateDom"),p(this,"createDom","__createDom"),this.setInternal("created",!0),this.fire("afterCreateDom"),i(this,this.get("plugins"),"createDom"));return this},render:function(){var b;if(!this.get("rendered")){b=this.get("plugins");this.create(a);this.fire("beforeRenderUI");p(this,"renderUI","__renderUI");this.fire("afterRenderUI");i(this,b,"renderUI");this.fire("beforeBindUI");k(this);p(this,"bindUI","__bindUI");this.fire("afterBindUI");i(this,b,"bindUI");this.fire("beforeSyncUI");
var c,e,d,f,g,q={},o=h(this),s;for(d=o.length-1;0<=d;d--)if(f=o[d],s=f[m])for(g in s)s.hasOwnProperty(g)&&!q[g]&&(q[g]=1,f=l+w(g),(e=this[f])&&!1!==s[g].sync&&(c=this.get(g))!==a&&e.call(this,c));p(this,"syncUI","__syncUI");this.fire("afterSyncUI");i(this,b,"syncUI");this.setInternal("rendered",!0)}return this},createDom:v,renderUI:v,bindUI:v,syncUI:v,destroy:function(){var a,c=this.get("plugins");i(this,c,"destructor");for(var c=this.constructor,e,d,f;c;){c.prototype.hasOwnProperty("destructor")&&
c.prototype.destructor.apply(this);if(e=c.__ks_exts)for(f=e.length-1;0<=f;f--)(d=e[f]&&e[f].prototype.__destructor)&&d.apply(this);c=c.superclass&&c.superclass.constructor}this.fire("destroy");this.detach();(a=this.get("id"))&&b.removeComponent(a);return this}},{ATTRS:{rendered:{value:!1},created:{value:!1},listeners:{value:{}},plugins:{value:[]},xclass:{valueFn:function(){return b.getXClassByConstructor(this.constructor)}}}});d.mix(e,{HTML_PARSER:{},extend:function j(a,c,f){var g=d.makeArray(arguments),
h=g[g.length-1];g.unshift(this);h.xclass&&(g.pop(),g.push(h.xclass));g=o.apply(e,g);h.xclass&&b.setConstructorByXClass(h.xclass,{constructor:g,priority:h.priority});g.extend=j;return g}});return e},{requires:["base","node","../manager"]});
KISSY.add("component/uibase/box",function(){function d(){}d.ATTRS={content:{view:1},width:{view:1},height:{view:1},elCls:{view:1},elStyle:{view:1},elAttrs:{view:1},elBefore:{view:1},el:{view:1},render:{view:1},visibleMode:{view:1},visible:{value:!0,view:1},srcNode:{view:1}};d.prototype={__bindUI:function(){this.on("afterVisibleChange",function(d){this.fire(d.newVal?"show":"hide")})},show:function(){this.render();this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};
return d});
KISSY.add("component/uibase/boxrender",function(d){function f(){}var c=d.all,b=d.Env.host.document;f.ATTRS={el:{setter:function(a){return c(a)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},content:{},elBefore:{},render:{},visible:{value:!0},visibleMode:{value:"display"},contentEl:{valueFn:function(){return this.get("el")}}};f.HTML_PARSER={el:function(a){return a},content:function(a){return(this.get("contentEl")||a).html()}};f.prototype={__renderUI:function(){if(!this.get("srcNode")){var a=this.get("render"),
c=this.get("el"),d=this.get("elBefore");d?c.insertBefore(d,void 0):a?c.appendTo(a,void 0):c.appendTo(b.body,void 0)}},__createDom:function(){if(!this.get("srcNode")){var a,b=this.get("contentEl");a=c("<"+this.get("elTagName")+">");b&&a.append(b);this.setInternal("el",a);b||this.setInternal("contentEl",a)}},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},
_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:function(a){var b;if(!this.get("srcNode")||this.get("rendered"))b=this.get("contentEl"),"string"==typeof a?b.html(a):a&&b.empty().append(a)},_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return f},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function d(){}d.ATTRS={closable:{view:1},closeBtn:{view:1},closeAction:{value:"hide"}};var f={hide:"hide",destroy:"destroy"};d.prototype={_uiSetClosable:function(c){var b=this;c&&!b.__bindCloseEvent&&(b.__bindCloseEvent=1,b.get("closeBtn").on("click",function(a){b[f[b.get("closeAction")]||"hide"]();a.preventDefault()}))},__destructor:function(){var c=this.get("closeBtn");c&&c.detach()}};return d});
KISSY.add("component/uibase/closerender",function(d,f){function c(){}c.ATTRS={closable:{value:!0},closeBtn:{}};c.HTML_PARSER={closeBtn:function(b){return b.one(".ks-ext-close")}};c.prototype={_uiSetClosable:function(b){var a=this.get("closeBtn");b?(a||this.setInternal("closeBtn",a=new f("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),a.appendTo(this.get("el"),void 0)):a&&a.remove()}};return c},{requires:["node"]});
KISSY.add("component/uibase/contentbox",function(){function d(){}d.ATTRS={contentEl:{view:1}};return d});KISSY.add("component/uibase/contentboxrender",function(d,f,c,b){function a(){}a.ATTRS={contentEl:{}};a.prototype={__createDom:function(){var a,c=this.get("el");a=c[0].childNodes;a=a.length&&b.nodeListToFragment(a);a=f.all("<div class='ks-contentbox'></div>").append(a);c.append(a);this.setInternal("contentEl",a)}};return a},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(d){function f(){}f.ATTRS={draggable:{setter:function(c){if(!0===c)return{}},value:{}}};f.prototype={_uiSetDraggable:function(c){var b=this,a;a=d.require("dd");var e,f;e=b.__drag;var p=b.__constrain,k=b.get("el");if(c&&!e&&a&&(e=a.Draggable,e=b.__drag=new e({node:k,move:1}),c.proxy&&(c.proxy.moveOnEnd=!0,f=b.__proxy=new a.Proxy(c.proxy),f.attachDrag(e)),p=b.__constrain=(new a.Constrain).attachDrag(e),e.on("dragend",function(){var a;a=k.offset();b.set("x",
a.left);b.set("y",a.top);f&&k.css("visibility","visible")}),c.scroll))(b.__scroll=new a.Scroll(c.scroll)).attachDrag(e);e&&e.set("disabled",!c);c&&e&&(a=c.handlers,"constrain"in c&&p.set("constrain",c.constrain),a&&0<a.length&&e.set("handlers",a))},__destructor:function(){var c=this.__proxy,b=this.__scroll,a=this.__constrain,d=this.__drag;b&&b.destroy();c&&c.destroy();a&&a.destroy();d&&d.destroy()}};return f});
KISSY.add("component/uibase/loading",function(){function d(){}d.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return d});
KISSY.add("component/uibase/loadingrender",function(d,f){function c(){}c.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new f("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var b=this._loadingExtEl;b&&b.hide()}};return c},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function d(){}d.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}};d.prototype={__bindUI:function(){var d=this.get("view"),c=d._maskExtShow,b=d._maskExtHide;this.get("mask")&&(this.on("show",c,d),this.on("hide",b,d))}};return d},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(d,f,c){function b(a){a=p("<div  style='width:"+(h?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(h?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(h?"absolute":"fixed")+";' class='"+a+"'>"+(h?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function a(){}var e={},h=6===f.ie,p=c.all;a.ATTRS={maskShared:{value:!0}};a.prototype={_maskExtShow:function(){var a,c=this.get("prefixCls")+"ext-mask",d=e[c],f=this.get("maskShared"),h=this.get("maskNode");h||(f?d?h=d.node:(h=b(c),d=e[c]={num:0,node:h}):h=b(c),this.setInternal("maskNode",h));(a=this.get("zIndex"))&&h.css("z-index",a-1);f&&d.num++;(!f||1==d.num)&&h.show()},_maskExtHide:function(){var a=this.get("prefixCls")+
"ext-mask",a=e[a],b=this.get("maskShared"),c=this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&c.hide()):c.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return a},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(d){function f(){}f.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(c){var b=d.makeArray(c);b.length&&(b[0]&&this.set("x",b[0]),b[1]&&this.set("y",b[1]));return c},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1},visible:{value:!1}};f.prototype={move:function(c,b){d.isArray(c)&&(b=c[1],c=c[0]);this.set("xy",[c,b]);return this}};return f});
KISSY.add("component/uibase/positionrender",function(){function d(){}d.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{},visibleMode:{value:"visibility"}};d.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(d){this.get("el").css("z-index",d)},_uiSetX:function(d){null!=d&&this.get("el").offset({left:d})},_uiSetY:function(d){null!=d&&
this.get("el").offset({top:d})}};return d});KISSY.add("component/uibase/resize",function(d){function f(){}f.ATTRS={resize:{value:{}}};f.prototype={__destructor:function(){var c=this.resizer;c&&c.destroy()},_uiSetResize:function(c){var b=d.require("resizable");this.resizer&&this.resizer.destroy();b&&c&&(c.node=this.get("el"),this.resizer=new b(c))}};return f});
KISSY.add("component/uibase/shimrender",function(){function d(){}d.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return d});
KISSY.add("component/uibase/stdmod",function(){function d(){}d.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}};return d});
KISSY.add("component/uibase/stdmodrender",function(d,f){function c(){}function b(a,b){var c=a.get("contentEl"),d=a.get(b);d||(d=new f("<div class='"+e+b+"'  ></div>"),d.appendTo(c),a.setInternal(b,d))}function a(a,b,c){b=a.get(b);d.isString(c)?b.html(c):b.html("").append(c)}var e="ks-stdmod-";c.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};c.HTML_PARSER={header:function(a){return a.one("."+e+"header")},body:function(a){return a.one("."+
e+"body")},footer:function(a){return a.one("."+e+"footer")}};c.prototype={__createDom:function(){b(this,"header");b(this,"body");b(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(b){a(this,"body",b)},_uiSetHeaderContent:function(b){a(this,"header",b)},_uiSetFooterContent:function(b){a(this,"footer",b)}};return c},{requires:["node"]});
