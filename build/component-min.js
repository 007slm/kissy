/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 7 15:10
*/
KISSY.add("component/base",function(e,g,d){function a(){var f=e.makeArray(arguments),b=f[f.length-1];f.unshift(this);b.xclass&&(f.pop(),f.push(b.xclass));f=g.create.apply(g,f);b.xclass&&d.setUIConstructorByCssClass(b.xclass,{ui:f,priority:b.priority});f.extend=a;return f}return{UIStore:d,UIBase:g,define:function(){var f=e.makeArray(arguments),b;b=f.shift();return a.apply(b,f)}}},{requires:["./uibase","./uistore"]});
KISSY.add("component",function(e,g,d,a,f,b,h,n){e.mix(g,{Controller:d,Render:a,Container:f,DelegateChildren:b,DecorateChild:n,DecorateChildren:h});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(e,g,d,a){return g.extend([d,a],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(e,g,d,a,f,b,h){function n(i){return function(l){if(this==l.target){var l=l.newVal,c=this.get("view");c&&c.set(i,l)}}}function j(i){return function(l){var c=this.get("view");return l===h?c&&c.get(i):l}}function m(i,l,c){i.create();var h=i.getContentElement(),l=q(l,i);l.__set("parent",i);l.set("render",h);l.set("elBefore",c);i.get("rendered")?l.render():l.create();return l}function k(i,l){var c=i.relatedTarget;return c&&(c===l[0]||l.contains(c))}function q(i,
l){i instanceof c||(l&&!i.prefixCls&&(i.prefixCls=l.get("prefixCls")),i=new (f.getUIConstructorByCssClass(i.xclass))(i));return i}var c=d.define([a.Box],{getCssClassWithPrefix:f.getCssClassWithPrefix,initializer:function(){var i=this.getAttrs(),c;for(c in i)if(i.hasOwnProperty(c)){var h=i[c];h.view&&(this.on("after"+e.ucfirst(c)+"Change",n(c)),h.getter=j(c))}},createDom:function(){var i;if(!(i=this.get("view"))){var l={},a=this.get("xrender");if(a){i=this.getAttrs();for(var b in i)if(i.hasOwnProperty(b)){var d;
if(i[b].view&&(d=this.get(b))!==h)l[b]=d}i=new a(l)}else i=0}b=i;d=this.constructor;for(i=[];d&&d!=c;)(l=f.getCssClassByUIConstructor(d))&&i.push(l),d=d.superclass&&d.superclass.constructor;b.__componentClasses=i.join(" ");b.create();d=b.getKeyEventTarget();this.get("focusable")?d.attr("tabIndex",0):d.unselectable(h);this.__set("view",b)},renderUI:function(){var i,c;this.get("view").render();var b=this.get("children");for(i=0;i<b.length;i++)c=b[i],c=m(this,c),b[i]=c,c.render()},bindUI:function(){var i,
c,b=this.get("listeners");c=this.get("focusable");var h=this.get("handleMouseEvents"),a=this.getKeyEventTarget();if(c)a.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);h&&(a=this.get("el"),a.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,this));for(i in b)c=b[i],this.on(i,c.fn,c.scope)},_uiSetFocused:function(i){i&&
this.getKeyEventTarget()[0].focus()},getContentElement:function(){var i=this.get("view");return i&&i.getContentElement()},getKeyEventTarget:function(){var i=this.get("view");return i&&i.getKeyEventTarget()},addChild:function(i,c){var b=this.get("children"),a;c===h&&(c=b.length);a=b[c]&&b[c].get("el")||null;i=m(this,i,a);b.splice(c,0,i)},removeChild:function(i,c){var b=this.get("children"),a=e.indexOf(i,b);-1!=a&&b.splice(a,1);c&&i.destroy();return i},removeChildren:function(i){var c,b=[].concat(this.get("children"));
for(c=0;c<b.length;c++)this.removeChild(b[c],i);this.__set("children",[])},getChildAt:function(c){return this.get("children")[c]||null},handleDblClick:function(c){if(this.get("disabled"))return!0;this.performActionInternal(c)},handleMouseOver:function(c){var b=this.get("el");if(this.get("disabled"))return!0;k(c,b)||this.handleMouseEnter(c)},handleMouseOut:function(c){var b=this.get("el");if(this.get("disabled"))return!0;k(c,b)||this.handleMouseLeave(c)},handleMouseEnter:function(c){if(this.get("disabled"))return!0;
this.set("highlighted",!!c)},handleMouseLeave:function(c){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!c)},handleMouseDown:function(c){var b=1==c.which;if(this.get("disabled"))return!0;b&&(b=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(b[0].focus(),this.set("focused",!0)):(b=(b=c.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&c.preventDefault()))},handleMouseUp:function(c){if(this.get("disabled"))return!0;
this.get("active")&&1==c.which&&(this.performActionInternal(c),this.set("active",!1))},handleFocus:function(c){this.set("focused",!!c);this.fire("focus")},handleBlur:function(c){this.set("focused",!c);this.fire("blur")},handleKeyEventInternal:function(c){if(c.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(c)},handleKeydown:function(c){if(this.get("disabled"))return!0;this.handleKeyEventInternal(c)&&c.halt()},performActionInternal:function(){},destructor:function(){var c,b=this.get("children");
for(c=0;c<b.length;c++)b[c].destroy();(c=this.get("view"))&&c.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}},xrender:{value:b}}});d.create=q;return c},{requires:["event","./base","./uibase","./uistore","./render"]});
KISSY.add("component/decorateChild",function(e,g){function d(){}e.augment(d,g,{decorateInternal:function(a){this.set("el",a);var f=this.get("decorateChildCls");if(a=a.one("."+this.getCssClassWithPrefix(f)))(f=this.findUIConstructorByNode(a))?this.decorateChildrenInternal(f,a):this.decorateChildren(a)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(e,g){function d(){}e.augment(d,{decorateInternal:function(a){this.set("el",a);this.decorateChildren(a)},findUIConstructorByNode:function(a){var a=a.attr("class")||"",f=this.get("prefixCls"),a=a.replace(RegExp("\\b"+f,"ig"),"");return g.getUIConstructorByCssClass(a)},decorateChildrenInternal:function(a,f){this.addChild(new a({srcNode:f,prefixCls:this.get("prefixCls")}))},decorateChildren:function(a){var f=this;a.children().each(function(b){var a=f.findUIConstructorByNode(b);
f.decorateChildrenInternal(a,b)})}});return d},{requires:["./uistore"]});
KISSY.add("component/delegateChildren",function(e){function g(){}function d(a){var f=this.getOwnerControl(a.target);if(f)switch(a.type){case "mousedown":f.handleMouseDown(a);break;case "mouseup":f.handleMouseUp(a);break;case "mouseover":f.handleMouseOver(a);break;case "mouseout":f.handleMouseOut(a);break;case "dblclick":f.handleDblClick(a)}}e.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(a){for(var f=this.get("children"),
b=f.length,h=this.get("el")[0];a&&a!==h;){for(var d=0;d<b;d++)if(f[d].get("el")[0]===a)return f[d];a=a.parentNode}return null}});return g});
KISSY.add("component/render",function(e,g,d,a){return g.define([d.Box.Render],{getComponentCssClassWithState:function(a){var b=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(b.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:a.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(a){var b=
this.getComponentCssClassWithState("-hover");this.get("el")[a?"addClass":"removeClass"](b)},_uiSetDisabled:function(a){var b=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this.get("el"),
h=this.getComponentCssClassWithState("-focused");b[a?"addClass":"removeClass"](h)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./uistore"]});
KISSY.add("component/uibase",function(e,g,d,a,f,b,h,n,j,m,k,q,c,i,l,t,u,v,o,p,s){b.Render=h;q.Render=c;i.Render=l;t.Render=u;p.Render=s;a.Render=f;j.Render=m;e.mix(g,{Align:d,Box:a,Close:b,Constrain:n,ContentBox:j,Drag:k,Loading:q,Mask:i,Position:t,Shim:{Render:v},Resize:o,StdMod:p});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(e,g,d,a){function f(c){var b=c.ownerDocument.body,a=d.css(c,"position");if(!("fixed"==a||"absolute"==a))return"html"==c.nodeName.toLowerCase()?null:c.parentNode;for(c=c.parentNode;c&&c!=b;c=c.parentNode)if(a=d.css(c,"position"),"static"!=a)return c;return null}function b(c){var b,a,h={left:0,right:Infinity,top:0,bottom:Infinity},e;a=c.ownerDocument;b=a.body;for(a=a.documentElement;c=f(c);)if((!g.ie||0!=c.clientWidth)&&c!=b&&c!=a&&"visible"!=d.css(c,"overflow"))e=
d.offset(c),e.left+=c.clientLeft,e.top+=c.clientTop,h.top=Math.max(h.top,e.top),h.right=Math.min(h.right,e.left+c.clientWidth),h.bottom=Math.min(h.bottom,e.top+c.clientHeight),h.left=Math.max(h.left,e.left);c=d.scrollLeft();e=d.scrollTop();h.left=Math.max(h.left,c);h.top=Math.max(h.top,e);b=d.viewportWidth();a=d.viewportHeight();h.right=Math.min(h.right,c+b);h.bottom=Math.min(h.bottom,e+a);return 0<=h.top&&0<=h.left&&h.bottom>h.top&&h.right>h.left?h:null}function h(c,b,a,h){var d,f;d=c.left;f=c.top;
b=k(b,a[0]);c=k(c,a[1]);c=[c.left-b.left,c.top-b.top];return{left:d-c[0]+ +h[0],top:f-c[1]+ +h[1]}}function n(c,b,a){var h=[];e.each(c,function(c){h.push(c.replace(b,function(c){return a[c]}))});return h}function j(){}function m(c){var b,a;e.isWindow(c[0])?(b={left:d.scrollLeft(),top:d.scrollTop()},a=d.viewportWidth(),c=d.viewportHeight()):(b=c.offset(),a=c.outerWidth(),c=c.outerHeight());b.width=a;b.height=c;return b}function k(c,b){var a=b.charAt(0),h=b.charAt(1),d=c.width,f=c.height,e,g;e=c.left;
g=c.top;"c"===a?g+=f/2:"b"===a&&(g+=f);"c"===h?e+=d/2:"r"===h&&(e+=d);return{left:e,top:g}}var q=e.Env.host;j.__getOffsetParent=f;j.__getVisibleRectForElement=b;j.ATTRS={align:{}};j.prototype={_uiSetAlign:function(c){c&&this.align(c.node,c.points,c.offset,c.overflow)},align:function(c,d,f,g){var c=a.one(c||q),f=f&&[].concat(f)||[0,0],g=g||{},j=this.get("el"),k=0,o=b(j[0]),p=m(j),s=m(c),c=h(p,s,d,f),r=e.merge(p,c);if(o&&(g.adjustX||g.adjustY)){if(c.left<o.left||c.left+p.width>o.right)k=1,d=n(d,/[lr]/ig,
{l:"r",r:"l"}),f[0]=-f[0];if(c.top<o.top||c.top+p.height>o.bottom)k=1,d=n(d,/[tb]/ig,{t:"b",b:"t"}),f[1]=-f[1];k&&(c=h(p,s,d,f),e.mix(r,c));d={};d.adjustX=g.adjustX&&(c.left<o.left||c.left+p.width>o.right);d.adjustY=g.adjustY&&(c.top<o.top||c.top+p.height>o.bottom);if(d.adjustX||d.adjustY)g=e.clone(c),k={width:p.width,height:p.height},d.adjustX&&g.left<o.left&&(g.left=o.left),d.resizeWidth&&g.left>=o.left&&g.left+k.width>o.right&&(k.width-=g.left+k.width-o.right),d.adjustX&&g.left+k.width>o.right&&
(g.left=Math.max(o.right-k.width,o.left)),d.adjustY&&g.top<o.top&&(g.top=o.top),d.resizeHeight&&g.top>=o.top&&g.top+k.height>o.bottom&&(k.height-=g.top+k.height-o.bottom),d.adjustY&&g.top+k.height>o.bottom&&(g.top=Math.max(o.bottom-k.height,o.top)),r=e.mix(g,k)}r.left!=p.left&&this.set("x",r.left);r.top!=p.top&&this.set("y",r.top);r.width!=p.width&&j.width(j.width()+r.width-p.width);r.height!=p.height&&j.height(j.height()+r.height-p.height);return this},center:function(c){this.set("align",{node:c,
points:["cc","cc"],offset:[0,0]});return this}};return j},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(e,g,d,a){function f(a){g.apply(this,arguments);for(var c=a,h=this.constructor;h;){if(c&&c[j]&&h.HTML_PARSER&&(c[j]=d.one(c[j]))){var f=c[j],n=h.HTML_PARSER,k=void 0,m=void 0;for(k in n)n.hasOwnProperty(k)&&(m=n[k],e.isFunction(m)?this.__set(k,m.call(this,f)):e.isString(m)?this.__set(k,f.one(m)):e.isArray(m)&&m[0]&&this.__set(k,f.all(m[0])))}h=h.superclass&&h.superclass.constructor}b(this,"initializer","constructor");a&&a.autoRender&&this.render()}function b(b,
c,a){for(var h=b.constructor,d=[],f,e,g,j;h;){j=[];if(g=h.__ks_exts)for(var n=0;n<g.length;n++)if(f=g[n])"constructor"!=a&&(f=f.prototype.hasOwnProperty(a)?f.prototype[a]:null),f&&j.push(f);h.prototype.hasOwnProperty(c)&&(e=h.prototype[c])&&j.push(e);j.length&&d.push.apply(d,j.reverse());h=h.superclass&&h.superclass.constructor}for(n=d.length-1;0<=n;n--)d[n]&&d[n].call(b)}function h(b){var c=b.getAttrs(),a,h;for(a in c)c.hasOwnProperty(a)&&(h=n+m(a),b[h]&&function(c,a){b.on("after"+m(c)+"Change",
function(c){if(c.target===b)b[a](c.newVal,c)})}(a,h))}var n="_uiSet",j="srcNode",m=e.ucfirst,k=e.noop;f.HTML_PARSER={};f.ATTRS={rendered:{value:!1},created:{value:!1}};e.extend(f,g,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),b(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(a);this.fire("beforeRenderUI");b(this,"renderUI","__renderUI");this.fire("afterRenderUI");this.fire("beforeBindUI");
h(this);b(this,"bindUI","__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var d,c,f=this.getAttrs(),e;for(e in f)f.hasOwnProperty(e)&&(c=this[n+m(e)])&&!1!==f[e].sync&&(d=this.get(e))!==a&&c.call(this,d);b(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:k,renderUI:k,bindUI:k,syncUI:k,destroy:function(){for(var b=this.constructor,c,a,h;b;){b.prototype.hasOwnProperty("destructor")&&b.prototype.destructor.apply(this);if(c=b.__ks_exts)for(h=
c.length-1;0<=h;h--)(a=c[h]&&c[h].prototype.__destructor)&&a.apply(this);b=b.superclass&&b.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(b,c,a,h){function d(){f.apply(this,arguments)}var g=e.makeArray(arguments);e.isArray(b)&&(h=a,a=c,c=b,b=f);b=b||f;e.isObject(c)&&(h=a,a=c,c=[]);e.isString(g[g.length-1]);e.extend(d,b,a,h);if(c){d.__ks_exts=c;var j={},g=c.concat(d);e.each(g,function(c){c&&e.each(["ATTRS","HTML_PARSER"],function(b){if(c[b]){j[b]=j[b]||{};
e.mix(j[b],c[b],{deep:true})}})});e.each(j,function(c,b){d[b]=c});var n={};e.each(g,function(c){if(c){var c=c.prototype,b;for(b in c)c.hasOwnProperty(b)&&(n[b]=c[b])}});e.each(n,function(c,b){d.prototype[b]=c})}return d}});return f},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(e){function g(){}g.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};g.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(e.one(d));return d}};g.prototype={_uiSetVisible:function(d){this.fire(d?"show":"hide")},show:function(){var d;this.get("rendered")?this.set("visible",
!0):(this.__set("visible",!0),(d=this.get("view"))&&d.set("visible",!0),this.render());return this},hide:function(){this.set("visible",!1);return this}};return g});
KISSY.add("component/uibase/boxrender",function(e,g){function d(){}function a(b,a,d,f,e,g,c){a=a||{};c=c||"";"string"!==typeof c&&(c="");d&&(a.width="number"==typeof d?d+"px":d);f&&(a.height="number"==typeof f?f+"px":f);var d="",i;for(i in a)a.hasOwnProperty(i)&&(d+=i+":"+a[i]+";");var a="",l;for(l in g)g.hasOwnProperty(l)&&(a+=" "+l+"='"+g[l]+"' ");return"<"+e+(d?" style='"+d+"' ":"")+a+(b?" class='"+b+"' ":"")+">"+c+"</"+e+">"}var f=e.all,b=e.Env.host.document;d.ATTRS={el:{setter:function(b){return f(b)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};d.construct=a;d.HTML_PARSER={html:function(b){return b.html()}};d.prototype={__renderUI:function(){if(this.__boxRenderNew){var a=this.get("render"),d=this.get("el"),f=this.get("elBefore");f?d.insertBefore(f):a?d.appendTo(a):d.appendTo(b.body)}},__createDom:function(){var b=this.get("elCls"),d=this.get("elStyle"),f=this.get("width"),
e=this.get("height"),k=this.get("html"),q=this.get("elAttrs"),c=this.get("el");c?(b&&c.addClass(b),d&&c.css(d),void 0!==f&&c.width(f),void 0!==e&&c.height(e),q&&c.attr(q)):(this.__boxRenderNew=!0,c=new g(a(b,d,f,e,this.get("elTagName"),q,k)),this.__set("el",c))},_uiSetElAttrs:function(b){this.get("el").attr(b)},_uiSetElCls:function(b){this.get("el").addClass(b)},_uiSetElStyle:function(b){this.get("el").css(b)},_uiSetWidth:function(b){this.get("el").width(b)},_uiSetHeight:function(b){this.get("el").height(b)},
_uiSetHtml:function(b){this.get("el").html(b)},_uiSetVisible:function(b){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",b?"visible":"hidden"):a.css("display",b?"":"none")},__destructor:function(){var b=this.get("el");b&&b.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function e(){}e.ATTRS={closable:{value:!0,view:!0},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};e.prototype={__bindUI:function(){var d=this,a=d.get("view").get("closeBtn");a&&a.on("click",function(a){d[g[d.get("closeAction")]||"hide"]();a.preventDefault()})}};return e});
KISSY.add("component/uibase/closerender",function(e,g){function d(){}d.ATTRS={closable:{},closeBtn:{}};d.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),d=this.get("closable"),b=this.get("el");if(a)a[d?"show":"hide"]();else a=(new g("<a tabindex='0' "+(d?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")).appendTo(b),
this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(e,g,d){function a(){}function f(b){var a=null;if(!b)return a;var f=this.get("el");!0!==b?(b=d.one(b),a=b.offset(),e.mix(a,{maxLeft:a.left+b.outerWidth()-f.outerWidth(),maxTop:a.top+b.outerHeight()-f.outerHeight()})):(a={left:g.scrollLeft(),top:g.scrollTop()},e.mix(a,{maxLeft:a.left+g.viewportWidth()-f.outerWidth(),maxTop:a.top+g.viewportHeight()-f.outerHeight()}));return a}a.ATTRS={constrain:{value:!1}};a.prototype={__renderUI:function(){var b=this,
a=b.getAttrs(),d=a.x,a=a.y,e=d.setter,g=a.setter;d.setter=function(a){var d=e&&e.call(b,a);void 0===d&&(d=a);if(!b.get("constrain"))return d;a=f.call(b,b.get("constrain"));return Math.min(Math.max(d,a.left),a.maxLeft)};a.setter=function(a){var d=g&&g.call(b,a);void 0===d&&(d=a);if(!b.get("constrain"))return d;a=f.call(b,b.get("constrain"));return Math.min(Math.max(d,a.top),a.maxTop)};b.addAttr("x",d);b.addAttr("y",a)}};return a},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function e(){}e.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return e});
KISSY.add("component/uibase/contentboxrender",function(e,g,d){function a(){}a.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};a.HTML_PARSER={content:function(b){return b[0].innerHTML}};var f=d.construct;a.prototype={__renderUI:function(){},__createDom:function(){var b,a=this.get("content"),d=this.get("el");b="";var j=e.makeArray(d[0].childNodes);j.length&&(b=d[0].innerHTML);a==b&&(a="");b=new g(f("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),a));b.appendTo(d);this.__set("contentEl",b);if(a)"string"!==typeof a&&b.append(a);else{a=0;for(d=j.length;a<d;a++)b.append(j[a])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return a},{requires:["node","./boxrender"]});
KISSY.add("component/uibase/drag",function(e){function g(){}function d(a){this.set("xy",[a.left,a.top])}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(a){var d;a&&0<a.length&&(d=this.__drag)&&d.set("handlers",a)},__bindUI:function(){var a=e.require("dd")||{},f=a.Draggable,b=this,h=b.get("draggable"),g=b.get("el");if(h&&f){!0===h&&(h={});f=b.__drag=new f({node:g,move:h.proxy});if(h.proxy){h.proxy.moveOnEnd=!1;f.on("dragend",function(){var a=j.get("proxyNode").offset();
g.css("visibility","");b.set("x",a.left);b.set("y",a.top)});var j=b.__proxy=new a.Proxy(h.proxy);j.attachDrag(f)}else f.on("drag",d,b);h.scroll&&(b.__scroll=new a.Scroll(h.scroll)).attachDrag(f)}},_uiSetDraggable:function(a){var d=this.__drag;d&&d.set("disabled",!a)},__destructor:function(){var a=this.__proxy,d=this.__scroll,b=this.__drag;b&&b.destroy();d&&d.destroy();a&&a.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function e(){}e.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return e});
KISSY.add("component/uibase/loadingrender",function(e,g){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function e(){}e.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};e.prototype={__bindUI:function(){var e=this.get("view"),d=e._maskExtShow,a=e._maskExtHide;this.get("mask")&&(this.on("show",d,e),this.on("hide",a,e))}};return e},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(e,g,d){function a(a){a=n("<div  style='width:"+(h?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(h?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(h?"absolute":"fixed")+";' class='"+a+"'>"+(h?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function f(){}var b={},h=6===g.ie,n=d.all;f.prototype={_maskExtShow:function(){var d=this.get("prefixCls")+"ext-mask",f=b[d],e=this.get("maskShared"),h=this.get("maskNode");h||(e?f?h=f.node:(h=a(d),f=b[d]={num:0,node:h}):h=a(d),this.__set("maskNode",h));h.css("z-index",this.get("zIndex")-1);e&&f.num++;(!e||1==f.num)&&h.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=b[a],d=this.get("maskShared"),f=
this.get("maskNode");d&&a?(a.num=Math.max(a.num-1,0),0==a.num&&f.hide()):f.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("mask")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return f},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(e){function g(){}g.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(d){var a=e.makeArray(d);a.length&&(a[0]&&this.set("x",a[0]),a[1]&&this.set("y",a[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};g.prototype={move:function(d,a){e.isArray(d)&&(a=d[1],d=d[0]);this.set("xy",[d,a]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function e(){}e.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};e.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){this.get("el").offset({left:e})},_uiSetY:function(e){this.get("el").offset({top:e})}};return e});
KISSY.add("component/uibase/resize",function(e){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var d=this.resizer;d&&d.destroy()},_uiSetResize:function(d){var a=e.require("resizable");this.resizer&&this.resizer.destroy();a&&d&&(d.node=this.get("el"),this.resizer=new a(d))}};return g});
KISSY.add("component/uibase/shimrender",function(){function e(){}e.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return e});
KISSY.add("component/uibase/stdmod",function(){function e(){}e.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return e});
KISSY.add("component/uibase/stdmodrender",function(e,g){function d(){}function a(a,d){var f=a.get("contentEl"),m=a.get(d+"Style"),k=a.get(d+"Content"),q=e.isString(k),c=a.get(d);if(c)m&&c.css(m);else{c="";if(m)for(var i in m)m.hasOwnProperty(i)&&(c+=i+":"+m[i]+";");m=c;c=new g("<div class='"+b+d+"' "+(m?"style='"+m+"'":"")+" >"+(q?k:"")+"</div>");q||c.append(k);c.appendTo(f);a.__set(d,c)}}function f(a,b,d){b=a.get(b);e.isString(d)?b.html(d):b.html("").append(d)}var b="ks-stdmod-";d.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};d.HTML_PARSER={header:function(a){return a.one("."+b+"header")},body:function(a){return a.one("."+b+"body")},footer:function(a){return a.one("."+b+"footer")}};d.prototype={__createDom:function(){a(this,"header");a(this,"body");a(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){f(this,"body",a)},_uiSetHeaderContent:function(a){f(this,"header",a)},_uiSetFooterContent:function(a){f(this,"footer",a)}};return d},{requires:["node"]});
KISSY.add("component/uistore",function(e){function g(a){for(var a=e.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var d={},a={getCssClassWithPrefix:g,getCssClassByUIConstructor:function(a){for(var b in d)if(d[b].ui==a)return b;return 0},getUIConstructorByCssClass:function(a){for(var a=a.split(/\s+/),b=-1,e,g=null,j=0;j<a.length;j++){var m=d[a[j]];if(m&&(e=m.priority)>b)b=e,g=m.ui}return g},setUIConstructorByCssClass:function(a,b){d[a]=b}};a.getCssClassWithPrefix=
g;return a});
