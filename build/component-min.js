/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 13 13:47
*/
KISSY.add("component/base",function(f,g,e){function b(){var d=f.makeArray(arguments),i=d[d.length-1];d.unshift(this);i.xclass&&(d.pop(),d.push(i.xclass));d=g.create.apply(g,d);i.xclass&&e.setConstructorByXClass(i.xclass,{constructor:d,priority:i.priority});d.extend=b;return d}return{Manager:e,UIBase:g,define:function(){var d=f.makeArray(arguments),i;i=d.shift();return b.apply(i,d)}}},{requires:["./uibase","./manager"]});
KISSY.add("component",function(f,g,e,b,d,i,a,m){f.mix(g,{Controller:e,Render:b,Container:d,DelegateChildren:i,DecorateChild:m,DecorateChildren:a});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(f,g,e,b){return g.extend([e,b],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(f,g,e,b,d,i,a){function m(h){return function(o){if(this==o.target){var o=o.newVal,a=this.get("view");a&&a.set(h,o)}}}function j(h){return function(o){var c=this.get("view");return o===a?c&&c.get(h):o}}function n(h,c,d){h.create();var b=h.getContentElement(),c=p(c,h);c.__set("parent",h);c.set("render",b);c.set("elBefore",d);h.get("rendered")?c.render():c.create(a);return c}function k(h,c){var a=h.relatedTarget;return a&&(a===c[0]||c.contains(a))}function p(h,
c){var a;if(h&&(a=h.xclass))c&&!h.prefixCls&&(h.prefixCls=c.get("prefixCls")),a=d.getConstructorByXClass(a),h=new a(h);return h}var c=e.define([b.Box],{getCssClassWithPrefix:d.getCssClassWithPrefix,initializer:function(){var h,c,a,d=this.get("listeners"),b=this.getAttrs();for(h in b)b.hasOwnProperty(h)&&(a=b[h],a.view&&(this.on("after"+f.ucfirst(h)+"Change",m(h)),a.getter=j(h)));for(c in d)h=d[c],this.on(c,h.fn||h,h.scope)},createDom:function(){var h;if(!(h=this.get("view"))){var o={},b=this.get("xrender");
if(b){h=this.getAttrs();for(var i in h)if(h.hasOwnProperty(i)){var e;if(h[i].view&&(e=this.get(i))!==a)o[i]=e}h=new b(o)}else h=0}i=h;e=this.constructor;for(h=[];e&&e!=c;)(o=d.getXClassByConstructor(e))&&h.push(o),e=e.superclass&&e.superclass.constructor;i.__componentClasses=h.join(" ");i.create();e=i.getKeyEventTarget();this.get("focusable")?e.attr("tabIndex",0):e.unselectable(a);this.__set("view",i)},renderUI:function(){var h,c;this.get("view").render();var a=this.get("children");for(h=0;h<a.length;h++)c=
a[h],c=n(this,c),a[h]=c,c.render()},bindUI:function(){var h=this.get("focusable"),c=this.get("handleMouseEvents"),a=this.getKeyEventTarget();if(h)a.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);c&&(a=this.get("el"),a.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,this))},_uiSetFocused:function(h){h&&
this.getKeyEventTarget()[0].focus()},getContentElement:function(){var h=this.get("view");return h&&h.getContentElement()},getKeyEventTarget:function(){var h=this.get("view");return h&&h.getKeyEventTarget()},addChild:function(h,c){var d=this.get("children"),b;c===a&&(c=d.length);b=d[c]&&d[c].get("el")||null;h=n(this,h,b);d.splice(c,0,h)},removeChild:function(h,c){var a=this.get("children"),d=f.indexOf(h,a);-1!=d&&a.splice(d,1);c&&h.destroy();return h},removeChildren:function(h){var c,a=[].concat(this.get("children"));
for(c=0;c<a.length;c++)this.removeChild(a[c],h);this.__set("children",[])},getChildAt:function(h){return this.get("children")[h]||null},handleDblClick:function(h){if(this.get("disabled"))return!0;this.performActionInternal(h)},handleMouseOver:function(h){var c=this.get("el");if(this.get("disabled"))return!0;k(h,c)||this.handleMouseEnter(h)},handleMouseOut:function(h){var c=this.get("el");if(this.get("disabled"))return!0;k(h,c)||this.handleMouseLeave(h)},handleMouseEnter:function(c){if(this.get("disabled"))return!0;
this.set("highlighted",!!c)},handleMouseLeave:function(c){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!c)},handleMouseDown:function(c){var a=1==c.which;if(this.get("disabled"))return!0;a&&(a=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(a[0].focus(),this.set("focused",!0)):(a=(a=c.target.nodeName)&&a.toLowerCase(),"input"!=a&&"textarea"!=a&&c.preventDefault()))},handleMouseUp:function(c){if(this.get("disabled"))return!0;
this.get("active")&&1==c.which&&(this.performActionInternal(c),this.set("active",!1))},handleFocus:function(c){this.set("focused",!!c);this.fire("focus")},handleBlur:function(c){this.set("focused",!c);this.fire("blur")},handleKeyEventInternal:function(c){if(c.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(c)},handleKeydown:function(c){if(this.get("disabled"))return!0;this.handleKeyEventInternal(c)&&c.halt()},performActionInternal:function(){},destructor:function(){var c,a=this.get("children");
for(c=0;c<a.length;c++)a[c].destroy();(c=this.get("view"))&&c.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}},xrender:{value:i},xclass:{valueFn:function(){return d.getXClassByConstructor(this.constructor)}}}},{xclass:"controller"});e.create=p;return c},{requires:["event","./base","./uibase",
"./manager","./render"]});KISSY.add("component/decorateChild",function(f,g){function e(){}f.augment(e,g,{decorateInternal:function(b){this.set("el",b);var d=this.get("decorateChildCls");if(b=b.one("."+this.getCssClassWithPrefix(d)))(d=this.findUIConstructorByNode(b))?this.decorateChildrenInternal(d,b):this.decorateChildren(b)}});return e},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(f,g){function e(){}f.augment(e,{decorateInternal:function(b){this.set("el",b);this.decorateChildren(b)},findUIConstructorByNode:function(b){var b=b.attr("class")||"",d=this.get("prefixCls"),b=b.replace(RegExp("\\b"+d,"ig"),"");return g.getConstructorByXClass(b)},decorateChildrenInternal:function(b,d){this.addChild(new b({srcNode:d,prefixCls:this.get("prefixCls")}))},decorateChildren:function(b){var d=this;b.children().each(function(b){var a=d.findUIConstructorByNode(b);
d.decorateChildrenInternal(a,b)})}});return e},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(f){function g(){}function e(b){var d=this.getOwnerControl(b.target);if(d)switch(b.type){case "mousedown":d.handleMouseDown(b);break;case "mouseup":d.handleMouseUp(b);break;case "mouseover":d.handleMouseOver(b);break;case "mouseout":d.handleMouseOut(b);break;case "dblclick":d.handleDblClick(b)}}f.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",e,this)},getOwnerControl:function(b){for(var d=this.get("children"),
e=d.length,a=this.get("el")[0];b&&b!==a;){for(var f=0;f<e;f++)if(d[f].get("el")[0]===b)return d[f];b=b.parentNode}return null}});return g});
KISSY.add("component/manager",function(f){function g(d){for(var d=f.trim(d).split(/\s+/),b=0;b<d.length;b++)d[b]&&(d[b]=this.get("prefixCls")+d[b]);return d.join(" ")}var e={},b={getCssClassWithPrefix:g,getXClassByConstructor:function(d){for(var b in e)if(e[b].constructor==d)return b;return 0},getConstructorByXClass:function(d){for(var d=d.split(/\s+/),b=-1,a,f=null,g=0;g<d.length;g++){var n=e[d[g]];if(n&&(a=n.priority)>b)b=a,f=n.constructor}return f},setConstructorByXClass:function(d,b){f.isFunction(b)?
e[d]={constructor:b,priority:0}:(b.priority=b.priority||0,e[d]=b)}};b.getCssClassWithPrefix=g;return b});
KISSY.add("component/render",function(f,g,e,b){return g.define([e.Box.Render],{getComponentCssClassWithState:function(b){var e=this.__componentClasses,b=b||"";return this.getCssClassWithPrefix(e.split(/\s+/).join(b+" ")+b)},getCssClassWithPrefix:b.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(b){var e=
this.getComponentCssClassWithState("-hover");this.get("el")[b?"addClass":"removeClass"](e)},_uiSetDisabled:function(b){var e=this.getComponentCssClassWithState("-disabled");this.get("el")[b?"addClass":"removeClass"](e).attr("aria-disabled",b);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",b?-1:0)},_uiSetActive:function(b){var e=this.getComponentCssClassWithState("-active");this.get("el")[b?"addClass":"removeClass"](e).attr("aria-pressed",!!b)},_uiSetFocused:function(b){var e=this.get("el"),
a=this.getComponentCssClassWithState("-focused");e[b?"addClass":"removeClass"](a)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(f,g,e,b,d,i,a,m,j,n,k,p,c,h,o,u,v,r,l,q,t){i.Render=a;p.Render=c;h.Render=o;u.Render=v;q.Render=t;b.Render=d;j.Render=n;f.mix(g,{Align:e,Box:b,Close:i,Constrain:m,ContentBox:j,Drag:k,Loading:p,Mask:h,Position:u,Shim:{Render:r},Resize:l,StdMod:q});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(f,g,e,b){function d(c){var a=c.ownerDocument.body,b=e.css(c,"position");if(!("fixed"==b||"absolute"==b))return"html"==c.nodeName.toLowerCase()?null:c.parentNode;for(c=c.parentNode;c&&c!=a;c=c.parentNode)if(b=e.css(c,"position"),"static"!=b)return c;return null}function i(c){var a,b,f={left:0,right:Infinity,top:0,bottom:Infinity},i;b=c.ownerDocument;a=b.body;for(b=b.documentElement;c=d(c);)if((!g.ie||0!=c.clientWidth)&&c!=a&&c!=b&&"visible"!=e.css(c,"overflow"))i=
e.offset(c),i.left+=c.clientLeft,i.top+=c.clientTop,f.top=Math.max(f.top,i.top),f.right=Math.min(f.right,i.left+c.clientWidth),f.bottom=Math.min(f.bottom,i.top+c.clientHeight),f.left=Math.max(f.left,i.left);c=e.scrollLeft();i=e.scrollTop();f.left=Math.max(f.left,c);f.top=Math.max(f.top,i);a=e.viewportWidth();b=e.viewportHeight();f.right=Math.min(f.right,c+a);f.bottom=Math.min(f.bottom,i+b);return 0<=f.top&&0<=f.left&&f.bottom>f.top&&f.right>f.left?f:null}function a(c,a,b,d){var f,e;f=c.left;e=c.top;
a=k(a,b[0]);c=k(c,b[1]);c=[c.left-a.left,c.top-a.top];return{left:f-c[0]+ +d[0],top:e-c[1]+ +d[1]}}function m(c,a,b){var d=[];f.each(c,function(c){d.push(c.replace(a,function(c){return b[c]}))});return d}function j(){}function n(c){var a,b;f.isWindow(c[0])?(a={left:e.scrollLeft(),top:e.scrollTop()},b=e.viewportWidth(),c=e.viewportHeight()):(a=c.offset(),b=c.outerWidth(),c=c.outerHeight());a.width=b;a.height=c;return a}function k(c,a){var b=a.charAt(0),d=a.charAt(1),f=c.width,e=c.height,i,g;i=c.left;
g=c.top;"c"===b?g+=e/2:"b"===b&&(g+=e);"c"===d?i+=f/2:"r"===d&&(i+=f);return{left:i,top:g}}var p=f.Env.host;j.__getOffsetParent=d;j.__getVisibleRectForElement=i;j.ATTRS={align:{}};j.prototype={_uiSetAlign:function(c){c&&c.points&&this.align(c.node,c.points,c.offset,c.overflow)},align:function(c,d,e,g){var c=b.one(c||p),e=e&&[].concat(e)||[0,0],g=g||{},j=this.get("el"),k=0,l=i(j[0]),q=n(j),t=n(c),c=a(q,t,d,e),s=f.merge(q,c);if(l&&(g.adjustX||g.adjustY)){if(c.left<l.left||c.left+q.width>l.right)k=1,
d=m(d,/[lr]/ig,{l:"r",r:"l"}),e[0]=-e[0];if(c.top<l.top||c.top+q.height>l.bottom)k=1,d=m(d,/[tb]/ig,{t:"b",b:"t"}),e[1]=-e[1];k&&(c=a(q,t,d,e),f.mix(s,c));d={};d.adjustX=g.adjustX&&(c.left<l.left||c.left+q.width>l.right);d.adjustY=g.adjustY&&(c.top<l.top||c.top+q.height>l.bottom);if(d.adjustX||d.adjustY)g=f.clone(c),k={width:q.width,height:q.height},d.adjustX&&g.left<l.left&&(g.left=l.left),d.resizeWidth&&g.left>=l.left&&g.left+k.width>l.right&&(k.width-=g.left+k.width-l.right),d.adjustX&&g.left+
k.width>l.right&&(g.left=Math.max(l.right-k.width,l.left)),d.adjustY&&g.top<l.top&&(g.top=l.top),d.resizeHeight&&g.top>=l.top&&g.top+k.height>l.bottom&&(k.height-=g.top+k.height-l.bottom),d.adjustY&&g.top+k.height>l.bottom&&(g.top=Math.max(l.bottom-k.height,l.top)),s=f.mix(g,k)}s.left!=q.left&&this.set("x",s.left);s.top!=q.top&&this.set("y",s.top);s.width!=q.width&&j.width(j.width()+s.width-q.width);s.height!=q.height&&j.height(j.height()+s.height-q.height);return this},center:function(c){this.set("align",
{node:c,points:["cc","cc"],offset:[0,0]});return this}};return j},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(f,g,e,b){function d(a){g.apply(this,arguments);for(var c=a,d=this.constructor;d;){if(c&&c[j]&&d.HTML_PARSER&&(c[j]=e.one(c[j]))){var m=c,k=d.HTML_PARSER,n=void 0,r=void 0,l=m[j];for(n in k)k.hasOwnProperty(n)&&m[n]===b&&(r=k[n],f.isFunction(r)?this.__set(n,r.call(this,l)):f.isString(r)?this.__set(n,l.one(r)):f.isArray(r)&&r[0]&&this.__set(n,l.all(r[0])))}d=d.superclass&&d.superclass.constructor}i(this,"initializer","constructor");a&&a.autoRender&&this.render()}
function i(a,c,b){for(var d=a.constructor,e=[],f,g,i,m;d;){m=[];if(i=d.__ks_exts)for(var j=0;j<i.length;j++)if(f=i[j])"constructor"!=b&&(f=f.prototype.hasOwnProperty(b)?f.prototype[b]:null),f&&m.push(f);d.prototype.hasOwnProperty(c)&&(g=d.prototype[c])&&m.push(g);m.length&&e.push.apply(e,m.reverse());d=d.superclass&&d.superclass.constructor}for(j=e.length-1;0<=j;j--)e[j]&&e[j].call(a)}function a(a){var c=a.getAttrs(),b,d;for(b in c)c.hasOwnProperty(b)&&(d=m+n(b),a[d]&&function(c,b){a.on("after"+n(c)+
"Change",function(c){if(c.target===a)a[b](c.newVal,c)})}(b,d))}var m="_uiSet",j="srcNode",n=f.ucfirst,k=f.noop;d.HTML_PARSER={};d.ATTRS={rendered:{value:!1},created:{value:!1}};f.extend(d,g,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),i(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"));return this},render:function(){if(!this.get("rendered")){this.create(b);this.fire("beforeRenderUI");i(this,"renderUI","__renderUI");this.fire("afterRenderUI");
this.fire("beforeBindUI");a(this);i(this,"bindUI","__bindUI");this.fire("afterBindUI");this.fire("beforeSyncUI");var d,c,e=this.getAttrs(),f;for(f in e)e.hasOwnProperty(f)&&(c=this[m+n(f)])&&!1!==e[f].sync&&(d=this.get(f))!==b&&c.call(this,d);i(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.__set("rendered",!0)}return this},createDom:k,renderUI:k,bindUI:k,syncUI:k,destroy:function(){for(var a=this.constructor,c,b,d;a;){a.prototype.hasOwnProperty("destructor")&&a.prototype.destructor.apply(this);
if(c=a.__ks_exts)for(d=c.length-1;0<=d;d--)(b=c[d]&&c[d].prototype.__destructor)&&b.apply(this);a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(a,c,b,e){function g(){d.apply(this,arguments)}var i=f.makeArray(arguments);f.isArray(a)&&(e=b,b=c,c=a,a=d);a=a||d;f.isObject(c)&&(e=b,b=c,c=[]);f.isString(i[i.length-1]);f.extend(g,a,b,e);if(c){g.__ks_exts=c;var j={},i=c.concat(g);f.each(i,function(a){a&&f.each(["ATTRS","HTML_PARSER"],function(c){if(a[c]){j[c]=
j[c]||{};f.mix(j[c],a[c],{deep:true})}})});f.each(j,function(a,c){g[c]=a});var m={};f.each(i,function(a){if(a){var a=a.prototype,c;for(c in a)a.hasOwnProperty(c)&&(m[c]=a[c])}});f.each(m,function(a,c){g.prototype[c]=a})}return g}});return d},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(f){function g(){}g.ATTRS={content:{view:!0,sync:!1},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};g.HTML_PARSER={el:function(e){this.decorateInternal&&this.decorateInternal(f.one(e));return e}};g.prototype={_uiSetVisible:function(e){this.fire(e?"show":"hide")},show:function(){var e;this.get("rendered")||
(this.__set("visible",void 0),(e=this.get("view"))&&e.__set("visible",void 0),this.render());this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return g});
KISSY.add("component/uibase/boxrender",function(f){function g(){}function e(a,b,e,g,i,p,c){b=b||{};e&&(b.width="number"==typeof e?e+"px":e);g&&(b.height="number"==typeof g?g+"px":g);e=c||"";g="";"string"!=typeof c&&(e="");for(var h in b)b.hasOwnProperty(h)&&(g+=h+":"+b[h]+";");var b="",o;for(o in p)p.hasOwnProperty(o)&&(b+=" "+o+"='"+p[o]+"' ");a=d("<"+i+(g?" style='"+g+"' ":"")+b+(a?" class='"+a+"' ":"")+">"+e+"</"+i+">");c&&!f.isString(c)&&a.append(c);return a}function b(a){var b=this.get("el");
"string"==typeof a?b.html(a):a&&b.empty().append(a)}var d=f.all,i=f.Env.host.document;g.ATTRS={el:{setter:function(a){return d(a)}},elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},content:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};g.construct=e;g.HTML_PARSER={content:function(a){return a.html()}};g.prototype={__renderUI:function(){if(!this.get("srcNode")){var a=this.get("render"),b=this.get("el"),d=this.get("elBefore");
d?b.insertBefore(d):a?b.appendTo(a):b.appendTo(i.body)}},__createDom:function(){var a=this.get("elCls"),d=this.get("elStyle"),f=this.get("width"),g=this.get("height"),i=this.get("content"),p=this.get("elAttrs"),c=this.get("el");c?(a&&c.addClass(a),d&&c.css(d),void 0!==f&&c.width(f),void 0!==g&&c.height(g),i!==c.html()&&b.call(this,i),p&&c.attr(p)):(c=e(a,d,f,g,this.get("elTagName"),p,i),this.__set("el",c))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},
_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:b,_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return g},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function f(){}f.ATTRS={closable:{value:!0,view:!0},closeBtn:{view:!0},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};f.prototype={_uiSetClosable:function(e){var b=this;e&&!b.__bindCloseEvent&&(b.__bindCloseEvent=1,b.get("closeBtn").on("click",function(d){b[g[b.get("closeAction")]||"hide"]();d.preventDefault()}))},__destructor:function(){var e=this.get("closeBtn");e&&e.detach()}};return f});
KISSY.add("component/uibase/closerender",function(f,g){function e(){}e.ATTRS={closable:{},closeBtn:{}};e.HTML_PARSER={closeBtn:function(b){return b.one(".ks-ext-close")}};e.prototype={_uiSetClosable:function(b){var d=this.get("closeBtn");b?(d||this.__set("closeBtn",d=new g("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),d.appendTo(this.get("el"),void 0)):d&&d.remove()}};return e},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(f,g,e){function b(){}function d(b){var a=null;if(!b)return a;var d=this.get("el");!0!==b?(b=e.one(b),a=b.offset(),f.mix(a,{maxLeft:a.left+b.outerWidth()-d.outerWidth(),maxTop:a.top+b.outerHeight()-d.outerHeight()})):(a={left:g.scrollLeft(),top:g.scrollTop()},f.mix(a,{maxLeft:a.left+g.viewportWidth()-d.outerWidth(),maxTop:a.top+g.viewportHeight()-d.outerHeight()}));return a}b.ATTRS={constrain:{value:!1}};b.prototype={__renderUI:function(){var b=this,
a=b.getAttrs(),e=a.x,a=a.y,f=e.setter,g=a.setter;e.setter=function(a){var e=f&&f.call(b,a);void 0===e&&(e=a);if(!b.get("constrain"))return e;a=d.call(b,b.get("constrain"));return Math.min(Math.max(e,a.left),a.maxLeft)};a.setter=function(a){var e=g&&g.call(b,a);void 0===e&&(e=a);if(!b.get("constrain"))return e;a=d.call(b,b.get("constrain"));return Math.min(Math.max(e,a.top),a.maxTop)};b.addAttr("x",e);b.addAttr("y",a)}};return b},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function f(){}f.ATTRS={contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return f});
KISSY.add("component/uibase/contentboxrender",function(f,g,e,b){function d(){}d.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"}};var i=e.construct;d.prototype={__renderUI:function(){},__createDom:function(){var a,d=this.get("el");a=d[0].childNodes;a=a.length&&b.nodeListToFragment(a);a=i("ks-contentbox "+(this.get("contentElCls")||""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),a);d.append(a);this.__set("contentEl",
a)},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){var b=this.get("contentEl");"string"==typeof a?b.html(a):a&&b.empty().append(a)}};return d},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(f){function g(){}function e(b){this.set("xy",[b.left,b.top])}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(b){var d;b&&0<b.length&&(d=this.__drag)&&d.set("handlers",b)},__bindUI:function(){var b=f.require("dd")||{},d=b.Draggable,g=this,a=g.get("draggable"),m=g.get("el");if(a&&d){!0===a&&(a={});d=g.__drag=new d({node:m,move:a.proxy});if(a.proxy){a.proxy.moveOnEnd=!1;d.on("dragend",function(){var a=j.get("proxyNode").offset();
m.css("visibility","");g.set("x",a.left);g.set("y",a.top)});var j=g.__proxy=new b.Proxy(a.proxy);j.attachDrag(d)}else d.on("drag",e,g);a.scroll&&(g.__scroll=new b.Scroll(a.scroll)).attachDrag(d)}},_uiSetDraggable:function(b){var d=this.__drag;d&&d.set("disabled",!b)},__destructor:function(){var b=this.__proxy,d=this.__scroll,e=this.__drag;e&&e.destroy();d&&d.destroy();b&&b.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return f});
KISSY.add("component/uibase/loadingrender",function(f,g){function e(){}e.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var b=this._loadingExtEl;b&&b.hide()}};return e},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};f.prototype={__bindUI:function(){var f=this.get("view"),e=f._maskExtShow,b=f._maskExtHide;this.get("mask")&&(this.on("show",e,f),this.on("hide",b,f))}};return f},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(f,g,e){function b(b){b=m("<div  style='width:"+(a?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(a?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(a?"absolute":"fixed")+";' class='"+b+"'>"+(a?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
b.unselectable();b.on("mousedown",function(a){a.preventDefault()});return b}function d(){}var i={},a=6===g.ie,m=e.all;d.prototype={_maskExtShow:function(){var a=this.get("prefixCls")+"ext-mask",d=i[a],e=this.get("maskShared"),f=this.get("maskNode");f||(e?d?f=d.node:(f=b(a),d=i[a]={num:0,node:f}):f=b(a),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);e&&d.num++;(!e||1==d.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=i[a],b=this.get("maskShared"),d=
this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&d.hide()):d.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return d},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(f){function g(){}g.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(e){var b=f.makeArray(e);b.length&&(b[0]&&this.set("x",b[0]),b[1]&&this.set("y",b[1]));return e},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};g.prototype={move:function(e,b){f.isArray(e)&&(b=e[1],e=e[0]);this.set("xy",[e,b]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(f){this.get("el").css("z-index",f)},_uiSetX:function(f){this.get("el").offset({left:f})},_uiSetY:function(f){this.get("el").offset({top:f})}};return f});
KISSY.add("component/uibase/resize",function(f){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var e=this.resizer;e&&e.destroy()},_uiSetResize:function(e){var b=f.require("resizable");this.resizer&&this.resizer.destroy();b&&e&&(e.node=this.get("el"),this.resizer=new b(e))}};return g});
KISSY.add("component/uibase/shimrender",function(){function f(){}f.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return f});
KISSY.add("component/uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return f});
KISSY.add("component/uibase/stdmodrender",function(f,g){function e(){}function b(a,b){var d=a.get("contentEl"),e=a.get(b+"Style"),k=a.get(b+"Content"),p=f.isString(k),c=a.get(b);if(c)e&&c.css(e);else{c="";if(e)for(var h in e)e.hasOwnProperty(h)&&(c+=h+":"+e[h]+";");e=c;c=new g("<div class='"+i+b+"' "+(e?"style='"+e+"'":"")+" >"+(p?k:"")+"</div>");p||c.append(k);c.appendTo(d);a.__set(b,c)}}function d(a,b,d){b=a.get(b);f.isString(d)?b.html(d):b.html("").append(d)}var i="ks-stdmod-";e.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};e.HTML_PARSER={header:function(a){return a.one("."+i+"header")},body:function(a){return a.one("."+i+"body")},footer:function(a){return a.one("."+i+"footer")}};e.prototype={__createDom:function(){b(this,"header");b(this,"body");b(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){d(this,"body",a)},_uiSetHeaderContent:function(a){d(this,"header",a)},_uiSetFooterContent:function(a){d(this,"footer",a)}};return e},{requires:["node"]});
