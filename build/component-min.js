/*
Copyright 2012, KISSY UI Library v1.30rc
MIT Licensed
build time: Jul 5 23:53
*/
KISSY.add("component/base",function(c,f,d){return{Manager:d,UIBase:f,create:function(b,a){var e;if(b&&(e=b.xclass))a&&!b.prefixCls&&(b.prefixCls=a.get("prefixCls")),e=d.getConstructorByXClass(e),b=new e(b);return b}}},{requires:["./uibase","./manager"]});KISSY.add("component",function(c,f,d,b,a,e,g,m){c.mix(f,{Controller:d,Render:b,Container:a,DelegateChildren:e,DecorateChild:m,DecorateChildren:g});return f},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});
KISSY.add("component/container",function(c,f,d,b){return f.extend([d,b],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(c,f,d,b,a,e,g){function m(h){return function(a){if(this==a.target){var a=a.newVal,e=this.get("view");e&&e.set(h,a)}}}function i(h){return function(a){var e=this.get("view");return a===g?e&&e.get(h):a}}function l(h,a,e){h.create();var b=h.getContentElement(),a=d.create(a,h);a.__set("parent",h);a.set("render",b);a.set("elBefore",e);h.get("rendered")?a.render():a.create(g);return a}function n(h,a){var e=h.relatedTarget;return e&&(e===a[0]||a.contains(e))}var p=
b.extend([b.Box],{getCssClassWithPrefix:a.getCssClassWithPrefix,initializer:function(){this.get("view")},createDom:function(){for(var h=this.get("view"),e=this.constructor,b=[];e&&e!=p;){var c=a.getXClassByConstructor(e);c&&b.push(c);e=e.superclass&&e.superclass.constructor}h.__componentClasses=b.join(" ");h.create();e=h.getKeyEventTarget();this.get("focusable")?e.attr("tabIndex",0):e.unselectable(g);this.__set("view",h)},renderUI:function(){var h,a,e;this.get("view").render();a=this.get("children");
for(h=0;h<a.length;h++)e=a[h],e=l(this,e),a[h]=e,e.render(),this.fire("addChild",{child:e})},bindUI:function(){var h=this.get("focusable"),a=this.get("handleMouseEvents"),e=this.getKeyEventTarget();if(h)e.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);a&&(e=this.get("el"),e.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",
this.handleDblClick,this))},_uiSetFocused:function(h){h&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var h=this.get("view");return h&&h.getContentElement()},getKeyEventTarget:function(){var h=this.get("view");return h&&h.getKeyEventTarget()},addChild:function(h,a){var e=this.get("children"),b;a===g&&(a=e.length);b=e[a]&&e[a].get("el")||null;h=l(this,h,b);e.splice(a,0,h);this.fire("addChild",{child:h});return h},removeChild:function(h,a){var e=this.get("children"),b=c.indexOf(h,
e);-1!=b&&e.splice(b,1);a&&h.destroy&&h.destroy();this.fire("removeChild",{child:h});return h},removeChildren:function(h){var a,e=[].concat(this.get("children"));for(a=0;a<e.length;a++)this.removeChild(e[a],h);this.__set("children",[])},getChildAt:function(h){return this.get("children")[h]||null},handleDblClick:function(h){if(this.get("disabled"))return!0;this.performActionInternal(h)},handleMouseOver:function(h){var a=this.get("el");if(this.get("disabled"))return!0;n(h,a)||this.handleMouseEnter(h)},
handleMouseOut:function(h){var a=this.get("el");if(this.get("disabled"))return!0;n(h,a)||this.handleMouseLeave(h)},handleMouseEnter:function(h){if(this.get("disabled"))return!0;this.set("highlighted",!!h)},handleMouseLeave:function(h){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!h)},handleMouseDown:function(h){var a=1==h.which;if(this.get("disabled"))return!0;a&&(a=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(a[0].focus(),
this.set("focused",!0)):(a=(a=h.target.nodeName)&&a.toLowerCase(),"input"!=a&&"textarea"!=a&&h.preventDefault()))},handleMouseUp:function(h){if(this.get("disabled"))return!0;this.get("active")&&1==h.which&&(this.performActionInternal(h),this.set("active",!1))},handleFocus:function(h){this.set("focused",!!h);this.fire("focus")},handleBlur:function(h){this.set("focused",!h);this.fire("blur")},handleKeyEventInternal:function(h){if(h.keyCode==f.KeyCodes.ENTER)return this.performActionInternal(h)},handleKeydown:function(h){if(this.get("disabled"))return!0;
this.handleKeyEventInternal(h)&&h.halt()},performActionInternal:function(){},destructor:function(){var h,a=this.get("children");for(h=0;h<a.length;h++)a[h].destroy&&a[h].destroy();(h=this.get("view"))&&h.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:1},activeable:{value:!0},focused:{view:1},active:{view:1},highlighted:{view:1},children:{value:[]},prefixCls:{value:"ks-",view:1},parent:{},view:{valueFn:function(){var h;var a,e,b={},d,f=this.get("xrender");if(f){h=this.getAttrs();
for(e in h)if(h.hasOwnProperty(e)&&(a=h[e],a.view)){if((d=this.get(e))!==g)b[e]=d;this.on("after"+c.ucfirst(e)+"Change",m(e));a.getter=i(e)}h=new f(b)}else h=0;return h}},disabled:{view:1},xrender:{value:e}}},{xclass:"controller"});return p},{requires:["event","./base","./uibase","./manager","./render"]});
KISSY.add("component/decorateChild",function(c,f){function d(){}c.augment(d,f,{decorateInternal:function(b){this.set("el",b);var a=this.get("decorateChildCls");if(b=b.one("."+a))(a=this.findUIConstructorByNode(b,1))?this.decorateChildrenInternal(a,b):this.decorateChildren(b)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(c,f){function d(){}c.augment(d,{decorateInternal:function(b){this.set("el",b);this.decorateChildren(b)},findUIConstructorByNode:function(b){var b=b.attr("class")||"",a=this.get("prefixCls"),b=b.replace(RegExp("\\b"+a,"ig"),"");return f.getConstructorByXClass(b)},decorateChildrenInternal:function(b,a){this.addChild(new b({srcNode:a,prefixCls:this.get("prefixCls")}))},decorateChildren:function(b){var a=this;b.children().each(function(e){var b=a.findUIConstructorByNode(e);
a.decorateChildrenInternal(b,e)})}});return d},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(c){function f(){}function d(b){var a=this.getOwnerControl(b.target,b);if(a)switch(b.type){case "mousedown":a.handleMouseDown(b);break;case "mouseup":a.handleMouseUp(b);break;case "mouseover":a.handleMouseOver(b);break;case "mouseout":a.handleMouseOut(b);break;case "dblclick":a.handleDblClick(b)}}c.augment(f,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(b){for(var a=this.get("children"),
e=a.length,g=this.get("el")[0];b&&b!==g;){for(var c=0;c<e;c++)if(a[c].get("el")[0]===b)return a[c];b=b.parentNode}return null}});return f});
KISSY.add("component/manager",function(c){function f(a){for(var a=c.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var d={},b={},a={__instances:b,addComponent:function(a,g){b[a]=g},removeComponent:function(a){delete b[a]},getComponent:function(a){return b[a]},getCssClassWithPrefix:f,getXClassByConstructor:function(a){for(var b in d)if(d[b].constructor==a)return b;return 0},getConstructorByXClass:function(a){for(var a=a.split(/\s+/),b=-1,c,f=null,
l=0;l<a.length;l++){var n=d[a[l]];if(n&&(c=n.priority)>b)b=c,f=n.constructor}return f},setConstructorByXClass:function(a,b){c.isFunction(b)?d[a]={constructor:b,priority:0}:(b.priority=b.priority||0,d[a]=b)}};a.getCssClassWithPrefix=f;return a});
KISSY.add("component/render",function(c,f,d,b){return d.extend([d.Box.Render],{getComponentCssClassWithState:function(a){var e=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(e.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:b.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},_uiSetHighlighted:function(a){var e=this.getComponentCssClassWithState("-hover");this.get("el")[a?
"addClass":"removeClass"](e)},_uiSetDisabled:function(a){var e=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](e).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var e=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](e).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var e=this.get("el"),b=this.getComponentCssClassWithState("-focused");e[a?
"addClass":"removeClass"](b)},getContentElement:function(){return this.get("contentEl")||this.get("el")}},{ATTRS:{prefixCls:{value:"ks-"},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});KISSY.add("component/base",function(c,f,d){return{Manager:d,UIBase:f,create:function(b,a){var e;if(b&&(e=b.xclass))a&&!b.prefixCls&&(b.prefixCls=a.get("prefixCls")),e=d.getConstructorByXClass(e),b=new e(b);return b}}},{requires:["./uibase","./manager"]});
KISSY.add("component",function(c,f,d,b,a,e,g,m){c.mix(f,{Controller:d,Render:b,Container:a,DelegateChildren:e,DecorateChild:m,DecorateChildren:g});return f},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(c,f,d,b){return f.extend([d,b],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(c,f,d,b,a,e,g){function m(h){return function(a){if(this==a.target){var a=a.newVal,b=this.get("view");b&&b.set(h,a)}}}function i(h){return function(a){var b=this.get("view");return a===g?b&&b.get(h):a}}function l(h,a,b){h.create();var e=h.getContentElement(),a=d.create(a,h);a.__set("parent",h);a.set("render",e);a.set("elBefore",b);a.create(g);return a}function n(a,b){var e=a.relatedTarget;return e&&(e===b[0]||b.contains(e))}var p=b.extend([b.Box],{getCssClassWithPrefix:a.getCssClassWithPrefix,
initializer:function(){this.get("view")},createDom:function(){for(var h=this.get("view"),b=this.constructor,e=[];b&&b!=p;){var c=a.getXClassByConstructor(b);c&&e.push(c);b=b.superclass&&b.superclass.constructor}h.__componentClasses=e.join(" ");h.create();b=h.getKeyEventTarget();this.get("focusable")?b.attr("tabIndex",0):b.unselectable(g);this.__set("view",h)},renderUI:function(){var a,b,e;this.get("view").render();b=this.get("children");for(a=0;a<b.length;a++)e=b[a],e=l(this,e),b[a]=e,e.render(),
this.fire("addChild",{child:e})},bindUI:function(){var a=this.get("focusable"),b=this.get("handleMouseEvents"),e=this.getKeyEventTarget();if(a)e.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);b&&(e=this.get("el"),e.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,this))},_uiSetFocused:function(a){a&&
this.getKeyEventTarget()[0].focus()},getContentElement:function(){var a=this.get("view");return a&&a.getContentElement()},getKeyEventTarget:function(){var a=this.get("view");return a&&a.getKeyEventTarget()},addChild:function(a,b){var e=this.get("children"),c;b===g&&(b=e.length);c=e[b]&&e[b].get("el")||null;a=l(this,a,c);e.splice(b,0,a);this.get("rendered")&&a.render();this.fire("addChild",{child:a});return a},removeChild:function(a,b){var e=this.get("children"),g=c.indexOf(a,e);-1!=g&&e.splice(g,
1);b&&a.destroy&&a.destroy();this.fire("removeChild",{child:a});return a},removeChildren:function(a){var b,e=[].concat(this.get("children"));for(b=0;b<e.length;b++)this.removeChild(e[b],a);this.__set("children",[])},getChildAt:function(a){return this.get("children")[a]||null},handleDblClick:function(a){if(this.get("disabled"))return!0;this.performActionInternal(a)},handleMouseOver:function(a){var b=this.get("el");if(this.get("disabled"))return!0;n(a,b)||this.handleMouseEnter(a)},handleMouseOut:function(a){var b=
this.get("el");if(this.get("disabled"))return!0;n(a,b)||this.handleMouseLeave(a)},handleMouseEnter:function(a){if(this.get("disabled"))return!0;this.set("highlighted",!!a)},handleMouseLeave:function(a){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!a)},handleMouseDown:function(a){var b=1==a.which;if(this.get("disabled"))return!0;b&&(b=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(b[0].focus(),this.set("focused",!0)):(b=
(b=a.target.nodeName)&&b.toLowerCase(),"input"!=b&&"textarea"!=b&&a.preventDefault()))},handleMouseUp:function(a){if(this.get("disabled"))return!0;this.get("active")&&1==a.which&&(this.performActionInternal(a),this.set("active",!1))},handleFocus:function(a){this.set("focused",!!a);this.fire("focus")},handleBlur:function(a){this.set("focused",!a);this.fire("blur")},handleKeyEventInternal:function(a){if(a.keyCode==f.KeyCodes.ENTER)return this.performActionInternal(a)},handleKeydown:function(a){if(this.get("disabled"))return!0;
this.handleKeyEventInternal(a)&&a.halt()},performActionInternal:function(){},destructor:function(){var a,b=this.get("children");for(a=0;a<b.length;a++)b[a].destroy&&b[a].destroy();(a=this.get("view"))&&a.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:1},activeable:{value:!0},focused:{view:1},active:{view:1},highlighted:{view:1},children:{value:[]},prefixCls:{value:"ks-",view:1},parent:{},view:{valueFn:function(){var a;var b,e,d={},f,o=this.get("xrender");if(o){a=this.getAttrs();
for(e in a)if(a.hasOwnProperty(e)&&(b=a[e],b.view)){if((f=this.get(e))!==g)d[e]=f;this.on("after"+c.ucfirst(e)+"Change",m(e));b.getter=i(e)}a=new o(d)}else a=0;return a}},disabled:{view:1},xrender:{value:e}}},{xclass:"controller"});return p},{requires:["event","./base","./uibase","./manager","./render"]});
KISSY.add("component/decorateChild",function(c,f){function d(){}c.augment(d,f,{decorateInternal:function(b){this.set("el",b);var a=this.get("decorateChildCls");if(b=b.one("."+a))(a=this.findUIConstructorByNode(b,1))?this.decorateChildrenInternal(a,b):this.decorateChildren(b)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(c,f){function d(){}c.augment(d,{decorateInternal:function(b){this.set("el",b);this.decorateChildren(b)},findUIConstructorByNode:function(b){var b=b.attr("class")||"",a=this.get("prefixCls"),b=b.replace(RegExp("\\b"+a,"ig"),"");return f.getConstructorByXClass(b)},decorateChildrenInternal:function(b,a){this.addChild(new b({srcNode:a,prefixCls:this.get("prefixCls")}))},decorateChildren:function(b){var a=this;b.children().each(function(b){var c=a.findUIConstructorByNode(b);
a.decorateChildrenInternal(c,b)})}});return d},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(c){function f(){}function d(b){var a=this.getOwnerControl(b.target,b);if(a)switch(b.type){case "mousedown":a.handleMouseDown(b);break;case "mouseup":a.handleMouseUp(b);break;case "mouseover":a.handleMouseOver(b);break;case "mouseout":a.handleMouseOut(b);break;case "dblclick":a.handleDblClick(b)}}c.augment(f,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(b){for(var a=this.get("children"),
e=a.length,c=this.get("el")[0];b&&b!==c;){for(var d=0;d<e;d++)if(a[d].get("el")[0]===b)return a[d];b=b.parentNode}return null}});return f});
KISSY.add("component/manager",function(c){function f(a){for(var a=c.trim(a).split(/\s+/),b=0;b<a.length;b++)a[b]&&(a[b]=this.get("prefixCls")+a[b]);return a.join(" ")}var d={},b={},a={__instances:b,addComponent:function(a,c){b[a]=c},removeComponent:function(a){delete b[a]},getComponent:function(a){return b[a]},getCssClassWithPrefix:f,getXClassByConstructor:function(a){for(var b in d)if(d[b].constructor==a)return b;return 0},getConstructorByXClass:function(a){for(var a=a.split(/\s+/),b=-1,c,f=null,
l=0;l<a.length;l++){var n=d[a[l]];if(n&&(c=n.priority)>b)b=c,f=n.constructor}return f},setConstructorByXClass:function(a,b){c.isFunction(b)?d[a]={constructor:b,priority:0}:(b.priority=b.priority||0,d[a]=b)}};a.getCssClassWithPrefix=f;return a});
KISSY.add("component/render",function(c,f,d,b){return d.extend([d.Box.Render],{getComponentCssClassWithState:function(a){var b=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(b.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:b.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},_uiSetHighlighted:function(a){var b=this.getComponentCssClassWithState("-hover");this.get("el")[a?
"addClass":"removeClass"](b)},_uiSetDisabled:function(a){var b=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var b=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](b).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var b=this.get("el"),c=this.getComponentCssClassWithState("-focused");b[a?
"addClass":"removeClass"](c)},getContentElement:function(){return this.get("contentEl")||this.get("el")}},{ATTRS:{prefixCls:{value:"ks-"},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(c,f,d,b,a,e,g,m,i,l,n,p,h,s,u,q,t,o,j,k,v){e.Render=g;p.Render=h;s.Render=u;q.Render=t;k.Render=v;b.Render=a;i.Render=l;c.mix(f,{Align:d,Box:b,Close:e,Constrain:m,ContentBox:i,Drag:n,Loading:p,Mask:s,Position:q,Shim:{Render:o},Resize:j,StdMod:k});return f},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(c,f,d,b){function a(a){var b=a.ownerDocument.body,e=d.css(a,"position");if(!("fixed"==e||"absolute"==e))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(e=d.css(a,"position"),"static"!=e)return a;return null}function e(b){var e,c,g={left:0,right:Infinity,top:0,bottom:Infinity},i;c=b.ownerDocument;e=c.body;for(c=c.documentElement;b=a(b);)if((!f.ie||0!=b.clientWidth)&&b!=e&&b!=c&&"visible"!=d.css(b,"overflow"))i=
d.offset(b),i.left+=b.clientLeft,i.top+=b.clientTop,g.top=Math.max(g.top,i.top),g.right=Math.min(g.right,i.left+b.clientWidth),g.bottom=Math.min(g.bottom,i.top+b.clientHeight),g.left=Math.max(g.left,i.left);b=d.scrollLeft();i=d.scrollTop();g.left=Math.max(g.left,b);g.top=Math.max(g.top,i);e=d.viewportWidth();c=d.viewportHeight();g.right=Math.min(g.right,b+e);g.bottom=Math.min(g.bottom,i+c);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function g(a,b,e,c){var d,g;d=a.left;g=a.top;
b=n(b,e[0]);a=n(a,e[1]);a=[a.left-b.left,a.top-b.top];return{left:d-a[0]+ +c[0],top:g-a[1]+ +c[1]}}function m(a,b,e){var d=[];c.each(a,function(a){d.push(a.replace(b,function(a){return e[a]}))});return d}function i(){}function l(a){var b,e;c.isWindow(a[0])?(b={left:d.scrollLeft(),top:d.scrollTop()},e=d.viewportWidth(),a=d.viewportHeight()):(b=a.offset(),e=a.outerWidth(),a=a.outerHeight());b.width=e;b.height=a;return b}function n(a,b){var e=b.charAt(0),c=b.charAt(1),d=a.width,g=a.height,f,k;f=a.left;
k=a.top;"c"===e?k+=g/2:"b"===e&&(k+=g);"c"===c?f+=d/2:"r"===c&&(f+=d);return{left:f,top:k}}var p=c.Env.host;i.__getOffsetParent=a;i.__getVisibleRectForElement=e;i.ATTRS={align:{value:{}}};i.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(a,d,f,i){var a=b.one(a||p),f=f&&[].concat(f)||[0,0],i=i||{},n=this.get("el"),o=0,j=e(n[0]),k=l(n),v=l(a),a=g(k,v,d,f),r=c.merge(k,a);if(j&&(i.adjustX||i.adjustY)){if(a.left<j.left||a.left+k.width>j.right)o=
1,d=m(d,/[lr]/ig,{l:"r",r:"l"}),f[0]=-f[0];if(a.top<j.top||a.top+k.height>j.bottom)o=1,d=m(d,/[tb]/ig,{t:"b",b:"t"}),f[1]=-f[1];o&&(a=g(k,v,d,f),c.mix(r,a));d={};d.adjustX=i.adjustX&&(a.left<j.left||a.left+k.width>j.right);d.adjustY=i.adjustY&&(a.top<j.top||a.top+k.height>j.bottom);if(d.adjustX||d.adjustY)i=c.clone(a),o={width:k.width,height:k.height},d.adjustX&&i.left<j.left&&(i.left=j.left),d.resizeWidth&&i.left>=j.left&&i.left+o.width>j.right&&(o.width-=i.left+o.width-j.right),d.adjustX&&i.left+
o.width>j.right&&(i.left=Math.max(j.right-o.width,j.left)),d.adjustY&&i.top<j.top&&(i.top=j.top),d.resizeHeight&&i.top>=j.top&&i.top+o.height>j.bottom&&(o.height-=i.top+o.height-j.bottom),d.adjustY&&i.top+o.height>j.bottom&&(i.top=Math.max(j.bottom-o.height,j.top)),r=c.mix(i,o)}r.left!=k.left&&this.set("x",r.left);r.top!=k.top&&this.set("y",r.top);r.width!=k.width&&n.width(n.width()+r.width-k.width);r.height!=k.height&&n.height(n.height()+r.height-k.height);return this},center:function(a){this.set("align",
{node:a,points:["cc","cc"],offset:[0,0]});return this}};return i},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(c,f,d,b,a){function e(e){var j;f.apply(this,arguments);(j=this.get("id"))&&b.addComponent(j,this);j=e;for(var k=this.constructor;k;){if(j&&j[h]&&k[u]&&(j[h]=d.one(j[h]))){var n=j,r=k[u],q=void 0,m=void 0,p=n[h];for(q in r)r.hasOwnProperty(q)&&n[q]===a&&(m=r[q],c.isFunction(m)?this.__set(q,m.call(this,p)):c.isString(m)?this.__set(q,p.one(m)):c.isArray(m)&&m[0]&&this.__set(q,p.all(m[0])))}k=k.superclass&&k.superclass.constructor}g(this,"initializer","constructor");
var s,k=this.get("plugins");j=this.get("listeners");i(k);l(this,k,"initializer");for(s in j)k=j[s],this.on(s,k.fn||k,k.scope);e&&e.autoRender&&this.render()}function g(a,b,e){for(var c=a.constructor,d=[],h,g,f,i;c;){i=[];if(f=c.__ks_exts)for(var l=0;l<f.length;l++)if(h=f[l])"constructor"!=e&&(h=h.prototype.hasOwnProperty(e)?h.prototype[e]:null),h&&i.push(h);c.prototype.hasOwnProperty(b)&&(g=c.prototype[b])&&i.push(g);i.length&&d.push.apply(d,i.reverse());c=c.superclass&&c.superclass.constructor}for(l=
d.length-1;0<=l;l--)d[l]&&d[l].call(a)}function m(a){var b=a.getAttrs(),e,c;for(e in b)b.hasOwnProperty(e)&&(c=p+q(e),a[c]&&function(b,e){a.on("after"+q(b)+"Change",function(b){if(b.target===a)a[e](b.newVal,b)})}(e,c))}function i(a){c.each(a,function(b,e){c.isFunction(b)&&(a[e]=new b)})}function l(a,b,e){c.each(b,function(b){if(b[e])b[e](a)})}function n(a,b,d,h){function g(){e.apply(this,arguments)}var f=c.makeArray(arguments);c.isObject(b)&&(h=d,d=b,b=[]);c.isString(f[f.length-1]);c.extend(g,a,d,
h);if(b){g.__ks_exts=b;var i={},f=b.concat(g);c.each(f,function(a){a&&c.each([s,u],function(b){if(a[b]){i[b]=i[b]||{};c.mix(i[b],a[b],{deep:true})}})});c.each(i,function(a,b){g[b]=a});var l={};c.each(f,function(a){if(a){var a=a.prototype,b;for(b in a)a.hasOwnProperty(b)&&(l[b]=a[b])}});c.each(l,function(a,b){g.prototype[b]=a})}return g}var p="_uiSet",h="srcNode",s="ATTRS",u="HTML_PARSER",q=c.ucfirst,t=c.noop;c.extend(e,f,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),g(this,
"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"),l(this,this.get("plugins"),"createDom"));return this},render:function(){if(!this.get("rendered")){var b=this.get("plugins");this.create(a);this.fire("beforeRenderUI");g(this,"renderUI","__renderUI");this.fire("afterRenderUI");l(this,b,"renderUI");this.fire("beforeBindUI");m(this);g(this,"bindUI","__bindUI");this.fire("afterBindUI");l(this,b,"bindUI");this.fire("beforeSyncUI");var e,c,d=this.getAttrs(),h;for(h in d)d.hasOwnProperty(h)&&
(c=this[p+q(h)])&&!1!==d[h].sync&&(e=this.get(h))!==a&&c.call(this,e);g(this,"syncUI","__syncUI");this.fire("afterSyncUI");l(this,b,"syncUI");this.__set("rendered",!0)}return this},createDom:t,renderUI:t,bindUI:t,syncUI:t,destroy:function(){var a,e=this.get("plugins");l(this,e,"destructor");for(var e=this.constructor,c,d,h;e;){e.prototype.hasOwnProperty("destructor")&&e.prototype.destructor.apply(this);if(c=e.__ks_exts)for(h=c.length-1;0<=h;h--)(d=c[h]&&c[h].prototype.__destructor)&&d.apply(this);
e=e.superclass&&e.superclass.constructor}this.fire("destroy");this.detach();(a=this.get("id"))&&b.removeComponent(a);return this}},{ATTRS:{rendered:{value:!1},created:{value:!1},listeners:{value:{}},plugins:{value:[]},xclass:{valueFn:function(){return b.getXClassByConstructor(this.constructor)}}}});c.mix(e,{HTML_PARSER:{},extend:function j(a,d,h){var g=c.makeArray(arguments),f=g[g.length-1];g.unshift(this);f.xclass&&(g.pop(),g.push(f.xclass));g=n.apply(e,g);f.xclass&&b.setConstructorByXClass(f.xclass,
{constructor:g,priority:f.priority});g.extend=j;return g}});return e},{requires:["base","node","../manager"]});
KISSY.add("component/uibase/box",function(c){function f(){}f.ATTRS={content:{view:1},width:{view:1},height:{view:1},elCls:{view:1},elStyle:{view:1},elAttrs:{view:1},elBefore:{view:1},el:{view:1},render:{view:1},visibleMode:{view:1},visible:{value:!0,view:1},srcNode:{view:1}};f.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(c.one(d));return d}};f.prototype={__bindUI:function(){this.on("afterVisibleChange",function(c){this.fire(c.newVal?"show":"hide")})},show:function(){this.render();
this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return f});
KISSY.add("component/uibase/boxrender",function(c){function f(){}var d=c.all,b=c.Env.host.document;f.ATTRS={el:{setter:function(a){return d(a)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},content:{},elBefore:{},render:{},visible:{value:!0},visibleMode:{value:"display"},contentEl:{valueFn:function(){return this.get("el")}}};f.HTML_PARSER={content:function(a){var b=this.get("contentElCls");return(b?a.one("."+b):a).html()}};f.prototype={__renderUI:function(){if(!this.get("srcNode")){var a=
this.get("render"),e=this.get("el"),c=this.get("elBefore");c?e.insertBefore(c,void 0):a?e.appendTo(a,void 0):e.appendTo(b.body,void 0)}},__createDom:function(){if(!this.get("srcNode")){var a,b=this.get("contentEl");a=d("<"+this.get("elTagName")+">");b&&a.append(b);this.__set("el",a);b||this.__set("contentEl",a)}},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},
_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:function(a){var b;if(!this.get("srcNode")||this.get("rendered"))b=this.get("contentEl"),"string"==typeof a?b.html(a):a&&b.empty().append(a)},_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return f},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function c(){}c.ATTRS={closable:{view:1},closeBtn:{view:1},closeAction:{value:"hide"}};var f={hide:"hide",destroy:"destroy"};c.prototype={_uiSetClosable:function(c){var b=this;c&&!b.__bindCloseEvent&&(b.__bindCloseEvent=1,b.get("closeBtn").on("click",function(a){b[f[b.get("closeAction")]||"hide"]();a.preventDefault()}))},__destructor:function(){var c=this.get("closeBtn");c&&c.detach()}};return c});
KISSY.add("component/uibase/closerender",function(c,f){function d(){}d.ATTRS={closable:{value:!0},closeBtn:{}};d.HTML_PARSER={closeBtn:function(b){return b.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(b){var a=this.get("closeBtn");b?(a||this.__set("closeBtn",a=new f("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),a.appendTo(this.get("el"),void 0)):a&&a.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(c,f,d){function b(){}function a(a){var b=null;if(!a)return b;var m=this.get("el");!0!==a?(a=d.one(a),b=a.offset(),c.mix(b,{maxLeft:b.left+a.outerWidth()-m.outerWidth(),maxTop:b.top+a.outerHeight()-m.outerHeight()})):(b={left:f.scrollLeft(),top:f.scrollTop()},c.mix(b,{maxLeft:b.left+f.viewportWidth()-m.outerWidth(),maxTop:b.top+f.viewportHeight()-m.outerHeight()}));return b}b.ATTRS={constrain:{value:!1}};b.prototype={__renderUI:function(){var b=this,
c=b.getAttrs(),d=c.x,c=c.y,f=d.setter,l=c.setter;d.setter=function(c){var d=f&&f.call(b,c);void 0===d&&(d=c);if(!b.get("constrain"))return d;c=a.call(b,b.get("constrain"));return Math.min(Math.max(d,c.left),c.maxLeft)};c.setter=function(c){var d=l&&l.call(b,c);void 0===d&&(d=c);if(!b.get("constrain"))return d;c=a.call(b,b.get("constrain"));return Math.min(Math.max(d,c.top),c.maxTop)};b.addAttr("x",d);b.addAttr("y",c)}};return b},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function c(){}c.ATTRS={contentEl:{view:1}};return c});KISSY.add("component/uibase/contentboxrender",function(c,f,d,b){function a(){}a.ATTRS={contentEl:{}};a.prototype={__createDom:function(){var a,c=this.get("el");a=c[0].childNodes;a=a.length&&b.nodeListToFragment(a);a=f.all("<div class='ks-contentbox'></div>").append(a);c.append(a);this.__set("contentEl",a)}};return a},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(c){function f(){}function d(b){this.set("xy",[b.left,b.top])}f.ATTRS={handlers:{value:[]},draggable:{value:!0}};f.prototype={_uiSetHandlers:function(b){var a;b&&0<b.length&&(a=this.__drag)&&a.set("handlers",b)},__bindUI:function(){var b=c.require("dd")||{},a=b.Draggable,e=this,f=e.get("draggable"),m=e.get("el");if(f&&a){!0===f&&(f={});a=e.__drag=new a({node:m,move:f.proxy});if(f.proxy){f.proxy.moveOnEnd=!1;a.on("dragend",function(){var a=i.get("proxyNode").offset();
m.css("visibility","");e.set("x",a.left);e.set("y",a.top)});var i=e.__proxy=new b.Proxy(f.proxy);i.attachDrag(a)}else a.on("drag",d,e);f.scroll&&(e.__scroll=new b.Scroll(f.scroll)).attachDrag(a)}},_uiSetDraggable:function(b){var a=this.__drag;a&&a.set("disabled",!b)},__destructor:function(){var b=this.__proxy,a=this.__scroll,e=this.__drag;e&&e.destroy();a&&a.destroy();b&&b.destroy()}};return f});
KISSY.add("component/uibase/loading",function(){function c(){}c.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return c});
KISSY.add("component/uibase/loadingrender",function(c,f){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new f("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var b=this._loadingExtEl;b&&b.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function c(){}c.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}};c.prototype={__bindUI:function(){var c=this.get("view"),d=c._maskExtShow,b=c._maskExtHide;this.get("mask")&&(this.on("show",d,c),this.on("hide",b,c))}};return c},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(c,f,d){function b(a){a=m("<div  style='width:"+(g?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(g?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(g?"absolute":"fixed")+";' class='"+a+"'>"+(g?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function a(){}var e={},g=6===f.ie,m=d.all;a.ATTRS={maskShared:{value:!0}};a.prototype={_maskExtShow:function(){var a=this.get("prefixCls")+"ext-mask",c=e[a],d=this.get("maskShared"),f=this.get("maskNode");f||(d?c?f=c.node:(f=b(a),c=e[a]={num:0,node:f}):f=b(a),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);d&&c.num++;(!d||1==c.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=
e[a],b=this.get("maskShared"),c=this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&c.hide()):c.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return a},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(c){function f(){}f.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(d){var b=c.makeArray(d);b.length&&(b[0]&&this.set("x",b[0]),b[1]&&this.set("y",b[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1},visible:{value:!1}};f.prototype={move:function(d,b){c.isArray(d)&&(b=d[1],d=d[0]);this.set("xy",[d,b]);return this}};return f});
KISSY.add("component/uibase/positionrender",function(){function c(){}c.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};c.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(c){this.get("el").css("z-index",c)},_uiSetX:function(c){this.get("el").offset({left:c})},_uiSetY:function(c){this.get("el").offset({top:c})}};return c});
KISSY.add("component/uibase/resize",function(c){function f(){}f.ATTRS={resize:{value:{}}};f.prototype={__destructor:function(){var c=this.resizer;c&&c.destroy()},_uiSetResize:function(d){var b=c.require("resizable");this.resizer&&this.resizer.destroy();b&&d&&(d.node=this.get("el"),this.resizer=new b(d))}};return f});
KISSY.add("component/uibase/shimrender",function(){function c(){}c.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return c});
KISSY.add("component/uibase/stdmod",function(){function c(){}c.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}};return c});
KISSY.add("component/uibase/stdmodrender",function(c,f){function d(){}function b(a,b){var c=a.get("contentEl"),d=a.get(b);d||(d=new f("<div class='"+e+b+"'  ></div>"),d.appendTo(c),a.__set(b,d))}function a(a,b,e){b=a.get(b);c.isString(e)?b.html(e):b.html("").append(e)}var e="ks-stdmod-";d.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};d.HTML_PARSER={header:function(a){return a.one("."+e+"header")},body:function(a){return a.one("."+
e+"body")},footer:function(a){return a.one("."+e+"footer")}};d.prototype={__createDom:function(){b(this,"header");b(this,"body");b(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(b){a(this,"body",b)},_uiSetHeaderContent:function(b){a(this,"header",b)},_uiSetFooterContent:function(b){a(this,"footer",b)}};return d},{requires:["node"]});
KISSY.add("component/uibase",function(c,f,d,b,a,e,g,m,i,l,n,p,h,s,u,q,t,o,j,k,v){e.Render=g;p.Render=h;s.Render=u;q.Render=t;k.Render=v;b.Render=a;i.Render=l;c.mix(f,{Align:d,Box:b,Close:e,Constrain:m,ContentBox:i,Drag:n,Loading:p,Mask:s,Position:q,Shim:{Render:o},Resize:j,StdMod:k});return f},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(c,f,d,b){function a(a){var b=a.ownerDocument.body,c=d.css(a,"position");if(!("fixed"==c||"absolute"==c))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=d.css(a,"position"),"static"!=c)return a;return null}function e(b){var c,e,g={left:0,right:Infinity,top:0,bottom:Infinity},i;e=b.ownerDocument;c=e.body;for(e=e.documentElement;b=a(b);)if((!f.ie||0!=b.clientWidth)&&b!=c&&b!=e&&"visible"!=d.css(b,"overflow"))i=
d.offset(b),i.left+=b.clientLeft,i.top+=b.clientTop,g.top=Math.max(g.top,i.top),g.right=Math.min(g.right,i.left+b.clientWidth),g.bottom=Math.min(g.bottom,i.top+b.clientHeight),g.left=Math.max(g.left,i.left);b=d.scrollLeft();i=d.scrollTop();g.left=Math.max(g.left,b);g.top=Math.max(g.top,i);c=d.viewportWidth();e=d.viewportHeight();g.right=Math.min(g.right,b+c);g.bottom=Math.min(g.bottom,i+e);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function g(a,b,c,e){var d,f;d=a.left;f=a.top;
b=n(b,c[0]);a=n(a,c[1]);a=[a.left-b.left,a.top-b.top];return{left:d-a[0]+ +e[0],top:f-a[1]+ +e[1]}}function m(a,b,e){var d=[];c.each(a,function(a){d.push(a.replace(b,function(a){return e[a]}))});return d}function i(){}function l(a){var b,e;c.isWindow(a[0])?(b={left:d.scrollLeft(),top:d.scrollTop()},e=d.viewportWidth(),a=d.viewportHeight()):(b=a.offset(),e=a.outerWidth(),a=a.outerHeight());b.width=e;b.height=a;return b}function n(a,b){var e=b.charAt(0),c=b.charAt(1),d=a.width,f=a.height,g,i;g=a.left;
i=a.top;"c"===e?i+=f/2:"b"===e&&(i+=f);"c"===c?g+=d/2:"r"===c&&(g+=d);return{left:g,top:i}}var p=c.Env.host;i.__getOffsetParent=a;i.__getVisibleRectForElement=e;i.ATTRS={align:{value:{}}};i.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(a,d,f,i){var a=b.one(a||p),f=f&&[].concat(f)||[0,0],i=i||{},n=this.get("el"),o=0,j=e(n[0]),k=l(n),v=l(a),a=g(k,v,d,f),r=c.merge(k,a);if(j&&(i.adjustX||i.adjustY)){if(a.left<j.left||a.left+k.width>j.right)o=
1,d=m(d,/[lr]/ig,{l:"r",r:"l"}),f[0]=-f[0];if(a.top<j.top||a.top+k.height>j.bottom)o=1,d=m(d,/[tb]/ig,{t:"b",b:"t"}),f[1]=-f[1];o&&(a=g(k,v,d,f),c.mix(r,a));d={};d.adjustX=i.adjustX&&(a.left<j.left||a.left+k.width>j.right);d.adjustY=i.adjustY&&(a.top<j.top||a.top+k.height>j.bottom);if(d.adjustX||d.adjustY)i=c.clone(a),o={width:k.width,height:k.height},d.adjustX&&i.left<j.left&&(i.left=j.left),d.resizeWidth&&i.left>=j.left&&i.left+o.width>j.right&&(o.width-=i.left+o.width-j.right),d.adjustX&&i.left+
o.width>j.right&&(i.left=Math.max(j.right-o.width,j.left)),d.adjustY&&i.top<j.top&&(i.top=j.top),d.resizeHeight&&i.top>=j.top&&i.top+o.height>j.bottom&&(o.height-=i.top+o.height-j.bottom),d.adjustY&&i.top+o.height>j.bottom&&(i.top=Math.max(j.bottom-o.height,j.top)),r=c.mix(i,o)}r.left!=k.left&&this.set("x",r.left);r.top!=k.top&&this.set("y",r.top);r.width!=k.width&&n.width(n.width()+r.width-k.width);r.height!=k.height&&n.height(n.height()+r.height-k.height);return this},center:function(a){this.set("align",
{node:a,points:["cc","cc"],offset:[0,0]});return this}};return i},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(c,f,d,b,a){function e(e){var j;f.apply(this,arguments);(j=this.get("id"))&&b.addComponent(j,this);j=e;for(var k=this.constructor;k;){if(j&&j[h]&&k[u]&&(j[h]=d.one(j[h]))){var m=j,n=k[u],p=void 0,w=void 0,q=m[h];for(p in n)n.hasOwnProperty(p)&&m[p]===a&&(w=n[p],c.isFunction(w)?this.__set(p,w.call(this,q)):c.isString(w)?this.__set(p,q.one(w)):c.isArray(w)&&w[0]&&this.__set(p,q.all(w[0])))}k=k.superclass&&k.superclass.constructor}g(this,"initializer","constructor");
var x,k=this.get("plugins");j=this.get("listeners");i(k);l(this,k,"initializer");for(x in j)k=j[x],this.on(x,k.fn||k,k.scope);e&&e.autoRender&&this.render()}function g(a,b,e){for(var c=a.constructor,d=[],f,g,i,h;c;){h=[];if(i=c.__ks_exts)for(var l=0;l<i.length;l++)if(f=i[l])"constructor"!=e&&(f=f.prototype.hasOwnProperty(e)?f.prototype[e]:null),f&&h.push(f);c.prototype.hasOwnProperty(b)&&(g=c.prototype[b])&&h.push(g);h.length&&d.push.apply(d,h.reverse());c=c.superclass&&c.superclass.constructor}for(l=
d.length-1;0<=l;l--)d[l]&&d[l].call(a)}function m(a){var b=a.getAttrs(),e,c;for(e in b)b.hasOwnProperty(e)&&(c=p+q(e),a[c]&&function(b,e){a.on("after"+q(b)+"Change",function(b){if(b.target===a)a[e](b.newVal,b)})}(e,c))}function i(a){c.each(a,function(b,e){c.isFunction(b)&&(a[e]=new b)})}function l(a,b,e){c.each(b,function(b){if(b[e])b[e](a)})}function n(a,b,d,f){function g(){e.apply(this,arguments)}var i=c.makeArray(arguments);c.isObject(b)&&(f=d,d=b,b=[]);c.isString(i[i.length-1]);c.extend(g,a,d,
f);if(b){g.__ks_exts=b;var h={},i=b.concat(g);c.each(i,function(a){a&&c.each([s,u],function(b){if(a[b]){h[b]=h[b]||{};c.mix(h[b],a[b],{deep:true})}})});c.each(h,function(a,b){g[b]=a});var l={};c.each(i,function(a){if(a){var a=a.prototype,b;for(b in a)a.hasOwnProperty(b)&&(l[b]=a[b])}});c.each(l,function(a,b){g.prototype[b]=a})}return g}var p="_uiSet",h="srcNode",s="ATTRS",u="HTML_PARSER",q=c.ucfirst,t=c.noop;c.extend(e,f,{create:function(){this.get("created")||(this.fire("beforeCreateDom"),g(this,
"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"),l(this,this.get("plugins"),"createDom"));return this},render:function(){if(!this.get("rendered")){var b=this.get("plugins");this.create(a);this.fire("beforeRenderUI");g(this,"renderUI","__renderUI");this.fire("afterRenderUI");l(this,b,"renderUI");this.fire("beforeBindUI");m(this);g(this,"bindUI","__bindUI");this.fire("afterBindUI");l(this,b,"bindUI");this.fire("beforeSyncUI");var e,c,d=this.getAttrs(),f;for(f in d)d.hasOwnProperty(f)&&
(c=this[p+q(f)])&&!1!==d[f].sync&&(e=this.get(f))!==a&&c.call(this,e);g(this,"syncUI","__syncUI");this.fire("afterSyncUI");l(this,b,"syncUI");this.__set("rendered",!0)}return this},createDom:t,renderUI:t,bindUI:t,syncUI:t,destroy:function(){var a,e=this.get("plugins");l(this,e,"destructor");for(var e=this.constructor,c,d,f;e;){e.prototype.hasOwnProperty("destructor")&&e.prototype.destructor.apply(this);if(c=e.__ks_exts)for(f=c.length-1;0<=f;f--)(d=c[f]&&c[f].prototype.__destructor)&&d.apply(this);
e=e.superclass&&e.superclass.constructor}this.fire("destroy");this.detach();(a=this.get("id"))&&b.removeComponent(a);return this}},{ATTRS:{rendered:{value:!1},created:{value:!1},listeners:{value:{}},plugins:{value:[]},xclass:{valueFn:function(){return b.getXClassByConstructor(this.constructor)}}}});c.mix(e,{HTML_PARSER:{},extend:function j(a,d,f){var g=c.makeArray(arguments),i=g[g.length-1];g.unshift(this);i.xclass&&(g.pop(),g.push(i.xclass));g=n.apply(e,g);i.xclass&&b.setConstructorByXClass(i.xclass,
{constructor:g,priority:i.priority});g.extend=j;return g}});return e},{requires:["base","node","../manager"]});
KISSY.add("component/uibase/box",function(c){function f(){}f.ATTRS={content:{view:1},width:{view:1},height:{view:1},elCls:{view:1},elStyle:{view:1},elAttrs:{view:1},elBefore:{view:1},el:{view:1},render:{view:1},visibleMode:{view:1},visible:{value:!0,view:1},srcNode:{view:1}};f.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(c.one(d));return d}};f.prototype={__bindUI:function(){this.on("afterVisibleChange",function(c){this.fire(c.newVal?"show":"hide")})},show:function(){this.render();
this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return f});
KISSY.add("component/uibase/boxrender",function(c){function f(){}var d=c.all,b=c.Env.host.document;f.ATTRS={el:{setter:function(a){return d(a)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},content:{},elBefore:{},render:{},visible:{value:!0},visibleMode:{value:"display"},contentEl:{valueFn:function(){return this.get("el")}}};f.HTML_PARSER={content:function(a){var b=this.get("contentElCls");return(b?a.one("."+b):a).html()}};f.prototype={__renderUI:function(){if(!this.get("srcNode")){var a=
this.get("render"),e=this.get("el"),c=this.get("elBefore");c?e.insertBefore(c,void 0):a?e.appendTo(a,void 0):e.appendTo(b.body,void 0)}},__createDom:function(){if(!this.get("srcNode")){var a,b=this.get("contentEl");a=d("<"+this.get("elTagName")+">");b&&a.append(b);this.__set("el",a);b||this.__set("contentEl",a)}},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},
_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:function(a){var b;if(!this.get("srcNode")||this.get("rendered"))b=this.get("contentEl"),"string"==typeof a?b.html(a):a&&b.empty().append(a)},_uiSetVisible:function(a){var b=this.get("el");"visibility"==this.get("visibleMode")?b.css("visibility",a?"visible":"hidden"):b.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return f},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function c(){}c.ATTRS={closable:{view:1},closeBtn:{view:1},closeAction:{value:"hide"}};var f={hide:"hide",destroy:"destroy"};c.prototype={_uiSetClosable:function(c){var b=this;c&&!b.__bindCloseEvent&&(b.__bindCloseEvent=1,b.get("closeBtn").on("click",function(a){b[f[b.get("closeAction")]||"hide"]();a.preventDefault()}))},__destructor:function(){var c=this.get("closeBtn");c&&c.detach()}};return c});
KISSY.add("component/uibase/closerender",function(c,f){function d(){}d.ATTRS={closable:{value:!0},closeBtn:{}};d.HTML_PARSER={closeBtn:function(b){return b.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(b){var a=this.get("closeBtn");b?(a||this.__set("closeBtn",a=new f("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),a.appendTo(this.get("el"),void 0)):a&&a.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(c,f,d){function b(){}function a(a){var b=null;if(!a)return b;var m=this.get("el");!0!==a?(a=d.one(a),b=a.offset(),c.mix(b,{maxLeft:b.left+a.outerWidth()-m.outerWidth(),maxTop:b.top+a.outerHeight()-m.outerHeight()})):(b={left:f.scrollLeft(),top:f.scrollTop()},c.mix(b,{maxLeft:b.left+f.viewportWidth()-m.outerWidth(),maxTop:b.top+f.viewportHeight()-m.outerHeight()}));return b}b.ATTRS={constrain:{value:!1}};b.prototype={__renderUI:function(){var b=this,
c=b.getAttrs(),d=c.x,c=c.y,f=d.setter,l=c.setter;d.setter=function(c){var d=f&&f.call(b,c);void 0===d&&(d=c);if(!b.get("constrain"))return d;c=a.call(b,b.get("constrain"));return Math.min(Math.max(d,c.left),c.maxLeft)};c.setter=function(c){var d=l&&l.call(b,c);void 0===d&&(d=c);if(!b.get("constrain"))return d;c=a.call(b,b.get("constrain"));return Math.min(Math.max(d,c.top),c.maxTop)};b.addAttr("x",d);b.addAttr("y",c)}};return b},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function c(){}c.ATTRS={contentEl:{view:1}};return c});KISSY.add("component/uibase/contentboxrender",function(c,f,d,b){function a(){}a.ATTRS={contentEl:{}};a.prototype={__createDom:function(){var a,c=this.get("el");a=c[0].childNodes;a=a.length&&b.nodeListToFragment(a);a=f.all("<div class='ks-contentbox'></div>").append(a);c.append(a);this.__set("contentEl",a)}};return a},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(c){function f(){}function d(b){this.set("xy",[b.left,b.top])}f.ATTRS={handlers:{value:[]},draggable:{value:!0}};f.prototype={_uiSetHandlers:function(b){var a;b&&0<b.length&&(a=this.__drag)&&a.set("handlers",b)},__bindUI:function(){var b=c.require("dd")||{},a=b.Draggable,e=this,f=e.get("draggable"),m=e.get("el");if(f&&a){!0===f&&(f={});a=e.__drag=new a({node:m,move:f.proxy});if(f.proxy){f.proxy.moveOnEnd=!1;a.on("dragend",function(){var a=i.get("proxyNode").offset();
m.css("visibility","");e.set("x",a.left);e.set("y",a.top)});var i=e.__proxy=new b.Proxy(f.proxy);i.attachDrag(a)}else a.on("drag",d,e);f.scroll&&(e.__scroll=new b.Scroll(f.scroll)).attachDrag(a)}},_uiSetDraggable:function(b){var a=this.__drag;a&&a.set("disabled",!b)},__destructor:function(){var b=this.__proxy,a=this.__scroll,c=this.__drag;c&&c.destroy();a&&a.destroy();b&&b.destroy()}};return f});
KISSY.add("component/uibase/loading",function(){function c(){}c.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return c});
KISSY.add("component/uibase/loadingrender",function(c,f){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new f("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var b=this._loadingExtEl;b&&b.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function c(){}c.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}};c.prototype={__bindUI:function(){var c=this.get("view"),d=c._maskExtShow,b=c._maskExtHide;this.get("mask")&&(this.on("show",d,c),this.on("hide",b,c))}};return c},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(c,f,d){function b(a){a=m("<div  style='width:"+(g?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(g?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(g?"absolute":"fixed")+";' class='"+a+"'>"+(g?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function a(){}var e={},g=6===f.ie,m=d.all;a.ATTRS={maskShared:{value:!0}};a.prototype={_maskExtShow:function(){var a=this.get("prefixCls")+"ext-mask",c=e[a],d=this.get("maskShared"),f=this.get("maskNode");f||(d?c?f=c.node:(f=b(a),c=e[a]={num:0,node:f}):f=b(a),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);d&&c.num++;(!d||1==c.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=
e[a],b=this.get("maskShared"),c=this.get("maskNode");b&&a?(a.num=Math.max(a.num-1,0),0==a.num&&c.hide()):c.hide()},__destructor:function(){var a=this.get("maskShared"),b=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():b.remove())}};return a},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(c){function f(){}f.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(d){var b=c.makeArray(d);b.length&&(b[0]&&this.set("x",b[0]),b[1]&&this.set("y",b[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1},visible:{value:!1}};f.prototype={move:function(d,b){c.isArray(d)&&(b=d[1],d=d[0]);this.set("xy",[d,b]);return this}};return f});
KISSY.add("component/uibase/positionrender",function(){function c(){}c.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};c.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(c){this.get("el").css("z-index",c)},_uiSetX:function(c){this.get("el").offset({left:c})},_uiSetY:function(c){this.get("el").offset({top:c})}};return c});
KISSY.add("component/uibase/resize",function(c){function f(){}f.ATTRS={resize:{value:{}}};f.prototype={__destructor:function(){var c=this.resizer;c&&c.destroy()},_uiSetResize:function(d){var b=c.require("resizable");this.resizer&&this.resizer.destroy();b&&d&&(d.node=this.get("el"),this.resizer=new b(d))}};return f});
KISSY.add("component/uibase/shimrender",function(){function c(){}c.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return c});
KISSY.add("component/uibase/stdmod",function(){function c(){}c.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}};return c});
KISSY.add("component/uibase/stdmodrender",function(c,f){function d(){}function b(a,b){var c=a.get("contentEl"),d=a.get(b);d||(d=new f("<div class='"+e+b+"'  ></div>"),d.appendTo(c),a.__set(b,d))}function a(a,b,d){b=a.get(b);c.isString(d)?b.html(d):b.html("").append(d)}var e="ks-stdmod-";d.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};d.HTML_PARSER={header:function(a){return a.one("."+e+"header")},body:function(a){return a.one("."+
e+"body")},footer:function(a){return a.one("."+e+"footer")}};d.prototype={__createDom:function(){b(this,"header");b(this,"body");b(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(b){a(this,"body",b)},_uiSetHeaderContent:function(b){a(this,"header",b)},_uiSetFooterContent:function(b){a(this,"footer",b)}};return d},{requires:["node"]});
