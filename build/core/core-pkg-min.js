/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua",function(a){var p=navigator.userAgent,n="",f="",c,g={},k=function(b){var s=0;return parseFloat(b.replace(/\./g,function(){return s++===0?".":""}))};if((c=p.match(/AppleWebKit\/([\d.]*)/))&&c[1]){g[n="webkit"]=k(c[1]);if((c=p.match(/Chrome\/([\d.]*)/))&&c[1])g[f="chrome"]=k(c[1]);else if((c=p.match(/\/([\d.]*) Safari/))&&c[1])g[f="safari"]=k(c[1]);if(/ Mobile\//.test(p))g.mobile="apple";else if(c=p.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))g.mobile=c[0].toLowerCase()}else if((c=
p.match(/Presto\/([\d.]*)/))&&c[1]){g[n="presto"]=k(c[1]);if((c=p.match(/Opera\/([\d.]*)/))&&c[1]){g[f="opera"]=k(c[1]);if((c=p.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])g[f]=k(c[1]);if((c=p.match(/Opera Mini[^;]*/))&&c)g.mobile=c[0].toLowerCase();else if((c=p.match(/Opera Mobi[^;]*/))&&c)g.mobile=c[0]}}else if((c=p.match(/MSIE\s([^;]*)/))&&c[1]){g[n="trident"]=0.1;g[f="ie"]=k(c[1]);if((c=p.match(/Trident\/([\d.]*)/))&&c[1])g[n]=k(c[1])}else if(c=p.match(/Gecko/)){g[n="gecko"]=0.1;if((c=p.match(/rv:([\d.]*)/))&&
c[1])g[n]=k(c[1]);if((c=p.match(/Firefox\/([\d.]*)/))&&c[1])g[f="firefox"]=k(c[1])}g.core=n;g.shell=f;g._numberify=k;a.UA=g});
KISSY.add("ua-extra",function(a){var p=a.UA,n=navigator.userAgent,f,c,g={},k=p._numberify;if(n.match(/360SE/))g[c="se360"]=3;else if(n.match(/Maxthon/)&&(f=window.external)){c="maxthon";try{g[c]=k(f.max_version)}catch(b){g[c]=0.1}}else if(f=n.match(/TencentTraveler\s([\d.]*)/))g[c="tt"]=f[1]?k(f[1]):0.1;else if(n.match(/TheWorld/))g[c="theworld"]=3;else if(f=n.match(/SE\s([\d.]*)/))g[c="sougou"]=f[1]?k(f[1]):0.1;c&&(g.shell=c);a.mix(p,g)});
KISSY.add("dom",function(a,p){function n(f,c){return f&&f.nodeType===c}a.DOM={_isElementNode:function(f){return n(f,1)},_isKSNode:function(f){return a.Node&&n(f,a.Node.TYPE)},_getWin:function(f){return f&&"scrollTo"in f&&f.document?f:n(f,9)?f.defaultView||f.parentWindow:f===p?window:false},_nodeTypeIs:n}});
KISSY.add("selector",function(a,p){function n(e,d){var i,j,l=[],m;d=f(d);if(a.isString(e)){e=a.trim(e);if(r.test(e)){if(j=c(e.slice(1),d))l=[j]}else if(i=o.exec(e)){j=i[1];m=i[2];i=i[3];if(d=j?c(j,d):d)if(i)if(!j||e.indexOf(q)!==-1)l=k(i,m,d);else{if((j=c(j,d))&&y.hasClass(j,i))l=[j]}else if(m)l=g(m,d)}else if(a.ExternalSelector)return a.ExternalSelector(e,d);else b(e)}else if(e&&(e[z]||e[u]))l=e[z]?[e[z]()]:e[u]();else if(e&&(a.isArray(e)||e&&!e.nodeType&&e.item&&e!=window))l=e;else if(e)l=[e];if(l&&
!l.nodeType&&l.item&&l!=window)l=a.makeArray(l);l.each=function(x,h){return a.each(l,x,h)};return l}function f(e){if(e===p)e=s;else if(a.isString(e)&&r.test(e))e=c(e.slice(1),s);else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function c(e,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(e)}function g(e,d){return d.getElementsByTagName(e)}function k(e,d,i){i=e=i.getElementsByClassName(e);var j=0,l=0,m=e.length,x;if(d&&d!==v){i=[];for(d=d.toUpperCase();j<m;++j){x=e[j];if(x.tagName===
d)i[l++]=x}}return i}function b(e){a.error("Unsupported selector: "+e)}var s=document,y=a.DOM,q=" ",v="*",z="getDOMNode",u=z+"s",r=/^#[\w-]+$/,o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=s.createElement("div");e.appendChild(s.createComment(""));if(e.getElementsByTagName(v).length>0)g=function(d,i){var j=i.getElementsByTagName(d);if(d===v){for(var l=[],m=0,x=0,h;h=j[m++];)if(h.nodeType===1)l[x++]=h;j=l}return j}})();s.getElementsByClassName||(k=s.querySelectorAll?function(e,d,
i){return i.querySelectorAll((d?d:"")+"."+e)}:function(e,d,i){d=i.getElementsByTagName(d||v);i=[];var j=0,l=0,m=d.length,x,h;for(e=q+e+q;j<m;++j){x=d[j];if((h=x.className)&&(q+h+q).indexOf(e)>-1)i[l++]=x}return i});a.query=n;a.get=function(e,d){return n(e,d)[0]||null};a.mix(y,{query:n,get:a.get,filter:function(e,d){var i=n(e),j,l,m,x=[];if(a.isString(d)&&(j=o.exec(d))&&!j[1]){l=j[2];m=j[3];d=function(h){return!(l&&h.tagName!==l.toUpperCase()||m&&!y.hasClass(h,m))}}if(a.isFunction(d))x=a.filter(i,
d);else if(d&&a.ExternalSelector)x=a.ExternalSelector._filter(e,d+"");else b(d);return x},test:function(e,d){var i=n(e);return i.length&&y.filter(i,d).length===i.length}})});
KISSY.add("dom-data",function(a,p){var n=window,f=a.DOM,c="_ks_data_"+a.now(),g={},k={},b={EMBED:1,OBJECT:1,APPLET:1};a.mix(f,{data:function(s,y,q){if(a.isPlainObject(y))for(var v in y)f.data(s,v,y[v]);else if(q===p){s=a.get(s);var z;if(!(!s||b[s.nodeName])){if(s==n)s=k;z=(v=s&&s.nodeType)?g:s;s=z[v?s[c]:c];if(a.isString(y)&&s)return s[y];return s}}else a.query(s).each(function(u){if(!(!u||b[u.nodeName])){if(u==n)u=k;var r=g,o;if(u&&u.nodeType){if(!(o=u[c]))o=u[c]=a.guid()}else{o=c;r=u}if(y&&q!==
p){r[o]||(r[o]={});r[o][y]=q}}})},removeData:function(s,y){a.query(s).each(function(q){if(q){if(q==n)q=k;var v,z=g,u,r=q&&q.nodeType;if(r)v=q[c];else{z=q;v=c}if(v){u=z[v];if(y){if(u){delete u[y];a.isEmptyObject(u)&&f.removeData(q)}}else{if(r)q.removeAttribute&&q.removeAttribute(c);else try{delete q[c]}catch(o){}r&&delete z[v]}}}})}})});
KISSY.add("dom-class",function(a,p){function n(k,b,s,y){if(!(b=a.trim(b)))return y?false:p;k=a.query(k);var q=0,v=k.length;b=b.split(c);for(var z;q<v;q++){z=k[q];if(f._isElementNode(z)){z=s(z,b,b.length);if(z!==p)return z}}if(y)return false}var f=a.DOM,c=/[\.\s]\s*\.?/,g=/[\n\t]/g;a.mix(f,{hasClass:function(k,b){return n(k,b,function(s,y,q){if(s=s.className){s=" "+s+" ";for(var v=0,z=true;v<q;v++)if(s.indexOf(" "+y[v]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(k,b){n(k,b,function(s,
y,q){var v=s.className;if(v){var z=" "+v+" ";v=v;for(var u=0;u<q;u++)if(z.indexOf(" "+y[u]+" ")<0)v+=" "+y[u];s.className=a.trim(v)}else s.className=b})},removeClass:function(k,b){n(k,b,function(s,y,q){var v=s.className;if(v)if(q){v=(" "+v+" ").replace(g," ");for(var z=0,u;z<q;z++)for(u=" "+y[z]+" ";v.indexOf(u)>=0;)v=v.replace(u," ");s.className=a.trim(v)}else s.className=""})},replaceClass:function(k,b,s){f.removeClass(k,b);f.addClass(k,s)},toggleClass:function(k,b,s){var y=a.isBoolean(s),q;n(k,
b,function(v,z,u){for(var r=0,o;r<u;r++){o=z[r];q=y?!s:f.hasClass(v,o);f[q?"removeClass":"addClass"](v,o)}})}})});
KISSY.add("dom-attr",function(a,p){var n=a.UA,f=document.documentElement,c=!f.hasAttribute,g=f.textContent!==p?"textContent":"innerText",k=a.DOM,b=k._isElementNode,s=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,q=/\r/g,v=/^(?:radio|checkbox)/,z={readonly:"readOnly"},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};c&&a.mix(z,{"for":"htmlFor","class":"className"});a.mix(k,{attr:function(r,o,e,d){if(a.isPlainObject(o)){d=e;for(var i in o)k.attr(r,i,o[i],d)}else if(o=a.trim(o)){o=
o.toLowerCase();if(d&&u[o])return k[o](r,e);o=z[o]||o;if(e===p){r=a.get(r);if(!b(r))return p;var j;s.test(o)||(j=r[o]);if(j===p)j=r.getAttribute(o);if(c)if(y.test(o))j=r.getAttribute(o,2);else if(o==="style")j=r.style.cssText;return j===null?p:j}a.each(a.query(r),function(l){if(b(l))if(o==="style")l.style.cssText=e;else{if(o==="checked")l[o]=!!e;l.setAttribute(o,""+e)}})}},removeAttr:function(r,o){a.each(a.query(r),function(e){if(b(e)){k.attr(e,o,"");e.removeAttribute(o)}})},val:function(r,o){if(o===
p){var e=a.get(r);if(!b(e))return p;if(e&&e.nodeName.toUpperCase()==="option".toUpperCase())return(e.attributes.value||{}).specified?e.value:e.text;if(e&&e.nodeName.toUpperCase()==="select".toUpperCase()){var d=e.selectedIndex,i=e.options;if(d<0)return null;else if(e.type==="select-one")return k.val(i[d]);e=[];for(var j=0,l=i.length;j<l;++j)i[j].selected&&e.push(k.val(i[j]));return e}if(n.webkit&&v.test(e.type))return e.getAttribute("value")===null?"on":e.value;return(e.value||"").replace(q,"")}a.each(a.query(r),
function(m){if(m&&m.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(o))o+="";var x=a.makeArray(o),h=m.options,t;j=0;for(l=h.length;j<l;++j){t=h[j];t.selected=a.inArray(k.val(t),x)}if(!x.length)m.selectedIndex=-1}else if(b(m))m.value=o})},text:function(r,o){if(o===p){var e=a.get(r);if(b(e))return e[g]||"";else if(k._nodeTypeIs(e,3))return e.nodeValue}else a.each(a.query(r),function(d){if(b(d))d[g]=o;else if(k._nodeTypeIs(d,3))d.nodeValue=o})}})});
KISSY.add("dom-style",function(a,p){function n(d,i){var j=a.get(d),l=i===s?j.offsetWidth:j.offsetHeight;a.each(i===s?["Left","Right"]:["Top","Bottom"],function(m){l-=parseFloat(c._getComputedStyle(j,"padding"+m))||0;l-=parseFloat(c._getComputedStyle(j,"border"+m+"Width"))||0});return l}function f(d,i,j){var l=j;if(j===y&&v.test(i)){l=0;if(a.inArray(c.css(d,"position"),["absolute","fixed"])){j=d[i==="left"?"offsetLeft":"offsetTop"];if(g.ie===8||g.opera)j-=q(c.css(d.offsetParent,"border-"+i+"-width"))||
0;l=j-(q(c.css(d,"margin-"+i))||0)}}return l}var c=a.DOM,g=a.UA,k=document,b=k.documentElement,s="width",y="auto",q=parseInt,v=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,u=/-([a-z])/ig,r=function(d,i){return i.toUpperCase()},o={},e={};a.mix(c,{_CUSTOM_STYLES:o,_getComputedStyle:function(d,i){var j="",l=d.ownerDocument;if(d.style)j=l.defaultView.getComputedStyle(d,null)[i];return j},css:function(d,i,j){if(a.isPlainObject(i))for(var l in i)c.css(d,l,i[l]);else{if(i.indexOf("-")>
0)i=i.replace(u,r);i=o[i]||i;if(j===p){d=a.get(d);l="";if(d&&d.style){l=i.get?i.get(d):d.style[i];if(l===""&&!i.get)l=f(d,i,c._getComputedStyle(d,i))}return l===p?"":l}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&z.test(i))j+="px";(i===s||i==="height")&&parseFloat(j)<0||a.each(a.query(d),function(m){if(m&&m.style){i.set?i.set(m,j):m.style[i]=j;if(j==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(d,i){if(i===p)return n(d,s);else c.css(d,s,i)},height:function(d,
i){if(i===p)return n(d,"height");else c.css(d,"height",i)},show:function(d){a.query(d).each(function(i){if(i){i.style.display=c.data(i,"display")||"";if(c.css(i,"display")==="none"){var j=i.tagName,l=e[j],m;if(!l){m=k.createElement(j);k.body.appendChild(m);l=c.css(m,"display");c.remove(m);e[j]=l}c.data(i,"display",l);i.style.display=l}}})},hide:function(d){a.query(d).each(function(i){if(i){var j=i.style,l=j.display;if(l!=="none"){l&&c.data(i,"display",l);j.display="none"}}})},toggle:function(d){a.query(d).each(function(i){if(i)i.style.display===
"none"?c.show(i):c.hide(i)})},addStyleSheet:function(d,i){var j;if(i&&(i=i.replace("#","")))j=a.get("#"+i);if(!j){j=c.create("<style>",{id:i});a.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=d;else j.appendChild(k.createTextNode(d))}}});if(b.style.cssFloat!==p)o["float"]="cssFloat";else if(b.style.styleFloat!==p)o["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,p){if(a.UA.ie){var n=a.DOM,f=document,c=f.documentElement,g=n._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,b=/^-?\d/,s=/^(?:width|height)$/;try{if(c.style.opacity===p&&c.filters)g.opacity={get:function(q){var v=100;try{v=q.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{v=q.filters("alpha").opacity}catch(u){}}return v/100+""},set:function(q,v){var z=q.style,u=(q.currentStyle||0).filter||"";z.zoom=1;if(u)if(u=u.replace(/alpha\(opacity=.+\)/ig,""))u+=", ";
z.filter=u+"alpha(opacity="+v*100+")"}}}catch(y){}if(!(f.defaultView||{}).getComputedStyle&&c.currentStyle)n._getComputedStyle=function(q,v){var z=q.style,u=q.currentStyle[v];if(s.test(v))u=n[v](q)+"px";else if(!k.test(u)&&b.test(u)){var r=z.left,o=q.runtimeStyle.left;q.runtimeStyle.left=q.currentStyle.left;z.left=v==="fontSize"?"1em":u||0;u=z.pixelLeft+"px";z.left=r;q.runtimeStyle.left=o}return u}}});
KISSY.add("dom-offset",function(a,p){function n(j){var l=0,m=0,x=y(j[u]);if(j[i]){j=j[i]();l=j[r];m=j[o];if(c.mobile!=="apple"){l+=f[e](x);m+=f[d](x)}}return{left:l,top:m}}var f=a.DOM,c=a.UA,g=window,k=document,b=f._isElementNode,s=f._nodeTypeIs,y=f._getWin,q=k.compatMode==="CSS1Compat",v=Math.max,z=parseInt,u="ownerDocument",r="left",o="top",e="scrollLeft",d="scrollTop",i="getBoundingClientRect";a.mix(f,{offset:function(j,l){if(!(j=a.get(j))||!j[u])return null;if(l===p)return n(j);var m=j;if(f.css(m,
"position")==="static")m.style.position="relative";var x=n(m),h={},t,w;for(w in l){t=z(f.css(m,w),10)||0;h[w]=t+l[w]-x[w]}f.css(m,h)},scrollIntoView:function(j,l,m,x){if((j=a.get(j))&&j[u]){x=x===p?true:!!x;m=m===p?true:!!m;if(!l||l===g)return j.scrollIntoView(m);l=a.get(l);if(s(l,9))l=y(l);var h=l&&"scrollTo"in l&&l.document,t=f.offset(j),w=h?{left:f.scrollLeft(l),top:f.scrollTop(l)}:f.offset(l),A={left:t[r]-w[r],top:t[o]-w[o]};t=h?f.viewportHeight(l):l.clientHeight;w=h?f.viewportWidth(l):l.clientWidth;
var B=f[e](l),E=f[d](l),D=B+w,C=E+t,K=j.offsetHeight;j=j.offsetWidth;var J=A.left+B-(z(f.css(l,"borderLeftWidth"))||0);A=A.top+E-(z(f.css(l,"borderTopWidth"))||0);var G=J+j,F=A+K,H,I;if(K>t||A<E||m)H=A;else if(F>C)H=F-t;if(x)if(j>w||J<B||m)I=J;else if(G>D)I=G-w;if(h){if(H!==p||I!==p)l.scrollTo(I,H)}else{if(H!==p)l[d]=H;if(I!==p)l[e]=I}}}});a.each(["Left","Top"],function(j,l){var m="scroll"+j;f[m]=function(x){var h=0,t=y(x),w;if(t&&(w=t.document))h=t[l?"pageYOffset":"pageXOffset"]||w.documentElement[m]||
w.body[m];else if(b(x=a.get(x)))h=x[m];return h}});a.each(["Width","Height"],function(j){f["doc"+j]=function(l){l=l||k;return v(q?l.documentElement["scroll"+j]:l.body["scroll"+j],f["viewport"+j](l))};f["viewport"+j]=function(l){var m="inner"+j;l=y(l);var x=l.document;return m in l?l[m]:q?x.documentElement["client"+j]:x.body["client"+j]}})});
KISSY.add("dom-traversal",function(a,p){function n(k,b,s,y){if(!(k=a.get(k)))return null;if(b===p)b=1;var q=null,v,z;if(a.isNumber(b)&&b>=0){if(b===0)return k;v=0;z=b;b=function(){return++v===z}}for(;k=k[s];)if(g(k)&&(!b||c.test(k,b))&&(!y||y(k))){q=k;break}return q}function f(k,b,s){var y=[];var q=k=a.get(k);if(k&&s)q=k.parentNode;if(q){s=0;for(q=q.firstChild;q;q=q.nextSibling)if(g(q)&&q!==k&&(!b||c.test(q,b)))y[s++]=q}return y}var c=a.DOM,g=c._isElementNode;a.mix(c,{parent:function(k,b){return n(k,
b,"parentNode",function(s){return s.nodeType!=11})},next:function(k,b){return n(k,b,"nextSibling")},prev:function(k,b){return n(k,b,"previousSibling")},siblings:function(k,b){return f(k,b,true)},children:function(k,b){return f(k,b)},contains:function(k,b){var s=false;if((k=a.get(k))&&(b=a.get(b)))if(k.contains){if(b.nodeType===3){b=b.parentNode;if(b===k)return true}if(b)return k.contains(b)}else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(b)&16);else for(;!s&&(b=b.parentNode);)s=
b==k;return s}})});
KISSY.add("dom-create",function(a,p){function n(h){var t=h.cloneNode(true);if(b.ie<8)t.innerHTML=h.innerHTML;return t}function f(h,t,w,A){if(w){var B=a.guid("ks-tmp-"),E=RegExp(r);t+='<span id="'+B+'"></span>';a.available(B,function(){var D=a.get("head"),C,K,J,G,F,H;for(E.lastIndex=0;C=E.exec(t);)if((J=(K=C[1])?K.match(e):false)&&J[2]){C=g.createElement("script");C.src=J[2];if((G=K.match(d))&&G[2])C.charset=G[2];C.async=true;D.appendChild(C)}else if((H=C[2])&&H.length>0)a.globalEval(H);(F=g.getElementById(B))&&
k.remove(F);a.isFunction(A)&&A()});c(h,t)}else{c(h,t);a.isFunction(A)&&A()}}function c(h,t){t=(t+"").replace(r,"");try{h.innerHTML=t}catch(w){for(;h.firstChild;)h.removeChild(h.firstChild);t&&h.appendChild(k.create(t))}}var g=document,k=a.DOM,b=a.UA,s=b.ie,y=k._nodeTypeIs,q=k._isElementNode,v=k._isKSNode,z=g.createElement("div"),u=/<(\w+)/,r=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;a.mix(k,{create:function(h,
t,w){if(y(h,1)||y(h,3))return n(h);if(v(h))return n(h[0]);if(!(h=a.trim(h)))return null;var A=null;A=k._creators;var B,E="div",D;if(B=o.exec(h))A=(w||g).createElement(B[1]);else{if((B=u.exec(h))&&(D=B[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;h=A[E](h,w).childNodes;if(h.length===1)w=h[0].parentNode.removeChild(h[0]);else{h=h;D=w||g;w=null;if(h&&(h.push||h.item)&&h[0]){D=D||h[0].ownerDocument;w=D.createDocumentFragment();if(h.item)h=a.makeArray(h);D=0;for(A=h.length;D<A;D++)w.appendChild(h[D])}w=
w}A=w}w=A;q(w)&&a.isPlainObject(t)&&k.attr(w,t,true);return w},_creators:{div:function(h,t){var w=t?t.createElement("div"):z;w.innerHTML=h;return w}},html:function(h,t,w,A){if(t===p){h=a.get(h);if(q(h))return h.innerHTML}else a.each(a.query(h),function(B){q(B)&&f(B,t,w,A)})},remove:function(h){a.each(a.query(h),function(t){q(t)&&t.parentNode&&t.parentNode.removeChild(t)})}});if(s||b.gecko||b.webkit){var i=k._creators,j=k.create,l=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,m={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},x;for(x in m)(function(h){i[x]=function(t,w){return j("<"+h+">"+t+"</"+h+">",null,w)}})(m[x]);if(s){i.script=function(h,t){var w=t?t.createElement("div"):z;w.innerHTML="-"+h;w.removeChild(w.firstChild);return w};if(s<8)i.tbody=function(h,t){var w=j("<table>"+h+"</table>",null,t),A=w.children.tags("tbody")[0];w.children.length>1&&A&&!l.test(h)&&A.parentNode.removeChild(A);return w}}a.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,
caption:i.tbody,colgroup:i.tbody})}});
KISSY.add("dom-insertion",function(a){var p=a.DOM;a.mix(p,{insertBefore:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.parentNode.insertBefore(n,f);return n},insertAfter:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.nextSibling?f.parentNode.insertBefore(n,f.nextSibling):f.parentNode.appendChild(n);return n},append:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.appendChild&&f.appendChild(n)},prepend:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.firstChild?p.insertBefore(n,
f.firstChild):f.appendChild(n)}})});
KISSY.add("event",function(a,p){function n(r,o,e,d,i){if(a.isString(o))o=a.query(o);if(a.isArray(o)){a.each(o,function(j){u[r](j,e,d,i)});return true}if((e=a.trim(e))&&e.indexOf(q)>0){a.each(e.split(q),function(j){u[r](o,j,d,i)});return true}}function f(r){return r&&r.nodeType!==3&&r.nodeType!==8?k.data(r,y):-1}function c(r,o){r&&r.nodeType!==3&&r.nodeType!==8&&k.data(r,y,o)}var g=document,k=a.DOM,b=g.addEventListener?function(r,o,e,d){r.addEventListener&&r.addEventListener(o,e,!!d)}:function(r,o,
e){r.attachEvent&&r.attachEvent("on"+o,e)},s=g.removeEventListener?function(r,o,e,d){r.removeEventListener&&r.removeEventListener(o,e,!!d)}:function(r,o,e){r.detachEvent&&r.detachEvent("on"+o,e)},y="ksEventTargetId",q=" ",v=a.now(),z={},u={EVENT_GUID:y,special:{},add:function(r,o,e,d){if(!n("add",r,o,e,d)){var i=f(r),j,l,m,x,h;if(!(i===-1||!o||!a.isFunction(e))){if(!i){c(r,i=v++);z[i]={target:r,events:{}}}l=z[i].events;if(!l[o]){j=((i=!r.isCustomEventTarget)||r._supportSpecialEvent)&&u.special[o]||
{};m=function(t,w){if(!t||!t.fixed)t=new a.EventObject(r,t,o);if(a.isPlainObject(w)){var A=t.type;a.mix(t,w);t.type=A}j.setup&&j.setup(t);return(j.handle||u._handle)(r,t)};l[o]={handle:m,listeners:[]};x=j.fix||o;h=j.capture;j.init&&j.init.apply(null,a.makeArray(arguments));i&&j.fix!==false&&b(r,x,m,h)}l[o].listeners.push({fn:e,scope:d||r})}}},__getListeners:function(r,o){var e,d=[];if(e=(u.__getEvents(r)||{})[o])d=e.listeners;return d},__getEvents:function(r){var o=f(r),e;if(o!==-1)if(o&&(e=z[o]))if(e.target===
r)return e.events||{}},remove:function(r,o,e,d){if(!n("remove",r,o,e,d)){var i=u.__getEvents(r),j=f(r),l,m,x,h,t,w,A=(!r.isCustomEventTarget||r._supportSpecialEvent)&&u.special[o]||{};if(i!==undefined){d=d||r;if(l=i[o]){m=l.listeners;x=m.length;if(a.isFunction(e)&&x){t=h=0;for(w=[];h<x;++h)if(e!==m[h].fn||d!==m[h].scope)w[t++]=m[h];l.listeners=w;x=w.length}if(e===p||x===0){if(!r.isCustomEventTarget){A=u.special[o]||{};if(A.fix!==false)s(r,A.fix||o,l.handle)}delete i[o]}}A.destroy&&A.destroy.apply(null,
a.makeArray(arguments));if(o===p||a.isEmptyObject(i)){for(o in i)u.remove(r,o);delete z[j];k.removeData(r,y)}}}},_handle:function(r,o){var e=u.__getListeners(r,o.type);e=e.slice(0);for(var d,i=0,j=e.length;i<j;++i){d=e[i];d=d.fn.call(d.scope,o);if(d!==p){o.result=d;d===false&&o.halt()}if(o.isImmediatePropagationStopped)break}return d},_getCache:function(r){return z[r]},__getID:f,_simpleAdd:b,_simpleRemove:s};u.on=u.add;a.Event=u});
KISSY.add("event-object",function(a,p){function n(g,k,b){this.currentTarget=g;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=b;this.target=g}this.currentTarget=g;this.fixed=true}var f=document,c="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(n,{_fix:function(){var g=this.originalEvent,k=c.length,b,s=this.currentTarget;for(s=s.nodeType===9?s:s.ownerDocument||f;k;){b=c[--k];this[b]=g[b]}if(!this.target)this.target=this.srcElement||f;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===p&&this.clientX!==p){g=s.documentElement;k=s.body;this.pageX=this.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||
0)-(g&&g.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)}if(this.which===p)this.which=this.charCode!==p?this.charCode:this.keyCode;if(this.metaKey===p)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==p)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=n});
KISSY.add("event-target",function(a,p){var n=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(f,c){var g=a.DOM.data(this,n.EVENT_GUID)||-1;if((g=((n._getCache(g)||{}).events||{})[f])&&a.isFunction(g.handle))return g.handle(p,c)},on:function(f,c,g){n.add(this,f,c,g);return this},detach:function(f,c,g){n.remove(this,f,c,g);return this}}});
KISSY.add("event-mouseenter",function(a){var p=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){p.special[n.name]={fix:n.fix,setup:function(f){f.type=n.name},handle:function(f,c){if(a.DOM._isKSNode(f))f=f[0];var g=c.relatedTarget;try{for(;g&&g!==f;)g=g.parentNode;g!==f&&p._handle(f,c)}catch(k){}}}})});
KISSY.add("event-focusin",function(a){var p=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){p.special[n.name]={fix:n.fix,capture:true,setup:function(f){f.type=n.name}}})});
KISSY.add("event-hashchange",function(a){var p=a.Event;if((document.documentMode||a.UA.ie)<8){var n,f=function(){function g(){var q=a.trim(s.contentWindow.document.body.innerHTML);if(q!=(y.hash||"#"))y.hash=q;for(q=0;q<c.length;q++)p._handle(c[q],{type:"hashchange"})}function k(q){q="<html><body>"+q+"</body></html>";var v=s.contentWindow.document;try{v.open();v.write(q);v.close();return true}catch(z){return false}}function b(){n=setTimeout(function(){var q=a.trim(s.contentWindow.document.body.innerHTML),
v=y.hash||"#";q!=v&&k(v);b()},500)}var s=a.DOM.create("<iframe class='ks-hashchange-history-iframe'style='position:absolute;left:-9999px;top:-9999px;'>");a.DOM.prepend(s,document.body);var y=window.location;p.add(s,"load",function(){p.remove(s,"load");k(y.hash||"#");p.add(s,"load",g);b()});f=b},c=[];p.special.hashchange={fix:false,init:function(g){a.indexOf(g,g)==-1&&c.push(g);n||f()},destroy:function(g,k){if(!p.__getEvents(g)[k]){var b=a.indexOf(g,c);b>=0&&c.splice(b,1)}if(c.length==0){clearTimeout(n);
n=null}}}}});KISSY.add("node",function(a){function p(f,c,g){if(!(this instanceof p))return new p(f,c,g);if(f){if(a.isString(f)){f=n.create(f,c,g);if(f.nodeType===11)return new a.NodeList(f.childNodes)}else if(f instanceof p)return f;else f=f;this[0]=f}else this.length=0}var n=a.DOM;p.TYPE="-ks-Node";a.augment(p,{length:1,getDOMNode:function(){return this[0]},nodeType:p.TYPE});a.one=function(f,c){var g=a.get(f,c);return g?new p(g):null};a.Node=p});
KISSY.add("nodelist",function(a){function p(c){if(!(this instanceof p))return new p(c);n.push.apply(this,a.makeArray(c)||[])}var n=Array.prototype,f=a.DOM._isElementNode;a.mix(p.prototype,{length:0,item:function(c){var g=null,k,b;if(f(c)){k=0;for(b=this.length;k<b;k++)if(c===this[k]){c=k;break}}if(f(this[c]))g=new a.Node(this[c]);return g},getDOMNodes:function(){return n.slice.call(this)},each:function(c,g){var k=this.length,b=0,s;for(s=new a.Node(this[0]);b<k&&c.call(g||s,s,b,this)!==false;s=new a.Node(this[++b]));
return this}});a.all=function(c,g){return new p(a.query(c,g,true))};a.NodeList=p});
KISSY.add("node-attach",function(a,p){function n(m,x,h,t){m=[this[m?d:e]()].concat(a.makeArray(x));if(x[h]===p)return t.apply(b,m);else{t.apply(b,m);return this}}function f(m,x){a.each(m,function(h){a.each([r,o],function(t,w){t[h]=function(A){switch(x){case i:return function(){return n.call(this,w,arguments,1,A)};case j:return function(){return n.call(this,w,arguments,0,A)};case l:return function(){var B=this[w?d:e]();return(B=A.apply(b,[B].concat(a.makeArray(arguments))))?new (a[a.isArray(B)?"NodeList":
"Node"])(B):null};default:return function(){var B=this[w?d:e]();B=A.apply(b,[B].concat(a.makeArray(arguments)));return B===p?this:B}}}(b[h])})})}function c(m,x,h){m&&a.each(this,function(t){var w;if(x||a.isString(m))w=b.create(m);else{if(y(m,1)||y(m,3))w=m;if(q(m))w=m[0]}b[h](w,t)});return this}function g(m,x){if((m=a.get(m))&&m.appendChild)a.each(this,function(h){b[x](h,m)});return this}function k(m,x){m.__wrap=m.__wrap||[];m.__wrap.push(x)}var b=a.DOM,s=a.Event,y=b._nodeTypeIs,q=b._isKSNode,v=a.EventTarget,
z=a.Node,u=a.NodeList,r=z.prototype,o=u.prototype,e="getDOMNode",d=e+"s",i=1,j=2,l=4;a.mix(r,{one:function(m){return a.one(m,this[0])},all:function(m){return a.all(m,this[0])}});f(["data","removeData"],i);f(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);f(["attr","removeAttr"],i);f(["val","text"],j);f(["css"],i);f(["width","height"],j);f(["offset"],j);f(["scrollIntoView"]);f(["parent","next","prev","siblings","children"],l);f(["contains"]);f(["html"],j);f(["remove"]);a.each(["insertBefore",
"insertAfter"],function(m){r[m]=function(x){b[m].call(b,this[0],x);return this}});a.each([r,o],function(m,x){a.each(["append","prepend"],function(h){m[h]=function(t){return c.call(this,t,x,h)};m[h+"To"]=function(t){return g.call(this,t,h)}})});a.augment(z,v,{fire:null,on:function(m,x,h){function t(A){var B=a.makeArray(arguments);B.shift();A.target=new z(A.target);B.unshift(A);return x.apply(h||w,B)}var w=this;s.add(this[0],m,t,h);k(x,t);return this},detach:function(m,x,h){if(a.isFunction(x)){x=x.__wrap||
[];for(var t=0;t<x.length;t++)s.remove(this[0],m,x[t],h)}else s.remove(this[0],m,x,h);return this}});a.augment(u,v,{fire:null});r._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(m,x){o[x]=function(h,t,w){for(var A=0;A<this.length;A++)this.item(A).on(h,t,w)}})});if(!this.JSON)this.JSON={};
(function(){function a(y){return y<10?"0"+y:y}function p(y){c.lastIndex=0;return c.test(y)?'"'+y.replace(c,function(q){var v=b[q];return typeof v==="string"?v:"\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+y+'"'}function n(y,q){var v,z,u,r,o=g,e,d=q[y];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(y);if(typeof s==="function")d=s.call(q,y,d);switch(typeof d){case "string":return p(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";g+=k;e=[];if(Object.prototype.toString.apply(d)==="[object Array]"){r=d.length;for(v=0;v<r;v+=1)e[v]=n(v,d)||"null";u=e.length===0?"[]":g?"[\n"+g+e.join(",\n"+g)+"\n"+o+"]":"["+e.join(",")+"]";g=o;return u}if(s&&typeof s==="object"){r=s.length;for(v=0;v<r;v+=1){z=s[v];if(typeof z==="string")if(u=n(z,d))e.push(p(z)+(g?": ":":")+u)}}else for(z in d)if(Object.hasOwnProperty.call(d,z))if(u=n(z,d))e.push(p(z)+(g?": ":":")+u);u=e.length===0?"{}":g?"{\n"+g+e.join(",\n"+g)+
"\n"+o+"}":"{"+e.join(",")+"}";g=o;return u}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,k,b={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;if(typeof JSON.stringify!=="function")JSON.stringify=function(y,q,v){var z;k=g="";if(typeof v==="number")for(z=0;z<v;z+=1)k+=" ";else if(typeof v==="string")k=v;if((s=q)&&typeof q!=="function"&&(typeof q!=="object"||typeof q.length!=="number"))throw Error("JSON.stringify");return n("",{"":y})};
if(typeof JSON.parse!=="function")JSON.parse=function(y,q){function v(u,r){var o,e,d=u[r];if(d&&typeof d==="object")for(o in d)if(Object.hasOwnProperty.call(d,o)){e=v(d,o);if(e!==undefined)d[o]=e;else delete d[o]}return q.call(u,r,d)}var z;y=String(y);f.lastIndex=0;if(f.test(y))y=y.replace(f,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(y.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){z=eval("("+y+")");return typeof q==="function"?v({"":z},""):z}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var p=window.JSON;a.JSON={parse:function(n){if(n==null||n==="")return null;return p.parse(n)},stringify:p.stringify}});
KISSY.add("ajax",function(a,p){function n(h){h=a.merge(x,h);if(h.url){if(h.data&&!a.isString(h.data))h.data=a.param(h.data);h.context=h.context||h;var t,w=d,A,B=h.type.toUpperCase();if(h.dataType===v){t=h.jsonpCallback||v+a.now();h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+(h.jsonp+"="+t);h.dataType=z;var E=g[t];g[t]=function(G){if(a.isFunction(E))E(G);else{g[t]=p;try{delete g[t]}catch(F){}}f([d,i],G,w,C,h)}}if(h.data&&B===b)h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+h.data;if(h.dataType===z){c(r,
h);B=a.getScript(h.url,t?null:function(){f([d,i],u,w,C,h)});c(o,h);return B}var D=false,C=h.xhr();c(r,h);C.open(B,h.url,h.async);try{if(h.data||h.contentType)C.setRequestHeader(y,h.contentType);C.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*; q=0.01":h.accepts._default)}catch(K){}C.onreadystatechange=function(G){if(!C||C.readyState===0||G==="abort"){D||f(i,null,j,C,h);D=true;if(C)C.onreadystatechange=k}else if(!D&&C&&(C.readyState===4||G===l)){D=true;C.onreadystatechange=
k;var F;if(G===l)F=l;else{a:{try{F=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(H){}F=false}F=F?d:j}w=F;try{F=C;var I=h.dataType,M=u,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(y)||u;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===m)throw m;}if(a.isString(L))if(I===q||!I&&M.indexOf(q)>=0)L=a.JSON.parse(L);A=L}catch(O){w=m}f([w===d?d:j,i],A,w,C,h);if(G===l){C.abort();c(e,h)}if(h.async)C=null}};c(o,h);try{C.send(B===
s?h.data:null)}catch(J){f([j,i],A,j,C,h)}h.async||c(i,h);return C}}function f(h,t,w,A,B){if(a.isArray(h))a.each(h,function(E){f(E,t,w,A,B)});else{w===h&&B[h]&&B[h].call(B.context,t,w,A);c(h,B)}}function c(h,t){n.fire(h,{ajaxConfig:t})}var g=window,k=function(){},b="GET",s="POST",y="Content-Type",q="json",v=q+"p",z="script",u="",r="start",o="send",e="stop",d="success",i="complete",j="error",l="timeout",m="parsererror",x={type:b,url:u,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:g.ActiveXObject?function(){if(g.XmlHttpRequest)try{return new g.XMLHttpRequest}catch(h){}try{return new g.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}:function(){return new g.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(n,a.EventTarget);a.mix(n,{get:function(h,t,w,A,B){if(a.isFunction(t)){A=w;w=t}return n({type:B||b,
url:h,data:t,success:function(E,D,C){w&&w.call(this,E,D,C)},dataType:A})},post:function(h,t,w,A){if(a.isFunction(t)){A=w;w=t;t=p}return n.get(h,t,w,A,s)},jsonp:function(h,t,w){if(a.isFunction(t)){w=t;t=null}return n.get(h,t,w,v)}});n.getScript=a.getScript;a.io=a.ajax=n.ajax=n;a.jsonp=n.jsonp;a.IO=n});
KISSY.add("anim-easing",function(a){var p=Math,n=p.PI,f=p.pow,c=p.sin,g=1.70158,k={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(f(2,10*(b-=1))*c((b-0.075)*2*n/0.3))},
elasticOut:function(b){if(b===0||b===1)return b;return f(2,-10*b)*c((b-0.075)*2*n/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*f(2,10*(b-=1))*c((b-0.1125)*2*n/0.45);return f(2,-10*(b-=1))*c((b-0.1125)*2*n/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((g+1)*b-g)},backOut:function(b){return(b-=1)*b*((g+1)*b+g)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((g*=1.525)+1)*b-g);return 0.5*((b-=2)*b*(((g*=1.525)+1)*b+g)+2)},bounceIn:function(b){return 1-
k.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return k.bounceIn(b*2)*0.5;return k.bounceOut(b*2-1)*0.5+0.5}};k.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=k});
KISSY.add("anim",function(a,p){function n(e,d,i,j,l,m){if(e=a.get(e)){if(!(this instanceof n))return new n(e,d,i,j,l,m);var x=a.isPlainObject(i);d=d;this.domEl=e;if(a.isPlainObject(d))d=a.param(d,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var h={},t=z.length,w;v.innerHTML='<div style="'+d+'"></div>';for(e=v.firstChild.style;t--;)if(w=e[z[t]])h[z[t]]=g(w);this.props=h;this.targetStyle=d;if(x)x=a.merge(o,i);else{x=a.clone(o);if(i)x.duration=q(i)||1;if(a.isString(j)||
a.isFunction(j))x.easing=j;if(a.isFunction(l))x.complete=l;if(m!==p)x.nativeSupport=m}this.config=x;if(x.nativeSupport&&f()&&a.isString(j=x.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=y.NativeTimeFunction[j])){x.easing=j;this.transitionName=f()}a.isFunction(l)&&this.on(r,l)}}function f(){var e="transition",d;if(v.style[e]!==p)d=e;else a.each(["Webkit","Moz","O"],function(i){if(v.style[e=i+"Transition"]!==p){d=e;return false}});f=function(){return d};return d}function c(e,d,i){a.UA.ie&&i.indexOf(u)>
-1&&s.css(e,u,d[u].v);e.style.cssText+=";"+i}function g(e){var d=q(e);e=(e+"").replace(/^[-\d.]+/,"");return isNaN(d)?{v:e,u:"",f:b}:{v:d,u:e,f:k}}function k(e,d,i){return(e+(d-e)*i).toFixed(3)}function b(e,d,i){for(var j=2,l,m,x=[],h=[];l=3,m=arguments[j-1],j--;)if(m.substr(0,4)==="rgb(")for(m=m.match(/\d+/g);l--;)x.push(~~m[l]);else if(m.substr(0,1)==="#"){if(m.length===4)m="#"+m.substr(1,1)+m.substr(1,1)+m.substr(2,1)+m.substr(2,1)+m.substr(3,1)+m.substr(3,1);for(;l--;)x.push(parseInt(m.substr(1+
l*2,2),16))}else return d;for(;l--;){j=~~(x[l+3]+(x[l]-x[l+3])*i);h.push(j<0?0:j>255?255:j)}return"rgb("+h.join(",")+")"}var s=a.DOM,y=a.Easing,q=parseFloat,v=s.create("<div>"),z="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="opacity",r="complete",o={duration:1,easing:"easeNone",nativeSupport:true};a.augment(n,a.EventTarget,{run:function(){var e=this,d=e.config,i=e.domEl,j,l,m,x,h=e.props,t={},w;for(w in h)t[w]=g(s.css(i,w));if(e.fire("start")!==false){e.stop();if(e.transitionName)e._nativeRun();else{j=d.duration*1E3;m=a.now();x=m+j;l=d.easing;if(a.isString(l))l=y[l]||y.easeNone;e.timer=a.later(d=function(){var A=a.now(),B=A>x?1:(A-m)/j,E,D,C;for(w in h){E=t[w];D=h[w];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;s.css(i,w,
D.f(E.v,D.v,l(B))+D.u)}if(e.fire("step")===false||(C=A>x)){e.stop();C&&e.fire(r)}},13,true);d()}return e}},_nativeRun:function(){var e=this,d=e.config,i=e.domEl,j=e.props,l=d.duration*1E3;d=d.easing;var m=e.transitionName,x={};x[m+"Property"]="all";x[m+"Duration"]=l+"ms";x[m+"TimingFunction"]=d;s.css(i,x);a.later(function(){c(i,j,e.targetStyle)},0);a.later(function(){e.stop(true)},l)},stop:function(e){if(this.transitionName)this._nativeStop(e);else{if(this.timer){this.timer.cancel();this.timer=p}if(e){c(this.domEl,
this.props,this.targetStyle);this.fire(r)}}return this},_nativeStop:function(e){var d=this.domEl,i=this.transitionName,j=this.props,l;if(e){s.css(d,i+"Property","none");this.fire(r)}else{for(l in j)s.css(d,l,s._getComputedStyle(d,l));s.css(d,i+"Property","none")}}});n.supportTransition=function(){return!!f()};a.Anim=n});
KISSY.add("anim-node-plugin",function(a,p){function n(u,r,o,e,d){if(r==="toggle"){d=f.css(u,g)===k?1:0;r="show"}if(d)f.css(u,g,f.data(u,g)||"");var i={},j={};a.each(z[r],function(l){if(l===b){i[b]=f.css(u,b);f.css(u,b,s)}else if(l===y){i[y]=f.css(u,y);j.opacity=d?1:0;d&&f.css(u,y,0)}else if(l===q){i[q]=f.css(u,q);j.height=d?f.css(u,q)||u.naturalHeight:0;d&&f.css(u,q,0)}else if(l===v){i[v]=f.css(u,v);j.width=d?f.css(u,v)||u.naturalWidth:0;d&&f.css(u,v,0)}});(new a.Anim(u,j,o,"easeOut",function(){if(!d){var l=
u.style,m=l[g];if(m!==k){m&&f.data(u,g,m);l[g]=k}i[q]&&f.css(u,{height:i[q]});i[v]&&f.css(u,{height:i[v]});i[y]&&f.css(u,{height:i[y]});i[b]&&f.css(u,{height:i[b]})}e&&a.isFunction(e)&&e()})).run()}var f=a.DOM,c=a.Anim,g="display",k="none",b="overflow",s="hidden",y="opacity",q="height",v="width",z={show:[b,y,q,v],fade:[y],slide:[b,q]};a.each([a.Node.prototype,a.NodeList.prototype],function(u){u.animate=function(){var r=a.makeArray(arguments);a.each(this,function(o){c.apply(p,[o].concat(r)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(r,o){u[o]=function(e,d){f[o]&&arguments.length===0?f[o](this):a.each(this,function(i){n(i,r[0],e,d,r[1])});return this}})})});
KISSY.add("cookie",function(a){var p=document,n=encodeURIComponent,f=decodeURIComponent;a.Cookie={get:function(c){var g;if(a.isString(c)&&c!=="")if(c=p.cookie.match("(?:^| )"+c+"(?:(?:=([^;]*))|;|$)"))g=c[1]?f(c[1]):"";return g},set:function(c,g,k,b,s,y){g=n(g);var q=k;if(typeof q==="number"){q=new Date;q.setTime(q.getTime()+k*864E5)}if(q instanceof Date)g+="; expires="+q.toUTCString();if(a.isString(b)&&b!=="")g+="; domain="+b;if(a.isString(s)&&s!=="")g+="; path="+s;if(y)g+="; secure";p.cookie=c+
"="+g},remove:function(c,g,k,b){this.set(c,"",0,g,k,b)}}});
KISSY.add("attribute",function(a,p){function n(){this.__attrs={};this.__attrVals={}}function f(c){c+="";return c.charAt(0).toUpperCase()+c.substring(1)}a.augment(n,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(c,g){this.__attrs[c]=a.clone(g||{});return this},hasAttr:function(c){return c&&this.__attrs.hasOwnProperty(c)},removeAttr:function(c){if(this.hasAttr(c)){delete this.__attrs[c];delete this.__attrVals[c]}return this},set:function(c,g){var k=this.get(c);if(k!==g)if(false!==
this.__fireAttrChange("before",c,k,g)){this.__set(c,g);this.__fireAttrChange("after",c,k,this.__attrVals[c]);return this}},__fireAttrChange:function(c,g,k,b){return this.fire(c+f(g)+"Change",{attrName:g,prevVal:k,newVal:b})},__set:function(c,g){var k,b=this.__attrs[c];if(b=b&&b.setter)k=b.call(this,g);if(k!==p)g=k;this.__attrVals[c]=g},get:function(c){var g;g=(g=this.__attrs[c])&&g.getter;c=c in this.__attrVals?this.__attrVals[c]:this.__getDefAttrVal(c);if(g)c=g.call(this,c);return c},__getDefAttrVal:function(c){c=
this.__attrs[c];var g;if(c){if(g=c.valueFn){g=g.call(this);if(g!==p)c.value=g;delete c.valueFn}return c.value}},reset:function(c){if(this.hasAttr(c))return this.set(c,this.__getDefAttrVal(c));for(c in this.__attrs)this.hasAttr(c)&&this.reset(c);return this}});a.Attribute=n;n.__capitalFirst=f});
KISSY.add("base",function(a){function p(n){a.Attribute.call(this);for(var f=this.constructor;f;){var c=f.ATTRS;if(c){var g=void 0;for(g in c)c.hasOwnProperty(g)&&!this.hasAttr(g)&&this.addAttr(g,c[g])}f=f.superclass?f.superclass.constructor:null}if(n)for(var k in n)n.hasOwnProperty(k)&&this.__set(k,n[k])}a.augment(p,a.EventTarget,a.Attribute);a.Base=p});
