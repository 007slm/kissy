/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua",function(a){var q=navigator.userAgent,n="",g="",e,f={},j=function(c){var u=0;return parseFloat(c.replace(/\./g,function(){return u++===0?".":""}))};if((e=q.match(/AppleWebKit\/([\d.]*)/))&&e[1]){f[n="webkit"]=j(e[1]);if((e=q.match(/Chrome\/([\d.]*)/))&&e[1])f[g="chrome"]=j(e[1]);else if((e=q.match(/\/([\d.]*) Safari/))&&e[1])f[g="safari"]=j(e[1]);if(/ Mobile\//.test(q))f.mobile="apple";else if(e=q.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))f.mobile=e[0].toLowerCase()}else if((e=
q.match(/Presto\/([\d.]*)/))&&e[1]){f[n="presto"]=j(e[1]);if((e=q.match(/Opera\/([\d.]*)/))&&e[1]){f[g="opera"]=j(e[1]);if((e=q.match(/Opera\/.* Version\/([\d.]*)/))&&e[1])f[g]=j(e[1]);if((e=q.match(/Opera Mini[^;]*/))&&e)f.mobile=e[0].toLowerCase();else if((e=q.match(/Opera Mobi[^;]*/))&&e)f.mobile=e[0]}}else if((e=q.match(/MSIE\s([^;]*)/))&&e[1]){f[n="trident"]=0.1;f[g="ie"]=j(e[1]);if((e=q.match(/Trident\/([\d.]*)/))&&e[1])f[n]=j(e[1])}else if(e=q.match(/Gecko/)){f[n="gecko"]=0.1;if((e=q.match(/rv:([\d.]*)/))&&
e[1])f[n]=j(e[1]);if((e=q.match(/Firefox\/([\d.]*)/))&&e[1])f[g="firefox"]=j(e[1])}f.core=n;f.shell=g;f._numberify=j;a.UA=f});
KISSY.add("ua-extra",function(a){var q=a.UA,n=navigator.userAgent,g,e,f={},j=q._numberify;if(n.match(/360SE/))f[e="se360"]=3;else if(n.match(/Maxthon/)&&(g=window.external)){e="maxthon";try{f[e]=j(g.max_version)}catch(c){f[e]=0.1}}else if(g=n.match(/TencentTraveler\s([\d.]*)/))f[e="tt"]=g[1]?j(g[1]):0.1;else if(n.match(/TheWorld/))f[e="theworld"]=3;else if(g=n.match(/SE\s([\d.]*)/))f[e="sougou"]=g[1]?j(g[1]):0.1;e&&(f.shell=e);a.mix(q,f)});
KISSY.add("dom",function(a,q){function n(g,e){return g&&g.nodeType===e}a.DOM={_isElementNode:function(g){return n(g,1)},_isKSNode:function(g){return a.Node&&n(g,a.Node.TYPE)},_getWin:function(g){return g&&"scrollTo"in g&&g.document?g:n(g,9)?g.defaultView||g.parentWindow:g===q?window:false},_nodeTypeIs:n}});
KISSY.add("selector",function(a,q){function n(d,b){var i,k=[],l,o;b=e(b);if(a.isString(d)){d=a.trim(d);if(z.test(d)){if(d=f(d.slice(1),b))k=[d]}else if(i=t.exec(d)){l=i[1];o=i[2];i=i[3];if(b=l?f(l,b):b)if(i)if(!l||d.indexOf(s)!==-1)k=c(i,o,b);else{if((d=f(l,b))&&r.hasClass(d,i))k=[d]}else if(o)k=j(o,b)}else if(a.ExternalSelector)return a.ExternalSelector(d,b);else u(d)}else if(d&&(d[A]||d[B]))k=d[A]?[d[A]()]:d[B]();else if(d&&(a.isArray(d)||g(d)))k=d;else if(d)k=[d];if(g(k))k=a.makeArray(k);k.each=
function(m,x){return a.each(k,m,x)};return k}function g(d){return d&&!d.nodeType&&d.item&&!d.setTimeout}function e(d){if(d===q)d=p;else if(a.isString(d)&&z.test(d))d=f(d.slice(1),p);else if(d&&d.nodeType!==1&&d.nodeType!==9)d=null;return d}function f(d,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(d)}function j(d,b){return b.getElementsByTagName(d)}function c(d,b,i){i=d=i.getElementsByClassName(d);var k=0,l=0,o=d.length,m;if(b&&b!==y){i=[];for(b=b.toUpperCase();k<o;++k){m=d[k];if(m.tagName===
b)i[l++]=m}}return i}function u(d){a.error("Unsupported selector: "+d)}var p=document,r=a.DOM,s=" ",y="*",A="getDOMNode",B=A+"s",z=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var d=p.createElement("div");d.appendChild(p.createComment(""));if(d.getElementsByTagName(y).length>0)j=function(b,i){i=i.getElementsByTagName(b);if(b===y){b=[];for(var k=0,l=0,o;o=i[k++];)if(o.nodeType===1)b[l++]=o;i=b}return i}})();p.getElementsByClassName||(c=p.querySelectorAll?function(d,b,i){return i.querySelectorAll((b?
b:"")+"."+d)}:function(d,b,i){b=i.getElementsByTagName(b||y);i=[];var k=0,l=0,o=b.length,m,x;for(d=s+d+s;k<o;++k){m=b[k];if((x=m.className)&&(s+x+s).indexOf(d)>-1)i[l++]=m}return i});a.query=n;a.get=function(d,b){return n(d,b)[0]||null};a.mix(r,{query:n,get:a.get,filter:function(d,b){var i=n(d),k,l,o,m=[];if(a.isString(b)&&(k=t.exec(b))&&!k[1]){l=k[2];o=k[3];b=function(x){return!(l&&x.tagName!==l.toUpperCase()||o&&!r.hasClass(x,o))}}if(a.isFunction(b))m=a.filter(i,b);else if(b&&a.ExternalSelector)m=
a.ExternalSelector._filter(d,b+"");else u(b);return m},test:function(d,b){d=n(d);return d.length&&r.filter(d,b).length===d.length}})});
KISSY.add("dom-data",function(a,q){function n(p){return p&&p.nodeType}var g=window,e=a.DOM,f="_ks_data_"+a.now(),j={},c={},u={EMBED:1,OBJECT:1,APPLET:1};a.mix(e,{data:function(p,r,s){if(a.isPlainObject(r))for(var y in r)e.data(p,y,r[y]);else if(s===q){p=a.get(p);var A;if(!(!p||u[p.nodeName])){if(p==g)p=c;A=(y=n(p))?j:p;p=A[y?p[f]:f];if(a.isString(r)&&p)return p[r];return p}}else a.query(p).each(function(B){if(!(!B||u[B.nodeName])){if(B==g)B=c;var z=j,t;if(n(B)){if(!(t=B[f]))t=B[f]=a.guid()}else{t=
f;z=B}if(r&&s!==q){z[t]||(z[t]={});z[t][r]=s}}})},removeData:function(p,r){a.query(p).each(function(s){if(s){if(s==g)s=c;var y,A=j,B,z=n(s);if(z)y=s[f];else{A=s;y=f}if(y){B=A[y];if(r){if(B){delete B[r];a.isEmptyObject(B)&&e.removeData(s)}}else{if(z)s.removeAttribute&&s.removeAttribute(f);else try{delete s[f]}catch(t){}z&&delete A[y]}}}})}})});
KISSY.add("dom-class",function(a,q){function n(j,c,u,p){if(!(c=a.trim(c)))return p?false:q;j=a.query(j);var r=0,s=j.length;c=c.split(e);for(var y;r<s;r++){y=j[r];if(g._isElementNode(y)){y=u(y,c,c.length);if(y!==q)return y}}if(p)return false}var g=a.DOM,e=/[\.\s]\s*\.?/,f=/[\n\t]/g;a.mix(g,{hasClass:function(j,c){return n(j,c,function(u,p,r){if(u=u.className){u=" "+u+" ";for(var s=0,y=true;s<r;s++)if(u.indexOf(" "+p[s]+" ")<0){y=false;break}if(y)return true}},true)},addClass:function(j,c){n(j,c,function(u,
p,r){var s=u.className;if(s){var y=" "+s+" ";s=s;for(var A=0;A<r;A++)if(y.indexOf(" "+p[A]+" ")<0)s+=" "+p[A];u.className=a.trim(s)}else u.className=c})},removeClass:function(j,c){n(j,c,function(u,p,r){var s=u.className;if(s)if(r){s=(" "+s+" ").replace(f," ");for(var y=0,A;y<r;y++)for(A=" "+p[y]+" ";s.indexOf(A)>=0;)s=s.replace(A," ");u.className=a.trim(s)}else u.className=""})},replaceClass:function(j,c,u){g.removeClass(j,c);g.addClass(j,u)},toggleClass:function(j,c,u){var p=a.isBoolean(u),r;n(j,
c,function(s,y,A){for(var B=0,z;B<A;B++){z=y[B];r=p?!u:g.hasClass(s,z);g[r?"removeClass":"addClass"](s,z)}})}})});
KISSY.add("dom-attr",function(a,q){function n(d,b){return b&&b.nodeName.toUpperCase()===d.toUpperCase()}var g=a.UA,e=document.documentElement,f=!e.hasAttribute,j=e.textContent!==q?"textContent":"innerText",c=a.DOM,u=c._isElementNode,p=function(d){return c._nodeTypeIs(d,3)},r=/^(?:href|src|style)/,s=/^(?:href|src|colspan|rowspan)/,y=/\r/g,A=/^(?:radio|checkbox)/,B={readonly:"readOnly"},z={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},t={tabindex:{getter:function(d){return d.tabIndex},
setter:function(d,b){if(isNaN(parseInt(b))){d.removeAttribute("tabindex");d.removeAttribute("tabIndex")}else d.tabIndex=b}},style:{getter:function(d){return d.style.cssText},setter:function(d,b){d.style.cssText=b}},checked:{setter:function(d,b){d.checked=!!b}},disabled:{setter:function(d,b){d.disabled=!!b}}};f&&a.mix(B,{"for":"htmlFor","class":"className"});a.mix(c,{attr:function(d,b,i,k){if(a.isPlainObject(b)){k=i;for(var l in b)c.attr(d,l,b[l],k)}else if(b=a.trim(b)){b=b.toLowerCase();if(k&&z[b])return c[b](d,
i);b=B[b]||b;var o=t[b];if(i===q){d=c.get(d);if(!u(d))return q;if(o&&o.getter)return o.getter(d);var m;r.test(b)||(m=d[b]);if(m===q)m=d.getAttribute(b);if(f)if(s.test(b))m=d.getAttribute(b,2);return m===null?q:m}a.each(c.query(d),function(x){if(u(x))o&&o.setter?o.setter(x,i):x.setAttribute(b,""+i)})}},removeAttr:function(d,b){a.each(a.query(d),function(i){if(u(i)){c.attr(i,b,"");i.removeAttribute(b)}})},val:function(d,b){if(b===q){var i=a.get(d);if(!u(i))return q;if(n("option",i))return(i.attributes.value||
{}).specified?i.value:i.text;if(n("select",i)){var k=i.selectedIndex;d=i.options;if(k<0)return null;else if(i.type==="select-one")return c.val(d[k]);i=[];for(var l=0,o=d.length;l<o;++l)d[l].selected&&i.push(c.val(d[l]));return i}if(g.webkit&&A.test(i.type))return i.getAttribute("value")===null?"on":i.value;return(i.value||"").replace(y,"")}a.each(a.query(d),function(m){if(n("select",m)){if(a.isNumber(b))b+="";var x=a.makeArray(b),v=m.options,h;l=0;for(o=v.length;l<o;++l){h=v[l];h.selected=a.inArray(c.val(h),
x)}if(!x.length)m.selectedIndex=-1}else if(u(m))m.value=b})},text:function(d,b){if(b===q){d=a.get(d);if(u(d))return d[j]||"";else if(p(d))return d.nodeValue}else a.each(a.query(d),function(i){if(u(i))i[j]=b;else if(p(i))i.nodeValue=b})}})});
KISSY.add("dom-style",function(a,q){function n(d,b){var i=a.get(d),k=b===u?i.offsetWidth:i.offsetHeight;a.each(b===u?["Left","Right"]:["Top","Bottom"],function(l){k-=parseFloat(e._getComputedStyle(i,"padding"+l))||0;k-=parseFloat(e._getComputedStyle(i,"border"+l+"Width"))||0});return k}function g(d,b,i){var k=i;if(i===p&&s.test(b)){k=0;if(a.inArray(e.css(d,"position"),["absolute","fixed"])){i=d[b==="left"?"offsetLeft":"offsetTop"];if(f.ie===8||f.opera)i-=r(e.css(d.offsetParent,"border-"+b+"-width"))||
0;k=i-(r(e.css(d,"margin-"+b))||0)}}return k}var e=a.DOM,f=a.UA,j=document,c=j.documentElement,u="width",p="auto",r=parseInt,s=/^(?:left|top)/,y=/^(?:width|height|top|left|right|bottom|margin|padding)/i,A=/-([a-z])/ig,B=function(d,b){return b.toUpperCase()},z={},t={};a.mix(e,{_CUSTOM_STYLES:z,_getComputedStyle:function(d,b){var i="",k=d.ownerDocument;if(d.style)i=k.defaultView.getComputedStyle(d,null)[b];return i},css:function(d,b,i){if(a.isPlainObject(b))for(var k in b)e.css(d,k,b[k]);else{if(b.indexOf("-")>
0)b=b.replace(A,B);b=z[b]||b;if(i===q){d=a.get(d);k="";if(d&&d.style){k=b.get?b.get(d):d.style[b];if(k===""&&!b.get)k=g(d,b,e._getComputedStyle(d,b))}return k===q?"":k}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&y.test(b))i+="px";(b===u||b==="height")&&parseFloat(i)<0||a.each(a.query(d),function(l){if(l&&l.style){b.set?b.set(l,i):(l.style[b]=i);if(i==="")l.style.cssText||l.removeAttribute("style")}})}}},width:function(d,b){if(b===q)return n(d,u);else e.css(d,u,b)},height:function(d,
b){if(b===q)return n(d,"height");else e.css(d,"height",b)},show:function(d){a.query(d).each(function(b){if(b){b.style.display=e.data(b,"display")||"";if(e.css(b,"display")==="none"){var i=b.tagName,k=t[i],l;if(!k){l=j.createElement(i);j.body.appendChild(l);k=e.css(l,"display");e.remove(l);t[i]=k}e.data(b,"display",k);b.style.display=k}}})},hide:function(d){a.query(d).each(function(b){if(b){var i=b.style,k=i.display;if(k!=="none"){k&&e.data(b,"display",k);i.display="none"}}})},toggle:function(d){a.query(d).each(function(b){if(b)b.style.display===
"none"?e.show(b):e.hide(b)})},addStyleSheet:function(d,b){var i;if(b&&(b=b.replace("#","")))i=a.get("#"+b);if(!i){i=e.create("<style>",{id:b});a.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=d;else i.appendChild(j.createTextNode(d))}}});if(c.style.cssFloat!==q)z["float"]="cssFloat";else if(c.style.styleFloat!==q)z["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,q){if(a.UA.ie){var n=a.DOM;a=document;var g=a.documentElement,e=n._CUSTOM_STYLES,f=/^-?\d+(?:px)?$/i,j=/^-?\d/,c=/^(?:width|height)$/;try{if(g.style.opacity===q&&g.filters)e.opacity={get:function(p){var r=100;try{r=p.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(s){try{r=p.filters("alpha").opacity}catch(y){}}return r/100+""},set:function(p,r){var s=p.style;p=(p.currentStyle||0).filter||"";s.zoom=1;if(p)if(p=p.replace(/alpha\(opacity=.+\)/ig,""))p+=", ";
s.filter=p+"alpha(opacity="+r*100+")";if(r===1)s.filter=""}}}catch(u){}if(!(a.defaultView||{}).getComputedStyle&&g.currentStyle)n._getComputedStyle=function(p,r){var s=p.style,y=p.currentStyle[r];if(c.test(r))y=n[r](p)+"px";else if(!f.test(y)&&j.test(y)){var A=s.left,B=p.runtimeStyle.left;p.runtimeStyle.left=p.currentStyle.left;s.left=r==="fontSize"?"1em":y||0;y=s.pixelLeft+"px";s.left=A;p.runtimeStyle.left=B}return y}}});
KISSY.add("dom-offset",function(a,q){function n(o){var m=0,x=0,v=r(o[t]);if(o[l]){o=o[l]();m=o[d];x=o[b];if(f.mobile!=="apple"){m+=e[i](v);x+=e[k](v)}}return{left:m,top:x}}function g(o,m){if(e.css(o,B)==="static")o.style[B]=z;var x=n(o),v={},h,w;for(w in m){h=A(e.css(o,w),10)||0;v[w]=h+m[w]-x[w]}e.css(o,v)}var e=a.DOM,f=a.UA,j=window,c=document,u=e._isElementNode,p=e._nodeTypeIs,r=e._getWin,s=c.compatMode==="CSS1Compat",y=Math.max,A=parseInt,B="position",z="relative",t="ownerDocument",d="left",b=
"top",i="scrollLeft",k="scrollTop",l="getBoundingClientRect";a.mix(e,{offset:function(o,m){if(!(o=a.get(o))||!o[t])return null;if(m===q)return n(o);g(o,m)},scrollIntoView:function(o,m,x,v){if((o=a.get(o))&&o[t]){v=v===q?true:!!v;x=x===q?true:!!x;if(!m||m===j)return o.scrollIntoView(x);m=a.get(m);if(p(m,9))m=r(m);var h=m&&"scrollTo"in m&&m.document,w=e.offset(o),C=h?{left:e.scrollLeft(m),top:e.scrollTop(m)}:e.offset(m),E={left:w[d]-C[d],top:w[b]-C[b]};w=h?e.viewportHeight(m):m.clientHeight;C=h?e.viewportWidth(m):
m.clientWidth;var D=e[i](m),G=e[k](m),H=D+C,F=G+w,L=o.offsetHeight;o=o.offsetWidth;var J=E.left+D-(A(e.css(m,"borderLeftWidth"))||0);E=E.top+G-(A(e.css(m,"borderTopWidth"))||0);var I=J+o,K=E+L,M,N;if(L>w||E<G||x)M=E;else if(K>F)M=K-w;if(v)if(o>C||J<D||x)N=J;else if(I>H)N=I-C;if(h){if(M!==q||N!==q)m.scrollTo(N,M)}else{if(M!==q)m[k]=M;if(N!==q)m[i]=N}}}});a.each(["Left","Top"],function(o,m){var x="scroll"+o;e[x]=function(v){var h=0,w=r(v),C;if(w&&(C=w.document))h=w[m?"pageYOffset":"pageXOffset"]||C.documentElement[x]||
C.body[x];else if(u(v=a.get(v)))h=v[x];return h}});a.each(["Width","Height"],function(o){e["doc"+o]=function(m){m=m||c;return y(s?m.documentElement["scroll"+o]:m.body["scroll"+o],e["viewport"+o](m))};e["viewport"+o]=function(m){var x="inner"+o;m=r(m);var v=m.document;return x in m?m[x]:s?v.documentElement["client"+o]:v.body["client"+o]}})});
KISSY.add("dom-traversal",function(a,q){function n(j,c,u,p){if(!(j=a.get(j)))return null;if(c===q)c=1;var r=null,s,y;if(a.isNumber(c)&&c>=0){if(c===0)return j;s=0;y=c;c=function(){return++s===y}}for(;j=j[u];)if(f(j)&&(!c||e.test(j,c))&&(!p||p(j))){r=j;break}return r}function g(j,c,u){var p=[];var r=j=a.get(j);if(j&&u)r=j.parentNode;if(r){u=0;for(r=r.firstChild;r;r=r.nextSibling)if(f(r)&&r!==j&&(!c||e.test(r,c)))p[u++]=r}return p}var e=a.DOM,f=e._isElementNode;a.mix(e,{parent:function(j,c){return n(j,
c,"parentNode",function(u){return u.nodeType!=11})},next:function(j,c){return n(j,c,"nextSibling")},prev:function(j,c){return n(j,c,"previousSibling")},siblings:function(j,c){return g(j,c,true)},children:function(j,c){return g(j,c)},contains:function(j,c){var u=false;if((j=a.get(j))&&(c=a.get(c)))if(j.contains){if(c.nodeType===3){c=c.parentNode;if(c===j)return true}if(c)return j.contains(c)}else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(c)&16);else for(;!u&&(c=c.parentNode);)u=
c==j;return u}})});
KISSY.add("dom-create",function(a,q){function n(v,h){y(v)&&a.isPlainObject(h)&&u.attr(v,h,true);return v}function g(v,h){var w=null,C;if(v&&(v.push||v.item)&&v[0]){h=h||v[0].ownerDocument;w=h.createDocumentFragment();if(v.item)v=a.makeArray(v);h=0;for(C=v.length;h<C;h++)w.appendChild(v[h])}return w}function e(v){var h=v.cloneNode(true);if(p.ie<8)h.innerHTML=v.innerHTML;return h}function f(v,h,w,C){if(w){var E=a.guid("ks-tmp-"),D=new RegExp(t);h+='<span id="'+E+'"></span>';a.available(E,function(){var G=
a.get("head"),H,F,L,J,I,K;for(D.lastIndex=0;H=D.exec(h);)if((L=(F=H[1])?F.match(b):false)&&L[2]){H=c.createElement("script");H.src=L[2];if((J=F.match(i))&&J[2])H.charset=J[2];H.async=true;G.appendChild(H)}else if((K=H[2])&&K.length>0)a.globalEval(K);(I=c.getElementById(E))&&u.remove(I);a.isFunction(C)&&C()});j(v,h)}else{j(v,h);a.isFunction(C)&&C()}}function j(v,h){h=(h+"").replace(t,"");try{v.innerHTML=h}catch(w){for(;v.firstChild;)v.removeChild(v.firstChild);h&&v.appendChild(u.create(h))}}var c=
document,u=a.DOM,p=a.UA,r=p.ie,s=u._nodeTypeIs,y=u._isElementNode,A=u._isKSNode,B=c.createElement("div"),z=/<(\w+)/,t=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,d=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,i=/\scharset=(['"])(.*?)\1/i;a.mix(u,{create:function(v,h,w){if(s(v,1)||s(v,3))return e(v);if(A(v))return e(v[0]);if(!(v=a.trim(v)))return null;var C=null;C=u._creators;var E,D="div",G;if(E=d.exec(v))C=(w||c).createElement(E[1]);else{if((E=z.exec(v))&&(G=E[1])&&a.isFunction(C[G=
G.toLowerCase()]))D=G;v=C[D](v,w).childNodes;C=v.length===1?v[0].parentNode.removeChild(v[0]):g(v,w||c)}return n(C,h)},_creators:{div:function(v,h){h=h?h.createElement("div"):B;h.innerHTML=v;return h}},html:function(v,h,w,C){if(h===q){v=a.get(v);if(y(v))return v.innerHTML}else a.each(a.query(v),function(E){y(E)&&f(E,h,w,C)})},remove:function(v){a.each(a.query(v),function(h){y(h)&&h.parentNode&&h.parentNode.removeChild(h)})}});if(r||p.gecko||p.webkit){var k=u._creators,l=u.create,o=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,
m={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var x in m)(function(v){k[x]=function(h,w){return l("<"+v+">"+h+"</"+v+">",null,w)}})(m[x]);if(r){k.script=function(v,h){h=h?h.createElement("div"):B;h.innerHTML="-"+v;h.removeChild(h.firstChild);return h};if(r<8)k.tbody=function(v,h){h=l("<table>"+v+"</table>",null,h);var w=h.children.tags("tbody")[0];h.children.length>1&&w&&!o.test(v)&&w.parentNode.removeChild(w);return h}}a.mix(k,{optgroup:k.option,th:k.td,
thead:k.tbody,tfoot:k.tbody,caption:k.tbody,colgroup:k.tbody})}});
KISSY.add("dom-insertion",function(a){var q=a.DOM;a.mix(q,{insertBefore:function(n,g){if((n=a.get(n))&&(g=a.get(g))&&g.parentNode)g.parentNode.insertBefore(n,g);return n},insertAfter:function(n,g){if((n=a.get(n))&&(g=a.get(g))&&g.parentNode)g.nextSibling?g.parentNode.insertBefore(n,g.nextSibling):g.parentNode.appendChild(n);return n},append:function(n,g){if((n=a.get(n))&&(g=a.get(g)))g.appendChild&&g.appendChild(n)},prepend:function(n,g){if((n=a.get(n))&&(g=a.get(g)))g.firstChild?q.insertBefore(n,
g.firstChild):g.appendChild(n)}})});
KISSY.add("event",function(a,q){function n(t,d,b,i,k){if(a.isString(d))d=a.query(d);if(a.isArray(d)){a.each(d,function(l){z[t](l,b,i,k)});return true}if((b=a.trim(b))&&b.indexOf(y)>0){a.each(b.split(y),function(l){z[t](d,l,i,k)});return true}}function g(t){return j(t)?u.data(t,s):-1}function e(t,d){j(t)&&u.data(t,s,d)}function f(t){u.removeData(t,s)}function j(t){return t&&t.nodeType!==3&&t.nodeType!==8}var c=document,u=a.DOM,p=c.addEventListener?function(t,d,b,i){t.addEventListener&&t.addEventListener(d,
b,!!i)}:function(t,d,b){t.attachEvent&&t.attachEvent("on"+d,b)},r=c.removeEventListener?function(t,d,b,i){t.removeEventListener&&t.removeEventListener(d,b,!!i)}:function(t,d,b){t.detachEvent&&t.detachEvent("on"+d,b)},s="ksEventTargetId",y=" ",A=a.now(),B={},z={EVENT_GUID:s,special:{},add:function(t,d,b,i){if(!n("add",t,d,b,i)){var k=g(t),l,o,m,x,v;if(!(k===-1||!d||!a.isFunction(b))){if(!k){e(t,k=A++);B[k]={target:t,events:{}}}o=B[k].events;if(!o[d]){l=((k=!t.isCustomEventTarget)||t._supportSpecialEvent)&&
z.special[d]||{};m=function(h,w){if(!h||!h.fixed)h=new a.EventObject(t,h,d);if(a.isPlainObject(w)){var C=h.type;a.mix(h,w);h.type=C}l.setup&&l.setup(h);return(l.handle||z._handle)(t,h)};o[d]={handle:m,listeners:[]};x=l.fix||d;v=l.capture;l.init&&l.init.apply(null,a.makeArray(arguments));k&&l.fix!==false&&p(t,x,m,v)}o[d].listeners.push({fn:b,scope:i||t})}}},__getListeners:function(t,d){var b=[];if(t=(z.__getEvents(t)||{})[d])b=t.listeners;return b},__getEvents:function(t){var d=g(t),b;if(d!==-1)if(d&&
(b=B[d]))if(b.target===t)return b.events||{}},remove:function(t,d,b,i){if(!n("remove",t,d,b,i)){var k=z.__getEvents(t),l=g(t),o,m,x,v,h,w,C=(!t.isCustomEventTarget||t._supportSpecialEvent)&&z.special[d]||{};if(k!==undefined){i=i||t;if(o=k[d]){m=o.listeners;x=m.length;if(a.isFunction(b)&&x){h=v=0;for(w=[];v<x;++v)if(b!==m[v].fn||i!==m[v].scope)w[h++]=m[v];o.listeners=w;x=w.length}if(b===q||x===0){if(!t.isCustomEventTarget){C=z.special[d]||{};if(C.fix!==false)r(t,C.fix||d,o.handle)}delete k[d]}}C.destroy&&
C.destroy.apply(null,a.makeArray(arguments));if(d===q||a.isEmptyObject(k)){for(d in k)z.remove(t,d);delete B[l];f(t)}}}},_handle:function(t,d){t=z.__getListeners(t,d.type);t=t.slice(0);for(var b,i,k=0,l=t.length;k<l;++k){b=t[k];b=b.fn.call(b.scope,d);if(i!==false)i=b;if(b!==undefined){d.result=b;b===false&&d.halt()}if(d.isImmediatePropagationStopped)break}return i},_getCache:function(t){return B[t]},__getID:g,_simpleAdd:p,_simpleRemove:r};z.on=z.add;a.Event=z});
KISSY.add("event-object",function(a,q){function n(f,j,c){this.currentTarget=f;this.originalEvent=j||{};if(j){this.type=j.type;this._fix()}else{this.type=c;this.target=f}this.currentTarget=f;this.fixed=true}var g=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(n,{_fix:function(){var f=this.originalEvent,j=e.length,c,u=this.currentTarget;for(u=u.nodeType===9?u:u.ownerDocument||g;j;){c=e[--j];this[c]=f[c]}if(!this.target)this.target=this.srcElement||g;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===q&&this.clientX!==q){f=u.documentElement;j=u.body;this.pageX=this.clientX+(f&&f.scrollLeft||j&&j.scrollLeft||
0)-(f&&f.clientLeft||j&&j.clientLeft||0);this.pageY=this.clientY+(f&&f.scrollTop||j&&j.scrollTop||0)-(f&&f.clientTop||j&&j.clientTop||0)}if(this.which===q)this.which=this.charCode!==q?this.charCode:this.keyCode;if(this.metaKey===q)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==q)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var f=this.originalEvent;if(f.preventDefault)f.preventDefault();else f.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var f=
this.originalEvent;if(f.stopPropagation)f.stopPropagation();else f.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var f=this.originalEvent;f.stopImmediatePropagation?f.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(f){f?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=n});
KISSY.add("event-target",function(a,q){var n=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(g,e){var f=a.DOM.data(this,n.EVENT_GUID)||-1;if((g=((n._getCache(f)||{}).events||{})[g])&&a.isFunction(g.handle))return g.handle(q,e)},on:function(g,e,f){n.add(this,g,e,f);return this},detach:function(g,e,f){n.remove(this,g,e,f);return this}}});
KISSY.add("event-mouseenter",function(a){var q=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){q.special[n.name]={fix:n.fix,setup:function(g){g.type=n.name},handle:function(g,e){if(a.DOM._isKSNode(g))g=g[0];var f=e.relatedTarget;try{for(;f&&f!==g;)f=f.parentNode;f!==g&&q._handle(g,e)}catch(j){}}}})});
KISSY.add("event-focusin",function(a){var q=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){q.special[n.name]={fix:n.fix,capture:true,setup:function(g){g.type=n.name}}})});
KISSY.add("node",function(a){function q(g,e,f){if(!(this instanceof q))return new q(g,e,f);if(g){if(a.isString(g)){g=n.create(g,e,f);if(g.nodeType===11)return new a.NodeList(g.childNodes)}else if(g instanceof q)return g;else g=g;this[0]=g}else this.length=0}var n=a.DOM;q.TYPE="-ks-Node";a.augment(q,{length:1,getDOMNode:function(){return this[0]},nodeType:q.TYPE});a.one=function(g,e){return(g=a.get(g,e))?new q(g):null};a.Node=q});
KISSY.add("nodelist",function(a){function q(e){if(!(this instanceof q))return new q(e);n.push.apply(this,a.makeArray(e)||[])}var n=Array.prototype,g=a.DOM._isElementNode;a.mix(q.prototype,{length:0,item:function(e){var f=null,j,c;if(g(e)){j=0;for(c=this.length;j<c;j++)if(e===this[j]){e=j;break}}if(g(this[e]))f=new a.Node(this[e]);return f},getDOMNodes:function(){return n.slice.call(this)},each:function(e,f){var j=this.length,c=0,u;for(u=new a.Node(this[0]);c<j&&e.call(f||u,u,c,this)!==false;u=new a.Node(this[++c]));
return this}});a.all=function(e,f){return new q(a.query(e,f,true))};a.NodeList=q});
KISSY.add("node-attach",function(a,q){function n(l,o,m,x){l=[this[l?d:t]()].concat(a.makeArray(o));if(o[m]===q&&(m!=1||a.isString(o[0])))return x.apply(c,l);x.apply(c,l);return this}function g(l,o){a.each(l,function(m){a.each([B,z],function(x,v){x[m]=function(h){switch(o){case b:return function(){return n.call(this,v,arguments,1,h)};case i:return function(){return n.call(this,v,arguments,0,h)};case k:return function(){var w=this[v?d:t]();return(w=h.apply(c,[w].concat(a.makeArray(arguments))))?new (a[a.isArray(w)?
"NodeList":"Node"])(w):null};default:return function(){var w=this[v?d:t]();w=h.apply(c,[w].concat(a.makeArray(arguments)));return w===q?this:w}}}(c[m])})})}function e(l,o,m){l&&a.each(this,function(x){var v;if(o||a.isString(l))v=c.create(l);else{if(p(l,1)||p(l,3))v=l;if(r(l))v=l[0]}c[m](v,x)});return this}function f(l,o){if((l=a.get(l))&&l.appendChild)a.each(this,function(m){c[o](m,l)});return this}function j(l,o){l.__wrap=l.__wrap||[];l.__wrap.push(o)}var c=a.DOM,u=a.Event,p=c._nodeTypeIs,r=c._isKSNode,
s=a.EventTarget,y=a.Node,A=a.NodeList,B=y.prototype,z=A.prototype,t="getDOMNode",d=t+"s",b=1,i=2,k=4;a.mix(B,{one:function(l){return a.one(l,this[0])},all:function(l){return a.all(l,this[0])}});g(["data","removeData"],b);g(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);g(["attr","removeAttr"],b);g(["val","text"],i);g(["css"],b);g(["width","height"],i);g(["offset"],i);g(["scrollIntoView"]);g(["parent","next","prev","siblings","children"],k);g(["contains"]);g(["html"],i);g(["remove"]);
a.each(["insertBefore","insertAfter"],function(l){B[l]=function(o){c[l].call(c,this[0],o);return this}});a.each([B,z],function(l,o){a.each(["append","prepend"],function(m){l[m]=function(x){return e.call(this,x,o,m)};l[m+"To"]=function(x){return f.call(this,x,m)}})});a.augment(y,s,{fire:null,on:function(l,o,m){function x(h){var w=a.makeArray(arguments);w.shift();h.target=new y(h.target);if(h.relatedTarget)h.relatedTarget=new y(h.relatedTarget);w.unshift(h);return o.apply(m||v,w)}var v=this;u.add(this[0],
l,x,m);j(o,x);return this},detach:function(l,o,m){if(a.isFunction(o)){o=o.__wrap||[];for(var x=0;x<o.length;x++)u.remove(this[0],l,o[x],m)}else u.remove(this[0],l,o,m);return this}});a.augment(A,s,{fire:null});B._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(l,o){z[o]=function(m,x,v){for(var h=0;h<this.length;h++)this.item(h).on(m,x,v)}})});if(!this.JSON)this.JSON={};
(function(){function a(p){return p<10?"0"+p:p}function q(p){e.lastIndex=0;return e.test(p)?'"'+p.replace(e,function(r){var s=c[r];return typeof s==="string"?s:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+p+'"'}function n(p,r){var s,y,A=f,B,z=r[p];if(z&&typeof z==="object"&&typeof z.toJSON==="function")z=z.toJSON(p);if(typeof u==="function")z=u.call(r,p,z);switch(typeof z){case "string":return q(z);case "number":return isFinite(z)?String(z):"null";case "boolean":case "null":return String(z);
case "object":if(!z)return"null";f+=j;B=[];if(Object.prototype.toString.apply(z)==="[object Array]"){y=z.length;for(p=0;p<y;p+=1)B[p]=n(p,z)||"null";r=B.length===0?"[]":f?"[\n"+f+B.join(",\n"+f)+"\n"+A+"]":"["+B.join(",")+"]";f=A;return r}if(u&&typeof u==="object"){y=u.length;for(p=0;p<y;p+=1){s=u[p];if(typeof s==="string")if(r=n(s,z))B.push(q(s)+(f?": ":":")+r)}}else for(s in z)if(Object.hasOwnProperty.call(z,s))if(r=n(s,z))B.push(q(s)+(f?": ":":")+r);r=B.length===0?"{}":f?"{\n"+f+B.join(",\n"+f)+
"\n"+A+"}":"{"+B.join(",")+"}";f=A;return r}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,j,c={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=function(p,r,s){var y;j=f="";if(typeof s==="number")for(y=0;y<s;y+=1)j+=" ";else if(typeof s==="string")j=s;if((u=r)&&typeof r!=="function"&&(typeof r!=="object"||typeof r.length!=="number"))throw new Error("JSON.stringify");return n("",
{"":p})};if(typeof JSON.parse!=="function")JSON.parse=function(p,r){function s(y,A){var B,z,t=y[A];if(t&&typeof t==="object")for(B in t)if(Object.hasOwnProperty.call(t,B)){z=s(t,B);if(z!==undefined)t[B]=z;else delete t[B]}return r.call(y,A,t)}p=String(p);g.lastIndex=0;if(g.test(p))p=p.replace(g,function(y){return"\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(p.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){p=eval("("+p+")");return typeof r==="function"?s({"":p},""):p}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var q=window.JSON;a.JSON={parse:function(n){if(n==null||n==="")return null;return q.parse(n)},stringify:q.stringify}});
KISSY.add("ajax",function(a,q){function n(h){h=a.merge(v,h);if(h.url){if(h.data&&!a.isString(h.data))h.data=a.param(h.data);h.context=h.context||h;var w,C=k,E,D=h.type.toUpperCase();if(h.dataType===B){w=h.jsonpCallback||B+a.now();h.url=e(h.url,h.jsonp+"="+w);h.dataType=z;var G=u[w];u[w]=function(I){if(a.isFunction(G))G(I);else{u[w]=q;try{delete u[w]}catch(K){}}f([k,l],I,C,F,h)}}if(h.data&&D===r)h.url=e(h.url,h.data);if(h.dataType===z){j(d,h);D=a.getScript(h.url,w?null:function(){f([k,l],t,C,F,h)});
j(b,h);return D}var H=false,F=h.xhr();j(d,h);F.open(D,h.url,h.async);try{if(h.data||h.contentType)F.setRequestHeader(y,h.contentType);F.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*; q=0.01":h.accepts._default)}catch(L){}F.onreadystatechange=function(I){if(!F||F.readyState===0||I==="abort"){H||f(l,null,o,F,h);H=true;if(F)F.onreadystatechange=p}else if(!H&&F&&(F.readyState===4||I===m)){H=true;F.onreadystatechange=p;C=I===m?m:g(F)?k:o;try{E=c(F,h.dataType)}catch(K){C=
x}f([C===k?k:o,l],E,C,F,h);if(I===m){F.abort();j(i,h)}if(h.async)F=null}};j(b,h);try{F.send(D===s?h.data:null)}catch(J){f([o,l],E,o,F,h)}h.async||j(l,h);return F}}function g(h){try{return h.status>=200&&h.status<300||h.status===304||h.status===1223}catch(w){}return false}function e(h,w){return h+(h.indexOf("?")===-1?"?":"&")+w}function f(h,w,C,E,D){if(a.isArray(h))a.each(h,function(G){f(G,w,C,E,D)});else{C===h&&D[h]&&D[h].call(D.context,w,C,E);j(h,D)}}function j(h,w){n.fire(h,{ajaxConfig:w})}function c(h,
w){var C=t,E,D=h;if(!a.isString(D)){C=h.getResponseHeader(y)||t;D=(E=w==="xml"||!w&&C.indexOf("xml")>=0)?h.responseXML:h.responseText;if(E&&D.documentElement.nodeName===x)throw x;}if(a.isString(D))if(w===A||!w&&C.indexOf(A)>=0)D=a.JSON.parse(D);return D}var u=window,p=function(){},r="GET",s="POST",y="Content-Type",A="json",B=A+"p",z="script",t="",d="start",b="send",i="stop",k="success",l="complete",o="error",m="timeout",x="parsererror",v={type:r,url:t,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:u.ActiveXObject?function(){if(u.XmlHttpRequest)try{return new u.XMLHttpRequest}catch(h){}try{return new u.ActiveXObject("Microsoft.XMLHTTP")}catch(w){}}:function(){return new u.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(n,a.EventTarget);a.mix(n,{get:function(h,w,C,E,D){if(a.isFunction(w)){E=C;C=w}return n({type:D||
r,url:h,data:w,success:function(G,H,F){C&&C.call(this,G,H,F)},dataType:E})},post:function(h,w,C,E){if(a.isFunction(w)){E=C;C=w;w=q}return n.get(h,w,C,E,s)},jsonp:function(h,w,C){if(a.isFunction(w)){C=w;w=null}return n.get(h,w,C,B)}});n.getScript=a.getScript;a.io=a.ajax=n.ajax=n;a.jsonp=n.jsonp;a.IO=n});
KISSY.add("anim-easing",function(a){var q=Math,n=q.PI,g=q.pow,e=q.sin,f=1.70158,j={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(g(2,10*(c-=1))*e((c-0.075)*2*n/0.3))},
elasticOut:function(c){if(c===0||c===1)return c;return g(2,-10*c)*e((c-0.075)*2*n/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*g(2,10*(c-=1))*e((c-0.1125)*2*n/0.45);return g(2,-10*(c-=1))*e((c-0.1125)*2*n/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((f+1)*c-f)},backOut:function(c){return(c-=1)*c*((f+1)*c+f)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((f*=1.525)+1)*c-f);return 0.5*((c-=2)*c*(((f*=1.525)+1)*c+f)+2)},bounceIn:function(c){return 1-
j.bounceOut(1-c)},bounceOut:function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return j.bounceIn(c*2)*0.5;return j.bounceOut(c*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=j});
KISSY.add("anim",function(a,q){function n(b,i,k,l,o,m){if(b=a.get(b)){if(!(this instanceof n))return new n(b,i,k,l,o,m);var x=a.isPlainObject(k);i=i;this.domEl=b;if(a.isPlainObject(i))i=a.param(i,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();this.props=f(i);this.targetStyle=i;if(x)b=a.merge(d,k);else{b=a.clone(d);if(k)b.duration=y(k)||1;if(a.isString(l)||a.isFunction(l))b.easing=l;if(a.isFunction(o))b.complete=o;if(m!==q)b.nativeSupport=m}this.config=b;
if(b.nativeSupport&&g()&&a.isString(l=b.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(l)||(l=s.NativeTimeFunction[l])){b.easing=l;this.transitionName=g()}a.isFunction(o)&&this.on(t,o)}}function g(){var b="transition",i;if(A.style[b]!==q)i=b;else a.each(["Webkit","Moz","O"],function(k){if(A.style[b=k+"Transition"]!==q){i=b;return false}});g=function(){return i};return i}function e(b,i,k){a.UA.ie&&k.indexOf(z)>-1&&r.css(b,z,i[z].v);b.style.cssText+=";"+k}function f(b){var i={},k=B.length,l;A.innerHTML=
'<div style="'+b+'"></div>';for(b=A.firstChild.style;k--;)if(l=b[B[k]])i[B[k]]=j(l);return i}function j(b){var i=y(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(i)?{v:b,u:"",f:u}:{v:i,u:b,f:c}}function c(b,i,k){return(b+(i-b)*k).toFixed(3)}function u(b,i,k){for(var l=2,o,m,x=[],v=[];o=3,m=arguments[l-1],l--;)if(p(m,0,4)==="rgb(")for(m=m.match(/\d+/g);o--;)x.push(~~m[o]);else if(p(m,0)==="#"){if(m.length===4)m="#"+p(m,1)+p(m,1)+p(m,2)+p(m,2)+p(m,3)+p(m,3);for(;o--;)x.push(parseInt(p(m,1+o*2,2),16))}else return i;
for(;o--;){l=~~(x[o+3]+(x[o]-x[o+3])*k);v.push(l<0?0:l>255?255:l)}return"rgb("+v.join(",")+")"}function p(b,i,k){return b.substr(i,k||1)}var r=a.DOM,s=a.Easing,y=parseFloat,A=r.create("<div>"),B="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
z="opacity",t="complete",d={duration:1,easing:"easeNone",nativeSupport:true};a.augment(n,a.EventTarget,{run:function(){var b=this,i=b.config,k=b.domEl,l,o,m,x,v=b.props,h={},w;for(w in v)h[w]=j(r.css(k,w));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{l=i.duration*1E3;m=a.now();x=m+l;o=i.easing;if(a.isString(o))o=s[o]||s.easeNone;b.timer=a.later(i=function(){var C=a.now(),E=C>x?1:(C-m)/l,D,G,H;for(w in v){D=h[w];G=v[w];if(G.v==0)G.u=D.u;if(D.u!==G.u)D.v=0;r.css(k,w,
G.f(D.v,G.v,o(E))+G.u)}if(b.fire("step")===false||(H=C>x)){b.stop();H&&b.fire(t)}},13,true);i()}return b}},_nativeRun:function(){var b=this,i=b.config,k=b.domEl,l=b.props,o=i.duration*1E3;i=i.easing;var m=b.transitionName,x={};x[m+"Property"]="all";x[m+"Duration"]=o+"ms";x[m+"TimingFunction"]=i;r.css(k,x);a.later(function(){e(k,l,b.targetStyle)},0);a.later(function(){b.stop(true)},o)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=q}if(b){e(this.domEl,
this.props,this.targetStyle);this.fire(t)}}return this},_nativeStop:function(b){var i=this.domEl,k=this.transitionName,l=this.props,o;if(b){r.css(i,k+"Property","none");this.fire(t)}else{for(o in l)r.css(i,o,r._getComputedStyle(i,o));r.css(i,k+"Property","none")}}});n.supportTransition=function(){return!!g()};a.Anim=n});
KISSY.add("anim-node-plugin",function(a,q){function n(A,B,z,t,d){if(B==="toggle"){d=g.css(A,f)===j?1:0;B="show"}if(d)g.css(A,f,g.data(A,f)||"");var b={},i={};a.each(y[B],function(k){if(k===c){b[c]=g.css(A,c);g.css(A,c,u)}else if(k===p){b[p]=g.css(A,p);i.opacity=d?1:0;d&&g.css(A,p,0)}else if(k===r){b[r]=g.css(A,r);i.height=d?g.css(A,r)||A.naturalHeight:0;d&&g.css(A,r,0)}else if(k===s){b[s]=g.css(A,s);i.width=d?g.css(A,s)||A.naturalWidth:0;d&&g.css(A,s,0)}});(new a.Anim(A,i,z,"easeOut",function(){if(!d){var k=
A.style,l=k[f];if(l!==j){l&&g.data(A,f,l);k[f]=j}b[r]&&g.css(A,{height:b[r]});b[s]&&g.css(A,{width:b[s]});b[p]&&g.css(A,{opacity:b[p]});b[c]&&g.css(A,{overflow:b[c]})}t&&a.isFunction(t)&&t()})).run()}var g=a.DOM,e=a.Anim,f="display",j="none",c="overflow",u="hidden",p="opacity",r="height",s="width",y={show:[c,p,r,s],fade:[p],slide:[c,r]};a.each([a.Node.prototype,a.NodeList.prototype],function(A){A.animate=function(){var B=a.makeArray(arguments);a.each(this,function(z){e.apply(q,[z].concat(B)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(B,z){A[z]=function(t,d){g[z]&&arguments.length===0?g[z](this):a.each(this,function(b){n(b,B[0],t,d,B[1])});return this}})})});
KISSY.add("cookie",function(a){function q(f){return a.isString(f)&&f!==""}var n=document,g=encodeURIComponent,e=decodeURIComponent;a.Cookie={get:function(f){var j;if(q(f))if(f=n.cookie.match("(?:^| )"+f+"(?:(?:=([^;]*))|;|$)"))j=f[1]?e(f[1]):"";return j},set:function(f,j,c,u,p,r){j=g(j);var s=c;if(typeof s==="number"){s=new Date;s.setTime(s.getTime()+c*864E5)}if(s instanceof Date)j+="; expires="+s.toUTCString();if(q(u))j+="; domain="+u;if(q(p))j+="; path="+p;if(r)j+="; secure";n.cookie=f+"="+j},remove:function(f,
j,c,u){this.set(f,"",0,j,c,u)}}});
KISSY.add("attribute",function(a,q){function n(){this.__attrs={};this.__attrVals={}}function g(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}a.augment(n,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(e,f){this.__attrs[e]=a.clone(f||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},set:function(e,f){var j=this.get(e);if(j!==f)if(false!==
this.__fireAttrChange("before",e,j,f)){this.__set(e,f);this.__fireAttrChange("after",e,j,this.__attrVals[e]);return this}},__fireAttrChange:function(e,f,j,c){return this.fire(e+g(f)+"Change",{attrName:f,prevVal:j,newVal:c})},__set:function(e,f){var j,c=this.__attrs[e];if(c=c&&c.setter)j=c.call(this,f);if(j!==q)f=j;this.__attrVals[e]=f},get:function(e){var f;f=(f=this.__attrs[e])&&f.getter;e=e in this.__attrVals?this.__attrVals[e]:this.__getDefAttrVal(e);if(f)e=f.call(this,e);return e},__getDefAttrVal:function(e){e=
this.__attrs[e];var f;if(e){if(f=e.valueFn){f=f.call(this);if(f!==q)e.value=f;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});a.Attribute=n;n.__capitalFirst=g});
KISSY.add("base",function(a){function q(e){a.Attribute.call(this);for(var f=this.constructor;f;){n(this,f.ATTRS);f=f.superclass?f.superclass.constructor:null}g(this,e)}function n(e,f){if(f)for(var j in f)f.hasOwnProperty(j)&&!e.hasAttr(j)&&e.addAttr(j,f[j])}function g(e,f){if(f)for(var j in f)f.hasOwnProperty(j)&&e.__set(j,f[j])}a.augment(q,a.EventTarget,a.Attribute);a.Base=q});
