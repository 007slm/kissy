/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua",function(a){var p=navigator.userAgent,n="",f="",d,g={},j=function(c){var q=0;return parseFloat(c.replace(/\./g,function(){return q++===0?".":""}))};if((d=p.match(/AppleWebKit\/([\d.]*)/))&&d[1]){g[n="webkit"]=j(d[1]);if((d=p.match(/Chrome\/([\d.]*)/))&&d[1])g[f="chrome"]=j(d[1]);else if((d=p.match(/\/([\d.]*) Safari/))&&d[1])g[f="safari"]=j(d[1]);if(/ Mobile\//.test(p))g.mobile="apple";else if(d=p.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))g.mobile=d[0].toLowerCase()}else if((d=
p.match(/Presto\/([\d.]*)/))&&d[1]){g[n="presto"]=j(d[1]);if((d=p.match(/Opera\/([\d.]*)/))&&d[1]){g[f="opera"]=j(d[1]);if((d=p.match(/Opera\/.* Version\/([\d.]*)/))&&d[1])g[f]=j(d[1]);if((d=p.match(/Opera Mini[^;]*/))&&d)g.mobile=d[0].toLowerCase();else if((d=p.match(/Opera Mobi[^;]*/))&&d)g.mobile=d[0]}}else if((d=p.match(/MSIE\s([^;]*)/))&&d[1]){g[n="trident"]=0.1;g[f="ie"]=j(d[1]);if((d=p.match(/Trident\/([\d.]*)/))&&d[1])g[n]=j(d[1])}else if(d=p.match(/Gecko/)){g[n="gecko"]=0.1;if((d=p.match(/rv:([\d.]*)/))&&
d[1])g[n]=j(d[1]);if((d=p.match(/Firefox\/([\d.]*)/))&&d[1])g[f="firefox"]=j(d[1])}g.core=n;g.shell=f;g._numberify=j;a.UA=g});
KISSY.add("ua-extra",function(a){var p=a.UA,n=navigator.userAgent,f,d,g={},j=p._numberify;if(n.match(/360SE/))g[d="se360"]=3;else if(n.match(/Maxthon/)&&(f=window.external)){d="maxthon";try{g[d]=j(f.max_version)}catch(c){g[d]=0.1}}else if(f=n.match(/TencentTraveler\s([\d.]*)/))g[d="tt"]=f[1]?j(f[1]):0.1;else if(n.match(/TheWorld/))g[d="theworld"]=3;else if(f=n.match(/SE\s([\d.]*)/))g[d="sougou"]=f[1]?j(f[1]):0.1;d&&(g.shell=d);a.mix(p,g)});
KISSY.add("dom",function(a,p){function n(f,d){return f&&f.nodeType===d}a.DOM={_isElementNode:function(f){return n(f,1)},_isKSNode:function(f){return a.Node&&n(f,a.Node.TYPE)},_getWin:function(f){return f&&"scrollTo"in f&&f.document?f:n(f,9)?f.defaultView||f.parentWindow:f===p?window:false},_nodeTypeIs:n}});
KISSY.add("selector",function(a,p){function n(e,b){var i,l,k=[],m;b=f(b);if(a.isString(e)){e=a.trim(e);if(u.test(e)){if(l=d(e.slice(1),b))k=[l]}else if(i=o.exec(e)){l=i[1];m=i[2];i=i[3];if(b=l?d(l,b):b)if(i)if(!l||e.indexOf(r)!==-1)k=j(i,m,b);else{if((l=d(l,b))&&y.hasClass(l,i))k=[l]}else if(m)k=g(m,b)}else if(a.ExternalSelector)return a.ExternalSelector(e,b);else c(e)}else if(e&&(e[z]||e[t]))k=e[z]?[e[z]()]:e[t]();else if(e&&(a.isArray(e)||e&&!e.nodeType&&e.item&&!e.setTimeout))k=e;else if(e)k=[e];
if(k&&!k.nodeType&&k.item&&!k.setTimeout)k=a.makeArray(k);k.each=function(v,h){return a.each(k,v,h)};return k}function f(e){if(e===p)e=q;else if(a.isString(e)&&u.test(e))e=d(e.slice(1),q);else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function d(e,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(e)}function g(e,b){return b.getElementsByTagName(e)}function j(e,b,i){i=e=i.getElementsByClassName(e);var l=0,k=0,m=e.length,v;if(b&&b!==x){i=[];for(b=b.toUpperCase();l<m;++l){v=e[l];
if(v.tagName===b)i[k++]=v}}return i}function c(e){a.error("Unsupported selector: "+e)}var q=document,y=a.DOM,r=" ",x="*",z="getDOMNode",t=z+"s",u=/^#[\w-]+$/,o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=q.createElement("div");e.appendChild(q.createComment(""));if(e.getElementsByTagName(x).length>0)g=function(b,i){var l=i.getElementsByTagName(b);if(b===x){for(var k=[],m=0,v=0,h;h=l[m++];)if(h.nodeType===1)k[v++]=h;l=k}return l}})();q.getElementsByClassName||(j=q.querySelectorAll?
function(e,b,i){return i.querySelectorAll((b?b:"")+"."+e)}:function(e,b,i){b=i.getElementsByTagName(b||x);i=[];var l=0,k=0,m=b.length,v,h;for(e=r+e+r;l<m;++l){v=b[l];if((h=v.className)&&(r+h+r).indexOf(e)>-1)i[k++]=v}return i});a.query=n;a.get=function(e,b){return n(e,b)[0]||null};a.mix(y,{query:n,get:a.get,filter:function(e,b){var i=n(e),l,k,m,v=[];if(a.isString(b)&&(l=o.exec(b))&&!l[1]){k=l[2];m=l[3];b=function(h){return!(k&&h.tagName!==k.toUpperCase()||m&&!y.hasClass(h,m))}}if(a.isFunction(b))v=
a.filter(i,b);else if(b&&a.ExternalSelector)v=a.ExternalSelector._filter(e,b+"");else c(b);return v},test:function(e,b){var i=n(e);return i.length&&y.filter(i,b).length===i.length}})});
KISSY.add("dom-data",function(a,p){var n=window,f=a.DOM,d="_ks_data_"+a.now(),g={},j={},c={EMBED:1,OBJECT:1,APPLET:1};a.mix(f,{data:function(q,y,r){if(a.isPlainObject(y))for(var x in y)f.data(q,x,y[x]);else if(r===p){q=a.get(q);var z;if(!(!q||c[q.nodeName])){if(q==n)q=j;z=(x=q&&q.nodeType)?g:q;q=z[x?q[d]:d];if(a.isString(y)&&q)return q[y];return q}}else a.query(q).each(function(t){if(!(!t||c[t.nodeName])){if(t==n)t=j;var u=g,o;if(t&&t.nodeType){if(!(o=t[d]))o=t[d]=a.guid()}else{o=d;u=t}if(y&&r!==
p){u[o]||(u[o]={});u[o][y]=r}}})},removeData:function(q,y){a.query(q).each(function(r){if(r){if(r==n)r=j;var x,z=g,t,u=r&&r.nodeType;if(u)x=r[d];else{z=r;x=d}if(x){t=z[x];if(y){if(t){delete t[y];a.isEmptyObject(t)&&f.removeData(r)}}else{if(u)r.removeAttribute&&r.removeAttribute(d);else try{delete r[d]}catch(o){}u&&delete z[x]}}}})}})});
KISSY.add("dom-class",function(a,p){function n(j,c,q,y){if(!(c=a.trim(c)))return y?false:p;j=a.query(j);var r=0,x=j.length;c=c.split(d);for(var z;r<x;r++){z=j[r];if(f._isElementNode(z)){z=q(z,c,c.length);if(z!==p)return z}}if(y)return false}var f=a.DOM,d=/[\.\s]\s*\.?/,g=/[\n\t]/g;a.mix(f,{hasClass:function(j,c){return n(j,c,function(q,y,r){if(q=q.className){q=" "+q+" ";for(var x=0,z=true;x<r;x++)if(q.indexOf(" "+y[x]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(j,c){n(j,c,function(q,
y,r){var x=q.className;if(x){var z=" "+x+" ";x=x;for(var t=0;t<r;t++)if(z.indexOf(" "+y[t]+" ")<0)x+=" "+y[t];q.className=a.trim(x)}else q.className=c})},removeClass:function(j,c){n(j,c,function(q,y,r){var x=q.className;if(x)if(r){x=(" "+x+" ").replace(g," ");for(var z=0,t;z<r;z++)for(t=" "+y[z]+" ";x.indexOf(t)>=0;)x=x.replace(t," ");q.className=a.trim(x)}else q.className=""})},replaceClass:function(j,c,q){f.removeClass(j,c);f.addClass(j,q)},toggleClass:function(j,c,q){var y=a.isBoolean(q),r;n(j,
c,function(x,z,t){for(var u=0,o;u<t;u++){o=z[u];r=y?!q:f.hasClass(x,o);f[r?"removeClass":"addClass"](x,o)}})}})});
KISSY.add("dom-attr",function(a,p){var n=a.UA,f=document.documentElement,d=!f.hasAttribute,g=f.textContent!==p?"textContent":"innerText",j=a.DOM,c=j._isElementNode,q=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,r=/\r/g,x=/^(?:radio|checkbox)/,z={readonly:"readOnly"},t={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},u={tabindex:{getter:function(o){return o.tabIndex},setter:function(o,e){if(isNaN(parseInt(e))){o.removeAttribute("tabindex");o.removeAttribute("tabIndex")}else o.tabIndex=
e}},style:{getter:function(o){return o.style.cssText},setter:function(o,e){o.style.cssText=e}},checked:{setter:function(o,e){o.checked=!!e}}};d&&a.mix(z,{"for":"htmlFor","class":"className"});a.mix(j,{attr:function(o,e,b,i){if(a.isPlainObject(e)){i=b;for(var l in e)j.attr(o,l,e[l],i)}else if(e=a.trim(e)){e=e.toLowerCase();if(i&&t[e])return j[e](o,b);e=z[e]||e;var k=u[e];if(b===p){o=j.get(o);if(!c(o))return p;if(k&&k.getter)return k.getter(o);var m;q.test(e)||(m=o[e]);if(m===p)m=o.getAttribute(e);
if(d)if(y.test(e))m=o.getAttribute(e,2);return m===null?p:m}a.each(j.query(o),function(v){if(c(v))k&&k.setter?k.setter(v,b):v.setAttribute(e,""+b)})}},removeAttr:function(o,e){a.each(a.query(o),function(b){if(c(b)){j.attr(b,e,"");b.removeAttribute(e)}})},val:function(o,e){if(e===p){var b=a.get(o);if(!c(b))return p;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var i=b.selectedIndex,
l=b.options;if(i<0)return null;else if(b.type==="select-one")return j.val(l[i]);b=[];for(var k=0,m=l.length;k<m;++k)l[k].selected&&b.push(j.val(l[k]));return b}if(n.webkit&&x.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(r,"")}a.each(a.query(o),function(v){if(v&&v.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(e))e+="";var h=a.makeArray(e),s=v.options,w;k=0;for(m=s.length;k<m;++k){w=s[k];w.selected=a.inArray(j.val(w),h)}if(!h.length)v.selectedIndex=
-1}else if(c(v))v.value=e})},text:function(o,e){if(e===p){var b=a.get(o);if(c(b))return b[g]||"";else if(j._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(o),function(i){if(c(i))i[g]=e;else if(j._nodeTypeIs(i,3))i.nodeValue=e})}})});
KISSY.add("dom-style",function(a,p){function n(b,i){var l=a.get(b),k=i===q?l.offsetWidth:l.offsetHeight;a.each(i===q?["Left","Right"]:["Top","Bottom"],function(m){k-=parseFloat(d._getComputedStyle(l,"padding"+m))||0;k-=parseFloat(d._getComputedStyle(l,"border"+m+"Width"))||0});return k}function f(b,i,l){var k=l;if(l===y&&x.test(i)){k=0;if(a.inArray(d.css(b,"position"),["absolute","fixed"])){l=b[i==="left"?"offsetLeft":"offsetTop"];if(g.ie===8||g.opera)l-=r(d.css(b.offsetParent,"border-"+i+"-width"))||
0;k=l-(r(d.css(b,"margin-"+i))||0)}}return k}var d=a.DOM,g=a.UA,j=document,c=j.documentElement,q="width",y="auto",r=parseInt,x=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,t=/-([a-z])/ig,u=function(b,i){return i.toUpperCase()},o={},e={};a.mix(d,{_CUSTOM_STYLES:o,_getComputedStyle:function(b,i){var l="",k=b.ownerDocument;if(b.style)l=k.defaultView.getComputedStyle(b,null)[i];return l},css:function(b,i,l){if(a.isPlainObject(i))for(var k in i)d.css(b,k,i[k]);else{if(i.indexOf("-")>
0)i=i.replace(t,u);i=o[i]||i;if(l===p){b=a.get(b);k="";if(b&&b.style){k=i.get?i.get(b):b.style[i];if(k===""&&!i.get)k=f(b,i,d._getComputedStyle(b,i))}return k===p?"":k}else{if(l===null||l==="")l="";else if(!isNaN(new Number(l))&&z.test(i))l+="px";(i===q||i==="height")&&parseFloat(l)<0||a.each(a.query(b),function(m){if(m&&m.style){i.set?i.set(m,l):m.style[i]=l;if(l==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(b,i){if(i===p)return n(b,q);else d.css(b,q,i)},height:function(b,
i){if(i===p)return n(b,"height");else d.css(b,"height",i)},show:function(b){a.query(b).each(function(i){if(i){i.style.display=d.data(i,"display")||"";if(d.css(i,"display")==="none"){var l=i.tagName,k=e[l],m;if(!k){m=j.createElement(l);j.body.appendChild(m);k=d.css(m,"display");d.remove(m);e[l]=k}d.data(i,"display",k);i.style.display=k}}})},hide:function(b){a.query(b).each(function(i){if(i){var l=i.style,k=l.display;if(k!=="none"){k&&d.data(i,"display",k);l.display="none"}}})},toggle:function(b){a.query(b).each(function(i){if(i)i.style.display===
"none"?d.show(i):d.hide(i)})},addStyleSheet:function(b,i){var l;if(i&&(i=i.replace("#","")))l=a.get("#"+i);if(!l){l=d.create("<style>",{id:i});a.get("head").appendChild(l);if(l.styleSheet)l.styleSheet.cssText=b;else l.appendChild(j.createTextNode(b))}}});if(c.style.cssFloat!==p)o["float"]="cssFloat";else if(c.style.styleFloat!==p)o["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,p){if(a.UA.ie){var n=a.DOM,f=document,d=f.documentElement,g=n._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,c=/^-?\d/,q=/^(?:width|height)$/;try{if(d.style.opacity===p&&d.filters)g.opacity={get:function(r){var x=100;try{x=r.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{x=r.filters("alpha").opacity}catch(t){}}return x/100+""},set:function(r,x){var z=r.style,t=(r.currentStyle||0).filter||"";z.zoom=1;if(t)if(t=t.replace(/alpha\(opacity=.+\)/ig,""))t+=", ";
z.filter=t+"alpha(opacity="+x*100+")"}}}catch(y){}if(!(f.defaultView||{}).getComputedStyle&&d.currentStyle)n._getComputedStyle=function(r,x){var z=r.style,t=r.currentStyle[x];if(q.test(x))t=n[x](r)+"px";else if(!j.test(t)&&c.test(t)){var u=z.left,o=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left;z.left=x==="fontSize"?"1em":t||0;t=z.pixelLeft+"px";z.left=u;r.runtimeStyle.left=o}return t}}});
KISSY.add("dom-offset",function(a,p){function n(l){var k=0,m=0,v=y(l[t]);if(l[i]){l=l[i]();k=l[u];m=l[o];if(d.mobile!=="apple"){k+=f[e](v);m+=f[b](v)}}return{left:k,top:m}}var f=a.DOM,d=a.UA,g=window,j=document,c=f._isElementNode,q=f._nodeTypeIs,y=f._getWin,r=j.compatMode==="CSS1Compat",x=Math.max,z=parseInt,t="ownerDocument",u="left",o="top",e="scrollLeft",b="scrollTop",i="getBoundingClientRect";a.mix(f,{offset:function(l,k){if(!(l=a.get(l))||!l[t])return null;if(k===p)return n(l);var m=l;if(f.css(m,
"position")==="static")m.style.position="relative";var v=n(m),h={},s,w;for(w in k){s=z(f.css(m,w),10)||0;h[w]=s+k[w]-v[w]}f.css(m,h)},scrollIntoView:function(l,k,m,v){if((l=a.get(l))&&l[t]){v=v===p?true:!!v;m=m===p?true:!!m;if(!k||k===g)return l.scrollIntoView(m);k=a.get(k);if(q(k,9))k=y(k);var h=k&&"scrollTo"in k&&k.document,s=f.offset(l),w=h?{left:f.scrollLeft(k),top:f.scrollTop(k)}:f.offset(k),A={left:s[u]-w[u],top:s[o]-w[o]};s=h?f.viewportHeight(k):k.clientHeight;w=h?f.viewportWidth(k):k.clientWidth;
var B=f[e](k),E=f[b](k),D=B+w,C=E+s,K=l.offsetHeight;l=l.offsetWidth;var J=A.left+B-(z(f.css(k,"borderLeftWidth"))||0);A=A.top+E-(z(f.css(k,"borderTopWidth"))||0);var G=J+l,F=A+K,H,I;if(K>s||A<E||m)H=A;else if(F>C)H=F-s;if(v)if(l>w||J<B||m)I=J;else if(G>D)I=G-w;if(h){if(H!==p||I!==p)k.scrollTo(I,H)}else{if(H!==p)k[b]=H;if(I!==p)k[e]=I}}}});a.each(["Left","Top"],function(l,k){var m="scroll"+l;f[m]=function(v){var h=0,s=y(v),w;if(s&&(w=s.document))h=s[k?"pageYOffset":"pageXOffset"]||w.documentElement[m]||
w.body[m];else if(c(v=a.get(v)))h=v[m];return h}});a.each(["Width","Height"],function(l){f["doc"+l]=function(k){k=k||j;return x(r?k.documentElement["scroll"+l]:k.body["scroll"+l],f["viewport"+l](k))};f["viewport"+l]=function(k){var m="inner"+l;k=y(k);var v=k.document;return m in k?k[m]:r?v.documentElement["client"+l]:v.body["client"+l]}})});
KISSY.add("dom-traversal",function(a,p){function n(j,c,q,y){if(!(j=a.get(j)))return null;if(c===p)c=1;var r=null,x,z;if(a.isNumber(c)&&c>=0){if(c===0)return j;x=0;z=c;c=function(){return++x===z}}for(;j=j[q];)if(g(j)&&(!c||d.test(j,c))&&(!y||y(j))){r=j;break}return r}function f(j,c,q){var y=[];var r=j=a.get(j);if(j&&q)r=j.parentNode;if(r){q=0;for(r=r.firstChild;r;r=r.nextSibling)if(g(r)&&r!==j&&(!c||d.test(r,c)))y[q++]=r}return y}var d=a.DOM,g=d._isElementNode;a.mix(d,{parent:function(j,c){return n(j,
c,"parentNode",function(q){return q.nodeType!=11})},next:function(j,c){return n(j,c,"nextSibling")},prev:function(j,c){return n(j,c,"previousSibling")},siblings:function(j,c){return f(j,c,true)},children:function(j,c){return f(j,c)},contains:function(j,c){var q=false;if((j=a.get(j))&&(c=a.get(c)))if(j.contains){if(c.nodeType===3){c=c.parentNode;if(c===j)return true}if(c)return j.contains(c)}else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(c)&16);else for(;!q&&(c=c.parentNode);)q=
c==j;return q}})});
KISSY.add("dom-create",function(a,p){function n(h){var s=h.cloneNode(true);if(c.ie<8)s.innerHTML=h.innerHTML;return s}function f(h,s,w,A){if(w){var B=a.guid("ks-tmp-"),E=RegExp(u);s+='<span id="'+B+'"></span>';a.available(B,function(){var D=a.get("head"),C,K,J,G,F,H;for(E.lastIndex=0;C=E.exec(s);)if((J=(K=C[1])?K.match(e):false)&&J[2]){C=g.createElement("script");C.src=J[2];if((G=K.match(b))&&G[2])C.charset=G[2];C.async=true;D.appendChild(C)}else if((H=C[2])&&H.length>0)a.globalEval(H);(F=g.getElementById(B))&&
j.remove(F);a.isFunction(A)&&A()});d(h,s)}else{d(h,s);a.isFunction(A)&&A()}}function d(h,s){s=(s+"").replace(u,"");try{h.innerHTML=s}catch(w){for(;h.firstChild;)h.removeChild(h.firstChild);s&&h.appendChild(j.create(s))}}var g=document,j=a.DOM,c=a.UA,q=c.ie,y=j._nodeTypeIs,r=j._isElementNode,x=j._isKSNode,z=g.createElement("div"),t=/<(\w+)/,u=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(j,{create:function(h,
s,w){if(y(h,1)||y(h,3))return n(h);if(x(h))return n(h[0]);if(!(h=a.trim(h)))return null;var A=null;A=j._creators;var B,E="div",D;if(B=o.exec(h))A=(w||g).createElement(B[1]);else{if((B=t.exec(h))&&(D=B[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;h=A[E](h,w).childNodes;if(h.length===1)w=h[0].parentNode.removeChild(h[0]);else{h=h;D=w||g;w=null;if(h&&(h.push||h.item)&&h[0]){D=D||h[0].ownerDocument;w=D.createDocumentFragment();if(h.item)h=a.makeArray(h);D=0;for(A=h.length;D<A;D++)w.appendChild(h[D])}w=
w}A=w}w=A;r(w)&&a.isPlainObject(s)&&j.attr(w,s,true);return w},_creators:{div:function(h,s){var w=s?s.createElement("div"):z;w.innerHTML=h;return w}},html:function(h,s,w,A){if(s===p){h=a.get(h);if(r(h))return h.innerHTML}else a.each(a.query(h),function(B){r(B)&&f(B,s,w,A)})},remove:function(h){a.each(a.query(h),function(s){r(s)&&s.parentNode&&s.parentNode.removeChild(s)})}});if(q||c.gecko||c.webkit){var i=j._creators,l=j.create,k=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,m={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},v;for(v in m)(function(h){i[v]=function(s,w){return l("<"+h+">"+s+"</"+h+">",null,w)}})(m[v]);if(q){i.script=function(h,s){var w=s?s.createElement("div"):z;w.innerHTML="-"+h;w.removeChild(w.firstChild);return w};if(q<8)i.tbody=function(h,s){var w=l("<table>"+h+"</table>",null,s),A=w.children.tags("tbody")[0];w.children.length>1&&A&&!k.test(h)&&A.parentNode.removeChild(A);return w}}a.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,
caption:i.tbody,colgroup:i.tbody})}});
KISSY.add("dom-insertion",function(a){var p=a.DOM;a.mix(p,{insertBefore:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.parentNode.insertBefore(n,f);return n},insertAfter:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.nextSibling?f.parentNode.insertBefore(n,f.nextSibling):f.parentNode.appendChild(n);return n},append:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.appendChild&&f.appendChild(n)},prepend:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.firstChild?p.insertBefore(n,
f.firstChild):f.appendChild(n)}})});
KISSY.add("event",function(a,p){function n(u,o,e,b,i){if(a.isString(o))o=a.query(o);if(a.isArray(o)){a.each(o,function(l){t[u](l,e,b,i)});return true}if((e=a.trim(e))&&e.indexOf(r)>0){a.each(e.split(r),function(l){t[u](o,l,b,i)});return true}}function f(u){return u&&u.nodeType!==3&&u.nodeType!==8?j.data(u,y):-1}function d(u,o){u&&u.nodeType!==3&&u.nodeType!==8&&j.data(u,y,o)}var g=document,j=a.DOM,c=g.addEventListener?function(u,o,e,b){u.addEventListener&&u.addEventListener(o,e,!!b)}:function(u,o,
e){u.attachEvent&&u.attachEvent("on"+o,e)},q=g.removeEventListener?function(u,o,e,b){u.removeEventListener&&u.removeEventListener(o,e,!!b)}:function(u,o,e){u.detachEvent&&u.detachEvent("on"+o,e)},y="ksEventTargetId",r=" ",x=a.now(),z={},t={EVENT_GUID:y,special:{},add:function(u,o,e,b){if(!n("add",u,o,e,b)){var i=f(u),l,k,m,v,h;if(!(i===-1||!o||!a.isFunction(e))){if(!i){d(u,i=x++);z[i]={target:u,events:{}}}k=z[i].events;if(!k[o]){l=((i=!u.isCustomEventTarget)||u._supportSpecialEvent)&&t.special[o]||
{};m=function(s,w){if(!s||!s.fixed)s=new a.EventObject(u,s,o);if(a.isPlainObject(w)){var A=s.type;a.mix(s,w);s.type=A}l.setup&&l.setup(s);return(l.handle||t._handle)(u,s)};k[o]={handle:m,listeners:[]};v=l.fix||o;h=l.capture;l.init&&l.init.apply(null,a.makeArray(arguments));i&&l.fix!==false&&c(u,v,m,h)}k[o].listeners.push({fn:e,scope:b||u})}}},__getListeners:function(u,o){var e,b=[];if(e=(t.__getEvents(u)||{})[o])b=e.listeners;return b},__getEvents:function(u){var o=f(u),e;if(o!==-1)if(o&&(e=z[o]))if(e.target===
u)return e.events||{}},remove:function(u,o,e,b){if(!n("remove",u,o,e,b)){var i=t.__getEvents(u),l=f(u),k,m,v,h,s,w,A=(!u.isCustomEventTarget||u._supportSpecialEvent)&&t.special[o]||{};if(i!==undefined){b=b||u;if(k=i[o]){m=k.listeners;v=m.length;if(a.isFunction(e)&&v){s=h=0;for(w=[];h<v;++h)if(e!==m[h].fn||b!==m[h].scope)w[s++]=m[h];k.listeners=w;v=w.length}if(e===p||v===0){if(!u.isCustomEventTarget){A=t.special[o]||{};if(A.fix!==false)q(u,A.fix||o,k.handle)}delete i[o]}}A.destroy&&A.destroy.apply(null,
a.makeArray(arguments));if(o===p||a.isEmptyObject(i)){for(o in i)t.remove(u,o);delete z[l];j.removeData(u,y)}}}},_handle:function(u,o){var e=t.__getListeners(u,o.type);e=e.slice(0);for(var b,i=0,l=e.length;i<l;++i){b=e[i];b=b.fn.call(b.scope,o);if(b!==p){o.result=b;b===false&&o.halt()}if(o.isImmediatePropagationStopped)break}return b},_getCache:function(u){return z[u]},__getID:f,_simpleAdd:c,_simpleRemove:q};t.on=t.add;a.Event=t});
KISSY.add("event-object",function(a,p){function n(g,j,c){this.currentTarget=g;this.originalEvent=j||{};if(j){this.type=j.type;this._fix()}else{this.type=c;this.target=g}this.currentTarget=g;this.fixed=true}var f=document,d="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(n,{_fix:function(){var g=this.originalEvent,j=d.length,c,q=this.currentTarget;for(q=q.nodeType===9?q:q.ownerDocument||f;j;){c=d[--j];this[c]=g[c]}if(!this.target)this.target=this.srcElement||f;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===p&&this.clientX!==p){g=q.documentElement;j=q.body;this.pageX=this.clientX+(g&&g.scrollLeft||j&&j.scrollLeft||
0)-(g&&g.clientLeft||j&&j.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||j&&j.scrollTop||0)-(g&&g.clientTop||j&&j.clientTop||0)}if(this.which===p)this.which=this.charCode!==p?this.charCode:this.keyCode;if(this.metaKey===p)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==p)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=n});
KISSY.add("event-target",function(a,p){var n=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(f,d){var g=a.DOM.data(this,n.EVENT_GUID)||-1;if((g=((n._getCache(g)||{}).events||{})[f])&&a.isFunction(g.handle))return g.handle(p,d)},on:function(f,d,g){n.add(this,f,d,g);return this},detach:function(f,d,g){n.remove(this,f,d,g);return this}}});
KISSY.add("event-mouseenter",function(a){var p=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){p.special[n.name]={fix:n.fix,setup:function(f){f.type=n.name},handle:function(f,d){if(a.DOM._isKSNode(f))f=f[0];var g=d.relatedTarget;try{for(;g&&g!==f;)g=g.parentNode;g!==f&&p._handle(f,d)}catch(j){}}}})});
KISSY.add("event-focusin",function(a){var p=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){p.special[n.name]={fix:n.fix,capture:true,setup:function(f){f.type=n.name}}})});
KISSY.add("node",function(a){function p(f,d,g){if(!(this instanceof p))return new p(f,d,g);if(f){if(a.isString(f)){f=n.create(f,d,g);if(f.nodeType===11)return new a.NodeList(f.childNodes)}else if(f instanceof p)return f;else f=f;this[0]=f}else this.length=0}var n=a.DOM;p.TYPE="-ks-Node";a.augment(p,{length:1,getDOMNode:function(){return this[0]},nodeType:p.TYPE});a.one=function(f,d){var g=a.get(f,d);return g?new p(g):null};a.Node=p});
KISSY.add("nodelist",function(a){function p(d){if(!(this instanceof p))return new p(d);n.push.apply(this,a.makeArray(d)||[])}var n=Array.prototype,f=a.DOM._isElementNode;a.mix(p.prototype,{length:0,item:function(d){var g=null,j,c;if(f(d)){j=0;for(c=this.length;j<c;j++)if(d===this[j]){d=j;break}}if(f(this[d]))g=new a.Node(this[d]);return g},getDOMNodes:function(){return n.slice.call(this)},each:function(d,g){var j=this.length,c=0,q;for(q=new a.Node(this[0]);c<j&&d.call(g||q,q,c,this)!==false;q=new a.Node(this[++c]));
return this}});a.all=function(d,g){return new p(a.query(d,g,true))};a.NodeList=p});
KISSY.add("node-attach",function(a,p){function n(m,v,h,s){m=[this[m?b:e]()].concat(a.makeArray(v));if(v[h]===p)return s.apply(c,m);else{s.apply(c,m);return this}}function f(m,v){a.each(m,function(h){a.each([u,o],function(s,w){s[h]=function(A){switch(v){case i:return function(){return n.call(this,w,arguments,1,A)};case l:return function(){return n.call(this,w,arguments,0,A)};case k:return function(){var B=this[w?b:e]();return(B=A.apply(c,[B].concat(a.makeArray(arguments))))?new (a[a.isArray(B)?"NodeList":
"Node"])(B):null};default:return function(){var B=this[w?b:e]();B=A.apply(c,[B].concat(a.makeArray(arguments)));return B===p?this:B}}}(c[h])})})}function d(m,v,h){m&&a.each(this,function(s){var w;if(v||a.isString(m))w=c.create(m);else{if(y(m,1)||y(m,3))w=m;if(r(m))w=m[0]}c[h](w,s)});return this}function g(m,v){if((m=a.get(m))&&m.appendChild)a.each(this,function(h){c[v](h,m)});return this}function j(m,v){m.__wrap=m.__wrap||[];m.__wrap.push(v)}var c=a.DOM,q=a.Event,y=c._nodeTypeIs,r=c._isKSNode,x=a.EventTarget,
z=a.Node,t=a.NodeList,u=z.prototype,o=t.prototype,e="getDOMNode",b=e+"s",i=1,l=2,k=4;a.mix(u,{one:function(m){return a.one(m,this[0])},all:function(m){return a.all(m,this[0])}});f(["data","removeData"],i);f(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);f(["attr","removeAttr"],i);f(["val","text"],l);f(["css"],i);f(["width","height"],l);f(["offset"],l);f(["scrollIntoView"]);f(["parent","next","prev","siblings","children"],k);f(["contains"]);f(["html"],l);f(["remove"]);a.each(["insertBefore",
"insertAfter"],function(m){u[m]=function(v){c[m].call(c,this[0],v);return this}});a.each([u,o],function(m,v){a.each(["append","prepend"],function(h){m[h]=function(s){return d.call(this,s,v,h)};m[h+"To"]=function(s){return g.call(this,s,h)}})});a.augment(z,x,{fire:null,on:function(m,v,h){function s(A){var B=a.makeArray(arguments);B.shift();A.target=new z(A.target);if(A.relatedTarget)A.relatedTarget=new z(A.relatedTarget);B.unshift(A);return v.apply(h||w,B)}var w=this;q.add(this[0],m,s,h);j(v,s);return this},
detach:function(m,v,h){if(a.isFunction(v)){v=v.__wrap||[];for(var s=0;s<v.length;s++)q.remove(this[0],m,v[s],h)}else q.remove(this[0],m,v,h);return this}});a.augment(t,x,{fire:null});u._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(m,v){o[v]=function(h,s,w){for(var A=0;A<this.length;A++)this.item(A).on(h,s,w)}})});if(!this.JSON)this.JSON={};
(function(){function a(y){return y<10?"0"+y:y}function p(y){d.lastIndex=0;return d.test(y)?'"'+y.replace(d,function(r){var x=c[r];return typeof x==="string"?x:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+y+'"'}function n(y,r){var x,z,t,u,o=g,e,b=r[y];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(y);if(typeof q==="function")b=q.call(r,y,b);switch(typeof b){case "string":return p(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";g+=j;e=[];if(Object.prototype.toString.apply(b)==="[object Array]"){u=b.length;for(x=0;x<u;x+=1)e[x]=n(x,b)||"null";t=e.length===0?"[]":g?"[\n"+g+e.join(",\n"+g)+"\n"+o+"]":"["+e.join(",")+"]";g=o;return t}if(q&&typeof q==="object"){u=q.length;for(x=0;x<u;x+=1){z=q[x];if(typeof z==="string")if(t=n(z,b))e.push(p(z)+(g?": ":":")+t)}}else for(z in b)if(Object.hasOwnProperty.call(b,z))if(t=n(z,b))e.push(p(z)+(g?": ":":")+t);t=e.length===0?"{}":g?"{\n"+g+e.join(",\n"+g)+
"\n"+o+"}":"{"+e.join(",")+"}";g=o;return t}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,j,c={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof JSON.stringify!=="function")JSON.stringify=function(y,r,x){var z;j=g="";if(typeof x==="number")for(z=0;z<x;z+=1)j+=" ";else if(typeof x==="string")j=x;if((q=r)&&typeof r!=="function"&&(typeof r!=="object"||typeof r.length!=="number"))throw Error("JSON.stringify");return n("",{"":y})};
if(typeof JSON.parse!=="function")JSON.parse=function(y,r){function x(t,u){var o,e,b=t[u];if(b&&typeof b==="object")for(o in b)if(Object.hasOwnProperty.call(b,o)){e=x(b,o);if(e!==undefined)b[o]=e;else delete b[o]}return r.call(t,u,b)}var z;y=String(y);f.lastIndex=0;if(f.test(y))y=y.replace(f,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(y.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){z=eval("("+y+")");return typeof r==="function"?x({"":z},""):z}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var p=window.JSON;a.JSON={parse:function(n){if(n==null||n==="")return null;return p.parse(n)},stringify:p.stringify}});
KISSY.add("ajax",function(a,p){function n(h){h=a.merge(v,h);if(h.url){if(h.data&&!a.isString(h.data))h.data=a.param(h.data);h.context=h.context||h;var s,w=b,A,B=h.type.toUpperCase();if(h.dataType===x){s=h.jsonpCallback||x+a.now();h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+(h.jsonp+"="+s);h.dataType=z;var E=g[s];g[s]=function(G){if(a.isFunction(E))E(G);else{g[s]=p;try{delete g[s]}catch(F){}}f([b,i],G,w,C,h)}}if(h.data&&B===c)h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+h.data;if(h.dataType===z){d(u,
h);B=a.getScript(h.url,s?null:function(){f([b,i],t,w,C,h)});d(o,h);return B}var D=false,C=h.xhr();d(u,h);C.open(B,h.url,h.async);try{if(h.data||h.contentType)C.setRequestHeader(y,h.contentType);C.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*; q=0.01":h.accepts._default)}catch(K){}C.onreadystatechange=function(G){if(!C||C.readyState===0||G==="abort"){D||f(i,null,l,C,h);D=true;if(C)C.onreadystatechange=j}else if(!D&&C&&(C.readyState===4||G===k)){D=true;C.onreadystatechange=
j;var F;if(G===k)F=k;else{a:{try{F=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(H){}F=false}F=F?b:l}w=F;try{F=C;var I=h.dataType,M=t,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(y)||t;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===m)throw m;}if(a.isString(L))if(I===r||!I&&M.indexOf(r)>=0)L=a.JSON.parse(L);A=L}catch(O){w=m}f([w===b?b:l,i],A,w,C,h);if(G===k){C.abort();d(e,h)}if(h.async)C=null}};d(o,h);try{C.send(B===
q?h.data:null)}catch(J){f([l,i],A,l,C,h)}h.async||d(i,h);return C}}function f(h,s,w,A,B){if(a.isArray(h))a.each(h,function(E){f(E,s,w,A,B)});else{w===h&&B[h]&&B[h].call(B.context,s,w,A);d(h,B)}}function d(h,s){n.fire(h,{ajaxConfig:s})}var g=window,j=function(){},c="GET",q="POST",y="Content-Type",r="json",x=r+"p",z="script",t="",u="start",o="send",e="stop",b="success",i="complete",l="error",k="timeout",m="parsererror",v={type:c,url:t,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:g.ActiveXObject?function(){if(g.XmlHttpRequest)try{return new g.XMLHttpRequest}catch(h){}try{return new g.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}:function(){return new g.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(n,a.EventTarget);a.mix(n,{get:function(h,s,w,A,B){if(a.isFunction(s)){A=w;w=s}return n({type:B||c,
url:h,data:s,success:function(E,D,C){w&&w.call(this,E,D,C)},dataType:A})},post:function(h,s,w,A){if(a.isFunction(s)){A=w;w=s;s=p}return n.get(h,s,w,A,q)},jsonp:function(h,s,w){if(a.isFunction(s)){w=s;s=null}return n.get(h,s,w,x)}});n.getScript=a.getScript;a.io=a.ajax=n.ajax=n;a.jsonp=n.jsonp;a.IO=n});
KISSY.add("anim-easing",function(a){var p=Math,n=p.PI,f=p.pow,d=p.sin,g=1.70158,j={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(f(2,10*(c-=1))*d((c-0.075)*2*n/0.3))},
elasticOut:function(c){if(c===0||c===1)return c;return f(2,-10*c)*d((c-0.075)*2*n/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*f(2,10*(c-=1))*d((c-0.1125)*2*n/0.45);return f(2,-10*(c-=1))*d((c-0.1125)*2*n/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((g+1)*c-g)},backOut:function(c){return(c-=1)*c*((g+1)*c+g)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((g*=1.525)+1)*c-g);return 0.5*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)},bounceIn:function(c){return 1-
j.bounceOut(1-c)},bounceOut:function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return j.bounceIn(c*2)*0.5;return j.bounceOut(c*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=j});
KISSY.add("anim",function(a,p){function n(e,b,i,l,k,m){if(e=a.get(e)){if(!(this instanceof n))return new n(e,b,i,l,k,m);var v=a.isPlainObject(i);b=b;this.domEl=e;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var h={},s=z.length,w;x.innerHTML='<div style="'+b+'"></div>';for(e=x.firstChild.style;s--;)if(w=e[z[s]])h[z[s]]=g(w);this.props=h;this.targetStyle=b;if(v)v=a.merge(o,i);else{v=a.clone(o);if(i)v.duration=r(i)||1;if(a.isString(l)||
a.isFunction(l))v.easing=l;if(a.isFunction(k))v.complete=k;if(m!==p)v.nativeSupport=m}this.config=v;if(v.nativeSupport&&f()&&a.isString(l=v.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(l)||(l=y.NativeTimeFunction[l])){v.easing=l;this.transitionName=f()}a.isFunction(k)&&this.on(u,k)}}function f(){var e="transition",b;if(x.style[e]!==p)b=e;else a.each(["Webkit","Moz","O"],function(i){if(x.style[e=i+"Transition"]!==p){b=e;return false}});f=function(){return b};return b}function d(e,b,i){a.UA.ie&&i.indexOf(t)>
-1&&q.css(e,t,b[t].v);e.style.cssText+=";"+i}function g(e){var b=r(e);e=(e+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:e,u:"",f:c}:{v:b,u:e,f:j}}function j(e,b,i){return(e+(b-e)*i).toFixed(3)}function c(e,b,i){for(var l=2,k,m,v=[],h=[];k=3,m=arguments[l-1],l--;)if(m.substr(0,4)==="rgb(")for(m=m.match(/\d+/g);k--;)v.push(~~m[k]);else if(m.substr(0,1)==="#"){if(m.length===4)m="#"+m.substr(1,1)+m.substr(1,1)+m.substr(2,1)+m.substr(2,1)+m.substr(3,1)+m.substr(3,1);for(;k--;)v.push(parseInt(m.substr(1+
k*2,2),16))}else return b;for(;k--;){l=~~(v[k+3]+(v[k]-v[k+3])*i);h.push(l<0?0:l>255?255:l)}return"rgb("+h.join(",")+")"}var q=a.DOM,y=a.Easing,r=parseFloat,x=q.create("<div>"),z="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
t="opacity",u="complete",o={duration:1,easing:"easeNone",nativeSupport:true};a.augment(n,a.EventTarget,{run:function(){var e=this,b=e.config,i=e.domEl,l,k,m,v,h=e.props,s={},w;for(w in h)s[w]=g(q.css(i,w));if(e.fire("start")!==false){e.stop();if(e.transitionName)e._nativeRun();else{l=b.duration*1E3;m=a.now();v=m+l;k=b.easing;if(a.isString(k))k=y[k]||y.easeNone;e.timer=a.later(b=function(){var A=a.now(),B=A>v?1:(A-m)/l,E,D,C;for(w in h){E=s[w];D=h[w];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;q.css(i,w,
D.f(E.v,D.v,k(B))+D.u)}if(e.fire("step")===false||(C=A>v)){e.stop();C&&e.fire(u)}},13,true);b()}return e}},_nativeRun:function(){var e=this,b=e.config,i=e.domEl,l=e.props,k=b.duration*1E3;b=b.easing;var m=e.transitionName,v={};v[m+"Property"]="all";v[m+"Duration"]=k+"ms";v[m+"TimingFunction"]=b;q.css(i,v);a.later(function(){d(i,l,e.targetStyle)},0);a.later(function(){e.stop(true)},k)},stop:function(e){if(this.transitionName)this._nativeStop(e);else{if(this.timer){this.timer.cancel();this.timer=p}if(e){d(this.domEl,
this.props,this.targetStyle);this.fire(u)}}return this},_nativeStop:function(e){var b=this.domEl,i=this.transitionName,l=this.props,k;if(e){q.css(b,i+"Property","none");this.fire(u)}else{for(k in l)q.css(b,k,q._getComputedStyle(b,k));q.css(b,i+"Property","none")}}});n.supportTransition=function(){return!!f()};a.Anim=n});
KISSY.add("anim-node-plugin",function(a,p){function n(t,u,o,e,b){if(u==="toggle"){b=f.css(t,g)===j?1:0;u="show"}if(b)f.css(t,g,f.data(t,g)||"");var i={},l={};a.each(z[u],function(k){if(k===c){i[c]=f.css(t,c);f.css(t,c,q)}else if(k===y){i[y]=f.css(t,y);l.opacity=b?1:0;b&&f.css(t,y,0)}else if(k===r){i[r]=f.css(t,r);l.height=b?f.css(t,r)||t.naturalHeight:0;b&&f.css(t,r,0)}else if(k===x){i[x]=f.css(t,x);l.width=b?f.css(t,x)||t.naturalWidth:0;b&&f.css(t,x,0)}});(new a.Anim(t,l,o,"easeOut",function(){if(!b){var k=
t.style,m=k[g];if(m!==j){m&&f.data(t,g,m);k[g]=j}i[r]&&f.css(t,{height:i[r]});i[x]&&f.css(t,{height:i[x]});i[y]&&f.css(t,{height:i[y]});i[c]&&f.css(t,{height:i[c]})}e&&a.isFunction(e)&&e()})).run()}var f=a.DOM,d=a.Anim,g="display",j="none",c="overflow",q="hidden",y="opacity",r="height",x="width",z={show:[c,y,r,x],fade:[y],slide:[c,r]};a.each([a.Node.prototype,a.NodeList.prototype],function(t){t.animate=function(){var u=a.makeArray(arguments);a.each(this,function(o){d.apply(p,[o].concat(u)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(u,o){t[o]=function(e,b){f[o]&&arguments.length===0?f[o](this):a.each(this,function(i){n(i,u[0],e,b,u[1])});return this}})})});
KISSY.add("cookie",function(a){var p=document,n=encodeURIComponent,f=decodeURIComponent;a.Cookie={get:function(d){var g;if(a.isString(d)&&d!=="")if(d=p.cookie.match("(?:^| )"+d+"(?:(?:=([^;]*))|;|$)"))g=d[1]?f(d[1]):"";return g},set:function(d,g,j,c,q,y){g=n(g);var r=j;if(typeof r==="number"){r=new Date;r.setTime(r.getTime()+j*864E5)}if(r instanceof Date)g+="; expires="+r.toUTCString();if(a.isString(c)&&c!=="")g+="; domain="+c;if(a.isString(q)&&q!=="")g+="; path="+q;if(y)g+="; secure";p.cookie=d+
"="+g},remove:function(d,g,j,c){this.set(d,"",0,g,j,c)}}});
KISSY.add("attribute",function(a,p){function n(){this.__attrs={};this.__attrVals={}}function f(d){d+="";return d.charAt(0).toUpperCase()+d.substring(1)}a.augment(n,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(d,g){this.__attrs[d]=a.clone(g||{});return this},hasAttr:function(d){return d&&this.__attrs.hasOwnProperty(d)},removeAttr:function(d){if(this.hasAttr(d)){delete this.__attrs[d];delete this.__attrVals[d]}return this},set:function(d,g){var j=this.get(d);if(j!==g)if(false!==
this.__fireAttrChange("before",d,j,g)){this.__set(d,g);this.__fireAttrChange("after",d,j,this.__attrVals[d]);return this}},__fireAttrChange:function(d,g,j,c){return this.fire(d+f(g)+"Change",{attrName:g,prevVal:j,newVal:c})},__set:function(d,g){var j,c=this.__attrs[d];if(c=c&&c.setter)j=c.call(this,g);if(j!==p)g=j;this.__attrVals[d]=g},get:function(d){var g;g=(g=this.__attrs[d])&&g.getter;d=d in this.__attrVals?this.__attrVals[d]:this.__getDefAttrVal(d);if(g)d=g.call(this,d);return d},__getDefAttrVal:function(d){d=
this.__attrs[d];var g;if(d){if(g=d.valueFn){g=g.call(this);if(g!==p)d.value=g;delete d.valueFn}return d.value}},reset:function(d){if(this.hasAttr(d))return this.set(d,this.__getDefAttrVal(d));for(d in this.__attrs)this.hasAttr(d)&&this.reset(d);return this}});a.Attribute=n;n.__capitalFirst=f});
KISSY.add("base",function(a){function p(n){a.Attribute.call(this);for(var f=this.constructor;f;){var d=f.ATTRS;if(d){var g=void 0;for(g in d)d.hasOwnProperty(g)&&!this.hasAttr(g)&&this.addAttr(g,d[g])}f=f.superclass?f.superclass.constructor:null}if(n)for(var j in n)n.hasOwnProperty(j)&&this.__set(j,n[j])}a.augment(p,a.EventTarget,a.Attribute);a.Base=p});
