/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua",function(a){var q=navigator.userAgent,m="",f="",c,h={},l=function(b){var r=0;return parseFloat(b.replace(/\./g,function(){return r++===0?".":""}))};if((c=q.match(/AppleWebKit\/([\d.]*)/))&&c[1]){h[m="webkit"]=l(c[1]);if((c=q.match(/Chrome\/([\d.]*)/))&&c[1])h[f="chrome"]=l(c[1]);else if((c=q.match(/\/([\d.]*) Safari/))&&c[1])h[f="safari"]=l(c[1]);if(/ Mobile\//.test(q))h.mobile="apple";else if(c=q.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))h.mobile=c[0].toLowerCase()}else if((c=
q.match(/Presto\/([\d.]*)/))&&c[1]){h[m="presto"]=l(c[1]);if((c=q.match(/Opera\/([\d.]*)/))&&c[1]){h[f="opera"]=l(c[1]);if((c=q.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])h[f]=l(c[1]);if((c=q.match(/Opera Mini[^;]*/))&&c)h.mobile=c[0].toLowerCase();else if((c=q.match(/Opera Mobi[^;]*/))&&c)h.mobile=c[0]}}else if((c=q.match(/MSIE\s([^;]*)/))&&c[1]){h[m="trident"]=0.1;h[f="ie"]=l(c[1]);if((c=q.match(/Trident\/([\d.]*)/))&&c[1])h[m]=l(c[1])}else if(c=q.match(/Gecko/)){h[m="gecko"]=0.1;if((c=q.match(/rv:([\d.]*)/))&&
c[1])h[m]=l(c[1]);if((c=q.match(/Firefox\/([\d.]*)/))&&c[1])h[f="firefox"]=l(c[1])}h.core=m;h.shell=f;h._numberify=l;a.UA=h});
KISSY.add("ua-extra",function(a){var q=a.UA,m=navigator.userAgent,f,c,h={},l=q._numberify;if(m.match(/360SE/))h[c="se360"]=3;else if(m.match(/Maxthon/)&&(f=window.external)){c="maxthon";try{h[c]=l(f.max_version)}catch(b){h[c]=0.1}}else if(f=m.match(/TencentTraveler\s([\d.]*)/))h[c="tt"]=f[1]?l(f[1]):0.1;else if(m.match(/TheWorld/))h[c="theworld"]=3;else if(f=m.match(/SE\s([\d.]*)/))h[c="sougou"]=f[1]?l(f[1]):0.1;c&&(h.shell=c);a.mix(q,h)});
KISSY.add("dom",function(a,q){function m(f,c){return f&&f.nodeType===c}a.DOM={_isElementNode:function(f){return m(f,1)},_isKSNode:function(f){return a.Node&&m(f,a.Node.TYPE)},_getWin:function(f){return f&&"scrollTo"in f&&f.document?f:m(f,9)?f.defaultView||f.parentWindow:f===q?window:false},_nodeTypeIs:m}});
KISSY.add("selector",function(a,q){function m(e,d){var j,k,g=[],o;d=f(d);if(a.isString(e)){e=a.trim(e);if(p.test(e)){if(k=c(e.slice(1),d))g=[k]}else if(j=n.exec(e)){k=j[1];o=j[2];j=j[3];if(d=k?c(k,d):d)if(j)if(!k||e.indexOf(s)!==-1)g=l(j,o,d);else{if((k=c(k,d))&&y.hasClass(k,j))g=[k]}else if(o)g=h(o,d)}else if(a.ExternalSelector)return a.ExternalSelector(e,d);else b(e)}else if(e&&(e[z]||e[t]))g=e[z]?[e[z]()]:e[t]();else if(e&&(a.isArray(e)||e&&!e.nodeType&&e.item&&e!=window))g=e;else if(e)g=[e];if(g&&
!g.nodeType&&g.item&&g!=window)g=a.makeArray(g);g.each=function(x,i){return a.each(g,x,i)};return g}function f(e){if(e===q)e=r;else if(a.isString(e)&&p.test(e))e=c(e.slice(1),r);else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function c(e,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(e)}function h(e,d){return d.getElementsByTagName(e)}function l(e,d,j){j=e=j.getElementsByClassName(e);var k=0,g=0,o=e.length,x;if(d&&d!==v){j=[];for(d=d.toUpperCase();k<o;++k){x=e[k];if(x.tagName===
d)j[g++]=x}}return j}function b(e){a.error("Unsupported selector: "+e)}var r=document,y=a.DOM,s=" ",v="*",z="getDOMNode",t=z+"s",p=/^#[\w-]+$/,n=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=r.createElement("div");e.appendChild(r.createComment(""));if(e.getElementsByTagName(v).length>0)h=function(d,j){var k=j.getElementsByTagName(d);if(d===v){for(var g=[],o=0,x=0,i;i=k[o++];)if(i.nodeType===1)g[x++]=i;k=g}return k}})();r.getElementsByClassName||(l=r.querySelectorAll?function(e,d,
j){return j.querySelectorAll((d?d:"")+"."+e)}:function(e,d,j){d=j.getElementsByTagName(d||v);j=[];var k=0,g=0,o=d.length,x,i;for(e=s+e+s;k<o;++k){x=d[k];if((i=x.className)&&(s+i+s).indexOf(e)>-1)j[g++]=x}return j});a.query=m;a.get=function(e,d){return m(e,d)[0]||null};a.mix(y,{query:m,get:a.get,filter:function(e,d){var j=m(e),k,g,o,x=[];if(a.isString(d)&&(k=n.exec(d))&&!k[1]){g=k[2];o=k[3];d=function(i){return!(g&&i.tagName!==g.toUpperCase()||o&&!y.hasClass(i,o))}}if(a.isFunction(d))x=a.filter(j,
d);else if(d&&a.ExternalSelector)x=a.ExternalSelector._filter(e,d+"");else b(d);return x},test:function(e,d){var j=m(e);return j.length&&y.filter(j,d).length===j.length}})});
KISSY.add("dom-data",function(a,q){var m=window,f=a.DOM,c="_ks_data_"+a.now(),h={},l={},b={EMBED:1,OBJECT:1,APPLET:1};a.mix(f,{data:function(r,y,s){if(a.isPlainObject(y))for(var v in y)f.data(r,v,y[v]);else if(s===q){r=a.get(r);var z;if(!(!r||b[r.nodeName])){if(r==m)r=l;z=(v=r&&r.nodeType)?h:r;r=z[v?r[c]:c];if(a.isString(y)&&r)return r[y];return r}}else a.query(r).each(function(t){if(!(!t||b[t.nodeName])){if(t==m)t=l;var p=h,n;if(t&&t.nodeType){if(!(n=t[c]))n=t[c]=a.guid()}else{n=c;p=t}if(y&&s!==
q){p[n]||(p[n]={});p[n][y]=s}}})},removeData:function(r,y){a.query(r).each(function(s){if(s){if(s==m)s=l;var v,z=h,t,p=s&&s.nodeType;if(p)v=s[c];else{z=s;v=c}if(v){t=z[v];if(y){if(t){delete t[y];a.isEmptyObject(t)&&f.removeData(s)}}else{if(p)s.removeAttribute&&s.removeAttribute(c);else try{delete s[c]}catch(n){}p&&delete z[v]}}}})}})});
KISSY.add("dom-class",function(a,q){function m(l,b,r,y){if(!(b=a.trim(b)))return y?false:q;l=a.query(l);var s=0,v=l.length;b=b.split(c);for(var z;s<v;s++){z=l[s];if(f._isElementNode(z)){z=r(z,b,b.length);if(z!==q)return z}}if(y)return false}var f=a.DOM,c=/[\.\s]\s*\.?/,h=/[\n\t]/g;a.mix(f,{hasClass:function(l,b){return m(l,b,function(r,y,s){if(r=r.className){r=" "+r+" ";for(var v=0,z=true;v<s;v++)if(r.indexOf(" "+y[v]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(l,b){m(l,b,function(r,
y,s){var v=r.className;if(v){var z=" "+v+" ";v=v;for(var t=0;t<s;t++)if(z.indexOf(" "+y[t]+" ")<0)v+=" "+y[t];r.className=a.trim(v)}else r.className=b})},removeClass:function(l,b){m(l,b,function(r,y,s){var v=r.className;if(v)if(s){v=(" "+v+" ").replace(h," ");for(var z=0,t;z<s;z++)for(t=" "+y[z]+" ";v.indexOf(t)>=0;)v=v.replace(t," ");r.className=a.trim(v)}else r.className=""})},replaceClass:function(l,b,r){f.removeClass(l,b);f.addClass(l,r)},toggleClass:function(l,b,r){var y=a.isBoolean(r),s;m(l,
b,function(v,z,t){for(var p=0,n;p<t;p++){n=z[p];s=y?!r:f.hasClass(v,n);f[s?"removeClass":"addClass"](v,n)}})}})});
KISSY.add("dom-attr",function(a,q){var m=a.UA,f=document.documentElement,c=!f.hasAttribute,h=f.textContent!==q?"textContent":"innerText",l=a.DOM,b=l._isElementNode,r=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,s=/\r/g,v=/^(?:radio|checkbox)/,z={readonly:"readOnly"},t={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};c&&a.mix(z,{"for":"htmlFor","class":"className"});a.mix(l,{attr:function(p,n,e,d){if(a.isPlainObject(n)){d=e;for(var j in n)l.attr(p,j,n[j],d)}else if(n=a.trim(n)){n=
n.toLowerCase();if(d&&t[n])return l[n](p,e);n=z[n]||n;if(e===q){p=a.get(p);if(!b(p))return q;var k;r.test(n)||(k=p[n]);if(k===q)k=p.getAttribute(n);if(c)if(y.test(n))k=p.getAttribute(n,2);else if(n==="style")k=p.style.cssText;return k===null?q:k}a.each(a.query(p),function(g){if(b(g))if(n==="style")g.style.cssText=e;else{if(n==="checked")g[n]=!!e;g.setAttribute(n,""+e)}})}},removeAttr:function(p,n){a.each(a.query(p),function(e){if(b(e)){l.attr(e,n,"");e.removeAttribute(n)}})},val:function(p,n){if(n===
q){var e=a.get(p);if(!b(e))return q;if(e&&e.nodeName.toUpperCase()==="option".toUpperCase())return(e.attributes.value||{}).specified?e.value:e.text;if(e&&e.nodeName.toUpperCase()==="select".toUpperCase()){var d=e.selectedIndex,j=e.options;if(d<0)return null;else if(e.type==="select-one")return l.val(j[d]);e=[];for(var k=0,g=j.length;k<g;++k)j[k].selected&&e.push(l.val(j[k]));return e}if(m.webkit&&v.test(e.type))return e.getAttribute("value")===null?"on":e.value;return(e.value||"").replace(s,"")}a.each(a.query(p),
function(o){if(o&&o.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(n))n+="";var x=a.makeArray(n),i=o.options,u;k=0;for(g=i.length;k<g;++k){u=i[k];u.selected=a.inArray(l.val(u),x)}if(!x.length)o.selectedIndex=-1}else if(b(o))o.value=n})},text:function(p,n){if(n===q){var e=a.get(p);if(b(e))return e[h]||"";else if(l._nodeTypeIs(e,3))return e.nodeValue}else a.each(a.query(p),function(d){if(b(d))d[h]=n;else if(l._nodeTypeIs(d,3))d.nodeValue=n})}})});
KISSY.add("dom-style",function(a,q){function m(d,j){var k=a.get(d),g=j===r?k.offsetWidth:k.offsetHeight;a.each(j===r?["Left","Right"]:["Top","Bottom"],function(o){g-=parseFloat(c._getComputedStyle(k,"padding"+o))||0;g-=parseFloat(c._getComputedStyle(k,"border"+o+"Width"))||0});return g}function f(d,j,k){var g=k;if(k===y&&v.test(j)){g=0;if(a.inArray(c.css(d,"position"),["absolute","fixed"])){k=d[j==="left"?"offsetLeft":"offsetTop"];if(h.ie===8||h.opera)k-=s(c.css(d.offsetParent,"border-"+j+"-width"))||
0;g=k-(s(c.css(d,"margin-"+j))||0)}}return g}var c=a.DOM,h=a.UA,l=document,b=l.documentElement,r="width",y="auto",s=parseInt,v=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,t=/-([a-z])/ig,p=function(d,j){return j.toUpperCase()},n={},e={};a.mix(c,{_CUSTOM_STYLES:n,_getComputedStyle:function(d,j){var k="",g=d.ownerDocument;if(d.style)k=g.defaultView.getComputedStyle(d,null)[j];return k},css:function(d,j,k){if(a.isPlainObject(j))for(var g in j)c.css(d,g,j[g]);else{if(j.indexOf("-")>
0)j=j.replace(t,p);j=n[j]||j;if(k===q){d=a.get(d);g="";if(d&&d.style){g=j.get?j.get(d):d.style[j];if(g===""&&!j.get)g=f(d,j,c._getComputedStyle(d,j))}return g===q?"":g}else{if(k===null||k==="")k="";else if(!isNaN(new Number(k))&&z.test(j))k+="px";(j===r||j==="height")&&parseFloat(k)<0||a.each(a.query(d),function(o){if(o&&o.style){j.set?j.set(o,k):o.style[j]=k;if(k==="")o.style.cssText||o.removeAttribute("style")}})}}},width:function(d,j){if(j===q)return m(d,r);else c.css(d,r,j)},height:function(d,
j){if(j===q)return m(d,"height");else c.css(d,"height",j)},show:function(d){a.query(d).each(function(j){if(j){j.style.display=c.data(j,"display")||"";if(c.css(j,"display")==="none"){var k=j.tagName,g=e[k],o;if(!g){o=l.createElement(k);l.body.appendChild(o);g=c.css(o,"display");c.remove(o);e[k]=g}c.data(j,"display",g);j.style.display=g}}})},hide:function(d){a.query(d).each(function(j){if(j){var k=j.style,g=k.display;if(g!=="none"){g&&c.data(j,"display",g);k.display="none"}}})},toggle:function(d){a.query(d).each(function(j){if(j)j.style.display===
"none"?c.show(j):c.hide(j)})},addStyleSheet:function(d,j){var k;if(j&&(j=j.replace("#","")))k=a.get("#"+j);if(!k){k=c.create("<style>",{id:j});a.get("head").appendChild(k);if(k.styleSheet)k.styleSheet.cssText=d;else k.appendChild(l.createTextNode(d))}}});if(b.style.cssFloat!==q)n["float"]="cssFloat";else if(b.style.styleFloat!==q)n["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,q){if(a.UA.ie){var m=a.DOM,f=document,c=f.documentElement,h=m._CUSTOM_STYLES,l=/^-?\d+(?:px)?$/i,b=/^-?\d/,r=/^(?:width|height)$/;try{if(c.style.opacity===q&&c.filters)h.opacity={get:function(s){var v=100;try{v=s.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{v=s.filters("alpha").opacity}catch(t){}}return v/100+""},set:function(s,v){var z=s.style,t=(s.currentStyle||0).filter||"";z.zoom=1;if(t)if(t=t.replace(/alpha\(opacity=.+\)/ig,""))t+=", ";
z.filter=t+"alpha(opacity="+v*100+")"}}}catch(y){}if(!(f.defaultView||{}).getComputedStyle&&c.currentStyle)m._getComputedStyle=function(s,v){var z=s.style,t=s.currentStyle[v];if(r.test(v))t=m[v](s)+"px";else if(!l.test(t)&&b.test(t)){var p=z.left,n=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left;z.left=v==="fontSize"?"1em":t||0;t=z.pixelLeft+"px";z.left=p;s.runtimeStyle.left=n}return t}}});
KISSY.add("dom-offset",function(a,q){function m(k){var g=0,o=0,x=y(k[t]);if(k[j]){k=k[j]();g=k[p];o=k[n];if(c.mobile!=="apple"){g+=f[e](x);o+=f[d](x)}}return{left:g,top:o}}var f=a.DOM,c=a.UA,h=window,l=document,b=f._isElementNode,r=f._nodeTypeIs,y=f._getWin,s=l.compatMode==="CSS1Compat",v=Math.max,z=parseInt,t="ownerDocument",p="left",n="top",e="scrollLeft",d="scrollTop",j="getBoundingClientRect";a.mix(f,{offset:function(k,g){if(!(k=a.get(k))||!k[t])return null;if(g===q)return m(k);var o=k;if(f.css(o,
"position")==="static")o.style.position="relative";var x=m(o),i={},u,w;for(w in g){u=z(f.css(o,w),10)||0;i[w]=u+g[w]-x[w]}f.css(o,i)},scrollIntoView:function(k,g,o,x){if((k=a.get(k))&&k[t]){x=x===q?true:!!x;o=o===q?true:!!o;if(!g||g===h)return k.scrollIntoView(o);g=a.get(g);if(r(g,9))g=y(g);var i=g&&"scrollTo"in g&&g.document,u=f.offset(k),w=i?{left:f.scrollLeft(g),top:f.scrollTop(g)}:f.offset(g),A={left:u[p]-w[p],top:u[n]-w[n]};u=i?f.viewportHeight(g):g.clientHeight;w=i?f.viewportWidth(g):g.clientWidth;
var C=f[e](g),E=f[d](g),D=C+w,B=E+u,K=k.offsetHeight;k=k.offsetWidth;var J=A.left+C-(z(f.css(g,"borderLeftWidth"))||0);A=A.top+E-(z(f.css(g,"borderTopWidth"))||0);var G=J+k,F=A+K,H,I;if(K>u||A<E||o)H=A;else if(F>B)H=F-u;if(x)if(k>w||J<C||o)I=J;else if(G>D)I=G-w;if(i){if(H!==q||I!==q)g.scrollTo(I,H)}else{if(H!==q)g[d]=H;if(I!==q)g[e]=I}}}});a.each(["Left","Top"],function(k,g){var o="scroll"+k;f[o]=function(x){var i=0,u=y(x),w;if(u&&(w=u.document))i=u[g?"pageYOffset":"pageXOffset"]||w.documentElement[o]||
w.body[o];else if(b(x=a.get(x)))i=x[o];return i}});a.each(["Width","Height"],function(k){f["doc"+k]=function(g){g=g||l;return v(s?g.documentElement["scroll"+k]:g.body["scroll"+k],f["viewport"+k](g))};f["viewport"+k]=function(g){var o="inner"+k;g=y(g);var x=g.document;return o in g?g[o]:s?x.documentElement["client"+k]:x.body["client"+k]}})});
KISSY.add("dom-traversal",function(a,q){function m(l,b,r,y){if(!(l=a.get(l)))return null;if(b===q)b=1;var s=null,v,z;if(a.isNumber(b)&&b>=0){if(b===0)return l;v=0;z=b;b=function(){return++v===z}}for(;l=l[r];)if(h(l)&&(!b||c.test(l,b))&&(!y||y(l))){s=l;break}return s}function f(l,b,r){var y=[];var s=l=a.get(l);if(l&&r)s=l.parentNode;if(s){r=0;for(s=s.firstChild;s;s=s.nextSibling)if(h(s)&&s!==l&&(!b||c.test(s,b)))y[r++]=s}return y}var c=a.DOM,h=c._isElementNode;a.mix(c,{parent:function(l,b){return m(l,
b,"parentNode",function(r){return r.nodeType!=11})},next:function(l,b){return m(l,b,"nextSibling")},prev:function(l,b){return m(l,b,"previousSibling")},siblings:function(l,b){return f(l,b,true)},children:function(l,b){return f(l,b)},contains:function(l,b){var r=false;if((l=a.get(l))&&(b=a.get(b)))if(l.contains){if(b.nodeType===3){b=b.parentNode;if(b===l)return true}if(b)return l.contains(b)}else if(l.compareDocumentPosition)return!!(l.compareDocumentPosition(b)&16);else for(;!r&&(b=b.parentNode);)r=
b==l;return r}})});
KISSY.add("dom-create",function(a,q){function m(i){var u=i.cloneNode(true);if(b.ie<8)u.innerHTML=i.innerHTML;return u}function f(i,u,w,A){if(w){var C=a.guid("ks-tmp-"),E=RegExp(p);u+='<span id="'+C+'"></span>';a.available(C,function(){var D=a.get("head"),B,K,J,G,F,H;for(E.lastIndex=0;B=E.exec(u);)if((J=(K=B[1])?K.match(e):false)&&J[2]){B=h.createElement("script");B.src=J[2];if((G=K.match(d))&&G[2])B.charset=G[2];B.async=true;D.appendChild(B)}else if((H=B[2])&&H.length>0)a.globalEval(H);(F=h.getElementById(C))&&
l.remove(F);a.isFunction(A)&&A()});c(i,u)}else{c(i,u);a.isFunction(A)&&A()}}function c(i,u){u=(u+"").replace(p,"");try{i.innerHTML=u}catch(w){for(;i.firstChild;)i.removeChild(i.firstChild);u&&i.appendChild(l.create(u))}}var h=document,l=a.DOM,b=a.UA,r=b.ie,y=l._nodeTypeIs,s=l._isElementNode,v=l._isKSNode,z=h.createElement("div"),t=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;a.mix(l,{create:function(i,
u,w){if(y(i,1)||y(i,3))return m(i);if(v(i))return m(i[0]);if(!(i=a.trim(i)))return null;var A=null;A=l._creators;var C,E="div",D;if(C=n.exec(i))A=(w||h).createElement(C[1]);else{if((C=t.exec(i))&&(D=C[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;i=A[E](i,w).childNodes;if(i.length===1)w=i[0].parentNode.removeChild(i[0]);else{i=i;D=w||h;w=null;if(i&&(i.push||i.item)&&i[0]){D=D||i[0].ownerDocument;w=D.createDocumentFragment();if(i.item)i=a.makeArray(i);D=0;for(A=i.length;D<A;D++)w.appendChild(i[D])}w=
w}A=w}w=A;s(w)&&a.isPlainObject(u)&&l.attr(w,u,true);return w},_creators:{div:function(i,u){var w=u?u.createElement("div"):z;w.innerHTML=i;return w}},html:function(i,u,w,A){if(u===q){i=a.get(i);if(s(i))return i.innerHTML}else a.each(a.query(i),function(C){s(C)&&f(C,u,w,A)})},remove:function(i){a.each(a.query(i),function(u){s(u)&&u.parentNode&&u.parentNode.removeChild(u)})}});if(r||b.gecko||b.webkit){var j=l._creators,k=l.create,g=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,o={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},x;for(x in o)(function(i){j[x]=function(u,w){return k("<"+i+">"+u+"</"+i+">",null,w)}})(o[x]);if(r){j.script=function(i,u){var w=u?u.createElement("div"):z;w.innerHTML="-"+i;w.removeChild(w.firstChild);return w};if(r<8)j.tbody=function(i,u){var w=k("<table>"+i+"</table>",null,u),A=w.children.tags("tbody")[0];w.children.length>1&&A&&!g.test(i)&&A.parentNode.removeChild(A);return w}}a.mix(j,{optgroup:j.option,th:j.td,thead:j.tbody,tfoot:j.tbody,
caption:j.tbody,colgroup:j.tbody})}});
KISSY.add("dom-insertion",function(a){var q=a.DOM;a.mix(q,{insertBefore:function(m,f){if((m=a.get(m))&&(f=a.get(f))&&f.parentNode)f.parentNode.insertBefore(m,f);return m},insertAfter:function(m,f){if((m=a.get(m))&&(f=a.get(f))&&f.parentNode)f.nextSibling?f.parentNode.insertBefore(m,f.nextSibling):f.parentNode.appendChild(m);return m},append:function(m,f){if((m=a.get(m))&&(f=a.get(f)))f.appendChild&&f.appendChild(m)},prepend:function(m,f){if((m=a.get(m))&&(f=a.get(f)))f.firstChild?q.insertBefore(m,
f.firstChild):f.appendChild(m)}})});
KISSY.add("event",function(a,q){function m(p,n,e,d,j){if(a.isString(n))n=a.query(n);if(a.isArray(n)){a.each(n,function(k){t[p](k,e,d,j)});return true}if((e=a.trim(e))&&e.indexOf(s)>0){a.each(e.split(s),function(k){t[p](n,k,d,j)});return true}}function f(p){return p&&p.nodeType!==3&&p.nodeType!==8?l.data(p,y):-1}function c(p,n){p&&p.nodeType!==3&&p.nodeType!==8&&l.data(p,y,n)}var h=document,l=a.DOM,b=h.addEventListener?function(p,n,e,d){p.addEventListener&&p.addEventListener(n,e,!!d)}:function(p,n,
e){p.attachEvent&&p.attachEvent("on"+n,e)},r=h.removeEventListener?function(p,n,e,d){p.removeEventListener&&p.removeEventListener(n,e,!!d)}:function(p,n,e){p.detachEvent&&p.detachEvent("on"+n,e)},y="ksEventTargetId",s=" ",v=a.now(),z={},t={EVENT_GUID:y,special:{},add:function(p,n,e,d){if(!m("add",p,n,e,d)){var j=f(p),k,g,o,x,i;if(!(j===-1||!n||!a.isFunction(e))){if(!j){c(p,j=v++);z[j]={target:p,events:{}}}g=z[j].events;if(!g[n]){k=((j=!p.isCustomEventTarget)||p._supportSpecialEvent)&&t.special[n]||
{};o=function(u,w){if(!u||!u.fixed)u=new a.EventObject(p,u,n);if(a.isPlainObject(w)){var A=u.type;a.mix(u,w);u.type=A}k.setup&&k.setup(u);return(k.handle||t._handle)(p,u)};g[n]={handle:o,listeners:[]};x=k.fix||n;i=k.capture;j&&b(p,x,o,i)}g[n].listeners.push({fn:e,scope:d||p})}}},__getListeners:function(p,n){var e,d=[];if(e=(t.__getEvents(p)||{})[n])d=e.listeners;return d},__getEvents:function(p){var n=f(p),e;if(n!==-1)if(n&&(e=z[n]))if(e.target===p)return e.events||{}},remove:function(p,n,e,d){if(!m("remove",
p,n,e,d)){var j=t.__getEvents(p),k=f(p),g,o,x,i,u,w;if(j!==undefined){d=d||p;if(g=j[n]){o=g.listeners;x=o.length;if(a.isFunction(e)&&x){u=i=0;for(w=[];i<x;++i)if(e!==o[i].fn||d!==o[i].scope)w[u++]=o[i];g.listeners=w;x=w.length}if(e===q||x===0){if(!p.isCustomEventTarget){e=t.special[n]||{};r(p,e.fix||n,g.handle)}delete j[n]}}if(n===q||a.isEmptyObject(j)){for(n in j)t.remove(p,n);delete z[k];l.removeData(p,y)}}}},_handle:function(p,n){var e=t.__getListeners(p,n.type);e=e.slice(0);for(var d,j=0,k=e.length;j<
k;++j){d=e[j];d=d.fn.call(d.scope,n);if(d!==q){n.result=d;d===false&&n.halt()}if(n.isImmediatePropagationStopped)break}return d},_getCache:function(p){return z[p]},__getID:f,_simpleAdd:b,_simpleRemove:r};t.on=t.add;a.Event=t});
KISSY.add("event-object",function(a,q){function m(h,l,b){this.currentTarget=h;this.originalEvent=l||{};if(l){this.type=l.type;this._fix()}else{this.type=b;this.target=h}this.currentTarget=h;this.fixed=true}var f=document,c="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(m,
{_fix:function(){var h=this.originalEvent,l=c.length,b,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||f;l;){b=c[--l];this[b]=h[b]}if(!this.target)this.target=this.srcElement||f;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===q&&this.clientX!==q){h=r.documentElement;l=r.body;this.pageX=this.clientX+(h&&h.scrollLeft||l&&l.scrollLeft||
0)-(h&&h.clientLeft||l&&l.clientLeft||0);this.pageY=this.clientY+(h&&h.scrollTop||l&&l.scrollTop||0)-(h&&h.clientTop||l&&l.clientTop||0)}if(this.which===q)this.which=this.charCode!==q?this.charCode:this.keyCode;if(this.metaKey===q)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==q)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=
this.originalEvent;if(h.stopPropagation)h.stopPropagation();else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=m});
KISSY.add("event-target",function(a,q){var m=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(f,c){var h=a.DOM.data(this,m.EVENT_GUID)||-1;if((h=((m._getCache(h)||{}).events||{})[f])&&a.isFunction(h.handle))return h.handle(q,c)},on:function(f,c,h){m.add(this,f,c,h);return this},detach:function(f,c,h){m.remove(this,f,c,h);return this}}});
KISSY.add("event-mouseenter",function(a){var q=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(m){q.special[m.name]={fix:m.fix,setup:function(f){f.type=m.name},handle:function(f,c){if(a.DOM._isKSNode(f))f=f[0];var h=c.relatedTarget;try{for(;h&&h!==f;)h=h.parentNode;h!==f&&q._handle(f,c)}catch(l){}}}})});
KISSY.add("event-focusin",function(a){var q=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(m){q.special[m.name]={fix:m.fix,capture:true,setup:function(f){f.type=m.name}}})});
KISSY.add("node",function(a){function q(f,c,h){if(!(this instanceof q))return new q(f,c,h);if(f){if(a.isString(f)){f=m.create(f,c,h);if(f.nodeType===11)return new a.NodeList(f.childNodes)}else if(f instanceof q)return f;else f=f;this[0]=f}else this.length=0}var m=a.DOM;q.TYPE="-ks-Node";a.augment(q,{length:1,getDOMNode:function(){return this[0]},nodeType:q.TYPE});a.one=function(f,c){var h=a.get(f,c);return h?new q(h):null};a.Node=q});
KISSY.add("nodelist",function(a){function q(c){if(!(this instanceof q))return new q(c);m.push.apply(this,a.makeArray(c)||[])}var m=Array.prototype,f=a.DOM._isElementNode;a.mix(q.prototype,{length:0,item:function(c){var h=null,l,b;if(f(c)){l=0;for(b=this.length;l<b;l++)if(c===this[l]){c=l;break}}if(f(this[c]))h=new a.Node(this[c]);return h},getDOMNodes:function(){return m.slice.call(this)},each:function(c,h){var l=this.length,b=0,r;for(r=new a.Node(this[0]);b<l&&c.call(h||r,r,b,this)!==false;r=new a.Node(this[++b]));
return this}});a.all=function(c,h){return new q(a.query(c,h,true))};a.NodeList=q});
KISSY.add("node-attach",function(a,q){function m(g,o,x,i){g=[this[g?e:n]()].concat(a.makeArray(o));if(o[x]===q)return i.apply(b,g);else{i.apply(b,g);return this}}function f(g,o){a.each(g,function(x){a.each([t,p],function(i,u){i[x]=function(w){switch(o){case d:return function(){return m.call(this,u,arguments,1,w)};case j:return function(){return m.call(this,u,arguments,0,w)};case k:return function(){var A=this[u?e:n]();return(A=w.apply(b,[A].concat(a.makeArray(arguments))))?new (a[a.isArray(A)?"NodeList":
"Node"])(A):null};default:return function(){var A=this[u?e:n]();A=w.apply(b,[A].concat(a.makeArray(arguments)));return A===q?this:A}}}(b[x])})})}function c(g,o,x){g&&a.each(this,function(i){var u;if(o||a.isString(g))u=b.create(g);else{if(y(g,1)||y(g,3))u=g;if(s(g))u=g[0]}b[x](u,i)});return this}function h(g,o){if((g=a.get(g))&&g.appendChild)a.each(this,function(x){b[o](x,g)});return this}function l(g,o){g.__wrap=g.__wrap||[];g.__wrap.push(o)}var b=a.DOM,r=a.Event,y=b._nodeTypeIs,s=b._isKSNode,v=a.Node,
z=a.NodeList,t=v.prototype,p=z.prototype,n="getDOMNode",e=n+"s",d=1,j=2,k=4;a.mix(t,{one:function(g){return a.one(g,this[0])},all:function(g){return a.all(g,this[0])}});f(["data","removeData"],d);f(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);f(["attr","removeAttr"],d);f(["val","text"],j);f(["css"],d);f(["width","height"],j);f(["offset"],j);f(["scrollIntoView"]);f(["parent","next","prev","siblings","children"],k);f(["contains"]);f(["html"],j);f(["remove"]);a.each(["insertBefore",
"insertAfter"],function(g){t[g]=function(o){b[g].call(b,this[0],o);return this}});a.each([t,p],function(g,o){a.each(["append","prepend"],function(x){g[x]=function(i){return c.call(this,i,o,x)};g[x+"To"]=function(i){return h.call(this,i,x)}})});a.augment(v,EventTarget,{fire:null,on:function(g,o,x){function i(w){var A=a.makeArray(arguments);A.shift();w.target=new v(w.target);A.unshift(w);return o.apply(x||u,A)}var u=this;r.add(this[0],g,i,x);l(o,i);return this},detach:function(g,o,x){if(a.isFunction(o)){o=
o.__wrap||[];for(var i=0;i<o.length;i++)r.remove(this[0],g,o[i],x)}else r.remove(this[0],g,o,x);return this}});a.augment(z,EventTarget,{fire:null});t._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(g,o){p[o]=function(x,i,u){for(var w=0;w<this.length;w++)this.item(w).on(x,i,u)}})});if(!this.JSON)this.JSON={};
(function(){function a(y){return y<10?"0"+y:y}function q(y){c.lastIndex=0;return c.test(y)?'"'+y.replace(c,function(s){var v=b[s];return typeof v==="string"?v:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+y+'"'}function m(y,s){var v,z,t,p,n=h,e,d=s[y];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(y);if(typeof r==="function")d=r.call(s,y,d);switch(typeof d){case "string":return q(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";h+=l;e=[];if(Object.prototype.toString.apply(d)==="[object Array]"){p=d.length;for(v=0;v<p;v+=1)e[v]=m(v,d)||"null";t=e.length===0?"[]":h?"[\n"+h+e.join(",\n"+h)+"\n"+n+"]":"["+e.join(",")+"]";h=n;return t}if(r&&typeof r==="object"){p=r.length;for(v=0;v<p;v+=1){z=r[v];if(typeof z==="string")if(t=m(z,d))e.push(q(z)+(h?": ":":")+t)}}else for(z in d)if(Object.hasOwnProperty.call(d,z))if(t=m(z,d))e.push(q(z)+(h?": ":":")+t);t=e.length===0?"{}":h?"{\n"+h+e.join(",\n"+h)+
"\n"+n+"}":"{"+e.join(",")+"}";h=n;return t}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,l,b={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;if(typeof JSON.stringify!=="function")JSON.stringify=function(y,s,v){var z;l=h="";if(typeof v==="number")for(z=0;z<v;z+=1)l+=" ";else if(typeof v==="string")l=v;if((r=s)&&typeof s!=="function"&&(typeof s!=="object"||typeof s.length!=="number"))throw Error("JSON.stringify");return m("",{"":y})};
if(typeof JSON.parse!=="function")JSON.parse=function(y,s){function v(t,p){var n,e,d=t[p];if(d&&typeof d==="object")for(n in d)if(Object.hasOwnProperty.call(d,n)){e=v(d,n);if(e!==undefined)d[n]=e;else delete d[n]}return s.call(t,p,d)}var z;y=String(y);f.lastIndex=0;if(f.test(y))y=y.replace(f,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(y.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){z=eval("("+y+")");return typeof s==="function"?v({"":z},""):z}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var q=window.JSON;a.JSON={parse:function(m){if(m==null||m==="")return null;return q.parse(m)},stringify:q.stringify}});
KISSY.add("ajax",function(a,q){function m(i){i=a.merge(x,i);if(i.url){if(i.data&&!a.isString(i.data))i.data=a.param(i.data);i.context=i.context||i;var u,w=d,A,C=i.type.toUpperCase();if(i.dataType===v){u=i.jsonpCallback||v+a.now();i.url=i.url+(i.url.indexOf("?")===-1?"?":"&")+(i.jsonp+"="+u);i.dataType=z;var E=h[u];h[u]=function(G){if(a.isFunction(E))E(G);else{h[u]=q;try{delete h[u]}catch(F){}}f([d,j],G,w,B,i)}}if(i.data&&C===b)i.url=i.url+(i.url.indexOf("?")===-1?"?":"&")+i.data;if(i.dataType===z){c(p,
i);C=a.getScript(i.url,u?null:function(){f([d,j],t,w,B,i)});c(n,i);return C}var D=false,B=i.xhr();c(p,i);B.open(C,i.url,i.async);try{if(i.data||i.contentType)B.setRequestHeader(y,i.contentType);B.setRequestHeader("Accept",i.dataType&&i.accepts[i.dataType]?i.accepts[i.dataType]+", */*; q=0.01":i.accepts._default)}catch(K){}B.onreadystatechange=function(G){if(!B||B.readyState===0||G==="abort"){D||f(j,null,k,B,i);D=true;if(B)B.onreadystatechange=l}else if(!D&&B&&(B.readyState===4||G===g)){D=true;B.onreadystatechange=
l;var F;if(G===g)F=g;else{a:{try{F=B.status>=200&&B.status<300||B.status===304||B.status===1223;break a}catch(H){}F=false}F=F?d:k}w=F;try{F=B;var I=i.dataType,M=t,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(y)||t;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===o)throw o;}if(a.isString(L))if(I===s||!I&&M.indexOf(s)>=0)L=a.JSON.parse(L);A=L}catch(O){w=o}f([w===d?d:k,j],A,w,B,i);if(G===g){B.abort();c(e,i)}if(i.async)B=null}};c(n,i);try{B.send(C===
r?i.data:null)}catch(J){f([k,j],A,k,B,i)}i.async||c(j,i);return B}}function f(i,u,w,A,C){if(a.isArray(i))a.each(i,function(E){f(E,u,w,A,C)});else{w===i&&C[i]&&C[i].call(C.context,u,w,A);c(i,C)}}function c(i,u){m.fire(i,{ajaxConfig:u})}var h=window,l=function(){},b="GET",r="POST",y="Content-Type",s="json",v=s+"p",z="script",t="",p="start",n="send",e="stop",d="success",j="complete",k="error",g="timeout",o="parsererror",x={type:b,url:t,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:h.ActiveXObject?function(){if(h.XmlHttpRequest)try{return new h.XMLHttpRequest}catch(i){}try{return new h.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}}:function(){return new h.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(m,a.EventTarget);a.mix(m,{get:function(i,u,w,A,C){if(a.isFunction(u)){A=w;w=u}return m({type:C||b,
url:i,data:u,success:function(E,D,B){w&&w.call(this,E,D,B)},dataType:A})},post:function(i,u,w,A){if(a.isFunction(u)){A=w;w=u;u=q}return m.get(i,u,w,A,r)},jsonp:function(i,u,w){if(a.isFunction(u)){w=u;u=null}return m.get(i,u,w,v)}});m.getScript=a.getScript;a.io=a.ajax=m.ajax=m;a.jsonp=m.jsonp;a.IO=m});
KISSY.add("anim-easing",function(a){var q=Math,m=q.PI,f=q.pow,c=q.sin,h=1.70158,l={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(f(2,10*(b-=1))*c((b-0.075)*2*m/0.3))},
elasticOut:function(b){if(b===0||b===1)return b;return f(2,-10*b)*c((b-0.075)*2*m/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*f(2,10*(b-=1))*c((b-0.1125)*2*m/0.45);return f(2,-10*(b-=1))*c((b-0.1125)*2*m/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((h+1)*b-h)},backOut:function(b){return(b-=1)*b*((h+1)*b+h)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((h*=1.525)+1)*b-h);return 0.5*((b-=2)*b*(((h*=1.525)+1)*b+h)+2)},bounceIn:function(b){return 1-
l.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return l.bounceIn(b*2)*0.5;return l.bounceOut(b*2-1)*0.5+0.5}};l.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=l});
KISSY.add("anim",function(a,q){function m(e,d,j,k,g,o){if(e=a.get(e)){if(!(this instanceof m))return new m(e,d,j,k,g,o);var x=a.isPlainObject(j);d=d;this.domEl=e;if(a.isPlainObject(d))d=a.param(d,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var i={},u=z.length,w;v.innerHTML='<div style="'+d+'"></div>';for(e=v.firstChild.style;u--;)if(w=e[z[u]])i[z[u]]=h(w);this.props=i;this.targetStyle=d;if(x)x=a.merge(n,j);else{x=a.clone(n);if(j)x.duration=s(j)||1;if(a.isString(k)||
a.isFunction(k))x.easing=k;if(a.isFunction(g))x.complete=g;if(o!==q)x.nativeSupport=o}this.config=x;if(x.nativeSupport&&f()&&a.isString(k=x.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(k)||(k=y.NativeTimeFunction[k])){x.easing=k;this.transitionName=f()}a.isFunction(g)&&this.on(p,g)}}function f(){var e="transition",d;if(v.style[e]!==q)d=e;else a.each(["Webkit","Moz","O"],function(j){if(v.style[e=j+"Transition"]!==q){d=e;return false}});f=function(){return d};return d}function c(e,d,j){a.UA.ie&&j.indexOf(t)>
-1&&r.css(e,t,d[t].v);e.style.cssText+=";"+j}function h(e){var d=s(e);e=(e+"").replace(/^[-\d.]+/,"");return isNaN(d)?{v:e,u:"",f:b}:{v:d,u:e,f:l}}function l(e,d,j){return(e+(d-e)*j).toFixed(3)}function b(e,d,j){for(var k=2,g,o,x=[],i=[];g=3,o=arguments[k-1],k--;)if(o.substr(0,4)==="rgb(")for(o=o.match(/\d+/g);g--;)x.push(~~o[g]);else if(o.substr(0,1)==="#"){if(o.length===4)o="#"+o.substr(1,1)+o.substr(1,1)+o.substr(2,1)+o.substr(2,1)+o.substr(3,1)+o.substr(3,1);for(;g--;)x.push(parseInt(o.substr(1+
g*2,2),16))}else return d;for(;g--;){k=~~(x[g+3]+(x[g]-x[g+3])*j);i.push(k<0?0:k>255?255:k)}return"rgb("+i.join(",")+")"}var r=a.DOM,y=a.Easing,s=parseFloat,v=r.create("<div>"),z="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
t="opacity",p="complete",n={duration:1,easing:"easeNone",nativeSupport:true};a.augment(m,a.EventTarget,{run:function(){var e=this,d=e.config,j=e.domEl,k,g,o,x,i=e.props,u={},w;for(w in i)u[w]=h(r.css(j,w));if(e.fire("start")!==false){e.stop();if(e.transitionName)e._nativeRun();else{k=d.duration*1E3;o=a.now();x=o+k;g=d.easing;if(a.isString(g))g=y[g]||y.easeNone;e.timer=a.later(d=function(){var A=a.now(),C=A>x?1:(A-o)/k,E,D,B;for(w in i){E=u[w];D=i[w];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;r.css(j,w,
D.f(E.v,D.v,g(C))+D.u)}if(e.fire("step")===false||(B=A>x)){e.stop();B&&e.fire(p)}},13,true);d()}return e}},_nativeRun:function(){var e=this,d=e.config,j=e.domEl,k=e.props,g=d.duration*1E3;d=d.easing;var o=e.transitionName,x={};x[o+"Property"]="all";x[o+"Duration"]=g+"ms";x[o+"TimingFunction"]=d;r.css(j,x);a.later(function(){c(j,k,e.targetStyle)},0);a.later(function(){e.stop(true)},g)},stop:function(e){if(this.transitionName)this._nativeStop(e);else{if(this.timer){this.timer.cancel();this.timer=q}if(e){c(this.domEl,
this.props,this.targetStyle);this.fire(p)}}return this},_nativeStop:function(e){var d=this.domEl,j=this.transitionName,k=this.props,g;if(e){r.css(d,j+"Property","none");this.fire(p)}else{for(g in k)r.css(d,g,r._getComputedStyle(d,g));r.css(d,j+"Property","none")}}});m.supportTransition=function(){return!!f()};a.Anim=m});
KISSY.add("anim-node-plugin",function(a,q){function m(t,p,n,e,d){if(p==="toggle"){d=f.css(t,h)===l?1:0;p="show"}if(d)f.css(t,h,f.data(t,h)||"");var j={},k={};a.each(z[p],function(g){if(g===b){j[b]=f.css(t,b);f.css(t,b,r)}else if(g===y){j[y]=f.css(t,y);k.opacity=d?1:0;d&&f.css(t,y,0)}else if(g===s){j[s]=f.css(t,s);k.height=d?f.css(t,s)||t.naturalHeight:0;d&&f.css(t,s,0)}else if(g===v){j[v]=f.css(t,v);k.width=d?f.css(t,v)||t.naturalWidth:0;d&&f.css(t,v,0)}});(new a.Anim(t,k,n,"easeOut",function(){if(!d){var g=
t.style,o=g[h];if(o!==l){o&&f.data(t,h,o);g[h]=l}j[s]&&f.css(t,{height:j[s]});j[v]&&f.css(t,{height:j[v]});j[y]&&f.css(t,{height:j[y]});j[b]&&f.css(t,{height:j[b]})}e&&a.isFunction(e)&&e()})).run()}var f=a.DOM,c=a.Anim,h="display",l="none",b="overflow",r="hidden",y="opacity",s="height",v="width",z={show:[b,y,s,v],fade:[y],slide:[b,s]};a.each([a.Node.prototype,a.NodeList.prototype],function(t){t.animate=function(){var p=a.makeArray(arguments);a.each(this,function(n){c.apply(q,[n].concat(p)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(p,n){t[n]=function(e,d){f[n]&&arguments.length===0?f[n](this):a.each(this,function(j){m(j,p[0],e,d,p[1])});return this}})})});
KISSY.add("cookie",function(a){var q=document,m=encodeURIComponent,f=decodeURIComponent;a.Cookie={get:function(c){var h;if(a.isString(c)&&c!=="")if(c=q.cookie.match("(?:^| )"+c+"(?:(?:=([^;]*))|;|$)"))h=c[1]?f(c[1]):"";return h},set:function(c,h,l,b,r,y){h=m(h);var s=l;if(typeof s==="number"){s=new Date;s.setTime(s.getTime()+l*864E5)}if(s instanceof Date)h+="; expires="+s.toUTCString();if(a.isString(b)&&b!=="")h+="; domain="+b;if(a.isString(r)&&r!=="")h+="; path="+r;if(y)h+="; secure";q.cookie=c+
"="+h},remove:function(c,h,l,b){this.set(c,"",0,h,l,b)}}});
KISSY.add("attribute",function(a,q){function m(){this.__attrs={};this.__attrVals={}}function f(c){c+="";return c.charAt(0).toUpperCase()+c.substring(1)}a.augment(m,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(c,h){this.__attrs[c]=a.clone(h||{});return this},hasAttr:function(c){return c&&this.__attrs.hasOwnProperty(c)},removeAttr:function(c){if(this.hasAttr(c)){delete this.__attrs[c];delete this.__attrVals[c]}return this},set:function(c,h){var l=this.get(c);if(l!==h)if(false!==
this.__fireAttrChange("before",c,l,h)){this.__set(c,h);this.__fireAttrChange("after",c,l,this.__attrVals[c]);return this}},__fireAttrChange:function(c,h,l,b){return this.fire(c+f(h)+"Change",{attrName:h,prevVal:l,newVal:b})},__set:function(c,h){var l,b=this.__attrs[c];if(b=b&&b.setter)l=b.call(this,h);if(l!==q)h=l;this.__attrVals[c]=h},get:function(c){var h;h=(h=this.__attrs[c])&&h.getter;c=c in this.__attrVals?this.__attrVals[c]:this.__getDefAttrVal(c);if(h)c=h.call(this,c);return c},__getDefAttrVal:function(c){c=
this.__attrs[c];var h;if(c){if(h=c.valueFn){h=h.call(this);if(h!==q)c.value=h;delete c.valueFn}return c.value}},reset:function(c){if(this.hasAttr(c))return this.set(c,this.__getDefAttrVal(c));for(c in this.__attrs)this.hasAttr(c)&&this.reset(c);return this}});a.Attribute=m;m.__capitalFirst=f});
KISSY.add("base",function(a){function q(m){a.Attribute.call(this);for(var f=this.constructor;f;){var c=f.ATTRS;if(c){var h=void 0;for(h in c)c.hasOwnProperty(h)&&!this.hasAttr(h)&&this.addAttr(h,c[h])}f=f.superclass?f.superclass.constructor:null}if(m)for(var l in m)m.hasOwnProperty(l)&&this.__set(l,m[l])}a.augment(q,a.EventTarget,a.Attribute);a.Base=q});
