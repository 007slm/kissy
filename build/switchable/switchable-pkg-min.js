/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("switchable/base",function(i,c,o,u){function l(a,b){b=b||{};if(!("markupType"in b))if(b.panelCls)b.markupType=1;else if(b.panels)b.markupType=2;for(var f=this.constructor;f;){b=i.merge(f.Config,b);f=f.superclass?f.superclass.constructor:null}this.container=c.get(a);this.config=b;this.activeIndex=this.completedIndex=b.activeIndex;if(!(this.activeIndex>-1))if(typeof b.switchTo!="number")this.completedIndex=this.activeIndex=0;this._init();this._initPlugins();this.fire(t);this.activeIndex>-1||
typeof b.switchTo=="number"&&this.switchTo(b.switchTo)}var v=o.Target,t="init",h={originalEvent:{target:1}};l.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",steps:1,viewSize:[]};l.Plugins=[];i.augment(l,v,{_initPlugins:function(){for(var a=this,b=a.constructor;b;){i.each(b.Plugins,function(f){f.init&&
f.init(a)});b=b.superclass?b.superclass.constructor:null}},_init:function(){var a=this.config;this._parseMarkup();a.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var a=this.container,b=this.config,f,m,e=[],n=[];switch(b.markupType){case 0:if(f=c.get("."+b.navCls,a))e=c.children(f);m=c.get("."+b.contentCls,a);n=c.children(m);break;case 1:e=c.query("."+b.triggerCls,a);n=c.query("."+b.panelCls,a);break;case 2:e=b.triggers;n=b.panels}a=n.length;this.length=a/b.steps;if(b.hasTriggers&&a>0&&
e.length===0)e=this._generateTriggersMarkup(this.length);this.triggers=i.makeArray(e);this.panels=i.makeArray(n);this.content=m||n[0].parentNode;this.nav=f||b.hasTriggers&&e[0].parentNode},_generateTriggersMarkup:function(a){var b=this.config,f=c.create("<ul>"),m,e;f.className=b.navCls;for(e=0;e<a;e++){m=c.create("<li>");if(e===this.activeIndex)m.className=b.activeTriggerCls;m.innerHTML=e+1;f.appendChild(m)}this.container.appendChild(f);return c.children(f)},_bindTriggers:function(){var a=this,b=
a.config,f=a.triggers,m,e,n=f.length;for(e=0;e<n;e++)(function(x){m=f[x];o.on(m,"click",function(){a._onFocusTrigger(x)});if(b.triggerType==="mouse"){o.on(m,"mouseenter",function(){a._onMouseEnterTrigger(x,h)});o.on(m,"mouseleave",function(){a._onMouseLeaveTrigger(x,h)})}})(e)},_onFocusTrigger:function(a){if(this._triggerIsValid(a)){this._cancelSwitchTimer();this.switchTo(a,u,h)}},_onMouseEnterTrigger:function(a){var b=this;if(b._triggerIsValid(a))b.switchTimer=i.later(function(){b.switchTo(a,u,h)},
b.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(a){return this.activeIndex!==a},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=u}},switchTo:function(a,b,f,m){var e=this,n=e.config,x=e.triggers,z=e.panels,s=e.activeIndex,r=n.steps,y=s*r,A=a*r;if(!e._triggerIsValid(a))return e;if(e.fire("beforeSwitch",{toIndex:a})===false)return e;if(n.hasTriggers)e._switchTrigger(s>-1?x[s]:null,x[a]);if(b===u)b=
a>s?"forward":"backward";e._switchView(s>-1?z.slice(y,y+r):null,z.slice(A,A+r),a,b,f,function(){m&&m.call(e,a);e.completedIndex=a});e.activeIndex=a;return e},_switchTrigger:function(a,b){var f=this.config.activeTriggerCls;a&&c.removeClass(a,f);c.addClass(b,f)},_switchView:function(a,b,f,m,e,n){a&&c.css(a,"display","none");c.css(b,"display","block");this._fireOnSwitch(f,e);n&&n.call(this)},_fireOnSwitch:function(a,b){this.fire("switch",i.mix(b||{},{currentIndex:a}))},prev:function(a){var b=this.activeIndex;
this.switchTo(b>0?b-1:this.length-1,"backward",a)},next:function(a){var b=this.activeIndex;this.switchTo(b<this.length-1?b+1:0,"forward",a)}});return l},{requires:["dom","event"]});
KISSY.add("switchable/aria",function(i,c,o,u){function l(){this.stop&&this.stop()}function v(){this.start&&this.start()}u.Plugins.push({name:"aria",init:function(h){if(h.config.aria){var a=h.container;o.on(a,"focusin",l,h);o.on(a,"focusout",v,h)}}});var t=["a","input","button","object"];return{setTabIndex:function(h,a){h.tabIndex=a;c.query("*",h).each(function(b){var f=b.nodeName.toLowerCase();if(i.inArray(f,t)){c.hasAttr(b,"oriTabIndex")||c.attr(b,"oriTabIndex",b.tabIndex);b.tabIndex=a!=-1?c.attr(b,
"oriTabIndex"):a}})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/accordion/base",function(i,c,o){function u(l,v){if(!(this instanceof u))return new u(l,v);u.superclass.constructor.apply(this,arguments)}i.extend(u,o,{_switchTrigger:function(l,v){var t=this.config;t.multiple?c.toggleClass(v,t.activeTriggerCls):u.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(l){return this.config.multiple||u.superclass._triggerIsValid.call(this,l)},_switchView:function(l,v,t,h,a,b){var f=v[0];if(this.config.multiple){c.toggle(f);this._fireOnSwitch(t,
a);b&&b.call(this)}else u.superclass._switchView.apply(this,arguments)}});u.Plugins=[];u.Config={markupType:1,triggerType:"click",multiple:false};return u},{requires:["dom","../base"]});
KISSY.add("switchable/accordion/aria",function(i,c,o,u,l){function v(d){var k;i.each(this.triggers,function(B){if(B==d||c.contains(B,d))k=B});return k}function t(d){var k;i.each(this.panels,function(B){if(B==d||c.contains(B,d))k=B});return k}function h(d){var k=v.call(this,d);if(!k){d=t.call(this,d);k=this.triggers[i.indexOf(d,this.panels)]}return k}function a(d){switch(d.keyCode){case x:case z:d.ctrlKey&&!d.altKey&&!d.shiftKey&&d.halt();break;case g:d.ctrlKey&&!d.altKey&&d.halt()}}function b(d){var k=
d.target,B=this.triggers,E=!d.ctrlKey&&!d.shiftKey&&!d.altKey,F=d.ctrlKey&&!d.shiftKey&&!d.altKey;switch(d.keyCode){case w:case q:if((k=v.call(this,k))&&E){this.switchTo(i.indexOf(k,this.triggers));d.halt()}break;case y:case A:if(k=v.call(this,k)){m.call(this,k);d.halt()}break;case p:case j:if(k=v.call(this,k)){e.call(this,k);d.halt()}break;case z:if(F){d.halt();k=h.call(this,k);e.call(this,k)}break;case x:if(F){d.halt();k=h.call(this,k);m.call(this,k)}break;case r:if(E){h.call(this,k);f.call(this,
0,true);d.halt()}break;case s:if(E){h.call(this,k);f.call(this,B.length-1,true);d.halt()}break;case g:if(d.ctrlKey&&!d.altKey){d.halt();k=h.call(this,k);d.shiftKey?m.call(this,k):e.call(this,k)}}}function f(d,k){var B=this.triggers,E=B[d];i.each(B,function(F){if(F!==E){C(F,"-1");c.removeClass(F,"ks-switchable-select");F.setAttribute("aria-selected","false")}});k&&E.focus();C(E,"0");c.addClass(E,"ks-switchable-select");E.setAttribute("aria-selected","true")}function m(d){var k=this.triggers;d=i.indexOf(d,
k);f.call(this,d==0?k.length-1:d-1,true)}function e(d){var k=this.triggers;d=i.indexOf(d,k);f.call(this,d==k.length-1?0:d+1,true)}function n(d){var k=!!d.originalEvent.target;d=d.currentIndex;var B=this.panels,E=this.triggers,F=E[d],G=B[d];if(!this.config.multiple){i.each(B,function(D){D!==G&&D.setAttribute("aria-hidden","true")});i.each(E,function(D){D!==F&&D.setAttribute("aria-hidden","true")})}B=G.getAttribute("aria-hidden");G.setAttribute("aria-hidden",B=="false"?"true":"false");F.setAttribute("aria-expanded",
B=="false"?"false":"true");f.call(this,d,k)}var x=33,z=34,s=35,r=36,y=37,A=38,p=39,j=40,g=9,q=32,w=13;i.mix(l.Config,{aria:true});l.Plugins.push({name:"aria",init:function(d){if(d.config.aria){var k=d.container,B=d.activeIndex;c.attr(k,"aria-multiselectable",d.config.multiple?"true":"false");d.nav&&c.attr(d.nav,"role","tablist");var E=d.triggers,F=d.panels,G=0;i.each(F,function(D){if(!D.id)D.id=i.guid("ks-accordion-tab-panel")});i.each(E,function(D){if(!D.id)D.id=i.guid("ks-accordion-tab")});i.each(E,
function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded",B==G?"true":"false");D.setAttribute("aria-selected",B==G?"true":"false");D.setAttribute("aria-controls",F[G].id);C(D,B==G?"0":"-1");G++});G=0;i.each(F,function(D){var H=E[G];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden",B==G?"false":"true");D.setAttribute("aria-labelledby",H.id);G++});d.on("switch",n,d);o.on(k,"keydown",b,d);o.on(k,"keypress",a,d)}}});var C=u.setTabIndex},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/autoplay",function(i,c,o,u){i.mix(o.Config,{autoplay:false,interval:5,pauseOnHover:true});o.Plugins.push({name:"autoplay",init:function(l){function v(){a=i.later(function(){l.paused||l.switchTo(l.activeIndex<l.length-1?l.activeIndex+1:0,"forward")},h,true)}var t=l.config,h=t.interval*1E3,a;if(t.autoplay){if(t.pauseOnHover){c.on(l.container,"mouseenter",l.stop,l);c.on(l.container,"mouseleave",l.start,l)}v();l.stop=function(){if(a){a.cancel();a=u}l.paused=true};l.start=function(){if(a){a.cancel();
a=u}l.paused=false;v()}}}});return o},{requires:["event","./base"]});KISSY.add("switchable/autorender",function(i,c,o,u){u.autoRender=function(l,v){l="."+(l||"KS_Widget");c.query(l,v).each(function(t){var h=t.getAttribute("data-widget-type"),a;if(h&&"Switchable Tabs Slide Carousel Accordion".indexOf(h)>-1)try{if(a=t.getAttribute("data-widget-config"))a=a.replace(/'/g,'"');new i[h](t,o.parse(a))}catch(b){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/carousel/base",function(i,c,o,u,l){function v(h,a){if(!(this instanceof v))return new v(h,a);v.superclass.constructor.apply(this,arguments)}var t={originalEvent:{target:1}};v.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};v.Plugins=[];i.extend(v,u,{_init:function(){var h=this;v.superclass._init.call(h);var a=h.config,b=a.disableBtnCls;i.each(["prev","next"],function(f){var m=h[f+"Btn"]=
c.get("."+a[f+"BtnCls"],h.container);o.on(m,"mousedown",function(e){e.preventDefault();c.hasClass(m,b)||h[f](t)})});a.circular||h.on("switch",function(f){f=f.currentIndex;f=f===0?h.prevBtn:f===h.length-1?h.nextBtn:l;c.removeClass([h.prevBtn,h.nextBtn],b);f&&c.addClass(f,b)});o.on(h.panels,"click",function(){h.fire("itemSelected",{item:this})})}});return v},{requires:["dom","event","../base"]});
KISSY.add("switchable/carousel/aria",function(i,c,o,u,l){function v(j){var g=j.currentIndex,q=this.activeIndex,w=this.panels,C=w[g*this.config.steps],d=this.triggers;g=d[g];if((j=!!j.originalEvent.target)||q==-1){i.each(d,function(k){r(k,-1)});i.each(w,function(k){r(k,-1)});g&&r(g,0);r(C,0);j&&C.focus()}}function t(j){var g;i.each(this.triggers,function(q){if(q==j||c.contains(q,j)){g=q;return false}});return g}function h(j){var g=j.target;switch(j.keyCode){case x:case n:if(g=t.call(this,g)){g=g;var q=
c.next(g),w=this.triggers;q||(q=w[0]);r(g,-1);if(q){r(q,0);q.focus()}j.halt()}break;case e:case m:if(g=t.call(this,g)){g=g;q=c.prev(g);w=this.triggers;q||(q=w[w.length-1]);r(g,-1);if(q){r(q,0);q.focus()}j.halt()}break;case s:case z:if(g=t.call(this,g)){this.switchTo(i.indexOf(g,this.triggers),undefined,y);j.halt()}}}function a(j){var g;i.each(this.panels,function(q){if(q==j||c.contains(q,j)){g=q;return false}});return g}function b(j,g){var q=i.indexOf(j,this.panels),w=this.config.steps,C=Math.floor(q/
w);if(C==this.activeIndex)return 1;if(q%w==0||q%w==w-1){this.switchTo(C,g,y);return 0}return 1}function f(j){var g=j.target;switch(j.keyCode){case x:case n:if(g=a.call(this,g)){g=g;var q=c.next(g),w=this.panels;q||(q=w[0]);r(g,-1);r(q,0);b.call(this,q,A)&&q.focus();j.halt()}break;case e:case m:if(g=a.call(this,g)){g=g;q=c.prev(g);w=this.panels;q||(q=w[w.length-1]);r(g,-1);r(q,0);b.call(this,q,p)&&q.focus();j.halt()}break;case s:case z:if(g=a.call(this,g)){this.fire("itemSelected",{item:g});j.halt()}}}
var m=37,e=38,n=39,x=40,z=32,s=13,r=u.setTabIndex,y={originalEvent:{target:1}},A="forward",p="backward";i.mix(l.Config,{aria:true});l.Plugins.push({name:"aria",init:function(j){if(j.config.aria){var g=j.triggers,q=j.panels,w=j.content,C=j.activeIndex;if(!w.id)w.id=i.guid("ks-switchbale-content");w.setAttribute("role","listbox");var d=0;i.each(g,function(k){r(k,C==d?"0":"-1");k.setAttribute("role","button");k.setAttribute("aria-controls",w.id);d++});d=0;i.each(q,function(k){r(k,"-1");k.setAttribute("role",
"option");d++});j.on("switch",v,j);(g=j.nav)&&o.on(g,"keydown",h,j);o.on(w,"keydown",f,j);g=j.prevBtn;q=j.nextBtn;if(g){r(g,0);g.setAttribute("role","button");o.on(g,"keydown",function(k){if(k.keyCode==s||k.keyCode==z){j.prev(y);k.preventDefault()}})}if(q){r(q,0);q.setAttribute("role","button");o.on(q,"keydown",function(k){if(k.keyCode==s||k.keyCode==z){j.next(y);k.preventDefault()}})}}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/effect",function(i,c,o,u,l,v){var t;i.mix(l.Config,{effect:"none",duration:0.5,easing:"easeNone",nativeAnim:true});l.Effects={none:function(h,a,b){h&&c.css(h,"display","none");c.css(a,"display","block");b&&b()},fade:function(h,a,b){h&&h.length!==1&&i.error("fade effect only supports steps == 1.");var f=this,m=f.config,e=h?h[0]:null,n=a[0];if(f.anim){f.anim.stop();c.css(f.anim.fromEl,{zIndex:1,opacity:0});c.css(f.anim.toEl,"zIndex",9)}c.css(n,"opacity",1);if(e){f.anim=(new u(e,
{opacity:0},m.duration,m.easing,function(){f.anim=v;c.css(n,"z-index",9);c.css(e,"z-index",1);b&&b()},m.nativeAnim)).run();f.anim.toEl=n;f.anim.fromEl=e}else{c.css(n,"z-index",9);b&&b()}},scroll:function(h,a,b,f){var m=this;a=m.config;var e=a.effect==="scrollx",n={};n[e?"left":"top"]=-(m.viewSize[e?0:1]*f)+"px";m.anim&&m.anim.stop();if(h)m.anim=(new u(m.content,n,a.duration,a.easing,function(){m.anim=v;b&&b()},a.nativeAnim)).run();else{c.css(m.content,n);b&&b()}}};t=l.Effects;t.scrollx=t.scrolly=
t.scroll;l.Plugins.push({name:"effect",init:function(h){var a=h.config,b=a.effect,f=h.panels,m=h.content,e=a.steps,n=h.activeIndex,x=f.length;h.viewSize=[a.viewSize[0]||f[0].offsetWidth*e,a.viewSize[1]||f[0].offsetHeight*e];if(b!=="none"){c.css(f,"display","block");switch(b){case "scrollx":case "scrolly":c.css(m,"position","absolute");c.css(m.parentNode,"position")=="static"&&c.css(m.parentNode,"position","relative");if(b==="scrollx"){c.css(f,"float","left");c.width(m,h.viewSize[0]*(x/e))}break;case "fade":var z=
n*e,s=z+e-1,r;i.each(f,function(y,A){r=A>=z&&A<=s;c.css(y,{opacity:r?1:0,position:"absolute",zIndex:r?9:1})})}}}});i.augment(l,{_switchView:function(h,a,b,f,m,e){var n=this,x=n.config.effect;(i.isFunction(x)?x:t[x]).call(n,h,a,function(){n._fireOnSwitch(b,m);e&&e.call(n)},b,f)}});return l},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/circular",function(i,c,o,u){function l(s,r,y,A,p){var j=this;r=j.config;var g=j.length,q=j.activeIndex,w=r.scrollType===z,C=w?b:f,d=j.viewSize[w?0:1];w=-d*A;var k={},B,E=p===x;if(B=E&&q===0&&A===g-1||p===n&&q===g-1&&A===0)w=v.call(j,j.panels,A,E,C,d);k[C]=w+e;j.anim&&j.anim.stop();if(s)j.anim=(new o(j.content,k,r.duration,r.easing,function(){B&&t.call(j,j.panels,A,E,C,d);j.anim=undefined;y&&y()},r.nativeAnim)).run();else{c.css(j.content,k);y&&y()}}function v(s,r,y,A,p){var j=
this.config.steps;r=this.length;var g=y?r-1:0;s=s.slice(g*j,(g+1)*j);c.css(s,h,a);c.css(s,A,(y?-1:1)*p*r);return y?p:-p*r}function t(s,r,y,A,p){var j=this.config.steps;r=this.length;var g=y?r-1:0;s=s.slice(g*j,(g+1)*j);c.css(s,h,m);c.css(s,A,m);c.css(this.content,A,y?-p*(r-1):m)}var h="position",a="relative",b="left",f="top",m="",e="px",n="forward",x="backward",z="scrollx";i.mix(u.Config,{circular:false});u.Plugins.push({name:"circular",init:function(s){s=s.config;if(s.circular&&(s.effect===z||s.effect===
"scrolly")){s.scrollType=s.effect;s.effect=l}}})},{requires:["dom","anim","./base","./effect"]});
KISSY.add("switchable/countdown",function(i,c,o,u,l,v){i.mix(l.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});l.Plugins.push({name:"countdown",init:function(t){function h(s){a();z=(new u(e[s],x,m-1)).run()}function a(){if(f){clearTimeout(f);f=null}if(z){z.stop();z=v}}var b=t.config,f,m=b.interval,e=[],n=b.countdownFromStyle,x=b.countdownToStyle,z;if(!(!b.autoplay||!b.hasTriggers||!b.countdown)){i.each(t.triggers,function(s,r){s.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
s.innerHTML+"</div>";e[r]=s.firstChild});if(b.pauseOnHover){o.on(t.container,"mouseenter",function(){a();var s=e[t.activeIndex];if(n)z=(new u(s,n,0.2,"easeOut")).run();else c.attr(s,"style","")});o.on(t.container,"mouseleave",function(){a();var s=t.activeIndex;c.attr(e[s],"style",n);f=setTimeout(function(){h(s)},200)})}t.on("beforeSwitch",function(){a();if(e[t.activeIndex])c.attr(e[t.activeIndex],"style",n||"")});t.on("switch",function(s){t.paused||h(s.currentIndex)});t.activeIndex>-1&&h(t.activeIndex)}}});
return l},{requires:["dom","event","anim","./base"]});
KISSY.add("switchable/lazyload",function(i,c,o){var u="beforeSwitch",l="img-src",v="area-data",t={};t[l]="data-ks-lazyload-custom";t[v]="ks-datalazyload-custom";i.mix(o.Config,{lazyDataType:v});o.Plugins.push({name:"lazyload",init:function(h){function a(n){var x=f.steps;n=n.toIndex*x;b.loadCustomLazyData(h.panels.slice(n,n+x),m);a:{if(n=(x=m===l)?"img":m===v?"textarea":""){n=c.query(n,h.container);for(var z=0,s=n.length;z<s;z++){var r=n[z];if(x?c.attr(r,e):c.hasClass(r,e)){x=false;break a}}}x=true}x&&
h.detach(u,a)}var b=i.require("datalazyload"),f=h.config,m=f.lazyDataType,e=t[m];!b||!m||!e||h.on(u,a)}});return o},{requires:["dom","./base"]});KISSY.add("switchable/slide/base",function(i,c){function o(u,l){if(!(this instanceof o))return new o(u,l);o.superclass.constructor.apply(this,arguments)}o.Config={autoplay:true,circular:true};o.Plugins=[];i.extend(o,c);return o},{requires:["../base"]});
KISSY.add("switchable/slide/aria",function(i,c,o,u,l){function v(e){switch(e.keyCode){case b:case a:this.next(f);e.halt();break;case h:case t:this.prev(f);e.halt()}}var t=37,h=38,a=39,b=40;i.mix(l.Config,{aria:true});var f={originalEvent:{target:1}},m=u.setTabIndex;l.Plugins.push({name:"aria",init:function(e){if(e.config.aria){var n=e.panels,x=0,z=e.activeIndex;i.each(e.triggers,function(r){m(r,"-1");x++});x=0;i.each(n,function(r){m(r,z==x?"0":"-1");c.attr(r,"role","option");x++});var s=e.content;
c.attr(s,"role","listbox");o.on(s,"keydown",v,e);m(n[0],0);e.on("switch",function(r){var y=r.currentIndex,A=e.completedIndex;A>-1&&m(n[A],-1);m(n[y],0);r.originalEvent.target&&n[y].focus()})}}})},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/tabs/base",function(i,c){function o(u,l){if(!(this instanceof o))return new o(u,l);o.superclass.constructor.call(this,u,l);return 0}i.extend(o,c);o.Config={};o.Plugins=[];return o},{requires:["../base"]});
KISSY.add("switchable/tabs/aria",function(i,c,o,u,l){function v(p){var j;i.each(this.triggers,function(g){if(g==p||c.contains(g,p))j=g});return j}function t(p){switch(p.keyCode){case b:case f:p.ctrlKey&&!p.altKey&&!p.shiftKey&&p.halt();break;case r:p.ctrlKey&&!p.altKey&&p.halt()}}function h(p){var j=p.target,g=this.triggers,q=!p.ctrlKey&&!p.shiftKey&&!p.altKey,w=p.ctrlKey&&!p.shiftKey&&!p.altKey;switch(p.keyCode){case n:case x:if(v.call(this,j)){this.prev(y);p.halt()}break;case z:case s:if(v.call(this,
j)){this.next(y);p.halt()}break;case f:if(w){p.halt();this.next(y)}break;case b:if(w){p.halt();this.prev(y)}break;case e:if(q){this.switchTo(0,undefined,y);p.halt()}break;case m:if(q){this.switchTo(g.length-1,undefined,y);p.halt()}break;case r:if(p.ctrlKey&&!p.altKey){p.halt();p.shiftKey?this.prev(y):this.next(y)}}}function a(p){var j=!!p.originalEvent.target,g=this.completedIndex,q=p.currentIndex;if(g!=q){p=this.triggers[g];var w=this.triggers[q];g=this.panels[g];q=this.panels[q];p&&A(p,"-1");A(w,
"0");j&&w.focus();g&&g.setAttribute("aria-hidden","true");q.setAttribute("aria-hidden","false")}}var b=33,f=34,m=35,e=36,n=37,x=38,z=39,s=40,r=9,y={originalEvent:{target:1}};i.mix(l.Config,{aria:true});l.Plugins.push({name:"aria",init:function(p){if(p.config.aria){var j=p.triggers,g=p.activeIndex,q=p.panels,w=p.container;p.nav&&c.attr(p.nav,"role","tablist");var C=0;i.each(j,function(d){d.setAttribute("role","tab");A(d,g==C?"0":"-1");if(!d.id)d.id=i.guid("ks-switchable");C++});C=0;i.each(q,function(d){var k=
j[C];d.setAttribute("role","tabpanel");d.setAttribute("aria-hidden",g==C?"false":"true");d.setAttribute("aria-labelledby",k.id);C++});p.on("switch",a,p);o.on(w,"keydown",h,p);o.on(w,"keypress",t,p)}}});var A=u.setTabIndex},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable",function(i,c,o,u,l,v,t,h,a,b,f,m,e,n,x,z){i.Switchable=c;o={Accordion:u,Carousel:h,Slide:n,Tabs:z};i.mix(i,o);i.mix(c,o);return c},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base",
"switchable/tabs/aria"]});
