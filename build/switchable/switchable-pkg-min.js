/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("switchable",function(c){function h(b,a){a=a||{};if(!("markupType"in a))if(a.panelCls)a.markupType=1;else if(a.panels)a.markupType=2;for(var f=this.constructor;f;){a=c.merge(f.Config,a);f=f.superclass?f.superclass.constructor:null}this.container=j.get(b);this.config=a;this.activeIndex=this.completedIndex=a.activeIndex;if(!(this.activeIndex>-1))if(typeof a.switchTo!="number")this.completedIndex=this.activeIndex=0;this._init();this._initPlugins();this.fire(u);this.activeIndex>-1||typeof a.switchTo==
"number"&&this.switchTo(a.switchTo)}var j=c.DOM,o=c.Event,m=c.EventTarget,u="init",p={originalEvent:{target:1}};h.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",steps:1,viewSize:[]};h.Plugins=[];c.augment(h,m,{_initPlugins:function(){for(var b=this,a=b.constructor;a;){c.each(a.Plugins,
function(f){f.init&&f.init(b)});a=a.superclass?a.superclass.constructor:null}},_init:function(){var b=this.config;this._parseMarkup();b.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var b=this.container,a=this.config,f,k,e=[],l=[];switch(a.markupType){case 0:if(f=j.get("."+a.navCls,b))e=j.children(f);k=j.get("."+a.contentCls,b);l=j.children(k);break;case 1:e=j.query("."+a.triggerCls,b);l=j.query("."+a.panelCls,b);break;case 2:e=a.triggers;l=a.panels}b=l.length;this.length=b/a.steps;if(a.hasTriggers&&
b>0&&e.length===0)e=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(e);this.panels=c.makeArray(l);this.content=k||l[0].parentNode;this.nav=f||a.hasTriggers&&e[0].parentNode},_generateTriggersMarkup:function(b){var a=this.config,f=j.create("<ul>"),k,e;f.className=a.navCls;for(e=0;e<b;e++){k=j.create("<li>");if(e===this.activeIndex)k.className=a.activeTriggerCls;k.innerHTML=e+1;f.appendChild(k)}this.container.appendChild(f);return j.children(f)},_bindTriggers:function(){var b=this,
a=b.config,f=b.triggers,k,e,l=f.length;for(e=0;e<l;e++)(function(q){k=f[q];o.on(k,"click",function(){b._onFocusTrigger(q)});if(a.triggerType==="mouse"){o.on(k,"mouseenter",function(){b._onMouseEnterTrigger(q)});o.on(k,"mouseleave",function(){b._onMouseLeaveTrigger(q)})}})(e)},_onFocusTrigger:function(b){if(this._triggerIsValid(b)){this._cancelSwitchTimer();this.switchTo(b,undefined,p)}},_onMouseEnterTrigger:function(b){var a=this;if(a._triggerIsValid(b))a.switchTimer=c.later(function(){a.switchTo(b,
undefined,p)},a.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(b){return this.activeIndex!==b},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=undefined}},switchTo:function(b,a,f,k){var e=this,l=e.config,q=e.triggers,y=e.panels,x=e.activeIndex,r=l.steps,s=x*r,z=b*r;if(!e._triggerIsValid(b))return e;if(e.fire("beforeSwitch",{toIndex:b})===false)return e;if(l.hasTriggers)e._switchTrigger(x>-1?q[x]:
null,q[b]);if(a===undefined)a=b>x?"forward":"backward";e._switchView(x>-1?y.slice(s,s+r):null,y.slice(z,z+r),b,a,f,function(){k&&k.call(e,b);e.completedIndex=b});e.activeIndex=b;return e},_switchTrigger:function(b,a){var f=this.config.activeTriggerCls;b&&j.removeClass(b,f);j.addClass(a,f)},_switchView:function(b,a,f,k,e,l){b&&j.css(b,"display","none");j.css(a,"display","block");this._fireOnSwitch(f,e);l&&l.call(this)},_fireOnSwitch:function(b,a){this.fire("switch",c.mix(a||{},{currentIndex:b}))},
prev:function(b){var a=this.activeIndex;this.switchTo(a>0?a-1:this.length-1,"backward",b)},next:function(b){var a=this.activeIndex;this.switchTo(a<this.length-1?a+1:0,"forward",b)}});return c.Switchable=h});
KISSY.add("switchable/aria",function(c,h,j,o){function m(){this.stop&&this.stop()}function u(){this.start&&this.start()}h=c.DOM;j=c.Event;o=c.Switchable;var p=!document.documentElement.hasAttribute?function(a,f){f=f.toLowerCase();var k=h.get(a).getAttributeNode(f);return!!(k&&k.specified)}:function(a,f){f=f.toLowerCase();return h.get(a).hasAttribute(f)};o.Plugins.push({name:"aria",init:function(a){if(a.config.aria){var f=a.container;j.on(f,"focusin",m,a);j.on(f,"focusout",u,a)}}});var b=["a","input",
"button","object"];o.Aria={setTabIndex:function(a,f){a.tabIndex=f;h.query("*",a).each(function(k){var e=k.nodeName.toLowerCase();if(c.inArray(e,b)){p(k,"oriTabIndex")||h.attr(k,"oriTabIndex",k.tabIndex);k.tabIndex=f!=-1?h.attr(k,"oriTabIndex"):f}})}}});
KISSY.add("switchable/accordion/base",function(c,h,j){function o(m,u){if(!(this instanceof o))return new o(m,u);o.superclass.constructor.apply(this,arguments);return 0}j=c.Switchable;h=c.DOM;c.extend(o,j,{_switchTrigger:function(m,u){var p=this.config;p.multiple?h.toggleClass(u,p.activeTriggerCls):o.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(m){return o.superclass._triggerIsValid.call(this,m)||this.config.multiple},_switchView:function(m,u,p,b,a,f){var k=u[0];if(this.config.multiple){h.toggle(k);
this._fireOnSwitch(p,a);f.call(this)}else o.superclass._switchView.apply(this,arguments)}});o.Plugins=[];o.Config={markupType:1,triggerType:"click",multiple:false};return c.Accordion=o});
KISSY.add("switchable/accordion/aria",function(c,h,j){function o(i){var v;c.each(this.triggers,function(B){if(B==i||l.contains(B,i))v=B});return v}function m(i){switch(i.keyCode){case q:case y:i.ctrlKey&&!i.altKey&&!i.shiftKey&&i.halt();break;case g:i.ctrlKey&&!i.altKey&&i.halt()}}function u(i){var v=i.target,B=this.triggers,C=!i.ctrlKey&&!i.shiftKey&&!i.altKey,E=i.ctrlKey&&!i.shiftKey&&!i.altKey;switch(i.keyCode){case A:case t:if(o.call(this,v)&&C){this.switchTo(this.focusIndex);i.halt()}break;case s:case z:if(o.call(this,
v)){b.call(this);i.halt()}break;case n:case d:if(o.call(this,v)){a.call(this);i.halt()}break;case y:if(E){i.halt();a.call(this)}break;case q:if(E){i.halt();b.call(this)}break;case r:if(C){v=this.focusIndex;this.focusIndex=0;p.call(this,v,0,true);i.halt()}break;case x:if(C){v=B.length-1;B=this.focusIndex;this.focusIndex=v;p.call(this,B,v,true);i.halt()}break;case g:if(i.ctrlKey&&!i.altKey){i.halt();i.shiftKey?b.call(this):a.call(this)}}}function p(i,v,B){var C=this.triggers;if(typeof i=="number")var E=
C[i];i=C[v];if(E){w(E,"-1");l.removeClass(E,k);E.setAttribute("aria-selected","false")}B&&i.focus();w(i,"0");l.addClass(i,k);i.setAttribute("aria-selected","true")}function b(){var i=this.triggers,v=this.focusIndex;i=this.focusIndex=v==0?i.length-1:v-1;p.call(this,v,i,true)}function a(){var i=this.focusIndex,v=this.focusIndex=i==this.triggers.length-1?0:i+1;p.call(this,i,v,true)}function f(i){var v=!!i.originalEvent.target,B=this.config.multiple,C=this.completedIndex;i=i.currentIndex;var E=this.triggers[i],
F=this.panels[i];if(C>-1){var D=this.triggers[C];C=this.panels[C];w(D,"-1");v&&E.focus();if(!B){C.setAttribute("aria-hidden","true");D.setAttribute("aria-expanded","false")}}w(E,"0");v=F.getAttribute("aria-hidden");F.setAttribute("aria-hidden",v=="false"?"true":"false");E.setAttribute("aria-expanded",v=="false"?"false":"true");p.call(this,this.focusIndex,i);this.focusIndex=i}h=c.Switchable.Aria;j=c.Accordion;var k="ks-switchable-select",e=c.Event,l=c.DOM,q=33,y=34,x=35,r=36,s=37,z=38,n=39,d=40,g=
9,t=32,A=13;c.mix(j.Config,{aria:false});j.Plugins.push({name:"aria",init:function(i){if(i.config.aria){var v=i.container,B=i.activeIndex;l.attr(v,"aria-multiselectable",i.config.multiple?"true":"false");l.attr(v,"role","tablist");var C=i.triggers,E=i.panels,F=0;c.each(E,function(D){if(!D.id)D.id=c.guid("ks-switchable-tab-panel")});c.each(C,function(D){if(!D.id)D.id=c.guid("ks-switchable-tab")});c.each(C,function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded",B==F?"true":"false");
D.setAttribute("aria-selected",B==F?"true":"false");D.setAttribute("aria-controls",E[F].id);w(D,B==F?"0":"-1");F++});F=0;c.each(E,function(D){var G=C[F];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden",B==F?"false":"true");D.setAttribute("aria-labelledby",G.id);F++});i.on("switch",f,i);if(B>-1)i.focusIndex=B;e.on(v,"keydown",u,i);e.on(v,"keypress",m,i)}}});var w=h.setTabIndex});
KISSY.add("switchable/autoplay",function(c,h,j,o){h=c.Event;j=c.Switchable;c.mix(j.Config,{autoplay:false,interval:5,pauseOnHover:true});j.Plugins.push({name:"autoplay",init:function(m){function u(){a=c.later(function(){m.paused||m.switchTo(m.activeIndex<m.length-1?m.activeIndex+1:0,"forward")},b,true)}var p=m.config,b=p.interval*1E3,a;if(p.autoplay){if(p.pauseOnHover){h.on(m.container,"mouseenter",function(){m.stop()});h.on(m.container,"mouseleave",function(){m.start()})}u();m.stop=function(){if(a){a.cancel();
a=o}m.paused=true};m.start=function(){if(a){a.cancel();a=o}m.paused=false;u()}}}});return j});KISSY.add("switchable/autorender",function(c,h,j,o){h=c.DOM;j=c.JSON;o=c.Switchable;o.autoRender=function(m,u){m="."+(m||"KS_Widget");h.query(m,u).each(function(p){var b=p.getAttribute("data-widget-type"),a;if(b&&"Switchable Tabs Slide Carousel Accordion".indexOf(b)>-1)try{if(a=p.getAttribute("data-widget-config"))a=a.replace(/'/g,'"');new c[b](p,j.parse(a))}catch(f){}})}});
KISSY.add("switchable/carousel/base",function(c,h,j,o,m){function u(b,a){if(!(this instanceof u))return new u(b,a);u.superclass.constructor.apply(this,arguments)}o=c.Switchable;h=c.DOM;j=c.Event;var p={originalEvent:{target:1}};u.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};u.Plugins=[];c.extend(u,o,{_init:function(){var b=this;u.superclass._init.call(b);var a=b.config,f=a.disableBtnCls,k=false;c.each(["prev",
"next"],function(e){var l=b[e+"Btn"]=h.get("."+a[e+"BtnCls"],b.container);l&&j.on(l,"click",function(q){q.preventDefault();k||h.hasClass(l,f)||b[e](p)})});if(!a.circular){b.on("beforeSwitch",function(){k=true});b.on("switch",function(e){e=e.currentIndex;e=e===0?b.prevBtn:e===b.length-1?b.nextBtn:m;h.removeClass([b.prevBtn,b.nextBtn],f);e&&h.addClass(e,f);k=false})}j.on(b.panels,"click",function(){b.fire("itemSelected",{item:this})})}});return c.Carousel=u});
KISSY.add("switchable/carousel/aria",function(c,h,j,o,m){function u(n){var d=n.currentIndex,g=this.completedIndex,t=this.panels,A=t[d*this.config.steps],w=this.triggers;d=w[d];if((n=!!n.originalEvent.target)||g==-1){c.each(w,function(i){s(i,-1)});c.each(t,function(i){s(i,-1)});d&&s(d,0);s(A,0);n&&A.focus()}}function p(n){var d;c.each(this.triggers,function(g){if(g==n||h.contains(g,n)){d=g;return false}});return d}function b(n){var d=n.target;switch(n.keyCode){case y:case q:if(d=p.call(this,d)){d=
d;var g=h.next(d),t=this.triggers;g||(g=t[0]);s(d,-1);if(g){s(g,0);g.focus()}n.halt()}break;case l:case e:if(d=p.call(this,d)){d=d;g=h.prev(d);t=this.triggers;g||(g=t[t.length-1]);s(d,-1);if(g){s(g,0);g.focus()}n.halt()}break;case r:case x:if(d=p.call(this,d)){this.switchTo(c.indexOf(d,this.triggers),undefined,z);n.halt()}}}function a(n){var d;c.each(this.panels,function(g){if(g==n||h.contains(g,n)){d=g;return false}});return d}function f(n){var d=c.indexOf(n,this.panels),g=this.config.steps,t=Math.floor(d/
g);if(t==this.activeIndex)return 1;if(d%g==0||d%g==g-1){this.switchTo(t,undefined,undefined,function(){n.focus()});return 0}return 1}function k(n){var d=n.target;switch(n.keyCode){case y:case q:if(d=a.call(this,d)){d=d;var g=h.next(d),t=this.panels;g||(g=t[0]);s(d,-1);s(g,0);f.call(this,g)&&g.focus();n.halt()}break;case l:case e:if(d=a.call(this,d)){d=d;g=h.prev(d);t=this.panels;g||(g=t[t.length-1]);s(d,-1);s(g,0);f.call(this,g)&&g.focus();n.halt()}break;case r:case x:if(d=a.call(this,d)){this.fire("itemSelected",
{item:d});n.halt()}}}h=c.DOM;j=c.Event;o=c.Switchable.Aria;m=c.Carousel;var e=37,l=38,q=39,y=40,x=32,r=13,s=o.setTabIndex,z={originalEvent:{target:1}};c.mix(m.Config,{aria:false});m.Plugins.push({name:"aria",init:function(n){if(n.config.aria){var d=n.triggers,g=n.panels,t=n.content,A=n.activeIndex;if(!t.id)t.id=c.guid("ks-switchbale-content");t.setAttribute("role","listbox");c.each(d,function(w){s(w,A==0?"0":"-1");w.setAttribute("role","button");w.setAttribute("aria-controls",t.id)});c.each(g,function(w){s(w,
-1);w.setAttribute("role","option")});n.on("switch",u,n);(d=n.nav)&&j.on(d,"keydown",b,n);j.on(t,"keydown",k,n);d=n.prevBtn;g=n.nextBtn;if(d){s(d,0);d.setAttribute("role","button");j.on(d,"keydown",function(w){if(w.keyCode==r||w.keyCode==x){n.prev(z);w.preventDefault()}})}if(g){s(g,0);g.setAttribute("role","button");j.on(g,"keydown",function(w){if(w.keyCode==r||w.keyCode==x){n.next(z);w.preventDefault()}})}}}})});
KISSY.add("switchable/effect",function(c,h,j,o,m,u){h=c.DOM;o=c.Anim;m=c.Switchable;var p;c.mix(m.Config,{effect:"none",duration:0.5,easing:"easeNone",nativeAnim:true});m.Effects={none:function(b,a,f){b&&h.css(b,"display","none");h.css(a,"display","block");f()},fade:function(b,a,f){b&&b.length!==1&&c.error("fade effect only supports steps == 1.");var k=this,e=k.config,l=b?b[0]:null,q=a[0];if(k.anim){k.anim.stop();h.css(k.anim.fromEl,{zIndex:1,opacity:0});h.css(k.anim.toEl,{zIndex:9})}h.css(q,"opacity",
1);if(l){k.anim=(new o(l,{opacity:0},e.duration,e.easing,function(){k.anim=u;h.css(q,"z-index",9);h.css(l,"z-index",1);f&&f()},e.nativeAnim)).run();k.anim.toEl=q;k.anim.fromEl=l}else{h.css(q,"z-index",9);f&&f()}},scroll:function(b,a,f,k){var e=this;a=e.config;var l=a.effect==="scrollx",q={};q[l?"left":"top"]=-(e.viewSize[l?0:1]*k)+"px";e.anim&&e.anim.stop();if(b)e.anim=(new o(e.content,q,a.duration,a.easing,function(){e.anim=u;f&&f()},a.nativeAnim)).run();else{h.css(e.content,q);f&&f()}}};p=m.Effects;
p.scrollx=p.scrolly=p.scroll;m.Plugins.push({name:"effect",init:function(b){var a=b.config,f=a.effect,k=b.panels,e=b.content,l=a.steps,q=b.activeIndex,y=k.length;b.viewSize=[a.viewSize[0]||k[0].offsetWidth*l,a.viewSize[1]||k[0].offsetHeight*l];if(f!=="none"){c.each(k,function(z){h.css(z,"display","block")});switch(f){case "scrollx":case "scrolly":h.css(e,"position","absolute");h.css(e.parentNode,"position","relative");if(f==="scrollx"){h.css(k,"float","left");h.width(e,b.viewSize[0]*(y/l))}break;
case "fade":var x=q*l,r=x+l-1,s;c.each(k,function(z,n){s=n>=x&&n<=r;h.css(z,{opacity:s?1:0,position:"absolute",zIndex:s?9:1})})}}}});c.augment(m,{_switchView:function(b,a,f,k,e,l){var q=this,y=q.config.effect;(c.isFunction(y)?y:p[y]).call(q,b,a,function(){q._fireOnSwitch(f,e);l&&l.call(q)},f,k)}});return m});
KISSY.add("switchable/circular",function(c,h,j,o){function m(r,s,z,n,d){var g=this;r=g.config;s=g.length;var t=g.activeIndex,A=r.scrollType===x,w=A?f:k,i=g.viewSize[A?0:1];A=-i*n;var v={},B,C=d===y;if(B=C&&t===0&&n===s-1||d===q&&t===s-1&&n===0)A=u.call(g,g.panels,n,C,w,i);v[w]=A+l;g.anim&&g.anim.stop();g.anim=(new j(g.content,v,r.duration,r.easing,function(){B&&p.call(g,g.panels,n,C,w,i);g.anim=undefined;z()},r.nativeAnim)).run()}function u(r,s,z,n,d){var g=this.config.steps;s=this.length;var t=z?
s-1:0,A=(t+1)*g;for(g=t*g;g<A;g++){h.css(r[g],b,a);h.css(r[g],n,(z?-1:1)*d*s)}return z?d:-d*s}function p(r,s,z,n,d){var g=this.config.steps;s=this.length;var t=z?s-1:0,A=(t+1)*g;for(g=t*g;g<A;g++){h.css(r[g],b,e);h.css(r[g],n,e)}h.css(this.content,n,z?-d*(s-1):e)}h=c.DOM;j=c.Anim;o=c.Switchable;var b="position",a="relative",f="left",k="top",e="",l="px",q="forward",y="backward",x="scrollx";c.mix(o.Config,{circular:false});o.Plugins.push({name:"circular",init:function(r){r=r.config;if(r.circular&&(r.effect===
x||r.effect==="scrolly")){r.scrollType=r.effect;r.effect=m}}})});
KISSY.add("switchable/countdown",function(c,h,j,o,m,u){h=c.DOM;j=c.Event;o=c.Anim;m=c.Switchable;c.mix(m.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});m.Plugins.push({name:"countdown",init:function(p){function b(r){a();x=(new o(l[r],y,e-1)).run()}function a(){if(k){clearTimeout(k);k=null}if(x){x.stop();x=u}}var f=p.config,k,e=f.interval,l=[],q=f.countdownFromStyle,y=f.countdownToStyle,x;if(!(!f.autoplay||!f.hasTriggers||!f.countdown)){c.each(p.triggers,function(r,s){r.innerHTML=
'<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+r.innerHTML+"</div>";l[s]=r.firstChild});if(f.pauseOnHover){j.on(p.container,"mouseenter",function(){a();var r=l[p.activeIndex];if(q)x=(new o(r,q,0.2,"easeOut")).run();else h.removeAttr(r,"style")});j.on(p.container,"mouseleave",function(){a();var r=p.activeIndex;h.removeAttr(l[r],"style");k=setTimeout(function(){b(r)},200)})}p.on("beforeSwitch",function(){a();if(p.activeIndex>-1)h.attr(l[p.activeIndex],"style",
q||"")});p.on("switch",function(r){p.paused||b(r.currentIndex)})}}});return m});
KISSY.add("switchable/lazyload",function(c,h,j){h=c.DOM;j=c.Switchable;var o="beforeSwitch",m="img-src",u="area-data",p={};p[m]="data-ks-lazyload-custom";p[u]="ks-datalazyload-custom";c.mix(j.Config,{lazyDataType:u});j.Plugins.push({name:"lazyload",init:function(b){function a(q){var y=k.steps;q=q.toIndex*y;f.loadCustomLazyData(b.panels.slice(q,q+y),e);a:{var x,r;if(q=(y=e===m)?"img":e===u?"textarea":""){q=h.query(q,b.container);x=0;for(r=q.length;x<r;x++)if(y?h.attr(q[x],l):h.hasClass(q[x],l)){y=
false;break a}}y=true}y&&b.detach(o,a)}var f=c.DataLazyload,k=b.config,e=k.lazyDataType,l=p[e];!f||!e||!l||b.on(o,a)}});return j});KISSY.add("switchable/slide/base",function(c,h){function j(o,m){if(!(this instanceof j))return new j(o,m);j.superclass.constructor.apply(this,arguments);return 0}h=c.Switchable;j.Config={autoplay:true,circular:true};j.Plugins=[];c.extend(j,h);return c.Slide=j});
KISSY.add("switchable/slide/aria",function(c,h,j,o,m){function u(l){switch(l.keyCode){case f:case a:this.next(k);l.halt();break;case b:case p:this.prev(k);l.halt()}}o=c.Switchable;h=c.DOM;j=c.Event;o=o.Aria;m=c.Slide;var p=37,b=38,a=39,f=40;c.mix(m.Config,{aria:true});var k={originalEvent:{target:1}},e=o.setTabIndex;m.Plugins.push({name:"aria",init:function(l){if(l.config.aria){var q=l.panels,y=0,x=l.activeIndex;c.each(l.triggers,function(s){e(s,"-1");y++});y=0;c.each(q,function(s){e(s,x==y?"0":"-1");
h.attr(s,"role","option");y++});var r=l.content;h.attr(r,"role","listbox");j.on(r,"keydown",u,l);e(q[0],0);l.on("switch",function(s){var z=s.currentIndex,n=l.completedIndex;n>-1&&e(q[n],-1);e(q[z],0);s.originalEvent.target&&q[z].focus()})}}})});KISSY.add("switchable/tabs/base",function(c,h){function j(o,m){if(!(this instanceof j))return new j(o,m);j.superclass.constructor.call(this,o,m);return 0}h=c.Switchable;c.extend(j,h);j.Config={};j.Plugins=[];return c.Tabs=j});
KISSY.add("switchable/tabs/aria",function(c,h,j){function o(d){var g;c.each(this.triggers,function(t){if(t==d||a.contains(t,d))g=t});return g}function m(d){switch(d.keyCode){case f:case k:d.ctrlKey&&!d.altKey&&!d.shiftKey&&d.halt();break;case s:d.ctrlKey&&!d.altKey&&d.halt()}}function u(d){var g=d.target,t=this.triggers,A=!d.ctrlKey&&!d.shiftKey&&!d.altKey,w=d.ctrlKey&&!d.shiftKey&&!d.altKey;switch(d.keyCode){case q:case y:if(o.call(this,g)){this.prev(z);d.halt()}break;case x:case r:if(o.call(this,
g)){this.next(d);d.halt()}break;case k:if(w){d.halt();this.next(z)}break;case f:if(w){d.halt();this.prev(z)}break;case l:if(A){this.switchTo(0,undefined,z);d.halt()}break;case e:if(A){this.switchTo(t.length-1,undefined,z);d.halt()}break;case s:if(d.ctrlKey&&!d.altKey){d.halt();d.shiftKey?this.prev(z):this.next(z)}}}function p(d){var g=!!d.originalEvent.target,t=this.completedIndex,A=d.currentIndex;if(t!=A){d=this.triggers[t];var w=this.triggers[A];t=this.panels[t];A=this.panels[A];d&&n(d,"-1");n(w,
"0");g&&w.focus();t&&t.setAttribute("aria-hidden","true");A.setAttribute("aria-hidden","false")}}h=c.Switchable.Aria;j=c.Tabs;var b=c.Event,a=c.DOM,f=33,k=34,e=35,l=36,q=37,y=38,x=39,r=40,s=9,z={originalEvent:{target:1}};c.mix(j.Config,{aria:false});j.Plugins.push({name:"aria",init:function(d){if(d.config.aria){var g=d.triggers,t=d.activeIndex,A=d.panels,w=d.container;d.nav&&a.attr(d.nav,"role","tablist");var i=0;c.each(g,function(v){v.setAttribute("role","tab");n(v,t==i?"0":"-1");if(!v.id)v.id=c.guid("ks-switchable");
i++});i=0;c.each(A,function(v){var B=g[i];v.setAttribute("role","tabpanel");v.setAttribute("aria-hidden",t==i?"false":"true");v.setAttribute("aria-labelledby",B.id);i++});d.on("switch",p,d);b.on(w,"keydown",u,d);b.on(w,"keypress",m,d)}}});var n=h.setTabIndex});
